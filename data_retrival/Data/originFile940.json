{"items":[{"tags":["java","oop"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666473657,"post_id":74167048,"comment_id":130946978,"body_markdown":"*&quot;I tried adding a default method interactWith(A other) in both the interface and the B class but it never gets called.&quot;* - Are you sure? Can you provide a [*Minimal reproducible example*](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"<i>&quot;I tried adding a default method interactWith(A other) in both the interface and the B class but it never gets called.&quot;</i> - Are you sure? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>Minimal reproducible example</i></a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666474274,"post_id":74167048,"comment_id":130947076,"body_markdown":"As @AlexanderIvanchenko says, you need to edit your question to include your actual code, not just a description of it.","body":"As @AlexanderIvanchenko says, you need to edit your question to include your actual code, not just a description of it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666476603,"post_id":74167048,"comment_id":130947421,"body_markdown":"Sure thing, method expecting `A` would **not** be called because you&#39;re passing an argument of type `I` (because you can safely say that all elements  in the `List&lt;I&gt;` are of type `I`). The compiler never performs *down-casting* while resolving method-calls. Therefore, `interactWith(A other)` would **not** be even taken into account as potentially applicable method.","body":"Sure thing, method expecting <code>A</code> would <b>not</b> be called because you&#39;re passing an argument of type <code>I</code> (because you can safely say that all elements  in the <code>List&lt;I&gt;</code> are of type <code>I</code>). The compiler never performs <i>down-casting</i> while resolving method-calls. Therefore, <code>interactWith(A other)</code> would <b>not</b> be even taken into account as potentially applicable method."}],"answers":[{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666473997,"creation_date":1666473997,"answer_id":74167205,"question_id":74167048,"body_markdown":"Without seeing your code, in particular how you are declaring variables and their types, I am guessing you are running into a common confusion with how Java does dispatch. You are probably expecting behavior that is known as multiple dispatch, while Java only supports single dispatch. Here&#39;s the wikipedia page about multiple dispatch, and how you can kind of emulate that behavior in Java: https://en.wikipedia.org/wiki/Multiple_dispatch#Java\r\n\r\nThe gist is that Java needs to know the static types of both the parameter and the receiver of the method call to be able to choose the more specific overload. For example:\r\n\r\n```java\r\nublic class Main {\r\n    public static void main(String[] args) {\r\n        I a = new A();  // runtime type is `A` but static type is `I`\r\n        A a2 = new A(); // both runtime and static types are `A`\r\n        I b = new B();  // runtime type is `B` but static type is `I`\r\n        B b2 = new B(); // both runtime and static types are `B`\r\n        C c = new C();\r\n        \r\n        p(b.interactWithOther(a));   // got I Main$A@4617c264\r\n        p(b.interactWithOther(a2));  // got I Main$A@36baf30c even though static type of a2 is A, b is an I, so it &quot;doesn&#39;t have&quot; the overloaded method\r\n        p(b.interactWithOther(c));   // got I Main$C@7a81197d\r\n        \r\n        p(b2.interactWithOther(a));  // got I Main$A@4617c264\r\n        p(b2.interactWithOther(a2)); // got A Main$A@36baf30c only in this case is there specific enough type information to call the specific overload\r\n        p(b2.interactWithOther(c));  // got I Main$C@7a81197d\r\n    }\r\n    \r\n    static void p(Object o) { System.out.println(o); }\r\n\r\n    static public interface I {\r\n        I interactWithOther(I other);\r\n    }\r\n    \r\n    static class A implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n    \r\n    static class B implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { System.out.print(&quot;got I &quot;); return other; }\r\n        \r\n        public A interactWithOther(A other) { System.out.print(&quot;got A &quot;); return other; }\r\n    }\r\n    \r\n    static class C implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n    \r\n    static class D implements I {\r\n        @Override\r\n        public I interactWithOther(I other) { return other; }\r\n    }\r\n}\r\n```\r\n\r\nNotice how `got A` is only printed when the static type of the receiver is `B` and the static type of the parameter is `A`, rather than `I`s.\r\n\r\nYou can play around with it here:\r\nhttps://replit.com/@anqit/NegligibleMustyDatamining#Main.java","title":"How to create polimorphic methods for interface implementation","body":"<p>Without seeing your code, in particular how you are declaring variables and their types, I am guessing you are running into a common confusion with how Java does dispatch. You are probably expecting behavior that is known as multiple dispatch, while Java only supports single dispatch. Here's the wikipedia page about multiple dispatch, and how you can kind of emulate that behavior in Java: <a href=\"https://en.wikipedia.org/wiki/Multiple_dispatch#Java\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Multiple_dispatch#Java</a></p>\n<p>The gist is that Java needs to know the static types of both the parameter and the receiver of the method call to be able to choose the more specific overload. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ublic class Main {\n    public static void main(String[] args) {\n        I a = new A();  // runtime type is `A` but static type is `I`\n        A a2 = new A(); // both runtime and static types are `A`\n        I b = new B();  // runtime type is `B` but static type is `I`\n        B b2 = new B(); // both runtime and static types are `B`\n        C c = new C();\n        \n        p(b.interactWithOther(a));   // got I Main$A@4617c264\n        p(b.interactWithOther(a2));  // got I Main$A@36baf30c even though static type of a2 is A, b is an I, so it &quot;doesn't have&quot; the overloaded method\n        p(b.interactWithOther(c));   // got I Main$C@7a81197d\n        \n        p(b2.interactWithOther(a));  // got I Main$A@4617c264\n        p(b2.interactWithOther(a2)); // got A Main$A@36baf30c only in this case is there specific enough type information to call the specific overload\n        p(b2.interactWithOther(c));  // got I Main$C@7a81197d\n    }\n    \n    static void p(Object o) { System.out.println(o); }\n\n    static public interface I {\n        I interactWithOther(I other);\n    }\n    \n    static class A implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n    \n    static class B implements I {\n        @Override\n        public I interactWithOther(I other) { System.out.print(&quot;got I &quot;); return other; }\n        \n        public A interactWithOther(A other) { System.out.print(&quot;got A &quot;); return other; }\n    }\n    \n    static class C implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n    \n    static class D implements I {\n        @Override\n        public I interactWithOther(I other) { return other; }\n    }\n}\n</code></pre>\n<p>Notice how <code>got A</code> is only printed when the static type of the receiver is <code>B</code> and the static type of the parameter is <code>A</code>, rather than <code>I</code>s.</p>\n<p>You can play around with it here:\n<a href=\"https://replit.com/@anqit/NegligibleMustyDatamining#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@anqit/NegligibleMustyDatamining#Main.java</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666475885,"creation_date":1666474861,"answer_id":74167289,"question_id":74167048,"body_markdown":"Here&#39;s a simple demonstration how polymorphic behavior is working in the situation you&#39;ve described.\r\n\r\nAccording to [Java language specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2) the compiler determines all potentially applicable methods maps the call to the most specific method:\r\n\r\n&gt; 15.12.2. Compile-Time Step 2: Determine Method Signature \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The process of determining applicability begins by determining the\r\n&gt; potentially applicable methods (&#167;15.12.2.1). Then, to ensure\r\n&gt; compatibility with the Java programming language prior to Java SE 5.0,\r\n&gt; the process continues in three phases:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;  1. The first phase **performs overload resolution without permitting boxing or unboxing conversion**, or the use of variable arity method\r\n&gt; invocation. If no applicable method is found during this phase then\r\n&gt; processing continues to the second phase.\r\n\r\n \r\n*Example:*\r\n    \r\n\r\npublic interface I {\r\n        I interactWith(I other);\r\n        default I interactWith(Foo other) {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static class Foo implements I {\r\n        @Override\r\n        public I interactWith(I other) {\r\n            System.out.println(&quot;Foo.interactWith(I other) is called&quot;);\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static class Bar implements I {\r\n        @Override\r\n        public I interactWith(I other) {\r\n            System.out.println(&quot;Bar.interactWith(I other) is called&quot;);\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public I interactWith(Foo other) {\r\n            System.out.println(&quot;Bar.interactWith(Foo other) is called&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Bar bar = new Bar();\r\n        Foo foo = new Foo();\r\n        foo.interactWith(bar); // method that expects super type `I` would be called\r\n        bar.interactWith(foo); // method that expects `Foo` as the most specific one would be called\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nFoo.interactWith(I other) is called\r\nBar.interactWith(Foo other) is called\r\n```","title":"How to create polimorphic methods for interface implementation","body":"<p>Here's a simple demonstration how polymorphic behavior is working in the situation you've described.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">Java language specification</a> the compiler determines all potentially applicable methods maps the call to the most specific method:</p>\n<blockquote>\n<p>15.12.2. Compile-Time Step 2: Determine Method Signature</p>\n<p>...</p>\n<p>The process of determining applicability begins by determining the\npotentially applicable methods (§15.12.2.1). Then, to ensure\ncompatibility with the Java programming language prior to Java SE 5.0,\nthe process continues in three phases:</p>\n<ol>\n<li>The first phase <strong>performs overload resolution without permitting boxing or unboxing conversion</strong>, or the use of variable arity method\ninvocation. If no applicable method is found during this phase then\nprocessing continues to the second phase.</li>\n</ol>\n</blockquote>\n<p><em>Example:</em></p>\n<p>public interface I {\nI interactWith(I other);\ndefault I interactWith(Foo other) {\nreturn null;\n}\n}</p>\n<pre><code>public static class Foo implements I {\n    @Override\n    public I interactWith(I other) {\n        System.out.println(&quot;Foo.interactWith(I other) is called&quot;);\n        return null;\n    }\n}\n\npublic static class Bar implements I {\n    @Override\n    public I interactWith(I other) {\n        System.out.println(&quot;Bar.interactWith(I other) is called&quot;);\n        return null;\n    }\n\n    @Override\n    public I interactWith(Foo other) {\n        System.out.println(&quot;Bar.interactWith(Foo other) is called&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Bar bar = new Bar();\n    Foo foo = new Foo();\n    foo.interactWith(bar); // method that expects super type `I` would be called\n    bar.interactWith(foo); // method that expects `Foo` as the most specific one would be called\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Foo.interactWith(I other) is called\nBar.interactWith(Foo other) is called\n</code></pre>\n"}],"owner":{"account_id":6956279,"reputation":468,"user_id":5337213,"accept_rate":80,"display_name":"Becks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74167205,"answer_count":2,"score":0,"last_activity_date":1666475885,"creation_date":1666472185,"question_id":74167048,"body_markdown":"I have an interface `I` with a method that allows it to interact with another `I`:\r\n```\r\npublic interface I {\r\n    I interactWith(I other);\r\n}\r\n```\r\nThen I have a few classes that implement this interface, let&#39;s say `A`, `B`, `C` and `D`. Some of these interact with any other in the same way, so the implementation of the method is easy. Some others interact in different ways instead depending on the type of the other object, so i.e the interaction `B`-`A` is different from `B`-`C` and `B`-`D`. The naive implementation of the method for `B` would be a mess of typechecking/`instanceof` and feels like there&#39;s a better solution, so what&#39;s the correct approach?\r\n\r\nI tried adding a default method `interactWith(A other)` in both the interface and the `B` class but it never gets called. Why is overloading not choosing the more specific method?\r\n\r\nEdit: added sample code, also available here: [https://onlinegdb.com/fakHVDDpSX][1]\r\n\r\n```\r\npublic interface I {\r\n    I interactWith(A other);\r\n    I interactWith(I other);\r\n}\r\n```\r\n```\r\npublic class B implements I {\r\n    public I interactWith(A other) {\r\n        System.out.println(&quot;I&#39;d like this to get called&quot;);\r\n    }\r\n\r\n    public I interactWith(I other) {\r\n        System.out.println(&quot;this get called even when other is of type A&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic static void main(String []args) {\r\n    List&lt;I&gt; list = Arrays.asList(new A(), new B());\r\n    list.get(1).interactWith(list.get(0));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://onlinegdb.com/fakHVDDpSX","title":"How to create polimorphic methods for interface implementation","body":"<p>I have an interface <code>I</code> with a method that allows it to interact with another <code>I</code>:</p>\n<pre><code>public interface I {\n    I interactWith(I other);\n}\n</code></pre>\n<p>Then I have a few classes that implement this interface, let's say <code>A</code>, <code>B</code>, <code>C</code> and <code>D</code>. Some of these interact with any other in the same way, so the implementation of the method is easy. Some others interact in different ways instead depending on the type of the other object, so i.e the interaction <code>B</code>-<code>A</code> is different from <code>B</code>-<code>C</code> and <code>B</code>-<code>D</code>. The naive implementation of the method for <code>B</code> would be a mess of typechecking/<code>instanceof</code> and feels like there's a better solution, so what's the correct approach?</p>\n<p>I tried adding a default method <code>interactWith(A other)</code> in both the interface and the <code>B</code> class but it never gets called. Why is overloading not choosing the more specific method?</p>\n<p>Edit: added sample code, also available here: <a href=\"https://onlinegdb.com/fakHVDDpSX\" rel=\"nofollow noreferrer\">https://onlinegdb.com/fakHVDDpSX</a></p>\n<pre><code>public interface I {\n    I interactWith(A other);\n    I interactWith(I other);\n}\n</code></pre>\n<pre><code>public class B implements I {\n    public I interactWith(A other) {\n        System.out.println(&quot;I'd like this to get called&quot;);\n    }\n\n    public I interactWith(I other) {\n        System.out.println(&quot;this get called even when other is of type A&quot;);\n    }\n}\n</code></pre>\n<pre><code>public static void main(String []args) {\n    List&lt;I&gt; list = Arrays.asList(new A(), new B());\n    list.get(1).interactWith(list.get(0));\n}\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":3531464,"reputation":16212,"user_id":8160318,"display_name":"Joe - Check out my books"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616664552,"creation_date":1616664552,"answer_id":66796526,"question_id":66794980,"body_markdown":"You can use `params._source` to calculate the `transactions` length:\r\n```json\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;tx_count&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;script&quot;: {\r\n          &quot;inline&quot;: &quot;if (params._source[&#39;transactions&#39;].size() &gt; 1) { return 1; } else { return 0; }&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n*BTW notice that it&#39;s `.size()`, not `.size`.*","title":"How to aggregate on size of nested document in ElasticSearch?","body":"<p>You can use <code>params._source</code> to calculate the <code>transactions</code> length:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;tx_count&quot;: {\n      &quot;terms&quot;: {\n        &quot;script&quot;: {\n          &quot;inline&quot;: &quot;if (params._source['transactions'].size() &gt; 1) { return 1; } else { return 0; }&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><em>BTW notice that it's <code>.size()</code>, not <code>.size</code>.</em></p>\n"}],"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66796526,"answer_count":1,"score":0,"last_activity_date":1666475039,"creation_date":1616657614,"question_id":66794980,"body_markdown":"Nested field name is transactions.\r\n\r\nEach document has a list of transactions.\r\n\r\nI wish to aggregate on the number of transactions. Information i seek is the number Nf documents with more than one transaction.\r\n\r\nI tried the following :\r\n```json\r\n  &quot;aggs&quot;: {\r\n    &quot;tx_count&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;script&quot;: {\r\n          &quot;inline&quot;: &quot;if(doc[&#39;transactions&#39;].size&gt;1){return 1;} else {return 0;}&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nI also tried using this aggregation within a nested aggregation. Is there a way to do this?\r\n\r\nI&#39;m on ES version 5.6 currently.","title":"How to aggregate on size of nested document in ElasticSearch?","body":"<p>Nested field name is transactions.</p>\n<p>Each document has a list of transactions.</p>\n<p>I wish to aggregate on the number of transactions. Information i seek is the number Nf documents with more than one transaction.</p>\n<p>I tried the following :</p>\n<pre class=\"lang-json prettyprint-override\"><code>  &quot;aggs&quot;: {\n    &quot;tx_count&quot;: {\n      &quot;terms&quot;: {\n        &quot;script&quot;: {\n          &quot;inline&quot;: &quot;if(doc['transactions'].size&gt;1){return 1;} else {return 0;}&quot;\n        }\n      }\n    }\n  }\n</code></pre>\n<p>I also tried using this aggregation within a nested aggregation. Is there a way to do this?</p>\n<p>I'm on ES version 5.6 currently.</p>\n"},{"tags":["java","amazon-dynamodb","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":4348522,"reputation":568,"user_id":3549742,"display_name":"mango"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597487894,"creation_date":1597487894,"answer_id":63425083,"question_id":63422042,"body_markdown":"Add [@DynamoDbDocument][1] annotation on **UserAction** class. This annotation will ensure the instance of UserAction class is correctly serialized to a Dynamo DB sub-document before persisting in table.\r\n\r\n___\r\n\r\n    @DynamoDbDocument\r\n    class UserAction{\r\n        //...............\r\n        //...............\r\n    }\r\n\r\n___\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBDocument.html","title":"Use of DynamoDB annotations in nested objects","body":"<p>Add <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBDocument.html\" rel=\"nofollow noreferrer\">@DynamoDbDocument</a> annotation on <strong>UserAction</strong> class. This annotation will ensure the instance of UserAction class is correctly serialized to a Dynamo DB sub-document before persisting in table.</p>\n<hr />\n<pre><code>@DynamoDbDocument\nclass UserAction{\n    //...............\n    //...............\n}\n</code></pre>\n<hr />\n"},{"tags":[],"owner":{"account_id":11517390,"reputation":2361,"user_id":8440358,"accept_rate":100,"display_name":"Hasitha Jayawardana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666474944,"creation_date":1666474944,"answer_id":74167297,"question_id":63422042,"body_markdown":"If anyone is looking for a v2 equivalent of `@DynamoDBDocument`, the following is the annotated way of doing it. For more information check [this][1] out. \r\n\r\n    @DynamoDbBean\r\n    class entity1 {\r\n        \r\n        private List&lt;UserAction&gt; userActions;\r\n    }\r\n    \r\n    @DynamoDbBean\r\n    class UserAction {\r\n    \r\n        private String actionId;\r\n    \r\n        private Long createdTime;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/2265","title":"Use of DynamoDB annotations in nested objects","body":"<p>If anyone is looking for a v2 equivalent of <code>@DynamoDBDocument</code>, the following is the annotated way of doing it. For more information check <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2265\" rel=\"nofollow noreferrer\">this</a> out.</p>\n<pre><code>@DynamoDbBean\nclass entity1 {\n    \n    private List&lt;UserAction&gt; userActions;\n}\n\n@DynamoDbBean\nclass UserAction {\n\n    private String actionId;\n\n    private Long createdTime;\n}\n</code></pre>\n"}],"owner":{"account_id":3433480,"reputation":972,"user_id":2877155,"accept_rate":50,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2034,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666474944,"creation_date":1597458736,"question_id":63422042,"body_markdown":"I am trying to use DynamoDB annotations in nested objects as below:\r\n\r\n    @DynamoDBTable(tableName=xyz)\r\n    class entity1{\r\n        @DynamoDBAttribute\r\n        @DynamoDBTypeConvertedJson\r\n        private List&lt;UserAction&gt; userActions;\r\n    }\r\n\r\n    class UserAction{\r\n        @DynamoDBAutoGeneratedKey\r\n\t    private String actionId;\r\n\r\n        @DynamoDBAttribute\r\n\t    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.CREATE)\r\n\t    private Long createdTime;\r\n    }\r\n\r\nI dont see the above attributes are auto generated in UserAction class. I would like to know if these annotation usages are supported in nested objects or not. Please suggest.","title":"Use of DynamoDB annotations in nested objects","body":"<p>I am trying to use DynamoDB annotations in nested objects as below:</p>\n<pre><code>@DynamoDBTable(tableName=xyz)\nclass entity1{\n    @DynamoDBAttribute\n    @DynamoDBTypeConvertedJson\n    private List&lt;UserAction&gt; userActions;\n}\n\nclass UserAction{\n    @DynamoDBAutoGeneratedKey\n    private String actionId;\n\n    @DynamoDBAttribute\n    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.CREATE)\n    private Long createdTime;\n}\n</code></pre>\n<p>I dont see the above attributes are auto generated in UserAction class. I would like to know if these annotation usages are supported in nested objects or not. Please suggest.</p>\n"},{"tags":["java","reactjs","curl","postman"],"answers":[{"tags":[],"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666474721,"creation_date":1666474721,"answer_id":74167270,"question_id":74167232,"body_markdown":"Would make this as a comment, but I cant comment yet. A quick search turned this up\r\nhttps://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:~:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option.\r\n\r\nYou are experiencing one of the following issues\r\n\r\n - **All of your requests are sent as GET requests,** no matter which HTTP request method you select.\r\n - The original HTTP request method you selected is not preserved when there is a redirect between HTTP and HTTPS.\r\n\r\n\r\nWhat to expect\r\n\r\nPostman automatically redirects requests that return a 3xx response. Note: To check for a 3xx response, use the Postman console and verify whether it shows a 3xx response. If so, it indicates a redirection. If not, submit a support request (see below).\r\n\r\nHow to unblock yourself\r\n\r\n - Disable the automatic redirection for 3xx responses. To do this, open the Settings tab of your request and toggle off the Automatically follow redirects option.\r\n - Force your request to follow the original HTTP method. To do so, open the Settings tab of the request and toggle on the Follow original HTTP method option.\r\n - If your API service provider uses Nginx as a web server, add a trailing slash ( / ) on the request URL.\r\n - If none of these options help, reach out to your API service provider for assistance.\r\n\r\n","title":"POST cURL turns to GET cURL","body":"<p>Would make this as a comment, but I cant comment yet. A quick search turned this up\n<a href=\"https://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:%7E:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option\" rel=\"nofollow noreferrer\">https://support.postman.com/hc/en-us/articles/211913929-My-request-is-redirected-to-a-GET-request#:~:text=To%20do%20this%2C%20open%20the,Follow%20original%20HTTP%20method%20option</a>.</p>\n<p>You are experiencing one of the following issues</p>\n<ul>\n<li><strong>All of your requests are sent as GET requests,</strong> no matter which HTTP request method you select.</li>\n<li>The original HTTP request method you selected is not preserved when there is a redirect between HTTP and HTTPS.</li>\n</ul>\n<p>What to expect</p>\n<p>Postman automatically redirects requests that return a 3xx response. Note: To check for a 3xx response, use the Postman console and verify whether it shows a 3xx response. If so, it indicates a redirection. If not, submit a support request (see below).</p>\n<p>How to unblock yourself</p>\n<ul>\n<li>Disable the automatic redirection for 3xx responses. To do this, open the Settings tab of your request and toggle off the Automatically follow redirects option.</li>\n<li>Force your request to follow the original HTTP method. To do so, open the Settings tab of the request and toggle on the Follow original HTTP method option.</li>\n<li>If your API service provider uses Nginx as a web server, add a trailing slash ( / ) on the request URL.</li>\n<li>If none of these options help, reach out to your API service provider for assistance.</li>\n</ul>\n"}],"owner":{"account_id":26253611,"reputation":1,"user_id":19926019,"display_name":"ihaveaquestionn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666474725,"creation_date":1666474293,"question_id":74167232,"body_markdown":"I&#39;ve an app which are used springboot in backend and react in frontend. Everything works correctly in app. Only I wonder that when cURL are taken over chrome and edge, then are used in postman, It turns to GET request. I don&#39;t understand why it turns to GET request. (Step 3 in shared image)\r\n\r\nTo repeat the scenario. I summarized my codes.\r\n\r\nFor Backend: \r\n\r\n\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestPart;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class TestApi {\r\n      @PostMapping(&quot;/uploadFile&quot;)\r\n      public void uploadFile(@RequestPart MultipartFile multipartFile) {\r\n          System.out.println(multipartFile.getName());\r\n      }\r\n    }\r\n\r\nFor Frontend : \r\n\r\n    import FormControl from &#39;@mui/material/FormControl&#39;;  \r\n    import CssBaseline from &#39;@mui/material/CssBaseline&#39;; \r\n    import Container from &#39;@mui/material/Container&#39;;    \r\n    import Grid from &#39;@mui/material/Grid&#39;;  \r\n    import React, { useState } from &#39;react&#39;;\r\n    import axios from &#39;axios&#39;;\r\n\r\n    function ManagementAuth() {  \r\n       const [imageFile, setImageFile] = useState([]);    \r\n\r\n       const fileSelectedHandler = (event) =&gt; {\r\n          setImageFile(event.target.files[0]);\r\n       }; \r\n\r\n    const fileUploadHandler = (event) =&gt; {\r\n        const fd = new FormData();\r\n        fd.append(&#39;multipartFile&#39;, imageFile, imageFile.name);\r\n        axios.post(&#39;http://localhost:8080/uploadFile&#39;, fd)\r\n        .then(res =&gt; {\r\n            console.log(res);\r\n        });\r\n    }; \r\n\r\n    return (\r\n        &lt;React.Fragment&gt;\r\n        &lt;CssBaseline /&gt;\r\n            &lt;Container maxWidth=&quot;sm&quot;&gt;\r\n                &lt;Grid\r\n                    container\r\n                    spacing={0}\r\n                    direction=&quot;column&quot;\r\n                    alignItems=&quot;center&quot;\r\n                    justifyContent=&quot;center&quot;\r\n                    style={{ minHeight: &#39;80vh&#39; }}\r\n                    &gt;        \r\n                    &lt;FormControl sx={{ m: 1, width: &#39;35ch&#39; }} variant=&quot;standard&quot;&gt; \r\n                        &lt;input type=&quot;file&quot; onChange={fileSelectedHandler}/&gt;\r\n                        &lt;button onClick={fileUploadHandler}&gt;Upload&lt;/button&gt;\r\n                    &lt;/FormControl&gt;     \r\n                &lt;/Grid&gt; \r\n            &lt;/Container&gt;\r\n        &lt;/React.Fragment&gt;\r\n      );\r\n    }\r\n\r\n    export default ManagementAuth;\r\n\r\n\r\nAfter run two app,\r\n\r\n[Step 1][1]\r\n\r\n[Step 2][2]\r\n\r\n[Step 3][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bmzfy.png\r\n  [2]: https://i.stack.imgur.com/e39Qg.png\r\n  [3]: https://i.stack.imgur.com/IsBQB.png","title":"POST cURL turns to GET cURL","body":"<p>I've an app which are used springboot in backend and react in frontend. Everything works correctly in app. Only I wonder that when cURL are taken over chrome and edge, then are used in postman, It turns to GET request. I don't understand why it turns to GET request. (Step 3 in shared image)</p>\n<p>To repeat the scenario. I summarized my codes.</p>\n<p>For Backend:</p>\n<pre><code>import org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@CrossOrigin\npublic class TestApi {\n  @PostMapping(&quot;/uploadFile&quot;)\n  public void uploadFile(@RequestPart MultipartFile multipartFile) {\n      System.out.println(multipartFile.getName());\n  }\n}\n</code></pre>\n<p>For Frontend :</p>\n<pre><code>import FormControl from '@mui/material/FormControl';  \nimport CssBaseline from '@mui/material/CssBaseline'; \nimport Container from '@mui/material/Container';    \nimport Grid from '@mui/material/Grid';  \nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction ManagementAuth() {  \n   const [imageFile, setImageFile] = useState([]);    \n\n   const fileSelectedHandler = (event) =&gt; {\n      setImageFile(event.target.files[0]);\n   }; \n\nconst fileUploadHandler = (event) =&gt; {\n    const fd = new FormData();\n    fd.append('multipartFile', imageFile, imageFile.name);\n    axios.post('http://localhost:8080/uploadFile', fd)\n    .then(res =&gt; {\n        console.log(res);\n    });\n}; \n\nreturn (\n    &lt;React.Fragment&gt;\n    &lt;CssBaseline /&gt;\n        &lt;Container maxWidth=&quot;sm&quot;&gt;\n            &lt;Grid\n                container\n                spacing={0}\n                direction=&quot;column&quot;\n                alignItems=&quot;center&quot;\n                justifyContent=&quot;center&quot;\n                style={{ minHeight: '80vh' }}\n                &gt;        \n                &lt;FormControl sx={{ m: 1, width: '35ch' }} variant=&quot;standard&quot;&gt; \n                    &lt;input type=&quot;file&quot; onChange={fileSelectedHandler}/&gt;\n                    &lt;button onClick={fileUploadHandler}&gt;Upload&lt;/button&gt;\n                &lt;/FormControl&gt;     \n            &lt;/Grid&gt; \n        &lt;/Container&gt;\n    &lt;/React.Fragment&gt;\n  );\n}\n\nexport default ManagementAuth;\n</code></pre>\n<p>After run two app,</p>\n<p><a href=\"https://i.stack.imgur.com/bmzfy.png\" rel=\"nofollow noreferrer\">Step 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/e39Qg.png\" rel=\"nofollow noreferrer\">Step 2</a></p>\n<p><a href=\"https://i.stack.imgur.com/IsBQB.png\" rel=\"nofollow noreferrer\">Step 3</a></p>\n"},{"tags":["java","spring","maven","logging","log4j"],"comments":[{"owner":{"account_id":169224,"reputation":5608,"user_id":395181,"display_name":"chkal"},"score":0,"creation_date":1478335855,"post_id":40435623,"comment_id":68120168,"body_markdown":"What&#39;s the exact name of the folder you placed the file in?","body":"What&#39;s the exact name of the folder you placed the file in?"}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1478341091,"creation_date":1478340432,"answer_id":40436953,"question_id":40435623,"body_markdown":"By default, Spring Boot configures logging via Logback (http://logback.qos.ch) to log to the console at INFO level.\r\n\r\n*Swapping out Logback for another logging implementation\r\nGenerally speaking, you should never need to switch logging implementations; Logback should suit you fine. However, if you decide that you’d rather use Log4j or Log4j2, you’ll need to change your dependencies to include the appropriate starter for the logging implementation you want to use and to exclude Logback.\r\nFor Maven builds, you can exclude Logback by excluding the default logging starter transitively resolved by the root starter dependency:*\r\n\r\n**Spring Boot in Action\r\nCRAIG WALLS**\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    ...\r\n    &lt;/dependencies&gt;\r\n\r\n ","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>By default, Spring Boot configures logging via Logback (<a href=\"http://logback.qos.ch\" rel=\"nofollow noreferrer\">http://logback.qos.ch</a>) to log to the console at INFO level.</p>\n\n<p><em>Swapping out Logback for another logging implementation\nGenerally speaking, you should never need to switch logging implementations; Logback should suit you fine. However, if you decide that you’d rather use Log4j or Log4j2, you’ll need to change your dependencies to include the appropriate starter for the logging implementation you want to use and to exclude Logback.\nFor Maven builds, you can exclude Logback by excluding the default logging starter transitively resolved by the root starter dependency:</em></p>\n\n<p><strong>Spring Boot in Action\nCRAIG WALLS</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n...\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n...\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666474630,"creation_date":1666474630,"answer_id":74167265,"question_id":40435623,"body_markdown":"Your file name is `log4j.properties`.\r\n\r\n**Rename** it to `log4j2.properties` for Log4j **2.x**.\r\n\r\n**Note**:\r\nIn case of maven project put this file `log4j2.properties` under `src/main/resources` folder.","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>Your file name is <code>log4j.properties</code>.</p>\n<p><strong>Rename</strong> it to <code>log4j2.properties</code> for Log4j <strong>2.x</strong>.</p>\n<p><strong>Note</strong>:\nIn case of maven project put this file <code>log4j2.properties</code> under <code>src/main/resources</code> folder.</p>\n"}],"owner":{"account_id":3795228,"reputation":93,"user_id":3150522,"accept_rate":82,"display_name":"Ferooz Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40436953,"answer_count":2,"score":1,"last_activity_date":1666474630,"creation_date":1478328828,"question_id":40435623,"body_markdown":"I&#39;m working on spring project and using log4j for logging. But log4j is using its default logging style and not picking up the properties from the log4j.properties file. &#39;log4.properties&#39; is under resources folder. This is my pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis is my log4j.properties file\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n    \r\n    # Direct log messages to a log file\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=logs/logging.log\r\n    log4j.appender.file.MaxFileSize=10MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n","title":"Log4j not picking up log4j.properties file from resources folder","body":"<p>I'm working on spring project and using log4j for logging. But log4j is using its default logging style and not picking up the properties from the log4j.properties file. 'log4.properties' is under resources folder. This is my pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.6.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This is my log4j.properties file</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=logs/logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"score":0,"creation_date":1393335534,"post_id":22015685,"comment_id":33371103,"body_markdown":"Are you using `mvn -U clean install` while building the dependency or while building the main project?","body":"Are you using <code>mvn -U clean install</code> while building the dependency or while building the main project?"},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1393336276,"post_id":22015685,"comment_id":33371680,"body_markdown":"I am using maven only for &quot;main&quot; project. The `fooLib` is not maven project and is build independently. I just want to use newer snapshot of fooLib in my maven (&quot;main&quot;) project.","body":"I am using maven only for &quot;main&quot; project. The <code>fooLib</code> is not maven project and is build independently. I just want to use newer snapshot of fooLib in my maven (&quot;main&quot;) project."},{"owner":{"account_id":3925546,"reputation":1220,"user_id":3246177,"accept_rate":25,"display_name":"renke"},"score":0,"creation_date":1393336436,"post_id":22015685,"comment_id":33371793,"body_markdown":"So you&#39;ll have to install `fooLib`manually, because it will never be updated in your .m2 folder, unless its version changes.","body":"So you&#39;ll have to install <code>fooLib</code>manually, because it will never be updated in your .m2 folder, unless its version changes."}],"answers":[{"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393335206,"creation_date":1393335206,"answer_id":22015754,"question_id":22015685,"body_markdown":"Maven will never read the jar present inside any library folder. You must first understand how maven works. The only place where maven looks for jar is the `localRepository (.m2)`, if absent it searches the other repository, mentioned in your `POM.xml`","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>Maven will never read the jar present inside any library folder. You must first understand how maven works. The only place where maven looks for jar is the <code>localRepository (.m2)</code>, if absent it searches the other repository, mentioned in your <code>POM.xml</code></p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1393432102,"creation_date":1393336964,"answer_id":22016482,"question_id":22015685,"body_markdown":"If you use a repository for this, then Maven will copy the JAR once into it&#39;s local repository (usually in `$HOME/.m2/repository/`). Unless the version number changes, Maven won&#39;t consider this file to have changed and it won&#39;t copy it. Note that the version number is the only thing that Maven looks at; it doesn&#39;t care about checksums or file sizes or dates.\n\nIncidentally, snapshots are assigned a version number internally for just this purpose: So that Maven can internally notice that a snapshot has been updated.\n\nI suggest to use a [system dependency][1] instead. That way, the actual JAR is going to be added to the classpath (without any copying or stuff). You also don&#39;t need to replicate a repo structure for this approach and it will clearly communicate your intent.\n\n**[EDIT]** I understand that Maven handles dependencies with scope `system` differently. I&#39;m not sure whether this makes sense or not (if it uses the dependency to compile, it surely can use it to run?)\n\nAs I see it, you have these options:\n\n1. Install the dependency into your `libRepo` using [deploy:deploy-file][2] instead of copying it yourself. That should update the meta data in such a way that Maven will copy it again when you run `mvn install` again on the real project.\n\n   Note that `file:install` doesn&#39;t work. The file plugin is used to access the local repository but you need to use the deploy plugin which knows how to update a shared / server repository.\n\n1. Install the dependency into your local repo; I suggest to use a script for this that you can include in your project. That way, you avoid all the problems and it will be easy to set this up on a new machine.\n\n1. Change the version number of the dependency but that&#39;s tedious and you might get into trouble when the real version number of the dependency changes.\n\n1. Set up a local repo server for your company and deploy the dependency to it. That will take a few hours but a) you will get a local cache of all your dependencies, making your initial builds faster and b) it will make setup for additional developers much faster.\n\n\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\n  [2]: http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>If you use a repository for this, then Maven will copy the JAR once into it's local repository (usually in <code>$HOME/.m2/repository/</code>). Unless the version number changes, Maven won't consider this file to have changed and it won't copy it. Note that the version number is the only thing that Maven looks at; it doesn't care about checksums or file sizes or dates.</p>\n<p>Incidentally, snapshots are assigned a version number internally for just this purpose: So that Maven can internally notice that a snapshot has been updated.</p>\n<p>I suggest to use a <a href=\"http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"noreferrer\">system dependency</a> instead. That way, the actual JAR is going to be added to the classpath (without any copying or stuff). You also don't need to replicate a repo structure for this approach and it will clearly communicate your intent.</p>\n<p><strong>[EDIT]</strong> I understand that Maven handles dependencies with scope <code>system</code> differently. I'm not sure whether this makes sense or not (if it uses the dependency to compile, it surely can use it to run?)</p>\n<p>As I see it, you have these options:</p>\n<ol>\n<li><p>Install the dependency into your <code>libRepo</code> using <a href=\"http://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html\" rel=\"noreferrer\">deploy:deploy-file</a> instead of copying it yourself. That should update the meta data in such a way that Maven will copy it again when you run <code>mvn install</code> again on the real project.</p>\n<p>Note that <code>file:install</code> doesn't work. The file plugin is used to access the local repository but you need to use the deploy plugin which knows how to update a shared / server repository.</p>\n</li>\n<li><p>Install the dependency into your local repo; I suggest to use a script for this that you can include in your project. That way, you avoid all the problems and it will be easy to set this up on a new machine.</p>\n</li>\n<li><p>Change the version number of the dependency but that's tedious and you might get into trouble when the real version number of the dependency changes.</p>\n</li>\n<li><p>Set up a local repo server for your company and deploy the dependency to it. That will take a few hours but a) you will get a local cache of all your dependencies, making your initial builds faster and b) it will make setup for additional developers much faster.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4239567,"reputation":734,"user_id":3469861,"display_name":"JackLeEmmerdeur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468336873,"creation_date":1468336873,"answer_id":38333001,"question_id":22015685,"body_markdown":"The previous answerer (and one commenter) pointed out, that maven looks within the local project-repository only once, and on subsequent builds it gets the cached jar from the .m2-repository.\r\n\r\nI just [found](https://stackoverflow.com/questions/21341103/how-can-i-execute-the-opposite-of-mvn-install-from-a-script-that-does-not-know-t) a workaround for the need to increment the version number (e.g. on small changes of a dev-library):\r\n\r\nFirst reinstall the jar into your local project-repository:\r\n    \r\n    mvn install:install-file -DlocalRepositoryPath=repo -DcreateChecksum=true -Dpackaging=jar -DgroupId=com.johndoe.dev -DartifactId=Helpers -Dversion=0.1 -Dfile=C:/path/to/helpers.jar\r\n(Where -Dfile could point to an external Project which produces the helpers.jar)\r\n\r\nThen purge just this specific artifact in the .m2-repository:\r\n\r\n    mvn dependency:purge-local-repository -DmanualInclude=com.johndoe.dev:Helpers:0.1\r\n(With com.johndoe.dev as the GroupId, Helpers as the ArtifactId and the same version installed in the previous step)\r\n\r\nExecuting the latter step, maven rebuilds the artifact inside .m2 using your local project-repository jar-file.\r\n\r\nAlternative and maybe dirty variant:\r\nJust copy helpers.jar to C:\\Users\\johndoe\\\\.m2\\repository\\com\\johndoe\\dev\\Helpers\\0.1\\Helpers-0.1.jar (don&#39;t know about linux as I haven&#39;t used mave there).","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>The previous answerer (and one commenter) pointed out, that maven looks within the local project-repository only once, and on subsequent builds it gets the cached jar from the .m2-repository.</p>\n\n<p>I just <a href=\"https://stackoverflow.com/questions/21341103/how-can-i-execute-the-opposite-of-mvn-install-from-a-script-that-does-not-know-t\">found</a> a workaround for the need to increment the version number (e.g. on small changes of a dev-library):</p>\n\n<p>First reinstall the jar into your local project-repository:</p>\n\n<pre><code>mvn install:install-file -DlocalRepositoryPath=repo -DcreateChecksum=true -Dpackaging=jar -DgroupId=com.johndoe.dev -DartifactId=Helpers -Dversion=0.1 -Dfile=C:/path/to/helpers.jar\n</code></pre>\n\n<p>(Where -Dfile could point to an external Project which produces the helpers.jar)</p>\n\n<p>Then purge just this specific artifact in the .m2-repository:</p>\n\n<pre><code>mvn dependency:purge-local-repository -DmanualInclude=com.johndoe.dev:Helpers:0.1\n</code></pre>\n\n<p>(With com.johndoe.dev as the GroupId, Helpers as the ArtifactId and the same version installed in the previous step)</p>\n\n<p>Executing the latter step, maven rebuilds the artifact inside .m2 using your local project-repository jar-file.</p>\n\n<p>Alternative and maybe dirty variant:\nJust copy helpers.jar to C:\\Users\\johndoe\\.m2\\repository\\com\\johndoe\\dev\\Helpers\\0.1\\Helpers-0.1.jar (don't know about linux as I haven't used mave there).</p>\n"}],"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32054,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22016482,"answer_count":3,"score":9,"last_activity_date":1666473571,"creation_date":1393335033,"question_id":22015685,"body_markdown":"I am trying to use external library inside my maven project. Since I want the project to build out of the box on any machine, I don&#39;t want to use `mvn install` solution. I have therefore defined local repository in my pom.xml:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fooLib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t....\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;in-project&lt;/id&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;name&gt;In Project Repo&lt;/name&gt;\r\n\t\t\t&lt;url&gt;file://${project.basedir}/libRepo&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n \r\nThe problem is when I replace the jar in `libRepo` (without updating version number since it is just another snapshot) that this updated jar is not used (old version from `.m2` directory is used instead) even for `mvn -U clean install`\r\nHow to make maven to update this jar?\r\n\r\n**EDIT**:\r\nAccording to https://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it maven shall try to find newer version of SNAPSHOT dependency, &quot;even if a version of this library is found on the local repository&quot;. What is wrong with my setting?\r\n\r\n**DIRTY SOLUTION**:\r\nBased on answer from https://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included following extension of my original solution seems to work:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;hack-binary&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;file&gt;${repo.path.to.jar}&lt;/file&gt;\r\n\t\t\t\t\t\t\t&lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;fooLib&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t\t\t\t\t\t\t&lt;generatePom&gt;true&lt;/generatePom&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nAs mentioned in comment to that solution, it does not work alone, thus it works in combination with `in-project` repository (which works when the dependency is not available in local `.m2` repository) and this second parts refreshes `.m2` during every build. \r\n\r\nHowever it is still not clear to me why ordinary &quot;SNAPSHOT&quot; mechanism does not work (i.e. current dirty solution would work also without SNAPSHOTs as local `.m2` repo is explicitly updated every time). Is there any cleaner way?\r\n\r\n**SOLUTION** (based on Aaron&#39;s answer &amp; discussion): The problem was that I tried to install file into `libRepo` using `install-file`. The actual solution is that if library updates, use \r\n\r\n    mvn deploy:deploy-file -Dfile=fooLib.jar  -DgroupId=com.test \\\r\n        -DartifactId=fooLib -Dversion=1.0-SNAPSHOT -Dpackaging=jar \\\r\n        -Durl=file://..\\libRepo -DrepositoryId=in-project\r\n\r\nto deployed it to repo. After proper deploy, maven correctly handles SNAPSHOTs.","title":"Maven 3 does not update snapshot dependency from local repository","body":"<p>I am trying to use external library inside my maven project. Since I want the project to build out of the box on any machine, I don't want to use <code>mvn install</code> solution. I have therefore defined local repository in my pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;fooLib&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    ....\n    &lt;repository&gt;\n        &lt;id&gt;in-project&lt;/id&gt;\n        &lt;snapshots&gt;\n            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n        &lt;name&gt;In Project Repo&lt;/name&gt;\n        &lt;url&gt;file://${project.basedir}/libRepo&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n<p>The problem is when I replace the jar in <code>libRepo</code> (without updating version number since it is just another snapshot) that this updated jar is not used (old version from <code>.m2</code> directory is used instead) even for <code>mvn -U clean install</code>\nHow to make maven to update this jar?</p>\n<p><strong>EDIT</strong>:\nAccording to <a href=\"https://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it\">What exactly is a Maven Snapshot and why do we need it?</a> maven shall try to find newer version of SNAPSHOT dependency, &quot;even if a version of this library is found on the local repository&quot;. What is wrong with my setting?</p>\n<p><strong>DIRTY SOLUTION</strong>:\nBased on answer from <a href=\"https://stackoverflow.com/questions/2065928/maven-2-assembly-with-dependencies-jar-under-scope-system-not-included\">Maven 2 assembly with dependencies: jar under scope &quot;system&quot; not included</a> following extension of my original solution seems to work:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;hack-binary&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;file&gt;${repo.path.to.jar}&lt;/file&gt;\n                        &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                        &lt;groupId&gt;com.test&lt;/groupId&gt;\n                        &lt;artifactId&gt;fooLib&lt;/artifactId&gt;\n                        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n                        &lt;packaging&gt;jar&lt;/packaging&gt;\n                        &lt;generatePom&gt;true&lt;/generatePom&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-file&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>As mentioned in comment to that solution, it does not work alone, thus it works in combination with <code>in-project</code> repository (which works when the dependency is not available in local <code>.m2</code> repository) and this second parts refreshes <code>.m2</code> during every build.</p>\n<p>However it is still not clear to me why ordinary &quot;SNAPSHOT&quot; mechanism does not work (i.e. current dirty solution would work also without SNAPSHOTs as local <code>.m2</code> repo is explicitly updated every time). Is there any cleaner way?</p>\n<p><strong>SOLUTION</strong> (based on Aaron's answer &amp; discussion): The problem was that I tried to install file into <code>libRepo</code> using <code>install-file</code>. The actual solution is that if library updates, use</p>\n<pre><code>mvn deploy:deploy-file -Dfile=fooLib.jar  -DgroupId=com.test \\\n    -DartifactId=fooLib -Dversion=1.0-SNAPSHOT -Dpackaging=jar \\\n    -Durl=file://..\\libRepo -DrepositoryId=in-project\n</code></pre>\n<p>to deployed it to repo. After proper deploy, maven correctly handles SNAPSHOTs.</p>\n"},{"tags":["java","json","jackson","gson","json-deserialization"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1666294253,"post_id":74145298,"comment_id":130909172,"body_markdown":"First you have to make us understand the business logic you want to ,meet. E.g. from where hr 65 and 67 are coming. And from where rr 45 and 23 are coming. Similarly from where timestamp is coming, and how snoring is calculated in the resultant json? You did not tell about that.","body":"First you have to make us understand the business logic you want to ,meet. E.g. from where hr 65 and 67 are coming. And from where rr 45 and 23 are coming. Similarly from where timestamp is coming, and how snoring is calculated in the resultant json? You did not tell about that."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":1,"creation_date":1666294344,"post_id":74145298,"comment_id":130909198,"body_markdown":"Secondly, share your code of your most successful attempt. What have you tried so far. And what is not working in that attempt.","body":"Secondly, share your code of your most successful attempt. What have you tried so far. And what is not working in that attempt."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1666294427,"post_id":74145298,"comment_id":130909217,"body_markdown":"That looks like medical data in which the key is a timestamp. You probably need to deserialise it to an object and then do any aggregation you need. You can see how to deserailize into a map in this other question: https://stackoverflow.com/questions/35465273/jackson-de-serialize-json-with-dynamic-key","body":"That looks like medical data in which the key is a timestamp. You probably need to deserialise it to an object and then do any aggregation you need. You can see how to deserailize into a map in this other question: <a href=\"https://stackoverflow.com/questions/35465273/jackson-de-serialize-json-with-dynamic-key\" title=\"jackson de serialize json with dynamic key\">stackoverflow.com/questions/35465273/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1666299179,"post_id":74145298,"comment_id":130910658,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666456924,"creation_date":1666315914,"answer_id":74147884,"question_id":74145298,"body_markdown":"Your question is not clear. Tell me whether this output is what you want.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;   {&quot; +\r\n        &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\r\n        &quot;      \\&quot;hr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:65,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:65,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:70&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;rr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:18,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:17,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:15&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;snoring\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664325660\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664325720\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664325780\\&quot;:0&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   {&quot; +\r\n        &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\r\n        &quot;      \\&quot;hr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:72,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:70,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:71,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:70,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:67,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:71,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:69,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:68,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:66,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:68&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;rr\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:20,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:19,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:21,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:22,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:22&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;snoring\\&quot;:{&quot; +\r\n        &quot;         \\&quot;1664340780\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340840\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340900\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664340960\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341020\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341080\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341140\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341200\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341260\\&quot;:0,&quot; +\r\n        &quot;         \\&quot;1664341320\\&quot;:0&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   }&quot; +\r\n        &quot;]&quot;);\r\n\r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(user_id,&quot; +\r\n        &quot;    items: collect(hr.entries().map(key, hr:value),&quot; +\r\n        &quot;                   rr.entries().map(key, rr:value),&quot; +\r\n        &quot;                   snoring.entries().map(key, snoring:value))&quot; +\r\n        &quot;           .flatten()&quot; +\r\n        &quot;           .group(key, field(key:))&quot; +\r\n        &quot;           .map(timestamp:key, elements.hr[0], elements.rr[0], elements.snoring[0])&quot; +\r\n        &quot;)&quot; +\r\n        &quot;.unwind(items)&quot;);\r\n    \r\n    for (JsonNode elem : node) {\r\n        System.out.println(elem.toString());\r\n    }\r\n    \r\nOutput\r\n\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n    {&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>Your question is not clear. Tell me whether this output is what you want.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;   {&quot; +\n    &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\n    &quot;      \\&quot;hr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:65,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:65,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:70&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;rr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:18,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:17,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:15&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;snoring\\&quot;:{&quot; +\n    &quot;         \\&quot;1664325660\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664325720\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664325780\\&quot;:0&quot; +\n    &quot;      }&quot; +\n    &quot;   },&quot; +\n    &quot;   {&quot; +\n    &quot;      \\&quot;user_id\\&quot;:30826889,&quot; +\n    &quot;      \\&quot;hr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:72,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:70,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:71,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:70,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:67,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:71,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:69,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:68,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:66,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:68&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;rr\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:20,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:19,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:21,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:22,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:22&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;snoring\\&quot;:{&quot; +\n    &quot;         \\&quot;1664340780\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340840\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340900\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664340960\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341020\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341080\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341140\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341200\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341260\\&quot;:0,&quot; +\n    &quot;         \\&quot;1664341320\\&quot;:0&quot; +\n    &quot;      }&quot; +\n    &quot;   }&quot; +\n    &quot;]&quot;);\n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(user_id,&quot; +\n    &quot;    items: collect(hr.entries().map(key, hr:value),&quot; +\n    &quot;                   rr.entries().map(key, rr:value),&quot; +\n    &quot;                   snoring.entries().map(key, snoring:value))&quot; +\n    &quot;           .flatten()&quot; +\n    &quot;           .group(key, field(key:))&quot; +\n    &quot;           .map(timestamp:key, elements.hr[0], elements.rr[0], elements.snoring[0])&quot; +\n    &quot;)&quot; +\n    &quot;.unwind(items)&quot;);\n\nfor (JsonNode elem : node) {\n    System.out.println(elem.toString());\n}\n</code></pre>\n<p>Output</p>\n<pre><code>{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666377498,"creation_date":1666366446,"answer_id":74156011,"question_id":74145298,"body_markdown":"```java\r\npublic static void main(String... args) throws IOException {\r\n    File src = new File(&quot;e:/in.json&quot;);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;Map&lt;String, Object&gt;&gt; items = mapper.readValue(src, new TypeReference&lt;&gt;() {\r\n    });\r\n\r\n    for (Map&lt;String, Object&gt; map : convert(items))\r\n        System.out.println(mapper.writeValueAsString(map));\r\n}\r\n\r\npublic static List&lt;Map&lt;String, Object&gt;&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; items) {\r\n    return items.stream()\r\n                .flatMap(item -&gt; convert(item).stream())\r\n                .collect(Collectors.toList());\r\n}\r\n\r\nprivate static List&lt;Map&lt;String, Object&gt;&gt; convert(Map&lt;String, Object&gt; item) {\r\n    return getUniqueTimes(item.values()).stream()\r\n                                        .map(time -&gt; createTimeItem(item, time))\r\n                                        .collect(Collectors.toList());\r\n}\r\n\r\nprivate static Set&lt;String&gt; getUniqueTimes(Collection&lt;Object&gt; values) {\r\n    return values.stream()\r\n                 .filter(value -&gt; value instanceof Map)\r\n                 .flatMap(value -&gt; ((Map&lt;String, Integer&gt;)value).keySet().stream())\r\n                 .collect(Collectors.toSet());\r\n}\r\n\r\nprivate static Map&lt;String, Object&gt; createTimeItem(Map&lt;String, Object&gt; item, String timestamp) {\r\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n    map.put(&quot;user_id&quot;, item.get(&quot;user_id&quot;));\r\n    map.put(&quot;timestamp&quot;, timestamp);\r\n\r\n    item.entrySet().stream()\r\n        .filter(entry -&gt; entry.getValue() instanceof Map)\r\n        .forEach(entry -&gt; map.put(entry.getKey(), ((Map&lt;String, Integer&gt;)entry.getValue()).get(timestamp)));\r\n\r\n    return map;\r\n}\r\n```\r\n\r\n---\r\n**Demo**\r\n```\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\r\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\r\n```","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    File src = new File(&quot;e:/in.json&quot;);\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Map&lt;String, Object&gt;&gt; items = mapper.readValue(src, new TypeReference&lt;&gt;() {\n    });\n\n    for (Map&lt;String, Object&gt; map : convert(items))\n        System.out.println(mapper.writeValueAsString(map));\n}\n\npublic static List&lt;Map&lt;String, Object&gt;&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; items) {\n    return items.stream()\n                .flatMap(item -&gt; convert(item).stream())\n                .collect(Collectors.toList());\n}\n\nprivate static List&lt;Map&lt;String, Object&gt;&gt; convert(Map&lt;String, Object&gt; item) {\n    return getUniqueTimes(item.values()).stream()\n                                        .map(time -&gt; createTimeItem(item, time))\n                                        .collect(Collectors.toList());\n}\n\nprivate static Set&lt;String&gt; getUniqueTimes(Collection&lt;Object&gt; values) {\n    return values.stream()\n                 .filter(value -&gt; value instanceof Map)\n                 .flatMap(value -&gt; ((Map&lt;String, Integer&gt;)value).keySet().stream())\n                 .collect(Collectors.toSet());\n}\n\nprivate static Map&lt;String, Object&gt; createTimeItem(Map&lt;String, Object&gt; item, String timestamp) {\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;user_id&quot;, item.get(&quot;user_id&quot;));\n    map.put(&quot;timestamp&quot;, timestamp);\n\n    item.entrySet().stream()\n        .filter(entry -&gt; entry.getValue() instanceof Map)\n        .forEach(entry -&gt; map.put(entry.getKey(), ((Map&lt;String, Integer&gt;)entry.getValue()).get(timestamp)));\n\n    return map;\n}\n</code></pre>\n<hr />\n<p><strong>Demo</strong></p>\n<pre><code>{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325720&quot;,&quot;hr&quot;:65,&quot;rr&quot;:17,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325780&quot;,&quot;hr&quot;:70,&quot;rr&quot;:15,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664325660&quot;,&quot;hr&quot;:65,&quot;rr&quot;:18,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340900&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341260&quot;,&quot;hr&quot;:66,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340840&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341080&quot;,&quot;hr&quot;:71,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341320&quot;,&quot;hr&quot;:68,&quot;rr&quot;:22,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341200&quot;,&quot;hr&quot;:68,&quot;rr&quot;:21,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340960&quot;,&quot;hr&quot;:70,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341140&quot;,&quot;hr&quot;:69,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664341020&quot;,&quot;hr&quot;:67,&quot;rr&quot;:19,&quot;snoring&quot;:0}\n{&quot;user_id&quot;:30826889,&quot;timestamp&quot;:&quot;1664340780&quot;,&quot;hr&quot;:72,&quot;rr&quot;:20,&quot;snoring&quot;:0}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472872,"creation_date":1666472872,"answer_id":74167116,"question_id":74145298,"body_markdown":"Here is a solution in Javascript:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n    const inputArray = [\r\n      {\r\n        &quot;user_id&quot;:30826889,\r\n        &quot;hr&quot;: {\r\n          &quot;1664325660&quot;: 65,\r\n          &quot;1664325720&quot;: 65,\r\n          &quot;1664325780&quot;: 70\r\n        },\r\n        &quot;rr&quot;: {\r\n          &quot;1664325660&quot;:18,\r\n          &quot;1664325720&quot;:17,\r\n          &quot;1664325780&quot;:15\r\n        },\r\n        &quot;snoring&quot;: {\r\n          &quot;1664325660&quot;: 0,\r\n          &quot;1664325720&quot;: 0,\r\n          &quot;1664325780&quot;: 0\r\n        }\r\n      },\r\n      {\r\n        &quot;user_id&quot;: 30826889,\r\n        &quot;hr&quot;: {\r\n          &quot;1664340780&quot;:72,\r\n          &quot;1664340840&quot;: 70,\r\n          &quot;1664340900&quot;: 71,\r\n          &quot;1664340960&quot;: 70,\r\n          &quot;1664341020&quot;: 67,\r\n          &quot;1664341080&quot;: 71,\r\n          &quot;1664341140&quot;: 69,\r\n          &quot;1664341200&quot;: 68,\r\n          &quot;1664341260&quot;: 66,\r\n          &quot;1664341320&quot;: 68\r\n        },\r\n        &quot;rr&quot;:{\r\n          &quot;1664340780&quot;: 20,\r\n          &quot;1664340840&quot;: 20,\r\n          &quot;1664340900&quot;: 19,\r\n          &quot;1664340960&quot;: 20,\r\n          &quot;1664341020&quot;: 19,\r\n          &quot;1664341080&quot;: 19,\r\n          &quot;1664341140&quot;: 19,\r\n          &quot;1664341200&quot;: 21,\r\n          &quot;1664341260&quot;: 22,\r\n          &quot;1664341320&quot;: 22\r\n        },\r\n        &quot;snoring&quot;:{\r\n          &quot;1664340780&quot;: 0,\r\n          &quot;1664340840&quot;: 0,\r\n          &quot;1664340900&quot;: 0,\r\n          &quot;1664340960&quot;: 0,\r\n          &quot;1664341020&quot;: 0,\r\n          &quot;1664341080&quot;: 0,\r\n          &quot;1664341140&quot;: 0,\r\n          &quot;1664341200&quot;: 0,\r\n          &quot;1664341260&quot;: 0,\r\n          &quot;1664341320&quot;: 0\r\n        }\r\n      }\r\n    ];\r\n\r\n    //  {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\r\n    //  {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\r\n\r\n    for (const { user_id, hr, rr, snoring } of inputArray) {\r\n      for (const timestamp of Object.keys(hr)) {\r\n        const result = { user_id, timestamp, hr: hr[timestamp], rr: rr[timestamp], snoring: snoring[timestamp] };\r\n        console.log(JSON.stringify(result));\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>Here is a solution in Javascript:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputArray = [\n  {\n    \"user_id\":30826889,\n    \"hr\": {\n      \"1664325660\": 65,\n      \"1664325720\": 65,\n      \"1664325780\": 70\n    },\n    \"rr\": {\n      \"1664325660\":18,\n      \"1664325720\":17,\n      \"1664325780\":15\n    },\n    \"snoring\": {\n      \"1664325660\": 0,\n      \"1664325720\": 0,\n      \"1664325780\": 0\n    }\n  },\n  {\n    \"user_id\": 30826889,\n    \"hr\": {\n      \"1664340780\":72,\n      \"1664340840\": 70,\n      \"1664340900\": 71,\n      \"1664340960\": 70,\n      \"1664341020\": 67,\n      \"1664341080\": 71,\n      \"1664341140\": 69,\n      \"1664341200\": 68,\n      \"1664341260\": 66,\n      \"1664341320\": 68\n    },\n    \"rr\":{\n      \"1664340780\": 20,\n      \"1664340840\": 20,\n      \"1664340900\": 19,\n      \"1664340960\": 20,\n      \"1664341020\": 19,\n      \"1664341080\": 19,\n      \"1664341140\": 19,\n      \"1664341200\": 21,\n      \"1664341260\": 22,\n      \"1664341320\": 22\n    },\n    \"snoring\":{\n      \"1664340780\": 0,\n      \"1664340840\": 0,\n      \"1664340900\": 0,\n      \"1664340960\": 0,\n      \"1664341020\": 0,\n      \"1664341080\": 0,\n      \"1664341140\": 0,\n      \"1664341200\": 0,\n      \"1664341260\": 0,\n      \"1664341320\": 0\n    }\n  }\n];\n\n//  {\"user_id\": 30826889, \"timestamp\": \"166432xxxx\",\"hr\":65, \"rr\":45, \"snoring\":1 }\n//  {\"user_id\": 30826889, \"timestamp\": \"166432yyyy\",\"hr\":67, \"rr\":23, \"snoring\":2 }\n\nfor (const { user_id, hr, rr, snoring } of inputArray) {\n  for (const timestamp of Object.keys(hr)) {\n    const result = { user_id, timestamp, hr: hr[timestamp], rr: rr[timestamp], snoring: snoring[timestamp] };\n    console.log(JSON.stringify(result));\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14101478,"reputation":3,"user_id":10186726,"display_name":"Abul Bashar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74147884,"answer_count":3,"score":-1,"last_activity_date":1666472872,"creation_date":1666293685,"question_id":74145298,"body_markdown":"I have a response currently like below, and I want it to make it in one line.\r\n\r\nCurrent Reponse:\r\n\r\n```json\r\n[\r\n   {\r\n      &quot;user_id&quot;:30826889,\r\n      &quot;hr&quot;:{\r\n         &quot;1664325660&quot;:65,\r\n         &quot;1664325720&quot;:65,\r\n         &quot;1664325780&quot;:70\r\n      },\r\n      &quot;rr&quot;:{\r\n         &quot;1664325660&quot;:18,\r\n         &quot;1664325720&quot;:17,\r\n         &quot;1664325780&quot;:15\r\n      },\r\n      &quot;snoring&quot;:{\r\n         &quot;1664325660&quot;:0,\r\n         &quot;1664325720&quot;:0,\r\n         &quot;1664325780&quot;:0\r\n      }\r\n   },\r\n   {\r\n      &quot;user_id&quot;:30826889,\r\n      &quot;hr&quot;:{\r\n         &quot;1664340780&quot;:72,\r\n         &quot;1664340840&quot;:70,\r\n         &quot;1664340900&quot;:71,\r\n         &quot;1664340960&quot;:70,\r\n         &quot;1664341020&quot;:67,\r\n         &quot;1664341080&quot;:71,\r\n         &quot;1664341140&quot;:69,\r\n         &quot;1664341200&quot;:68,\r\n         &quot;1664341260&quot;:66,\r\n         &quot;1664341320&quot;:68\r\n      },\r\n      &quot;rr&quot;:{\r\n         &quot;1664340780&quot;:20,\r\n         &quot;1664340840&quot;:20,\r\n         &quot;1664340900&quot;:19,\r\n         &quot;1664340960&quot;:20,\r\n         &quot;1664341020&quot;:19,\r\n         &quot;1664341080&quot;:19,\r\n         &quot;1664341140&quot;:19,\r\n         &quot;1664341200&quot;:21,\r\n         &quot;1664341260&quot;:22,\r\n         &quot;1664341320&quot;:22\r\n      },\r\n      &quot;snoring&quot;:{\r\n         &quot;1664340780&quot;:0,\r\n         &quot;1664340840&quot;:0,\r\n         &quot;1664340900&quot;:0,\r\n         &quot;1664340960&quot;:0,\r\n         &quot;1664341020&quot;:0,\r\n         &quot;1664341080&quot;:0,\r\n         &quot;1664341140&quot;:0,\r\n         &quot;1664341200&quot;:0,\r\n         &quot;1664341260&quot;:0,\r\n         &quot;1664341320&quot;:0\r\n      }\r\n   }\r\n]\r\n```\r\n\r\nand so on.... \r\n\r\n\r\nI want it like below to make it key value-pairs. \r\nLike this;\r\n\r\n    {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\r\n    {&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\r\nand So on.... for every response..\r\n\r\nI tried many things but couldn&#39;t succeeded.\r\nPlease guide, how can i achieve above..\r\n............................................","title":"How to deserialize a Json Response which has dynamic key value pairs","body":"<p>I have a response currently like below, and I want it to make it in one line.</p>\n<p>Current Reponse:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n   {\n      &quot;user_id&quot;:30826889,\n      &quot;hr&quot;:{\n         &quot;1664325660&quot;:65,\n         &quot;1664325720&quot;:65,\n         &quot;1664325780&quot;:70\n      },\n      &quot;rr&quot;:{\n         &quot;1664325660&quot;:18,\n         &quot;1664325720&quot;:17,\n         &quot;1664325780&quot;:15\n      },\n      &quot;snoring&quot;:{\n         &quot;1664325660&quot;:0,\n         &quot;1664325720&quot;:0,\n         &quot;1664325780&quot;:0\n      }\n   },\n   {\n      &quot;user_id&quot;:30826889,\n      &quot;hr&quot;:{\n         &quot;1664340780&quot;:72,\n         &quot;1664340840&quot;:70,\n         &quot;1664340900&quot;:71,\n         &quot;1664340960&quot;:70,\n         &quot;1664341020&quot;:67,\n         &quot;1664341080&quot;:71,\n         &quot;1664341140&quot;:69,\n         &quot;1664341200&quot;:68,\n         &quot;1664341260&quot;:66,\n         &quot;1664341320&quot;:68\n      },\n      &quot;rr&quot;:{\n         &quot;1664340780&quot;:20,\n         &quot;1664340840&quot;:20,\n         &quot;1664340900&quot;:19,\n         &quot;1664340960&quot;:20,\n         &quot;1664341020&quot;:19,\n         &quot;1664341080&quot;:19,\n         &quot;1664341140&quot;:19,\n         &quot;1664341200&quot;:21,\n         &quot;1664341260&quot;:22,\n         &quot;1664341320&quot;:22\n      },\n      &quot;snoring&quot;:{\n         &quot;1664340780&quot;:0,\n         &quot;1664340840&quot;:0,\n         &quot;1664340900&quot;:0,\n         &quot;1664340960&quot;:0,\n         &quot;1664341020&quot;:0,\n         &quot;1664341080&quot;:0,\n         &quot;1664341140&quot;:0,\n         &quot;1664341200&quot;:0,\n         &quot;1664341260&quot;:0,\n         &quot;1664341320&quot;:0\n      }\n   }\n]\n</code></pre>\n<p>and so on....</p>\n<p>I want it like below to make it key value-pairs.\nLike this;</p>\n<pre><code>{&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432xxxx&quot;,&quot;hr&quot;:65, &quot;rr&quot;:45, &quot;snoring&quot;:1 }\n{&quot;user_id&quot;: 30826889, &quot;timestamp&quot;: &quot;166432yyyy&quot;,&quot;hr&quot;:67, &quot;rr&quot;:23, &quot;snoring&quot;:2 }\n</code></pre>\n<p>and So on.... for every response..</p>\n<p>I tried many things but couldn't succeeded.\nPlease guide, how can i achieve above..\n............................................</p>\n"},{"tags":["java","adjacency-list","undirected-graph"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1666425277,"post_id":74161880,"comment_id":130937898,"body_markdown":"1) I recommended reading a line and not an `int` - easier to detect errors in input; 2) you don&#39;t want to create a new node if that node is already created - maybe you want a `HashMap` to (temporarily) store the nodes, mapping from the number to the Node (an array can also be used, if the number of nodes is known beforehand and their IDs is continuous, that is, 0,1,2,...(n-1) )","body":"1) I recommended reading a line and not an <code>int</code> - easier to detect errors in input; 2) you don&#39;t want to create a new node if that node is already created - maybe you want a <code>HashMap</code> to (temporarily) store the nodes, mapping from the number to the Node (an array can also be used, if the number of nodes is known beforehand and their IDs is continuous, that is, 0,1,2,...(n-1) )"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472593,"creation_date":1666472593,"answer_id":74167088,"question_id":74161880,"body_markdown":"Try this.\r\n\r\n        String input =\r\n            &quot;0 5\\r\\n&quot;\r\n            + &quot;4 3\\r\\n&quot;\r\n            + &quot;0 1\\r\\n&quot;\r\n            + &quot;9 12\\r\\n&quot;\r\n            + &quot;6 4\\r\\n&quot;\r\n            + &quot;5 4\\r\\n&quot;\r\n            + &quot;0 2\\r\\n&quot;\r\n            + &quot;11 12&quot;;\r\n        Scanner scanner = new Scanner(input);\r\n        Map&lt;Integer, Set&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\r\n        while (scanner.hasNextLine()) {\r\n            int[] nums = Stream.of(scanner.nextLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\r\n            graph.compute(nums[0], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[1]);\r\n            graph.compute(nums[1], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[0]);\r\n        }\r\n        for (Entry&lt;Integer, Set&lt;Integer&gt;&gt; e : graph.entrySet())\r\n            System.out.println(e);\r\n\r\noutput:\r\n\r\n    0=[1, 2, 5]\r\n    1=[0]\r\n    2=[0]\r\n    3=[4]\r\n    4=[3, 5, 6]\r\n    5=[0, 4]\r\n    6=[4]\r\n    9=[12]\r\n    11=[12]\r\n    12=[9, 11]\r\n\r\n","title":"Reading a text file into an undirected graph using adjacency list","body":"<p>Try this.</p>\n<pre><code>    String input =\n        &quot;0 5\\r\\n&quot;\n        + &quot;4 3\\r\\n&quot;\n        + &quot;0 1\\r\\n&quot;\n        + &quot;9 12\\r\\n&quot;\n        + &quot;6 4\\r\\n&quot;\n        + &quot;5 4\\r\\n&quot;\n        + &quot;0 2\\r\\n&quot;\n        + &quot;11 12&quot;;\n    Scanner scanner = new Scanner(input);\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\n    while (scanner.hasNextLine()) {\n        int[] nums = Stream.of(scanner.nextLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\n        graph.compute(nums[0], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[1]);\n        graph.compute(nums[1], (k, v) -&gt; v == null ? new HashSet&lt;&gt;() : v).add(nums[0]);\n    }\n    for (Entry&lt;Integer, Set&lt;Integer&gt;&gt; e : graph.entrySet())\n        System.out.println(e);\n</code></pre>\n<p>output:</p>\n<pre><code>0=[1, 2, 5]\n1=[0]\n2=[0]\n3=[4]\n4=[3, 5, 6]\n5=[0, 4]\n6=[4]\n9=[12]\n11=[12]\n12=[9, 11]\n</code></pre>\n"}],"owner":{"account_id":20822826,"reputation":9,"user_id":15294003,"display_name":"Florence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666472593,"creation_date":1666424581,"question_id":74161880,"body_markdown":"I am trying to create an undirected graph using a text file with the following format:\r\n```\r\n0 5\r\n4 3\r\n0 1\r\n9 12\r\n6 4\r\n5 4\r\n0 2\r\n11 12\r\n```\r\n\r\nI made a method to read the file and insert nodes/vertices into an arraylist. Each node/vertex has its own linked list within it to store neighboring nodes.This is what I have done so far.\r\n\r\n```\r\n//class for node/vertex\r\npublic class Node{\r\n   //member variables\r\n   private int vertex;\r\n   \r\n   LinkedList&lt;Node&gt; neighbors = new LinkedList&lt;Node&gt;();\r\n   \r\n   public Node (){\r\n     this.vertex = vertex;\r\n   }\r\n}\r\n\r\n\r\n//class for graph\r\npublic class Graph {\r\n   private String filename;\r\n   static ArrayList&lt;Node&gt; vertices;\r\n\r\n\r\n   public Graph (){\r\n     this.filename = filename;\r\n\t vertices = new ArrayList&lt;&gt;();\r\n   }\r\n   \r\n\r\n   public String getFilename() {\r\n\t\treturn filename;\r\n\t}\r\n\r\n\tpublic void setFilename(String filename) {\r\n\t\tthis.filename = filename;\r\n\t}\r\n\r\n\r\n\tpublic static void file_to_array(String filename) {\r\n\t\t//chosen file&#39;s name in string type converted to file type\r\n\t\tFile file = new File(filename);\r\n\t\t\r\n\t\t//scan the file with scanner object\r\n\t\t\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner (file);\r\n\t\t\t\tint n;\r\n\t\t\t\twhile(scan.hasNextInt()) {\r\n\t\t\t\t\tn = scan.nextInt();\r\n\t\t\t\t\tNode new_node = new Node(n);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//add node into the main static array, vertices\r\n\t\t\t\t\tvertices.add(new_node);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tscan.close();\r\n\t\t\t\t\t\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI am having trouble figuring out how to implement the undirected part of the code from where I have started. I am also a bit unsure if the code I have written so far will be able to create the graph properly. I am still pretty new to implementing graphs, so any advice will be helpful.","title":"Reading a text file into an undirected graph using adjacency list","body":"<p>I am trying to create an undirected graph using a text file with the following format:</p>\n<pre><code>0 5\n4 3\n0 1\n9 12\n6 4\n5 4\n0 2\n11 12\n</code></pre>\n<p>I made a method to read the file and insert nodes/vertices into an arraylist. Each node/vertex has its own linked list within it to store neighboring nodes.This is what I have done so far.</p>\n<pre><code>//class for node/vertex\npublic class Node{\n   //member variables\n   private int vertex;\n   \n   LinkedList&lt;Node&gt; neighbors = new LinkedList&lt;Node&gt;();\n   \n   public Node (){\n     this.vertex = vertex;\n   }\n}\n\n\n//class for graph\npublic class Graph {\n   private String filename;\n   static ArrayList&lt;Node&gt; vertices;\n\n\n   public Graph (){\n     this.filename = filename;\n     vertices = new ArrayList&lt;&gt;();\n   }\n   \n\n   public String getFilename() {\n        return filename;\n    }\n\n    public void setFilename(String filename) {\n        this.filename = filename;\n    }\n\n\n    public static void file_to_array(String filename) {\n        //chosen file's name in string type converted to file type\n        File file = new File(filename);\n        \n        //scan the file with scanner object\n        \n        try {\n            Scanner scan = new Scanner (file);\n                int n;\n                while(scan.hasNextInt()) {\n                    n = scan.nextInt();\n                    Node new_node = new Node(n);\n                    \n                    //add node into the main static array, vertices\n                    vertices.add(new_node);\n                    \n                }\n                scan.close();\n                    \n            } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n            }\n    }\n\n}\n\n</code></pre>\n<p>I am having trouble figuring out how to implement the undirected part of the code from where I have started. I am also a bit unsure if the code I have written so far will be able to create the graph properly. I am still pretty new to implementing graphs, so any advice will be helpful.</p>\n"},{"tags":["java","spring-security","jhipster","openid-connect"],"comments":[{"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"score":0,"creation_date":1629881329,"post_id":68918572,"comment_id":121801329,"body_markdown":"I also tried the approach using\norg.springframework.security.oauth.boot.spring-security-oauth2-autoconfigure\nas suggested here\nhttps://www.baeldung.com/spring-security-oauth-principal-authorities-extractor\n\nBut again the extractAuthorities method is not called.","body":"I also tried the approach using org.springframework.security.oauth.boot.spring-security-oaut&zwnj;&#8203;h2-autoconfigure as suggested here <a href=\"https://www.baeldung.com/spring-security-oauth-principal-authorities-extractor\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>  But again the extractAuthorities method is not called."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1629884336,"post_id":68918572,"comment_id":121802630,"body_markdown":"Actually we generally do the inverse of what you try to achieve, we try to translate a JWT into Spring Security&#39;s `GrantedAuthority`. Did you take a look at the documentation https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-advanced-map-authorities ? I had an almost similar issue few months ago and my mistake was that I mixed Oauth2 and Oidc.","body":"Actually we generally do the inverse of what you try to achieve, we try to translate a JWT into Spring Security&#39;s <code>GrantedAuthority</code>. Did you take a look at the documentation <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> ? I had an almost similar issue few months ago and my mistake was that I mixed Oauth2 and Oidc."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1629884589,"post_id":68918572,"comment_id":121802732,"body_markdown":"What I meant in my comment above is that I don&#39;t think that we can use `JwtAuthenticationConverter` in case of Oidc. I am not 100% sure. See also here https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-authorization-extraction","body":"What I meant in my comment above is that I don&#39;t think that we can use <code>JwtAuthenticationConverter</code> in case of Oidc. I am not 100% sure. See also here <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a>"},{"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"score":0,"creation_date":1629959728,"post_id":68918572,"comment_id":121825718,"body_markdown":"@akuma8 I refined the question, because my endgoal was a different one and I managed to achieve it thanks to your answers leading me into the correct direction. Thanks a lot!","body":"@akuma8 I refined the question, because my endgoal was a different one and I managed to achieve it thanks to your answers leading me into the correct direction. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629960121,"creation_date":1629960121,"answer_id":68933692,"question_id":68918572,"body_markdown":"Managed to achieve it using an authorities mapper that also extracts claims from the oidcToken:\r\n\r\n```\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    [...]\r\n   \r\n    @Bean\r\n    public GrantedAuthoritiesMapper userAuthoritiesMapper() {\r\n        return authorities -&gt; {\r\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\r\n\r\n            authorities.forEach(\r\n                authority -&gt; {\r\n                    // Check for OidcUserAuthority because Spring Security 5.2 returns\r\n                    // each scope as a GrantedAuthority, which we don&#39;t care about.\r\n                    if (authority instanceof OidcUserAuthority) {\r\n                        OidcUserAuthority oidcUserAuthority = (OidcUserAuthority) authority;\r\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getUserInfo().getClaims()));\r\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getIdToken().getClaims()));\r\n                    }\r\n                }\r\n            );\r\n            return mappedAuthorities;\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nand inside SecurityUtils:\r\n```\r\npublic static List&lt;GrantedAuthority&gt; extractAuthorityFromClaims(Map&lt;String, Object&gt; claims) {\r\n        return mapRolesToGrantedAuthorities(getRolesFromClaims(claims));\r\n    }\r\nprivate static List&lt;GrantedAuthority&gt; mapRolesToGrantedAuthorities(Collection&lt;String&gt; roles) {\r\n        return roles.stream().filter(role -&gt; role.startsWith(&quot;ROLE_&quot;)).map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nAfterwards the custom role should be present in mappedAuthorities and with it in the authorities of the token. Thus making the annotations &quot;hasRole&quot; and &quot;hasAuthority&quot; possible to use. ","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>Managed to achieve it using an authorities mapper that also extracts claims from the oidcToken:</p>\n<pre><code>public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    [...]\n   \n    @Bean\n    public GrantedAuthoritiesMapper userAuthoritiesMapper() {\n        return authorities -&gt; {\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\n\n            authorities.forEach(\n                authority -&gt; {\n                    // Check for OidcUserAuthority because Spring Security 5.2 returns\n                    // each scope as a GrantedAuthority, which we don't care about.\n                    if (authority instanceof OidcUserAuthority) {\n                        OidcUserAuthority oidcUserAuthority = (OidcUserAuthority) authority;\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getUserInfo().getClaims()));\n                        mappedAuthorities.addAll(SecurityUtils.extractAuthorityFromClaims(oidcUserAuthority.getIdToken().getClaims()));\n                    }\n                }\n            );\n            return mappedAuthorities;\n        };\n    }\n\n}\n</code></pre>\n<p>and inside SecurityUtils:</p>\n<pre><code>public static List&lt;GrantedAuthority&gt; extractAuthorityFromClaims(Map&lt;String, Object&gt; claims) {\n        return mapRolesToGrantedAuthorities(getRolesFromClaims(claims));\n    }\nprivate static List&lt;GrantedAuthority&gt; mapRolesToGrantedAuthorities(Collection&lt;String&gt; roles) {\n        return roles.stream().filter(role -&gt; role.startsWith(&quot;ROLE_&quot;)).map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n    }\n</code></pre>\n<p>Afterwards the custom role should be present in mappedAuthorities and with it in the authorities of the token. Thus making the annotations &quot;hasRole&quot; and &quot;hasAuthority&quot; possible to use.</p>\n"},{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666452349,"creation_date":1666369317,"answer_id":74156557,"question_id":68918572,"body_markdown":"This is the solution I found when using keycloak.\r\n```java\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\n@EnableWebSecurity(debug = true)\r\npublic class SecurityConfiguration {\r\n\r\n    private static final String REALM = &quot;realm_access&quot;;\r\n\r\n    private static final String ROLES = &quot;roles&quot;;\r\n\r\n    /**\r\n     * Configuration For oauth\r\n     */\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(source -&gt; new CustomJwtConfigure().convert(source));\r\n        return http.build();\r\n    }\r\n\r\n    public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\r\n\r\n        @Override\r\n        public JwtAuthenticationToken convert(Jwt jwt) {\r\n            var tokenAttributes = jwt.getClaims();\r\n            var jsonObject = (JSONObject) tokenAttributes.get(REALM);\r\n            var roles = (JSONArray) jsonObject.get(ROLES);\r\n            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n            roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\r\n            return new JwtAuthenticationToken(jwt, grantedAuthorities);\r\n        }\r\n    }\r\n}\r\n```\r\nLink to example https://github.com/kesaven8/resourceServer-spring-boot","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>This is the solution I found when using keycloak.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n@EnableWebSecurity(debug = true)\npublic class SecurityConfiguration {\n\n    private static final String REALM = &quot;realm_access&quot;;\n\n    private static final String ROLES = &quot;roles&quot;;\n\n    /**\n     * Configuration For oauth\n     */\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(source -&gt; new CustomJwtConfigure().convert(source));\n        return http.build();\n    }\n\n    public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\n\n        @Override\n        public JwtAuthenticationToken convert(Jwt jwt) {\n            var tokenAttributes = jwt.getClaims();\n            var jsonObject = (JSONObject) tokenAttributes.get(REALM);\n            var roles = (JSONArray) jsonObject.get(ROLES);\n            List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n            roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\n            return new JwtAuthenticationToken(jwt, grantedAuthorities);\n        }\n    }\n}\n</code></pre>\n<p>Link to example <a href=\"https://github.com/kesaven8/resourceServer-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/kesaven8/resourceServer-spring-boot</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666472467,"creation_date":1666461929,"answer_id":74165925,"question_id":68918572,"body_markdown":"# 2022 update\r\nI maintain a set of [tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials) and [samples](https://github.com/ch4mpy/spring-addons/tree/master/samples) to configure resource-servers security for:\r\n- both servlet and reactive applications\r\n- decoding JWTs and introspecting access-tokens\r\n- default or custom `Authentication` implementations\r\n- any OIDC authorization-server(s), including Keycloak of course (most samples support multiple realms / identity-providers)\r\n\r\n[The repo](https://github.com/ch4mpy/spring-addons) also contains a set of libs published on maven-central to:\r\n- mock OAuth2 identities during unit and integration tests (with authorities and any OpenID claim, including private ones)\r\n- configure resource-servers from properties file (including source claims for roles, roles prefix and case processing, CORS configuration, session-management, public routes and more)\r\n\r\n### Sample for a servlet with JWT decoder\r\n```java\r\n@EnableMethodSecurity(prePostEnabled = true)\r\n@Configuration\r\npublic class SecurityConfig {}\r\n```\r\n```properties\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\r\n```\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNo, nothing more requried.\r\n\r\n### Unit-tests with mocked authentication\r\nSecured `@Component` without http request (`@Service`, `@Repository`, etc.)\r\n```java\r\n@Import({ SecurityConfig.class, SecretRepo.class })\r\n@AutoConfigureAddonsSecurity\r\nclass SecretRepoTest {\r\n\r\n\t// auto-wire tested component\r\n\t@Autowired\r\n\tSecretRepo secretRepo;\r\n\r\n\t@Test\r\n\tvoid whenNotAuthenticatedThenThrows() {\r\n\t\t// call tested components methods directly (do not use MockMvc nor WebTestClient)\r\n\t\tassertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\r\n\tvoid whenAuthenticatedAsSomeoneElseThenThrows() {\r\n\t\tassertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\r\n\tvoid whenAuthenticatedWithSameUsernameThenReturns() {\r\n\t\tassertEquals(&quot;Don&#39;t ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\r\n\t}\r\n\r\n}\r\n```\r\nSecured `@Controller` (sample for `@WebMvcTest` but works for `@WebfluxTest` too) \r\n```java\r\n@WebMvcTest(GreetingController.class) // Use WebFluxTest or WebMvcTest\r\n@AutoConfigureAddonsWebSecurity // If your web-security depends on it, setup spring-addons security\r\n@Import({ SecurityConfig.class }) // Import your web-security configuration\r\nclass GreetingControllerAnnotatedTest {\r\n\r\n\t// Mock controller injected dependencies\r\n\t@MockBean\r\n\tprivate MessageService messageService;\r\n\r\n\t@Autowired\r\n\tMockMvcSupport api;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\twhen(messageService.greet(any())).thenAnswer(invocation -&gt; {\r\n\t\t\tfinal JwtAuthenticationToken auth = invocation.getArgument(0, JwtAuthenticationToken.class);\r\n\t\t\treturn String.format(&quot;Hello %s! You are granted with %s.&quot;, auth.getName(), auth.getAuthorities());\r\n\t\t});\r\n\t\twhen(messageService.getSecret()).thenReturn(&quot;Secret message&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid greetWitoutAuthentication() throws Exception {\r\n\t\tapi.get(&quot;/greet&quot;).andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockAuthentication(authType = JwtAuthenticationToken.class, principalType = Jwt.class, authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;)\r\n\tvoid greetWithDefaultMockAuthentication() throws Exception {\r\n\t\tapi.get(&quot;/greet&quot;).andExpect(content().string(&quot;Hello user! You are granted with [ROLE_AUTHORIZED_PERSONNEL].&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n### Advanced use-cases\r\nThe most advanced tutorial demoes how to define a custom `Authentication` implementation to parse (and expose to java code) any private claim into things that are security related but not roles (in the sample it&#39;s grant delegation between users).\r\n\r\nIt also shows how to extend spring-security SpEL to build a DSL like:\r\n```java\r\n@GetMapping(&quot;greet/on-behalf-of/{username}&quot;)\r\n@PreAuthorize(&quot;is(#username) or isNice() or onBehalfOf(#username).can(&#39;greet&#39;)&quot;)\r\npublic String getGreetingFor(@PathVariable(&quot;username&quot;) String username) {\r\n    return ...;\r\n}\r\n```","title":"Spring Security: extract oidc role claims to spring authorities","body":"<h1>2022 update</h1>\n<p>I maintain a set of <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">tutorials</a> and <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">samples</a> to configure resource-servers security for:</p>\n<ul>\n<li>both servlet and reactive applications</li>\n<li>decoding JWTs and introspecting access-tokens</li>\n<li>default or custom <code>Authentication</code> implementations</li>\n<li>any OIDC authorization-server(s), including Keycloak of course (most samples support multiple realms / identity-providers)</li>\n</ul>\n<p><a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">The repo</a> also contains a set of libs published on maven-central to:</p>\n<ul>\n<li>mock OAuth2 identities during unit and integration tests (with authorities and any OpenID claim, including private ones)</li>\n<li>configure resource-servers from properties file (including source claims for roles, roles prefix and case processing, CORS configuration, session-management, public routes and more)</li>\n</ul>\n<h3>Sample for a servlet with JWT decoder</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity(prePostEnabled = true)\n@Configuration\npublic class SecurityConfig {}\n</code></pre>\n<pre><code>com.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>No, nothing more requried.</p>\n<h3>Unit-tests with mocked authentication</h3>\n<p>Secured <code>@Component</code> without http request (<code>@Service</code>, <code>@Repository</code>, etc.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({ SecurityConfig.class, SecretRepo.class })\n@AutoConfigureAddonsSecurity\nclass SecretRepoTest {\n\n    // auto-wire tested component\n    @Autowired\n    SecretRepo secretRepo;\n\n    @Test\n    void whenNotAuthenticatedThenThrows() {\n        // call tested components methods directly (do not use MockMvc nor WebTestClient)\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n    @Test\n    @WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n    @Test\n    @WithMockJwtAuth(claims = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\n    void whenAuthenticatedWithSameUsernameThenReturns() {\n        assertEquals(&quot;Don't ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;));\n    }\n\n}\n</code></pre>\n<p>Secured <code>@Controller</code> (sample for <code>@WebMvcTest</code> but works for <code>@WebfluxTest</code> too)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(GreetingController.class) // Use WebFluxTest or WebMvcTest\n@AutoConfigureAddonsWebSecurity // If your web-security depends on it, setup spring-addons security\n@Import({ SecurityConfig.class }) // Import your web-security configuration\nclass GreetingControllerAnnotatedTest {\n\n    // Mock controller injected dependencies\n    @MockBean\n    private MessageService messageService;\n\n    @Autowired\n    MockMvcSupport api;\n\n    @BeforeEach\n    public void setUp() {\n        when(messageService.greet(any())).thenAnswer(invocation -&gt; {\n            final JwtAuthenticationToken auth = invocation.getArgument(0, JwtAuthenticationToken.class);\n            return String.format(&quot;Hello %s! You are granted with %s.&quot;, auth.getName(), auth.getAuthorities());\n        });\n        when(messageService.getSecret()).thenReturn(&quot;Secret message&quot;);\n    }\n\n    @Test\n    void greetWitoutAuthentication() throws Exception {\n        api.get(&quot;/greet&quot;).andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockAuthentication(authType = JwtAuthenticationToken.class, principalType = Jwt.class, authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;)\n    void greetWithDefaultMockAuthentication() throws Exception {\n        api.get(&quot;/greet&quot;).andExpect(content().string(&quot;Hello user! You are granted with [ROLE_AUTHORIZED_PERSONNEL].&quot;));\n    }\n}\n</code></pre>\n<h3>Advanced use-cases</h3>\n<p>The most advanced tutorial demoes how to define a custom <code>Authentication</code> implementation to parse (and expose to java code) any private claim into things that are security related but not roles (in the sample it's grant delegation between users).</p>\n<p>It also shows how to extend spring-security SpEL to build a DSL like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;greet/on-behalf-of/{username}&quot;)\n@PreAuthorize(&quot;is(#username) or isNice() or onBehalfOf(#username).can('greet')&quot;)\npublic String getGreetingFor(@PathVariable(&quot;username&quot;) String username) {\n    return ...;\n}\n</code></pre>\n"}],"owner":{"account_id":4466871,"reputation":311,"user_id":4437616,"accept_rate":71,"display_name":"Bat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4054,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68933692,"answer_count":3,"score":6,"last_activity_date":1666472467,"creation_date":1629876419,"question_id":68918572,"body_markdown":"I am trying to get role claims from an `OAuth2AuthenticationToken` to be detected as Spring Security authorities. There is a custom role defined on OIDC provider side (Azure AD in my case) that is nested inside the `DefaultOidcUser`, but not added automatically to the authorities:\r\n[![enter image description here][1]][1]\r\n\r\nI tried to extract them from the Jwt Token [like this][2]\r\n\r\n\r\nHowever, when I do that, neither of the following methods is called (neither during login, nor later, even in the default configuration):\r\n- `JwtGrantedAuthoritiesConverter.convert(Jwt)`\r\n- `JwtAuthenticationConverter.convert(Jwt)`\r\n- `JwtAuthenticationConverter.extractAuthorities(Jwt)`\r\n\r\n\r\nMy current configuration is:\r\n\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    @Import(SecurityProblemSupport.class)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            // @formatter:off\r\n            http\r\n                .csrf()\r\n                &lt;some more config that has nothing to do with oauth/oidc&gt;\r\n                .and()\r\n                .oauth2Login()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter())\r\n                .and()\r\n                .and()\r\n                .oauth2Client()\r\n            ;\r\n        }\r\n    \r\n        private JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n            // create a custom JWT converter to map the roles from the token as granted authorities\r\n            JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n            jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);     \r\n            JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n            jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n            return jwtAuthenticationConverter;\r\n        }\r\n    }\r\n\r\nI also tried with a \r\n\r\n    CustomJwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt;\r\n\r\nbut to no avail. \r\n\r\nAny help would be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LQPFz.png\r\n  [2]: https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp","title":"Spring Security: extract oidc role claims to spring authorities","body":"<p>I am trying to get role claims from an <code>OAuth2AuthenticationToken</code> to be detected as Spring Security authorities. There is a custom role defined on OIDC provider side (Azure AD in my case) that is nested inside the <code>DefaultOidcUser</code>, but not added automatically to the authorities:\n<a href=\"https://i.stack.imgur.com/LQPFz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LQPFz.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to extract them from the Jwt Token <a href=\"https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp\">like this</a></p>\n<p>However, when I do that, neither of the following methods is called (neither during login, nor later, even in the default configuration):</p>\n<ul>\n<li><code>JwtGrantedAuthoritiesConverter.convert(Jwt)</code></li>\n<li><code>JwtAuthenticationConverter.convert(Jwt)</code></li>\n<li><code>JwtAuthenticationConverter.extractAuthorities(Jwt)</code></li>\n</ul>\n<p>My current configuration is:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n@Import(SecurityProblemSupport.class)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Override\n    public void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n            .csrf()\n            &lt;some more config that has nothing to do with oauth/oidc&gt;\n            .and()\n            .oauth2Login()\n            .and()\n            .oauth2ResourceServer()\n            .jwt()\n            .jwtAuthenticationConverter(jwtAuthenticationConverter())\n            .and()\n            .and()\n            .oauth2Client()\n        ;\n    }\n\n    private JwtAuthenticationConverter jwtAuthenticationConverter() {\n        // create a custom JWT converter to map the roles from the token as granted authorities\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);     \n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n        return jwtAuthenticationConverter;\n    }\n}\n</code></pre>\n<p>I also tried with a</p>\n<pre><code>CustomJwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt;\n</code></pre>\n<p>but to no avail.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","inheritance","methods"],"answers":[{"tags":[],"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666435120,"creation_date":1666435120,"answer_id":74162809,"question_id":74162567,"body_markdown":"I think the problem here is, that you access a non static instance `c1` of class `Child1` from the context of a static variable &#39;Americano&#39;.\r\n\r\nTo solve this you could just make c1 static.","title":"Accessing a method from a Parent class from child1 and child2","body":"<p>I think the problem here is, that you access a non static instance <code>c1</code> of class <code>Child1</code> from the context of a static variable 'Americano'.</p>\n<p>To solve this you could just make c1 static.</p>\n"}],"owner":{"account_id":26700340,"reputation":1,"user_id":20307506,"display_name":"Kazumi Aoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666471813,"creation_date":1666432699,"question_id":74162567,"body_markdown":"I am learning methods, inheritance and I am also trying to learn how can I call a method from different class. I am trying to access the &quot;Order&quot; method from Parent but I am stuck in this problem because my error is &quot;Cannot make a static reference to the non-static field c1&quot;. How can I fix this problem? \r\n```java\r\nclass Parent {\r\n    Child1 c1 = new Child1();\r\n    public static int Americano = c1.Americano; // error\r\n    static int CaffeLatte = c1.CaffeLatte;\r\n    static int Cappuccino = c1.Cappuccino;\r\n\r\n    static void order() {\r\n        // some statements about choosing which coffee\r\n    }\r\n\r\n    class Child1 extends Parent {\r\n        int Americano = 100;\r\n        int CaffeLatte = 125;\r\n        int Cappuccino = 150;\r\n        public Child1() {}\r\n    }\r\n\r\n    class Child2 extends Child1 {\r\n        public Child2() {\r\n            Parent.order(); // Here is what I am trying to do.\r\n        }\r\n    }\r\n}\r\n```","title":"Accessing a method from a Parent class from child1 and child2","body":"<p>I am learning methods, inheritance and I am also trying to learn how can I call a method from different class. I am trying to access the &quot;Order&quot; method from Parent but I am stuck in this problem because my error is &quot;Cannot make a static reference to the non-static field c1&quot;. How can I fix this problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n    Child1 c1 = new Child1();\n    public static int Americano = c1.Americano; // error\n    static int CaffeLatte = c1.CaffeLatte;\n    static int Cappuccino = c1.Cappuccino;\n\n    static void order() {\n        // some statements about choosing which coffee\n    }\n\n    class Child1 extends Parent {\n        int Americano = 100;\n        int CaffeLatte = 125;\n        int Cappuccino = 150;\n        public Child1() {}\n    }\n\n    class Child2 extends Child1 {\n        public Child2() {\n            Parent.order(); // Here is what I am trying to do.\n        }\n    }\n}\n</code></pre>\n"},{"tags":["dart","java","javac","bytecode"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1666619845,"post_id":74154474,"comment_id":130973750,"body_markdown":"https://stackoverflow.com/questions/71834059/why-invokedynamic-based-string-concatenation-is-not-available-for-javac-in-java","body":"<a href=\"https://stackoverflow.com/questions/71834059/why-invokedynamic-based-string-concatenation-is-not-available-for-javac-in-java\" title=\"why invokedynamic based string concatenation is not available for javac in java\">stackoverflow.com/questions/71834059/&hellip;</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1668189735,"post_id":74154474,"comment_id":131353544,"body_markdown":"Why does this question have a &#39;dart&#39; tag? I see it didn&#39;t have that tag when created. It seems not possible to remove. Weird.","body":"Why does this question have a &#39;dart&#39; tag? I see it didn&#39;t have that tag when created. It seems not possible to remove. Weird."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1668192830,"post_id":74154474,"comment_id":131354385,"body_markdown":"@Lii You&#39;re not the first one to notice. It&#39;s being discussed [here on Meta](https://meta.stackoverflow.com/questions/421265/why-is-this-question-shown-with-a-tag-dart-it-doesnt-have).","body":"@Lii You&#39;re not the first one to notice. It&#39;s being discussed <a href=\"https://meta.stackoverflow.com/questions/421265/why-is-this-question-shown-with-a-tag-dart-it-doesnt-have\">here on Meta</a>."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1666361288,"creation_date":1666361288,"answer_id":74154912,"question_id":74154474,"body_markdown":"It&#39;s explained in [the JEP](https://openjdk.org/jeps/280). Emphasis mine\r\n\r\n&gt; java.base exemptions. Since this feature uses a core library feature\r\n&gt; (java.lang.invoke) to implement a core language feature (String\r\n&gt; concatenation), we have to exempt the java.base module from using the\r\n&gt; indified String concat. **Otherwise a circularity happens** when the\r\n&gt; java.lang.invoke.* machinery requires String concat to work, which in\r\n&gt; turn requires the java.lang.invoke.* machinery. This exemption may\r\n&gt; limit the performance improvements observed from this feature, since\r\n&gt; many java.base classes will not be able to use it. We consider this an\r\n&gt; acceptable downside, which should be covered by the VM&#39;s optimizing\r\n&gt; compilers.","title":"Optimizations of &quot;+&quot; operand for strings in JDK 17","body":"<p>It's explained in <a href=\"https://openjdk.org/jeps/280\" rel=\"noreferrer\">the JEP</a>. Emphasis mine</p>\n<blockquote>\n<p>java.base exemptions. Since this feature uses a core library feature\n(java.lang.invoke) to implement a core language feature (String\nconcatenation), we have to exempt the java.base module from using the\nindified String concat. <strong>Otherwise a circularity happens</strong> when the\njava.lang.invoke.* machinery requires String concat to work, which in\nturn requires the java.lang.invoke.* machinery. This exemption may\nlimit the performance improvements observed from this feature, since\nmany java.base classes will not be able to use it. We consider this an\nacceptable downside, which should be covered by the VM's optimizing\ncompilers.</p>\n</blockquote>\n"}],"owner":{"account_id":26693138,"reputation":231,"user_id":20301418,"display_name":"Hyrio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":1,"score":23,"last_activity_date":1666470880,"creation_date":1666359302,"question_id":74154474,"body_markdown":"We know that in JDK8 and below, strings using a plus sign for concatenation will be compiled into StringBuilder for performance optimization, but after JDK9, it will be implemented using the `java.lang.invoke.StringConcatFactory#makeConcatWithConstants` method.\r\n\r\nHowever, after decompiling `java.lang.Object`, it can be seen that its `toString` method is still implemented using StringBuilder:\r\n\r\n    public java.lang.String toString();\r\n    descriptor: ()Ljava/lang/String;\r\n    flags: (0x0001) ACC_PUBLIC\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: new           #1                  // class java/lang/StringBuilder\r\n         3: dup\r\n         4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n         7: aload_0\r\n         8: invokevirtual #7                  // Method getClass:()Ljava/lang/Class;\r\n        11: invokevirtual #13                 // Method java/lang/Class.getName:()Ljava/lang/String;\r\n        14: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        17: ldc           #23                 // String @\r\n        19: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        22: aload_0\r\n        23: invokevirtual #25                 // Method hashCode:()I\r\n        26: invokestatic  #29                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\r\n        29: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        32: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n        35: areturn\r\n      LineNumberTable:\r\n        line 256: 0\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0      36     0  this   Ljava/lang/Object;\r\n\r\n\r\n\r\nLooking through the source code, it can be seen that it still uses the plus sign to connect the three parts:\r\n\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }\r\n\r\nRewrite the same code into a class to compile:\r\n\r\n    public class Main {\r\n        public String fooString() {\r\n            return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n        }\r\n    }\r\n\r\nIt can be seen from the decompilation that it is still implemented using the `java.lang.invoke.StringConcatFactory#makeConcatWithConstants` method:\r\n\r\n\r\n    public java.lang.String fooString();\r\n        descriptor: ()Ljava/lang/String;\r\n        flags: (0x0001) ACC_PUBLIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n            start local 0 // Main this\r\n             0: aload_0\r\n             1: invokevirtual #7                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\r\n             4: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;\r\n             7: aload_0\r\n             8: invokevirtual #17                 // Method java/lang/Object.hashCode:()I\r\n            11: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\r\n            14: invokedynamic #27,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n            19: areturn\r\n            end local 0 // Main this\r\n          LineNumberTable:\r\n          LocalVariableTable:\r\n            Start  Length  Slot  Name   Signature\r\n                0      20     0  this   LMain;\r\n\r\nSo why is the plus sign used in `Object` class implemented using `StringBuilder` while class `A`(mentioned above) using `makeConcatWithConstants`? Does the bytecode of the Object class provided by the JDK do not match the source code, or is there a special optimization for the Object class at compile time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j5n7r.jpg\r\n  [2]: https://i.stack.imgur.com/GKL3B.png\r\n  [3]: https://i.stack.imgur.com/grctf.jpg\r\n  [4]: https://i.stack.imgur.com/j18Nj.jpg","title":"Optimizations of &quot;+&quot; operand for strings in JDK 17","body":"<p>We know that in JDK8 and below, strings using a plus sign for concatenation will be compiled into StringBuilder for performance optimization, but after JDK9, it will be implemented using the <code>java.lang.invoke.StringConcatFactory#makeConcatWithConstants</code> method.</p>\n<p>However, after decompiling <code>java.lang.Object</code>, it can be seen that its <code>toString</code> method is still implemented using StringBuilder:</p>\n<pre><code>public java.lang.String toString();\ndescriptor: ()Ljava/lang/String;\nflags: (0x0001) ACC_PUBLIC\nCode:\n  stack=2, locals=1, args_size=1\n     0: new           #1                  // class java/lang/StringBuilder\n     3: dup\n     4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n     7: aload_0\n     8: invokevirtual #7                  // Method getClass:()Ljava/lang/Class;\n    11: invokevirtual #13                 // Method java/lang/Class.getName:()Ljava/lang/String;\n    14: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    17: ldc           #23                 // String @\n    19: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    22: aload_0\n    23: invokevirtual #25                 // Method hashCode:()I\n    26: invokestatic  #29                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\n    29: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    32: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n    35: areturn\n  LineNumberTable:\n    line 256: 0\n  LocalVariableTable:\n    Start  Length  Slot  Name   Signature\n        0      36     0  this   Ljava/lang/Object;\n</code></pre>\n<p>Looking through the source code, it can be seen that it still uses the plus sign to connect the three parts:</p>\n<pre><code>public String toString() {\n    return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n}\n</code></pre>\n<p>Rewrite the same code into a class to compile:</p>\n<pre><code>public class Main {\n    public String fooString() {\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n    }\n}\n</code></pre>\n<p>It can be seen from the decompilation that it is still implemented using the <code>java.lang.invoke.StringConcatFactory#makeConcatWithConstants</code> method:</p>\n<pre><code>public java.lang.String fooString();\n    descriptor: ()Ljava/lang/String;\n    flags: (0x0001) ACC_PUBLIC\n    Code:\n      stack=2, locals=1, args_size=1\n        start local 0 // Main this\n         0: aload_0\n         1: invokevirtual #7                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\n         4: invokevirtual #11                 // Method java/lang/Class.getName:()Ljava/lang/String;\n         7: aload_0\n         8: invokevirtual #17                 // Method java/lang/Object.hashCode:()I\n        11: invokestatic  #21                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;\n        14: invokedynamic #27,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n        19: areturn\n        end local 0 // Main this\n      LineNumberTable:\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      20     0  this   LMain;\n</code></pre>\n<p>So why is the plus sign used in <code>Object</code> class implemented using <code>StringBuilder</code> while class <code>A</code>(mentioned above) using <code>makeConcatWithConstants</code>? Does the bytecode of the Object class provided by the JDK do not match the source code, or is there a special optimization for the Object class at compile time?</p>\n"},{"tags":["java","algorithm","data-structures","stack"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":10,"creation_date":1370638470,"post_id":16992758,"comment_id":24550228,"body_markdown":"Note: `Stack` is obsolete, you should use a `Deque` instead (for instance an `ArrayDeque`","body":"Note: <code>Stack</code> is obsolete, you should use a <code>Deque</code> instead (for instance an <code>ArrayDeque</code>"},{"owner":{"account_id":2780943,"reputation":9651,"user_id":2393509,"accept_rate":88,"display_name":"jtomaszk"},"score":0,"creation_date":1370638654,"post_id":16992758,"comment_id":24550298,"body_markdown":"And what if you use pop() operation?","body":"And what if you use pop() operation?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":4,"creation_date":1370638722,"post_id":16992758,"comment_id":24550324,"body_markdown":"In support of fge&#39;s comment, in the doc of [Stack](http://docs.oracle.com/javase/7/docs/api/java/util/Stack.html) class: `A more complete and consistent set of LIFO stack operations is provided by the Deque interface and its implementations, which should be used in preference to this class.`","body":"In support of fge&#39;s comment, in the doc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\">Stack</a> class: <code>A more complete and consistent set of LIFO stack operations is provided by the Deque interface and its implementations, which should be used in preference to this class.</code>"},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1370638858,"post_id":16992758,"comment_id":24550389,"body_markdown":"see pop() Returns:\nThe object at the top of this stack (the last item of the Vector object). the last item , so here u realize that is not the first in the structure inside, so when u iterate u should make a reverse iteration hihi, very bad design","body":"see pop() Returns: The object at the top of this stack (the last item of the Vector object). the last item , so here u realize that is not the first in the structure inside, so when u iterate u should make a reverse iteration hihi, very bad design"}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1370638704,"creation_date":1370638704,"answer_id":16992843,"question_id":16992758,"body_markdown":"See [Bug ID 4475301 : RFE: java.util.Stack.iterator() iterates the wrong way][1].  This behavior is by (bad) design. Java&#39;s built-in [`Stack`][2] iterator methods are inherited from other classes, so they don&#39;t behave as you&#39;d expect.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4475301\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Stack.html","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>See <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4475301\" rel=\"nofollow noreferrer\">Bug ID 4475301 : RFE: java.util.Stack.iterator() iterates the wrong way</a>.  This behavior is by (bad) design. Java's built-in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\"><code>Stack</code></a> iterator methods are inherited from other classes, so they don't behave as you'd expect.</p>\n"},{"tags":[],"owner":{"account_id":128749,"reputation":21660,"user_id":326820,"accept_rate":99,"display_name":"Shamim Hafiz - MSFT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370638890,"creation_date":1370638890,"answer_id":16992887,"question_id":16992758,"body_markdown":"Well by principle, you should not iterate over a `Stack`, but only push on top or pop from top. As for actual implementation, most languages, including Java, use another `collection type` to implement a `Stack`. From strict requirements point of view, it should allow constant time `push, top and pop` operation.\r\n\r\nAny additional features (or bug in this case), should just be ignored and not relied upon for coding.\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Well by principle, you should not iterate over a <code>Stack</code>, but only push on top or pop from top. As for actual implementation, most languages, including Java, use another <code>collection type</code> to implement a <code>Stack</code>. From strict requirements point of view, it should allow constant time <code>push, top and pop</code> operation.</p>\n\n<p>Any additional features (or bug in this case), should just be ignored and not relied upon for coding.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487016367,"creation_date":1378221729,"answer_id":18595942,"question_id":16992758,"body_markdown":"[Eclipse Collections][1] includes a [mutable stack implementation][2] where the iterator returns values from top to bottom. This code prints 3, 2, then 1.\r\n\r\n    MutableStack&lt;Integer&gt; stack = ArrayStack.newStack();\r\n    stack.push(1);\r\n    stack.push(2);\r\n    stack.push(3);\r\n    for (Iterator&lt;Integer&gt; iterator = stack.iterator(); iterator.hasNext(); )\r\n    {\r\n        Integer each = iterator.next();\r\n        System.out.println(each);\r\n    }\r\n\r\n`MutableStack` does not extend `MutableCollection` or `Collection`, so that you can&#39;t remove from the middle of the stack, for example. Methods that implement internal iteration patterns like `forEach()`, `select()`, `collect()`, `anySatisfy()`, `allSatisfy()`, etc. also process elements from top to bottom. This code prints the same thing.\r\n\r\n    stack.forEach(Procedures.println(System.out));\r\n\r\n\r\n**Note:** I am a committer for Eclipse collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/stack/MutableStack.java","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p><a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> includes a <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/stack/MutableStack.java\" rel=\"nofollow noreferrer\">mutable stack implementation</a> where the iterator returns values from top to bottom. This code prints 3, 2, then 1.</p>\n\n<pre><code>MutableStack&lt;Integer&gt; stack = ArrayStack.newStack();\nstack.push(1);\nstack.push(2);\nstack.push(3);\nfor (Iterator&lt;Integer&gt; iterator = stack.iterator(); iterator.hasNext(); )\n{\n    Integer each = iterator.next();\n    System.out.println(each);\n}\n</code></pre>\n\n<p><code>MutableStack</code> does not extend <code>MutableCollection</code> or <code>Collection</code>, so that you can't remove from the middle of the stack, for example. Methods that implement internal iteration patterns like <code>forEach()</code>, <code>select()</code>, <code>collect()</code>, <code>anySatisfy()</code>, <code>allSatisfy()</code>, etc. also process elements from top to bottom. This code prints the same thing.</p>\n\n<pre><code>stack.forEach(Procedures.println(System.out));\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse collections.</p>\n"},{"tags":[],"owner":{"account_id":1480499,"reputation":2636,"user_id":1390015,"display_name":"tbraun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403171539,"creation_date":1403171539,"answer_id":24303695,"question_id":16992758,"body_markdown":"Stack inherits *.listIterator()* from *AbstractList* which allows inverse order iteration.\r\n\r\n\tStack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n\tstack.push(1);\r\n\tstack.push(2);\r\n\tstack.push(3);\r\n\tfor (ListIterator&lt;Integer&gt; iterator = stack.listIterator(stack.size()); iterator.hasPrevious();) {\r\n\t\tInteger integer = iterator.previous();\r\n\t\tSystem.out.println(integer);\r\n\t}\r\n\t// Output: 3 2 1\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Stack inherits <em>.listIterator()</em> from <em>AbstractList</em> which allows inverse order iteration.</p>\n\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\nstack.push(1);\nstack.push(2);\nstack.push(3);\nfor (ListIterator&lt;Integer&gt; iterator = stack.listIterator(stack.size()); iterator.hasPrevious();) {\n    Integer integer = iterator.previous();\n    System.out.println(integer);\n}\n// Output: 3 2 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257351,"reputation":266,"user_id":538708,"display_name":"Bashir"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1418671986,"creation_date":1418671986,"answer_id":27491697,"question_id":16992758,"body_markdown":"You should use Deque instead of Stack.\r\n\r\n    Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();\r\n\r\n[See Oracle Doc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>You should use Deque instead of Stack.</p>\n\n<pre><code>Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"noreferrer\">See Oracle Doc</a></p>\n"},{"tags":[],"owner":{"account_id":3251679,"reputation":21,"user_id":2741750,"display_name":"William Han"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436902271,"creation_date":1436901590,"answer_id":31415476,"question_id":16992758,"body_markdown":"Perhaps, you can use .get() to print items within stack from top to bottom.\r\n\r\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n    stack.push(3);\r\n    stack.push(2);\r\n    stack.push(1);\r\n    // print from top to bottom\r\n    for(int i = stack.size() - 1; i &gt;= 0; i--){\r\n       System.out.println(stack.get(i));\r\n    }\r\n    /*\r\n    output\r\n    1\r\n    2\r\n    3\r\n    */\r\n","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Perhaps, you can use .get() to print items within stack from top to bottom.</p>\n\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\nstack.push(3);\nstack.push(2);\nstack.push(1);\n// print from top to bottom\nfor(int i = stack.size() - 1; i &gt;= 0; i--){\n   System.out.println(stack.get(i));\n}\n/*\noutput\n1\n2\n3\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600165694,"creation_date":1600165694,"answer_id":63899940,"question_id":16992758,"body_markdown":"Instead of a `Stack` you can use a `LinkedList` and use the [`push`][1] and [`pop`][2] methods.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#push(E)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#pop()","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Instead of a <code>Stack</code> you can use a <code>LinkedList</code> and use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#push(E)\" rel=\"nofollow noreferrer\"><code>push</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#pop()\" rel=\"nofollow noreferrer\"><code>pop</code></a> methods.</p>\n"},{"tags":[],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470813,"creation_date":1666470813,"answer_id":74166922,"question_id":16992758,"body_markdown":"Here&#39;s a stack implementation with built-in reverse order iteration.\r\n\r\n```java\r\npublic class PowerStack&lt;T&gt; implements Iterable {\r\n\tprivate List&lt;T&gt; items = new ArrayList&lt;T&gt;();\r\n\t\r\n\tvoid push(T item) {\r\n\t\titems.add(item);\r\n\t}\r\n\t\r\n\tvoid pop() {\r\n\t\tthis.items.remove(this.topElementIndex());\r\n\t}\r\n\t\r\n\tT top() {\r\n\t\treturn items.get(this.topElementIndex());\r\n\t}\r\n\t\r\n\tprivate int topElementIndex() {\r\n\t\treturn items.size() - 1;\r\n\t}\r\n\t\t\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n    \treturn new ReverseOrderIterator&lt;T&gt;(items);\r\n    }\r\n}\r\n\r\npublic class ReverseOrderIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\tprivate List&lt;T&gt; items;\r\n\tprivate int index;\r\n\t\r\n\tpublic ReverseOrderIterator(List&lt;T&gt; items) {\r\n\t\tthis.items = items;\r\n\t\tthis.index = items.size() - 1;\r\n\t}\r\n\t\r\n\tpublic boolean hasNext() {\r\n\t\treturn this.index &gt; 0;\r\n\t}\r\n\t\r\n\tpublic T next() {\r\n\t\treturn this.items.get(index--);\r\n\t}\r\n}\r\n\r\n```","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Here's a stack implementation with built-in reverse order iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PowerStack&lt;T&gt; implements Iterable {\n    private List&lt;T&gt; items = new ArrayList&lt;T&gt;();\n    \n    void push(T item) {\n        items.add(item);\n    }\n    \n    void pop() {\n        this.items.remove(this.topElementIndex());\n    }\n    \n    T top() {\n        return items.get(this.topElementIndex());\n    }\n    \n    private int topElementIndex() {\n        return items.size() - 1;\n    }\n        \n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new ReverseOrderIterator&lt;T&gt;(items);\n    }\n}\n\npublic class ReverseOrderIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    private List&lt;T&gt; items;\n    private int index;\n    \n    public ReverseOrderIterator(List&lt;T&gt; items) {\n        this.items = items;\n        this.index = items.size() - 1;\n    }\n    \n    public boolean hasNext() {\n        return this.index &gt; 0;\n    }\n    \n    public T next() {\n        return this.items.get(index--);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12111,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":16992843,"answer_count":8,"score":45,"last_activity_date":1666470813,"creation_date":1370638351,"question_id":16992758,"body_markdown":"Today I was trying to push in `java.util.Stack` class and then use the `Iterator` to iterate (without using pop) through the items. I was expecting LIFO property but got surprised.\r\n\r\nHere is the code that I was trying.\r\n \r\n    import java.util.*;\r\n    import java.util.Stack;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            RobStack&lt;Integer&gt; rstack = new RobStack&lt;Integer&gt;(); // Correct Implementation\r\n            Stack&lt;Integer&gt; jstack = new Stack&lt;Integer&gt;(); // Default Java Implementation\r\n            rstack.push(0); jstack.push(0);\r\n            rstack.push(1); jstack.push(1);\r\n            rstack.push(2); jstack.push(2);\r\n            rstack.push(3); jstack.push(3);\r\n    \r\n            System.out.print(&quot;Algo Stack: &quot;);\r\n            for (int i : rstack)\r\n                System.out.print(i + &quot; &quot;);\r\n            System.out.print(&quot;\\nJava Stack: &quot;);\r\n            for (int i : jstack)\r\n                System.out.print(i + &quot; &quot;);\r\n        }\r\n    \r\n    }\r\n\r\nThe output the above program is given below:\r\n\r\n    Algo Stack: 3 2 1 0 \r\n    Java Stack: 0 1 2 3 \r\n\r\nIn the above code `jstack` uses the default Java implementation and `rstack` uses the [implementation provided by Robert Sedgewick][1] for his Algorithm class. I found that Prof. Robert&#39;s implementation works fine but the `java.util.Stack` implementation fails. \r\n\r\nIs it a **bug** or is it by **design**?\r\n \r\n\r\n\r\n  [1]: http://algs4.cs.princeton.edu/13stacks/Stack.java","title":"Is there a bug in java.util.Stack&#39;s Iterator?","body":"<p>Today I was trying to push in <code>java.util.Stack</code> class and then use the <code>Iterator</code> to iterate (without using pop) through the items. I was expecting LIFO property but got surprised.</p>\n\n<p>Here is the code that I was trying.</p>\n\n<pre><code>import java.util.*;\nimport java.util.Stack;\n\npublic class Main {\n    public static void main(String[] args) {\n        RobStack&lt;Integer&gt; rstack = new RobStack&lt;Integer&gt;(); // Correct Implementation\n        Stack&lt;Integer&gt; jstack = new Stack&lt;Integer&gt;(); // Default Java Implementation\n        rstack.push(0); jstack.push(0);\n        rstack.push(1); jstack.push(1);\n        rstack.push(2); jstack.push(2);\n        rstack.push(3); jstack.push(3);\n\n        System.out.print(\"Algo Stack: \");\n        for (int i : rstack)\n            System.out.print(i + \" \");\n        System.out.print(\"\\nJava Stack: \");\n        for (int i : jstack)\n            System.out.print(i + \" \");\n    }\n\n}\n</code></pre>\n\n<p>The output the above program is given below:</p>\n\n<pre><code>Algo Stack: 3 2 1 0 \nJava Stack: 0 1 2 3 \n</code></pre>\n\n<p>In the above code <code>jstack</code> uses the default Java implementation and <code>rstack</code> uses the <a href=\"http://algs4.cs.princeton.edu/13stacks/Stack.java\" rel=\"noreferrer\">implementation provided by Robert Sedgewick</a> for his Algorithm class. I found that Prof. Robert's implementation works fine but the <code>java.util.Stack</code> implementation fails. </p>\n\n<p>Is it a <strong>bug</strong> or is it by <strong>design</strong>?</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":0,"creation_date":1666466495,"post_id":74166440,"comment_id":130945722,"body_markdown":"I think on the last code block is missing the dataSetY?","body":"I think on the last code block is missing the dataSetY?"},{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":2,"creation_date":1666466657,"post_id":74166440,"comment_id":130945745,"body_markdown":"The first simple thing I would change, is change the name from getPersons to addPersons. Get seems that the method won&#39;t change the state in any parameter.","body":"The first simple thing I would change, is change the name from getPersons to addPersons. Get seems that the method won&#39;t change the state in any parameter."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666466679,"post_id":74166440,"comment_id":130945749,"body_markdown":"@digao_mb: I omitted it because it is basically similar but only goes over `dataSetY`. I can add it if it causes confusion","body":"@digao_mb: I omitted it because it is basically similar but only goes over <code>dataSetY</code>. I can add it if it causes confusion"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470430,"creation_date":1666470430,"answer_id":74166884,"question_id":74166440,"body_markdown":"In my view, this method is not simple and future user of this method will be surprised that this method adds\r\ndata to `List&lt;Person&gt; persons`. Why? As method is named `getPersons`. In my view, people will be think that this method will just return data, not add new data to `List&lt;Person&gt; persons`.\r\n\r\nSo, it is better to be consistent with naming of method and do just one thing in method. So I would just read data in method:\r\n\r\n    public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX) {\r\n\t\tList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        if(dataSetX != null) {\r\n            while (dataSetX.hasNext()) {\r\n                // create an instance of person with very specific attributes set\r\n                persons.add(processX(dataSetX.next()));\r\n            }\r\n        }\r\n        return persons;\r\n\t}\r\n\t\r\nand the second method should look like the above method:\r\n\r\n\tpublic static List&lt;Person&gt; getPersons(String a, DataSetY dataSetX) {\r\n\t\tList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        if(dataSetX != null) {\r\n            while (dataSetX.hasNext()) {\r\n                // create an instance of person with very specific attributes set\r\n                persons.add(processX(dataSetX.next()));\r\n            }\r\n        }\r\n        return persons;\r\n\t}\t\r\n\r\nIn addition, this method can be placed in repository layer. [Read more about Repository pattern][1].\r\n\r\n\r\nAnd then you can create a collection and add these data from two methods. I am not Java guy, however, I think\r\nit can be done like this:\r\n\r\n\tList&lt;Person&gt; overallPersons = new ArrayList&lt;&gt;();\r\n\tCollections.addAll(list, getPersons(String a, DataSetX dataSetX));\r\n\tCollections.addAll(list, getPersons(String a, DataSetY dataSetX));\r\n\t\r\n\t\r\n[Read more how to add multiple items to collection in Java][2]\r\n\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31305199/repository-pattern-how-to-understand-it-and-how-does-it-work-with-complex-en\r\n  [2]: https://stackoverflow.com/questions/15213974/add-multiple-items-to-an-already-initialized-arraylist-in-java","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>In my view, this method is not simple and future user of this method will be surprised that this method adds\ndata to <code>List&lt;Person&gt; persons</code>. Why? As method is named <code>getPersons</code>. In my view, people will be think that this method will just return data, not add new data to <code>List&lt;Person&gt; persons</code>.</p>\n<p>So, it is better to be consistent with naming of method and do just one thing in method. So I would just read data in method:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX) {\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    if(dataSetX != null) {\n        while (dataSetX.hasNext()) {\n            // create an instance of person with very specific attributes set\n            persons.add(processX(dataSetX.next()));\n        }\n    }\n    return persons;\n}\n</code></pre>\n<p>and the second method should look like the above method:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetY dataSetX) {\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    if(dataSetX != null) {\n        while (dataSetX.hasNext()) {\n            // create an instance of person with very specific attributes set\n            persons.add(processX(dataSetX.next()));\n        }\n    }\n    return persons;\n}   \n</code></pre>\n<p>In addition, this method can be placed in repository layer. <a href=\"https://stackoverflow.com/questions/31305199/repository-pattern-how-to-understand-it-and-how-does-it-work-with-complex-en\">Read more about Repository pattern</a>.</p>\n<p>And then you can create a collection and add these data from two methods. I am not Java guy, however, I think\nit can be done like this:</p>\n<pre><code>List&lt;Person&gt; overallPersons = new ArrayList&lt;&gt;();\nCollections.addAll(list, getPersons(String a, DataSetX dataSetX));\nCollections.addAll(list, getPersons(String a, DataSetY dataSetX));\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/15213974/add-multiple-items-to-an-already-initialized-arraylist-in-java\">Read more how to add multiple items to collection in Java</a></p>\n"},{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666470439,"creation_date":1666470439,"answer_id":74166885,"question_id":74166440,"body_markdown":"In case if your datasets can be transformed in `Stream` you can try something like this:\r\n```\r\nStream&lt;Object&gt; streamX = dataSetX.stream().map(e -&gt; processX(e));\r\nStream&lt;Object&gt; streamY = dataSetY.stream().map(e -&gt; processY(e));\r\nList&lt;Person&gt; persons= Stream.concat(streamX , streamY).collect(Collectors.toList());\r\n```","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>In case if your datasets can be transformed in <code>Stream</code> you can try something like this:</p>\n<pre><code>Stream&lt;Object&gt; streamX = dataSetX.stream().map(e -&gt; processX(e));\nStream&lt;Object&gt; streamY = dataSetY.stream().map(e -&gt; processY(e));\nList&lt;Person&gt; persons= Stream.concat(streamX , streamY).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666470439,"creation_date":1666466001,"question_id":74166440,"body_markdown":"I have a method as follows (simplified for clarity and brevity):  \r\n\r\n    public static List&lt;Person&gt; getPersons(String a, int b, DataSetX dataSetX, DataSetY dataSetY) {\r\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n            \r\n            if(dataSetX != null) {\r\n                while (dataSetX.hasNext()) {\r\n                    // create an instance of person with very specific attributes set                \r\n                    persons.add(processX(dataSetX.next()));\r\n                }\r\n            }\r\n    \r\n            if(dataSetY != null) {\r\n                while (dataSetY.hasNext()) {\r\n                   // create an instance of person with very specific attributes set               \r\n                    persons.add(processY(dataSetY.next()));\r\n                }\r\n            }\r\n            return persons;        \r\n        } \r\n\r\nThe method in reality is a bit more complicate than this (doing a bit more processing using also the `a` and `b` variables) but overall this is the method structure.  \r\n\r\nI was thinking to split this method into 2, one method for dealing with `DataSetX` and the other with `DataSetY`.  \r\nI was thinking to structure it as follows:  \r\n\r\n    public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX, List&lt;Person&gt; persons) {\r\n            if(dataSetX != null) {\r\n                while (dataSetX.hasNext()) {\r\n                    // create an instance of person with very specific attributes set\r\n                    persons.add(processX(dataSetX.next()));\r\n                }\r\n            }\r\n            return persons;\r\n    }\r\n\r\nI would then call the methods as follows:  \r\n\r\n    List&lt;Person&gt; persons = getPersons(a, dataSetX, new ArrayList&lt;Person&gt;());\r\n    getPersons(a, dataSetX, persons);    \r\n    // now I can use persons list with the result of both present \r\n\r\nWith this approach I reuse the same list and don&#39;t need to concat 2 different lists from 2 different methods if I just created the list inside the methods and returned.  \r\nOn the other side it looks kind of weird and possibly error prone.  \r\n\r\nIs there a way to be able to split the function and avoid creating multiple lists and merging them (as I need 1 list in the end).   \r\nIs there some design pattern suited for this?  \r\n\r\n ","title":"Split a method into two separate ones and reuse the same list across the invocations","body":"<p>I have a method as follows (simplified for clarity and brevity):</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, int b, DataSetX dataSetX, DataSetY dataSetY) {\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n        \n        if(dataSetX != null) {\n            while (dataSetX.hasNext()) {\n                // create an instance of person with very specific attributes set                \n                persons.add(processX(dataSetX.next()));\n            }\n        }\n\n        if(dataSetY != null) {\n            while (dataSetY.hasNext()) {\n               // create an instance of person with very specific attributes set               \n                persons.add(processY(dataSetY.next()));\n            }\n        }\n        return persons;        \n    } \n</code></pre>\n<p>The method in reality is a bit more complicate than this (doing a bit more processing using also the <code>a</code> and <code>b</code> variables) but overall this is the method structure.</p>\n<p>I was thinking to split this method into 2, one method for dealing with <code>DataSetX</code> and the other with <code>DataSetY</code>.<br />\nI was thinking to structure it as follows:</p>\n<pre><code>public static List&lt;Person&gt; getPersons(String a, DataSetX dataSetX, List&lt;Person&gt; persons) {\n        if(dataSetX != null) {\n            while (dataSetX.hasNext()) {\n                // create an instance of person with very specific attributes set\n                persons.add(processX(dataSetX.next()));\n            }\n        }\n        return persons;\n}\n</code></pre>\n<p>I would then call the methods as follows:</p>\n<pre><code>List&lt;Person&gt; persons = getPersons(a, dataSetX, new ArrayList&lt;Person&gt;());\ngetPersons(a, dataSetX, persons);    \n// now I can use persons list with the result of both present \n</code></pre>\n<p>With this approach I reuse the same list and don't need to concat 2 different lists from 2 different methods if I just created the list inside the methods and returned.<br />\nOn the other side it looks kind of weird and possibly error prone.</p>\n<p>Is there a way to be able to split the function and avoid creating multiple lists and merging them (as I need 1 list in the end).<br />\nIs there some design pattern suited for this?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1430375154,"post_id":29959795,"comment_id":48041390,"body_markdown":"As a note, if you want to join elements by a separator, use `.collect(Collectors.joining(&quot; &quot;));` or `String.join(&quot; &quot;, list2)` if you have a list of strings.","body":"As a note, if you want to join elements by a separator, use <code>.collect(Collectors.joining(&quot; &quot;));</code> or <code>String.join(&quot; &quot;, list2)</code> if you have a list of strings."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1430380105,"post_id":29959795,"comment_id":48044186,"body_markdown":"Note that your attempt is more like *reduce* as you are working with immutable `String`s: `list2.stream().reduce(&quot;&quot;, (res, elem) -&gt; res.concat(&quot; &quot;).concat(elem))`. However, as [@Alexis C. pointed out](http://stackoverflow.com/questions/29959795/how-does-combiner-in-stream-collect-method-work-in-java-8#comment48041390_29959795), there are already more efficient built-in solutions.","body":"Note that your attempt is more like <i>reduce</i> as you are working with immutable <code>String</code>s: <code>list2.stream().reduce(&quot;&quot;, (res, elem) -&gt; res.concat(&quot; &quot;).concat(elem))</code>. However, as <a href=\"http://stackoverflow.com/questions/29959795/how-does-combiner-in-stream-collect-method-work-in-java-8#comment48041390_29959795\">@Alexis C. pointed out</a>, there are already more efficient built-in solutions."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1430372662,"creation_date":1430372662,"answer_id":29959889,"question_id":29959795,"body_markdown":"I think that the `combiner` is only used in parallel Streams (to combine the partial outputs of the parallel computations), so make your Stream parallel.\r\n\r\n    String collect = list2.parallelStream().collect(...","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>I think that the <code>combiner</code> is only used in parallel Streams (to combine the partial outputs of the parallel computations), so make your Stream parallel.</p>\n\n<pre><code>String collect = list2.parallelStream().collect(...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1430375737,"creation_date":1430374699,"answer_id":29960350,"question_id":29959795,"body_markdown":"First off, there is no need for the combiner to be executed in a non-parallel stream since there is nothing to combine.\r\n\r\nSecondly, your issue stems from using `String::new` and `String.concat`. The accumulator is supposed to modify the first argument by combining the second argument with it but since strings in Java are immutable your code will produce nothing.\r\n\r\n              res=res.concat(&quot; &quot;).concat(elem);\r\n\r\nwill create a new string and then throw away it. You want to use a StringBuilder instead so you can keep the intermediate results:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list2 = Arrays.asList(&quot;adf&quot;, &quot;bcd&quot;, &quot;abc&quot;, &quot;hgr&quot;, &quot;jyt&quot;, &quot;edr&quot;, &quot;biu&quot;);\r\n\r\n        String collect = list2.stream().collect(StringBuilder::new, (res, elem) -&gt; {\r\n            res.append(&quot; &quot;).append(elem);\r\n        }, (res1, res2) -&gt; {\r\n            res1.append(res2.toString());\r\n            System.out.printf(&quot;res1=%s, res2=%s\\n&quot;, res1, res2);\r\n        }).toString();\r\n        System.out.println(&quot;collect=&quot; + collect);\r\n    }\r\n\r\nThis will also work correctly with a parallel stream\r\n\r\n&gt; res1= hgr  jyt, res2= jyt  \r\n&gt; res1= bcd  abc, res2= abc  \r\n&gt; res1= adf  bcd  abc, res2= bcd  abc  \r\n&gt; res1= edr  biu, res2= biu  \r\n&gt; res1= hgr  jyt  edr  biu, res2= edr  biu  \r\n&gt; res1= adf  bcd  abc  hgr  jyt  edr  biu, res2= hgr  jyt  edr  biu  \r\n&gt; collect= adf  bcd  abc  hgr  jyt  edr  biu\r\n","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>First off, there is no need for the combiner to be executed in a non-parallel stream since there is nothing to combine.</p>\n\n<p>Secondly, your issue stems from using <code>String::new</code> and <code>String.concat</code>. The accumulator is supposed to modify the first argument by combining the second argument with it but since strings in Java are immutable your code will produce nothing.</p>\n\n<pre><code>          res=res.concat(\" \").concat(elem);\n</code></pre>\n\n<p>will create a new string and then throw away it. You want to use a StringBuilder instead so you can keep the intermediate results:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list2 = Arrays.asList(\"adf\", \"bcd\", \"abc\", \"hgr\", \"jyt\", \"edr\", \"biu\");\n\n    String collect = list2.stream().collect(StringBuilder::new, (res, elem) -&gt; {\n        res.append(\" \").append(elem);\n    }, (res1, res2) -&gt; {\n        res1.append(res2.toString());\n        System.out.printf(\"res1=%s, res2=%s\\n\", res1, res2);\n    }).toString();\n    System.out.println(\"collect=\" + collect);\n}\n</code></pre>\n\n<p>This will also work correctly with a parallel stream</p>\n\n<blockquote>\n  <p>res1= hgr  jyt, res2= jyt<br>\n  res1= bcd  abc, res2= abc<br>\n  res1= adf  bcd  abc, res2= bcd  abc<br>\n  res1= edr  biu, res2= biu<br>\n  res1= hgr  jyt  edr  biu, res2= edr  biu<br>\n  res1= adf  bcd  abc  hgr  jyt  edr  biu, res2= hgr  jyt  edr  biu<br>\n  collect= adf  bcd  abc  hgr  jyt  edr  biu</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1666469944,"creation_date":1502189943,"answer_id":45566503,"question_id":29959795,"body_markdown":"It is more interesting result with and without parallel for [Raniz](https://stackoverflow.com/users/3182188/raniz) sample:\r\n\r\n        String collect = list2.stream().collect(StringBuilder::new,\r\n                (res, elem) -&gt; {\r\n                    System.out.printf(&quot;ACCUMULATE res=%s, elem=%s\\n&quot;, res, elem);\r\n                    res.append(&quot; &quot;).append(elem);\r\n            },\r\n                (res1, res2) -&gt; {\r\n                    System.out.printf(&quot;COMBINE res1=%s, res2=%s\\n&quot;, res1, res2);\r\n                    res1.append(res2.toString());\r\n                }).toString();\r\n\r\n**Without** parallel combine never has been called:\r\n\r\n    ACCUMULATE res=, elem=adf\r\n    ACCUMULATE res= adf, elem=bcd\r\n    ACCUMULATE res= adf bcd, elem=abc\r\n    ACCUMULATE res= adf bcd abc, elem=hgr\r\n    ACCUMULATE res= adf bcd abc hgr, elem=jyt\r\n    ACCUMULATE res= adf bcd abc hgr jyt, elem=edr\r\n    ACCUMULATE res= adf bcd abc hgr jyt edr, elem=biu\r\n    collect= adf bcd abc hgr jyt edr biu\r\n\r\nAnd **with** parallel `list2.stream().parallel()...`:\r\n\r\n    ACCUMULATE res=, elem=jyt\r\n    ACCUMULATE res=, elem=hgr\r\n    COMBINE res1= hgr, res2= jyt\r\n    ACCUMULATE res=, elem=biu\r\n    ACCUMULATE res=, elem=edr\r\n    COMBINE res1= edr, res2= biu\r\n    ACCUMULATE res=, elem=bcd\r\n    COMBINE res1= hgr jyt, res2= edr biu\r\n    ACCUMULATE res=, elem=abc\r\n    ACCUMULATE res=, elem=adf\r\n    COMBINE res1= bcd, res2= abc\r\n    COMBINE res1= adf, res2= bcd abc\r\n    COMBINE res1= adf bcd abc, res2= hgr jyt edr biu\r\n    collect= adf bcd abc hgr jyt edr biu","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>It is more interesting result with and without parallel for <a href=\"https://stackoverflow.com/users/3182188/raniz\">Raniz</a> sample:</p>\n<pre><code>    String collect = list2.stream().collect(StringBuilder::new,\n            (res, elem) -&gt; {\n                System.out.printf(&quot;ACCUMULATE res=%s, elem=%s\\n&quot;, res, elem);\n                res.append(&quot; &quot;).append(elem);\n        },\n            (res1, res2) -&gt; {\n                System.out.printf(&quot;COMBINE res1=%s, res2=%s\\n&quot;, res1, res2);\n                res1.append(res2.toString());\n            }).toString();\n</code></pre>\n<p><strong>Without</strong> parallel combine never has been called:</p>\n<pre><code>ACCUMULATE res=, elem=adf\nACCUMULATE res= adf, elem=bcd\nACCUMULATE res= adf bcd, elem=abc\nACCUMULATE res= adf bcd abc, elem=hgr\nACCUMULATE res= adf bcd abc hgr, elem=jyt\nACCUMULATE res= adf bcd abc hgr jyt, elem=edr\nACCUMULATE res= adf bcd abc hgr jyt edr, elem=biu\ncollect= adf bcd abc hgr jyt edr biu\n</code></pre>\n<p>And <strong>with</strong> parallel <code>list2.stream().parallel()...</code>:</p>\n<pre><code>ACCUMULATE res=, elem=jyt\nACCUMULATE res=, elem=hgr\nCOMBINE res1= hgr, res2= jyt\nACCUMULATE res=, elem=biu\nACCUMULATE res=, elem=edr\nCOMBINE res1= edr, res2= biu\nACCUMULATE res=, elem=bcd\nCOMBINE res1= hgr jyt, res2= edr biu\nACCUMULATE res=, elem=abc\nACCUMULATE res=, elem=adf\nCOMBINE res1= bcd, res2= abc\nCOMBINE res1= adf, res2= bcd abc\nCOMBINE res1= adf bcd abc, res2= hgr jyt edr biu\ncollect= adf bcd abc hgr jyt edr biu\n</code></pre>\n"}],"owner":{"account_id":6206700,"reputation":335,"user_id":4834454,"display_name":"Vova Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10637,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":29960350,"answer_count":3,"score":31,"last_activity_date":1666469944,"creation_date":1430372337,"question_id":29959795,"body_markdown":"I created simple demo :\r\n\r\n    public static void main(String[] args) {\r\n            List&lt;String&gt; list2 = Arrays.asList(&quot;adf&quot;, &quot;bcd&quot;, &quot;abc&quot;, &quot;hgr&quot;, &quot;jyt&quot;, &quot;edr&quot;, &quot;biu&quot;);\r\n    \r\n    String collect = list2.stream().collect(String::new, (res, elem) -&gt; {\r\n                  res=res.concat(&quot; &quot;).concat(elem);\r\n    //            System.out.printf(&quot;res=%s, elem=%s\\n&quot;, res.isEmpty(), elem);\r\n\r\n            }, (res1, res2) -&gt; {\r\n                System.out.printf(&quot;res1=%s, res2=%s\\n&quot;, res1, res2);            \r\n            });\r\n            System.out.println(&quot;collect=&quot; + collect);\r\n    }\r\n\r\nThe problem is that `BiConsumer combiner` part of `collect` doesn&#39;t run at all.\r\n\r\nIt runs if I use `parallelStream()` but two arguments `res1` and `res2` are equal to supplier `String::new`.\r\n\r\nHow to make `combiner` work in `collect` method?","title":"How does combiner in Stream.collect method work in java 8?","body":"<p>I created simple demo :</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; list2 = Arrays.asList(\"adf\", \"bcd\", \"abc\", \"hgr\", \"jyt\", \"edr\", \"biu\");\n\nString collect = list2.stream().collect(String::new, (res, elem) -&gt; {\n              res=res.concat(\" \").concat(elem);\n//            System.out.printf(\"res=%s, elem=%s\\n\", res.isEmpty(), elem);\n\n        }, (res1, res2) -&gt; {\n            System.out.printf(\"res1=%s, res2=%s\\n\", res1, res2);            \n        });\n        System.out.println(\"collect=\" + collect);\n}\n</code></pre>\n\n<p>The problem is that <code>BiConsumer combiner</code> part of <code>collect</code> doesn't run at all.</p>\n\n<p>It runs if I use <code>parallelStream()</code> but two arguments <code>res1</code> and <code>res2</code> are equal to supplier <code>String::new</code>.</p>\n\n<p>How to make <code>combiner</code> work in <code>collect</code> method?</p>\n"},{"tags":["java","spring","testing","junit","mockito"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1666395803,"post_id":74160056,"comment_id":130934944,"body_markdown":"That all depends on what PersonRepository is, doesn&#39;t it?","body":"That all depends on what PersonRepository is, doesn&#39;t it?"},{"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"score":0,"creation_date":1666573010,"post_id":74160056,"comment_id":130962563,"body_markdown":"`package com.repository;\n\nimport com.entity.Person;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {\n\n\n\n}`   Its the whole PersonRepository interface.","body":"<code>package com.repository;  import com.entity.Person; import org.springframework.data.jpa.repository.JpaRepository; import org.springframework.stereotype.Repository;   @Repository public interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {    }</code>   Its the whole PersonRepository interface."}],"answers":[{"tags":[],"owner":{"account_id":19355847,"reputation":1,"user_id":14152196,"display_name":"shymeq17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666469797,"creation_date":1666469797,"answer_id":74166815,"question_id":74160056,"body_markdown":"It probably fails because you use `save()` method which is not destined to save entities with ID set. This method automatically generates ID and that&#39;s why it&#39;s not always 1.","title":"Tests pass when test running individually but not pass when run the whole class","body":"<p>It probably fails because you use <code>save()</code> method which is not destined to save entities with ID set. This method automatically generates ID and that's why it's not always 1.</p>\n"}],"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666469797,"creation_date":1666395243,"question_id":74160056,"body_markdown":"When i run test individually everythink is ok, but when i run the whole test class, i got this 3 exception in 3 method which i run, its: getPersonById / savePerson / deleteById . The remain method run success\r\n\r\ngetPersonById method:  \r\n\r\n&gt; java.util.NoSuchElementException: No value present\r\n\r\n--\r\n\r\nsavePerson method:\r\n\r\n&gt; javax.persistence.EntityNotFoundException: Unable to find\r\n&gt; com.entity.Person with id 1\r\n\r\n--\r\n\r\ndeleteById method:\r\n\r\n&gt; org.springframework.dao.EmptyResultDataAccessException: No class\r\n&gt; com.entity.Person entity with id 1 exists!\r\n\r\n\r\nCode:\r\n\r\n    package com.repository;\r\n    \r\n    import com.entity.Person;\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    \r\n    @DataJpaTest\r\n    class PersonRepositoryTest {\r\n    \r\n        @Autowired\r\n        private PersonRepository personRepository;\r\n    \r\n        private Person person;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            person = new Person();\r\n    \r\n            person.setId(1L);\r\n            person.setName(&quot;Test1&quot;);\r\n            person.setSurname(&quot;Test1_2&quot;);\r\n            person.setDate_of_birth(&quot;18 Years&quot;);\r\n    \r\n        }\r\n    \r\n    \r\n        @AfterEach\r\n         void tearDown() {\r\n            personRepository.deleteAll();\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Test\r\n        public void shouldCheckIfPersonExists(){\r\n    \r\n            personRepository.save(person);\r\n            assertTrue(personRepository.existsById(1L));\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void getAllPerson() {\r\n    \r\n            personRepository.save(person);\r\n            List&lt;Person&gt; list = personRepository.findAll();\r\n            assertEquals(1, list.size());\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n            public void getPersonById() {\r\n    \r\n    \r\n    \r\n            personRepository.save(person);\r\n    \r\n            Optional&lt;Person&gt; byId = personRepository.findById(1L);\r\n    \r\n            assertEquals(person.getId(), byId.get().getId());\r\n            assertEquals(person.getName(), byId.get().getName());\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void savePerson() {\r\n    \r\n    \r\n            personRepository.save(person);\r\n            Person newPerson = personRepository.getById(1L);\r\n    \r\n            assertEquals(person.toString(), newPerson.toString());\r\n    \r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void deleteById() {\r\n    \r\n            personRepository.save(person);\r\n            personRepository.deleteById(1L);\r\n            assertFalse(personRepository.existsById(1L));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Tests pass when test running individually but not pass when run the whole class","body":"<p>When i run test individually everythink is ok, but when i run the whole test class, i got this 3 exception in 3 method which i run, its: getPersonById / savePerson / deleteById . The remain method run success</p>\n<p>getPersonById method:</p>\n<blockquote>\n<p>java.util.NoSuchElementException: No value present</p>\n</blockquote>\n<p>--</p>\n<p>savePerson method:</p>\n<blockquote>\n<p>javax.persistence.EntityNotFoundException: Unable to find\ncom.entity.Person with id 1</p>\n</blockquote>\n<p>--</p>\n<p>deleteById method:</p>\n<blockquote>\n<p>org.springframework.dao.EmptyResultDataAccessException: No class\ncom.entity.Person entity with id 1 exists!</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>package com.repository;\n\nimport com.entity.Person;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n\n@DataJpaTest\nclass PersonRepositoryTest {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    private Person person;\n\n    @BeforeEach\n    public void setUp() {\n        person = new Person();\n\n        person.setId(1L);\n        person.setName(&quot;Test1&quot;);\n        person.setSurname(&quot;Test1_2&quot;);\n        person.setDate_of_birth(&quot;18 Years&quot;);\n\n    }\n\n\n    @AfterEach\n     void tearDown() {\n        personRepository.deleteAll();\n    }\n\n\n\n\n    @Test\n    public void shouldCheckIfPersonExists(){\n\n        personRepository.save(person);\n        assertTrue(personRepository.existsById(1L));\n\n\n    }\n\n\n    @Test\n    public void getAllPerson() {\n\n        personRepository.save(person);\n        List&lt;Person&gt; list = personRepository.findAll();\n        assertEquals(1, list.size());\n\n\n    }\n\n\n    @Test\n        public void getPersonById() {\n\n\n\n        personRepository.save(person);\n\n        Optional&lt;Person&gt; byId = personRepository.findById(1L);\n\n        assertEquals(person.getId(), byId.get().getId());\n        assertEquals(person.getName(), byId.get().getName());\n\n\n\n    }\n\n\n    @Test\n    public void savePerson() {\n\n\n        personRepository.save(person);\n        Person newPerson = personRepository.getById(1L);\n\n        assertEquals(person.toString(), newPerson.toString());\n\n\n    }\n\n    @Test\n    public void deleteById() {\n\n        personRepository.save(person);\n        personRepository.deleteById(1L);\n        assertFalse(personRepository.existsById(1L));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666468274,"post_id":74166602,"comment_id":130946018,"body_markdown":"please be more exact: you need to (only) generate the shown output, OR you need to create arrays with that content?","body":"please be more exact: you need to (only) generate the shown output, OR you need to create arrays with that content?"},{"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"score":0,"creation_date":1666468810,"post_id":74166602,"comment_id":130946111,"body_markdown":"Simple printing is not sufficient. Have to create new arrays.","body":"Simple printing is not sufficient. Have to create new arrays."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666469376,"creation_date":1666468213,"answer_id":74166638,"question_id":74166602,"body_markdown":"You have to avoid using arrays in this situation. It&#39;s better to create a class for the student and collect all data there. Remember, you can treat an array as an object with **not changeable length**.\r\n\r\n```java\r\nclass Student {\r\n    private final String name;\r\n    private int mathsMark;\r\n    private int scienceMarks; \r\n}\r\n\r\nStudent A = new Student(&quot;A&quot;, 95, 80);\r\nStudent B = new Student(&quot;B&quot;, 50, 75);\r\nStudent C = new Student(&quot;C&quot;, -1, -1);\r\nStudent D = new Student(&quot;D&quot;, 80, 90);\r\nStudent E = new Student(&quot;E&quot;, -1, -1);\r\n\r\nStudent[] students = { A, B, C, D, E};\r\n```\r\n\r\nIn case you want to collect and then add/remove students, it is better to use a Map:\r\n\r\n```java\r\nMap&lt;String, Student&gt; map = new HashMap&lt;&gt;();\r\nmap.put(A.getName(), A);\r\nmap.put(B.getName(), B);\r\nmap.put(C.getName(), C);\r\nmap.put(D.getName(), D);\r\nmap.put(E.getName(), E);\r\n\r\nmap.remove(C.getName());\r\nmap.remove(E.getName());\r\n```\r\n---\r\nIn case you still want to use an arrays, this is the solution\r\n```java\r\npublic static void main(String... args) throws IOException {\r\n    String[] students = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot; };\r\n    int[] mathsMarks = { 95, 50, -1, 80, -1 };\r\n    int[] scienceMarks = { 80, 75, -1, 90, -1 };\r\n\r\n    assert mathsMarks.length == scienceMarks.length;\r\n\r\n    int length = students.length;\r\n\r\n    for (int i = 0; i &lt; mathsMarks.length; i++)\r\n        if (mathsMarks[i] &lt; 0 || scienceMarks[i] &lt; 0)\r\n            length--;\r\n\r\n    String[] newStudents = new String[length];\r\n    int[] newMathsMarks = new int[length];\r\n    int[] newScienceMarks = new int[length];\r\n\r\n    for (int i = 0, j = 0; i &lt; mathsMarks.length; i++) {\r\n        if (mathsMarks[i] &gt;= 0 &amp;&amp; scienceMarks[i] &gt;= 0) {\r\n            newStudents[j] = students[i];\r\n            newMathsMarks[j] = mathsMarks[i];\r\n            newScienceMarks[j] = scienceMarks[i];\r\n            j++;\r\n        }\r\n    }\r\n\r\n    System.out.println(Arrays.toString(newStudents));\r\n    System.out.println(Arrays.toString(newMathsMarks));\r\n    System.out.println(Arrays.toString(newScienceMarks));\r\n}\r\n```\r\n","title":"How to delete elements in the same index in multiple arrays in Java?","body":"<p>You have to avoid using arrays in this situation. It's better to create a class for the student and collect all data there. Remember, you can treat an array as an object with <strong>not changeable length</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    private final String name;\n    private int mathsMark;\n    private int scienceMarks; \n}\n\nStudent A = new Student(&quot;A&quot;, 95, 80);\nStudent B = new Student(&quot;B&quot;, 50, 75);\nStudent C = new Student(&quot;C&quot;, -1, -1);\nStudent D = new Student(&quot;D&quot;, 80, 90);\nStudent E = new Student(&quot;E&quot;, -1, -1);\n\nStudent[] students = { A, B, C, D, E};\n</code></pre>\n<p>In case you want to collect and then add/remove students, it is better to use a Map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Student&gt; map = new HashMap&lt;&gt;();\nmap.put(A.getName(), A);\nmap.put(B.getName(), B);\nmap.put(C.getName(), C);\nmap.put(D.getName(), D);\nmap.put(E.getName(), E);\n\nmap.remove(C.getName());\nmap.remove(E.getName());\n</code></pre>\n<hr />\n<p>In case you still want to use an arrays, this is the solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    String[] students = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot; };\n    int[] mathsMarks = { 95, 50, -1, 80, -1 };\n    int[] scienceMarks = { 80, 75, -1, 90, -1 };\n\n    assert mathsMarks.length == scienceMarks.length;\n\n    int length = students.length;\n\n    for (int i = 0; i &lt; mathsMarks.length; i++)\n        if (mathsMarks[i] &lt; 0 || scienceMarks[i] &lt; 0)\n            length--;\n\n    String[] newStudents = new String[length];\n    int[] newMathsMarks = new int[length];\n    int[] newScienceMarks = new int[length];\n\n    for (int i = 0, j = 0; i &lt; mathsMarks.length; i++) {\n        if (mathsMarks[i] &gt;= 0 &amp;&amp; scienceMarks[i] &gt;= 0) {\n            newStudents[j] = students[i];\n            newMathsMarks[j] = mathsMarks[i];\n            newScienceMarks[j] = scienceMarks[i];\n            j++;\n        }\n    }\n\n    System.out.println(Arrays.toString(newStudents));\n    System.out.println(Arrays.toString(newMathsMarks));\n    System.out.println(Arrays.toString(newScienceMarks));\n}\n</code></pre>\n"}],"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666474379,"accepted_answer_id":74166638,"answer_count":1,"score":-1,"last_activity_date":1666469376,"creation_date":1666467872,"question_id":74166602,"body_markdown":"I have trouble completing a section of a programme which I got as an assignment in my Java class. I will try to explain my situation as much as I can. \r\n\r\nThere are 3 arrays in a database.\r\n\r\n    String[] students = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\r\n    int[] mathsMarks = {95,50,-1,80,-1};\r\n\r\nI have to print student names and their respective subject marks using print line commands. In doing so, I have to avoid printing instances where there are -1 instances. \r\n\r\nFinal output should looks like this:\r\n[Output][1]*(Appreciate if somebody can edit the question to embed this image)*\r\n\r\nMy understanding is I have to create 2 new temporary arrays and get rid of -1 instances and their respective student names. But I cannot comprehend the if statements to achieve this. Thanks in advance. \r\n\r\nEdit: Edited the question, now there are only 2 arrays.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NyHZJ.png","title":"How to delete elements in the same index in multiple arrays in Java?","body":"<p>I have trouble completing a section of a programme which I got as an assignment in my Java class. I will try to explain my situation as much as I can.</p>\n<p>There are 3 arrays in a database.</p>\n<pre><code>String[] students = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\nint[] mathsMarks = {95,50,-1,80,-1};\n</code></pre>\n<p>I have to print student names and their respective subject marks using print line commands. In doing so, I have to avoid printing instances where there are -1 instances.</p>\n<p>Final output should looks like this:\n<a href=\"https://i.stack.imgur.com/NyHZJ.png\" rel=\"nofollow noreferrer\">Output</a><em>(Appreciate if somebody can edit the question to embed this image)</em></p>\n<p>My understanding is I have to create 2 new temporary arrays and get rid of -1 instances and their respective student names. But I cannot comprehend the if statements to achieve this. Thanks in advance.</p>\n<p>Edit: Edited the question, now there are only 2 arrays.</p>\n"},{"tags":["java","ios","appium"],"comments":[{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":0,"creation_date":1666187766,"post_id":74114851,"comment_id":130876631,"body_markdown":"Did you try starting the WDA from the Springboard as described or only using `driver.activateApp`?","body":"Did you try starting the WDA from the Springboard as described or only using <code>driver.activateApp</code>?"},{"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"score":1,"creation_date":1666469110,"post_id":74114851,"comment_id":130946178,"body_markdown":"thank yo it&#39;s working now my problem was how to open springboard app and i found that it&#39;s `Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps` my problem was solved thanks @drunkencheetah","body":"thank yo it&#39;s working now my problem was how to open springboard app and i found that it&#39;s <code>Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps</code> my problem was solved thanks @drunkencheetah"}],"answers":[{"tags":[],"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666469311,"creation_date":1666469311,"answer_id":74166751,"question_id":74114851,"body_markdown":"my problem has been solved \r\n \r\n\r\n - **solution is** : \r\n\r\nhttps://appium.io/docs/en/commands/device/clipboard/set-clipboard/\r\n\r\n++ `Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps`","title":"how to send some String value to ios real device clipboard using appium?","body":"<p>my problem has been solved</p>\n<ul>\n<li><strong>solution is</strong> :</li>\n</ul>\n<p><a href=\"https://appium.io/docs/en/commands/device/clipboard/set-clipboard/\" rel=\"nofollow noreferrer\">https://appium.io/docs/en/commands/device/clipboard/set-clipboard/</a></p>\n<p>++ <code>Springboard is the internal function that launches apps when you tap on their icon on the Home screen. You can’t see it, but you use it every time you launch an app or switch apps</code></p>\n"}],"owner":{"account_id":26662201,"reputation":21,"user_id":20274854,"display_name":"Majood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74166751,"answer_count":1,"score":0,"last_activity_date":1666469311,"creation_date":1666112842,"question_id":74114851,"body_markdown":"I&#39;ve searched over the topics regarding this issue and can&#39;t find any solution that can help me with this especially with **java client 8** + **appium v 2.x** ! \r\n\r\ni&#39;m trying to get the text from my test class for ex. `hello` and try to past it into the **iOS** clipboard but unfortunately it seems the value is `null` or `empty` string ...\r\n\r\nI&#39;m using the following code language : **java** + selenium framework  \r\n\r\nall other topics regarding this issue is mentioning to use the following command : \r\nhttps://appium.io/docs/en/commands/device/clipboard/set-clipboard/ \r\n\r\n&gt;     driver.setClipboard(&quot;label&quot;, ClipboardContentType.PLAINTEXT, base64Content);\r\n&gt;     driver.setClipboardText(&quot;happy testing&quot;);\r\n\r\nthe previous command is not working with new `Appiumdriver/driver` since it&#39;s using java client 8 the method `setClipboard` is not listed there ! \r\n\r\n+ i tried the way they said to put the app in **foreground** but is not working for new `appium 2.x` + `java client 8` since the most of the methods has been  deprecated \r\n\r\n&gt; Set the content of the system clipboard (For iOS 15+ real devices)\r\n&gt; Apple security preferences require the WebDriverAgentRunner\r\n&gt; application to be in foreground in order to set the system clipboard\r\n&gt; content. Consider using Activate App and Background App to change the\r\n&gt; foreground application. Activate App command cannot launch the\r\n&gt; WebDriverAgent properly on some environments. It depends on XCTest\r\n&gt; framework by Apple. Then, you should launch the WebDriverAgent using\r\n&gt; its Springboard&#39;s application icon. Follow the example below. 1. Open\r\n&gt; Springboard, @driver.activate_app &#39;com.apple.springboard&#39;. 2. Find the\r\n&gt; WDA icon with @driver.find_element :accessibility_id,\r\n&gt; &#39;WebDriverAgentRunner-Runner&#39; (It should be visible on the screen) and\r\n&gt; click it. 3. Call the get clipboard API. 4. Open the application under\r\n&gt; test with the Activate App.\r\n\r\n - another way that i&#39;ve tried : \r\nhttps://stackoverflow.com/questions/52674841/how-to-use-setclipboardtext-on-appium-java\r\n&gt; ((HasClipboard) driver).setClipboardText(“happy testing”);\r\n\r\nstill not sending any values ! \r\n\r\n - tried this soultion : \r\nhttps://stackoverflow.com/a/3592022/20274854\r\n```\r\n StringSelection selection = new StringSelection(theString);\r\n Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n clipboard.setContents(selection, selection);\r\n```\r\nit&#39;s working on when i paste the text from my **Mac** clipboard but still not sending any values to **iOS** !\r\n\r\n\r\nplz can anyone help me with this ?\r\n\r\n**NOTE:** i tried all the previous solutions but nothing are working with new `Appium 2.x` + `java client 8` ","title":"how to send some String value to ios real device clipboard using appium?","body":"<p>I've searched over the topics regarding this issue and can't find any solution that can help me with this especially with <strong>java client 8</strong> + <strong>appium v 2.x</strong> !</p>\n<p>i'm trying to get the text from my test class for ex. <code>hello</code> and try to past it into the <strong>iOS</strong> clipboard but unfortunately it seems the value is <code>null</code> or <code>empty</code> string ...</p>\n<p>I'm using the following code language : <strong>java</strong> + selenium framework</p>\n<p>all other topics regarding this issue is mentioning to use the following command :\n<a href=\"https://appium.io/docs/en/commands/device/clipboard/set-clipboard/\" rel=\"nofollow noreferrer\">https://appium.io/docs/en/commands/device/clipboard/set-clipboard/</a></p>\n<blockquote>\n<pre><code>driver.setClipboard(&quot;label&quot;, ClipboardContentType.PLAINTEXT, base64Content);\ndriver.setClipboardText(&quot;happy testing&quot;);\n</code></pre>\n</blockquote>\n<p>the previous command is not working with new <code>Appiumdriver/driver</code> since it's using java client 8 the method <code>setClipboard</code> is not listed there !</p>\n<ul>\n<li>i tried the way they said to put the app in <strong>foreground</strong> but is not working for new <code>appium 2.x</code> + <code>java client 8</code> since the most of the methods has been  deprecated</li>\n</ul>\n<blockquote>\n<p>Set the content of the system clipboard (For iOS 15+ real devices)\nApple security preferences require the WebDriverAgentRunner\napplication to be in foreground in order to set the system clipboard\ncontent. Consider using Activate App and Background App to change the\nforeground application. Activate App command cannot launch the\nWebDriverAgent properly on some environments. It depends on XCTest\nframework by Apple. Then, you should launch the WebDriverAgent using\nits Springboard's application icon. Follow the example below. 1. Open\nSpringboard, @driver.activate_app 'com.apple.springboard'. 2. Find the\nWDA icon with @driver.find_element :accessibility_id,\n'WebDriverAgentRunner-Runner' (It should be visible on the screen) and\nclick it. 3. Call the get clipboard API. 4. Open the application under\ntest with the Activate App.</p>\n</blockquote>\n<ul>\n<li>another way that i've tried :\n<a href=\"https://stackoverflow.com/questions/52674841/how-to-use-setclipboardtext-on-appium-java\">How to use setClipboardText on Appium Java</a></li>\n</ul>\n<blockquote>\n<p>((HasClipboard) driver).setClipboardText(“happy testing”);</p>\n</blockquote>\n<p>still not sending any values !</p>\n<ul>\n<li>tried this soultion :\n<a href=\"https://stackoverflow.com/a/3592022/20274854\">https://stackoverflow.com/a/3592022/20274854</a></li>\n</ul>\n<pre><code> StringSelection selection = new StringSelection(theString);\n Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n clipboard.setContents(selection, selection);\n</code></pre>\n<p>it's working on when i paste the text from my <strong>Mac</strong> clipboard but still not sending any values to <strong>iOS</strong> !</p>\n<p>plz can anyone help me with this ?</p>\n<p><strong>NOTE:</strong> i tried all the previous solutions but nothing are working with new <code>Appium 2.x</code> + <code>java client 8</code></p>\n"},{"tags":["java","jframe"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666469305,"creation_date":1666467554,"answer_id":74166571,"question_id":74166529,"body_markdown":"Both JPanel and JFrame are Containers, yet more specialized for specific purposes. And yes, you have to assemble them correctly so they act as your user interface.\r\n\r\nBut as Container does not do much on it&#39;s own you probably never put that into your UI directly. Use it as base class to construct more specialized other classes.\r\n\r\nTo move along get some simple example running, you could follow the [Java Tutorials][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/","title":"Differences between containers","body":"<p>Both JPanel and JFrame are Containers, yet more specialized for specific purposes. And yes, you have to assemble them correctly so they act as your user interface.</p>\n<p>But as Container does not do much on it's own you probably never put that into your UI directly. Use it as base class to construct more specialized other classes.</p>\n<p>To move along get some simple example running, you could follow the <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Java Tutorials</a>.</p>\n"}],"owner":{"account_id":26703876,"reputation":13,"user_id":20310443,"display_name":"KyWillm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74166571,"answer_count":1,"score":0,"last_activity_date":1666469305,"creation_date":1666467007,"question_id":74166529,"body_markdown":"I have read many different topics and information sources but I can&#39;t really understand the differences of containers in java I know JPanel, JFrame and Container are similar and should be used at different levels within the construction of a program and I know there is JWindow and acts relatively the same. I am fairly new to programming so I am just unfamiliar with the setup. Here is what I have found out/assumed about each one, please correct me if i&#39;m wrong.\r\n\r\nJPanel is for the integration between JFrame or a Container typically separating different sections for labels, buttons, sliders etc...\r\n\r\nJFrame acts as a receiver of JPanels and can construct them based on instructions from the coder, JFrame can also take the same labels, buttons, sliders etc....\r\n\r\nContainer is the same as JFrame though I am assuming container is a parent of JFrame.\r\n\r\nI&#39;m unsure of JWindow I just found out about this one.","title":"Differences between containers","body":"<p>I have read many different topics and information sources but I can't really understand the differences of containers in java I know JPanel, JFrame and Container are similar and should be used at different levels within the construction of a program and I know there is JWindow and acts relatively the same. I am fairly new to programming so I am just unfamiliar with the setup. Here is what I have found out/assumed about each one, please correct me if i'm wrong.</p>\n<p>JPanel is for the integration between JFrame or a Container typically separating different sections for labels, buttons, sliders etc...</p>\n<p>JFrame acts as a receiver of JPanels and can construct them based on instructions from the coder, JFrame can also take the same labels, buttons, sliders etc....</p>\n<p>Container is the same as JFrame though I am assuming container is a parent of JFrame.</p>\n<p>I'm unsure of JWindow I just found out about this one.</p>\n"},{"tags":["java","sum","challenge-response"],"answers":[{"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435807907,"creation_date":1435807907,"answer_id":31175135,"question_id":31175070,"body_markdown":"Move your print statement outside the loop.\r\n\r\nBefore loop,\r\n\r\n    long[] sumArr = new long[Nbr];\r\n\r\ninside loop,\r\n\r\n    sumArr[j] = Somme(Long.parseLong(numbers[j]));\r\n\r\nafter loop,\r\n\r\n    for (long sum : sumArr) {\r\n        System.out.println(sum);\r\n    }\r\n\r\n","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>Move your print statement outside the loop.</p>\n\n<p>Before loop,</p>\n\n<pre><code>long[] sumArr = new long[Nbr];\n</code></pre>\n\n<p>inside loop,</p>\n\n<pre><code>sumArr[j] = Somme(Long.parseLong(numbers[j]));\n</code></pre>\n\n<p>after loop,</p>\n\n<pre><code>for (long sum : sumArr) {\n    System.out.println(sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6560785,"reputation":101,"user_id":5071955,"display_name":"Ananthu r nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435808049,"creation_date":1435808049,"answer_id":31175151,"question_id":31175070,"body_markdown":"If u want to read all Ns first then ,read them and put them in an array then try to find the sum","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>If u want to read all Ns first then ,read them and put them in an array then try to find the sum</p>\n"},{"tags":[],"owner":{"account_id":3516301,"reputation":146,"user_id":2939632,"accept_rate":25,"display_name":"AmgadMHM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435808075,"creation_date":1435808075,"answer_id":31175156,"question_id":31175070,"body_markdown":"You can make `ArrayList` and add the sum to it then print it after the loop","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>You can make <code>ArrayList</code> and add the sum to it then print it after the loop</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435809016,"creation_date":1435808154,"answer_id":31175163,"question_id":31175070,"body_markdown":"I suggest you use a [`Scanner`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html). I would also suggest you add to a `sum` by iterating from `3` to `n` in increments of `3`. Then from `5` to `n` in increments of `5` (then exclude the multiples of `3`, because they&#39;ve already been added). Something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile (scanner.hasNextInt()) {\r\n\t\t\tint n = scanner.nextInt();\r\n\t\t\tSystem.out.println(getSum(n));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static long getSum(int n) {\r\n\t\tlong sum = 0;\r\n\t\tfor (int i = 3; i &lt; n; i += 3) {\r\n\t\t\tsum += i;\r\n\t\t}\r\n\t\tfor (int i = 5; i &lt; n; i += 5) {\r\n\t\t\tif (i % 3 != 0) { // &lt;-- already added if i is divisible by 3\r\n\t\t\t\tsum += i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\nBased on your comment below, change `main` to first read the `int` of counts, then store them in an array. Something like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile (scanner.hasNextInt()) {\r\n\t\t\tint toRead = scanner.nextInt();\r\n\t\t\tint[] vals = new int[toRead];\r\n\t\t\tfor (int t = 0; t &lt; toRead; t++) {\r\n\t\t\t\tif (scanner.hasNextInt()) {\r\n\t\t\t\t\tvals[t] = scanner.nextInt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor (int n : vals) {\r\n\t\t\t\tsb.append(getSum(n)).append(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(sb);\r\n\t\t}\r\n\t}","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>I suggest you use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow\"><code>Scanner</code></a>. I would also suggest you add to a <code>sum</code> by iterating from <code>3</code> to <code>n</code> in increments of <code>3</code>. Then from <code>5</code> to <code>n</code> in increments of <code>5</code> (then exclude the multiples of <code>3</code>, because they've already been added). Something like</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (scanner.hasNextInt()) {\n        int n = scanner.nextInt();\n        System.out.println(getSum(n));\n    }\n}\n\npublic static long getSum(int n) {\n    long sum = 0;\n    for (int i = 3; i &lt; n; i += 3) {\n        sum += i;\n    }\n    for (int i = 5; i &lt; n; i += 5) {\n        if (i % 3 != 0) { // &lt;-- already added if i is divisible by 3\n            sum += i;\n        }\n    }\n    return sum;\n}\n</code></pre>\n\n<p>Based on your comment below, change <code>main</code> to first read the <code>int</code> of counts, then store them in an array. Something like</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (scanner.hasNextInt()) {\n        int toRead = scanner.nextInt();\n        int[] vals = new int[toRead];\n        for (int t = 0; t &lt; toRead; t++) {\n            if (scanner.hasNextInt()) {\n                vals[t] = scanner.nextInt();\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        for (int n : vals) {\n            sb.append(getSum(n)).append(\" \");\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7884110,"reputation":2090,"user_id":5956891,"accept_rate":91,"display_name":"Shree Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476953907,"creation_date":1476953354,"answer_id":40149661,"question_id":31175070,"body_markdown":"As we know that we need to sum of those numbers which are divisible by 3 or 5 below n where n=10 or 100 or more (it is limit). But if we have n=20 so 15(15%5==0 &amp;&amp; 15%3==0) will come twice so that we need to add only once so that  we need to check a number is divisible by 15(since 5*3=15).\r\n \r\n\r\n       long n1=0,n2=0;\r\n        int i=1,j=1;\r\n        while(3*i&lt;n)\r\n            {\r\n            n1 +=3*i;\r\n            i++;\r\n            if(5*j&lt;n)\r\n                {\r\n                n2+=5*j;\r\n                if(5*j%15==0)\r\n                    n2 -=5*j;\r\n                j++;\r\n            }\r\n          }\r\n        \r\n        System.out.println(n1+n2);\r\n        }","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>As we know that we need to sum of those numbers which are divisible by 3 or 5 below n where n=10 or 100 or more (it is limit). But if we have n=20 so 15(15%5==0 &amp;&amp; 15%3==0) will come twice so that we need to add only once so that  we need to check a number is divisible by 15(since 5*3=15).</p>\n\n<pre><code>   long n1=0,n2=0;\n    int i=1,j=1;\n    while(3*i&lt;n)\n        {\n        n1 +=3*i;\n        i++;\n        if(5*j&lt;n)\n            {\n            n2+=5*j;\n            if(5*j%15==0)\n                n2 -=5*j;\n            j++;\n        }\n      }\n\n    System.out.println(n1+n2);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19773739,"reputation":11,"user_id":17343007,"display_name":"Kiran  Jadhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666468708,"creation_date":1666468708,"answer_id":74166691,"question_id":31175070,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int sum = 0;\r\n            int t = in.nextInt();\r\n            for(int a0 = 0; a0 &lt; t; a0++){\r\n                long n = in.nextInt();\r\n                for(int j=1;j &lt; n;j++)\r\n                if(j % 3 == 0 || j%5 == 0){\r\n                    sum+=j;\r\n                }\r\n                System.out.println(sum);\r\n                sum = 0;\r\n            }\r\n            \r\n            \r\n            \r\n        }\r\n    }\r\nThis is simple Solution ","title":"The sum of all the multiples of 3 or 5 below N","body":"<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int sum = 0;\n        int t = in.nextInt();\n        for(int a0 = 0; a0 &lt; t; a0++){\n            long n = in.nextInt();\n            for(int j=1;j &lt; n;j++)\n            if(j % 3 == 0 || j%5 == 0){\n                sum+=j;\n            }\n            System.out.println(sum);\n            sum = 0;\n        }\n        \n        \n        \n    }\n}\n</code></pre>\n<p>This is simple Solution</p>\n"}],"owner":{"account_id":3786756,"reputation":317,"user_id":3711788,"accept_rate":52,"display_name":"Hadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31175163,"answer_count":6,"score":1,"last_activity_date":1666468708,"creation_date":1435807314,"question_id":31175070,"body_markdown":"I have to find the sum of all the multiples of 3 or 5 below N.\r\nexample if we have to list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9,the sum of these multiples is 23.\r\n\r\nNow the only problem left is that I want it to be able to read ALL the numbers THEN display the sum, for now it reads one number and display the sum right after it, any ideas?\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Solution{\r\n    public static void main(String[] args) throws IOException {\r\n    \r\n    \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        String line = br.readLine();\r\n        int Nbr = Integer.parseInt(line);\r\n    \r\n    \r\n            for(int j=0; j&lt;Nbr;j++)\r\n            {\r\n                BufferedReader br2 = new BufferedReader(new   InputStreamReader(System.in));\r\n                String line2 = br2.readLine();\r\n                String[] numbers = new String[Nbr];\r\n                numbers[j]= line2;\r\n                System.out.println(Somme(Long.parseLong(numbers[j])));\r\n            }\r\n    \r\n            }\r\n    \r\n    \r\n    public static long Somme(long Nn) {\r\n        long s = 0;\r\n        for (int i = 0; i &lt; Nn; i++) {\r\n            if (((i % 3) == 0) || ((i % 5) == 0)) {\r\n                s = s + i;\r\n            }\r\n        }\r\n        return (s);\r\n    }\r\n    }","title":"The sum of all the multiples of 3 or 5 below N","body":"<p>I have to find the sum of all the multiples of 3 or 5 below N.\nexample if we have to list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9,the sum of these multiples is 23.</p>\n\n<p>Now the only problem left is that I want it to be able to read ALL the numbers THEN display the sum, for now it reads one number and display the sum right after it, any ideas?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Solution{\npublic static void main(String[] args) throws IOException {\n\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    String line = br.readLine();\n    int Nbr = Integer.parseInt(line);\n\n\n        for(int j=0; j&lt;Nbr;j++)\n        {\n            BufferedReader br2 = new BufferedReader(new   InputStreamReader(System.in));\n            String line2 = br2.readLine();\n            String[] numbers = new String[Nbr];\n            numbers[j]= line2;\n            System.out.println(Somme(Long.parseLong(numbers[j])));\n        }\n\n        }\n\n\npublic static long Somme(long Nn) {\n    long s = 0;\n    for (int i = 0; i &lt; Nn; i++) {\n        if (((i % 3) == 0) || ((i % 5) == 0)) {\n            s = s + i;\n        }\n    }\n    return (s);\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1434576074,"post_id":30902556,"comment_id":49844122,"body_markdown":"What is the error?  What is the goal of the exercise?","body":"What is the error?  What is the goal of the exercise?"},{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":1,"creation_date":1434576101,"post_id":30902556,"comment_id":49844137,"body_markdown":"You have provided little important information. Read the guide on how to ask a question.","body":"You have provided little important information. Read the guide on how to ask a question."}],"answers":[{"tags":[],"owner":{"account_id":6456083,"reputation":181,"user_id":5001426,"display_name":"nathantspencer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434577977,"creation_date":1434577389,"answer_id":30902917,"question_id":30902556,"body_markdown":"You essentially had the answer Codewars wanted. I imagine they expected for you to just add the semicolon, as you did, but keep the rest of the code the same.\r\n\r\n    public class Multiply\r\n    {\r\n       public static Double multiply(Double a, Double b)\r\n       {\r\n           return a * b;\r\n       }\r\n    }\r\n\r\nI went to try it out, and this worked for me. Looks like they wanted you to keep `static` and the wrapper class `Double`. ","title":"Signing up Codewars - Java Exercise","body":"<p>You essentially had the answer Codewars wanted. I imagine they expected for you to just add the semicolon, as you did, but keep the rest of the code the same.</p>\n\n<pre><code>public class Multiply\n{\n   public static Double multiply(Double a, Double b)\n   {\n       return a * b;\n   }\n}\n</code></pre>\n\n<p>I went to try it out, and this worked for me. Looks like they wanted you to keep <code>static</code> and the wrapper class <code>Double</code>. </p>\n"},{"tags":[],"owner":{"display_name":"user10590687"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556900034,"creation_date":1556899963,"answer_id":55973635,"question_id":30902556,"body_markdown":"Here is the answer:\r\n\r\n    public class Multiply \r\n    { \r\n       public double multiply(double a, double b) \r\n       { return a * b;} \r\n    }","title":"Signing up Codewars - Java Exercise","body":"<p>Here is the answer:</p>\n\n<pre><code>public class Multiply \n{ \n   public double multiply(double a, double b) \n   { return a * b;} \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17895457,"reputation":1,"user_id":13000969,"display_name":"Helper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583262058,"creation_date":1583254926,"answer_id":60512190,"question_id":30902556,"body_markdown":"Think about how it will work if it is executed without any `main` method and what all things are missing / incorrect format in the code\r\n\r\nE.g. Where you can add any double value\r\n\r\n```java\r\npublic class Multiply {\r\n    public static double multiply(double a, double b) {\r\n        return a * b;\r\n    }\r\n\t\r\n    public static void main(String[] args) {\r\n        double result = multiply(20.01, 10.10);\r\n        System.out.println(&quot;The result is: &quot; + result);\r\n    }\r\n}\r\n```\r\n","title":"Signing up Codewars - Java Exercise","body":"<p>Think about how it will work if it is executed without any <code>main</code> method and what all things are missing / incorrect format in the code</p>\n\n<p>E.g. Where you can add any double value</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Multiply {\n    public static double multiply(double a, double b) {\n        return a * b;\n    }\n\n    public static void main(String[] args) {\n        double result = multiply(20.01, 10.10);\n        System.out.println(\"The result is: \" + result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24020694,"reputation":1,"user_id":18003037,"display_name":"Prasad Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645535112,"creation_date":1645516815,"answer_id":71217747,"question_id":30902556,"body_markdown":"    public class Multiply {\r\n    public double multiply(double a , double b )\r\n    //just change the wrapper to primitive\r\n    {     \r\n         return a*b ;\r\n       // add semicolon over here that it \r\n    }","title":"Signing up Codewars - Java Exercise","body":"<pre><code>public class Multiply {\npublic double multiply(double a , double b )\n//just change the wrapper to primitive\n{     \n     return a*b ;\n   // add semicolon over here that it \n}\n</code></pre>\n"}],"owner":{"account_id":6485986,"reputation":21,"user_id":5021565,"display_name":"R Jani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19139,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":30902917,"answer_count":4,"score":-2,"last_activity_date":1666468587,"creation_date":1434575875,"question_id":30902556,"body_markdown":"The code is \r\n\r\n    public class Multiply\r\n    {\r\n       public static Double multiply(Double a, Double b)\r\n       {\r\n           return a * b\r\n       }\r\n    }\r\n\r\nI cannot solve the above code.  \r\nI tried a few things, like\r\n\r\n    public class Multiply \r\n    { \r\n       public double multiply(double a, double b) \r\n       { return a * b;} \r\n    }\r\n\r\nIt still shows errors in code.  \r\nKindly help, please.\r\n","title":"Signing up Codewars - Java Exercise","body":"<p>The code is </p>\n\n<pre><code>public class Multiply\n{\n   public static Double multiply(Double a, Double b)\n   {\n       return a * b\n   }\n}\n</code></pre>\n\n<p>I cannot solve the above code.<br>\nI tried a few things, like</p>\n\n<pre><code>public class Multiply \n{ \n   public double multiply(double a, double b) \n   { return a * b;} \n}\n</code></pre>\n\n<p>It still shows errors in code.<br>\nKindly help, please.</p>\n"},{"tags":["java","database","jvm"],"answers":[{"tags":[],"owner":{"account_id":25822002,"reputation":69,"user_id":19560919,"display_name":"Moraban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658024300,"creation_date":1658024300,"answer_id":73008843,"question_id":73008796,"body_markdown":"Adding the ORDS folder to path will only allow you to run executable and batch files from that directory through cmd. To run the jar you still need to specify the full path to the jar file.\r\n\r\n```\r\n&gt; java -jar C:\\Users\\user\\folder\\ords.war&quot;\r\n```","title":"Oracle ORDS 22.1 Installation issue","body":"<p>Adding the ORDS folder to path will only allow you to run executable and batch files from that directory through cmd. To run the jar you still need to specify the full path to the jar file.</p>\n<pre><code>&gt; java -jar C:\\Users\\user\\folder\\ords.war&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5747640,"reputation":1,"user_id":4538408,"display_name":"lindmahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666468063,"creation_date":1666468063,"answer_id":74166620,"question_id":73008796,"body_markdown":"you need to type \r\n```java -jar ords.war --config c:\\ords_config_folder_address install```","title":"Oracle ORDS 22.1 Installation issue","body":"<p>you need to type\n<code>java -jar ords.war --config c:\\ords_config_folder_address install</code></p>\n"}],"owner":{"account_id":23154773,"reputation":11,"user_id":17256190,"display_name":"Xinyang Feng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666468063,"creation_date":1658023384,"question_id":73008796,"body_markdown":"I am trying to install Oracle ORDS 22.1 through Windows 10 cmd. When I run &quot;java -jar ords.war&quot; under the ORDS documents directory, the debugging info shows that the system no longer supports this command. What&#39;s more, it suggests I add ORDS to PATH to use ORDS commands. However, even if I set the path to the specified directory, &quot;java -jar ords.war&quot; still does not work.\r\n\r\nWhat should I do to walk this around? Also, how to install ORDS 22.1 using Windows 10 cmd?   ","title":"Oracle ORDS 22.1 Installation issue","body":"<p>I am trying to install Oracle ORDS 22.1 through Windows 10 cmd. When I run &quot;java -jar ords.war&quot; under the ORDS documents directory, the debugging info shows that the system no longer supports this command. What's more, it suggests I add ORDS to PATH to use ORDS commands. However, even if I set the path to the specified directory, &quot;java -jar ords.war&quot; still does not work.</p>\n<p>What should I do to walk this around? Also, how to install ORDS 22.1 using Windows 10 cmd?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666467988,"creation_date":1666459037,"answer_id":74165577,"question_id":74009446,"body_markdown":"I think you can do something like that:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\r\n    public interface CharacterMapper {\r\n    \r\n        @IterableMapping(qualifiedByName = &quot;toDTO&quot;)\r\n        List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\r\n    \r\n        @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\r\n        Character toCharacter(CharacterDTO characterDTO);\r\n    \r\n        // unused parameter &quot;o&quot;\r\n        @Named(&quot;toDTO&quot;)\r\n        CharacterDTO toDTO(Character character/*, String o*/){\r\n            return new CharacterDTO(character.getImage(), character.getName());\r\n        }\r\n    \r\n        default CharacterDTO toCharacterDTO(Character character){\r\n            return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\r\n        }\r\n        \r\n    }","title":"Mapstruct different mappers for the same target class","body":"<p>I think you can do something like that:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\npublic interface CharacterMapper {\n\n    @IterableMapping(qualifiedByName = &quot;toDTO&quot;)\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\n\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\n    Character toCharacter(CharacterDTO characterDTO);\n\n    // unused parameter &quot;o&quot;\n    @Named(&quot;toDTO&quot;)\n    CharacterDTO toDTO(Character character/*, String o*/){\n        return new CharacterDTO(character.getImage(), character.getName());\n    }\n\n    default CharacterDTO toCharacterDTO(Character character){\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":16665473,"reputation":129,"user_id":12044263,"display_name":"Ernesto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666467988,"creation_date":1665364439,"question_id":74009446,"body_markdown":"I have this entity:\r\n```\r\npublic class Character {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String image;\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n        name = &quot;characters_movies&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;character&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;movie&quot;)\r\n    )\r\n    private List&lt;Movie&gt; movies;\r\n\r\n```\r\n\r\nAnd this DTO for that entity:\r\n```\r\npublic class CharacterDTO extends AbstractResponse{\r\n    \r\n    private int id;\r\n    private String image;\r\n    private String name;\r\n    private List&lt;MovieDTO&gt; movies;\r\n\r\n    public CharacterDTO(String image, String name){\r\n        this.image= image;\r\n        this.name= name;\r\n    }\r\n}\r\n```\r\n\r\nAnd this mapper:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\r\npublic interface CharacterMapper {\r\n\r\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\r\n\r\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\r\n    Character toCharacter(CharacterDTO characterDTO);\r\n\r\n    default CharacterDTO toCharacterDTO(Character character, String o){\r\n        return new CharacterDTO(character.getImage(), character.getName());\r\n    }\r\n\r\n    default CharacterDTO toCharacterDTO(Character character){\r\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI have 2 methods for mapper to the DTO, because in some cases i do not want to show the id. This approach works (i do not if there is a better one), but i want to specify to the toCharactersDTO to use the method with 2 parameters. Any idea i can do that?","title":"Mapstruct different mappers for the same target class","body":"<p>I have this entity:</p>\n<pre><code>public class Character {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String image;\n    @Column(nullable = false)\n    private String name;\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n        name = &quot;characters_movies&quot;,\n        joinColumns = @JoinColumn(name = &quot;character&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;movie&quot;)\n    )\n    private List&lt;Movie&gt; movies;\n\n</code></pre>\n<p>And this DTO for that entity:</p>\n<pre><code>public class CharacterDTO extends AbstractResponse{\n    \n    private int id;\n    private String image;\n    private String name;\n    private List&lt;MovieDTO&gt; movies;\n\n    public CharacterDTO(String image, String name){\n        this.image= image;\n        this.name= name;\n    }\n}\n</code></pre>\n<p>And this mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = MovieMapper.class)\npublic interface CharacterMapper {\n\n    List&lt;CharacterDTO&gt; toCharactersDTO(List&lt;Character&gt; characters);\n\n    @InheritInverseConfiguration(name = &quot;toCharacterDTO&quot;)\n    Character toCharacter(CharacterDTO characterDTO);\n\n    default CharacterDTO toCharacterDTO(Character character, String o){\n        return new CharacterDTO(character.getImage(), character.getName());\n    }\n\n    default CharacterDTO toCharacterDTO(Character character){\n        return new CharacterDTO(character.getImage(), character.getName(), character.getAge(), character.getWeight(), character.getHistory(), null);\n    }\n    \n}\n</code></pre>\n<p>I have 2 methods for mapper to the DTO, because in some cases i do not want to show the id. This approach works (i do not if there is a better one), but i want to specify to the toCharactersDTO to use the method with 2 parameters. Any idea i can do that?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666467957,"creation_date":1666467957,"answer_id":74166612,"question_id":74166431,"body_markdown":"I figured out the problem. It was related to the fact that I was using the quotation mark in the wrong manner. I changed it and then the error is gone.","title":"Selenium WebDriver returning error when trying to compare two strings","body":"<p>I figured out the problem. It was related to the fact that I was using the quotation mark in the wrong manner. I changed it and then the error is gone.</p>\n"}],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666467957,"creation_date":1666465929,"question_id":74166431,"body_markdown":"I am trying to compare two values and I wrote the following code that is returning the error below. I&#39;m not a Java Developer and so I do not know how to solve this issue. I tried to find something on the Internet but I couldn&#39;t. I appreciate your help.\r\n\r\n    // import statements begin for selenium imports\r\n\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.interactions.Action;\r\n    import org.openqa.selenium.interactions.Actions;\r\n\r\n    //import statements end for selenium imports\r\n\r\n\r\n    String formulaTotalQuantity = handl.getExportedValue(“E_CPE_FORMULA__TOTAL_QUANTITY_”);\r\n    String orderQuantity = handl.getExportedValue(“E_ORDER_QUANTITY”);\r\n\r\n    if(orderQuantity.equals(formulaTotalQuantity)){\r\n       System.out.println(&quot;Pass&quot;);\r\n    }\r\n      else {\r\n          System.out.println(&quot;Fail&quot;);\r\n    }\r\n\r\n\r\nThis is the error I am getting when I try to activate the code:\r\n\r\n`ERROR : illegal character: &#39;\\ufffd&#39;/n`","title":"Selenium WebDriver returning error when trying to compare two strings","body":"<p>I am trying to compare two values and I wrote the following code that is returning the error below. I'm not a Java Developer and so I do not know how to solve this issue. I tried to find something on the Internet but I couldn't. I appreciate your help.</p>\n<pre><code>// import statements begin for selenium imports\n\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.interactions.Action;\nimport org.openqa.selenium.interactions.Actions;\n\n//import statements end for selenium imports\n\n\nString formulaTotalQuantity = handl.getExportedValue(“E_CPE_FORMULA__TOTAL_QUANTITY_”);\nString orderQuantity = handl.getExportedValue(“E_ORDER_QUANTITY”);\n\nif(orderQuantity.equals(formulaTotalQuantity)){\n   System.out.println(&quot;Pass&quot;);\n}\n  else {\n      System.out.println(&quot;Fail&quot;);\n}\n</code></pre>\n<p>This is the error I am getting when I try to activate the code:</p>\n<p><code>ERROR : illegal character: '\\ufffd'/n</code></p>\n"},{"tags":["java","foreach","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401792673,"creation_date":1401789276,"answer_id":24012137,"question_id":24011597,"body_markdown":"If I understood you correctly, you want to do something like this:\r\n\r\n    toRemove.forEach(removeString -&gt; {\r\n        text = text.replaceAll(removeString, &quot;&quot;);\r\n    });\r\n\r\nThe only problem is, that you can&#39;t. :(\r\n\r\nYou can read about it here: http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html\r\n\r\nSection 6: `One restriction with lambda expression is that, you can only reference either final or effectively final local variables, which means you cannot modified a variable declared in the outer scope inside a lambda.`\r\n\r\n**EDIT**\r\n\r\nYou can do something very ugly. Like this:\r\n\r\n    private static String text;\r\n\r\n    public void main (String[] args) {\r\n        text = &quot;Hello 1 2 3&quot;;\r\n        List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n        toRemove.forEach(removeString -&gt; replaceTextWithEmptyString(removeString));\r\n    }\r\n\r\n    private static void replaceTextWithEmptyString(String whatToReplace) {\r\n        text = text.replaceAll(whatToReplace, &quot;&quot;);\r\n    }","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>If I understood you correctly, you want to do something like this:</p>\n\n<pre><code>toRemove.forEach(removeString -&gt; {\n    text = text.replaceAll(removeString, \"\");\n});\n</code></pre>\n\n<p>The only problem is, that you can't. :(</p>\n\n<p>You can read about it here: <a href=\"http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html\" rel=\"nofollow\">http://javarevisited.blogspot.co.il/2014/02/10-example-of-lambda-expressions-in-java8.html</a></p>\n\n<p>Section 6: <code>One restriction with lambda expression is that, you can only reference either final or effectively final local variables, which means you cannot modified a variable declared in the outer scope inside a lambda.</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You can do something very ugly. Like this:</p>\n\n<pre><code>private static String text;\n\npublic void main (String[] args) {\n    text = \"Hello 1 2 3\";\n    List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\n    toRemove.forEach(removeString -&gt; replaceTextWithEmptyString(removeString));\n}\n\nprivate static void replaceTextWithEmptyString(String whatToReplace) {\n    text = text.replaceAll(whatToReplace, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1401792921,"creation_date":1401792921,"answer_id":24013344,"question_id":24011597,"body_markdown":"Since you can’t use the stream to modify the `text` variable you have to coerce the operation into one `Function` which you can apply to the `text` to get the final result:\r\n\r\n    List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    String text = &quot;Hello 1 2 3&quot;;\r\n    text=toRemove.stream()\r\n                 .map(toRem-&gt; (Function&lt;String,String&gt;)s-&gt;s.replaceAll(toRem, &quot;&quot;))\r\n                 .reduce(Function.identity(), Function::andThen)\r\n                 .apply(text);\r\n","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>Since you can’t use the stream to modify the <code>text</code> variable you have to coerce the operation into one <code>Function</code> which you can apply to the <code>text</code> to get the final result:</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\ntext=toRemove.stream()\n             .map(toRem-&gt; (Function&lt;String,String&gt;)s-&gt;s.replaceAll(toRem, \"\"))\n             .reduce(Function.identity(), Function::andThen)\n             .apply(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1421995637,"creation_date":1415162365,"answer_id":26749800,"question_id":24011597,"body_markdown":"Wow, you guys like doing things the hard way. this is what filter() and collect() are for.\r\n\r\n\tList&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\tString text = &quot;Hello 1 2 3&quot;;\r\n\r\n\ttext = Pattern.compile(&quot;&quot;).splitAsStream(text)\r\n\t\t.filter(s -&gt; !toRemove.contains(s))\r\n\t\t.collect(Collectors.joining());\r\n    System.out.println(&quot;\\&quot;&quot; + text + &quot;\\&quot;&quot;);\r\n\r\noutputs (as the original code did)\r\n\r\n    &quot;Hello   &quot;\r\n\r\nOf course, if your search strings are longer than one character, the previous method works better. If you have a tokenized string, though, split and join is easier.\r\n\r\n\tList&lt;String&gt; toRemove = Arrays.asList(&quot;12&quot;, &quot;23&quot;, &quot;34&quot;);\r\n\tString text = &quot;Hello 12 23 34 55&quot;;\r\n\tString delimiter = &quot; &quot;;\r\n\r\n\ttext = Pattern.compile(delimiter).splitAsStream(text)\r\n\t\t.filter(s -&gt; !toRemove.contains(s))\r\n\t\t.collect(Collectors.joining(delimiter));\r\n    System.out.println(&quot;\\&quot;&quot; + text + &quot;\\&quot;&quot;);\r\n\r\noutputs\r\n\r\n    &quot;Hello 55&quot;","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>Wow, you guys like doing things the hard way. this is what filter() and collect() are for.</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\n\ntext = Pattern.compile(\"\").splitAsStream(text)\n    .filter(s -&gt; !toRemove.contains(s))\n    .collect(Collectors.joining());\nSystem.out.println(\"\\\"\" + text + \"\\\"\");\n</code></pre>\n\n<p>outputs (as the original code did)</p>\n\n<pre><code>\"Hello   \"\n</code></pre>\n\n<p>Of course, if your search strings are longer than one character, the previous method works better. If you have a tokenized string, though, split and join is easier.</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"12\", \"23\", \"34\");\nString text = \"Hello 12 23 34 55\";\nString delimiter = \" \";\n\ntext = Pattern.compile(delimiter).splitAsStream(text)\n    .filter(s -&gt; !toRemove.contains(s))\n    .collect(Collectors.joining(delimiter));\nSystem.out.println(\"\\\"\" + text + \"\\\"\");\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>\"Hello 55\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3547725,"reputation":101,"user_id":2963237,"display_name":"yuba"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1434349024,"creation_date":1434334006,"answer_id":30836489,"question_id":24011597,"body_markdown":"    text = toRemove.stream()\r\n                   .reduce(text, (str, toRem) -&gt; str.replaceAll(toRem, &quot;&quot;));\r\nwould work for you.","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<pre><code>text = toRemove.stream()\n               .reduce(text, (str, toRem) -&gt; str.replaceAll(toRem, \"\"));\n</code></pre>\n\n<p>would work for you.</p>\n"},{"tags":[],"owner":{"account_id":26552850,"reputation":1,"user_id":20181908,"display_name":"sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666467915,"creation_date":1666467893,"answer_id":74166605,"question_id":24011597,"body_markdown":"\tList&lt;String&gt; versions = new ArrayList&lt;&gt;();\r\n\t\tversions.add(&quot;Lollipop&quot;);\r\n\t\tversions.add(&quot;KitKat&quot;);\r\n\t\tversions.add(&quot;Jelly Bean&quot;);\r\n\t\tversions.add(&quot;Ice Cream Sandwidth&quot;);\r\n\t\tversions.add(&quot;Honeycomb&quot;);\r\n\t\tversions.add(&quot;Gingerbread&quot;);\r\n\r\n\t\tSystem.out.println(&quot;Data&quot;);\r\n\t\tversions.stream().filter(s -&gt; s.startsWith(&quot;G&quot;)).map(i-&gt;i.replace(&quot;G&quot;, &quot;bn&quot;)).forEach(System.out::println);\r\n\r\n\t}","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<pre><code>List&lt;String&gt; versions = new ArrayList&lt;&gt;();\n    versions.add(&quot;Lollipop&quot;);\n    versions.add(&quot;KitKat&quot;);\n    versions.add(&quot;Jelly Bean&quot;);\n    versions.add(&quot;Ice Cream Sandwidth&quot;);\n    versions.add(&quot;Honeycomb&quot;);\n    versions.add(&quot;Gingerbread&quot;);\n\n    System.out.println(&quot;Data&quot;);\n    versions.stream().filter(s -&gt; s.startsWith(&quot;G&quot;)).map(i-&gt;i.replace(&quot;G&quot;, &quot;bn&quot;)).forEach(System.out::println);\n\n}\n</code></pre>\n"}],"owner":{"account_id":968745,"reputation":193,"user_id":991713,"display_name":"SteveG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79114,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":26749800,"answer_count":5,"score":12,"last_activity_date":1666467915,"creation_date":1401787719,"question_id":24011597,"body_markdown":"I wish to replace the code below using java8 .stream()\r\n or .foreach(). However I am having trouble doing this.\r\n\r\nIts probably very easy, but I&#39;m finding the functional way of thinking a struggle :)\r\n\r\nI can iterate, no problem but the but returning the modified string is the issue due  to mutability issues.\r\n\r\nAnyone have any ideas ?\r\n\r\n\r\n    List&lt;String&gt; toRemove = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    String text = &quot;Hello 1 2 3&quot;;\r\n\r\n    for(String item : toRemove){\r\n        text = text.replaceAll(item,EMPTY);\r\n    }\r\n\r\nThanks !","title":"Java 8 Stream - How to return replace a strings contents with a list of items to find","body":"<p>I wish to replace the code below using java8 .stream()\n or .foreach(). However I am having trouble doing this.</p>\n\n<p>Its probably very easy, but I'm finding the functional way of thinking a struggle :)</p>\n\n<p>I can iterate, no problem but the but returning the modified string is the issue due  to mutability issues.</p>\n\n<p>Anyone have any ideas ?</p>\n\n<pre><code>List&lt;String&gt; toRemove = Arrays.asList(\"1\", \"2\", \"3\");\nString text = \"Hello 1 2 3\";\n\nfor(String item : toRemove){\n    text = text.replaceAll(item,EMPTY);\n}\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["java","sql","java-stream","in-memory-database"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1666442412,"post_id":74163561,"comment_id":130940616,"body_markdown":"There is no library that I am aware of. However, H2 is written in java, and open source. Thus, it is possible to take specifically their SQL parser. There&#39;s plenty about SQL syntax that doesn&#39;t really apply to streams, and plenty you might want to add, but if you want it to be SQL based, step 1 is to parse SQL (which is quite a convoluted language). That&#39;s where H2&#39;s source comes in.","body":"There is no library that I am aware of. However, H2 is written in java, and open source. Thus, it is possible to take specifically their SQL parser. There&#39;s plenty about SQL syntax that doesn&#39;t really apply to streams, and plenty you might want to add, but if you want it to be SQL based, step 1 is to parse SQL (which is quite a convoluted language). That&#39;s where H2&#39;s source comes in."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666467555,"creation_date":1666442698,"answer_id":74163684,"question_id":74163561,"body_markdown":"&gt; I have a stream of java objects and I would like to query them\r\n\r\nWhat you want is doesn&#39;t make a lot of sense.\r\n\r\nStreams are **iterators**, not *containers of data*. See the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html):\r\n\r\n&gt; No storage. A **stream is not a data structure** that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.\r\n\r\nSo the stream aren&#39;t a mean of storing data.\r\n\r\nAnd once the stream is consumed, it can&#39;t be used anymore. You can query a stream like a database.\r\n\r\nA stream is an internal iterator that can be executed only once.\r\n\r\n# Update\r\n\r\nIf you&#39;re interested in implementing a Parser for translating SQL-like queries into Predicates and Functions, which would be applied on a stream, then sure you can try. For very simple queries, it&#39;s definitely doable.\r\n\r\nBut it&#39;s not a trivial task. A fully-fledged parser for handling simple queries (similar to the one that has been specified in the question) would require a lot of effort both to implement and to test. I doubt whether it would pay off.\r\n\r\nHere&#39;s a **very, very dumb** illustration which makes use of the Reflection API and regular expressions.\r\n\r\nThe Demo-parser below is not capable of doing much, the proper implementation would be far more complex.\r\n\r\n```\r\npublic class QueryParser {\r\n    \r\n    public static &lt;T&gt; long getAsCount(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\r\n        \r\n        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\r\n        \r\n        return stream\r\n            .filter(operation.getPredicate())\r\n            .count();\r\n    }\r\n\r\n    private static class StreamOperation&lt;T&gt; {\r\n        \r\n        public static final Pattern WHERE = Pattern.compile(&quot;(?&lt;=(?i)where).*?(?=(?i)group)|(?&lt;=(?i)where).*?(?=$)&quot;);\r\n        \r\n        private Predicate&lt;T&gt; predicate;\r\n        // more properties, constructor\r\n        \r\n        public static &lt;T&gt; StreamOperation&lt;T&gt; fromQuery(String query, Class&lt;T&gt; tClass) {\r\n            \r\n            Predicate&lt;T&gt; where = WHERE.matcher(query).results()\r\n                .map(MatchResult::group)\r\n                .findFirst()\r\n                .map(conditions -&gt; parseConditions(conditions, tClass))\r\n                .orElse(t -&gt; true);\r\n            \r\n            // working on other properties\r\n            \r\n            StreamOperation&lt;T&gt; so = new StreamOperation&lt;&gt;(where);\r\n            \r\n            return so;\r\n        }\r\n        \r\n        public Predicate&lt;T&gt; getPredicate() {\r\n            return predicate;\r\n        }\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; parseConditions(String conditions, Class&lt;T&gt; tClass) {\r\n            \r\n            String[] or = conditions.split(&quot;(?i)or&quot;); // split by OR\r\n            \r\n            Predicate&lt;T&gt; orPredicate = t -&gt; false; // base predicate for OR\r\n            \r\n            for (String jointCondition: or) {\r\n                String[] and = jointCondition.split(&quot;(?i)and&quot;); // split by END\r\n                \r\n                Predicate&lt;T&gt; andPredicate = t -&gt; true; // base predicate for AND\r\n                \r\n                for (String condition: and) {\r\n                    Predicate&lt;T&gt; next = null;\r\n                    // parse each condition\r\n                    try {\r\n                        next = Conditions.parseCondition(condition, tClass);\r\n                    } catch (NoSuchFieldException e) {\r\n                        e.printStackTrace();\r\n                        throw new IllegalArgumentException(&quot;Invalid condition or type:\\n&quot;\r\n                            + condition + &quot; for Type &quot; + tClass.getCanonicalName());\r\n                    }\r\n                    andPredicate = andPredicate.and(next); // join conditions together using Predicate.end()\r\n                }\r\n                orPredicate = orPredicate.or(andPredicate); // join conditions together using Predicate.or()\r\n            }\r\n            \r\n            return orPredicate;\r\n        }\r\n    }\r\n    \r\n    private static class Conditions {\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; parseCondition(String conditions, Class&lt;T&gt; tClass) throws NoSuchFieldException {\r\n            \r\n            // TO DO add logic for other conditions\r\n            // Logic equality comparison implemented for demo purposes\r\n            \r\n            String[] equals = conditions.split(&quot;=&quot;);\r\n            \r\n            Field field = tClass.getDeclaredField(equals[0].strip());\r\n            field.setAccessible(true);\r\n            \r\n            return field.getType().isPrimitive() ? // assumption that boolean is also represented as numeric value 0 or 1\r\n                compareAsNumericType(field, equals) : compareAsString(field, equals);\r\n            \r\n        }\r\n        \r\n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsNumericType(Field field, String[] equals) {\r\n    \r\n            return t -&gt; {\r\n                try {\r\n                    return field.getDouble(t) == Double.parseDouble(equals[1].strip());\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    \r\n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsString(Field field, String[] equals) {\r\n        \r\n            return t -&gt; {\r\n                try {\r\n                    return field.get(t).equals(equals[1].strip().replace(&quot;&#39;&quot;, &quot;&quot;));\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n    // TODO implement methods for retrieving other results\r\n\r\n//    public static &lt;T, R&gt; List&lt;R&gt; getAsList(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\r\n//\r\n//        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\r\n//\r\n//        return stream\r\n//            .filter(operation.getPredicate())\r\n//            .map(operation.getMapper()) // not implemented\r\n//            .toList();\r\n//    }\r\n}\r\n```\r\nA dummy class for testing:\r\n\r\n    public class A {\r\n        private int id;\r\n        private String name;\r\n\r\n        // getters, constructor\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        String query = &quot;SELECT count(*) as number_of_x from :myStream WHERE name = &#39;Alise&#39; AND id = 100&quot;;\r\n        \r\n        Stream&lt;A&gt; stream = Stream.of(\r\n            new A(100, &quot;Alise&quot;),\r\n            new A(90, &quot;Bob&quot;),\r\n            new A(100, &quot;Carol&quot;)\r\n        );\r\n        \r\n        System.out.println(QueryParser.getAsCount(query, stream, A.class));\r\n    }\r\n\r\n*Output:*\r\n```\r\n1\r\n```","title":"Write SQL-like queries for java streams","body":"<blockquote>\n<p>I have a stream of java objects and I would like to query them</p>\n</blockquote>\n<p>What you want is doesn't make a lot of sense.</p>\n<p>Streams are <strong>iterators</strong>, not <em>containers of data</em>. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p>No storage. A <strong>stream is not a data structure</strong> that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.</p>\n</blockquote>\n<p>So the stream aren't a mean of storing data.</p>\n<p>And once the stream is consumed, it can't be used anymore. You can query a stream like a database.</p>\n<p>A stream is an internal iterator that can be executed only once.</p>\n<h1>Update</h1>\n<p>If you're interested in implementing a Parser for translating SQL-like queries into Predicates and Functions, which would be applied on a stream, then sure you can try. For very simple queries, it's definitely doable.</p>\n<p>But it's not a trivial task. A fully-fledged parser for handling simple queries (similar to the one that has been specified in the question) would require a lot of effort both to implement and to test. I doubt whether it would pay off.</p>\n<p>Here's a <strong>very, very dumb</strong> illustration which makes use of the Reflection API and regular expressions.</p>\n<p>The Demo-parser below is not capable of doing much, the proper implementation would be far more complex.</p>\n<pre><code>public class QueryParser {\n    \n    public static &lt;T&gt; long getAsCount(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\n        \n        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\n        \n        return stream\n            .filter(operation.getPredicate())\n            .count();\n    }\n\n    private static class StreamOperation&lt;T&gt; {\n        \n        public static final Pattern WHERE = Pattern.compile(&quot;(?&lt;=(?i)where).*?(?=(?i)group)|(?&lt;=(?i)where).*?(?=$)&quot;);\n        \n        private Predicate&lt;T&gt; predicate;\n        // more properties, constructor\n        \n        public static &lt;T&gt; StreamOperation&lt;T&gt; fromQuery(String query, Class&lt;T&gt; tClass) {\n            \n            Predicate&lt;T&gt; where = WHERE.matcher(query).results()\n                .map(MatchResult::group)\n                .findFirst()\n                .map(conditions -&gt; parseConditions(conditions, tClass))\n                .orElse(t -&gt; true);\n            \n            // working on other properties\n            \n            StreamOperation&lt;T&gt; so = new StreamOperation&lt;&gt;(where);\n            \n            return so;\n        }\n        \n        public Predicate&lt;T&gt; getPredicate() {\n            return predicate;\n        }\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; parseConditions(String conditions, Class&lt;T&gt; tClass) {\n            \n            String[] or = conditions.split(&quot;(?i)or&quot;); // split by OR\n            \n            Predicate&lt;T&gt; orPredicate = t -&gt; false; // base predicate for OR\n            \n            for (String jointCondition: or) {\n                String[] and = jointCondition.split(&quot;(?i)and&quot;); // split by END\n                \n                Predicate&lt;T&gt; andPredicate = t -&gt; true; // base predicate for AND\n                \n                for (String condition: and) {\n                    Predicate&lt;T&gt; next = null;\n                    // parse each condition\n                    try {\n                        next = Conditions.parseCondition(condition, tClass);\n                    } catch (NoSuchFieldException e) {\n                        e.printStackTrace();\n                        throw new IllegalArgumentException(&quot;Invalid condition or type:\\n&quot;\n                            + condition + &quot; for Type &quot; + tClass.getCanonicalName());\n                    }\n                    andPredicate = andPredicate.and(next); // join conditions together using Predicate.end()\n                }\n                orPredicate = orPredicate.or(andPredicate); // join conditions together using Predicate.or()\n            }\n            \n            return orPredicate;\n        }\n    }\n    \n    private static class Conditions {\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; parseCondition(String conditions, Class&lt;T&gt; tClass) throws NoSuchFieldException {\n            \n            // TO DO add logic for other conditions\n            // Logic equality comparison implemented for demo purposes\n            \n            String[] equals = conditions.split(&quot;=&quot;);\n            \n            Field field = tClass.getDeclaredField(equals[0].strip());\n            field.setAccessible(true);\n            \n            return field.getType().isPrimitive() ? // assumption that boolean is also represented as numeric value 0 or 1\n                compareAsNumericType(field, equals) : compareAsString(field, equals);\n            \n        }\n        \n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsNumericType(Field field, String[] equals) {\n    \n            return t -&gt; {\n                try {\n                    return field.getDouble(t) == Double.parseDouble(equals[1].strip());\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                    return false;\n                }\n            };\n        }\n    \n        public static &lt;T&gt; Predicate&lt;T&gt; compareAsString(Field field, String[] equals) {\n        \n            return t -&gt; {\n                try {\n                    return field.get(t).equals(equals[1].strip().replace(&quot;'&quot;, &quot;&quot;));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                    return false;\n                }\n            };\n        }\n    }\n    \n    // TODO implement methods for retrieving other results\n\n//    public static &lt;T, R&gt; List&lt;R&gt; getAsList(String query, Stream&lt;T&gt; stream, Class&lt;T&gt; tClass) { // overloaded versions for primitive streams\n//\n//        StreamOperation&lt;T&gt; operation = StreamOperation.fromQuery(query, tClass);\n//\n//        return stream\n//            .filter(operation.getPredicate())\n//            .map(operation.getMapper()) // not implemented\n//            .toList();\n//    }\n}\n</code></pre>\n<p>A dummy class for testing:</p>\n<pre><code>public class A {\n    private int id;\n    private String name;\n\n    // getters, constructor\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    String query = &quot;SELECT count(*) as number_of_x from :myStream WHERE name = 'Alise' AND id = 100&quot;;\n    \n    Stream&lt;A&gt; stream = Stream.of(\n        new A(100, &quot;Alise&quot;),\n        new A(90, &quot;Bob&quot;),\n        new A(100, &quot;Carol&quot;)\n    );\n    \n    System.out.println(QueryParser.getAsCount(query, stream, A.class));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n</code></pre>\n"}],"owner":{"account_id":48879,"reputation":6607,"user_id":145359,"accept_rate":95,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74163684,"answer_count":1,"score":0,"last_activity_date":1666467555,"creation_date":1666441707,"question_id":74163561,"body_markdown":"I have a stream of java objects and I would like to query them using SQL-like syntax at a reasonable performance (comparable to querying a regular table without any indexes in an RDBMS, like a one-time full table scan).\r\n\r\nI like the Stream API map/filter/etc., but the query would also be an input, so I can&#39;t hard-code it in java.\r\n\r\nIs it possible to do this without inserting the incoming data into a &quot;real&quot; database (and then removing them later to save space)?  \r\nI was thinking about using an in-memory database like H2 or SQLite, but then I would still have to insert the data, and they really are not for streaming.\r\n\r\nAre there any existing libraries/solutions for something like I&#39;m trying to do?\r\n\r\n```\r\nclass A {\r\n    private String name;\r\n\r\n    /* ... */\r\n}\r\n```\r\n\r\n```\r\nStream&lt;A&gt; myStream /* = ... */ ;\r\n\r\nStream&lt;Integer&gt; result = query(myStream, &quot;select count(*) as number_of_x from :myStream where name = &#39;x&#39;&quot;,\r\n    (rs, i) -&gt; rs.getInt(&quot;number_of_x&quot;));\r\n\r\n/* result.toList() will contain one element at the end */\r\n```","title":"Write SQL-like queries for java streams","body":"<p>I have a stream of java objects and I would like to query them using SQL-like syntax at a reasonable performance (comparable to querying a regular table without any indexes in an RDBMS, like a one-time full table scan).</p>\n<p>I like the Stream API map/filter/etc., but the query would also be an input, so I can't hard-code it in java.</p>\n<p>Is it possible to do this without inserting the incoming data into a &quot;real&quot; database (and then removing them later to save space)?<br />\nI was thinking about using an in-memory database like H2 or SQLite, but then I would still have to insert the data, and they really are not for streaming.</p>\n<p>Are there any existing libraries/solutions for something like I'm trying to do?</p>\n<pre><code>class A {\n    private String name;\n\n    /* ... */\n}\n</code></pre>\n<pre><code>Stream&lt;A&gt; myStream /* = ... */ ;\n\nStream&lt;Integer&gt; result = query(myStream, &quot;select count(*) as number_of_x from :myStream where name = 'x'&quot;,\n    (rs, i) -&gt; rs.getInt(&quot;number_of_x&quot;));\n\n/* result.toList() will contain one element at the end */\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2501857,"reputation":1362,"user_id":2176734,"accept_rate":50,"display_name":"khurram"},"score":0,"creation_date":1412863941,"post_id":26280347,"comment_id":41233146,"body_markdown":"Check Spelling only or remove that permission and copy paste it again from deve site, error comes when we did spell mistakes. &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;    \n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; Or check your manifest thoroughly. Good luck :)","body":"Check Spelling only or remove that permission and copy paste it again from deve site, error comes when we did spell mistakes. &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; Or check your manifest thoroughly. Good luck :)"}],"answers":[{"tags":[],"owner":{"account_id":1644894,"reputation":1995,"user_id":1516596,"accept_rate":34,"display_name":"harikrishnan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1412863829,"creation_date":1412863367,"answer_id":26280494,"question_id":26280347,"body_markdown":"when you change wifi state, this also need this.\r\n\r\ntry this.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n\r\nAdd this list of permission in the AndroidManifest.xml:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; ","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>when you change wifi state, this also need this.</p>\n\n<p>try this.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n</code></pre>\n\n<p>Add this list of permission in the AndroidManifest.xml:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_NETWORK_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1412883355,"creation_date":1412864323,"answer_id":26280818,"question_id":26280347,"body_markdown":"Taking into account that you&#39;re using the right permission and the lines are syntactically correct, it&#39;s likely you&#39;ve **misplaced the permissions in your manifest**, if you have them somewhere else but the root of the manifest xml node, they will likely not work at all. They need to go **after** `&lt;manifest&gt;` **and before** `&lt;/manifest&gt;` but not inside `&lt;application&gt;` or `&lt;activity&gt;`\r\n\r\n    &lt;manifest xlmns:android...&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n     ...YOUR APPLICATION &amp; ACTIVITY HERE...\r\n    &lt;/manifest&gt;\r\n\r\n*Note that the manifest tag was simplified for readability*\r\n\r\n[&amp;#x3C;uses-permission&amp;#x3E;][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/manifest/uses-permission-element.html","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>Taking into account that you're using the right permission and the lines are syntactically correct, it's likely you've <strong>misplaced the permissions in your manifest</strong>, if you have them somewhere else but the root of the manifest xml node, they will likely not work at all. They need to go <strong>after</strong> <code>&lt;manifest&gt;</code> <strong>and before</strong> <code>&lt;/manifest&gt;</code> but not inside <code>&lt;application&gt;</code> or <code>&lt;activity&gt;</code></p>\n\n<pre><code>&lt;manifest xlmns:android...&gt;\n &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n ...YOUR APPLICATION &amp; ACTIVITY HERE...\n&lt;/manifest&gt;\n</code></pre>\n\n<p><em>Note that the manifest tag was simplified for readability</em></p>\n\n<p><a href=\"http://developer.android.com/guide/topics/manifest/uses-permission-element.html\" rel=\"nofollow\">&#x3C;uses-permission&#x3E;</a></p>\n"},{"tags":[],"owner":{"account_id":8839360,"reputation":1,"user_id":6602288,"display_name":"太平郭"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1471769168,"creation_date":1471769168,"answer_id":39062443,"question_id":26280347,"body_markdown":"add this in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nit is Ok for me!","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>add this in your AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.CHANGE_NETWORK_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>it is Ok for me!</p>\n"},{"tags":[],"owner":{"account_id":10132666,"reputation":1,"user_id":7485428,"display_name":"sunil kadam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1486543857,"creation_date":1486538131,"answer_id":42106900,"question_id":26280347,"body_markdown":"    if(provider!=null &amp;&amp; !provider.equals(&quot;&quot;)){\r\n\r\n        // Get the location from the given provider\r\n        Location location = locationManager.getLastKnownLocation(provider);   // error (call require permission which may be rejected by user)\r\n\r\n        locationManager.requestLocationUpdates(provider, 20000, 1, this);\r\n\r\n        if(location!=null)\r\n            onLocationChanged(location);\r\n        else\r\n            Toast.makeText(getBaseContext(), &quot;Location can&#39;t be retrieved&quot;, Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            Toast.makeText(getBaseContext(), &quot;No Provider Found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<pre><code>if(provider!=null &amp;&amp; !provider.equals(\"\")){\n\n    // Get the location from the given provider\n    Location location = locationManager.getLastKnownLocation(provider);   // error (call require permission which may be rejected by user)\n\n    locationManager.requestLocationUpdates(provider, 20000, 1, this);\n\n    if(location!=null)\n        onLocationChanged(location);\n    else\n        Toast.makeText(getBaseContext(), \"Location can't be retrieved\", Toast.LENGTH_SHORT).show();\n    }else{\n        Toast.makeText(getBaseContext(), \"No Provider Found\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2339988,"reputation":1252,"user_id":2051503,"accept_rate":89,"display_name":"Boris Kuzevanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26280818,"answer_count":4,"score":1,"last_activity_date":1666467222,"creation_date":1412863024,"question_id":26280347,"body_markdown":"I have an error :\r\n  \r\n\r\n    Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n\r\nI try do get wifi name (ssid). I use this code:\r\n\r\n    WifiManager wifiManager = (WifiManager) getSystemService (Context.WIFI_SERVICE);\r\n    System.out.println(wifiManager.getConnectionInfo ().getSSID ());\r\nIn my manifest file i added this permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\nWhat i do wrong? \r\n[This][1] and [this][2] doesn&#39;t work for me\r\nThanks \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8240561/security-exception-by-accessing-the-wifi-in-android\r\n  [2]: https://stackoverflow.com/questions/3531940/how-to-get-name-of-wifi-network-out-of-android-using-android-api\r\n\r\nMy full logcat:\r\n\r\n    10-09 16:08:23.705  31988-31988/com.example.android.navigationdrawerexample E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.navigationdrawerexample/com.example.android.navigationdrawerexample.MainActivity}: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2255)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\r\n                at android.app.ActivityThread.access$700(ActivityThread.java:157)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\r\n                at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                at android.os.Looper.loop(Looper.java:176)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5319)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:511)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n                at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n                at android.os.Parcel.readException(Parcel.java:1425)\r\n                at android.os.Parcel.readException(Parcel.java:1379)\r\n                at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:991)\r\n                at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:976)\r\n                at com.example.android.navigationdrawerexample.MainActivity$PlanetFragment.onCreateView(MainActivity.java:261)\r\n                at android.app.Fragment.performCreateView(Fragment.java:1699)\r\n                at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:903)\r\n                at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)\r\n                at android.app.BackStackRecord.run(BackStackRecord.java:682)\r\n                at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1455)\r\n                at android.app.Activity.performStart(Activity.java:5335)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2227)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.access$700(ActivityThread.java:157)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:176)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5319)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:511)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)","title":"Android user permission error (android.permission.ACCESS_WIFI_STATE)","body":"<p>I have an error :</p>\n\n<pre><code>Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n</code></pre>\n\n<p>I try do get wifi name (ssid). I use this code:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager) getSystemService (Context.WIFI_SERVICE);\nSystem.out.println(wifiManager.getConnectionInfo ().getSSID ());\n</code></pre>\n\n<p>In my manifest file i added this permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n</code></pre>\n\n<p>What i do wrong? \n<a href=\"https://stackoverflow.com/questions/8240561/security-exception-by-accessing-the-wifi-in-android\">This</a> and <a href=\"https://stackoverflow.com/questions/3531940/how-to-get-name-of-wifi-network-out-of-android-using-android-api\">this</a> doesn't work for me\nThanks </p>\n\n<p>My full logcat:</p>\n\n<pre><code>10-09 16:08:23.705  31988-31988/com.example.android.navigationdrawerexample E/AndroidRuntime﹕ FATAL EXCEPTION: main\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.navigationdrawerexample/com.example.android.navigationdrawerexample.MainActivity}: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2255)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\n            at android.app.ActivityThread.access$700(ActivityThread.java:157)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\n            at android.os.Handler.dispatchMessage(Handler.java:99)\n            at android.os.Looper.loop(Looper.java:176)\n            at android.app.ActivityThread.main(ActivityThread.java:5319)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:511)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.SecurityException: WifiService: Neither user 10132 nor current process has android.permission.ACCESS_WIFI_STATE.\n            at android.os.Parcel.readException(Parcel.java:1425)\n            at android.os.Parcel.readException(Parcel.java:1379)\n            at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:991)\n            at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:976)\n            at com.example.android.navigationdrawerexample.MainActivity$PlanetFragment.onCreateView(MainActivity.java:261)\n            at android.app.Fragment.performCreateView(Fragment.java:1699)\n            at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:903)\n            at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)\n            at android.app.BackStackRecord.run(BackStackRecord.java:682)\n            at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1455)\n            at android.app.Activity.performStart(Activity.java:5335)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2227)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2309)\n            at android.app.ActivityThread.access$700(ActivityThread.java:157)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1289)\n            at android.os.Handler.dispatchMessage(Handler.java:99)\n            at android.os.Looper.loop(Looper.java:176)\n            at android.app.ActivityThread.main(ActivityThread.java:5319)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:511)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","multithreading","sockets","nio"],"comments":[{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1296673800,"post_id":4877292,"comment_id":5425390,"body_markdown":"A single thread for every client? Isn&#39;t that two threads per client, one for reading and one for writing? Otherwise you can&#39;t do anything as long as the thread is blocked in read().","body":"A single thread for every client? Isn&#39;t that two threads per client, one for reading and one for writing? Otherwise you can&#39;t do anything as long as the thread is blocked in read()."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296689445,"post_id":4877292,"comment_id":5428801,"body_markdown":"@Sergey, write blocking is real culprit since it cannot be interrupted and in case of bad IO, the thread blocks until the OS decides that it&#39;s cool. Read thread can be managed w/ SO_TIMEOUT. So it&#39;s 2 threads per socket.","body":"@Sergey, write blocking is real culprit since it cannot be interrupted and in case of bad IO, the thread blocks until the OS decides that it&#39;s cool. Read thread can be managed w/ SO_TIMEOUT. So it&#39;s 2 threads per socket."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1296717506,"post_id":4877292,"comment_id":5431595,"body_markdown":"@bestsss, doesn&#39;t SO_TIMEOUT also affects write()? And if there&#39;s bad IO, usually the thread has nothing better to do than trying to write anyway.","body":"@bestsss, doesn&#39;t SO_TIMEOUT also affects write()? And if there&#39;s bad IO, usually the thread has nothing better to do than trying to write anyway."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296720172,"post_id":4877292,"comment_id":5431983,"body_markdown":"@Sergey, no, it doesn&#39;t. There is no interrupt-write operations, even if there were, you still can&#39;t know how much was written. Such design really sucks vs arbitrary &#39;bad&#39; clients that read a few bytes per second. You can not even stop the threads during writing. With read threads you can even use available (but it can degrade performance for one more JNI call)","body":"@Sergey, no, it doesn&#39;t. There is no interrupt-write operations, even if there were, you still can&#39;t know how much was written. Such design really sucks vs arbitrary &#39;bad&#39; clients that read a few bytes per second. You can not even stop the threads during writing. With read threads you can even use available (but it can degrade performance for one more JNI call)"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296667185,"creation_date":1296665835,"answer_id":4877337,"question_id":4877292,"body_markdown":"There&#39;s nothing wrong with either approach. If you have limited clients the second option will suffice (and possibly even thrive based on a multicore architecture), otherwise it might be beneficial to let java.nio manage your resources. \r\n\r\n\r\nSee [this question](https://stackoverflow.com/questions/4864719/one-server-multiple-clients/4864897#4864897) on the same topic, as well as [this other](https://stackoverflow.com/questions/267306/java-net-versus-java-nio) post, or why not consider [this blog post](http://blog.uncommons.org/2008/09/03/avoid-nio-get-better-throughput/) which argues against using java.nio for most scenarios. ","title":"java.nio vs new thread for each socket","body":"<p>There's nothing wrong with either approach. If you have limited clients the second option will suffice (and possibly even thrive based on a multicore architecture), otherwise it might be beneficial to let java.nio manage your resources. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/4864719/one-server-multiple-clients/4864897#4864897\">this question</a> on the same topic, as well as <a href=\"https://stackoverflow.com/questions/267306/java-net-versus-java-nio\">this other</a> post, or why not consider <a href=\"http://blog.uncommons.org/2008/09/03/avoid-nio-get-better-throughput/\" rel=\"nofollow noreferrer\">this blog post</a> which argues against using java.nio for most scenarios. </p>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296667552,"creation_date":1296667552,"answer_id":4877654,"question_id":4877292,"body_markdown":"NIO is reasonable for performance, and should use no more than #cores threads, multiplicated by the IO factor of your application, where the IO factor is the percentage of your app waiting for disk IO to complete.\r\n\r\nThe reason is simple. When you have #cores worker, each worker is likely to be bound to a single cpu core and can unitilize it to its maximum. the more workers, the more context switches, and this is exactly what you don&#39;t want and why you use NIO in the first place.\r\n\r\nIf the workers have to wait for IO, they could handle other requests, so use some more workers than cores for full cpu utilization.\r\n\r\nIf you use threads, you get the following advantages:\r\n\r\n* you can store session information in ThreadLocals.\r\n* you don&#39;t have to manage the session information in other ways.\r\n","title":"java.nio vs new thread for each socket","body":"<p>NIO is reasonable for performance, and should use no more than #cores threads, multiplicated by the IO factor of your application, where the IO factor is the percentage of your app waiting for disk IO to complete.</p>\n\n<p>The reason is simple. When you have #cores worker, each worker is likely to be bound to a single cpu core and can unitilize it to its maximum. the more workers, the more context switches, and this is exactly what you don't want and why you use NIO in the first place.</p>\n\n<p>If the workers have to wait for IO, they could handle other requests, so use some more workers than cores for full cpu utilization.</p>\n\n<p>If you use threads, you get the following advantages:</p>\n\n<ul>\n<li>you can store session information in ThreadLocals.</li>\n<li>you don't have to manage the session information in other ways.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666467210,"creation_date":1296682915,"answer_id":4880196,"question_id":4877292,"body_markdown":"## Individual threads ##\r\n\r\n - You can use the simple InputStream/OutputStream (or Reader/Writer) API, and wrapping Streams around each other. In [my current project][1], I&#39;m using a stack of\r\n  - MessageFormatter, a custom formatting class\r\n  - PrintWriter\r\n  - OutputStreamWriter\r\n  - DebugOutputStream (custom class, which makes a copy for debugging purposes)\r\n  - DeflatorOutputStream (a custom subclass, in fact, which supports flushing)\r\n  - the OutputStream of a SSLSocket\r\n\r\n and the other way around on the receiving side. This is quite comfortable, since you only have to deal with the top layer in your program logic (the rest is mostly one constructor call each).\r\n - you need a new Thread (or even pair of threads, depending on architecture) for each connection.\r\n\r\n  (In my project I have a MessageParser-Thread for each connection, which then gives individual jobs to a ThreadPool, and these jobs then may write to one or several of the open connections, not only the one which spawned them. The writing is synchronized, of course.)\r\n\r\n - each thread needs quite a bit of stack space, which can be problematic if you are on a resource limited machine.\r\n\r\nIn the case of short-lived connections, you actually don&#39;t want a new thread for each connection, but only a new Runnable executed on a ThreadPool, since construction of new Threads takes a bit of time. (Note: With JDK 19, we can get cheap virtual threads. Use these instead, the thread pools are hidden in the background by the platform.)\r\n\r\n## nonblocking IO ##\r\n\r\n - if you have such a multi-layer architecture with multiple conversions, you have to arrange it all by yourself. It is possible:\r\n   - my MessageFormatter can write to a CharBuffer as well as to a Writer.\r\n   - for the Char-to-Byte-formatting, use CharsetEncoder/CharsetDecoder (transfers data between CharBuffer and ByteBuffer).\r\n   - for the compressing, I used wrapper classes around Deflater/Inflater, which transfers data between two ByteBuffers.\r\n   - for the encryption, I used a SSLEngine (one for each connection), which also uses ByteBuffers for input and output.\r\n   - Then, write to a SocketChannel (or in the other direction, read from it).\r\n\r\n Still, the management overhead is quite a hassle, as you must track where the data is. (I actually had a two pipelines for each connection, and one or two threads managing the data in all the pipelines, between this waiting on a Selector for new data on the sockets (or for new space there, in the outgoing case). (The actual processing after the parsing of the Messages still took place in spawned Runnables in a ThreadPool.)\r\n\r\n - You need only a small number of threads. This was actually the reason I tried to do this asynchronously. It worked (with the same synchronous client), but was way slower than my multi-thread solution, so I put this back until we run out of memory for too much threads. (Until now, there are not so much connections at the same time.)\r\n\r\n\r\n  [1]: http://www.fencing-game.de/","title":"java.nio vs new thread for each socket","body":"<h2>Individual threads</h2>\n<ul>\n<li>You can use the simple InputStream/OutputStream (or Reader/Writer) API, and wrapping Streams around each other. In <a href=\"http://www.fencing-game.de/\" rel=\"nofollow noreferrer\">my current project</a>, I'm using a stack of</li>\n<li>MessageFormatter, a custom formatting class</li>\n<li>PrintWriter</li>\n<li>OutputStreamWriter</li>\n<li>DebugOutputStream (custom class, which makes a copy for debugging purposes)</li>\n<li>DeflatorOutputStream (a custom subclass, in fact, which supports flushing)</li>\n<li>the OutputStream of a SSLSocket</li>\n</ul>\n<p>and the other way around on the receiving side. This is quite comfortable, since you only have to deal with the top layer in your program logic (the rest is mostly one constructor call each).</p>\n<ul>\n<li>you need a new Thread (or even pair of threads, depending on architecture) for each connection.</li>\n</ul>\n<p>(In my project I have a MessageParser-Thread for each connection, which then gives individual jobs to a ThreadPool, and these jobs then may write to one or several of the open connections, not only the one which spawned them. The writing is synchronized, of course.)</p>\n<ul>\n<li>each thread needs quite a bit of stack space, which can be problematic if you are on a resource limited machine.</li>\n</ul>\n<p>In the case of short-lived connections, you actually don't want a new thread for each connection, but only a new Runnable executed on a ThreadPool, since construction of new Threads takes a bit of time. (Note: With JDK 19, we can get cheap virtual threads. Use these instead, the thread pools are hidden in the background by the platform.)</p>\n<h2>nonblocking IO</h2>\n<ul>\n<li>if you have such a multi-layer architecture with multiple conversions, you have to arrange it all by yourself. It is possible:\n<ul>\n<li>my MessageFormatter can write to a CharBuffer as well as to a Writer.</li>\n<li>for the Char-to-Byte-formatting, use CharsetEncoder/CharsetDecoder (transfers data between CharBuffer and ByteBuffer).</li>\n<li>for the compressing, I used wrapper classes around Deflater/Inflater, which transfers data between two ByteBuffers.</li>\n<li>for the encryption, I used a SSLEngine (one for each connection), which also uses ByteBuffers for input and output.</li>\n<li>Then, write to a SocketChannel (or in the other direction, read from it).</li>\n</ul>\n</li>\n</ul>\n<p>Still, the management overhead is quite a hassle, as you must track where the data is. (I actually had a two pipelines for each connection, and one or two threads managing the data in all the pipelines, between this waiting on a Selector for new data on the sockets (or for new space there, in the outgoing case). (The actual processing after the parsing of the Messages still took place in spawned Runnables in a ThreadPool.)</p>\n<ul>\n<li>You need only a small number of threads. This was actually the reason I tried to do this asynchronously. It worked (with the same synchronous client), but was way slower than my multi-thread solution, so I put this back until we run out of memory for too much threads. (Until now, there are not so much connections at the same time.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296689272,"creation_date":1296689272,"answer_id":4881152,"question_id":4877292,"body_markdown":"NIO for the win and I can actually stop threads when I want to. Learning NIO is nowehere difficult, however using buffers properly is almost never explained anywhere. One of the reasons, I believe, people can&#39;t squeeze NIO for exrta benefits.\r\n\r\nOther parts of NIO is general inability of the most developers to code and use state machines, so they end up copying the buffers way too much.\r\n\r\n\r\n\r\n","title":"java.nio vs new thread for each socket","body":"<p>NIO for the win and I can actually stop threads when I want to. Learning NIO is nowehere difficult, however using buffers properly is almost never explained anywhere. One of the reasons, I believe, people can't squeeze NIO for exrta benefits.</p>\n\n<p>Other parts of NIO is general inability of the most developers to code and use state machines, so they end up copying the buffers way too much.</p>\n"},{"tags":[],"owner":{"account_id":291713,"reputation":8251,"user_id":594026,"accept_rate":100,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1351586796,"creation_date":1296765605,"answer_id":4891470,"question_id":4877292,"body_markdown":"I tried [Apache MINA](http://mina.apache.org/), it is really really good. I strongly recommend it.","title":"java.nio vs new thread for each socket","body":"<p>I tried <a href=\"http://mina.apache.org/\" rel=\"nofollow\">Apache MINA</a>, it is really really good. I strongly recommend it.</p>\n"}],"owner":{"account_id":291713,"reputation":8251,"user_id":594026,"accept_rate":100,"display_name":"Leon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9070,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1349945366,"accepted_answer_id":4891470,"answer_count":5,"score":8,"last_activity_date":1666467210,"creation_date":1296665582,"question_id":4877292,"body_markdown":"I am developping a 1 to many server-client application, which is a small project.\r\n\r\nSince socket IO is blocking. I am looking for a solution for this.\r\n\r\nCould anyone tell me what is the good/bad for each of the 2 solutions?\r\n\r\n1. use java.nio\r\n2. new a single thread for every client that connected.\r\n\r\nThanks\r\n","title":"java.nio vs new thread for each socket","body":"<p>I am developping a 1 to many server-client application, which is a small project.</p>\n\n<p>Since socket IO is blocking. I am looking for a solution for this.</p>\n\n<p>Could anyone tell me what is the good/bad for each of the 2 solutions?</p>\n\n<ol>\n<li>use java.nio</li>\n<li>new a single thread for every client that connected.</li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":["java","json","spring","jackson","jackson-databind"],"comments":[{"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"score":0,"creation_date":1666464073,"post_id":74165949,"comment_id":130945274,"body_markdown":"I want to generate this as response. right now the number comes out as string as well. &quot;code&quot;: &quot;111&quot;.","body":"I want to generate this as response. right now the number comes out as string as well. &quot;code&quot;: &quot;111&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666466500,"creation_date":1666465214,"answer_id":74166359,"question_id":74165949,"body_markdown":"You can implement a custom serializer by extending abstract class [`JsonSerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html#method_summary), and provide it via `using` attribute of the [`@JsonSerialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html) annotation, placed on the `code` field.\r\n\r\nTo discriminate between the cases when property can be represented as an `int` you can use a regular expression `&quot;\\\\d+&quot;`.\r\n\r\n*Example:*\r\n\r\n    public class Foo {\r\n        @JsonSerialize(using = StringToIntSerializer.class)\r\n        private String code;\r\n        // other fields\r\n        \r\n        // getter, setters, etc.\r\n    }\r\n    \r\n    public static class StringToIntSerializer extends JsonSerializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public void serialize(String value, JsonGenerator gen,\r\n                              SerializerProvider serializers) throws IOException {\r\n        \r\n            if (value.matches(&quot;\\\\d+&quot;)) gen.writeNumber(value);\r\n            else gen.writeString(value);\r\n        }\r\n    }","title":"Json - Serializing Property in the response as a Different Type","body":"<p>You can implement a custom serializer by extending abstract class <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html#method_summary\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a>, and provide it via <code>using</code> attribute of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>@JsonSerialize</code></a> annotation, placed on the <code>code</code> field.</p>\n<p>To discriminate between the cases when property can be represented as an <code>int</code> you can use a regular expression <code>&quot;\\\\d+&quot;</code>.</p>\n<p><em>Example:</em></p>\n<pre><code>public class Foo {\n    @JsonSerialize(using = StringToIntSerializer.class)\n    private String code;\n    // other fields\n    \n    // getter, setters, etc.\n}\n\npublic static class StringToIntSerializer extends JsonSerializer&lt;String&gt; {\n\n    @Override\n    public void serialize(String value, JsonGenerator gen,\n                          SerializerProvider serializers) throws IOException {\n    \n        if (value.matches(&quot;\\\\d+&quot;)) gen.writeNumber(value);\n        else gen.writeString(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74166359,"answer_count":1,"score":1,"last_activity_date":1666466500,"creation_date":1666462105,"question_id":74165949,"body_markdown":"I have a `String` field in my POJO like this:\r\n\r\n```\r\nprivate String code; // code can be &quot;111&quot;, &quot;CD&quot;, &quot;XX&quot;, etc.\r\n```\r\nIs there some JSON annotation that would allow serializing this field as Number (i.e. `int`), but **only** if the property can be converted from `String` into `int`?\r\n\r\n*Example*\r\n\r\nIf code is number, expected response: \r\n```\r\n{\r\n    &quot;code&quot;: 111\r\n}\r\n```\r\nElse, if it is text:\r\n```\r\n{\r\n    &quot;code&quot;: &quot;CD&quot;\r\n}\r\n```\r\nRight now both come out as string &quot;111&quot;, &quot;CD&quot;, etc.","title":"Json - Serializing Property in the response as a Different Type","body":"<p>I have a <code>String</code> field in my POJO like this:</p>\n<pre><code>private String code; // code can be &quot;111&quot;, &quot;CD&quot;, &quot;XX&quot;, etc.\n</code></pre>\n<p>Is there some JSON annotation that would allow serializing this field as Number (i.e. <code>int</code>), but <strong>only</strong> if the property can be converted from <code>String</code> into <code>int</code>?</p>\n<p><em>Example</em></p>\n<p>If code is number, expected response:</p>\n<pre><code>{\n    &quot;code&quot;: 111\n}\n</code></pre>\n<p>Else, if it is text:</p>\n<pre><code>{\n    &quot;code&quot;: &quot;CD&quot;\n}\n</code></pre>\n<p>Right now both come out as string &quot;111&quot;, &quot;CD&quot;, etc.</p>\n"},{"tags":["java","performance","serialization","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1381467822,"post_id":19310537,"comment_id":28600270,"body_markdown":"This is your code, right?  Count the number of objects created, and stop when the count reaches 100,000.","body":"This is your code, right?  Count the number of objects created, and stop when the count reaches 100,000."},{"owner":{"account_id":3390481,"reputation":318,"user_id":2845402,"display_name":"Asheesh Gupta"},"score":0,"creation_date":1381467880,"post_id":19310537,"comment_id":28600332,"body_markdown":"Try looking for these methods writeReplace() and readResolve() And check this link:\nhttp://www.jguru.com/faq/view.jsp?EID=44039","body":"Try looking for these methods writeReplace() and readResolve() And check this link: <a href=\"http://www.jguru.com/faq/view.jsp?EID=44039\" rel=\"nofollow noreferrer\">jguru.com/faq/view.jsp?EID=44039</a>"},{"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381468004,"post_id":19310537,"comment_id":28600307,"body_markdown":"@Piro I do need the objects. Particularly, foo will convert them into a cvs format. I need every one of them, but cant afford to have each and every one of them in memory.","body":"@Piro I do need the objects. Particularly, foo will convert them into a cvs format. I need every one of them, but cant afford to have each and every one of them in memory."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1381468053,"post_id":19310537,"comment_id":28600321,"body_markdown":"Then you&#39;ll need to write them to a file... which is kinda back where you started.","body":"Then you&#39;ll need to write them to a file... which is kinda back where you started."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1381469314,"post_id":19310537,"comment_id":28600667,"body_markdown":"readResolve will not help, since it is working on created object. Only thing i can think of is to not serialize whole objects, just data, but it is almost as writing directly to csv.","body":"readResolve will not help, since it is working on created object. Only thing i can think of is to not serialize whole objects, just data, but it is almost as writing directly to csv."},{"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1381470560,"post_id":19310537,"comment_id":28601037,"body_markdown":"How about using a weak reference that is referenced until the `foo` method ends ?","body":"How about using a weak reference that is referenced until the <code>foo</code> method ends ?"}],"answers":[{"tags":[],"owner":{"account_id":3394888,"reputation":474,"user_id":2848773,"display_name":"Byron Lo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381472457,"creation_date":1381470643,"answer_id":19311115,"question_id":19310537,"body_markdown":"You can try creating a fixed-sized collection of PhantomReferences to each of the objects from the file.\r\n\r\nOnce the collection is full, you only read another object from the file if and only if an existing PhantomReference can be retrieved/removed (as a blocking call) from the ReferenceQueue, after which you remove it from the fixed-sized collection and allow another to be created.\r\n\r\nRemember to call &#39;clear()&#39; on the PhantomReference after you remove it from the ReferenceQueue.\r\n\r\nHope this helps!\r\n\r\nRefer to this document for more information regarding Phantom References: \r\nhttps://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference\r\n\r\nAnd Here:\r\nhttp://java.dzone.com/articles/finalization-and-phantom","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>You can try creating a fixed-sized collection of PhantomReferences to each of the objects from the file.</p>\n\n<p>Once the collection is full, you only read another object from the file if and only if an existing PhantomReference can be retrieved/removed (as a blocking call) from the ReferenceQueue, after which you remove it from the fixed-sized collection and allow another to be created.</p>\n\n<p>Remember to call 'clear()' on the PhantomReference after you remove it from the ReferenceQueue.</p>\n\n<p>Hope this helps!</p>\n\n<p>Refer to this document for more information regarding Phantom References: \n<a href=\"https://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference\" rel=\"nofollow\">https://weblogs.java.net/blog/kcpeppe/archive/2011/09/29/mysterious-phantom-reference</a></p>\n\n<p>And Here:\n<a href=\"http://java.dzone.com/articles/finalization-and-phantom\" rel=\"nofollow\">http://java.dzone.com/articles/finalization-and-phantom</a></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1381534285,"creation_date":1381473981,"answer_id":19311869,"question_id":19310537,"body_markdown":"None of the suggested comments or answers so far will work (most of them are also unnecessary), because the `ObjectInputStream` itself holds a reference to every object it has ever deserialized, for preservation of object graphs.\r\n\r\nYou need to constrain how much data is *written* to the file, so you don&#39;t have to handle 100,000 objects per file, and if possible you should also make use of `ObjectOutputStream.reset()` or `ObjectOutputStream.writeUnshared()`, for the reasons described in their respective Javadoc comments.","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>None of the suggested comments or answers so far will work (most of them are also unnecessary), because the <code>ObjectInputStream</code> itself holds a reference to every object it has ever deserialized, for preservation of object graphs.</p>\n\n<p>You need to constrain how much data is <em>written</em> to the file, so you don't have to handle 100,000 objects per file, and if possible you should also make use of <code>ObjectOutputStream.reset()</code> or <code>ObjectOutputStream.writeUnshared()</code>, for the reasons described in their respective Javadoc comments.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381563138,"creation_date":1381525829,"answer_id":19327324,"question_id":19310537,"body_markdown":"As I understand, EJP proposed to regenerate your input files using `writeUnshared` technique instead of `writeObject` to make object available for GC during reading. If it&#39;s about regenerating original content, then may be you could switch to some other serializer like [Kryo][1]? \r\n\r\n&gt; Java&#39;s built-in serialization is slow, inefficient, and has many well-known problems (see Effective Java, by Josh Bloch pp. 213).\r\n\r\nTheir promised serialized object size is 5x smaller than standard Java&#39;s, so memory consumption should be at least 5x smaller, I think.\r\n\r\n**EDIT**\r\n\r\nBetter wording: 5x-7x heavier serialized objects most probably mean that `ObjectInputStream` is a memory eater, e.g. uses too much for the job, though frees that memory in the end.\r\n\r\n  [1]: https://code.google.com/p/kryo/wiki/V1Benchmarks","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>As I understand, EJP proposed to regenerate your input files using <code>writeUnshared</code> technique instead of <code>writeObject</code> to make object available for GC during reading. If it's about regenerating original content, then may be you could switch to some other serializer like <a href=\"https://code.google.com/p/kryo/wiki/V1Benchmarks\" rel=\"nofollow\">Kryo</a>? </p>\n\n<blockquote>\n  <p>Java's built-in serialization is slow, inefficient, and has many well-known problems (see Effective Java, by Josh Bloch pp. 213).</p>\n</blockquote>\n\n<p>Their promised serialized object size is 5x smaller than standard Java's, so memory consumption should be at least 5x smaller, I think.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Better wording: 5x-7x heavier serialized objects most probably mean that <code>ObjectInputStream</code> is a memory eater, e.g. uses too much for the job, though frees that memory in the end.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381530707,"creation_date":1381530707,"answer_id":19328265,"question_id":19310537,"body_markdown":"I guess you also have some influence on the design of the program that wrote those serialized objects. Isn&#39;t this kind of problem suggesting that the Java serialization format is not a good fit for your problem?  Perhaps you should write and read the objects in some other format, which allows you to discard old objects as garbage during processing of the stream?","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>I guess you also have some influence on the design of the program that wrote those serialized objects. Isn't this kind of problem suggesting that the Java serialization format is not a good fit for your problem?  Perhaps you should write and read the objects in some other format, which allows you to discard old objects as garbage during processing of the stream?</p>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381534870,"creation_date":1381534870,"answer_id":19328842,"question_id":19310537,"body_markdown":"If you have to read Objects, you have to create Objects, there is little you can do about this. Changing your code to `foo(ois.readObject());` gives the compiler a hint that it doesn&#39;t need to store the reference, but still Objects are created.\r\n\r\nThat leaves you two options:\r\n\r\n1. You trust the Garbage Collector to be highly efficient and well designed.\r\n2. You change your underlying data structure to not store Objects, but design it in a form that completely relies on primitive data types.","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>If you have to read Objects, you have to create Objects, there is little you can do about this. Changing your code to <code>foo(ois.readObject());</code> gives the compiler a hint that it doesn't need to store the reference, but still Objects are created.</p>\n\n<p>That leaves you two options:</p>\n\n<ol>\n<li>You trust the Garbage Collector to be highly efficient and well designed.</li>\n<li>You change your underlying data structure to not store Objects, but design it in a form that completely relies on primitive data types.</li>\n</ol>\n"}],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1666465676,"creation_date":1381467565,"question_id":19310537,"body_markdown":"Suppose I have a file with a lot (most likely 100K+, potentially millions) of serialized objects of the same class. I read these objects and do something with them:\r\n\r\n    //open stream\r\n    try{ \r\n        while(true) {\r\n            Object o = ois.readObject();\r\n            foo(o);\r\n        }\r\n    }catch(EOFException){\r\n    }\r\n    //close stream...\r\n\r\nWhen this is done, a very uncomfortably large amount of objects have been created. My problem is that I don&#39;t have control of those objects, and they won&#39;t be freed until the GC decides to do it.\r\n\r\nIs there a way to put an upper limit on the amount of new objects created? For example, if my file has 100K serialized objects, is there a way to tweak the readObject mechanism so that a fixed size pool is used?\r\n\r\n# More Details\r\n\r\nThe ~100K object file is the merged result of many smaller files. What this small process is doing, is to create a sorted CSV file.\r\n","title":"Is it possible to gain control on the amount of objects created when deserializing a file","body":"<p>Suppose I have a file with a lot (most likely 100K+, potentially millions) of serialized objects of the same class. I read these objects and do something with them:</p>\n<pre><code>//open stream\ntry{ \n    while(true) {\n        Object o = ois.readObject();\n        foo(o);\n    }\n}catch(EOFException){\n}\n//close stream...\n</code></pre>\n<p>When this is done, a very uncomfortably large amount of objects have been created. My problem is that I don't have control of those objects, and they won't be freed until the GC decides to do it.</p>\n<p>Is there a way to put an upper limit on the amount of new objects created? For example, if my file has 100K serialized objects, is there a way to tweak the readObject mechanism so that a fixed size pool is used?</p>\n<h1>More Details</h1>\n<p>The ~100K object file is the merged result of many smaller files. What this small process is doing, is to create a sorted CSV file.</p>\n"},{"tags":["java","spring","intellij-idea","bazel"],"answers":[{"tags":[],"owner":{"account_id":4505233,"reputation":43,"user_id":3662772,"display_name":"m4tta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666465623,"creation_date":1666465623,"answer_id":74166400,"question_id":74165599,"body_markdown":"Was missing \r\n\r\n`load(&quot;@contrib_rules_jvm//java:defs.bzl&quot;, &quot;java_junit5_test&quot;)`\r\n\r\nin my BUILD file.","title":"Issues loading bazel rule from remote achieve","body":"<p>Was missing</p>\n<p><code>load(&quot;@contrib_rules_jvm//java:defs.bzl&quot;, &quot;java_junit5_test&quot;)</code></p>\n<p>in my BUILD file.</p>\n"}],"owner":{"account_id":4505233,"reputation":43,"user_id":3662772,"display_name":"m4tta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666465623,"creation_date":1666459204,"question_id":74165599,"body_markdown":"So I am trying to learn Bazel by setting up a barebones spring project. Newest spring boot 5 uses JUnit5. Bazel only natively runs JUnit 4. I find this repo [https://github.com/bazel-contrib/rules\\_jvm](https://github.com/bazel-contrib/rules_jvm) that has a drop in replacement for &quot;java_test&quot; it. I believe I set it up as the repo describes...\r\n\r\n    load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\r\n    \r\n    http_archive(\r\n        name = &quot;contrib_rules_jvm&quot;,\r\n        sha256 = &quot;59af045d288ad3e2d9000b1cddb1135f889d798830f7106a4792cc95427bcd99&quot;,\r\n        strip_prefix = &quot;rules_jvm-0.7.0&quot;,\r\n        url = &quot;https://github.com/bazel-contrib/rules_jvm/archive/refs/tags/v0.7.0.zip&quot;,\r\n    )\r\n    \r\n    # Fetches the contrib_rules_jvm dependencies.\r\n    # If you want to have a different version of some dependency,\r\n    # you should fetch it *before* calling this.\r\n    load(&quot;@contrib_rules_jvm//:repositories.bzl&quot;, &quot;contrib_rules_jvm_deps&quot;)\r\n    \r\n    contrib_rules_jvm_deps()\r\n    \r\n    # Now ensure that the downloaded deps are properly configured\r\n    load(&quot;@contrib_rules_jvm//:setup.bzl&quot;, &quot;contrib_rules_jvm_setup&quot;)\r\n    \r\n    contrib_rules_jvm_setup()\r\n\r\nAdding this to my WORKSPACE file. As the top of the README says, and the lease page specifies. But when I attempt to use the new rule \\`\r\n\r\n    java_junit5_test()\r\n\r\nIt say it is not defined. Is there some special thing you need to do to reload a WORKSPACE file? I am using intelliJ with the bazel plugin. I also have the &quot;maven\\_install&quot; stuff all setup and working in the WORKSPACE file and it&#39;s pulling those packages just fine.","title":"Issues loading bazel rule from remote achieve","body":"<p>So I am trying to learn Bazel by setting up a barebones spring project. Newest spring boot 5 uses JUnit5. Bazel only natively runs JUnit 4. I find this repo <a href=\"https://github.com/bazel-contrib/rules_jvm\" rel=\"nofollow noreferrer\">https://github.com/bazel-contrib/rules_jvm</a> that has a drop in replacement for &quot;java_test&quot; it. I believe I set it up as the repo describes...</p>\n<pre><code>load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\n\nhttp_archive(\n    name = &quot;contrib_rules_jvm&quot;,\n    sha256 = &quot;59af045d288ad3e2d9000b1cddb1135f889d798830f7106a4792cc95427bcd99&quot;,\n    strip_prefix = &quot;rules_jvm-0.7.0&quot;,\n    url = &quot;https://github.com/bazel-contrib/rules_jvm/archive/refs/tags/v0.7.0.zip&quot;,\n)\n\n# Fetches the contrib_rules_jvm dependencies.\n# If you want to have a different version of some dependency,\n# you should fetch it *before* calling this.\nload(&quot;@contrib_rules_jvm//:repositories.bzl&quot;, &quot;contrib_rules_jvm_deps&quot;)\n\ncontrib_rules_jvm_deps()\n\n# Now ensure that the downloaded deps are properly configured\nload(&quot;@contrib_rules_jvm//:setup.bzl&quot;, &quot;contrib_rules_jvm_setup&quot;)\n\ncontrib_rules_jvm_setup()\n</code></pre>\n<p>Adding this to my WORKSPACE file. As the top of the README says, and the lease page specifies. But when I attempt to use the new rule `</p>\n<pre><code>java_junit5_test()\n</code></pre>\n<p>It say it is not defined. Is there some special thing you need to do to reload a WORKSPACE file? I am using intelliJ with the bazel plugin. I also have the &quot;maven_install&quot; stuff all setup and working in the WORKSPACE file and it's pulling those packages just fine.</p>\n"},{"tags":["java","solr","lucene"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":6,"creation_date":1364565176,"post_id":15704644,"comment_id":22302137,"body_markdown":"Doesn&#39;t http://lucene.apache.org/solr/ (and the equivalent page for Lucene) answer that?","body":"Doesn&#39;t <a href=\"http://lucene.apache.org/solr/\" rel=\"nofollow noreferrer\">lucene.apache.org/solr</a> (and the equivalent page for Lucene) answer that?"},{"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"score":1,"creation_date":1364565586,"post_id":15704644,"comment_id":22302355,"body_markdown":"Yeah you&#39;re right, the solr features page clarify the difference. Si If I understand I could use Lucene alone, but Solr need Lucene to work.","body":"Yeah you&#39;re right, the solr features page clarify the difference. Si If I understand I could use Lucene alone, but Solr need Lucene to work."},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":2,"creation_date":1451305416,"post_id":15704644,"comment_id":56728539,"body_markdown":"Unlike Lucene, Solr is a web application (WAR) which can be deployed in any servlet container, e.g. Jetty, Tomcat, Resin, etc. Solr can be installed and used by non-programmers. Lucene cannot. More on http://www.lucenetutorial.com/lucene-vs-solr.html","body":"Unlike Lucene, Solr is a web application (WAR) which can be deployed in any servlet container, e.g. Jetty, Tomcat, Resin, etc. Solr can be installed and used by non-programmers. Lucene cannot. More on <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"nofollow noreferrer\">lucenetutorial.com/lucene-vs-solr.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1364571552,"creation_date":1364571552,"answer_id":15706440,"question_id":15704644,"body_markdown":"Lucene is a low level Java library (with ports to .NET, etc.) which implements indexing, analyzing, searching, etc.\r\n\r\nSolr is a standalone pre-configured product/webapp which uses Lucene. If you prefer dealing with HTTP API instead of Java API, Solr is for you. Solr has also got some extra features on top (e.g. [grouping](http://wiki.apache.org/solr/FieldCollapsing)).","title":"Difference between solr and lucene","body":"<p>Lucene is a low level Java library (with ports to .NET, etc.) which implements indexing, analyzing, searching, etc.</p>\n\n<p>Solr is a standalone pre-configured product/webapp which uses Lucene. If you prefer dealing with HTTP API instead of Java API, Solr is for you. Solr has also got some extra features on top (e.g. <a href=\"http://wiki.apache.org/solr/FieldCollapsing\" rel=\"noreferrer\">grouping</a>).</p>\n"},{"tags":[],"owner":{"account_id":1690821,"reputation":5357,"user_id":1553203,"accept_rate":54,"display_name":"phanin"},"down_vote_count":2,"up_vote_count":254,"is_accepted":true,"score":252,"last_activity_date":1625613186,"creation_date":1364572153,"answer_id":15706624,"question_id":15704644,"body_markdown":"***@darkheir: Lucene and Solr are 2 differents Apache projects that are made to work together, I don&#39;t understand what is the aim of each project.***\r\n\r\n1) Solr uses Lucene under the hood. Lucene has no clue about the Solr API.\r\n\r\n2) Lucene is a powerful search engine framework that lets us add search capability to our application. It exposes an easy-to-use API while hiding all the search-related complex operations. Any application can use this library, not just Solr.\r\n\r\n3) Solr is built around Lucene. It is not just an http-wrapper around Lucene but [has been known to **add more arsenal to Lucene**][1] (archived). Solr is ready-to-use out of box. It is a web application that offers related infrastructure and a lot more features in addition to what Lucene offers.\r\n\r\n\r\n***@darkheir: Lucene is used to create a search index and Solr use this index to perform searches. Am I right or is this a totally different approach?***\r\n\r\n\r\n4) **Lucene doesn&#39;t just create the Index for the consumption by Solr**. Lucene handles all the search related operations. Any application can use the Lucene framework. \r\n  \r\n   Examples are Solr, Elastic Search, LinkedIn (yes, under the hood), etc..\r\n\r\nCheck out this article: [Lucene vs Solr][2]\r\n\r\n\r\n**UPDATE (6/18/14)**\r\n\r\n**When to use Lucene?**\r\n\r\n - You are a search engineer AND\r\n - You are a programmer AND\r\n - You want full control over almost all the internals of Lucene AND\r\n - Your requirements demand you to do all sorts of geeky customization to Lucene AND\r\n - You are willing to take care of infrastructure elements of your search like scaling, distribution, etc.\r\n\r\n**When to use Solr?**\r\n\r\n - At least one of the above didn&#39;t make sense. OR\r\n - You want something that is ready to use out-of-the-box (even without knowledge of Java) OR\r\n - Your infrastructure requirements outweigh search customization requirements. \r\n \r\n**NOTE**: \r\nI don&#39;t mean that Solr is hard to customize. Solr is very flexible and provides a lot of pluggable API points, allowing you to throw-in your code. \r\n\r\nThere are people, falling under &#39;*have to use Lucene*&#39; camp, but still prefer Solr to plain Lucene as it&#39;s easy to use. However, they never restrain themselves from customizing Solr to the maximum extent. \r\n\r\nBTW, I see that there are more resources on Solr (4.x) than Lucene (4.x).\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140625111518/http://heliosearch.org/lucene-solr-history/\r\n  [2]: http://www.lucenetutorial.com/lucene-vs-solr.html","title":"Difference between solr and lucene","body":"<p><em><strong>@darkheir: Lucene and Solr are 2 differents Apache projects that are made to work together, I don't understand what is the aim of each project.</strong></em></p>\n<ol>\n<li><p>Solr uses Lucene under the hood. Lucene has no clue about the Solr API.</p>\n</li>\n<li><p>Lucene is a powerful search engine framework that lets us add search capability to our application. It exposes an easy-to-use API while hiding all the search-related complex operations. Any application can use this library, not just Solr.</p>\n</li>\n<li><p>Solr is built around Lucene. It is not just an http-wrapper around Lucene but <a href=\"https://web.archive.org/web/20140625111518/http://heliosearch.org/lucene-solr-history/\" rel=\"noreferrer\">has been known to <strong>add more arsenal to Lucene</strong></a> (archived). Solr is ready-to-use out of box. It is a web application that offers related infrastructure and a lot more features in addition to what Lucene offers.</p>\n</li>\n</ol>\n<p><em><strong>@darkheir: Lucene is used to create a search index and Solr use this index to perform searches. Am I right or is this a totally different approach?</strong></em></p>\n<ol start=\"4\">\n<li><p><strong>Lucene doesn't just create the Index for the consumption by Solr</strong>. Lucene handles all the search related operations. Any application can use the Lucene framework.</p>\n<p>Examples are Solr, Elastic Search, LinkedIn (yes, under the hood), etc..</p>\n</li>\n</ol>\n<p>Check out this article: <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"noreferrer\">Lucene vs Solr</a></p>\n<p><strong>UPDATE (6/18/14)</strong></p>\n<p><strong>When to use Lucene?</strong></p>\n<ul>\n<li>You are a search engineer AND</li>\n<li>You are a programmer AND</li>\n<li>You want full control over almost all the internals of Lucene AND</li>\n<li>Your requirements demand you to do all sorts of geeky customization to Lucene AND</li>\n<li>You are willing to take care of infrastructure elements of your search like scaling, distribution, etc.</li>\n</ul>\n<p><strong>When to use Solr?</strong></p>\n<ul>\n<li>At least one of the above didn't make sense. OR</li>\n<li>You want something that is ready to use out-of-the-box (even without knowledge of Java) OR</li>\n<li>Your infrastructure requirements outweigh search customization requirements.</li>\n</ul>\n<p><strong>NOTE</strong>:\nI don't mean that Solr is hard to customize. Solr is very flexible and provides a lot of pluggable API points, allowing you to throw-in your code.</p>\n<p>There are people, falling under '<em>have to use Lucene</em>' camp, but still prefer Solr to plain Lucene as it's easy to use. However, they never restrain themselves from customizing Solr to the maximum extent.</p>\n<p>BTW, I see that there are more resources on Solr (4.x) than Lucene (4.x).</p>\n"},{"tags":[],"owner":{"account_id":2263043,"reputation":1693,"user_id":1992579,"display_name":"Vikas Kumar"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1451304970,"creation_date":1403096436,"answer_id":24286290,"question_id":15704644,"body_markdown":"&gt; A simple way to conceptualize the relationship between Solr and Lucene\r\n&gt; is that of a car and its engine. You can&#39;t drive an engine, but you\r\n&gt; can drive a car. Similarly, Lucene is a programmatic library which you\r\n&gt; can&#39;t use as-is, whereas Solr is a complete application which you can\r\n&gt; use out-of-box.\r\n\r\nSource: [Lucene-vs-solr - Lucene Tutorial][1] \r\n\r\n\r\n  [1]: http://www.lucenetutorial.com/lucene-vs-solr.html","title":"Difference between solr and lucene","body":"<blockquote>\n  <p>A simple way to conceptualize the relationship between Solr and Lucene\n  is that of a car and its engine. You can't drive an engine, but you\n  can drive a car. Similarly, Lucene is a programmatic library which you\n  can't use as-is, whereas Solr is a complete application which you can\n  use out-of-box.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"noreferrer\">Lucene-vs-solr - Lucene Tutorial</a> </p>\n"},{"tags":[],"owner":{"account_id":2153395,"reputation":546,"user_id":1909138,"accept_rate":17,"display_name":"Behzad Qureshi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1472126409,"creation_date":1472126409,"answer_id":39144741,"question_id":15704644,"body_markdown":"SOLR is a **wrapper** over Lucene index.\r\n\r\nIt is simple to understand: \r\nSOLR is **car** and Lucene is its **engine**. You just need to know how to drive car (SOLR) and also need to know few things of engine (Lucene) in case if there will be any issue in your car engine.\r\n\r\nHave a safe drive :)","title":"Difference between solr and lucene","body":"<p>SOLR is a <strong>wrapper</strong> over Lucene index.</p>\n\n<p>It is simple to understand: \nSOLR is <strong>car</strong> and Lucene is its <strong>engine</strong>. You just need to know how to drive car (SOLR) and also need to know few things of engine (Lucene) in case if there will be any issue in your car engine.</p>\n\n<p>Have a safe drive :)</p>\n"},{"tags":[],"owner":{"account_id":4394915,"reputation":671,"user_id":3582289,"display_name":"mingxue"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1478880357,"creation_date":1478880357,"answer_id":40551847,"question_id":15704644,"body_markdown":"**Solr is built on top of lucene to provide a search platform.**\r\n\r\n\r\nSearch platform in the following layers from bottom to top:\r\n\r\n* Data\r\n  * Purpose: Represent various data types and sources\r\n* Document building\r\n  * Purpose: Build document information for indexing\r\n* Indexing and searching\r\n  * Purpose: Build and query a document index\r\n* Logic enhancement\r\n  * Purpose: Additional logic for processing search queries and results\r\n* Search platform service\r\n  * Purpose: Add additional functionalities of search engine core to provide a service platform.\r\n* UI application\r\n  * Purpose: End-user search interface or applications\r\n\r\n\r\n![solr stack](https://manmustbecool.github.io/MyWiki/papers/solrStack.png)\r\n\r\nReference article : [Enterprise search](http://manmustbecool.github.io/MyWiki/papers/Enterprise%20search%20with%20development%20for%20network%20management%20system.pdf)\r\n","title":"Difference between solr and lucene","body":"<p><strong>Solr is built on top of lucene to provide a search platform.</strong></p>\n\n<p>Search platform in the following layers from bottom to top:</p>\n\n<ul>\n<li>Data\n\n<ul>\n<li>Purpose: Represent various data types and sources</li>\n</ul></li>\n<li>Document building\n\n<ul>\n<li>Purpose: Build document information for indexing</li>\n</ul></li>\n<li>Indexing and searching\n\n<ul>\n<li>Purpose: Build and query a document index</li>\n</ul></li>\n<li>Logic enhancement\n\n<ul>\n<li>Purpose: Additional logic for processing search queries and results</li>\n</ul></li>\n<li>Search platform service\n\n<ul>\n<li>Purpose: Add additional functionalities of search engine core to provide a service platform.</li>\n</ul></li>\n<li>UI application\n\n<ul>\n<li>Purpose: End-user search interface or applications</li>\n</ul></li>\n</ul>\n\n<p><img src=\"https://manmustbecool.github.io/MyWiki/papers/solrStack.png\" alt=\"solr stack\"></p>\n\n<p>Reference article : <a href=\"http://manmustbecool.github.io/MyWiki/papers/Enterprise%20search%20with%20development%20for%20network%20management%20system.pdf\" rel=\"noreferrer\">Enterprise search</a></p>\n"},{"tags":[],"owner":{"account_id":1361823,"reputation":752,"user_id":1299034,"accept_rate":65,"display_name":"Martin Abraham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504595107,"creation_date":1504595107,"answer_id":46048864,"question_id":15704644,"body_markdown":"You can find a good comparison about the purpose of lucence and solar here:\r\n\r\nhttp://www.lucenetutorial.com/lucene-vs-solr.html\r\n\r\nTLDR: Lucence is just the engine, Solar is the car you can drive (equipped with rest-api etc.)","title":"Difference between solr and lucene","body":"<p>You can find a good comparison about the purpose of lucence and solar here:</p>\n\n<p><a href=\"http://www.lucenetutorial.com/lucene-vs-solr.html\" rel=\"nofollow noreferrer\">http://www.lucenetutorial.com/lucene-vs-solr.html</a></p>\n\n<p>TLDR: Lucence is just the engine, Solar is the car you can drive (equipped with rest-api etc.)</p>\n"},{"tags":[],"owner":{"account_id":2368449,"reputation":216,"user_id":2073658,"display_name":"Rafal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585158425,"creation_date":1585158425,"answer_id":60854470,"question_id":15704644,"body_markdown":"You can imagine it the following way - Apache Lucene is the library that is used internally by the Apache Solr. It is written in Java and provides amazing full-text search and indexing capabilities. It can analyze a large number of languages from all over the world and prepare the text in such languages to efficient and fast search and analysis. Lucene is a library - you could use it directly in your application and implement everything yourself, but the Apache Solr provides a lot out of the box.\r\n\r\nApache Solr search engine provides things like HTTP APIs that you can use to send data to them and later search on that data. You can control the search engines using the API, create distributed environments and automatically distribute the data across multiple nodes and many, many more.","title":"Difference between solr and lucene","body":"<p>You can imagine it the following way - Apache Lucene is the library that is used internally by the Apache Solr. It is written in Java and provides amazing full-text search and indexing capabilities. It can analyze a large number of languages from all over the world and prepare the text in such languages to efficient and fast search and analysis. Lucene is a library - you could use it directly in your application and implement everything yourself, but the Apache Solr provides a lot out of the box.</p>\n\n<p>Apache Solr search engine provides things like HTTP APIs that you can use to send data to them and later search on that data. You can control the search engines using the API, create distributed environments and automatically distribute the data across multiple nodes and many, many more.</p>\n"},{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666465411,"creation_date":1638019744,"answer_id":70135212,"question_id":15704644,"body_markdown":"**Apache Lucene is the vanilla version** for the search engine while **Apache Solr is inheriting Lucene** with new inbuilt features which Apache Lucene don&#39;t provide out of the box.\r\n\r\nYou can consume Apache Solr flavour rather than using Apache Lucene to save your resources and manual efforts.","title":"Difference between solr and lucene","body":"<p><strong>Apache Lucene is the vanilla version</strong> for the search engine while <strong>Apache Solr is inheriting Lucene</strong> with new inbuilt features which Apache Lucene don't provide out of the box.</p>\n<p>You can consume Apache Solr flavour rather than using Apache Lucene to save your resources and manual efforts.</p>\n"}],"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81156,"favorite_count":0,"down_vote_count":1,"up_vote_count":188,"accepted_answer_id":15706624,"answer_count":8,"score":187,"last_activity_date":1666465411,"creation_date":1364565060,"question_id":15704644,"body_markdown":"I know that Lucene and Solr are 2 differents [Apache projects][1] that are made to work together, but I don&#39;t understand what is the aim of each project.\r\n\r\nFor what I understood until now is that Lucene is used to create a search index and Solr use this index to perform searches.\r\nAm I right or is this a totally different approach?\r\n\r\n\r\n  [1]: http://lucene.apache.org/","title":"Difference between solr and lucene","body":"<p>I know that Lucene and Solr are 2 differents <a href=\"http://lucene.apache.org/\" rel=\"noreferrer\">Apache projects</a> that are made to work together, but I don't understand what is the aim of each project.</p>\n<p>For what I understood until now is that Lucene is used to create a search index and Solr use this index to perform searches.\nAm I right or is this a totally different approach?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1666454270,"post_id":74164999,"comment_id":130943112,"body_markdown":"`int[][]` by itself does not create and initialize a 2D array of `int`. `int[][] array = new int[10][10];`, for example, does (filling it with the desired values is left as an exercise for the reader). And then you can use `array`, or however you call your array, as a parameter.","body":"<code>int[][]</code> by itself does not create and initialize a 2D array of <code>int</code>. <code>int[][] array = new int[10][10];</code>, for example, does (filling it with the desired values is left as an exercise for the reader). And then you can use <code>array</code>, or however you call your array, as a parameter."},{"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"score":0,"creation_date":1666455476,"post_id":74164999,"comment_id":130943388,"body_markdown":"Okay i believe i see what you mean. I created two example arrays and instead of what i had i changed it to  new ThreadOperation(matrix1,matrix2,Quadrants.TopLeft);","body":"Okay i believe i see what you mean. I created two example arrays and instead of what i had i changed it to  new ThreadOperation(matrix1,matrix2,Quadrants.TopLeft);"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1666544339,"post_id":74164999,"comment_id":130957290,"body_markdown":"With the modification, do you still get an error?","body":"With the modification, do you still get an error?"}],"answers":[{"tags":[],"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666464913,"creation_date":1666464913,"answer_id":74166334,"question_id":74164999,"body_markdown":"check this out , you would need to initialise :-\r\n```\r\npublic class Operation {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int [][]a = new int[2][2];\r\n        int [][]b = new int[3][3];\r\n        TestMe testMe = new TestMe(a,b,Month.January);\r\n    }\r\n}\r\nclass TestMe {\r\n    int [][] a;\r\n    int [][] b;\r\n    Month month;\r\n\r\n    public TestMe(int[][] a, int[][] b, Month month) {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.month = month;\r\n    }\r\n}\r\n\r\nenum Month {\r\n    January\r\n}\r\n```","title":"How would i instantiate and pass a 2d array to a method?","body":"<p>check this out , you would need to initialise :-</p>\n<pre><code>public class Operation {\n\n    public static void main(String[] args) {\n\n        int [][]a = new int[2][2];\n        int [][]b = new int[3][3];\n        TestMe testMe = new TestMe(a,b,Month.January);\n    }\n}\nclass TestMe {\n    int [][] a;\n    int [][] b;\n    Month month;\n\n    public TestMe(int[][] a, int[][] b, Month month) {\n        this.a = a;\n        this.b = b;\n        this.month = month;\n    }\n}\n\nenum Month {\n    January\n}\n</code></pre>\n"}],"owner":{"account_id":26337897,"reputation":9,"user_id":19997478,"display_name":"turtlered9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666464913,"creation_date":1666454133,"question_id":74164999,"body_markdown":"So in my code i have a constructor that is supposed to take two 2d arrays and a enum of a quadrant i already have set up. I have set up my constructor like this.\r\n\r\n\r\n```\r\npublic ThreadOperation(int[][] a, int[][] b, Quadrants x){\r\n\t\r\n\t}\r\n```\r\nI have instantiated a new object that looks like this\r\n\r\n```\r\nThreadOperation T1 = new ThreadOperation(int[][],int[][],Quadrants.TopLeft);\r\n```\r\ni keep getting the error error: &#39;.class&#39; expected.\r\nIm new to programming so i guess im just having trouble trying to figure out how to pass the two 2d arrays over to the constructor without giving me an error. These are just placeholders so i can compile.","title":"How would i instantiate and pass a 2d array to a method?","body":"<p>So in my code i have a constructor that is supposed to take two 2d arrays and a enum of a quadrant i already have set up. I have set up my constructor like this.</p>\n<pre><code>public ThreadOperation(int[][] a, int[][] b, Quadrants x){\n    \n    }\n</code></pre>\n<p>I have instantiated a new object that looks like this</p>\n<pre><code>ThreadOperation T1 = new ThreadOperation(int[][],int[][],Quadrants.TopLeft);\n</code></pre>\n<p>i keep getting the error error: '.class' expected.\nIm new to programming so i guess im just having trouble trying to figure out how to pass the two 2d arrays over to the constructor without giving me an error. These are just placeholders so i can compile.</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666464624,"creation_date":1413903489,"answer_id":26489819,"question_id":26489786,"body_markdown":"The rule is that exceptions which extends `RuntimeException` do not need to be caught.\r\n\r\n`NumberFormatException` extends `IllegalArgumentException` which extends `RuntimeException`.\r\n\r\nFrom the [Oracle documentation][1] : \r\n\r\n&gt;Runtime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program&#39;s clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Why can some Java exceptions be left unhandled?","body":"<p>The rule is that exceptions which extends <code>RuntimeException</code> do not need to be caught.</p>\n<p><code>NumberFormatException</code> extends <code>IllegalArgumentException</code> which extends <code>RuntimeException</code>.</p>\n<p>From the <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Oracle documentation</a> :</p>\n<blockquote>\n<p>Runtime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program's clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413906215,"creation_date":1413903549,"answer_id":26489838,"question_id":26489786,"body_markdown":"*Everything* gets handled eventually. If you don&#39;t catch it then when the exception escapes the main method the JVM will catch it and write it to stderr. \r\n\r\nSome exceptions, like NullPointerExceptions and NumberFormatExceptions, are unchecked, which means the programmer isn&#39;t required to catch them. You couldn&#39;t require every possible NullPointerException to get caught, and adding them to method signatures would be pointless.\r\n\r\nLike the NullPointerException, the NumberFormatException is the result of a programmer error, it means you made a bad assumption about your input to the parse method. In some cases it isn&#39;t clear why some exceptions are checked and others aren&#39;t.\r\n\r\nExceptions that are unchecked tend to be unrecoverable. They may indicate some external resource went down or they may indicate a programmer error; something went so wrong there&#39;s no point proceeding, the best thing to do is cancel the current work, fall back to a safe spot, and regroup. [Here&#39;s an explanation of a rationale for how to handle exceptions.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25811675/217324","title":"Why can some Java exceptions be left unhandled?","body":"<p><em>Everything</em> gets handled eventually. If you don't catch it then when the exception escapes the main method the JVM will catch it and write it to stderr. </p>\n\n<p>Some exceptions, like NullPointerExceptions and NumberFormatExceptions, are unchecked, which means the programmer isn't required to catch them. You couldn't require every possible NullPointerException to get caught, and adding them to method signatures would be pointless.</p>\n\n<p>Like the NullPointerException, the NumberFormatException is the result of a programmer error, it means you made a bad assumption about your input to the parse method. In some cases it isn't clear why some exceptions are checked and others aren't.</p>\n\n<p>Exceptions that are unchecked tend to be unrecoverable. They may indicate some external resource went down or they may indicate a programmer error; something went so wrong there's no point proceeding, the best thing to do is cancel the current work, fall back to a safe spot, and regroup. <a href=\"https://stackoverflow.com/a/25811675/217324\">Here's an explanation of a rationale for how to handle exceptions.</a></p>\n"}],"owner":{"account_id":941886,"reputation":2346,"user_id":969833,"accept_rate":100,"display_name":"Kevin Sadler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26489819,"answer_count":2,"score":1,"last_activity_date":1666464624,"creation_date":1413903413,"question_id":26489786,"body_markdown":"    \tpublic static void main(String[] args) {\r\n\t\tFile file = new File(&quot;foobar&quot;);\t\r\n\t\tfile.createNewFile();\r\n\t\t\r\n\t\tString baz = &quot;baz&quot;;\t\t\r\n\t\tint myInt = Integer.parseInt(baz);\r\n\t}\r\n\r\nIn this code the IDE or compiler would complain that there is an unhandled exception thrown by createNewFile() and we would need to catch it to allow the code to compile.\r\n\r\nHowever parseInt() also throws an exception, NumberFormatException, but we are not required to catch it, though it seems that it would be a good idea. Why are we not required to catch that exception?","title":"Why can some Java exceptions be left unhandled?","body":"<pre><code>    public static void main(String[] args) {\n    File file = new File(\"foobar\"); \n    file.createNewFile();\n\n    String baz = \"baz\";     \n    int myInt = Integer.parseInt(baz);\n}\n</code></pre>\n\n<p>In this code the IDE or compiler would complain that there is an unhandled exception thrown by createNewFile() and we would need to catch it to allow the code to compile.</p>\n\n<p>However parseInt() also throws an exception, NumberFormatException, but we are not required to catch it, though it seems that it would be a good idea. Why are we not required to catch that exception?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":16870790,"reputation":26,"user_id":12199323,"display_name":"Nitish Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666464488,"creation_date":1666464488,"answer_id":74166267,"question_id":74159620,"body_markdown":"Can you try to remove your target folder(Also try invalidating the cache if this doesn&#39;t work) from the project and try rebuilding again? Sometimes Intellij doesn&#39;t pick the changes in application.properties.","title":"I&#39;m not able to disable the flyway in the application properties using the intellij","body":"<p>Can you try to remove your target folder(Also try invalidating the cache if this doesn't work) from the project and try rebuilding again? Sometimes Intellij doesn't pick the changes in application.properties.</p>\n"}],"owner":{"account_id":20740671,"reputation":25,"user_id":15817109,"display_name":"Carlos Borges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74166267,"answer_count":1,"score":0,"last_activity_date":1666464488,"creation_date":1666390441,"question_id":74159620,"body_markdown":"I&#39;m using the spring boot to connect a postgreSQL database and when I run the application using Intellij it return me a error message\r\nDescription:\r\n\r\nFlyway failed to initialize: none of the following migration scripts locations could be found:\r\n\r\n\t- classpath:db/migration/postgresql\r\n\r\nThe research done in stackoverflow suggested me to disable the flyway in the application properties like showed below.\r\n\r\n```\r\n###################################################################################\r\n# DB Migration - automatically execute SQL scripts\r\n###################################################################################\r\ncn.app.datasource-populate.enabled=false\r\nspring.flyway.enabled=false\r\nspring.flyway.locations=classpath:db/migration/{vendor}\r\nspring.flyway.table=${spring.application.name}_schema_version\r\nspring.flyway.baseline-on-migrate=true\r\nspring.flyway.baseline-version=0\r\nspring.sql.init.mode=always\r\n#spring.jpa.hibernate.ddl-auto=none\r\n```\r\nI have changed the line ```spring.flyway.enable``` from true to false but strangely when I run the application in intellij it automatically turn to true and do not fix the error.\r\nDoes anyone know why it is happening?\r\n  ","title":"I&#39;m not able to disable the flyway in the application properties using the intellij","body":"<p>I'm using the spring boot to connect a postgreSQL database and when I run the application using Intellij it return me a error message\nDescription:</p>\n<p>Flyway failed to initialize: none of the following migration scripts locations could be found:</p>\n<pre><code>- classpath:db/migration/postgresql\n</code></pre>\n<p>The research done in stackoverflow suggested me to disable the flyway in the application properties like showed below.</p>\n<pre><code>###################################################################################\n# DB Migration - automatically execute SQL scripts\n###################################################################################\ncn.app.datasource-populate.enabled=false\nspring.flyway.enabled=false\nspring.flyway.locations=classpath:db/migration/{vendor}\nspring.flyway.table=${spring.application.name}_schema_version\nspring.flyway.baseline-on-migrate=true\nspring.flyway.baseline-version=0\nspring.sql.init.mode=always\n#spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>I have changed the line <code>spring.flyway.enable</code> from true to false but strangely when I run the application in intellij it automatically turn to true and do not fix the error.\nDoes anyone know why it is happening?</p>\n"},{"tags":["java","spring-mvc","mockito","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666074319,"post_id":74062412,"comment_id":130842756,"body_markdown":"Not an answer, but might be helpful: https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test. Perhaps you can redesign your classes to be better testable?","body":"Not an answer, but might be helpful: <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\" title=\"why is my class not calling my mocked methods in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>. Perhaps you can redesign your classes to be better testable?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666480428,"post_id":74062412,"comment_id":130947930,"body_markdown":"After the edits, this is definitely a dupe of https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test","body":"After the edits, this is definitely a dupe of <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\" title=\"why is my class not calling my mocked methods in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683648409,"post_id":74062412,"comment_id":134397438,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683734721,"post_id":74062412,"comment_id":134413316,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665700375,"creation_date":1665700375,"answer_id":74062489,"question_id":74062412,"body_markdown":"The object you create on line\r\n```java\r\nAuthor authorMock = new Author();\r\n```\r\n\r\nis different than the one created in the `getBooksByAuthor()` function. A debugger should show you that.\r\n\r\nYou can use `mock.constructed().get(0)` to get the object created in `getBooksByAuthor()`, but by the time you can do this, `getBooksByAuthor()` has already finished and you can&#39;t do much with that mock.\r\n\r\nIt&#39;s not exactly clear what your objective is. I guess you want to check that the `Author` object is created in a certain way, and the lines involving `getFullName()` aren&#39;t part of the actual code, just something you added to experiment, because they don&#39;t do anything.\r\n\r\nIf you want to verity that the object passed to `dataAccessService` satisfies some conditions, what you need is an `ArgumentCaptor`. Something like\r\n```java\r\nArgumentCaptor&lt;Author&gt; authorCaptor = ArgumentCaptor.forClass(Author.class);\r\nwhen(dataAccessServiceMock.getBooks(authorCaptor.capture())).thenReturn(books);\r\n\r\nList&lt;Book&gt; result = ut.getBooksByAuthor(firstName, lastName);\r\n\r\nAuthor author = authorCaptor.value();\r\nassertEquals(firstName, author.getFirstName());\r\n```","title":"unable to mock a constructor with Mockito","body":"<p>The object you create on line</p>\n<pre class=\"lang-java prettyprint-override\"><code>Author authorMock = new Author();\n</code></pre>\n<p>is different than the one created in the <code>getBooksByAuthor()</code> function. A debugger should show you that.</p>\n<p>You can use <code>mock.constructed().get(0)</code> to get the object created in <code>getBooksByAuthor()</code>, but by the time you can do this, <code>getBooksByAuthor()</code> has already finished and you can't do much with that mock.</p>\n<p>It's not exactly clear what your objective is. I guess you want to check that the <code>Author</code> object is created in a certain way, and the lines involving <code>getFullName()</code> aren't part of the actual code, just something you added to experiment, because they don't do anything.</p>\n<p>If you want to verity that the object passed to <code>dataAccessService</code> satisfies some conditions, what you need is an <code>ArgumentCaptor</code>. Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArgumentCaptor&lt;Author&gt; authorCaptor = ArgumentCaptor.forClass(Author.class);\nwhen(dataAccessServiceMock.getBooks(authorCaptor.capture())).thenReturn(books);\n\nList&lt;Book&gt; result = ut.getBooksByAuthor(firstName, lastName);\n\nAuthor author = authorCaptor.value();\nassertEquals(firstName, author.getFirstName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666463108,"creation_date":1666463108,"answer_id":74166097,"question_id":74062412,"body_markdown":"If you use `MockInitializer` for stubbing , it should solve your problem : \r\n\r\n``` java\r\ntry (MockedConstruction&lt;Author&gt; mocked = mockConstruction(Author.class, (mock, context) -&gt; {\r\n        when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\r\n        })) {\r\n\r\n        assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\r\n        verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\r\n\r\n        }\r\n}\r\n```\r\n\r\nBut a much better way to test the controller is to use `MockMvc`. It allows you to test for a given HTTP request , do you configure spring-mvc properly such that it can do the following things correctly :\r\n\r\n - if the HTTP request can be parsed properly to execute the expected controller method with the expected paramater\r\n - if it can deserialize the object returned from the controller method into a expected JSON structure.\r\n - it allows to configure the current user who make the HTTP call and verify if he has enough permission to call this API and if not, will it return the expected error response \r\n - etc.\r\n\r\nAll of these things cannot be tested by your fragile mocking constructor approach.\r\n\r\nFor more details about `MockMvc`, refer to [this guide][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"unable to mock a constructor with Mockito","body":"<p>If you use <code>MockInitializer</code> for stubbing , it should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedConstruction&lt;Author&gt; mocked = mockConstruction(Author.class, (mock, context) -&gt; {\n        when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\n        })) {\n\n        assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\n        verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\n\n        }\n}\n</code></pre>\n<p>But a much better way to test the controller is to use <code>MockMvc</code>. It allows you to test for a given HTTP request , do you configure spring-mvc properly such that it can do the following things correctly :</p>\n<ul>\n<li>if the HTTP request can be parsed properly to execute the expected controller method with the expected paramater</li>\n<li>if it can deserialize the object returned from the controller method into a expected JSON structure.</li>\n<li>it allows to configure the current user who make the HTTP call and verify if he has enough permission to call this API and if not, will it return the expected error response</li>\n<li>etc.</li>\n</ul>\n<p>All of these things cannot be tested by your fragile mocking constructor approach.</p>\n<p>For more details about <code>MockMvc</code>, refer to <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"}],"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666463202,"creation_date":1665699613,"question_id":74062412,"body_markdown":"Using Mockito version 4.8.0\r\n\r\nThe controller method I need to test\r\n\r\n     @GetMapping(value = &quot;getStringBuiltByComplexProcess&quot;)\r\n     public String getStringBuiltByComplexProcess(@RequestParam String firstName, @RequestParam String lastName ) {\r\n      Author a = new Author();\r\n      return a.methodWhichMakesNetworkAndDatabaseCalls(firstName, lastName);\r\n     }\r\n\r\nhere is the test method\r\n\r\n     @Test\r\n     public void testGetStringBuiltByComplexProcess01() {\r\n      final String firstName = &quot;firstName&quot;;\r\n      final String lastName = &quot;lastName&quot;;\r\n      try (MockedConstruction&lt;Author&gt; mock = mockConstruction(Author.class)) {\r\n       Author authorMock = new Author();\r\n       when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\r\n       assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\r\n       verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\r\n      }\r\n     }\r\n\r\nfails with a message of\r\n\r\n    org.opentest4j.AssertionFailedError: strings should match ==&gt; expected: &lt;when worked&gt; but was: &lt;null&gt;\r\n\r\nIn this simplified example the controller method has more code but the core of what is not working is mocking the object which the controller method constructs.\r\n","title":"unable to mock a constructor with Mockito","body":"<p>Using Mockito version 4.8.0</p>\n<p>The controller method I need to test</p>\n<pre><code> @GetMapping(value = &quot;getStringBuiltByComplexProcess&quot;)\n public String getStringBuiltByComplexProcess(@RequestParam String firstName, @RequestParam String lastName ) {\n  Author a = new Author();\n  return a.methodWhichMakesNetworkAndDatabaseCalls(firstName, lastName);\n }\n</code></pre>\n<p>here is the test method</p>\n<pre><code> @Test\n public void testGetStringBuiltByComplexProcess01() {\n  final String firstName = &quot;firstName&quot;;\n  final String lastName = &quot;lastName&quot;;\n  try (MockedConstruction&lt;Author&gt; mock = mockConstruction(Author.class)) {\n   Author authorMock = new Author();\n   when(authorMock.methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName))).thenReturn(&quot;when worked&quot;);\n   assertEquals(&quot;when worked&quot;, ut.getStringBuiltByComplexProcess(firstName, lastName),  &quot;Strings should match&quot;);\n   verify(authorMock).methodWhichMakesNetworkAndDatabaseCalls(eq(firstName), eq(lastName));\n  }\n }\n</code></pre>\n<p>fails with a message of</p>\n<pre><code>org.opentest4j.AssertionFailedError: strings should match ==&gt; expected: &lt;when worked&gt; but was: &lt;null&gt;\n</code></pre>\n<p>In this simplified example the controller method has more code but the core of what is not working is mocking the object which the controller method constructs.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666463188,"creation_date":1666463188,"answer_id":74166113,"question_id":74165779,"body_markdown":"You should/can use `@Primary` to annotate the one that will take precedence if there is an `@Autowired ResourceConverter...` and Spring can&#39;t tell the difference.\r\n\r\nYou can use `@Qualifier` to &quot;name&quot; each one and then the same annotation on the `@Autowire`d bean to get the one you want.\r\n\r\nSo:\r\n\r\n```\r\n@Bean\r\nprivate ResourceConverter testResponseConverter(){\r\n...\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n@Bean\r\n@Primary\r\nprivate ResourceConverter dummyResponseConverter(){\r\n...\r\n}\r\n```\r\n\r\nYou can do:\r\n\r\n```\r\n@Autowired ResourceConverter rc; // Gets the @Primary dummy one\r\n@Autowired @Qualifier(&quot;testResponseConverter&quot;) ResourceConverter rc2; // Gets the corresponding testResponseConverter\r\n```\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\r\n\r\n","title":"Spring boot: multiple bean method which return same datatype across different Service classes","body":"<p>You should/can use <code>@Primary</code> to annotate the one that will take precedence if there is an <code>@Autowired ResourceConverter...</code> and Spring can't tell the difference.</p>\n<p>You can use <code>@Qualifier</code> to &quot;name&quot; each one and then the same annotation on the <code>@Autowire</code>d bean to get the one you want.</p>\n<p>So:</p>\n<pre><code>@Bean\nprivate ResourceConverter testResponseConverter(){\n...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\n@Primary\nprivate ResourceConverter dummyResponseConverter(){\n...\n}\n</code></pre>\n<p>You can do:</p>\n<pre><code>@Autowired ResourceConverter rc; // Gets the @Primary dummy one\n@Autowired @Qualifier(&quot;testResponseConverter&quot;) ResourceConverter rc2; // Gets the corresponding testResponseConverter\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html</a></p>\n"}],"owner":{"account_id":7695072,"reputation":2452,"user_id":5829906,"accept_rate":97,"display_name":"MrRobot9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666463188,"creation_date":1666460531,"question_id":74165779,"body_markdown":"These two are Service classes, which makes http calls to other services to retreive the json response. Just wanted to know if this is a proper way to use ResourceConverter which helps to convert json response string to POJO. \r\n\r\nbIf you notice, these two seperate classes contains its own `ResourceConverter` Bean method. I cant create a single method which can be shared by all classes, because we need `DummyResponse.class` and `TestResponse.class` as the parameter. So, Is this way acceptable? Is it good practise to have multiple bean methods which return the same type, but in different classes?\r\n\r\n\r\n    @Service\r\n     public class TestClient(){\r\n    \r\n       @Bean\r\n       private ResourceConverter getTestResponseConverter(){\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\r\n          ResourceConverter converter = new ResourceConverter(mapper,TestResponse.class);\r\n          return converter;\r\n       }\r\n    \r\n       private TestResponse getTestResponse(){\r\n           //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\r\n           String responseBodyString = okhttp.call(request);\r\n           JSONAPIDocument&lt;TestResponse&gt; testDocument = getTestResponseConverter().readDocument(responseBodyString, TestResponse.class);\r\n           return testDocument.get();\r\n       }\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Service\r\n    public class DummyClient(){\r\n    \r\n       @Bean\r\n       private ResourceConverter getDummyResponseConverter(){\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\r\n          ResourceConverter converter = new ResourceConverter(mapper,DummyResponse.class);\r\n          return converter;\r\n       }\r\n    \r\n       private Dummy getDummyResponse(){\r\n           //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\r\n           String responseBodyString = okhttp.call(request);\r\n           JSONAPIDocument&lt;DummyResponse&gt; dummyDocument = getDummyResponseConverter().readDocument(responseBodyString, DummyResponse.class);\r\n           return testDocument.get();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Spring boot: multiple bean method which return same datatype across different Service classes","body":"<p>These two are Service classes, which makes http calls to other services to retreive the json response. Just wanted to know if this is a proper way to use ResourceConverter which helps to convert json response string to POJO.</p>\n<p>bIf you notice, these two seperate classes contains its own <code>ResourceConverter</code> Bean method. I cant create a single method which can be shared by all classes, because we need <code>DummyResponse.class</code> and <code>TestResponse.class</code> as the parameter. So, Is this way acceptable? Is it good practise to have multiple bean methods which return the same type, but in different classes?</p>\n<pre><code>@Service\n public class TestClient(){\n\n   @Bean\n   private ResourceConverter getTestResponseConverter(){\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\n      ResourceConverter converter = new ResourceConverter(mapper,TestResponse.class);\n      return converter;\n   }\n\n   private TestResponse getTestResponse(){\n       //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\n       String responseBodyString = okhttp.call(request);\n       JSONAPIDocument&lt;TestResponse&gt; testDocument = getTestResponseConverter().readDocument(responseBodyString, TestResponse.class);\n       return testDocument.get();\n   }\n\n}\n\n\n\n@Service\npublic class DummyClient(){\n\n   @Bean\n   private ResourceConverter getDummyResponseConverter(){\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.setDeserialization(DeserializationFeature.ALLOW_UNKNOWN_PROPERTIES);\n      ResourceConverter converter = new ResourceConverter(mapper,DummyResponse.class);\n      return converter;\n   }\n\n   private Dummy getDummyResponse(){\n       //okhttp call to get the json, this is not actual syntax for call, not relevant in this context\n       String responseBodyString = okhttp.call(request);\n       JSONAPIDocument&lt;DummyResponse&gt; dummyDocument = getDummyResponseConverter().readDocument(responseBodyString, DummyResponse.class);\n       return testDocument.get();\n   }\n\n}\n</code></pre>\n"},{"tags":["java","solr","lucene","performance-testing","solrcloud"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1547106024,"post_id":54121847,"comment_id":95079208,"body_markdown":"If you&#39;re trying to handle over 100k simultaneous connections, you probably want to hand over connection termination to a dedicated load balancer and put a cluster of nodes behind that - trying to make a single node handle such a load over HTTP _simultaeous_ will be a difficult task without detailed domain knowledge.","body":"If you&#39;re trying to handle over 100k simultaneous connections, you probably want to hand over connection termination to a dedicated load balancer and put a cluster of nodes behind that - trying to make a single node handle such a load over HTTP <i>simultaeous</i> will be a difficult task without detailed domain knowledge."},{"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1547114112,"post_id":54121847,"comment_id":95083334,"body_markdown":"Currently about 60 GB memory of the server is free. Then why I should use a load balancer at frond and put a cluster of nodes behind it. Can single solr instance with such large memory and core cannot handle it ? If it is true , then can you provide some references to consult ?","body":"Currently about 60 GB memory of the server is free. Then why I should use a load balancer at frond and put a cluster of nodes behind it. Can single solr instance with such large memory and core cannot handle it ? If it is true , then can you provide some references to consult ?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1547115815,"post_id":54121847,"comment_id":95084339,"body_markdown":"100k simultaneous connections are far into the area of special tuning for most http daemons. Using the built-in version of jetty _without tuning it_ might not be a good fit for your use case. Memory is not the only thing limiting how many connections or queries a server can handle. Getting a specialized httpd such as nginx to handle more than 3-4k simultaneous connections usually require tuning for special use cases and trading certain features for performance. Are you _really sure_ that you need 100k simultaneous connections (and what I guess is 100k queries in parallel)?","body":"100k simultaneous connections are far into the area of special tuning for most http daemons. Using the built-in version of jetty <i>without tuning it</i> might not be a good fit for your use case. Memory is not the only thing limiting how many connections or queries a server can handle. Getting a specialized httpd such as nginx to handle more than 3-4k simultaneous connections usually require tuning for special use cases and trading certain features for performance. Are you <i>really sure</i> that you need 100k simultaneous connections (and what I guess is 100k queries in parallel)?"},{"owner":{"account_id":3150418,"reputation":9135,"user_id":2663985,"accept_rate":50,"display_name":"Mysterion"},"score":0,"creation_date":1547132335,"post_id":54121847,"comment_id":95094017,"body_markdown":"100k queries would first kill CPU, doesn’t matter how many free RAM you have","body":"100k queries would first kill CPU, doesn’t matter how many free RAM you have"},{"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1547181692,"post_id":54121847,"comment_id":95112316,"body_markdown":"Thanks first. Brother there are 48 CPU cores. Is it possible to tune Solr (jetty) to use some of these cores to handle such load. Moreover, if I have to tune Solr then can you please share some guide or tutorial for it.","body":"Thanks first. Brother there are 48 CPU cores. Is it possible to tune Solr (jetty) to use some of these cores to handle such load. Moreover, if I have to tune Solr then can you please share some guide or tutorial for it."}],"answers":[{"tags":[],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547760588,"creation_date":1547760588,"answer_id":54244569,"question_id":54121847,"body_markdown":"If you plan to handle hundreds of thousands of requests per second you will need more than one server - no matter how big it is. Even if it&#39;s just for HA / DR purposes. So I would recommend using SolrCloud and sharding the index across multiple machines and with multiple replicas just so start. \r\n\r\nBeyond that the devil is in the details\r\n\r\n1. How fast do you want queries to perform (median and 99%ile). This will help you size CPU and memory needs.\r\n2. How complex are your queries?\r\n3. Are you using filters? (Requires more heap memory)\r\n4. How fast is your disk acccess?\r\n5. Will you be adding data in real time (impacting your setting of autoCommit and soft commit\r\n\r\nBut first and foremost you need to get away from &quot;one big box&quot; thinking.\r\n\r\n","title":"Apache Solr handle hundreds of thousands requests","body":"<p>If you plan to handle hundreds of thousands of requests per second you will need more than one server - no matter how big it is. Even if it's just for HA / DR purposes. So I would recommend using SolrCloud and sharding the index across multiple machines and with multiple replicas just so start. </p>\n\n<p>Beyond that the devil is in the details</p>\n\n<ol>\n<li>How fast do you want queries to perform (median and 99%ile). This will help you size CPU and memory needs.</li>\n<li>How complex are your queries?</li>\n<li>Are you using filters? (Requires more heap memory)</li>\n<li>How fast is your disk acccess?</li>\n<li>Will you be adding data in real time (impacting your setting of autoCommit and soft commit</li>\n</ol>\n\n<p>But first and foremost you need to get away from \"one big box\" thinking.</p>\n"},{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666462687,"creation_date":1666462687,"answer_id":74166046,"question_id":54121847,"body_markdown":"**We have 200 million records in each Collection and we have 200 collections. We have 5 servers and each server has 8 cores and 64 gb ram.**\r\n\r\n**I would suggest you break up your servers into multiple servers**. \r\n\r\n**Do the replication of the data on each server so that requests gets divided into multiple servers. The more the number of servers, the more you&#39;ll be able to responsd quicker.**\r\n\r\n**Note :** *Just understand the replication factor : 2F+1 formula where if you have 5 servers then 3 replicas atleast should be there. I&#39;ll suggest you to go with 5 replicas only (1 replica for each server)*","title":"Apache Solr handle hundreds of thousands requests","body":"<p><strong>We have 200 million records in each Collection and we have 200 collections. We have 5 servers and each server has 8 cores and 64 gb ram.</strong></p>\n<p><strong>I would suggest you break up your servers into multiple servers</strong>.</p>\n<p><strong>Do the replication of the data on each server so that requests gets divided into multiple servers. The more the number of servers, the more you'll be able to responsd quicker.</strong></p>\n<p><strong>Note :</strong> <em>Just understand the replication factor : 2F+1 formula where if you have 5 servers then 3 replicas atleast should be there. I'll suggest you to go with 5 replicas only (1 replica for each server)</em></p>\n"}],"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74166046,"answer_count":2,"score":1,"last_activity_date":1666462687,"creation_date":1547093306,"question_id":54121847,"body_markdown":"We have a small search app in local context. For back services, we are using Apache Solr 6.6.2 for data index and storage. The front-end is in PHP with Apache2 webserver. \r\n\r\nWe have a server of 48 core and 96 GB RAM where these services are installed. The expected size of documents in index in about 200 Million and each document can have maximum 20 fields. Most fields are both indexed and stored. \r\n\r\nThe expected simultaneous requests can be hundreds of thousands at a time. So what will be the best configuration of Apache Solr to handle it? We have started Solr with 20 GB RAM and stress tested but it start to degrade performance near 100 users. Where is the problem? What is the optimal way for this issue. \r\n\r\nWe have also tested Solr in SolrCloud mode but the performance does not improve too much. We were expecting that if there will be some memory problem that their will be OOM exception but did not happen anything like that. We have just changed schema according to our requirement and change memory via command-line. All other setting are default.\r\n\r\nFollowing are few references that we have consulted already\r\n\r\n1. https://wiki.apache.org/solr/SolrPerformanceProblems\r\n2. https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/\r\n","title":"Apache Solr handle hundreds of thousands requests","body":"<p>We have a small search app in local context. For back services, we are using Apache Solr 6.6.2 for data index and storage. The front-end is in PHP with Apache2 webserver. </p>\n\n<p>We have a server of 48 core and 96 GB RAM where these services are installed. The expected size of documents in index in about 200 Million and each document can have maximum 20 fields. Most fields are both indexed and stored. </p>\n\n<p>The expected simultaneous requests can be hundreds of thousands at a time. So what will be the best configuration of Apache Solr to handle it? We have started Solr with 20 GB RAM and stress tested but it start to degrade performance near 100 users. Where is the problem? What is the optimal way for this issue. </p>\n\n<p>We have also tested Solr in SolrCloud mode but the performance does not improve too much. We were expecting that if there will be some memory problem that their will be OOM exception but did not happen anything like that. We have just changed schema according to our requirement and change memory via command-line. All other setting are default.</p>\n\n<p>Following are few references that we have consulted already</p>\n\n<ol>\n<li><a href=\"https://wiki.apache.org/solr/SolrPerformanceProblems\" rel=\"nofollow noreferrer\">https://wiki.apache.org/solr/SolrPerformanceProblems</a></li>\n<li><a href=\"https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/\" rel=\"nofollow noreferrer\">https://blog.cloudera.com/blog/2017/06/apache-solr-memory-tuning-for-production/</a></li>\n</ol>\n"},{"tags":["java","graph","depth-first-search"],"answers":[{"tags":[],"owner":{"account_id":3639086,"reputation":1060,"user_id":3033731,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385898867,"creation_date":1385898867,"answer_id":20311823,"question_id":20309140,"body_markdown":"You need a stack, the possibility to mark a vertex as visited, and to mark a vertex as processed.  As long as the stack is not empty, you do the following where v is the top vertex on the stack.\r\n\r\n - v is neither marked as visited nor as processed: push all non-visited neighbors to the stack.  Important: do NOT pop v.\r\n - v is marked as visited but not as processed: this is the point where you call the postVisit on v.  Afterwards you must pop v from the stack and mark it as processed\r\n - v is marked as visited and as processed: just pop v from the stack and do nothing.","title":"Iterative Graph DFS how to add a postvisit?","body":"<p>You need a stack, the possibility to mark a vertex as visited, and to mark a vertex as processed.  As long as the stack is not empty, you do the following where v is the top vertex on the stack.</p>\n\n<ul>\n<li>v is neither marked as visited nor as processed: push all non-visited neighbors to the stack.  Important: do NOT pop v.</li>\n<li>v is marked as visited but not as processed: this is the point where you call the postVisit on v.  Afterwards you must pop v from the stack and mark it as processed</li>\n<li>v is marked as visited and as processed: just pop v from the stack and do nothing.</li>\n</ul>\n"}],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666462264,"creation_date":1385876703,"question_id":20309140,"body_markdown":"So I&#39;m attempted to implement the following Graph DFS method:\r\n\r\n     /** Performs a depth-first traversal of G over all vertices\r\n     *  reachable from V.  That is, the fringe is a sequence and\r\n     *  vertices are added to it or removed from it at one end in\r\n     *  an undefined order.  After the traversal of all successors of\r\n     *  a node is complete, the node itself is revisited by calling\r\n     *  the postVisit method on it. */\r\n    public void depthFirstTraverse(Graph&lt;VLabel, ELabel&gt; G,\r\n                                   Graph&lt;VLabel, ELabel&gt;.Vertex v) {\r\n        Stack&lt;Vertex&gt; fringe = new Stack&lt;Vertex&gt;();\r\n        HashSet&lt;Vertex&gt; marked = new HashSet&lt;Vertex&gt;();\r\n        fringe.push(v);\r\n        while (!fringe.isEmpty()) {\r\n            Vertex vert = fringe.pop();\r\n            if (!marked.contains(vert)) {\r\n                marked.add(vert);\r\n                visit(vert);\r\n                for (Edge edge : G.edges(vert)) {\r\n                    preVisit(edge, vert);\r\n                    fringe.add(edge.getV1());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI have the general algorithm correct according to my tests, but I&#39;m still missing the requirement in the last sentence: &quot;After the traversal of all successors of a node is complete, the node itself is revisited by calling the postVisit method on it.&quot;\r\n\r\nI&#39;m rather stumped on how to add this postVisit method in iteratively (can&#39;t change the function signature so recursion is out of the question). Any ideas? ","title":"Iterative Graph DFS how to add a postvisit?","body":"<p>So I'm attempted to implement the following Graph DFS method:</p>\n\n<pre><code> /** Performs a depth-first traversal of G over all vertices\n *  reachable from V.  That is, the fringe is a sequence and\n *  vertices are added to it or removed from it at one end in\n *  an undefined order.  After the traversal of all successors of\n *  a node is complete, the node itself is revisited by calling\n *  the postVisit method on it. */\npublic void depthFirstTraverse(Graph&lt;VLabel, ELabel&gt; G,\n                               Graph&lt;VLabel, ELabel&gt;.Vertex v) {\n    Stack&lt;Vertex&gt; fringe = new Stack&lt;Vertex&gt;();\n    HashSet&lt;Vertex&gt; marked = new HashSet&lt;Vertex&gt;();\n    fringe.push(v);\n    while (!fringe.isEmpty()) {\n        Vertex vert = fringe.pop();\n        if (!marked.contains(vert)) {\n            marked.add(vert);\n            visit(vert);\n            for (Edge edge : G.edges(vert)) {\n                preVisit(edge, vert);\n                fringe.add(edge.getV1());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have the general algorithm correct according to my tests, but I'm still missing the requirement in the last sentence: \"After the traversal of all successors of a node is complete, the node itself is revisited by calling the postVisit method on it.\"</p>\n\n<p>I'm rather stumped on how to add this postVisit method in iteratively (can't change the function signature so recursion is out of the question). Any ideas? </p>\n"},{"tags":["java","hibernate","jpa","hql","hibernate-mapping"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1665676565,"post_id":74027009,"comment_id":130760245,"body_markdown":"Maybe if you migrate away from this 11 year old version to currents versions like 5.6 or 6.1, then someone in the community might be able to help you with that, but since that version is not maintained anymore, you are most likely on your own.","body":"Maybe if you migrate away from this 11 year old version to currents versions like 5.6 or 6.1, then someone in the community might be able to help you with that, but since that version is not maintained anymore, you are most likely on your own."}],"answers":[{"tags":[],"owner":{"account_id":389078,"reputation":4339,"user_id":748337,"display_name":"Mart&#237;n Alcubierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666462104,"creation_date":1666462104,"answer_id":74165948,"question_id":74027009,"body_markdown":"Probable cause is a bug in Hibertante that wasn&#39;t fixed until 4.1.10 version: https://hibernate.atlassian.net/browse/HHH-2448","title":"hibernate generatation: different alias from same query","body":"<p>Probable cause is a bug in Hibertante that wasn't fixed until 4.1.10 version: <a href=\"https://hibernate.atlassian.net/browse/HHH-2448\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-2448</a></p>\n"}],"owner":{"account_id":389078,"reputation":4339,"user_id":748337,"display_name":"Mart&#237;n Alcubierre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666462104,"creation_date":1665485933,"question_id":74027009,"body_markdown":"We have noticed (Hibernate 3.6.3 Final) that same query in our logs generates different SQL sentences (inner joins).\r\n\r\nIs there any reason that this behavior is not deterministic?\r\n\r\nIn our own research we have found that aliases are generated this way (org.hibernate.mapping.Column) , we do not have find out the clue that makes this algorith vary between two same inputs...\r\n\r\n    public String getAlias(Dialect dialect) {\r\n\t\tString alias = name;\r\n\t\tString unique = Integer.toString(uniqueInteger) + &#39;_&#39;;\r\n\t\tint lastLetter = StringHelper.lastIndexOfLetter(name);\r\n\t\tif ( lastLetter == -1 ) {\r\n\t\t\talias = &quot;column&quot;;\r\n\t\t}\r\n\t\telse if ( lastLetter &lt; name.length()-1 ) {\r\n\t\t\talias = name.substring(0, lastLetter+1);\r\n\t\t}\r\n\t\tif ( alias.length() &gt; dialect.getMaxAliasLength() ) {\r\n\t\t\talias = alias.substring( 0, dialect.getMaxAliasLength() - unique.length() );\r\n\t\t}\r\n\t\tboolean useRawName = name.equals(alias) &amp;&amp; \r\n\t\t\t!quoted &amp;&amp; \r\n\t\t\t!name.toLowerCase().equals(&quot;rowid&quot;);\r\n\t\tif ( useRawName ) {\r\n\t\t\treturn alias;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn alias + unique;\r\n\t\t}\r\n\t}","title":"hibernate generatation: different alias from same query","body":"<p>We have noticed (Hibernate 3.6.3 Final) that same query in our logs generates different SQL sentences (inner joins).</p>\n<p>Is there any reason that this behavior is not deterministic?</p>\n<p>In our own research we have found that aliases are generated this way (org.hibernate.mapping.Column) , we do not have find out the clue that makes this algorith vary between two same inputs...</p>\n<pre><code>public String getAlias(Dialect dialect) {\n    String alias = name;\n    String unique = Integer.toString(uniqueInteger) + '_';\n    int lastLetter = StringHelper.lastIndexOfLetter(name);\n    if ( lastLetter == -1 ) {\n        alias = &quot;column&quot;;\n    }\n    else if ( lastLetter &lt; name.length()-1 ) {\n        alias = name.substring(0, lastLetter+1);\n    }\n    if ( alias.length() &gt; dialect.getMaxAliasLength() ) {\n        alias = alias.substring( 0, dialect.getMaxAliasLength() - unique.length() );\n    }\n    boolean useRawName = name.equals(alias) &amp;&amp; \n        !quoted &amp;&amp; \n        !name.toLowerCase().equals(&quot;rowid&quot;);\n    if ( useRawName ) {\n        return alias;\n    }\n    else {\n        return alias + unique;\n    }\n}\n</code></pre>\n"},{"tags":["java","solr","nutch","solrcloud","nutch2"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1525253088,"post_id":50130873,"comment_id":87280101,"body_markdown":"Does the URL referenced work from the server doing the indexing? (I.e. can you access `http://10.11.22.156:8983/solr/collection2` from the server?)","body":"Does the URL referenced work from the server doing the indexing? (I.e. can you access <code>http:&#47;&#47;10.11.22.156:8983&#47;solr&#47;collection2</code> from the server?)"},{"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1525253392,"post_id":50130873,"comment_id":87280293,"body_markdown":"Yes I can access it i.e., its admin dashboard is accessible without any issue","body":"Yes I can access it i.e., its admin dashboard is accessible without any issue"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1525256719,"post_id":50130873,"comment_id":87282516,"body_markdown":"-- from the server running Nutch, and using the exact same host? Does `curl http://10.11.22.156:8983/solr/collection2` work?","body":"-- from the server running Nutch, and using the exact same host? Does <code>curl http:&#47;&#47;10.11.22.156:8983&#47;solr&#47;collection2</code> work?"},{"owner":{"account_id":552980,"reputation":2408,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"score":0,"creation_date":1529403177,"post_id":50130873,"comment_id":88850733,"body_markdown":"i also stuck in the same place. Did you find an answer?","body":"i also stuck in the same place. Did you find an answer?"}],"answers":[{"tags":[],"owner":{"account_id":11544448,"reputation":347,"user_id":8459014,"display_name":"Dimanshu Parihar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666461474,"creation_date":1666461474,"answer_id":74165869,"question_id":50130873,"body_markdown":"The error straight forward showing that **you have an Apache Nutch server, which is unable to access this particular node and port of Apache Solr** http://10.11.22.156:8983/solr/collection2.\r\n\r\n**You need access between these two servers to make them communicate with each other :**\r\n1. You need to provide outbound permission to solr server to do request response with Apache Nutch server. \r\n2. Also, you need to provide inbound permission to Apache Nutch server to access the given solr IP and port.\r\n\r\n","title":"Apache Nutch SolrIndexer error in SolrCloud mode","body":"<p>The error straight forward showing that <strong>you have an Apache Nutch server, which is unable to access this particular node and port of Apache Solr</strong> <a href=\"http://10.11.22.156:8983/solr/collection2\" rel=\"nofollow noreferrer\">http://10.11.22.156:8983/solr/collection2</a>.</p>\n<p><strong>You need access between these two servers to make them communicate with each other :</strong></p>\n<ol>\n<li>You need to provide outbound permission to solr server to do request response with Apache Nutch server.</li>\n<li>Also, you need to provide inbound permission to Apache Nutch server to access the given solr IP and port.</li>\n</ol>\n"}],"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666461474,"creation_date":1525252037,"question_id":50130873,"body_markdown":"I have configured Apache Nutch 2.3.1 and crawled few websites. I have to index these documents to Solr (6.6.3) that is running in Cloud mode. When I execute solrindex command, I got following exception\r\n\r\n    2018-05-02 13:10:40,679 INFO [main] org.apache.hadoop.mapred.MapTask: Ignoring exception during close for org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector@3bd3d05e\r\n    java.io.IOException: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\r\n    \tat org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:103)\r\n    \tat org.apache.nutch.indexer.IndexWriters.close(IndexWriters.java:114)\r\n    \tat org.apache.nutch.indexer.IndexerOutputFormat$1.close(IndexerOutputFormat.java:54)\r\n    \tat org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.close(MapTask.java:670)\r\n    \tat org.apache.hadoop.mapred.MapTask.closeQuietly(MapTask.java:2019)\r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:797)\r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\r\n    \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:164)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1754)\r\n    \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\r\n    Caused by: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:559)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:210)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:206)\r\n    \tat org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:124)\r\n    \tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:68)\r\n    \tat org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:54)\r\n    \tat org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:97)\r\n    \t... 11 more\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connection to http://10.11.22.156:8983 refused\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:190)\r\n    \tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:784)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:448)\r\n    \t... 17 more\r\n    Caused by: java.net.ConnectException: Connection timed out\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:127)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n\r\nWhere is the problem? If I repeat the same job with solr without cloud mode, it works fines. ","title":"Apache Nutch SolrIndexer error in SolrCloud mode","body":"<p>I have configured Apache Nutch 2.3.1 and crawled few websites. I have to index these documents to Solr (6.6.3) that is running in Cloud mode. When I execute solrindex command, I got following exception</p>\n\n<pre><code>2018-05-02 13:10:40,679 INFO [main] org.apache.hadoop.mapred.MapTask: Ignoring exception during close for org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector@3bd3d05e\njava.io.IOException: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\n    at org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:103)\n    at org.apache.nutch.indexer.IndexWriters.close(IndexWriters.java:114)\n    at org.apache.nutch.indexer.IndexerOutputFormat$1.close(IndexerOutputFormat.java:54)\n    at org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.close(MapTask.java:670)\n    at org.apache.hadoop.mapred.MapTask.closeQuietly(MapTask.java:2019)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:797)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:164)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1754)\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)\nCaused by: org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://10.11.22.156:8983/solr/collection2\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:559)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:210)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:206)\n    at org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:124)\n    at org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:68)\n    at org.apache.solr.client.solrj.SolrServer.add(SolrServer.java:54)\n    at org.apache.nutch.indexwriter.solr.SolrIndexWriter.close(SolrIndexWriter.java:97)\n    ... 11 more\nCaused by: org.apache.http.conn.HttpHostConnectException: Connection to http://10.11.22.156:8983 refused\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:190)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:784)\n    at org.apache.solr.client.solrj.impl.HttpSolrServer.executeMethod(HttpSolrServer.java:448)\n    ... 17 more\nCaused by: java.net.ConnectException: Connection timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:127)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n</code></pre>\n\n<p>Where is the problem? If I repeat the same job with solr without cloud mode, it works fines. </p>\n"},{"tags":["java","spring","mockito","integration-testing","mockmvc"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666098223,"post_id":74109840,"comment_id":130850671,"body_markdown":"Get rid of `@Autowired @InjectMocks`. That should either be `@InjectMocks` or `@Autowired`+`@MockBean` on everything else","body":"Get rid of <code>@Autowired @InjectMocks</code>. That should either be <code>@InjectMocks</code> or <code>@Autowired</code>+<code>@MockBean</code> on everything else"},{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1666103718,"post_id":74109840,"comment_id":130853191,"body_markdown":"@knittl If I do either of those I get `No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`. I just put that as an example of what kind of behavior I&#39;d like: to get a fully working bean with just repository mock injected.","body":"@knittl If I do either of those I get <code>No qualifying bean of type &#39;com.test.thing.service.PatientRecordService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code>. I just put that as an example of what kind of behavior I&#39;d like: to get a fully working bean with just repository mock injected."}],"answers":[{"tags":[],"owner":{"account_id":11361669,"reputation":36,"user_id":8329636,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666461143,"creation_date":1666092097,"answer_id":74110115,"question_id":74109840,"body_markdown":"You should be able to\r\n\r\n```\r\n@WebMvcTest({PatientRecordController.class, PatientRecordService.class})\r\n\r\n@MockBean\r\nprivate PatientRecordRepository patientRecordRepository;\r\n\r\n```\r\n\r\nDoes that not achieve what you need?","title":"Spring Integration testing with MockMvc - service injection","body":"<p>You should be able to</p>\n<pre><code>@WebMvcTest({PatientRecordController.class, PatientRecordService.class})\n\n@MockBean\nprivate PatientRecordRepository patientRecordRepository;\n\n</code></pre>\n<p>Does that not achieve what you need?</p>\n"}],"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110115,"answer_count":1,"score":0,"last_activity_date":1666461143,"creation_date":1666090742,"question_id":74109840,"body_markdown":"I&#39;m trying to make an integration test going all the way from the top (controller) down to the repositories (mocked). I&#39;m having issue with getting an actual service (not mock) injected into a controller and mocking the service&#39;s repositories. Most examples I&#39;ve seen either call the endpoint via MockMvc and test the controller that contains all the logic, so no services, or they just mock the service and return a set response which I see no point in testing at all. My classes work as such: Controller contains the service which contains the repository\r\n\r\nCurrently I have the following test class for that:\r\n\r\n    @WebMvcTest(PatientRecordController.class)\r\n    public class PatientRecordControllerTests {\r\n\t\r\n\t    @Autowired\r\n    \tMockMvc mockMvc;\r\n\r\n    \t@Autowired\r\n    \tObjectMapper mapper;\r\n\r\n    \t@MockBean\r\n    \tPatientRecordService patientRecordService;\r\n\r\n\t    @Test\r\n    \tpublic void createRecord_WhenDtoValid_CreateRecord() throws Exception {\r\n\t    \tPatientRecordDto recordDto = PatientRecordDto.builder()\r\n\t\t\t\t.name(&quot;John Doe&quot;)\r\n\t\t\t\t.age(47)\r\n\t\t\t\t.address(&quot;New York USA&quot;)\r\n\t\t\t\t.build();\r\n\r\n    \t\tPatientRecord record = ModelMapperUtil.convertTo(recordDto, PatientRecord.class);\r\n    \t\tMockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\r\n\r\n    \t\tMockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.post(&quot;/patient&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.content(this.mapper.writeValueAsString(recordDto));\r\n\r\n\t    \tmockMvc.perform(mockRequest)\r\n\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t.andExpect(jsonPath(&quot;$&quot;, notNullValue()))\r\n\t\t\t\t.andExpect(jsonPath(&quot;$.name&quot;, is(&quot;John Doe&quot;)));\r\n    \t}\r\n    }\r\n\r\nWhat I would like to be able to do is something akin to following:\r\n\r\n    @Autowired\r\n    @InjectMocks\r\n\tprivate PatientRecordService patientRecordService;\r\n\r\n\t@Mock\r\n\tprivate PatientRecordRepository patientRecordRepository;\r\n\r\nTheoretically, with this I&#39;d get a bean of ```PatientRecordService``` that has ```PatientRecordRepository``` mock injected, and then instead of doing\r\n\r\n    Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\r\n\r\nI could do\r\n\r\n    Mockito.when(patientRecordRepository.save(recordDto)).thenReturn(record);\r\n\r\nAnd then the whole logic inside of the service would be tested and only repository response would be mocked. Obviously this is not how it works, so how would I go about in achieving this?","title":"Spring Integration testing with MockMvc - service injection","body":"<p>I'm trying to make an integration test going all the way from the top (controller) down to the repositories (mocked). I'm having issue with getting an actual service (not mock) injected into a controller and mocking the service's repositories. Most examples I've seen either call the endpoint via MockMvc and test the controller that contains all the logic, so no services, or they just mock the service and return a set response which I see no point in testing at all. My classes work as such: Controller contains the service which contains the repository</p>\n<p>Currently I have the following test class for that:</p>\n<pre><code>@WebMvcTest(PatientRecordController.class)\npublic class PatientRecordControllerTests {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    ObjectMapper mapper;\n\n    @MockBean\n    PatientRecordService patientRecordService;\n\n    @Test\n    public void createRecord_WhenDtoValid_CreateRecord() throws Exception {\n        PatientRecordDto recordDto = PatientRecordDto.builder()\n            .name(&quot;John Doe&quot;)\n            .age(47)\n            .address(&quot;New York USA&quot;)\n            .build();\n\n        PatientRecord record = ModelMapperUtil.convertTo(recordDto, PatientRecord.class);\n        Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\n\n        MockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.post(&quot;/patient&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .accept(MediaType.APPLICATION_JSON)\n            .content(this.mapper.writeValueAsString(recordDto));\n\n        mockMvc.perform(mockRequest)\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$&quot;, notNullValue()))\n            .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;John Doe&quot;)));\n    }\n}\n</code></pre>\n<p>What I would like to be able to do is something akin to following:</p>\n<pre><code>@Autowired\n@InjectMocks\nprivate PatientRecordService patientRecordService;\n\n@Mock\nprivate PatientRecordRepository patientRecordRepository;\n</code></pre>\n<p>Theoretically, with this I'd get a bean of <code>PatientRecordService</code> that has <code>PatientRecordRepository</code> mock injected, and then instead of doing</p>\n<pre><code>Mockito.when(patientRecordService.saveRecord(recordDto)).thenReturn(record);\n</code></pre>\n<p>I could do</p>\n<pre><code>Mockito.when(patientRecordRepository.save(recordDto)).thenReturn(record);\n</code></pre>\n<p>And then the whole logic inside of the service would be tested and only repository response would be mocked. Obviously this is not how it works, so how would I go about in achieving this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666266058,"post_id":74139265,"comment_id":130898134,"body_markdown":"java doesn&#39;t support global variables. What do you mean, instance or static variables?","body":"java doesn&#39;t support global variables. What do you mean, instance or static variables?"},{"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"score":0,"creation_date":1666267369,"post_id":74139265,"comment_id":130898714,"body_markdown":"sorry yeah i think ive mixed up the definitions, im new to java","body":"sorry yeah i think ive mixed up the definitions, im new to java"}],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666460238,"creation_date":1666369173,"answer_id":74156526,"question_id":74139265,"body_markdown":"Even if they are used only once, its good practice to declare all the page elements at the class level. You may also mention it as static variable. A simple example for your perusal. Even though we use Hamburger icon only once, we still declare them at the top level. Since static variable, we are going to have only one object created for this at any point of time.\r\n\r\n    public class HomePage {\r\n        private static By byHamburgerIcon = By.xpath(&quot;//div[contains(@class,&#39;icon-hamburger&#39;)]&quot;);\r\n        private static By byHeaderName = By.cssSelector(&quot;div[name=&#39;username&#39;]&quot;);\r\n    \r\n        public void clickHamburgerIcon() {\r\n           PageActionHelper.click(byHamburgerIcon,&quot;Clicked Hamburger icon&quot;);\r\n        }\r\n    }\r\n\r\nThis way it would be easier to refactor if any changes happened in future.\r\n\r\nAlso, there is high chance that we would use the locator in multiple places of the class. At those times, if we mention locator directly inside method, we would need to duplicate them. Changes on those locator need to be made everywhere. These are error prone. Hence having a single locator declared at the class level would be a better way.","title":"should By locators in selenium be kept as instance or local variables?","body":"<p>Even if they are used only once, its good practice to declare all the page elements at the class level. You may also mention it as static variable. A simple example for your perusal. Even though we use Hamburger icon only once, we still declare them at the top level. Since static variable, we are going to have only one object created for this at any point of time.</p>\n<pre><code>public class HomePage {\n    private static By byHamburgerIcon = By.xpath(&quot;//div[contains(@class,'icon-hamburger')]&quot;);\n    private static By byHeaderName = By.cssSelector(&quot;div[name='username']&quot;);\n\n    public void clickHamburgerIcon() {\n       PageActionHelper.click(byHamburgerIcon,&quot;Clicked Hamburger icon&quot;);\n    }\n}\n</code></pre>\n<p>This way it would be easier to refactor if any changes happened in future.</p>\n<p>Also, there is high chance that we would use the locator in multiple places of the class. At those times, if we mention locator directly inside method, we would need to duplicate them. Changes on those locator need to be made everywhere. These are error prone. Hence having a single locator declared at the class level would be a better way.</p>\n"}],"owner":{"account_id":10496692,"reputation":1,"user_id":7736679,"display_name":"teaaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666460238,"creation_date":1666266000,"question_id":74139265,"body_markdown":"I have seen examples put all the By locator fields at the top as instance variables, but if they are only used once within a method surely they should be local? Which is cleaner and easier to read?","title":"should By locators in selenium be kept as instance or local variables?","body":"<p>I have seen examples put all the By locator fields at the top as instance variables, but if they are only used once within a method surely they should be local? Which is cleaner and easier to read?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1666453272,"post_id":74164685,"comment_id":130942867,"body_markdown":"Does this answer your question? [block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()](https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte\">block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666454066,"post_id":74164685,"comment_id":130943063,"body_markdown":"To make it work asynchronously/error vanish: you have to add `spring-boot-starter-web` (dependency), i suppose.","body":"To make it work asynchronously/error vanish: you have to add <code>spring-boot-starter-web</code> (dependency), i suppose."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666454137,"post_id":74164685,"comment_id":130943079,"body_markdown":"..to keep it reactive, just: return `Mono&lt;String&gt;` (without &quot;blocking&quot;)","body":"..to keep it reactive, just: return <code>Mono&lt;String&gt;</code> (without &quot;blocking&quot;)"},{"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"score":0,"creation_date":1666455521,"post_id":74164685,"comment_id":130943397,"body_markdown":"It worked by adding spring-boot-starter-web, do you know why it was needed? @xerx593","body":"It worked by adding spring-boot-starter-web, do you know why it was needed? @xerx593"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666455856,"post_id":74164685,"comment_id":130943471,"body_markdown":"In short: This adds &quot;servlet/filters&quot;, which &quot;support blocking&quot; ...","body":"In short: This adds &quot;servlet/filters&quot;, which &quot;support blocking&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666455795,"creation_date":1666455490,"answer_id":74165177,"question_id":74164685,"body_markdown":"Fixed by adding `spring-boot-starter-web`\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to return just a String using Webflux - webclient?","body":"<p>Fixed by adding <code>spring-boot-starter-web</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666459904,"creation_date":1666459904,"answer_id":74165689,"question_id":74164685,"body_markdown":"Not sure what is your goal but the whole idea of Webflux is to create non-blocking reactive services. `WebClient` support both async and sync usage but the error you are getting is from reactive controller. There is no reason to block in your example - just change return type from `String` to `Mono&lt;String&gt;`.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/&quot;)\r\npublic Mono&lt;String&gt; home() {\r\nString resp = webclient.get()                             \r\n       .uri(ANY_URL).retrieve()\r\n       .bodyToMono(String.class);\r\n }\r\n```\r\n\r\nThe intuition behind this is\r\n\r\n - use `spring-boot-starter-webflux` and `WebClient` in async mode to create reactive services. Controller should return `Mono` or `Flux`. The caveat here is that your logic should be reactive (async) end-to-end to get full advantage of the Reactive API.\r\n - add `spring-boot-starter-web` if you want to build non-reactive service and just use `WebClient` in sync (blocking) mode as your Http client.\r\n\r\n ","title":"How to return just a String using Webflux - webclient?","body":"<p>Not sure what is your goal but the whole idea of Webflux is to create non-blocking reactive services. <code>WebClient</code> support both async and sync usage but the error you are getting is from reactive controller. There is no reason to block in your example - just change return type from <code>String</code> to <code>Mono&lt;String&gt;</code>.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Mono&lt;String&gt; home() {\nString resp = webclient.get()                             \n       .uri(ANY_URL).retrieve()\n       .bodyToMono(String.class);\n }\n</code></pre>\n<p>The intuition behind this is</p>\n<ul>\n<li>use <code>spring-boot-starter-webflux</code> and <code>WebClient</code> in async mode to create reactive services. Controller should return <code>Mono</code> or <code>Flux</code>. The caveat here is that your logic should be reactive (async) end-to-end to get full advantage of the Reactive API.</li>\n<li>add <code>spring-boot-starter-web</code> if you want to build non-reactive service and just use <code>WebClient</code> in sync (blocking) mode as your Http client.</li>\n</ul>\n"}],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74165177,"answer_count":2,"score":2,"last_activity_date":1666459904,"creation_date":1666451174,"question_id":74164685,"body_markdown":"I would like to make this call and return a string\r\nbut I&#39;m having this error:\r\n\r\n***&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, \r\nwhich is not supported in thread reactor-http-nio-3&quot;***\r\n\r\nI dont understand why am I doing wrong?\r\nWebClient supports asynchronous as well as synchronous calls.\r\n\r\nThis a springboot project with just 3 dependencies.\r\n\r\n\r\n\r\nHow can I return just a string like a normal synchronous call? \r\n\r\n```\r\n@RestController\r\npublic class HomeController {\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic String home() {\r\nString resp = webclient.get()                             \r\n                       .uri(ANY_URL).retrieve()\r\n                       .bodyToMono(String.class)\r\n                       .block();\r\nreturn resp;\r\n\r\n }\r\n\r\n\r\n}\r\n\r\npom.xml\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\nThanks.","title":"How to return just a String using Webflux - webclient?","body":"<p>I would like to make this call and return a string\nbut I'm having this error:</p>\n<p><em><strong>&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking,\nwhich is not supported in thread reactor-http-nio-3&quot;</strong></em></p>\n<p>I dont understand why am I doing wrong?\nWebClient supports asynchronous as well as synchronous calls.</p>\n<p>This a springboot project with just 3 dependencies.</p>\n<p>How can I return just a string like a normal synchronous call?</p>\n<pre><code>@RestController\npublic class HomeController {\n\n@GetMapping(&quot;/&quot;)\npublic String home() {\nString resp = webclient.get()                             \n                       .uri(ANY_URL).retrieve()\n                       .bodyToMono(String.class)\n                       .block();\nreturn resp;\n\n }\n\n\n}\n\npom.xml\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580114,"post_id":74165518,"comment_id":130963333,"body_markdown":"The `CustomerGUI` doesn&#39;t seem to interact with `objectOutputStream` or `objectInputStream` at all. It creates a new `AdminGUI` instance each time the button is clicked. If `AdminGUI` is the same, then each button click will establish a new connection to the server, without closing any existing ones.","body":"The <code>CustomerGUI</code> doesn&#39;t seem to interact with <code>objectOutputStream</code> or <code>objectInputStream</code> at all. It creates a new <code>AdminGUI</code> instance each time the button is clicked. If <code>AdminGUI</code> is the same, then each button click will establish a new connection to the server, without closing any existing ones."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580206,"post_id":74165518,"comment_id":130963349,"body_markdown":"Also, each client connection creates a new thread _pool_ on the server. You probably want to share a single thread pool, created when the server starts.","body":"Also, each client connection creates a new thread <i>pool</i> on the server. You probably want to share a single thread pool, created when the server starts."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666580331,"post_id":74165518,"comment_id":130963365,"body_markdown":"Also, does the server need to support more than one connected client? Right now, there is only one field for the client `socket`, `objectInputStream`, and `objectOutputStream`. Each new connection will replace those without closing the existing connection.","body":"Also, does the server need to support more than one connected client? Right now, there is only one field for the client <code>socket</code>, <code>objectInputStream</code>, and <code>objectOutputStream</code>. Each new connection will replace those without closing the existing connection."}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666458461,"creation_date":1666458461,"question_id":74165518,"body_markdown":"I have a simple client and server gui, there are 2 client guis/frames (a user can switch to a different gui and go back for an unknown amount of times), I wanted to know what would be the best approach for a use-case like this.\r\n\r\nI&#39;ve tried using SwingWorker, but then my server would stop handling requests after about 10 times of going back and fourth between the 2 client guis, I&#39;m aware I could set a number of threads to use but since I won&#39;t know how many times a user will switch guis, I couldn&#39;t get it to work using that.\r\n\r\n\r\nI&#39;m currently using a FixedThreadPool, the number of threads in the pool is also what I&#39;m not sure about (currently I&#39;m using this to set it to the # of cores the computer has -&gt; Runtime.getRuntime().availableProcessors())\r\n\r\n\r\nThe problem now is that, I can move back and forth between guis, but sometimes the program would hang after about 20 times, although it is rare, it does seem to happen, and when I try to print out the current thread, I always get something like this, the thread # doesn&#39;t seem to change, only the pool # does.\r\n\r\n\r\n**pool-27-thread-1**\r\n\r\n\r\nHere is my code\r\n\r\n**Server**\r\n```\r\npublic class Testserver {\r\n\r\n    private ServerSocket serverSocket;\r\n    private Socket client;\r\n    private final int PORT = 5432;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n     private ThreadPoolExecutor executor;\r\n\r\n    public Testserver() {\r\n        System.out.println(Thread.currentThread().getName());\r\n        try {\r\n            serverSocket = new ServerSocket(PORT);\r\n            System.out.println(&quot;Waiting for connection&quot;);\r\n\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    private void listenForClients() {\r\n        try {\r\n\r\n            while (true) {\r\n                client = serverSocket.accept();\r\n                System.out.println(&quot;client connected&quot;);\r\n                objectOutputStream = new ObjectOutputStream(client.getOutputStream());\r\n                objectInputStream = new ObjectInputStream(client.getInputStream());\r\n                processClient();\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            new Testserver().listenForClients();\r\n        });\r\n    }\r\n    \r\n\r\n    private void processClient() {\r\n        System.out.println(&quot;CORES: &quot; + Runtime.getRuntime().availableProcessors());\r\n        executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n        \r\n        executor.execute(() -&gt; {\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n        do {\r\n            try {\r\n                String messageFromClient = (String) objectInputStream.readObject();\r\n                System.out.println(&quot;[CLIENT] &quot; + messageFromClient);\r\n\r\n            } catch (IOException ex) {\r\n            } catch (ClassNotFoundException ex) {\r\n            }\r\n        } while (true);\r\n        });\r\n        \r\n        executor.shutdown();\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n----\r\n\r\n**CustomerGUI**\r\n```\r\npublic class CustomerGUI extends JFrame implements ActionListener{\r\n    \r\n    private Socket server;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n    private JButton btnAdminGUI;\r\n    private final int PORT = 5432;\r\n    \r\n    public CustomerGUI()  {\r\n        \r\n        btnAdminGUI = new JButton(&quot;Go to Admin GUI&quot;);\r\n               \r\n        try {\r\n            server = new Socket(&quot;localhost&quot;, PORT);\r\n            System.out.println(&quot;Connected to server&quot;);\r\n            \r\n            objectOutputStream = new ObjectOutputStream(server.getOutputStream());\r\n            objectInputStream = new ObjectInputStream(server.getInputStream());\r\n        } catch (IOException ex) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + ex.getMessage());\r\n        }\r\n        \r\n        btnAdminGUI.addActionListener(this);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            new CustomerGUI().setGUI();\r\n        });\r\n    }\r\n    \r\n    public void setGUI() {\r\n        setLayout(new GridLayout(2,1));\r\n        add(btnAdminGUI);\r\n        setSize(300, 400);\r\n        setVisible(true);\r\n    }\r\n    \r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n       if(e.getSource() == btnAdminGUI) {\r\n           new AdminGUI().setGUI();  \r\n           dispose();\r\n       }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe other GUI, AdminGUI is pretty much the same, just goes to the CustomerGUI after clicking a button.\r\n\r\n\r\n\r\n\r\n[![Output when printing current thread in the server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5fzq.png","title":"Best way to go about handling client/server swing gui using Threads","body":"<p>I have a simple client and server gui, there are 2 client guis/frames (a user can switch to a different gui and go back for an unknown amount of times), I wanted to know what would be the best approach for a use-case like this.</p>\n<p>I've tried using SwingWorker, but then my server would stop handling requests after about 10 times of going back and fourth between the 2 client guis, I'm aware I could set a number of threads to use but since I won't know how many times a user will switch guis, I couldn't get it to work using that.</p>\n<p>I'm currently using a FixedThreadPool, the number of threads in the pool is also what I'm not sure about (currently I'm using this to set it to the # of cores the computer has -&gt; Runtime.getRuntime().availableProcessors())</p>\n<p>The problem now is that, I can move back and forth between guis, but sometimes the program would hang after about 20 times, although it is rare, it does seem to happen, and when I try to print out the current thread, I always get something like this, the thread # doesn't seem to change, only the pool # does.</p>\n<p><strong>pool-27-thread-1</strong></p>\n<p>Here is my code</p>\n<p><strong>Server</strong></p>\n<pre><code>public class Testserver {\n\n    private ServerSocket serverSocket;\n    private Socket client;\n    private final int PORT = 5432;\n    private ObjectOutputStream objectOutputStream;\n    private ObjectInputStream objectInputStream;\n     private ThreadPoolExecutor executor;\n\n    public Testserver() {\n        System.out.println(Thread.currentThread().getName());\n        try {\n            serverSocket = new ServerSocket(PORT);\n            System.out.println(&quot;Waiting for connection&quot;);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    private void listenForClients() {\n        try {\n\n            while (true) {\n                client = serverSocket.accept();\n                System.out.println(&quot;client connected&quot;);\n                objectOutputStream = new ObjectOutputStream(client.getOutputStream());\n                objectInputStream = new ObjectInputStream(client.getInputStream());\n                processClient();\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Testserver.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new Testserver().listenForClients();\n        });\n    }\n    \n\n    private void processClient() {\n        System.out.println(&quot;CORES: &quot; + Runtime.getRuntime().availableProcessors());\n        executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n        \n        executor.execute(() -&gt; {\n        System.out.println(Thread.currentThread().getName());\n\n        do {\n            try {\n                String messageFromClient = (String) objectInputStream.readObject();\n                System.out.println(&quot;[CLIENT] &quot; + messageFromClient);\n\n            } catch (IOException ex) {\n            } catch (ClassNotFoundException ex) {\n            }\n        } while (true);\n        });\n        \n        executor.shutdown();\n        \n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>CustomerGUI</strong></p>\n<pre><code>public class CustomerGUI extends JFrame implements ActionListener{\n    \n    private Socket server;\n    private ObjectOutputStream objectOutputStream;\n    private ObjectInputStream objectInputStream;\n    private JButton btnAdminGUI;\n    private final int PORT = 5432;\n    \n    public CustomerGUI()  {\n        \n        btnAdminGUI = new JButton(&quot;Go to Admin GUI&quot;);\n               \n        try {\n            server = new Socket(&quot;localhost&quot;, PORT);\n            System.out.println(&quot;Connected to server&quot;);\n            \n            objectOutputStream = new ObjectOutputStream(server.getOutputStream());\n            objectInputStream = new ObjectInputStream(server.getInputStream());\n        } catch (IOException ex) {\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + ex.getMessage());\n        }\n        \n        btnAdminGUI.addActionListener(this);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new CustomerGUI().setGUI();\n        });\n    }\n    \n    public void setGUI() {\n        setLayout(new GridLayout(2,1));\n        add(btnAdminGUI);\n        setSize(300, 400);\n        setVisible(true);\n    }\n    \n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n       if(e.getSource() == btnAdminGUI) {\n           new AdminGUI().setGUI();  \n           dispose();\n       }\n    }\n}\n\n</code></pre>\n<p>The other GUI, AdminGUI is pretty much the same, just goes to the CustomerGUI after clicking a button.</p>\n<p><a href=\"https://i.stack.imgur.com/Q5fzq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5fzq.png\" alt=\"Output when printing current thread in the server\" /></a></p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666334291,"post_id":74148037,"comment_id":130916526,"body_markdown":"You say the result is not as expected. But what *do you expect?*","body":"You say the result is not as expected. But what <i>do you expect?</i>"},{"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"score":0,"creation_date":1666350142,"post_id":74148037,"comment_id":130921688,"body_markdown":"the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page","body":"the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666417274,"post_id":74148037,"comment_id":130936970,"body_markdown":"If you don&#39;t want the data to repeat, then you should not add the same `itemTable` object again and again but instead create a new one at the start of the loop. I.e. you should pull the two lines into the loop that currently are before the loop.","body":"If you don&#39;t want the data to repeat, then you should not add the same <code>itemTable</code> object again and again but instead create a new one at the start of the loop. I.e. you should pull the two lines into the loop that currently are before the loop."},{"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"score":0,"creation_date":1666428101,"post_id":74148037,"comment_id":130938232,"body_markdown":"its brilliant!!,You have saved my life.","body":"its brilliant!!,You have saved my life."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666457891,"post_id":74148037,"comment_id":130943926,"body_markdown":"Good! I&#39;ll post that as an actual answer...","body":"Good! I&#39;ll post that as an actual answer..."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666458156,"creation_date":1666458156,"answer_id":74165482,"question_id":74148037,"body_markdown":"In a comment you clarified\r\n\r\n&gt;the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page\r\n\r\nIf you don&#39;t want the data to repeat, then you should not add the same `itemTable` object again and again but instead create a new one at the start of the loop.\r\n\r\nI.e. you should pull the two lines into the loop that currently are before the loop, instead of\r\n```\r\nPdfPTable itemTable = new PdfPTable(headerColumns.length);\r\nitemTable.setWidthPercentage(100);\r\nfor(int i = 0;i&lt; data.size();i++){\r\n    ...\r\n    document.add(itemTable);\r\n}\r\n```\r\nuse\r\n```\r\nfor(int i = 0;i&lt; data.size();i++){\r\n    PdfPTable itemTable = new PdfPTable(headerColumns.length);\r\n    itemTable.setWidthPercentage(100);\r\n    ...\r\n    document.add(itemTable);\r\n}\r\n```\r\n\r\n","title":"How To Set Data Per Page Itextpdf Java","body":"<p>In a comment you clarified</p>\n<blockquote>\n<p>the results that I expect, such as data per page for example 2 , in the results of the image I include it is like a bug where the data on the initial page is 1 but the data is repeated on the 2nd page</p>\n</blockquote>\n<p>If you don't want the data to repeat, then you should not add the same <code>itemTable</code> object again and again but instead create a new one at the start of the loop.</p>\n<p>I.e. you should pull the two lines into the loop that currently are before the loop, instead of</p>\n<pre><code>PdfPTable itemTable = new PdfPTable(headerColumns.length);\nitemTable.setWidthPercentage(100);\nfor(int i = 0;i&lt; data.size();i++){\n    ...\n    document.add(itemTable);\n}\n</code></pre>\n<p>use</p>\n<pre><code>for(int i = 0;i&lt; data.size();i++){\n    PdfPTable itemTable = new PdfPTable(headerColumns.length);\n    itemTable.setWidthPercentage(100);\n    ...\n    document.add(itemTable);\n}\n</code></pre>\n"}],"owner":{"account_id":26098741,"reputation":13,"user_id":19794514,"display_name":"Muhammad Alghifari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74165482,"answer_count":1,"score":1,"last_activity_date":1666458156,"creation_date":1666317965,"question_id":74148037,"body_markdown":"I made an export pdf system using the java Itext pdf library, but there is a problem when I want to split the data of each page, I want to dynamically divide the data of each page using input, how to do it?like the code below, but the result is not as expected \r\n\r\n    //looping data row\r\n            PdfPTable itemTable = new PdfPTable(headerColumns.length);\r\n            itemTable.setWidthPercentage(100);\r\n            for(int i = 0;i&lt; data.size();i++){\r\n\r\n                // header area\r\n                PdfPCell area = new PdfPCell(new Phrase(data.get(i).get(&quot;area&quot;).toString()));\r\n                area.setPaddingLeft(4);\r\n                area.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                area.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(area);\r\n\r\n                // header new_sa\r\n                PdfPCell newSa = new PdfPCell(new Phrase(data.get(i).get(&quot;new_sa&quot;).toString()));\r\n                newSa.setPaddingLeft(4);\r\n                newSa.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                newSa.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(newSa);\r\n\r\n                // header new_sa\r\n                PdfPCell saMtd = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_mtd&quot;).toString()));\r\n                saMtd.setPaddingLeft(4);\r\n                saMtd.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                saMtd.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(saMtd);\r\n\r\n                // header sa_last_month\r\n                PdfPCell saLastMonth = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_last_month&quot;).toString()));\r\n                saLastMonth.setPaddingLeft(4);\r\n                saLastMonth.setVerticalAlignment(Element.ALIGN_MIDDLE);\r\n                saLastMonth.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n                itemTable.addCell(saMtd);\r\n\r\n                //set maxmimum data per page 2\r\n                if(itemTable.getRows().size() == 2){\r\n                    document.newPage();\r\n                }\r\n                document.add(table);\r\n                document.add(itemTable);\r\n            }\r\n            document.close();\r\n\r\npdf result of the code above\r\n[picture page 1][1]\r\n[picture page 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p2om2.png\r\n  [2]: https://i.stack.imgur.com/v84dP.png","title":"How To Set Data Per Page Itextpdf Java","body":"<p>I made an export pdf system using the java Itext pdf library, but there is a problem when I want to split the data of each page, I want to dynamically divide the data of each page using input, how to do it?like the code below, but the result is not as expected</p>\n<pre><code>//looping data row\n        PdfPTable itemTable = new PdfPTable(headerColumns.length);\n        itemTable.setWidthPercentage(100);\n        for(int i = 0;i&lt; data.size();i++){\n\n            // header area\n            PdfPCell area = new PdfPCell(new Phrase(data.get(i).get(&quot;area&quot;).toString()));\n            area.setPaddingLeft(4);\n            area.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            area.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(area);\n\n            // header new_sa\n            PdfPCell newSa = new PdfPCell(new Phrase(data.get(i).get(&quot;new_sa&quot;).toString()));\n            newSa.setPaddingLeft(4);\n            newSa.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            newSa.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(newSa);\n\n            // header new_sa\n            PdfPCell saMtd = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_mtd&quot;).toString()));\n            saMtd.setPaddingLeft(4);\n            saMtd.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            saMtd.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(saMtd);\n\n            // header sa_last_month\n            PdfPCell saLastMonth = new PdfPCell(new Phrase(data.get(i).get(&quot;sa_last_month&quot;).toString()));\n            saLastMonth.setPaddingLeft(4);\n            saLastMonth.setVerticalAlignment(Element.ALIGN_MIDDLE);\n            saLastMonth.setHorizontalAlignment(Element.ALIGN_CENTER);\n            itemTable.addCell(saMtd);\n\n            //set maxmimum data per page 2\n            if(itemTable.getRows().size() == 2){\n                document.newPage();\n            }\n            document.add(table);\n            document.add(itemTable);\n        }\n        document.close();\n</code></pre>\n<p>pdf result of the code above\n<a href=\"https://i.stack.imgur.com/p2om2.png\" rel=\"nofollow noreferrer\">picture page 1</a>\n<a href=\"https://i.stack.imgur.com/v84dP.png\" rel=\"nofollow noreferrer\">picture page 2</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26702783,"reputation":1,"user_id":20309535,"display_name":"AHTISHAM ABID"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666457916,"creation_date":1666457916,"answer_id":74165456,"question_id":74165207,"body_markdown":"**Use this Code instead of Above.**\r\n\r\n \r\n\r\n    InputStream inputStream;\r\n                    FileOutputStream fileOutputStream;\r\n                    try {\r\n                        inputStream = context.getResources().openRawResource(R.raw.audio);\r\n                        fileOutputStream = new FileOutputStream(\r\n                                new File(Environment.getExternalStorageDirectory(), &quot;audio.mp3&quot;));\r\n    \r\n                        byte[] buffer = new byte[1024];\r\n                        int length;\r\n                        while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                            fileOutputStream.write(buffer, 0, length);\r\n                        }\r\n    \r\n                        inputStream.close();\r\n                        fileOutputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.putExtra(Intent.EXTRA_STREAM,\r\n                            Uri.parse(Environment.getExternalStorageDirectory() + &quot;/audio.mp3&quot;));\r\n                    intent.setType(&quot;audio/*&quot;);\r\n                    context.startActivity(Intent.createChooser(intent, &quot;Share sound&quot;));","title":"I want to Share my raw audio.mp3 file through intent but I an getting error","body":"<p><strong>Use this Code instead of Above.</strong></p>\n<pre><code>InputStream inputStream;\n                FileOutputStream fileOutputStream;\n                try {\n                    inputStream = context.getResources().openRawResource(R.raw.audio);\n                    fileOutputStream = new FileOutputStream(\n                            new File(Environment.getExternalStorageDirectory(), &quot;audio.mp3&quot;));\n\n                    byte[] buffer = new byte[1024];\n                    int length;\n                    while ((length = inputStream.read(buffer)) &gt; 0) {\n                        fileOutputStream.write(buffer, 0, length);\n                    }\n\n                    inputStream.close();\n                    fileOutputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.putExtra(Intent.EXTRA_STREAM,\n                        Uri.parse(Environment.getExternalStorageDirectory() + &quot;/audio.mp3&quot;));\n                intent.setType(&quot;audio/*&quot;);\n                context.startActivity(Intent.createChooser(intent, &quot;Share sound&quot;));\n</code></pre>\n"}],"owner":{"account_id":26702783,"reputation":1,"user_id":20309535,"display_name":"AHTISHAM ABID"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666457916,"creation_date":1666455814,"question_id":74165207,"body_markdown":" Uri uri = Uri.parse(&quot;content://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.audio);\r\n\r\n                Intent share = new Intent(Intent.ACTION_SEND);\r\n                share.setType(&quot;audio/*&quot;);\r\n                share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                share.putExtra(Intent.EXTRA_STREAM, uri);\r\n                view.getContext().startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));","title":"I want to Share my raw audio.mp3 file through intent but I an getting error","body":"<p>Uri uri = Uri.parse(&quot;content://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.audio);</p>\n<pre><code>            Intent share = new Intent(Intent.ACTION_SEND);\n            share.setType(&quot;audio/*&quot;);\n            share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            share.putExtra(Intent.EXTRA_STREAM, uri);\n            view.getContext().startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));\n</code></pre>\n"},{"tags":["java","android","facebook","api","facebook-graph-api"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1553435772,"post_id":55324389,"comment_id":97375235,"body_markdown":"Prior to posting on StackOverflow, you should come up with, at least, a small snippet of code. Facebook has its own page for its APIs https://developers.facebook.com/docs/ and for groups https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts","body":"Prior to posting on StackOverflow, you should come up with, at least, a small snippet of code. Facebook has its own page for its APIs <a href=\"https://developers.facebook.com/docs/\" rel=\"nofollow noreferrer\">developers.facebook.com/docs</a> and for groups <a href=\"https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/groups-api/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14300431,"reputation":349,"user_id":10329877,"display_name":"Dimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666457897,"creation_date":1553436000,"answer_id":55324567,"question_id":55324389,"body_markdown":"I am guessing you tried to do it with [facebook API][1] and didn&#39;t find a way. &lt;br&gt; \r\n\r\n*You can perform a GET operation on the `/{group-id}/feed` edge to get posts on a Group.*\r\n\r\n    curl -i -X GET \\ &quot;https://graph.facebook.com/554611227955614/feed?limit=5&amp;access_token=EAACEdEos0...&quot;\r\n\r\nAnother solution would be to use a tool such as [chromedriver][2] and scrape the data. In other words to create a web scraper. In any case, I think, it is not allowed based on terms of use of Facebook. There must be a reason that there is no such functionality in their official API (if thats the case) \r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\r\n  [2]: http://chromedriver.chromium.org/","title":"Get facebook posts from a group","body":"<p>I am guessing you tried to do it with <a href=\"https://developers.facebook.com/docs/groups-api/common-uses#getting-group-posts\" rel=\"nofollow noreferrer\">facebook API</a> and didn't find a way. <br></p>\n<p><em>You can perform a GET operation on the <code>/{group-id}/feed</code> edge to get posts on a Group.</em></p>\n<pre><code>curl -i -X GET \\ &quot;https://graph.facebook.com/554611227955614/feed?limit=5&amp;access_token=EAACEdEos0...&quot;\n</code></pre>\n<p>Another solution would be to use a tool such as <a href=\"http://chromedriver.chromium.org/\" rel=\"nofollow noreferrer\">chromedriver</a> and scrape the data. In other words to create a web scraper. In any case, I think, it is not allowed based on terms of use of Facebook. There must be a reason that there is no such functionality in their official API (if thats the case)</p>\n"}],"owner":{"account_id":15586994,"reputation":19,"user_id":11245218,"display_name":"makisgr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2548,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1553473612,"accepted_answer_id":55324567,"answer_count":1,"score":-2,"last_activity_date":1666457897,"creation_date":1553434783,"question_id":55324389,"body_markdown":"I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn&#39;t find a solution to the problem.\r\n\r\nThanks in advanceHey everoyne .I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn&#39;t find a solution to the problem.\r\n\r\nThanks in advance","title":"Get facebook posts from a group","body":"<p>I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn't find a solution to the problem.</p>\n\n<p>Thanks in advanceHey everoyne .I am developing an android app and I want the app to get post from a facebook group which I am admin.How is that possible? I search online but I couldn't find a solution to the problem.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1666681951,"post_id":74159002,"comment_id":130988534,"body_markdown":"You&#39;re calling findViewById 1) on the activity, not the fragment, 2) before you inflate the fragment&#39;s view.","body":"You&#39;re calling findViewById 1) on the activity, not the fragment, 2) before you inflate the fragment&#39;s view."}],"answers":[{"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666457473,"creation_date":1666386186,"answer_id":74159122,"question_id":74159002,"body_markdown":"   \r\n\r\n     @Override \r\n        public View onCreateView(LayoutInflater inflater, \r\n    ViewGroup container, Bundle savedInstanceState) {\r\n                    // Inflate the layout for this fragment\r\n                    View v = inflater.inflate(R.layout.fragment_home, container, false)\r\n                    add = v.findViewById(R.id.addButton);\r\n                    tabLayout = v.findViewById(R.id.tabLayout);\r\n                    viewPager2 = v.findViewById(R.id.viewPager);\r\n                    myAdapter = new MyAdapter(this);\r\n                    viewPager2.setAdapter(myAdapter);\r\n                    add.setOnClickListener(view -&gt; {\r\n                        Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\r\n                        startActivity(intent);\r\n                    });\r\n                    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                        @Override\r\n                        public void onTabSelected(TabLayout.Tab tab) {\r\n                            viewPager2.setCurrentItem(tab.getPosition());\r\n                        }\r\n                        @Override\r\n                        public void onTabUnselected(TabLayout.Tab tab) {\r\n                        }\r\n                        @Override\r\n                        public void onTabReselected(TabLayout.Tab tab) {\r\n                        }\r\n                    });\r\n                    viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n                        @Override\r\n                        public void onPageSelected(int position) {\r\n                            super.onPageSelected(position);\r\n                            tabLayout.getTabAt(position).select();\r\n                        }\r\n                    });\r\n                    return v; }\r\n\r\n\r\nJust add some syntatic sugar cause this editor didn&#39;t paste the code very well.","title":"invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39;on null obj reference","body":"<pre><code> @Override \n    public View onCreateView(LayoutInflater inflater, \nViewGroup container, Bundle savedInstanceState) {\n                // Inflate the layout for this fragment\n                View v = inflater.inflate(R.layout.fragment_home, container, false)\n                add = v.findViewById(R.id.addButton);\n                tabLayout = v.findViewById(R.id.tabLayout);\n                viewPager2 = v.findViewById(R.id.viewPager);\n                myAdapter = new MyAdapter(this);\n                viewPager2.setAdapter(myAdapter);\n                add.setOnClickListener(view -&gt; {\n                    Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\n                    startActivity(intent);\n                });\n                tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n                    @Override\n                    public void onTabSelected(TabLayout.Tab tab) {\n                        viewPager2.setCurrentItem(tab.getPosition());\n                    }\n                    @Override\n                    public void onTabUnselected(TabLayout.Tab tab) {\n                    }\n                    @Override\n                    public void onTabReselected(TabLayout.Tab tab) {\n                    }\n                });\n                viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n                    @Override\n                    public void onPageSelected(int position) {\n                        super.onPageSelected(position);\n                        tabLayout.getTabAt(position).select();\n                    }\n                });\n                return v; }\n</code></pre>\n<p>Just add some syntatic sugar cause this editor didn't paste the code very well.</p>\n"}],"owner":{"account_id":25977417,"reputation":15,"user_id":19691686,"display_name":"Rakshit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1666681912,"accepted_answer_id":74159122,"answer_count":1,"score":-5,"last_activity_date":1666457473,"creation_date":1666385216,"question_id":74159002,"body_markdown":"I&#39;m trying to display two fragments with BottomNaviagtionView one is HomeFragment and second is AboutFragment. 1st one is Ho and 2nd mefragment which also has tablayout and contains two fragments which is working properly. \r\nBut now I want 2 only main fragments from bottomNavigationview 1st HomeFragment and 2nd Aboutfragment.\r\n\r\n\r\n**HomeFragment.java**\r\n\r\n    public class HomeFragment extends Fragment {\r\n    FloatingActionButton add;\r\n    TabLayout tabLayout;\r\n    ViewPager2 viewPager2;\r\n    MyAdapter myAdapter;\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        add = getActivity().findViewById(R.id.addButton);\r\n        tabLayout = getActivity().findViewById(R.id.tabLayout);\r\n        viewPager2 = getActivity().findViewById(R.id.viewPager);\r\n        myAdapter = new MyAdapter(this);\r\n        viewPager2.setAdapter(myAdapter);//this is where error occured\r\n         //Attempt to invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference\r\n        add.setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\r\n            startActivity(intent);\r\n        });\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                viewPager2.setCurrentItem(tab.getPosition());\r\n            }\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n            }\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n            }\r\n        });\r\n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                super.onPageSelected(position);\r\n                tabLayout.getTabAt(position).select();\r\n            }\r\n        });\r\n        return inflater.inflate(R.layout.fragment_home, container, false);\r\n    }\r\n    }\r\n    \r\n**fragment_home.xml**\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/homeFragment&quot;\r\n    tools:context=&quot;.HomeFragment&quot;&gt;\r\n    \r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/addButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:elevation=&quot;3dp&quot;\r\n        app:borderWidth=&quot;0dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_note_add_24&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:backgroundTint=&quot;@color/purple_200&quot;\r\n        android:contentDescription=&quot;@string/app_name&quot; /&gt;\r\n    \r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/recent&quot;\r\n            android:text=&quot;RECENT&quot;/&gt;\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/confirmed&quot;\r\n            android:text=&quot;CONFIRMED&quot;/&gt;\r\n    \r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/viewPager&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n//this is my main java file which is having bottom bar and I am accessing fregments from this file.\r\n**Homepage.java**\r\n\r\n     public class HomePage extends AppCompatActivity {\r\n    BottomNavigationView bottomNavigationView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n        bottomNavigationView = findViewById(R.id.bottomBar);\r\n        bottomNavigationView.setSelectedItemId(R.id.home);\r\n        fragmentReplace(new HomeFragment());\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case (R.id.home):\r\n                        fragmentReplace(new HomeFragment());\r\n                        break;\r\n                    case (R.id.about):\r\n                        fragmentReplace(new AboutFragment());\r\n                        break;\r\n                    default:\r\n                        fragmentReplace(new HomeFragment());\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    private void fragmentReplace(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n    }","title":"invoke virtual method &#39;void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39;on null obj reference","body":"<p>I'm trying to display two fragments with BottomNaviagtionView one is HomeFragment and second is AboutFragment. 1st one is Ho and 2nd mefragment which also has tablayout and contains two fragments which is working properly.\nBut now I want 2 only main fragments from bottomNavigationview 1st HomeFragment and 2nd Aboutfragment.</p>\n<p><strong>HomeFragment.java</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\nFloatingActionButton add;\nTabLayout tabLayout;\nViewPager2 viewPager2;\nMyAdapter myAdapter;\npublic HomeFragment() {\n    // Required empty public constructor\n}\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    add = getActivity().findViewById(R.id.addButton);\n    tabLayout = getActivity().findViewById(R.id.tabLayout);\n    viewPager2 = getActivity().findViewById(R.id.viewPager);\n    myAdapter = new MyAdapter(this);\n    viewPager2.setAdapter(myAdapter);//this is where error occured\n     //Attempt to invoke virtual method 'void androidx.viewpager2.widget.ViewPager2.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference\n    add.setOnClickListener(view -&gt; {\n        Intent intent = new Intent(getActivity().getApplicationContext(), AddMesurement.class);\n        startActivity(intent);\n    });\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            viewPager2.setCurrentItem(tab.getPosition());\n        }\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n        }\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n        }\n    });\n    viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            super.onPageSelected(position);\n            tabLayout.getTabAt(position).select();\n        }\n    });\n    return inflater.inflate(R.layout.fragment_home, container, false);\n}\n}\n</code></pre>\n<p><strong>fragment_home.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/homeFragment&quot;\ntools:context=&quot;.HomeFragment&quot;&gt;\n\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/addButton&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:elevation=&quot;3dp&quot;\n    app:borderWidth=&quot;0dp&quot;\n    android:src=&quot;@drawable/ic_baseline_note_add_24&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:backgroundTint=&quot;@color/purple_200&quot;\n    android:contentDescription=&quot;@string/app_name&quot; /&gt;\n\n&lt;com.google.android.material.tabs.TabLayout\n    android:id=&quot;@+id/tabLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\n    &lt;com.google.android.material.tabs.TabItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/recent&quot;\n        android:text=&quot;RECENT&quot;/&gt;\n    &lt;com.google.android.material.tabs.TabItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/confirmed&quot;\n        android:text=&quot;CONFIRMED&quot;/&gt;\n\n&lt;/com.google.android.material.tabs.TabLayout&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/viewPager&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>//this is my main java file which is having bottom bar and I am accessing fregments from this file.\n<strong>Homepage.java</strong></p>\n<pre><code> public class HomePage extends AppCompatActivity {\nBottomNavigationView bottomNavigationView;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home_page);\n    bottomNavigationView = findViewById(R.id.bottomBar);\n    bottomNavigationView.setSelectedItemId(R.id.home);\n    fragmentReplace(new HomeFragment());\n    bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            switch (item.getItemId()){\n                case (R.id.home):\n                    fragmentReplace(new HomeFragment());\n                    break;\n                case (R.id.about):\n                    fragmentReplace(new AboutFragment());\n                    break;\n                default:\n                    fragmentReplace(new HomeFragment());\n                    break;\n            }\n            return true;\n        }\n    });\n}\nprivate void fragmentReplace(Fragment fragment){\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.replace(R.id.frameLayout, fragment);\n    fragmentTransaction.commit();\n}\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666457225,"post_id":74165300,"comment_id":130943780,"body_markdown":"What URL are you using as the repo? If it&#39;s the one in the readme of your project then it&#39;s 404ing. Wouldn&#39;t it be https://raw.githubusercontent.com/PolyRocketMatt/Warehouse/main/ ? I&#39;ve never seen this &quot;maven repo in a github repo&quot; done before. Do you have reason to suspect it will work, or are you just hoping if you emulate the structure then it will work? Why don&#39;t you use [jitpack](https://jitpack.io/)? They build and serve artifacts for free. There&#39;s also [Github Packages](https://docs.github.com/en/packages) (haven&#39;t used it)","body":"What URL are you using as the repo? If it&#39;s the one in the readme of your project then it&#39;s 404ing. Wouldn&#39;t it be <a href=\"https://raw.githubusercontent.com/PolyRocketMatt/Warehouse/main/\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/PolyRocketMatt/Warehouse/main</a> ? I&#39;ve never seen this &quot;maven repo in a github repo&quot; done before. Do you have reason to suspect it will work, or are you just hoping if you emulate the structure then it will work? Why don&#39;t you use <a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">jitpack</a>? They build and serve artifacts for free. There&#39;s also <a href=\"https://docs.github.com/en/packages\" rel=\"nofollow noreferrer\">Github Packages</a> (haven&#39;t used it)"},{"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"score":0,"creation_date":1666457899,"post_id":74165300,"comment_id":130943927,"body_markdown":"I&#39;ll look into Jitpack. For the Game artifact, this approach is working. And yes I am hoping that it will work by emulating the structure. Currently the .pom is auto-generated from a small script. GitHub Packages requires me to use a Github Token and I don&#39;t want that. I&#39;ll try the URL you provided\n\nEDIT: The URL you provided sadly didn&#39;t work","body":"I&#39;ll look into Jitpack. For the Game artifact, this approach is working. And yes I am hoping that it will work by emulating the structure. Currently the .pom is auto-generated from a small script. GitHub Packages requires me to use a Github Token and I don&#39;t want that. I&#39;ll try the URL you provided  EDIT: The URL you provided sadly didn&#39;t work"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666460996,"post_id":74165300,"comment_id":130944582,"body_markdown":"&quot;*my first question if those are necessary*&quot; According to the docs, yes. [&quot;For each file that is the repository there **must be** a file containing the checksum of the file, typically md5 or sha1&quot;](https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final) &quot;*and if so, how I can generate them automatically*&quot; http://checksum-maven-plugin.nicoulaj.net/index.html&quot;","body":"&quot;<i>my first question if those are necessary</i>&quot; According to the docs, yes. <a href=\"https://cwiki.apache.org/confluence/display/MAVENOLD/Repository+Layout+-+Final\" rel=\"nofollow noreferrer\">&quot;For each file that is the repository there <b>must be</b> a file containing the checksum of the file, typically md5 or sha1&quot;</a> &quot;<i>and if so, how I can generate them automatically</i>&quot; <a href=\"http://checksum-maven-plugin.nicoulaj.net/index.html\" rel=\"nofollow noreferrer\">checksum-maven-plugin.nicoulaj.net/index.html</a>&quot;"}],"owner":{"account_id":6933043,"reputation":43,"user_id":5321960,"display_name":"Matthias K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666456606,"creation_date":1666456606,"question_id":74165300,"body_markdown":"I&#39;m currently in the process of uploading my library to my own repository hosting on GitHub. I have both the .jar and .pom files in the correct locations on GitHub:\r\n\r\ncom/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.jar \r\n\r\ncom/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.pom\r\n\r\nHowever, when I want to include this jar in another project, maven can not resolve the artifact. Another library of mine however, has the exact same structure on GitHub and is able to be resolved. \r\n\r\ncom/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.jar \r\n\r\ncom/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.pom\r\n\r\nThis library does contain .sha1 and .md5 files, so my first question if those are necessary and if so, how I can generate them automatically from the jar and pom. You can take a look at the whole structure [here][1]. Is there something I&#39;m missing? I&#39;ve been stuck at this for a few hours now. The KMT project itself is a gradle project but I want to host the Jar on my GitHub so it can be used in other Gradle/Maven projects.\r\n \r\n\r\n\r\n  [1]: https://github.com/PolyRocketMatt/Warehouse","title":"Maven doesn&#39;t find artifact on GitHub","body":"<p>I'm currently in the process of uploading my library to my own repository hosting on GitHub. I have both the .jar and .pom files in the correct locations on GitHub:</p>\n<p>com/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.jar</p>\n<p>com/github/polyrocketmatt/kmt/0.0.4/KMT-0.0.4.pom</p>\n<p>However, when I want to include this jar in another project, maven can not resolve the artifact. Another library of mine however, has the exact same structure on GitHub and is able to be resolved.</p>\n<p>com/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.jar</p>\n<p>com/github/polyrocketmatt/Game/3.0.7/Game-3.0.7.pom</p>\n<p>This library does contain .sha1 and .md5 files, so my first question if those are necessary and if so, how I can generate them automatically from the jar and pom. You can take a look at the whole structure <a href=\"https://github.com/PolyRocketMatt/Warehouse\" rel=\"nofollow noreferrer\">here</a>. Is there something I'm missing? I've been stuck at this for a few hours now. The KMT project itself is a gradle project but I want to host the Jar on my GitHub so it can be used in other Gradle/Maven projects.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1666438094,"post_id":74163076,"comment_id":130939801,"body_markdown":"The `VideoCapture` class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"The <code>VideoCapture</code> class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"score":0,"creation_date":1666442515,"post_id":74163076,"comment_id":130940646,"body_markdown":"org.opencv.videoio.VideoCapture. This is opencvs java biding..","body":"org.opencv.videoio.VideoCapture. This is opencvs java biding.."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666455711,"post_id":74163076,"comment_id":130943439,"body_markdown":"I see there are [tutorials](https://opencv-java-tutorials.readthedocs.io/en/latest/index.html) for using OpenCV with JavaFX.","body":"I see there are <a href=\"https://opencv-java-tutorials.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">tutorials</a> for using OpenCV with JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666455883,"creation_date":1666439683,"answer_id":74163313,"question_id":74163076,"body_markdown":"The problem is in:           \r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    try {\r\n        paintPan.updateGraphics(50, 50);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n    repaint();\r\n}\r\n```\r\nespecially in the call of blocking method (it contains endless loop):\r\n\r\n    paintPan.updateGraphics(50, 50);\r\n\r\nis called directly in the event dispatch thread (EDT). When you block this thread then really there can&#39;t be any update because it is the thread that actually paints everything.\r\n\r\nTo release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:\r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    new Thread(() -&gt;{\r\n        paintPan.updateGraphics(50, 50);\r\n    }).start();\r\n}\r\n```\r\nThis isn&#39;t the perfect solution, but probably a good starting point.\r\nI would recommend you to read few books so you can improve the code above on your own:\r\n\r\n - Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications\r\n - Clean Code: A Handbook of Agile Software Craftsmanship\r\n\r\n","title":"Repaint JPanel with images from video","body":"<p>The problem is in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    try {\n        paintPan.updateGraphics(50, 50);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    repaint();\n}\n</code></pre>\n<p>especially in the call of blocking method (it contains endless loop):</p>\n<pre><code>paintPan.updateGraphics(50, 50);\n</code></pre>\n<p>is called directly in the event dispatch thread (EDT). When you block this thread then really there can't be any update because it is the thread that actually paints everything.</p>\n<p>To release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    new Thread(() -&gt;{\n        paintPan.updateGraphics(50, 50);\n    }).start();\n}\n</code></pre>\n<p>This isn't the perfect solution, but probably a good starting point.\nI would recommend you to read few books so you can improve the code above on your own:</p>\n<ul>\n<li>Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications</li>\n<li>Clean Code: A Handbook of Agile Software Craftsmanship</li>\n</ul>\n"}],"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666455883,"creation_date":1666437498,"question_id":74163076,"body_markdown":"\r\n\r\nThere is a need to create a video player where i can edit frames. \r\nI am trying to create a JFrame and added JPanel inside.  \r\nI need to capture images from a video and display the same in JPanel.  I\r\ncannot use the custom controls of Java Swings.  I am trying to call\r\nrepaint inside for loop. However, paintComponent is called only for the first time.\r\n\r\n\r\n\r\n    public class MainPaint extends JFrame {\r\n    \r\n    \t\r\n    \tstatic{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n    \tPaintPanel paintPan = null;\r\n    \t\r\n        public MainPaint() {\r\n            setTitle(&quot;Video Panel&quot;);\r\n            setSize(600, 600);\r\n            setLayout(new BorderLayout());\r\n    \r\n             paintPan = new PaintPanel();\r\n            JButton testButon = new JButton(&quot;Display Video&quot;);\r\n            add(paintPan, BorderLayout.CENTER);\r\n            add(testButon, BorderLayout.PAGE_END);\r\n    \r\n            testButon.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n                    try {\r\n    \t\t\t\t\tpaintPan.updateGraphics(50, 50);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n                    repaint();\r\n                }\r\n            });\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new MainPaint();\r\n        }\r\n    }\r\n    \r\n    class PaintPanel extends JPanel {\r\n    \r\n        \r\n    \r\n        public PaintPanel() {\r\n           // setBackground(Color.ORANGE);\r\n        }\r\n    \r\n        int count = 0;\r\n        \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            \r\n        \tsuper.paintComponent(g);\r\n            Graphics2D graphics2d = (Graphics2D)  g.create();\r\n           \r\n            graphics2d.drawImage(image, null, 0, 0);\r\n            graphics2d.dispose();\r\n           \r\n        }\r\n    \r\n        BufferedImage image = null;\r\n        public void updateGraphics(int length, int width) throws InterruptedException {\r\n          \r\n            File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\r\n            \r\n            String filePath = selectedFile.getAbsolutePath();\r\n            \r\n            VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\r\n             Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\r\n            Mat dst = new Mat ();\r\n            \r\n            while (true) {\r\n            \t\r\n                if (cap.read(frame)) {\r\n         \r\n                \t\timage = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\r\n                \t\r\n                \t\t repaint();\r\n                \t\t Thread.currentThread().wait(100);\r\n                \t\t\r\n            }// if loop\r\n                }   // while loop   \r\n            \r\n        }\r\n        \r\n        private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\r\n    \t\tMatOfByte bytemat = new MatOfByte();\r\n    \t\tImgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\r\n    \t\tbyte[] bytes = bytemat.toArray();\r\n    \t\tInputStream in = new ByteArrayInputStream(bytes);\r\n    \t\tBufferedImage img = null;\r\n    \t\ttry {\r\n    \t\t\timg = ImageIO.read(in);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn img;\r\n    \t}\r\n    }","title":"Repaint JPanel with images from video","body":"<p>There is a need to create a video player where i can edit frames.\nI am trying to create a JFrame and added JPanel inside.<br />\nI need to capture images from a video and display the same in JPanel.  I\ncannot use the custom controls of Java Swings.  I am trying to call\nrepaint inside for loop. However, paintComponent is called only for the first time.</p>\n<pre><code>public class MainPaint extends JFrame {\n\n    \n    static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    PaintPanel paintPan = null;\n    \n    public MainPaint() {\n        setTitle(&quot;Video Panel&quot;);\n        setSize(600, 600);\n        setLayout(new BorderLayout());\n\n         paintPan = new PaintPanel();\n        JButton testButon = new JButton(&quot;Display Video&quot;);\n        add(paintPan, BorderLayout.CENTER);\n        add(testButon, BorderLayout.PAGE_END);\n\n        testButon.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                try {\n                    paintPan.updateGraphics(50, 50);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                repaint();\n            }\n        });\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new MainPaint();\n    }\n}\n\nclass PaintPanel extends JPanel {\n\n    \n\n    public PaintPanel() {\n       // setBackground(Color.ORANGE);\n    }\n\n    int count = 0;\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        Graphics2D graphics2d = (Graphics2D)  g.create();\n       \n        graphics2d.drawImage(image, null, 0, 0);\n        graphics2d.dispose();\n       \n    }\n\n    BufferedImage image = null;\n    public void updateGraphics(int length, int width) throws InterruptedException {\n      \n        File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\n        \n        String filePath = selectedFile.getAbsolutePath();\n        \n        VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\n         Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\n        Mat dst = new Mat ();\n        \n        while (true) {\n            \n            if (cap.read(frame)) {\n     \n                    image = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\n                \n                     repaint();\n                     Thread.currentThread().wait(100);\n                    \n        }// if loop\n            }   // while loop   \n        \n    }\n    \n    private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\n        MatOfByte bytemat = new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\n        byte[] bytes = bytemat.toArray();\n        InputStream in = new ByteArrayInputStream(bytes);\n        BufferedImage img = null;\n        try {\n            img = ImageIO.read(in);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return img;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16450039,"reputation":109,"user_id":11883685,"display_name":"Erfan Sn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666454946,"creation_date":1666454946,"answer_id":74165109,"question_id":74164914,"body_markdown":"In Java, we don&#39;t have anything called Local Function as a result, move the functions from the onCreate method to the class.\r\n","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>In Java, we don't have anything called Local Function as a result, move the functions from the onCreate method to the class.</p>\n"},{"tags":[],"owner":{"account_id":17075413,"reputation":40,"user_id":12355161,"display_name":"JadeCeci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666455123,"creation_date":1666455123,"answer_id":74165138,"question_id":74164914,"body_markdown":"Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.\r\n\r\nSecondly, I cannot see the implementation of the function &quot;display()&quot;. That&#39;s why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.</p>\n<p>Secondly, I cannot see the implementation of the function &quot;display()&quot;. That's why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.</p>\n"}],"owner":{"account_id":26427358,"reputation":1,"user_id":20074099,"display_name":"Amira Abbas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666455123,"creation_date":1666453426,"question_id":74164914,"body_markdown":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\r\nI am getting a error on Android Studio as what I believe is because I&#39;m inserting multiple &#39;displays&#39;. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?\r\n\r\nPlease see below for the following error:\r\n\r\n    package com.example.justjava;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.text.NumberFormat;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView num = findViewById(R.id.num);\r\n            Button order1 = findViewById(R.id.order);\r\n            /**\r\n             * This method is called when the plus button is clicked.\r\n             */\r\n            public void increment (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n            /**\r\n             * This method is called when the minus button is clicked.\r\n             */\r\n            public void onClick (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n    \r\n    \r\n            /**\r\n             * This method is called when the order button is clicked.\r\n             */\r\n            order1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    int quantity = 2;\r\n                    display1(quantity);\r\n                    displayPrice(quantity*5);\r\n                }\r\n    \r\n                /**\r\n                 * This method displays the given price on the screen.\r\n                 */\r\n                private void displayPrice(int number) {\r\n                    TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\r\n                    priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\r\n                }\r\n                /**\r\n                 * This method displays the given quantity value on the screen.\r\n                 */\r\n                private void display1(int number)\r\n                {\r\n                    //  TextView quantity = (TextView) findViewById(R.id.quantity);\r\n                    num.setText(&quot;&quot; + number);\r\n                }\r\n    \r\n    \r\n            });\r\n        }\r\n    }","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\nI am getting a error on Android Studio as what I believe is because I'm inserting multiple 'displays'. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?</p>\n<p>Please see below for the following error:</p>\n<pre><code>package com.example.justjava;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.text.NumberFormat;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView num = findViewById(R.id.num);\n        Button order1 = findViewById(R.id.order);\n        /**\n         * This method is called when the plus button is clicked.\n         */\n        public void increment (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n        /**\n         * This method is called when the minus button is clicked.\n         */\n        public void onClick (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n\n\n        /**\n         * This method is called when the order button is clicked.\n         */\n        order1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int quantity = 2;\n                display1(quantity);\n                displayPrice(quantity*5);\n            }\n\n            /**\n             * This method displays the given price on the screen.\n             */\n            private void displayPrice(int number) {\n                TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\n                priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\n            }\n            /**\n             * This method displays the given quantity value on the screen.\n             */\n            private void display1(int number)\n            {\n                //  TextView quantity = (TextView) findViewById(R.id.quantity);\n                num.setText(&quot;&quot; + number);\n            }\n\n\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","communication","file-transfer","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666454640,"creation_date":1666454640,"answer_id":74165061,"question_id":74165040,"body_markdown":"You can use RestTemplate .\r\n\r\nRestTemplate is used to consume API in Spring Boot \r\n\r\nhttps://spring.io/guides/gs/consuming-rest/","title":"Java Spring Restcontroller Communication Message+File","body":"<p>You can use RestTemplate .</p>\n<p>RestTemplate is used to consume API in Spring Boot</p>\n<p><a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n"}],"owner":{"account_id":14172533,"reputation":3,"user_id":10238739,"display_name":"tc.th3.bl4cksm1th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74165061,"answer_count":1,"score":0,"last_activity_date":1666454640,"creation_date":1666454437,"question_id":74165040,"body_markdown":"I have a small task to design 2 applications \r\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).\r\n\r\nI have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?","title":"Java Spring Restcontroller Communication Message+File","body":"<p>I have a small task to design 2 applications\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).</p>\n<p>I have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?</p>\n"},{"tags":["java","enums","jackson","jsonserializer"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":4,"creation_date":1347993792,"post_id":12468764,"comment_id":16794465,"body_markdown":"Have you tried `{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}`? Note the caps on both Event and FORGOT_PASSWORD.","body":"Have you tried <code>{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}</code>? Note the caps on both Event and FORGOT_PASSWORD."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1519909942,"post_id":12468764,"comment_id":85105193,"body_markdown":"Similar: [How to annotate enum fields for deserialization using Jackson json](https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json)","body":"Similar: <a href=\"https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json\">How to annotate enum fields for deserialization using Jackson json</a>"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1587399084,"post_id":12468764,"comment_id":108490553,"body_markdown":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of `getValue` this `GetValue` doesn&#39;t work","body":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of <code>getValue</code> this <code>GetValue</code> doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":334722,"reputation":13230,"user_id":661363,"accept_rate":94,"display_name":"xbakesx"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1366427041,"creation_date":1352840937,"answer_id":13368831,"question_id":12468764,"body_markdown":"**Actual Answer:**\r\n\r\nThe default deserializer for enums uses `.name()` to deserialize, so it&#39;s not using the `@JsonValue`.  So as @OldCurmudgeon pointed out, you&#39;d need to pass in `{&quot;event&quot;: &quot;FORGOT_PASSWORD&quot;}` to match the `.name()` value.\r\n\r\nAn other option (assuming you want the write and read json values to be the same)...\r\n\r\n**More Info:**\r\n\r\nThere is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:\r\n\r\n    @JsonSerialize(using = MySerializer.class)\r\n    @JsonDeserialize(using = MyDeserializer.class)\r\n    public final class MyClass {\r\n        ...\r\n    }\r\n\r\nThen you have to write `MySerializer` and `MyDeserializer` which look like this:\r\n\r\n**MySerializer**\r\n\r\n    public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n        {\r\n            // here you&#39;d write data to the stream with gen.write...() methods\r\n        }\r\n    \r\n    }\r\n\r\n**MyDeserializer**\r\n\r\n    public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n        {\r\n            // then you&#39;d do something like parser.getInt() or whatever to pull data off the parser\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nLast little bit, particularly for doing this to an enum `JsonEnum` that serializes with the method `getYourValue()`, your serializer and deserializer might look like this:\r\n\r\n\r\n    public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n    {\r\n        gen.writeString(enumValue.getYourValue());\r\n    }\r\n\r\n    public JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n    {\r\n        final String jsonValue = parser.getText();\r\n        for (final JsonEnum enumValue : JsonEnum.values())\r\n        {\r\n            if (enumValue.getYourValue().equals(jsonValue))\r\n            {\r\n                return enumValue;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p><strong>Actual Answer:</strong></p>\n\n<p>The default deserializer for enums uses <code>.name()</code> to deserialize, so it's not using the <code>@JsonValue</code>.  So as @OldCurmudgeon pointed out, you'd need to pass in <code>{\"event\": \"FORGOT_PASSWORD\"}</code> to match the <code>.name()</code> value.</p>\n\n<p>An other option (assuming you want the write and read json values to be the same)...</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>There is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:</p>\n\n<pre><code>@JsonSerialize(using = MySerializer.class)\n@JsonDeserialize(using = MyDeserializer.class)\npublic final class MyClass {\n    ...\n}\n</code></pre>\n\n<p>Then you have to write <code>MySerializer</code> and <code>MyDeserializer</code> which look like this:</p>\n\n<p><strong>MySerializer</strong></p>\n\n<pre><code>public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\n{\n    @Override\n    public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n    {\n        // here you'd write data to the stream with gen.write...() methods\n    }\n\n}\n</code></pre>\n\n<p><strong>MyDeserializer</strong></p>\n\n<pre><code>public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\n{\n    @Override\n    public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n    {\n        // then you'd do something like parser.getInt() or whatever to pull data off the parser\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Last little bit, particularly for doing this to an enum <code>JsonEnum</code> that serializes with the method <code>getYourValue()</code>, your serializer and deserializer might look like this:</p>\n\n<pre><code>public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n{\n    gen.writeString(enumValue.getYourValue());\n}\n\npublic JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n{\n    final String jsonValue = parser.getText();\n    for (final JsonEnum enumValue : JsonEnum.values())\n    {\n        if (enumValue.getYourValue().equals(jsonValue))\n        {\n            return enumValue;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1372753292,"creation_date":1372753292,"answer_id":17420756,"question_id":12468764,"body_markdown":"You should create a static factory method which takes single argument and annotate it with `@JsonCreator` (available since Jackson 1.2)\r\n\r\n    @JsonCreator\r\n    public static Event forValue(String value) { ... }\r\n\r\nRead more about JsonCreator annotation [here][1].\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html","title":"Jackson enum Serializing and DeSerializer","body":"<p>You should create a static factory method which takes single argument and annotate it with <code>@JsonCreator</code> (available since Jackson 1.2)</p>\n\n<pre><code>@JsonCreator\npublic static Event forValue(String value) { ... }\n</code></pre>\n\n<p>Read more about JsonCreator annotation <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"down_vote_count":3,"up_vote_count":344,"is_accepted":true,"score":341,"last_activity_date":1560513527,"creation_date":1386325415,"answer_id":20421494,"question_id":12468764,"body_markdown":"The serializer / deserializer solution pointed out by [*@xbakesx*][1] is an excellent one if you wish to completely decouple your *enum* class from its JSON representation.\r\n\r\nAlternatively, if you prefer a self-contained solution, an implementation based on `@JsonCreator` and `@JsonValue` annotations would be more convenient.\r\n\r\nSo leveraging on the example by [*@Stanley*][2] the following is a complete self-contained solution (Java 6, Jackson 1.9):\r\n\r\n    public enum DeviceScheduleFormat {\r\n\r\n        Weekday,\r\n        EvenOdd,\r\n        Interval;\r\n    \r\n        private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\r\n    \r\n        static {\r\n            namesMap.put(&quot;weekday&quot;, Weekday);\r\n            namesMap.put(&quot;even-odd&quot;, EvenOdd);\r\n            namesMap.put(&quot;interval&quot;, Interval);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static DeviceScheduleFormat forValue(String value) {\r\n            return namesMap.get(StringUtils.lowerCase(value));\r\n        }\r\n    \r\n        @JsonValue\r\n        public String toValue() {\r\n            for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\r\n                if (entry.getValue() == this)\r\n                    return entry.getKey();\r\n            }\r\n    \r\n            return null; // or fail\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13368831/814702\r\n  [2]: https://stackoverflow.com/a/17420756/814702","title":"Jackson enum Serializing and DeSerializer","body":"<p>The serializer / deserializer solution pointed out by <a href=\"https://stackoverflow.com/a/13368831/814702\"><em>@xbakesx</em></a> is an excellent one if you wish to completely decouple your <em>enum</em> class from its JSON representation.</p>\n\n<p>Alternatively, if you prefer a self-contained solution, an implementation based on <code>@JsonCreator</code> and <code>@JsonValue</code> annotations would be more convenient.</p>\n\n<p>So leveraging on the example by <a href=\"https://stackoverflow.com/a/17420756/814702\"><em>@Stanley</em></a> the following is a complete self-contained solution (Java 6, Jackson 1.9):</p>\n\n<pre><code>public enum DeviceScheduleFormat {\n\n    Weekday,\n    EvenOdd,\n    Interval;\n\n    private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\n\n    static {\n        namesMap.put(\"weekday\", Weekday);\n        namesMap.put(\"even-odd\", EvenOdd);\n        namesMap.put(\"interval\", Interval);\n    }\n\n    @JsonCreator\n    public static DeviceScheduleFormat forValue(String value) {\n        return namesMap.get(StringUtils.lowerCase(value));\n    }\n\n    @JsonValue\n    public String toValue() {\n        for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\n            if (entry.getValue() == this)\n                return entry.getKey();\n        }\n\n        return null; // or fail\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508823,"reputation":2709,"user_id":2181768,"accept_rate":80,"display_name":"lagivan"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1519806876,"creation_date":1404322624,"answer_id":24537575,"question_id":12468764,"body_markdown":"I&#39;ve found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write ```toString()``` method in your enum.\r\n\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n        @PostConstruct\r\n        public void customConfiguration() {\r\n            // Uses Enum.toString() for serialization of an Enum\r\n            this.enable(WRITE_ENUMS_USING_TO_STRING);\r\n            // Uses Enum.toString() for deserialization of an Enum\r\n            this.enable(READ_ENUMS_USING_TO_STRING);\r\n        }\r\n    }\r\n\r\nThere are more enum-related features available, see here:\r\n\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I've found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write <code>toString()</code> method in your enum.</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n    @PostConstruct\n    public void customConfiguration() {\n        // Uses Enum.toString() for serialization of an Enum\n        this.enable(WRITE_ENUMS_USING_TO_STRING);\n        // Uses Enum.toString() for deserialization of an Enum\n        this.enable(READ_ENUMS_USING_TO_STRING);\n    }\n}\n</code></pre>\n\n<p>There are more enum-related features available, see here:</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features</a>\n<a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"tags":[],"owner":{"account_id":5109291,"reputation":2901,"user_id":5364613,"display_name":"tif"},"down_vote_count":0,"up_vote_count":279,"is_accepted":false,"score":279,"last_activity_date":1600778515,"creation_date":1442944619,"answer_id":32723692,"question_id":12468764,"body_markdown":"Note that as of [this commit](https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933) in June 2015 (Jackson 2.6.2 and above) you can now simply write:\r\n\r\n    public enum Event {\r\n        @JsonProperty(&quot;forgot password&quot;)\r\n        FORGOT_PASSWORD;\r\n    }\r\n\r\nThe behavior is documented here: https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\r\n\r\n&gt;  Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:\r\n&gt;\r\n&gt;      public enum MyEnum {\r\n&gt;           @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\r\n&gt;           @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\r\n&gt;      }\r\n&gt;\r\n&gt; as an alternative to using JsonValue annotation.\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>Note that as of <a href=\"https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933\" rel=\"noreferrer\">this commit</a> in June 2015 (Jackson 2.6.2 and above) you can now simply write:</p>\n<pre><code>public enum Event {\n    @JsonProperty(&quot;forgot password&quot;)\n    FORGOT_PASSWORD;\n}\n</code></pre>\n<p>The behavior is documented here: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html</a></p>\n<blockquote>\n<p>Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:</p>\n<pre><code> public enum MyEnum {\n      @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\n      @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\n }\n</code></pre>\n<p>as an alternative to using JsonValue annotation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1465770969,"creation_date":1444339967,"answer_id":33026308,"question_id":12468764,"body_markdown":"You can customize the deserialization for any attribute.\r\n\r\nDeclare your deserialize class using the annotationJsonDeserialize (`import com.fasterxml.jackson.databind.annotation.JsonDeserialize`) for the attribute that will be processed. If this is an Enum:\r\n\r\n    @JsonDeserialize(using = MyEnumDeserialize.class)\r\n    private MyEnum myEnum;\r\n    \r\nThis way your class will be used to deserialize the attribute. This is a full example:\r\n\r\n    public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n    \t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n    \t\tMyEnum type = null;\r\n    \t\ttry{\r\n    \t\t\tif(node.get(&quot;attr&quot;) != null){\r\n    \t\t\t\ttype = MyEnum.get(Long.parseLong(node.get(&quot;attr&quot;).asText()));\r\n    \t\t\t\tif (type != null) {\r\n    \t\t\t\t\treturn type;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\ttype = null;\r\n    \t\t}\r\n            return type;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>You can customize the deserialization for any attribute.</p>\n\n<p>Declare your deserialize class using the annotationJsonDeserialize (<code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize</code>) for the attribute that will be processed. If this is an Enum:</p>\n\n<pre><code>@JsonDeserialize(using = MyEnumDeserialize.class)\nprivate MyEnum myEnum;\n</code></pre>\n\n<p>This way your class will be used to deserialize the attribute. This is a full example:</p>\n\n<pre><code>public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\n\n    @Override\n    public MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        MyEnum type = null;\n        try{\n            if(node.get(\"attr\") != null){\n                type = MyEnum.get(Long.parseLong(node.get(\"attr\").asText()));\n                if (type != null) {\n                    return type;\n                }\n            }\n        }catch(Exception e){\n            type = null;\n        }\n        return type;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3711378,"reputation":8168,"user_id":3088642,"accept_rate":91,"display_name":"Gremash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454110336,"creation_date":1454110336,"answer_id":35095995,"question_id":12468764,"body_markdown":"Here is another example that uses string values instead of a map.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public enum Operator {\r\n        EQUAL(new String[]{&quot;=&quot;,&quot;==&quot;,&quot;===&quot;}),\r\n        NOT_EQUAL(new String[]{&quot;!=&quot;,&quot;&lt;&gt;&quot;}),\r\n        LESS_THAN(new String[]{&quot;&lt;&quot;}),\r\n        LESS_THAN_EQUAL(new String[]{&quot;&lt;=&quot;}),\r\n        GREATER_THAN(new String[]{&quot;&gt;&quot;}),\r\n        GREATER_THAN_EQUAL(new String[]{&quot;&gt;=&quot;}),\r\n        EXISTS(new String[]{&quot;not null&quot;, &quot;exists&quot;}),\r\n        NOT_EXISTS(new String[]{&quot;is null&quot;, &quot;not exists&quot;}),\r\n        MATCH(new String[]{&quot;match&quot;});\r\n\r\n        private String[] value;\r\n\r\n        Operator(String[] value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String toStringOperator(){\r\n            return value[0];\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operator fromStringOperator(String stringOperator) {\r\n            if(stringOperator != null) {\r\n                for(Operator operator : Operator.values()) {\r\n                    for(String operatorString : operator.value) {\r\n                        if (stringOperator.equalsIgnoreCase(operatorString)) {\r\n                            return operator;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here is another example that uses string values instead of a map.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Operator {\n    EQUAL(new String[]{\"=\",\"==\",\"===\"}),\n    NOT_EQUAL(new String[]{\"!=\",\"&lt;&gt;\"}),\n    LESS_THAN(new String[]{\"&lt;\"}),\n    LESS_THAN_EQUAL(new String[]{\"&lt;=\"}),\n    GREATER_THAN(new String[]{\"&gt;\"}),\n    GREATER_THAN_EQUAL(new String[]{\"&gt;=\"}),\n    EXISTS(new String[]{\"not null\", \"exists\"}),\n    NOT_EXISTS(new String[]{\"is null\", \"not exists\"}),\n    MATCH(new String[]{\"match\"});\n\n    private String[] value;\n\n    Operator(String[] value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public String toStringOperator(){\n        return value[0];\n    }\n\n    @JsonCreator\n    public static Operator fromStringOperator(String stringOperator) {\n        if(stringOperator != null) {\n            for(Operator operator : Operator.values()) {\n                for(String operatorString : operator.value) {\n                    if (stringOperator.equalsIgnoreCase(operatorString)) {\n                        return operator;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472681862,"creation_date":1472681155,"answer_id":39259725,"question_id":12468764,"body_markdown":"There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import org.hibernate.validator.constraints.NotEmpty;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n\r\n    import static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\r\n\r\n    @JsonFormat(shape = OBJECT)\r\n    public enum FinancialAccountSubAccountType {\r\n      MAIN(&quot;Main&quot;),\r\n      MAIN_DISCOUNT(&quot;Main Discount&quot;);\r\n\r\n      private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\r\n      static {\r\n        ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\r\n          .collect(Collectors.toMap(\r\n            Enum::name,\r\n            Function.identity()));\r\n      }\r\n\r\n      private final String displayName;\r\n\r\n      FinancialAccountSubAccountType(String displayName) {\r\n        this.displayName = displayName;\r\n      }\r\n\r\n      @JsonCreator\r\n      public static FinancialAccountSubAccountType fromJson(Request request) {\r\n        return ENUM_NAME_MAP.get(request.getCode());\r\n      }\r\n\r\n      @JsonProperty(&quot;name&quot;)\r\n      public String getDisplayName() {\r\n        return displayName;\r\n      }\r\n\r\n      private static class Request {\r\n        @NotEmpty(message = &quot;Financial account sub-account type code is required&quot;)\r\n        private final String code;\r\n        private final String displayName;\r\n\r\n        @JsonCreator\r\n        private Request(@JsonProperty(&quot;code&quot;) String code,\r\n                        @JsonProperty(&quot;name&quot;) String displayName) {\r\n          this.code = code;\r\n          this.displayName = displayName;\r\n        }\r\n\r\n        public String getCode() {\r\n          return code;\r\n        }\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        public String getDisplayName() {\r\n          return displayName;\r\n        }\r\n      }\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.hibernate.validator.constraints.NotEmpty;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\n\n@JsonFormat(shape = OBJECT)\npublic enum FinancialAccountSubAccountType {\n  MAIN(\"Main\"),\n  MAIN_DISCOUNT(\"Main Discount\");\n\n  private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\n  static {\n    ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\n      .collect(Collectors.toMap(\n        Enum::name,\n        Function.identity()));\n  }\n\n  private final String displayName;\n\n  FinancialAccountSubAccountType(String displayName) {\n    this.displayName = displayName;\n  }\n\n  @JsonCreator\n  public static FinancialAccountSubAccountType fromJson(Request request) {\n    return ENUM_NAME_MAP.get(request.getCode());\n  }\n\n  @JsonProperty(\"name\")\n  public String getDisplayName() {\n    return displayName;\n  }\n\n  private static class Request {\n    @NotEmpty(message = \"Financial account sub-account type code is required\")\n    private final String code;\n    private final String displayName;\n\n    @JsonCreator\n    private Request(@JsonProperty(\"code\") String code,\n                    @JsonProperty(\"name\") String displayName) {\n      this.code = code;\n      this.displayName = displayName;\n    }\n\n    public String getCode() {\n      return code;\n    }\n\n    @JsonProperty(\"name\")\n    public String getDisplayName() {\n      return displayName;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532100363,"creation_date":1532100363,"answer_id":51445841,"question_id":12468764,"body_markdown":"In the context of an enum, using `@JsonValue` now (since 2.0) works for serialization *and* deserialization.\r\n\r\nAccording to the [jackson-annotations javadoc for `@JsonValue`][1]:\r\n\r\n&gt; NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\r\n\r\nSo having the `Event` enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.","title":"Jackson enum Serializing and DeSerializer","body":"<p>In the context of an enum, using <code>@JsonValue</code> now (since 2.0) works for serialization <em>and</em> deserialization.</p>\n\n<p>According to the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"noreferrer\">jackson-annotations javadoc for <code>@JsonValue</code></a>:</p>\n\n<blockquote>\n  <p>NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.</p>\n</blockquote>\n\n<p>So having the <code>Event</code> enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.</p>\n"},{"tags":[],"owner":{"account_id":1286492,"reputation":2812,"user_id":1239439,"display_name":"Yuantao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552502058,"creation_date":1552502058,"answer_id":55149048,"question_id":12468764,"body_markdown":"Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.\r\n\r\nSuch as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.","title":"Jackson enum Serializing and DeSerializer","body":"<p>Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.</p>\n\n<p>Such as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.</p>\n"},{"tags":[],"owner":{"account_id":4346027,"reputation":151,"user_id":3547944,"display_name":"Durga"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590905896,"creation_date":1554413398,"answer_id":55525196,"question_id":12468764,"body_markdown":"Try this.\r\n\r\n    public enum Event {\r\n    \t\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n    \tprivate final String value;\r\n    \r\n    \tprivate Event(final String description) {\r\n    \t\tthis.value = description;\r\n    \t}\r\n    \r\n    \tprivate Event() {\r\n    \t\tthis.value = this.name();\r\n    \t}\r\n    \r\n    \t@JsonValue\r\n    \tfinal String value() {\r\n    \t\treturn this.value;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Try this.</p>\n\n<pre><code>public enum Event {\n\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    private Event() {\n        this.value = this.name();\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559131570,"creation_date":1559131241,"answer_id":56360153,"question_id":12468764,"body_markdown":"The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum MyEnum{\r\n\t    ....\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MyEnum{\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346494,"reputation":447,"user_id":2811560,"display_name":"Flavio Sousa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583851181,"creation_date":1583851181,"answer_id":60619890,"question_id":12468764,"body_markdown":"In my case, this is what resolved:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum PeriodEnum {\r\n\r\n    DAILY(1),\r\n    WEEKLY(2),\r\n    ;\r\n\r\n    private final int id;\r\n\r\n    PeriodEnum(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name();\r\n    }\r\n\r\n    @JsonCreator\r\n    public static PeriodEnum fromJson(@JsonProperty(&quot;name&quot;) String name) {\r\n        return valueOf(name);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSerializes and deserializes the following json:\r\n```json\r\n{\r\n  &quot;id&quot;: 2,\r\n  &quot;name&quot;: &quot;WEEKLY&quot;\r\n}\r\n```\r\n\r\nI hope it helps!\r\n\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>In my case, this is what resolved:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum PeriodEnum {\n\n    DAILY(1),\n    WEEKLY(2),\n    ;\n\n    private final int id;\n\n    PeriodEnum(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return this.name();\n    }\n\n    @JsonCreator\n    public static PeriodEnum fromJson(@JsonProperty(\"name\") String name) {\n        return valueOf(name);\n    }\n}\n\n</code></pre>\n\n<p>Serializes and deserializes the following json:</p>\n\n<pre><code>{\n  \"id\": 2,\n  \"name\": \"WEEKLY\"\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4722924,"reputation":121,"user_id":3820358,"display_name":"bastien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593683715,"creation_date":1593683715,"answer_id":62693660,"question_id":12468764,"body_markdown":"I did it like this :\r\n\r\n```\r\n// Your JSON\r\n{&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\n// Your class to map \r\npublic class LoggingDto {\r\n    @JsonProperty(value = &quot;event&quot;)\r\n    private FooEnum logType;\r\n}\r\n\r\n//Your enum\r\npublic enum FooEnum {\r\n\r\n    DATA_LOG (&quot;Dummy 1&quot;),\r\n    DATA2_LOG (&quot;Dummy 2&quot;),\r\n    DATA3_LOG (&quot;forgot password&quot;),\r\n    DATA4_LOG (&quot;Dummy 4&quot;),\r\n    DATA5_LOG (&quot;Dummy 5&quot;),\r\n    UNKNOWN (&quot;&quot;);\r\n\r\n    private String fullName;\r\n\r\n    FooEnum(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    @JsonCreator\r\n    public static FooEnum getLogTypeFromFullName(String fullName) {\r\n        for (FooEnum logType : FooEnum.values()) {\r\n            if (logType.fullName.equals(fullName)) {\r\n                return logType;\r\n            }\r\n        }\r\n        return UNKNOWN;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSo the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG","title":"Jackson enum Serializing and DeSerializer","body":"<p>I did it like this :</p>\n<pre><code>// Your JSON\n{&quot;event&quot;:&quot;forgot password&quot;}\n\n// Your class to map \npublic class LoggingDto {\n    @JsonProperty(value = &quot;event&quot;)\n    private FooEnum logType;\n}\n\n//Your enum\npublic enum FooEnum {\n\n    DATA_LOG (&quot;Dummy 1&quot;),\n    DATA2_LOG (&quot;Dummy 2&quot;),\n    DATA3_LOG (&quot;forgot password&quot;),\n    DATA4_LOG (&quot;Dummy 4&quot;),\n    DATA5_LOG (&quot;Dummy 5&quot;),\n    UNKNOWN (&quot;&quot;);\n\n    private String fullName;\n\n    FooEnum(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    @JsonCreator\n    public static FooEnum getLogTypeFromFullName(String fullName) {\n        for (FooEnum logType : FooEnum.values()) {\n            if (logType.fullName.equals(fullName)) {\n                return logType;\n            }\n        }\n        return UNKNOWN;\n    }\n\n\n}\n</code></pre>\n<p>So the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG</p>\n"},{"tags":[],"owner":{"account_id":8074503,"reputation":176,"user_id":6086037,"display_name":"Evgeniy Sokolov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1616519857,"creation_date":1616515714,"answer_id":66766953,"question_id":12468764,"body_markdown":"I like the [accepted answer][1]. However, I would improve it a little (considering that there is now Java higher than version 6 available). \r\n\r\nExample: \r\n```\r\n    public enum Operation {\r\n        EQUAL(&quot;eq&quot;),\r\n        NOT_EQUAL(&quot;ne&quot;),\r\n        LESS_THAN(&quot;lt&quot;),\r\n        GREATER_THAN(&quot;gt&quot;);\r\n\r\n        private final String value;\r\n\r\n        Operation(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operation forValue(String value) {\r\n            return Arrays.stream(Operation.values())\r\n                .filter(op -&gt; op.getValue().equals(value))\r\n                .findFirst()\r\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20421494/10871073","title":"Jackson enum Serializing and DeSerializer","body":"<p>I like the <a href=\"https://stackoverflow.com/a/20421494/10871073\">accepted answer</a>. However, I would improve it a little (considering that there is now Java higher than version 6 available).</p>\n<p>Example:</p>\n<pre><code>    public enum Operation {\n        EQUAL(&quot;eq&quot;),\n        NOT_EQUAL(&quot;ne&quot;),\n        LESS_THAN(&quot;lt&quot;),\n        GREATER_THAN(&quot;gt&quot;);\n\n        private final String value;\n\n        Operation(String value) {\n            this.value = value;\n        }\n\n        @JsonValue\n        public String getValue() {\n            return value;\n        }\n\n        @JsonCreator\n        public static Operation forValue(String value) {\n            return Arrays.stream(Operation.values())\n                .filter(op -&gt; op.getValue().equals(value))\n                .findFirst()\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261778,"reputation":1,"user_id":3485970,"display_name":"Dufayel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630070623,"creation_date":1630069519,"answer_id":68953926,"question_id":12468764,"body_markdown":"This post is old, but if it can help someone, use JsonFormat.Shape.STRING\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    public enum SomeEnum{\r\n        @JsonProperty(&quot;SOME_PROPERTY&quot;)\r\n        someProperty,\r\n        ...\r\n    }\r\n\r\nCode results is like this\r\n\r\n    {&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}","title":"Jackson enum Serializing and DeSerializer","body":"<p>This post is old, but if it can help someone, use JsonFormat.Shape.STRING</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING)\npublic enum SomeEnum{\n    @JsonProperty(&quot;SOME_PROPERTY&quot;)\n    someProperty,\n    ...\n}\n</code></pre>\n<p>Code results is like this</p>\n<pre><code>{&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2235815,"reputation":884,"user_id":1972234,"display_name":"sujith s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638338059,"creation_date":1638337473,"answer_id":70179636,"question_id":12468764,"body_markdown":"    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum LoginOptionType {\r\n\r\n\t PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\r\n\r\n\tprivate static List&lt;LoginOptionType&gt; all;\r\n\r\n\tstatic {\r\n\t\tall = new ArrayList&lt;LoginOptionType&gt;() {\r\n\t\t\t{\r\n\t\t\t\tadd(LoginOptionType.PHONE);\r\n\t\t\t\tadd(LoginOptionType.MAIL);\r\n\t\t\t\tadd(LoginOptionType.PERSONAL_EMAIL);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate final Integer viewValue;\r\n\r\n\tprivate final String name;\r\n\r\n\tLoginOptionType(Integer viewValue, String name) {\r\n\t\tthis.viewValue = viewValue;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Integer getViewValue() {\r\n\t\treturn viewValue;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic static List&lt;LoginOptionType&gt; getAll() {\r\n\t\treturn all;\r\n\t}\r\n    }\r\n\r\n&gt; Response\r\n\r\n    [\r\n    {\r\n        &quot;viewValue&quot;: 1,\r\n        &quot;name&quot;: &quot;Phone&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 2,\r\n        &quot;name&quot;: &quot;mail&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 3,\r\n        &quot;name&quot;: &quot;Personal email&quot;\r\n    }\r\n    ]","title":"Jackson enum Serializing and DeSerializer","body":"<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum LoginOptionType {\n\n PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\n\nprivate static List&lt;LoginOptionType&gt; all;\n\nstatic {\n    all = new ArrayList&lt;LoginOptionType&gt;() {\n        {\n            add(LoginOptionType.PHONE);\n            add(LoginOptionType.MAIL);\n            add(LoginOptionType.PERSONAL_EMAIL);\n        }\n    };\n}\n\nprivate final Integer viewValue;\n\nprivate final String name;\n\nLoginOptionType(Integer viewValue, String name) {\n    this.viewValue = viewValue;\n    this.name = name;\n}\n\npublic Integer getViewValue() {\n    return viewValue;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic static List&lt;LoginOptionType&gt; getAll() {\n    return all;\n}\n}\n</code></pre>\n<blockquote>\n<p>Response</p>\n</blockquote>\n<pre><code>[\n{\n    &quot;viewValue&quot;: 1,\n    &quot;name&quot;: &quot;Phone&quot;\n},\n{\n    &quot;viewValue&quot;: 2,\n    &quot;name&quot;: &quot;mail&quot;\n},\n{\n    &quot;viewValue&quot;: 3,\n    &quot;name&quot;: &quot;Personal email&quot;\n}\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664361924,"creation_date":1664361924,"answer_id":73880147,"question_id":12468764,"body_markdown":"Here, &#39;value&#39; acts as a deserialiser and &#39;namespace&#39; acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    public enum AttendanceEnums {\r\n        STUDENT_PRESENT,\r\n        @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\r\n        STUDENT_ABSENT;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here, 'value' acts as a deserialiser and 'namespace' acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\npublic enum AttendanceEnums {\n    STUDENT_PRESENT,\n    @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\n    STUDENT_ABSENT;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466270,"reputation":1285,"user_id":870916,"accept_rate":75,"display_name":"Phill Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666453337,"creation_date":1666395258,"answer_id":74160058,"question_id":12468764,"body_markdown":"I had been looking for a solution to enum serialization and I finally made a solution.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization\r\n\r\nhttps://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\r\n\r\nIt uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don&#39;t have to have a subclass of EnumerationDeserializer.\r\n\r\n\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\r\n    enum RGB {\r\n    \tRED,\r\n    \tGREEN,\r\n    \tBLUE\r\n    }\r\n\r\nNotice how the implementation of ContextualDeserializer pulls the class from the annotation.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\r\n\r\n\r\nThere is a lot of good code in this that might give insights.\r\n\r\nFor your specific question you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        //This annotation is optional because the code looks for value or alias.\r\n        @EnumJson(serializeProjection = Projection.VALUE)\r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nOr you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nThat&#39;s all you have to do.\r\n\r\nThen if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.\r\n\r\n    class EventHolder {\r\n    \t@EnumJson(serializeProjection = Projection.NAME)\r\n    \tEvent someEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.ORDINAL)\r\n    \tEvent someOtherEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.VALUE)\r\n    \tEvent yetAnotherEvent;\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I had been looking for a solution to enum serialization and I finally made a solution.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization</a></p>\n<p><a href=\"https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\" rel=\"nofollow noreferrer\">https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html</a></p>\n<p>It uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don't have to have a subclass of EnumerationDeserializer.</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\nenum RGB {\n    RED,\n    GREEN,\n    BLUE\n}\n</code></pre>\n<p>Notice how the implementation of ContextualDeserializer pulls the class from the annotation.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java</a></p>\n<p>There is a lot of good code in this that might give insights.</p>\n<p>For your specific question you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    //This annotation is optional because the code looks for value or alias.\n    @EnumJson(serializeProjection = Projection.VALUE)\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>Or you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>That's all you have to do.</p>\n<p>Then if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.</p>\n<pre><code>class EventHolder {\n    @EnumJson(serializeProjection = Projection.NAME)\n    Event someEvent;\n\n    @EnumJson(serializeProjection = Projection.ORDINAL)\n    Event someOtherEvent;\n\n    @EnumJson(serializeProjection = Projection.VALUE)\n    Event yetAnotherEvent;\n}\n</code></pre>\n"}],"owner":{"account_id":1461922,"reputation":3031,"user_id":1376000,"accept_rate":40,"display_name":"pookieman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352998,"favorite_count":0,"down_vote_count":1,"up_vote_count":289,"accepted_answer_id":20421494,"answer_count":19,"score":288,"last_activity_date":1666453337,"creation_date":1347927164,"question_id":12468764,"body_markdown":"I&#39;m using JAVA 1.6 and Jackson 1.9.9 I&#39;ve got an enum\r\n\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n\r\n        private final String value;\r\n\r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n\r\n        @JsonValue\r\n        final String value() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nI&#39;ve added a @JsonValue, this seems to do the job it serializes the object into:\r\n\r\n    {&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\nbut when I try to deserialize I get a\r\n\r\n    Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value &#39;forgot password&#39;: value not one of declared Enum instance names\r\n\r\nWhat am I missing here?","title":"Jackson enum Serializing and DeSerializer","body":"<p>I'm using JAVA 1.6 and Jackson 1.9.9 I've got an enum</p>\n\n<pre><code>public enum Event {\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>I've added a @JsonValue, this seems to do the job it serializes the object into:</p>\n\n<pre><code>{\"event\":\"forgot password\"}\n</code></pre>\n\n<p>but when I try to deserialize I get a</p>\n\n<pre><code>Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value 'forgot password': value not one of declared Enum instance names\n</code></pre>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","loops","methods","restart"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1453028037,"post_id":34837441,"comment_id":57415811,"body_markdown":"Use a `while` or `do` loop to restart the game based on user input.","body":"Use a <code>while</code> or <code>do</code> loop to restart the game based on user input."},{"owner":{"account_id":49167,"reputation":144571,"user_id":146325,"display_name":"APC"},"score":0,"creation_date":1453028164,"post_id":34837441,"comment_id":57415843,"body_markdown":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be *Yes* not *No*.","body":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be <i>Yes</i> not <i>No</i>."}],"answers":[{"tags":[],"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453028378,"creation_date":1453028092,"answer_id":34837492,"question_id":34837441,"body_markdown":"Given the current state of your program, the &lt;s&gt;easiest&lt;/s&gt; &lt;s&gt;simplest&lt;/s&gt; most &lt;s&gt;straightforward&lt;/s&gt; readable method is recursion. Just call your game method again. Note that there&#39;s probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.\r\n\r\n    else{\r\n        game();\r\n    }\r\nLoop method: declare `play` at the beginning and use a loop:\r\n\r\n    private static void game(){\r\n        boolean play = true;\r\n        while (play){\r\n            //...\r\n            //find out if user wants to play again\r\n            //set play to false if player doesn&#39;t want to play anymore\r\n        }\r\n    }","title":"How to restart a program from a method","body":"<p>Given the current state of your program, the <s>easiest</s> <s>simplest</s> most <s>straightforward</s> readable method is recursion. Just call your game method again. Note that there's probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.</p>\n\n<pre><code>else{\n    game();\n}\n</code></pre>\n\n<p>Loop method: declare <code>play</code> at the beginning and use a loop:</p>\n\n<pre><code>private static void game(){\n    boolean play = true;\n    while (play){\n        //...\n        //find out if user wants to play again\n        //set play to false if player doesn't want to play anymore\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1149888,"reputation":1033,"user_id":1131828,"display_name":"Hamdi Douss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453028408,"creation_date":1453028408,"answer_id":34837553,"question_id":34837441,"body_markdown":"If you just want to make it work you can do something like this :\r\n\r\n    private static void game()//game method\r\n    {\r\n        boolean exit = false;\r\n        while(!exit){\r\n            //...int play = JOptionPane.showOptionDialog(null,&quot;Play Again?&quot;, &quot;Do you want to play again?&quot;, JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\r\n           //end of game\r\n    \r\n    \r\n            if (play == 0) {\r\n                exit = true;\r\n            }\r\n\r\n        }          \r\n            System.exit(0);//exit \r\nBut a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.","title":"How to restart a program from a method","body":"<p>If you just want to make it work you can do something like this :</p>\n\n<pre><code>private static void game()//game method\n{\n    boolean exit = false;\n    while(!exit){\n        //...int play = JOptionPane.showOptionDialog(null,\"Play Again?\", \"Do you want to play again?\", JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\n       //end of game\n\n\n        if (play == 0) {\n            exit = true;\n        }\n\n    }          \n        System.exit(0);//exit \n</code></pre>\n\n<p>But a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.</p>\n"},{"tags":[],"owner":{"account_id":6739555,"reputation":2184,"user_id":5193194,"display_name":"karim mohsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453028581,"creation_date":1453028581,"answer_id":34837586,"question_id":34837441,"body_markdown":"Extract the `JOptionPane` part from your `game()` function code\r\n\r\n    int play=0;\r\n    do{\r\n    game();\r\n    play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]); \r\n    }while(play);","title":"How to restart a program from a method","body":"<p>Extract the <code>JOptionPane</code> part from your <code>game()</code> function code</p>\n\n<pre><code>int play=0;\ndo{\ngame();\nplay = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]); \n}while(play);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24183482,"reputation":1,"user_id":18143792,"display_name":"Samwel001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666453181,"creation_date":1666453181,"answer_id":74164877,"question_id":34837441,"body_markdown":"You can use this method which i am very sure will work in your program since it is something that i have done before. You&#39;ll use Desktop class of the system that will initiate the opening of the program. The program will look like this\r\n```\r\npublic static void restart()\r\n{\r\nDesktop desktop = Desktop.getDesktop();\r\n\ttry {\r\n\t\tdesktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\r\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\r\n\t\t} catch (IOException e) {\r\n\t\t\t//if this happen try looking whether the name of your jar file is correct\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n}\r\nprivate static void game() //game method\r\n{\r\n    //...\r\n\r\n   int play = JOptionPane.showOptionDialog(null\r\n                   ,&quot;End&quot;\r\n                   , &quot;Do you want to play again?&quot;\r\n                   , JOptionPane.PLAIN_MESSAGE\r\n                   ,JOptionPane.DEFAULT_OPTION\r\n                   , null\r\n                   , again\r\n                   , again[1]);\r\n   //end of game\r\n    if (play == 0)\r\n        System.exit(0);//exit\r\n    else\r\n         /* what do I put here to restart the program in the same \r\n            after pressing the No button on the JOptionPane???    */        \r\n         System.out.println(&quot;Service not available&quot;);  \r\n       restart();//this will reopen your jar/exe file\r\n       System.exit(0);\r\n}\r\n```","title":"How to restart a program from a method","body":"<p>You can use this method which i am very sure will work in your program since it is something that i have done before. You'll use Desktop class of the system that will initiate the opening of the program. The program will look like this</p>\n<pre><code>public static void restart()\n{\nDesktop desktop = Desktop.getDesktop();\n    try {\n        desktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\n        } catch (IOException e) {\n            //if this happen try looking whether the name of your jar file is correct\n            e.printStackTrace();\n        }\n}\nprivate static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,&quot;End&quot;\n                   , &quot;Do you want to play again?&quot;\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(&quot;Service not available&quot;);  \n       restart();//this will reopen your jar/exe file\n       System.exit(0);\n}\n</code></pre>\n"}],"owner":{"account_id":5548328,"reputation":23,"user_id":4402294,"display_name":"Robolt Activator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39059,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":34837553,"answer_count":4,"score":1,"last_activity_date":1666453181,"creation_date":1453027640,"question_id":34837441,"body_markdown":"I&#39;m a beginner in Java and I am making a basic game for practice. I&#39;m almost done, but I have one further obstacle to overcome. \r\n\r\nI would like to know how to make the game loop on the `game()` method after pressing *no* as a choice when asked whether to end the game.\r\n\r\nHere is my code:\r\n\r\n\tprivate static void game() //game method\r\n\t{\r\n\t\t//...\r\n\r\n\t   int play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]);\r\n\t   //end of game\r\n\t  \r\n\t    if (play == 0)\r\n\t    \tSystem.exit(0);//exit\r\n\t    else\r\n             /* what do I put here to restart the program in the same method(game()) \r\n                after pressing the No button on the JOptionPane???    */        \r\n\t    \t System.out.println(&quot;Service not available&quot;);  \r\n\r\n\r\nTo anybody who can help, I thank you very much!\r\n\r\n\r\n","title":"How to restart a program from a method","body":"<p>I'm a beginner in Java and I am making a basic game for practice. I'm almost done, but I have one further obstacle to overcome. </p>\n\n<p>I would like to know how to make the game loop on the <code>game()</code> method after pressing <em>no</em> as a choice when asked whether to end the game.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>private static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same method(game()) \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(\"Service not available\");  \n</code></pre>\n\n<p>To anybody who can help, I thank you very much!</p>\n"},{"tags":["java","arrays","list","rotation","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666397528,"post_id":74159975,"comment_id":130935155,"body_markdown":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?","body":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666398624,"post_id":74159975,"comment_id":130935283,"body_markdown":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order.","body":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666498970,"post_id":74159975,"comment_id":130949729,"body_markdown":"Here are three ways demonstrated online: https://rextester.com/MUKZY76895. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list.","body":"Here are three ways demonstrated online: <a href=\"https://rextester.com/MUKZY76895\" rel=\"nofollow noreferrer\">rextester.com/MUKZY76895</a>. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667383908,"post_id":74159975,"comment_id":131152445,"body_markdown":"Related: [Get weekdays in order by locale](https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale)","body":"Related: <a href=\"https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale\">Get weekdays in order by locale</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666394157,"creation_date":1666394157,"answer_id":74159976,"question_id":74159975,"body_markdown":"# tl;dr\r\n\r\n```java\r\nCollections.rotate( \r\n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\r\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n)\r\n```\r\n\r\n# Details\r\n\r\nFortunately, you need not do the list-rotation work yourself. The `Collections` utility class offers a [`rotate`][1] method. Pass your list along with an offset. \r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)\r\n&gt;\r\n&gt;For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].\r\n\r\n```java\r\nfinal List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\r\nLocale locale = Locale.US ;\r\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\r\nCollections.rotate( localeOrder , distance ) ;\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( iso8601 ) ;\r\nSystem.out.println( localeOrder ) ;\r\nSystem.out.println( distance ) ;\r\n```\r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n&gt;[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]\r\n&gt;\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n&gt;\r\n&gt;-6\r\n\r\nOr more briefly:\r\n\r\n```java\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \r\nCollections.rotate( \r\n\tlocaleOrder , \r\n\tDayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n) ;\r\n```\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\r\n  [2]: https://ideone.com/adxKDY\r\n  [3]: https://ideone.com/bCXbgA","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.rotate( \n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n)\n</code></pre>\n<h1>Details</h1>\n<p>Fortunately, you need not do the list-rotation work yourself. The <code>Collections</code> utility class offers a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\" rel=\"nofollow noreferrer\"><code>rotate</code></a> method. Pass your list along with an offset.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)</p>\n<p>For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\nLocale locale = Locale.US ;\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\nCollections.rotate( localeOrder , distance ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( iso8601 ) ;\nSystem.out.println( localeOrder ) ;\nSystem.out.println( distance ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/adxKDY\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</p>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n<p>-6</p>\n</blockquote>\n<p>Or more briefly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \nCollections.rotate( \n    localeOrder , \n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/bCXbgA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666397976,"creation_date":1666397546,"answer_id":74160219,"question_id":74159975,"body_markdown":"Here&#39;s how it can be done using [`List.subList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)) and [`Stream.concat()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)).\r\n\r\n**The core idea**\r\n\r\nThe rotated list can be constructed from two parts:\r\n\r\n* From the first day of the week to Sunday (inclusive);\r\n* From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nDayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\r\n    \r\nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\r\n        \r\nList&lt;DayOfWeek&gt; rotated = Stream.concat(\r\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\r\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\r\n).toList();\r\n        \r\nrotated.forEach(System.out::println); // printing the result\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nSUNDAY\r\nMONDAY\r\nTUESDAY\r\nWEDNESDAY\r\nTHURSDAY\r\nFRIDAY\r\nSATURDAY\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/xN5)","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Here's how it can be done using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\"><code>List.subList()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\"><code>Stream.concat()</code></a>.</p>\n<p><strong>The core idea</strong></p>\n<p>The rotated list can be constructed from two parts:</p>\n<ul>\n<li>From the first day of the week to Sunday (inclusive);</li>\n<li>From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\n    \nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\n        \nList&lt;DayOfWeek&gt; rotated = Stream.concat(\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\n).toList();\n        \nrotated.forEach(System.out::println); // printing the result\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>SUNDAY\nMONDAY\nTUESDAY\nWEDNESDAY\nTHURSDAY\nFRIDAY\nSATURDAY\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/xN5\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666452929,"creation_date":1666394157,"question_id":74159975,"body_markdown":"Given we can determine the first day of the week by soft-coding with [`Locale`][1]:\r\n\r\n    DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\n\r\n… and given that Java comes with a built-in enum defining days of the week, [DayOfWeek][2]:\r\n\r\n    DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\r\n\r\nHow can we create another array or a list of whose elements are the `DayOfWeek`  enum objects rearranged in order defined by our specified locale?\r\n\r\nThe goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular `Locale`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Given we can determine the first day of the week by soft-coding with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\n</code></pre>\n<p>… and given that Java comes with a built-in enum defining days of the week, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">DayOfWeek</a>:</p>\n<pre><code>DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\n</code></pre>\n<p>How can we create another array or a list of whose elements are the <code>DayOfWeek</code>  enum objects rearranged in order defined by our specified locale?</p>\n<p>The goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular <code>Locale</code>.</p>\n"},{"tags":["java","json","org.json","jsonexception"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666451698,"creation_date":1666451676,"answer_id":74164741,"question_id":74152664,"body_markdown":"This could be one of the solution\r\n```\r\nvar jsonObject = new JSONObject(json);\r\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\r\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\r\n```\r\n        ","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This could be one of the solution</p>\n<pre><code>var jsonObject = new JSONObject(json);\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\n</code></pre>\n"}],"owner":{"account_id":26691798,"reputation":1,"user_id":20300275,"display_name":"Avinash Sirohi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666451698,"creation_date":1666350091,"question_id":74152664,"body_markdown":"\r\nThis is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.\r\n\r\n***{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}***\r\n\r\n\r\n    ```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\r\n\r\n\r\n\r\nErr - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.</p>\n<p><em><strong>{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}</strong></em></p>\n<pre><code>```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\n</code></pre>\n<p>Err - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.</p>\n"},{"tags":["java","reactive-programming","quarkus","mutiny","quarkus-reactive"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666310155,"post_id":74146687,"comment_id":130912818,"body_markdown":"SQL has `union all` operation.","body":"SQL has <code>union all</code> operation."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1666370136,"post_id":74146687,"comment_id":130928837,"body_markdown":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly.","body":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666451617,"creation_date":1666353726,"answer_id":74153326,"question_id":74146687,"body_markdown":"Instead of returning it as a `Tuple`, you could return it as a `Map`:\r\n```\r\n\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;methods&quot;, map ) );\r\n\r\n\t\treturn Uni.combine().all().unis( uni1, uni2 )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} ); \r\n```\r\n\r\nBut the result will look like this (different than the example in the question):\r\n```\r\n{\r\n  &quot;addresses&quot;: [\r\n    { &quot;1.2.3.4&quot;: 10},\r\n    { &quot;5.6.7.3&quot;: 15},\r\n  ],\r\n  &quot;methods&quot;: [\r\n    { &quot;GET&quot;: 7 }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nI don&#39;t think I would convert everything to a `Multi` and then convert it back to a `Uni`. This will return the JSON you mention in the question:\r\n\r\n```\r\n    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\r\n        ...\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\r\n\r\n\t\treturn Uni.combine().all().unis( addressesUni, methodsUni )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} );\r\n    }\r\n\r\n\tprivate static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\r\n\t\treturn rowSetUni.map( rowSet -&gt; {\r\n\t\t\tif ( rowSet.size() &gt; 0 ) {\r\n\t\t\t\tList&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n\t\t\t\trowSet.forEach( row -&gt; {\r\n\t\t\t\t\tresultList.add( Map.of(\r\n\t\t\t\t\t\t\tsingular, row.getString( singular ),\r\n\t\t\t\t\t\t\t&quot;requests&quot;, row.getInteger( &quot;requests&quot; )\r\n\t\t\t\t\t) );\r\n\t\t\t\t} );\r\n\t\t\t\treturn Map.of( plural, resultList );\r\n\t\t\t}\r\n\t\t\treturn Collections.emptyMap();\r\n\t\t} );\r\n\t}\r\n```\r\n\r\nAssuming that all results from the queries look the same.\r\n\r\nNote that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the [session cannot be used for parallel operations][1], you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.\r\n\r\n\r\n  [1]: https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>Instead of returning it as a <code>Tuple</code>, you could return it as a <code>Map</code>:</p>\n<pre><code>\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\n                .toUni()\n                .map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\n                .toUni()\n                .map( map -&gt; Map.of( &quot;methods&quot;, map ) );\n\n        return Uni.combine().all().unis( uni1, uni2 )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } ); \n</code></pre>\n<p>But the result will look like this (different than the example in the question):</p>\n<pre><code>{\n  &quot;addresses&quot;: [\n    { &quot;1.2.3.4&quot;: 10},\n    { &quot;5.6.7.3&quot;: 15},\n  ],\n  &quot;methods&quot;: [\n    { &quot;GET&quot;: 7 }\n  ]\n}\n\n</code></pre>\n<p>I don't think I would convert everything to a <code>Multi</code> and then convert it back to a <code>Uni</code>. This will return the JSON you mention in the question:</p>\n<pre><code>    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\n        ...\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Uni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\n        Uni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\n\n        return Uni.combine().all().unis( addressesUni, methodsUni )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } );\n    }\n\n    private static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\n        return rowSetUni.map( rowSet -&gt; {\n            if ( rowSet.size() &gt; 0 ) {\n                List&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\n                rowSet.forEach( row -&gt; {\n                    resultList.add( Map.of(\n                            singular, row.getString( singular ),\n                            &quot;requests&quot;, row.getInteger( &quot;requests&quot; )\n                    ) );\n                } );\n                return Map.of( plural, resultList );\n            }\n            return Collections.emptyMap();\n        } );\n    }\n</code></pre>\n<p>Assuming that all results from the queries look the same.</p>\n<p>Note that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the <a href=\"https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts\" rel=\"nofollow noreferrer\">session cannot be used for parallel operations</a>, you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.</p>\n"}],"owner":{"account_id":20125651,"reputation":13,"user_id":15762382,"display_name":"Jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74153326,"answer_count":1,"score":1,"last_activity_date":1666451617,"creation_date":1666302817,"question_id":74146687,"body_markdown":"I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:\r\n```json\r\n{\r\n\t&quot;addresses&quot;: [\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;1.2.3.4&quot;,\r\n\t\t\t&quot;requests&quot;: 10\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;5.6.7.8&quot;,\r\n\t\t\t&quot;requests&quot;: 5\r\n\t\t}\r\n\t],\r\n\t&quot;methods&quot;: [\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;GET&quot;,\r\n\t\t\t&quot;requests&quot;: 14\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;POST&quot;,\r\n\t\t\t&quot;requests&quot;: 1\r\n\t\t}\r\n\t],\r\n\t&quot;paths&quot;: [\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;/index&quot;,\r\n\t\t\t&quot;requests&quot;: 15\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\n\r\n```sql\r\nselect address, count(address) as requests\r\nfrom logs\r\ngroup by address\r\norder by requests desc\r\n```\r\n```sql\r\nselect method, count(method) as requests\r\nfrom logs\r\ngroup by method\r\norder by requests desc\r\n```\r\n```sql\r\nselect path, count(path) as requests\r\nfrom logs\r\ngroup by path\r\norder by requests desc\r\n```\r\n\r\nSo this endpoint should execute 3 queries to get these 3 resultsets.\r\n\r\n\r\nThis is my first reactive/mutiny project so ive come as far as the tutorials go:\r\n```java\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getOne&quot;)\r\n\tpublic Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\r\n\r\n\t\tString select = &quot;select address, count(address) as requests&quot; \r\n\t\t\t\t\t + &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\r\n\r\n\t\treturn set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\r\n\t\t\t\t.transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\t}\r\n```\r\n\r\nThis already returns the array of ips and their requests. \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  {\r\n    &quot;5.6.7.8&quot;: 5\r\n  }\r\n]\r\n``` \r\nI am now struggling to combine 2 resultsets into one response object:\r\n```java\r\n\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getCombined&quot;)\r\n\tpublic Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\r\n\r\n\t\tString selectIps = &quot;select address, count(address) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tString selectMethods = &quot;select method, count(method) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by method order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\treturn Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\r\n\t}\r\n```\r\nthis seems to go in the right direction but i end up having my arrays converted to objects:\r\n```json\r\n{\r\n  &quot;item1&quot;: {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  &quot;item2&quot;: {\r\n    &quot;GET&quot;: 7\r\n  }\r\n}\r\n```\r\nHow can i **combine multiple resultsets into one**, to return one response object like the one at the top?\r\n\r\n","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;addresses&quot;: [\n        {\n            &quot;address&quot;: &quot;1.2.3.4&quot;,\n            &quot;requests&quot;: 10\n        },\n        {\n            &quot;address&quot;: &quot;5.6.7.8&quot;,\n            &quot;requests&quot;: 5\n        }\n    ],\n    &quot;methods&quot;: [\n        {\n            &quot;method&quot;: &quot;GET&quot;,\n            &quot;requests&quot;: 14\n        },\n        {\n            &quot;method&quot;: &quot;POST&quot;,\n            &quot;requests&quot;: 1\n        }\n    ],\n    &quot;paths&quot;: [\n        {\n            &quot;path&quot;: &quot;/index&quot;,\n            &quot;requests&quot;: 15\n        }\n    ]\n}\n\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select address, count(address) as requests\nfrom logs\ngroup by address\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select method, count(method) as requests\nfrom logs\ngroup by method\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select path, count(path) as requests\nfrom logs\ngroup by path\norder by requests desc\n</code></pre>\n<p>So this endpoint should execute 3 queries to get these 3 resultsets.</p>\n<p>This is my first reactive/mutiny project so ive come as far as the tutorials go:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getOne&quot;)\n    public Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\n\n        String select = &quot;select address, count(address) as requests&quot; \n                     + &quot; from logs group by address order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\n\n        return set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\n                .transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n    }\n</code></pre>\n<p>This already returns the array of ips and their requests.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;1.2.3.4&quot;: 10\n  },\n  {\n    &quot;5.6.7.8&quot;: 5\n  }\n]\n</code></pre>\n<p>I am now struggling to combine 2 resultsets into one response object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getCombined&quot;)\n    public Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\n\n        String selectIps = &quot;select address, count(address) as requests&quot;\n                + &quot; from logs group by address order by requests&quot;;\n\n        String selectMethods = &quot;select method, count(method) as requests&quot;\n                + &quot; from logs group by method order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\n\n        return Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\n    }\n</code></pre>\n<p>this seems to go in the right direction but i end up having my arrays converted to objects:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;item1&quot;: {\n    &quot;1.2.3.4&quot;: 10\n  },\n  &quot;item2&quot;: {\n    &quot;GET&quot;: 7\n  }\n}\n</code></pre>\n<p>How can i <strong>combine multiple resultsets into one</strong>, to return one response object like the one at the top?</p>\n"},{"tags":["java","rest","swagger","filtering"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666449447,"creation_date":1666445246,"answer_id":74163956,"question_id":74163858,"body_markdown":"```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @RequestParam(required = false) Integer count,\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\nThis should result in HTTP request with parameters:  \r\n/Users?count=1&amp;username=aaa\r\n\r\nYou can move all your parameters to Filter class.\r\n\r\n```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    Integer count;\r\n\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n","title":"How to add filter to Get query to swagger?","body":"<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @RequestParam(required = false) Integer count,\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n<p>This should result in HTTP request with parameters:<br />\n/Users?count=1&amp;username=aaa</p>\n<p>You can move all your parameters to Filter class.</p>\n<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    Integer count;\n\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666449447,"creation_date":1666444280,"question_id":74163858,"body_markdown":"I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I&#39;ve created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\r\nMy controller looks like this: \r\n\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\r\n    })\r\n    @GetMapping(&quot;/Users&quot;)\r\n    public ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\r\n                                                            @Min(1)\r\n                                                            @RequestParam(required = false) Integer startIndex,\r\n                                                            @RequestParam(required = false) Integer count,\r\n                                                            @RequestParam(required = false) Filter filter) {\r\n        final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\nAdditionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn&#39;t work.\r\nMy method &quot;getUsers&quot; looks like:\r\n\r\n    @Override\r\n    public PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\r\n        final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\r\n        return users;\r\n    }\r\n\r\nPreviously, I&#39;ve tried to add to parameters &quot;Filter filter&quot; but it hadn&#39;t help either. I see the field &quot;filter&quot; in query section in swagger but it doesn&#39;t work properly.\r\nCan you help me please to solve this problem?","title":"How to add filter to Get query to swagger?","body":"<p>I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I've created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\nMy controller looks like this:</p>\n<pre><code>@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\n})\n@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\n                                                        @Min(1)\n                                                        @RequestParam(required = false) Integer startIndex,\n                                                        @RequestParam(required = false) Integer count,\n                                                        @RequestParam(required = false) Filter filter) {\n    final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\n    return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n}\n</code></pre>\n<p>Additionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn't work.\nMy method &quot;getUsers&quot; looks like:</p>\n<pre><code>@Override\npublic PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\n    final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\n    return users;\n}\n</code></pre>\n<p>Previously, I've tried to add to parameters &quot;Filter filter&quot; but it hadn't help either. I see the field &quot;filter&quot; in query section in swagger but it doesn't work properly.\nCan you help me please to solve this problem?</p>\n"},{"tags":["java","keytab"],"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666447713,"creation_date":1666447713,"question_id":74164253,"body_markdown":"I develop a POC to do exactly what&#39;s mentionned in this topic&#39;s title.&lt;br/&gt;\r\nFor this, I&#39;ve found [jumarko sample][1] which is working perfectly. Many thanks to him for this sample :).&lt;br/&gt;\r\nHowever jumarko&#39;s sample uses ```callbackhandler``` implemetation. Which is a login/password authentication.&lt;br/&gt;\r\nIn my case, I&#39;d like to use a **keytab authentication** instead of.&lt;br/&gt;\r\nCould someone advise which interface or which system.property should I use to get **keytab authentication**  ?&lt;br/&gt;\r\nMany thanks in advance for your kind assist,\r\n\r\n\r\n  [1]: https://github.com/jumarko/kerberos-auth-example","title":"Client Java program to reach internet through proxy using kerberos/Keytab authentication","body":"<p>I develop a POC to do exactly what's mentionned in this topic's title.<br/>\nFor this, I've found <a href=\"https://github.com/jumarko/kerberos-auth-example\" rel=\"nofollow noreferrer\">jumarko sample</a> which is working perfectly. Many thanks to him for this sample :).<br/>\nHowever jumarko's sample uses <code>callbackhandler</code> implemetation. Which is a login/password authentication.<br/>\nIn my case, I'd like to use a <strong>keytab authentication</strong> instead of.<br/>\nCould someone advise which interface or which system.property should I use to get <strong>keytab authentication</strong>  ?<br/>\nMany thanks in advance for your kind assist,</p>\n"},{"tags":["javascript","java","android","mysql","epub3"],"answers":[{"tags":[],"owner":{"account_id":2491622,"reputation":419,"user_id":2168948,"display_name":"Alex Milewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526589056,"creation_date":1526589056,"answer_id":50400063,"question_id":45303666,"body_markdown":"For the worst-case side of this, saving the information locally, you can use &quot;localstorage&quot;, for info on that go here: http://diveintohtml5.info/storage.html.\r\n\r\nThe next part is not so simple: you could use some sort of XHR request, but chances are that won&#39;t work because most ePub3 readers don&#39;t support XHR or external request functionality.\r\n\r\nIf you want your book to be distributed through any of the &quot;normal&quot; channels (pretty much just iBooks since you need Script support at this point) you won&#39;t be able to send the data externally...\r\n\r\nHowever, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don&#39;t include it in the .opf the request will get blocked right out of the gate... Again, this &quot;solution&quot; is just a hack and it won&#39;t work through &quot;normal&quot; distribution channels and all of this is entirely dependent on the reader app you are using.\r\n\r\n\r\nBest of luck!!!","title":"EPUB3 Input data and save them somewhere","body":"<p>For the worst-case side of this, saving the information locally, you can use \"localstorage\", for info on that go here: <a href=\"http://diveintohtml5.info/storage.html\" rel=\"nofollow noreferrer\">http://diveintohtml5.info/storage.html</a>.</p>\n\n<p>The next part is not so simple: you could use some sort of XHR request, but chances are that won't work because most ePub3 readers don't support XHR or external request functionality.</p>\n\n<p>If you want your book to be distributed through any of the \"normal\" channels (pretty much just iBooks since you need Script support at this point) you won't be able to send the data externally...</p>\n\n<p>However, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don't include it in the .opf the request will get blocked right out of the gate... Again, this \"solution\" is just a hack and it won't work through \"normal\" distribution channels and all of this is entirely dependent on the reader app you are using.</p>\n\n<p>Best of luck!!!</p>\n"}],"owner":{"account_id":11408988,"reputation":11,"user_id":8363676,"display_name":"K3nnythe13ed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666447700,"creation_date":1500986556,"question_id":45303666,"body_markdown":"So I&#39;m looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \r\nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \r\nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.\r\n\r\nSo is there anyway get this done on best case?\r\nOr is it even possible for the worst case? I&#39;m using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?\r\n\r\nI do not require full functioning code here just some hints on how it might work out","title":"EPUB3 Input data and save them somewhere","body":"<p>So I'm looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.</p>\n\n<p>So is there anyway get this done on best case?\nOr is it even possible for the worst case? I'm using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?</p>\n\n<p>I do not require full functioning code here just some hints on how it might work out</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":5,"creation_date":1665749263,"post_id":74068502,"comment_id":130776331,"body_markdown":"Hello :) Could you please give us a [minimal reproductible example](https://stackoverflow.com/help/minimal-reproducible-example)? At least we would like to see the problematic code.","body":"Hello :) Could you please give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproductible example</a>? At least we would like to see the problematic code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1665750160,"post_id":74068502,"comment_id":130776618,"body_markdown":"Review these related [examples](https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo) and [edit] your question to show your revised approach.","body":"Review these related <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo\">examples</a> and <a href=\"https://stackoverflow.com/posts/74068502/edit\">edit</a> your question to show your revised approach."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665950631,"post_id":74068502,"comment_id":130813912,"body_markdown":"Your `addAutoScroll` method is never called.  You can delete the method and move its code into the `setupTable` method (it won&#39;t need the null check then because the table must not be null for the setup to work).","body":"Your <code>addAutoScroll</code> method is never called.  You can delete the method and move its code into the <code>setupTable</code> method (it won&#39;t need the null check then because the table must not be null for the setup to work)."}],"answers":[{"tags":[],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666447385,"creation_date":1665998058,"answer_id":74094994,"question_id":74068502,"body_markdown":"got it working thanks to @jewelsea\r\n\r\nhad forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n\r\n        addAutoScroll(dogTable);\r\n    }\r\n}\r\n\r\n``` ","title":"javaFX tableview auto scroll to last","body":"<p>got it working thanks to @jewelsea</p>\n<p>had forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.</p>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n\n        addAutoScroll(dogTable);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74094994,"answer_count":1,"score":-2,"last_activity_date":1666447385,"creation_date":1665746761,"question_id":74068502,"body_markdown":"I&#39;m new to java/javaFX so be patient with me.\r\n\r\nThe problem I&#39;m having is that I don&#39;t get auto scrolling to work.\r\n\r\nI&#39;ve tried these solutions but didn&#39;t get them to work:\r\n\r\nhttps://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\r\n\r\nhttps://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\r\n\r\nMain.java\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.image.Image;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.setMinHeight(900);\r\n            stage.setMinWidth(1200);\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;Dog Registry&quot;);\r\n            Image image = new Image(&quot;/image/paw.png&quot;);\r\n            stage.getIcons().add(image);\r\n            stage.show();\r\n\r\n            stage.setOnCloseRequest(event -&gt; {\r\n                event.consume();\r\n                exit(stage);\r\n            });\r\n\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public void exit(Stage stage){\r\n\r\n        Alert alert = new Alert(AlertType.CONFIRMATION);\r\n        alert.setTitle(&quot;Exit&quot;);\r\n        alert.setHeaderText(&quot;You&#39;re about to exit!&quot;);\r\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\r\n\r\n        if(alert.showAndWait().get() == ButtonType.OK){\r\n            System.out.println(&quot;You successfully exited!&quot;);\r\n            stage.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    @FXML\r\n    private TableView&lt;Dog&gt; dogTable;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; idCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; nameCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; BreedCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Double&gt; tailCol;\r\n\r\n    @FXML\r\n    private TextField idField;\r\n    @FXML\r\n    private TextField nameField;\r\n    @FXML\r\n    private TextField breedField;\r\n    @FXML\r\n    private TextField ageField;\r\n    @FXML\r\n    private TextField weightField;\r\n\r\n    @FXML\r\n    private Button removeBtn;\r\n    @FXML\r\n    private Button submitBtn;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\r\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\r\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\r\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\r\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\r\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \r\n\r\n        setupTable();\r\n    }\r\n\r\n    @FXML\r\n    void submit(ActionEvent event){\r\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\r\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\r\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\r\n        dogs.add(dog);\r\n        dogTable.setItems(dogs);\r\n    }\r\n\r\n    @FXML\r\n    void edit(ActionEvent event){\r\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\r\n        int currentDogId = Integer.parseInt(idField.getText());\r\n\r\n        for(Dog dog : currentTableData){\r\n            if(dog.getId() == currentDogId) {\r\n                dog.setId(Integer.parseInt(idField.getText()));\r\n                dog.setName(nameField.getText());\r\n                dog.setBreed(breedField.getText());\r\n                dog.setAge(Integer.parseInt(ageField.getText()));\r\n                dog.setWeight(Integer.parseInt(weightField.getText()));\r\n\r\n                dogTable.setItems(currentTableData);\r\n                dogTable.refresh();\r\n                idField.clear();\r\n                nameField.clear();\r\n                breedField.clear();\r\n                ageField.clear();\r\n                weightField.clear();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @FXML\r\n    void rowClicked(MouseEvent event){\r\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\r\n        \r\n        idField.setText(String.valueOf(clickedDog.getId()));\r\n        nameField.setText(String.valueOf(clickedDog.getName()));\r\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\r\n        ageField.setText(String.valueOf(clickedDog.getAge()));\r\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\r\n    }\r\n\r\n\r\n    @FXML\r\n    void removeDog(ActionEvent event){\r\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\r\n        dogTable.getItems().remove(selectedID);\r\n        idField.clear();\r\n        nameField.clear();\r\n        breedField.clear();\r\n        ageField.clear();\r\n        weightField.clear();\r\n        dogTable.refresh();\r\n    }\r\n\r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n    }\r\n}\r\n\r\n```\r\n\r\nDog.java\r\n```\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Dog {\r\n\r\n    private static final AtomicInteger _ID = new AtomicInteger(0);\r\n\r\n    private String name;\r\n    private String breed;\r\n    private int age;\r\n    private int weight;\r\n    private double tailLength;\r\n    private int id;\r\n\r\n    public Dog(String name, String breed, int age, int weight){\r\n        this.id = _ID.incrementAndGet();\r\n        this.name = name;\r\n        this.breed = breed;\r\n        this.age = age;\r\n        this.weight = weight;\r\n        this.tailLength = getTailLength();\r\n    }\r\n\r\n    public double getTailLength(){\r\n\r\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\r\n            return 3.7;\r\n        } else {\r\n            return (age * weight) / 10.0;\r\n        }\r\n    }\r\n\r\n    public int getId() { return id; }\r\n    \r\n    public void setId(int id){ this.id = id; }\r\n    \r\n    public String getName() { return name; }\r\n    \r\n    public void setName(String name){ this.name = name; }\r\n\r\n    public String getBreed() { return breed; }\r\n\r\n    public void setBreed(String breed){this.breed = breed;}\r\n    \r\n    public int getWeight() { return weight; }\r\n\r\n    public void setWeight(int weight) { this.weight = weight; }\r\n    \r\n    public int getAge() { return age; }\r\n\r\n    public void setAge(int age) { this.age = age; }\r\n}\r\n```\r\n\r\nGUI.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.String?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\r\n        &lt;/columns&gt;\r\n         &lt;columnResizePolicy&gt;\r\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n         &lt;/columnResizePolicy&gt;\r\n         &lt;styleClass&gt;\r\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\r\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\r\n            &lt;String fx:value=&quot;corner&quot; /&gt;\r\n            &lt;String fx:value=&quot;filler&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\r\n         &lt;/styleClass&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n               &lt;/children&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;14.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```","title":"javaFX tableview auto scroll to last","body":"<p>I'm new to java/javaFX so be patient with me.</p>\n<p>The problem I'm having is that I don't get auto scrolling to work.</p>\n<p>I've tried these solutions but didn't get them to work:</p>\n<p><a href=\"https://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\">javafx tableview auto scroll to the last</a></p>\n<p><a href=\"https://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\">JavaFX how to add ChangeListener to auto scroll TableView</a></p>\n<p>Main.java</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.setMinHeight(900);\n            stage.setMinWidth(1200);\n            stage.setResizable(false);\n            stage.setTitle(&quot;Dog Registry&quot;);\n            Image image = new Image(&quot;/image/paw.png&quot;);\n            stage.getIcons().add(image);\n            stage.show();\n\n            stage.setOnCloseRequest(event -&gt; {\n                event.consume();\n                exit(stage);\n            });\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void exit(Stage stage){\n\n        Alert alert = new Alert(AlertType.CONFIRMATION);\n        alert.setTitle(&quot;Exit&quot;);\n        alert.setHeaderText(&quot;You're about to exit!&quot;);\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\n\n        if(alert.showAndWait().get() == ButtonType.OK){\n            System.out.println(&quot;You successfully exited!&quot;);\n            stage.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    @FXML\n    private TableView&lt;Dog&gt; dogTable;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; idCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; nameCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; BreedCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\n    @FXML\n    private TableColumn&lt;Dog, Double&gt; tailCol;\n\n    @FXML\n    private TextField idField;\n    @FXML\n    private TextField nameField;\n    @FXML\n    private TextField breedField;\n    @FXML\n    private TextField ageField;\n    @FXML\n    private TextField weightField;\n\n    @FXML\n    private Button removeBtn;\n    @FXML\n    private Button submitBtn;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \n\n        setupTable();\n    }\n\n    @FXML\n    void submit(ActionEvent event){\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\n        dogs.add(dog);\n        dogTable.setItems(dogs);\n    }\n\n    @FXML\n    void edit(ActionEvent event){\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\n        int currentDogId = Integer.parseInt(idField.getText());\n\n        for(Dog dog : currentTableData){\n            if(dog.getId() == currentDogId) {\n                dog.setId(Integer.parseInt(idField.getText()));\n                dog.setName(nameField.getText());\n                dog.setBreed(breedField.getText());\n                dog.setAge(Integer.parseInt(ageField.getText()));\n                dog.setWeight(Integer.parseInt(weightField.getText()));\n\n                dogTable.setItems(currentTableData);\n                dogTable.refresh();\n                idField.clear();\n                nameField.clear();\n                breedField.clear();\n                ageField.clear();\n                weightField.clear();\n                break;\n            }\n        }\n    }\n\n\n    @FXML\n    void rowClicked(MouseEvent event){\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\n        \n        idField.setText(String.valueOf(clickedDog.getId()));\n        nameField.setText(String.valueOf(clickedDog.getName()));\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\n        ageField.setText(String.valueOf(clickedDog.getAge()));\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\n    }\n\n\n    @FXML\n    void removeDog(ActionEvent event){\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\n        dogTable.getItems().remove(selectedID);\n        idField.clear();\n        nameField.clear();\n        breedField.clear();\n        ageField.clear();\n        weightField.clear();\n        dogTable.refresh();\n    }\n\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n    }\n}\n\n</code></pre>\n<p>Dog.java</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class Dog {\n\n    private static final AtomicInteger _ID = new AtomicInteger(0);\n\n    private String name;\n    private String breed;\n    private int age;\n    private int weight;\n    private double tailLength;\n    private int id;\n\n    public Dog(String name, String breed, int age, int weight){\n        this.id = _ID.incrementAndGet();\n        this.name = name;\n        this.breed = breed;\n        this.age = age;\n        this.weight = weight;\n        this.tailLength = getTailLength();\n    }\n\n    public double getTailLength(){\n\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\n            return 3.7;\n        } else {\n            return (age * weight) / 10.0;\n        }\n    }\n\n    public int getId() { return id; }\n    \n    public void setId(int id){ this.id = id; }\n    \n    public String getName() { return name; }\n    \n    public void setName(String name){ this.name = name; }\n\n    public String getBreed() { return breed; }\n\n    public void setBreed(String breed){this.breed = breed;}\n    \n    public int getWeight() { return weight; }\n\n    public void setWeight(int weight) { this.weight = weight; }\n    \n    public int getAge() { return age; }\n\n    public void setAge(int age) { this.age = age; }\n}\n</code></pre>\n<p>GUI.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.String?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n         &lt;styleClass&gt;\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\n            &lt;String fx:value=&quot;corner&quot; /&gt;\n            &lt;String fx:value=&quot;filler&quot; /&gt;\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\n         &lt;/styleClass&gt;\n      &lt;/TableView&gt;\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n               &lt;/children&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n"},{"tags":["java","hibernate","logging","jboss","slf4j"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1666363528,"post_id":74154748,"comment_id":130926516,"body_markdown":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?","body":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666364760,"post_id":74154748,"comment_id":130926927,"body_markdown":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking.","body":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666367738,"post_id":74154748,"comment_id":130928070,"body_markdown":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding","body":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666369184,"post_id":74154748,"comment_id":130928578,"body_markdown":"So far I can just say you are correct - I will update once I have found which dependency is loading it.","body":"So far I can just say you are correct - I will update once I have found which dependency is loading it."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666373243,"post_id":74154748,"comment_id":130929817,"body_markdown":"slf4j (the API) is pretty hard to avoid these days","body":"slf4j (the API) is pretty hard to avoid these days"}],"answers":[{"tags":[],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666446579,"creation_date":1666446579,"answer_id":74164117,"question_id":74154748,"body_markdown":"I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It&#39;s still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems. ","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It's still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems.</p>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74164117,"answer_count":1,"score":0,"last_activity_date":1666446579,"creation_date":1666360595,"question_id":74154748,"body_markdown":"I am using Hibernate 6.1.2. I&#39;d like to log use the default JDK logging provider. [According to a documentation for 5.4][1], this can be done like this:\r\n\r\n    public class TestSL4JBug {\r\n\t\tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\r\n    \t\tjakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);\t\t\r\n\t\t}\r\n\t}\r\n\r\nI looked for a similar explanation in newer documentations, but I did not find it.\r\n\r\nAlas, if I am testing the minimal example above, I get this:\r\n\r\n...\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    MLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\r\n\r\n...\r\n\r\nTo me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.\r\n\r\nSo my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I am using Hibernate 6.1.2. I'd like to log use the default JDK logging provider. <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html\" rel=\"nofollow noreferrer\">According to a documentation for 5.4</a>, this can be done like this:</p>\n<pre><code>public class TestSL4JBug {\n    public static void main(String[] args) {\n        System.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\n        jakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);        \n    }\n}\n</code></pre>\n<p>I looked for a similar explanation in newer documentations, but I did not find it.</p>\n<p>Alas, if I am testing the minimal example above, I get this:</p>\n<p>...</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nMLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\n</code></pre>\n<p>...</p>\n<p>To me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.</p>\n<p>So my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":21249672,"reputation":51,"user_id":15632017,"display_name":"Edward Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666446549,"creation_date":1666433845,"question_id":74162682,"body_markdown":"I&#39;m quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.\r\n\r\nI have 2 spring boot projects. Both of them implement an apache kafka consumer.\r\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:\r\n\r\n    spring.kafka.bootstrap-servers=localhost:9092\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nThe 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\r\n\r\nFor the consumer 2 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\r\n\r\nThis way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nFor the service 2 I did the same:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nThere are no other applications belonging the same group of these consumers.\r\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.\r\n\r\nWhat am I wrong? Further information: Apache kafka is installed on single node.","title":"Apache kafka Spring boot consumer not receiving topics when another consumer is running","body":"<p>I'm quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.</p>\n<p>I have 2 spring boot projects. Both of them implement an apache kafka consumer.\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9092\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>The 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\n</code></pre>\n<p>For the consumer 2 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\n</code></pre>\n<p>This way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>For the service 2 I did the same:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>There are no other applications belonging the same group of these consumers.\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.</p>\n<p>What am I wrong? Further information: Apache kafka is installed on single node.</p>\n"},{"tags":["java","javafx","java-11","javafx-11","javafx-17"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":4,"creation_date":1666443406,"post_id":74163720,"comment_id":130940841,"body_markdown":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily.","body":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1666443418,"post_id":74163720,"comment_id":130940846,"body_markdown":"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md _&quot;JavaFX 17 requires JDK 11 or later.&quot;_","body":"<a href=\"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md\" rel=\"nofollow noreferrer\">github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17&zwnj;&#8203;.md</a> <i>&quot;JavaFX 17 requires JDK 11 or later.&quot;</i>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666453987,"post_id":74163720,"comment_id":130943044,"body_markdown":"Always read the documentation before posting here.","body":"Always read the documentation before posting here."}],"owner":{"account_id":26700906,"reputation":9,"user_id":20307971,"display_name":"Thijzert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666445962,"answer_count":0,"score":0,"last_activity_date":1666445409,"creation_date":1666443069,"question_id":74163720,"body_markdown":"Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don&#39;t want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?\r\n\r\nI have tried to find it on the internet, but I couldn&#39;t find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:\r\n```none\r\n[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\r\n[INFO] The following dependencies in Dependencies have newer versions:\r\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\r\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\r\n```\r\n","title":"Using JavaFX 17 while using Java 11","body":"<p>Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don't want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?</p>\n<p>I have tried to find it on the internet, but I couldn't find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\n[INFO] The following dependencies in Dependencies have newer versions:\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1666445105,"post_id":74163905,"comment_id":130941173,"body_markdown":"**No**. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;[sandbox](https://www.webopedia.com/definitions/sandbox/)&quot;. It was not secure.","body":"<b>No</b>. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;<a href=\"https://www.webopedia.com/definitions/sandbox/\" rel=\"nofollow noreferrer\">sandbox</a>&quot;. It was not secure."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666445315,"post_id":74163905,"comment_id":130941206,"body_markdown":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM.","body":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":3,"creation_date":1666445471,"post_id":74163905,"comment_id":130941231,"body_markdown":"You can add protection to some degree by using `SecurityManager` which has been deprecated though. See [here](https://openjdk.org/jeps/411) for some reasoning for the deprecation.","body":"You can add protection to some degree by using <code>SecurityManager</code> which has been deprecated though. See <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">here</a> for some reasoning for the deprecation."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666461858,"post_id":74163905,"comment_id":130944756,"body_markdown":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?","body":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666474013,"post_id":74163905,"comment_id":130947039,"body_markdown":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation","body":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation"}],"owner":{"account_id":270162,"reputation":7734,"user_id":559940,"accept_rate":74,"display_name":"Ailef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666444739,"creation_date":1666444739,"question_id":74163905,"body_markdown":"I&#39;m developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.\r\n\r\nThe simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).\r\n\r\nThe player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won&#39;t allow to keep things fast enough.\r\n\r\nIs there a way to implement this securely given these constraints?","title":"How to safely run user-provided Java code?","body":"<p>I'm developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.</p>\n<p>The simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).</p>\n<p>The player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won't allow to keep things fast enough.</p>\n<p>Is there a way to implement this securely given these constraints?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1451467310,"post_id":34526362,"comment_id":56794263,"body_markdown":"There is no &#39;peculiar behaviour of `ArrayList.size()` &#39;here. You&#39;re not even getting there.","body":"There is no &#39;peculiar behaviour of <code>ArrayList.size()</code> &#39;here. You&#39;re not even getting there."},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451470038,"post_id":34526362,"comment_id":56795805,"body_markdown":"Ok , Will change the title","body":"Ok , Will change the title"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1451510007,"post_id":34526362,"comment_id":56816690,"body_markdown":"Possible duplicate of [ArrayList initial capacity and IndexOutOfBoundsException](http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception\">ArrayList initial capacity and IndexOutOfBoundsException</a>"},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451543318,"post_id":34526362,"comment_id":56826104,"body_markdown":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate","body":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate"},{"owner":{"account_id":953294,"reputation":2389,"user_id":1090666,"display_name":"Mike Ryan"},"score":0,"creation_date":1535564360,"post_id":34526362,"comment_id":91116811,"body_markdown":"This is a duplicate of the much clearer question and answer in https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist","body":"This is a duplicate of the much clearer question and answer in <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\" title=\"initial size for the arraylist\">stackoverflow.com/questions/8896758/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1451467408,"creation_date":1451466841,"answer_id":34526379,"question_id":34526362,"body_markdown":"`test.set(5, &quot;test&quot;);` is the statement that throws this exception, since your `ArrayList` is empty (`size()` would return `0` if you got to that statement), and you can&#39;t set the i&#39;th element if it doesn&#39;t already contain a value. You must add at least 6 elements to your `ArrayList` in order for `test.set(5, &quot;test&quot;);` to be valid.\r\n\r\n`new ArrayList(10)` doesn&#39;t create an `ArrayList` whose size is 10. It creates an empty `ArrayList` whose initial capacity is 10.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>test.set(5, \"test\");</code> is the statement that throws this exception, since your <code>ArrayList</code> is empty (<code>size()</code> would return <code>0</code> if you got to that statement), and you can't set the i'th element if it doesn't already contain a value. You must add at least 6 elements to your <code>ArrayList</code> in order for <code>test.set(5, \"test\");</code> to be valid.</p>\n\n<p><code>new ArrayList(10)</code> doesn't create an <code>ArrayList</code> whose size is 10. It creates an empty <code>ArrayList</code> whose initial capacity is 10.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1451467074,"creation_date":1451467074,"answer_id":34526438,"question_id":34526362,"body_markdown":"The exception is not thrown by `test.size()` but by `test.set(5, &quot;test&quot;);`. This is because you are setting an element at index 5 but the list is currently empty.\r\n\r\n    List test = new ArrayList(10);\r\n\r\ndoes not create a list initialized with 10 `null` elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.\r\n\r\nIf you want to initialize a list with 10 `null` elements, you can use\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\r\n\r\n&lt;hr&gt;\r\n\r\nAs a side note, [you should never use raw types](https://stackoverflow.com/q/2770321/1743880) like `List` but always prefer a parameterized list.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The exception is not thrown by <code>test.size()</code> but by <code>test.set(5, \"test\");</code>. This is because you are setting an element at index 5 but the list is currently empty.</p>\n\n<pre><code>List test = new ArrayList(10);\n</code></pre>\n\n<p>does not create a list initialized with 10 <code>null</code> elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.</p>\n\n<p>If you want to initialize a list with 10 <code>null</code> elements, you can use</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\n</code></pre>\n\n<hr>\n\n<p>As a side note, <a href=\"https://stackoverflow.com/q/2770321/1743880\">you should never use raw types</a> like <code>List</code> but always prefer a parameterized list.</p>\n"},{"tags":[],"owner":{"account_id":7546932,"reputation":63,"user_id":5729601,"display_name":"Programming_Geek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451470924,"creation_date":1451469295,"answer_id":34527076,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451493676,"creation_date":1451493676,"answer_id":34533480,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates **empty** `ArrayList` of raw types (`Object`) with initial capacity(*capacity of list initially, initialize internal array with length 10*) not to be confused with size(*number of elements list contains*). \r\n\r\nTo understand more first note that `ArrayList` is nothing but *manipulation* of *array* to dynamically change size of the array which we were not able to do with array directly. Ultimately, it&#39;s a ***smart*** array. \r\n\r\nBy setting *initial capacity* we are telling `ArrayList` to create size of array `10` initially (by default initial capacity is `10`). \r\n\r\nThis is what constructor is doing,\r\n\r\n    public ArrayList(int initialCapacity) {\r\n        super();\r\n        if (initialCapacity &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+\r\n                                               initialCapacity);\r\n        this.elementData = new Object[initialCapacity];//creates initial array\r\n    }\r\n\r\nYou can increase or decrease it accordingly, say you are sure that you are going to need list with `20` elements it&#39;ll be better to set initial capacity at start. It avoids *resizing* of array if you are sure about minimum number of elements you will definitely have in list. \r\n\r\n`test.set(5, &quot;test&quot;);` method ***replaces*** element at specific position here it will going to replace element at index `5` with `test`. But our list is empty, it does not have any element. \r\n\r\nDocumentation of this method says, \r\n\r\n&gt; `IndexOutOfBoundsException` - if the `index` is out of range (`index &lt; 0`  **||**\r\n&gt; `index &gt;= size()`)\r\n\r\nNote that size of list is `0` so index (`5`) is greater than size(`0`).","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates <strong>empty</strong> <code>ArrayList</code> of raw types (<code>Object</code>) with initial capacity(<em>capacity of list initially, initialize internal array with length 10</em>) not to be confused with size(<em>number of elements list contains</em>). </p>\n\n<p>To understand more first note that <code>ArrayList</code> is nothing but <em>manipulation</em> of <em>array</em> to dynamically change size of the array which we were not able to do with array directly. Ultimately, it's a <strong><em>smart</em></strong> array. </p>\n\n<p>By setting <em>initial capacity</em> we are telling <code>ArrayList</code> to create size of array <code>10</code> initially (by default initial capacity is <code>10</code>). </p>\n\n<p>This is what constructor is doing,</p>\n\n<pre><code>public ArrayList(int initialCapacity) {\n    super();\n    if (initialCapacity &lt; 0)\n        throw new IllegalArgumentException(\"Illegal Capacity: \"+\n                                           initialCapacity);\n    this.elementData = new Object[initialCapacity];//creates initial array\n}\n</code></pre>\n\n<p>You can increase or decrease it accordingly, say you are sure that you are going to need list with <code>20</code> elements it'll be better to set initial capacity at start. It avoids <em>resizing</em> of array if you are sure about minimum number of elements you will definitely have in list. </p>\n\n<p><code>test.set(5, \"test\");</code> method <strong><em>replaces</em></strong> element at specific position here it will going to replace element at index <code>5</code> with <code>test</code>. But our list is empty, it does not have any element. </p>\n\n<p>Documentation of this method says, </p>\n\n<blockquote>\n  <p><code>IndexOutOfBoundsException</code> - if the <code>index</code> is out of range (<code>index &lt; 0</code>  <strong>||</strong>\n  <code>index &gt;= size()</code>)</p>\n</blockquote>\n\n<p>Note that size of list is <code>0</code> so index (<code>5</code>) is greater than size(<code>0</code>).</p>\n"},{"tags":[],"owner":{"account_id":9281995,"reputation":374,"user_id":6892962,"display_name":"nzala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477055113,"creation_date":1477055113,"answer_id":40177439,"question_id":34526362,"body_markdown":"Replaces the element at the specified position in this list with the specified element.\r\n\r\n    set\r\n\r\nParameters\r\n\r\nindex\r\nint: index of the element to replace\r\n\r\nelement\r\nE: element to be stored at the specified position\r\n\r\nReturns\r\nE\r\nthe element previously at the specified position\r\n\r\nThrows\r\n\r\n    IndexOutOfBoundsException\r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>Replaces the element at the specified position in this list with the specified element.</p>\n\n<pre><code>set\n</code></pre>\n\n<p>Parameters</p>\n\n<p>index\nint: index of the element to replace</p>\n\n<p>element\nE: element to be stored at the specified position</p>\n\n<p>Returns\nE\nthe element previously at the specified position</p>\n\n<p>Throws</p>\n\n<pre><code>IndexOutOfBoundsException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666444404,"creation_date":1666444404,"answer_id":74163873,"question_id":34526362,"body_markdown":"The thing is that your list **&quot;Test&quot;** is **empty** and when you are trying to\r\n\r\nexecute this statement **test.set(5, &quot;test&quot;);** it won&#39;t be able to set that \r\n\r\nvalue in the list &amp; will show `Out of bounds exception` as it will not create 10 empty spaces.\r\n\r\nSo, you can initialize your list before:\r\n\r\n    for(int i=0;i&lt;10;i++)  // As you took ten in your code\r\n     \r\n    {\r\n    test.add(null);   // some people also use test.add(0) instead of null , \r\n                     //but &#39;0&#39; also contains a value &amp; considering your code please use null   \r\n    }  \r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The thing is that your list <strong>&quot;Test&quot;</strong> is <strong>empty</strong> and when you are trying to</p>\n<p>execute this statement <strong>test.set(5, &quot;test&quot;);</strong> it won't be able to set that</p>\n<p>value in the list &amp; will show <code>Out of bounds exception</code> as it will not create 10 empty spaces.</p>\n<p>So, you can initialize your list before:</p>\n<pre><code>for(int i=0;i&lt;10;i++)  // As you took ten in your code\n \n{\ntest.add(null);   // some people also use test.add(0) instead of null , \n                 //but '0' also contains a value &amp; considering your code please use null   \n}  \n</code></pre>\n"}],"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4636,"favorite_count":0,"down_vote_count":4,"up_vote_count":18,"accepted_answer_id":34526379,"answer_count":6,"score":14,"last_activity_date":1666444404,"creation_date":1451466767,"question_id":34526362,"body_markdown":"While working on `ArrayList`, I found after setting the initial size of array using the constructor with `initialCapacity`, then use `set()` will throw an exception although the array is created, but size isn&#39;t set correctly. \r\n\r\nUsing `ensureCapacity()` won&#39;t work either because it is based on the `elementData` array instead of `size`.\r\n\r\nThere are other side effects because of the static `DEFAULT_CAPACITY` with `ensureCapacity()`.\r\n\r\nThe only way to make this work is to use add() as many time as required after using the constructor. \r\n  \r\nPlease check the code below.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList test = new ArrayList(10);\r\n\t\ttest.set(5, &quot;test&quot;);\r\n\t\tSystem.out.println(test.size());\r\n\t}\r\n\r\n\r\nI am not sure why java is throwing this exception.\r\n\r\nBehaviour I expected: `test.size()` should return 10 and set(5, ...) should  work.\r\n\r\nACTUAL: throws an Exception `IndexOutOfBoundsException`.\r\n\r\nSo is it set  method that is causing problem ?","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>While working on <code>ArrayList</code>, I found after setting the initial size of array using the constructor with <code>initialCapacity</code>, then use <code>set()</code> will throw an exception although the array is created, but size isn't set correctly. </p>\n\n<p>Using <code>ensureCapacity()</code> won't work either because it is based on the <code>elementData</code> array instead of <code>size</code>.</p>\n\n<p>There are other side effects because of the static <code>DEFAULT_CAPACITY</code> with <code>ensureCapacity()</code>.</p>\n\n<p>The only way to make this work is to use add() as many time as required after using the constructor. </p>\n\n<p>Please check the code below.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\npublic static void main(String[] args) {\n\n    List test = new ArrayList(10);\n    test.set(5, \"test\");\n    System.out.println(test.size());\n}\n</code></pre>\n\n<p>I am not sure why java is throwing this exception.</p>\n\n<p>Behaviour I expected: <code>test.size()</code> should return 10 and set(5, ...) should  work.</p>\n\n<p>ACTUAL: throws an Exception <code>IndexOutOfBoundsException</code>.</p>\n\n<p>So is it set  method that is causing problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666441232,"post_id":74163338,"comment_id":130940386,"body_markdown":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?","body":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?"},{"owner":{"account_id":18084758,"reputation":134,"user_id":13145959,"display_name":"trauni"},"score":0,"creation_date":1666441377,"post_id":74163338,"comment_id":130940419,"body_markdown":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it.","body":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it."},{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666444038,"post_id":74163338,"comment_id":130940962,"body_markdown":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!","body":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!"}],"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666444053,"answer_count":0,"score":0,"last_activity_date":1666444302,"creation_date":1666439857,"question_id":74163338,"body_markdown":"I have a few objects stored in multiple CSV files, and would like to:\r\n\r\n 1. Read the CSV file\r\n 2. Create objects based on the read tokens\r\n 3. Store and return the created objects into an arraylist.\r\n\r\nOf course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.\r\n\r\nIs it possible to create a single function that is able to do all this dynamically?\r\n\r\nSomething like:\r\n\r\n```\r\npublic ArrayList readFromCSV(String objectName){\r\n  //generic all in one code\r\n}\r\n```\r\nor\r\n```\r\npublic ArrayList readFromCSV(Class classItself){\r\n  //generic all in one code\r\n}\r\n```\r\n\r\nEssentially I&#39;m trying to do the opposite of the following:\r\n```\r\npublic static void saveArray(String filename, List al) throws IOException {\r\n    List alw = new ArrayList();// to store Professors data\r\n    for (Object obj : al) {\r\n        try {\r\n            Class c = obj.getClass();\r\n            Field[] fields = c.getDeclaredFields();\r\n            int noOfFields = fields.length;\r\n            StringBuilder st = new StringBuilder();\r\n            for (int i = 0; i &lt; noOfFields; i++) {\r\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\r\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\r\n                field.setAccessible(true);\r\n                Object value = field.get(obj);\r\n                st.append(value.toString().trim());\r\n                if (i != noOfFields - 1) {\r\n                    st.append(SEPARATOR);\r\n                }\r\n            }\r\n            alw.add(st.toString());\r\n            write(filename, alw);\r\n        } catch (Exception e) {\r\n            System.out.println(e.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create a function that creates object &quot;X&quot; with tokens imported from a csv file dynamically?","body":"<p>I have a few objects stored in multiple CSV files, and would like to:</p>\n<ol>\n<li>Read the CSV file</li>\n<li>Create objects based on the read tokens</li>\n<li>Store and return the created objects into an arraylist.</li>\n</ol>\n<p>Of course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.</p>\n<p>Is it possible to create a single function that is able to do all this dynamically?</p>\n<p>Something like:</p>\n<pre><code>public ArrayList readFromCSV(String objectName){\n  //generic all in one code\n}\n</code></pre>\n<p>or</p>\n<pre><code>public ArrayList readFromCSV(Class classItself){\n  //generic all in one code\n}\n</code></pre>\n<p>Essentially I'm trying to do the opposite of the following:</p>\n<pre><code>public static void saveArray(String filename, List al) throws IOException {\n    List alw = new ArrayList();// to store Professors data\n    for (Object obj : al) {\n        try {\n            Class c = obj.getClass();\n            Field[] fields = c.getDeclaredFields();\n            int noOfFields = fields.length;\n            StringBuilder st = new StringBuilder();\n            for (int i = 0; i &lt; noOfFields; i++) {\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\n                field.setAccessible(true);\n                Object value = field.get(obj);\n                st.append(value.toString().trim());\n                if (i != noOfFields - 1) {\n                    st.append(SEPARATOR);\n                }\n            }\n            alw.add(st.toString());\n            write(filename, alw);\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","2d"],"comments":[{"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"score":0,"creation_date":1666337004,"post_id":74142634,"comment_id":130917342,"body_markdown":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3=","body":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3="}],"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666444226,"creation_date":1666280289,"question_id":74142634,"body_markdown":"I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array\r\n\r\n```\r\npublic static int produsDiagonle(int[][] coloane) {\r\n        int produsulDiagonalelor = 0;\r\n        for (int row = 0; row &lt; coloane.length; row++) {\r\n\r\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\r\n\r\n\r\n        }\r\n        return produsulDiagonalelor;\r\n    }\r\n```\r\n\r\nThe array is this: \r\n\r\n```\r\nint[][] vector2 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}};\r\n```\r\n\r\nI have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.\r\n\r\n\r\n","title":"Returning the the product of all elements of both diagonals value ( primary and secondary diagonal:(1,5,9) with (7,5,3))of an 2d Array","body":"<p>I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array</p>\n<pre><code>public static int produsDiagonle(int[][] coloane) {\n        int produsulDiagonalelor = 0;\n        for (int row = 0; row &lt; coloane.length; row++) {\n\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\n\n\n        }\n        return produsulDiagonalelor;\n    }\n</code></pre>\n<p>The array is this:</p>\n<pre><code>int[][] vector2 = {\n                {1, 2, 3},\n                {4, 5, 6},\n                {7, 8, 9}};\n</code></pre>\n<p>I have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666443855,"post_id":74163760,"comment_id":130940923,"body_markdown":"have you tried to run the project see if error go away","body":"have you tried to run the project see if error go away"},{"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"score":0,"creation_date":1666447787,"post_id":74163760,"comment_id":130941687,"body_markdown":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;","body":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666448133,"post_id":74163760,"comment_id":130941770,"body_markdown":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)","body":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)"}],"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666443463,"creation_date":1666443463,"question_id":74163760,"body_markdown":"The IDE shows an error in .java. please tell me what is wrong here.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0U86.png\r\n\r\n\r\n\r\n    Handler().postDelayed({\r\n            Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\r\n            val intent = Intent(this, ScreenTwo::class.java)\r\n            startActivity(intent)\r\n            finish()\r\n        }, SPLASH_TIMER.toLong())\r\n\r\n    }","title":"Error when passing intent from one activity to another activity in Kotlin, android studio","body":"<p>The IDE shows an error in .java. please tell me what is wrong here.\n<a href=\"https://i.stack.imgur.com/i0U86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0U86.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Handler().postDelayed({\n        Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\n        val intent = Intent(this, ScreenTwo::class.java)\n        startActivity(intent)\n        finish()\n    }, SPLASH_TIMER.toLong())\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","soap-client","spring-ws"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441082,"post_id":74163414,"comment_id":130940353,"body_markdown":"Apparently, the soap service your are calling won&#39;t permit you to do that:  *&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;* (source https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)","body":"Apparently, the soap service your are calling won&#39;t permit you to do that:  <i>&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;</i> (source <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/403</a>)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441157,"post_id":74163414,"comment_id":130940371,"body_markdown":"So ... basically ... you need to figure out *why* it is not permitted.  I don&#39;t know how we can help you with that.","body":"So ... basically ... you need to figure out <i>why</i> it is not permitted.  I don&#39;t know how we can help you with that."},{"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"score":0,"creation_date":1666757167,"post_id":74163414,"comment_id":131009342,"body_markdown":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening.","body":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening."}],"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666440406,"creation_date":1666440406,"question_id":74163414,"body_markdown":"We are getting below exception while trying to call a soap service through spring boot :    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\nClass:\r\n\r\n    public class Client extends WebServiceGatewaySupport {\r\n\r\n    @Autowired\r\n    private MessageSender messageSender ;\r\n\r\nRequest :\r\n\r\n    RequestTest request = new RequestTest ();\r\n    \trequest.setSRequestXML(&quot;XML CONTENT&quot;);\r\n\r\nClient Method: \r\n\t\r\n\r\n    WebServiceTemplate serviceTemplate = getWebServiceTemplate();\r\n    \t\tserviceTemplate.setMessageSender(messageSender);\r\n    \t\tResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\r\n    \t\t\t\tnew SoapActionCallback(callBack));\r\n\r\nBelow error is on last line above : \r\n\r\n    org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\r\n\r\nAny thoughts please help","title":"org.springframework.ws.client.WebServiceTransportException: Forbidden [403] Spring boot soap call","body":"<p>We are getting below exception while trying to call a soap service through spring boot :    2.1.3.RELEASE\nClass:</p>\n<pre><code>public class Client extends WebServiceGatewaySupport {\n\n@Autowired\nprivate MessageSender messageSender ;\n</code></pre>\n<p>Request :</p>\n<pre><code>RequestTest request = new RequestTest ();\n    request.setSRequestXML(&quot;XML CONTENT&quot;);\n</code></pre>\n<p>Client Method:</p>\n<pre><code>WebServiceTemplate serviceTemplate = getWebServiceTemplate();\n        serviceTemplate.setMessageSender(messageSender);\n        ResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\n                new SoapActionCallback(callBack));\n</code></pre>\n<p>Below error is on last line above :</p>\n<pre><code>org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\n    at org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\n</code></pre>\n<p>Any thoughts please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80280,"reputation":8732,"user_id":227103,"accept_rate":91,"display_name":"YuppieNetworking"},"score":0,"creation_date":1274095094,"post_id":2848508,"comment_id":2891584,"body_markdown":"See http://stackoverflow.com/questions/122105/java-what-is-the-best-way-to-filter-a-collection","body":"See <a href=\"http://stackoverflow.com/questions/122105/java-what-is-the-best-way-to-filter-a-collection\" title=\"java what is the best way to filter a collection\">stackoverflow.com/questions/122105/&hellip;</a>"},{"owner":{"account_id":177420,"reputation":5055,"user_id":408738,"accept_rate":84,"display_name":"Sujee"},"score":0,"creation_date":1274095192,"post_id":2848508,"comment_id":21954858,"body_markdown":"Similar question http://stackoverflow.com/questions/2846771/how-to-selectively-filter-items-in-a-collection","body":"Similar question <a href=\"http://stackoverflow.com/questions/2846771/how-to-selectively-filter-items-in-a-collection\" title=\"how to selectively filter items in a collection\">stackoverflow.com/questions/2846771/&hellip;</a>"},{"owner":{"account_id":95749,"reputation":16830,"user_id":260594,"accept_rate":86,"display_name":"TCM"},"score":0,"creation_date":1274096000,"post_id":2848508,"comment_id":2891683,"body_markdown":"Thanks Yuppie. Yours is the most relevant answer.","body":"Thanks Yuppie. Yours is the most relevant answer."},{"owner":{"account_id":61045,"reputation":2660,"user_id":182094,"accept_rate":78,"display_name":"NT_"},"score":1,"creation_date":1318070141,"post_id":2848508,"comment_id":9357525,"body_markdown":"You can do objList.select(idEqualTo(2)) when using this library https://github.com/nicholas22/jpropel-light. You have to define the function idEqualTo() but it&#39;s a one-liner.","body":"You can do objList.select(idEqualTo(2)) when using this library <a href=\"https://github.com/nicholas22/jpropel-light\" rel=\"nofollow noreferrer\">github.com/nicholas22/jpropel-light</a>. You have to define the function idEqualTo() but it&#39;s a one-liner."}],"answers":[{"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274095102,"creation_date":1274095102,"answer_id":2848524,"question_id":2848508,"body_markdown":"Even if this was a supported feature of the language, then it would be Java that would need to do the iterating, so you&#39;re back at square one (in terms on time complexity).\r\n\r\nWhat you&#39;re looking for is associative mapping. This can be achieved with HashMap. If you want to associate by more than one type of property for example id AND name, then you could make two HashMaps, one whose key is id and one whose key is name.\r\n\r\nThis of course doesn&#39;t scale very well if you want to query for many properties, so the next step would be using an Object oriented database such as Hibernate which will allow you to query the database for objects exactly as in your example.","title":"Can I query a List?","body":"<p>Even if this was a supported feature of the language, then it would be Java that would need to do the iterating, so you're back at square one (in terms on time complexity).</p>\n\n<p>What you're looking for is associative mapping. This can be achieved with HashMap. If you want to associate by more than one type of property for example id AND name, then you could make two HashMaps, one whose key is id and one whose key is name.</p>\n\n<p>This of course doesn't scale very well if you want to query for many properties, so the next step would be using an Object oriented database such as Hibernate which will allow you to query the database for objects exactly as in your example.</p>\n"},{"tags":[],"owner":{"account_id":47063,"reputation":828,"user_id":139265,"accept_rate":100,"display_name":"p4553d"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274095206,"creation_date":1274095206,"answer_id":2848532,"question_id":2848508,"body_markdown":"short: no, you can&#39;t\r\n\r\nlong: you can write own data structure and hash/index fields of object for some more efficient search. but this is not a list, more `HashMap` or so.","title":"Can I query a List?","body":"<p>short: no, you can't</p>\n\n<p>long: you can write own data structure and hash/index fields of object for some more efficient search. but this is not a list, more <code>HashMap</code> or so.</p>\n"},{"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439890716,"creation_date":1274096074,"answer_id":2848632,"question_id":2848508,"body_markdown":"If you want something like linq for java, check out [quaere](https://github.com/anoras/Quaere)\r\n\r\n----------\r\n\r\n**Edit:** At this point, quaere looks like it is unmaintained.  With Java 7 being EOL, you should be on Java 8 whose [Stream API][1] should get you most of the way there when compared to Linq&#39;s dot syntax.  See [this page][2] for some examples.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"Can I query a List?","body":"<p>If you want something like linq for java, check out <a href=\"https://github.com/anoras/Quaere\" rel=\"nofollow noreferrer\">quaere</a></p>\n\n<hr>\n\n<p><strong>Edit:</strong> At this point, quaere looks like it is unmaintained.  With Java 7 being EOL, you should be on Java 8 whose <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a> should get you most of the way there when compared to Linq's dot syntax.  See <a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"nofollow noreferrer\">this page</a> for some examples.</p>\n"},{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1274096110,"creation_date":1274096110,"answer_id":2848639,"question_id":2848508,"body_markdown":"Libraries with functional, well, functionality such as [functionaljava][1] provide such \r\nmethods.\r\n\r\nYou&#39;d need to use its own `List` implementation which is incompatible to native Javas `(Array)List` or convert between the two. \r\n\r\nAn Example:\r\n\r\n    import fj.data.Java\r\n    import fj.data.List\r\n    import fj.F\r\n    \r\n    // Converting an ArrayList\r\n    fj.data.List&lt;SomeObject&gt; objList2 = Java.ArrayList_List().f(objList);\r\n    \r\n    fj.data.List&lt;SomeObject&gt; filteredObjList = objList2.filter(new F&lt;SomeObject, Boolean&gt;() {\r\n      Boolean f(SomeObject c) { return c.id == 2; } \r\n    });\r\n    \r\n    // Converting back to ArrayList\r\n    java.util.List&lt;SomeObject&gt; objList2 = Java.List_ArrayList().f(filteredObjList );\r\n\r\nBy using functionaljava&#39;s `List` through out of your project you would avoid the converting.\r\n\r\n[1]: http://functionaljava.org/","title":"Can I query a List?","body":"<p>Libraries with functional, well, functionality such as <a href=\"http://functionaljava.org/\" rel=\"noreferrer\">functionaljava</a> provide such \nmethods.</p>\n\n<p>You'd need to use its own <code>List</code> implementation which is incompatible to native Javas <code>(Array)List</code> or convert between the two. </p>\n\n<p>An Example:</p>\n\n<pre><code>import fj.data.Java\nimport fj.data.List\nimport fj.F\n\n// Converting an ArrayList\nfj.data.List&lt;SomeObject&gt; objList2 = Java.ArrayList_List().f(objList);\n\nfj.data.List&lt;SomeObject&gt; filteredObjList = objList2.filter(new F&lt;SomeObject, Boolean&gt;() {\n  Boolean f(SomeObject c) { return c.id == 2; } \n});\n\n// Converting back to ArrayList\njava.util.List&lt;SomeObject&gt; objList2 = Java.List_ArrayList().f(filteredObjList );\n</code></pre>\n\n<p>By using functionaljava's <code>List</code> through out of your project you would avoid the converting.</p>\n"},{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374488201,"creation_date":1374488201,"answer_id":17784997,"question_id":2848508,"body_markdown":"Probably this will help someone,\r\n\r\nhttp://code.google.com/p/joquery/\r\n\r\nthis library supports following code structure,\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(&quot;id&quot;).eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();","title":"Can I query a List?","body":"<p>Probably this will help someone,</p>\n\n<p><a href=\"http://code.google.com/p/joquery/\" rel=\"nofollow\">http://code.google.com/p/joquery/</a></p>\n\n<p>this library supports following code structure,</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(\"id\").eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1320054,"reputation":526,"user_id":1266071,"accept_rate":43,"display_name":"Der Zinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395918960,"creation_date":1395918960,"answer_id":22685940,"question_id":2848508,"body_markdown":"Here\r\nhttps://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like\r\nyou can see some nice option/ I&#39;ve sopped on this one actually.\r\n","title":"Can I query a List?","body":"<p>Here\n<a href=\"https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like\">How do you query object collections in Java (Criteria/SQL-like)?</a>\nyou can see some nice option/ I've sopped on this one actually.</p>\n"}],"owner":{"account_id":95749,"reputation":16830,"user_id":260594,"accept_rate":86,"display_name":"TCM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27770,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2848632,"answer_count":6,"score":7,"last_activity_date":1666440272,"creation_date":1274094886,"question_id":2848508,"body_markdown":"Say I have \r\n\r\n``` java\r\n    List&lt;SomeObject&gt; objList = new ArrayList&lt;SomeObject&gt;();\r\n```\r\n\r\nIf SomeObject contains a field named id. Can we find it through some query like\r\n\r\n``` java\r\nobjList.filter(&#39;id=2&#39;);\r\n```\r\n\r\nwithout looping through the list? If not, then why? This can be such a useful method and can be used as an alternative to write a tedious for loop.\r\n\r\n\r\n\r\n\r\n","title":"Can I query a List?","body":"<p>Say I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;SomeObject&gt; objList = new ArrayList&lt;SomeObject&gt;();\n</code></pre>\n<p>If SomeObject contains a field named id. Can we find it through some query like</p>\n<pre class=\"lang-java prettyprint-override\"><code>objList.filter('id=2');\n</code></pre>\n<p>without looping through the list? If not, then why? This can be such a useful method and can be used as an alternative to write a tedious for loop.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":0,"creation_date":1479037772,"post_id":40573342,"comment_id":68382523,"body_markdown":"Perhaps you want to post a [Minimal, Complete, and Verifiable version of your code](http://stackoverflow.com/help/mcve), so that others have chance to point you in the right direction.","body":"Perhaps you want to post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable version of your code</a>, so that others have chance to point you in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479037831,"creation_date":1479037831,"answer_id":40573493,"question_id":40573342,"body_markdown":"Look for the `hibernate.hbm2ddl.auto` setting. Probably you have set it to `create-drop`.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Look for the <code>hibernate.hbm2ddl.auto</code> setting. Probably you have set it to <code>create-drop</code>.</p>\n"},{"tags":[],"owner":{"account_id":1794574,"reputation":1448,"user_id":1634263,"accept_rate":71,"display_name":"Niranjan Kumar"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1479038277,"creation_date":1479038277,"answer_id":40573552,"question_id":40573342,"body_markdown":"Place in application.properties/application.yml\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto=update\r\n\r\nThis property can be set with values \r\n\r\n    1. update (Update the schema if necessary)\r\n    2. create (create the schema and destroy previous data)\r\n    3. create-drop (create and then destroy the schema at the end of the session)\r\n    4. none (disable ddl handling)\r\n    5. validate (validate the schema , make no changes to the database)","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Place in application.properties/application.yml</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.ddl-auto=update</p>\n</blockquote>\n\n<p>This property can be set with values </p>\n\n<pre><code>1. update (Update the schema if necessary)\n2. create (create the schema and destroy previous data)\n3. create-drop (create and then destroy the schema at the end of the session)\n4. none (disable ddl handling)\n5. validate (validate the schema , make no changes to the database)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5643369,"reputation":374,"user_id":4466363,"display_name":"Arunkumar Arjunan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547138976,"creation_date":1547138976,"answer_id":54133386,"question_id":40573342,"body_markdown":"    spring.jpa.hibernate.ddl-auto=none\r\n\r\nthis worked for me and it didn&#39;t messed up with the table and just used it.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n\n<p>this worked for me and it didn't messed up with the table and just used it.</p>\n"},{"tags":[],"owner":{"account_id":975547,"reputation":511,"user_id":9550551,"display_name":"Didier Breedt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597323849,"creation_date":1597323849,"answer_id":63395824,"question_id":40573342,"body_markdown":"Some additional information as I found myself here not understanding why Spring would default to `create-drop`:\r\n\r\n&gt; `spring.jpa.hibernate.ddl-auto` `String`: \r\nDDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot; property. Defaults to &quot;create-drop&quot; when using an embedded database and no schema manager was detected. Otherwise, defaults to &quot;none&quot;.\r\n\r\nSource: Javadoc","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Some additional information as I found myself here not understanding why Spring would default to <code>create-drop</code>:</p>\n<blockquote>\n<p><code>spring.jpa.hibernate.ddl-auto</code> <code>String</code>:\nDDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot; property. Defaults to &quot;create-drop&quot; when using an embedded database and no schema manager was detected. Otherwise, defaults to &quot;none&quot;.</p>\n</blockquote>\n<p>Source: Javadoc</p>\n"},{"tags":[],"owner":{"account_id":25083438,"reputation":1,"user_id":18935928,"display_name":"Praniket More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651654257,"creation_date":1651654257,"answer_id":72110235,"question_id":40573342,"body_markdown":"    spring.jpa.hibernate.ddl-auto=validate\r\n\r\nadd this line in **applications.properties** file. This worked for me.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<pre><code>spring.jpa.hibernate.ddl-auto=validate\n</code></pre>\n<p>add this line in <strong>applications.properties</strong> file. This worked for me.</p>\n"}],"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21033,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":40573552,"answer_count":5,"score":11,"last_activity_date":1666439665,"creation_date":1479036904,"question_id":40573342,"body_markdown":"I&#39;m new with Spring. I finally succeeded to build my application with no error but when i&#39;m looking to the output i have a lot of information that i don&#39;t understand. \r\n\r\nFirst this error each tables,  it seems to be a Hibernate/Spring bug : \r\n\r\n    Hibernate: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\r\n            2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\r\n            2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : ERREUR: la relation &#171; entity.administrationaction &#187; n&#39;existe pas \r\n\r\nThen this for each table : \r\n\r\n    Hibernate: drop table if exists entity.administrationaction cascade\r\n\r\nThen this for each table : \r\n \r\n    Hibernate: create table entity.administrationaction (id  serial not null, action int4, creation_date timestamp, entity_class varchar(255), entity_id int4, message varchar(255), administrator_id int4, primary key (id))\r\n\r\n\r\nSo it is like Spring was trying to drop all my database and recreate it. Why ? Is it normal or have i done something wrong ? ","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>I'm new with Spring. I finally succeeded to build my application with no error but when i'm looking to the output i have a lot of information that i don't understand. </p>\n\n<p>First this error each tables,  it seems to be a Hibernate/Spring bug : </p>\n\n<pre><code>Hibernate: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\n        2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\n        2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : ERREUR: la relation « entity.administrationaction » n'existe pas \n</code></pre>\n\n<p>Then this for each table : </p>\n\n<pre><code>Hibernate: drop table if exists entity.administrationaction cascade\n</code></pre>\n\n<p>Then this for each table : </p>\n\n<pre><code>Hibernate: create table entity.administrationaction (id  serial not null, action int4, creation_date timestamp, entity_class varchar(255), entity_id int4, message varchar(255), administrator_id int4, primary key (id))\n</code></pre>\n\n<p>So it is like Spring was trying to drop all my database and recreate it. Why ? Is it normal or have i done something wrong ? </p>\n"},{"tags":["java","geometry","drawing","coordinates"],"comments":[{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866161,"post_id":58351952,"comment_id":103058012,"body_markdown":"Hello, could you explain with an example how the coordinates are expressed per row?","body":"Hello, could you explain with an example how the coordinates are expressed per row?"},{"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"score":1,"creation_date":1570866509,"post_id":58351952,"comment_id":103058090,"body_markdown":"@mettleap I have update question. Please check.","body":"@mettleap I have update question. Please check."},{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866843,"post_id":58351952,"comment_id":103058154,"body_markdown":"@ArvindKumarAvinash, I was going to say the same thing ...","body":"@ArvindKumarAvinash, I was going to say the same thing ..."},{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866867,"post_id":58351952,"comment_id":103058160,"body_markdown":"@BhavinS. can ew assume that the coordinates on the first line are the start point?","body":"@BhavinS. can ew assume that the coordinates on the first line are the start point?"},{"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"score":0,"creation_date":1570867262,"post_id":58351952,"comment_id":103058230,"body_markdown":"Yes, coordinates on the first line are the start point","body":"Yes, coordinates on the first line are the start point"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1570947362,"creation_date":1570870700,"answer_id":58352493,"question_id":58351952,"body_markdown":"**Updated based on the following assumptions:**\r\n\r\n 1. The first line of coordinates given in the question represents the coordinates of the first line in the set of connected lines\r\n 2. After finding the first set of connected lines, the first **unused** line of remaining lines of coordinates given in the question will be considered as the coordinates of the first line in the next set of connected lines and so on until the list of coordinates given in the question exhaust.\r\n\r\nThe required logic is in `Main.java`. I have also created `Point.java` and `Line.java` to test the logic. Feel free to let me know if you face any issue.\r\n\r\n**Point.java**\r\n\r\n\r\n    public class Point {\r\n    \tint x,y;\r\n    \r\n    \tpublic Point(int x, int y) {\r\n    \t\tsuper();\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \r\n    \tpublic void setX(int x) {\r\n    \t\tthis.x = x;\r\n    \t}\r\n    \r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \r\n    \tpublic void setY(int y) {\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\n\r\n**Line.java**\r\n\r\n\r\n\r\n    public class Line {\r\n    \tint x1,y1,x2,y2;\r\n    \tPoint start,end;\r\n    \tboolean used;\r\n    \tpublic Line(int x1, int y1, int x2, int y2) {\r\n    \t\tsuper();\r\n    \t\tthis.x1 = x1;\r\n    \t\tthis.y1 = y1;\r\n    \t\tthis.x2 = x2;\r\n    \t\tthis.y2 = y2;\r\n    \t}\r\n    \tpublic Line(Point start, Point end) {\r\n    \t\tsuper();\r\n    \t\tthis.start = start;\r\n    \t\tthis.end = end;\r\n    \t}\r\n    \tpublic int getX1() {\r\n    \t\treturn x1;\r\n    \t}\r\n    \tpublic void setX1(int x1) {\r\n    \t\tthis.x1 = x1;\r\n    \t}\r\n    \tpublic int getY1() {\r\n    \t\treturn y1;\r\n    \t}\r\n    \tpublic void setY1(int y1) {\r\n    \t\tthis.y1 = y1;\r\n    \t}\r\n    \tpublic int getX2() {\r\n    \t\treturn x2;\r\n    \t}\r\n    \tpublic void setX2(int x2) {\r\n    \t\tthis.x2 = x2;\r\n    \t}\r\n    \tpublic int getY2() {\r\n    \t\treturn y2;\r\n    \t}\r\n    \tpublic void setY2(int y2) {\r\n    \t\tthis.y2 = y2;\r\n    \t}\r\n    \tpublic Point getStart() {\r\n    \t\treturn start;\r\n    \t}\r\n    \tpublic void setStart(Point start) {\r\n    \t\tthis.start = start;\r\n    \t}\r\n    \tpublic Point getEnd() {\r\n    \t\treturn end;\r\n    \t}\r\n    \tpublic void setEnd(Point end) {\r\n    \t\tthis.end = end;\r\n    \t}\r\n    \tpublic boolean isUsed() {\r\n    \t\treturn used;\r\n    \t}\r\n    \tpublic void setUsed(boolean used) {\r\n    \t\tthis.used = used;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Line [x1=&quot; + x1 + &quot;, y1=&quot; + y1 + &quot;, x2=&quot; + x2 + &quot;, y2=&quot; + y2 + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\n\r\n**Main.java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class Main {\r\n        public static void main(String args[]) {\r\n            List&lt;Line&gt; givenLines = new ArrayList&lt;Line&gt;();\r\n            givenLines.add(new Line(3350, 1500, 3200, 1500));\r\n            givenLines.add(new Line(1450, 1750, 1450, 2200));\r\n            givenLines.add(new Line(1450, 2200, 2100, 2200));\r\n            givenLines.add(new Line(2400, 2200, 2550, 2200));\r\n            givenLines.add(new Line(2550, 2200, 2550, 2350));\r\n            givenLines.add(new Line(2550, 2350, 2850, 2350));\r\n            givenLines.add(new Line(2850, 2350, 2850, 2700));\r\n            givenLines.add(new Line(2850, 2700, 3350, 2700));\r\n            givenLines.add(new Line(3650, 2700, 3750, 2700));\r\n            givenLines.add(new Line(3750, 2700, 3750, 2600));\r\n            givenLines.add(new Line(3750, 2600, 5250, 2600));\r\n            givenLines.add(new Line(5250, 2600, 5250, 2350));\r\n            givenLines.add(new Line(5250, 2350, 5000, 2350));\r\n            givenLines.add(new Line(4700, 2350, 4350, 2350));\r\n            givenLines.add(new Line(4350, 2350, 4350, 1600));\r\n            givenLines.add(new Line(4350, 1600, 3650, 1600));\r\n            givenLines.add(new Line(3650, 1600, 3650, 1500));\r\n            givenLines.add(new Line(3200, 1500, 3200, 1750));\r\n            givenLines.add(new Line(3200, 1750, 1450, 1750));\r\n    \r\n            int linesIndex, usedCounter=0;\r\n            List&lt;List&lt;Line&gt;&gt; listOfConnectedLines = new ArrayList&lt;List&lt;Line&gt;&gt;();\r\n    \r\n            //The start (first) line, in the list of given lines, to be processed to find the first set of connected lines\r\n            Line startLineforTheNextSetOfConnectedLines=givenLines.get(0);\r\n            startLineforTheNextSetOfConnectedLines.setUsed(true);\r\n            usedCounter = 1;        \r\n    \r\n            //Process the list of given lines until all the lines have been used to form the connected lines\r\n            while (usedCounter &lt; givenLines.size()) {\r\n    \r\n                linesIndex = 0;         \r\n                List&lt;Line&gt; connectedLines = new ArrayList&lt;Line&gt;();\r\n                connectedLines.add(linesIndex, startLineforTheNextSetOfConnectedLines);     \r\n                Line nextLine=null;\r\n                \r\n                //Starting with startLineforTheNextSetOfConnectedLines, the variable lastArrangedLine will hold the next lines qualifying to become the connected line \r\n                Line lastArrangedLine=startLineforTheNextSetOfConnectedLines;\r\n    \r\n                //Create the list of connected lines starting with startLineforTheNextSetOfConnectedLines\r\n                for (int i = 0; i &lt; givenLines.size(); i++) {\r\n                    for (int j = 0; j &lt; givenLines.size(); j++) {\r\n                        nextLine=givenLines.get(j);\r\n                        if (!nextLine.isUsed() &amp;&amp; lastArrangedLine.getX2() == nextLine.getX1()\r\n                                &amp;&amp; lastArrangedLine.getY2() == nextLine.getY1()) {\r\n                            nextLine.setUsed(true);\r\n                            usedCounter++;\r\n                            connectedLines.add(++linesIndex, nextLine);\r\n                            lastArrangedLine = nextLine;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                //Add the list of connected lines (found from the above nested for loops) to the list of connected lines\r\n                listOfConnectedLines.add(connectedLines);\r\n    \r\n                //Find the start (first) line for the next set of connected lines\r\n                for (int i = 0; i &lt; givenLines.size(); i++) {\r\n                    if(!givenLines.get(i).isUsed()) {\r\n                        startLineforTheNextSetOfConnectedLines=givenLines.get(i);\r\n                        startLineforTheNextSetOfConnectedLines.setUsed(true);\r\n                        usedCounter++;                  \r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            //Display the lists of connected lines\r\n            for(List&lt;Line&gt; connectedLines:listOfConnectedLines)\r\n                System.out.println(connectedLines);\r\n        }\r\n    }\r\n\r\n\r\n**Output for the given list of lines:**\r\n\r\n    [Line [x1=3350, y1=1500, x2=3200, y2=1500], Line [x1=3200, y1=1500, x2=3200, y2=1750], Line [x1=3200, y1=1750, x2=1450, y2=1750], Line [x1=1450, y1=1750, x2=1450, y2=2200], Line [x1=1450, y1=2200, x2=2100, y2=2200]]\r\n    [Line [x1=2400, y1=2200, x2=2550, y2=2200], Line [x1=2550, y1=2200, x2=2550, y2=2350], Line [x1=2550, y1=2350, x2=2850, y2=2350], Line [x1=2850, y1=2350, x2=2850, y2=2700], Line [x1=2850, y1=2700, x2=3350, y2=2700]]\r\n    [Line [x1=3650, y1=2700, x2=3750, y2=2700], Line [x1=3750, y1=2700, x2=3750, y2=2600], Line [x1=3750, y1=2600, x2=5250, y2=2600], Line [x1=5250, y1=2600, x2=5250, y2=2350], Line [x1=5250, y1=2350, x2=5000, y2=2350]]\r\n    [Line [x1=4700, y1=2350, x2=4350, y2=2350], Line [x1=4350, y1=2350, x2=4350, y2=1600], Line [x1=4350, y1=1600, x2=3650, y2=1600], Line [x1=3650, y1=1600, x2=3650, y2=1500]]\r\n\r\n","title":"I have list of coordinates and My requirement is to arrange it","body":"<p><strong>Updated based on the following assumptions:</strong></p>\n\n<ol>\n<li>The first line of coordinates given in the question represents the coordinates of the first line in the set of connected lines</li>\n<li>After finding the first set of connected lines, the first <strong>unused</strong> line of remaining lines of coordinates given in the question will be considered as the coordinates of the first line in the next set of connected lines and so on until the list of coordinates given in the question exhaust.</li>\n</ol>\n\n<p>The required logic is in <code>Main.java</code>. I have also created <code>Point.java</code> and <code>Line.java</code> to test the logic. Feel free to let me know if you face any issue.</p>\n\n<p><strong>Point.java</strong></p>\n\n<pre><code>public class Point {\n    int x,y;\n\n    public Point(int x, int y) {\n        super();\n        this.x = x;\n        this.y = y;\n    }\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n    @Override\n    public String toString() {\n        return \"Point [x=\" + x + \", y=\" + y + \"]\";\n    }   \n}\n</code></pre>\n\n<p><strong>Line.java</strong></p>\n\n<pre><code>public class Line {\n    int x1,y1,x2,y2;\n    Point start,end;\n    boolean used;\n    public Line(int x1, int y1, int x2, int y2) {\n        super();\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    public Line(Point start, Point end) {\n        super();\n        this.start = start;\n        this.end = end;\n    }\n    public int getX1() {\n        return x1;\n    }\n    public void setX1(int x1) {\n        this.x1 = x1;\n    }\n    public int getY1() {\n        return y1;\n    }\n    public void setY1(int y1) {\n        this.y1 = y1;\n    }\n    public int getX2() {\n        return x2;\n    }\n    public void setX2(int x2) {\n        this.x2 = x2;\n    }\n    public int getY2() {\n        return y2;\n    }\n    public void setY2(int y2) {\n        this.y2 = y2;\n    }\n    public Point getStart() {\n        return start;\n    }\n    public void setStart(Point start) {\n        this.start = start;\n    }\n    public Point getEnd() {\n        return end;\n    }\n    public void setEnd(Point end) {\n        this.end = end;\n    }\n    public boolean isUsed() {\n        return used;\n    }\n    public void setUsed(boolean used) {\n        this.used = used;\n    }\n    @Override\n    public String toString() {\n        return \"Line [x1=\" + x1 + \", y1=\" + y1 + \", x2=\" + x2 + \", y2=\" + y2 + \"]\";\n    }   \n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Main {\n    public static void main(String args[]) {\n        List&lt;Line&gt; givenLines = new ArrayList&lt;Line&gt;();\n        givenLines.add(new Line(3350, 1500, 3200, 1500));\n        givenLines.add(new Line(1450, 1750, 1450, 2200));\n        givenLines.add(new Line(1450, 2200, 2100, 2200));\n        givenLines.add(new Line(2400, 2200, 2550, 2200));\n        givenLines.add(new Line(2550, 2200, 2550, 2350));\n        givenLines.add(new Line(2550, 2350, 2850, 2350));\n        givenLines.add(new Line(2850, 2350, 2850, 2700));\n        givenLines.add(new Line(2850, 2700, 3350, 2700));\n        givenLines.add(new Line(3650, 2700, 3750, 2700));\n        givenLines.add(new Line(3750, 2700, 3750, 2600));\n        givenLines.add(new Line(3750, 2600, 5250, 2600));\n        givenLines.add(new Line(5250, 2600, 5250, 2350));\n        givenLines.add(new Line(5250, 2350, 5000, 2350));\n        givenLines.add(new Line(4700, 2350, 4350, 2350));\n        givenLines.add(new Line(4350, 2350, 4350, 1600));\n        givenLines.add(new Line(4350, 1600, 3650, 1600));\n        givenLines.add(new Line(3650, 1600, 3650, 1500));\n        givenLines.add(new Line(3200, 1500, 3200, 1750));\n        givenLines.add(new Line(3200, 1750, 1450, 1750));\n\n        int linesIndex, usedCounter=0;\n        List&lt;List&lt;Line&gt;&gt; listOfConnectedLines = new ArrayList&lt;List&lt;Line&gt;&gt;();\n\n        //The start (first) line, in the list of given lines, to be processed to find the first set of connected lines\n        Line startLineforTheNextSetOfConnectedLines=givenLines.get(0);\n        startLineforTheNextSetOfConnectedLines.setUsed(true);\n        usedCounter = 1;        \n\n        //Process the list of given lines until all the lines have been used to form the connected lines\n        while (usedCounter &lt; givenLines.size()) {\n\n            linesIndex = 0;         \n            List&lt;Line&gt; connectedLines = new ArrayList&lt;Line&gt;();\n            connectedLines.add(linesIndex, startLineforTheNextSetOfConnectedLines);     \n            Line nextLine=null;\n\n            //Starting with startLineforTheNextSetOfConnectedLines, the variable lastArrangedLine will hold the next lines qualifying to become the connected line \n            Line lastArrangedLine=startLineforTheNextSetOfConnectedLines;\n\n            //Create the list of connected lines starting with startLineforTheNextSetOfConnectedLines\n            for (int i = 0; i &lt; givenLines.size(); i++) {\n                for (int j = 0; j &lt; givenLines.size(); j++) {\n                    nextLine=givenLines.get(j);\n                    if (!nextLine.isUsed() &amp;&amp; lastArrangedLine.getX2() == nextLine.getX1()\n                            &amp;&amp; lastArrangedLine.getY2() == nextLine.getY1()) {\n                        nextLine.setUsed(true);\n                        usedCounter++;\n                        connectedLines.add(++linesIndex, nextLine);\n                        lastArrangedLine = nextLine;\n                        break;\n                    }\n                }\n            }\n\n            //Add the list of connected lines (found from the above nested for loops) to the list of connected lines\n            listOfConnectedLines.add(connectedLines);\n\n            //Find the start (first) line for the next set of connected lines\n            for (int i = 0; i &lt; givenLines.size(); i++) {\n                if(!givenLines.get(i).isUsed()) {\n                    startLineforTheNextSetOfConnectedLines=givenLines.get(i);\n                    startLineforTheNextSetOfConnectedLines.setUsed(true);\n                    usedCounter++;                  \n                    break;\n                }\n            }\n        }\n\n        //Display the lists of connected lines\n        for(List&lt;Line&gt; connectedLines:listOfConnectedLines)\n            System.out.println(connectedLines);\n    }\n}\n</code></pre>\n\n<p><strong>Output for the given list of lines:</strong></p>\n\n<pre><code>[Line [x1=3350, y1=1500, x2=3200, y2=1500], Line [x1=3200, y1=1500, x2=3200, y2=1750], Line [x1=3200, y1=1750, x2=1450, y2=1750], Line [x1=1450, y1=1750, x2=1450, y2=2200], Line [x1=1450, y1=2200, x2=2100, y2=2200]]\n[Line [x1=2400, y1=2200, x2=2550, y2=2200], Line [x1=2550, y1=2200, x2=2550, y2=2350], Line [x1=2550, y1=2350, x2=2850, y2=2350], Line [x1=2850, y1=2350, x2=2850, y2=2700], Line [x1=2850, y1=2700, x2=3350, y2=2700]]\n[Line [x1=3650, y1=2700, x2=3750, y2=2700], Line [x1=3750, y1=2700, x2=3750, y2=2600], Line [x1=3750, y1=2600, x2=5250, y2=2600], Line [x1=5250, y1=2600, x2=5250, y2=2350], Line [x1=5250, y1=2350, x2=5000, y2=2350]]\n[Line [x1=4700, y1=2350, x2=4350, y2=2350], Line [x1=4350, y1=2350, x2=4350, y2=1600], Line [x1=4350, y1=1600, x2=3650, y2=1600], Line [x1=3650, y1=1600, x2=3650, y2=1500]]\n</code></pre>\n"}],"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58352493,"answer_count":1,"score":1,"last_activity_date":1666439029,"creation_date":1570865779,"question_id":58351952,"body_markdown":"I have list of coordinates to draw line.\r\n\r\nActually Problem is these coordinates are not in sequence.\r\n\r\nCoordinate of endline is coordinates of startline for another line.\r\nIf any line&#39;s endline coordinates is not match with another line&#39;s start coordinates then create list of connected line.\r\n\r\nCoordinates of lines are as startx,starty,endx,endy.\r\n\r\nBelow is list of lines coordinates.\r\n\r\n3350 1500 3200 1500\r\n\r\n1450 1750 1450 2200\r\n\r\n1450 2200 2100 2200\r\n\r\n2400 2200 2550 2200\r\n\r\n2550 2200 2550 2350\r\n\r\n2550 2350 2850 2350\r\n\r\n2850 2350 2850 2700\r\n\r\n2850 2700 3350 2700\r\n\r\n3650 2700 3750 2700\r\n\r\n3750 2700 3750 2600\r\n\r\n3750 2600 5250 2600\r\n\r\n5250 2600 5250 2350\r\n\r\n5250 2350 5000 2350\r\n\r\n4700 2350 4350 2350\r\n\r\n4350 2350 4350 1600\r\n\r\n4350 1600 3650 1600\r\n\r\n3650 1600 3650 1500\r\n\r\n3200 1500 3200 1750\r\n\r\n3200 1750 1450 1750\r\n\r\nHere last two line coordinates is actually on 2nd and 3rd position.\r\n\r\n3200 1500 3200 1750\r\n\r\n3200 1750 1450 1750\r\n\r\nMy requirement is to create all the bunch of lines which are connected to each other. \r\n\r\n\r\n \r\n\r\n\r\n    List&lt;DeviceElement&gt; outerListWire= new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\r\n    List&lt;DeviceElement&gt; innerListWire = new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\r\n        List&lt;DeviceElement&gt; listWireTemp = new ArrayList&lt;DeviceElement&gt;();\r\n    for (int j = 0; j &lt; outerListWire.size(); j++) {\r\n    \tWire wire1 = (Wire) outerListWire.get(j);\r\n    \tfor (int i = 0; i &lt; innerListWire.size(); i++) {\r\n    \t\tWire wire2 = (Wire) innerListWire.get(i);\r\n    \t\t\r\n    \t\tif (wire1.getEndPoint().getX() == wire2.getStartPoint().getX() &amp;&amp; wire1.getEndPoint().getY() == wire2.getStartPoint().getY() ) {\r\n    \t\t\tif (!listWireTemp.contains(wire1)) {\r\n    \t\t\t\tlistWireTemp.add(wire1);\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t.println(&quot;wire1 = &quot; + wire1.getStartPoint().toString() + &quot; = &quot; + wire1.getEndPoint().toString());\r\n    \t\t\t\tinnerListWire.remove(wire1);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (!listWireTemp.contains(wire2)) {\r\n    \t\t\t\tlistWireTemp.add(wire2);\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t.println(&quot;wire2 = &quot; + wire2.getStartPoint().toString() + &quot; = &quot; + wire2.getEndPoint().toString());\r\n    \t\t\t\tinnerListWire.remove(wire2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nI have tried above code but still coordinates list not getting in sequence.","title":"I have list of coordinates and My requirement is to arrange it","body":"<p>I have list of coordinates to draw line.</p>\n\n<p>Actually Problem is these coordinates are not in sequence.</p>\n\n<p>Coordinate of endline is coordinates of startline for another line.\nIf any line's endline coordinates is not match with another line's start coordinates then create list of connected line.</p>\n\n<p>Coordinates of lines are as startx,starty,endx,endy.</p>\n\n<p>Below is list of lines coordinates.</p>\n\n<p>3350 1500 3200 1500</p>\n\n<p>1450 1750 1450 2200</p>\n\n<p>1450 2200 2100 2200</p>\n\n<p>2400 2200 2550 2200</p>\n\n<p>2550 2200 2550 2350</p>\n\n<p>2550 2350 2850 2350</p>\n\n<p>2850 2350 2850 2700</p>\n\n<p>2850 2700 3350 2700</p>\n\n<p>3650 2700 3750 2700</p>\n\n<p>3750 2700 3750 2600</p>\n\n<p>3750 2600 5250 2600</p>\n\n<p>5250 2600 5250 2350</p>\n\n<p>5250 2350 5000 2350</p>\n\n<p>4700 2350 4350 2350</p>\n\n<p>4350 2350 4350 1600</p>\n\n<p>4350 1600 3650 1600</p>\n\n<p>3650 1600 3650 1500</p>\n\n<p>3200 1500 3200 1750</p>\n\n<p>3200 1750 1450 1750</p>\n\n<p>Here last two line coordinates is actually on 2nd and 3rd position.</p>\n\n<p>3200 1500 3200 1750</p>\n\n<p>3200 1750 1450 1750</p>\n\n<p>My requirement is to create all the bunch of lines which are connected to each other. </p>\n\n<pre><code>List&lt;DeviceElement&gt; outerListWire= new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\nList&lt;DeviceElement&gt; innerListWire = new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\n    List&lt;DeviceElement&gt; listWireTemp = new ArrayList&lt;DeviceElement&gt;();\nfor (int j = 0; j &lt; outerListWire.size(); j++) {\n    Wire wire1 = (Wire) outerListWire.get(j);\n    for (int i = 0; i &lt; innerListWire.size(); i++) {\n        Wire wire2 = (Wire) innerListWire.get(i);\n\n        if (wire1.getEndPoint().getX() == wire2.getStartPoint().getX() &amp;&amp; wire1.getEndPoint().getY() == wire2.getStartPoint().getY() ) {\n            if (!listWireTemp.contains(wire1)) {\n                listWireTemp.add(wire1);\n                System.out\n                .println(\"wire1 = \" + wire1.getStartPoint().toString() + \" = \" + wire1.getEndPoint().toString());\n                innerListWire.remove(wire1);\n            }\n\n            if (!listWireTemp.contains(wire2)) {\n                listWireTemp.add(wire2);\n                System.out\n                .println(\"wire2 = \" + wire2.getStartPoint().toString() + \" = \" + wire2.getEndPoint().toString());\n                innerListWire.remove(wire2);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried above code but still coordinates list not getting in sequence.</p>\n"},{"tags":["java","arrays","sorting","selection-sort"],"owner":{"account_id":24351995,"reputation":13,"user_id":18287710,"display_name":"Ellie Riggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666438302,"creation_date":1665666147,"question_id":74056245,"body_markdown":"So my Professor gave us an activity where we input the amount of array and its value. Then Selection sort will be implemented and will display each pass. I manage to do the input part but only managed to display the unsorted and sorted output. I&#39;ve been wracking my brains on how to show the input of each pass but I always come up short. I saw a code in C/C++ but I don&#39;t know how to read the language well enough to understand the code.\r\n\r\nThis is what the expected output:\r\n```\r\nInput a number: 5\r\n\r\na[0]: 5\r\n\r\na[1]: 4\r\n\r\na[2]: 2\r\n\r\na[3]: 8\r\n\r\na[4]: 10\r\n\r\nUnSorted Array: 5  4  2  8  10 \r\n\r\n1st Pass: 5 4 2 8 10\r\n\r\n2nd Pass: 5 4 2 8 10\r\n\r\n3rd Pass: 2 4 5 8 10\r\n\r\nSorted Array Values :2  4  5  8  10  \r\n```\r\n\t\r\nAnd here&#39;s my current output:\r\n\r\n```\r\nInput a number: 5\r\n\r\na[0]: 5\r\n\r\na[1]: 4\r\n\r\na[2]: 2\r\n\r\na[3]: 8\r\n\r\na[4]: 10\r\n\r\nUnSorted Array: 5  4  2  8  10  \r\n\r\nSorted Array Values: 2  4  5  8  10  \r\n```\r\n\r\nThis is my code:\r\n```\r\npublic static void main(String[] args) {\r\n\t// TODO Auto-generated method stub\r\n\t/*\r\n\t * input number of array\r\n\t * display array\r\n\t * 1st pass\r\n\t * 2nd pass\r\n\t * 3rd \r\n\t * 4th\r\n\t * 5th...\r\n\t */\r\n\tScanner ss = new Scanner(System.in);\r\n\tint a, j, temp;  \r\n\tint arr[] = new int[50];  \r\n\t\r\n\t//input number of array\r\n\tSystem.out.print(&quot;Input a number: &quot;);\r\n\tint num=ss.nextInt();\r\n\tSystem.out.print(&quot;&quot;);\r\n\t\r\n\t//display array\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tSystem.out.print(&quot;a[&quot; + a + &quot;]: &quot;);\r\n\t\tarr[a] = ss.nextInt();\r\n\t}\r\n\t\r\n\t//Unsorted Value\r\n\tSystem.out.print(&quot;UnSorted Array: &quot;);\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tSystem.out.print(arr[a] + &quot;  &quot;);\r\n\t}\r\n\t\r\n\tSystem.out.println();\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tfor(j = a + 1; j &lt; num; j++) {   \r\n\t\t\tif(arr[a] &gt; arr[j]) {  \r\n\t\t\t\ttemp = arr[a];  \r\n\t\t\t\tarr[a] = arr[j];  \r\n\t\t\t\tarr[j] = temp;  \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//Passes\r\n\t\r\n\t//Sorted Value\r\n\tSystem.out.print(&quot;Sorted Array Values :&quot;);  \r\n\tfor (a = 0; a &lt; num; a++) {  \r\n\t\tSystem.out.print(arr[a] + &quot;  &quot;);  \r\n\t}\r\n}\r\n```","title":"Selection Sort displaying each Pass","body":"<p>So my Professor gave us an activity where we input the amount of array and its value. Then Selection sort will be implemented and will display each pass. I manage to do the input part but only managed to display the unsorted and sorted output. I've been wracking my brains on how to show the input of each pass but I always come up short. I saw a code in C/C++ but I don't know how to read the language well enough to understand the code.</p>\n<p>This is what the expected output:</p>\n<pre><code>Input a number: 5\n\na[0]: 5\n\na[1]: 4\n\na[2]: 2\n\na[3]: 8\n\na[4]: 10\n\nUnSorted Array: 5  4  2  8  10 \n\n1st Pass: 5 4 2 8 10\n\n2nd Pass: 5 4 2 8 10\n\n3rd Pass: 2 4 5 8 10\n\nSorted Array Values :2  4  5  8  10  \n</code></pre>\n<p>And here's my current output:</p>\n<pre><code>Input a number: 5\n\na[0]: 5\n\na[1]: 4\n\na[2]: 2\n\na[3]: 8\n\na[4]: 10\n\nUnSorted Array: 5  4  2  8  10  \n\nSorted Array Values: 2  4  5  8  10  \n</code></pre>\n<p>This is my code:</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    /*\n     * input number of array\n     * display array\n     * 1st pass\n     * 2nd pass\n     * 3rd \n     * 4th\n     * 5th...\n     */\n    Scanner ss = new Scanner(System.in);\n    int a, j, temp;  \n    int arr[] = new int[50];  \n    \n    //input number of array\n    System.out.print(&quot;Input a number: &quot;);\n    int num=ss.nextInt();\n    System.out.print(&quot;&quot;);\n    \n    //display array\n    for (a = 0; a &lt; num; a++) {\n        System.out.print(&quot;a[&quot; + a + &quot;]: &quot;);\n        arr[a] = ss.nextInt();\n    }\n    \n    //Unsorted Value\n    System.out.print(&quot;UnSorted Array: &quot;);\n    for (a = 0; a &lt; num; a++) {\n        System.out.print(arr[a] + &quot;  &quot;);\n    }\n    \n    System.out.println();\n    for (a = 0; a &lt; num; a++) {\n        for(j = a + 1; j &lt; num; j++) {   \n            if(arr[a] &gt; arr[j]) {  \n                temp = arr[a];  \n                arr[a] = arr[j];  \n                arr[j] = temp;  \n            }\n        }\n    }\n    //Passes\n    \n    //Sorted Value\n    System.out.print(&quot;Sorted Array Values :&quot;);  \n    for (a = 0; a &lt; num; a++) {  \n        System.out.print(arr[a] + &quot;  &quot;);  \n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1666286732,"post_id":74143428,"comment_id":130906717,"body_markdown":"1. You can pass data between Activities via Intent. 2. You can use multiple fragments &amp; use the Single Activity architecture as well.","body":"1. You can pass data between Activities via Intent. 2. You can use multiple fragments &amp; use the Single Activity architecture as well."},{"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"score":0,"creation_date":1666291941,"post_id":74143428,"comment_id":130908447,"body_markdown":"So as far as i understand intent is kinda like a variable that is beeing passed into function ? Meaning - if i will start activity and pass intent to it and later finish activity (finish() ) and then start activity again without passing value in intent, the previous passed intent wont be available anymore ?","body":"So as far as i understand intent is kinda like a variable that is beeing passed into function ? Meaning - if i will start activity and pass intent to it and later finish activity (finish() ) and then start activity again without passing value in intent, the previous passed intent wont be available anymore ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666326535,"post_id":74143428,"comment_id":130915145,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666437999,"creation_date":1666437999,"answer_id":74163136,"question_id":74143428,"body_markdown":"Solved with  startActivityForResult:\r\n\r\n   \r\n\r\n        Intent intent = new Intent(MainActivity.this, SetKnownPlaces.class);\r\n        intent.putExtra(&quot;lat&quot;, geoLastLocation.getLatitude());\r\n        intent.putExtra(&quot;lon&quot;, geoLastLocation.getLongitude());\r\n        intent.putExtra(&quot;title&quot;, getString(R.string.KnownPlaces_title_home));\r\n        startActivityForResult(intent, 1);\r\n\r\n         @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        try {\r\n            if (requestCode == 1) {\r\n                navi.homeAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n            if (requestCode == 2) {\r\n                navi.workAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n\r\n            if (requestCode == 3) {\r\n                navi.favAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.homeAddress.getLatitude());\r\n        Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.workAddress.getLatitude());\r\n\r\n    }\r\n\r\n\r\nThen in 2nd Activity:\r\n\r\n        title.setText(getIntent().getStringExtra(&quot;title&quot;));\r\n        map.init();\r\n\r\n        GeoPoint lastLocation = new GeoPoint(getIntent().getDoubleExtra(&quot;lat&quot;,0), \r\n        getIntent().getDoubleExtra(&quot;lon&quot;,0));\r\n\r\n\r\n\r\n\r\n","title":"new activity vs 2 x setContentView in the same activity","body":"<p>Solved with  startActivityForResult:</p>\n<pre><code>    Intent intent = new Intent(MainActivity.this, SetKnownPlaces.class);\n    intent.putExtra(&quot;lat&quot;, geoLastLocation.getLatitude());\n    intent.putExtra(&quot;lon&quot;, geoLastLocation.getLongitude());\n    intent.putExtra(&quot;title&quot;, getString(R.string.KnownPlaces_title_home));\n    startActivityForResult(intent, 1);\n\n     @Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    try {\n        if (requestCode == 1) {\n            navi.homeAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n        if (requestCode == 2) {\n            navi.workAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n\n        if (requestCode == 3) {\n            navi.favAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.homeAddress.getLatitude());\n    Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.workAddress.getLatitude());\n\n}\n</code></pre>\n<p>Then in 2nd Activity:</p>\n<pre><code>    title.setText(getIntent().getStringExtra(&quot;title&quot;));\n    map.init();\n\n    GeoPoint lastLocation = new GeoPoint(getIntent().getDoubleExtra(&quot;lat&quot;,0), \n    getIntent().getDoubleExtra(&quot;lon&quot;,0));\n</code></pre>\n"}],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666437999,"creation_date":1666283892,"question_id":74143428,"body_markdown":"I&#39;m designing navigation app using Osmdroid and OSRM. I have MainActivity which shows map and is beeing used for navigation purposes to display current location, route, speed etc. \r\nNow i want to add functionality to set home address and work address but i want to do it in new View since it would be struggle to hide all of the buttons, stop follow direction and creating new View seems like better apporach.\r\n\r\n1. First idea is to create new activity set new contentview and play there BUT to do that i would need to inform activity on start that now i will be setting for example home address not work address. If it was a function i would just pass int variable to function and inside of it make if statements - 1 is work, 2 is home etc.\r\n\r\n2. Second idea is to just make a function in the same activity to set new content view, make return as location, and then save result to address i want it to be set. Although if after this operation i will call old contentview i want be back to the previous state of the old content (for example there was a route already set)\r\n\r\nIs there better way to do it ? \r\n","title":"new activity vs 2 x setContentView in the same activity","body":"<p>I'm designing navigation app using Osmdroid and OSRM. I have MainActivity which shows map and is beeing used for navigation purposes to display current location, route, speed etc.\nNow i want to add functionality to set home address and work address but i want to do it in new View since it would be struggle to hide all of the buttons, stop follow direction and creating new View seems like better apporach.</p>\n<ol>\n<li><p>First idea is to create new activity set new contentview and play there BUT to do that i would need to inform activity on start that now i will be setting for example home address not work address. If it was a function i would just pass int variable to function and inside of it make if statements - 1 is work, 2 is home etc.</p>\n</li>\n<li><p>Second idea is to just make a function in the same activity to set new content view, make return as location, and then save result to address i want it to be set. Although if after this operation i will call old contentview i want be back to the previous state of the old content (for example there was a route already set)</p>\n</li>\n</ol>\n<p>Is there better way to do it ?</p>\n"},{"tags":["java","parent-child"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1666375933,"post_id":74157117,"comment_id":130930572,"body_markdown":"can you please indent your code so it&#39;s readable, and also add expected input and output?","body":"can you please indent your code so it&#39;s readable, and also add expected input and output?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1666376182,"post_id":74157117,"comment_id":130930649,"body_markdown":"`I want to validate the parent child relationship,`, this is not clear. You should reword what you want as output.","body":"<code>I want to validate the parent child relationship,</code>, this is not clear. You should reword what you want as output."}],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666381072,"creation_date":1666381072,"answer_id":74158471,"question_id":74157117,"body_markdown":"It looks like you need to traverse the tree in both directions so you need to build a data structure that reflects this.\r\n\r\nAdd a parentCategory field to your Category class, plus a List of child categories. Initialise these new fields in a new method Category getCategoryTree() which will return the root category. \r\n\r\nInitialising the tree is a little tricky, but once done you will be able to navigate freely up and down the category hierarchy.","title":"How to verify if the objects in a list are all having parent child relationship in java","body":"<p>It looks like you need to traverse the tree in both directions so you need to build a data structure that reflects this.</p>\n<p>Add a parentCategory field to your Category class, plus a List of child categories. Initialise these new fields in a new method Category getCategoryTree() which will return the root category.</p>\n<p>Initialising the tree is a little tricky, but once done you will be able to navigate freely up and down the category hierarchy.</p>\n"}],"owner":{"account_id":26316107,"reputation":1,"user_id":19978865,"display_name":"v_1403"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666437955,"creation_date":1666372584,"question_id":74157117,"body_markdown":"I am having a List of categories, and I am trying to find if the categories are all related to each other. For Example, HW, Phones, Iphone and 13 Pro are the categories. Each Category will have fields categoryid and parentId. \r\n\r\nHW -&gt; Phones -&gt; IPhone -&gt; 13 Pro \r\n\r\nIn above case, HW has parentId as null since it is a root, Phones has parentId as HW, Iphone has parentId as Phones, and 13 Pro has parent id as IPhone. \r\nI want to validate the parent child relationship along with the order of the categories( meaning, 13 Pro is a child of Iphone, Iphone is a child of Phones, Phones is a child of HW and If they are not in the order, ex: HW -&gt; 13 Pro -&gt; IPhone -&gt; Phones , then I need to throw error saying the order is incorrect), as I get this List from an external service. Also the order could not be hierachial. The list could be in any order. I am trying to write a Java code for the same. Any help is appreciated. Thanks in advance. \r\n            \r\n    List&lt;Category&gt; categoryList = getCategoryList();\r\n    categoryList.stream().forEach(category -&gt; {\r\n        if (category.getParentId().isEmpty()) {\r\n            String rootCategory = category.getId();\r\n            if (category.getParentId().equals(rootCategory)) {\r\n                String category2 = category.getId();\r\n                if (category.getParentId().equals(category2)) {\r\n                    String category3 = category.getId();\r\n                    if (category.getParentId().equals(category3)) {\r\n                        String category4 = category.getId();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });","title":"How to verify if the objects in a list are all having parent child relationship in java","body":"<p>I am having a List of categories, and I am trying to find if the categories are all related to each other. For Example, HW, Phones, Iphone and 13 Pro are the categories. Each Category will have fields categoryid and parentId.</p>\n<p>HW -&gt; Phones -&gt; IPhone -&gt; 13 Pro</p>\n<p>In above case, HW has parentId as null since it is a root, Phones has parentId as HW, Iphone has parentId as Phones, and 13 Pro has parent id as IPhone.\nI want to validate the parent child relationship along with the order of the categories( meaning, 13 Pro is a child of Iphone, Iphone is a child of Phones, Phones is a child of HW and If they are not in the order, ex: HW -&gt; 13 Pro -&gt; IPhone -&gt; Phones , then I need to throw error saying the order is incorrect), as I get this List from an external service. Also the order could not be hierachial. The list could be in any order. I am trying to write a Java code for the same. Any help is appreciated. Thanks in advance.</p>\n<pre><code>List&lt;Category&gt; categoryList = getCategoryList();\ncategoryList.stream().forEach(category -&gt; {\n    if (category.getParentId().isEmpty()) {\n        String rootCategory = category.getId();\n        if (category.getParentId().equals(rootCategory)) {\n            String category2 = category.getId();\n            if (category.getParentId().equals(category2)) {\n                String category3 = category.getId();\n                if (category.getParentId().equals(category3)) {\n                    String category4 = category.getId();\n                }\n            }\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666374525,"post_id":74157168,"comment_id":130930186,"body_markdown":"Add the array as an extra on the `Intent`, just as you would if you were passing the array to another activity.","body":"Add the array as an extra on the <code>Intent</code>, just as you would if you were passing the array to another activity."},{"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"score":0,"creation_date":1666375898,"post_id":74157168,"comment_id":130930564,"body_markdown":"@CommonsWare ,  sorry, I don&#39;t quite understand how to do this, can you please clarify?","body":"@CommonsWare ,  sorry, I don&#39;t quite understand how to do this, can you please clarify?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666376582,"post_id":74157168,"comment_id":130930752,"body_markdown":"Extras are part of an `Intent`, for passing data between components. See [the documentation](https://developer.android.com/guide/components/intents-filters#Building). I also cover extras (in the context of activities) in [this chapter](https://commonsware.com/Jetpack/pages/chap-activities-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"Extras are part of an <code>Intent</code>, for passing data between components. See <a href=\"https://developer.android.com/guide/components/intents-filters#Building\" rel=\"nofollow noreferrer\">the documentation</a>. I also cover extras (in the context of activities) in <a href=\"https://commonsware.com/Jetpack/pages/chap-activities-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"score":0,"creation_date":1666379949,"post_id":74157168,"comment_id":130931720,"body_markdown":"@CommonsWare, in general, I looked at everything, and even figured it out a little more, but the ```getIntent()``` function is used everywhere, which is outdated and it is not possible to use it. Is there any alternative?","body":"@CommonsWare, in general, I looked at everything, and even figured it out a little more, but the <code>getIntent()</code> function is used everywhere, which is outdated and it is not possible to use it. Is there any alternative?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666381095,"post_id":74157168,"comment_id":130932027,"body_markdown":"&quot;but the getIntent() function is used everywhere, which is outdated and it is not possible to use it&quot; -- `getIntent()` is not outdated. However, that is a method on `Activity`. In your service, override `onStartCommand()`, and you receive your `Intent` as a parameter. Note that using a service is unusual in 2022, so you might want to reconsider whether a service is appropriate for whatever problem you are trying to solve.","body":"&quot;but the getIntent() function is used everywhere, which is outdated and it is not possible to use it&quot; -- <code>getIntent()</code> is not outdated. However, that is a method on <code>Activity</code>. In your service, override <code>onStartCommand()</code>, and you receive your <code>Intent</code> as a parameter. Note that using a service is unusual in 2022, so you might want to reconsider whether a service is appropriate for whatever problem you are trying to solve."}],"answers":[{"tags":[],"owner":{"account_id":16217139,"reputation":377,"user_id":11709683,"display_name":"Anas Hafidi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666437376,"creation_date":1666437376,"answer_id":74163058,"question_id":74157168,"body_markdown":"in MainActivity start your service like this \r\n```\r\n Intent intent =new Intent(this,MyService.class);\r\n        intent.putExtra(&quot;myArray&quot;,arr); \r\n        startService(intent);\r\n```\r\n\r\non your service override onStartCommand method  \r\n\r\n```\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        int myList[]=intent.getIntArrayExtra(&quot;myArray&quot;);\r\n        for (int item:myList){\r\n            Log.i(&quot;MyLog&quot;, &quot;onStartCommand: &quot;+item);\r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n\r\n    }\r\n```\r\n\r\nand don&#39;t forget to declare your service on AndroidManifest file inside Application tag add \r\n```\r\n&lt;service android:name=&quot;.MyService&quot;/&gt;\r\n```","title":"Pass array from activity to service (Android)","body":"<p>in MainActivity start your service like this</p>\n<pre><code> Intent intent =new Intent(this,MyService.class);\n        intent.putExtra(&quot;myArray&quot;,arr); \n        startService(intent);\n</code></pre>\n<p>on your service override onStartCommand method</p>\n<pre><code>    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int myList[]=intent.getIntArrayExtra(&quot;myArray&quot;);\n        for (int item:myList){\n            Log.i(&quot;MyLog&quot;, &quot;onStartCommand: &quot;+item);\n        }\n        return super.onStartCommand(intent, flags, startId);\n\n    }\n</code></pre>\n<p>and don't forget to declare your service on AndroidManifest file inside Application tag add</p>\n<pre><code>&lt;service android:name=&quot;.MyService&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74163058,"answer_count":1,"score":0,"last_activity_date":1666437376,"creation_date":1666372830,"question_id":74157168,"body_markdown":"i&#39;m beginner to java and i&#39;m trying to do the following: in MainActivity generate an array and pass it to the Service. The difficulty lies precisely in how to pass this array to the Service. Yes, I saw that there are many similar questions, but I can&#39;t understand the principle of how this happens.\r\n\r\nWhat can you advise me?\r\n\r\nMainActivity.java\r\n\r\n```\r\npackage com.example.myservice;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        int[] arr = new int[5];\r\n        StringBuilder num = new StringBuilder();\r\n\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            arr[i] = (int) (Math.random() * 10);\r\n            num.append(arr[i]).append(&quot; &quot;);\r\n        }\r\n\r\n        TextView textView = findViewById(R.id.textView2);\r\n\r\n        textView.setText(num);\r\n        startService(new Intent(this, MyService.class));\r\n    }\r\n}\r\n```\r\n\r\nMyService.java\r\n```\r\npackage com.example.myservice;\r\n\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\n\r\n\r\npublic class MyService extends Service {\r\n    @Override\r\n    public void onCreate(){\r\n        Log.i(&quot;MyLog&quot;, &quot;onCreate&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n}\r\n```","title":"Pass array from activity to service (Android)","body":"<p>i'm beginner to java and i'm trying to do the following: in MainActivity generate an array and pass it to the Service. The difficulty lies precisely in how to pass this array to the Service. Yes, I saw that there are many similar questions, but I can't understand the principle of how this happens.</p>\n<p>What can you advise me?</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.myservice;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        int[] arr = new int[5];\n        StringBuilder num = new StringBuilder();\n\n        for(int i = 0; i &lt; 5; i++) {\n            arr[i] = (int) (Math.random() * 10);\n            num.append(arr[i]).append(&quot; &quot;);\n        }\n\n        TextView textView = findViewById(R.id.textView2);\n\n        textView.setText(num);\n        startService(new Intent(this, MyService.class));\n    }\n}\n</code></pre>\n<p>MyService.java</p>\n<pre><code>package com.example.myservice;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\nimport android.util.Log;\n\n\npublic class MyService extends Service {\n    @Override\n    public void onCreate(){\n        Log.i(&quot;MyLog&quot;, &quot;onCreate&quot;);\n    }\n\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","user-input"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666412870,"post_id":74161048,"comment_id":130936545,"body_markdown":"You&#39;re setting the details on an instance of `Employee`, `e`. But you print the values from an instance of `Manager`, `mgr`. You should see a non-null department, do you?","body":"You&#39;re setting the details on an instance of <code>Employee</code>, <code>e</code>. But you print the values from an instance of <code>Manager</code>, <code>mgr</code>. You should see a non-null department, do you?"},{"owner":{"account_id":23508083,"reputation":1,"user_id":17557019,"display_name":"Andre Ryan"},"score":0,"creation_date":1666413121,"post_id":74161048,"comment_id":130936568,"body_markdown":"Yes, I do see a non-null department. I edited my question for clarification.","body":"Yes, I do see a non-null department. I edited my question for clarification."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666428010,"post_id":74161048,"comment_id":130938214,"body_markdown":"Do you understand that you have two distinct objects? That the properties other than department are being set on the first object, `e`, and that you are displaying the second object `mgr`, so you don&#39;t see any of the other properties?","body":"Do you understand that you have two distinct objects? That the properties other than department are being set on the first object, <code>e</code>, and that you are displaying the second object <code>mgr</code>, so you don&#39;t see any of the other properties?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666428094,"post_id":74161048,"comment_id":130938230,"body_markdown":"I&#39;d suggest that you read an OO tutorial, e.g. https://docs.oracle.com/javase/tutorial/java/concepts/","body":"I&#39;d suggest that you read an OO tutorial, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/concepts</a>"},{"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"score":0,"creation_date":1666429839,"post_id":74161048,"comment_id":130938440,"body_markdown":"The question is okay, but it could be even better if you would shorten your code example to the basic stuff. For the purpose of your question, it is not really important how you input the values for the employee, or if the employee has a birthdate or middle name. Keep on learning ;-)","body":"The question is okay, but it could be even better if you would shorten your code example to the basic stuff. For the purpose of your question, it is not really important how you input the values for the employee, or if the employee has a birthdate or middle name. Keep on learning ;-)"}],"answers":[{"tags":[],"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666436806,"creation_date":1666436806,"answer_id":74163002,"question_id":74161048,"body_markdown":"You seamed to be at the beginning of a great developer career, and even thought the answer is very simple, I will use it to give you some guidelines how to approach problem-solving.\r\n\r\n**Try always to resolve your problem with the &quot;pen and paper&quot;, meaning the first thing is to understand the problem and resolve it manually. Only then you can pour it into a programming code.**\r\n\r\nFirst, the strict answer to your original posted question: The `mgr` and `e` objects are two separate objects and the inheritance relationship between the `Manager` and `Employee` classes is not enough for the effect you are expecting.\r\n\r\nAnd now some proposals how to get to the solution that fits your needs.\r\n\r\nIf you like to continue with the _Java Inheritance_, then you have to set super and subclass properly. Using _constructor_ method and proper setters and getters is highly recommended.\r\n\r\n```java\r\nEmployee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\r\nManager mgr = new Manager(ID, firstName, lastName, middleName, birthDate, salary, department);  // Now, I am a manager !!!\r\n\r\nSystem.out.println(mgr.getDetails());\r\n```\r\nFor this to work, the `Employee` and `Manager` classes should look like:\r\n```java\r\npublic class Employee {\r\n\r\n    protected int ID;\r\n\r\n    protected String firstName;\r\n    protected String lastName;\r\n    protected String middleName;\r\n    protected double salary;\r\n    protected String birthDate;\r\n\r\n    public Employee(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\r\n        setDetails(ID, firstName, lastName, middleName, birthDate, salary);\r\n    }\r\n\r\n    public String getDetails() {\r\n        return String.format(&quot;ID: %03d\\nName: %s, %s, %s\\nBirthdate: %s\\nSalary: %,.2f&quot;, ID, firstName, lastName, middleName, birthDate, salary);\r\n    }\r\n    \r\n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\r\n        this.ID = ID;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.middleName = middleName;\r\n        this.birthDate = birthDate;\r\n        this.salary = salary;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class Manager extends Employee {\r\n\r\n    protected String department;\r\n\r\n    public Manager(int ID, String firstName, String lastName, String middleName, String birthDate, double salary, String department) {\r\n        super(ID, firstName, lastName, middleName, birthDate, salary);\r\n        this.department = department;\r\n    }\r\n  \r\n    @Override\r\n    public String getDetails() {\r\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n    }\r\n\r\n}\r\n```\r\n\r\nEven thought this might work, it is also showing that in this particular case the _Inheritance_ is probably not the best pattern to use.\r\n\r\nHow about this way? Let&#39;s change the `Manager` class a bit:\r\n```java\r\npublic class Manager {\r\n\r\n    protected Employee employee;\r\n    protected String department;\r\n\r\n    public Manager(Employee employee, String department) {\r\n        this.employee = employee;\r\n        this.department = department;\r\n    }\r\n  \r\n    @Override\r\n    public String getDetails(){\r\n        return employee.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n    }\r\n\r\n}\r\n```\r\nThen you can use it in the following way. It looks like you can easily promote an employee to a manager ;-)\r\n```java\r\nEmployee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\r\nManager mgr = new Manager(e, department);  // Now, I am a manager !!!\r\n\r\nSystem.out.println(mgr.getDetails());\r\n```\r\n\r\nHope it helps. Keep on learning ;-)\r\n","title":"(JAVA) Inheritance from user inputted values keeps getting null","body":"<p>You seamed to be at the beginning of a great developer career, and even thought the answer is very simple, I will use it to give you some guidelines how to approach problem-solving.</p>\n<p><strong>Try always to resolve your problem with the &quot;pen and paper&quot;, meaning the first thing is to understand the problem and resolve it manually. Only then you can pour it into a programming code.</strong></p>\n<p>First, the strict answer to your original posted question: The <code>mgr</code> and <code>e</code> objects are two separate objects and the inheritance relationship between the <code>Manager</code> and <code>Employee</code> classes is not enough for the effect you are expecting.</p>\n<p>And now some proposals how to get to the solution that fits your needs.</p>\n<p>If you like to continue with the <em>Java Inheritance</em>, then you have to set super and subclass properly. Using <em>constructor</em> method and proper setters and getters is highly recommended.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\nManager mgr = new Manager(ID, firstName, lastName, middleName, birthDate, salary, department);  // Now, I am a manager !!!\n\nSystem.out.println(mgr.getDetails());\n</code></pre>\n<p>For this to work, the <code>Employee</code> and <code>Manager</code> classes should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n\n    protected int ID;\n\n    protected String firstName;\n    protected String lastName;\n    protected String middleName;\n    protected double salary;\n    protected String birthDate;\n\n    public Employee(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\n        setDetails(ID, firstName, lastName, middleName, birthDate, salary);\n    }\n\n    public String getDetails() {\n        return String.format(&quot;ID: %03d\\nName: %s, %s, %s\\nBirthdate: %s\\nSalary: %,.2f&quot;, ID, firstName, lastName, middleName, birthDate, salary);\n    }\n    \n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\n        this.ID = ID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.middleName = middleName;\n        this.birthDate = birthDate;\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager extends Employee {\n\n    protected String department;\n\n    public Manager(int ID, String firstName, String lastName, String middleName, String birthDate, double salary, String department) {\n        super(ID, firstName, lastName, middleName, birthDate, salary);\n        this.department = department;\n    }\n  \n    @Override\n    public String getDetails() {\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }\n\n}\n</code></pre>\n<p>Even thought this might work, it is also showing that in this particular case the <em>Inheritance</em> is probably not the best pattern to use.</p>\n<p>How about this way? Let's change the <code>Manager</code> class a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager {\n\n    protected Employee employee;\n    protected String department;\n\n    public Manager(Employee employee, String department) {\n        this.employee = employee;\n        this.department = department;\n    }\n  \n    @Override\n    public String getDetails(){\n        return employee.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }\n\n}\n</code></pre>\n<p>Then you can use it in the following way. It looks like you can easily promote an employee to a manager ;-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\nManager mgr = new Manager(e, department);  // Now, I am a manager !!!\n\nSystem.out.println(mgr.getDetails());\n</code></pre>\n<p>Hope it helps. Keep on learning ;-)</p>\n"}],"owner":{"account_id":23508083,"reputation":1,"user_id":17557019,"display_name":"Andre Ryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666436806,"creation_date":1666412644,"question_id":74161048,"body_markdown":"I&#39;m very new to java so my code might be very inefficient or downright wrong. I&#39;m really sorry if this was a stupid question but my problem is when I print `mgr.getDetails()` all the user inputted values from `Employee`  are null.\r\n\r\nHere are the codes:\r\n\r\nEmployee:\r\n\r\n    public class Employee {\r\n    \r\n        protected int ID;\r\n    \r\n        protected String firstName;\r\n        protected String lastName;\r\n        protected String middleName;\r\n        protected double salary;\r\n        protected String birthDate;\r\n    \r\n        public String getDetails(){\r\n            return &quot;ID: &quot; + String.format(&quot;%03d&quot;, ID) + &quot;\\nName: &quot; + firstName + &quot;, &quot; + lastName + &quot;, &quot; + middleName + &quot;\\nBirthdate: &quot; + birthDate + \r\n                    &quot;\\nSalary: &quot; + String.format(&quot;%,.2f&quot;,salary);\r\n        }\r\n        \r\n        public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary){\r\n            this.ID = ID;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.middleName = middleName;\r\n            this.birthDate = birthDate;\r\n            this.salary = salary;\r\n        }\r\n    \r\n    }\r\n\r\nManager:\r\n\r\n    public class Manager extends Employee{\r\n    \r\n        protected String department;\r\n    \r\n        \r\n      \r\n        @Override\r\n        public String getDetails(){\r\n            return super.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n        }   \r\n        public void setDetails(String department){\r\n            this.department = department;\r\n        }\r\n    \r\n    }\r\n\r\nMainClass:\r\n\r\n    import java.util.Scanner;\r\n    public class MainClass {\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            Employee e = new Employee();\r\n            Manager mgr = new Manager();\r\n            \r\n            System.out.println(&quot;Enter ID: &quot;);\r\n            int ID = input.nextInt();\r\n            input.nextLine();\r\n            \r\n            System.out.println(&quot;Enter First Name: &quot;);\r\n            String firstName = input.nextLine();\r\n           \r\n            \r\n            System.out.println(&quot;Enter Middle Name: &quot;);\r\n            String middleName = input.nextLine();\r\n        \r\n            \r\n            System.out.println(&quot;Enter last Name: &quot;);\r\n            String lastName = input.nextLine();\r\n            \r\n            \r\n            System.out.println(&quot;Enter Salary: &quot;);\r\n            double salary = input.nextDouble();\r\n            input.nextLine();\r\n         \r\n            System.out.println(&quot;Enter Birthdate: &quot;);\r\n            String birthDate = input.nextLine();\r\n            e.setDetails(ID, firstName, lastName, middleName, birthDate, salary);\r\n            \r\n            System.out.println(&quot;Enter Department: &quot;);\r\n            String department = input.nextLine();\r\n            mgr.setDetails(department);\r\n            \r\n            System.out.println(mgr.getDetails());\r\n            input.close();\r\n            \r\n        }\r\n    }","title":"(JAVA) Inheritance from user inputted values keeps getting null","body":"<p>I'm very new to java so my code might be very inefficient or downright wrong. I'm really sorry if this was a stupid question but my problem is when I print <code>mgr.getDetails()</code> all the user inputted values from <code>Employee</code>  are null.</p>\n<p>Here are the codes:</p>\n<p>Employee:</p>\n<pre><code>public class Employee {\n\n    protected int ID;\n\n    protected String firstName;\n    protected String lastName;\n    protected String middleName;\n    protected double salary;\n    protected String birthDate;\n\n    public String getDetails(){\n        return &quot;ID: &quot; + String.format(&quot;%03d&quot;, ID) + &quot;\\nName: &quot; + firstName + &quot;, &quot; + lastName + &quot;, &quot; + middleName + &quot;\\nBirthdate: &quot; + birthDate + \n                &quot;\\nSalary: &quot; + String.format(&quot;%,.2f&quot;,salary);\n    }\n    \n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary){\n        this.ID = ID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.middleName = middleName;\n        this.birthDate = birthDate;\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n<p>Manager:</p>\n<pre><code>public class Manager extends Employee{\n\n    protected String department;\n\n    \n  \n    @Override\n    public String getDetails(){\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }   \n    public void setDetails(String department){\n        this.department = department;\n    }\n\n}\n</code></pre>\n<p>MainClass:</p>\n<pre><code>import java.util.Scanner;\npublic class MainClass {\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        Employee e = new Employee();\n        Manager mgr = new Manager();\n        \n        System.out.println(&quot;Enter ID: &quot;);\n        int ID = input.nextInt();\n        input.nextLine();\n        \n        System.out.println(&quot;Enter First Name: &quot;);\n        String firstName = input.nextLine();\n       \n        \n        System.out.println(&quot;Enter Middle Name: &quot;);\n        String middleName = input.nextLine();\n    \n        \n        System.out.println(&quot;Enter last Name: &quot;);\n        String lastName = input.nextLine();\n        \n        \n        System.out.println(&quot;Enter Salary: &quot;);\n        double salary = input.nextDouble();\n        input.nextLine();\n     \n        System.out.println(&quot;Enter Birthdate: &quot;);\n        String birthDate = input.nextLine();\n        e.setDetails(ID, firstName, lastName, middleName, birthDate, salary);\n        \n        System.out.println(&quot;Enter Department: &quot;);\n        String department = input.nextLine();\n        mgr.setDetails(department);\n        \n        System.out.println(mgr.getDetails());\n        input.close();\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","join"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666437653,"post_id":74162964,"comment_id":130939714,"body_markdown":"I think what you are looking is using `@ForeignKey`, does this [question](https://stackoverflow.com/questions/47511750/how-to-use-foreign-key-in-room-persistence-library) help you?","body":"I think what you are looking is using <code>@ForeignKey</code>, does this <a href=\"https://stackoverflow.com/questions/47511750/how-to-use-foreign-key-in-room-persistence-library\">question</a> help you?"},{"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"score":0,"creation_date":1666438024,"post_id":74162964,"comment_id":130939784,"body_markdown":"@TheLibrarian - quite possibly - thanks, I&#39;ll settle down for a good read. I had done all my searching using terms like JOIN and relationships. The idea of ForeignKey never entered my mind. Doh!","body":"@TheLibrarian - quite possibly - thanks, I&#39;ll settle down for a good read. I had done all my searching using terms like JOIN and relationships. The idea of ForeignKey never entered my mind. Doh!"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666438651,"post_id":74162964,"comment_id":130939905,"body_markdown":"There are easier other ways but ForeignKey is probably the best.","body":"There are easier other ways but ForeignKey is probably the best."},{"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"score":0,"creation_date":1666499555,"post_id":74162964,"comment_id":130949767,"body_markdown":"On reflection - and having found the documentation - what I was really looking for was the equivalent of a fairly simple LOOKUP type of approach.\n\nAnd this is easily provided by an Intermediate Data class - see [here](https://developer.android.com/training/data-storage/room/relationships#data-class)","body":"On reflection - and having found the documentation - what I was really looking for was the equivalent of a fairly simple LOOKUP type of approach.  And this is easily provided by an Intermediate Data class - see <a href=\"https://developer.android.com/training/data-storage/room/relationships#data-class\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666532313,"post_id":74162964,"comment_id":130954634,"body_markdown":"Yeah, I still have half-written answer about that but that example is not your case. Your two entities are strictly tied to each other.","body":"Yeah, I still have half-written answer about that but that example is not your case. Your two entities are strictly tied to each other."}],"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666436443,"creation_date":1666436443,"question_id":74162964,"body_markdown":"I&#39;ve recently started using LiveData in my project and was facing difficulties JOINing data from related tables. Not being able to find anything related to this on the web - links welcome, please, I started this morning to try and find a solution. \r\n\r\nSo, I put together a Product Entity class…\r\n\r\n```\r\n@Entity(tableName = &quot;products&quot;)\r\npublic class Product {\r\n    @PrimaryKey(autoGenerate = true)\r\n    @NonNull\r\n    int productID;\r\n\r\n    @NonNull\r\n    private String productName;\r\n\r\n    @NonNull\r\n    private String supplierName;\r\n    private int supplierID;\r\n    private int stocklevel;\r\n\r\n    public Product(@NonNull String productName, int supplierID) {\r\n        this.productName = productName;\r\n        this.supplierID = supplierID;\r\n        this.supplierName = &quot;Dummy Supplier&quot;;\r\n        stocklevel = 0;\r\n}\r\n```\r\nand a DAO with the query…\r\n\r\n```\r\n    @Query(&quot;SELECT products.*, suppliers.supplierName FROM products JOIN suppliers ON products.supplierID = suppliers.supplierID ORDER BY stocklevel DESC&quot;)\r\n    LiveData&lt;List&lt;Product&gt;&gt; getProductDetails();\r\n```\r\n\r\nso that, when the query is run, the placeholder text is overwritten by the supplierName from the related table. And it works! \r\n\r\nSo, my question is, &#39;Is this an acceptable way of proceeding? And, if not - what is?&#39;\r\n\r\nAny feedback? Or links?","title":"RoomDatabase LiveData JOIN fields","body":"<p>I've recently started using LiveData in my project and was facing difficulties JOINing data from related tables. Not being able to find anything related to this on the web - links welcome, please, I started this morning to try and find a solution.</p>\n<p>So, I put together a Product Entity class…</p>\n<pre><code>@Entity(tableName = &quot;products&quot;)\npublic class Product {\n    @PrimaryKey(autoGenerate = true)\n    @NonNull\n    int productID;\n\n    @NonNull\n    private String productName;\n\n    @NonNull\n    private String supplierName;\n    private int supplierID;\n    private int stocklevel;\n\n    public Product(@NonNull String productName, int supplierID) {\n        this.productName = productName;\n        this.supplierID = supplierID;\n        this.supplierName = &quot;Dummy Supplier&quot;;\n        stocklevel = 0;\n}\n</code></pre>\n<p>and a DAO with the query…</p>\n<pre><code>    @Query(&quot;SELECT products.*, suppliers.supplierName FROM products JOIN suppliers ON products.supplierID = suppliers.supplierID ORDER BY stocklevel DESC&quot;)\n    LiveData&lt;List&lt;Product&gt;&gt; getProductDetails();\n</code></pre>\n<p>so that, when the query is run, the placeholder text is overwritten by the supplierName from the related table. And it works!</p>\n<p>So, my question is, 'Is this an acceptable way of proceeding? And, if not - what is?'</p>\n<p>Any feedback? Or links?</p>\n"},{"tags":["java","list","algorithm","hashmap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666435817,"post_id":74162662,"comment_id":130939347,"body_markdown":"What is &quot;the proper data&quot;, and what are you getting?","body":"What is &quot;the proper data&quot;, and what are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666435558,"creation_date":1666435558,"answer_id":74162853,"question_id":74162662,"body_markdown":"Basically, you have a disjointed [Graph](https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)) of Entities.\r\n\r\nTherefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.\r\n\r\nOne of the simplest algorithms commonly used for such purposes is the [*Depth first search*](https://en.wikipedia.org/wiki/Depth-first_search).\r\n\r\nThe core idea behind this algorithm:\r\n* Maintain a Stack, containing the element that are being examined.\r\n* Search starts from the root element being pushed on the top of the stack.\r\n* Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven&#39;t been yet seen, they are being pushed on the top of the stack.\r\n\r\nHere&#39;s how the iterative implementation might look like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\r\n        Set&lt;String&gt; seen = new HashSet&lt;&gt;();\r\n        \r\n        for (Entity e : entities) {\r\n            if (seen.add(e.getId())) { // entity was not previously encountered\r\n                addAllChildren(result, seen, e);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Depth first search algorithm implementation\r\n     */\r\n    public static void addAllChildren(Map&lt;String, Entity&gt; result,\r\n                                      Set&lt;String&gt; seen,\r\n                                      Entity root) {\r\n        \r\n        Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\r\n        stack.push(root);\r\n        \r\n        while (!stack.isEmpty()) {\r\n            Entity current = stack.pop();\r\n            result.put(current.getId(), current);\r\n            \r\n            for (Entity child: current.getChildren()) {\r\n                if (seen.add(child.getId())) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>Basically, you have a disjointed <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\" rel=\"nofollow noreferrer\">Graph</a> of Entities.</p>\n<p>Therefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.</p>\n<p>One of the simplest algorithms commonly used for such purposes is the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a>.</p>\n<p>The core idea behind this algorithm:</p>\n<ul>\n<li>Maintain a Stack, containing the element that are being examined.</li>\n<li>Search starts from the root element being pushed on the top of the stack.</li>\n<li>Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven't been yet seen, they are being pushed on the top of the stack.</li>\n</ul>\n<p>Here's how the iterative implementation might look like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\n    Set&lt;String&gt; seen = new HashSet&lt;&gt;();\n    \n    for (Entity e : entities) {\n        if (seen.add(e.getId())) { // entity was not previously encountered\n            addAllChildren(result, seen, e);\n        }\n    }\n    return result;\n}\n\n/**\n * Depth first search algorithm implementation\n */\npublic static void addAllChildren(Map&lt;String, Entity&gt; result,\n                                  Set&lt;String&gt; seen,\n                                  Entity root) {\n    \n    Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\n    stack.push(root);\n    \n    while (!stack.isEmpty()) {\n        Entity current = stack.pop();\n        result.put(current.getId(), current);\n        \n        for (Entity child: current.getChildren()) {\n            if (seen.add(child.getId())) {\n                stack.push(child);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74162853,"answer_count":1,"score":1,"last_activity_date":1666435948,"creation_date":1666433670,"question_id":74162662,"body_markdown":"I am having a class as\r\n\t\r\n\r\n    public class Entity {\r\n        private String id;\r\n        private List&lt;Entity&gt; children;\r\n        \r\n        // getters, constructor, etc.\r\n    }\r\n\r\nNow I need to convert this Entity class data into Map&lt;String, Entity&gt;\r\n\r\nMy Method accepts (List&lt;Entity&gt; entity) as Input and that need to be converted to Map \r\n\r\nI tried like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\r\n        for (Entity e : entities) {\r\n            if (!map.containsKey(e.getId())) {\r\n                map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\nMy problem is that I don&#39;t know how to proceed at the point when I need to access children-entities via `getChildren()`. How it can be implemented to get the proper data?\r\n\r\n\r\nSample data format is as follows.\r\n\r\n    [\r\n     {\r\n     \tid: bos\r\n     \tchilds:[\r\n     \t\t{\r\n     \t\t\tid: manager1\r\n     \t\t\tchilds: [{id: worker11}, {id: worker12}]\r\n     \t\t},\r\n     \t\t{\r\n     \t\t\tid: manager2\r\n     \t\t\tchilds: [{id: worker21}, {id: worker22}]\r\n     \t\t}\r\n     \t]\r\n     }\r\n    ]\r\n\r\n","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>I am having a class as</p>\n<pre><code>public class Entity {\n    private String id;\n    private List&lt;Entity&gt; children;\n    \n    // getters, constructor, etc.\n}\n</code></pre>\n<p>Now I need to convert this Entity class data into Map&lt;String, Entity&gt;</p>\n<p>My Method accepts (List entity) as Input and that need to be converted to Map</p>\n<p>I tried like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\n    for (Entity e : entities) {\n        if (!map.containsKey(e.getId())) {\n            map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>My problem is that I don't know how to proceed at the point when I need to access children-entities via <code>getChildren()</code>. How it can be implemented to get the proper data?</p>\n<p>Sample data format is as follows.</p>\n<pre><code>[\n {\n    id: bos\n    childs:[\n        {\n            id: manager1\n            childs: [{id: worker11}, {id: worker12}]\n        },\n        {\n            id: manager2\n            childs: [{id: worker21}, {id: worker22}]\n        }\n    ]\n }\n]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1666433536,"post_id":74162630,"comment_id":130939013,"body_markdown":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize *everything* non-constant) but expecting *one* of them to be a parameter. They should *both* be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot.","body":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize <i>everything</i> non-constant) but expecting <i>one</i> of them to be a parameter. They should <i>both</i> be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666434072,"creation_date":1666433508,"answer_id":74162640,"question_id":74162630,"body_markdown":"you specify that Prid is a [bind variable][1] but you also embed the value in the sql statement text.  \r\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:  \r\n`&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;`\r\n\r\nit is also advisable to do the same for `newQty`. it improves performance of execution of similar statements, and mitigates the risk for [SQL injection][2] security vulnerability \r\n\r\n\r\n  [1]: https://www.databasestar.com/sql-bind-variables/\r\n  [2]: https://www.w3schools.com/sql/sql_injection.asp","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>you specify that Prid is a <a href=\"https://www.databasestar.com/sql-bind-variables/\" rel=\"nofollow noreferrer\">bind variable</a> but you also embed the value in the sql statement text.<br />\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:<br />\n<code>&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;</code></p>\n<p>it is also advisable to do the same for <code>newQty</code>. it improves performance of execution of similar statements, and mitigates the risk for <a href=\"https://www.w3schools.com/sql/sql_injection.asp\" rel=\"nofollow noreferrer\">SQL injection</a> security vulnerability</p>\n"}],"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1666435365,"creation_date":1666433350,"question_id":74162630,"body_markdown":"    int Prid,newQty;\r\n     public void Update()\r\n     {\r\n         String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\r\n         String user=&quot;root&quot;;\r\n         String pass=&quot;123456&quot;;\r\n         try {\r\n                con=DriverManager.getConnection(path, user, pass);\r\n                ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \r\n                ps.setInt(1, Prid);               \r\n                ps.executeUpdate();                    \r\n                SelectSeller();\r\n            } catch (SQLException e) {\r\n               e.printStackTrace();\r\n            }\r\n     }\r\n\r\nI create int to update database table when calculated, but error\r\n\r\nthis code for calculate\r\n\r\n    private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\r\n        int Myindex = ProdTB.getSelectedRow();\r\n        Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\r\n        AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \r\n        try {\r\n            newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \r\n        } catch (Exception e) {\r\n            \r\n        }        \r\n        ProdName.setText(model.getValueAt(Myindex, 1).toString());\r\n        Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \r\n    }                                   \r\nI need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText()); \r\n\r\n    private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n    if(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\r\n        }\r\n    else if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\r\n    {\r\n        JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\r\n    }\r\n    else{\r\n        i++;\r\n            ProdTot = Uprice * Double.valueOf(ProdQty.getText());\r\n            GrdTotal = GrdTotal+ProdTot;\r\n        if(i==1)\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        else\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        Grdtotal.setText(&quot;Total &quot;+GrdTotal);\r\n        Update();\r\n    }\r\n        \r\n    }                    \r\n\r\n \r\n\r\nI&#39;m a new for java please help me thanks.\r\n\r\n","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<pre><code>int Prid,newQty;\n public void Update()\n {\n     String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\n     String user=&quot;root&quot;;\n     String pass=&quot;123456&quot;;\n     try {\n            con=DriverManager.getConnection(path, user, pass);\n            ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \n            ps.setInt(1, Prid);               \n            ps.executeUpdate();                    \n            SelectSeller();\n        } catch (SQLException e) {\n           e.printStackTrace();\n        }\n }\n</code></pre>\n<p>I create int to update database table when calculated, but error</p>\n<p>this code for calculate</p>\n<pre><code>private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \n    DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\n    int Myindex = ProdTB.getSelectedRow();\n    Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\n    AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \n    try {\n        newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \n    } catch (Exception e) {\n        \n    }        \n    ProdName.setText(model.getValueAt(Myindex, 1).toString());\n    Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \n}                                   \n</code></pre>\n<p>I need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText());</p>\n<pre><code>private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \nif(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\n    {\n        JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\n    }\nelse if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\n{\n    JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\n}\nelse{\n    i++;\n        ProdTot = Uprice * Double.valueOf(ProdQty.getText());\n        GrdTotal = GrdTotal+ProdTot;\n    if(i==1)\n    {\n        Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    else\n    {\n        Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    Grdtotal.setText(&quot;Total &quot;+GrdTotal);\n    Update();\n}\n    \n}                    \n</code></pre>\n<p>I'm a new for java please help me thanks.</p>\n"},{"tags":["java","spring","dependency-injection","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666434942,"creation_date":1666434942,"answer_id":74162785,"question_id":73863233,"body_markdown":"&gt; What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations?\r\n\r\nAn identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it&#39;s less common. By type injection limits the total implementations that can be used in the IoC the exactly *one* bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).\r\n\r\n&gt; In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nYes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.\r\n\r\nIf you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.\r\n\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\r\n\r\nFor naming beans:\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\r\n\r\n","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<blockquote>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n</blockquote>\n<p>An identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it's less common. By type injection limits the total implementations that can be used in the IoC the exactly <em>one</em> bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).</p>\n<blockquote>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n</blockquote>\n<p>Yes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.</p>\n<p>If you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html</a></li>\n</ul>\n<p>For naming beans:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname</a></li>\n</ul>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666434942,"creation_date":1664260219,"question_id":73863233,"body_markdown":"what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?\r\n\r\nSay in a configuration file there is a builder function\r\n\r\n    @Autowired\r\n    MyFacilityInstance myFacility = MyFacilityConfigurer.builder()\r\n    .setA(ITypeA someIndentifierA),\r\n    .setB(ITypeB someIdentifierB));\r\n\r\nand I want to write beans to provide Instances for these two parameters by writing two beans. \r\n\r\nWhat is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations? \r\n\r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n    \r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n\r\nIn this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nI&#39;m sure this is not all there is to the complexity of this mapping.\r\n\r\nCan you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?\r\n\r\nAnd where can I read more on these rules? Do  you have a source for me?","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<p>what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?</p>\n<p>Say in a configuration file there is a builder function</p>\n<pre><code>@Autowired\nMyFacilityInstance myFacility = MyFacilityConfigurer.builder()\n.setA(ITypeA someIndentifierA),\n.setB(ITypeB someIdentifierB));\n</code></pre>\n<p>and I want to write beans to provide Instances for these two parameters by writing two beans.</p>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n<pre><code>@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n\n@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n</code></pre>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n<p>I'm sure this is not all there is to the complexity of this mapping.</p>\n<p>Can you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?</p>\n<p>And where can I read more on these rules? Do  you have a source for me?</p>\n"},{"tags":["java","asynchronous","threadpoolexecutor"],"comments":[{"owner":{"account_id":1878548,"reputation":27164,"user_id":1699210,"display_name":"bummi"},"score":0,"creation_date":1373969105,"post_id":17659510,"comment_id":25744745,"body_markdown":"possible duplicate of [ThreadPoolExecutor - Core and maximum pool sizes](http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes\">ThreadPoolExecutor - Core and maximum pool sizes</a>"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":3,"creation_date":1491741381,"post_id":17659510,"comment_id":73678228,"body_markdown":"Possible duplicate of [What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor](http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread\">What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1373907195,"creation_date":1373907195,"answer_id":17659569,"question_id":17659510,"body_markdown":"From [the doc][1]:\r\n\r\n&gt; When a new task is submitted in method execute(java.lang.Runnable),\r\n&gt; and fewer than corePoolSize threads are running, a new thread is\r\n&gt; created to handle the request, even if other worker threads are idle.\r\n&gt; If there are more than corePoolSize but less than maximumPoolSize\r\n&gt; threads running, a new thread will be created only if the queue is\r\n&gt; full. \r\n\r\nFurthermore:\r\n\r\n&gt; By setting corePoolSize and maximumPoolSize the same, you create\r\n&gt; a fixed-size thread pool. By setting maximumPoolSize to an essentially\r\n&gt; unbounded value such as Integer.MAX_VALUE, you allow the pool to\r\n&gt; accommodate an arbitrary number of concurrent tasks. Most typically,\r\n&gt; core and maximum pool sizes are set only upon construction, but they\r\n&gt; may also be changed dynamically using setCorePoolSize(int) and\r\n&gt; setMaximumPoolSize(int).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\">the doc</a>:</p>\n\n<blockquote>\n  <p>When a new task is submitted in method execute(java.lang.Runnable),\n  and fewer than corePoolSize threads are running, a new thread is\n  created to handle the request, even if other worker threads are idle.\n  If there are more than corePoolSize but less than maximumPoolSize\n  threads running, a new thread will be created only if the queue is\n  full. </p>\n</blockquote>\n\n<p>Furthermore:</p>\n\n<blockquote>\n  <p>By setting corePoolSize and maximumPoolSize the same, you create\n  a fixed-size thread pool. By setting maximumPoolSize to an essentially\n  unbounded value such as Integer.MAX_VALUE, you allow the pool to\n  accommodate an arbitrary number of concurrent tasks. Most typically,\n  core and maximum pool sizes are set only upon construction, but they\n  may also be changed dynamically using setCorePoolSize(int) and\n  setMaximumPoolSize(int).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"down_vote_count":3,"up_vote_count":180,"is_accepted":false,"score":177,"last_activity_date":1502443003,"creation_date":1373956812,"answer_id":17669660,"question_id":17659510,"body_markdown":"From [this blog post](http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size):\n\n&gt; Take this example. Starting thread pool size is 1, core pool size is\n&gt; 5, max pool size is 10 and the queue is 100. \n&gt;\n&gt; As requests come in,\n&gt; threads will be created up to 5 and then tasks will be added to the\n&gt; queue until it reaches 100. When the queue is full new threads will be\n&gt; created up to `maxPoolSize`. Once all the threads are in use and the\n&gt; queue is full tasks will be rejected. As the queue reduces, so does\n&gt; the number of active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">this blog post</a>:</p>\n<blockquote>\n<p>Take this example. Starting thread pool size is 1, core pool size is\n5, max pool size is 10 and the queue is 100.</p>\n<p>As requests come in,\nthreads will be created up to 5 and then tasks will be added to the\nqueue until it reaches 100. When the queue is full new threads will be\ncreated up to <code>maxPoolSize</code>. Once all the threads are in use and the\nqueue is full tasks will be rejected. As the queue reduces, so does\nthe number of active threads.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1160911,"reputation":351,"user_id":2796545,"display_name":"Braj Kishore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378133164,"creation_date":1378118444,"answer_id":18571236,"question_id":17659510,"body_markdown":"You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n\r\nThe link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \r\nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html</a></p>\n\n<p>The link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.</p>\n"},{"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510664653,"creation_date":1440503542,"answer_id":32203277,"question_id":17659510,"body_markdown":"If you decide to create a `ThreadPoolExecutor` manually instead of using the `Executors` factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:\r\n\r\n    public ThreadPoolExecutor(\r\n        int corePoolSize,\r\n        int maxPoolSize,\r\n        long keepAlive,\r\n        TimeUnit unit,\r\n        BlockingQueue&lt;Runnable&gt; workQueue,\r\n        RejectedExecutionHandler handler\r\n    );\r\n\r\nAs you can see, you can configure:\r\n\r\n - The core pool size (the size the thread pool will try to stick with).\r\n - The maximum pool size.\r\n - The keep alive time, which is a time after which an idle thread is eligible for being torn down.\r\n - The work queue to hold tasks awaiting execution.\r\n - The policy to apply when a task submission is rejected.\r\n\r\n## Limiting the Number of Queued Tasks\r\n\r\nLimiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.\r\n\r\nThat&#39;s a solution to just one part of the problem: you&#39;re capping the number of tasks being executed but aren&#39;t capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.\r\n\r\nThe solution to this problem is:\r\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be &quot;rejected&quot;.\r\nThe `RejectedExecutionHandler` is invoked when a task submission is rejected, and that&#39;s why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.\r\n\r\nThe default rejection policies has the executor throw a `RejectedExecutionException`. However, other built-in policies let you:\r\n\r\n - Discard a job silently.\r\n - Discard the oldest job and try to resubmit the last one.\r\n - Execute the rejected task on the caller&#39;s thread.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>If you decide to create a <code>ThreadPoolExecutor</code> manually instead of using the <code>Executors</code> factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:</p>\n\n<pre><code>public ThreadPoolExecutor(\n    int corePoolSize,\n    int maxPoolSize,\n    long keepAlive,\n    TimeUnit unit,\n    BlockingQueue&lt;Runnable&gt; workQueue,\n    RejectedExecutionHandler handler\n);\n</code></pre>\n\n<p>As you can see, you can configure:</p>\n\n<ul>\n<li>The core pool size (the size the thread pool will try to stick with).</li>\n<li>The maximum pool size.</li>\n<li>The keep alive time, which is a time after which an idle thread is eligible for being torn down.</li>\n<li>The work queue to hold tasks awaiting execution.</li>\n<li>The policy to apply when a task submission is rejected.</li>\n</ul>\n\n<h2>Limiting the Number of Queued Tasks</h2>\n\n<p>Limiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.</p>\n\n<p>That's a solution to just one part of the problem: you're capping the number of tasks being executed but aren't capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.</p>\n\n<p>The solution to this problem is:\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be \"rejected\".\nThe <code>RejectedExecutionHandler</code> is invoked when a task submission is rejected, and that's why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.</p>\n\n<p>The default rejection policies has the executor throw a <code>RejectedExecutionException</code>. However, other built-in policies let you:</p>\n\n<ul>\n<li>Discard a job silently.</li>\n<li>Discard the oldest job and try to resubmit the last one.</li>\n<li>Execute the rejected task on the caller's thread.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4915640,"reputation":1062,"user_id":3959647,"display_name":"Darshan Dalwadi"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1647517549,"creation_date":1517033558,"answer_id":48473149,"question_id":17659510,"body_markdown":"IF **running threads &gt; corePoolSize &amp; &lt; maxPoolSize**, then create a new Thread if Total task queue is full and new one is arriving.\r\n\r\nFrom doc:\r\n(If there are more than **corePoolSize** but less than **maximumPoolSize** threads running, a new thread will be created only if the queue is full.)\r\n\r\nNow, Take a simple example,\r\n\r\n    ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\r\n\r\n**Here, 5 is the corePoolSize** - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).\r\n\r\n**10 is the maxPoolSize** - JVM can create max 10 threads. \r\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);\r\n\r\n**new ArrayBlockingQueue&lt;Runnable&gt;(50)** = is a total queue size - it can queue 50 tasks in it.\r\n\r\nonce all 10 threads are running and if new task is arriving then that new task will be rejected.\r\n\r\n**Rules for creating Threads internally by SUN:**\r\n\r\n1. If the number of threads is less than the corePoolSize, create a new Thread to run a new task.\r\n\r\n2. If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.\r\n\r\n3. If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.\r\n\r\n4. If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.\r\n\r\n\r\n**Hope, This is HelpFul.. and please correct me if i&#39;m wrong...**","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>IF <strong>running threads &gt; corePoolSize &amp; &lt; maxPoolSize</strong>, then create a new Thread if Total task queue is full and new one is arriving.</p>\n<p>From doc:\n(If there are more than <strong>corePoolSize</strong> but less than <strong>maximumPoolSize</strong> threads running, a new thread will be created only if the queue is full.)</p>\n<p>Now, Take a simple example,</p>\n<pre><code>ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\n</code></pre>\n<p><strong>Here, 5 is the corePoolSize</strong> - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).</p>\n<p><strong>10 is the maxPoolSize</strong> - JVM can create max 10 threads.\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);</p>\n<p><strong>new ArrayBlockingQueue(50)</strong> = is a total queue size - it can queue 50 tasks in it.</p>\n<p>once all 10 threads are running and if new task is arriving then that new task will be rejected.</p>\n<p><strong>Rules for creating Threads internally by SUN:</strong></p>\n<ol>\n<li><p>If the number of threads is less than the corePoolSize, create a new Thread to run a new task.</p>\n</li>\n<li><p>If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.</p>\n</li>\n</ol>\n<p><strong>Hope, This is HelpFul.. and please correct me if i'm wrong...</strong></p>\n"},{"tags":[],"owner":{"account_id":6127426,"reputation":63,"user_id":4778864,"display_name":"rxt66"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527473063,"creation_date":1527458112,"answer_id":50556865,"question_id":17659510,"body_markdown":"Good explanation in [this][1] blog:\r\n\r\n\r\n [Illustration][2]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html &quot;this&quot;\r\n  [2]: https://i.stack.imgur.com/SBLH1.png\r\n\r\n\r\n\r\n    public class ThreadPoolExecutorExample {\r\n    \r\n        public static void main (String[] args) {\r\n            createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), &quot;Bounded&quot;);\r\n            createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), &quot;Unbounded&quot;);\r\n            createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), &quot;Direct hand-off&quot;);\r\n        }\r\n    \r\n        private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\r\n                                                                          String msg) {\r\n            System.out.println(&quot;---- &quot; + msg + &quot; queue instance = &quot; +\r\n                                                      queue.getClass()+ &quot; -------------&quot;);\r\n    \r\n            ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\r\n                                     TimeUnit.NANOSECONDS, queue);\r\n    \r\n            for (int i = 0; i &lt; 10; i++) {\r\n                try {\r\n                    e.execute(new Task());\r\n                } catch (RejectedExecutionException ex) {\r\n                    System.out.println(&quot;Task rejected = &quot; + (i + 1));\r\n                }\r\n                printStatus(i + 1, e);\r\n            }\r\n    \r\n            e.shutdownNow();\r\n    \r\n            System.out.println(&quot;--------------------\\n&quot;);\r\n        }\r\n    \r\n        private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\r\n            StringBuilder s = new StringBuilder();\r\n            s.append(&quot;poolSize = &quot;)\r\n             .append(e.getPoolSize())\r\n             .append(&quot;, corePoolSize = &quot;)\r\n             .append(e.getCorePoolSize())\r\n             .append(&quot;, queueSize = &quot;)\r\n             .append(e.getQueue()\r\n                      .size())\r\n             .append(&quot;, queueRemainingCapacity = &quot;)\r\n             .append(e.getQueue()\r\n                      .remainingCapacity())\r\n             .append(&quot;, maximumPoolSize = &quot;)\r\n             .append(e.getMaximumPoolSize())\r\n             .append(&quot;, totalTasksSubmitted = &quot;)\r\n             .append(taskSubmitted);\r\n    \r\n            System.out.println(s.toString());\r\n        }\r\n    \r\n        private static class Task implements Runnable {\r\n    \r\n            @Override\r\n            public void run () {\r\n                while (true) {\r\n                    try {\r\n                        Thread.sleep(1000000);\r\n                    } catch (InterruptedException e) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n    ---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    poolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    poolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    Task rejected = 6\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    Task rejected = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    Task rejected = 8\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Good explanation in <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\" title=\"this\">this</a> blog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SBLH1.png\" rel=\"nofollow noreferrer\">Illustration</a></p>\n\n<pre><code>public class ThreadPoolExecutorExample {\n\n    public static void main (String[] args) {\n        createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), \"Bounded\");\n        createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), \"Unbounded\");\n        createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), \"Direct hand-off\");\n    }\n\n    private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\n                                                                      String msg) {\n        System.out.println(\"---- \" + msg + \" queue instance = \" +\n                                                  queue.getClass()+ \" -------------\");\n\n        ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\n                                 TimeUnit.NANOSECONDS, queue);\n\n        for (int i = 0; i &lt; 10; i++) {\n            try {\n                e.execute(new Task());\n            } catch (RejectedExecutionException ex) {\n                System.out.println(\"Task rejected = \" + (i + 1));\n            }\n            printStatus(i + 1, e);\n        }\n\n        e.shutdownNow();\n\n        System.out.println(\"--------------------\\n\");\n    }\n\n    private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\n        StringBuilder s = new StringBuilder();\n        s.append(\"poolSize = \")\n         .append(e.getPoolSize())\n         .append(\", corePoolSize = \")\n         .append(e.getCorePoolSize())\n         .append(\", queueSize = \")\n         .append(e.getQueue()\n                  .size())\n         .append(\", queueRemainingCapacity = \")\n         .append(e.getQueue()\n                  .remainingCapacity())\n         .append(\", maximumPoolSize = \")\n         .append(e.getMaximumPoolSize())\n         .append(\", totalTasksSubmitted = \")\n         .append(taskSubmitted);\n\n        System.out.println(s.toString());\n    }\n\n    private static class Task implements Runnable {\n\n        @Override\n        public void run () {\n            while (true) {\n                try {\n                    Thread.sleep(1000000);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\npoolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\npoolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\nTask rejected = 6\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\nTask rejected = 7\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\nTask rejected = 8\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539603648,"creation_date":1539603648,"answer_id":52815987,"question_id":17659510,"body_markdown":"java.util.concurrent.ThreadPoolExecutor\r\n\r\n      public void execute(Runnable command) {\r\n            if (command == null)\r\n                throw new NullPointerException();\r\n            /*\r\n             * Proceed in 3 steps:\r\n             *\r\n             * 1. If fewer than corePoolSize threads are running, try to\r\n             * start a new thread with the given command as its first\r\n             * task.  The call to addWorker atomically checks runState and\r\n             * workerCount, and so prevents false alarms that would add\r\n             * threads when it shouldn&#39;t, by returning false.\r\n             *\r\n             * 2. If a task can be successfully queued, then we still need\r\n             * to double-check whether we should have added a thread\r\n             * (because existing ones died since last checking) or that\r\n             * the pool shut down since entry into this method. So we\r\n             * recheck state and if necessary roll back the enqueuing if\r\n             * stopped, or start a new thread if there are none.\r\n             *\r\n             * 3. If we cannot queue task, then we try to add a new\r\n             * thread.  If it fails, we know we are shut down or saturated\r\n             * and so reject the task.\r\n             */\r\n            int c = ctl.get();\r\n            if (workerCountOf(c) &lt; corePoolSize) {\r\n                if (addWorker(command, true))\r\n                    return;\r\n                c = ctl.get();\r\n            }\r\n            if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\r\n                int recheck = ctl.get();\r\n                if (! isRunning(recheck) &amp;&amp; remove(command))\r\n                    reject(command);\r\n                else if (workerCountOf(recheck) == 0)\r\n                    addWorker(null, false);\r\n            }\r\n            else if (!addWorker(command, false))\r\n                reject(command);\r\n        }","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>java.util.concurrent.ThreadPoolExecutor</p>\n\n<pre><code>  public void execute(Runnable command) {\n        if (command == null)\n            throw new NullPointerException();\n        /*\n         * Proceed in 3 steps:\n         *\n         * 1. If fewer than corePoolSize threads are running, try to\n         * start a new thread with the given command as its first\n         * task.  The call to addWorker atomically checks runState and\n         * workerCount, and so prevents false alarms that would add\n         * threads when it shouldn't, by returning false.\n         *\n         * 2. If a task can be successfully queued, then we still need\n         * to double-check whether we should have added a thread\n         * (because existing ones died since last checking) or that\n         * the pool shut down since entry into this method. So we\n         * recheck state and if necessary roll back the enqueuing if\n         * stopped, or start a new thread if there are none.\n         *\n         * 3. If we cannot queue task, then we try to add a new\n         * thread.  If it fails, we know we are shut down or saturated\n         * and so reject the task.\n         */\n        int c = ctl.get();\n        if (workerCountOf(c) &lt; corePoolSize) {\n            if (addWorker(command, true))\n                return;\n            c = ctl.get();\n        }\n        if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\n            int recheck = ctl.get();\n            if (! isRunning(recheck) &amp;&amp; remove(command))\n                reject(command);\n            else if (workerCountOf(recheck) == 0)\n                addWorker(null, false);\n        }\n        else if (!addWorker(command, false))\n            reject(command);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566824896,"creation_date":1566824896,"answer_id":57658549,"question_id":17659510,"body_markdown":"From the book **Java concurency essentials** : \r\n\r\n**CorePoolSize**: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\r\nuntil new threads are only started when the queue is full\r\n\r\n**MaximumPoolSize**: This attribute determines how many threads are started at the maximum. You can set this to Integer.\r\nMAX_VALUE in order to have no upper boundary\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From the book <strong>Java concurency essentials</strong> : </p>\n\n<p><strong>CorePoolSize</strong>: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\nuntil new threads are only started when the queue is full</p>\n\n<p><strong>MaximumPoolSize</strong>: This attribute determines how many threads are started at the maximum. You can set this to Integer.\nMAX_VALUE in order to have no upper boundary</p>\n"},{"tags":[],"owner":{"account_id":1150739,"reputation":7888,"user_id":1132522,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575573875,"creation_date":1575573170,"answer_id":59201879,"question_id":17659510,"body_markdown":"Understanding the internal behavior of the `ThreadPoolExecutor ` when a new task is submitted helped me understand how `corePoolSize` and `maximumPoolSize` differ.\r\n\r\nLet:\r\n\r\n- `N` be the number of threads in the pool, `getPoolSize()`. Active threads + idle threads. \r\n- `T` be the amount of tasks submitted to the executor/pool.\r\n- `C` be the core pool size, `getCorePoolSize()`. How many threads can at most be created per pool for the incoming tasks **before new tasks go to the queue**.\r\n- `M` be the maximum pool size, `getMaximumPoolSize()`. Maximum amount of threads the pool can allocate. \r\n\r\nBehaviors of the `ThreadPoolExecutor` in Java when a new task is submitted:\r\n\r\n- For `N &lt;= C`, the idle threads are not assigned the new incoming task, instead a new thread is created.\r\n- For `N &gt; C` and if there are idle threads then new task is assigned there.\r\n- For `N &gt; C` and if there are NO idle threads, new tasks are put into the queue. **NO NEW THREAD CREATED HERE.**\r\n- **When queue is full**, we create new threads up to `M`. If `M` is reached, we reject the tasks. What&#39;s important to not here is that we do not create new threads until the queue is full!\r\n\r\nSources: \r\n\r\n- [docs.oracle.com ](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html)\r\n- [excellent article on the subject.](https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html)\r\n\r\n## Examples\r\n\r\n### Example with `corePoolSize = 0` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in one single active thread in the pool until the queue has 50 items in it. \r\n\r\n```\r\nexecutor.execute(task #1):\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\r\n\r\nexecute(task #2):\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #2 not starting before #1 is done]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #19)\r\n\r\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\r\n\r\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\r\n\r\n...\r\n\r\nexecute(task #51)\r\n\r\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\r\n\r\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\r\n\r\nQueue is full.\r\nA new thread was created as the queue was full.\r\n\r\n```\r\n\r\n### Example with `corePoolSize = 10` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.\r\n\r\n\r\n```\r\nexecute(task #1)\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #2)\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #3)\r\n\r\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #11)\r\n\r\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #51)\r\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\r\n\r\nTask was rejected as we have reached `maximumPoolSize`. \r\n\r\n```\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Understanding the internal behavior of the <code>ThreadPoolExecutor</code> when a new task is submitted helped me understand how <code>corePoolSize</code> and <code>maximumPoolSize</code> differ.</p>\n\n<p>Let:</p>\n\n<ul>\n<li><code>N</code> be the number of threads in the pool, <code>getPoolSize()</code>. Active threads + idle threads. </li>\n<li><code>T</code> be the amount of tasks submitted to the executor/pool.</li>\n<li><code>C</code> be the core pool size, <code>getCorePoolSize()</code>. How many threads can at most be created per pool for the incoming tasks <strong>before new tasks go to the queue</strong>.</li>\n<li><code>M</code> be the maximum pool size, <code>getMaximumPoolSize()</code>. Maximum amount of threads the pool can allocate. </li>\n</ul>\n\n<p>Behaviors of the <code>ThreadPoolExecutor</code> in Java when a new task is submitted:</p>\n\n<ul>\n<li>For <code>N &lt;= C</code>, the idle threads are not assigned the new incoming task, instead a new thread is created.</li>\n<li>For <code>N &gt; C</code> and if there are idle threads then new task is assigned there.</li>\n<li>For <code>N &gt; C</code> and if there are NO idle threads, new tasks are put into the queue. <strong>NO NEW THREAD CREATED HERE.</strong></li>\n<li><strong>When queue is full</strong>, we create new threads up to <code>M</code>. If <code>M</code> is reached, we reject the tasks. What's important to not here is that we do not create new threads until the queue is full!</li>\n</ul>\n\n<p>Sources: </p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">docs.oracle.com </a></li>\n<li><a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\">excellent article on the subject.</a></li>\n</ul>\n\n<h2>Examples</h2>\n\n<h3>Example with <code>corePoolSize = 0</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in one single active thread in the pool until the queue has 50 items in it. </p>\n\n<pre><code>executor.execute(task #1):\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\n\nexecute(task #2):\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #2 not starting before #1 is done]\n\n... executed a few tasks...\n\nexecute(task #19)\n\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\n\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\n\n...\n\nexecute(task #51)\n\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\n\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\n\nQueue is full.\nA new thread was created as the queue was full.\n\n</code></pre>\n\n<h3>Example with <code>corePoolSize = 10</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.</p>\n\n<pre><code>execute(task #1)\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nexecute(task #2)\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nexecute(task #3)\n\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #11)\n\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\n\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #51)\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\n\nTask was rejected as we have reached `maximumPoolSize`. \n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1578060381,"creation_date":1578060381,"answer_id":59579963,"question_id":17659510,"body_markdown":"[Source][1]\r\n&gt;Rules of a ThreadPoolExecutor pool size  \r\n\r\nThe rules for the size of a `ThreadPoolExecutor&#39;s` pool are generally miss-understood, because it doesn&#39;t work the way that you think it ought to or in the way that you want it to.\r\n\r\nTake this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.\r\n\r\nSun&#39;s way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to `maxPoolSize`. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.\r\n\r\nUser anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are `corePoolSize` left.\r\n\r\nThe difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.\r\n\r\nHere are Sun&#39;s rules for thread creation in simple terms:\r\n\r\n 1. If the number of threads is less than the `corePoolSize`, create a new Thread to run a new task.\r\n 1. If the number of threads is equal (or greater than) the `corePoolSize`, put the task into the queue.\r\n 1. If the queue is full, and the number of threads is less than the `maxPoolSize`, create a new thread to run tasks in.\r\n 1. If the queue is full, and the number of threads is greater than or equal to `maxPoolSize`, reject the task.\r\nThe long and the short of it is that new threads are only created when the queue fills up, so if you&#39;re using an unbounded queue then the number of threads will not exceed `corePoolSize`.\r\n\r\nFor a fuller explanation, get it from the horses mouth: `ThreadPoolExecutor` API documentation.\r\n\r\nThere is a really good forum post which talks you through the way that the `ThreadPoolExecutor` works with code examples: http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\r\n\r\nMore info: http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\r\n\r\n\r\n  [1]: http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p><a href=\"http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">Source</a></p>\n\n<blockquote>\n  <p>Rules of a ThreadPoolExecutor pool size  </p>\n</blockquote>\n\n<p>The rules for the size of a <code>ThreadPoolExecutor's</code> pool are generally miss-understood, because it doesn't work the way that you think it ought to or in the way that you want it to.</p>\n\n<p>Take this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.</p>\n\n<p>Sun's way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to <code>maxPoolSize</code>. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.</p>\n\n<p>User anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are <code>corePoolSize</code> left.</p>\n\n<p>The difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.</p>\n\n<p>Here are Sun's rules for thread creation in simple terms:</p>\n\n<ol>\n<li>If the number of threads is less than the <code>corePoolSize</code>, create a new Thread to run a new task.</li>\n<li>If the number of threads is equal (or greater than) the <code>corePoolSize</code>, put the task into the queue.</li>\n<li>If the queue is full, and the number of threads is less than the <code>maxPoolSize</code>, create a new thread to run tasks in.</li>\n<li>If the queue is full, and the number of threads is greater than or equal to <code>maxPoolSize</code>, reject the task.\nThe long and the short of it is that new threads are only created when the queue fills up, so if you're using an unbounded queue then the number of threads will not exceed <code>corePoolSize</code>.</li>\n</ol>\n\n<p>For a fuller explanation, get it from the horses mouth: <code>ThreadPoolExecutor</code> API documentation.</p>\n\n<p>There is a really good forum post which talks you through the way that the <code>ThreadPoolExecutor</code> works with code examples: <a href=\"http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0</a></p>\n\n<p>More info: <a href=\"http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450</a></p>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13268,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1623437244,"creation_date":1623437244,"answer_id":67942144,"question_id":17659510,"body_markdown":"In picture, consider only addition of tasks are happening \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQccY.png","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>In picture, consider only addition of tasks are happening</p>\n<p><a href=\"https://i.stack.imgur.com/vQccY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vQccY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7322921,"reputation":1043,"user_id":6602141,"accept_rate":0,"display_name":"Ankit kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655714647,"creation_date":1655714647,"answer_id":72684387,"question_id":17659510,"body_markdown":"As per the documentation :\r\n\r\n&gt; Any BlockingQueue may be used to transfer and hold submitted tasks.\r\n&gt; The use of this queue interacts with pool sizing: If fewer than\r\n&gt; core pool size threads are running, the Executor always prefers adding a\r\n&gt; new thread rather than queuing. If core pool size or more threads are\r\n&gt; running, the Executor always prefers queuing a request rather than\r\n&gt; adding a new thread. If a request cannot be queued, a new thread is\r\n&gt; created unless this would exceed maximumPoolSize, in which case, the\r\n&gt; task will be rejected.\r\n\r\n\r\nThis means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>As per the documentation :</p>\n<blockquote>\n<p>Any BlockingQueue may be used to transfer and hold submitted tasks.\nThe use of this queue interacts with pool sizing: If fewer than\ncore pool size threads are running, the Executor always prefers adding a\nnew thread rather than queuing. If core pool size or more threads are\nrunning, the Executor always prefers queuing a request rather than\nadding a new thread. If a request cannot be queued, a new thread is\ncreated unless this would exceed maximumPoolSize, in which case, the\ntask will be rejected.</p>\n</blockquote>\n<p>This means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.</p>\n"}],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161996,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"answer_count":12,"score":169,"last_activity_date":1666434144,"creation_date":1373907000,"question_id":17659510,"body_markdown":"What exactly is the difference between **core pool size** and **maximum pool size** when we talk in terms of `ThreadPoolExecutor`?  \r\nCan it be explained with the help of an example? ","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>What exactly is the difference between <strong>core pool size</strong> and <strong>maximum pool size</strong> when we talk in terms of <code>ThreadPoolExecutor</code>?<br>\nCan it be explained with the help of an example? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666432974,"post_id":74162543,"comment_id":130938922,"body_markdown":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise.","body":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666433696,"creation_date":1666433140,"answer_id":74162613,"question_id":74162543,"body_markdown":"&gt; There is a best way to read line by line the file and storing in a List consuming less memory?\r\n\r\nNot really, no.\r\n\r\nThe problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in `String` form you are going to use lots of memory&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.\r\n\r\nFor example, instead of this:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(somePath);\r\n    for (String line: lines) {\r\n        // process line\r\n    }\r\n\r\n... do this:\r\n\r\n    try (BufferedReader br = ...) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            // process line\r\n        }\r\n    }\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient `String` representations, the saving won&#39;t be great enough to make a lot of difference.&lt;/sup&gt;","title":"Alternative for read lines using less memory JAVA","body":"<blockquote>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n</blockquote>\n<p>Not really, no.</p>\n<p>The problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in <code>String</code> form you are going to use lots of memory<sup>1</sup>.</p>\n<p>The solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.</p>\n<p>For example, instead of this:</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(somePath);\nfor (String line: lines) {\n    // process line\n}\n</code></pre>\n<p>... do this:</p>\n<pre><code>try (BufferedReader br = ...) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        // process line\n    }\n}\n</code></pre>\n<hr />\n<p><sup>1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient <code>String</code> representations, the saving won't be great enough to make a lot of difference.</sup></p>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74162613,"answer_count":1,"score":0,"last_activity_date":1666433696,"creation_date":1666432365,"question_id":74162543,"body_markdown":"Good morning,\r\n\r\nI am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.\r\n\r\nWhen I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.\r\n\r\nThe problem could be this line?\r\n\r\n```\r\nList&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\r\n```\r\n\r\nI think that this object consume a lot of memory and it is the cause of my problem\r\n\r\nThere is a best way to read line by line the file and storing in a List&lt;String&gt; consuming less memory?\r\n\r\nThank you very much","title":"Alternative for read lines using less memory JAVA","body":"<p>Good morning,</p>\n<p>I am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.</p>\n<p>When I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.</p>\n<p>The problem could be this line?</p>\n<pre><code>List&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\n</code></pre>\n<p>I think that this object consume a lot of memory and it is the cause of my problem</p>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","spring","spring-boot","hibernate","model"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666380705,"post_id":74157932,"comment_id":130931915,"body_markdown":"Avoid pictures, use code blocks instead.","body":"Avoid pictures, use code blocks instead."}],"answers":[{"tags":[],"owner":{"account_id":21911535,"reputation":51,"user_id":16195946,"display_name":"Daniel Domingueti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666433670,"creation_date":1666433670,"answer_id":74162661,"question_id":74157932,"body_markdown":"Mohsen, make sure you&#39;re implementing your entity class correctly. \r\nFirst of all, change your ID variable to the following:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\nThe annotations above ensures the ID variable works like an entity&#39;s identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it&#39;s an auto-generated field.\r\n\r\nFor PUT requests you&#39;re gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>Mohsen, make sure you're implementing your entity class correctly.\nFirst of all, change your ID variable to the following:</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n<p>The annotations above ensures the ID variable works like an entity's identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it's an auto-generated field.</p>\n<p>For PUT requests you're gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.</p>\n"}],"owner":{"account_id":12473162,"reputation":25,"user_id":9080506,"display_name":"Mohsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666433670,"creation_date":1666377487,"question_id":74157932,"body_markdown":"I&#39;m using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don&#39;t ignore it on PUT request! what&#39;s the solution?\r\n\r\nNote: I want to do it in one model!\r\n\r\n\r\n    import lombok.Data;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Data\r\n    public class CategoryRequestModel {\r\n    \r\n        @NotNull\r\n        private String id;   // check on PUT request\r\n                             // not check on POST request\r\n    \r\n        private String title;\r\n        private String status;\r\n    }","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>I'm using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don't ignore it on PUT request! what's the solution?</p>\n<p>Note: I want to do it in one model!</p>\n<pre><code>import lombok.Data;\n\nimport javax.validation.constraints.NotNull;\n\n@Data\npublic class CategoryRequestModel {\n\n    @NotNull\n    private String id;   // check on PUT request\n                         // not check on POST request\n\n    private String title;\n    private String status;\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666438523,"post_id":74161975,"comment_id":130939879,"body_markdown":"In your `ATMKeypadPanel` `ActionListener`, you don&#39;t do anything with the button presses.  You need to save them in a `char` array that you can access from both the `ATMKeypadPanel` class and the `ATMScreenPanel` class.  An application model made up of one or more plain Java getter/setter classes should hold this `char` array.  You also need a more descriptive class name than `handler`.","body":"In your <code>ATMKeypadPanel</code> <code>ActionListener</code>, you don&#39;t do anything with the button presses.  You need to save them in a <code>char</code> array that you can access from both the <code>ATMKeypadPanel</code> class and the <code>ATMScreenPanel</code> class.  An application model made up of one or more plain Java getter/setter classes should hold this <code>char</code> array.  You also need a more descriptive class name than <code>handler</code>."},{"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"score":0,"creation_date":1666443946,"post_id":74161975,"comment_id":130940942,"body_markdown":"Thank you mister! Man I have a lot to learn :&lt;","body":"Thank you mister! Man I have a lot to learn :&lt;"}],"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666433390,"creation_date":1666425694,"question_id":74161975,"body_markdown":"I&#39;m trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don&#39;t know how. I tried using objects although I learned that it doesn&#39;t actually change the value from the actual class when I used it. Can someone please teach me how to do it?\r\n\r\ncode for ATMScreenPanel\r\n```\r\npublic class ATMScreenPanel extends JPanel {\r\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\r\n    JLabel label;\r\n    static JTextField pin_textField;\r\n\r\n    ATMScreenPanel() {\r\n        setBackground(Color.GRAY);\r\n        setLayout(null);\r\n        pin_textField = new JTextField(&quot;&quot;);\r\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\r\n        pin_textField.setBounds(98, 110, 300, 50);\r\n        add(pin_textField);\r\n\r\n        label = new JLabel(&quot;Enter your pin number&quot;);\r\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\r\n        label.setBounds(90, 50, 400, 50);\r\n        add(label);\r\n\r\n        ATMKeypadPanel keys = new ATMKeypadPanel();\r\n\r\n    }\r\n}\r\n```\r\n\r\ncode for ATMKeypadPanel\r\n```\r\npublic class ATMKeypadPanel extends JPanel{\r\n\r\n    JButton[] buttons;\r\n\r\n    ATMKeypadPanel(){\r\n        buttons = new JButton[14];\r\n        setBackground(Color.CYAN);\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        setLayout(new GridBagLayout());\r\n        gbc.insets = new Insets(1,2,1,2);\r\n\r\n        handler buttonHandler = new handler();\r\n        buttons[0] = new JButton(&quot;1&quot;);\r\n        buttons[0].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        buttons[0].addActionListener( buttonHandler);\r\n        add(buttons[0],gbc);\r\n\r\n        buttons[1] = new JButton(&quot;2&quot;);\r\n        buttons[1].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 0;\r\n        buttons[1].addActionListener( buttonHandler);\r\n        add(buttons[1],gbc);\r\n\r\n        buttons[2] = new JButton(&quot;3&quot;);\r\n        buttons[2].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 0;\r\n        buttons[2].addActionListener( buttonHandler);\r\n\r\n        add(buttons[2],gbc);\r\n\r\n        buttons[3] = new JButton(&quot;4&quot;);\r\n        buttons[3].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        buttons[3].addActionListener( buttonHandler);\r\n\r\n        add(buttons[3],gbc);\r\n\r\n        buttons[4] = new JButton(&quot;5&quot;);\r\n        buttons[4].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        buttons[4].addActionListener( buttonHandler);\r\n\r\n        add(buttons[4],gbc);\r\n\r\n        buttons[5] = new JButton(&quot;6&quot;);\r\n        buttons[5].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 1;\r\n        buttons[5].addActionListener( buttonHandler);\r\n\r\n        add(buttons[5],gbc);\r\n\r\n        buttons[6] = new JButton(&quot;7&quot;);\r\n        buttons[6].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        buttons[6].addActionListener( buttonHandler);\r\n\r\n        add(buttons[6],gbc);\r\n\r\n        buttons[7] = new JButton(&quot;8&quot;);\r\n        buttons[7].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        buttons[7].addActionListener( buttonHandler);\r\n\r\n        add(buttons[7],gbc);\r\n\r\n        buttons[8] = new JButton(&quot;9&quot;);\r\n        buttons[8].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 2;\r\n        buttons[8].addActionListener( buttonHandler);\r\n\r\n        add(buttons[8],gbc);\r\n\r\n        buttons[9] = new JButton(&quot;0&quot;);\r\n        buttons[9].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 3;\r\n        buttons[9].addActionListener( buttonHandler);\r\n        add(buttons[9],gbc);\r\n    }\r\n\r\n    private class handler implements ActionListener{\r\n        public void actionPerformed(ActionEvent e){\r\n\r\n            if(e.getSource() == buttons[0]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[1]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[2]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[3]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[4]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[5]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[6]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[7]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[8]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[9]){\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to input number on JTextField using buttons from another class","body":"<p>I'm trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don't know how. I tried using objects although I learned that it doesn't actually change the value from the actual class when I used it. Can someone please teach me how to do it?</p>\n<p>code for ATMScreenPanel</p>\n<pre><code>public class ATMScreenPanel extends JPanel {\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\n    JLabel label;\n    static JTextField pin_textField;\n\n    ATMScreenPanel() {\n        setBackground(Color.GRAY);\n        setLayout(null);\n        pin_textField = new JTextField(&quot;&quot;);\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\n        pin_textField.setBounds(98, 110, 300, 50);\n        add(pin_textField);\n\n        label = new JLabel(&quot;Enter your pin number&quot;);\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\n        label.setBounds(90, 50, 400, 50);\n        add(label);\n\n        ATMKeypadPanel keys = new ATMKeypadPanel();\n\n    }\n}\n</code></pre>\n<p>code for ATMKeypadPanel</p>\n<pre><code>public class ATMKeypadPanel extends JPanel{\n\n    JButton[] buttons;\n\n    ATMKeypadPanel(){\n        buttons = new JButton[14];\n        setBackground(Color.CYAN);\n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(new GridBagLayout());\n        gbc.insets = new Insets(1,2,1,2);\n\n        handler buttonHandler = new handler();\n        buttons[0] = new JButton(&quot;1&quot;);\n        buttons[0].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        buttons[0].addActionListener( buttonHandler);\n        add(buttons[0],gbc);\n\n        buttons[1] = new JButton(&quot;2&quot;);\n        buttons[1].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        buttons[1].addActionListener( buttonHandler);\n        add(buttons[1],gbc);\n\n        buttons[2] = new JButton(&quot;3&quot;);\n        buttons[2].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 0;\n        buttons[2].addActionListener( buttonHandler);\n\n        add(buttons[2],gbc);\n\n        buttons[3] = new JButton(&quot;4&quot;);\n        buttons[3].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        buttons[3].addActionListener( buttonHandler);\n\n        add(buttons[3],gbc);\n\n        buttons[4] = new JButton(&quot;5&quot;);\n        buttons[4].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        buttons[4].addActionListener( buttonHandler);\n\n        add(buttons[4],gbc);\n\n        buttons[5] = new JButton(&quot;6&quot;);\n        buttons[5].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 1;\n        buttons[5].addActionListener( buttonHandler);\n\n        add(buttons[5],gbc);\n\n        buttons[6] = new JButton(&quot;7&quot;);\n        buttons[6].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        buttons[6].addActionListener( buttonHandler);\n\n        add(buttons[6],gbc);\n\n        buttons[7] = new JButton(&quot;8&quot;);\n        buttons[7].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        buttons[7].addActionListener( buttonHandler);\n\n        add(buttons[7],gbc);\n\n        buttons[8] = new JButton(&quot;9&quot;);\n        buttons[8].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 2;\n        buttons[8].addActionListener( buttonHandler);\n\n        add(buttons[8],gbc);\n\n        buttons[9] = new JButton(&quot;0&quot;);\n        buttons[9].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        buttons[9].addActionListener( buttonHandler);\n        add(buttons[9],gbc);\n    }\n\n    private class handler implements ActionListener{\n        public void actionPerformed(ActionEvent e){\n\n            if(e.getSource() == buttons[0]){\n\n            }\n\n            if(e.getSource() == buttons[1]){\n\n            }\n\n            if(e.getSource() == buttons[2]){\n\n            }\n\n            if(e.getSource() == buttons[3]){\n\n            }\n\n            if(e.getSource() == buttons[4]){\n\n            }\n\n            if(e.getSource() == buttons[5]){\n\n            }\n\n            if(e.getSource() == buttons[6]){\n\n            }\n\n            if(e.getSource() == buttons[7]){\n\n            }\n\n            if(e.getSource() == buttons[8]){\n\n            }\n\n            if(e.getSource() == buttons[9]){\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":16584107,"reputation":1,"user_id":11984002,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427811,"creation_date":1666427811,"answer_id":74162119,"question_id":74160495,"body_markdown":"You probably need to smash the controllers with the same endpoint beginning.\r\nI&#39;d suggest you to remain this annotation `@RequestMapping(path = &quot;/api/foo&quot;)` and just insert inside that class the methods with `@GetMapping(path = &quot;/tar&quot;)`. And other methods could have prefix tar: `&quot;/tar/example&quot;`.\r\n\r\nBut if there are lots of methods starting with this prefix `/api/foo/tar` and the class `FooController` begins to be big enough, it&#39;s nice to keep them separately.","title":"Same prefix endpoint but two different Controllers","body":"<p>You probably need to smash the controllers with the same endpoint beginning.\nI'd suggest you to remain this annotation <code>@RequestMapping(path = &quot;/api/foo&quot;)</code> and just insert inside that class the methods with <code>@GetMapping(path = &quot;/tar&quot;)</code>. And other methods could have prefix tar: <code>&quot;/tar/example&quot;</code>.</p>\n<p>But if there are lots of methods starting with this prefix <code>/api/foo/tar</code> and the class <code>FooController</code> begins to be big enough, it's nice to keep them separately.</p>\n"},{"tags":[],"owner":{"account_id":9792962,"reputation":168,"user_id":7256972,"display_name":"Soumen Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666431040,"creation_date":1666431040,"answer_id":74162411,"question_id":74160495,"body_markdown":"You can have an interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(path = &quot;/api&quot;)\r\n    public interface BaseController {\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nThen every individual controller class can implement the interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    public class FooController implements BaseController {\r\n      @GetMapping(path = &quot;/foo&quot;)\r\n      // Endpoint to /api/foo\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nProvided it is possible to change every controller class.","title":"Same prefix endpoint but two different Controllers","body":"<p>You can have an interface like below:</p>\n<code>\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;/api&quot;)\npublic interface BaseController {\n}\n</code></pre>\n</code>\n<p>Then every individual controller class can implement the interface like below:</p>\n<code>\n<pre><code>public class FooController implements BaseController {\n  @GetMapping(path = &quot;/foo&quot;)\n  // Endpoint to /api/foo\n}\n</code></pre>\n</code>\n<p>Provided it is possible to change every controller class.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666432147,"creation_date":1666432147,"answer_id":74162522,"question_id":74160495,"body_markdown":"I think the best practice would be something like \r\n\r\n    /**\r\n     * Class for String constants to use in the application\r\n     */\r\n    public final class WebConstants {\r\n\r\n       public static final String API = &quot;api&quot;;\r\n       ...other constants\r\n    \r\n    }\r\n\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\r\n    public class FooController {\r\n    \r\n      @GetMapping\r\n      // serve something for /api/foo\r\n\r\n      @GetMapping(path = &quot;/tar&quot;)\r\n      // serve something for /api/foo/tar\r\n\r\n    }\r\n    \r\n    // Bar controller\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\r\n    public class BarController {\r\n    \r\n      @GetMapping\r\n      // Serve something for /api/bar\r\n    }\r\n    \r\n    ","title":"Same prefix endpoint but two different Controllers","body":"<p>I think the best practice would be something like</p>\n<pre><code>/**\n * Class for String constants to use in the application\n */\npublic final class WebConstants {\n\n   public static final String API = &quot;api&quot;;\n   ...other constants\n\n}\n\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\npublic class FooController {\n\n  @GetMapping\n  // serve something for /api/foo\n\n  @GetMapping(path = &quot;/tar&quot;)\n  // serve something for /api/foo/tar\n\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\npublic class BarController {\n\n  @GetMapping\n  // Serve something for /api/bar\n}\n</code></pre>\n"}],"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74162522,"answer_count":3,"score":2,"last_activity_date":1666432147,"creation_date":1666402063,"question_id":74160495,"body_markdown":"I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.\r\n```python\r\napi_patterns= [\r\n  url(&#39;foo/&#39;, include(foo.urls)),\r\n  url(&#39;bar/&#39;, include(bar.urls)),\r\n]\r\n\r\nurlpatterns = [\r\n  url(r&#39;api/&#39;, include(api_patterns)),\r\n]\r\n```\r\n\r\nThis implementation would result in endpoints `/api/foo/` and `/api/bar/` and these endpoints would live in separate directories with separate url files.\r\n\r\n\r\n# The question is whether we can implement something equivalent to **Spring Boot**.\r\nI know you can add the prefix to the `@RequestMapping` on all the files.\r\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.\r\n\r\n\r\n```java\r\n// Foo controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo&quot;)\r\npublic class FooController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo\r\n}\r\n\r\n// Bar controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/bar&quot;)\r\npublic class BarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/bar\r\n}\r\n\r\n// Tar controller by foo\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo/tar&quot;)\r\npublic class TarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo/tar\r\n}\r\n```\r\nThe endpoint would then look like this `/api/foo`, `/api/bar`, and `/api/foo/tar`.\r\n\r\nHow can I prevent the repeated path prefix on all the files?\r\n\r\n*This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I&#39;m asking as a junior developer to try to improve and show responsibility at my first job.*","title":"Same prefix endpoint but two different Controllers","body":"<p>I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.</p>\n<pre class=\"lang-py prettyprint-override\"><code>api_patterns= [\n  url('foo/', include(foo.urls)),\n  url('bar/', include(bar.urls)),\n]\n\nurlpatterns = [\n  url(r'api/', include(api_patterns)),\n]\n</code></pre>\n<p>This implementation would result in endpoints <code>/api/foo/</code> and <code>/api/bar/</code> and these endpoints would live in separate directories with separate url files.</p>\n<h1>The question is whether we can implement something equivalent to <strong>Spring Boot</strong>.</h1>\n<p>I know you can add the prefix to the <code>@RequestMapping</code> on all the files.\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Foo controller\n@Controller\n@RequestMapping(path = &quot;api/foo&quot;)\npublic class FooController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = &quot;api/bar&quot;)\npublic class BarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/bar\n}\n\n// Tar controller by foo\n@Controller\n@RequestMapping(path = &quot;api/foo/tar&quot;)\npublic class TarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo/tar\n}\n</code></pre>\n<p>The endpoint would then look like this <code>/api/foo</code>, <code>/api/bar</code>, and <code>/api/foo/tar</code>.</p>\n<p>How can I prevent the repeated path prefix on all the files?</p>\n<p><em>This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I'm asking as a junior developer to try to improve and show responsibility at my first job.</em></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1446829538,"post_id":33571857,"comment_id":54921893,"body_markdown":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense.","body":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense."},{"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"score":1,"creation_date":1446832201,"post_id":33571857,"comment_id":54923308,"body_markdown":"you can try AttributeConverters as alternative: http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html","body":"you can try AttributeConverters as alternative: <a href=\"http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html\" rel=\"nofollow noreferrer\">hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":6240728,"reputation":1323,"user_id":4854433,"display_name":"T&#250;lio Castro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1446830829,"creation_date":1446830829,"answer_id":33572326,"question_id":33571857,"body_markdown":"The @ElementCollection requires a table to store multiples rows of values,\r\n\r\nSo you could define as a String column and join/explode in getters and setters, like this\r\n\r\n    private String services;\r\n\r\n    public setServices(String services[]) //Can be Array or List\r\n    {\r\n         // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\r\n    }\r\n\r\n    public String[] getServices() //Can be Array or List\r\n    {\r\n        // services.split(&quot;,&quot;) to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(&quot;,&quot;));\r\n    }","title":"JPA: Saving List of values as comma separated values","body":"<p>The @ElementCollection requires a table to store multiples rows of values,</p>\n\n<p>So you could define as a String column and join/explode in getters and setters, like this</p>\n\n<pre><code>private String services;\n\npublic setServices(String services[]) //Can be Array or List\n{\n     // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\n}\n\npublic String[] getServices() //Can be Array or List\n{\n    // services.split(\",\") to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(\",\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":912159,"reputation":3129,"user_id":945742,"accept_rate":60,"display_name":"pedorro"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1609963629,"creation_date":1521826010,"answer_id":49455323,"question_id":33571857,"body_markdown":"As mentioned by others in the comments an `AttributeConverter` works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:\r\n\r\n    @Converter\r\n    public class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n\r\n        private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\r\n\r\n        @Override\r\n        public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\r\n            if (attribute == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; convertToEntityAttribute (String dbData) {\r\n            if (dbData == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve used this class and it works well in most cases. One caveat I&#39;ve found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.","title":"JPA: Saving List of values as comma separated values","body":"<p>As mentioned by others in the comments an <code>AttributeConverter</code> works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:</p>\n<pre><code>@Converter\npublic class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n    private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\n\n    @Override\n    public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute (String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n}\n</code></pre>\n<p>I've used this class and it works well in most cases. One caveat I've found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.</p>\n"},{"tags":[],"owner":{"account_id":9949440,"reputation":636,"user_id":7362736,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666431696,"creation_date":1666431696,"answer_id":74162476,"question_id":33571857,"body_markdown":"A more simple variant did the trick for me, no Jackson, but trimming strings:\r\n\r\n    public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n      @Override\r\n      public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\r\n        return attribute == null\r\n            ? null\r\n            : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;String&gt; convertToEntityAttribute(String dbData) {\r\n        return dbData == null\r\n            ? null\r\n            : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n","title":"JPA: Saving List of values as comma separated values","body":"<p>A more simple variant did the trick for me, no Jackson, but trimming strings:</p>\n<pre><code>public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n  @Override\n  public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\n    return attribute == null\n        ? null\n        : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\n  }\n\n  @Override\n  public List&lt;String&gt; convertToEntityAttribute(String dbData) {\n    return dbData == null\n        ? null\n        : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18585,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":33572326,"answer_count":3,"score":15,"last_activity_date":1666431696,"creation_date":1446829189,"question_id":33571857,"body_markdown":"I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.\r\n\r\n    @Column(nullable = true)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\nand \r\n\r\n    @Column(nullable = true)\r\n    @ElementCollection(targetClass = String.class)\r\n    private List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\n`@ElementCollection` threw  an exception saying `table services does not exist`.","title":"JPA: Saving List of values as comma separated values","body":"<p>I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.</p>\n\n<pre><code>@Column(nullable = true)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Column(nullable = true)\n@ElementCollection(targetClass = String.class)\nprivate List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p><code>@ElementCollection</code> threw  an exception saying <code>table services does not exist</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1666335757,"post_id":74149845,"comment_id":130916938,"body_markdown":"why don&#39;t you print out the actual class name and see why?","body":"why don&#39;t you print out the actual class name and see why?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666336089,"post_id":74149845,"comment_id":130917039,"body_markdown":"just guessing: besides the actual test method, Junit will also run @Before annotated method","body":"just guessing: besides the actual test method, Junit will also run @Before annotated method"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666345851,"post_id":74149845,"comment_id":130920248,"body_markdown":"In the second code snippet you are importing some class `KeyAgreementSpi`. It could be that the class you are importing is not `javax.crypto.KeyAgreementSpi` but for example `org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi`. Replace `newInstance instanceof KeyAgreementSpi` with `newInstance instanceof javax.crypto.KeyAgreementSpi`.","body":"In the second code snippet you are importing some class <code>KeyAgreementSpi</code>. It could be that the class you are importing is not <code>javax.crypto.KeyAgreementSpi</code> but for example <code>org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementS&zwnj;&#8203;pi</code>. Replace <code>newInstance instanceof KeyAgreementSpi</code> with <code>newInstance instanceof javax.crypto.KeyAgreementSpi</code>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666431270,"creation_date":1666431270,"answer_id":74162438,"question_id":74149845,"body_markdown":"Your problem can be easily explained by importing a `KeyAgreementSpi` class different from `javax.crypto.KeyAgreementSpi`.\r\n\r\nThe following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:\r\n\r\n    import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\r\n    \r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public class KeyAgreementTest {\r\n        public static void main(String[] args) throws Exception{\r\n            Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n            Class&lt;?&gt;[] empty = {};\r\n            Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n            Object newInstance = con.newInstance();\r\n            System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n            System.out.println(newInstance instanceof KeyAgreementSpi);\r\n        }\r\n    }\r\n\r\n","title":"Why the same code has different behaviors between main and junit test","body":"<p>Your problem can be easily explained by importing a <code>KeyAgreementSpi</code> class different from <code>javax.crypto.KeyAgreementSpi</code>.</p>\n<p>The following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:</p>\n<pre><code>import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\n\nimport java.lang.reflect.Constructor;\n\npublic class KeyAgreementTest {\n    public static void main(String[] args) throws Exception{\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n        Class&lt;?&gt;[] empty = {};\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n        Object newInstance = con.newInstance();\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n        System.out.println(newInstance instanceof KeyAgreementSpi);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10778132,"reputation":29,"user_id":7929415,"display_name":"Bing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666431270,"creation_date":1666335603,"question_id":74149845,"body_markdown":"I have a code snippets, the output are different when I use main and JUnit run it.\r\n\r\nMy question: why the output of these two ways is not the same?\r\n\r\nI tried search on google, but no good answers. So asking here, hoping someone can explain.\r\n\r\n    // This output is true\r\n    public static void main(String[] args) throws Exception{\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n    }\r\n\r\n    // This output is false\r\n    @Test\r\n    public void test() throws Exception {\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof KeyAgreementSpi);\r\n    }","title":"Why the same code has different behaviors between main and junit test","body":"<p>I have a code snippets, the output are different when I use main and JUnit run it.</p>\n<p>My question: why the output of these two ways is not the same?</p>\n<p>I tried search on google, but no good answers. So asking here, hoping someone can explain.</p>\n<pre><code>// This output is true\npublic static void main(String[] args) throws Exception{\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n}\n\n// This output is false\n@Test\npublic void test() throws Exception {\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof KeyAgreementSpi);\n}\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1510297272,"post_id":47217098,"comment_id":81383928,"body_markdown":"Is that useful for you? \nhttps://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java","body":"Is that useful for you?  <a href=\"https://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java\" rel=\"nofollow noreferrer\">github.com/meetup/timeywimey/blob/master/timeywimey-core/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510299834,"post_id":47217098,"comment_id":81385161,"body_markdown":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months.","body":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510304283,"post_id":47217098,"comment_id":81387260,"body_markdown":"You may want to look into [`org.threeten.extra.PeriodDuration`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html) in the ThreeTen Extra project.","body":"You may want to look into <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.PeriodDuration</code></a> in the ThreeTen Extra project."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304359,"post_id":47217098,"comment_id":81387308,"body_markdown":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a `Period` and as a `Duration` and take the one that works.","body":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a <code>Period</code> and as a <code>Duration</code> and take the one that works."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304503,"post_id":47217098,"comment_id":81387396,"body_markdown":"Are you sure your period is always a `Period` or a `Duration`? Or put the opposite way, could something like `P1MT1H` be present in your data?","body":"Are you sure your period is always a <code>Period</code> or a <code>Duration</code>? Or put the opposite way, could something like <code>P1MT1H</code> be present in your data?"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510306204,"post_id":47217098,"comment_id":81388436,"body_markdown":"If you parse to a `java.time.Duration` then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about `java.time.Period`, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the `java.time`-types are too limited here, compared with JodaTime.","body":"If you parse to a <code>java.time.Duration</code> then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about <code>java.time.Period</code>, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the <code>java.time</code>-types are too limited here, compared with JodaTime."}],"answers":[{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510333106,"creation_date":1510314850,"answer_id":47222220,"question_id":47217098,"body_markdown":"Java-8 does not have such a complex duration type like the class `org.joda.time.Period`. But you can create your own implementation of the interface `TemporalAmount` in a straight-forward way:\r\n\r\n    import java.time.DateTimeException;    \r\n    import java.time.temporal.ChronoUnit;\r\n    import java.time.temporal.Temporal;\r\n    import java.time.temporal.TemporalAmount;\r\n    import java.time.temporal.TemporalUnit;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import static java.time.temporal.ChronoUnit.*;\r\n    \r\n    public class SimpleDuration implements TemporalAmount {\r\n    \r\n    \tprivate static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\r\n    \t\tCollections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\r\n    \r\n    \tprivate final int amount;\r\n    \tprivate final ChronoUnit unit;\r\n    \r\n    \tprivate SimpleDuration(int amount, ChronoUnit unit) {\r\n    \t\tthis.amount = amount;\r\n    \t\tthis.unit = unit;\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration of(int amount, ChronoUnit unit) {\r\n    \t\tif (SUPPORTED_UNITS.contains(unit)) {\r\n    \t\t\treturn new SimpleDuration(amount, unit);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Not supported: &quot; + unit);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long get(TemporalUnit unit) {\r\n    \t\tif (this.unit.equals(unit)) {\r\n    \t\t  return this.amount;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;TemporalUnit&gt; getUnits() {\r\n    \t\treturn SUPPORTED_UNITS;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal addTo(Temporal temporal) {\r\n    \t\treturn temporal.plus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal subtractFrom(Temporal temporal) {\r\n    \t\treturn temporal.minus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj instanceof SimpleDuration) {\r\n    \t\t\tSimpleDuration that = (SimpleDuration) obj;\r\n    \t\t\treturn this.unit == that.unit &amp;&amp; this.amount == that.amount;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tif (this.amount &lt; 0) {\r\n    \t\t\tsb.append(&#39;-&#39;);\r\n    \t\t}\r\n    \t\tsb.append(&#39;P&#39;);\r\n    \t\tif (this.unit.isTimeBased()) {\r\n    \t\t\tsb.append(&#39;T&#39;);\r\n    \t\t}\r\n    \t\tsb.append(Math.abs(this.amount));\r\n    \t\tswitch (this.unit) {\r\n    \r\n    \t\t\tcase YEARS :\r\n    \t\t\t\tsb.append(&#39;Y&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MONTHS :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase DAYS :\r\n    \t\t\t\tsb.append(&#39;D&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase HOURS :\r\n    \t\t\t\tsb.append(&#39;H&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MINUTES :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tdefault :\r\n    \t\t\t\tthrow new UnsupportedOperationException(this.unit.name());\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration parse(String input) {\r\n    \t\tint len = input.length();\r\n    \t\tint index = 0;\r\n    \t\tboolean negative = false;\r\n    \t\tif (len &gt; 0 &amp;&amp; input.charAt(0) == &#39;-&#39;) {\r\n    \t\t\tnegative = true; // for XML-Schema (not for ISO-8601)\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\tif (len &gt;= 3 &amp;&amp; input.charAt(index) == &#39;P&#39;) {\r\n    \t\t\tboolean timeBased = (input.charAt(index + 1) == &#39;T&#39;);\r\n    \t\t\tchar last = input.charAt(len - 1);\r\n    \t\t\tChronoUnit unit;\r\n    \t\t\tswitch (last) {\r\n    \r\n    \t\t\t\tcase &#39;Y&#39; :\r\n    \t\t\t\t\tunit = YEARS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;M&#39; :\r\n    \t\t\t\t\tunit = (timeBased ? MINUTES : MONTHS);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;D&#39; :\r\n    \t\t\t\t\tunit = DAYS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;H&#39; :\r\n    \t\t\t\t\tunit = HOURS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault :\r\n    \t\t\t\t\tthrow new DateTimeException(\r\n    \t\t\t\t\t\t&quot;Unknown unit symbol found at last position: &quot; + input\r\n    \t\t\t\t\t);\r\n    \t\t\t}\r\n    \t\t\tif (unit.isTimeBased() != timeBased) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input);\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t  int amount =\r\n    \t\t\t    Integer.parseInt(\r\n    \t\t\t      input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\r\n    \t\t\t  if (amount &lt; 0) {\r\n    \t\t\t    throw new DateTimeException(\r\n    \t\t\t\t  &quot;XML-Schema does not allow negative amounts inside: &quot; + input);\r\n    \t\t\t  }\r\n    \t\t\t  return SimpleDuration.of(negative ? -amount : amount, unit);\r\n    \t\t\t} catch (NumberFormatException ex) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input, ex);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new DateTimeException(&quot;Cannot parse: &quot; + input);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tSystem.out.println(parse(&quot;-PT10M&quot;)); // -PT10M\r\n    \t}\r\n    }","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>Java-8 does not have such a complex duration type like the class <code>org.joda.time.Period</code>. But you can create your own implementation of the interface <code>TemporalAmount</code> in a straight-forward way:</p>\n\n<pre><code>import java.time.DateTimeException;    \nimport java.time.temporal.ChronoUnit;\nimport java.time.temporal.Temporal;\nimport java.time.temporal.TemporalAmount;\nimport java.time.temporal.TemporalUnit;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\nimport static java.time.temporal.ChronoUnit.*;\n\npublic class SimpleDuration implements TemporalAmount {\n\n    private static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\n        Collections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\n\n    private final int amount;\n    private final ChronoUnit unit;\n\n    private SimpleDuration(int amount, ChronoUnit unit) {\n        this.amount = amount;\n        this.unit = unit;\n    }\n\n    public static SimpleDuration of(int amount, ChronoUnit unit) {\n        if (SUPPORTED_UNITS.contains(unit)) {\n            return new SimpleDuration(amount, unit);\n        } else {\n            throw new IllegalArgumentException(\"Not supported: \" + unit);\n        }\n    }\n\n    @Override\n    public long get(TemporalUnit unit) {\n        if (this.unit.equals(unit)) {\n          return this.amount;\n        }\n        return 0;\n    }\n\n    @Override\n    public List&lt;TemporalUnit&gt; getUnits() {\n        return SUPPORTED_UNITS;\n    }\n\n    @Override\n    public Temporal addTo(Temporal temporal) {\n        return temporal.plus(this.amount, this.unit);\n    }\n\n    @Override\n    public Temporal subtractFrom(Temporal temporal) {\n        return temporal.minus(this.amount, this.unit);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof SimpleDuration) {\n            SimpleDuration that = (SimpleDuration) obj;\n            return this.unit == that.unit &amp;&amp; this.amount == that.amount;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        if (this.amount &lt; 0) {\n            sb.append('-');\n        }\n        sb.append('P');\n        if (this.unit.isTimeBased()) {\n            sb.append('T');\n        }\n        sb.append(Math.abs(this.amount));\n        switch (this.unit) {\n\n            case YEARS :\n                sb.append('Y');\n                break;\n\n            case MONTHS :\n                sb.append('M');\n                break;\n\n            case DAYS :\n                sb.append('D');\n                break;\n\n            case HOURS :\n                sb.append('H');\n                break;\n\n            case MINUTES :\n                sb.append('M');\n                break;\n\n            default :\n                throw new UnsupportedOperationException(this.unit.name());\n        }\n        return sb.toString();\n    }\n\n    public static SimpleDuration parse(String input) {\n        int len = input.length();\n        int index = 0;\n        boolean negative = false;\n        if (len &gt; 0 &amp;&amp; input.charAt(0) == '-') {\n            negative = true; // for XML-Schema (not for ISO-8601)\n            index++;\n        }\n        if (len &gt;= 3 &amp;&amp; input.charAt(index) == 'P') {\n            boolean timeBased = (input.charAt(index + 1) == 'T');\n            char last = input.charAt(len - 1);\n            ChronoUnit unit;\n            switch (last) {\n\n                case 'Y' :\n                    unit = YEARS;\n                    break;\n\n                case 'M' :\n                    unit = (timeBased ? MINUTES : MONTHS);\n                    break;\n\n                case 'D' :\n                    unit = DAYS;\n                    break;\n\n                case 'H' :\n                    unit = HOURS;\n                    break;\n\n                default :\n                    throw new DateTimeException(\n                        \"Unknown unit symbol found at last position: \" + input\n                    );\n            }\n            if (unit.isTimeBased() != timeBased) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input);\n            }\n            try {\n              int amount =\n                Integer.parseInt(\n                  input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\n              if (amount &lt; 0) {\n                throw new DateTimeException(\n                  \"XML-Schema does not allow negative amounts inside: \" + input);\n              }\n              return SimpleDuration.of(negative ? -amount : amount, unit);\n            } catch (NumberFormatException ex) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input, ex);\n            }\n        }\n        throw new DateTimeException(\"Cannot parse: \" + input);\n    }\n\n    public static void main(String... args) {\n        System.out.println(parse(\"-PT10M\")); // -PT10M\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47222220,"answer_count":1,"score":5,"last_activity_date":1666431050,"creation_date":1510296466,"question_id":47217098,"body_markdown":"I am trying to replace org.joda.time.Period with java.time.\r\n\r\nWe have the following values stored in DB. \r\n\r\n    P1M, P1Y, P1D, PT1H, PT1M\r\n\r\nJust to parse this value:\r\n\r\n    Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\r\n\r\nThis is simple and getting Period as expected. But, now replacing with java.time is troublesome.\r\n\r\nBecause, `P1D, P1M, P1Y` should be parsed using the below code:\r\n\r\n    java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\r\n\r\nAnd, `P1H and P1D` should be parsed using the below code.\r\n\r\n    Duration dailyD = Duration.parse(&quot;P1D&quot;);\r\n\r\nSo, I might need some string check also like:\r\n\r\n    if(value.startsWith(&quot;PT&quot;)) {\r\n       // Use java.time.Duration\r\n    } else {\r\n       // Use java.time.Period\r\n    }\r\n\r\nIs there any better code for this logic?\r\n\r\nAlso, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.\r\n\r\nLike, if startDateTime is `01/01/2015 08:30`:\r\n\r\n    LocalDateTime startDateTime = // the above startDateTime ..\r\n    \r\n        if(value.startsWith(&quot;PT&quot;)) {\r\n           // Use java.time.Duration\r\n         ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\r\n        } else {\r\n    \r\n     if(value.endsWith(&quot;Y&quot;)) {\r\n           // Use java.time.Period\r\n    ChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\r\n    } else if(value.endsWith(&quot;M&quot;)){\r\n     ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\r\n    }\r\n\r\n\r\nIs there any other better way without this value parsing?\r\n        \r\nMy input could have P2M, P10M, P2Y, PT15M, PT10M. It won&#39;t have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>I am trying to replace org.joda.time.Period with java.time.</p>\n<p>We have the following values stored in DB.</p>\n<pre><code>P1M, P1Y, P1D, PT1H, PT1M\n</code></pre>\n<p>Just to parse this value:</p>\n<pre><code>Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\n</code></pre>\n<p>This is simple and getting Period as expected. But, now replacing with java.time is troublesome.</p>\n<p>Because, <code>P1D, P1M, P1Y</code> should be parsed using the below code:</p>\n<pre><code>java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\n</code></pre>\n<p>And, <code>P1H and P1D</code> should be parsed using the below code.</p>\n<pre><code>Duration dailyD = Duration.parse(&quot;P1D&quot;);\n</code></pre>\n<p>So, I might need some string check also like:</p>\n<pre><code>if(value.startsWith(&quot;PT&quot;)) {\n   // Use java.time.Duration\n} else {\n   // Use java.time.Period\n}\n</code></pre>\n<p>Is there any better code for this logic?</p>\n<p>Also, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.</p>\n<p>Like, if startDateTime is <code>01/01/2015 08:30</code>:</p>\n<pre><code>LocalDateTime startDateTime = // the above startDateTime ..\n\n    if(value.startsWith(&quot;PT&quot;)) {\n       // Use java.time.Duration\n     ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\n    } else {\n\n if(value.endsWith(&quot;Y&quot;)) {\n       // Use java.time.Period\nChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\n} else if(value.endsWith(&quot;M&quot;)){\n ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\n}\n</code></pre>\n<p>Is there any other better way without this value parsing?</p>\n<p>My input could have P2M, P10M, P2Y, PT15M, PT10M. It won't have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.</p>\n"},{"tags":["java","windows","textfield","touchscreen"],"answers":[{"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427815,"creation_date":1335090404,"answer_id":10267161,"question_id":10267107,"body_markdown":"You can&#39;t do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.\r\n\r\nOnce you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.\r\n\r\nThis may not work because the user has to have the privilege and allow your app to read the native mouse input.\r\n","title":"detect text field of an windows application in java","body":"<p>You can't do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.</p>\n<p>Once you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.</p>\n<p>This may not work because the user has to have the privilege and allow your app to read the native mouse input.</p>\n"}],"owner":{"account_id":295243,"reputation":546,"user_id":599552,"accept_rate":81,"display_name":"fean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427815,"creation_date":1335089843,"question_id":10267107,"body_markdown":"A computer with touch monitor running in windows OS.\r\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.\r\n\r\nI have done the work to show onscreen keyboard using :\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c C:\\\\Windows\\\\System32\\\\osk.exe&quot;);\r\n\r\n\r\nbut how can i detect textfield (of another application which is NOT written in java) ?\r\n","title":"detect text field of an windows application in java","body":"<p>A computer with touch monitor running in windows OS.\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.</p>\n\n<p>I have done the work to show onscreen keyboard using :</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /c C:\\\\Windows\\\\System32\\\\osk.exe\");\n</code></pre>\n\n<p>but how can i detect textfield (of another application which is NOT written in java) ?</p>\n"},{"tags":["java","audio","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1322352221,"post_id":8281942,"comment_id":10199288,"body_markdown":"*&quot;does get invoked however NO SOUND!&quot;*  DON&#39;T SHOUT!  Try the code with the simple [`leftright.wav`](http://pscode.org/media/#sound).  Does your homework specify that this must be an applet?","body":"<i>&quot;does get invoked however NO SOUND!&quot;</i>  DON&#39;T SHOUT!  Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow noreferrer\"><code>leftright.wav</code></a>.  Does your homework specify that this must be an applet?"},{"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"score":0,"creation_date":1322353565,"post_id":8281942,"comment_id":10199416,"body_markdown":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?","body":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?"}],"answers":[{"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427722,"creation_date":1322345383,"answer_id":8281999,"question_id":8281942,"body_markdown":"Do you mean after you build your program and run it the sound doesn&#39;t play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.\r\n\r\nAlso you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn&#39;t throw it, use `try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }` instead.\r\n","title":"Java AudioClip - no sound, no error","body":"<p>Do you mean after you build your program and run it the sound doesn't play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.</p>\n<p>Also you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn't throw it, use <code>try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1322354128,"creation_date":1322354128,"answer_id":8282750,"question_id":8281942,"body_markdown":"Try the code with the simple [leftright.wav](http://pscode.org/media/#sound). \r\n\r\n&gt; ..the leftright.wav works!! \r\n\r\nMost media formats (sound, image, video etc.) are what is known as &#39;container formats&#39;.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.\r\n\r\n&gt; So I am guessing I have to try a different type of .wav file?\r\n\r\nIf it is for an application resource, I&#39;d tend to convert the current WAV to a type that is compatible with Java Sound.","title":"Java AudioClip - no sound, no error","body":"<p>Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow\">leftright.wav</a>. </p>\n\n<blockquote>\n  <p>..the leftright.wav works!! </p>\n</blockquote>\n\n<p>Most media formats (sound, image, video etc.) are what is known as 'container formats'.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.</p>\n\n<blockquote>\n  <p>So I am guessing I have to try a different type of .wav file?</p>\n</blockquote>\n\n<p>If it is for an application resource, I'd tend to convert the current WAV to a type that is compatible with Java Sound.</p>\n"}],"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8282750,"answer_count":2,"score":0,"last_activity_date":1666427722,"creation_date":1322344666,"question_id":8281942,"body_markdown":"I&#39;ve read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\r\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\r\nis in the incorrect directory this code snippet throws an error message.\r\n\r\nMy professor asked that we play the audioClip using this format also, `audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());`\r\n\r\nWhen executed the play method at the bottom does get invoked however NO SOUND! \r\nAny help would be appreciated. \r\n\r\n\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    \r\n    public class PlaySoundApplet extends Applet implements ActionListener\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tButton play,stop;\r\n    \tAudioClip audioClip;\r\n    \r\n      public void init()\r\n      {\r\n    \t  play = new Button(&quot;Play&quot;);\r\n    \t  add(play);\r\n    \t  play.addActionListener(this);\r\n    \t  \r\n    \t  stop = new Button(&quot;Stop&quot;);\r\n    \t  add(stop);\r\n    \t  stop.addActionListener(this);\r\n    \t  \r\n    \t  try\r\n    \t  {  \r\n    \t\t  String filePath = &quot;.&quot; + File.separator + &quot;audio&quot; + File.separator + &quot;island_music.wav&quot;;\r\n    \t\t  \r\n    \t\t  File file = new File(filePath);\r\n    \t\t  \r\n    \t\t  if (file.exists())\r\n    \t\t  {\r\n    \t\t\t  audioClip = Applet.newAudioClip(file.toURI().toURL());\r\n    \t\t  }\r\n    \t\t  else\r\n    \t\t  {\r\n    \t\t\t  throw new RuntimeException(&quot;Directory &quot; + filePath + &quot; does not exist&quot;); //debugging\r\n    \t\t  }\r\n    \t  }\r\n    \t  catch (MalformedURLException malformedURLException)\r\n    \t  {\r\n    \t\t  throw new RuntimeException(&quot;Malformed URL: &quot; + malformedURLException);  //debugging\r\n    \t  }\r\n      }\r\n      \r\n      public void actionPerformed(ActionEvent ae)\r\n      {\r\n    \t  Button source = (Button)ae.getSource();\r\n    \t  \r\n    \t  if (source.getLabel() == &quot;Play&quot;)\r\n    \t  {\r\n    \t\t  audioClip.play();\r\n    \t\t  System.out.println(&quot;Play was executed&quot;);\r\n    \t  }\r\n    \t  else if(source.getLabel() == &quot;Stop&quot;)\r\n    \t  {\r\n    \t\t  audioClip.stop();\r\n    \t\t  System.out.println(&quot;Stop was executed&quot;);\r\n    \t  }\r\n      }\r\n    }","title":"Java AudioClip - no sound, no error","body":"<p>I've read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\nis in the incorrect directory this code snippet throws an error message.</p>\n\n<p>My professor asked that we play the audioClip using this format also, <code>audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());</code></p>\n\n<p>When executed the play method at the bottom does get invoked however NO SOUND! \nAny help would be appreciated. </p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.File;\nimport java.net.MalformedURLException;\n\npublic class PlaySoundApplet extends Applet implements ActionListener\n{\n    private static final long serialVersionUID = 1L;\n    Button play,stop;\n    AudioClip audioClip;\n\n  public void init()\n  {\n      play = new Button(\"Play\");\n      add(play);\n      play.addActionListener(this);\n\n      stop = new Button(\"Stop\");\n      add(stop);\n      stop.addActionListener(this);\n\n      try\n      {  \n          String filePath = \".\" + File.separator + \"audio\" + File.separator + \"island_music.wav\";\n\n          File file = new File(filePath);\n\n          if (file.exists())\n          {\n              audioClip = Applet.newAudioClip(file.toURI().toURL());\n          }\n          else\n          {\n              throw new RuntimeException(\"Directory \" + filePath + \" does not exist\"); //debugging\n          }\n      }\n      catch (MalformedURLException malformedURLException)\n      {\n          throw new RuntimeException(\"Malformed URL: \" + malformedURLException);  //debugging\n      }\n  }\n\n  public void actionPerformed(ActionEvent ae)\n  {\n      Button source = (Button)ae.getSource();\n\n      if (source.getLabel() == \"Play\")\n      {\n          audioClip.play();\n          System.out.println(\"Play was executed\");\n      }\n      else if(source.getLabel() == \"Stop\")\n      {\n          audioClip.stop();\n          System.out.println(\"Stop was executed\");\n      }\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427472,"creation_date":1666427472,"answer_id":74162089,"question_id":74061774,"body_markdown":"Decided to use the `Use Lambda Proxy integration` option, this will automatically map the parameters when the request is received.\r\n","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>Decided to use the <code>Use Lambda Proxy integration</code> option, this will automatically map the parameters when the request is received.</p>\n"}],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427472,"creation_date":1665694996,"question_id":74061774,"body_markdown":"I have an API gateway connected to a lambda function for a GET request by email using path params `/ticket-order/{email}`\r\n\r\n[![API Gateway path params][1]][1]\r\n\r\n\r\nI have also configured Integration Request where I&#39;m setting a mapping template:\r\n\r\n[![Mapping Template][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eoMPy.png\r\n  [2]: https://i.stack.imgur.com/e5DLZ.png\r\n\r\nIn my Java application, I attempt to extract the params via the request like this:\r\n```\r\n    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\r\n        var logger = context.getLogger();\r\n\r\n        var pathParameters = requestEvent.getPathParameters();\r\n        var email = pathParameters.get(&quot;email&quot;);\r\n        // ...\r\n    }\r\n```\r\n\r\n`pathParameters` seems to be null and throws a Null pointer. \r\n\r\nIn postman, I call the URI like this:\r\n\r\n`http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com`","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>I have an API gateway connected to a lambda function for a GET request by email using path params <code>/ticket-order/{email}</code></p>\n<p><a href=\"https://i.stack.imgur.com/eoMPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoMPy.png\" alt=\"API Gateway path params\" /></a></p>\n<p>I have also configured Integration Request where I'm setting a mapping template:</p>\n<p><a href=\"https://i.stack.imgur.com/e5DLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e5DLZ.png\" alt=\"Mapping Template\" /></a></p>\n<p>In my Java application, I attempt to extract the params via the request like this:</p>\n<pre><code>    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\n        var logger = context.getLogger();\n\n        var pathParameters = requestEvent.getPathParameters();\n        var email = pathParameters.get(&quot;email&quot;);\n        // ...\n    }\n</code></pre>\n<p><code>pathParameters</code> seems to be null and throws a Null pointer.</p>\n<p>In postman, I call the URI like this:</p>\n<p><code>http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666235576,"post_id":74133956,"comment_id":130889397,"body_markdown":"Possibly related: https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful\" title=\"in which cases stream operations should be stateful\">stackoverflow.com/questions/33058670/&hellip;</a>"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":1,"creation_date":1666238669,"post_id":74133956,"comment_id":130889857,"body_markdown":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?","body":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666249930,"post_id":74133956,"comment_id":130892242,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1666255174,"post_id":74133956,"comment_id":130894156,"body_markdown":"You are probably looking for one of the [Collectors.groupingBy](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) methods. Group elements by the room number (the result will be a `Map`), then get the record with the latest date in each entry.","body":"You are probably looking for one of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> methods. Group elements by the room number (the result will be a <code>Map</code>), then get the record with the latest date in each entry."},{"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"score":0,"creation_date":1666276994,"post_id":74133956,"comment_id":130902900,"body_markdown":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present","body":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666418005,"creation_date":1666418005,"answer_id":74161397,"question_id":74133956,"body_markdown":"You&#39;ve made a great attempt! You can continue to process the map by converting each value (a list of `TestClass` instances) to a single `TestClass` instance by getting the maximum value using the date:\r\n\r\n     List&lt;TestClass&gt; c = testClasses.stream()\r\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber))\r\n            .values() // returns the collection of values from the map\r\n            .stream() // converts that collection to a stream\r\n            .map(group -&gt; // converts each item (a list of TestClass for a given room number)\r\n                    group.stream() // converts that list to a stream\r\n                            .max( // returns the maximum value of the list using the following Comparator\r\n                                    Comparator.comparing(TestClass::getDate)\r\n                                    // creates a comparator for TestClass based on calling getDate on each item,\r\n                                    // using the natural ordering for LocalDate\r\n                            ) // This returns Optional&lt;TestClass&gt;\r\n            ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\r\n            .filter(Optional::isPresent) // This removes empty Optional values\r\n            .map(Optional::get) // Converts the non-empty Optional to the value it contains\r\n            .collect(Collectors.toList()); // Collects the resulting stream into a list\r\n\r\nOne point of further clarification: why does `max` return an `Optional&lt;TestClass&gt;`? This handles the case of an empty stream (in other words, a room number in the map with no `TestClass` items), in which case an empty `Optional` is returned. Now, we know that this can&#39;t possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the `filter` part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>You've made a great attempt! You can continue to process the map by converting each value (a list of <code>TestClass</code> instances) to a single <code>TestClass</code> instance by getting the maximum value using the date:</p>\n<pre><code> List&lt;TestClass&gt; c = testClasses.stream()\n        .collect(Collectors.groupingBy(TestClass::getRoomNumber))\n        .values() // returns the collection of values from the map\n        .stream() // converts that collection to a stream\n        .map(group -&gt; // converts each item (a list of TestClass for a given room number)\n                group.stream() // converts that list to a stream\n                        .max( // returns the maximum value of the list using the following Comparator\n                                Comparator.comparing(TestClass::getDate)\n                                // creates a comparator for TestClass based on calling getDate on each item,\n                                // using the natural ordering for LocalDate\n                        ) // This returns Optional&lt;TestClass&gt;\n        ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\n        .filter(Optional::isPresent) // This removes empty Optional values\n        .map(Optional::get) // Converts the non-empty Optional to the value it contains\n        .collect(Collectors.toList()); // Collects the resulting stream into a list\n</code></pre>\n<p>One point of further clarification: why does <code>max</code> return an <code>Optional&lt;TestClass&gt;</code>? This handles the case of an empty stream (in other words, a room number in the map with no <code>TestClass</code> items), in which case an empty <code>Optional</code> is returned. Now, we know that this can't possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the <code>filter</code> part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427443,"creation_date":1666423790,"answer_id":74161811,"question_id":74133956,"body_markdown":"**Using Java Streams toMap function**\r\n\r\n***Approach Here:***\r\n\r\nYou can try the below approach in which i have first `sorted` the `list` by `id` and then `date` in reverse order *(so that the list will have the latest record at top corresponding to each id)* and then using **`Collectors.toMap`** function created a map with key as id and value as the object of TestClass along with the **merger function** `(a, b) -&gt; a`(*which will help in getting the latest value corresponding to each key)* and `TreeMap::new` will give the **sorted** map.\r\n\r\nAfter that, I have created a `new ArrayList` of `TestClass` type with the `values` using `.values` of the map created above.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                    new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                    new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                    new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                    new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                    new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                    new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n            );\r\n    \r\n            List&lt;TestClass&gt; uniqueListWithLatestData =\r\n                new ArrayList&lt;&gt;(testClasses.stream()\r\n                .sorted((Comparator.comparing(TestClass::id)\r\n                              .thenComparing(TestClass::date).reversed()))\r\n                .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \r\n                                           TreeMap::new)).values());\r\n                 System.out.println(uniqueListWithLatestData);\r\n    \r\n        }\r\n    }\r\n\r\n**Note:** \r\n\r\nHere, I have created a `record` for TestClass for the solution, you can have your own TestClass POJO.*(Records are available from JDK14)*\r\n\r\n    public record TestClass(long id, LocalDate date) {}\r\n\r\n**Output:**\r\n\r\n    [TestClass[id=100, date=2020-01-10], \r\n    TestClass[id=101, date=2020-07-20], \r\n    TestClass[id=102, date=2020-01-09], \r\n    TestClass[id=103, date=2020-01-11], \r\n    TestClass[id=104, date=2020-02-13]]\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p><strong>Using Java Streams toMap function</strong></p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>You can try the below approach in which i have first <code>sorted</code> the <code>list</code> by <code>id</code> and then <code>date</code> in reverse order <em>(so that the list will have the latest record at top corresponding to each id)</em> and then using <strong><code>Collectors.toMap</code></strong> function created a map with key as id and value as the object of TestClass along with the <strong>merger function</strong> <code>(a, b) -&gt; a</code>(<em>which will help in getting the latest value corresponding to each key)</em> and <code>TreeMap::new</code> will give the <strong>sorted</strong> map.</p>\n<p>After that, I have created a <code>new ArrayList</code> of <code>TestClass</code> type with the <code>values</code> using <code>.values</code> of the map created above.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        final List&lt;TestClass&gt; testClasses = Arrays.asList(\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\n        );\n\n        List&lt;TestClass&gt; uniqueListWithLatestData =\n            new ArrayList&lt;&gt;(testClasses.stream()\n            .sorted((Comparator.comparing(TestClass::id)\n                          .thenComparing(TestClass::date).reversed()))\n            .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \n                                       TreeMap::new)).values());\n             System.out.println(uniqueListWithLatestData);\n\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>Here, I have created a <code>record</code> for TestClass for the solution, you can have your own TestClass POJO.<em>(Records are available from JDK14)</em></p>\n<pre><code>public record TestClass(long id, LocalDate date) {}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[TestClass[id=100, date=2020-01-10], \nTestClass[id=101, date=2020-07-20], \nTestClass[id=102, date=2020-01-09], \nTestClass[id=103, date=2020-01-11], \nTestClass[id=104, date=2020-02-13]]\n</code></pre>\n"}],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666427443,"creation_date":1666234669,"question_id":74133956,"body_markdown":"I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date. \r\n\r\nI have this list:\r\n\r\n    final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n        );\r\n\r\nI would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved. \r\n\r\nSample output from above list after filtering:\r\n\r\n    [\r\n           TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n           TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n           TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n           TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n           TestClass(104L, LocalDate.of(2020, 2, 13))\r\n    ]\r\n\r\nAs you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.\r\n\r\nI have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.\r\n\r\nTIA and please let me know if more information is required :)\r\n\r\nEDIT:\r\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.\r\n\r\n     Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\r\n                .collect(Collectors.groupingBy(TestClass::getRoomNumber));\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date.</p>\n<p>I have this list:</p>\n<pre><code>final List&lt;TestClass&gt; testClasses = Arrays.asList(\n            new TestClass(100L, LocalDate.of(2020, 1, 10)),\n            new TestClass(100L, LocalDate.of(2019, 1, 10)),\n            new TestClass(101L, LocalDate.of(2020, 7, 20)),\n            new TestClass(102L, LocalDate.of(2020, 1, 9)),\n            new TestClass(103L, LocalDate.of(2020, 1, 11)),\n            new TestClass(104L, LocalDate.of(2020, 2, 13))\n    );\n</code></pre>\n<p>I would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved.</p>\n<p>Sample output from above list after filtering:</p>\n<pre><code>[\n       TestClass(100L, LocalDate.of(2020, 1, 10)),\n       TestClass(101L, LocalDate.of(2020, 7, 20)),\n       TestClass(102L, LocalDate.of(2020, 1, 9)),\n       TestClass(103L, LocalDate.of(2020, 1, 11)),\n       TestClass(104L, LocalDate.of(2020, 2, 13))\n]\n</code></pre>\n<p>As you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.</p>\n<p>I have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.</p>\n<p>TIA and please let me know if more information is required :)</p>\n<p>EDIT:\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.</p>\n<pre><code> Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber));\n</code></pre>\n"},{"tags":["java","vba","vbscript"],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666425959,"creation_date":1504476218,"answer_id":46028197,"question_id":40649696,"body_markdown":"To export all the modules from 1 mother office file, to another .xlsm file:\r\n\r\n1. if the workbook that contains the mother macros is located in folder:\r\n&quot;../a&quot; \r\n2. Then place the child office files in:\r\n&quot;../a/receiving/\r\n3. And create a(n empty) subfolder:\r\n&quot;../a/receiving/modules\r\n4. Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;\r\n\r\nNext, create two modules, \r\n\r\n 5. Module1:\r\n\r\n    ```vba\r\n    Sub Update_Workbooks()\r\n    &#39;This macro requires that a reference to Microsoft Scripting Routine\r\n    &#39;be selected under Tools\\References in order for it to work.\r\n    Application.DisplayAlerts = False\r\n    Application.ScreenUpdating = False\r\n    Dim fso As New FileSystemObject\r\n    Dim source As Scripting.Folder\r\n    Dim wbfile As Scripting.File\r\n    Dim book As Excel.Workbook\r\n    Dim sheet As Excel.Worksheet\r\n    Dim Filename As String\r\n    Dim ModuleFile As String\r\n    Dim Element As Object\r\n    Dim return_user_input As Integer\r\n    \r\n    \r\n    &#39;Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    Set source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    For Each wbfile In source.Files\r\n    \r\n        Call basic_messagebox(wbfile, return_user_input)\r\n        If return_user_input = 6 Then\r\n            MsgBox (wbfile.name &amp; &quot; yes&quot;)\r\n            \r\n            &#39;For Each wbFile In source.Files\r\n        \r\n            If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  &#39;we will konw this too. All files will be .xlsm\r\n                &#39;Call basic_messagebox\r\n                &#39;Set book = Workbooks.Open(wbFile.Path)\r\n                Set book = Workbooks.Open(wbfile.Path)\r\n                    Filename = FileNameOnly(wbfile.name)\r\n                    &#39;This will remove all modules including ClassModules and UserForms.\r\n                    &#39;It will keep all object modules like (sheets, ThisWorkbook)\r\n                    &#39;On Error Resume Next\r\n                    Workbooks(wbfile.name).Activate\r\n                    &#39;For Each Element In ActiveWorkbook.VBProject.VBComponents\r\n                    &#39;On Error Resume Next\r\n                    Call DeleteAllCode(wbfile)\r\n    &#39;                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    &#39;ActiveWorkbook.VBProject.VBComponents.Remove Element\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\r\n    &#39;\r\n    &#39;                Next\r\n    &#39;                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\r\n    &#39;                Next\r\n        \r\n                    &#39;On Error GoTo ErrHandle\r\n                &#39;   Export Module1 from updating workbook\r\n                    &#39;ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    \r\n    &#39;                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\r\n    &#39;                .Export ModuleFile\r\n                    &#39;On Error Resume Next\r\n                    For Each Module In ThisWorkbook.VBProject.VBComponents\r\n                        &#39;MsgBox (Module.name)\r\n                        If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\r\n                            If Left(Module.name, 6) = &quot;Module&quot; Then\r\n                                &#39;MsgBox (&quot;the modules name = &quot; &amp; Module.name)\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\r\n                                ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\r\n                                &#39;MsgBox (ModuleFile)\r\n                            &#39;   Replace Module1 in Userbook\r\n                                Set VBP = Workbooks(Filename).VBProject\r\n                                &#39;On Error Resume Next\r\n                                With VBP.VBComponents\r\n                                    .Import ModuleFile\r\n                                End With\r\n                            &#39;   Delete the temporary module file\r\n                                Kill ModuleFile\r\n                            End If\r\n                        End If\r\n                    Next\r\n                &#39;book.Close True\r\n            End If\r\n    &#39;Next\r\n            \r\n            \r\n        End If\r\n        If return_user_input = 7 Then\r\n            MsgBox (wbfile.name &amp; &quot; no&quot;)\r\n        End If\r\n        \r\n    Next\r\n    \r\n    Exit Sub\r\n    ErrHandle:\r\n    &#39;   Did an error occur?\r\n        MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\r\n          vbCritical\r\n        \r\n    \r\n    End Sub\r\n    Private Function FileNameOnly(pname) As String\r\n        Dim temp As Variant\r\n        Length = Len(pname)\r\n        temp = Split(pname, Application.PathSeparator)\r\n        FileNameOnly = temp(UBound(temp))\r\n    End Function\r\n    Sub basic_messagebox(wbfile, return_user_input)\r\n        &#39;source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\r\n        &#39;vbOK = 1\r\n        &#39;vbCancel = 2\r\n        &#39;vbAbort = 3\r\n        &#39;vbRetry = 4\r\n        &#39;vbIgnore = 5\r\n        &#39;vbYes = 6\r\n        &#39;vbNo = 7\r\n        \r\n        i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\r\n        If i = 6 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; yes&quot;)\r\n            return_user_input = i\r\n        End If\r\n        If i = 7 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; no&quot;)\r\n            return_user_input = i\r\n        End If\r\n        \r\n    End Sub\r\n    ```\r\n\r\n 6. Module2:\r\n\r\n    ```\r\n    Sub DeleteAllCode(wbfile)\r\n         &#39;Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\r\n         &#39;Trust Access To Visual Basics Project must be enabled.\r\n         &#39;From Excel: Tools | Macro | Security | Trusted Sources\r\n         \r\n        Dim x               As Integer\r\n        Dim Proceed         As VbMsgBoxResult\r\n        Dim Prompt          As String\r\n        Dim Title           As String\r\n         \r\n        Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\r\n        ActiveWorkbook.name &amp; &quot;?&quot;\r\n        Title = &quot;Verify Procedure&quot;\r\n         \r\n        Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\r\n        If Proceed = vbNo Then\r\n            MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\r\n            Exit Sub\r\n        End If\r\n         \r\n        On Error Resume Next\r\n        With ActiveWorkbook.VBProject\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents.Remove .VBComponents(x)\r\n            Next x\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents(x).CodeModule.DeleteLines _\r\n                1, .VBComponents(x).CodeModule.CountOfLines\r\n            Next x\r\n        End With\r\n        On Error GoTo 0\r\n         \r\n    End Sub\r\n    ```\r\n","title":"Programmatically export VBA modules","body":"<p>To export all the modules from 1 mother office file, to another .xlsm file:</p>\n<ol>\n<li>if the workbook that contains the mother macros is located in folder:\n&quot;../a&quot;</li>\n<li>Then place the child office files in:\n&quot;../a/receiving/</li>\n<li>And create a(n empty) subfolder:\n&quot;../a/receiving/modules</li>\n<li>Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;</li>\n</ol>\n<p>Next, create two modules,</p>\n<ol start=\"5\">\n<li><p>Module1:</p>\n<pre class=\"lang-vb prettyprint-override\"><code>Sub Update_Workbooks()\n'This macro requires that a reference to Microsoft Scripting Routine\n'be selected under Tools\\References in order for it to work.\nApplication.DisplayAlerts = False\nApplication.ScreenUpdating = False\nDim fso As New FileSystemObject\nDim source As Scripting.Folder\nDim wbfile As Scripting.File\nDim book As Excel.Workbook\nDim sheet As Excel.Worksheet\nDim Filename As String\nDim ModuleFile As String\nDim Element As Object\nDim return_user_input As Integer\n\n\n'Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   'we will know this since all of the files will be in one folder\nSet source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   'we will know this since all of the files will be in one folder\nFor Each wbfile In source.Files\n\n    Call basic_messagebox(wbfile, return_user_input)\n    If return_user_input = 6 Then\n        MsgBox (wbfile.name &amp; &quot; yes&quot;)\n\n        'For Each wbFile In source.Files\n\n        If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  'we will konw this too. All files will be .xlsm\n            'Call basic_messagebox\n            'Set book = Workbooks.Open(wbFile.Path)\n            Set book = Workbooks.Open(wbfile.Path)\n                Filename = FileNameOnly(wbfile.name)\n                'This will remove all modules including ClassModules and UserForms.\n                'It will keep all object modules like (sheets, ThisWorkbook)\n                'On Error Resume Next\n                Workbooks(wbfile.name).Activate\n                'For Each Element In ActiveWorkbook.VBProject.VBComponents\n                'On Error Resume Next\n                Call DeleteAllCode(wbfile)\n'                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\n'                    'ActiveWorkbook.VBProject.VBComponents.Remove Element\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\n'\n'                Next\n'                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\n'                Next\n\n                'On Error GoTo ErrHandle\n            '   Export Module1 from updating workbook\n                'ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\n                ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\n\n'                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\n'                .Export ModuleFile\n                'On Error Resume Next\n                For Each Module In ThisWorkbook.VBProject.VBComponents\n                    'MsgBox (Module.name)\n                    If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\n                        If Left(Module.name, 6) = &quot;Module&quot; Then\n                            'MsgBox (&quot;the modules name = &quot; &amp; Module.name)\n                            'ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\n                            ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\n                            'ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\n                            'MsgBox (ModuleFile)\n                        '   Replace Module1 in Userbook\n                            Set VBP = Workbooks(Filename).VBProject\n                            'On Error Resume Next\n                            With VBP.VBComponents\n                                .Import ModuleFile\n                            End With\n                        '   Delete the temporary module file\n                            Kill ModuleFile\n                        End If\n                    End If\n                Next\n            'book.Close True\n        End If\n'Next\n\n\n    End If\n    If return_user_input = 7 Then\n        MsgBox (wbfile.name &amp; &quot; no&quot;)\n    End If\n\nNext\n\nExit Sub\nErrHandle:\n'   Did an error occur?\n    MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\n      vbCritical\n\n\nEnd Sub\nPrivate Function FileNameOnly(pname) As String\n    Dim temp As Variant\n    Length = Len(pname)\n    temp = Split(pname, Application.PathSeparator)\n    FileNameOnly = temp(UBound(temp))\nEnd Function\nSub basic_messagebox(wbfile, return_user_input)\n    'source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\n    'vbOK = 1\n    'vbCancel = 2\n    'vbAbort = 3\n    'vbRetry = 4\n    'vbIgnore = 5\n    'vbYes = 6\n    'vbNo = 7\n\n    i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\n    If i = 6 Then\n        'MsgBox (wbFile.name &amp; &quot; yes&quot;)\n        return_user_input = i\n    End If\n    If i = 7 Then\n        'MsgBox (wbFile.name &amp; &quot; no&quot;)\n        return_user_input = i\n    End If\n\nEnd Sub\n</code></pre>\n</li>\n<li><p>Module2:</p>\n<pre><code>Sub DeleteAllCode(wbfile)\n     'Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\n     'Trust Access To Visual Basics Project must be enabled.\n     'From Excel: Tools | Macro | Security | Trusted Sources\n\n    Dim x               As Integer\n    Dim Proceed         As VbMsgBoxResult\n    Dim Prompt          As String\n    Dim Title           As String\n\n    Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\n    ActiveWorkbook.name &amp; &quot;?&quot;\n    Title = &quot;Verify Procedure&quot;\n\n    Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\n    If Proceed = vbNo Then\n        MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\n        Exit Sub\n    End If\n\n    On Error Resume Next\n    With ActiveWorkbook.VBProject\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents.Remove .VBComponents(x)\n        Next x\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents(x).CodeModule.DeleteLines _\n            1, .VBComponents(x).CodeModule.CountOfLines\n        Next x\n    End With\n    On Error GoTo 0\n\nEnd Sub\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":5970330,"reputation":2828,"user_id":4692826,"accept_rate":30,"display_name":"thegreatjedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3962,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1666425959,"creation_date":1479370335,"question_id":40649696,"body_markdown":"To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.\r\n\r\nMy Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.\r\n\r\nBefore all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?\r\n\r\nEdit: If you&#39;re going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I&#39;ve already stated very specifically what I want to achieve. It&#39;s my first time coding in VBA or VBS so I don&#39;t know what is expected from me to make questions in this topic &quot;specific&quot;.","title":"Programmatically export VBA modules","body":"<p>To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.</p>\n\n<p>My Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.</p>\n\n<p>Before all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?</p>\n\n<p>Edit: If you're going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I've already stated very specifically what I want to achieve. It's my first time coding in VBA or VBS so I don't know what is expected from me to make questions in this topic \"specific\".</p>\n"},{"tags":["java","cryptography","aes","rsa","instagram"],"comments":[{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666423411,"post_id":74161586,"comment_id":130937631,"body_markdown":"Yea sure, just edited the question. @AlexR","body":"Yea sure, just edited the question. @AlexR"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666423648,"post_id":74161586,"comment_id":130937665,"body_markdown":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with `toString()` of encrypted key, tag and ciphertext corrupts the data.","body":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with <code>toString()</code> of encrypted key, tag and ciphertext corrupts the data."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666424119,"post_id":74161586,"comment_id":130937712,"body_markdown":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString().\n[python example](https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py)\n[C# implementation](https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da)","body":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString(). <a href=\"https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py\" rel=\"nofollow noreferrer\">python example</a> <a href=\"https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da\" rel=\"nofollow noreferrer\">C# implementation</a>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666425053,"post_id":74161586,"comment_id":130937859,"body_markdown":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong.","body":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666425660,"post_id":74161586,"comment_id":130937949,"body_markdown":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?","body":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666433759,"post_id":74161586,"comment_id":130939055,"body_markdown":"Possibly different versions and therefore different algorithms, s. [here](https://github.com/dilame/instagram-private-api/issues/1010). An RSA key looks like [here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541), which is an X.509-PEM key (after Base64 decoding). [Here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937) different versions are mentioned. [Here](https://github.com/dilame/instagram-private-api/issues/1010) is a Libsodium-based approach (which uses a 32 bytes key).","body":"Possibly different versions and therefore different algorithms, s. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">here</a>. An RSA key looks like <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541\" rel=\"nofollow noreferrer\">here</a>, which is an X.509-PEM key (after Base64 decoding). <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937\" rel=\"nofollow noreferrer\">Here</a> different versions are mentioned. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">Here</a> is a Libsodium-based approach (which uses a 32 bytes key)."}],"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666425528,"creation_date":1666420930,"question_id":74161586,"body_markdown":"I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the\r\n\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null\r\n\r\nBasically Instagram needs a cipher text that follow the structure detailed in this [github repo][1]. My code is as follows to replicate it.\r\n\r\n     // Generate a random IV\r\n     byte[] iv = new byte[12];\r\n     new SecureRandom().nextBytes(iv);\r\n\r\n     // Get the system current time in milliseconds\r\n     long timestamp = System.currentTimeMillis();\r\n\r\n     // Converting public key to byte array from hex string\r\n     byte[] publicKeyBytes = hexStringToByteArray(publicKey);\r\n\r\n     // Create a random key\r\n     byte[] randomKey = new byte[32];\r\n     new SecureRandom().nextBytes(randomKey);\r\n\r\n     // rebuild key using SecretKeySpec\r\n     SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\r\n \r\n     //generate the cipher text\r\n     Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n     cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\r\n\r\n     // Add the current time in milliseconds as additional authenticated data\r\n     cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\r\n     byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\r\n\r\n     // Get the tag from the end of the cipher text\r\n     byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\r\n\r\n     // Now we encrypt a random key using the same public key\r\n     // use RSA encryption to encrypt the random key\r\n     X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n     PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n     Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n     cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\r\n     byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\r\n\r\n     // Generate the final encrypted text\r\n     String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\r\n\r\n     //Base64 encode the encrypted text\r\n     String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\r\n\r\nand the function hexStringtoByteArray\r\n\r\n    public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                                 + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\nI realize that it is a lot of code so here is a basic gist of what is going on\r\n\r\n 1. I pass a password and publickey(string) to the function.\r\n 2. We generate a random IV and a new random key.\r\n 3. I then use this random key to encrypt the password using AES_GCM_256 bit encryption.\r\n 4. Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.\r\n 5. Finally I combine all of this in the format that insta wants and return the final cipher text.\r\n\r\nNow my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is \r\n\r\n    PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n\r\nExample Public Key that Instagram returns\r\n\r\n    c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\r\n\r\nI checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !\r\n\r\n  [1]: https://github.com/Datalux/instagram-weak-encryption#encryption-phases","title":"InvalidKeyException when attempting to encrypt password for Instagram login","body":"<p>I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the</p>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null</p>\n</blockquote>\n<p>Basically Instagram needs a cipher text that follow the structure detailed in this <a href=\"https://github.com/Datalux/instagram-weak-encryption#encryption-phases\" rel=\"nofollow noreferrer\">github repo</a>. My code is as follows to replicate it.</p>\n<pre><code> // Generate a random IV\n byte[] iv = new byte[12];\n new SecureRandom().nextBytes(iv);\n\n // Get the system current time in milliseconds\n long timestamp = System.currentTimeMillis();\n\n // Converting public key to byte array from hex string\n byte[] publicKeyBytes = hexStringToByteArray(publicKey);\n\n // Create a random key\n byte[] randomKey = new byte[32];\n new SecureRandom().nextBytes(randomKey);\n\n // rebuild key using SecretKeySpec\n SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\n\n //generate the cipher text\n Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\n\n // Add the current time in milliseconds as additional authenticated data\n cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\n byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\n\n // Get the tag from the end of the cipher text\n byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\n\n // Now we encrypt a random key using the same public key\n // use RSA encryption to encrypt the random key\n X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\n KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\n byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\n\n // Generate the final encrypted text\n String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\n\n //Base64 encode the encrypted text\n String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>and the function hexStringtoByteArray</p>\n<pre><code>public static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                             + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>I realize that it is a lot of code so here is a basic gist of what is going on</p>\n<ol>\n<li>I pass a password and publickey(string) to the function.</li>\n<li>We generate a random IV and a new random key.</li>\n<li>I then use this random key to encrypt the password using AES_GCM_256 bit encryption.</li>\n<li>Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.</li>\n<li>Finally I combine all of this in the format that insta wants and return the final cipher text.</li>\n</ol>\n<p>Now my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is</p>\n<pre><code>PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n</code></pre>\n<p>Example Public Key that Instagram returns</p>\n<pre><code>c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\n</code></pre>\n<p>I checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !</p>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":11029,"reputation":4724,"user_id":21108,"display_name":"Nate"},"down_vote_count":5,"up_vote_count":333,"is_accepted":true,"score":328,"last_activity_date":1508363562,"creation_date":1257254907,"answer_id":1667339,"question_id":1666736,"body_markdown":"You should be able to use the &quot;ellipsize&quot; property of a text view:\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/text_mytext&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;1&quot;\r\n    /&gt;\r\nYou may also need to apply gravity values to the layout too; I have sometimes seen &quot;auto-stretching&quot; views without them.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>You should be able to use the \"ellipsize\" property of a text view:</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/text_mytext\"\n    android:ellipsize=\"end\"\n    android:maxLines=\"1\"\n/&gt;\n</code></pre>\n\n<p>You may also need to apply gravity values to the layout too; I have sometimes seen \"auto-stretching\" views without them.</p>\n"},{"tags":[],"owner":{"account_id":267816,"reputation":6421,"user_id":1970896,"accept_rate":60,"display_name":"BonanzaDriver"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1305784875,"creation_date":1305784875,"answer_id":6054458,"question_id":1666736,"body_markdown":"Found an interesting work-a-round for this problem.\r\n\r\n    maxLines=1\r\n    ellipsize=end\r\n    scrollHorizontally=true\r\n\r\nThe trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Found an interesting work-a-round for this problem.</p>\n\n<pre><code>maxLines=1\nellipsize=end\nscrollHorizontally=true\n</code></pre>\n\n<p>The trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.</p>\n"},{"tags":[],"owner":{"account_id":200738,"reputation":369,"user_id":3137890,"display_name":"xevser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531873949,"creation_date":1417701481,"answer_id":27295897,"question_id":1666736,"body_markdown":"Programmatically, you can use:\r\n\r\n    TextView tx = new TextView(this);\r\n    tx.setTextSize(13);\r\n    tx.setGravity(Gravity.CENTER);\r\n    tx.setTop(90);\r\n    tx.setText(&quot;Long text here&quot;);\r\n    tx.setTextColor(Color.BLACK);\r\n    tx.setSingleLine(true);\r\n    tx.setEllipsize(TruncateAt.END);","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Programmatically, you can use:</p>\n\n<pre><code>TextView tx = new TextView(this);\ntx.setTextSize(13);\ntx.setGravity(Gravity.CENTER);\ntx.setTop(90);\ntx.setText(\"Long text here\");\ntx.setTextColor(Color.BLACK);\ntx.setSingleLine(true);\ntx.setEllipsize(TruncateAt.END);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666425058,"creation_date":1662702826,"answer_id":73657838,"question_id":1666736,"body_markdown":"Just add\r\n``` android:ellipsize=&quot;end&quot;``` on XML &lt;/br&gt;\r\nand your code should look like this\r\n\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/newsTitleTextView&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;2&quot;\r\n        android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\r\n        android:textSize=&quot;15sp&quot; /&gt;\r\n","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Just add\n<code> android:ellipsize=&quot;end&quot;</code> on XML \nand your code should look like this</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/newsTitleTextView&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\n    android:ellipsize=&quot;end&quot;\n    android:maxLines=&quot;2&quot;\n    android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\n    android:textSize=&quot;15sp&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":61957,"reputation":44743,"user_id":184367,"accept_rate":76,"display_name":"znq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104915,"favorite_count":0,"down_vote_count":0,"up_vote_count":149,"accepted_answer_id":1667339,"answer_count":4,"score":149,"last_activity_date":1666425058,"creation_date":1257247563,"question_id":1666736,"body_markdown":"If a `String` is longer than the `TextView`&#39;s width it automatically wraps onto the next line. I can avoid this by using `android:singleLine` (deprecated) or by setting `android:inputType=&quot;text&quot;`. What I need now is something that replaces the last 3 characters of my `String` with &quot;**...**&quot;. Since I&#39;m not using a monospace font this will always be different depending on the letters used in my `String`. So I&#39;m wondering what&#39;s the best way to get the last 3 characters of a String in a `TextView` and replace them. Maybe there&#39;s already something implemented in the Android framework, since this must be a common problem.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>If a <code>String</code> is longer than the <code>TextView</code>'s width it automatically wraps onto the next line. I can avoid this by using <code>android:singleLine</code> (deprecated) or by setting <code>android:inputType=\"text\"</code>. What I need now is something that replaces the last 3 characters of my <code>String</code> with \"<strong>...</strong>\". Since I'm not using a monospace font this will always be different depending on the letters used in my <code>String</code>. So I'm wondering what's the best way to get the last 3 characters of a String in a <code>TextView</code> and replace them. Maybe there's already something implemented in the Android framework, since this must be a common problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666425186,"post_id":74161122,"comment_id":130937880,"body_markdown":"Sounds the same as [Files.delete does not delete empty directory](https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory)","body":"Sounds the same as <a href=\"https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory\">Files.delete does not delete empty directory</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666424651,"creation_date":1666424309,"answer_id":74161854,"question_id":74161122,"body_markdown":"This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you&#39;ve shown can be fixed with try with resources:\r\n\r\n    try(Stream&lt;Path&gt; stream = Files.list( ... )) {\r\n        ... your code\r\n        stream.xyz(...);\r\n    }\r\n\r\n... plus same for `Files.walk()` in `deleteDirectory`. Check other similar calls in all code. \r\n\r\nWhen this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.","title":"Files.delete did not delete the folder correctly","body":"<p>This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you've shown can be fixed with try with resources:</p>\n<pre><code>try(Stream&lt;Path&gt; stream = Files.list( ... )) {\n    ... your code\n    stream.xyz(...);\n}\n</code></pre>\n<p>... plus same for <code>Files.walk()</code> in <code>deleteDirectory</code>. Check other similar calls in all code.</p>\n<p>When this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.</p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161854,"answer_count":1,"score":0,"last_activity_date":1666424651,"creation_date":1666413744,"question_id":74161122,"body_markdown":"In the springboot project, after the files have been merged, they need to be deleted.\r\nThe main code for the merge method is：\r\n```\r\n// chunkFolder indicates the file storage folder path\r\nFiles.list(Paths.get(chunkFolder))\r\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\r\n                .sorted((p1, p2) -&gt; {\r\n                    String fileName1 = p1.getFileName().toString();\r\n                    String fileName2 = p2.getFileName().toString();\r\n                    int index1 = fileName1.indexOf(HYPHEN);\r\n                    int index2 = fileName2.indexOf(HYPHEN);\r\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\r\n                })\r\n                .forEach(path -&gt; {\r\n                            try {\r\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n```\r\nThe delete method is:\r\n```\r\n public void deleteDirectory(Path targetPath) throws IOException {\r\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\r\n            try {\r\n                Files.delete(path);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n```\r\nIn the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.","title":"Files.delete did not delete the folder correctly","body":"<p>In the springboot project, after the files have been merged, they need to be deleted.\nThe main code for the merge method is：</p>\n<pre><code>// chunkFolder indicates the file storage folder path\nFiles.list(Paths.get(chunkFolder))\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\n                .sorted((p1, p2) -&gt; {\n                    String fileName1 = p1.getFileName().toString();\n                    String fileName2 = p2.getFileName().toString();\n                    int index1 = fileName1.indexOf(HYPHEN);\n                    int index2 = fileName2.indexOf(HYPHEN);\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\n                })\n                .forEach(path -&gt; {\n                            try {\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                );\n</code></pre>\n<p>The delete method is:</p>\n<pre><code> public void deleteDirectory(Path targetPath) throws IOException {\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\n            try {\n                Files.delete(path);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n</code></pre>\n<p>In the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427609,"creation_date":1618427609,"answer_id":67097796,"question_id":67097742,"body_markdown":"You need to define consumes attribute.\r\n\r\n    @PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>You need to define consumes attribute.</p>\n<pre><code>@PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666424543,"creation_date":1666424543,"answer_id":74161873,"question_id":67097742,"body_markdown":"Here is the implementation with Unit Test Case.\r\n\r\n```java\r\n    @PostMapping(value = &quot;/upload&quot;,\r\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public String demo(HttpServletRequest httpServletRequest) {\r\n\r\n        ServletInputStream inputStream;\r\n\r\n        try {\r\n            inputStream = httpServletRequest.getInputStream();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\r\n                .lines().toList();\r\n        System.out.println(list);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n```\r\n\r\n**Test Case**\r\n\r\n```java\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldTestBinaryFileUpload() throws Exception {\r\n        mockMvc\r\n                .perform(MockMvcRequestBuilders\r\n                        .post(&quot;/api/user/upload&quot;)\r\n                        .content(&quot;Hello&quot;.getBytes())\r\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\r\n                .andExpect(MockMvcResultMatchers\r\n                        .status()\r\n                        .isOk())\r\n                .andExpect(MockMvcResultMatchers\r\n                        .content()\r\n                        .bytes(&quot;Hello World&quot;.getBytes()));\r\n    }\r\n```","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>Here is the implementation with Unit Test Case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(value = &quot;/upload&quot;,\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public String demo(HttpServletRequest httpServletRequest) {\n\n        ServletInputStream inputStream;\n\n        try {\n            inputStream = httpServletRequest.getInputStream();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\n                .lines().toList();\n        System.out.println(list);\n        return &quot;Hello World&quot;;\n    }\n</code></pre>\n<p><strong>Test Case</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldTestBinaryFileUpload() throws Exception {\n        mockMvc\n                .perform(MockMvcRequestBuilders\n                        .post(&quot;/api/user/upload&quot;)\n                        .content(&quot;Hello&quot;.getBytes())\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\n                .andExpect(MockMvcResultMatchers\n                        .status()\n                        .isOk())\n                .andExpect(MockMvcResultMatchers\n                        .content()\n                        .bytes(&quot;Hello World&quot;.getBytes()));\n    }\n</code></pre>\n"}],"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666424543,"creation_date":1618427343,"question_id":67097742,"body_markdown":"I wrote a spring controller with following methods to deal with a callback http request,\r\n\r\n    @PostMapping (&quot;/test&quot;)\r\n    public void notifyTranscodeResult(String paramStr){\r\n       ...\r\n    }\r\n\r\n\r\n    @PostMapping (&quot;/test2&quot;)\r\n    public void notifyTranscodeResult(@RequestBody ParamClass param){\r\n       ...\r\n    }\r\n\r\nbut I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type &#39;application/octet-stream&#39; not supported\r\n\r\nI can&#39;t change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>I wrote a spring controller with following methods to deal with a callback http request,</p>\n<pre><code>@PostMapping (&quot;/test&quot;)\npublic void notifyTranscodeResult(String paramStr){\n   ...\n}\n\n\n@PostMapping (&quot;/test2&quot;)\npublic void notifyTranscodeResult(@RequestBody ParamClass param){\n   ...\n}\n</code></pre>\n<p>but I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type 'application/octet-stream' not supported</p>\n<p>I can't change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user11044402"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562847508,"creation_date":1562847508,"answer_id":56988999,"question_id":56988955,"body_markdown":"Just use the `URL` constructor to build a new URL.\r\n\r\n```java\r\nURL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, &quot;/&quot;);\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>Just use the <code>URL</code> constructor to build a new URL.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>URL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, \"/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666423323,"creation_date":1666423323,"answer_id":74161767,"question_id":56988955,"body_markdown":"I found shorter method that maintains everything but the path portion, use `URI.resolve()`.\r\n\r\n```java\r\nURL url = new URL(&quot;http://example.com:8081/api/test&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\r\n\r\nURL urlNoPath = url.resolve(&quot;/&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>I found shorter method that maintains everything but the path portion, use <code>URI.resolve()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://example.com:8081/api/test&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\n\nURL urlNoPath = url.resolve(&quot;/&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74161767,"answer_count":2,"score":8,"last_activity_date":1666423323,"creation_date":1562847349,"question_id":56988955,"body_markdown":"Is there any way to get only the scheme + host + port from a given `URL`.\r\n\r\nSo I mean, I want to remove path url segment.\r\n\r\n    URL aURL = new URL(&quot;http://example.com:80/docs/books/tutorial&quot;\r\n                           + &quot;/index.html?name=networking#DOWNLOADING&quot;);\r\n\r\nI&#39;ve been playing with this:\r\n\r\n    System.out.println(&quot;protocol = &quot; + aURL.getProtocol());\r\n    System.out.println(&quot;authority = &quot; + aURL.getAuthority());\r\n    System.out.println(&quot;host = &quot; + aURL.getHost());\r\n    System.out.println(&quot;port = &quot; + aURL.getPort());\r\n    System.out.println(&quot;path = &quot; + aURL.getPath());\r\n    System.out.println(&quot;query = &quot; + aURL.getQuery());\r\n    System.out.println(&quot;filename = &quot; + aURL.getFile());\r\n    System.out.println(&quot;ref = &quot; + aURL.getRef());\r\n\r\nOutput is:\r\n\r\n    protocol = http\r\n    authority = example.com:80\r\n    host = example.com\r\n    port = 80\r\n    path = /docs/books/tutorial/index.html\r\n    query = name=networking\r\n    filename = /docs/books/tutorial/index.html?name=networking\r\n    ref = DOWNLOADING\r\n\r\nwhat I want to get is a new `URL` object to `http://example.com:8080`\r\n\r\nAny ideas?","title":"Java URL: Get root of URL object (remove path)","body":"<p>Is there any way to get only the scheme + host + port from a given <code>URL</code>.</p>\n\n<p>So I mean, I want to remove path url segment.</p>\n\n<pre><code>URL aURL = new URL(\"http://example.com:80/docs/books/tutorial\"\n                       + \"/index.html?name=networking#DOWNLOADING\");\n</code></pre>\n\n<p>I've been playing with this:</p>\n\n<pre><code>System.out.println(\"protocol = \" + aURL.getProtocol());\nSystem.out.println(\"authority = \" + aURL.getAuthority());\nSystem.out.println(\"host = \" + aURL.getHost());\nSystem.out.println(\"port = \" + aURL.getPort());\nSystem.out.println(\"path = \" + aURL.getPath());\nSystem.out.println(\"query = \" + aURL.getQuery());\nSystem.out.println(\"filename = \" + aURL.getFile());\nSystem.out.println(\"ref = \" + aURL.getRef());\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>protocol = http\nauthority = example.com:80\nhost = example.com\nport = 80\npath = /docs/books/tutorial/index.html\nquery = name=networking\nfilename = /docs/books/tutorial/index.html?name=networking\nref = DOWNLOADING\n</code></pre>\n\n<p>what I want to get is a new <code>URL</code> object to <code>http://example.com:8080</code></p>\n\n<p>Any ideas?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9052,"page":940,"page_size":100}
