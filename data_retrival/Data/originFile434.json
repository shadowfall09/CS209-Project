{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1684141162,"post_id":76252355,"comment_id":134467847,"body_markdown":"Can you provide some code? According online documentation it should be possible.","body":"Can you provide some code? According online documentation it should be possible."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684147582,"post_id":76252355,"comment_id":134469261,"body_markdown":"Probably for the same reason that `Collection.contains()` takes an `Object` and not a `T`.","body":"Probably for the same reason that <code>Collection.contains()</code> takes an <code>Object</code> and not a <code>T</code>."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684141587,"creation_date":1684141587,"answer_id":76252480,"question_id":76252355,"body_markdown":"Because the only method on the element types required by the method is `Object.equals`, which, obviously, is implemented by all types. I.e. the method doesn&#39;t require the types have any commonality other than `Object`, so there is no need for the element types to be the same.\r\n\r\nIf you prefer, you can define your own wrapper method to enforce the requirement that the element types are the same:\r\n\r\n    public static &lt;T&gt; boolean containsAny(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2) {\r\n        return CollectionsUtils.containsAny(coll1, coll2);\r\n    }\r\n","title":"Why Apache CollectionUtils.containsAny does not require Collection of same type","body":"<p>Because the only method on the element types required by the method is <code>Object.equals</code>, which, obviously, is implemented by all types. I.e. the method doesn't require the types have any commonality other than <code>Object</code>, so there is no need for the element types to be the same.</p>\n<p>If you prefer, you can define your own wrapper method to enforce the requirement that the element types are the same:</p>\n<pre><code>public static &lt;T&gt; boolean containsAny(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2) {\n    return CollectionsUtils.containsAny(coll1, coll2);\n}\n</code></pre>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684147302,"accepted_answer_id":76252480,"answer_count":1,"score":1,"last_activity_date":1684147284,"creation_date":1684140664,"question_id":76252355,"body_markdown":"Why containsAny method of Apache CollectionUtils does not strictly require two list with same generic type? In my experience I always have to check collections of same type and it would help me to have a strict type parameters. Is this a way to give developers more flexibility or is there another reason?\r\n","title":"Why Apache CollectionUtils.containsAny does not require Collection of same type","body":"<p>Why containsAny method of Apache CollectionUtils does not strictly require two list with same generic type? In my experience I always have to check collections of same type and it would help me to have a strict type parameters. Is this a way to give developers more flexibility or is there another reason?</p>\n"},{"tags":["java","spring-mvc","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1441374680,"post_id":29797721,"comment_id":52667565,"body_markdown":"Hi @Marek ! \nDid you find a solution to your problem ? Same issue here ...","body":"Hi @Marek !  Did you find a solution to your problem ? Same issue here ..."},{"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"score":0,"creation_date":1441376128,"post_id":29797721,"comment_id":52668710,"body_markdown":"Unfortunately no, as far as I remember I spent some time with this but the solution was too complicated and finally not worth to implement. I use @Configuration to manually do that :( In my case this is not so painful, but I can imagine that there are cases where it could be.","body":"Unfortunately no, as far as I remember I spent some time with this but the solution was too complicated and finally not worth to implement. I use @Configuration to manually do that :( In my case this is not so painful, but I can imagine that there are cases where it could be."},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1441377279,"post_id":29797721,"comment_id":52669436,"body_markdown":"ok thanks for your answer","body":"ok thanks for your answer"},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":1,"creation_date":1441614560,"post_id":29797721,"comment_id":52733180,"body_markdown":"I juste filed an issue here : https://github.com/spring-projects/spring-boot/issues/3910","body":"I juste filed an issue here : <a href=\"https://github.com/spring-projects/spring-boot/issues/3910\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/3910</a>"},{"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"score":0,"creation_date":1442415146,"post_id":29797721,"comment_id":53074777,"body_markdown":"@S&#233;bastienNussbaumer check the answer below. I have just found the solution by working on a different problem. It works fine for me.","body":"@S&#233;bastienNussbaumer check the answer below. I have just found the solution by working on a different problem. It works fine for me."}],"answers":[{"tags":[],"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1684147062,"creation_date":1442415047,"answer_id":32612004,"question_id":29797721,"body_markdown":"To enable `#oAuth2` security expressions it is only needed to set the default expression handler as `OAuth2MethodSecurityExpressionHandler` instead of `DefaultMethodSecurityExpressionHandler`. Because `OAuth2MethodSecurityExpressionHandler` extends it anyway, then the whole previous functionality remains the same. In my configuration I use both `GlobalMethodSecurityConfiguration` and `WebSecurityConfigurerAdapter`.\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity\r\n    public class MethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n    \r\n      @Override\r\n      protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        return new OAuth2MethodSecurityExpressionHandler();\r\n      }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n      ...\r\n    }\r\n\r\n\r\n    @Configuration\r\n    @Import({ SecurityConfiguration.class, MethodSecurityConfiguration.class })\r\n    public class AppConfiguration {\r\n      ...\r\n    }","title":"#oauth2 security expressions on method level","body":"<p>To enable <code>#oAuth2</code> security expressions it is only needed to set the default expression handler as <code>OAuth2MethodSecurityExpressionHandler</code> instead of <code>DefaultMethodSecurityExpressionHandler</code>. Because <code>OAuth2MethodSecurityExpressionHandler</code> extends it anyway, then the whole previous functionality remains the same. In my configuration I use both <code>GlobalMethodSecurityConfiguration</code> and <code>WebSecurityConfigurerAdapter</code>.</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity\npublic class MethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n\n  @Override\n  protected MethodSecurityExpressionHandler createExpressionHandler() {\n    return new OAuth2MethodSecurityExpressionHandler();\n  }\n}\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n  ...\n}\n\n\n@Configuration\n@Import({ SecurityConfiguration.class, MethodSecurityConfiguration.class })\npublic class AppConfiguration {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13209145,"reputation":51,"user_id":9539953,"display_name":"thygesen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521804405,"creation_date":1521803443,"answer_id":49448368,"question_id":29797721,"body_markdown":"I think you also need to add:\r\n@EnableGlobalMethodSecurity(**prePostEnabled = true**) in order to get it to work.\r\n\r\n[Answered on deferent page][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33638850/how-to-protect-spring-security-oauth-resources-using-preauthorize-based-on-scop","title":"#oauth2 security expressions on method level","body":"<p>I think you also need to add:\n@EnableGlobalMethodSecurity(<strong>prePostEnabled = true</strong>) in order to get it to work.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33638850/how-to-protect-spring-security-oauth-resources-using-preauthorize-based-on-scop\">Answered on deferent page</a></p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538644667,"creation_date":1527335786,"answer_id":50542509,"question_id":29797721,"body_markdown":"I had the same problem, but only in a unit test (`@WebMvcTest`). I had to add `@EnableGlobalMethodSecurity` on the inner class that defined the configuration for the test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest {\r\n\r\n      @TestConfiguration\r\n      @Import({JacksonCustomizations.class,SecuritySettings.class,\r\n            OAuth2ServerConfiguration.class, WebSecurityConfiguration.class,\r\n            TokenGrantersConfiguration.class})\r\n      @EnableGlobalMethodSecurity\r\n      public static class TestConfig {\r\n      }\r\n    }\r\n\r\nUPDATE: In Spring Boot 2.x, you might get:\r\n\r\n&gt; java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated\r\n\r\nThe reason is that you added `@EnableGlobalMethodSecurity` without actually enabling anything. To fix it, set at least one of the properties of the annotation to true. E.g:\r\n\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)","title":"#oauth2 security expressions on method level","body":"<p>I had the same problem, but only in a unit test (<code>@WebMvcTest</code>). I had to add <code>@EnableGlobalMethodSecurity</code> on the inner class that defined the configuration for the test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(MyController.class)\npublic class MyControllerTest {\n\n  @TestConfiguration\n  @Import({JacksonCustomizations.class,SecuritySettings.class,\n        OAuth2ServerConfiguration.class, WebSecurityConfiguration.class,\n        TokenGrantersConfiguration.class})\n  @EnableGlobalMethodSecurity\n  public static class TestConfig {\n  }\n}\n</code></pre>\n\n<p>UPDATE: In Spring Boot 2.x, you might get:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated</p>\n</blockquote>\n\n<p>The reason is that you added <code>@EnableGlobalMethodSecurity</code> without actually enabling anything. To fix it, set at least one of the properties of the annotation to true. E.g:</p>\n\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1248262,"reputation":2068,"user_id":1209256,"display_name":"JohanB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539683268,"creation_date":1539683268,"answer_id":52832621,"question_id":29797721,"body_markdown":"A simpler solution would be to let Spring Boot autoconfigure. Adding the following dependency solved this for me:\r\n\r\n    compile(&#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE&#39;)","title":"#oauth2 security expressions on method level","body":"<p>A simpler solution would be to let Spring Boot autoconfigure. Adding the following dependency solved this for me:</p>\n\n<pre><code>compile('org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602889401,"creation_date":1602889401,"answer_id":64397462,"question_id":29797721,"body_markdown":"For me, it was the combination of [this answer][1]\r\n\r\n    // spring configuration class annotation\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\r\nand [this other answer][2]\r\n\r\n    // gradle dependencuy\r\n    compile(&#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE&#39;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49448368/539048\r\n  [2]: https://stackoverflow.com/a/52832621/539048","title":"#oauth2 security expressions on method level","body":"<p>For me, it was the combination of <a href=\"https://stackoverflow.com/a/49448368/539048\">this answer</a></p>\n<pre><code>// spring configuration class annotation\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n<p>and <a href=\"https://stackoverflow.com/a/52832621/539048\">this other answer</a></p>\n<pre><code>// gradle dependencuy\ncompile('org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229597,"reputation":4087,"user_id":492647,"accept_rate":57,"display_name":"Janek Olszak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613733980,"creation_date":1613733980,"answer_id":66276692,"question_id":29797721,"body_markdown":"This is an old question, things have changed. With Spring Security 5 one should use:\r\n\r\n    .hasAuthority(&quot;SCOPE_scopename&quot;)\r\n\r\n**Spring adds authorities to the principal based on the scopes it received from the provider, prefixed with “SCOPE_“.**\r\n\r\nMore info: https://www.baeldung.com/spring-security-openid-connect","title":"#oauth2 security expressions on method level","body":"<p>This is an old question, things have changed. With Spring Security 5 one should use:</p>\n<pre><code>.hasAuthority(&quot;SCOPE_scopename&quot;)\n</code></pre>\n<p><strong>Spring adds authorities to the principal based on the scopes it received from the provider, prefixed with “SCOPE_“.</strong></p>\n<p>More info: <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-openid-connect</a></p>\n"}],"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18230,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":32612004,"answer_count":6,"score":16,"last_activity_date":1684147062,"creation_date":1429705993,"question_id":29797721,"body_markdown":"What should I do to be able to use #oauth2 security expressions on method level like on the example below?\r\n\r\n    @RequestMapping(value = &quot;email&quot;, method = RequestMethod.GET)\r\n      @ResponseBody\r\n      @PreAuthorize(&quot;#oauth2.hasScope(&#39;read&#39;)&quot;)\r\n      public String email() {\r\n    \r\n        return &quot;test@email.com&quot;;\r\n      }\r\n\r\nIf I do a request to that resource I receive\r\n\r\n        [INFO] java.lang.IllegalArgumentException: Failed to evaluate expression &#39;#oauth2.hasScope(&#39;read&#39;)&#39;\r\n    [INFO] \tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:14)\r\n    [INFO] \tat org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:44)\r\n    [INFO] \tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:57)\r\n    [INFO] \tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:25)\r\n    [INFO] \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:62)\r\n    [INFO] \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:232)\r\n    [INFO] \tat org.springframework.security.access.intercept.aspectj.AspectJMethodSecurityInterceptor.invoke(AspectJMethodSecurityInterceptor.java:43)\r\n    [INFO] \tat org.springframework.security.access.intercept.aspectj.aspect.AnnotationSecurityAspect.ajc$around$org_springframework_security_access_intercept_aspectj_aspect_AnnotationSecurityAspect$1$c4d57a2b(AnnotationSecurityAspect.aj:63)\r\n    [INFO] \tat pl.insert.controllers.ResourceController.email(ResourceController.java:22)\r\n\r\nThe same thing works well if I specify the access in my ResourceServerConfiguration instead of @Controllers&#39; methods\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\r\n    \r\n      @Override\r\n      public void configure(HttpSecurity http) throws Exception {\r\n        http.requestMatchers().antMatchers(&quot;/oauth/resources/**&quot;);\r\n        http.authorizeRequests().anyRequest().access(&quot;#oauth2.hasScope(&#39;read&#39;)&quot;);\r\n      }\r\n    }\r\n\r\nStandard security expressions like @PreAuthorize(&quot;permitAll&quot;) or @PreAuthorize(&quot;denyAll&quot;) work as expected. So, probably I have to tell somehow to my AspectJMethodSecurityInterceptor to use OAuth2WebSecurityExpressionHandler. Any ideas? \r\n","title":"#oauth2 security expressions on method level","body":"<p>What should I do to be able to use #oauth2 security expressions on method level like on the example below?</p>\n\n<pre><code>@RequestMapping(value = \"email\", method = RequestMethod.GET)\n  @ResponseBody\n  @PreAuthorize(\"#oauth2.hasScope('read')\")\n  public String email() {\n\n    return \"test@email.com\";\n  }\n</code></pre>\n\n<p>If I do a request to that resource I receive</p>\n\n<pre><code>    [INFO] java.lang.IllegalArgumentException: Failed to evaluate expression '#oauth2.hasScope('read')'\n[INFO]  at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:14)\n[INFO]  at org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:44)\n[INFO]  at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:57)\n[INFO]  at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:25)\n[INFO]  at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:62)\n[INFO]  at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:232)\n[INFO]  at org.springframework.security.access.intercept.aspectj.AspectJMethodSecurityInterceptor.invoke(AspectJMethodSecurityInterceptor.java:43)\n[INFO]  at org.springframework.security.access.intercept.aspectj.aspect.AnnotationSecurityAspect.ajc$around$org_springframework_security_access_intercept_aspectj_aspect_AnnotationSecurityAspect$1$c4d57a2b(AnnotationSecurityAspect.aj:63)\n[INFO]  at pl.insert.controllers.ResourceController.email(ResourceController.java:22)\n</code></pre>\n\n<p>The same thing works well if I specify the access in my ResourceServerConfiguration instead of @Controllers' methods</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n    http.requestMatchers().antMatchers(\"/oauth/resources/**\");\n    http.authorizeRequests().anyRequest().access(\"#oauth2.hasScope('read')\");\n  }\n}\n</code></pre>\n\n<p>Standard security expressions like @PreAuthorize(\"permitAll\") or @PreAuthorize(\"denyAll\") work as expected. So, probably I have to tell somehow to my AspectJMethodSecurityInterceptor to use OAuth2WebSecurityExpressionHandler. Any ideas? </p>\n"},{"tags":["java","spring","spring-boot","logback","sax"],"answers":[{"tags":[],"owner":{"account_id":23628203,"reputation":136,"user_id":17660376,"display_name":"Snappy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1639339804,"creation_date":1639339804,"answer_id":70327292,"question_id":70255734,"body_markdown":"Had the same issue during an upgrade. It wasn&#39;t a Spring issue, and you don&#39;t want to override the implementation yourself.\r\n\r\n`SAXParserFactory` is an abstract class - it can have multiple implementations. The `newInstance` method picks the last/top implementation on the classpath.\r\n\r\nI had found that I had an &quot;extra&quot; implementation on my classpath due to a dependency having their own implementation of `SAXParserFactory` rather than the &#39;typical&#39; implementation that Logback expects. And this &quot;extra&quot; `SAXParserFactory` did not support the feature that Logback is trying to enable.\r\n\r\nI had to explicitly declare a xerces implementation higher in my dependencies in order for a &quot;real&quot; implementation to take precedence over the other &quot;extra&quot; implementation on the classpath.\r\n\r\nSo my advice is for you to see what implementations of this abstract class you have (I could easily see this using the IntelliJ IDE), then manage/re-arrange your dependencies so that a proper implementation supporting the feature has a higher precedence on your classpath.","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>Had the same issue during an upgrade. It wasn't a Spring issue, and you don't want to override the implementation yourself.</p>\n<p><code>SAXParserFactory</code> is an abstract class - it can have multiple implementations. The <code>newInstance</code> method picks the last/top implementation on the classpath.</p>\n<p>I had found that I had an &quot;extra&quot; implementation on my classpath due to a dependency having their own implementation of <code>SAXParserFactory</code> rather than the 'typical' implementation that Logback expects. And this &quot;extra&quot; <code>SAXParserFactory</code> did not support the feature that Logback is trying to enable.</p>\n<p>I had to explicitly declare a xerces implementation higher in my dependencies in order for a &quot;real&quot; implementation to take precedence over the other &quot;extra&quot; implementation on the classpath.</p>\n<p>So my advice is for you to see what implementations of this abstract class you have (I could easily see this using the IntelliJ IDE), then manage/re-arrange your dependencies so that a proper implementation supporting the feature has a higher precedence on your classpath.</p>\n"},{"tags":[],"owner":{"account_id":1741623,"reputation":676,"user_id":1592861,"accept_rate":0,"display_name":"matzeihnsein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650974991,"creation_date":1650966315,"answer_id":72011781,"question_id":70255734,"body_markdown":"for me it was that we used an old dependency \r\n```\r\n &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n```\r\nupdating to\r\n```\r\n&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n```\r\nojdbc8 solved my issue!\r\n","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>for me it was that we used an old dependency</p>\n<pre><code> &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n &lt;version&gt;12.1.0.2&lt;/version&gt;\n</code></pre>\n<p>updating to</p>\n<pre><code>&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n&lt;version&gt;12.2.0.1&lt;/version&gt;\n</code></pre>\n<p>ojdbc8 solved my issue!</p>\n"},{"tags":[],"owner":{"account_id":27188305,"reputation":21,"user_id":20722475,"display_name":"Nik Korn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684146599,"creation_date":1684095798,"answer_id":76249523,"question_id":70255734,"body_markdown":"May be it is not exactly what you&#39;re looking for, but for my project we made a decision to exclude this parser:\r\n```\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nBut if you really need it, I suggest you to look at @matzeihnsein&#39;s answer and to upgrade your version. Doing so also helped me.","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>May be it is not exactly what you're looking for, but for my project we made a decision to exclude this parser:</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\n                    &lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But if you really need it, I suggest you to look at @matzeihnsein's answer and to upgrade your version. Doing so also helped me.</p>\n"}],"owner":{"account_id":16415765,"reputation":2950,"user_id":11857981,"display_name":"Himanshu Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10055,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70327292,"answer_count":3,"score":5,"last_activity_date":1684146599,"creation_date":1638858324,"question_id":70255734,"body_markdown":"Spring boot 2.6.1 supports logback 1.2.7\r\n\r\nI&#39;ve added the following dependencies in project\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut the build fails with below exception:\r\n```\r\nCaused by: javax.xml.parsers.ParserConfigurationException: SAX feature &#39;http://xml.org/sax/features/external-general-entities&#39; not supported.\r\n\tat oracle.xml.jaxp.JXSAXParserFactory.setFeature(JXSAXParserFactory.java:272)\r\n\tat ch.qos.logback.core.joran.event.SaxEventRecorder.buildSaxParser(SaxEventRecorder.java:82)\r\n\t... 44 more\r\n```\r\n\r\nIn SaxEventRecorder.class, it fails while building the SAX parser\r\n\r\n```java\r\n    private SAXParser buildSaxParser() throws JoranException {\r\n        try {\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            spf.setValidating(false);\r\n            //spf.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n            spf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n            spf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n            spf.setNamespaceAware(true);\r\n            return spf.newSAXParser();\r\n        } catch (Exception pce) {\r\n            String errMsg = &quot;Parser configuration error occurred&quot;;\r\n            addError(errMsg, pce);\r\n            throw new JoranException(errMsg, pce);\r\n        }\r\n    }\r\n```\r\n\r\nIs there a way to override the implementation?\r\n\r\nThanks :) ","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>Spring boot 2.6.1 supports logback 1.2.7</p>\n<p>I've added the following dependencies in project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But the build fails with below exception:</p>\n<pre><code>Caused by: javax.xml.parsers.ParserConfigurationException: SAX feature 'http://xml.org/sax/features/external-general-entities' not supported.\n    at oracle.xml.jaxp.JXSAXParserFactory.setFeature(JXSAXParserFactory.java:272)\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.buildSaxParser(SaxEventRecorder.java:82)\n    ... 44 more\n</code></pre>\n<p>In SaxEventRecorder.class, it fails while building the SAX parser</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private SAXParser buildSaxParser() throws JoranException {\n        try {\n            SAXParserFactory spf = SAXParserFactory.newInstance();\n            spf.setValidating(false);\n            //spf.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n            spf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\n            spf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n            spf.setNamespaceAware(true);\n            return spf.newSAXParser();\n        } catch (Exception pce) {\n            String errMsg = &quot;Parser configuration error occurred&quot;;\n            addError(errMsg, pce);\n            throw new JoranException(errMsg, pce);\n        }\n    }\n</code></pre>\n<p>Is there a way to override the implementation?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","headless-browser","google-chrome-headless","selenide"],"answers":[{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536741599,"creation_date":1536741599,"answer_id":52290954,"question_id":51854423,"body_markdown":"It turned out that in order to run Selenide in headless mode we need to add system property `selenide.headless=true` ","title":"Selenide - How to run it with a headless Chrome?","body":"<p>It turned out that in order to run Selenide in headless mode we need to add system property <code>selenide.headless=true</code> </p>\n"},{"tags":[],"owner":{"account_id":344662,"reputation":862,"user_id":677096,"display_name":"silver_mx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543138236,"creation_date":1543138236,"answer_id":53466206,"question_id":51854423,"body_markdown":"You could do also:\r\n\r\n     Configuration.headless = true;","title":"Selenide - How to run it with a headless Chrome?","body":"<p>You could do also:</p>\n\n<pre><code> Configuration.headless = true;\n</code></pre>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5993,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684145864,"creation_date":1534317342,"question_id":51854423,"body_markdown":"We are trying to developer an automation test, and we found [Selenide][1] an interesting and easy framework for running the UI tests.\r\n\r\nSelenide needs as an input the browser to use.\r\n\r\nSo we are passing 2 arguments to the program:\r\n\r\n    selenide.browser=Chrome\r\n    webdriver.chrome.driver=C:\\\\chromedriver_win32\\\\chromedriver.exe\r\n\r\n\r\nAnd the code looks something like that:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,inputParams.get(&quot;webdriver.chrome.driver&quot;));\r\n    System.setProperty(&quot;selenide.browser&quot;, inputParams.get(&quot;selenide.browser&quot;));\r\n\r\n    open(&quot;http://example.com:8080/myPages&quot;);\r\n\r\nAll works fine, but we also need it to run in headless mode.\r\n\r\n\r\nWe tried several ways to run it in headless mode, (different param in the **selenide.browser**, **PhantomJs** and some other combinations, but with not success till now.\r\n\r\n\r\n  [1]: http://selenide.org/","title":"Selenide - How to run it with a headless Chrome?","body":"<p>We are trying to developer an automation test, and we found <a href=\"http://selenide.org/\" rel=\"nofollow noreferrer\">Selenide</a> an interesting and easy framework for running the UI tests.</p>\n<p>Selenide needs as an input the browser to use.</p>\n<p>So we are passing 2 arguments to the program:</p>\n<pre><code>selenide.browser=Chrome\nwebdriver.chrome.driver=C:\\\\chromedriver_win32\\\\chromedriver.exe\n</code></pre>\n<p>And the code looks something like that:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,inputParams.get(&quot;webdriver.chrome.driver&quot;));\nSystem.setProperty(&quot;selenide.browser&quot;, inputParams.get(&quot;selenide.browser&quot;));\n\nopen(&quot;http://example.com:8080/myPages&quot;);\n</code></pre>\n<p>All works fine, but we also need it to run in headless mode.</p>\n<p>We tried several ways to run it in headless mode, (different param in the <strong>selenide.browser</strong>, <strong>PhantomJs</strong> and some other combinations, but with not success till now.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683890733,"post_id":76229400,"comment_id":134439518,"body_markdown":"Have you tried https://stackoverflow.com/a/55513723/2504224?","body":"Have you tried <a href=\"https://stackoverflow.com/a/55513723/2504224\">stackoverflow.com/a/55513723/2504224</a>?"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":1,"creation_date":1683893138,"post_id":76229400,"comment_id":134440059,"body_markdown":"Yup, and it worked.:) I forgot to mention the results in this question. Thanks for the reminder!","body":"Yup, and it worked.:) I forgot to mention the results in this question. Thanks for the reminder!"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":0,"creation_date":1683893174,"post_id":76229400,"comment_id":134440069,"body_markdown":"@geoand feel free to post your comment as an answer.:)","body":"@geoand feel free to post your comment as an answer.:)"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684145779,"creation_date":1684145779,"answer_id":76253067,"question_id":76229400,"body_markdown":"Yes, it can, the only caveat is that you tell Quarkus to &quot;index&quot; that dependency. https://stackoverflow.com/a/55513723/2504224 provides a few different way that can be achieved ","title":"Can the Quarkus Main method be defined in a dependency?","body":"<p>Yes, it can, the only caveat is that you tell Quarkus to &quot;index&quot; that dependency. <a href=\"https://stackoverflow.com/a/55513723/2504224\">https://stackoverflow.com/a/55513723/2504224</a> provides a few different way that can be achieved</p>\n"}],"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76253067,"answer_count":1,"score":2,"last_activity_date":1684145779,"creation_date":1683819698,"question_id":76229400,"body_markdown":"I&#39;m building an SDK using [Quarkus][1]. I want to have two main features in the SDK:\r\n1. the SDK provides a high-level API to work with a 3rd party system\r\n2. the SDK makes it possible to build a native image\r\n\r\nUsing Quarkus in a project directly makes all of that possible. However, I started having some problem when using Quarkus as a transitive dependency. Example source code can be found [here][2].\r\n\r\nHere, `test-sdk` is the SDK itself, providing the API. \r\n\r\n`test-parent` is a parent POM, which makes it possible to build a native image. \r\n\r\n`test-project` a project which uses `test-parent` and `test-sdk`. I&#39;d like `test-project` to be unaware of Quarkus.\r\n\r\nWhen I run `mvn clean package -Dnative` in `test-project`, a native image is built. However, when I run it, I don&#39;t see the expected stdout logs from `test-sdk` [here][3].\r\n\r\nWhen all of this is a single project, I get the expected output. So it looks like `@QuarkusMain` defined in the dependency ([here][4]) doesn&#39;t really work.\r\n\r\nMy question is: are my expectations wrong? Is there a way to make it work this way?\r\n\r\n\r\n  [1]: https://quarkus.io\r\n  [2]: https://github.com/hariso/quarkus\r\n  [3]: https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L17\r\n  [4]: https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L8","title":"Can the Quarkus Main method be defined in a dependency?","body":"<p>I'm building an SDK using <a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">Quarkus</a>. I want to have two main features in the SDK:</p>\n<ol>\n<li>the SDK provides a high-level API to work with a 3rd party system</li>\n<li>the SDK makes it possible to build a native image</li>\n</ol>\n<p>Using Quarkus in a project directly makes all of that possible. However, I started having some problem when using Quarkus as a transitive dependency. Example source code can be found <a href=\"https://github.com/hariso/quarkus\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here, <code>test-sdk</code> is the SDK itself, providing the API.</p>\n<p><code>test-parent</code> is a parent POM, which makes it possible to build a native image.</p>\n<p><code>test-project</code> a project which uses <code>test-parent</code> and <code>test-sdk</code>. I'd like <code>test-project</code> to be unaware of Quarkus.</p>\n<p>When I run <code>mvn clean package -Dnative</code> in <code>test-project</code>, a native image is built. However, when I run it, I don't see the expected stdout logs from <code>test-sdk</code> <a href=\"https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L17\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>When all of this is a single project, I get the expected output. So it looks like <code>@QuarkusMain</code> defined in the dependency (<a href=\"https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L8\" rel=\"nofollow noreferrer\">here</a>) doesn't really work.</p>\n<p>My question is: are my expectations wrong? Is there a way to make it work this way?</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":17677451,"reputation":176,"user_id":12832159,"display_name":"Philip Liddell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598953169,"creation_date":1598953169,"answer_id":63685144,"question_id":63670781,"body_markdown":"You are looking for the `flyway.target` option (`.target()` in the api). See https://flywaydb.org/documentation/commandline/migrate#target.\r\n\r\nThis config parameter sets the version to migrate to. So if you have 3 migrations `V1__, v2__, v3__` use `flyway.target=2` to migrate just `V1__` and `v2__`.","title":"How to do partial migration in Flyway for testing?","body":"<p>You are looking for the <code>flyway.target</code> option (<code>.target()</code> in the api). See <a href=\"https://flywaydb.org/documentation/commandline/migrate#target\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/commandline/migrate#target</a>.</p>\n<p>This config parameter sets the version to migrate to. So if you have 3 migrations <code>V1__, v2__, v3__</code> use <code>flyway.target=2</code> to migrate just <code>V1__</code> and <code>v2__</code>.</p>\n"},{"tags":[],"owner":{"account_id":7123154,"reputation":647,"user_id":5447028,"accept_rate":66,"display_name":"bob dylan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598953623,"creation_date":1598953623,"answer_id":63685270,"question_id":63670781,"body_markdown":"In the end I replaced the \r\n\r\n    var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\r\n    initialUserRepository.saveAndFlush(initialUserMappingEntity);\r\n\r\nwith an insertion script located in: `/db/testdata/V2.1__insert_user_data.sql`\r\nand then just did one migration until the end.\r\n\r\nSo you basically need to add an insertion script that comes before the final script that you want to test in your `/db/migration` and then modify your `spring.flyway.locations` to have these two base path","title":"How to do partial migration in Flyway for testing?","body":"<p>In the end I replaced the</p>\n<pre><code>var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\ninitialUserRepository.saveAndFlush(initialUserMappingEntity);\n</code></pre>\n<p>with an insertion script located in: <code>/db/testdata/V2.1__insert_user_data.sql</code>\nand then just did one migration until the end.</p>\n<p>So you basically need to add an insertion script that comes before the final script that you want to test in your <code>/db/migration</code> and then modify your <code>spring.flyway.locations</code> to have these two base path</p>\n"},{"tags":[],"owner":{"account_id":6901450,"reputation":21,"user_id":5300940,"display_name":"Milan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684145235,"creation_date":1684145235,"answer_id":76252997,"question_id":63670781,"body_markdown":"In your Spring boot test, you could add property `flyway.target`\r\n\r\n```\r\n@SpringBootTest(\r\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n    properties = {&quot;spring.flyway.clean-disabled=false&quot;, &quot;spring.flyway.target=2&quot;}\r\n)\r\nclass MyTest {...}\r\n```\r\nThis would, for the purpose of this test, execute all migrations until and including version 2, ignoring later ones.","title":"How to do partial migration in Flyway for testing?","body":"<p>In your Spring boot test, you could add property <code>flyway.target</code></p>\n<pre><code>@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n    properties = {&quot;spring.flyway.clean-disabled=false&quot;, &quot;spring.flyway.target=2&quot;}\n)\nclass MyTest {...}\n</code></pre>\n<p>This would, for the purpose of this test, execute all migrations until and including version 2, ignoring later ones.</p>\n"}],"owner":{"account_id":7123154,"reputation":647,"user_id":5447028,"accept_rate":66,"display_name":"bob dylan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63685270,"answer_count":3,"score":3,"last_activity_date":1684145235,"creation_date":1598876695,"question_id":63670781,"body_markdown":"I am trying to write a test to validate whether my new migration script (located in src/main/resources/db/migration) executes correctly on the existing data in my Postgres DB. \r\n\r\nI have 5 migration scripts where the 2nd one creates the initial `Users` table with some columns and the 5th one adds onto that existing `Users` table with a new column and default values for that new column.\r\n\r\nFirst, I would like to only migrate up to the script, so that the initial version of `Users` table, then I will populate it normally, and finally, complete the migration by running the 5th script, and then check if the 5th script actually updated the existing data or not. However, I do not understand exactly how I can just migrate only to some version, and then later on migrate to the remaining versions...\r\n\r\n\r\nHere is what I have so far:\r\n\r\nActual Test\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class MigrationTest extends ComponentTest {\r\n    \r\n      private static final String USER_ID = &quot;1337&quot;;\r\n    \r\n      @Autowired\r\n      private InitialUserRepository initialUserRepository;\r\n      @Autowired\r\n      private UserRepository userRepository;\r\n    \r\n      @Autowired\r\n      private Flyway flyway;\r\n    \r\n      @Transactional\r\n      @Test\r\n      public void test() {\r\n    \r\n        flyway.baseline(); // default 1\r\n        flyway.migrate(); // this will migrate to the final script/version where it will add the new column\r\n        // replace the above line, flyway.migrate(), with a partial migration to version 2 ONLY, something like flyway.migrate(2)\r\n    \r\n        var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\r\n        initialUserRepository.saveAndFlush(initialUserMappingEntity);\r\n    \r\n        var user = initialUserRepository.findById(USER_ID);\r\n        assertTrue(user.isPresent());\r\n    \r\n        // complete the full migration here, something like flyway.migrate(5)\r\n    \r\n        var updatedUser = userRepository.findById(USER_ID);\r\n        assertTrue(updatedUser.isPresent());\r\n        assertNotNull(updatedUser.get().getNewColumn());\r\n      }\r\n    }\r\n\r\nEmptyMigrationStrategyConfig\r\n\r\n    @Configuration\r\n    public class EmptyMigrationStrategyConfig {\r\n    \r\n      @Bean\r\n      public FlywayMigrationStrategy flywayMigrationStrategy() {\r\n        return flyway -&gt; {\r\n          // do nothing\r\n        };\r\n      }\r\n    }\r\n\r\napplication-test.yaml\r\n\r\n    spring:\r\n      flyway:\r\n        locations: classpath:/db/migration","title":"How to do partial migration in Flyway for testing?","body":"<p>I am trying to write a test to validate whether my new migration script (located in src/main/resources/db/migration) executes correctly on the existing data in my Postgres DB.</p>\n<p>I have 5 migration scripts where the 2nd one creates the initial <code>Users</code> table with some columns and the 5th one adds onto that existing <code>Users</code> table with a new column and default values for that new column.</p>\n<p>First, I would like to only migrate up to the script, so that the initial version of <code>Users</code> table, then I will populate it normally, and finally, complete the migration by running the 5th script, and then check if the 5th script actually updated the existing data or not. However, I do not understand exactly how I can just migrate only to some version, and then later on migrate to the remaining versions...</p>\n<p>Here is what I have so far:</p>\n<p>Actual Test</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass MigrationTest extends ComponentTest {\n\n  private static final String USER_ID = &quot;1337&quot;;\n\n  @Autowired\n  private InitialUserRepository initialUserRepository;\n  @Autowired\n  private UserRepository userRepository;\n\n  @Autowired\n  private Flyway flyway;\n\n  @Transactional\n  @Test\n  public void test() {\n\n    flyway.baseline(); // default 1\n    flyway.migrate(); // this will migrate to the final script/version where it will add the new column\n    // replace the above line, flyway.migrate(), with a partial migration to version 2 ONLY, something like flyway.migrate(2)\n\n    var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\n    initialUserRepository.saveAndFlush(initialUserMappingEntity);\n\n    var user = initialUserRepository.findById(USER_ID);\n    assertTrue(user.isPresent());\n\n    // complete the full migration here, something like flyway.migrate(5)\n\n    var updatedUser = userRepository.findById(USER_ID);\n    assertTrue(updatedUser.isPresent());\n    assertNotNull(updatedUser.get().getNewColumn());\n  }\n}\n</code></pre>\n<p>EmptyMigrationStrategyConfig</p>\n<pre><code>@Configuration\npublic class EmptyMigrationStrategyConfig {\n\n  @Bean\n  public FlywayMigrationStrategy flywayMigrationStrategy() {\n    return flyway -&gt; {\n      // do nothing\n    };\n  }\n}\n</code></pre>\n<p>application-test.yaml</p>\n<pre><code>spring:\n  flyway:\n    locations: classpath:/db/migration\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform"],"comments":[{"owner":{"account_id":14415942,"reputation":156,"user_id":10413396,"display_name":"Arkadii Ivanov"},"score":0,"creation_date":1684193915,"post_id":76252989,"comment_id":134478758,"body_markdown":"I couldn&#39;t reproduce the issue. Would you be able to provide a complete reproducer code?","body":"I couldn&#39;t reproduce the issue. Would you be able to provide a complete reproducer code?"},{"owner":{"account_id":468443,"reputation":10976,"user_id":2064171,"accept_rate":91,"display_name":"AndreiBogdan"},"score":0,"creation_date":1684225450,"post_id":76252989,"comment_id":134482648,"body_markdown":"hmm, unless I write something from scratch ... i don&#39;t see how. Quick google meetup session ? :))\nI&#39;ll think about it and get back to you ...","body":"hmm, unless I write something from scratch ... i don&#39;t see how. Quick google meetup session ? :)) I&#39;ll think about it and get back to you ..."}],"owner":{"account_id":468443,"reputation":10976,"user_id":2064171,"accept_rate":91,"display_name":"AndreiBogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684145142,"creation_date":1684145142,"question_id":76252989,"body_markdown":"I my KMM project:\r\n\r\nI have the following interop method to convert from `Single` from `Reaktive` to a `Single` from `io.reactivex.`...\r\n\r\n    fun &lt;T : Any&gt; Single&lt;T&gt;.asRxJava2Single(): io.reactivex.Single&lt;T&gt; =\r\n        object : io.reactivex.Single&lt;T&gt;() {\r\n            override fun subscribeActual(observer: io.reactivex.SingleObserver&lt;in T&gt;) {\r\n                this@asRxJava2Single.subscribe(observer.asReaktiveSingleObserver())\r\n            }\r\n        }\r\n\r\n...and for this method which is places in the shared module...\r\n\r\n    fun getAssignedBooks(): SingleWrapper&lt;List&lt;String&gt;&gt; {\r\n        return singleFromCoroutine {\r\n            bookRepository.callAssignedBooks()\r\n        }\r\n            .subscribeOn(ioScheduler)\r\n            .observeOn(mainScheduler)\r\n            .onErrorReturn { t -&gt;\r\n                Console.apiError.log(&quot;getAssignedBooks :: &quot; + t.message)\r\n                listOf()\r\n            }\r\n            .wrap()\r\n    }\r\n\r\n...when I apply the interop method on the Android side...\r\n\r\n    .flatMap( pair -&gt;\r\n                            SingleInteropKt.asRxJava2Single(\r\n                                    new SharedBookService().getAssignedBooks()\r\n                            ).map( list -&gt;\r\n                                    new Pair&lt;&gt;(pair, (List&lt;String&gt;)list)// !!!!: Why need cast ?!                            )\r\n    ) .flatMap(pair -&gt; ..... //Here, pair.second is seen as Object if I don&#39;t manually cast above\r\n    //.....\r\n\r\n... I need to specifically cast it to `List&lt;String&gt;` otherwise it sees it as `Object`. I tried to do `SingleInteropKt.asRxJava2Single&lt;List&lt;String&gt;&gt;(...)` and other variants like that but it doesn&#39;t work.\r\n\r\nAny idea how I can make it work without a cast? \r\n\r\nThis specific case allows for specific casting, but I have another case where I need to link multiple `rxJava` method and that&#39;s where this &quot;manual&quot; casting doesn&#39;t work anymore.","title":"Return type is seen as generic Object instead of required type","body":"<p>I my KMM project:</p>\n<p>I have the following interop method to convert from <code>Single</code> from <code>Reaktive</code> to a <code>Single</code> from <code>io.reactivex.</code>...</p>\n<pre><code>fun &lt;T : Any&gt; Single&lt;T&gt;.asRxJava2Single(): io.reactivex.Single&lt;T&gt; =\n    object : io.reactivex.Single&lt;T&gt;() {\n        override fun subscribeActual(observer: io.reactivex.SingleObserver&lt;in T&gt;) {\n            this@asRxJava2Single.subscribe(observer.asReaktiveSingleObserver())\n        }\n    }\n</code></pre>\n<p>...and for this method which is places in the shared module...</p>\n<pre><code>fun getAssignedBooks(): SingleWrapper&lt;List&lt;String&gt;&gt; {\n    return singleFromCoroutine {\n        bookRepository.callAssignedBooks()\n    }\n        .subscribeOn(ioScheduler)\n        .observeOn(mainScheduler)\n        .onErrorReturn { t -&gt;\n            Console.apiError.log(&quot;getAssignedBooks :: &quot; + t.message)\n            listOf()\n        }\n        .wrap()\n}\n</code></pre>\n<p>...when I apply the interop method on the Android side...</p>\n<pre><code>.flatMap( pair -&gt;\n                        SingleInteropKt.asRxJava2Single(\n                                new SharedBookService().getAssignedBooks()\n                        ).map( list -&gt;\n                                new Pair&lt;&gt;(pair, (List&lt;String&gt;)list)// !!!!: Why need cast ?!                            )\n) .flatMap(pair -&gt; ..... //Here, pair.second is seen as Object if I don't manually cast above\n//.....\n</code></pre>\n<p>... I need to specifically cast it to <code>List&lt;String&gt;</code> otherwise it sees it as <code>Object</code>. I tried to do <code>SingleInteropKt.asRxJava2Single&lt;List&lt;String&gt;&gt;(...)</code> and other variants like that but it doesn't work.</p>\n<p>Any idea how I can make it work without a cast?</p>\n<p>This specific case allows for specific casting, but I have another case where I need to link multiple <code>rxJava</code> method and that's where this &quot;manual&quot; casting doesn't work anymore.</p>\n"},{"tags":["java","android","android-recyclerview","bitmap"],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684145055,"creation_date":1684145055,"question_id":76252978,"body_markdown":"i am showing 0 - 10 images in recylclerview for edit those images with filters and change background  to all images at a time. its like editing multiple images at a time. Here everthing is fine but when im trying to save those images after changes made i want save those each image as different image in gallery. saving code also working fine but when i am changing recycler view as bitmap from activity its getting only which view images are getting. item count was coming correct. ex... item count was 10 and 2 images visble in my recycler view those two images saving.\r\n      \r\n\r\nthis my code from activity \r\n \r\n```\r\nclass SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\r\n\r\n        SaveBitmap() {\r\n\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            // customLoader.hide();\r\n            //  customLoader.show();\r\n        }\r\n\r\n        public List&lt;String&gt; doInBackground(Void... voids) {\r\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\r\n\r\n            RecyclerView.Adapter adapter = multiFitRecyclerView.getAdapter();\r\n        if (adapter != null){\r\n            int itemCount = adapter.getItemCount();\r\n            for (int position = 0; position&lt;itemCount; position++){\r\n                \r\n            }\r\n        }\r\n\r\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\r\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\r\n                if (holder != null) {\r\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\r\n                    Canvas canvas = new Canvas(bitmap1);\r\n                    holder.pvEditor.draw(canvas);\r\n\r\n                    try {\r\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\r\n                        if (file != null) {\r\n                            filePaths.add(file.getAbsolutePath());\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            return filePaths;\r\n        }\r\n\r\n        public void onPostExecute(List&lt;String&gt; filePaths) {\r\n            // customLoader.hide();\r\n            if (filePaths == null || filePaths.isEmpty()) {\r\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\r\n//            i.putExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\r\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\r\n            startActivity(i);\r\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nand this code of adapter class \r\n```\r\npublic class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\r\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\r\n    Context context;\r\n\r\n    String selectedFilterConfig;\r\n\r\n    String selectedAdjustConfig;\r\n    private boolean isColor;\r\n    private float mScaleSize;\r\n    private Bitmap bitmapBackground;\r\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\r\n\r\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, Bitmap bitmapBackground, boolean isColor, float mScaleSize) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        this.context = context;\r\n        this.isColor = isColor;\r\n        this.bitmapBackground = bitmapBackground;\r\n        this.mScaleSize = mScaleSize;\r\n        this.selectedAdjustConfig = &quot;&quot;;\r\n        this.selectedFilterConfig = &quot;&quot;;\r\n    }\r\n\r\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void setBitmapBackground(Bitmap bitmapBackground) {\r\n        this.bitmapBackground = bitmapBackground;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void setmScaleSize(float mScaleSize) {\r\n        this.mScaleSize = mScaleSize;\r\n    }\r\n\r\n    public void setColor(boolean color) {\r\n        isColor = color;\r\n    }\r\n\r\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\r\n        this.backgroundImgList = backgroundImgList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MultifitRecyclerViewAdapter.ViewHolder holder, int position) {\r\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\r\n\r\n\r\n                if (isColor){\r\n\r\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\r\n                }else {\r\n                    holder.ivFrame.setImageBitmap(bitmapBackground);\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n            holder.ivCover.setScaleX(mScaleSize);\r\n            holder.ivCover.setScaleY(mScaleSize);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return selectedBitmaps.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public PhotoEditorView pvEditor;\r\n        RectangularLayout rectangularLayout;\r\n        public ImageView ivFrame, ivCover;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\r\n            ivFrame = itemView.findViewById(R.id.ivFrame);\r\n            ivCover = itemView.findViewById(R.id.ivCover);\r\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\r\n        }\r\n    }\r\n}\r\n```","title":"How to get all recyclerview view items when i change somthing from activity","body":"<p>i am showing 0 - 10 images in recylclerview for edit those images with filters and change background  to all images at a time. its like editing multiple images at a time. Here everthing is fine but when im trying to save those images after changes made i want save those each image as different image in gallery. saving code also working fine but when i am changing recycler view as bitmap from activity its getting only which view images are getting. item count was coming correct. ex... item count was 10 and 2 images visble in my recycler view those two images saving.</p>\n<p>this my code from activity</p>\n<pre><code>class SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\n\n        SaveBitmap() {\n\n        }\n\n        public void onPreExecute() {\n            // customLoader.hide();\n            //  customLoader.show();\n        }\n\n        public List&lt;String&gt; doInBackground(Void... voids) {\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\n\n            RecyclerView.Adapter adapter = multiFitRecyclerView.getAdapter();\n        if (adapter != null){\n            int itemCount = adapter.getItemCount();\n            for (int position = 0; position&lt;itemCount; position++){\n                \n            }\n        }\n\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\n                if (holder != null) {\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap1);\n                    holder.pvEditor.draw(canvas);\n\n                    try {\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\n                        if (file != null) {\n                            filePaths.add(file.getAbsolutePath());\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n\n            return filePaths;\n        }\n\n        public void onPostExecute(List&lt;String&gt; filePaths) {\n            // customLoader.hide();\n            if (filePaths == null || filePaths.isEmpty()) {\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\n                return;\n            }\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\n//            i.putExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\n            startActivity(i);\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\n        }\n\n    }\n</code></pre>\n<p>and this code of adapter class</p>\n<pre><code>public class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\n    Context context;\n\n    String selectedFilterConfig;\n\n    String selectedAdjustConfig;\n    private boolean isColor;\n    private float mScaleSize;\n    private Bitmap bitmapBackground;\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\n\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, Bitmap bitmapBackground, boolean isColor, float mScaleSize) {\n        this.selectedBitmaps = selectedBitmaps;\n        this.context = context;\n        this.isColor = isColor;\n        this.bitmapBackground = bitmapBackground;\n        this.mScaleSize = mScaleSize;\n        this.selectedAdjustConfig = &quot;&quot;;\n        this.selectedFilterConfig = &quot;&quot;;\n    }\n\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\n        this.selectedBitmaps = selectedBitmaps;\n        notifyDataSetChanged();\n    }\n\n    public void setBitmapBackground(Bitmap bitmapBackground) {\n        this.bitmapBackground = bitmapBackground;\n        notifyDataSetChanged();\n    }\n\n    public void setmScaleSize(float mScaleSize) {\n        this.mScaleSize = mScaleSize;\n    }\n\n    public void setColor(boolean color) {\n        isColor = color;\n    }\n\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\n        this.backgroundImgList = backgroundImgList;\n        notifyDataSetChanged();\n    }\n\n\n    @NonNull\n    @Override\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MultifitRecyclerViewAdapter.ViewHolder holder, int position) {\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\n\n\n                if (isColor){\n\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\n                }else {\n                    holder.ivFrame.setImageBitmap(bitmapBackground);\n\n                }\n\n\n\n\n            holder.ivCover.setScaleX(mScaleSize);\n            holder.ivCover.setScaleY(mScaleSize);\n    }\n\n    @Override\n    public int getItemCount() {\n        return selectedBitmaps.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        public PhotoEditorView pvEditor;\n        RectangularLayout rectangularLayout;\n        public ImageView ivFrame, ivCover;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\n            ivFrame = itemView.findViewById(R.id.ivFrame);\n            ivCover = itemView.findViewById(R.id.ivCover);\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","file","fortify"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684145529,"post_id":76229865,"comment_id":134468854,"body_markdown":"you seem to need stop using that kind of poor quality software, if it generates false positives for such simple cases that only means it does not work at all, it is highly likely it may miss real vulnerabilities","body":"you seem to need stop using that kind of poor quality software, if it generates false positives for such simple cases that only means it does not work at all, it is highly likely it may miss real vulnerabilities"}],"answers":[{"tags":[],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684144930,"creation_date":1684144930,"answer_id":76252959,"question_id":76229865,"body_markdown":"The issue is reported in the line , \r\nSystem.getProperty(&quot;java.io.tmpdir&quot;)\r\n\r\nInstead of creating the temp directory under the the default system tmp directory path , I used the below code and it solved the fortify issue\r\n\r\n  Path path = Files.createTempDirectory(&quot;tmpdir&quot;);","title":"Fortify Vulnerability + Path Manipulation","body":"<p>The issue is reported in the line ,\nSystem.getProperty(&quot;java.io.tmpdir&quot;)</p>\n<p>Instead of creating the temp directory under the the default system tmp directory path , I used the below code and it solved the fortify issue</p>\n<p>Path path = Files.createTempDirectory(&quot;tmpdir&quot;);</p>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684144930,"creation_date":1683823271,"question_id":76229865,"body_markdown":"I am getting Path Manipulation issue in Fortify analysis tool. \r\n\r\n    private static final String ALLOWABLE_CHARS= &quot;[\\\\\\\\/a-zA-Z0-9_\\\\-~:]+&quot;;\r\n    public static void generateZipFile(MultipartFile file) {\r\n            File tempFile;\r\n            try {\r\n                String path = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n          \r\n            // Reject any file path not containing any of the provided characters\r\n            if (path.matches(ALLOWABLE_CHARS)) {\r\n                tempFile = Files.createTempFile(Paths.get(path).normalize(), &quot;prefix&quot;, &quot;suffix&quot;).toFile();\r\n                //Rest of the code\r\n                .\r\n                .\r\n                .\r\n}\r\n\r\n**The vulnerability details from the tool:**\r\n\r\nAttackers can control the file system path argument to get() , which allows them to access or modify otherwise protected files.\r\n\r\n    getProperty(return) -&gt; Assignment to path -&gt;  get(0)\r\n    Paths.get(path) -&gt; String path = System.getProperty(&quot;java.io.tmpdir&quot;)\r\n\r\n\r\n**In the above code , I tried two options to eliminate the vulnerability.** \r\n\r\n1. I used normalize method for the path\r\n2. Set the allowable chars in regular expression and tried to validate the path with that regex.\r\n\r\nBoth of the attempts do not solve the issue .  Anyone has any thoughts to solve this vulnerability issue?\r\n\r\n\r\n","title":"Fortify Vulnerability + Path Manipulation","body":"<p>I am getting Path Manipulation issue in Fortify analysis tool.</p>\n<pre><code>private static final String ALLOWABLE_CHARS= &quot;[\\\\\\\\/a-zA-Z0-9_\\\\-~:]+&quot;;\npublic static void generateZipFile(MultipartFile file) {\n        File tempFile;\n        try {\n            String path = System.getProperty(&quot;java.io.tmpdir&quot;);\n      \n        // Reject any file path not containing any of the provided characters\n        if (path.matches(ALLOWABLE_CHARS)) {\n            tempFile = Files.createTempFile(Paths.get(path).normalize(), &quot;prefix&quot;, &quot;suffix&quot;).toFile();\n            //Rest of the code\n            .\n            .\n            .\n</code></pre>\n<p>}</p>\n<p><strong>The vulnerability details from the tool:</strong></p>\n<p>Attackers can control the file system path argument to get() , which allows them to access or modify otherwise protected files.</p>\n<pre><code>getProperty(return) -&gt; Assignment to path -&gt;  get(0)\nPaths.get(path) -&gt; String path = System.getProperty(&quot;java.io.tmpdir&quot;)\n</code></pre>\n<p><strong>In the above code , I tried two options to eliminate the vulnerability.</strong></p>\n<ol>\n<li>I used normalize method for the path</li>\n<li>Set the allowable chars in regular expression and tried to validate the path with that regex.</li>\n</ol>\n<p>Both of the attempts do not solve the issue .  Anyone has any thoughts to solve this vulnerability issue?</p>\n"},{"tags":["java","android","c++","kotlin"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1647338461,"post_id":71480215,"comment_id":126340439,"body_markdown":"for the whole system? You can&#39;t do that","body":"for the whole system? You can&#39;t do that"},{"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"score":0,"creation_date":1647339000,"post_id":71480215,"comment_id":126340630,"body_markdown":"but, the Dumpster app does this","body":"but, the Dumpster app does this"},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1647339639,"post_id":71480215,"comment_id":126340849,"body_markdown":"That App scans &quot;hard disk&quot; sectors for REALLY DELETED files. It&#39;s not a recycle-bin App but a RECOVERY Tool for &quot;already destroyed files&quot;. Files, in the Storage, are just &quot;marked&quot; as deleted but their bytes still persist on the &quot;disk&quot; for a lot of time, and this App recovers them if same &quot;disk area&quot; is not overwritten in the meanwhile.","body":"That App scans &quot;hard disk&quot; sectors for REALLY DELETED files. It&#39;s not a recycle-bin App but a RECOVERY Tool for &quot;already destroyed files&quot;. Files, in the Storage, are just &quot;marked&quot; as deleted but their bytes still persist on the &quot;disk&quot; for a lot of time, and this App recovers them if same &quot;disk area&quot; is not overwritten in the meanwhile."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1647341706,"post_id":71480215,"comment_id":126341587,"body_markdown":"Sounds like dumpster is a nasty hack:https://www.quora.com/How-exactly-does-the-Dumpster-recycle-bin-for-Android-catch-up-deleted-files can&#39;t imagine it does much for the performance or battery life of your phone","body":"Sounds like dumpster is a nasty hack:<a href=\"https://www.quora.com/How-exactly-does-the-Dumpster-recycle-bin-for-Android-catch-up-deleted-files\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a> can&#39;t imagine it does much for the performance or battery life of your phone"},{"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"score":0,"creation_date":1647341855,"post_id":71480215,"comment_id":126341646,"body_markdown":"@emandt, i tested Dumpster - This only works if the files were deleted while the application was running: if you delete the file while the application is disabled, and then run it, it will not detect the deleted file.\nEven the &quot;Dumpster&quot; notification says that it intercepted the deleted file.","body":"@emandt, i tested Dumpster - This only works if the files were deleted while the application was running: if you delete the file while the application is disabled, and then run it, it will not detect the deleted file. Even the &quot;Dumpster&quot; notification says that it intercepted the deleted file."},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1647342378,"post_id":71480215,"comment_id":126341824,"body_markdown":"There could be different causes for this. The first is because this App could OBSERVES folder changes and store them in a Database. FileObservers, however, works with Permissions so if you App don&#39;t have right Permissions that folder cannot be observed. On newer Android 10/11+ a non-system-App cannot read/write/observe folders that it don&#39;t owns. The only workaroud is to Target a lower SDK (&lt; 29) but it cannot be uploaded in the Store starting from few months ago. Please read documentation for FileObserver and Android 10+ to know if you can do what you try to achieve.","body":"There could be different causes for this. The first is because this App could OBSERVES folder changes and store them in a Database. FileObservers, however, works with Permissions so if you App don&#39;t have right Permissions that folder cannot be observed. On newer Android 10/11+ a non-system-App cannot read/write/observe folders that it don&#39;t owns. The only workaroud is to Target a lower SDK (&lt; 29) but it cannot be uploaded in the Store starting from few months ago. Please read documentation for FileObserver and Android 10+ to know if you can do what you try to achieve."}],"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684144913,"creation_date":1647338289,"question_id":71480215,"body_markdown":"I want to make an application of the &quot;recycle bin&quot; type, but I can&#39;t find any information on *how to intercept files before deleting*. \r\nAnything at all. Or at least where I should look.","title":"How to listen to the deletion of files before deleting them in Android","body":"<p>I want to make an application of the &quot;recycle bin&quot; type, but I can't find any information on <em>how to intercept files before deleting</em>.\nAnything at all. Or at least where I should look.</p>\n"},{"tags":["java","if-statement","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":1,"creation_date":1684125438,"post_id":76250736,"comment_id":134465351,"body_markdown":"Sure you can do that but it will just destroy the readability of code.","body":"Sure you can do that but it will just destroy the readability of code."}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684131292,"creation_date":1684131292,"answer_id":76251311,"question_id":76250736,"body_markdown":"If I want to write this code, I will first create a stream of colorsList and then filter it. If the filter condition is true, the item will be added to the output.\r\nNext, we use flatMap() to flatten the nested lists into a single stream of strings.\r\n\r\n\r\n    List&lt;String&gt; listReturn = colorsList.stream()\r\n            .filter(innerList -&gt; var1 == 5 &amp;&amp; innerList.contains(&quot;blue&quot;)\r\n                    || var1 == 10 &amp;&amp; (innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)))\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());","title":"using collection and if else statement in java in optimize way","body":"<p>If I want to write this code, I will first create a stream of colorsList and then filter it. If the filter condition is true, the item will be added to the output.\nNext, we use flatMap() to flatten the nested lists into a single stream of strings.</p>\n<pre><code>List&lt;String&gt; listReturn = colorsList.stream()\n        .filter(innerList -&gt; var1 == 5 &amp;&amp; innerList.contains(&quot;blue&quot;)\n                || var1 == 10 &amp;&amp; (innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)))\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684132197,"creation_date":1684132197,"answer_id":76251395,"question_id":76250736,"body_markdown":"You can refer to the following code, you should also check colorsList is null or not\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n        List.of(&quot;blue&quot;, &quot;skyblue&quot;),\r\n        List.of(&quot;pink&quot;));\r\n\r\nint var1 = 5;\r\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\r\n\r\nif (5 == var1) {\r\n    colorsList.stream()\r\n            .filter(innerList -&gt; innerList.contains(&quot;blue&quot;))\r\n            .forEach(listReturn::addAll);\r\n} else if (10 == var1) {\r\n    colorsList.stream()\r\n            .filter(innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;))\r\n            .forEach(listReturn::addAll);\r\n}\r\n\r\n```","title":"using collection and if else statement in java in optimize way","body":"<p>You can refer to the following code, you should also check colorsList is null or not</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\n        List.of(&quot;blue&quot;, &quot;skyblue&quot;),\n        List.of(&quot;pink&quot;));\n\nint var1 = 5;\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\n\nif (5 == var1) {\n    colorsList.stream()\n            .filter(innerList -&gt; innerList.contains(&quot;blue&quot;))\n            .forEach(listReturn::addAll);\n} else if (10 == var1) {\n    colorsList.stream()\n            .filter(innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;))\n            .forEach(listReturn::addAll);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684144906,"creation_date":1684144906,"answer_id":76252955,"question_id":76250736,"body_markdown":"You could factor out the predicate, this way you don&#39;t have to repeat the code of going over and filtering the list:\r\n\r\n    List&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n            List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n            List.of(&quot;blue, skyblue&quot;),\r\n            List.of(&quot;pink&quot;));\r\n\r\n    int var1 = 5;\r\n\r\n    // switch expression\r\n    Predicate&lt;List&lt;String&gt;&gt; predicate = switch (var1) {\r\n        case 5 -&gt; innerList -&gt; innerList.contains(&quot;blue&quot;);\r\n        case 10 -&gt; innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;);\r\n        default -&gt; innerList -&gt; true; // if something else than 5 or 10 accept all\r\n    };\r\n\r\n    List&lt;String&gt; listReturn = colorsList.stream()\r\n                   .filter(predicate).flatMap(List::stream).toList();\r\n","title":"using collection and if else statement in java in optimize way","body":"<p>You could factor out the predicate, this way you don't have to repeat the code of going over and filtering the list:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\n        List.of(&quot;blue, skyblue&quot;),\n        List.of(&quot;pink&quot;));\n\nint var1 = 5;\n\n// switch expression\nPredicate&lt;List&lt;String&gt;&gt; predicate = switch (var1) {\n    case 5 -&gt; innerList -&gt; innerList.contains(&quot;blue&quot;);\n    case 10 -&gt; innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;);\n    default -&gt; innerList -&gt; true; // if something else than 5 or 10 accept all\n};\n\nList&lt;String&gt; listReturn = colorsList.stream()\n               .filter(predicate).flatMap(List::stream).toList();\n</code></pre>\n"}],"owner":{"account_id":6472722,"reputation":548,"user_id":5016741,"accept_rate":60,"display_name":"usr_11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76252955,"answer_count":3,"score":0,"last_activity_date":1684144906,"creation_date":1684121589,"question_id":76250736,"body_markdown":"I have a below code which is working as expected and I want to optimize it, possibly if using  methods of stream.\r\n\r\n    List&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n       List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n       List.of(&quot;blue, skyblue&quot;),\r\n       List.of(&quot;pink&quot;));\r\n    \r\n    int var1 = 5;\r\n    List&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\r\n    \r\n    for(List&lt;String&gt; innerList: colorsList){\r\n    \tif(var1 == 5){\r\n    \t\tif(innerList.contains(&quot;blue&quot;)){\r\n    \t\t\tlistReturn.addAll(innerList);\r\n    \t\t}\r\n        }else if(var1 == 10){\r\n    \t\tif(innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)){\r\n    \t\t\tlistReturn.addAll(innerList);\r\n    \t\t}\r\n    \t}\r\n      }\r\n    }\r\n\r\nBasically I am returning a single List&lt;String&gt; listReturn combining 1 or more List&lt;String&gt; from original colorsList based on conditions.\r\nIs there a better and optimized way to write above?","title":"using collection and if else statement in java in optimize way","body":"<p>I have a below code which is working as expected and I want to optimize it, possibly if using  methods of stream.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n   List.of(&quot;red&quot;,&quot;maroon&quot;),\n   List.of(&quot;blue, skyblue&quot;),\n   List.of(&quot;pink&quot;));\n\nint var1 = 5;\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\n\nfor(List&lt;String&gt; innerList: colorsList){\n    if(var1 == 5){\n        if(innerList.contains(&quot;blue&quot;)){\n            listReturn.addAll(innerList);\n        }\n    }else if(var1 == 10){\n        if(innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)){\n            listReturn.addAll(innerList);\n        }\n    }\n  }\n}\n</code></pre>\n<p>Basically I am returning a single List listReturn combining 1 or more List from original colorsList based on conditions.\nIs there a better and optimized way to write above?</p>\n"},{"tags":["java","jquery","json","spring-boot","gzip"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1684144835,"post_id":76252892,"comment_id":134468715,"body_markdown":"Perhaps you intended to base64 encode the GZIP? A GZIP stream is NOT a String, this line will corrupt the GZIP bytes as there is unlikely to be a conversion back with `data = baos.toString()`. Return binary instead","body":"Perhaps you intended to base64 encode the GZIP? A GZIP stream is NOT a String, this line will corrupt the GZIP bytes as there is unlikely to be a conversion back with <code>data = baos.toString()</code>. Return binary instead"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1684146628,"post_id":76252892,"comment_id":134469089,"body_markdown":"@DuncG Encoding in base64 makes no sense, as that would be invalid for the specified content type. The OP needs to return the raw bytes (i.e. `baos.toByteArray()`, although streaming directly would probably make sense, or leaving the gzip encoding/decoding up to the HTTP server itself.","body":"@DuncG Encoding in base64 makes no sense, as that would be invalid for the specified content type. The OP needs to return the raw bytes (i.e. <code>baos.toByteArray()</code>, although streaming directly would probably make sense, or leaving the gzip encoding/decoding up to the HTTP server itself."},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1684160788,"post_id":76252892,"comment_id":134472397,"body_markdown":"Thank you both for explanations and suggestions! I&#39;ll dig related subjects to find the appropriate solution.","body":"Thank you both for explanations and suggestions! I&#39;ll dig related subjects to find the appropriate solution."}],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684144525,"creation_date":1684144525,"question_id":76252892,"body_markdown":"Spring @Controller:\r\n```\r\n@GetMapping(&quot;/accounts/list/all&quot;)\r\npublic ResponseEntity&lt;String&gt; getClients(){\r\n\t\r\n\tList&lt;AccountResponseDTO&gt; clients = accountService.getAll();\r\n\tString json = null;\r\n\ttry {\r\n\t\tjson = mapper.writeValueAsString(clients);\r\n\t}\r\n\tcatch (JsonProcessingException exc) {\r\n\t\tlog.warn(exc.getMessage(), exc);\r\n\t}\r\n\t\t\t\r\n\tbyte[] bytes = json.getBytes(StandardCharsets.UTF_8);\r\n\tString data = null;\r\n\ttry(ByteArrayOutputStream baos = new ByteArrayOutputStream(json.length());\r\n\t\t\tGZIPOutputStream gzip = new GZIPOutputStream(baos, bytes.length);){\r\n\t\tgzip.write(bytes);\r\n\t\tgzip.flush();\r\n\t\tdata = baos.toString();\r\n\t}\r\n\tcatch(IOException exc) {\r\n\t\tlog.warn(exc.getMessage(), exc);\r\n\t}\r\n\t\r\n\treturn ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN)\r\n\t\t\t.header(HttpHeaders.CONTENT_ENCODING, &quot;gzip&quot;).body(data);\r\n}\r\n```\r\nAJAX request:\r\n```\r\n$(document).ready(function(){\r\n$(&#39;#clients_table tbody&#39;).empty();\r\n\t$.ajax({\r\n\t\ttype: &#39;GET&#39;,\r\n\t\turl: &#39;/bankdemo/accounts/list/all&#39;,\r\n//\t\theaders: {&#39;Accept-Encoding&#39; : &#39;gzip&#39;},\r\n\t\tdataType: &quot;text&quot;,\r\n\t\tsuccess: function(response) {\r\n\t\t\tconst json = JSON.parse(response);\r\n\t\t\t$.each(json, function(key, value){\t\r\n\t\t\tvar account = &#39;&lt;tr&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.id+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.name+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.surname+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.phone+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td&gt;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.birthday+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.active+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;/tr&gt;&#39;;\r\n\t\t\t$(account).appendTo(&#39;#clients_table tbody&#39;);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n```\r\nand recieving **net::ERR_CONTENT_DECODING_FAILED 200**\r\n\r\nIf I uncomment *headers: {&#39;Accept-Encoding&#39; : &#39;gzip&#39;}* then getting **Refused to set unsafe header**\r\n\r\nCant figure out what&#39;s wrong with the code?","title":"Cant decode JSON string from GZIP back to plain","body":"<p>Spring @Controller:</p>\n<pre><code>@GetMapping(&quot;/accounts/list/all&quot;)\npublic ResponseEntity&lt;String&gt; getClients(){\n    \n    List&lt;AccountResponseDTO&gt; clients = accountService.getAll();\n    String json = null;\n    try {\n        json = mapper.writeValueAsString(clients);\n    }\n    catch (JsonProcessingException exc) {\n        log.warn(exc.getMessage(), exc);\n    }\n            \n    byte[] bytes = json.getBytes(StandardCharsets.UTF_8);\n    String data = null;\n    try(ByteArrayOutputStream baos = new ByteArrayOutputStream(json.length());\n            GZIPOutputStream gzip = new GZIPOutputStream(baos, bytes.length);){\n        gzip.write(bytes);\n        gzip.flush();\n        data = baos.toString();\n    }\n    catch(IOException exc) {\n        log.warn(exc.getMessage(), exc);\n    }\n    \n    return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN)\n            .header(HttpHeaders.CONTENT_ENCODING, &quot;gzip&quot;).body(data);\n}\n</code></pre>\n<p>AJAX request:</p>\n<pre><code>$(document).ready(function(){\n$('#clients_table tbody').empty();\n    $.ajax({\n        type: 'GET',\n        url: '/bankdemo/accounts/list/all',\n//      headers: {'Accept-Encoding' : 'gzip'},\n        dataType: &quot;text&quot;,\n        success: function(response) {\n            const json = JSON.parse(response);\n            $.each(json, function(key, value){  \n            var account = '&lt;tr&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.id+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.name+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.surname+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.phone+'&lt;/td&gt;'\n                + '&lt;td&gt;&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.birthday+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.active+'&lt;/td&gt;'\n                + '&lt;/tr&gt;';\n            $(account).appendTo('#clients_table tbody');\n            });\n        }\n    });\n});\n</code></pre>\n<p>and recieving <strong>net::ERR_CONTENT_DECODING_FAILED 200</strong></p>\n<p>If I uncomment <em>headers: {'Accept-Encoding' : 'gzip'}</em> then getting <strong>Refused to set unsafe header</strong></p>\n<p>Cant figure out what's wrong with the code?</p>\n"},{"tags":["java","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530165909,"creation_date":1530165909,"answer_id":51075720,"question_id":51075696,"body_markdown":"1.Try removing server and add it again.\r\n\r\n2.Clean the project.","title":"No naming context bound to this class loader","body":"<p>1.Try removing server and add it again.</p>\n\n<p>2.Clean the project.</p>\n"},{"tags":[],"owner":{"account_id":18944262,"reputation":1,"user_id":13823558,"display_name":"Tushar Khutale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593247764,"creation_date":1593247548,"answer_id":62607790,"question_id":51075696,"body_markdown":"You have to ensure that.. your Dynamic Web Module Version is proper. \r\n\r\nGo to:\r\n\r\n 1) right click on project\r\n 2) click Build path\r\n 3) select Project Facts\r\n 4) select Dynamic Web Module (Checkbox) with proper version","title":"No naming context bound to this class loader","body":"<p>You have to ensure that.. your Dynamic Web Module Version is proper.</p>\n<p>Go to:</p>\n<ol>\n<li>right click on project</li>\n<li>click Build path</li>\n<li>select Project Facts</li>\n<li>select Dynamic Web Module (Checkbox) with proper version</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6897357,"reputation":1507,"user_id":5298806,"accept_rate":100,"display_name":"Pado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593683312,"creation_date":1593682455,"answer_id":62693273,"question_id":51075696,"body_markdown":"I had, in my tomcat configuration, two modules: the actual model I wanted to run and another one I accidentally add. The second model was referring to a project that was &quot;closed&quot; in my workspace, this was causing the issue for me.  \r\n\r\nTry:\r\n - double-click on your server under the &quot;Servers&quot; tab in Eclipse\r\n - on the window that opens up go to &quot;Modules&quot; in the lower left corner\r\n - Remove the module(s) that you do not need \r\n - save\r\n\r\neventually clean your server and restart\r\n\r\n ","title":"No naming context bound to this class loader","body":"<p>I had, in my tomcat configuration, two modules: the actual model I wanted to run and another one I accidentally add. The second model was referring to a project that was &quot;closed&quot; in my workspace, this was causing the issue for me.</p>\n<p>Try:</p>\n<ul>\n<li>double-click on your server under the &quot;Servers&quot; tab in Eclipse</li>\n<li>on the window that opens up go to &quot;Modules&quot; in the lower left corner</li>\n<li>Remove the module(s) that you do not need</li>\n<li>save</li>\n</ul>\n<p>eventually clean your server and restart</p>\n"},{"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600450690,"creation_date":1600450690,"answer_id":63960436,"question_id":51075696,"body_markdown":"In my case, it was that I had TWO restcontrollers with the same urlPattern... like:\r\n\r\n    @WebServlet(urlPatterns = { &quot;/ws/user/login&quot;, &quot;/ws/user/logout&quot; })\r\n\r\nin two different controllers. This has led to the above error message. \r\n\r\nThese utils and frameworks would be so much better, if the developers would implement less confusing error messages! Spring and many of it&#39;s modules are full of these misleading errors. This makes it pretty hard for beginners to get into it.","title":"No naming context bound to this class loader","body":"<p>In my case, it was that I had TWO restcontrollers with the same urlPattern... like:</p>\n<pre><code>@WebServlet(urlPatterns = { &quot;/ws/user/login&quot;, &quot;/ws/user/logout&quot; })\n</code></pre>\n<p>in two different controllers. This has led to the above error message.</p>\n<p>These utils and frameworks would be so much better, if the developers would implement less confusing error messages! Spring and many of it's modules are full of these misleading errors. This makes it pretty hard for beginners to get into it.</p>\n"},{"tags":[],"owner":{"account_id":22479996,"reputation":1,"user_id":16679198,"display_name":"Rits Pro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629166836,"creation_date":1629116390,"answer_id":68802709,"question_id":51075696,"body_markdown":"In my case on the servlet page the name I mentioned in the \r\n`@WebServlet(&quot;/ServletName&quot;)` was not the same as the class name.\r\n\r\nClass name was `CreatePage`, but I forgot to change the same in `@WebServlet(&quot;/ServletName&quot;)`.\r\n\r\nIt should be changed to match the class name: `@WebServlet(&quot;/CreatePage&quot;)`\r\n","title":"No naming context bound to this class loader","body":"<p>In my case on the servlet page the name I mentioned in the\n<code>@WebServlet(&quot;/ServletName&quot;)</code> was not the same as the class name.</p>\n<p>Class name was <code>CreatePage</code>, but I forgot to change the same in <code>@WebServlet(&quot;/ServletName&quot;)</code>.</p>\n<p>It should be changed to match the class name: <code>@WebServlet(&quot;/CreatePage&quot;)</code></p>\n"}],"owner":{"account_id":2851226,"reputation":2669,"user_id":2448399,"accept_rate":86,"display_name":"JimmyD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19930,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51075720,"answer_count":5,"score":6,"last_activity_date":1684144308,"creation_date":1530165805,"question_id":51075696,"body_markdown":"I have created a Dynamic web project in Eclipse. When I try to run it on a local Tomcat from in Eclipse we are getting error:\r\n\r\n&gt; No naming context bound to this class loader\r\n\r\nI tried everything: running the application on another Tomcat version, another Eclipe version, ...\r\n\r\nCan someone help me with this? This is currently a blocker for further developments because of no debug capabilities. \r\n\r\nThe full error log is:\r\n\r\n    WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PCT_TO_CPQ]] so no cleanup was performed for that container\r\n    javax.naming.NamingException: No naming context bound to this class loader\r\n    \tat org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:268)\r\n    \tat org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:993)\r\n    \tat org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:976)\r\n    \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\r\n    \tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5492)\r\n    \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\r\n    \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\r\n    \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\r\n    \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:585)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:883)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:685)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)","title":"No naming context bound to this class loader","body":"<p>I have created a Dynamic web project in Eclipse. When I try to run it on a local Tomcat from in Eclipse we are getting error:</p>\n\n<blockquote>\n  <p>No naming context bound to this class loader</p>\n</blockquote>\n\n<p>I tried everything: running the application on another Tomcat version, another Eclipe version, ...</p>\n\n<p>Can someone help me with this? This is currently a blocker for further developments because of no debug capabilities. </p>\n\n<p>The full error log is:</p>\n\n<pre><code>WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PCT_TO_CPQ]] so no cleanup was performed for that container\njavax.naming.NamingException: No naming context bound to this class loader\n    at org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:268)\n    at org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:993)\n    at org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:976)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5492)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:585)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:883)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:685)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","jackson-dataformat-xml","spring-resttemplate"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684144127,"post_id":73203000,"comment_id":134468557,"body_markdown":"You can&#39;t serialize streams, any more than you can fax a fax machine, or send your phone via SMS.","body":"You can&#39;t serialize streams, any more than you can fax a fax machine, or send your phone via SMS."}],"answers":[{"tags":[],"owner":{"account_id":6966136,"reputation":718,"user_id":5344089,"display_name":"Nadeeshani William"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684144060,"creation_date":1684144060,"answer_id":76252836,"question_id":73203000,"body_markdown":"This works for me. You need to disable FAIL_ON_EMPTY_BEANS in Jackson.\r\n\r\n   \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class ObjectMapperConfiguration {\r\n    \r\n      @Bean\r\n      public ObjectMapper objectMapper() {\r\n        return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n      }\r\n    }","title":"No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer","body":"<p>This works for me. You need to disable FAIL_ON_EMPTY_BEANS in Jackson.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ObjectMapperConfiguration {\n\n  @Bean\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684144060,"creation_date":1659422408,"question_id":73203000,"body_markdown":"I am trying to upload a file as xlsx to a document. \r\n\r\n    @Autowired\r\n    HttpHeaders headers;\r\n        \r\n\r\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);    \t\t\r\n    \t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    \t\tFile fileToUpload = new File(attachmentLocation); // /tmp/xyz.xlsx\r\n    \t\tbody.add(&quot;file&quot;, new FileSystemResource(fileToUpload));    \r\n    \t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);    \r\n    \t\ttry {\r\n    \t\t\tResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(myURL,\r\n    \t\t\t\t\tHttpMethod.POST, requestEntity, byte[].class);\r\n    \t\t}\r\n    \t\tcatch (RestClientException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nI&#39;m getting the following error message:\r\n\r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.ArrayList[0]-&gt;org.springframework.core.io.FileSystemResource[&quot;inputStream&quot;])\r\n\r\n\r\n\r\n ","title":"No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer","body":"<p>I am trying to upload a file as xlsx to a document.</p>\n<pre><code>@Autowired\nHttpHeaders headers;\n    \n\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);          \n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;String, Object&gt;();\n        File fileToUpload = new File(attachmentLocation); // /tmp/xyz.xlsx\n        body.add(&quot;file&quot;, new FileSystemResource(fileToUpload));    \n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);    \n        try {\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(myURL,\n                    HttpMethod.POST, requestEntity, byte[].class);\n        }\n        catch (RestClientException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I'm getting the following error message:</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.ArrayList[0]-&gt;org.springframework.core.io.FileSystemResource[&quot;inputStream&quot;])\n</code></pre>\n"},{"tags":["java","azure-functions","azure-blob-storage"],"comments":[{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":0,"creation_date":1684026533,"post_id":76245400,"comment_id":134456195,"body_markdown":"Does this help?  https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable#create-a-blobcontainerclient","body":"Does this help?  <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable#create-a-blobcontainerclient\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/api/overview/azure/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684143972,"creation_date":1684143972,"answer_id":76252820,"question_id":76245400,"body_markdown":"Firstly, I created a container in my storage account and uploaded a **blob** like below,\r\n![enter image description here](https://i.imgur.com/DHkLGp7.png)\r\n\r\nThen, I created another container in my storage account and uploaded a **blob** as below,\r\n![enter image description here](https://i.imgur.com/4eaDkBr.png)\r\n\r\nWhen I download the **blob** from **firstcontainer** like below,\r\n![enter image description here](https://i.imgur.com/bL1c9XK.png)\r\n\r\n**Blob** looks like the below,\r\n\r\n![enter image description here](https://i.imgur.com/iAfi4wM.png)\r\n\r\nThen, I download **blob** from **secondcontainer** and it&#39;s look like below,\r\n![enter image description here](https://i.imgur.com/xWW4Aul.png)\r\n\r\nI followed the [Github-document](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/storage/blobs/storage-quickstart-blobs-java.md?plain=1) with the same code can able to copy a **blob** from one container to another,\r\n\r\n**Code:**\r\n```java\r\nString sourceSasUri = &quot;sourceSASUri&quot;;\r\nString destinationContainerSasUri = &quot;destinationSASUri&quot;;\r\nString destinationBlobName = &quot;kam.txt&quot;;\r\n\r\nBlobServiceClient sourceBlobServiceClient = new BlobServiceClientBuilder()\r\n                .connectionString(sourceSasUri)\r\n                .buildClient();\r\n\r\nBlobClient sourceBlobClient = new BlobClientBuilder()\r\n                .connectionString(sourceSasUri)\r\n                .blobName(&quot;type.txt&quot;)\r\n                .buildClient();\r\n\r\nBlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                .connectionString(destinationContainerSasUri)\r\n                .buildClient();\r\n\r\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(destinationBlobName);\r\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(sourceBlobClient.getBlobUrl(), Duration.ofSeconds(2));\r\n        poller.waitForCompletion();\r\n```\r\n**SAS Uri** formate is as below,\r\n```java    \r\nDefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=&lt;storageaccountkey&gt;;EndpointSuffix=core.windows.net/&lt;containername&gt;\r\n```\r\n\r\n**Output:**\r\n\r\nIt ran successfully as below,\r\n![enter image description here](https://i.imgur.com/Zzqdn6h.png)\r\n\r\nThen, I downloaded the blob from **firstcontainer** and it&#39;s look like below,\r\n![enter image description here](https://i.imgur.com/OlmSY1d.png)\r\n\r\nAnd I downloaded the **blob** from **secondcontainer**, it&#39;s look like below,\r\nIt successfully copied the text from **blob** in **firstcontainer** shown as below,\r\n\r\n![enter image description here](https://i.imgur.com/liFdeM7.png)","title":"BlobContainerClient from Azure SAS URI","body":"<p>Firstly, I created a container in my storage account and uploaded a <strong>blob</strong> like below,\n<img src=\"https://i.imgur.com/DHkLGp7.png\" alt=\"enter image description here\" /></p>\n<p>Then, I created another container in my storage account and uploaded a <strong>blob</strong> as below,\n<img src=\"https://i.imgur.com/4eaDkBr.png\" alt=\"enter image description here\" /></p>\n<p>When I download the <strong>blob</strong> from <strong>firstcontainer</strong> like below,\n<img src=\"https://i.imgur.com/bL1c9XK.png\" alt=\"enter image description here\" /></p>\n<p><strong>Blob</strong> looks like the below,</p>\n<p><img src=\"https://i.imgur.com/iAfi4wM.png\" alt=\"enter image description here\" /></p>\n<p>Then, I download <strong>blob</strong> from <strong>secondcontainer</strong> and it's look like below,\n<img src=\"https://i.imgur.com/xWW4Aul.png\" alt=\"enter image description here\" /></p>\n<p>I followed the <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/storage/blobs/storage-quickstart-blobs-java.md?plain=1\" rel=\"nofollow noreferrer\">Github-document</a> with the same code can able to copy a <strong>blob</strong> from one container to another,</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String sourceSasUri = &quot;sourceSASUri&quot;;\nString destinationContainerSasUri = &quot;destinationSASUri&quot;;\nString destinationBlobName = &quot;kam.txt&quot;;\n\nBlobServiceClient sourceBlobServiceClient = new BlobServiceClientBuilder()\n                .connectionString(sourceSasUri)\n                .buildClient();\n\nBlobClient sourceBlobClient = new BlobClientBuilder()\n                .connectionString(sourceSasUri)\n                .blobName(&quot;type.txt&quot;)\n                .buildClient();\n\nBlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .connectionString(destinationContainerSasUri)\n                .buildClient();\n\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(destinationBlobName);\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(sourceBlobClient.getBlobUrl(), Duration.ofSeconds(2));\n        poller.waitForCompletion();\n</code></pre>\n<p><strong>SAS Uri</strong> formate is as below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=&lt;storageaccountkey&gt;;EndpointSuffix=core.windows.net/&lt;containername&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>It ran successfully as below,\n<img src=\"https://i.imgur.com/Zzqdn6h.png\" alt=\"enter image description here\" /></p>\n<p>Then, I downloaded the blob from <strong>firstcontainer</strong> and it's look like below,\n<img src=\"https://i.imgur.com/OlmSY1d.png\" alt=\"enter image description here\" /></p>\n<p>And I downloaded the <strong>blob</strong> from <strong>secondcontainer</strong>, it's look like below,\nIt successfully copied the text from <strong>blob</strong> in <strong>firstcontainer</strong> shown as below,</p>\n<p><img src=\"https://i.imgur.com/liFdeM7.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684143972,"creation_date":1684025140,"question_id":76245400,"body_markdown":"I am working on a POC to copy file from one azure storage account to another. What I have is SAS URI of source file and `SAS URI` of destination container. I trying to achieve this through Azure function app with `java`. What I tried `connectionString()` method of `BlobContainerClientBuilder` to connect to destination container but it threw error `java.lang.IllegalArgumentException: Invalid connection string.`\r\n\r\n    BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                    .connectionString(containerSasUri)\r\n                    .buildClient();\r\n\r\n \r\n    BlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(&quot;newDirectory/test.txt&quot;);\r\n\r\n\r\n    SyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(data.getFileUrl(), Duration.ofSeconds(2));\r\n    poller.waitForCompletion();\r\n\r\n\r\nI even tried `endpoint()` method of `BlobContainerClientBuilder` for instantiation of connection to destination container but that threw error `java.lang.IllegalArgumentException: Invalid Date String: 2022-05-10.`\r\n\r\n    BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                    .endpoint(containerSasUri)\r\n                    .buildClient();\r\n\r\nThe destination SAS URI looks like this `https://xxxxxxx.blob.core.windows.net/&lt;contsin_name&gt;?sv=2018-11-09&amp;sr=c&amp;st=2022-05-10&amp;se=2025-05-09T16%1A66%3B09X&amp;sp=racwdl&amp;spr=https&amp;rsct=application%2Foctet-stream&amp;sig=%2Bba37rfqAeHCR%2BX8hU1yfqSgojB40`\r\n\r\nAfter tryin to instantiate `BlobClient`, `BlonbServiceClient` and all failed with same errors, now I am wondering if instantiation using SAS URI is even possible or not, or I need service principal.","title":"BlobContainerClient from Azure SAS URI","body":"<p>I am working on a POC to copy file from one azure storage account to another. What I have is SAS URI of source file and <code>SAS URI</code> of destination container. I trying to achieve this through Azure function app with <code>java</code>. What I tried <code>connectionString()</code> method of <code>BlobContainerClientBuilder</code> to connect to destination container but it threw error <code>java.lang.IllegalArgumentException: Invalid connection string.</code></p>\n<pre><code>BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .connectionString(containerSasUri)\n                .buildClient();\n\n\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(&quot;newDirectory/test.txt&quot;);\n\n\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(data.getFileUrl(), Duration.ofSeconds(2));\npoller.waitForCompletion();\n</code></pre>\n<p>I even tried <code>endpoint()</code> method of <code>BlobContainerClientBuilder</code> for instantiation of connection to destination container but that threw error <code>java.lang.IllegalArgumentException: Invalid Date String: 2022-05-10.</code></p>\n<pre><code>BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .endpoint(containerSasUri)\n                .buildClient();\n</code></pre>\n<p>The destination SAS URI looks like this <code>https://xxxxxxx.blob.core.windows.net/&lt;contsin_name&gt;?sv=2018-11-09&amp;sr=c&amp;st=2022-05-10&amp;se=2025-05-09T16%1A66%3B09X&amp;sp=racwdl&amp;spr=https&amp;rsct=application%2Foctet-stream&amp;sig=%2Bba37rfqAeHCR%2BX8hU1yfqSgojB40</code></p>\n<p>After tryin to instantiate <code>BlobClient</code>, <code>BlonbServiceClient</code> and all failed with same errors, now I am wondering if instantiation using SAS URI is even possible or not, or I need service principal.</p>\n"},{"tags":["java","installation","config","java-web-start","system-administration"],"comments":[{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1446573143,"post_id":33484452,"comment_id":54795110,"body_markdown":"Can anyone help or suggest a possible solution, please?","body":"Can anyone help or suggest a possible solution, please?"},{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1446670112,"post_id":33484452,"comment_id":54844980,"body_markdown":"I have looked at the event log trying to determine if there are any O/S issues surfacing.   I saw none.","body":"I have looked at the event log trying to determine if there are any O/S issues surfacing.   I saw none."}],"answers":[{"tags":[],"owner":{"account_id":6671029,"reputation":2067,"user_id":5147160,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446489350,"creation_date":1446489350,"answer_id":33484527,"question_id":33484452,"body_markdown":"The path you have given should be in below format\r\n\r\n\t\r\n    deployment.system.config=file:/C:/Windows/Sun/Java/Deployment/deployment.proper‌​ties","title":"Java System Level deployment Malformed deployment.config file","body":"<p>The path you have given should be in below format</p>\n\n<pre><code>deployment.system.config=file:/C:/Windows/Sun/Java/Deployment/deployment.proper‌​ties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1449850507,"creation_date":1448465005,"answer_id":33920240,"question_id":33484452,"body_markdown":"I got the install to work correctly.  What I did was put the deployment.config file in the C:\\Windows\\Sun\\Java\\Deployment directory.  The property in the file was setup as so:\r\n\r\n    deployment.system.config=file\\:C\\:\\\\Sup\\\\Java\\\\UPGRADE\\\\Deployment\\\\deployment.properties\r\n\r\nThe exceptionlist file was in the same directory as the deployment.properties file. ","title":"Java System Level deployment Malformed deployment.config file","body":"<p>I got the install to work correctly.  What I did was put the deployment.config file in the C:\\Windows\\Sun\\Java\\Deployment directory.  The property in the file was setup as so:</p>\n\n<pre><code>deployment.system.config=file\\:C\\:\\\\Sup\\\\Java\\\\UPGRADE\\\\Deployment\\\\deployment.properties\n</code></pre>\n\n<p>The exceptionlist file was in the same directory as the deployment.properties file. </p>\n"},{"tags":[],"owner":{"account_id":4497828,"reputation":178,"user_id":3657200,"display_name":"Kintaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684143784,"creation_date":1684143784,"answer_id":76252802,"question_id":33484452,"body_markdown":"Is not needed to explicitly say to the installer to look at it if you are using the default system wide config location. Simply deploy the config files in the directory\r\n\r\n    C:\\Windows\\Sun\\Java\\Deployment\r\n\r\nand Java is going to load it. If that path doesn&#39;t exists create it.\r\n\r\nFrom the Oracle Java deploy guide:\r\n21.1.2 System Level\r\n\r\nThe deployment.config file is used for specifying the system-level deployment.properties in the infrastructure. By default no deployment.config file exists, so no system-wide deployment.properties file exists. If the deployment.config file exists, it is located in one of the directories shown in the following table.\r\n\r\nSource:\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html","title":"Java System Level deployment Malformed deployment.config file","body":"<p>Is not needed to explicitly say to the installer to look at it if you are using the default system wide config location. Simply deploy the config files in the directory</p>\n<pre><code>C:\\Windows\\Sun\\Java\\Deployment\n</code></pre>\n<p>and Java is going to load it. If that path doesn't exists create it.</p>\n<p>From the Oracle Java deploy guide:\n21.1.2 System Level</p>\n<p>The deployment.config file is used for specifying the system-level deployment.properties in the infrastructure. By default no deployment.config file exists, so no system-wide deployment.properties file exists. If the deployment.config file exists, it is located in one of the directories shown in the following table.</p>\n<p>Source:\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html</a></p>\n"}],"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33920240,"answer_count":3,"score":0,"last_activity_date":1684143784,"creation_date":1446489036,"question_id":33484452,"body_markdown":"I am trying to install Java jre 1.8u31 from the command line. I am using system level install configuration by using the deployment.config file and deployment.properties. \r\n  [![Batch script for install java jre][1]][1] \r\n\r\n I have tried the following:\r\n\r\n    deployment.system.config=file\\:C\\:/WINDOWS/Sun/Java/Deployment/deployment.properties\r\n    deployment.system.config.mandatory=true\r\n\r\nI have also tried the following \r\n\r\n    deployment.system.config=file:///C:/Windows/Sun/Java/Deployment/deployment.properties\r\n    deployment.system.config.mandatory=true\r\n\r\nI have swapped the entries around in hopes of getting a better error describing what I am doing wrong.  I have also made the first line blank in the deployment.config file.  I have googled and tried all examples I could find online.  In all the cases, I am being presented a dialog box with an error that states the deployment.config file&#39;s line 1 is malformed.   \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny suggestions would be greatly appreciated. \r\n\r\nRuss\r\n\r\nI have tried all of these formats:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KO4j4.png\r\n  [2]: http://i.stack.imgur.com/hfn4P.png\r\n  [3]: http://i.stack.imgur.com/G3Kuz.png","title":"Java System Level deployment Malformed deployment.config file","body":"<p>I am trying to install Java jre 1.8u31 from the command line. I am using system level install configuration by using the deployment.config file and deployment.properties. \n  <a href=\"https://i.stack.imgur.com/KO4j4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KO4j4.png\" alt=\"Batch script for install java jre\"></a> </p>\n\n<p>I have tried the following:</p>\n\n<pre><code>deployment.system.config=file\\:C\\:/WINDOWS/Sun/Java/Deployment/deployment.properties\ndeployment.system.config.mandatory=true\n</code></pre>\n\n<p>I have also tried the following </p>\n\n<pre><code>deployment.system.config=file:///C:/Windows/Sun/Java/Deployment/deployment.properties\ndeployment.system.config.mandatory=true\n</code></pre>\n\n<p>I have swapped the entries around in hopes of getting a better error describing what I am doing wrong.  I have also made the first line blank in the deployment.config file.  I have googled and tried all examples I could find online.  In all the cases, I am being presented a dialog box with an error that states the deployment.config file's line 1 is malformed.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/hfn4P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfn4P.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestions would be greatly appreciated. </p>\n\n<p>Russ</p>\n\n<p>I have tried all of these formats:\n<a href=\"https://i.stack.imgur.com/G3Kuz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3Kuz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":5245126,"reputation":888,"user_id":4191101,"accept_rate":67,"display_name":"Majestic"},"score":0,"creation_date":1683897439,"post_id":76236670,"comment_id":134441143,"body_markdown":"Where are your breakpoints set ?","body":"Where are your breakpoints set ?"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897603,"post_id":76236670,"comment_id":134441194,"body_markdown":"in page object model","body":"in page object model"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1683897620,"post_id":76236670,"comment_id":134441205,"body_markdown":"Did you muted breakpoints? Its icon in the debugging window is a red circle with a white line running from the bottom-left to the top-right through it.","body":"Did you muted breakpoints? Its icon in the debugging window is a red circle with a white line running from the bottom-left to the top-right through it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683897689,"post_id":76236670,"comment_id":134441230,"body_markdown":"easiest: don&#39;t use maven(..for this, but &quot;debug test in IDE&quot; ..as (poorly) described [here](https://cucumber.io/docs/cucumber/debugging/?lang=java)), when with maven, (i fear) you have to stick with https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html ... duplicate(unanswerd): https://stackoverflow.com/q/52221703/592355","body":"easiest: don&#39;t use maven(..for this, but &quot;debug test in IDE&quot; ..as (poorly) described <a href=\"https://cucumber.io/docs/cucumber/debugging/?lang=java\" rel=\"nofollow noreferrer\">here</a>), when with maven, (i fear) you have to stick with <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a> ... duplicate(unanswerd): <a href=\"https://stackoverflow.com/q/52221703/592355\">stackoverflow.com/q/52221703/592355</a>"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897698,"post_id":76236670,"comment_id":134441231,"body_markdown":"Breakpoints are red, but icon to run debug mode is green","body":"Breakpoints are red, but icon to run debug mode is green"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":1,"creation_date":1683897761,"post_id":76236670,"comment_id":134441249,"body_markdown":"if not maven runner - how to run this in junit runner in debug mode with maven options ?","body":"if not maven runner - how to run this in junit runner in debug mode with maven options ?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1683897762,"post_id":76236670,"comment_id":134441250,"body_markdown":"Why did you show us a compilation run configuration (`mvn verify` desdn&#39;t run your program)? Do you want to debug the java compiler? :D","body":"Why did you show us a compilation run configuration (<code>mvn verify</code> desdn&#39;t run your program)? Do you want to debug the java compiler? :D"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897806,"post_id":76236670,"comment_id":134441261,"body_markdown":"I want the test to stop at red breakpoints in java code","body":"I want the test to stop at red breakpoints in java code"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683897821,"post_id":76236670,"comment_id":134441267,"body_markdown":"for the surefire+forked case, also consider: you will need a (maven) &quot;run(test) configuration&quot; + a (debug) &quot;attach configuration&quot; (remote/attached debugging!)","body":"for the surefire+forked case, also consider: you will need a (maven) &quot;run(test) configuration&quot; + a (debug) &quot;attach configuration&quot; (remote/attached debugging!)"},{"owner":{"account_id":5245126,"reputation":888,"user_id":4191101,"accept_rate":67,"display_name":"Majestic"},"score":0,"creation_date":1683897832,"post_id":76236670,"comment_id":134441269,"body_markdown":"Can you provide a screenshot of your breakpoint ?","body":"Can you provide a screenshot of your breakpoint ?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1683897841,"post_id":76236670,"comment_id":134441271,"body_markdown":"`&gt; how to debug junit?` Click the gutter on the left side of your test method (or -class) and select debug instead of run.","body":"<code>&gt; how to debug junit?</code> Click the gutter on the left side of your test method (or -class) and select debug instead of run."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683975369,"post_id":76236670,"comment_id":134450990,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684142972,"creation_date":1684142972,"answer_id":76252679,"question_id":76236670,"body_markdown":"The problem seems to stem from the fact that you are using a Maven Goal to debug your Project.\r\n\r\nIf you want to keep using Maven for debugging check Maven&#39;s [(1)][1] and IDEA&#39;s  [(1)][2] [(2)][3] documentation on this topic.\r\n\r\nYou can make the debugging process much easier, if you use a dedicated Cucumber Run/Debug Config:\r\n\r\n[![dedicated Cucumber Run/Debug Config][4]][4]\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\r\n  [2]: https://www.jetbrains.com/help/idea/2020.2/run-debug-configuration-remote-debug.html\r\n  [3]: https://www.jetbrains.com/help/idea/2023.1/attaching-to-local-process.html\r\n  [4]: https://i.stack.imgur.com/O5jcR.png","title":"Intellij - maven runner does not stop at breakpoints in debug mode","body":"<p>The problem seems to stem from the fact that you are using a Maven Goal to debug your Project.</p>\n<p>If you want to keep using Maven for debugging check Maven's <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\" rel=\"nofollow noreferrer\">(1)</a> and IDEA's  <a href=\"https://www.jetbrains.com/help/idea/2020.2/run-debug-configuration-remote-debug.html\" rel=\"nofollow noreferrer\">(1)</a> <a href=\"https://www.jetbrains.com/help/idea/2023.1/attaching-to-local-process.html\" rel=\"nofollow noreferrer\">(2)</a> documentation on this topic.</p>\n<p>You can make the debugging process much easier, if you use a dedicated Cucumber Run/Debug Config:</p>\n<p><a href=\"https://i.stack.imgur.com/O5jcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O5jcR.png\" alt=\"dedicated Cucumber Run/Debug Config\" /></a></p>\n"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684142972,"creation_date":1683897027,"question_id":76236670,"body_markdown":"I have java cucumber project. In Intellij - maven runner does not stop at breakpoints in debug mode.\r\nDo you know what shoulb be changed ?\r\n\r\nHere is the link to the screenshot \r\n[enter image description here][1]\r\n![IntelliJ-maven-run-config][2]\r\n\r\n\r\nI Intellij I click green icon &quot;debug&quot; at the top of the screen and tests starts but does not stop at breakpoints.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FdG5v.jpg\r\n  [2]: https://i.stack.imgur.com/4sEyl.jpg","title":"Intellij - maven runner does not stop at breakpoints in debug mode","body":"<p>I have java cucumber project. In Intellij - maven runner does not stop at breakpoints in debug mode.\nDo you know what shoulb be changed ?</p>\n<p>Here is the link to the screenshot\n<a href=\"https://i.stack.imgur.com/FdG5v.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<img src=\"https://i.stack.imgur.com/4sEyl.jpg\" alt=\"IntelliJ-maven-run-config\" /></p>\n<p>I Intellij I click green icon &quot;debug&quot; at the top of the screen and tests starts but does not stop at breakpoints.</p>\n"},{"tags":["java","lambda","compiler-errors"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":7,"creation_date":1684138729,"post_id":76252105,"comment_id":134467376,"body_markdown":"Your lambda `c -&gt; { ... }`  is implementing the functional interface `GridComponent`. i.e. `c -&gt; { ... }` is an implementation of `String getEncoding()`. So it should take nothing and return a string. The compiler is complaining that it doesn&#39;t know what `c` is. Your actual outer function is more like a `Function&lt;Character, GridComponent&gt;`. That itself is not a GridComponent; it&#39;s something that *can give you* a GridComponent if you give it a character first.","body":"Your lambda <code>c -&gt; { ... }</code>  is implementing the functional interface <code>GridComponent</code>. i.e. <code>c -&gt; { ... }</code> is an implementation of <code>String getEncoding()</code>. So it should take nothing and return a string. The compiler is complaining that it doesn&#39;t know what <code>c</code> is. Your actual outer function is more like a <code>Function&lt;Character, GridComponent&gt;</code>. That itself is not a GridComponent; it&#39;s something that <i>can give you</i> a GridComponent if you give it a character first."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139023,"post_id":76252105,"comment_id":134467424,"body_markdown":"All you need here is `c -&gt; return c;`. Unclear why you think you need this, once it is simplified this much.","body":"All you need here is <code>c -&gt; return c;</code>. Unclear why you think you need this, once it is simplified this much."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139209,"post_id":76252105,"comment_id":134467459,"body_markdown":"@Michael I see a lot of upvotes on your comment but I am not sure what you mean, how do I check weather it is an &#39;o&#39; or a &#39;w&#39; ?","body":"@Michael I see a lot of upvotes on your comment but I am not sure what you mean, how do I check weather it is an &#39;o&#39; or a &#39;w&#39; ?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1684139243,"post_id":76252105,"comment_id":134467468,"body_markdown":"@user207421 That&#39;s invalid syntax FYI. Either `c -&gt; { return c; }` or (preferably) `c -&gt; c` or  `Function.identity()`","body":"@user207421 That&#39;s invalid syntax FYI. Either <code>c -&gt; { return c; }</code> or (preferably) <code>c -&gt; c</code> or  <code>Function.identity()</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139354,"post_id":76252105,"comment_id":134467486,"body_markdown":"@Michael Yes indeed.","body":"@Michael Yes indeed."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139374,"post_id":76252105,"comment_id":134467491,"body_markdown":"@Michael Hi Michael, but how do I check weather it is &#39;o&#39; or &#39;w&#39;, my return is &quot;o&quot; and &quot;w&quot;","body":"@Michael Hi Michael, but how do I check weather it is &#39;o&#39; or &#39;w&#39;, my return is &quot;o&quot; and &quot;w&quot;"},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139559,"post_id":76252105,"comment_id":134467524,"body_markdown":"@user207421 I am taking char but returning string? How can I solve this ?","body":"@user207421 I am taking char but returning string? How can I solve this ?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1684139608,"post_id":76252105,"comment_id":134467537,"body_markdown":"I don&#39;t understand the follow-up question, sorry. I re-read my initial explanation and I don&#39;t currently see how I can improve on it. Suffices to say `c -&gt; {...}` cannot be assigned to GridComponent, because `c -&gt; {}` takes 1 argument and GridComponent&#39;s single abstract method (getEncoding) takes none.","body":"I don&#39;t understand the follow-up question, sorry. I re-read my initial explanation and I don&#39;t currently see how I can improve on it. Suffices to say <code>c -&gt; {...}</code> cannot be assigned to GridComponent, because <code>c -&gt; {}</code> takes 1 argument and GridComponent&#39;s single abstract method (getEncoding) takes none."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139631,"post_id":76252105,"comment_id":134467542,"body_markdown":"What I think you mean here is `GridComponent getGridComponent(char c) { if (c == &#39;o&#39; || c == &#39;w&#39;) return () -&gt; String.valueOf(c); else return null; }`. Putting the test inside the lambda just defers the inevitable: there is no benefit.","body":"What I think you mean here is <code>GridComponent getGridComponent(char c) { if (c == &#39;o&#39; || c == &#39;w&#39;) return () -&gt; String.valueOf(c); else return null; }</code>. Putting the test inside the lambda just defers the inevitable: there is no benefit."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139867,"post_id":76252105,"comment_id":134467581,"body_markdown":"@user207421 but is that still a lambda function or is it just a function now?","body":"@user207421 but is that still a lambda function or is it just a function now?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139886,"post_id":76252105,"comment_id":134467587,"body_markdown":"It is a function that returns a lambda. But I haven&#39;t compiled it ...","body":"It is a function that returns a lambda. But I haven&#39;t compiled it ..."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684141933,"post_id":76252105,"comment_id":134468013,"body_markdown":"@Michael, Hi Michael I have added additional information as to what I want to achieve, maybe I was describing what I wanted incorrectly, I think it is what you said? Can you please confirm?","body":"@Michael, Hi Michael I have added additional information as to what I want to achieve, maybe I was describing what I wanted incorrectly, I think it is what you said? Can you please confirm?"},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684142002,"post_id":76252105,"comment_id":134468025,"body_markdown":"@user207421 I have added some more information about what I want. But I dont think it was what you described","body":"@user207421 I have added some more information about what I want. But I dont think it was what you described"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1684143372,"post_id":76252105,"comment_id":134468356,"body_markdown":"I don&#39;t see anything in your edit that either invokes your original code or invalidates my suggestion. &quot;I want to create a lambda function that will create the GridComponent object that returns the encoding&quot;: no, I don&#39;t think you do. You want to create a function that returns a `GridComponent` lambda that returns the encoding. Which I provided. You&#39;re using a lambda where you don&#39;t need one, and you&#39;re not using one where you do. Perhaps you want the lambda to be `() -&gt; return &quot;ERROR&quot;` in the case that `c` is invalid, instead of null, but it&#39;s anybody&#39;s guess really.","body":"I don&#39;t see anything in your edit that either invokes your original code or invalidates my suggestion. &quot;I want to create a lambda function that will create the GridComponent object that returns the encoding&quot;: no, I don&#39;t think you do. You want to create a function that returns a <code>GridComponent</code> lambda that returns the encoding. Which I provided. You&#39;re using a lambda where you don&#39;t need one, and you&#39;re not using one where you do. Perhaps you want the lambda to be <code>() -&gt; return &quot;ERROR&quot;</code> in the case that <code>c</code> is invalid, instead of null, but it&#39;s anybody&#39;s guess really."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684174359,"post_id":76252105,"comment_id":134475691,"body_markdown":"It&#39;s important you realize that a lambda expression is essentially just &quot;syntactic sugar&quot; (i.e., shorthand) for defining an implementation of a functional interface, which an interface with a single abstract method (SAM). In this case, you&#39;re trying to implement `GridComponent` whose SAM is `getEncoding()`. That means the lambda expression will have **no parameters** and must return a `String`. But the lambda you have in the question is defining a single parameter `c` and trying to return `GridComponent`. See the problem?","body":"It&#39;s important you realize that a lambda expression is essentially just &quot;syntactic sugar&quot; (i.e., shorthand) for defining an implementation of a functional interface, which an interface with a single abstract method (SAM). In this case, you&#39;re trying to implement <code>GridComponent</code> whose SAM is <code>getEncoding()</code>. That means the lambda expression will have <b>no parameters</b> and must return a <code>String</code>. But the lambda you have in the question is defining a single parameter <code>c</code> and trying to return <code>GridComponent</code>. See the problem?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684174840,"post_id":76252105,"comment_id":134475775,"body_markdown":"Perhaps if you try to implement what you want using anonymous classes first, then you can at least get everything working like you want. Then convert the anonymous classes to lambda expressions (your IDE might provide an &quot;action&quot; that does such a conversion for you).","body":"Perhaps if you try to implement what you want using anonymous classes first, then you can at least get everything working like you want. Then convert the anonymous classes to lambda expressions (your IDE might provide an &quot;action&quot; that does such a conversion for you)."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684141005,"creation_date":1684141005,"answer_id":76252402,"question_id":76252105,"body_markdown":"It seems what you want is something like this:\r\n\r\n    GridComponent createGridComponent(char c) {\r\n        if (c == &#39;o&#39;) {\r\n            return () -&gt; &quot;o&quot;;\r\n        } else if (c == &#39;w&#39;) {\r\n            return () -&gt; &quot;w&quot;;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\nDepending on the version of Java you&#39;re using, this could be further simplified, e.g. (Java &gt;= 12):\r\n\r\n    GridComponent createGridComponentEncoder(char c) {\r\n        return switch (c) {\r\n            case &#39;o&#39; -&gt; () -&gt; &quot;o&quot;;\r\n            case &#39;w&#39; -&gt; () -&gt; &quot;w&quot;;\r\n            default -&gt; null;\r\n        };\r\n    }","title":"How to create Lamba function in Java confusion","body":"<p>It seems what you want is something like this:</p>\n<pre><code>GridComponent createGridComponent(char c) {\n    if (c == 'o') {\n        return () -&gt; &quot;o&quot;;\n    } else if (c == 'w') {\n        return () -&gt; &quot;w&quot;;\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>Depending on the version of Java you're using, this could be further simplified, e.g. (Java &gt;= 12):</p>\n<pre><code>GridComponent createGridComponentEncoder(char c) {\n    return switch (c) {\n        case 'o' -&gt; () -&gt; &quot;o&quot;;\n        case 'w' -&gt; () -&gt; &quot;w&quot;;\n        default -&gt; null;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684147340,"answer_count":1,"score":-1,"last_activity_date":1684142909,"creation_date":1684138504,"question_id":76252105,"body_markdown":"I have an interface called `GridComponent`:\r\n\r\n```\r\npackage lms.grid;\r\n\r\n/**\r\n * An interface for components that can be encoded as strings and placed in a grid.\r\n *\r\n * @provided\r\n */\r\npublic interface GridComponent {\r\n\r\n    /**\r\n     * Returns an encoding of this component as a string.\r\n     *\r\n     * @return the encoding of this component as a string.\r\n     */\r\n    String getEncoding();\r\n}\r\n\r\n```\r\n\r\nand I have a class called GameGrid and please scroll to the generate method, you can see that it uses a lambda function to put &quot;ERROR&quot; into the grid at every coordinate. Like I want to do the same thing but with &#39;o&#39; and &#39;w&#39;, I want to insert a lambda into the grid that returns the appropriate character code &quot;o&quot; and &quot;w&quot;\r\n```\r\npackage lms.grid;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n/**\r\n * The GameGrid is responsible for managing the state and initialisation of the game&#39;s grid.\r\n * It provides the Map structure to hold the coordinates of each node in the grid. It also\r\n * maintains the size of the grid using a range variable. The range value donates how many\r\n * nodes each hexagonal grid node extends to.\r\n *\r\n * &lt;p&gt;\r\n * Summary: Initializes a grid of the game.\r\n *\r\n */\r\npublic class GameGrid {\r\n    /** The grid of the game */\r\n    private Map&lt;Coordinate, GridComponent&gt; grid;\r\n    /** The range of the grid. */\r\n    private int range;\r\n\r\n    /**\r\n     * Create a new GameGrid with the given range, stored in a Map.\r\n     * A private helper method, generate() has been provided to assist you with the logic of the hexagonal coordinate system.\r\n     *\r\n     * @param range The range of the grid.\r\n     * @requires range &gt; 0\r\n     */\r\n    public GameGrid(int range) {\r\n        if (range &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Range must be greater than 0&quot;);\r\n        }\r\n        this.range = range;\r\n        this.grid = generate(range);\r\n    }\r\n\r\n    /**\r\n     * Get a copy of the grid of the game.\r\n     *\r\n     * @return A copy of the grid of the game.\r\n     */\r\n    public Map&lt;Coordinate, GridComponent&gt; getGrid() {\r\n        return new HashMap&lt;&gt;(this.grid);\r\n    }\r\n\r\n    /**\r\n     * Get the range of the grid.\r\n     *\r\n     * @return The range of the grid.\r\n     */\r\n    public int getRange() {\r\n        return this.range;\r\n    }\r\n\r\n    /**\r\n     * Helper method:\r\n     * Generates a grid with the given range, starting from the origin (the centre) and maintaining a\r\n     * balanced shape for the entire mapping structure.\r\n     * This has been provided to support you with the hexagonal coordinate logic.\r\n     * @param range The range of the map.\r\n     * @provided\r\n     */\r\n    private Map&lt;Coordinate, GridComponent&gt; generate(int range) {\r\n        Map&lt;Coordinate, GridComponent&gt; tempGrid = new HashMap&lt;&gt;();\r\n        for (int q = -range; q &lt;= range; q++) { // From negative to positive (inclusive)\r\n            for (int r = -range; r &lt;= range; r++) { // From negative to positive (inclusive)\r\n                for (int s = -range; s &lt;= range; s++) { // From negative to positive (inclusive)\r\n                    if (q + r + s == 0) {\r\n                        // Useful to default to error\r\n                        tempGrid.put(new Coordinate(q, r, s), () -&gt; &quot;ERROR&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return tempGrid;\r\n    }\r\n\r\n    /**\r\n     * Set the GridComponent at the given coordinate.\r\n     *\r\n     * @param coordinate The coordinate of the GridComponent.\r\n     * @param component  The GridComponent to be set.\r\n     */\r\n    public void setCoordinate(Coordinate coordinate, GridComponent component) {\r\n        this.grid.put(coordinate, component);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe encoding is just a letter like &quot;o&quot; or &quot;w&quot;\r\n\r\nFor my project I am analyzing and parsing data from a txt file. My file contains &#39;o&#39; and &#39;w&#39;. \r\n\r\nHow can I do this? \r\n\r\nI have tried the following:\r\n\r\n\r\n```\r\nGridComponent gridLambda = c -&gt; {\r\n    if (c == &#39;o&#39;) {\r\n        return new GridComponent() {\r\n            @Override\r\n            public String getEncoding() {\r\n                return &quot;o&quot;;\r\n            }\r\n        };\r\n    } else if (c == &#39;w&#39;) {\r\n        return new GridComponent() {\r\n            @Override\r\n            public String getEncoding() {\r\n                return &quot;w&quot;;\r\n            }\r\n        };\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n```\r\n\r\nBut this code has errors:\r\n\r\n    operator &quot;==&quot; cannot be applied to &lt;lamba parameter&gt;, &#39;char&#39;? ","title":"How to create Lamba function in Java confusion","body":"<p>I have an interface called <code>GridComponent</code>:</p>\n<pre><code>package lms.grid;\n\n/**\n * An interface for components that can be encoded as strings and placed in a grid.\n *\n * @provided\n */\npublic interface GridComponent {\n\n    /**\n     * Returns an encoding of this component as a string.\n     *\n     * @return the encoding of this component as a string.\n     */\n    String getEncoding();\n}\n\n</code></pre>\n<p>and I have a class called GameGrid and please scroll to the generate method, you can see that it uses a lambda function to put &quot;ERROR&quot; into the grid at every coordinate. Like I want to do the same thing but with 'o' and 'w', I want to insert a lambda into the grid that returns the appropriate character code &quot;o&quot; and &quot;w&quot;</p>\n<pre><code>package lms.grid;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * The GameGrid is responsible for managing the state and initialisation of the game's grid.\n * It provides the Map structure to hold the coordinates of each node in the grid. It also\n * maintains the size of the grid using a range variable. The range value donates how many\n * nodes each hexagonal grid node extends to.\n *\n * &lt;p&gt;\n * Summary: Initializes a grid of the game.\n *\n */\npublic class GameGrid {\n    /** The grid of the game */\n    private Map&lt;Coordinate, GridComponent&gt; grid;\n    /** The range of the grid. */\n    private int range;\n\n    /**\n     * Create a new GameGrid with the given range, stored in a Map.\n     * A private helper method, generate() has been provided to assist you with the logic of the hexagonal coordinate system.\n     *\n     * @param range The range of the grid.\n     * @requires range &gt; 0\n     */\n    public GameGrid(int range) {\n        if (range &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Range must be greater than 0&quot;);\n        }\n        this.range = range;\n        this.grid = generate(range);\n    }\n\n    /**\n     * Get a copy of the grid of the game.\n     *\n     * @return A copy of the grid of the game.\n     */\n    public Map&lt;Coordinate, GridComponent&gt; getGrid() {\n        return new HashMap&lt;&gt;(this.grid);\n    }\n\n    /**\n     * Get the range of the grid.\n     *\n     * @return The range of the grid.\n     */\n    public int getRange() {\n        return this.range;\n    }\n\n    /**\n     * Helper method:\n     * Generates a grid with the given range, starting from the origin (the centre) and maintaining a\n     * balanced shape for the entire mapping structure.\n     * This has been provided to support you with the hexagonal coordinate logic.\n     * @param range The range of the map.\n     * @provided\n     */\n    private Map&lt;Coordinate, GridComponent&gt; generate(int range) {\n        Map&lt;Coordinate, GridComponent&gt; tempGrid = new HashMap&lt;&gt;();\n        for (int q = -range; q &lt;= range; q++) { // From negative to positive (inclusive)\n            for (int r = -range; r &lt;= range; r++) { // From negative to positive (inclusive)\n                for (int s = -range; s &lt;= range; s++) { // From negative to positive (inclusive)\n                    if (q + r + s == 0) {\n                        // Useful to default to error\n                        tempGrid.put(new Coordinate(q, r, s), () -&gt; &quot;ERROR&quot;);\n                    }\n                }\n            }\n        }\n        return tempGrid;\n    }\n\n    /**\n     * Set the GridComponent at the given coordinate.\n     *\n     * @param coordinate The coordinate of the GridComponent.\n     * @param component  The GridComponent to be set.\n     */\n    public void setCoordinate(Coordinate coordinate, GridComponent component) {\n        this.grid.put(coordinate, component);\n    }\n}\n\n</code></pre>\n<p>The encoding is just a letter like &quot;o&quot; or &quot;w&quot;</p>\n<p>For my project I am analyzing and parsing data from a txt file. My file contains 'o' and 'w'.</p>\n<p>How can I do this?</p>\n<p>I have tried the following:</p>\n<pre><code>GridComponent gridLambda = c -&gt; {\n    if (c == 'o') {\n        return new GridComponent() {\n            @Override\n            public String getEncoding() {\n                return &quot;o&quot;;\n            }\n        };\n    } else if (c == 'w') {\n        return new GridComponent() {\n            @Override\n            public String getEncoding() {\n                return &quot;w&quot;;\n            }\n        };\n    } else {\n        return null;\n    }\n};\n</code></pre>\n<p>But this code has errors:</p>\n<pre><code>operator &quot;==&quot; cannot be applied to &lt;lamba parameter&gt;, 'char'? \n</code></pre>\n"},{"tags":["java","methods","parameters","runtime-error"],"owner":{"account_id":11496511,"reputation":31,"user_id":8425678,"display_name":"Martyn Corsair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684142831,"creation_date":1684142831,"question_id":76252652,"body_markdown":"I&#39;m working on a minecraft plugin where I&#39;m using [CommandAPI][1] to add commands.\r\n\r\nI&#39;ve registered a command for opening a menu, and in order to open this menu, I am doing a call to my InterfaceManager class, which has an open() method that takes some parameters for which interface to open.\r\n\r\nHowever, when executing the command ingame, it appears to me as if the open() method is completely being ignored. By that I mean that the line InterfaceManager.open() might as well have been commented out, because that&#39;s how the code is being treated.\r\n\r\nThis is extremely confusing to me, as this is not at all behaviour that I am used to from Java. Which is why I would be extremely delighted if someone can explain to me what I&#39;m doing wrong.\r\n\r\nHere is how I have defined the code for executing the command:\r\n\r\n\t\texecutesPlayer((sender, args) -&gt; {\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] test123&quot;);\r\n\t\t\tMain.test();\r\n\t\t\tInterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\r\n\t\t});\r\n\t\t\r\nHere is the InterfaceManager.open() method:\r\n\r\n    \r\n\t\r\n\tpublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\r\n\t\tbuild(label, player, args, true);\r\n\t}\r\n\r\nThese are the results in the console after doing /menu:\r\n\r\n    [10:50:09] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [10:50:09] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [10:50:09] [Server thread/INFO]: [MenuCommand] test123\r\n    [10:50:09] [Server thread/INFO]: [Main] testing method call\r\n    [10:50:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThe test() method in the Main class is simply there to confirm that the code is capable of executing static methods defined in other classes.\r\n\r\nI would expect that, regardless of any errors that would exist at later points in the code, that it would at least print &quot;[InterfaceManager] test123&quot; and then the following line which shows the given parameters. But the whole method is skipped, as if it&#39;s simply not being called. I&#39;ve never seen this type of behaviour before, which is why I&#39;m very confused.\r\n\r\nActually, after a bit more testing, I made these changes:\r\n\r\n\tpublic static void test() {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] testing method call&quot;);\r\n\t}\r\n\t\r\n\tpublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\r\n\t\t//build(label, player, args, true);\r\n\t}\r\n\r\nBasically, moving the test() method from Main to InterfaceManager, just to check if it&#39;s possible to execute generic static methods from that class. Then I also commented out the build() method, just in case there are any errors there.\r\n\r\nThe resulting logs of this are:\r\n\r\n    [11:10:04] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [11:10:04] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [11:10:04] [Server thread/INFO]: [MenuCommand] test123\r\n    [11:10:04] [Server thread/INFO]: [InterfaceManager] testing method call\r\n    [11:10:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThe only conclusion I can draw from this is, I guess something is wrong with the parameters that are being passed to the open() method? Because that is basically the only difference at this point between test() and open(), other than that they are just both printing statements and nothing more. However, it&#39;s a shame it&#39;s not providing me with an error where I can actually find the details of what&#39;s going wrong.\r\n\r\nI checked this by adding another method:\r\n\r\n\t\r\n\tpublic static void opentest(Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + player);\r\n\t\t//build(label, player, args, true);\r\n\t}\r\n\r\nAnd calling it as such:\r\n\r\n    executesPlayer((sender, args) -&gt; {\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] test123&quot;);\r\n\t\t\tInterfaceManager.test();\r\n\t\t\tInterfaceManager.opentest(sender, &quot;test&quot;);\r\n\t\t\tInterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\r\n\t\t});\r\n\r\nNow I got these results:\r\n\r\n    [11:21:36] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [11:21:36] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [11:21:36] [Server thread/INFO]: [MenuCommand] test123\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] testing method call\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] test123\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] opening interface: CraftPlayer{name=Pizzanakin}\r\n    [11:21:41] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThat basically confirms my assumptions that it will have to do with how InterfaceLabel is set up. If anyone could give an insight as to what could be wrong with the class, that would be appreciated. Although I understand if that&#39;s difficult, because I haven&#39;t shared the class files. Considering this is quite a large project, and I doubt someone would actually spend the energy to go through all of my classes just to find the problem, I&#39;m just looking for a hunch to focus my attention to.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://commandapi.jorel.dev/","title":"Passing a faulty object as a parameter makes Java completely ignore method calls without an error statement. What can cause this?","body":"<p>I'm working on a minecraft plugin where I'm using <a href=\"https://commandapi.jorel.dev/\" rel=\"nofollow noreferrer\">CommandAPI</a> to add commands.</p>\n<p>I've registered a command for opening a menu, and in order to open this menu, I am doing a call to my InterfaceManager class, which has an open() method that takes some parameters for which interface to open.</p>\n<p>However, when executing the command ingame, it appears to me as if the open() method is completely being ignored. By that I mean that the line InterfaceManager.open() might as well have been commented out, because that's how the code is being treated.</p>\n<p>This is extremely confusing to me, as this is not at all behaviour that I am used to from Java. Which is why I would be extremely delighted if someone can explain to me what I'm doing wrong.</p>\n<p>Here is how I have defined the code for executing the command:</p>\n<pre><code>    executesPlayer((sender, args) -&gt; {\n        Main.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\n        Main.logger().info(&quot;[MenuCommand] test123&quot;);\n        Main.test();\n        InterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\n        Main.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\n    });\n    \n</code></pre>\n<p>Here is the InterfaceManager.open() method:</p>\n<pre><code>public static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\n    build(label, player, args, true);\n}\n</code></pre>\n<p>These are the results in the console after doing /menu:</p>\n<pre><code>[10:50:09] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[10:50:09] [Server thread/INFO]: [MenuCommand] player executes menu command\n[10:50:09] [Server thread/INFO]: [MenuCommand] test123\n[10:50:09] [Server thread/INFO]: [Main] testing method call\n[10:50:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>The test() method in the Main class is simply there to confirm that the code is capable of executing static methods defined in other classes.</p>\n<p>I would expect that, regardless of any errors that would exist at later points in the code, that it would at least print &quot;[InterfaceManager] test123&quot; and then the following line which shows the given parameters. But the whole method is skipped, as if it's simply not being called. I've never seen this type of behaviour before, which is why I'm very confused.</p>\n<p>Actually, after a bit more testing, I made these changes:</p>\n<pre><code>public static void test() {\n    Main.logger().info(&quot;[InterfaceManager] testing method call&quot;);\n}\n\npublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\n    //build(label, player, args, true);\n}\n</code></pre>\n<p>Basically, moving the test() method from Main to InterfaceManager, just to check if it's possible to execute generic static methods from that class. Then I also commented out the build() method, just in case there are any errors there.</p>\n<p>The resulting logs of this are:</p>\n<pre><code>[11:10:04] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[11:10:04] [Server thread/INFO]: [MenuCommand] player executes menu command\n[11:10:04] [Server thread/INFO]: [MenuCommand] test123\n[11:10:04] [Server thread/INFO]: [InterfaceManager] testing method call\n[11:10:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>The only conclusion I can draw from this is, I guess something is wrong with the parameters that are being passed to the open() method? Because that is basically the only difference at this point between test() and open(), other than that they are just both printing statements and nothing more. However, it's a shame it's not providing me with an error where I can actually find the details of what's going wrong.</p>\n<p>I checked this by adding another method:</p>\n<pre><code>public static void opentest(Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + player);\n    //build(label, player, args, true);\n}\n</code></pre>\n<p>And calling it as such:</p>\n<pre><code>executesPlayer((sender, args) -&gt; {\n        Main.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\n        Main.logger().info(&quot;[MenuCommand] test123&quot;);\n        InterfaceManager.test();\n        InterfaceManager.opentest(sender, &quot;test&quot;);\n        InterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\n        Main.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\n    });\n</code></pre>\n<p>Now I got these results:</p>\n<pre><code>[11:21:36] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[11:21:36] [Server thread/INFO]: [MenuCommand] player executes menu command\n[11:21:36] [Server thread/INFO]: [MenuCommand] test123\n[11:21:36] [Server thread/INFO]: [InterfaceManager] testing method call\n[11:21:36] [Server thread/INFO]: [InterfaceManager] test123\n[11:21:36] [Server thread/INFO]: [InterfaceManager] opening interface: CraftPlayer{name=Pizzanakin}\n[11:21:41] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>That basically confirms my assumptions that it will have to do with how InterfaceLabel is set up. If anyone could give an insight as to what could be wrong with the class, that would be appreciated. Although I understand if that's difficult, because I haven't shared the class files. Considering this is quite a large project, and I doubt someone would actually spend the energy to go through all of my classes just to find the problem, I'm just looking for a hunch to focus my attention to.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683903362,"creation_date":1683900460,"answer_id":76237131,"question_id":76236883,"body_markdown":"Both ways are equivalent in functionality wise and doing the same thing. The first way you used is the traditional way of configuring security. \r\n\r\nThe second way introduced in spring security 5. \r\n\r\nThe benefit of using the lambda function to make your code concise and easy to read. \r\n\r\nIn your code lines are may not appear to be significantly more concise than the first way. \r\n\r\nBut let&#39;s take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code\r\n\r\n\r\n    public class MinImp {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);\r\n    \r\n            //Traditional way to achieve it\r\n            for(int i=0; i&lt;integers.size();i++){\r\n                if(integers.get(i)&gt;10){\r\n                    System.out.println(&quot;Integer is: &quot;+integers.get(i));\r\n                }\r\n            }\r\n    \r\n            //Using Streams and lamba function, you can do it in one line of code.\r\n            integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList()).forEach(System.out::println);","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>Both ways are equivalent in functionality wise and doing the same thing. The first way you used is the traditional way of configuring security.</p>\n<p>The second way introduced in spring security 5.</p>\n<p>The benefit of using the lambda function to make your code concise and easy to read.</p>\n<p>In your code lines are may not appear to be significantly more concise than the first way.</p>\n<p>But let's take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code</p>\n<pre><code>public class MinImp {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);\n\n        //Traditional way to achieve it\n        for(int i=0; i&lt;integers.size();i++){\n            if(integers.get(i)&gt;10){\n                System.out.println(&quot;Integer is: &quot;+integers.get(i));\n            }\n        }\n\n        //Using Streams and lamba function, you can do it in one line of code.\n        integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList()).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684142751,"creation_date":1684142751,"answer_id":76252640,"question_id":76236883,"body_markdown":"The second way, according to this [article][1]:\r\n\r\n&gt; It is a new approach to configure web security in Spring projects using lambda expressions. One of the main benefits of it is to avoid chaining using the and() method. It also promotes cleaner coding style in my opinion.\r\nOf course, the chaining style is still valid and the use of lambda expressions is optional.\r\n\r\n\r\n  [1]: https://dev.to/noelopez/spring-security-lambda-dsl-1a4m#:~:text=It%20is%20a%20new%20approach,of%20lambda%20expresions%20is%20optional.","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>The second way, according to this <a href=\"https://dev.to/noelopez/spring-security-lambda-dsl-1a4m#:%7E:text=It%20is%20a%20new%20approach,of%20lambda%20expresions%20is%20optional.\" rel=\"nofollow noreferrer\">article</a>:</p>\n<blockquote>\n<p>It is a new approach to configure web security in Spring projects using lambda expressions. One of the main benefits of it is to avoid chaining using the and() method. It also promotes cleaner coding style in my opinion.\nOf course, the chaining style is still valid and the use of lambda expressions is optional.</p>\n</blockquote>\n"}],"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76252640,"answer_count":2,"score":1,"last_activity_date":1684142751,"creation_date":1683898677,"question_id":76236883,"body_markdown":"First way:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests()\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n \r\n    http.httpBasic();\r\n \r\n    http.csrf().disable();\r\n \r\n    return http.build();\r\n}\r\n```\r\n\r\nSecond way:\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests(configurer -&gt; \r\n            configurer.requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;));\r\n \r\n    http.httpBasic();\r\n \r\n    http.csrf().disable();\r\n \r\n    return http.build();\r\n}\r\n```\r\n\r\n\r\nI was trying to restrict access to Rest APIs based on Roles using Spring Security.\r\nI found there are two ways to do so. Both are working fine, but I want to know if there is a difference.\r\n","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>First way:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;);\n \n    http.httpBasic();\n \n    http.csrf().disable();\n \n    return http.build();\n}\n</code></pre>\n<p>Second way:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(configurer -&gt; \n            configurer.requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;));\n \n    http.httpBasic();\n \n    http.csrf().disable();\n \n    return http.build();\n}\n</code></pre>\n<p>I was trying to restrict access to Rest APIs based on Roles using Spring Security.\nI found there are two ways to do so. Both are working fine, but I want to know if there is a difference.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1510925374,"post_id":47351266,"comment_id":81655519,"body_markdown":"See https://stackoverflow.com/questions/34822029/apache-poi-3-13-offline-offset-elements-for-a-doc/34825848#34825848","body":"See <a href=\"https://stackoverflow.com/questions/34822029/apache-poi-3-13-offline-offset-elements-for-a-doc/34825848#34825848\" title=\"apache poi 3 13 offline offset elements for a doc\">stackoverflow.com/questions/34822029/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684142726,"creation_date":1511078752,"answer_id":47374834,"question_id":47351266,"body_markdown":"The [XWPFTableRow.setCantSplitRow](https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFTableRow.html#setCantSplitRow-boolean-) does only control whether the table row itself may be divided by a page break. \r\n\r\nBut what you wants is [Keep text together](https://support.office.com/en-us/article/Keep-text-together-af94e5b8-3a5a-4cb0-9c53-dea56b43d96d). So we need to use `CTPPrBase.addNewKeepNext`. If this is set `ON` or `true`, then this paragraph should not be divided from the next paragraph. Also we schould set `CTPPrBase.addNewKeepLines` to `ON` or `true`. This means: Don&#39;t split the paragraph itself.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    //import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff; // up to Apache POI 4\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class CreateWordTableKeepTogether {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      int numtables = 5;\r\n      int numrows;\r\n      Random random = new Random();\r\n      int numcols = 5;\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;The tables:&quot;);\r\n    \r\n      for (int t = 0; t &lt; numtables; t++) {\r\n    \r\n       numrows = random.nextInt(10) + 3;\r\n    \r\n       paragraph = document.createParagraph();\r\n       run = paragraph.createRun();\r\n       run.setText(&quot;Table &quot; + (t+1));\r\n    \r\n       //don&#39;t split the paragraph itself\r\n       //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\r\n       paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\r\n       //keep this paragraph together with the next paragraph\r\n       //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\r\n       paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\r\n    \r\n       XWPFTable table = document.createTable();\r\n    \r\n       for (int r = 0; r &lt; numrows; r++) {\r\n        XWPFTableRow row = table.getRow(r);\r\n        if (row == null) row = table.createRow();\r\n    \r\n        //don&#39;t divide this row\r\n        row.setCantSplitRow(true);\r\n    \r\n        for (int c = 0; c &lt; numcols; c++) {\r\n         XWPFTableCell cell = row.getCell(c);\r\n         if (cell == null) cell = row.createCell();\r\n         paragraph = cell.getParagraphArray(0);\r\n         if (paragraph == null) paragraph = cell.addParagraph();\r\n         run = paragraph.createRun();\r\n         run.setText(&quot;T&quot; + (t+1) + &quot;R&quot; + (r+1) + &quot;C&quot; + (c+1));\r\n    \r\n         if (c == 0) { //only necessary for column one, since further columns in this row are protected by setCantSplitRow\r\n          //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\r\n          //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\r\n          paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\r\n          paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\r\n         }\r\n    \r\n        }  \r\n       }\r\n    \r\n       //this is necessary, since it is the only paragraph which allows page breaks\r\n       paragraph = document.createParagraph();\r\n    \r\n      }\r\n      \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableKeepTogether.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }","title":"Avoid dynamic table rows with different number of rows to flow to different pages in an XWPFDocument(Apache POI)","body":"<p>The <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFTableRow.html#setCantSplitRow-boolean-\" rel=\"nofollow noreferrer\">XWPFTableRow.setCantSplitRow</a> does only control whether the table row itself may be divided by a page break.</p>\n<p>But what you wants is <a href=\"https://support.office.com/en-us/article/Keep-text-together-af94e5b8-3a5a-4cb0-9c53-dea56b43d96d\" rel=\"nofollow noreferrer\">Keep text together</a>. So we need to use <code>CTPPrBase.addNewKeepNext</code>. If this is set <code>ON</code> or <code>true</code>, then this paragraph should not be divided from the next paragraph. Also we schould set <code>CTPPrBase.addNewKeepLines</code> to <code>ON</code> or <code>true</code>. This means: Don't split the paragraph itself.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\n//import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff; // up to Apache POI 4\n\nimport java.util.Random;\n\npublic class CreateWordTableKeepTogether {\n\n public static void main(String[] args) throws Exception {\n\n  int numtables = 5;\n  int numrows;\n  Random random = new Random();\n  int numcols = 5;\n\n  XWPFDocument document = new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;The tables:&quot;);\n\n  for (int t = 0; t &lt; numtables; t++) {\n\n   numrows = random.nextInt(10) + 3;\n\n   paragraph = document.createParagraph();\n   run = paragraph.createRun();\n   run.setText(&quot;Table &quot; + (t+1));\n\n   //don't split the paragraph itself\n   //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\n   paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\n   //keep this paragraph together with the next paragraph\n   //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\n   paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\n\n   XWPFTable table = document.createTable();\n\n   for (int r = 0; r &lt; numrows; r++) {\n    XWPFTableRow row = table.getRow(r);\n    if (row == null) row = table.createRow();\n\n    //don't divide this row\n    row.setCantSplitRow(true);\n\n    for (int c = 0; c &lt; numcols; c++) {\n     XWPFTableCell cell = row.getCell(c);\n     if (cell == null) cell = row.createCell();\n     paragraph = cell.getParagraphArray(0);\n     if (paragraph == null) paragraph = cell.addParagraph();\n     run = paragraph.createRun();\n     run.setText(&quot;T&quot; + (t+1) + &quot;R&quot; + (r+1) + &quot;C&quot; + (c+1));\n\n     if (c == 0) { //only necessary for column one, since further columns in this row are protected by setCantSplitRow\n      //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\n      //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\n      paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\n      paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\n     }\n\n    }  \n   }\n\n   //this is necessary, since it is the only paragraph which allows page breaks\n   paragraph = document.createParagraph();\n\n  }\n  \n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableKeepTogether.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":4671410,"reputation":49,"user_id":3783115,"display_name":"Preetam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47374834,"answer_count":1,"score":2,"last_activity_date":1684142726,"creation_date":1510923660,"question_id":47351266,"body_markdown":"I have created a code to create a word document on the fly using Apache POI API.\r\nThe document is expected to have some tables with varying number of rows(number of columns are fixed).\r\nCurrently I have placed each table onto different pages.\r\nI need to know or is there any way to start placing tables one below another, if a page break is found, shift that table on next page and then subsequent table continues below?\r\nI tried the below(where document is XWPFDocument), but it didn&#39;t worked\r\n\r\n    XWPFTable table1 = document.createTable();\r\n    XWPFTableRow tableRow1 = table1.createRow();\r\n    tableRow1.setCantSplitRow(true);","title":"Avoid dynamic table rows with different number of rows to flow to different pages in an XWPFDocument(Apache POI)","body":"<p>I have created a code to create a word document on the fly using Apache POI API.\nThe document is expected to have some tables with varying number of rows(number of columns are fixed).\nCurrently I have placed each table onto different pages.\nI need to know or is there any way to start placing tables one below another, if a page break is found, shift that table on next page and then subsequent table continues below?\nI tried the below(where document is XWPFDocument), but it didn't worked</p>\n\n<pre><code>XWPFTable table1 = document.createTable();\nXWPFTableRow tableRow1 = table1.createRow();\ntableRow1.setCantSplitRow(true);\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","flutter-dependencies"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684181072,"post_id":76252474,"comment_id":134477039,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684142446,"creation_date":1684142446,"answer_id":76252591,"question_id":76252474,"body_markdown":"Try This one,\r\n\r\n    implementation (&#39;com.journeyapps:zxing-android-embedded:3.6.0&#39;) { transitive false }\r\n\r\n","title":"Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0(core-3.1.0.jar)and jetified-core-3.5.0(com.google.zxing:core:3.5.0","body":"<p>Try This one,</p>\n<pre><code>implementation ('com.journeyapps:zxing-android-embedded:3.6.0') { transitive false }\n</code></pre>\n"}],"owner":{"account_id":21228313,"reputation":1,"user_id":15613551,"display_name":"JULIUS BANDA M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684142446,"creation_date":1684141549,"question_id":76252474,"body_markdown":"my dependencies in app/app/build.gradle\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.aar&#39;, &#39;*.jar&#39;])\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0@aar&#39;\r\n    implementation &#39;com.google.zxing:core:3.5.1&#39;\r\n}\r\n\r\nafter add implementation &#39;com.google.zxing:core:3.5.1&#39; to app/build.gradle, when i try to build i get the error below\r\n\r\n\r\nBuild failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDevelopmentDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.BinaryBitmap found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n Duplicate class com.google.zxing.ChecksumException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.DecodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Dimension found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.EncodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.FormatException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.InvertedLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.LuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.MultiFormatReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.MultiFormatWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.NotFoundException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.PlanarYUVLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.RGBLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.Reader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ReaderException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Result found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.ResultMetadataType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ResultPoint found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ResultPointCallback found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Writer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.WriterException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.aztec.AztecDetectorResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.AztecReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.AztecWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.decoder.Decoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.decoder.Decoder$Table found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.detector.Detector found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.detector.Detector$Point found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.AztecCode found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.BinaryShiftToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.Encoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.HighLevelEncoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.HighLevelEncoder$1 found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.SimpleToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.State found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.Token found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AbstractDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookAUResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.BizcardResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.BookmarkDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.CalendarParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailAddressParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailAddressResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ExpandedProductParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ExpandedProductResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.GeoParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.GeoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ISBNParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ISBNResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n\r\n\r\n\r\n\r\n\r\ndeleted .gradle\r\nupdated gradle\r\nflutter clean\r\nflutter pub cache repair\r\nflutter upgrade\r\nflutter pub get\r\n./gradlew clean                                                               ","title":"Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0(core-3.1.0.jar)and jetified-core-3.5.0(com.google.zxing:core:3.5.0","body":"<p>my dependencies in app/app/build.gradle</p>\n<p>dependencies {\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;</p>\n<pre><code>def multidex_version = &quot;2.0.1&quot;\nimplementation fileTree(dir: 'libs', include: ['*.aar', '*.jar'])\ncoreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\nimplementation &quot;androidx.multidex:multidex:$multidex_version&quot;\nimplementation 'com.journeyapps:zxing-android-embedded:4.3.0@aar'\nimplementation 'com.google.zxing:core:3.5.1'\n</code></pre>\n<p>}</p>\n<p>after add implementation 'com.google.zxing:core:3.5.1' to app/build.gradle, when i try to build i get the error below</p>\n<p>Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDevelopmentDebugDuplicateClasses'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Binarizer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.BinaryBitmap found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ChecksumException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.DecodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Dimension found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.EncodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.FormatException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.InvertedLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.LuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.MultiFormatReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.MultiFormatWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.NotFoundException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.PlanarYUVLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.RGBLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Reader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ReaderException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Result found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultMetadataType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultPoint found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultPointCallback found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Writer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.WriterException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecDetectorResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.decoder.Decoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.decoder.Decoder$Table found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.detector.Detector found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.detector.Detector$Point found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.AztecCode found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.BinaryShiftToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.Encoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.HighLevelEncoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.HighLevelEncoder$1 found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.SimpleToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.State found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.Token found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AbstractDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookAUResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.BizcardResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.BookmarkDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.CalendarParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailAddressParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailAddressResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ExpandedProductParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ExpandedProductResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.GeoParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.GeoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ISBNParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ISBNResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)</p>\n</blockquote>\n<p>deleted .gradle\nupdated gradle\nflutter clean\nflutter pub cache repair\nflutter upgrade\nflutter pub get\n./gradlew clean</p>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1684139750,"post_id":76251646,"comment_id":134467563,"body_markdown":"You tag your question with #restassured but you do not have any restassured code in your example. Only some custom `restUtils` which can also have issues with implementation. Also why you convert your object to `String`? you can post POJOs with RA straight away.","body":"You tag your question with #restassured but you do not have any restassured code in your example. Only some custom <code>restUtils</code> which can also have issues with implementation. Also why you convert your object to <code>String</code>? you can post POJOs with RA straight away."}],"owner":{"account_id":27098413,"reputation":21,"user_id":20645326,"display_name":"Deviprasath A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684141962,"creation_date":1684134618,"question_id":76251646,"body_markdown":"```java\r\npublic void SetThePlan(Map&lt;String, String&gt; testData, long numbers, String timeStamp) \r\n{\r\n    String payLoad = this.gson.toJson(new BillingPOJO().setPlan(testData, numbers, timeStamp));\r\n    Response response = this.restUtils.post(payLoad,testData.get(&quot;api_url&quot;));\r\n\r\n    int statusCode = response.getStatusCode();\r\n    Assert.assertEquals(statusCode,200);\r\n\r\n    String responseBody = response.getBody().asString();\r\n    System.out.println(responseBody);\r\n}\r\n```\r\n\r\nThis is the code I&#39;m using to setThePlan on api.  \r\n\r\nBut, after recieving the response, the status code is 200, but it is not showing the appropriate response body.  Instead, it is showing this response body.\r\n```json\r\n{\r\n    &quot;status&quot;: &quot;failed&quot;,\r\n    &quot;message&quot;: &quot;{&#39;_schema&#39;: [&#39;Invalid input type.&#39;]}&quot;\r\n}\r\n```\r\nI&#39;ve checked every payload values, it is ok.  It is hitting the api and getting the success message on the postman when done manually.  but it is not happening on the intelliJ.  why?\r\n\r\nI&#39;ve tried, computed diff to check whether the postman payload and the actual payload of my automation is similar.  yes it is simialr.","title":"API Testing, &quot;message&quot;: &quot;{&#39;_schema&#39;: [&#39;Invalid input type.&#39;]}&quot;","body":"<pre class=\"lang-java prettyprint-override\"><code>public void SetThePlan(Map&lt;String, String&gt; testData, long numbers, String timeStamp) \n{\n    String payLoad = this.gson.toJson(new BillingPOJO().setPlan(testData, numbers, timeStamp));\n    Response response = this.restUtils.post(payLoad,testData.get(&quot;api_url&quot;));\n\n    int statusCode = response.getStatusCode();\n    Assert.assertEquals(statusCode,200);\n\n    String responseBody = response.getBody().asString();\n    System.out.println(responseBody);\n}\n</code></pre>\n<p>This is the code I'm using to setThePlan on api.</p>\n<p>But, after recieving the response, the status code is 200, but it is not showing the appropriate response body.  Instead, it is showing this response body.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;failed&quot;,\n    &quot;message&quot;: &quot;{'_schema': ['Invalid input type.']}&quot;\n}\n</code></pre>\n<p>I've checked every payload values, it is ok.  It is hitting the api and getting the success message on the postman when done manually.  but it is not happening on the intelliJ.  why?</p>\n<p>I've tried, computed diff to check whether the postman payload and the actual payload of my automation is similar.  yes it is simialr.</p>\n"},{"tags":["java","file","networking","file-exists"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1683880412,"post_id":76234436,"comment_id":134437266,"body_markdown":"I suppose you have already veryfied that the user running the java code can access the file? I.e. have you tested with the same credentials on all machines? All in all, this sounds more like a OS/Networking configuration issue than a programming issue.","body":"I suppose you have already veryfied that the user running the java code can access the file? I.e. have you tested with the same credentials on all machines? All in all, this sounds more like a OS/Networking configuration issue than a programming issue."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1683884706,"post_id":76234436,"comment_id":134438196,"body_markdown":"You are calling an old API, for some operations Files gives more details. If you believe the path really should exist try `Files.readAttributes(file.toPath(), BasicFileAttributes.class)` which might report an exception which shows details of an underlying issue rather than true/false.","body":"You are calling an old API, for some operations Files gives more details. If you believe the path really should exist try <code>Files.readAttributes(file.toPath(), BasicFileAttributes.class)</code> which might report an exception which shows details of an underlying issue rather than true/false."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1683885980,"post_id":76234436,"comment_id":134438480,"body_markdown":"Also check if you are running the exact same version of Java on all the machines on which you run your code.","body":"Also check if you are running the exact same version of Java on all the machines on which you run your code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683895044,"post_id":76234436,"comment_id":134440535,"body_markdown":"The File class should be avoided as much as possible.  Use [Path](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html) and [Files](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html) instead.  They are more likely to be accurate and they will generate more informative exceptions.","body":"The File class should be avoided as much as possible.  Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> instead.  They are more likely to be accurate and they will generate more informative exceptions."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141716,"post_id":76234436,"comment_id":134467958,"body_markdown":"@Hulk, yes, I think the same thing too, but I need to figure out what exactly the root cause is :|","body":"@Hulk, yes, I think the same thing too, but I need to figure out what exactly the root cause is :|"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141743,"post_id":76234436,"comment_id":134467966,"body_markdown":"@DuncG, please check my UPDATE section above","body":"@DuncG, please check my UPDATE section above"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141787,"post_id":76234436,"comment_id":134467979,"body_markdown":"@ThomasBehr, yes, I use the same install standalone JDK 1.8 to set up for those machines.","body":"@ThomasBehr, yes, I use the same install standalone JDK 1.8 to set up for those machines."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141885,"post_id":76234436,"comment_id":134468002,"body_markdown":"@VGR, please check my UPDATE section above.","body":"@VGR, please check my UPDATE section above."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684150583,"post_id":76234436,"comment_id":134469867,"body_markdown":"If the same code works from the command line, but not in a server process, I am inclined to believe user permissions are the culprit.  Do you know if the server process is running as the same user whom you used to open the command window?","body":"If the same code works from the command line, but not in a server process, I am inclined to believe user permissions are the culprit.  Do you know if the server process is running as the same user whom you used to open the command window?"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684207515,"post_id":76234436,"comment_id":134480038,"body_markdown":"@VGR, they are using the same user login Administrator.","body":"@VGR, they are using the same user login Administrator."}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684141537,"creation_date":1683879885,"question_id":76234436,"body_markdown":"On my Windows Server (2012 R2), I added a shared folder from another server to a Mapped Network Drive (X:) as in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen, I have this snipper code to get files from a specified directory. \r\n\r\n\r\n    public void getFiles(String fileLocation) throws Exception {\r\n        File file = new File(fileLocation);\r\n        if (file.exists()) {\r\n            if (file.isDirectory()) {                \r\n                //get files from dir\r\n            } else {\r\n                //get file\r\n            }\r\n        } else {\r\n            logger.info(&quot;Not found directory: &quot; + fileLocation);\r\n        }\r\n    }\r\n\r\n\r\nNow, the weird issue is, on this Windows Server (2012 R2), when I pass `X:\\` as the input parameter for the `getFiles()` method, `file.exist()` is then always **false**.\r\n\r\nHowever, If I run the same snipper code with the same input value on other servers (test on another Windows Server 2012 R2, or Windows 10 Pro - my PC), it returns **true** as I expected.\r\n\r\nAll those machines are joined to the same domain, and of course, they add the same shared resource to the same Map Network Drive (X:)\r\n\r\nDoes anyone know what could expose this issue?\r\n\r\n**UPDATE**\r\n\r\nI changed the code to use JAVA 8 API `Files`, but still got the same issue on that Windows 2012 R2 server.\r\n\r\nHere is the code running on the server.\r\n\r\n    public void upload(String fileLocation) throws Exception {\r\n        Path filePath = Paths.get(fileLocation);\r\n        if (Files.exists(filePath)) {\r\n            if (Files.isDirectory(filePath)) {\r\n                //get and process multiple files\r\n    \r\n            } else {\r\n                //process a single file\r\n            }\r\n        } else {\r\n            logger.info(&quot;Not found directory &#39;&quot; + fileLocation + &quot;&#39;. Skip uploading files!&quot;);\r\n        }\r\n    }\r\n\r\nDebug log of the `upload()` method\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThen, I create a sample console app to test the same logic code on the same server, and it works normally.\r\nThe sample console code.\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String fileLocation = &quot;Y:\\\\&quot;;\r\n    \r\n            try {\r\n                File file = new File(fileLocation);\r\n                Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n    \r\n                if (Files.exists(Paths.get(fileLocation))) {\r\n                    System.out.println(&quot;Found: &quot; + fileLocation);\r\n    \r\n                    if (Files.isDirectory(Paths.get(fileLocation))) {\r\n                        System.out.println(fileLocation + &quot; is a directory&quot;);\r\n                    } else {\r\n                        System.out.println(fileLocation + &quot; is a file&quot;);\r\n                    }\r\n    \r\n                } else {\r\n                    System.out.println(&quot;Not Found: &quot; + fileLocation);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error while checking file location: &quot; + fileLocation);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Wc2W.png\r\n  [2]: https://i.stack.imgur.com/479kc.png\r\n  [3]: https://i.stack.imgur.com/IO5QE.png","title":"File.exists() always returns false when using Map Network Drive for a shared folder","body":"<p>On my Windows Server (2012 R2), I added a shared folder from another server to a Mapped Network Drive (X:) as in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/4Wc2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wc2W.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, I have this snipper code to get files from a specified directory.</p>\n<pre><code>public void getFiles(String fileLocation) throws Exception {\n    File file = new File(fileLocation);\n    if (file.exists()) {\n        if (file.isDirectory()) {                \n            //get files from dir\n        } else {\n            //get file\n        }\n    } else {\n        logger.info(&quot;Not found directory: &quot; + fileLocation);\n    }\n}\n</code></pre>\n<p>Now, the weird issue is, on this Windows Server (2012 R2), when I pass <code>X:\\</code> as the input parameter for the <code>getFiles()</code> method, <code>file.exist()</code> is then always <strong>false</strong>.</p>\n<p>However, If I run the same snipper code with the same input value on other servers (test on another Windows Server 2012 R2, or Windows 10 Pro - my PC), it returns <strong>true</strong> as I expected.</p>\n<p>All those machines are joined to the same domain, and of course, they add the same shared resource to the same Map Network Drive (X:)</p>\n<p>Does anyone know what could expose this issue?</p>\n<p><strong>UPDATE</strong></p>\n<p>I changed the code to use JAVA 8 API <code>Files</code>, but still got the same issue on that Windows 2012 R2 server.</p>\n<p>Here is the code running on the server.</p>\n<pre><code>public void upload(String fileLocation) throws Exception {\n    Path filePath = Paths.get(fileLocation);\n    if (Files.exists(filePath)) {\n        if (Files.isDirectory(filePath)) {\n            //get and process multiple files\n\n        } else {\n            //process a single file\n        }\n    } else {\n        logger.info(&quot;Not found directory '&quot; + fileLocation + &quot;'. Skip uploading files!&quot;);\n    }\n}\n</code></pre>\n<p>Debug log of the <code>upload()</code> method</p>\n<p><a href=\"https://i.stack.imgur.com/479kc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/479kc.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, I create a sample console app to test the same logic code on the same server, and it works normally.\nThe sample console code.</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class Main {\n    public static void main(String[] args) {\n        String fileLocation = &quot;Y:\\\\&quot;;\n\n        try {\n            File file = new File(fileLocation);\n            Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n\n            if (Files.exists(Paths.get(fileLocation))) {\n                System.out.println(&quot;Found: &quot; + fileLocation);\n\n                if (Files.isDirectory(Paths.get(fileLocation))) {\n                    System.out.println(fileLocation + &quot; is a directory&quot;);\n                } else {\n                    System.out.println(fileLocation + &quot; is a file&quot;);\n                }\n\n            } else {\n                System.out.println(&quot;Not Found: &quot; + fileLocation);\n            }\n\n        } catch (Exception e) {\n            System.out.println(&quot;Error while checking file location: &quot; + fileLocation);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IO5QE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IO5QE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1314548670,"post_id":7221028,"comment_id":8681401,"body_markdown":"You have over 100 questions without an accepted answer.  Perhaps you could ask more questions which can be answered or follow up answers so they can be accepted.","body":"You have over 100 questions without an accepted answer.  Perhaps you could ask more questions which can be answered or follow up answers so they can be accepted."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684142817,"post_id":7221028,"comment_id":134468218,"body_markdown":"Java compiler options are irrelevant to &#39;any Java process&#39;. They are only relevant to Java *compiler* processes. Please fix your title, or make up your mind.","body":"Java compiler options are irrelevant to &#39;any Java process&#39;. They are only relevant to Java <i>compiler</i> processes. Please fix your title, or make up your mind."}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1314549461,"creation_date":1314549461,"answer_id":7222257,"question_id":7221028,"body_markdown":"You can try using the [`_JAVA_OPTIONS`][1] environment variable.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/javaexe.html#JAVAOPTIONS","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>You can try using the <a href=\"http://mindprod.com/jgloss/javaexe.html#JAVAOPTIONS\" rel=\"nofollow\"><code>_JAVA_OPTIONS</code></a> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684141470,"creation_date":1684141470,"answer_id":76252458,"question_id":7221028,"body_markdown":"You can use PrintFlagsFinal to get all runtime VM options\r\nexample `java -XX:+PrintFlagsFinal -version | grep &quot;Flag you want to search for&quot;` ","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>You can use PrintFlagsFinal to get all runtime VM options\nexample <code>java -XX:+PrintFlagsFinal -version | grep &quot;Flag you want to search for&quot;</code></p>\n"}],"owner":{"account_id":29567,"reputation":59708,"user_id":80002,"accept_rate":64,"display_name":"mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":7222257,"answer_count":2,"score":0,"last_activity_date":1684141470,"creation_date":1314535198,"question_id":7221028,"body_markdown":"Following http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7 I wish to set the `-XX:-UseLoopPredicate` JVM option globally, so that it is seen by all the java processes running on my machine.\r\n\r\nHow do I do it?\r\n\r\nThanks.\r\n","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>Following <a href=\"http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7\" rel=\"nofollow\">http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7</a> I wish to set the <code>-XX:-UseLoopPredicate</code> JVM option globally, so that it is seen by all the java processes running on my machine.</p>\n\n<p>How do I do it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1684141511,"post_id":76252399,"comment_id":134467909,"body_markdown":"Is this a Maven plugin? If not, why do you need the local repository?","body":"Is this a Maven plugin? If not, why do you need the local repository?"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684141724,"post_id":76252399,"comment_id":134467961,"body_markdown":"We have a helper program which deploys jars once it is built into foundry Palantir. I havent written it, so done know the full details, but that is the general idea. I can do some tweaks, but wont be able to re-engineer the existing solution unfortunately.","body":"We have a helper program which deploys jars once it is built into foundry Palantir. I havent written it, so done know the full details, but that is the general idea. I can do some tweaks, but wont be able to re-engineer the existing solution unfortunately."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684140976,"creation_date":1684140976,"question_id":76252399,"body_markdown":"I have used [this][1] solution to get the local repository path in my java code and everything was working fine until my employer added &quot;JAVA_TOOL_OPTIONS&quot; to the system environment variables (in windows). Now my output looks something like \r\n\r\n    Picked up JAVA_TOOL_OPTIONS:\r\n    c:\\users\\me\\.m2\\repository\r\n\r\nGiven that I cant unset this environment variable (i tried to put a single space in user environment variables but from my java code it just re instates the environment variable each time the process is re-run) is there any option to mute this?\r\n\r\nBelow is the command i used in my java code\r\n\r\n    mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout\r\n\r\n[I know][2] from my code i can trim out everything from &quot;Picked up&quot; to new line. But is there a better way?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5916157/how-to-get-the-maven-local-repo-location\r\n  [2]: https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message\r\n","title":"How to get maven local repository location from java code","body":"<p>I have used <a href=\"https://stackoverflow.com/questions/5916157/how-to-get-the-maven-local-repo-location\">this</a> solution to get the local repository path in my java code and everything was working fine until my employer added &quot;JAVA_TOOL_OPTIONS&quot; to the system environment variables (in windows). Now my output looks something like</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS:\nc:\\users\\me\\.m2\\repository\n</code></pre>\n<p>Given that I cant unset this environment variable (i tried to put a single space in user environment variables but from my java code it just re instates the environment variable each time the process is re-run) is there any option to mute this?</p>\n<p>Below is the command i used in my java code</p>\n<pre><code>mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout\n</code></pre>\n<p><a href=\"https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message\">I know</a> from my code i can trim out everything from &quot;Picked up&quot; to new line. But is there a better way?</p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682446047,"post_id":76103897,"comment_id":134216090,"body_markdown":"How much time did you run it? Are log entries being generated?","body":"How much time did you run it? Are log entries being generated?"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1682485057,"post_id":76103897,"comment_id":134221459,"body_markdown":"@aled Yes, the log entries are generated correctly, and the service is running more than 2 weeks.","body":"@aled Yes, the log entries are generated correctly, and the service is running more than 2 weeks."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684140974,"creation_date":1684140974,"answer_id":76252398,"question_id":76103897,"body_markdown":"Shame on me! As so often, the problem often lies between the ears.\r\nIn my project, I moved the log files to another directory. I changed the file tag of the appender but not the fileNamePattern of the rolling policy.\r\n\r\nTo avoid such mistakes, I suggest to work consistently with variables! Example:\r\n\r\n\t&lt;property name=&quot;log_path&quot; value=&quot;/var/log/app-name&quot;/&gt;\r\n    &lt;property name=&quot;log_name&quot; value=&quot;myLog&quot;/&gt;\r\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;property name=&quot;app_log&quot; value=&quot;${log_path}/${log_name}&quot;/&gt;\r\n\t\t&lt;file&gt;${app_log}.log&lt;/file&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;pattern&gt;%d [%t] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;fileNamePattern&gt;${app_log}.%d{yyyy-MM}.log.gz&lt;/fileNamePattern&gt;\r\n\t\t\t&lt;maxHistory&gt;12&lt;/maxHistory&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t&lt;/appender&gt;\r\n","title":"logback: Correct file name pattern for weekly rolling","body":"<p>Shame on me! As so often, the problem often lies between the ears.\nIn my project, I moved the log files to another directory. I changed the file tag of the appender but not the fileNamePattern of the rolling policy.</p>\n<p>To avoid such mistakes, I suggest to work consistently with variables! Example:</p>\n<pre><code>&lt;property name=&quot;log_path&quot; value=&quot;/var/log/app-name&quot;/&gt;\n&lt;property name=&quot;log_name&quot; value=&quot;myLog&quot;/&gt;\n&lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;property name=&quot;app_log&quot; value=&quot;${log_path}/${log_name}&quot;/&gt;\n    &lt;file&gt;${app_log}.log&lt;/file&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d [%t] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;${app_log}.%d{yyyy-MM}.log.gz&lt;/fileNamePattern&gt;\n        &lt;maxHistory&gt;12&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76252398,"answer_count":1,"score":0,"last_activity_date":1684140974,"creation_date":1682443616,"question_id":76103897,"body_markdown":"I&#39;ve tried the following rollingPolicy, but the log file didn&#39;t roll:\r\n\r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;fileNamePattern&gt;log-%d{yyyy-ww}.log.gz&lt;/fileNamePattern&gt;\r\n          &lt;maxHistory&gt;26&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\nThe ```fileNamePattern``` correspondes to the file definition of the appender.\r\n\r\nIs my file name pattern wrong?","title":"logback: Correct file name pattern for weekly rolling","body":"<p>I've tried the following rollingPolicy, but the log file didn't roll:</p>\n<pre><code>    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;log-%d{yyyy-ww}.log.gz&lt;/fileNamePattern&gt;\n      &lt;maxHistory&gt;26&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n</code></pre>\n<p>The <code>fileNamePattern</code> correspondes to the file definition of the appender.</p>\n<p>Is my file name pattern wrong?</p>\n"},{"tags":["java","android"],"owner":{"account_id":25958395,"reputation":27,"user_id":19675414,"display_name":"Wonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684140408,"creation_date":1684140210,"question_id":76252301,"body_markdown":"I&#39;m creating a small app using Java in Android Studio.\r\n\r\nI have a `edittext` which is for the url input and there&#39;s an Intent, and it&#39;s the only intent of the whole app, for it to pass the url to the next activity. But I can&#39;t get the text input. Once I click on the `edittext`, I got this error:\r\n\r\n\r\n```none\r\n!!! FAILED BINDER TRANSACTION !!!  (parcel size = 112)\r\n2023-05-15 18:36:49.421 25271-25271 InputMetho...ionWrapper com.example.itube                    W  IME died\r\n\r\nandroid.os.DeadObjectException: Transaction failed on small parcel; remote process probably died\r\n\tat android.os.BinderProxy.transactNative(Native Method)\r\n\tat android.os.BinderProxy.transact(BinderProxy.java:571)\r\n\tat com.android.internal.view.IInputMethodSession$Stub$Proxy.viewClicked(IInputMethodSession.java:341)\r\n\tat android.view.inputmethod.InputMethodSessionWrapper.viewClicked(InputMethodSessionWrapper.java:119)\r\n\tat android.view.inputmethod.InputMethodManager.viewClicked(InputMethodManager.java:2284)\r\n\tat android.widget.TextView.viewClicked(TextView.java:13303)\r\n\tat android.widget.TextView.onTouchEvent(TextView.java:11212)\r\n\tat android.view.View.dispatchTouchEvent(View.java:14540)\r\n```\r\n\r\nThis is the code:\r\n\r\n```\r\n//       get video url\r\n        if (binding.url.getText() != null) {\r\n            videoUrl = binding.url.getText().toString();\r\n        }\r\n\r\n//        play button\r\n        binding.playBtn.setOnClickListener(view -&gt; {\r\n            Log.v(&quot;url pre&quot;, videoUrl);\r\n//            Intent toPlay = new Intent(getApplicationContext(), PlayActivity.class);\r\n//            toPlay.putExtra(&quot;url&quot;,  videoUrl);\r\n//            startActivity(toPlay);\r\n        });\r\n```\r\n\r\nI can&#39;t get the result of `Log.v()` either.","title":"How to solve &quot; !!! FAILED BINDER TRANSACTION !!! (parcel size = 112)&quot; problem?","body":"<p>I'm creating a small app using Java in Android Studio.</p>\n<p>I have a <code>edittext</code> which is for the url input and there's an Intent, and it's the only intent of the whole app, for it to pass the url to the next activity. But I can't get the text input. Once I click on the <code>edittext</code>, I got this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>!!! FAILED BINDER TRANSACTION !!!  (parcel size = 112)\n2023-05-15 18:36:49.421 25271-25271 InputMetho...ionWrapper com.example.itube                    W  IME died\n\nandroid.os.DeadObjectException: Transaction failed on small parcel; remote process probably died\n    at android.os.BinderProxy.transactNative(Native Method)\n    at android.os.BinderProxy.transact(BinderProxy.java:571)\n    at com.android.internal.view.IInputMethodSession$Stub$Proxy.viewClicked(IInputMethodSession.java:341)\n    at android.view.inputmethod.InputMethodSessionWrapper.viewClicked(InputMethodSessionWrapper.java:119)\n    at android.view.inputmethod.InputMethodManager.viewClicked(InputMethodManager.java:2284)\n    at android.widget.TextView.viewClicked(TextView.java:13303)\n    at android.widget.TextView.onTouchEvent(TextView.java:11212)\n    at android.view.View.dispatchTouchEvent(View.java:14540)\n</code></pre>\n<p>This is the code:</p>\n<pre><code>//       get video url\n        if (binding.url.getText() != null) {\n            videoUrl = binding.url.getText().toString();\n        }\n\n//        play button\n        binding.playBtn.setOnClickListener(view -&gt; {\n            Log.v(&quot;url pre&quot;, videoUrl);\n//            Intent toPlay = new Intent(getApplicationContext(), PlayActivity.class);\n//            toPlay.putExtra(&quot;url&quot;,  videoUrl);\n//            startActivity(toPlay);\n        });\n</code></pre>\n<p>I can't get the result of <code>Log.v()</code> either.</p>\n"},{"tags":["java","maven","selenium4"],"answers":[{"tags":[],"owner":{"account_id":19556316,"reputation":93,"user_id":14310603,"display_name":"Eugen FLOCEA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684140019,"creation_date":1684140019,"answer_id":76252275,"question_id":76210121,"body_markdown":"Actually the problem was about the zoom of the element and this is a known problem, that if the zoom is different than 100%, the method `moveToElement` might not work as expected. More details [here][1]\r\n\r\n\r\n  [1]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=628","title":"No hover performed after upgrade to Selenium 4.8.3","body":"<p>Actually the problem was about the zoom of the element and this is a known problem, that if the zoom is different than 100%, the method <code>moveToElement</code> might not work as expected. More details <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=628\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19556316,"reputation":93,"user_id":14310603,"display_name":"Eugen FLOCEA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684140019,"creation_date":1683640557,"question_id":76210121,"body_markdown":"After upgrade of Selenium from 3 to 4, the hover is not anymore performed in the following method: \r\n\r\n```\r\npublic void mouseMoveToRightEdge(Element element) {\r\n        executeAction(element, new EventType(EventType.Message.ACTION_HOVER), (by, failedEx) -&gt; {\r\n            WebElement webElement = driverServices.getDriver().findElement(by);\r\n            Dimension d = webElement.getSize();\r\n\r\n            int xOffset = d.width - 2; //Works on remote running (maven/selenoid) only when reducing 2 pixels\r\n            int yOffset = d.height / 2;\r\n\r\n            org.openqa.selenium.interactions.Actions builder = new org.openqa.selenium.interactions.Actions(driverServices.getDriver());\r\n            org.openqa.selenium.interactions.Actions hoverOverRightEdge = builder.moveToElement(webElement, xOffset, yOffset);\r\n            hoverOverRightEdge.perform();\r\n            return true;\r\n        });\r\n    }\r\n```\r\nIs there any better way in Selenium 4 to perform the hover to certain offsets? Are the offsets seen different in Selenium 4?\r\n\r\nI tried to change the offsets to other values from the element and it didn&#39;t work. I tried to use clickAndHold method insetead moveToElement and it wasn&#39;t working either.","title":"No hover performed after upgrade to Selenium 4.8.3","body":"<p>After upgrade of Selenium from 3 to 4, the hover is not anymore performed in the following method:</p>\n<pre><code>public void mouseMoveToRightEdge(Element element) {\n        executeAction(element, new EventType(EventType.Message.ACTION_HOVER), (by, failedEx) -&gt; {\n            WebElement webElement = driverServices.getDriver().findElement(by);\n            Dimension d = webElement.getSize();\n\n            int xOffset = d.width - 2; //Works on remote running (maven/selenoid) only when reducing 2 pixels\n            int yOffset = d.height / 2;\n\n            org.openqa.selenium.interactions.Actions builder = new org.openqa.selenium.interactions.Actions(driverServices.getDriver());\n            org.openqa.selenium.interactions.Actions hoverOverRightEdge = builder.moveToElement(webElement, xOffset, yOffset);\n            hoverOverRightEdge.perform();\n            return true;\n        });\n    }\n</code></pre>\n<p>Is there any better way in Selenium 4 to perform the hover to certain offsets? Are the offsets seen different in Selenium 4?</p>\n<p>I tried to change the offsets to other values from the element and it didn't work. I tried to use clickAndHold method insetead moveToElement and it wasn't working either.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":346515,"reputation":398,"user_id":680091,"accept_rate":0,"display_name":"pseudozach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642720295,"creation_date":1642720295,"answer_id":70794537,"question_id":69877752,"body_markdown":"it&#39;s answered here:\r\nhttps://stackoverflow.com/a/61402339/680091\r\n\r\nLooks like you need to separately handle these types of links because webview does not know how to handle them.","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>it's answered here:\n<a href=\"https://stackoverflow.com/a/61402339/680091\">https://stackoverflow.com/a/61402339/680091</a></p>\n<p>Looks like you need to separately handle these types of links because webview does not know how to handle them.</p>\n"},{"tags":[],"owner":{"account_id":14895235,"reputation":1,"user_id":21893107,"display_name":"Anishk Kumar Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684139975,"creation_date":1684135086,"answer_id":76251699,"question_id":69877752,"body_markdown":"Add this code under shouldovrrideurlLoading in webviewclient Must install telegram before running this code\r\n\r\n\r\n\r\n                if (url.startsWith(&quot;tg:&quot;)) {\r\n           \r\n                    Intent telegramIntent = new Intent(Intent.ACTION_VIEW,Uri.parse(url));\r\n                    telegramIntent.setPackage(&quot;org.telegram.messenger&quot;);\r\n\r\n                    try {\r\n                        startActivity(telegramIntent);\r\n                        return true;\r\n\r\n                    } catch (ActivityNotFoundException e) {\r\n\r\n                        // Telegram app not installed, open in browser\r\n\r\n                        webView.loadUrl(&quot;https://telegram.org/&quot;);\r\n\r\n                        return true;\r\n                    }\r\n                }","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>Add this code under shouldovrrideurlLoading in webviewclient Must install telegram before running this code</p>\n<pre><code>            if (url.startsWith(&quot;tg:&quot;)) {\n       \n                Intent telegramIntent = new Intent(Intent.ACTION_VIEW,Uri.parse(url));\n                telegramIntent.setPackage(&quot;org.telegram.messenger&quot;);\n\n                try {\n                    startActivity(telegramIntent);\n                    return true;\n\n                } catch (ActivityNotFoundException e) {\n\n                    // Telegram app not installed, open in browser\n\n                    webView.loadUrl(&quot;https://telegram.org/&quot;);\n\n                    return true;\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":16788632,"reputation":1,"user_id":12136891,"display_name":"chami2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684139975,"creation_date":1636333782,"question_id":69877752,"body_markdown":"I have problem Android webview App, When I click a link to whatsapp and tellegram , I get this error: `net::ERR_UNKNOWN_URL_SCHEME` error image `ERR_UNKNOWN_URL_SCHEME`. This is my `MainActivity.java` full\r\n\r\nmy main activity java code is this\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.myWebView);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(&quot;https://example.com&quot;);\r\n    }\r\n    @Override\r\n\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()){\r\n            webView.goBack();\r\n        }\r\n        else\r\n            super.onBackPressed();\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhat do I need to add to this code? Please help. Thanks.","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>I have problem Android webview App, When I click a link to whatsapp and tellegram , I get this error: <code>net::ERR_UNKNOWN_URL_SCHEME</code> error image <code>ERR_UNKNOWN_URL_SCHEME</code>. This is my <code>MainActivity.java</code> full</p>\n<p>my main activity java code is this</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.myWebView);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\n        webView.loadUrl(&quot;https://example.com&quot;);\n    }\n    @Override\n\n    public void onBackPressed() {\n        if (webView.canGoBack()){\n            webView.goBack();\n        }\n        else\n            super.onBackPressed();\n    }\n}\n</code></pre>\n<p>What do I need to add to this code? Please help. Thanks.</p>\n"},{"tags":["java","scala","option-type"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1552036428,"post_id":55059934,"comment_id":96868252,"body_markdown":"Sure you can do something like this, it would be more syntax though as Java doesn&#39;t have first class functional programming support.","body":"Sure you can do something like this, it would be more syntax though as Java doesn&#39;t have first class functional programming support."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1552037271,"post_id":55059934,"comment_id":96868689,"body_markdown":"To increase the chance of getting more helpful answers, you can explain what the scala code does, so that people who don&#39;t know scala can see what you are trying to do.","body":"To increase the chance of getting more helpful answers, you can explain what the scala code does, so that people who don&#39;t know scala can see what you are trying to do."},{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":1,"creation_date":1552043389,"post_id":55059934,"comment_id":96871882,"body_markdown":"@Sweeper It is perfectly reasonable to ask how to convert from one language to another without having to explain how those languages work. If you don&#39;t understand one of the languages then don&#39;t answer the question.","body":"@Sweeper It is perfectly reasonable to ask how to convert from one language to another without having to explain how those languages work. If you don&#39;t understand one of the languages then don&#39;t answer the question."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1552043475,"post_id":55059934,"comment_id":96871923,"body_markdown":"@Tim I never said it is unreasonable to ask a question like this. I said “to get more helpful answers”.","body":"@Tim I never said it is unreasonable to ask a question like this. I said “to get more helpful answers”."},{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":0,"creation_date":1552047093,"post_id":55059934,"comment_id":96873898,"body_markdown":"@Sweeper You won&#39;t get a more helpful answer from someone who doesn&#39;t understand Scala.","body":"@Sweeper You won&#39;t get a more helpful answer from someone who doesn&#39;t understand Scala."}],"answers":[{"tags":[],"owner":{"account_id":10081405,"reputation":3033,"user_id":7451566,"display_name":"senjin.hajrulahovic"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1552041475,"creation_date":1552041475,"answer_id":55061395,"question_id":55059934,"body_markdown":"This would be the appropriate alternative:\r\n\r\n    Optional&lt;String&gt; maybeXY = maybeX.flatMap(x -&gt; maybeY.map(y -&gt; x + y));\r\n\r\nThe `scala` for comprehension is just syntactic sugar for `map`, `flatMap` and `filter` calls. \r\n\r\nHere&#39;s a good example:\r\n[How to convert map/flatMap to for comprehension][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12792595/how-to-convert-this-map-flatmap-into-a-for-comprehension-in-scala","title":"Java For Comprehension","body":"<p>This would be the appropriate alternative:</p>\n\n<pre><code>Optional&lt;String&gt; maybeXY = maybeX.flatMap(x -&gt; maybeY.map(y -&gt; x + y));\n</code></pre>\n\n<p>The <code>scala</code> for comprehension is just syntactic sugar for <code>map</code>, <code>flatMap</code> and <code>filter</code> calls. </p>\n\n<p>Here's a good example:\n<a href=\"https://stackoverflow.com/questions/12792595/how-to-convert-this-map-flatmap-into-a-for-comprehension-in-scala\">How to convert map/flatMap to for comprehension</a></p>\n"}],"owner":{"account_id":1894053,"reputation":141,"user_id":1711397,"display_name":"Lasse Frandsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3022,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":55061395,"answer_count":1,"score":11,"last_activity_date":1684139839,"creation_date":1552036267,"question_id":55059934,"body_markdown":"In Scala i can write a short method like this: \r\n\r\n    def xy(\r\n      maybeX: Option[String],\r\n      maybeY: Option[String]): Option[String] = {\r\n\r\n      for {\r\n        x &lt;- maybeX\r\n        y &lt;- maybeY\r\n      } yield {\r\n        s&quot;X: $x Y: $y&quot;\r\n      }\r\n    }\r\n\r\nDoes Java have something similar, when it comes to two or more `Optional&lt;&gt;` variables? ","title":"Java For Comprehension","body":"<p>In Scala i can write a short method like this: </p>\n\n<pre><code>def xy(\n  maybeX: Option[String],\n  maybeY: Option[String]): Option[String] = {\n\n  for {\n    x &lt;- maybeX\n    y &lt;- maybeY\n  } yield {\n    s\"X: $x Y: $y\"\n  }\n}\n</code></pre>\n\n<p>Does Java have something similar, when it comes to two or more <code>Optional&lt;&gt;</code> variables? </p>\n"},{"tags":["java","android","android-studio","gradle","jenkins"],"owner":{"account_id":7580297,"reputation":464,"user_id":5751174,"accept_rate":0,"display_name":"livemaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684139120,"creation_date":1684132255,"question_id":76251401,"body_markdown":"I have multiple build varient running in my Jenkins System, Am getting issue only on the release version. with the build error. \r\n\r\nCaused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n\r\n&gt; Task :app:packageReleaseBundle FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n \r\n\r\n    What went wrong:\r\n    Execution failed for task &#39;:app:packageReleaseBundle&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\r\n    &gt; java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\ZipBuilder-16934840937813588277.zip.tmp\r\n    \r\n    \r\n    This only occurs on Generating bundle aab file, Doesn&#39;t occur on apk genration.\r\n    \r\n    \r\n    Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:packageReleaseBundle&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n            at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\r\n            at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:31)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:93)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n            at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n            at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n            at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n            at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n            at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n            at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n            at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n            at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n            at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n            at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n            at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n            at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n            at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n            at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n            at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n            at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n            at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n            at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n            at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n            at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n            at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n            at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n            at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n            at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n            at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n            at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n            at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n            at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n            at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n            at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n            at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n            at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n            at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n            at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n            at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n            at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n            at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n            at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: java.io.UncheckedIOException: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n            at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:271)\r\n            at com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction.run(PackageBundleTask.kt:420)\r\n            at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n            at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n            at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n            at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n            at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n            at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:31)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n            ... 2 more\r\n    Caused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n            at com.android.tools.build.bundletool.io.ZipBuilder.writeTo(ZipBuilder.java:118)\r\n            at com.android.tools.build.bundletool.io.AppBundleSerializer.writeToDisk(AppBundleSerializer.java:123)\r\n            at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:269)\r\n            ... 31 more\r\n\r\n","title":"Build Failed for release bundle - Caused by: java.nio.file.AccessDeniedException: C:\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp","body":"<p>I have multiple build varient running in my Jenkins System, Am getting issue only on the release version. with the build error.</p>\n<p>Caused by: java.nio.file.AccessDeniedException: C:\\Users...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp</p>\n<blockquote>\n<p>Task :app:packageReleaseBundle FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<pre><code>What went wrong:\nExecution failed for task ':app:packageReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\n&gt; java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\ZipBuilder-16934840937813588277.zip.tmp\n\n\nThis only occurs on Generating bundle aab file, Doesn't occur on apk genration.\n\n\nException is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:packageReleaseBundle'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\n        at org.gradle.internal.Factories$1.create(Factories.java:31)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:93)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.io.UncheckedIOException: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\n        at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:271)\n        at com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction.run(PackageBundleTask.kt:420)\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n        at org.gradle.internal.Factories$1.create(Factories.java:31)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n        ... 2 more\nCaused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\n        at com.android.tools.build.bundletool.io.ZipBuilder.writeTo(ZipBuilder.java:118)\n        at com.android.tools.build.bundletool.io.AppBundleSerializer.writeToDisk(AppBundleSerializer.java:123)\n        at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:269)\n        ... 31 more\n</code></pre>\n"},{"tags":["java","regex","filter","pattern-matching","log4j2"],"answers":[{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684138956,"creation_date":1526875851,"answer_id":50441899,"question_id":50435243,"body_markdown":"&lt;s&gt;This happens because you have `useRawMsg=&quot;true&quot;` switch it to useRawMsg=&quot;false&quot;. See the [log4j2 manual][1]: \r\n\r\n&gt; If true the unformatted message will be used, otherwise the formatted\r\n&gt; message will be used. The default value is false.\r\n&lt;/s&gt;\r\n\r\n**EDIT:** \r\n\r\nI didn&#39;t look closely enough at your configuration and your output, so I apologize for that. The reason the `RegexFilter` does not work for you is that you&#39;re using it to try to filter based on the [name of the logger][2]. As per the [log4j2 manual][1]: \r\n\r\n&gt; The RegexFilter allows the formatted or unformatted **message** to be\r\n&gt; compared against a regular expression.\r\n\r\nTo prevent a logger from logging any messages you have several options. I will illustrate one of them with some sample code below.\r\n\r\nHere is a main class that runs a `TimingFilter` class: \r\n\r\n```java\r\npackage example;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class Main {\r\n\r\nprivate static final Logger log = LogManager.getLogger();\r\n    \r\n    public static void main(String[] args){\r\n        log.info(&quot;Here&#39;s some info!&quot;);\r\n        log.error(&quot;Some erorr happened!&quot;);\r\n        TimingFilter.main(null);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the TimingFilter class: \r\n\r\n```java\r\npackage example;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class TimingFilter {\r\n\r\n    private static final Logger log = LogManager.getLogger();\r\n    \r\n    public static void main(String[] args){\r\n        log.info(&quot;Here&#39;s some info!&quot;);\r\n        log.error(&quot;Some erorr happened!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere is a sample log4j2.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt; \r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger level=&quot;off&quot; name=&quot;example.TimingFilter&quot;&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nNotice how I have configured the `example.TimingFilter` logger so that its level is &quot;off&quot;. This prevents any logging from this logger. \r\n\r\nWhen I run the `Main` class the output only contains messages from `Main`: \r\n\r\n```\r\n[INFO ] 2018-05-22 23:23:30.473 [main] Main - Here&#39;s some info!\r\n[ERROR] 2018-05-22 23:23:30.474 [main] Main - Some erorr happened!\r\n```\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\r\n  [2]: https://logging.apache.org/log4j/2.0/manual/layouts.html#PatternLayout\r\n\r\n\r\n","title":"Log4j2 RegexFilter pattern does not match","body":"<p><s>This happens because you have <code>useRawMsg=&quot;true&quot;</code> switch it to useRawMsg=&quot;false&quot;. See the <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\" rel=\"nofollow noreferrer\">log4j2 manual</a>:</p>\n<blockquote>\n<p>If true the unformatted message will be used, otherwise the formatted\nmessage will be used. The default value is false.\n</s></p>\n</blockquote>\n<p><strong>EDIT:</strong></p>\n<p>I didn't look closely enough at your configuration and your output, so I apologize for that. The reason the <code>RegexFilter</code> does not work for you is that you're using it to try to filter based on the <a href=\"https://logging.apache.org/log4j/2.0/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">name of the logger</a>. As per the <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\" rel=\"nofollow noreferrer\">log4j2 manual</a>:</p>\n<blockquote>\n<p>The RegexFilter allows the formatted or unformatted <strong>message</strong> to be\ncompared against a regular expression.</p>\n</blockquote>\n<p>To prevent a logger from logging any messages you have several options. I will illustrate one of them with some sample code below.</p>\n<p>Here is a main class that runs a <code>TimingFilter</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class Main {\n\nprivate static final Logger log = LogManager.getLogger();\n    \n    public static void main(String[] args){\n        log.info(&quot;Here's some info!&quot;);\n        log.error(&quot;Some erorr happened!&quot;);\n        TimingFilter.main(null);\n    }\n\n}\n</code></pre>\n<p>Here is the TimingFilter class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class TimingFilter {\n\n    private static final Logger log = LogManager.getLogger();\n    \n    public static void main(String[] args){\n        log.info(&quot;Here's some info!&quot;);\n        log.error(&quot;Some erorr happened!&quot;);\n    }\n}\n</code></pre>\n<p>Here is a sample log4j2.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt; \n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger level=&quot;off&quot; name=&quot;example.TimingFilter&quot;&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Notice how I have configured the <code>example.TimingFilter</code> logger so that its level is &quot;off&quot;. This prevents any logging from this logger.</p>\n<p>When I run the <code>Main</code> class the output only contains messages from <code>Main</code>:</p>\n<pre><code>[INFO ] 2018-05-22 23:23:30.473 [main] Main - Here's some info!\n[ERROR] 2018-05-22 23:23:30.474 [main] Main - Some erorr happened!\n</code></pre>\n"}],"owner":{"account_id":13611679,"reputation":43,"user_id":9818971,"display_name":"DeeP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9630,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50441899,"answer_count":1,"score":4,"last_activity_date":1684139042,"creation_date":1526822309,"question_id":50435243,"body_markdown":"I&#39;ve got the following lines in my log that I want to exclude, so I wanted to use a `RegexFilter` to do so:\r\n\r\n```\r\n[INFO ] 2018-05-20 14:52:15.993 [qtp22844606-20] TimingFilter -\r\nRequest time: 16 ms\r\n\r\n[INFO ] 2018-05-20 14:52:18.998 [qtp22844606-17] TimingFilter -\r\nRequest time: 15 ms\r\n\r\n[INFO ] 2018-05-20 14:52:22.001 [qtp22844606-20] TimingFilter -\r\nRequest time: 0 ms\r\n\r\n[INFO ] 2018-05-20 14:52:24.992 [qtp22844606-17] TimingFilter -\r\nRequest time: 0 ms\r\n```\r\n\r\nMy config looks as such:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt; \r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;RegexFilter regex=&quot;.*TimingFilter.*&quot; useRawMsg=&quot;true&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nWhen switching &quot;ACCEPT&quot; and &quot;DENY&quot; no message gets through, so the RegexFilter per se seems to get picked up. I also tried &quot;\\bTimingFilter\\b&quot;, &quot;.\\*\\bTimingFilter\\b.\\*&quot; without success.\r\n\r\nI&#39;m using Log4J 2.11.\r\n\r\nCan you give any hints what I do wrong? I checked all other `RegexFilter` related questions here and also other sites (that&#39;s where I got the suggestions for the Regex Patterns I tried), but nothing seems to work.\r\nI also checked the patterns on https://regex101.com/ against my log and there they matched correctly.","title":"Log4j2 RegexFilter pattern does not match","body":"<p>I've got the following lines in my log that I want to exclude, so I wanted to use a <code>RegexFilter</code> to do so:</p>\n<pre><code>[INFO ] 2018-05-20 14:52:15.993 [qtp22844606-20] TimingFilter -\nRequest time: 16 ms\n\n[INFO ] 2018-05-20 14:52:18.998 [qtp22844606-17] TimingFilter -\nRequest time: 15 ms\n\n[INFO ] 2018-05-20 14:52:22.001 [qtp22844606-20] TimingFilter -\nRequest time: 0 ms\n\n[INFO ] 2018-05-20 14:52:24.992 [qtp22844606-17] TimingFilter -\nRequest time: 0 ms\n</code></pre>\n<p>My config looks as such:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt; \n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;RegexFilter regex=&quot;.*TimingFilter.*&quot; useRawMsg=&quot;true&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>When switching &quot;ACCEPT&quot; and &quot;DENY&quot; no message gets through, so the RegexFilter per se seems to get picked up. I also tried &quot;\\bTimingFilter\\b&quot;, &quot;.*\\bTimingFilter\\b.*&quot; without success.</p>\n<p>I'm using Log4J 2.11.</p>\n<p>Can you give any hints what I do wrong? I checked all other <code>RegexFilter</code> related questions here and also other sites (that's where I got the suggestions for the Regex Patterns I tried), but nothing seems to work.\nI also checked the patterns on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> against my log and there they matched correctly.</p>\n"},{"tags":["java","android","android-nestedscrollview"],"answers":[{"tags":[],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684138778,"creation_date":1684133824,"answer_id":76251552,"question_id":76251435,"body_markdown":"To solve your problem, replace the statement:\r\n```\r\nscroll_1.smoothScrollTo(0,0);\r\n```\r\n\r\nwith the following:\r\n```\r\nObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  SCROLL_TO).setDuration(SCROLL_DURATION).start();\r\n```\r\nYou have to replace `SCROLL_TO` with the position where you want to scroll to. If you want to scroll to the top, you can put `0` as the value. \r\n\r\n`SCROLL_DURATION` is the duration in milliseconds that you want the `ScrollView` to take to scroll to a certain position.\r\n\r\nIf you want to scroll to the bottom, then you have to use `ScrollView.getBottom()`. Example code:\r\n```\r\nObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,scroll_1.getBottom()).setDuration(SCROLL_DURATION).start();\r\n```","title":"How do I scroll down and up in my Nestedscrollview programatically with some delay?","body":"<p>To solve your problem, replace the statement:</p>\n<pre><code>scroll_1.smoothScrollTo(0,0);\n</code></pre>\n<p>with the following:</p>\n<pre><code>ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  SCROLL_TO).setDuration(SCROLL_DURATION).start();\n</code></pre>\n<p>You have to replace <code>SCROLL_TO</code> with the position where you want to scroll to. If you want to scroll to the top, you can put <code>0</code> as the value.</p>\n<p><code>SCROLL_DURATION</code> is the duration in milliseconds that you want the <code>ScrollView</code> to take to scroll to a certain position.</p>\n<p>If you want to scroll to the bottom, then you have to use <code>ScrollView.getBottom()</code>. Example code:</p>\n<pre><code>ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,scroll_1.getBottom()).setDuration(SCROLL_DURATION).start();\n</code></pre>\n"}],"owner":{"display_name":"user21742102"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76251552,"answer_count":1,"score":0,"last_activity_date":1684138778,"creation_date":1684132641,"question_id":76251435,"body_markdown":"I want to scroll down once and then up programatically. The scrolling should be slow and smooth. This is my code:\r\n```\r\nscroll_1.post(() -&gt; scroll_1.fullScroll(View.FOCUS_DOWN));\r\nscroll_1.postDelayed(() -&gt; {\r\n    scroll_1.smoothScrollTo(0,0);\r\n},1000);\r\n```\r\nWhen I run the code, it scrolls down and up so fast, how do I fix this?","title":"How do I scroll down and up in my Nestedscrollview programatically with some delay?","body":"<p>I want to scroll down once and then up programatically. The scrolling should be slow and smooth. This is my code:</p>\n<pre><code>scroll_1.post(() -&gt; scroll_1.fullScroll(View.FOCUS_DOWN));\nscroll_1.postDelayed(() -&gt; {\n    scroll_1.smoothScrollTo(0,0);\n},1000);\n</code></pre>\n<p>When I run the code, it scrolls down and up so fast, how do I fix this?</p>\n"},{"tags":["java","sqlite","swing"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684149729,"post_id":76251948,"comment_id":134469666,"body_markdown":"Concatenating user inputs into SQL queries is a good way to introduce an SQL injection security vulnerability: https://owasp.org/www-community/attacks/SQL_Injection in your application. At least use prepared statements.","body":"Concatenating user inputs into SQL queries is a good way to introduce an SQL injection security vulnerability: <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">owasp.org/www-community/attacks/SQL_Injection</a> in your application. At least use prepared statements."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684149821,"post_id":76251948,"comment_id":134469685,"body_markdown":"This question has nothing to do with Swing.  It is an SQL question. Separate your SQL from the Swing code so you can independently test the SQL code.","body":"This question has nothing to do with Swing.  It is an SQL question. Separate your SQL from the Swing code so you can independently test the SQL code."}],"owner":{"account_id":28566241,"reputation":11,"user_id":21869085,"display_name":"FlorenceBully"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684138507,"creation_date":1684137180,"question_id":76251948,"body_markdown":"I have created a Java Swing desktop app program that calls SQLite and I would like it to perform a search functionality based on some user inputs. The search is fine if I want to search for just one user input. But when I combine two or more of the inputs it returns All of both of them. \r\n\r\nThere are 4 user inputs but ive broken it down to two while i troubleshoot. If I use OR operators then there are some results but multiple search items get skewed, if I use the AND operator no results are displayed. \r\nThe Query currently looks like this: (&quot;SELECT DISTINCT * FROM Vehicle v JOIN Test t ON v.vehicle_id = t.vehicle_id WHERE v.make LIKE &#39;&quot; + make + &quot;&#39; OR t.test_result LIKE &#39;&quot; + testResult + &quot;&#39;&quot;);\r\n\r\nI fully expect this to be a simple solution but I cant get my head around it. \r\n\r\nThanks\r\n\r\n\t\tJTextField tf1 = new JTextField(&quot;Make:&quot;);\r\n\t\ttf1.setPreferredSize(new Dimension(200,40));\r\n\t\ttf1.setEditable(true);\r\n\t\ttf1.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent x) {\r\n\t\t\t\ttf1.setText(&quot;&quot;);\r\n\t\t\t} });\t\t\t\t\r\n\r\n\t\tJTextField tf4 = new JTextField(&quot;Test Result&quot;);\r\n\t\ttf4.setPreferredSize(new Dimension(200,40));\r\n\t\ttf4.setEditable(true);\r\n\t\ttf4.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent x) {\r\n\t\t\t\ttf4.setText(&quot;&quot;);\r\n\t\t\t} });\t\r\n\r\n\t\tJButton bMake = new JButton(&quot;Results&quot;);\r\n\t\tbMake.setPreferredSize(new Dimension(200,40));\r\n\t\tbMake.addActionListener(new ActionListener() {\r\n\t\t    @Override\r\n\t\t    public void actionPerformed( ActionEvent e ) {\r\n\t\t        String make = tf1.getText().trim();\t\r\n\t\t        String model = tf2.getText().trim();\r\n\t\t        String firstuse = tf3.getText().trim();\r\n\t\t        String testResult = tf4.getText().trim();\t\r\n\t\t        try {\r\n\t\t            Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:./data/Tables.db&quot;);\r\n\t\t            Statement selectStat = c.createStatement();\r\n\t\t            ResultSet rs = selectStat.executeQuery(&quot;SELECT DISTINCT * FROM Vehicle v JOIN Test t ON v.vehicle_id = t.vehicle_id WHERE v.make LIKE &#39;&quot; + make + &quot;&#39; OR t.test_result LIKE &#39;&quot; + testResult + &quot;&#39;&quot;);\r\n\t\t\t\t\tdtm.setRowCount(0);\r\n\t\t\t\t\twhile ( rs.next() ) {\r\n\t\t\t\t    int ID = rs.getInt(&quot;vehicle_ID&quot;);\r\n\t\t\t\t    String make_ = rs.getString(&quot;make&quot;);\r\n\t\t\t\t    String model_ = rs.getString(&quot;model&quot;);\r\n\t\t\t\t    String colour = rs.getString(&quot;colour&quot;);\r\n\t\t\t\t    String fuel = rs.getString(&quot;fuel_type&quot;);\r\n\t\t\t\t    String cylinder = rs.getString(&quot;cylinder_capacity&quot;);\r\n\t\t\t\t    String use = rs.getString(&quot;first_use&quot;);\r\n\t\t\t\t    int test_id = rs.getInt(&quot;test_id&quot;);\r\n\t\t\t\t    String test_type = rs.getString(&quot;test_type&quot;);\r\n\t\t\t\t    String test_class = rs.getString(&quot;test_class&quot;);\r\n\t\t\t\t    String test_date = rs.getString(&quot;test_date&quot;);\r\n\t\t\t\t    // int test_mileage = rs.getInt(test_id)\r\n\t\t            String test_result = rs.getString(&quot;test_result&quot;);\t\r\n\t\t            String test_mileage = rs.getString(&quot;test_mileage&quot;);\r\n\t\t\t\t    dtm.addRow(new Object[]{ID, make, model_, colour, fuel, cylinder, use,\r\n\t\t\t\t            test_id, test_type, test_class, test_date, test_result, test_mileage});\t\t\r\n\t\t\t\t\t}\t\r\n\t\t\t}\t \r\n\t\t\t\tcatch (SQLException e1) { e1.printStackTrace(); } \r\n\t\t\t}\t\t\t\r\n\t\t});","title":"Unable to return correct vales searching in Java Swing program using SQL Operators","body":"<p>I have created a Java Swing desktop app program that calls SQLite and I would like it to perform a search functionality based on some user inputs. The search is fine if I want to search for just one user input. But when I combine two or more of the inputs it returns All of both of them.</p>\n<p>There are 4 user inputs but ive broken it down to two while i troubleshoot. If I use OR operators then there are some results but multiple search items get skewed, if I use the AND operator no results are displayed.\nThe Query currently looks like this: (&quot;SELECT DISTINCT * FROM Vehicle v JOIN Test t ON v.vehicle_id = t.vehicle_id WHERE v.make LIKE '&quot; + make + &quot;' OR t.test_result LIKE '&quot; + testResult + &quot;'&quot;);</p>\n<p>I fully expect this to be a simple solution but I cant get my head around it.</p>\n<p>Thanks</p>\n<pre><code>    JTextField tf1 = new JTextField(&quot;Make:&quot;);\n    tf1.setPreferredSize(new Dimension(200,40));\n    tf1.setEditable(true);\n    tf1.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent x) {\n            tf1.setText(&quot;&quot;);\n        } });               \n\n    JTextField tf4 = new JTextField(&quot;Test Result&quot;);\n    tf4.setPreferredSize(new Dimension(200,40));\n    tf4.setEditable(true);\n    tf4.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent x) {\n            tf4.setText(&quot;&quot;);\n        } });   \n\n    JButton bMake = new JButton(&quot;Results&quot;);\n    bMake.setPreferredSize(new Dimension(200,40));\n    bMake.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed( ActionEvent e ) {\n            String make = tf1.getText().trim(); \n            String model = tf2.getText().trim();\n            String firstuse = tf3.getText().trim();\n            String testResult = tf4.getText().trim();   \n            try {\n                Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:./data/Tables.db&quot;);\n                Statement selectStat = c.createStatement();\n                ResultSet rs = selectStat.executeQuery(&quot;SELECT DISTINCT * FROM Vehicle v JOIN Test t ON v.vehicle_id = t.vehicle_id WHERE v.make LIKE '&quot; + make + &quot;' OR t.test_result LIKE '&quot; + testResult + &quot;'&quot;);\n                dtm.setRowCount(0);\n                while ( rs.next() ) {\n                int ID = rs.getInt(&quot;vehicle_ID&quot;);\n                String make_ = rs.getString(&quot;make&quot;);\n                String model_ = rs.getString(&quot;model&quot;);\n                String colour = rs.getString(&quot;colour&quot;);\n                String fuel = rs.getString(&quot;fuel_type&quot;);\n                String cylinder = rs.getString(&quot;cylinder_capacity&quot;);\n                String use = rs.getString(&quot;first_use&quot;);\n                int test_id = rs.getInt(&quot;test_id&quot;);\n                String test_type = rs.getString(&quot;test_type&quot;);\n                String test_class = rs.getString(&quot;test_class&quot;);\n                String test_date = rs.getString(&quot;test_date&quot;);\n                // int test_mileage = rs.getInt(test_id)\n                String test_result = rs.getString(&quot;test_result&quot;);   \n                String test_mileage = rs.getString(&quot;test_mileage&quot;);\n                dtm.addRow(new Object[]{ID, make, model_, colour, fuel, cylinder, use,\n                        test_id, test_type, test_class, test_date, test_result, test_mileage});     \n                }   \n        }    \n            catch (SQLException e1) { e1.printStackTrace(); } \n        }           \n    });\n</code></pre>\n"},{"tags":["java","spring-boot","maven","xampp","localhost"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684135718,"post_id":76251673,"comment_id":134466772,"body_markdown":"What makes you think that would work? XAMPP is for PHP, you are running Java.","body":"What makes you think that would work? XAMPP is for PHP, you are running Java."},{"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"score":0,"creation_date":1684145534,"post_id":76251673,"comment_id":134468856,"body_markdown":"i did the whole spring boot project running on xamp with apache and mysql connected.","body":"i did the whole spring boot project running on xamp with apache and mysql connected."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684146142,"post_id":76251673,"comment_id":134468995,"body_markdown":"No you didn&#39;t, you aren&#39;t running anything, you only dropped some files in there. That is simply not how it works. It doesn&#39;t run on XAMP, it can use the MySQL instance, and you can use the Apache HTTP server as a front end proxy but that is it. It will not run your java application.","body":"No you didn&#39;t, you aren&#39;t running anything, you only dropped some files in there. That is simply not how it works. It doesn&#39;t run on XAMP, it can use the MySQL instance, and you can use the Apache HTTP server as a front end proxy but that is it. It will not run your java application."},{"owner":{"account_id":196672,"reputation":568,"user_id":440248,"display_name":"Marcelo Rodrigo"},"score":0,"creation_date":1684153729,"post_id":76251673,"comment_id":134470666,"body_markdown":"From the XAMPP website &quot;XAMPP is an easy to install Apache distribution containing MariaDB, PHP, and Perl.&quot;\n\nJava applications needs JVM to run a Java project.\n\nYou should be able to run your Spring Boot application following the official latest documentation available.\n\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application","body":"From the XAMPP website &quot;XAMPP is an easy to install Apache distribution containing MariaDB, PHP, and Perl.&quot;  Java applications needs JVM to run a Java project.  You should be able to run your Spring Boot application following the official latest documentation available.  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"score":0,"creation_date":1684158180,"post_id":76251673,"comment_id":134471709,"body_markdown":"thanks @Marcelo i ve done that to develop the program already.","body":"thanks @Marcelo i ve done that to develop the program already."},{"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"score":0,"creation_date":1684158477,"post_id":76251673,"comment_id":134471784,"body_markdown":"thanks @M.Deinum i understand your point. i apologize im quite newbies in this field.I will explain more detail and if you can please give me any advise on how to solve my issues.   \n i develop my project with spring boot thymeleaf mysql on my pc.Now i want to pass on another pc,do i need to donwload eclipse to run the project every time or there is other solution so it will always run localhost on the browser ???","body":"thanks @M.Deinum i understand your point. i apologize im quite newbies in this field.I will explain more detail and if you can please give me any advise on how to solve my issues.     i develop my project with spring boot thymeleaf mysql on my pc.Now i want to pass on another pc,do i need to donwload eclipse to run the project every time or there is other solution so it will always run localhost on the browser ???"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684169019,"post_id":76251673,"comment_id":134474551,"body_markdown":"Eclipse is an IDE (your development environment). If you want to run it you need to create an artifact (the jar) which you can run. If that other PC is also for development you can just use `mvnw spring-boot:run` to run the application without an IDE. But if you want to develop on it an IDE is quite handy.","body":"Eclipse is an IDE (your development environment). If you want to run it you need to create an artifact (the jar) which you can run. If that other PC is also for development you can just use <code>mvnw spring-boot:run</code> to run the application without an IDE. But if you want to develop on it an IDE is quite handy."},{"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"score":0,"creation_date":1684228613,"post_id":76251673,"comment_id":134483446,"body_markdown":"Thank you very much for your time.I just need to pass my project on the pc(not for development) so anyone can use through vpn or dpr.Obviusly i want to achieve same process  as xamp so they dont need to run the project from an ide.So in order that xamp is not usable for java app ,the pther pc is not development i need to find out how can achieve that in a easiest way as possible please.","body":"Thank you very much for your time.I just need to pass my project on the pc(not for development) so anyone can use through vpn or dpr.Obviusly i want to achieve same process  as xamp so they dont need to run the project from an ide.So in order that xamp is not usable for java app ,the pther pc is not development i need to find out how can achieve that in a easiest way as possible please."}],"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684138461,"creation_date":1684134853,"question_id":76251673,"body_markdown":"I made a spring boot project with Maven.\r\nI moved it to another pc where I have already downloaded Xampp and create a db in PHPMyAdmin.\r\nI want to move in htdocs folder on Xampp so it can always run once clicked localhost on the browser.\r\nCan anyone please explain to me how to achieve that please?\r\n\r\n\r\n\r\n\r\nAt the moment my project path is  this C:\\xampp\\htdocs\\myprojectFolder \r\n if I click on the browser comes up this kind of weird show of the folder of the project:\r\n\r\n[![kind of weird show of the folder of the project][1]][1]\r\n\r\nNavigate through my html page gives error 404.\r\n\r\n[1]: https://i.stack.imgur.com/h2Yeu.png","title":"Run spring boot project on xampp htdocs folder","body":"<p>I made a spring boot project with Maven.\nI moved it to another pc where I have already downloaded Xampp and create a db in PHPMyAdmin.\nI want to move in htdocs folder on Xampp so it can always run once clicked localhost on the browser.\nCan anyone please explain to me how to achieve that please?</p>\n<p>At the moment my project path is  this C:\\xampp\\htdocs\\myprojectFolder\nif I click on the browser comes up this kind of weird show of the folder of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/h2Yeu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2Yeu.png\" alt=\"kind of weird show of the folder of the project\" /></a></p>\n<p>Navigate through my html page gives error 404.</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1333790413,"creation_date":1259844424,"answer_id":1839673,"question_id":1839647,"body_markdown":"What you need to do is have a single `&lt;logger&gt;` definition with a defined level of INFO, but in your two appender definitions, you set their thresholds accordingly, e.g.\r\n\r\n    &lt;appender name=&quot;ERROR_FILE&quot;&gt;\r\n       &lt;param name=&quot;Threshold&quot; value=&quot;ERROR&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;GENERAL&quot;&gt;\r\n       &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\nYou then add both appenders to your logger:\r\n\r\n    &lt;logger name=&quot;com.acme&quot;&gt;\r\n      &lt;level value=&quot;INFO&quot;/&gt;\r\n      &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\r\n      &lt;appender-ref ref=&quot;GENERAL&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nLog entries now going to the logger will get sent to both appenders, but since they have different independent thresholds, the ERROR_FILE appender will only log ERROR and above.\r\n\r\n","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>What you need to do is have a single <code>&lt;logger&gt;</code> definition with a defined level of INFO, but in your two appender definitions, you set their thresholds accordingly, e.g.</p>\n\n<pre><code>&lt;appender name=\"ERROR_FILE\"&gt;\n   &lt;param name=\"Threshold\" value=\"ERROR\"/&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"GENERAL\"&gt;\n   &lt;param name=\"Threshold\" value=\"INFO\"/&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>You then add both appenders to your logger:</p>\n\n<pre><code>&lt;logger name=\"com.acme\"&gt;\n  &lt;level value=\"INFO\"/&gt;\n  &lt;appender-ref ref=\"ERROR_FILE\"/&gt;\n  &lt;appender-ref ref=\"GENERAL\"/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>Log entries now going to the logger will get sent to both appenders, but since they have different independent thresholds, the ERROR_FILE appender will only log ERROR and above.</p>\n"},{"tags":[],"owner":{"account_id":1733886,"reputation":1028,"user_id":1586874,"display_name":"Pawel Solarski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346247586,"creation_date":1346247586,"answer_id":12179313,"question_id":1839647,"body_markdown":"You need to use log4j filters:\r\n\r\n    &lt;filter class=&quot;org.apache.log4j.varia.LevelRangeFilter&quot;&gt;\r\n        &lt;param name=&quot;levelMin&quot; value=&quot;ERROR&quot; /&gt;\r\n        &lt;param name=&quot;levelMax&quot; value=&quot;ERROR&quot; /&gt;\r\n    &lt;/filter&gt;\r\n\r\nThat way you can create log files for each level separately.","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>You need to use log4j filters:</p>\n\n<pre><code>&lt;filter class=\"org.apache.log4j.varia.LevelRangeFilter\"&gt;\n    &lt;param name=\"levelMin\" value=\"ERROR\" /&gt;\n    &lt;param name=\"levelMax\" value=\"ERROR\" /&gt;\n&lt;/filter&gt;\n</code></pre>\n\n<p>That way you can create log files for each level separately.</p>\n"},{"tags":[],"owner":{"account_id":2854084,"reputation":121,"user_id":2450664,"display_name":"Tcaci Oleg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1456492736,"creation_date":1370331422,"answer_id":16912243,"question_id":1839647,"body_markdown":"Full working solution including the date in the filename:\r\n\r\n\r\n    &lt;appender name=&quot;InfoFileAppender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t  &lt;param name=&quot;FileNamePattern&quot; value=&quot;/var/output/Info_%d{ddMMyyyy}.log&quot; /&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %-5p %t %c{2} - %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n        &lt;filter class=&quot;org.apache.log4j.varia.LevelRangeFilter&quot;&gt;\r\n    \t  &lt;param name=&quot;levelMin&quot; value=&quot;INFO&quot; /&gt;\r\n    \t  &lt;param name=&quot;levelMax&quot; value=&quot;INFO&quot; /&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;appender name=&quot;ErrorFileAppender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;param name=&quot;Threshold&quot; value=&quot;ERROR&quot; /&gt;\r\n        &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;param name=&quot;FileNamePattern&quot; value=&quot;/var/output/Error_%d{ddMMyyyy}.log&quot; /&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t    &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{HH:mm:ss} %-5p %t %c{2} - %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;INFO&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;InfoFileAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;ErrorFileAppender&quot; /&gt;\r\n    &lt;/root&gt;","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>Full working solution including the date in the filename:</p>\n\n<pre><code>&lt;appender name=\"InfoFileAppender\" class=\"org.apache.log4j.rolling.RollingFileAppender\"&gt;\n    &lt;rollingPolicy class=\"org.apache.log4j.rolling.TimeBasedRollingPolicy\"&gt;\n      &lt;param name=\"FileNamePattern\" value=\"/var/output/Info_%d{ddMMyyyy}.log\" /&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n    &lt;param name=\"ConversionPattern\" value=\"%d{HH:mm:ss} %-5p %t %c{2} - %m%n\" /&gt;\n    &lt;/layout&gt;\n    &lt;filter class=\"org.apache.log4j.varia.LevelRangeFilter\"&gt;\n      &lt;param name=\"levelMin\" value=\"INFO\" /&gt;\n      &lt;param name=\"levelMax\" value=\"INFO\" /&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"ErrorFileAppender\" class=\"org.apache.log4j.rolling.RollingFileAppender\"&gt;\n    &lt;param name=\"Threshold\" value=\"ERROR\" /&gt;\n    &lt;rollingPolicy class=\"org.apache.log4j.rolling.TimeBasedRollingPolicy\"&gt;\n        &lt;param name=\"FileNamePattern\" value=\"/var/output/Error_%d{ddMMyyyy}.log\" /&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d{HH:mm:ss} %-5p %t %c{2} - %m%n\" /&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n&lt;root&gt;\n    &lt;level value=\"INFO\" /&gt;\n    &lt;appender-ref ref=\"InfoFileAppender\" /&gt;\n    &lt;appender-ref ref=\"ErrorFileAppender\" /&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594334019,"creation_date":1530800552,"answer_id":51193728,"question_id":1839647,"body_markdown":"If you are using log4j2 and config with XML format, [ThresholdFilter][1] is a good solution.\r\n\r\nHere is a sample:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n          &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    \r\n           &lt;Appenders&gt;\r\n              &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n          \t&lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        \r\n        &lt;RollingFile name=&quot;RollingDebugLogFile&quot; fileName=&quot;logs/app-debug.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-debug-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n          \t&lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy /&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\r\n          &lt;/Policies&gt;\r\n          &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n      \r\n        &lt;RollingFile name=&quot;RollingErrorLogFile&quot; fileName=&quot;logs/app-error.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-error-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n          \t&lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy /&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\r\n          &lt;/Policies&gt;\r\n          &lt;ThresholdFilter level=&quot;ERROR&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n      \r\n        &lt;RollingFile name=&quot;RollingInfoLogFile&quot; fileName=&quot;logs/app-info.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-info-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n          \t&lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy /&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\r\n          &lt;/Policies&gt;\r\n          &lt;ThresholdFilter level=&quot;INFO&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n        \r\n      &lt;/Appenders&gt;\r\n    \r\n      &lt;Loggers&gt;\r\n    \t&lt;Logger name=&quot;testLogger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;AppenderRef ref = &quot;Console&quot; /&gt;\r\n    \t\t&lt;AppenderRef ref=&quot;RollingErrorLogFile&quot; /&gt;\r\n    \t\t&lt;AppenderRef ref=&quot;RollingInfoLogFile&quot; /&gt;\r\n    \t\t&lt;AppenderRef ref=&quot;RollingDebugLogFile&quot; /&gt;\r\n    \t&lt;/Logger&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n    \t  &lt;AppenderRef ref = &quot;Console&quot; /&gt;\r\n          &lt;AppenderRef ref=&quot;RollingErrorLogFile&quot; /&gt;\r\n    \t  &lt;AppenderRef ref=&quot;RollingInfoLogFile&quot; /&gt;\r\n    \t  &lt;AppenderRef ref=&quot;RollingDebugLogFile&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    \t\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#Property_Substitution","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>If you are using log4j2 and config with XML format, <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Property_Substitution\" rel=\"nofollow noreferrer\">ThresholdFilter</a> is a good solution.</p>\n<p>Here is a sample:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n      &lt;Configuration status=&quot;WARN&quot;&gt;\n\n       &lt;Appenders&gt;\n          &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\n    &lt;/Console&gt;\n    \n    &lt;RollingFile name=&quot;RollingDebugLogFile&quot; fileName=&quot;logs/app-debug.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-debug-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy /&gt;\n        &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\n      &lt;/Policies&gt;\n      &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\n    &lt;/RollingFile&gt;\n  \n    &lt;RollingFile name=&quot;RollingErrorLogFile&quot; fileName=&quot;logs/app-error.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-error-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy /&gt;\n        &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\n      &lt;/Policies&gt;\n      &lt;ThresholdFilter level=&quot;ERROR&quot;/&gt;\n    &lt;/RollingFile&gt;\n  \n    &lt;RollingFile name=&quot;RollingInfoLogFile&quot; fileName=&quot;logs/app-info.log&quot; filePattern=&quot;logs/$${date:yyyy-MM}/app-info-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %-5p  %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy /&gt;\n        &lt;SizeBasedTriggeringPolicy size=&quot;20MB&quot;/&gt;\n      &lt;/Policies&gt;\n      &lt;ThresholdFilter level=&quot;INFO&quot;/&gt;\n    &lt;/RollingFile&gt;\n    \n  &lt;/Appenders&gt;\n\n  &lt;Loggers&gt;\n    &lt;Logger name=&quot;testLogger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n        &lt;AppenderRef ref = &quot;Console&quot; /&gt;\n        &lt;AppenderRef ref=&quot;RollingErrorLogFile&quot; /&gt;\n        &lt;AppenderRef ref=&quot;RollingInfoLogFile&quot; /&gt;\n        &lt;AppenderRef ref=&quot;RollingDebugLogFile&quot; /&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n      &lt;AppenderRef ref = &quot;Console&quot; /&gt;\n      &lt;AppenderRef ref=&quot;RollingErrorLogFile&quot; /&gt;\n      &lt;AppenderRef ref=&quot;RollingInfoLogFile&quot; /&gt;\n      &lt;AppenderRef ref=&quot;RollingDebugLogFile&quot; /&gt;\n    &lt;/Root&gt;\n    \n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16109528,"reputation":21,"user_id":11628147,"display_name":"borieux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574438135,"creation_date":1574438135,"answer_id":58997716,"question_id":1839647,"body_markdown":"Well, actually, you can do it using .properties file; you don&#39;t have to use .xml file :\r\n\r\n - Log only WARN\r\n\r\n        log4j.appender.appenderName.filter.a=org.apache.log4j.varia.LevelRangeFilter\r\n        log4j.appender.appenderName.filter.a.LevelMin=WARN\r\n        log4j.appender.appenderName.filter.a.LevelMax=WARN\r\n\r\n - Log from INFO to WARN\r\n\r\n        log4j.appender.appenderName.filter.a=org.apache.log4j.varia.LevelRangeFilter\r\n        log4j.appender.appenderName.filter.a.LevelMin=INFO\r\n        log4j.appender.appenderName.filter.a.LevelMax=WARN","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>Well, actually, you can do it using .properties file; you don't have to use .xml file :</p>\n\n<ul>\n<li><p>Log only WARN</p>\n\n<pre><code>log4j.appender.appenderName.filter.a=org.apache.log4j.varia.LevelRangeFilter\nlog4j.appender.appenderName.filter.a.LevelMin=WARN\nlog4j.appender.appenderName.filter.a.LevelMax=WARN\n</code></pre></li>\n<li><p>Log from INFO to WARN</p>\n\n<pre><code>log4j.appender.appenderName.filter.a=org.apache.log4j.varia.LevelRangeFilter\nlog4j.appender.appenderName.filter.a.LevelMin=INFO\nlog4j.appender.appenderName.filter.a.LevelMax=WARN\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":117841,"reputation":613,"user_id":308435,"display_name":"vilmonts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62198,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":1839673,"answer_count":5,"score":61,"last_activity_date":1684138116,"creation_date":1259844055,"question_id":1839647,"body_markdown":"I have a normal INFO level log for application. What I need is to additionally log all ERROR level events to separate error log. I am using configuration like this:\r\n\r\n```xml\r\n&lt;logger name=&quot;com.acme&quot;&gt;\r\n    &lt;level value=&quot;error&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;error&quot;/&gt;\r\n&lt;/logger&gt;\r\n\r\n&lt;logger name=&quot;com.acme&quot;&gt;\r\n    &lt;level value=&quot;info&quot;/&gt;\r\n&lt;/logger&gt;\r\n\r\n&lt;root&gt;\r\n    &lt;level value=&quot;warn&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;general&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nThis configuration logs errors only. If I put info level logger first, then it will log only to general appender, but error logger will not work. I would like to have them both working.","title":"How to configure log4j to log different log levels to different files for the same logger","body":"<p>I have a normal INFO level log for application. What I need is to additionally log all ERROR level events to separate error log. I am using configuration like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=&quot;com.acme&quot;&gt;\n    &lt;level value=&quot;error&quot;/&gt;\n    &lt;appender-ref ref=&quot;error&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;com.acme&quot;&gt;\n    &lt;level value=&quot;info&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;root&gt;\n    &lt;level value=&quot;warn&quot;/&gt;\n    &lt;appender-ref ref=&quot;general&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>This configuration logs errors only. If I put info level logger first, then it will log only to general appender, but error logger will not work. I would like to have them both working.</p>\n"},{"tags":["java","listview","javafx","listener"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684137145,"post_id":76251641,"comment_id":134467046,"body_markdown":"Ultimately, it&#39;s a question of when you want the code to be invoked. If you try to get the selected item directly inside the `initialize` method, then you&#39;re very likely to get `null` as a result. The `initialize` method is invoked during the process of loading the FXML file, after the FXML-injected fields have been injected, but before loading has complete (basically, it&#39;s the last thing that happens). But that also means it&#39;s highly unlikely your `ListView` has been added to a `Scene` yet, let alone being displayed. The user could not have selected an item before the list is displayed.","body":"Ultimately, it&#39;s a question of when you want the code to be invoked. If you try to get the selected item directly inside the <code>initialize</code> method, then you&#39;re very likely to get <code>null</code> as a result. The <code>initialize</code> method is invoked during the process of loading the FXML file, after the FXML-injected fields have been injected, but before loading has complete (basically, it&#39;s the last thing that happens). But that also means it&#39;s highly unlikely your <code>ListView</code> has been added to a <code>Scene</code> yet, let alone being displayed. The user could not have selected an item before the list is displayed."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684137339,"post_id":76251641,"comment_id":134467086,"body_markdown":"Your listener is invoked when the user changes the selection. That&#39;s why getting the selected item in the listener worked (though you don&#39;t handle the case where the user clears the selection). But you could have used other approaches (e.g., maybe you want the user to press a button to display the details, thus you would put the get-selected-item code in the button&#39;s on-action handler). Also, note that, in your code, `todoListView.getSelectionModel().getSelectedItem()` is returning the same object that `newValue` references (i.e., you could just do `todoDetails.setText(newValue.getDetails())`)","body":"Your listener is invoked when the user changes the selection. That&#39;s why getting the selected item in the listener worked (though you don&#39;t handle the case where the user clears the selection). But you could have used other approaches (e.g., maybe you want the user to press a button to display the details, thus you would put the get-selected-item code in the button&#39;s on-action handler). Also, note that, in your code, <code>todoListView.getSelectionModel().getSelectedItem()</code> is returning the same object that <code>newValue</code> references (i.e., you could just do <code>todoDetails.setText(newValue.getDetails())</code>)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684158756,"post_id":76251641,"comment_id":134471863,"body_markdown":"Nothing is selected in the `ListView` at this point. Try things in the following order. 1. Set `ListView` with data. 2. do `todoListView.getSelectionModel().select(0);`. 3. Try `TodoItem item = todoListView.getSelectionModel().getSelectedItem();\n                    todoDetails.setText(item.getDetails());`. I haven&#39;t tested this, so I don&#39;t know if it will work, but the flow of things seems right.","body":"Nothing is selected in the <code>ListView</code> at this point. Try things in the following order. 1. Set <code>ListView</code> with data. 2. do <code>todoListView.getSelectionModel().select(0);</code>. 3. Try <code>TodoItem item = todoListView.getSelectionModel().getSelectedItem();                     todoDetails.setText(item.getDetails());</code>. I haven&#39;t tested this, so I don&#39;t know if it will work, but the flow of things seems right."},{"owner":{"account_id":28603259,"reputation":1,"user_id":21899723,"display_name":"MaTa"},"score":1,"creation_date":1684288482,"post_id":76251641,"comment_id":134495172,"body_markdown":"@Slaw, Thanks for your comments. &quot;Your listener is invoked when the user changes the selection&quot;. It is clear now.","body":"@Slaw, Thanks for your comments. &quot;Your listener is invoked when the user changes the selection&quot;. It is clear now."},{"owner":{"account_id":28603259,"reputation":1,"user_id":21899723,"display_name":"MaTa"},"score":1,"creation_date":1684288694,"post_id":76251641,"comment_id":134495199,"body_markdown":"@SedJ601, I works. I manually set ListView with data in initialize() and yes it returns the some data. Thanks for your comments.","body":"@SedJ601, I works. I manually set ListView with data in initialize() and yes it returns the some data. Thanks for your comments."}],"owner":{"account_id":28603259,"reputation":1,"user_id":21899723,"display_name":"MaTa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684137486,"creation_date":1684134589,"question_id":76251641,"body_markdown":"I have some code below. \r\n```\r\npublic class TodoItem {\r\n    private String description;\r\n    private String details;\r\n    private LocalDate deadline;\r\n\r\n    public TodoItem(String description, String details, LocalDate deadline) {\r\n        this.description = description;\r\n        this.details = details;\r\n        this.deadline = deadline;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(String details) {\r\n        this.details = details;\r\n    }\r\n\r\n    public LocalDate getDeadline() {\r\n        return deadline;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Controller {\r\n    @FXML\r\n    private ListView&lt;TodoItem&gt; todoListView;\r\n    @FXML\r\n    private TextArea todoDetails;\r\n    @FXML\r\n    private Label todoDeadLine;\r\n    private List&lt;TodoItem&gt; todoItems;\r\n\r\n\r\n    public void initialize() {\r\n        todoListView.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;TodoItem&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends TodoItem&gt; observable, TodoItem oldValue, TodoItem newValue) {\r\n                if(newValue != null) {\r\n                    TodoItem item = todoListView.getSelectionModel().getSelectedItem();\r\n                    todoDetails.setText(item.getDetails());\r\n                    DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;); // &quot;d M yy&quot;);\r\n                    todoDeadLine.setText(df.format(item.getDeadline()));\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe program is fine but when I tried to play with the code by writing this line `TodoItem item = todoListView.getSelectionModel().getSelectedItem();` outside of the listener (I commented out the whole todoListView.getSelectionModel().... part) and I got a null value. So my question is, Do I need to write `TodoItem item = todoListView.getSelectionModel().getSelectedItem();` inside the listener to able to get the data? \r\n\r\nThanks.\r\n\r\n","title":"ListView Listener","body":"<p>I have some code below.</p>\n<pre><code>public class TodoItem {\n    private String description;\n    private String details;\n    private LocalDate deadline;\n\n    public TodoItem(String description, String details, LocalDate deadline) {\n        this.description = description;\n        this.details = details;\n        this.deadline = deadline;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getDetails() {\n        return details;\n    }\n\n    public void setDetails(String details) {\n        this.details = details;\n    }\n\n    public LocalDate getDeadline() {\n        return deadline;\n    }\n}\n</code></pre>\n<pre><code>public class Controller {\n    @FXML\n    private ListView&lt;TodoItem&gt; todoListView;\n    @FXML\n    private TextArea todoDetails;\n    @FXML\n    private Label todoDeadLine;\n    private List&lt;TodoItem&gt; todoItems;\n\n\n    public void initialize() {\n        todoListView.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;TodoItem&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends TodoItem&gt; observable, TodoItem oldValue, TodoItem newValue) {\n                if(newValue != null) {\n                    TodoItem item = todoListView.getSelectionModel().getSelectedItem();\n                    todoDetails.setText(item.getDetails());\n                    DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;); // &quot;d M yy&quot;);\n                    todoDeadLine.setText(df.format(item.getDeadline()));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>The program is fine but when I tried to play with the code by writing this line <code>TodoItem item = todoListView.getSelectionModel().getSelectedItem();</code> outside of the listener (I commented out the whole todoListView.getSelectionModel().... part) and I got a null value. So my question is, Do I need to write <code>TodoItem item = todoListView.getSelectionModel().getSelectedItem();</code> inside the listener to able to get the data?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-listview","android-asynctask","android-viewholder"],"comments":[{"owner":{"account_id":2315367,"reputation":8964,"user_id":2032561,"accept_rate":64,"display_name":"Bharatesh"},"score":0,"creation_date":1429356437,"post_id":29715351,"comment_id":47567895,"body_markdown":"in `onPostExecute` u suppose to use `dataPosition` instead of `globalPosition`","body":"in <code>onPostExecute</code> u suppose to use <code>dataPosition</code> instead of <code>globalPosition</code>"},{"owner":{"account_id":2089306,"reputation":6788,"user_id":1859489,"accept_rate":71,"display_name":"Sun"},"score":0,"creation_date":1429506244,"post_id":29715351,"comment_id":47612377,"body_markdown":"i have tried with dataPosition as well, but getting same result","body":"i have tried with dataPosition as well, but getting same result"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1429609527,"post_id":29715351,"comment_id":47667818,"body_markdown":"You should pass a `Holder` object to your `AsycnTask`.","body":"You should pass a <code>Holder</code> object to your <code>AsycnTask</code>."},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1429609780,"post_id":29715351,"comment_id":47668008,"body_markdown":"`public UploadBulkData(YourHolderClass holder , int position){`","body":"<code>public UploadBulkData(YourHolderClass holder , int position){</code>"},{"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"score":0,"creation_date":1429610034,"post_id":29715351,"comment_id":47668183,"body_markdown":"Where u r assigning globalPosition? in your adapter where u r getting value for fileNameDB? are you performing click for buttonAllData programmatically, as i see globalPosition is always the same inside your buttonAllData click listener, there is no loop","body":"Where u r assigning globalPosition? in your adapter where u r getting value for fileNameDB? are you performing click for buttonAllData programmatically, as i see globalPosition is always the same inside your buttonAllData click listener, there is no loop"},{"owner":{"display_name":"user4387624"},"score":2,"creation_date":1430203064,"post_id":29715351,"comment_id":47946104,"body_markdown":"possible duplicate of [ListView Data got cleared on scrolling](http://stackoverflow.com/questions/29257838/listview-data-got-cleared-on-scrolling)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/29257838/listview-data-got-cleared-on-scrolling\">ListView Data got cleared on scrolling</a>"},{"owner":{"account_id":4701898,"reputation":18927,"user_id":3805262,"accept_rate":79,"display_name":"mmlooloo"},"score":0,"creation_date":1430411016,"post_id":29715351,"comment_id":48065683,"body_markdown":"Do not store anything other than views in your viewholder class I mean `boolean isUploading = false;`","body":"Do not store anything other than views in your viewholder class I mean <code>boolean isUploading = false;</code>"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1430485968,"post_id":29715351,"comment_id":48094177,"body_markdown":"Use different bitmap objects for all the images .. .as per your code they are being overridden and the values of only last are uploaded. Check [this](http://stackoverflow.com/questions/29715351/listview-holder-small-issue-with-dynamic-data#comment47946104_29715351)","body":"Use different bitmap objects for all the images .. .as per your code they are being overridden and the values of only last are uploaded. Check <a href=\"http://stackoverflow.com/questions/29715351/listview-holder-small-issue-with-dynamic-data#comment47946104_29715351\">this</a>"},{"owner":{"account_id":4329733,"reputation":835,"user_id":3535576,"display_name":"ShihabSoft"},"score":0,"creation_date":1430540269,"post_id":29715351,"comment_id":48116051,"body_markdown":"public Object getItem(int position) {\n                    return position;\n                }\n                public long getItemId(int position) {\n                    return position;\n                }.You are returning position int variable instead of a List Object.And also why you are wastely double checking.In the second check data exist or not.Just use the first strDataExistU","body":"public Object getItem(int position) {                     return position;                 }                 public long getItemId(int position) {                     return position;                 }.You are returning position int variable instead of a List Object.And also why you are wastely double checking.In the second check data exist or not.Just use the first strDataExistU"},{"owner":{"account_id":3692244,"reputation":747,"user_id":3074579,"display_name":"Vigneshwaran Murugesan"},"score":2,"creation_date":1430977063,"post_id":29715351,"comment_id":48297902,"body_markdown":"You code is having lots of errors you ie(in getView() you have initialized a obejct to null &quot;holder=null&quot; without type i know it is ViewHolder and what is flag? and where it is from?) if you provide the correct code i will try to find the issue.","body":"You code is having lots of errors you ie(in getView() you have initialized a obejct to null &quot;holder=null&quot; without type i know it is ViewHolder and what is flag? and where it is from?) if you provide the correct code i will try to find the issue."}],"answers":[{"tags":[],"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429617389,"creation_date":1429617389,"answer_id":29771561,"question_id":29715351,"body_markdown":"Issue is in holder.dataImageButton.setOnClickListener method block, position value you are assigning to globalPosition (`globalPosition = position;`) is the one passed to getView method (getView is called every time view is recycled). So you should set position to holder.dataImageButton tag and retrieve from it inside your setOnClickListener method block.\r\n\r\nSo set the position in holder.dataImageButton tag \r\n\r\n    holder.dataImageButton.setTag(position);\r\n\r\nafter your code line \r\n\r\n    holder.dataImageView.setImageResource(R.drawable.bullet_button);\r\n\r\nand modify your setOnClickListener method as \r\n\r\n    holder.dataImageButton.setOnClickListener(new View.OnClickListener() {\r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \tpublic void onClick(View v) {\r\n    \t\t// Print\r\n    \t    globalPosition = (Integer)v.getTag(); //modified\r\n    \t\tfileName=ImageList.get(position).toString().substring\r\n    \t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;_&#39;)+1, strPath.length());\r\n    \t\tfileNameDB=ImageList.get(position).toString().substring\r\n    \t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n    \t\tshowDialog(DIALOG_LOGIN);\r\n    \t}\r\n    });\r\n\r\n","title":"Showing status for the last list item in a ListView using ViewHolder","body":"<p>Issue is in holder.dataImageButton.setOnClickListener method block, position value you are assigning to globalPosition (<code>globalPosition = position;</code>) is the one passed to getView method (getView is called every time view is recycled). So you should set position to holder.dataImageButton tag and retrieve from it inside your setOnClickListener method block.</p>\n\n<p>So set the position in holder.dataImageButton tag </p>\n\n<pre><code>holder.dataImageButton.setTag(position);\n</code></pre>\n\n<p>after your code line </p>\n\n<pre><code>holder.dataImageView.setImageResource(R.drawable.bullet_button);\n</code></pre>\n\n<p>and modify your setOnClickListener method as </p>\n\n<pre><code>holder.dataImageButton.setOnClickListener(new View.OnClickListener() {\n    @SuppressWarnings(\"deprecation\")\n    public void onClick(View v) {\n        // Print\n        globalPosition = (Integer)v.getTag(); //modified\n        fileName=ImageList.get(position).toString().substring\n                            (strPath.lastIndexOf('_')+1, strPath.length());\n        fileNameDB=ImageList.get(position).toString().substring\n                            (strPath.lastIndexOf('/')+1, strPath.length());\n        showDialog(DIALOG_LOGIN);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":550810,"reputation":15344,"user_id":915484,"accept_rate":85,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430528501,"creation_date":1430528501,"answer_id":29997218,"question_id":29715351,"body_markdown":"It appears that in both `UploadData` and `UploadBulkData` the exact same code is used for updating the uploaded database: `myDbbv.InsertData(fileNameDB)`. This would have the effect of only marking the last file of `UploadBulkData` as being uploaded, which is consistent with the problematic behavior you are seeing.\r\n\r\nTry updating `myDbbv` for each file being uploaded in `UploadData` and see if it helps.","title":"Showing status for the last list item in a ListView using ViewHolder","body":"<p>It appears that in both <code>UploadData</code> and <code>UploadBulkData</code> the exact same code is used for updating the uploaded database: <code>myDbbv.InsertData(fileNameDB)</code>. This would have the effect of only marking the last file of <code>UploadBulkData</code> as being uploaded, which is consistent with the problematic behavior you are seeing.</p>\n\n<p>Try updating <code>myDbbv</code> for each file being uploaded in <code>UploadData</code> and see if it helps.</p>\n"},{"tags":[],"owner":{"account_id":21889468,"reputation":111,"user_id":16176653,"display_name":"Puneet Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654499785,"creation_date":1654499537,"answer_id":72514210,"question_id":29715351,"body_markdown":"There could be multiple customizable ways to achieve this. One of them is already answered. Correct me if I&#39;m wrong about your requirement, you need to be notified when the list reached its last item. Afterwards, you&#39;re going to perform an operation with the last item index.\r\n\r\n**[UPDATE]**\r\n\r\nFor this solution: You have to migrate to Recycler View as it&#39;s more flexible, fast and optimised for bulk data.\r\n\r\n```\r\nint findFirstVisibleItemPosition();\r\nint findFirstCompletelyVisibleItemPosition();\r\nint findLastVisibleItemPosition(); // This function could be the one you&#39;re looking for.\r\nint findLastCompletelyVisibleItemPosition();\r\n```\r\nUsage:\r\n```\r\n// In Java\r\n\r\nGridLayoutManager layoutManager = ((GridLayoutManager)mRecyclerView.getLayoutManager());\r\nint firstVisiblePosition = layoutManager.findFirstVisibleItemPosition();\r\n```\r\n\r\nReference: https://stackoverflow.com/a/25053500/16176653","title":"Showing status for the last list item in a ListView using ViewHolder","body":"<p>There could be multiple customizable ways to achieve this. One of them is already answered. Correct me if I'm wrong about your requirement, you need to be notified when the list reached its last item. Afterwards, you're going to perform an operation with the last item index.</p>\n<p><strong>[UPDATE]</strong></p>\n<p>For this solution: You have to migrate to Recycler View as it's more flexible, fast and optimised for bulk data.</p>\n<pre><code>int findFirstVisibleItemPosition();\nint findFirstCompletelyVisibleItemPosition();\nint findLastVisibleItemPosition(); // This function could be the one you're looking for.\nint findLastCompletelyVisibleItemPosition();\n</code></pre>\n<p>Usage:</p>\n<pre><code>// In Java\n\nGridLayoutManager layoutManager = ((GridLayoutManager)mRecyclerView.getLayoutManager());\nint firstVisiblePosition = layoutManager.findFirstVisibleItemPosition();\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/a/25053500/16176653\">https://stackoverflow.com/a/25053500/16176653</a></p>\n"}],"owner":{"account_id":2089306,"reputation":6788,"user_id":1859489,"accept_rate":71,"display_name":"Sun"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":3,"up_vote_count":56,"answer_count":3,"score":53,"last_activity_date":1684137428,"creation_date":1429348949,"question_id":29715351,"body_markdown":"        int globalPosition ;\r\n    \r\n        ..............\r\n\r\n        buttonAllData.setOnClickListener(new OnClickListener() { \r\n\r\n        @Override \r\n        public void onClick(View arg0) { \r\n        // TODO Auto-generated method stub \r\n        \tnew UploadBulkData(globalPosition).execute();\r\n        \t\r\n        \t} \r\n        });\r\n\r\n       ........\r\n\r\n       class UploadBulkData extends AsyncTask&lt;String, String, String&gt; {\r\n    \tprivate ProgressDialog pDialog;\r\n    \tint dataPosition;\r\n    \r\n    \tpublic UploadBulkData(int position){\r\n    \t this.dataPosition = position;\r\n        }\r\n    \r\n    \t@Override\r\n    \tprotected void onPreExecute() {\r\n    \t  super.onPreExecute();\r\n    \t  pDialog = new ProgressDialog(UploadActivity.this);\r\n    \t  pDialog.setMessage(&quot;Uploading...&quot;);\r\n    \t  pDialog.setIndeterminate(false);\r\n    \t  pDialog.setCancelable(true);\r\n    \t  pDialog.show();\r\n    \t}\r\n    \t\t\t\t\t\t\t\r\n    \t@Override\r\n    \tprotected String doInBackground(String... args) {\r\n    \t   .......\r\n\t\t   String url = &quot;http://web/uploadBulk.php&quot;;\r\n    \t   List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n    \t   params.add(new BasicNameValuePair(&quot;UserData&quot;, st));\r\n    \t\t\t\t\t\t\r\n    \t   String resultServer = getHttpPost(url,params); \r\n    \t   Log.d(&quot;Entire string::&quot;, &quot; &quot; + resultServer); \r\n    \t\t\t\t\t\t\r\n    \t   /*** Default Value ***/\r\n    \t   strStatusID = &quot;0&quot;; \r\n    \t   strError = &quot;&quot;; \r\n    \t\t\t\t\t\t \r\n    \t  JSONObject jsonObject;\r\n    \t  try { \r\n    \t    jsonObject = new JSONObject(resultServer); \r\n    \t    strStatusID = jsonObject.getString(&quot;StatusID&quot;); \r\n    \t    strError = jsonObject.getString(&quot;Message&quot;); \r\n    \t  } catch (JSONException e) { \r\n    \t\te.printStackTrace();\r\n    \t  } \r\n       }\r\n      \r\n       return null;\r\n    \t\t\t\t\t\t\t\t\r\n       }\r\n    \t\r\n       protected void onPostExecute(String file_url) {\r\n    \t\r\n             pDialog.dismiss();\r\n    \t\t fileNameDB=ImageList.get(globalPosition).toString().substring\r\n    \t\t    (strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n    \t\t\t\r\n             if(strStatusID.equals(&quot;1&quot;))\r\n    \t\t   {\r\n                 Toast.makeText(UploadActivity.this, &quot;Data Uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    \t\t\tlong saveImge = myDbbv.InsertData(fileNameDB);\r\n    \t\t\tLog.d(&quot;fileNameDB:UP&quot;, String.valueOf(saveImge));\r\n    \t\t   }\r\n    \t\t   else\r\n    \t\t   {   \r\n                 Toast.makeText(UploadActivity.this, &quot;Unable to upload Data&quot;, Toast.LENGTH_SHORT).show();\t\t\t\t\t\t\t\t\t\r\n    \t\t   }\r\n    \t\t\t\t\t\t        \t\t\t\t\t\t       \r\n    \t\t   if (file_url != null){\r\n    \t\t\t   Toast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\r\n    \t\t\t}\r\n           }\r\n    }\r\n\r\nAnd in getView i am using something like this:\r\n\r\n    public View getView(final int position, View convertView, ViewGroup parent) {\r\n    \r\n    holder.dataImageView.setImageResource(R.drawable.bullet_button);\r\n                    \r\n    try {\r\n    \t// check data exist or not\r\n     \tboolean strDataExistU = myDbbv.Exists(fileNameDB);\r\n     \tif(strDataExistU)\r\n     \t{\r\n          holder.dataImageView.setImageResource(R.drawable.online);\r\n        }\r\n        else\r\n        {\r\n          boolean strDataExist = myDb.Exists(fileNameDB);\r\n          if(strDataExist)\r\n          {\r\n            holder.dataImageView.setImageResource(R.drawable.local);\r\n          }\r\n          else\r\n          {\r\n          holder.dataImageView.setImageResource(R.drawable.default);\r\n          }\r\n       }    \t \t\t\t\r\n        \t \t\t\t\r\n       } catch (Exception e) {\r\n    \r\n   \t   }\r\n   \r\n      }\r\n\r\nAs you can see in getView(...) method, I am using three different kind of drawables (namely:- online, local, default)\r\n\r\nWhere online shows data has been uploaded to online server, local shows this has been added to local database and default..(neither uploaded to server nor stored to local database)\r\n\r\nProblem:\r\n\r\nWhenever I am doing bulk upload, getting online drawable only for the last row item in a list, whereas I have uploaded whole list item data to server\r\n\r\nI just want to show online drawable for all the list items, those I have uploaded to server, else my code works just fine...\r\n\r\nAlmost **complete code**:\r\n\r\n    public class UploadActivity extends Activity  {\t\r\n    \t\t\r\n    \t\tint globalPosition ;\r\n    \t\t\t\r\n    \t\t@Override\r\n    \t\tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);      \r\n    \t\t\r\n    \t\tsetContentView(R.layout.activity_upload);\r\n    \t\t\r\n            ImageButton buttonAllData = (ImageButton) findViewById(R.id.btnMenus); \r\n            buttonAllData.setOnClickListener(new OnClickListener() { \r\n    \r\n            @Override \r\n            public void onClick(View arg0) { \r\n            // TODO Auto-generated method stub \r\n            \t\t\t\t\r\n            \tnew UploadBulkData(globalPosition).execute();\r\n            \t\r\n            \t} \r\n            });\r\n                       \r\n    \t\t/*** Get Images from SDCard ***/\r\n    \t\tImageList = getSD();\r\n    \t\t\r\n    \t\t// ListView and imageAdapter\r\n    \t\tlstView = (ListView) findViewById(R.id.listView1);\r\n    \t\tlstView.setAdapter(new ImageAdapter(this));\r\n    \t\t\r\n    \t\ttotalItems = &quot;&quot;+ lstView.getAdapter().getCount();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic static List &lt;String&gt; getSD()\r\n    \t\t{\r\n    \t\t\tList &lt;String&gt; it = new ArrayList &lt;String&gt;();\r\n    \t\t\tString string = &quot;/mnt/sdcard/Pictures/Joseph/&quot;;\r\n    \t\t\tf = new File (string+ CameraLauncherActivity.folder+ &quot;/&quot;);\r\n    \t\t\tfiles = f.listFiles ();\r\n    \t\t\t\r\n    \t\t\t/***\r\n    \t\t\t * to show last taken image on top using lastModified\r\n    \t\t\t * to sort data\r\n    \t\t\t * to refresh data after (remove or update)\r\n    \t\t\t */\r\n    \t\t\tArrays.sort(files, new Comparator&lt;Object&gt;()\r\n    \t\t\t{\r\n    \t\t\t    public int compare(Object o1, Object o2) {\r\n    \r\n    \t\t\t        if (((File)o1).lastModified() &gt; ((File)o2).lastModified()) {\r\n    \t\t\t            return -1;\r\n    \t\t\t        } else if (((File)o1).lastModified() &lt; ((File)o2).lastModified()) {\r\n    \t\t\t            return +1;\r\n    \t\t\t        } else {\r\n    \t\t\t            return 0;\r\n    \t\t\t        }\r\n    \t\t\t    }\r\n    \t\t\t});\r\n    \t\t\t// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; END &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; files.length; i++)\r\n    \t\t\t{\r\n    \t\t\tfile = files[i];\r\n    \t\t\tLog.d(&quot;Count&quot;,file.getPath());\r\n    \t\t\tit.add (file.getPath());\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\treturn it;\t\r\n    \t\t}\t\t\t\r\n    \t\t\r\n    \t\tstatic class ViewHolder {\r\n                public ViewHolder(View convertView) {\r\n                    // TODO Auto-generated constructor stub\r\n                }                \r\n                TextView imageNameTextView;\r\n                ImageView sdCardImageView, statusImageView, dataImageView;\r\n                ProgressBar uploadProgressBar;\r\n                ImageButton uploadImageButton, dataImageButton;            \r\n                boolean isUploading = false;           \r\n            }  \r\n    \t\t\r\n             public class ImageAdapter extends BaseAdapter\r\n                {\r\n                    public ImageAdapter(Context c)\r\n                    {\r\n                    \t\r\n                    }\r\n    \r\n                    public int getCount() {\r\n                        // TODO Auto-generated method stub\r\n                        return ImageList.size();\r\n                    }\r\n    \r\n                    public Object getItem(int position) {\r\n                        // TODO Auto-generated method stub\r\n                        return position;\r\n                    }\r\n    \r\n                    public long getItemId(int position) {\r\n                        // TODO Auto-generated method stub\r\n                        return position;\r\n                    }\r\n    \r\n            public View getView(final int position, View convertView, ViewGroup parent) {\r\n            \t// Avoid unneccessary calls to findViewById() on each row, which is expensive!\r\n            \t\r\n                \tholder = null;\r\n                \t\r\n                \t // If this item is to be synced\r\n    \t            if(flags.get(position)) {\t            \t\r\n    \t            \t\r\n    \t                startUpload(position);\r\n    \t\r\n    \t            // Mark as synced\r\n    \t            flags.put(position, false);\r\n    \t            }\r\n    \t            \r\n    \t            /*\r\n    \t             * If convertView is not null, we can reuse it directly, no inflation required!\r\n    \t             * We only inflate a new View when the convertView is null.\r\n    \t             */\r\n    \t            if (convertView == null) {\r\n                    convertView = getLayoutInflater().inflate(R.layout.list_upload, null);\r\n                    holder = new ViewHolder(convertView);\r\n    \r\n                    // Create a ViewHolder and store references to the children views\r\n                    holder.imageNameTextView = (TextView) convertView.findViewById(R.id.ColImgName);\r\n                    holder.sdCardImageView = (ImageView) convertView.findViewById(R.id.ColImgPath);\r\n                    holder.statusImageView = (ImageView) convertView.findViewById(R.id.ColStatus);\r\n                    holder.uploadProgressBar = (ProgressBar) convertView.findViewById(R.id.progressBar);\r\n                    holder.uploadImageButton = (ImageButton) convertView.findViewById(R.id.btnUpload);\r\n                    holder.dataImageButton = (ImageButton) convertView.findViewById(R.id.btnData);                \r\n                    holder.dataImageView = (ImageView) convertView.findViewById(R.id.dataExist);\r\n                    \r\n                    // The tag can be any Object, this just happens to be the ViewHolder\r\n                    convertView.setTag(holder);                \r\n    \t            } else {\t            \t\r\n    \t            holder = (ViewHolder) convertView.getTag();\t            \r\n    \t            }\r\n    \r\n                    strPath = ImageList.get(position).toString();\r\n    \r\n                    // Get File Name\r\n                    fileName = strPath.substring( strPath.lastIndexOf(&#39;_&#39;)+1, strPath.length() );\r\n                    file = new File(strPath);\r\n                    @SuppressWarnings(&quot;unused&quot;)\r\n                    long length = file.length();\r\n                    holder.imageNameTextView.setText(fileName);\r\n                    \r\n                    fileName=ImageList.get(position).toString().substring\r\n    \t\t\t(strPath.lastIndexOf(&#39;_&#39;)+1, strPath.length());\r\n    \t\tfileNameDB=ImageList.get(position).toString().substring\r\n    \t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n                                    \r\n                    final BitmapFactory.Options options = new BitmapFactory.Options();\r\n    \r\n                    options.inSampleSize = 8;\r\n    \r\n                    Bitmap bm = BitmapFactory.decodeFile(strPath,options);\r\n                    holder.sdCardImageView.setImageBitmap(bm);       \r\n    \r\n                    if(holder.isUploading) {                \t\r\n                        holder.uploadProgressBar.setVisibility(View.VISIBLE);\r\n    \t            } else {\r\n    \t                holder.uploadProgressBar.setVisibility(View.GONE);\r\n    \t            }                                                        \t \t\t\t                \r\n                    holder.dataImageView.setImageResource(R.drawable.bullet_button);\r\n                    \r\n                    try {\r\n                    \t// check data exist or not\r\n        \t \t\t\tboolean strDataExistU = myDbbv.Exists(fileNameDB);\r\n        \t \t\t\tif(strDataExistU)\r\n        \t \t\t\t{\r\n        \t \t\t\t\tholder.dataImageView.setImageResource(R.drawable.online);\r\n        \t \t\t\t}\r\n        \t \t\t\telse\r\n        \t \t\t\t{\r\n        \t \t\t\t\t// check data exist or not\r\n            \t \t\t\tboolean strDataExist = myDb.Exists(fileNameDB);\r\n            \t \t\t\tif(strDataExist)\r\n            \t \t\t\t{\r\n            \t \t\t\t\tholder.dataImageView.setImageResource(R.drawable.database);\r\n            \t \t\t\t}\r\n            \t \t\t\telse\r\n            \t \t\t\t{\r\n            \t \t\t\t\tholder.dataImageView.setImageResource(R.drawable.default);\r\n            \t \t\t\t}\r\n        \t \t\t\t}    \t \t\t\t\r\n        \t \t\t\t\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}\r\n                      \r\n                    fileName = ImageList.get(position).toString().substring\r\n    \t \t\t\t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n                    \r\n                    try {\r\n                    \tboolean strExist = myDbb.Exists(fileName);\r\n        \t \t\t\tif(strExist)\r\n        \t \t\t\t{\r\n        \t \t\t\t\tholder.statusImageView.setImageResource(R.drawable.onl);\r\n        \t \t\t\t}\r\n        \t \t\t\telse\r\n        \t \t\t\t{\r\n        \t \t\t\t\tholder.statusImageView.setImageResource(R.drawable.bullet_button);\r\n        \t \t\t\t}\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}\r\n                    \r\n    \t \t\t\t\t\t \t\t                \t\t\r\n    \t\t\t\t// btnData\r\n    \t\t\t\tholder.dataImageButton.setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t\t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t\t// Print\r\n    \t\t\t\t\tglobalPosition = position;\r\n    \t\t\t\t\tfileName=ImageList.get(position).toString().substring\r\n    \t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;_&#39;)+1, strPath.length());\r\n    \t\t\t\t\tfileNameDB=ImageList.get(position).toString().substring\r\n    \t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n    \t\t\t\t\tshowDialog(DIALOG_LOGIN);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\treturn convertView;\r\n    \t\t \r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t         \r\n    \t\t\r\n    \t \t\t\t\t\tclass UploadData extends AsyncTask&lt;String, String, String&gt; {\r\n    \t \t\t\t\t\t\tprivate ProgressDialog pDialog;\r\n    \r\n    \t \t\t\t\t\t\t /**\r\n    \t \t\t\t\t        * Before starting background thread Show Progress Dialog\r\n    \t \t\t\t\t        * */\r\n    \t \t\t\t\t\t\t\r\n    \t \t\t\t\t       @Override\r\n    \t \t\t\t\t       protected void onPreExecute() {\r\n    \t \t\t\t\t           super.onPreExecute();\r\n    \t \t\t\t\t           pDialog = new ProgressDialog(UploadActivity.this);\r\n    \t \t\t\t\t           pDialog.setMessage(&quot;Uploading...&quot;);\r\n    \t \t\t\t\t           pDialog.setIndeterminate(false);\r\n    \t \t\t\t\t           pDialog.setCancelable(true);\r\n    \t \t\t\t\t           pDialog.show();                     \r\n    \t \t\t\t\t       }\r\n    \t \t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t@Override\r\n    \t \t\t\t\t\t\tprotected String doInBackground(String... args) {\r\n    \t \t\t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\tString url = &quot;http://web/uploadData.php&quot;;\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\tList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n    \t \t  \t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\tparams.add(new BasicNameValuePair(&quot;sImageName&quot;, fileNameDB));\r\n    \t \t  \t\t\t\t\t\tLog.d(&quot;sImageName::&quot;, fileNameDB);\r\n    \t \t  \t\t\t\t\t\t\r\n    \t \t  \t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\tString resultServer  = getHttpPost(url,params);\r\n    \t \t\t\t\t\t\t\tLog.d(&quot;Entire string::&quot;, &quot; &quot; + resultServer);\r\n    \t \t\t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\t/*** Default Value ***/\r\n    \t \t\t\t\t\t\t\tstrStatusID = &quot;0&quot;;\r\n    \t \t\t\t\t\t\t\tstrError = &quot;&quot;;\r\n    \t \t\t\t\t \r\n    \t \t\t\t\t\t\t\tJSONObject c;\r\n    \t \t\t\t\t\t\t\ttry {\r\n    \t \t\t\t\t\t\t\t\tc = new JSONObject(resultServer);\r\n    \t \t\t\t\t\t\t\t\tstrStatusID = c.getString(&quot;StatusID&quot;);\r\n    \t \t\t\t\t\t\t\t\tstrError = c.getString(&quot;Error&quot;);\r\n    \t \t\t\t\t\t\t\t} catch (JSONException e) {\r\n    \t \t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t \t\t\t\t\t\t\t}               \t\t\t\t\t       \r\n    \r\n    \t \t\t\t\t           return null;\r\n    \t \t\t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t}\r\n    \t \t\t\t\t\t\t/**\r\n    \t \t\t\t\t        * After completing background task Dismiss the progress dialog\r\n    \t \t\t\t\t        * **/\r\n    \t \t\t\t\t       protected void onPostExecute(String file_url) {\r\n    \t \t\t\t\t           // dismiss the dialog once product deleted\r\n    \t \t\t\t\t           pDialog.dismiss();\r\n    \t \t\t\t\t           \r\n    \t \t\t\t\t           try {\r\n    \t \t\t\t\t\t\t\t\r\n    \t \t\t\t\t        \t  fileName=ImageList.get(globalPosition).toString().substring\r\n    \t \t\t\t\t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;_&#39;)+1, strPath.length());\r\n    \t \t\t\t\t\t\t\t\tfileNameDB=ImageList.get(globalPosition).toString().substring\r\n    \t \t\t\t\t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n    \t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t \t\t\t\t\t\t\t\t// prepare save data\r\n    \t \t\t\t\t\t\t\t\tif(strStatusID.equals(&quot;0&quot;))\r\n    \t \t\t\t\t\t\t\t\t{\r\n    \t \t\t\t\t\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;Unable to upload Data&quot;,\r\n    \t \t\t\t\t\t\t\t\t\t\t\tToast.LENGTH_LONG).show();\r\n    \t \t\t\t\t\t\t\t\t}\r\n    \t \t\t\t\t\t\t\t\telse if (strStatusID.equals(&quot;1&quot;))\r\n    \t \t\t\t\t\t\t\t\t{\r\n    \t \t\t\t\t\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;Data Uploaded Successfully!&quot;, \r\n    \t \t\t\t\t\t\t\t\t\t\t\tToast.LENGTH_SHORT).show();\r\n    \t \t\t\t\t\t\t\t\t\t// Save Data\r\n    \t \t\t\t\t\t\t \t    \tlong saveImge = myDbbv.InsertData(fileNameDB);\r\n    \t \t\t\t\t\t\t \t    \tLog.d(&quot;fileNameDB:UP&quot;, String.valueOf(saveImge));\r\n    \t \t\t\t\t\t\t\t\t} else {\r\n    \t \t\t\t\t\t\t\t\t\tToast.makeText(getApplicationContext(), &quot;Unable to upload Data&quot;,\r\n    \t \t\t\t\t\t\t\t\t\t\t\tToast.LENGTH_LONG).show();\r\n    \t \t\t\t\t\t\t\t\t}\r\n    \t \t\t\t\t\t\t\t\t\r\n    \t \t\t\t\t          } catch (Exception e) {\r\n    \t \t\t\t\t\t\t\t\t// TODO: handle exception\r\n    \t \t\t\t\t\t\t\t}\r\n    \r\n    \t \t\t\t\t       \r\n    \t \t\t\t           if (file_url != null){\r\n    \t \t\t\t           \t\tToast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\r\n    \t \t\t\t           }\r\n    \t \t\t\t                      \r\n    \t \t\t\t       }\r\n    \t \t\t\t\t       \r\n    \t \t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\r\n    \t \t\t\t});\t\r\n    \t \t\t\t\r\n    \t \t\t\tcancelButton.setOnClickListener(new View.OnClickListener(){ \r\n    \t \t\t\t\t@Override\r\n    \t \t\t\t\t\tpublic void onClick(View v) {\t \t\t\t\t\t\t\r\n    \t \t\t\t\t\talertDialog.dismiss();\r\n    \t \t\t\t\t\t}\r\n    \t \t\t\t});\r\n    \t \t\t\t\r\n    \t \t\t\tcloseButton.setOnClickListener(new View.OnClickListener(){ \r\n    \t \t\t\t\t@Override\r\n    \t \t\t\t\t\tpublic void onClick(View v) {\t \t\t\t\t\t\t\r\n    \t \t\t\t\t\talertDialog.dismiss();\r\n    \t \t\t\t\t\t}\r\n    \t \t\t\t});\r\n    \t \t\t}\r\n    \t\t}\t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\t\t\tclass UploadBulkData extends AsyncTask&lt;String, String, String&gt; {\r\n    \t\t\t\t\t\t\tprivate ProgressDialog pDialog;\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tint dataPosition;\r\n    \r\n    \t\t\t\t\t\t    //constructor to pass position of row, on which button was clicked to class\r\n    \t\t\t\t\t\t    public UploadBulkData(int position){\r\n    \t\t\t\t\t\t        this.dataPosition = position;\r\n    \t\t\t\t\t\t    }\r\n    \r\n    \t\t\t\t\t\t\t /**\r\n    \t\t\t\t\t        * Before starting background thread Show Progress Dialog\r\n    \t\t\t\t\t        * */\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t       @Override\r\n    \t\t\t\t\t       protected void onPreExecute() {\r\n    \t\t\t\t\t           super.onPreExecute();\r\n    \t\t\t\t\t           pDialog = new ProgressDialog(UploadActivity.this);\r\n    \t\t\t\t\t           pDialog.setMessage(&quot;Uploading...&quot;);\r\n    \t\t\t\t\t           pDialog.setIndeterminate(false);\r\n    \t\t\t\t\t           pDialog.setCancelable(true);\r\n    \t\t\t\t\t           pDialog.show();\r\n    \t\t\t\t\t       }\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tprotected String doInBackground(String... args) {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t        String url = &quot;http://web/uploadBulk.php&quot;;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t        List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n    \t\t\t\t\t\t        params.add(new BasicNameValuePair(&quot;EventData&quot;, st));\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t        String resultServer = getHttpPost(url,params); \r\n    \t\t\t\t\t\t        Log.d(&quot;Entire string::&quot;, &quot; &quot; + resultServer); \r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t        /*** Default Value ***/\r\n    \t\t\t\t\t\t        strStatusID = &quot;0&quot;; \r\n    \t\t\t\t\t\t        strError = &quot;&quot;; \r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t\t        JSONObject jsonObject;\r\n    \t\t\t\t\t\t        try { \r\n    \t\t\t\t\t\t\t\t        jsonObject = new JSONObject(resultServer); \r\n    \t\t\t\t\t\t\t\t        strStatusID = jsonObject.getString(&quot;StatusID&quot;); \r\n    \t\t\t\t\t\t\t\t        strError = jsonObject.getString(&quot;Message&quot;); \r\n    \t\t\t\t\t\t\t\t        } catch (JSONException e) { \r\n    \t\t\t\t\t\t\t\t        // TODO Auto-generated catch block \r\n    \t\t\t\t\t\t\t\t        e.printStackTrace();\r\n    \t\t\t\t\t\t\t        } \r\n    \t\t\t\t\t        \t}\r\n    \t\t\t\t\t        \t\r\n    \t\t\t\t\t           return null;\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t/**\r\n    \t\t\t\t\t        * After completing background task Dismiss the progress dialog\r\n    \t\t\t\t\t        * **/\r\n    \t\t\t\t\t       protected void onPostExecute(String file_url) {\r\n    \t\t\t\t\t           // dismiss the dialog once product deleted\r\n    \t\t\t\t\t           pDialog.dismiss();\r\n    \t\t\t\t\t           \r\n    \t\t\t\t\t            // Prepare Save Data\r\n    \t\t\t\t\t\t        if(strStatusID.equals(&quot;1&quot;))\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t        \tToast.makeText(UploadActivity.this, &quot;Data Uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\t\t        \tfileNameDB=ImageList.get(dataPosition).toString().substring\r\n    \t\t\t\t\t\t\t\t\t\t\t(strPath.lastIndexOf(&#39;/&#39;)+1, strPath.length());\r\n    \t\t\t\t\t\t           \r\n    \t\t\t\t\t\t\t\t\t// Save Data\r\n    \t\t\t\t\t\t \t    \tlong saveImge = myDbbv.InsertData(fileNameDB);\r\n    \t\t\t\t\t\t \t    \tLog.d(&quot;fileNameDB:UP&quot;, String.valueOf(saveImge));\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tToast.makeText(UploadActivity.this, &quot;Unable to upload Data&quot;, Toast.LENGTH_SHORT).show();\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t        \t\t\t\t\t\t       \r\n    \t\t\t\t\t           if (file_url != null){\r\n    \t\t\t\t\t           \t\tToast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\r\n    \t\t\t\t\t           }\r\n    \r\n    \t\t\t\t\t       }\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t}","title":"Showing status for the last list item in a ListView using ViewHolder","body":"<pre><code>    int globalPosition ;\n\n    ..............\n\n    buttonAllData.setOnClickListener(new OnClickListener() { \n\n    @Override \n    public void onClick(View arg0) { \n    // TODO Auto-generated method stub \n        new UploadBulkData(globalPosition).execute();\n\n        } \n    });\n\n   ........\n\n   class UploadBulkData extends AsyncTask&lt;String, String, String&gt; {\n    private ProgressDialog pDialog;\n    int dataPosition;\n\n    public UploadBulkData(int position){\n     this.dataPosition = position;\n    }\n\n    @Override\n    protected void onPreExecute() {\n      super.onPreExecute();\n      pDialog = new ProgressDialog(UploadActivity.this);\n      pDialog.setMessage(\"Uploading...\");\n      pDialog.setIndeterminate(false);\n      pDialog.setCancelable(true);\n      pDialog.show();\n    }\n\n    @Override\n    protected String doInBackground(String... args) {\n       .......\n       String url = \"http://web/uploadBulk.php\";\n       List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n       params.add(new BasicNameValuePair(\"UserData\", st));\n\n       String resultServer = getHttpPost(url,params); \n       Log.d(\"Entire string::\", \" \" + resultServer); \n\n       /*** Default Value ***/\n       strStatusID = \"0\"; \n       strError = \"\"; \n\n      JSONObject jsonObject;\n      try { \n        jsonObject = new JSONObject(resultServer); \n        strStatusID = jsonObject.getString(\"StatusID\"); \n        strError = jsonObject.getString(\"Message\"); \n      } catch (JSONException e) { \n        e.printStackTrace();\n      } \n   }\n\n   return null;\n\n   }\n\n   protected void onPostExecute(String file_url) {\n\n         pDialog.dismiss();\n         fileNameDB=ImageList.get(globalPosition).toString().substring\n            (strPath.lastIndexOf('/')+1, strPath.length());\n\n         if(strStatusID.equals(\"1\"))\n           {\n             Toast.makeText(UploadActivity.this, \"Data Uploaded Successfully\", Toast.LENGTH_SHORT).show();\n\n            long saveImge = myDbbv.InsertData(fileNameDB);\n            Log.d(\"fileNameDB:UP\", String.valueOf(saveImge));\n           }\n           else\n           {   \n             Toast.makeText(UploadActivity.this, \"Unable to upload Data\", Toast.LENGTH_SHORT).show();                                   \n           }\n\n           if (file_url != null){\n               Toast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\n            }\n       }\n}\n</code></pre>\n\n<p>And in getView i am using something like this:</p>\n\n<pre><code>public View getView(final int position, View convertView, ViewGroup parent) {\n\nholder.dataImageView.setImageResource(R.drawable.bullet_button);\n\ntry {\n    // check data exist or not\n    boolean strDataExistU = myDbbv.Exists(fileNameDB);\n    if(strDataExistU)\n    {\n      holder.dataImageView.setImageResource(R.drawable.online);\n    }\n    else\n    {\n      boolean strDataExist = myDb.Exists(fileNameDB);\n      if(strDataExist)\n      {\n        holder.dataImageView.setImageResource(R.drawable.local);\n      }\n      else\n      {\n      holder.dataImageView.setImageResource(R.drawable.default);\n      }\n   }                    \n\n   } catch (Exception e) {\n\n   }\n\n  }\n</code></pre>\n\n<p>As you can see in getView(...) method, I am using three different kind of drawables (namely:- online, local, default)</p>\n\n<p>Where online shows data has been uploaded to online server, local shows this has been added to local database and default..(neither uploaded to server nor stored to local database)</p>\n\n<p>Problem:</p>\n\n<p>Whenever I am doing bulk upload, getting online drawable only for the last row item in a list, whereas I have uploaded whole list item data to server</p>\n\n<p>I just want to show online drawable for all the list items, those I have uploaded to server, else my code works just fine...</p>\n\n<p>Almost <strong>complete code</strong>:</p>\n\n<pre><code>public class UploadActivity extends Activity  { \n\n        int globalPosition ;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);      \n\n        setContentView(R.layout.activity_upload);\n\n        ImageButton buttonAllData = (ImageButton) findViewById(R.id.btnMenus); \n        buttonAllData.setOnClickListener(new OnClickListener() { \n\n        @Override \n        public void onClick(View arg0) { \n        // TODO Auto-generated method stub \n\n            new UploadBulkData(globalPosition).execute();\n\n            } \n        });\n\n        /*** Get Images from SDCard ***/\n        ImageList = getSD();\n\n        // ListView and imageAdapter\n        lstView = (ListView) findViewById(R.id.listView1);\n        lstView.setAdapter(new ImageAdapter(this));\n\n        totalItems = \"\"+ lstView.getAdapter().getCount();\n        }\n\n        public static List &lt;String&gt; getSD()\n        {\n            List &lt;String&gt; it = new ArrayList &lt;String&gt;();\n            String string = \"/mnt/sdcard/Pictures/Joseph/\";\n            f = new File (string+ CameraLauncherActivity.folder+ \"/\");\n            files = f.listFiles ();\n\n            /***\n             * to show last taken image on top using lastModified\n             * to sort data\n             * to refresh data after (remove or update)\n             */\n            Arrays.sort(files, new Comparator&lt;Object&gt;()\n            {\n                public int compare(Object o1, Object o2) {\n\n                    if (((File)o1).lastModified() &gt; ((File)o2).lastModified()) {\n                        return -1;\n                    } else if (((File)o1).lastModified() &lt; ((File)o2).lastModified()) {\n                        return +1;\n                    } else {\n                        return 0;\n                    }\n                }\n            });\n            // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; END &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n\n            for (int i = 0; i &lt; files.length; i++)\n            {\n            file = files[i];\n            Log.d(\"Count\",file.getPath());\n            it.add (file.getPath());\n            }\n\n        return it;  \n        }           \n\n        static class ViewHolder {\n            public ViewHolder(View convertView) {\n                // TODO Auto-generated constructor stub\n            }                \n            TextView imageNameTextView;\n            ImageView sdCardImageView, statusImageView, dataImageView;\n            ProgressBar uploadProgressBar;\n            ImageButton uploadImageButton, dataImageButton;            \n            boolean isUploading = false;           \n        }  \n\n         public class ImageAdapter extends BaseAdapter\n            {\n                public ImageAdapter(Context c)\n                {\n\n                }\n\n                public int getCount() {\n                    // TODO Auto-generated method stub\n                    return ImageList.size();\n                }\n\n                public Object getItem(int position) {\n                    // TODO Auto-generated method stub\n                    return position;\n                }\n\n                public long getItemId(int position) {\n                    // TODO Auto-generated method stub\n                    return position;\n                }\n\n        public View getView(final int position, View convertView, ViewGroup parent) {\n            // Avoid unneccessary calls to findViewById() on each row, which is expensive!\n\n                holder = null;\n\n                 // If this item is to be synced\n                if(flags.get(position)) {                   \n\n                    startUpload(position);\n\n                // Mark as synced\n                flags.put(position, false);\n                }\n\n                /*\n                 * If convertView is not null, we can reuse it directly, no inflation required!\n                 * We only inflate a new View when the convertView is null.\n                 */\n                if (convertView == null) {\n                convertView = getLayoutInflater().inflate(R.layout.list_upload, null);\n                holder = new ViewHolder(convertView);\n\n                // Create a ViewHolder and store references to the children views\n                holder.imageNameTextView = (TextView) convertView.findViewById(R.id.ColImgName);\n                holder.sdCardImageView = (ImageView) convertView.findViewById(R.id.ColImgPath);\n                holder.statusImageView = (ImageView) convertView.findViewById(R.id.ColStatus);\n                holder.uploadProgressBar = (ProgressBar) convertView.findViewById(R.id.progressBar);\n                holder.uploadImageButton = (ImageButton) convertView.findViewById(R.id.btnUpload);\n                holder.dataImageButton = (ImageButton) convertView.findViewById(R.id.btnData);                \n                holder.dataImageView = (ImageView) convertView.findViewById(R.id.dataExist);\n\n                // The tag can be any Object, this just happens to be the ViewHolder\n                convertView.setTag(holder);                \n                } else {                    \n                holder = (ViewHolder) convertView.getTag();             \n                }\n\n                strPath = ImageList.get(position).toString();\n\n                // Get File Name\n                fileName = strPath.substring( strPath.lastIndexOf('_')+1, strPath.length() );\n                file = new File(strPath);\n                @SuppressWarnings(\"unused\")\n                long length = file.length();\n                holder.imageNameTextView.setText(fileName);\n\n                fileName=ImageList.get(position).toString().substring\n            (strPath.lastIndexOf('_')+1, strPath.length());\n        fileNameDB=ImageList.get(position).toString().substring\n            (strPath.lastIndexOf('/')+1, strPath.length());\n\n                final BitmapFactory.Options options = new BitmapFactory.Options();\n\n                options.inSampleSize = 8;\n\n                Bitmap bm = BitmapFactory.decodeFile(strPath,options);\n                holder.sdCardImageView.setImageBitmap(bm);       \n\n                if(holder.isUploading) {                    \n                    holder.uploadProgressBar.setVisibility(View.VISIBLE);\n                } else {\n                    holder.uploadProgressBar.setVisibility(View.GONE);\n                }                                                                                       \n                holder.dataImageView.setImageResource(R.drawable.bullet_button);\n\n                try {\n                    // check data exist or not\n                    boolean strDataExistU = myDbbv.Exists(fileNameDB);\n                    if(strDataExistU)\n                    {\n                        holder.dataImageView.setImageResource(R.drawable.online);\n                    }\n                    else\n                    {\n                        // check data exist or not\n                        boolean strDataExist = myDb.Exists(fileNameDB);\n                        if(strDataExist)\n                        {\n                            holder.dataImageView.setImageResource(R.drawable.database);\n                        }\n                        else\n                        {\n                            holder.dataImageView.setImageResource(R.drawable.default);\n                        }\n                    }                   \n\n                } catch (Exception e) {\n                    // TODO: handle exception\n                }\n\n                fileName = ImageList.get(position).toString().substring\n                        (strPath.lastIndexOf('/')+1, strPath.length());\n\n                try {\n                    boolean strExist = myDbb.Exists(fileName);\n                    if(strExist)\n                    {\n                        holder.statusImageView.setImageResource(R.drawable.onl);\n                    }\n                    else\n                    {\n                        holder.statusImageView.setImageResource(R.drawable.bullet_button);\n                    }\n                } catch (Exception e) {\n                    // TODO: handle exception\n                }\n\n\n                // btnData\n                holder.dataImageButton.setOnClickListener(new View.OnClickListener() {\n                @SuppressWarnings(\"deprecation\")\n                public void onClick(View v) {\n                    // Print\n                    globalPosition = position;\n                    fileName=ImageList.get(position).toString().substring\n                            (strPath.lastIndexOf('_')+1, strPath.length());\n                    fileNameDB=ImageList.get(position).toString().substring\n                            (strPath.lastIndexOf('/')+1, strPath.length());\n                    showDialog(DIALOG_LOGIN);\n                    }\n                });     \n\n        return convertView;\n\n            }   \n        }\n\n\n                        class UploadData extends AsyncTask&lt;String, String, String&gt; {\n                            private ProgressDialog pDialog;\n\n                             /**\n                            * Before starting background thread Show Progress Dialog\n                            * */\n\n                           @Override\n                           protected void onPreExecute() {\n                               super.onPreExecute();\n                               pDialog = new ProgressDialog(UploadActivity.this);\n                               pDialog.setMessage(\"Uploading...\");\n                               pDialog.setIndeterminate(false);\n                               pDialog.setCancelable(true);\n                               pDialog.show();                     \n                           }\n\n                            @Override\n                            protected String doInBackground(String... args) {\n\n                                String url = \"http://web/uploadData.php\";                                       \n\n                                List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n                                params.add(new BasicNameValuePair(\"sImageName\", fileNameDB));\n                                Log.d(\"sImageName::\", fileNameDB);\n\n\n                                String resultServer  = getHttpPost(url,params);\n                                Log.d(\"Entire string::\", \" \" + resultServer);\n\n                                /*** Default Value ***/\n                                strStatusID = \"0\";\n                                strError = \"\";\n\n                                JSONObject c;\n                                try {\n                                    c = new JSONObject(resultServer);\n                                    strStatusID = c.getString(\"StatusID\");\n                                    strError = c.getString(\"Error\");\n                                } catch (JSONException e) {\n                                    // TODO Auto-generated catch block\n                                    e.printStackTrace();\n                                }                                          \n\n                               return null;\n\n                            }\n                            /**\n                            * After completing background task Dismiss the progress dialog\n                            * **/\n                           protected void onPostExecute(String file_url) {\n                               // dismiss the dialog once product deleted\n                               pDialog.dismiss();\n\n                               try {\n\n                                  fileName=ImageList.get(globalPosition).toString().substring\n                                            (strPath.lastIndexOf('_')+1, strPath.length());\n                                    fileNameDB=ImageList.get(globalPosition).toString().substring\n                                            (strPath.lastIndexOf('/')+1, strPath.length());\n\n                                    // prepare save data\n                                    if(strStatusID.equals(\"0\"))\n                                    {\n                                        Toast.makeText(getApplicationContext(), \"Unable to upload Data\",\n                                                Toast.LENGTH_LONG).show();\n                                    }\n                                    else if (strStatusID.equals(\"1\"))\n                                    {\n                                        Toast.makeText(getApplicationContext(), \"Data Uploaded Successfully!\", \n                                                Toast.LENGTH_SHORT).show();\n                                        // Save Data\n                                        long saveImge = myDbbv.InsertData(fileNameDB);\n                                        Log.d(\"fileNameDB:UP\", String.valueOf(saveImge));\n                                    } else {\n                                        Toast.makeText(getApplicationContext(), \"Unable to upload Data\",\n                                                Toast.LENGTH_LONG).show();\n                                    }\n\n                              } catch (Exception e) {\n                                    // TODO: handle exception\n                                }\n\n\n                           if (file_url != null){\n                                Toast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\n                           }\n\n                       }\n\n                    }\n\n\n                }); \n\n                cancelButton.setOnClickListener(new View.OnClickListener(){ \n                    @Override\n                        public void onClick(View v) {                           \n                        alertDialog.dismiss();\n                        }\n                });\n\n                closeButton.setOnClickListener(new View.OnClickListener(){ \n                    @Override\n                        public void onClick(View v) {                           \n                        alertDialog.dismiss();\n                        }\n                });\n            }\n        }       \n\n\n                        class UploadBulkData extends AsyncTask&lt;String, String, String&gt; {\n                            private ProgressDialog pDialog;\n\n                            int dataPosition;\n\n                            //constructor to pass position of row, on which button was clicked to class\n                            public UploadBulkData(int position){\n                                this.dataPosition = position;\n                            }\n\n                             /**\n                            * Before starting background thread Show Progress Dialog\n                            * */\n\n                           @Override\n                           protected void onPreExecute() {\n                               super.onPreExecute();\n                               pDialog = new ProgressDialog(UploadActivity.this);\n                               pDialog.setMessage(\"Uploading...\");\n                               pDialog.setIndeterminate(false);\n                               pDialog.setCancelable(true);\n                               pDialog.show();\n                           }\n\n                            @Override\n                            protected String doInBackground(String... args) {\n\n                                String url = \"http://web/uploadBulk.php\";\n\n                                List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n                                params.add(new BasicNameValuePair(\"EventData\", st));\n\n                                String resultServer = getHttpPost(url,params); \n                                Log.d(\"Entire string::\", \" \" + resultServer); \n\n                                /*** Default Value ***/\n                                strStatusID = \"0\"; \n                                strError = \"\"; \n\n                                JSONObject jsonObject;\n                                try { \n                                        jsonObject = new JSONObject(resultServer); \n                                        strStatusID = jsonObject.getString(\"StatusID\"); \n                                        strError = jsonObject.getString(\"Message\"); \n                                        } catch (JSONException e) { \n                                        // TODO Auto-generated catch block \n                                        e.printStackTrace();\n                                    } \n                                }\n\n                               return null;\n\n                            }\n                            /**\n                            * After completing background task Dismiss the progress dialog\n                            * **/\n                           protected void onPostExecute(String file_url) {\n                               // dismiss the dialog once product deleted\n                               pDialog.dismiss();\n\n                                // Prepare Save Data\n                                if(strStatusID.equals(\"1\"))\n                                {\n                                    Toast.makeText(UploadActivity.this, \"Data Uploaded Successfully\", Toast.LENGTH_SHORT).show();\n                                    fileNameDB=ImageList.get(dataPosition).toString().substring\n                                            (strPath.lastIndexOf('/')+1, strPath.length());\n\n                                    // Save Data\n                                    long saveImge = myDbbv.InsertData(fileNameDB);\n                                    Log.d(\"fileNameDB:UP\", String.valueOf(saveImge));\n                                }\n                                else\n                                {\n                                    Toast.makeText(UploadActivity.this, \"Unable to upload Data\", Toast.LENGTH_SHORT).show();                                    \n                                }\n\n                               if (file_url != null){\n                                    Toast.makeText(UploadActivity.this, file_url, Toast.LENGTH_LONG).show();\n                               }\n\n                           }\n\n            }\n</code></pre>\n"},{"tags":["java","web-services"],"comments":[{"owner":{"account_id":1717501,"reputation":541,"user_id":1574258,"accept_rate":43,"display_name":"vikeng21"},"score":0,"creation_date":1412854784,"post_id":26277370,"comment_id":41227084,"body_markdown":"There is a way called REST its url based. I don&#39;t think you can invoke a WS without creating stubs if you have a ready made WSDL","body":"There is a way called REST its url based. I don&#39;t think you can invoke a WS without creating stubs if you have a ready made WSDL"},{"owner":{"account_id":5127613,"reputation":5480,"user_id":4109045,"accept_rate":73,"display_name":"VAndrei"},"score":0,"creation_date":1412855042,"post_id":26277370,"comment_id":41227242,"body_markdown":"i think there is a similar post on this topic here: http://stackoverflow.com/questions/2491598/create-on-the-fly-web-service-dynamic-web-service-invoker","body":"i think there is a similar post on this topic here: <a href=\"http://stackoverflow.com/questions/2491598/create-on-the-fly-web-service-dynamic-web-service-invoker\" title=\"create on the fly web service dynamic web service invoker\">stackoverflow.com/questions/2491598/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1412856368,"post_id":26277370,"comment_id":41228058,"body_markdown":"A webservice is nothing more then sending xml to an endpoint over some transport. Heck you could just create a `String` containting the XML and use a `HttpUrlConnection` (if the transport is HTTP) to send the XML to the endpoint. You can even use JAX-WS to dynamically (at runtime!) create a proxy for the webservice for you. No additional library needed.","body":"A webservice is nothing more then sending xml to an endpoint over some transport. Heck you could just create a <code>String</code> containting the XML and use a <code>HttpUrlConnection</code> (if the transport is HTTP) to send the XML to the endpoint. You can even use JAX-WS to dynamically (at runtime!) create a proxy for the webservice for you. No additional library needed."}],"answers":[{"tags":[],"owner":{"account_id":5145266,"reputation":556,"user_id":4121444,"display_name":"mreiterer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412856266,"creation_date":1412855032,"answer_id":26277587,"question_id":26277370,"body_markdown":"Interesting question. After a little research i found this project on github which seems to fulfill your needs.\r\n\r\nhttps://github.com/reficio/soap-ws\r\n\r\nHere is some sample code from the github site which seems very easy and straightforward.\r\n\r\nConsume a Web-Serivce in 60 seconds\r\n\r\nLet&#39;s consume the CurrencyConverter Web-Service. Thanks to the fluent builders the API is straigtforward and intuitive. Does it need any explanation? Welcome to soap-ws :)\r\n\r\n    Wsdl wsdl = Wsdl.parse(&quot;http://www.webservicex.net/CurrencyConvertor.asmx?WSDL&quot;);\r\n\r\n    SoapBuilder builder = wsdl.binding()\r\n        .localPart(&quot;CurrencyConvertorSoap&quot;)\r\n        .find();\r\n    SoapOperation operation = builder.operation()\r\n        .soapAction(&quot;http://www.webserviceX.NET/ConversionRate&quot;)\r\n        .find();\r\n    Request request = builder.buildInputMessage(operation)\r\n\r\n    SoapClient client = SoapClient.builder()\r\n        .endpointUrl(&quot;http://www.webservicex.net/CurrencyConvertor.asmx&quot;)\r\n        .build();\r\n    String response = client.post(request);\r\n\r\n\r\n","title":"How to invoke webservice without creating any clients for it?","body":"<p>Interesting question. After a little research i found this project on github which seems to fulfill your needs.</p>\n\n<p><a href=\"https://github.com/reficio/soap-ws\" rel=\"nofollow\">https://github.com/reficio/soap-ws</a></p>\n\n<p>Here is some sample code from the github site which seems very easy and straightforward.</p>\n\n<p>Consume a Web-Serivce in 60 seconds</p>\n\n<p>Let's consume the CurrencyConverter Web-Service. Thanks to the fluent builders the API is straigtforward and intuitive. Does it need any explanation? Welcome to soap-ws :)</p>\n\n<pre><code>Wsdl wsdl = Wsdl.parse(\"http://www.webservicex.net/CurrencyConvertor.asmx?WSDL\");\n\nSoapBuilder builder = wsdl.binding()\n    .localPart(\"CurrencyConvertorSoap\")\n    .find();\nSoapOperation operation = builder.operation()\n    .soapAction(\"http://www.webserviceX.NET/ConversionRate\")\n    .find();\nRequest request = builder.buildInputMessage(operation)\n\nSoapClient client = SoapClient.builder()\n    .endpointUrl(\"http://www.webservicex.net/CurrencyConvertor.asmx\")\n    .build();\nString response = client.post(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412856149,"creation_date":1412856149,"answer_id":26277942,"question_id":26277370,"body_markdown":"Hope you are searching for a tool for invoking web services. Better user [Soap UI][1] \r\nSoap UI is a tool which acts as a client to connect with your webservices.\r\n\r\n\r\n  [1]: http://www.soapui.org/","title":"How to invoke webservice without creating any clients for it?","body":"<p>Hope you are searching for a tool for invoking web services. Better user <a href=\"http://www.soapui.org/\" rel=\"nofollow\">Soap UI</a> \nSoap UI is a tool which acts as a client to connect with your webservices.</p>\n"},{"tags":[],"owner":{"account_id":4689756,"reputation":332,"user_id":3796172,"display_name":"You_Shall_Not_Pass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1413275550,"creation_date":1413275550,"answer_id":26356121,"question_id":26277370,"body_markdown":"Soap Ui is a application used for testing the web service generated. You only need the Wsdl for doing the same.  \r\n[here][1] is a link.\r\n\r\n 1. right click the generated wsdl &gt; run as &gt; run in server.\r\n\r\n 2. copy the url from the address bar of the browser.\r\n\r\n 3. open soap iu and click on new project.\r\n\r\n 4. paste the url in the wsdl column.\r\n\r\n 5. the project will be listed with the name of the method.\r\n\r\n 6. expand the method and click on request1.\r\n\r\n 7. enter the values in the &quot;?&quot; which are the parameters to the method.\r\n\r\n 8. click the run button.\r\n\r\nthis a method for mocking the web service created without creating a client. The soap Ui application can work as client.\r\nHope this helps.\r\n\r\n  [1]: http://www.soapui.org/SOAP-and-WSDL/getting-started.html","title":"How to invoke webservice without creating any clients for it?","body":"<p>Soap Ui is a application used for testing the web service generated. You only need the Wsdl for doing the same.<br>\n<a href=\"http://www.soapui.org/SOAP-and-WSDL/getting-started.html\" rel=\"nofollow\">here</a> is a link.</p>\n\n<ol>\n<li><p>right click the generated wsdl > run as > run in server.</p></li>\n<li><p>copy the url from the address bar of the browser.</p></li>\n<li><p>open soap iu and click on new project.</p></li>\n<li><p>paste the url in the wsdl column.</p></li>\n<li><p>the project will be listed with the name of the method.</p></li>\n<li><p>expand the method and click on request1.</p></li>\n<li><p>enter the values in the \"?\" which are the parameters to the method.</p></li>\n<li><p>click the run button.</p></li>\n</ol>\n\n<p>this a method for mocking the web service created without creating a client. The soap Ui application can work as client.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2921381,"reputation":486,"user_id":2503544,"display_name":"Mohammad Sadegh Rafiei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684137148,"creation_date":1684137148,"answer_id":76251942,"question_id":26277370,"body_markdown":"You can this bellow class for invoke a soap webservices without creation any client.\r\n\r\n\tpublic class SoapServiceCaller {\r\n\r\n    \tpublic static String invokeSoapService(String endpointUrl, Map&lt;String, String&gt; headers, String body) throws IOException {\r\n\r\n        \tHttpURLConnection connection = (HttpURLConnection) (new URL(endpointUrl)).openConnection();\r\n\r\n        \t// create body of request\r\n        \tByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n        \tbyte[] bodyBytes = body.getBytes();\r\n        \tbout.write(bodyBytes);\r\n\r\n        \t// Add Header into connection\r\n        \theaders.put(&quot;Content-Length&quot;, String.valueOf(body.getBytes().length));\r\n        \theaders.put(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n        \tconnection.setRequestMethod(&quot;POST&quot;);\r\n        \tconnection.setDoOutput(true);\r\n        \tconnection.setDoInput(true);\r\n        \taddHeaders(connection, headers);\r\n\r\n        \t// Write the content of the request to the output stream of the HTTP Connection.\r\n        \tOutputStream out = connection.getOutputStream();\r\n        \tout.write(bout.toByteArray());\r\n        \tout.close();\r\n\r\n        \t// Ready with sending the request.\r\n        \treturn getSendRequestAndGetResponse(connection);\r\n    \t}\r\n\r\n    \tprivate static void addHeaders(HttpURLConnection connection, Map&lt;String, String&gt; headers) {\r\n    \t    headers.forEach(connection::setRequestProperty);\r\n    \t}\r\n\r\n    \tprivate static String getSendRequestAndGetResponse(HttpURLConnection connection) throws IOException {\r\n        \tBufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        \tStringBuilder builder = new StringBuilder();\r\n        \tString line;\r\n        \twhile ((line = in.readLine()) != null) builder.append(line);\r\n        \treturn builder.toString();\r\n    \t}\r\n\t}\r\n\r\nand use bellow code to test it.\r\n\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        String body = &quot;&lt;soap:Envelope xmlns:soap=\\&quot;http://www.w3.org/2003/05/soap-envelope\\&quot; xmlns:web=\\&quot;http://www.dataaccess.com/webservicesserver/\\&quot;&gt; &lt;soap:Header/&gt; &lt;soap:Body&gt; &lt;web:NumberToDollars&gt; &lt;web:dNum&gt;20&lt;/web:dNum&gt; &lt;/web:NumberToDollars&gt; &lt;/soap:Body&gt; &lt;/soap:Envelope&gt;&quot;;\r\n        String endpointUrl = &quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso&quot;;\r\n        String response = SoapServiceCaller.invokeSoapService(endpointUrl, headers, body);\r\n        System.out.print(response);\r\n    \r\nI use this wsdl file for testing\r\nhttps://www.dataaccess.com/webservicesserver/NumberConversion.wso?wsdl","title":"How to invoke webservice without creating any clients for it?","body":"<p>You can this bellow class for invoke a soap webservices without creation any client.</p>\n<pre><code>public class SoapServiceCaller {\n\n    public static String invokeSoapService(String endpointUrl, Map&lt;String, String&gt; headers, String body) throws IOException {\n\n        HttpURLConnection connection = (HttpURLConnection) (new URL(endpointUrl)).openConnection();\n\n        // create body of request\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        byte[] bodyBytes = body.getBytes();\n        bout.write(bodyBytes);\n\n        // Add Header into connection\n        headers.put(&quot;Content-Length&quot;, String.valueOf(body.getBytes().length));\n        headers.put(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setDoOutput(true);\n        connection.setDoInput(true);\n        addHeaders(connection, headers);\n\n        // Write the content of the request to the output stream of the HTTP Connection.\n        OutputStream out = connection.getOutputStream();\n        out.write(bout.toByteArray());\n        out.close();\n\n        // Ready with sending the request.\n        return getSendRequestAndGetResponse(connection);\n    }\n\n    private static void addHeaders(HttpURLConnection connection, Map&lt;String, String&gt; headers) {\n        headers.forEach(connection::setRequestProperty);\n    }\n\n    private static String getSendRequestAndGetResponse(HttpURLConnection connection) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        StringBuilder builder = new StringBuilder();\n        String line;\n        while ((line = in.readLine()) != null) builder.append(line);\n        return builder.toString();\n    }\n}\n</code></pre>\n<p>and use bellow code to test it.</p>\n<pre><code>    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    String body = &quot;&lt;soap:Envelope xmlns:soap=\\&quot;http://www.w3.org/2003/05/soap-envelope\\&quot; xmlns:web=\\&quot;http://www.dataaccess.com/webservicesserver/\\&quot;&gt; &lt;soap:Header/&gt; &lt;soap:Body&gt; &lt;web:NumberToDollars&gt; &lt;web:dNum&gt;20&lt;/web:dNum&gt; &lt;/web:NumberToDollars&gt; &lt;/soap:Body&gt; &lt;/soap:Envelope&gt;&quot;;\n    String endpointUrl = &quot;https://www.dataaccess.com/webservicesserver/NumberConversion.wso&quot;;\n    String response = SoapServiceCaller.invokeSoapService(endpointUrl, headers, body);\n    System.out.print(response);\n</code></pre>\n<p>I use this wsdl file for testing\n<a href=\"https://www.dataaccess.com/webservicesserver/NumberConversion.wso?wsdl\" rel=\"nofollow noreferrer\">https://www.dataaccess.com/webservicesserver/NumberConversion.wso?wsdl</a></p>\n"}],"owner":{"display_name":"user3929769"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3216,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":26356121,"answer_count":4,"score":1,"last_activity_date":1684137148,"creation_date":1412854435,"question_id":26277370,"body_markdown":"I was searching on google but not found any helpful article on this.\r\nI want to invoke webservice methods.I have wdsl and i have to invoke dynamically without creating any stubs as such.Any example will be more helpful.","title":"How to invoke webservice without creating any clients for it?","body":"<p>I was searching on google but not found any helpful article on this.\nI want to invoke webservice methods.I have wdsl and i have to invoke dynamically without creating any stubs as such.Any example will be more helpful.</p>\n"},{"tags":["java","oop","operator-precedence"],"comments":[{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1684139815,"post_id":76251852,"comment_id":134467572,"body_markdown":"I would like to give you two hints: 1. please use a debugger to get a deeper understanding of what is happening in your code(in the end I guess what goes horribly wrong, besides other things that go minorly wrong is, that you overwrite the result on every loop? 2. rethink on your program structure! the given code is sort of ugly in it&#39;s workflow. Maybe you can shove all inputs in a list first before you resume calculating.","body":"I would like to give you two hints: 1. please use a debugger to get a deeper understanding of what is happening in your code(in the end I guess what goes horribly wrong, besides other things that go minorly wrong is, that you overwrite the result on every loop? 2. rethink on your program structure! the given code is sort of ugly in it&#39;s workflow. Maybe you can shove all inputs in a list first before you resume calculating."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684149895,"post_id":76251852,"comment_id":134469704,"body_markdown":"Another hint: you may want to learn about programming language parsing. Parsers for arithmetic expressions have been studied for decades.","body":"Another hint: you may want to learn about programming language parsing. Parsers for arithmetic expressions have been studied for decades."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1688773320,"post_id":76251852,"comment_id":135123414,"body_markdown":"In my opinion, it is most often better to simply allow the User to enter (or paste) an entire math equation to have evaluated and then, be provided with a mathematical result.  Of course parsing would definitely be required but, I think it&#39;s worth it. Here is where you can get runnable code for a [Fractional Math Demo](https://controlc.com/15fa5183).","body":"In my opinion, it is most often better to simply allow the User to enter (or paste) an entire math equation to have evaluated and then, be provided with a mathematical result.  Of course parsing would definitely be required but, I think it&#39;s worth it. Here is where you can get runnable code for a <a href=\"https://controlc.com/15fa5183\" rel=\"nofollow noreferrer\">Fractional Math Demo</a>."}],"owner":{"account_id":23285538,"reputation":1,"user_id":17368451,"display_name":"JoD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684136860,"creation_date":1684136435,"question_id":76251852,"body_markdown":"I am currently working on an assignment where I will ask for the user&#39;s input of fractions and the operations between these fractions, the user will enter &quot;quit&quot; in order for the program to stop prompting information. The program should solve problems like: 1/2 + 1/4 * 1/6 - 2/7.\r\n\r\n**Here is how the input looks like:**\r\n\r\n```\r\nEnter numerator: 1\r\nEnter denominator: 2\r\nEnter operation: +\r\n\r\nEnter numerator: 1\r\nEnter denominator: 4\r\nEnter operation: *\r\n\r\nEnter numerator: 1\r\nEnter denominator: 6\r\nEnter operation: -\r\n\r\nEnter numerator: 2\r\nEnter denominator: 7\r\nEnter operation: quit\r\n```\r\n\r\n**Here is my approach:**\r\n\r\nTo take care of this BEDMAS problem I use 5 objects and it should work.\r\n(In the following example the 5 objects are 1, 2, 3, +, x)\r\n\r\n1 + 2 x 3 + 4 x 5\r\n\r\nLook at first 3 fractions.\r\nIf any operator is x or / \r\nthen perform that operation.\r\n \r\n1 + 6 + 4 x 5\r\n\r\nLook at first 3  fractions .\r\nSince none of them are x or /    \r\nthen operate on the first 2.\r\n\r\n7 + 4 x 5\r\n\r\nLook at first 3  fractions  .\r\nif any operator is x or /\r\nthen perform that operation.\r\n\r\n7 + 20\r\n\r\nIf less than 3, solve!\r\n\r\n27 \r\n\r\nThe result supposes to be: 43/168\r\nHowever, after I run the program,it gives me 26/48\r\n\r\nCan somebody tell me from where did I got messed up in the program? \r\nThank you in advance!\r\n\r\n\r\n**Here is my what is happening in the main class:**\r\n\r\n```java\r\npublic class app {\r\n    static Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n        Fraction f1 = null;\r\n        Fraction f2 = null;\r\n        Fraction f3 = null;\r\n        Fraction result = null;\r\n        boolean stop = false;\r\n        String op1 = &quot;&quot;, op2 = &quot;&quot;;\r\n        while (!stop) {\r\n            System.out.println(&quot;input fraction: &quot;);\r\n            Fraction f = Fraction.inputNewFraction();\r\n            result = f;\r\n            if (f1 == null) {\r\n                f1 = f;\r\n            } else {\r\n                if (f2 == null) {\r\n                    f2 = f;\r\n                } else {\r\n                    f3 = f;\r\n                }\r\n            }\r\n            scan.nextLine();\r\n            System.out.print(&quot;input operation:&quot;);\r\n            String s = scan.nextLine();\r\n            // System.out.print(s.equals(&quot;+&quot;));\r\n            if (s.equals(&quot;+&quot;) || s.equals(&quot;-&quot;) || s.equals(&quot;*&quot;) || s.equals(&quot;/&quot;)) {\r\n                if (f2 == null) {\r\n                    op1 = s;\r\n                } else {\r\n                    if (f3 == null) {\r\n                        op2 = s;\r\n                    } else if (f3 != null) {\r\n                        if (op1 == &quot;+&quot; || op1 == &quot;-&quot;) {       // check: CORRECT\r\n                            f1 = f1.opCal(f2, op1);\r\n                            f2 = f3;\r\n                            op1 = op2;\r\n\r\n                        } else {\r\n                            f2 = f2.opCal(f3, op2);                            \r\n                        }\r\n                        \r\n                        f3 = null;\r\n                        op2 = s;\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                stop = true;\r\n\r\n            }\r\n            System.out.println(&quot;f1: &quot; + f1.toString());\r\n            if (f2 != null)\r\n                System.out.println(&quot;f2: &quot; + f2.toString());\r\n            if (f3 != null)\r\n                System.out.println(&quot;f3: &quot; + f3.toString());\r\n                System.out.println(&quot;result: &quot; + result.toString());\r\n            if (f2 != null) {\r\n                result = f1.opCal(f2, op1);\r\n                System.out.println(&quot;result: &quot; + result.toString());\r\n            }\r\n        }\r\n    }  \r\n}\r\n```\r\n\r\n**Here is what is happening in the Fraction class:**\r\n\r\n```java\r\nclass Fraction {\r\n  \r\n  private int numerator;\r\n  private int denominator;\r\n\r\n  public Fraction(int myNumerator, int myDenominator) {   // constructor Fraction now holds numerator, \r\n    numerator = myNumerator;                              // and denominator at the same time\r\n    denominator = myDenominator;\r\n  }\r\n\r\n  public Fraction opCal(Fraction fraction, String promptOperation) {\r\n    int newNumerator;\r\n    int newDenominator;\r\n\r\n    switch (promptOperation) {\r\n      case &quot;+&quot;:\r\n        newNumerator = (numerator * fraction.denominator) + (fraction.numerator * denominator);\r\n        newDenominator = denominator * fraction.denominator;\r\n        return new Fraction(newNumerator, newDenominator);\r\n      case &quot;-&quot;:\r\n        newNumerator = (numerator * fraction.denominator) - (fraction.numerator * denominator);\r\n        newDenominator = denominator * fraction.denominator;\r\n        return new Fraction(newNumerator, newDenominator);\r\n      case &quot;*&quot;:\r\n        newNumerator = numerator * fraction.numerator;\r\n        newDenominator = denominator * fraction.denominator;\r\n        return new Fraction(newNumerator, newDenominator);\r\n      case &quot;/&quot;:\r\n        newNumerator = numerator * fraction.denominator;\r\n        newDenominator = denominator * fraction.numerator;\r\n        return new Fraction(newNumerator, newDenominator);\r\n      default:\r\n        System.out.println(&quot;Invalid operator&quot;);\r\n        return new Fraction(0, 0); // Return a default Fraction object\r\n    }\r\n  }\r\n\r\n  public static Fraction inputNewFraction() throws Exception {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter numerator:&quot;);\r\n        int a = scan.nextInt();\r\n        System.out.print(&quot;Enter denominator:&quot;);\r\n        int b = scan.nextInt();\r\n        return new Fraction(a, b);\r\n    }\r\n \r\n  public String toString() {\r\n    return numerator +  &quot; / &quot; + denominator;\r\n  }\r\n}\r\n```","title":"How to deal with order of operation with the inputs from the user in Java?","body":"<p>I am currently working on an assignment where I will ask for the user's input of fractions and the operations between these fractions, the user will enter &quot;quit&quot; in order for the program to stop prompting information. The program should solve problems like: 1/2 + 1/4 * 1/6 - 2/7.</p>\n<p><strong>Here is how the input looks like:</strong></p>\n<pre><code>Enter numerator: 1\nEnter denominator: 2\nEnter operation: +\n\nEnter numerator: 1\nEnter denominator: 4\nEnter operation: *\n\nEnter numerator: 1\nEnter denominator: 6\nEnter operation: -\n\nEnter numerator: 2\nEnter denominator: 7\nEnter operation: quit\n</code></pre>\n<p><strong>Here is my approach:</strong></p>\n<p>To take care of this BEDMAS problem I use 5 objects and it should work.\n(In the following example the 5 objects are 1, 2, 3, +, x)</p>\n<p>1 + 2 x 3 + 4 x 5</p>\n<p>Look at first 3 fractions.\nIf any operator is x or /\nthen perform that operation.</p>\n<p>1 + 6 + 4 x 5</p>\n<p>Look at first 3  fractions .\nSince none of them are x or /<br />\nthen operate on the first 2.</p>\n<p>7 + 4 x 5</p>\n<p>Look at first 3  fractions  .\nif any operator is x or /\nthen perform that operation.</p>\n<p>7 + 20</p>\n<p>If less than 3, solve!</p>\n<p>27</p>\n<p>The result supposes to be: 43/168\nHowever, after I run the program,it gives me 26/48</p>\n<p>Can somebody tell me from where did I got messed up in the program?\nThank you in advance!</p>\n<p><strong>Here is my what is happening in the main class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class app {\n    static Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;Hello, World!&quot;);\n        Fraction f1 = null;\n        Fraction f2 = null;\n        Fraction f3 = null;\n        Fraction result = null;\n        boolean stop = false;\n        String op1 = &quot;&quot;, op2 = &quot;&quot;;\n        while (!stop) {\n            System.out.println(&quot;input fraction: &quot;);\n            Fraction f = Fraction.inputNewFraction();\n            result = f;\n            if (f1 == null) {\n                f1 = f;\n            } else {\n                if (f2 == null) {\n                    f2 = f;\n                } else {\n                    f3 = f;\n                }\n            }\n            scan.nextLine();\n            System.out.print(&quot;input operation:&quot;);\n            String s = scan.nextLine();\n            // System.out.print(s.equals(&quot;+&quot;));\n            if (s.equals(&quot;+&quot;) || s.equals(&quot;-&quot;) || s.equals(&quot;*&quot;) || s.equals(&quot;/&quot;)) {\n                if (f2 == null) {\n                    op1 = s;\n                } else {\n                    if (f3 == null) {\n                        op2 = s;\n                    } else if (f3 != null) {\n                        if (op1 == &quot;+&quot; || op1 == &quot;-&quot;) {       // check: CORRECT\n                            f1 = f1.opCal(f2, op1);\n                            f2 = f3;\n                            op1 = op2;\n\n                        } else {\n                            f2 = f2.opCal(f3, op2);                            \n                        }\n                        \n                        f3 = null;\n                        op2 = s;\n\n                    }\n                }\n            } else {\n                stop = true;\n\n            }\n            System.out.println(&quot;f1: &quot; + f1.toString());\n            if (f2 != null)\n                System.out.println(&quot;f2: &quot; + f2.toString());\n            if (f3 != null)\n                System.out.println(&quot;f3: &quot; + f3.toString());\n                System.out.println(&quot;result: &quot; + result.toString());\n            if (f2 != null) {\n                result = f1.opCal(f2, op1);\n                System.out.println(&quot;result: &quot; + result.toString());\n            }\n        }\n    }  \n}\n</code></pre>\n<p><strong>Here is what is happening in the Fraction class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Fraction {\n  \n  private int numerator;\n  private int denominator;\n\n  public Fraction(int myNumerator, int myDenominator) {   // constructor Fraction now holds numerator, \n    numerator = myNumerator;                              // and denominator at the same time\n    denominator = myDenominator;\n  }\n\n  public Fraction opCal(Fraction fraction, String promptOperation) {\n    int newNumerator;\n    int newDenominator;\n\n    switch (promptOperation) {\n      case &quot;+&quot;:\n        newNumerator = (numerator * fraction.denominator) + (fraction.numerator * denominator);\n        newDenominator = denominator * fraction.denominator;\n        return new Fraction(newNumerator, newDenominator);\n      case &quot;-&quot;:\n        newNumerator = (numerator * fraction.denominator) - (fraction.numerator * denominator);\n        newDenominator = denominator * fraction.denominator;\n        return new Fraction(newNumerator, newDenominator);\n      case &quot;*&quot;:\n        newNumerator = numerator * fraction.numerator;\n        newDenominator = denominator * fraction.denominator;\n        return new Fraction(newNumerator, newDenominator);\n      case &quot;/&quot;:\n        newNumerator = numerator * fraction.denominator;\n        newDenominator = denominator * fraction.numerator;\n        return new Fraction(newNumerator, newDenominator);\n      default:\n        System.out.println(&quot;Invalid operator&quot;);\n        return new Fraction(0, 0); // Return a default Fraction object\n    }\n  }\n\n  public static Fraction inputNewFraction() throws Exception {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter numerator:&quot;);\n        int a = scan.nextInt();\n        System.out.print(&quot;Enter denominator:&quot;);\n        int b = scan.nextInt();\n        return new Fraction(a, b);\n    }\n \n  public String toString() {\n    return numerator +  &quot; / &quot; + denominator;\n  }\n}\n</code></pre>\n"},{"tags":["java","cors"],"owner":{"account_id":28600204,"reputation":1,"user_id":21897343,"display_name":"Stefan Arnautu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684136856,"creation_date":1684096102,"question_id":76249542,"body_markdown":"In my frontend application when I make a call to the backend I get an error related to CORS. If I make this call from postman, I have no problems.\r\n\r\n![The error](https://i.stack.imgur.com/3b1A8.png)\r\n\r\nJWT Interceptor\r\n\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from &#39;@angular/common/http&#39;;\r\nimport { AuthService } from &#39;./Services/auth.service&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\n\r\n@Injectable()\r\nexport class JwtInterceptorService implements HttpInterceptor {\r\n\r\n  constructor(public auth: AuthService) {}\r\n\r\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n\r\n    request = request.clone({\r\n      setHeaders: {\r\n        Accept: &#39;application/json&#39;,\r\n        Authorization: &#39;Bearer REDACTED&#39;\r\n      }\r\n    });\r\n\r\n    return next.handle(request);\r\n  }\r\n}\r\n```\r\n\r\nCall\r\n```\r\nthis.http.get(&#39;http://localhost:8080/api/v1/demo-controller/ok&#39;).subscribe()\r\n```\r\n\r\nAnd from backend:\r\nController:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\r\n@CrossOrigin(origins = &quot;http:localhost:4200/&quot;, allowedHeaders = &quot;*&quot;)\r\npublic class DemoController {\r\n\r\n    @GetMapping(&quot;/ok&quot;)\r\n    public ResponseEntity&lt;String&gt; getOk() {\r\n        return ResponseEntity.ok(&quot;OK&quot;);\r\n    }\r\n}\r\n\r\n```\r\nSecurity configuration:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nApplication configuration for cors:\r\n\r\n```\r\n @Bean\r\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter());\r\n        bean.setOrder(0);\r\n        return bean;\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n            return;\r\n        }\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        System.out.println(authHeader);\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if (jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n```\r\n\r\nCors filter:\r\n```\r\npublic class CorsFilter implements Filter, jakarta.servlet.Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletResponse res = (HttpServletResponse) response;\r\n        HttpServletRequest  req = (HttpServletRequest) request;\r\n\r\n        res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, OPTIONS&quot;);\r\n        res.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Accept-Encoding, Accept-Language, Host, Referer, Connection, User-Agent, Authorization, sw-useragent, sw-version&quot;);\r\n        System.out.println(req.getMethod());\r\n        if (req.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n            System.out.println(req);\r\n            res.setStatus(HttpServletResponse.SC_OK);\r\n            return;\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    public void init(FilterConfig filterConfig) {}\r\n\r\n    public void destroy() {}\r\n\r\n    @Override\r\n    public boolean isLoggable(LogRecord record) {\r\n        return true;\r\n    }\r\n}\r\n```\r\nWhen I make the get request from backend I got the error, and also I saw this:\r\n\r\nThere are two calls, one is OPTIONS:\r\n![There are two calls, one is OPTIONS](https://i.stack.imgur.com/EG879.png)\r\n\r\nThe bearer is in header but the call doesn&#39;t reach the backend\r\n![The bearer is in header but the call doesn&#39;t reach the backend](https://i.stack.imgur.com/9SnrP.png)\r\n\r\n\r\n\r\nI tried several solutions but none worked.","title":"Why I got &quot;No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource&quot; here?","body":"<p>In my frontend application when I make a call to the backend I get an error related to CORS. If I make this call from postman, I have no problems.</p>\n<p><img src=\"https://i.stack.imgur.com/3b1A8.png\" alt=\"The error\" /></p>\n<p>JWT Interceptor</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport { AuthService } from './Services/auth.service';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class JwtInterceptorService implements HttpInterceptor {\n\n  constructor(public auth: AuthService) {}\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    request = request.clone({\n      setHeaders: {\n        Accept: 'application/json',\n        Authorization: 'Bearer REDACTED'\n      }\n    });\n\n    return next.handle(request);\n  }\n}\n</code></pre>\n<p>Call</p>\n<pre><code>this.http.get('http://localhost:8080/api/v1/demo-controller/ok').subscribe()\n</code></pre>\n<p>And from backend:\nController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\n@CrossOrigin(origins = &quot;http:localhost:4200/&quot;, allowedHeaders = &quot;*&quot;)\npublic class DemoController {\n\n    @GetMapping(&quot;/ok&quot;)\n    public ResponseEntity&lt;String&gt; getOk() {\n        return ResponseEntity.ok(&quot;OK&quot;);\n    }\n}\n\n</code></pre>\n<p>Security configuration:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p>Application configuration for cors:</p>\n<pre><code> @Bean\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter());\n        bean.setOrder(0);\n        return bean;\n    }\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\n            response.setStatus(HttpServletResponse.SC_OK);\n            return;\n        }\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        System.out.println(authHeader);\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if (jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request,response);\n    }\n}\n</code></pre>\n<p>Cors filter:</p>\n<pre><code>public class CorsFilter implements Filter, jakarta.servlet.Filter {\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletResponse res = (HttpServletResponse) response;\n        HttpServletRequest  req = (HttpServletRequest) request;\n\n        res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, OPTIONS&quot;);\n        res.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Accept-Encoding, Accept-Language, Host, Referer, Connection, User-Agent, Authorization, sw-useragent, sw-version&quot;);\n        System.out.println(req.getMethod());\n        if (req.getMethod().equals(&quot;OPTIONS&quot;)) {\n            System.out.println(req);\n            res.setStatus(HttpServletResponse.SC_OK);\n            return;\n        }\n        chain.doFilter(request, response);\n    }\n\n    public void init(FilterConfig filterConfig) {}\n\n    public void destroy() {}\n\n    @Override\n    public boolean isLoggable(LogRecord record) {\n        return true;\n    }\n}\n</code></pre>\n<p>When I make the get request from backend I got the error, and also I saw this:</p>\n<p>There are two calls, one is OPTIONS:\n<img src=\"https://i.stack.imgur.com/EG879.png\" alt=\"There are two calls, one is OPTIONS\" /></p>\n<p>The bearer is in header but the call doesn't reach the backend\n<img src=\"https://i.stack.imgur.com/9SnrP.png\" alt=\"The bearer is in header but the call doesn't reach the backend\" /></p>\n<p>I tried several solutions but none worked.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7423942,"reputation":1158,"user_id":5647164,"display_name":"Coffee-Tea"},"score":0,"creation_date":1684490621,"post_id":76251893,"comment_id":134528369,"body_markdown":"Have you got a chance to fix that? Thanks!","body":"Have you got a chance to fix that? Thanks!"},{"owner":{"account_id":28555164,"reputation":11,"user_id":21859483,"display_name":"xuchichi"},"score":0,"creation_date":1686026607,"post_id":76251893,"comment_id":134739023,"body_markdown":"I should choose a property chromedriver version for chrome.You can check that in website.","body":"I should choose a property chromedriver version for chrome.You can check that in website."}],"owner":{"account_id":28555164,"reputation":11,"user_id":21859483,"display_name":"xuchichi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684136789,"creation_date":1684136789,"question_id":76251893,"body_markdown":"I&#39;m testing my code in my Mac. When I&#39;m using chrome, the intellij reports this error, please help me! Thanks.\r\n\r\nThere are some other error information\r\n`ERROR:chrome_browser_main.cc(1022)] The use of Rosetta to run the x64 version of Chromium on Arm is neither tested nor maintained, and unexpected behavior will likely result. Please check that all tools that spawn Chromium are Arm-native.\r\n\r\norg.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;xuchichideMacBook-Air.local&#39;, ip: &#39;2409:8734:1a70:7e2:40c6:c076:9d9b:fcf1%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.3.1&#39;, java.version: &#39;1.8.0_372&#39;\r\nDriver info: driver.version: ChromeDriver`","title":"Please check that all tools that spawn Chromium are Arm-native","body":"<p>I'm testing my code in my Mac. When I'm using chrome, the intellij reports this error, please help me! Thanks.</p>\n<p>There are some other error information\n`ERROR:chrome_browser_main.cc(1022)] The use of Rosetta to run the x64 version of Chromium on Arm is neither tested nor maintained, and unexpected behavior will likely result. Please check that all tools that spawn Chromium are Arm-native.</p>\n<p>org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'xuchichideMacBook-Air.local', ip: '2409:8734:1a70:7e2:40c6:c076:9d9b:fcf1%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.3.1', java.version: '1.8.0_372'\nDriver info: driver.version: ChromeDriver`</p>\n"},{"tags":["java","kotlin","cross-platform","kotlin-multiplatform","active-window"],"answers":[{"tags":[],"owner":{"account_id":10092055,"reputation":825,"user_id":10568816,"display_name":"gavr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683732569,"creation_date":1683732569,"answer_id":76220236,"question_id":76161927,"body_markdown":"No, there is no cross-platform solution for that. Each platform has it&#39;s own window system, and linux has 2: Wayland and XOrg. \r\nThis question is not related to kotlin or kotlin multiplatform. Search it for java, for example https://stackoverflow.com/questions/1354254/get-current-active-windows-title-in-java","title":"Is there a cross-platform way of obtaining the title of the current window on display using Kotlin multiplatform?","body":"<p>No, there is no cross-platform solution for that. Each platform has it's own window system, and linux has 2: Wayland and XOrg.\nThis question is not related to kotlin or kotlin multiplatform. Search it for java, for example <a href=\"https://stackoverflow.com/questions/1354254/get-current-active-windows-title-in-java\">Get current active window&#39;s title in Java</a></p>\n"}],"owner":{"account_id":27554650,"reputation":1,"user_id":21029107,"display_name":"Bozhidar Mindov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684136048,"creation_date":1683103032,"question_id":76161927,"body_markdown":"\r\nFor example the following code snippet does just that but only for Windows:\r\n\r\n```kotlin\r\nimport com.sun.jna.platform.win32.User32\r\nimport com.sun.jna.platform.win32.WinDef.HWND\r\n\r\nobject ActiveWindowFinder {\r\n    @JvmStatic\r\n    fun main(args: Array&lt;String&gt;) {\r\n\r\n        var count = 0\r\n        while (true){\r\n            val hwnd: HWND = User32.INSTANCE.GetForegroundWindow()\r\n            val title = CharArray(150)\r\n            User32.INSTANCE.GetWindowText(hwnd, title, 150)\r\n            println(&quot;Active window title: ${String(title).trim()}&quot;)\r\n\r\n            count ++\r\n            Thread.sleep(200)\r\n            if (count == 100){\r\n                break\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nI need a way of getting the same behaviour on Mac and on Linux.","title":"Is there a cross-platform way of obtaining the title of the current window on display using Kotlin multiplatform?","body":"<p>For example the following code snippet does just that but only for Windows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.sun.jna.platform.win32.User32\nimport com.sun.jna.platform.win32.WinDef.HWND\n\nobject ActiveWindowFinder {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n        var count = 0\n        while (true){\n            val hwnd: HWND = User32.INSTANCE.GetForegroundWindow()\n            val title = CharArray(150)\n            User32.INSTANCE.GetWindowText(hwnd, title, 150)\n            println(&quot;Active window title: ${String(title).trim()}&quot;)\n\n            count ++\n            Thread.sleep(200)\n            if (count == 100){\n                break\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>I need a way of getting the same behaviour on Mac and on Linux.</p>\n"},{"tags":["java","spring","jpa","mifos"],"answers":[{"tags":[],"owner":{"account_id":2085174,"reputation":63,"user_id":1856331,"display_name":"Thilakraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544940845,"creation_date":1544940845,"answer_id":53799872,"question_id":43233210,"body_markdown":"1. Download and Install Apache Activemq 5.15 and run it.\r\n\r\n2.  Run the Fineract platform using command, &#39;gradlew clean tomcatrunwar&#39;\r\n\r\n3. Through Eclipse, connect to the already running Fineract server using\r\n&#39;Remote Debugging&#39;\r\n\r\nhttp://mail-archives.apache.org/mod_mbox/fineract-dev/201711.mbox/%3CCA+cniaRyYyMgbxpfkxTJYj_JdO61LnHrSbtkQN0JfQXqUxHZSw@mail.gmail.com%3E\r\n\r\n","title":"An error occurred while registering a ClassTransformer with PersistenceUnitInfo","body":"<ol>\n<li><p>Download and Install Apache Activemq 5.15 and run it.</p></li>\n<li><p>Run the Fineract platform using command, 'gradlew clean tomcatrunwar'</p></li>\n<li><p>Through Eclipse, connect to the already running Fineract server using\n'Remote Debugging'</p></li>\n</ol>\n\n<p><a href=\"http://mail-archives.apache.org/mod_mbox/fineract-dev/201711.mbox/%3CCA+cniaRyYyMgbxpfkxTJYj_JdO61LnHrSbtkQN0JfQXqUxHZSw@mail.gmail.com%3E\" rel=\"nofollow noreferrer\">http://mail-archives.apache.org/mod_mbox/fineract-dev/201711.mbox/%3CCA+cniaRyYyMgbxpfkxTJYj_JdO61LnHrSbtkQN0JfQXqUxHZSw@mail.gmail.com%3E</a></p>\n"}],"owner":{"account_id":7257197,"reputation":493,"user_id":5535411,"accept_rate":33,"display_name":"Carlos Bernardes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684135288,"creation_date":1491400336,"question_id":43233210,"body_markdown":"I&#39;m trying to run a Server application on Eclipse. I&#39;ve imported the Project but, when I run it I get this error:\r\n\r\n    25  jpa-pu  WARN   [localhost-startStop-1] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &#39;jpa-pu&#39;, root URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be available.\r\n    36  jpa-pu  INFO   [localhost-startStop-1] openjpa.Runtime - OpenJPA dynamically loaded a validation provider.\r\n    14:42:49.579 [main] INFO  ch.vorburger.exec.ManagedProcess - Successfully destroyed Program [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin\\bin\\mysqld.exe, --no-defaults, --console, --skip-grant-tables, --max_allowed_packet=64M, --basedir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin, --datadir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\data, --port=57244] (in working directory C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin)\r\n    14:42:49.579 [main] INFO  ch.vorburger.mariadb4j.DB - Database stopped.\r\n\r\n\r\nAnd then, the whole application crashes:\r\n\r\n    14:42:49.579 [main] INFO  ch.vorburger.exec.ManagedProcess - Successfully destroyed Program [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin\\bin\\mysqld.exe, --no-defaults, --console, --skip-grant-tables, --max_allowed_packet=64M, --basedir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin, --datadir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\data, --port=57244] (in working directory C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin)\r\n    14:42:49.579 [main] INFO  ch.vorburger.mariadb4j.DB - Database stopped.\r\n    Exception in thread &quot;main&quot; org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:124)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:109)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n    \tat org.apache.fineract.ServerWithMariaDB4jApplication.main(ServerWithMariaDB4jApplication.java:56)\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:100)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:74)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:295)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:147)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:148)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:121)\r\n    \t... 7 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.apache.fineract.infrastructure.core.boot.WebXmlConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.filter.TenantAwareBasicAuthenticationFilter org.apache.fineract.infrastructure.core.boot.WebXmlConfiguration.basicAuthenticationProcessingFilter; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;basicAuthenticationProcessingFilter&#39; defined in file [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\bin\\org\\apache\\fineract\\infrastructure\\security\\filter\\TenantAwareBasicAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.security.authentication.AuthenticationManager]: : Error creating bean with name &#39;org.springframework.security.config.authentication.AuthenticationManagerFactoryBean#0&#39;: FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Cannot resolve reference to bean &#39;customAuthenticationProvider&#39; while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customAuthenticationProvider&#39; defined in URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin/META-INF/spring/securityContext.xml]: Cannot resolve reference to bean &#39;userDetailsService&#39; while setting bean property &#39;userDetailsService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userDetailsService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.domain.PlatformUserRepository org.apache.fineract.infrastructure.security.service.TenantAwareJpaPlatformUserDetailsService.platformUserRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appUserRepository&#39;: Cannot resolve reference to bean &#39;jpaMapppingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMapppingContext&#39;: Invocation of init method failed; nested exception is &lt;openjpa-2.4.1-r422266:1730418 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type &quot;class org.apache.fineract.infrastructure.core.domain.AbstractPersistableCustom&quot; has not been enhanced.; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.authentication.AuthenticationManagerFactoryBean#0&#39;: FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Cannot resolve reference to bean &#39;customAuthenticationProvider&#39; while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customAuthenticationProvider&#39; defined in URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin/META-INF/spring/securityContext.xml]: Cannot resolve reference to bean &#39;userDetailsService&#39; while setting bean property &#39;userDetailsService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userDetailsService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.domain.PlatformUserRepository org.apache.fineract.infrastructure.security.service.TenantAwareJpaPlatformUserDetailsService.platformUserRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appUserRepository&#39;: Cannot resolve reference to bean &#39;jpaMapppingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMapppingContext&#39;: Invocation of init method failed; nested exception is &lt;openjpa-2.4.1-r422266:1730418 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type &quot;class org.apache.fineract.infrastructure.core.domain.AbstractPersistableCustom&quot; has not been enhanced.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:301)\r\n(...) and so on (...)\r\n\r\n\r\nI&#39;m trying to understand this error for three days now and I&#39;ve managed to see that is something about the persistence.xml file, the jpa and spring but I can&#39;t understand why I get this error. Can you help me?\r\n\r\nThe persistence.xml part that the error refers:\r\n\r\n    &lt;persistence version=&quot;2.0&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;jpa-pu&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl&lt;/provider&gt;\r\n    \t&lt;properties&gt;\r\n            &lt;property name=&quot;openjpa.Compatibility&quot; value=&quot;QuotedNumbersInQueries=true&quot;/&gt;\r\n            &lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;org.apache.fineract.infrastructure.core.domain.MySQLDictionaryCustom&quot;/&gt;\r\n            &lt;!--&lt;property name=&quot;openjpa.InverseManager&quot; value=&quot;true(Action=warn)&quot;/&gt; --&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=WARN, Runtime=INFO, Tool=INFO, SQL=TRACE&quot;/&gt;\r\n           &lt;property name=&quot;openjpa.jdbc.MappingDefaults&quot; value=&quot;ForeignKeyDeleteAction=CASCADE&quot;/&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\nThank you in advance!\r\n","title":"An error occurred while registering a ClassTransformer with PersistenceUnitInfo","body":"<p>I'm trying to run a Server application on Eclipse. I've imported the Project but, when I run it I get this error:</p>\n\n<pre><code>25  jpa-pu  WARN   [localhost-startStop-1] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name 'jpa-pu', root URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be available.\n36  jpa-pu  INFO   [localhost-startStop-1] openjpa.Runtime - OpenJPA dynamically loaded a validation provider.\n14:42:49.579 [main] INFO  ch.vorburger.exec.ManagedProcess - Successfully destroyed Program [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin\\bin\\mysqld.exe, --no-defaults, --console, --skip-grant-tables, --max_allowed_packet=64M, --basedir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin, --datadir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\data, --port=57244] (in working directory C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin)\n14:42:49.579 [main] INFO  ch.vorburger.mariadb4j.DB - Database stopped.\n</code></pre>\n\n<p>And then, the whole application crashes:</p>\n\n<pre><code>14:42:49.579 [main] INFO  ch.vorburger.exec.ManagedProcess - Successfully destroyed Program [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin\\bin\\mysqld.exe, --no-defaults, --console, --skip-grant-tables, --max_allowed_packet=64M, --basedir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin, --datadir=C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\data, --port=57244] (in working directory C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\build\\db\\bin)\n14:42:49.579 [main] INFO  ch.vorburger.mariadb4j.DB - Database stopped.\nException in thread \"main\" org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:124)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:109)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n    at org.apache.fineract.ServerWithMariaDB4jApplication.main(ServerWithMariaDB4jApplication.java:56)\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:100)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:74)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:295)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:147)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:148)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:121)\n    ... 7 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.fineract.infrastructure.core.boot.WebXmlConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.filter.TenantAwareBasicAuthenticationFilter org.apache.fineract.infrastructure.core.boot.WebXmlConfiguration.basicAuthenticationProcessingFilter; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'basicAuthenticationProcessingFilter' defined in file [C:\\SourceCodeTFS\\DC_MicroCreditoServer\\Dev\\DEV\\fineract-provider\\bin\\org\\apache\\fineract\\infrastructure\\security\\filter\\TenantAwareBasicAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.security.authentication.AuthenticationManager]: : Error creating bean with name 'org.springframework.security.config.authentication.AuthenticationManagerFactoryBean#0': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Cannot resolve reference to bean 'customAuthenticationProvider' while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customAuthenticationProvider' defined in URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin/META-INF/spring/securityContext.xml]: Cannot resolve reference to bean 'userDetailsService' while setting bean property 'userDetailsService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.domain.PlatformUserRepository org.apache.fineract.infrastructure.security.service.TenantAwareJpaPlatformUserDetailsService.platformUserRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository': Cannot resolve reference to bean 'jpaMapppingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMapppingContext': Invocation of init method failed; nested exception is &lt;openjpa-2.4.1-r422266:1730418 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type \"class org.apache.fineract.infrastructure.core.domain.AbstractPersistableCustom\" has not been enhanced.; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.authentication.AuthenticationManagerFactoryBean#0': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Cannot resolve reference to bean 'customAuthenticationProvider' while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customAuthenticationProvider' defined in URL [file:/C:/SourceCodeTFS/DC_MicroCreditoServer/Dev/DEV/fineract-provider/bin/META-INF/spring/securityContext.xml]: Cannot resolve reference to bean 'userDetailsService' while setting bean property 'userDetailsService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.fineract.infrastructure.security.domain.PlatformUserRepository org.apache.fineract.infrastructure.security.service.TenantAwareJpaPlatformUserDetailsService.platformUserRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository': Cannot resolve reference to bean 'jpaMapppingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMapppingContext': Invocation of init method failed; nested exception is &lt;openjpa-2.4.1-r422266:1730418 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type \"class org.apache.fineract.infrastructure.core.domain.AbstractPersistableCustom\" has not been enhanced.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:301)\n</code></pre>\n\n<p>(...) and so on (...)</p>\n\n<p>I'm trying to understand this error for three days now and I've managed to see that is something about the persistence.xml file, the jpa and spring but I can't understand why I get this error. Can you help me?</p>\n\n<p>The persistence.xml part that the error refers:</p>\n\n<pre><code>&lt;persistence version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n    &lt;persistence-unit name=\"jpa-pu\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl&lt;/provider&gt;\n    &lt;properties&gt;\n        &lt;property name=\"openjpa.Compatibility\" value=\"QuotedNumbersInQueries=true\"/&gt;\n        &lt;property name=\"openjpa.jdbc.DBDictionary\" value=\"org.apache.fineract.infrastructure.core.domain.MySQLDictionaryCustom\"/&gt;\n        &lt;!--&lt;property name=\"openjpa.InverseManager\" value=\"true(Action=warn)\"/&gt; --&gt;\n      &lt;property name=\"openjpa.Log\" value=\"DefaultLevel=WARN, Runtime=INFO, Tool=INFO, SQL=TRACE\"/&gt;\n       &lt;property name=\"openjpa.jdbc.MappingDefaults\" value=\"ForeignKeyDeleteAction=CASCADE\"/&gt;\n    &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1468538513,"post_id":38385680,"comment_id":64181317,"body_markdown":"that dependencies block probably belongs inside the subprojects block, yeah?","body":"that dependencies block probably belongs inside the subprojects block, yeah?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1468538576,"post_id":38385680,"comment_id":64181344,"body_markdown":"It&#39;s complaining that testCompile doesn&#39;t exist because you haven&#39;t applied the &#39;java&#39; plugin to *this* build file.","body":"It&#39;s complaining that testCompile doesn&#39;t exist because you haven&#39;t applied the &#39;java&#39; plugin to <i>this</i> build file."},{"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"score":0,"creation_date":1468539046,"post_id":38385680,"comment_id":64181457,"body_markdown":"As I already said, i&#39;m new to gradle, so how can i apply the java plugin to this build file ?","body":"As I already said, i&#39;m new to gradle, so how can i apply the java plugin to this build file ?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1468539248,"post_id":38385680,"comment_id":64181511,"body_markdown":"Unless the root project has java source code, it doesn&#39;t make sense to apply the java plugin... and it doesn&#39;t make sense to declare dependencies for the root project. If your intent is to say that each of the subprojects depends on JUnit, then that dependencies block belongs *inside* the subprojects block.","body":"Unless the root project has java source code, it doesn&#39;t make sense to apply the java plugin... and it doesn&#39;t make sense to declare dependencies for the root project. If your intent is to say that each of the subprojects depends on JUnit, then that dependencies block belongs <i>inside</i> the subprojects block."}],"answers":[{"tags":[],"owner":{"account_id":7167952,"reputation":751,"user_id":5476495,"accept_rate":62,"display_name":"RyanM"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468538504,"creation_date":1468538504,"answer_id":38385707,"question_id":38385680,"body_markdown":"It&#39;s saying that it can&#39;t find the method testCompile for the arguments check that you spelt it correctly making sure the name and group which you have as &quot;junit&quot; are all correct and also the version is correct  another fix for this issue is adding the testCompile line in sub projects block.","title":"Build error with gradle Could not find method testCompile()","body":"<p>It's saying that it can't find the method testCompile for the arguments check that you spelt it correctly making sure the name and group which you have as \"junit\" are all correct and also the version is correct  another fix for this issue is adding the testCompile line in sub projects block.</p>\n"},{"tags":[],"owner":{"account_id":412676,"reputation":14001,"user_id":785864,"accept_rate":72,"display_name":"Nicolas Modrzyk"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1468546859,"creation_date":1468543539,"answer_id":38386270,"question_id":38385680,"body_markdown":"The java plugin is only applied to subprojects, so the testCompile configuration, added by the java plugin, can only be used in subprojects. The below works:\r\n\r\n    allprojects {\r\n        //Put instructions for all projects\r\n        task hello &lt;&lt; { task -&gt; println &quot;I&#39;m $task.project.name&quot; }\r\n    }\r\n    \r\n    subprojects {\r\n        //Put instructions for each sub project\r\n        apply plugin: &quot;java&quot;\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        \r\n    \r\n    \tdependencies {\r\n    \t    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.+&#39;\r\n    \t}\r\n    }","title":"Build error with gradle Could not find method testCompile()","body":"<p>The java plugin is only applied to subprojects, so the testCompile configuration, added by the java plugin, can only be used in subprojects. The below works:</p>\n\n<pre><code>allprojects {\n    //Put instructions for all projects\n    task hello &lt;&lt; { task -&gt; println \"I'm $task.project.name\" }\n}\n\nsubprojects {\n    //Put instructions for each sub project\n    apply plugin: \"java\"\n    repositories {\n        mavenCentral()\n    }\n\n\n\n    dependencies {\n        testCompile group: 'junit', name: 'junit', version: '4.+'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5152724,"reputation":7213,"user_id":4126843,"accept_rate":88,"display_name":"PHPirate"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1625843699,"creation_date":1625843699,"answer_id":68319095,"question_id":38385680,"body_markdown":"In case anyone comes here based on the `Could not find method testCompile()` error, by now the more probable cause is that you need to replace the deprecated `testCompile` by `testImplementation`.\r\nSee https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-and-compile-in-gradle","title":"Build error with gradle Could not find method testCompile()","body":"<p>In case anyone comes here based on the <code>Could not find method testCompile()</code> error, by now the more probable cause is that you need to replace the deprecated <code>testCompile</code> by <code>testImplementation</code>.\nSee <a href=\"https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-and-compile-in-gradle\">What&#39;s the difference between implementation and compile in Gradle?</a></p>\n"},{"tags":[],"owner":{"account_id":24331600,"reputation":29,"user_id":18270360,"display_name":"L&#201;K&#201;N&#201; C&#201;DRIC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684135250,"creation_date":1684135250,"answer_id":76251715,"question_id":38385680,"body_markdown":"Please check Gradle version used in the project.\r\n\r\n**compile** and **testCompile** configurations are removed in Gradle 7+. You can use **implementation** and **testImplementation** instead.","title":"Build error with gradle Could not find method testCompile()","body":"<p>Please check Gradle version used in the project.</p>\n<p><strong>compile</strong> and <strong>testCompile</strong> configurations are removed in Gradle 7+. You can use <strong>implementation</strong> and <strong>testImplementation</strong> instead.</p>\n"}],"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45422,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":38386270,"answer_count":4,"score":44,"last_activity_date":1684135250,"creation_date":1468538352,"question_id":38385680,"body_markdown":"I&#39;m new to gradle and I&#39;m getting a build error that I don&#39;t really understand. My project is just an empty shell with the directory structure and no java source code. Here is my root build.gradle file\r\n\r\n    allprojects {\r\n        //Put instructions for all projects\r\n        task hello &lt;&lt; { task -&gt; println &quot;I&#39;m $task.project.name&quot; }\r\n    }\r\n    \r\n    subprojects {\r\n        //Put instructions for each sub project\r\n        apply plugin: &quot;java&quot;\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.+&#39;\r\n    }\r\n\r\nwhen I execute the gradle build command the build fails because it doesn&#39;t know the testCompile method with this message:\r\n\r\n&gt; Could not find method testCompile() for arguments [{group=junit, name=junit, version=4.+}] on root project\r\n\r\nI use Gradle 2.5.\r\n\r\nI&#39;ve understood that this method is a part of the java plugin which I&#39;ve loaded. I don&#39;t see what went wrong, can you help?","title":"Build error with gradle Could not find method testCompile()","body":"<p>I'm new to gradle and I'm getting a build error that I don't really understand. My project is just an empty shell with the directory structure and no java source code. Here is my root build.gradle file</p>\n<pre><code>allprojects {\n    //Put instructions for all projects\n    task hello &lt;&lt; { task -&gt; println &quot;I'm $task.project.name&quot; }\n}\n\nsubprojects {\n    //Put instructions for each sub project\n    apply plugin: &quot;java&quot;\n    repositories {\n        mavenCentral()\n    }\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.+'\n}\n</code></pre>\n<p>when I execute the gradle build command the build fails because it doesn't know the testCompile method with this message:</p>\n<blockquote>\n<p>Could not find method testCompile() for arguments [{group=junit, name=junit, version=4.+}] on root project</p>\n</blockquote>\n<p>I use Gradle 2.5.</p>\n<p>I've understood that this method is a part of the java plugin which I've loaded. I don't see what went wrong, can you help?</p>\n"},{"tags":["java","selenium-webdriver","safari","automation"],"comments":[{"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"score":0,"creation_date":1516725807,"post_id":48406782,"comment_id":83802367,"body_markdown":"And what is the error? What is the behaviour?","body":"And what is the error? What is the behaviour?"},{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":0,"creation_date":1516725835,"post_id":48406782,"comment_id":83802385,"body_markdown":"Is `dropdown == null`?","body":"Is <code>dropdown == null</code>?"},{"owner":{"account_id":12457288,"reputation":45,"user_id":9070050,"display_name":"lawcrens"},"score":0,"creation_date":1516726984,"post_id":48406782,"comment_id":83803184,"body_markdown":"Im not getting any errors. Just a warning. &quot;org.openqa.selenium.support.ui.Select is never used&quot; but the import is there and Eclipse isn&#39;t flagging it. &#39;import org.openqa.selenium.support.ui.Select;&#39;","body":"Im not getting any errors. Just a warning. &quot;org.openqa.selenium.support.ui.Select is never used&quot; but the import is there and Eclipse isn&#39;t flagging it. &#39;import org.openqa.selenium.support.ui.Select;&#39;"},{"owner":{"account_id":12457288,"reputation":45,"user_id":9070050,"display_name":"lawcrens"},"score":0,"creation_date":1516741301,"post_id":48406782,"comment_id":83811169,"body_markdown":"Its a Safari issue. Tried with Chrome and worked like a charm.","body":"Its a Safari issue. Tried with Chrome and worked like a charm."},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1516762233,"post_id":48406782,"comment_id":83818048,"body_markdown":"Perhaps you have an additional `Select` class imported from another library? I see that you definitely use this class in your code but the warning still there.","body":"Perhaps you have an additional <code>Select</code> class imported from another library? I see that you definitely use this class in your code but the warning still there."}],"answers":[{"tags":[],"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684135108,"creation_date":1683883876,"answer_id":76234952,"question_id":48406782,"body_markdown":"First, create a webelement containing the cssselector (or any locator) of those options. Next, create a List of the previous element and locating the options by their common locator. Eg - \r\n\r\n    WebElement optionslist = driver.findElement(By.cssSelector(&quot;locator&quot;));\r\n    List&lt;WebElement&gt; optionslist2 = optionslist.findElements(By.tagName(&quot;li&quot;));","title":"Selenium WebDriver Java issue with drop down menu","body":"<p>First, create a webelement containing the cssselector (or any locator) of those options. Next, create a List of the previous element and locating the options by their common locator. Eg -</p>\n<pre><code>WebElement optionslist = driver.findElement(By.cssSelector(&quot;locator&quot;));\nList&lt;WebElement&gt; optionslist2 = optionslist.findElements(By.tagName(&quot;li&quot;));\n</code></pre>\n"}],"owner":{"account_id":12457288,"reputation":45,"user_id":9070050,"display_name":"lawcrens"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684135108,"creation_date":1516725683,"question_id":48406782,"body_markdown":"I am new to selenium webdriver and I am trying to automate drop down menus but nothing is happening. I tried selectByVisibleText and selectByValue but got the same results. I am using Safari Driver on a mac in Eclipse Java. Below is a piece of the code I&#39;ve written. \r\n\r\n    driver.findElement(By.name(&quot;firstName&quot;)).sendKeys(&quot;automationFName&quot;);      \r\n    driver.findElement(By.name(&quot;lastName&quot;)).sendKeys(&quot;automationLName&quot;);\r\n\tdriver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;automate&quot; +        \r\n    rand.nextInt() +&quot;@automatetest.com&quot;);\r\n\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;aaaaaa&quot;);\r\n    Select dropdown = new Select(driver.findElement(By.id(&quot;month&quot;))); //Not working\r\n\tdropdown.selectByVisibleText(&quot;May&quot;); //Not working\r\n\tdriver.findElement(By.name(&quot;zip&quot;)).sendKeys(&quot;90210&quot;);\r\n\tdriver.findElement(By.id(&quot;signUpButton&quot;)).click();\r\n\tThread.sleep(2000);\r\n\tdriver.close();\r\n\r\nBelow is the website code. \r\n\r\n\r\n    &lt;select data-corners=&quot;false&quot; id=&quot;month&quot; name=&quot;month&quot; title=&quot;Birthday&quot;&gt;\r\n\t\t\t\t&lt;option value=&quot;&quot;&gt;Month&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;1&quot;&gt;Jan&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;2&quot;&gt;Feb&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;3&quot;&gt;Mar&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;4&quot;&gt;April&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;5&quot;&gt;May&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;6&quot;&gt;June&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;7&quot;&gt;July&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;8&quot;&gt;Aug&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;9&quot;&gt;Sept&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;10&quot;&gt;Oct&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;11&quot;&gt;Nov&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;option value=&quot;12&quot;&gt;Dec&lt;/option&gt;\r\n\t\t\t\t\t\t\t&lt;/select&gt;\r\n\r\n\r\nThanks\r\n\r\nEdit:\r\n\t\r\nI&#39;m not getting any errors. Just a warning. `org.openqa.selenium.support.ui.Select is never used` but the import is there and Eclipse isn&#39;t flagging it.","title":"Selenium WebDriver Java issue with drop down menu","body":"<p>I am new to selenium webdriver and I am trying to automate drop down menus but nothing is happening. I tried selectByVisibleText and selectByValue but got the same results. I am using Safari Driver on a mac in Eclipse Java. Below is a piece of the code I've written. </p>\n\n<pre><code>driver.findElement(By.name(\"firstName\")).sendKeys(\"automationFName\");      \ndriver.findElement(By.name(\"lastName\")).sendKeys(\"automationLName\");\ndriver.findElement(By.id(\"email\")).sendKeys(\"automate\" +        \nrand.nextInt() +\"@automatetest.com\");\ndriver.findElement(By.name(\"password\")).sendKeys(\"aaaaaa\");\nSelect dropdown = new Select(driver.findElement(By.id(\"month\"))); //Not working\ndropdown.selectByVisibleText(\"May\"); //Not working\ndriver.findElement(By.name(\"zip\")).sendKeys(\"90210\");\ndriver.findElement(By.id(\"signUpButton\")).click();\nThread.sleep(2000);\ndriver.close();\n</code></pre>\n\n<p>Below is the website code. </p>\n\n<pre><code>&lt;select data-corners=\"false\" id=\"month\" name=\"month\" title=\"Birthday\"&gt;\n            &lt;option value=\"\"&gt;Month&lt;/option&gt;\n                                &lt;option value=\"1\"&gt;Jan&lt;/option&gt;\n                                &lt;option value=\"2\"&gt;Feb&lt;/option&gt;\n                                &lt;option value=\"3\"&gt;Mar&lt;/option&gt;\n                                &lt;option value=\"4\"&gt;April&lt;/option&gt;\n                                &lt;option value=\"5\"&gt;May&lt;/option&gt;\n                                &lt;option value=\"6\"&gt;June&lt;/option&gt;\n                                &lt;option value=\"7\"&gt;July&lt;/option&gt;\n                                &lt;option value=\"8\"&gt;Aug&lt;/option&gt;\n                                &lt;option value=\"9\"&gt;Sept&lt;/option&gt;\n                                &lt;option value=\"10\"&gt;Oct&lt;/option&gt;\n                                &lt;option value=\"11\"&gt;Nov&lt;/option&gt;\n                                &lt;option value=\"12\"&gt;Dec&lt;/option&gt;\n                        &lt;/select&gt;\n</code></pre>\n\n<p>Thanks</p>\n\n<p>Edit:</p>\n\n<p>I'm not getting any errors. Just a warning. <code>org.openqa.selenium.support.ui.Select is never used</code> but the import is there and Eclipse isn't flagging it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1569768277,"post_id":58155987,"comment_id":102695233,"body_markdown":"This is exactly why you are advised against using vendor specific classes explicitly because they can change or go away without warning.  Bring in your own copy of the library.","body":"This is exactly why you are advised against using vendor specific classes explicitly because they can change or go away without warning.  Bring in your own copy of the library."},{"owner":{"account_id":11779237,"reputation":700,"user_id":8619507,"display_name":"Rasha Elsayed"},"score":0,"creation_date":1569835892,"post_id":58155987,"comment_id":102711868,"body_markdown":"What do you mean by &quot;Bring in your own copy of the library&quot;?","body":"What do you mean by &quot;Bring in your own copy of the library&quot;?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1569836670,"post_id":58155987,"comment_id":102712279,"body_markdown":"`com.sun.org.apache.xml` is how Sun imported existing third-part libraries in the Java runtime.  Change their package so it didn&#39;t clash with a user-provided `org.apache.xml` package (most likely Xerces).  Remove these imports, bring in a suitable version of Xerces, and let your IDE help reimporting.","body":"<code>com.sun.org.apache.xml</code> is how Sun imported existing third-part libraries in the Java runtime.  Change their package so it didn&#39;t clash with a user-provided <code>org.apache.xml</code> package (most likely Xerces).  Remove these imports, bring in a suitable version of Xerces, and let your IDE help reimporting."}],"answers":[{"tags":[],"owner":{"account_id":18974428,"reputation":33,"user_id":13847219,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600419833,"creation_date":1600419833,"answer_id":63952654,"question_id":58155987,"body_markdown":"In openJdk11 you have to import xml-security.jar ( com.sun.org.apache.xml is not present so you have to)","title":"Java 8 to openJdk 11 com.sun.org.apache.xml.internal.* types not accessible","body":"<p>In openJdk11 you have to import xml-security.jar ( com.sun.org.apache.xml is not present so you have to)</p>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640810163,"creation_date":1640810163,"answer_id":70524757,"question_id":58155987,"body_markdown":"I had a similar issue where I needed to update a reference to `com.sun.org.apache.xml.internal.serializer.OutputPropertiesFactory`, and found I could change it to:\r\n\r\n```\r\nimport org.apache.xml.serializer.OutputPropertiesFactory;\r\n```\r\n\r\nif I included the right Xalan apache xml dependency:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xalan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Java 8 to openJdk 11 com.sun.org.apache.xml.internal.* types not accessible","body":"<p>I had a similar issue where I needed to update a reference to <code>com.sun.org.apache.xml.internal.serializer.OutputPropertiesFactory</code>, and found I could change it to:</p>\n<pre><code>import org.apache.xml.serializer.OutputPropertiesFactory;\n</code></pre>\n<p>if I included the right Xalan apache xml dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;xalan&lt;/groupId&gt;\n            &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26219874,"reputation":1,"user_id":19897480,"display_name":"PRANAY KUMAR REDDY METTU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684134980,"creation_date":1683860272,"answer_id":76232847,"question_id":58155987,"body_markdown":"Trying this solved my problem:\r\n**import java.net.URI;**\r\n\r\nI had the same issue while trying \r\n\r\n    URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).\r\n    \t\t\t\tbuildAndExpand(savedUser.getId()).toUri();\r\n\r\nin JDK 11. When I tried the recommended imports(**`import com.sun.org.apache.xerces.internal.util.URI, import com.sun.org.apache.xml.internal.utils.URI`**). I got the same error.  \r\n","title":"Java 8 to openJdk 11 com.sun.org.apache.xml.internal.* types not accessible","body":"<p>Trying this solved my problem:\n<strong>import java.net.URI;</strong></p>\n<p>I had the same issue while trying</p>\n<pre><code>URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).\n                buildAndExpand(savedUser.getId()).toUri();\n</code></pre>\n<p>in JDK 11. When I tried the recommended imports(<strong><code>import com.sun.org.apache.xerces.internal.util.URI, import com.sun.org.apache.xml.internal.utils.URI</code></strong>). I got the same error.</p>\n"}],"owner":{"account_id":11779237,"reputation":700,"user_id":8619507,"display_name":"Rasha Elsayed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14276,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684134980,"creation_date":1569765986,"question_id":58155987,"body_markdown":"I am migrating my project from java 8 to openJDK 11. In my code I use the classes\r\n\r\n    import com.sun.org.apache.xml.internal.dtm.DTM;\r\n    import com.sun.org.apache.xml.internal.dtm.DTMManager;\r\n    import com.sun.org.apache.xml.internal.dtm.ref.sax2dtm.SAX2DTM;\r\n    import com.sun.org.apache.xml.internal.utils.XMLStringFactory;\r\n    import com.sun.org.apache.xpath.internal.objects.XMLStringFactoryImpl\r\n\r\nI am using eclipse. I am getting the error that the types are not accessible. I also tried this post with the last import https://stackoverflow.com/questions/54068992/how-to-tell-eclipse-to-add-exports-when-compiling/54071487#54071487\r\n\r\nBut it did not work. Any idea how could we fix this? Does the error mean that the packages have become internal and should be replaced in the code?","title":"Java 8 to openJdk 11 com.sun.org.apache.xml.internal.* types not accessible","body":"<p>I am migrating my project from java 8 to openJDK 11. In my code I use the classes</p>\n\n<pre><code>import com.sun.org.apache.xml.internal.dtm.DTM;\nimport com.sun.org.apache.xml.internal.dtm.DTMManager;\nimport com.sun.org.apache.xml.internal.dtm.ref.sax2dtm.SAX2DTM;\nimport com.sun.org.apache.xml.internal.utils.XMLStringFactory;\nimport com.sun.org.apache.xpath.internal.objects.XMLStringFactoryImpl\n</code></pre>\n\n<p>I am using eclipse. I am getting the error that the types are not accessible. I also tried this post with the last import <a href=\"https://stackoverflow.com/questions/54068992/how-to-tell-eclipse-to-add-exports-when-compiling/54071487#54071487\">How to tell eclipse to add-exports when compiling</a></p>\n\n<p>But it did not work. Any idea how could we fix this? Does the error mean that the packages have become internal and should be replaced in the code?</p>\n"},{"tags":["java","c3p0"],"answers":[{"tags":[],"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1430226611,"creation_date":1275672354,"answer_id":2976378,"question_id":2976308,"body_markdown":"If you use a log4j.xml file you can simple define a logger for the c3po package:\r\n\r\n    &lt;logger name=&quot;com.mchange.v2.c3p0&quot;&gt;\r\n        &lt;level value=&quot;SEVERE&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nThere are analogous methods for log4j.properties. I think it&#39;s just:\r\n\r\n    log4j.logger.com.mchange.v2.c3p0=SEVERE\r\n\r\n","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>If you use a log4j.xml file you can simple define a logger for the c3po package:</p>\n\n<pre><code>&lt;logger name=\"com.mchange.v2.c3p0\"&gt;\n    &lt;level value=\"SEVERE\"/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>There are analogous methods for log4j.properties. I think it's just:</p>\n\n<pre><code>log4j.logger.com.mchange.v2.c3p0=SEVERE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":684095,"reputation":37,"user_id":532180,"display_name":"Prashant Pandey"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1322672990,"creation_date":1295018721,"answer_id":4692631,"question_id":2976308,"body_markdown":"You can set log level by adding following lines in log4j.xml\r\nLogging at least at Error level is desired.\r\n      \r\n    &lt; category name=&quot;com.mchange&quot; additivity=&quot;false&quot;&gt; \r\n            &lt; priority value=&quot;ERROR&quot;/&gt;\r\n            &lt; appender-ref ref=&quot;ASYNC&quot;/&gt;\r\n         &lt;/ category&gt;\r\n\r\n\r\nIf you really want to turn off c3P0 logging set property `com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL=OFF`\r\n\r\nin c3p0-Config.properties\r\n\r\nor you can directly set this in code as an System property `System.setProperty(&quot;com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL&quot;,MLevel.OFF);`  \r\n","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>You can set log level by adding following lines in log4j.xml\nLogging at least at Error level is desired.</p>\n\n<pre><code>&lt; category name=\"com.mchange\" additivity=\"false\"&gt; \n        &lt; priority value=\"ERROR\"/&gt;\n        &lt; appender-ref ref=\"ASYNC\"/&gt;\n     &lt;/ category&gt;\n</code></pre>\n\n<p>If you really want to turn off c3P0 logging set property <code>com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL=OFF</code></p>\n\n<p>in c3p0-Config.properties</p>\n\n<p>or you can directly set this in code as an System property <code>System.setProperty(\"com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL\",MLevel.OFF);</code>  </p>\n"},{"tags":[],"owner":{"account_id":711317,"reputation":21,"user_id":626242,"display_name":"crimean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298278133,"creation_date":1298278133,"answer_id":5063886,"question_id":2976308,"body_markdown":"I fixed problem with line of code:\r\n\r\n    com.mchange.v2.log.MLog.getLogger().setLevel(MLevel.INFO);\r\n\r\nI am using log4j in my app.","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>I fixed problem with line of code:</p>\n\n<pre><code>com.mchange.v2.log.MLog.getLogger().setLevel(MLevel.INFO);\n</code></pre>\n\n<p>I am using log4j in my app.</p>\n"},{"tags":[],"owner":{"account_id":46548,"reputation":3722,"user_id":137584,"accept_rate":100,"display_name":"Philippe Carriere"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1437403665,"creation_date":1305561286,"answer_id":6019983,"question_id":2976308,"body_markdown":"For those who are NOT using a configuration file, just to add the following in the code, before loading the connection pool.\r\n\r\n    Properties p = new Properties(System.getProperties());\r\n    p.put(&quot;com.mchange.v2.log.MLog&quot;, &quot;com.mchange.v2.log.FallbackMLog&quot;);\r\n    p.put(&quot;com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL&quot;, &quot;OFF&quot;); // Off or any other level\r\n    System.setProperties(p);\r\n\r\n","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>For those who are NOT using a configuration file, just to add the following in the code, before loading the connection pool.</p>\n\n<pre><code>Properties p = new Properties(System.getProperties());\np.put(\"com.mchange.v2.log.MLog\", \"com.mchange.v2.log.FallbackMLog\");\np.put(\"com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL\", \"OFF\"); // Off or any other level\nSystem.setProperties(p);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360696513,"creation_date":1360696513,"answer_id":14840050,"question_id":2976308,"body_markdown":"I was getting messages like the following:\r\n\r\n    Tue Feb 12 13:42:01 EST 2013 INFO: Profiler Event: [FETCH] \tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:76) duration: 0 ms, connection-id: 67, statement-id: 23, resultset-id: 27\r\n\r\nThis made me think that C3P0 was logging these messages. Actually the message is coming from the mysql connector because I enabled profiling by using a connection string like this:\r\n\r\n    jdbc:mysql://localhost/database?profileSQL=true\r\n\r\nRemove `?profileSQL=true` to make it stop logging these messages.\r\n\r\n","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>I was getting messages like the following:</p>\n\n<pre><code>Tue Feb 12 13:42:01 EST 2013 INFO: Profiler Event: [FETCH]  at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:76) duration: 0 ms, connection-id: 67, statement-id: 23, resultset-id: 27\n</code></pre>\n\n<p>This made me think that C3P0 was logging these messages. Actually the message is coming from the mysql connector because I enabled profiling by using a connection string like this:</p>\n\n<pre><code>jdbc:mysql://localhost/database?profileSQL=true\n</code></pre>\n\n<p>Remove <code>?profileSQL=true</code> to make it stop logging these messages.</p>\n"},{"tags":[],"owner":{"account_id":5621521,"reputation":74,"user_id":4451196,"display_name":"a4word"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426804014,"creation_date":1422469054,"answer_id":28199519,"question_id":2976308,"body_markdown":"I am working on clojure, through korma and for the life of my I could not get any properties files to load (I am new to clojure so I blame myself).  If you are in a similar boat, the following might help you out.\r\n\r\n    (System/setProperties \r\n      (doto (java.util.Properties. (System/getProperties))\r\n        (.put &quot;com.mchange.v2.log.MLog&quot; &quot;com.mchange.v2.log.FallbackMLog&quot;)\r\n        (.put &quot;com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL&quot; &quot;OFF&quot;)))\r\n\r\nThe is basically a clojure port of Philippe Carriere&#39;s answer above, thank you so much!\r\n","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>I am working on clojure, through korma and for the life of my I could not get any properties files to load (I am new to clojure so I blame myself).  If you are in a similar boat, the following might help you out.</p>\n\n<pre><code>(System/setProperties \n  (doto (java.util.Properties. (System/getProperties))\n    (.put \"com.mchange.v2.log.MLog\" \"com.mchange.v2.log.FallbackMLog\")\n    (.put \"com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL\" \"OFF\")))\n</code></pre>\n\n<p>The is basically a clojure port of Philippe Carriere's answer above, thank you so much!</p>\n"},{"tags":[],"owner":{"account_id":9808184,"reputation":17,"user_id":7267262,"display_name":"Bieber Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684134873,"creation_date":1684134873,"answer_id":76251676,"question_id":2976308,"body_markdown":"If you are using Spring, you can disable c3p0 logging by configuring it in application.properties:\r\n\r\n    logging.level.com.mchange.v2.c3p0=off","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>If you are using Spring, you can disable c3p0 logging by configuring it in application.properties:</p>\n<pre><code>logging.level.com.mchange.v2.c3p0=off\n</code></pre>\n"}],"owner":{"account_id":91958,"reputation":15235,"user_id":252253,"accept_rate":62,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33600,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":2976378,"answer_count":7,"score":39,"last_activity_date":1684134873,"creation_date":1275671588,"question_id":2976308,"body_markdown":"hey all, I&#39;m just getting started with c3p0 for database connection pooling. It&#39;s attaching itself to my log4j output currently. How do I set logging off or at least to SEVERE level only for c3p0? I tried tweaking the properties file but not sure it&#39;s being picked up properly. \r\n\r\nany ideas on how best to turn it off?\r\n\r\nthanks\r\n\r\nUPDATE:\r\nthis seems to work in the log4j.properties file\r\n\r\n    log4j.logger.com.mchange.v2.c3p0.impl=INFO\r\n    \r\n    log4j.logger.com.mchange=INFO","title":"how do I turn off logging in java c3p0 connection pooling lib?","body":"<p>hey all, I'm just getting started with c3p0 for database connection pooling. It's attaching itself to my log4j output currently. How do I set logging off or at least to SEVERE level only for c3p0? I tried tweaking the properties file but not sure it's being picked up properly. </p>\n\n<p>any ideas on how best to turn it off?</p>\n\n<p>thanks</p>\n\n<p>UPDATE:\nthis seems to work in the log4j.properties file</p>\n\n<pre><code>log4j.logger.com.mchange.v2.c3p0.impl=INFO\n\nlog4j.logger.com.mchange=INFO\n</code></pre>\n"},{"tags":["java","eclipse","scope","java-7"],"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1378701095,"post_id":18691352,"comment_id":27535126,"body_markdown":"Nambari, Sotirios, rocketboy, I can&#39;t accept one answer right now because all are good in their own terms. I will leave it for votes for a while before deciding on the best. Thanks for your efforts!","body":"Nambari, Sotirios, rocketboy, I can&#39;t accept one answer right now because all are good in their own terms. I will leave it for votes for a while before deciding on the best. Thanks for your efforts!"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378700209,"creation_date":1378699864,"answer_id":18691365,"question_id":18691352,"body_markdown":"The correct scope limitation is within the declaration part `(...)` and the actual `try` block.\r\n\r\nThe [JLS][1] states\r\n\r\n&gt; The scope of a variable declared in the ResourceSpecification of a\r\n&gt; try-with-resources statement (&#167;14.20.3) is from the declaration\r\n&gt; rightward over the remainder of the ResourceSpecification and the\r\n&gt; entire try block associated with the try-with-resources statement.\r\n\r\nSo from the point it is declared in the ResourceSpecification `(...)` of the `try` onwards until the final closing `}` bracket of the `try` `Block`.\r\n\r\n    TryWithResourcesStatement:\r\n        try ResourceSpecification Block Catchesopt Finallyopt\r\n    \r\n    ResourceSpecification:\r\n        ( Resources ;opt )\r\n    \r\n    Resources:\r\n        Resource\r\n        Resource ; Resources\r\n    \r\n    Resource:\r\n        VariableModifiersopt Type VariableDeclaratorId = Expression\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.3","title":"Try-with-resources scope of resource","body":"<p>The correct scope limitation is within the declaration part <code>(...)</code> and the actual <code>try</code> block.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.3\" rel=\"nofollow\">JLS</a> states</p>\n\n<blockquote>\n  <p>The scope of a variable declared in the ResourceSpecification of a\n  try-with-resources statement (§14.20.3) is from the declaration\n  rightward over the remainder of the ResourceSpecification and the\n  entire try block associated with the try-with-resources statement.</p>\n</blockquote>\n\n<p>So from the point it is declared in the ResourceSpecification <code>(...)</code> of the <code>try</code> onwards until the final closing <code>}</code> bracket of the <code>try</code> <code>Block</code>.</p>\n\n<pre><code>TryWithResourcesStatement:\n    try ResourceSpecification Block Catchesopt Finallyopt\n\nResourceSpecification:\n    ( Resources ;opt )\n\nResources:\n    Resource\n    Resource ; Resources\n\nResource:\n    VariableModifiersopt Type VariableDeclaratorId = Expression\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1378700521,"creation_date":1378700128,"answer_id":18691391,"question_id":18691352,"body_markdown":"This syntax is called ***Extended try-with-resources***\r\n\r\nAs per [JLS][1]:\r\n\r\n    try ResourceSpecification\r\n        Block\r\n    Catchesopt\r\n    Finallyopt\r\n\r\nWill be translated to:\r\n\r\n\r\n    try {\r\n        try ResourceSpecification\r\n            Block\r\n    }\r\n    Catchesopt\r\n    Finallyopt\r\n\r\nSo, in your example, your resource will be limited to inner try block, so not available for outer `try/catch/finally`.\r\n\r\n**EDIT:**\r\n\r\n&gt; my question does not have nested try blocks\r\n\r\nBy explicitly adding catch/finally block in your code, you are introducing nested try blocks.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.3","title":"Try-with-resources scope of resource","body":"<p>This syntax is called <strong><em>Extended try-with-resources</em></strong></p>\n\n<p>As per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.3\">JLS</a>:</p>\n\n<pre><code>try ResourceSpecification\n    Block\nCatchesopt\nFinallyopt\n</code></pre>\n\n<p>Will be translated to:</p>\n\n<pre><code>try {\n    try ResourceSpecification\n        Block\n}\nCatchesopt\nFinallyopt\n</code></pre>\n\n<p>So, in your example, your resource will be limited to inner try block, so not available for outer <code>try/catch/finally</code>.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<blockquote>\n  <p>my question does not have nested try blocks</p>\n</blockquote>\n\n<p>By explicitly adding catch/finally block in your code, you are introducing nested try blocks.</p>\n"},{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378700291,"creation_date":1378700291,"answer_id":18691402,"question_id":18691352,"body_markdown":"In addition to @Nambari&#39;s answer:\r\n\r\n&gt; A try-with-resources statement can have catch and finally blocks just\r\n&gt; like an ordinary try statement. In a try-with-resources statement, any\r\n&gt; catch or finally block is run after the resources declared have been\r\n&gt; closed.\r\n\r\nThat pretty much explains the behaviour, your resource goes out of scope in your explicit catch/finally block.\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Try-with-resources scope of resource","body":"<p>In addition to @Nambari's answer:</p>\n\n<blockquote>\n  <p>A try-with-resources statement can have catch and finally blocks just\n  like an ordinary try statement. In a try-with-resources statement, any\n  catch or finally block is run after the resources declared have been\n  closed.</p>\n</blockquote>\n\n<p>That pretty much explains the behaviour, your resource goes out of scope in your explicit catch/finally block.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":6789117,"reputation":3706,"user_id":5226835,"accept_rate":60,"display_name":"rakwaht"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684134325,"creation_date":1504104940,"answer_id":45963691,"question_id":18691352,"body_markdown":"**Update from 2017 after Java 9 release**\r\n=====\r\n\r\nNow with `Java 9` we have more syntactic sugar and we can have a resource declared outside the `try-catch` block but still handled properly. That&#39;s why with **Java 9 the Try-With-Resources has been improved** introducing a new syntax:\r\n\r\n    InputStream stream = new MyInputStream(...)\r\n    try (stream) {\r\n       // do something with stream being sure that is going to be closed at the end\r\n    } catch(IOException e) {\r\n       // the resource (in this case, the stream) has been closed - see the end\r\n    }\r\n*Note that this syntax will result in a compile time error for Java version 8 or minor*\r\n\r\nThis is more &quot;natural&quot; way of writing even though in most use cases we don&#39;t need the resource outside the scope of the try block. \r\nThe only  restriction is that the reader variable should be effectively final or just final. \r\n\r\nFrom the [docs](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), using `try with resources`, it mentions &#39;in a try-with-resources statement, any catch or finally block is run after the resources declared have been closed&#39;.","title":"Try-with-resources scope of resource","body":"<h1><strong>Update from 2017 after Java 9 release</strong></h1>\n<p>Now with <code>Java 9</code> we have more syntactic sugar and we can have a resource declared outside the <code>try-catch</code> block but still handled properly. That's why with <strong>Java 9 the Try-With-Resources has been improved</strong> introducing a new syntax:</p>\n<pre><code>InputStream stream = new MyInputStream(...)\ntry (stream) {\n   // do something with stream being sure that is going to be closed at the end\n} catch(IOException e) {\n   // the resource (in this case, the stream) has been closed - see the end\n}\n</code></pre>\n<p><em>Note that this syntax will result in a compile time error for Java version 8 or minor</em></p>\n<p>This is more &quot;natural&quot; way of writing even though in most use cases we don't need the resource outside the scope of the try block.\nThe only  restriction is that the reader variable should be effectively final or just final.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs</a>, using <code>try with resources</code>, it mentions 'in a try-with-resources statement, any catch or finally block is run after the resources declared have been closed'.</p>\n"}],"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7206,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":18691391,"answer_count":4,"score":17,"last_activity_date":1684134325,"creation_date":1378699754,"question_id":18691352,"body_markdown":"In the *`try`-with-resources* construct of **Java 7**, I can declare a resource in the `try` statement, and it will be closed automatically when it goes out of scope.\r\n\r\nHowever, I don&#39;t find any indication of the **scope of the resource** made available. Specifically, is it available in the `catch`/`finally` blocks of the try block where it is declared?\r\n\r\nI tried the following in **Eclipse Kepler**, but it&#39;s giving a mixed impression:\r\n\r\nResource variable is made available by *Content Assist (Code Completion)*:\r\n\r\n![Content Assist suggests resource][1]\r\n\r\n*Quick Fix* suggests changing to resource variable, but this recursively produces the same problem it&#39;s trying to fix:\r\n\r\n![Redundant suggestion in Quick Fix][2]\r\n\r\nI would like to know what the **correct scope limitation** is, before raising a bug in the *Eclipse Bug Tracker*.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5GMiz.png\r\n  [2]: http://i.stack.imgur.com/WevpW.png","title":"Try-with-resources scope of resource","body":"<p>In the <em><code>try</code>-with-resources</em> construct of <strong>Java 7</strong>, I can declare a resource in the <code>try</code> statement, and it will be closed automatically when it goes out of scope.</p>\n\n<p>However, I don't find any indication of the <strong>scope of the resource</strong> made available. Specifically, is it available in the <code>catch</code>/<code>finally</code> blocks of the try block where it is declared?</p>\n\n<p>I tried the following in <strong>Eclipse Kepler</strong>, but it's giving a mixed impression:</p>\n\n<p>Resource variable is made available by <em>Content Assist (Code Completion)</em>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5GMiz.png\" alt=\"Content Assist suggests resource\"></p>\n\n<p><em>Quick Fix</em> suggests changing to resource variable, but this recursively produces the same problem it's trying to fix:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WevpW.png\" alt=\"Redundant suggestion in Quick Fix\"></p>\n\n<p>I would like to know what the <strong>correct scope limitation</strong> is, before raising a bug in the <em>Eclipse Bug Tracker</em>.</p>\n"},{"tags":["java","appium"],"comments":[{"owner":{"account_id":8177817,"reputation":367,"user_id":6156035,"display_name":"Angusiasty"},"score":0,"creation_date":1548336001,"post_id":54346747,"comment_id":95510609,"body_markdown":"Are you connecting directly to Appium node, or are you using Selenium grid?","body":"Are you connecting directly to Appium node, or are you using Selenium grid?"},{"owner":{"account_id":8177817,"reputation":367,"user_id":6156035,"display_name":"Angusiasty"},"score":0,"creation_date":1548336190,"post_id":54346747,"comment_id":95510728,"body_markdown":"Also do you have deviceReadyTimeout capability defined?","body":"Also do you have deviceReadyTimeout capability defined?"},{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1548431748,"post_id":54346747,"comment_id":95551492,"body_markdown":"I&#39;m pretty sure the timeout setting is in seconds, not milliseconds.  I&#39;m using 300 in my code and it works fine: `capabilities.setCapability(MobileCapabilityType.NEW_COMMAND_TIMEOUT, 300);` Perhaps it&#39;s ignoring your parameter because the value it too high?  Also, what&#39;s in the log BEFORE it deletes the session?","body":"I&#39;m pretty sure the timeout setting is in seconds, not milliseconds.  I&#39;m using 300 in my code and it works fine: <code>capabilities.setCapability(MobileCapabilityType.NEW_COMMAND_&zwnj;&#8203;TIMEOUT, 300);</code> Perhaps it&#39;s ignoring your parameter because the value it too high?  Also, what&#39;s in the log BEFORE it deletes the session?"},{"owner":{"account_id":3288982,"reputation":112,"user_id":2767707,"accept_rate":0,"display_name":"Rajesh Chaudhary"},"score":0,"creation_date":1548476615,"post_id":54346747,"comment_id":95565486,"body_markdown":"You should use  capabilities.setCapability(&quot;newCommandTimeout&quot;, 300). it will waitt for 5 minutes even if no commands triggered. You have given very long value that is why it is not working i guess. I have been using this","body":"You should use  capabilities.setCapability(&quot;newCommandTimeout&quot;, 300). it will waitt for 5 minutes even if no commands triggered. You have given very long value that is why it is not working i guess. I have been using this"},{"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"score":0,"creation_date":1548739862,"post_id":54346747,"comment_id":95639011,"body_markdown":"@Angusiasty. I am connecting to Appium node directly. I guess deviceReadyTimeout is for waiting the session to be setup. I didnt specify it so the default value should be 30 seconds","body":"@Angusiasty. I am connecting to Appium node directly. I guess deviceReadyTimeout is for waiting the session to be setup. I didnt specify it so the default value should be 30 seconds"},{"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"score":0,"creation_date":1548739900,"post_id":54346747,"comment_id":95639016,"body_markdown":"Thanks @Bill Hileman. I have tried set 300 for newCommandTimeout, but doesnt work, updated logs are available.","body":"Thanks @Bill Hileman. I have tried set 300 for newCommandTimeout, but doesnt work, updated logs are available."},{"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"score":0,"creation_date":1548739921,"post_id":54346747,"comment_id":95639020,"body_markdown":"Thanks @Rajesh Chaudhary. I have tried set 300 for newCommandTimeout, but doesnt work, updated logs are available.","body":"Thanks @Rajesh Chaudhary. I have tried set 300 for newCommandTimeout, but doesnt work, updated logs are available."},{"owner":{"account_id":3288982,"reputation":112,"user_id":2767707,"accept_rate":0,"display_name":"Rajesh Chaudhary"},"score":0,"creation_date":1548740054,"post_id":54346747,"comment_id":95639060,"body_markdown":"Can you please add the script here what you are trying to run. Issue seems to be with code","body":"Can you please add the script here what you are trying to run. Issue seems to be with code"},{"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"score":0,"creation_date":1548752021,"post_id":54346747,"comment_id":95643994,"body_markdown":"@Rajesh Chaudhary, found the root cause is some weird Exception thrown by driver.currentActivity().","body":"@Rajesh Chaudhary, found the root cause is some weird Exception thrown by driver.currentActivity()."}],"answers":[{"tags":[],"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548758295,"creation_date":1548758295,"answer_id":54419145,"question_id":54346747,"body_markdown":"Here is the correct answer to this question.\r\n\r\n    capabilities.setCapability(&quot;newCommandTimeout&quot;, 300);\r\n\r\nThanks @Rajesh Chaudhary.\r\n\r\nI will create a separate question regarding exceptions encountered during driver.currentActivity().","title":"Appium server automatically quit session while waiting","body":"<p>Here is the correct answer to this question.</p>\n\n<pre><code>capabilities.setCapability(\"newCommandTimeout\", 300);\n</code></pre>\n\n<p>Thanks @Rajesh Chaudhary.</p>\n\n<p>I will create a separate question regarding exceptions encountered during driver.currentActivity().</p>\n"},{"tags":[],"owner":{"account_id":2887244,"reputation":296,"user_id":4763604,"accept_rate":94,"display_name":"tilted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684133529,"creation_date":1684133158,"answer_id":76251478,"question_id":54346747,"body_markdown":"If anyone arrives here and is having the same issue but using javascript like me below is my solution. I am using appium from a nodejs script. I am using the **webdriverio** package on version **7.31.1** to automate testing on a physical **Android** device that is usb tethered.\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      platformName: &#39;Android&#39;,\r\n      &#39;appium:automationName&#39;: &#39;UiAutomator2&#39;,\r\n      &#39;appium:deviceName&#39;: &#39;Android&#39;,\r\n      &#39;appium:appPackage&#39;: &#39;appPackage&#39;,\r\n      &#39;appium:appActivity&#39;: &#39;appActivity&#39;,\r\n      &#39;appium:newCommandTimeout&#39;: 120000\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAdding the last property **&#39;appium:newCommandTimeout&#39;: 120000** fixed for me.\r\n\r\nHere is a setup script I use:\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import {\r\n      remote\r\n    } from &#39;webdriverio&#39;\r\n    /**\r\n     * Handles options configuration for the webdriver remote instance.\r\n     * @param {string} appPackage - The package name. ex: someapp.android.\r\n     * @param {string} appActivity - The first activity to launch. ex: com.yadaa.ydaa\r\n     * @param {string | undefined} udid - The unique id of the target device. Can be left off if only one device.\r\n     * @returns {Promise&lt;WebdriverIO.Browser&gt;} - Promise containing the webdriver browser object aka driver.\r\n     */\r\n    export const appiumSetup = async(appPackage, appActivity, udid) =&gt; {\r\n      let port = 4723\r\n      if (process?.env?.APPIUM_PORT) {\r\n        const portNumber = parseInt(process.env.APPIUM_PORT, 10)\r\n        if (!isNaN(portNumber)) {\r\n          port = portNumber\r\n        } else {\r\n          console.error(\r\n            `Invalid APPIUM_PORT: ${process.env.APPIUM_PORT}. Falling back to default port: ${port}`\r\n          )\r\n        }\r\n      }\r\n      return await remote({\r\n        hostname: process.env.APPIUM_HOST || &#39;localhost&#39;,\r\n        port: port || 4723,\r\n        logLevel: &#39;info&#39;,\r\n        capabilities: !udid ?\r\n          {\r\n            platformName: &#39;Android&#39;,\r\n            &#39;appium:automationName&#39;: &#39;UiAutomator2&#39;,\r\n            &#39;appium:deviceName&#39;: &#39;Android&#39;,\r\n            &#39;appium:appPackage&#39;: appPackage,\r\n            &#39;appium:appActivity&#39;: appActivity,\r\n            &#39;appium:newCommandTimeout&#39;: 120000\r\n          } :\r\n          {\r\n            platformName: &#39;Android&#39;,\r\n            &#39;appium:automationName&#39;: &#39;UiAutomator2&#39;,\r\n            &#39;appium:deviceName&#39;: &#39;Android&#39;,\r\n            &#39;appium:appPackage&#39;: appPackage,\r\n            &#39;appium:appActivity&#39;: appActivity,\r\n            &#39;appium:newCommandTimeout&#39;: 120000,\r\n            &#39;appium:udid&#39;: udid\r\n          }\r\n      })\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen to use:\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import {\r\n      appiumSetup\r\n    } from &#39;appiumSetup.js&#39;\r\n\r\n    async someFuncName() {\r\n      const driver = await appiumSetup(\r\n        &#39;com.samsung.android.messaging&#39;,\r\n        &#39;com.android.mms.ui.ConversationCompose&#39;\r\n      )\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Appium server automatically quit session while waiting","body":"<p>If anyone arrives here and is having the same issue but using javascript like me below is my solution. I am using appium from a nodejs script. I am using the <strong>webdriverio</strong> package on version <strong>7.31.1</strong> to automate testing on a physical <strong>Android</strong> device that is usb tethered.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\n  platformName: 'Android',\n  'appium:automationName': 'UiAutomator2',\n  'appium:deviceName': 'Android',\n  'appium:appPackage': 'appPackage',\n  'appium:appActivity': 'appActivity',\n  'appium:newCommandTimeout': 120000\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Adding the last property <strong>'appium:newCommandTimeout': 120000</strong> fixed for me.</p>\n<p>Here is a setup script I use:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\n  remote\n} from 'webdriverio'\n/**\n * Handles options configuration for the webdriver remote instance.\n * @param {string} appPackage - The package name. ex: someapp.android.\n * @param {string} appActivity - The first activity to launch. ex: com.yadaa.ydaa\n * @param {string | undefined} udid - The unique id of the target device. Can be left off if only one device.\n * @returns {Promise&lt;WebdriverIO.Browser&gt;} - Promise containing the webdriver browser object aka driver.\n */\nexport const appiumSetup = async(appPackage, appActivity, udid) =&gt; {\n  let port = 4723\n  if (process?.env?.APPIUM_PORT) {\n    const portNumber = parseInt(process.env.APPIUM_PORT, 10)\n    if (!isNaN(portNumber)) {\n      port = portNumber\n    } else {\n      console.error(\n        `Invalid APPIUM_PORT: ${process.env.APPIUM_PORT}. Falling back to default port: ${port}`\n      )\n    }\n  }\n  return await remote({\n    hostname: process.env.APPIUM_HOST || 'localhost',\n    port: port || 4723,\n    logLevel: 'info',\n    capabilities: !udid ?\n      {\n        platformName: 'Android',\n        'appium:automationName': 'UiAutomator2',\n        'appium:deviceName': 'Android',\n        'appium:appPackage': appPackage,\n        'appium:appActivity': appActivity,\n        'appium:newCommandTimeout': 120000\n      } :\n      {\n        platformName: 'Android',\n        'appium:automationName': 'UiAutomator2',\n        'appium:deviceName': 'Android',\n        'appium:appPackage': appPackage,\n        'appium:appActivity': appActivity,\n        'appium:newCommandTimeout': 120000,\n        'appium:udid': udid\n      }\n  })\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then to use:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\n  appiumSetup\n} from 'appiumSetup.js'\n\nasync someFuncName() {\n  const driver = await appiumSetup(\n    'com.samsung.android.messaging',\n    'com.android.mms.ui.ConversationCompose'\n  )\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8095126,"reputation":33,"user_id":6099958,"display_name":"H.Zhao"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684133529,"creation_date":1548333054,"question_id":54346747,"body_markdown":"I am doing automation with Appium on Android platform. Due to some reason, I need to wait for some time during the test. However, Appium automatically quit session if it does not receive commands in around 4 seconds. Can anyone help me tell me how to make Appium not quit my driver.\r\n\r\nI have tried add &quot;newCommandTimeout&quot; to capability, but it does not work.     \r\n\r\n    capabilities.setCapability(&quot;newCommandTimeout&quot;, 120000);\r\n\r\n\r\n\r\nAppium version: v1.9.1\r\n\r\nHere are appium logs while session is quiting:\r\n\r\n    [W3C] Calling AppiumDriver.deleteSession() with args: [&quot;d9a0e702-f477-439b-8502-aa9d3c93737f&quot;]\r\n    [BaseDriver] Event &#39;quitSessionRequested&#39; logged at 1548332599830 (20:23:19 GMT+0800 (Malay Peninsula Standard Time))\r\n    [Appium] Removing session d9a0e702-f477-439b-8502-aa9d3c93737f from our master session list\r\n    [AndroidDriver] Shutting down Android driver\r\n\r\n\r\n**Jan 29 2019 UPDATE:**\r\n\r\nAs suggested by most people, I have tried set 300 to newCommandTimeout\r\n\r\n    capabilities.setCapability(&quot;newCommandTimeout&quot;, 300);\r\n\r\nSession is still quiting. I use Thread.sleep(5000) to make script wait. Here are logs for creating sessions and closing sessions in Appium. Timestamp is added. It looks like sessions are closed automatically after 10 seconds waiting.\r\n\r\n\r\n    [2019-01-29 01:03:51][Appium] Creating new AndroidDriver (v4.1.1) session\r\n    [2019-01-29 01:03:51][Appium] Capabilities:\r\n    [2019-01-29 01:03:51][Appium]   platform: ANDROID\r\n    [2019-01-29 01:03:51][Appium]   platformName: android\r\n    [2019-01-29 01:03:51][Appium]   appActivity: *****\r\n    [2019-01-29 01:03:51][Appium]   appPackage: *****\r\n    [2019-01-29 01:03:51][Appium]   deviceName: *****\r\n    [2019-01-29 01:03:51][Appium]   language: en\r\n    [2019-01-29 01:03:51][Appium]   locale: US\r\n    [2019-01-29 01:03:51][Appium]   newCommandTimeout: 300\r\n    &lt;SOME LOGS OMITTED&gt;\r\n    [2019-01-29 01:04:10][HTTP] &lt;-- POST /wd/hub/session 200 18650 ms - 913\r\n    [2019-01-29 01:04:10][HTTP] \r\n    [2019-01-29 01:04:10][HTTP] --&gt; GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\r\n    [2019-01-29 01:04:10][HTTP] {}\r\n    [2019-01-29 01:04:10][HTTP] &lt;-- GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 200 5 ms - 845\r\n    [2019-01-29 01:04:10][HTTP] \r\n    [2019-01-29 01:04:10][HTTP] --&gt; GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\r\n    [2019-01-29 01:04:10][HTTP] &lt;-- GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 200 3 ms - 845\r\n    [2019-01-29 01:04:10][HTTP] \r\n    [2019-01-29 01:04:20][HTTP] --&gt; DELETE /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\r\n    [2019-01-29 01:04:20][HTTP] {}\r\n    [2019-01-29 01:04:20][W3C] Calling AppiumDriver.deleteSession() with args: [&quot;f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7&quot;]\r\n    [2019-01-29 01:04:20][BaseDriver] Event &#39;quitSessionRequested&#39; logged at 1548738260177 (13:04:20 GMT+0800 (Malay Peninsula Standard Time))\r\n    [2019-01-29 01:04:20][Appium] Removing session f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 from our master session list\r\n    [2019-01-29 01:04:20][AndroidDriver] Shutting down Android driver\r\n\r\n**Jan 29 2019 UPDATE II:**\r\nAfter a couple of trial &amp; error, I found the root cause is the driver.currentActivity() after sleep. I am getting this Exception. Because our framework caught this, it sent the shut down signal to Appium.\r\n    \r\n    org.openqa.selenium.WebDriverException: java.net.SocketException: Software caused connection abort: recv failed\r\n    Build info: version: &#39;3.14.0&#39;, revision: &#39;aacccce0&#39;, time: &#39;2018-08-02T20:19:58.91Z&#39;\r\n    System info: host: &#39;localhost&#39;, ip: &#39;&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_192&#39;\r\n    Driver info: driver.version: AndroidDriver\r\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:233)\r\n \r\nThis Exception only happens when I do driver.currentActivity() after wait for 10 seconds. My goal is to let script wait until it sees another activity. Currently my workaround is this:\r\n    \r\n    int counter = 0;\r\n    while(oDriver.currentActivity().contains(&quot;someActivity&quot;)) {\r\n        Thread.sleep(1000);\r\n        counter++;\r\n        if ( counter &gt;= 10 ) break;\r\n    }\r\n    if (oDriver.currentActivity().contains(&quot;someActivity&quot;))\r\n        System.out.println(&quot;Reached&quot;);","title":"Appium server automatically quit session while waiting","body":"<p>I am doing automation with Appium on Android platform. Due to some reason, I need to wait for some time during the test. However, Appium automatically quit session if it does not receive commands in around 4 seconds. Can anyone help me tell me how to make Appium not quit my driver.</p>\n\n<p>I have tried add \"newCommandTimeout\" to capability, but it does not work.     </p>\n\n<pre><code>capabilities.setCapability(\"newCommandTimeout\", 120000);\n</code></pre>\n\n<p>Appium version: v1.9.1</p>\n\n<p>Here are appium logs while session is quiting:</p>\n\n<pre><code>[W3C] Calling AppiumDriver.deleteSession() with args: [\"d9a0e702-f477-439b-8502-aa9d3c93737f\"]\n[BaseDriver] Event 'quitSessionRequested' logged at 1548332599830 (20:23:19 GMT+0800 (Malay Peninsula Standard Time))\n[Appium] Removing session d9a0e702-f477-439b-8502-aa9d3c93737f from our master session list\n[AndroidDriver] Shutting down Android driver\n</code></pre>\n\n<p><strong>Jan 29 2019 UPDATE:</strong></p>\n\n<p>As suggested by most people, I have tried set 300 to newCommandTimeout</p>\n\n<pre><code>capabilities.setCapability(\"newCommandTimeout\", 300);\n</code></pre>\n\n<p>Session is still quiting. I use Thread.sleep(5000) to make script wait. Here are logs for creating sessions and closing sessions in Appium. Timestamp is added. It looks like sessions are closed automatically after 10 seconds waiting.</p>\n\n<pre><code>[2019-01-29 01:03:51][Appium] Creating new AndroidDriver (v4.1.1) session\n[2019-01-29 01:03:51][Appium] Capabilities:\n[2019-01-29 01:03:51][Appium]   platform: ANDROID\n[2019-01-29 01:03:51][Appium]   platformName: android\n[2019-01-29 01:03:51][Appium]   appActivity: *****\n[2019-01-29 01:03:51][Appium]   appPackage: *****\n[2019-01-29 01:03:51][Appium]   deviceName: *****\n[2019-01-29 01:03:51][Appium]   language: en\n[2019-01-29 01:03:51][Appium]   locale: US\n[2019-01-29 01:03:51][Appium]   newCommandTimeout: 300\n&lt;SOME LOGS OMITTED&gt;\n[2019-01-29 01:04:10][HTTP] &lt;-- POST /wd/hub/session 200 18650 ms - 913\n[2019-01-29 01:04:10][HTTP] \n[2019-01-29 01:04:10][HTTP] --&gt; GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\n[2019-01-29 01:04:10][HTTP] {}\n[2019-01-29 01:04:10][HTTP] &lt;-- GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 200 5 ms - 845\n[2019-01-29 01:04:10][HTTP] \n[2019-01-29 01:04:10][HTTP] --&gt; GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\n[2019-01-29 01:04:10][HTTP] &lt;-- GET /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 200 3 ms - 845\n[2019-01-29 01:04:10][HTTP] \n[2019-01-29 01:04:20][HTTP] --&gt; DELETE /wd/hub/session/f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\n[2019-01-29 01:04:20][HTTP] {}\n[2019-01-29 01:04:20][W3C] Calling AppiumDriver.deleteSession() with args: [\"f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7\"]\n[2019-01-29 01:04:20][BaseDriver] Event 'quitSessionRequested' logged at 1548738260177 (13:04:20 GMT+0800 (Malay Peninsula Standard Time))\n[2019-01-29 01:04:20][Appium] Removing session f1dbcd92-fa13-4fc7-a9fd-e6a82b55f9e7 from our master session list\n[2019-01-29 01:04:20][AndroidDriver] Shutting down Android driver\n</code></pre>\n\n<p><strong>Jan 29 2019 UPDATE II:</strong>\nAfter a couple of trial &amp; error, I found the root cause is the driver.currentActivity() after sleep. I am getting this Exception. Because our framework caught this, it sent the shut down signal to Appium.</p>\n\n<pre><code>org.openqa.selenium.WebDriverException: java.net.SocketException: Software caused connection abort: recv failed\nBuild info: version: '3.14.0', revision: 'aacccce0', time: '2018-08-02T20:19:58.91Z'\nSystem info: host: 'localhost', ip: '', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_192'\nDriver info: driver.version: AndroidDriver\nat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:233)\n</code></pre>\n\n<p>This Exception only happens when I do driver.currentActivity() after wait for 10 seconds. My goal is to let script wait until it sees another activity. Currently my workaround is this:</p>\n\n<pre><code>int counter = 0;\nwhile(oDriver.currentActivity().contains(\"someActivity\")) {\n    Thread.sleep(1000);\n    counter++;\n    if ( counter &gt;= 10 ) break;\n}\nif (oDriver.currentActivity().contains(\"someActivity\"))\n    System.out.println(\"Reached\");\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","mapping","case-insensitive"],"comments":[{"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"score":2,"creation_date":1289639393,"post_id":4150039,"comment_id":4505335,"body_markdown":"Also, add the tag &#39;Java&#39; it will yield you a lot more page views which usually means more answers.","body":"Also, add the tag &#39;Java&#39; it will yield you a lot more page views which usually means more answers."},{"owner":{"account_id":899800,"reputation":2879,"user_id":936217,"accept_rate":33,"display_name":"Zahid Riaz"},"score":0,"creation_date":1349431197,"post_id":4150039,"comment_id":17215376,"body_markdown":"similar question with detailed answer about this problem I&#39;ve asked after seeing this question.  http://stackoverflow.com/questions/12684183/case-insensitive-mapping-for-spring-mvc-requestmapping-annotations/12732550","body":"similar question with detailed answer about this problem I&#39;ve asked after seeing this question.  <a href=\"http://stackoverflow.com/questions/12684183/case-insensitive-mapping-for-spring-mvc-requestmapping-annotations/12732550\" title=\"case insensitive mapping for spring mvc requestmapping annotations\">stackoverflow.com/questions/12684183/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289639358,"creation_date":1289639358,"answer_id":4171780,"question_id":4150039,"body_markdown":"Well, I can&#39;t answer your question (I tried, I thought I could figure it out). But seeing as you haven&#39;t received any responses in 2 days, here are some leads at least:\r\n\r\nThis example seems to suggest it&#39;s possible:\r\n\r\nhttp://webcache.googleusercontent.com/search?q=cache:ELj-ZQ8G4z0J:www.springbyexample.org/examples/sdms-simple-spring-mvc-web-module.html+case+insensitive+requestmapping+spring&amp;cd=3&amp;hl=en&amp;ct=clnk&amp;client=firefox-a\r\n\r\nIt references this class in Spring\r\n\r\nhttp://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/mvc/support/ControllerClassNameHandlerMapping.html\r\n\r\n\r\nMy guess (and it&#39;s just that, a guess), is that you need to expand `&lt;mvc:annotation-driven/&gt;` and implement the individual beans with the correct parameters to make it case-insensitive. See:\r\n\r\nhttp://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do\r\n\r\n\r\nA last note, I noticed somewhere else in reading that it said that all paths default to lower case, have you verified that `/MyPath` isn&#39;t handled by `@RequestMapping(&quot;/mypath&quot;)`?\r\n\r\nAgain, just food for thought as best I can do. Maybe it&#39;ll get you far enough along to ask a more specific question that leads you to the answer - that&#39;s how these things work sometimes. Good luck!","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>Well, I can't answer your question (I tried, I thought I could figure it out). But seeing as you haven't received any responses in 2 days, here are some leads at least:</p>\n\n<p>This example seems to suggest it's possible:</p>\n\n<p><a href=\"http://webcache.googleusercontent.com/search?q=cache:ELj-ZQ8G4z0J:www.springbyexample.org/examples/sdms-simple-spring-mvc-web-module.html+case+insensitive+requestmapping+spring&amp;cd=3&amp;hl=en&amp;ct=clnk&amp;client=firefox-a\" rel=\"nofollow\">http://webcache.googleusercontent.com/search?q=cache:ELj-ZQ8G4z0J:www.springbyexample.org/examples/sdms-simple-spring-mvc-web-module.html+case+insensitive+requestmapping+spring&amp;cd=3&amp;hl=en&amp;ct=clnk&amp;client=firefox-a</a></p>\n\n<p>It references this class in Spring</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/mvc/support/ControllerClassNameHandlerMapping.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/mvc/support/ControllerClassNameHandlerMapping.html</a></p>\n\n<p>My guess (and it's just that, a guess), is that you need to expand <code>&lt;mvc:annotation-driven/&gt;</code> and implement the individual beans with the correct parameters to make it case-insensitive. See:</p>\n\n<p><a href=\"http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do\" rel=\"nofollow\">http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do</a></p>\n\n<p>A last note, I noticed somewhere else in reading that it said that all paths default to lower case, have you verified that <code>/MyPath</code> isn't handled by <code>@RequestMapping(\"/mypath\")</code>?</p>\n\n<p>Again, just food for thought as best I can do. Maybe it'll get you far enough along to ask a more specific question that leads you to the answer - that's how these things work sometimes. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":147645,"reputation":489,"user_id":358902,"display_name":"smat"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1301087292,"creation_date":1301087292,"answer_id":5438158,"question_id":4150039,"body_markdown":"According to [this webpost](http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do) you need to add both a [HandlerMapping](http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/HandlerMapping.html) and a [HandlerAdapter](http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/HandlerAdapter.html) in Spring MVC. The Mapping maps the request to a corresponding controller, and the adapter is responsible to execute the request using the controller.\r\n\r\nYou therefore need to override the [PathMatcher](http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/PathMatcher.html) for both the mapper and adapter.\r\n\r\nEx (will make all @Controllers case-insensitive):\r\n\r\nNew Matcher:\r\n\r\n    public class CaseInsenseticePathMatcher extends AntPathMatcher {\r\n        @Override\r\n        protected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\r\n            System.err.println(pattern + &quot; -- &quot; + path);\r\n            return super.doMatch(pattern.toLowerCase(), path.toLowerCase(), fullMatch, uriTemplateVariables);\r\n        }\r\n    }\r\n\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;bean id=&quot;matcher&quot; class=&quot;test.CaseInsenseticePathMatcher&quot;/&gt;\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;pathMatcher&quot; ref=&quot;matcher&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;pathMatcher&quot; ref=&quot;matcher&quot;/&gt;\r\n        &lt;property name=&quot;webBindingInitializer&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.web.bind.support.ConfigurableWebBindingInitializer&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.ByteArrayHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.FormHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.xml.SourceHttpMessageConverter&quot;/&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;conversion-service&quot; class=&quot;org.springframework.format.support.FormattingConversionServiceFactoryBean&quot;/&gt;\r\n\r\n\r\nAdded about the same that &lt;[mvc:annotation-driven](http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do)&gt; would do. (Thanks to David Parks for the link)","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>According to <a href=\"http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do\" rel=\"noreferrer\">this webpost</a> you need to add both a <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/HandlerMapping.html\" rel=\"noreferrer\">HandlerMapping</a> and a <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/web/servlet/HandlerAdapter.html\" rel=\"noreferrer\">HandlerAdapter</a> in Spring MVC. The Mapping maps the request to a corresponding controller, and the adapter is responsible to execute the request using the controller.</p>\n\n<p>You therefore need to override the <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/PathMatcher.html\" rel=\"noreferrer\">PathMatcher</a> for both the mapper and adapter.</p>\n\n<p>Ex (will make all @Controllers case-insensitive):</p>\n\n<p>New Matcher:</p>\n\n<pre><code>public class CaseInsenseticePathMatcher extends AntPathMatcher {\n    @Override\n    protected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\n        System.err.println(pattern + \" -- \" + path);\n        return super.doMatch(pattern.toLowerCase(), path.toLowerCase(), fullMatch, uriTemplateVariables);\n    }\n}\n</code></pre>\n\n<p>applicationContext.xml:</p>\n\n<pre><code>&lt;bean id=\"matcher\" class=\"test.CaseInsenseticePathMatcher\"/&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"&gt;\n    &lt;property name=\"pathMatcher\" ref=\"matcher\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"pathMatcher\" ref=\"matcher\"/&gt;\n    &lt;property name=\"webBindingInitializer\"&gt;\n        &lt;bean class=\"org.springframework.web.bind.support.ConfigurableWebBindingInitializer\"/&gt;\n    &lt;/property&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;bean class=\"org.springframework.http.converter.ByteArrayHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.FormHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.xml.SourceHttpMessageConverter\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"conversion-service\" class=\"org.springframework.format.support.FormattingConversionServiceFactoryBean\"/&gt;\n</code></pre>\n\n<p>Added about the same that &lt;<a href=\"http://rapid-web.tumblr.com/post/296916668/what-does-annotation-driven-do\" rel=\"noreferrer\">mvc:annotation-driven</a>> would do. (Thanks to David Parks for the link)</p>\n"},{"tags":[],"owner":{"account_id":414421,"reputation":11,"user_id":788627,"display_name":"samir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405568041,"creation_date":1405567679,"answer_id":24794426,"question_id":4150039,"body_markdown":"----------\r\n**Problem** report for [solution by smat](https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158)\r\n\r\n\r\n----------\r\n\r\n\r\nIn [solution by smat](https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158), there is one little side-effect (I would blame spring-mvc for that).\r\n\r\nAt first, `AntPathMatcher.doMatch()` seems to return true/false depending on requested-url and controller-method&#39;s request-mapping string (That&#39;s the only thing should be done here). But, this method is used for one more purpose as well (which is not written in [documentation](http://docs.spring.io/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/PathMatcher.html)!). Another purpose is to collect corresponding values for `@PathVariable` in controller-method. These values are collected in `Map&lt;String, String&gt; uriTemplateVariables`(last parameter).And these collected values are used to pass to controller-method as parameter value.\r\n\r\nFor example, we have controller-method like this,\r\n\r\n    @RequestMapping(&quot;/code/{userCode}&quot;)\r\n\tpublic String getCode(@PathVariable(&quot;userCode&quot;) String userCode) {\r\n\t\tSystem.out.println(userCode);\r\n\t}\r\n\r\nand if we access with URL, `/code/AbD`\r\nthen with [solution by smat](https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158) `AntPathMatcher.doMatch()` will collect `@PathVariable` value in `Map&lt;String, String&gt; uriTemplateVariables` as `userCode-&gt;abd`. As we are lower-casing the path string, values collected are also lower-cased. And this &lt;b&gt;lower-cased userCode value is passed to our controller&lt;/b&gt;.\r\n\r\nBut, I am thankful to [solution by smat](https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158) which served me well so far without any other problems.\r\n\r\n\r\n----------\r\n\r\n\r\n**Solution**\r\n\r\n\r\n----------\r\n\r\n\r\nSolved this problem by doing work around [solution by smat](https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158). Without lower-casing path or pattern string in extended `AntPathMatcher` class, I forced my extended `AntPathMatcher` to use my custom `AntPathStringMatcher`. my custom `AntPathStringMatcher` does case-insesitive matching without changing the case of actual string.\r\n\r\nIn following solution code most of the code is copied from original class code(code I wanted to customize was hidden for subclass because of private access).\r\n\r\n**Custom AntPathMatcher,**\r\n\r\n    public class CaseInsensitivePathMatcher extends AntPathMatcher {\r\n\r\n\tprivate final Map&lt;String, CaseInsensitiveAntPathStringMatcher&gt; stringMatcherCache = new ConcurrentHashMap&lt;String, CaseInsensitiveAntPathStringMatcher&gt;();\r\n\r\n\t/**\r\n\t * Actually match the given &lt;code&gt;path&lt;/code&gt; against the given\r\n\t * &lt;code&gt;pattern&lt;/code&gt;.\r\n\t * \r\n\t * @param pattern\r\n\t *            the pattern to match against\r\n\t * @param path\r\n\t *            the path String to test\r\n\t * @param fullMatch\r\n\t *            whether a full pattern match is required (else a pattern match\r\n\t *            as far as the given base path goes is sufficient)\r\n\t * @return &lt;code&gt;true&lt;/code&gt; if the supplied &lt;code&gt;path&lt;/code&gt; matched,\r\n\t *         &lt;code&gt;false&lt;/code&gt; if it didn&#39;t\r\n\t */\r\n\tprotected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\r\n\r\n\t\tif (path.startsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) != pattern.startsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tString[] pattDirs = StringUtils.tokenizeToStringArray(pattern, AntPathMatcher.DEFAULT_PATH_SEPARATOR);\r\n\t\tString[] pathDirs = StringUtils.tokenizeToStringArray(path, AntPathMatcher.DEFAULT_PATH_SEPARATOR);\r\n\r\n\t\tint pattIdxStart = 0;\r\n\t\tint pattIdxEnd = pattDirs.length - 1;\r\n\t\tint pathIdxStart = 0;\r\n\t\tint pathIdxEnd = pathDirs.length - 1;\r\n\r\n\t\t// Match all elements up to the first **\r\n\t\twhile (pattIdxStart &lt;= pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\r\n\t\t\tString patDir = pattDirs[pattIdxStart];\r\n\t\t\tif (&quot;**&quot;.equals(patDir)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (!matchStrings(patDir, pathDirs[pathIdxStart], uriTemplateVariables)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tpattIdxStart++;\r\n\t\t\tpathIdxStart++;\r\n\t\t}\r\n\r\n\t\tif (pathIdxStart &gt; pathIdxEnd) {\r\n\t\t\t// Path is exhausted, only match if rest of pattern is * or **&#39;s\r\n\t\t\tif (pattIdxStart &gt; pattIdxEnd) {\r\n\t\t\t\treturn (pattern.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) ? path.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) : !path\r\n\t\t\t\t\t\t.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR));\r\n\t\t\t}\r\n\t\t\tif (!fullMatch) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (pattIdxStart == pattIdxEnd &amp;&amp; pattDirs[pattIdxStart].equals(&quot;*&quot;) &amp;&amp; path.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tfor (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\r\n\t\t\t\tif (!pattDirs[i].equals(&quot;**&quot;)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} else if (pattIdxStart &gt; pattIdxEnd) {\r\n\t\t\t// String not exhausted, but pattern is. Failure.\r\n\t\t\treturn false;\r\n\t\t} else if (!fullMatch &amp;&amp; &quot;**&quot;.equals(pattDirs[pattIdxStart])) {\r\n\t\t\t// Path start definitely matches due to &quot;**&quot; part in pattern.\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// up to last &#39;**&#39;\r\n\t\twhile (pattIdxStart &lt;= pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\r\n\t\t\tString patDir = pattDirs[pattIdxEnd];\r\n\t\t\tif (patDir.equals(&quot;**&quot;)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (!matchStrings(patDir, pathDirs[pathIdxEnd], uriTemplateVariables)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tpattIdxEnd--;\r\n\t\t\tpathIdxEnd--;\r\n\t\t}\r\n\t\tif (pathIdxStart &gt; pathIdxEnd) {\r\n\t\t\t// String is exhausted\r\n\t\t\tfor (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\r\n\t\t\t\tif (!pattDirs[i].equals(&quot;**&quot;)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\twhile (pattIdxStart != pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\r\n\t\t\tint patIdxTmp = -1;\r\n\t\t\tfor (int i = pattIdxStart + 1; i &lt;= pattIdxEnd; i++) {\r\n\t\t\t\tif (pattDirs[i].equals(&quot;**&quot;)) {\r\n\t\t\t\t\tpatIdxTmp = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (patIdxTmp == pattIdxStart + 1) {\r\n\t\t\t\t// &#39;**/**&#39; situation, so skip one\r\n\t\t\t\tpattIdxStart++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// Find the pattern between padIdxStart &amp; padIdxTmp in str between\r\n\t\t\t// strIdxStart &amp; strIdxEnd\r\n\t\t\tint patLength = (patIdxTmp - pattIdxStart - 1);\r\n\t\t\tint strLength = (pathIdxEnd - pathIdxStart + 1);\r\n\t\t\tint foundIdx = -1;\r\n\r\n\t\t\tstrLoop: for (int i = 0; i &lt;= strLength - patLength; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; patLength; j++) {\r\n\t\t\t\t\tString subPat = pattDirs[pattIdxStart + j + 1];\r\n\t\t\t\t\tString subStr = pathDirs[pathIdxStart + i + j];\r\n\t\t\t\t\tif (!matchStrings(subPat, subStr, uriTemplateVariables)) {\r\n\t\t\t\t\t\tcontinue strLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfoundIdx = pathIdxStart + i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (foundIdx == -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tpattIdxStart = patIdxTmp;\r\n\t\t\tpathIdxStart = foundIdx + patLength;\r\n\t\t}\r\n\r\n\t\tfor (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\r\n\t\t\tif (!pattDirs[i].equals(&quot;**&quot;)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Tests whether or not a string matches against a pattern. The pattern may\r\n\t * contain two special characters:&lt;br&gt;\r\n\t * &#39;*&#39; means zero or more characters&lt;br&gt;\r\n\t * &#39;?&#39; means one and only one character\r\n\t * \r\n\t * @param pattern\r\n\t *            pattern to match against. Must not be &lt;code&gt;null&lt;/code&gt;.\r\n\t * @param str\r\n\t *            string which must be matched against the pattern. Must not be\r\n\t *            &lt;code&gt;null&lt;/code&gt;.\r\n\t * @return &lt;code&gt;true&lt;/code&gt; if the string matches against the pattern, or\r\n\t *         &lt;code&gt;false&lt;/code&gt; otherwise.\r\n\t */\r\n\tprivate boolean matchStrings(String pattern, String str, Map&lt;String, String&gt; uriTemplateVariables) {\r\n\t\tCaseInsensitiveAntPathStringMatcher matcher = this.stringMatcherCache.get(pattern);\r\n\t\tif (matcher == null) {\r\n\t\t\tmatcher = new CaseInsensitiveAntPathStringMatcher(pattern);\r\n\t\t\tthis.stringMatcherCache.put(pattern, matcher);\r\n\t\t}\r\n\t\treturn matcher.matchStrings(str, uriTemplateVariables);\r\n\t}\r\n}\r\n\r\n\r\n**Custom AntPathStringMatcher,**\r\n\r\n    public class CaseInsensitiveAntPathStringMatcher {\r\n\tprivate static final Pattern GLOB_PATTERN = Pattern.compile(&quot;\\\\?|\\\\*|\\\\{((?:\\\\{[^/]+?\\\\}|[^/{}]|\\\\\\\\[{}])+?)\\\\}&quot;);\r\n\r\n\tprivate static final String DEFAULT_VARIABLE_PATTERN = &quot;(.*)&quot;;\r\n\r\n\tprivate final Pattern pattern;\r\n\r\n\tprivate final List&lt;String&gt; variableNames = new LinkedList&lt;String&gt;();\r\n\r\n\r\n\t/** Construct a new instance of the &lt;code&gt;AntPatchStringMatcher&lt;/code&gt;. */\r\n\tCaseInsensitiveAntPathStringMatcher(String pattern) {\r\n\t\tthis.pattern = createPattern(pattern);\r\n\t}\r\n\r\n\tprivate Pattern createPattern(String pattern) {\r\n\t\tStringBuilder patternBuilder = new StringBuilder();\r\n\t\tMatcher m = GLOB_PATTERN.matcher(pattern);\r\n\t\tint end = 0;\r\n\t\twhile (m.find()) {\r\n\t\t\tpatternBuilder.append(quote(pattern, end, m.start()));\r\n\t\t\tString match = m.group();\r\n\t\t\tif (&quot;?&quot;.equals(match)) {\r\n\t\t\t\tpatternBuilder.append(&#39;.&#39;);\r\n\t\t\t}\r\n\t\t\telse if (&quot;*&quot;.equals(match)) {\r\n\t\t\t\tpatternBuilder.append(&quot;.*&quot;);\r\n\t\t\t}\r\n\t\t\telse if (match.startsWith(&quot;{&quot;) &amp;&amp; match.endsWith(&quot;}&quot;)) {\r\n\t\t\t\tint colonIdx = match.indexOf(&#39;:&#39;);\r\n\t\t\t\tif (colonIdx == -1) {\r\n\t\t\t\t\tpatternBuilder.append(DEFAULT_VARIABLE_PATTERN);\r\n\t\t\t\t\tvariableNames.add(m.group(1));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tString variablePattern = match.substring(colonIdx + 1, match.length() - 1);\r\n\t\t\t\t\tpatternBuilder.append(&#39;(&#39;);\r\n\t\t\t\t\tpatternBuilder.append(variablePattern);\r\n\t\t\t\t\tpatternBuilder.append(&#39;)&#39;);\r\n\t\t\t\t\tString variableName = match.substring(1, colonIdx);\r\n\t\t\t\t\tvariableNames.add(variableName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tend = m.end();\r\n\t\t}\r\n\t\tpatternBuilder.append(quote(pattern, end, pattern.length()));\r\n\t\treturn Pattern.compile(patternBuilder.toString(), Pattern.CASE_INSENSITIVE);\t// this line is updated to create case-insensitive pattern object\r\n\t}\r\n\r\n\tprivate String quote(String s, int start, int end) {\r\n\t\tif (start == end) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\treturn Pattern.quote(s.substring(start, end));\r\n\t}\r\n\r\n\t/**\r\n\t * Main entry point.\r\n\t *\r\n\t * @return &lt;code&gt;true&lt;/code&gt; if the string matches against the pattern, or &lt;code&gt;false&lt;/code&gt; otherwise.\r\n\t */\r\n\tpublic boolean matchStrings(String str, Map&lt;String, String&gt; uriTemplateVariables) {\r\n\t\tMatcher matcher = pattern.matcher(str);\r\n\t\tif (matcher.matches()) {\r\n\t\t\tif (uriTemplateVariables != null) {\r\n\t\t\t\t// SPR-8455\r\n\t\t\t\tAssert.isTrue(variableNames.size() == matcher.groupCount(),\r\n\t\t\t\t\t\t&quot;The number of capturing groups in the pattern segment &quot; + pattern +\r\n\t\t\t\t\t\t&quot; does not match the number of URI template variables it defines, which can occur if &quot; +\r\n\t\t\t\t\t\t&quot; capturing groups are used in a URI template regex. Use non-capturing groups instead.&quot;);\r\n\t\t\t\tfor (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n\t\t\t\t\tString name = this.variableNames.get(i - 1);\r\n\t\t\t\t\tString value = matcher.group(i);\r\n\t\t\t\t\turiTemplateVariables.put(name, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<hr>\n\n<p><strong>Problem</strong> report for <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158\">solution by smat</a></p>\n\n<hr>\n\n<p>In <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158\">solution by smat</a>, there is one little side-effect (I would blame spring-mvc for that).</p>\n\n<p>At first, <code>AntPathMatcher.doMatch()</code> seems to return true/false depending on requested-url and controller-method's request-mapping string (That's the only thing should be done here). But, this method is used for one more purpose as well (which is not written in <a href=\"http://docs.spring.io/spring/docs/3.0.4.RELEASE/javadoc-api/org/springframework/util/PathMatcher.html\" rel=\"nofollow noreferrer\">documentation</a>!). Another purpose is to collect corresponding values for <code>@PathVariable</code> in controller-method. These values are collected in <code>Map&lt;String, String&gt; uriTemplateVariables</code>(last parameter).And these collected values are used to pass to controller-method as parameter value.</p>\n\n<p>For example, we have controller-method like this,</p>\n\n<pre><code>@RequestMapping(\"/code/{userCode}\")\npublic String getCode(@PathVariable(\"userCode\") String userCode) {\n    System.out.println(userCode);\n}\n</code></pre>\n\n<p>and if we access with URL, <code>/code/AbD</code>\nthen with <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158\">solution by smat</a> <code>AntPathMatcher.doMatch()</code> will collect <code>@PathVariable</code> value in <code>Map&lt;String, String&gt; uriTemplateVariables</code> as <code>userCode-&gt;abd</code>. As we are lower-casing the path string, values collected are also lower-cased. And this <b>lower-cased userCode value is passed to our controller</b>.</p>\n\n<p>But, I am thankful to <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158\">solution by smat</a> which served me well so far without any other problems.</p>\n\n<hr>\n\n<p><strong>Solution</strong></p>\n\n<hr>\n\n<p>Solved this problem by doing work around <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings/5438158#5438158\">solution by smat</a>. Without lower-casing path or pattern string in extended <code>AntPathMatcher</code> class, I forced my extended <code>AntPathMatcher</code> to use my custom <code>AntPathStringMatcher</code>. my custom <code>AntPathStringMatcher</code> does case-insesitive matching without changing the case of actual string.</p>\n\n<p>In following solution code most of the code is copied from original class code(code I wanted to customize was hidden for subclass because of private access).</p>\n\n<p><strong>Custom AntPathMatcher,</strong></p>\n\n<pre><code>public class CaseInsensitivePathMatcher extends AntPathMatcher {\n\nprivate final Map&lt;String, CaseInsensitiveAntPathStringMatcher&gt; stringMatcherCache = new ConcurrentHashMap&lt;String, CaseInsensitiveAntPathStringMatcher&gt;();\n\n/**\n * Actually match the given &lt;code&gt;path&lt;/code&gt; against the given\n * &lt;code&gt;pattern&lt;/code&gt;.\n * \n * @param pattern\n *            the pattern to match against\n * @param path\n *            the path String to test\n * @param fullMatch\n *            whether a full pattern match is required (else a pattern match\n *            as far as the given base path goes is sufficient)\n * @return &lt;code&gt;true&lt;/code&gt; if the supplied &lt;code&gt;path&lt;/code&gt; matched,\n *         &lt;code&gt;false&lt;/code&gt; if it didn't\n */\nprotected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\n\n    if (path.startsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) != pattern.startsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR)) {\n        return false;\n    }\n\n    String[] pattDirs = StringUtils.tokenizeToStringArray(pattern, AntPathMatcher.DEFAULT_PATH_SEPARATOR);\n    String[] pathDirs = StringUtils.tokenizeToStringArray(path, AntPathMatcher.DEFAULT_PATH_SEPARATOR);\n\n    int pattIdxStart = 0;\n    int pattIdxEnd = pattDirs.length - 1;\n    int pathIdxStart = 0;\n    int pathIdxEnd = pathDirs.length - 1;\n\n    // Match all elements up to the first **\n    while (pattIdxStart &lt;= pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\n        String patDir = pattDirs[pattIdxStart];\n        if (\"**\".equals(patDir)) {\n            break;\n        }\n        if (!matchStrings(patDir, pathDirs[pathIdxStart], uriTemplateVariables)) {\n            return false;\n        }\n        pattIdxStart++;\n        pathIdxStart++;\n    }\n\n    if (pathIdxStart &gt; pathIdxEnd) {\n        // Path is exhausted, only match if rest of pattern is * or **'s\n        if (pattIdxStart &gt; pattIdxEnd) {\n            return (pattern.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) ? path.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR) : !path\n                    .endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR));\n        }\n        if (!fullMatch) {\n            return true;\n        }\n        if (pattIdxStart == pattIdxEnd &amp;&amp; pattDirs[pattIdxStart].equals(\"*\") &amp;&amp; path.endsWith(AntPathMatcher.DEFAULT_PATH_SEPARATOR)) {\n            return true;\n        }\n        for (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\n            if (!pattDirs[i].equals(\"**\")) {\n                return false;\n            }\n        }\n        return true;\n    } else if (pattIdxStart &gt; pattIdxEnd) {\n        // String not exhausted, but pattern is. Failure.\n        return false;\n    } else if (!fullMatch &amp;&amp; \"**\".equals(pattDirs[pattIdxStart])) {\n        // Path start definitely matches due to \"**\" part in pattern.\n        return true;\n    }\n\n    // up to last '**'\n    while (pattIdxStart &lt;= pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\n        String patDir = pattDirs[pattIdxEnd];\n        if (patDir.equals(\"**\")) {\n            break;\n        }\n        if (!matchStrings(patDir, pathDirs[pathIdxEnd], uriTemplateVariables)) {\n            return false;\n        }\n        pattIdxEnd--;\n        pathIdxEnd--;\n    }\n    if (pathIdxStart &gt; pathIdxEnd) {\n        // String is exhausted\n        for (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\n            if (!pattDirs[i].equals(\"**\")) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    while (pattIdxStart != pattIdxEnd &amp;&amp; pathIdxStart &lt;= pathIdxEnd) {\n        int patIdxTmp = -1;\n        for (int i = pattIdxStart + 1; i &lt;= pattIdxEnd; i++) {\n            if (pattDirs[i].equals(\"**\")) {\n                patIdxTmp = i;\n                break;\n            }\n        }\n        if (patIdxTmp == pattIdxStart + 1) {\n            // '**/**' situation, so skip one\n            pattIdxStart++;\n            continue;\n        }\n        // Find the pattern between padIdxStart &amp; padIdxTmp in str between\n        // strIdxStart &amp; strIdxEnd\n        int patLength = (patIdxTmp - pattIdxStart - 1);\n        int strLength = (pathIdxEnd - pathIdxStart + 1);\n        int foundIdx = -1;\n\n        strLoop: for (int i = 0; i &lt;= strLength - patLength; i++) {\n            for (int j = 0; j &lt; patLength; j++) {\n                String subPat = pattDirs[pattIdxStart + j + 1];\n                String subStr = pathDirs[pathIdxStart + i + j];\n                if (!matchStrings(subPat, subStr, uriTemplateVariables)) {\n                    continue strLoop;\n                }\n            }\n            foundIdx = pathIdxStart + i;\n            break;\n        }\n\n        if (foundIdx == -1) {\n            return false;\n        }\n\n        pattIdxStart = patIdxTmp;\n        pathIdxStart = foundIdx + patLength;\n    }\n\n    for (int i = pattIdxStart; i &lt;= pattIdxEnd; i++) {\n        if (!pattDirs[i].equals(\"**\")) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Tests whether or not a string matches against a pattern. The pattern may\n * contain two special characters:&lt;br&gt;\n * '*' means zero or more characters&lt;br&gt;\n * '?' means one and only one character\n * \n * @param pattern\n *            pattern to match against. Must not be &lt;code&gt;null&lt;/code&gt;.\n * @param str\n *            string which must be matched against the pattern. Must not be\n *            &lt;code&gt;null&lt;/code&gt;.\n * @return &lt;code&gt;true&lt;/code&gt; if the string matches against the pattern, or\n *         &lt;code&gt;false&lt;/code&gt; otherwise.\n */\nprivate boolean matchStrings(String pattern, String str, Map&lt;String, String&gt; uriTemplateVariables) {\n    CaseInsensitiveAntPathStringMatcher matcher = this.stringMatcherCache.get(pattern);\n    if (matcher == null) {\n        matcher = new CaseInsensitiveAntPathStringMatcher(pattern);\n        this.stringMatcherCache.put(pattern, matcher);\n    }\n    return matcher.matchStrings(str, uriTemplateVariables);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Custom AntPathStringMatcher,</strong></p>\n\n<pre><code>public class CaseInsensitiveAntPathStringMatcher {\nprivate static final Pattern GLOB_PATTERN = Pattern.compile(\"\\\\?|\\\\*|\\\\{((?:\\\\{[^/]+?\\\\}|[^/{}]|\\\\\\\\[{}])+?)\\\\}\");\n\nprivate static final String DEFAULT_VARIABLE_PATTERN = \"(.*)\";\n\nprivate final Pattern pattern;\n\nprivate final List&lt;String&gt; variableNames = new LinkedList&lt;String&gt;();\n\n\n/** Construct a new instance of the &lt;code&gt;AntPatchStringMatcher&lt;/code&gt;. */\nCaseInsensitiveAntPathStringMatcher(String pattern) {\n    this.pattern = createPattern(pattern);\n}\n\nprivate Pattern createPattern(String pattern) {\n    StringBuilder patternBuilder = new StringBuilder();\n    Matcher m = GLOB_PATTERN.matcher(pattern);\n    int end = 0;\n    while (m.find()) {\n        patternBuilder.append(quote(pattern, end, m.start()));\n        String match = m.group();\n        if (\"?\".equals(match)) {\n            patternBuilder.append('.');\n        }\n        else if (\"*\".equals(match)) {\n            patternBuilder.append(\".*\");\n        }\n        else if (match.startsWith(\"{\") &amp;&amp; match.endsWith(\"}\")) {\n            int colonIdx = match.indexOf(':');\n            if (colonIdx == -1) {\n                patternBuilder.append(DEFAULT_VARIABLE_PATTERN);\n                variableNames.add(m.group(1));\n            }\n            else {\n                String variablePattern = match.substring(colonIdx + 1, match.length() - 1);\n                patternBuilder.append('(');\n                patternBuilder.append(variablePattern);\n                patternBuilder.append(')');\n                String variableName = match.substring(1, colonIdx);\n                variableNames.add(variableName);\n            }\n        }\n        end = m.end();\n    }\n    patternBuilder.append(quote(pattern, end, pattern.length()));\n    return Pattern.compile(patternBuilder.toString(), Pattern.CASE_INSENSITIVE);    // this line is updated to create case-insensitive pattern object\n}\n\nprivate String quote(String s, int start, int end) {\n    if (start == end) {\n        return \"\";\n    }\n    return Pattern.quote(s.substring(start, end));\n}\n\n/**\n * Main entry point.\n *\n * @return &lt;code&gt;true&lt;/code&gt; if the string matches against the pattern, or &lt;code&gt;false&lt;/code&gt; otherwise.\n */\npublic boolean matchStrings(String str, Map&lt;String, String&gt; uriTemplateVariables) {\n    Matcher matcher = pattern.matcher(str);\n    if (matcher.matches()) {\n        if (uriTemplateVariables != null) {\n            // SPR-8455\n            Assert.isTrue(variableNames.size() == matcher.groupCount(),\n                    \"The number of capturing groups in the pattern segment \" + pattern +\n                    \" does not match the number of URI template variables it defines, which can occur if \" +\n                    \" capturing groups are used in a URI template regex. Use non-capturing groups instead.\");\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                String name = this.variableNames.get(i - 1);\n                String value = matcher.group(i);\n                uriTemplateVariables.put(name, value);\n            }\n        }\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556204501,"creation_date":1429742467,"answer_id":29810228,"question_id":4150039,"body_markdown":"In Spring 3.2+ / Spring Boot, you can now set up case insensitive URL matching using the simplified Java config.\r\n\r\nFirst you need to create the CaseInsensitivePathMatcher.groovy or Java class:\r\n\r\n    import org.springframework.util.AntPathMatcher\r\n    \r\n    class CaseInsensitivePathMatcher extends AntPathMatcher{\r\n    \r\n        @Override\r\n        protected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\r\n            super.doMatch(pattern.toLowerCase(), path.toLowerCase(), fullMatch, uriTemplateVariables)\r\n        }\r\n    }\r\n\r\nNext, to make this happen, you should have a class annotated with Springs @Configuration that extends the WebMvcConfigurerAdapter class as shown below (**Note that my code is contained within .groovy classes, hence the &#39;return&#39; keyword is not required in the example**):\r\n\r\n    @Configuration\r\n    public class ApplicationConfig extends WebMvcConfigurerAdapter\r\n\r\n\r\n\r\nThen add the following 2 methods to the class:\r\n\r\n    /**\r\n     * Creates a patchMatcher bean that matches case insensitively\r\n     * @return PathMatcher\r\n     */\r\n    @Bean\r\n    public PathMatcher pathMatcher() {\r\n        new CaseInsensitivePathMatcher()\r\n    }\r\n    \r\n    /**\r\n     * Overrides the configurePathMatch() method in WebMvcConfigurerAdapter\r\n     * &lt;br/&gt;Allows us to set a custom path matcher, used by the MVC for @RequestMapping&#39;s\r\n         * @param configurer\r\n         */\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.pathMatcher = pathMatcher()\r\n        }\r\n    }\r\n\r\n&lt;br/&gt;\r\nThat&#39;s it, you should now be all setup for case insensitive URL&#39;s with minimal configuration\r\n\r\n","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>In Spring 3.2+ / Spring Boot, you can now set up case insensitive URL matching using the simplified Java config.</p>\n\n<p>First you need to create the CaseInsensitivePathMatcher.groovy or Java class:</p>\n\n<pre><code>import org.springframework.util.AntPathMatcher\n\nclass CaseInsensitivePathMatcher extends AntPathMatcher{\n\n    @Override\n    protected boolean doMatch(String pattern, String path, boolean fullMatch, Map&lt;String, String&gt; uriTemplateVariables) {\n        super.doMatch(pattern.toLowerCase(), path.toLowerCase(), fullMatch, uriTemplateVariables)\n    }\n}\n</code></pre>\n\n<p>Next, to make this happen, you should have a class annotated with Springs @Configuration that extends the WebMvcConfigurerAdapter class as shown below (<strong>Note that my code is contained within .groovy classes, hence the 'return' keyword is not required in the example</strong>):</p>\n\n<pre><code>@Configuration\npublic class ApplicationConfig extends WebMvcConfigurerAdapter\n</code></pre>\n\n<p>Then add the following 2 methods to the class:</p>\n\n<pre><code>/**\n * Creates a patchMatcher bean that matches case insensitively\n * @return PathMatcher\n */\n@Bean\npublic PathMatcher pathMatcher() {\n    new CaseInsensitivePathMatcher()\n}\n\n/**\n * Overrides the configurePathMatch() method in WebMvcConfigurerAdapter\n * &lt;br/&gt;Allows us to set a custom path matcher, used by the MVC for @RequestMapping's\n     * @param configurer\n     */\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.pathMatcher = pathMatcher()\n    }\n}\n</code></pre>\n\n<p><br/>\nThat's it, you should now be all setup for case insensitive URL's with minimal configuration</p>\n"},{"tags":[],"owner":{"account_id":329489,"reputation":1370,"user_id":653042,"accept_rate":53,"display_name":"npcode"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1438173596,"creation_date":1438173596,"answer_id":31700674,"question_id":4150039,"body_markdown":"[Spring 4.2 will support case-insensitive path matching.][1] You can configure it as follows:\r\n\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            AntPathMatcher matcher = new AntPathMatcher();\r\n            matcher.setCaseSensitive(false);\r\n            configurer.setPathMatcher(matcher);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-13286","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p><a href=\"https://jira.spring.io/browse/SPR-13286\">Spring 4.2 will support case-insensitive path matching.</a> You can configure it as follows:</p>\n\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        AntPathMatcher matcher = new AntPathMatcher();\n        matcher.setCaseSensitive(false);\n        configurer.setPathMatcher(matcher);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7190872,"reputation":21,"user_id":5491264,"display_name":"shershon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464900530,"creation_date":1464900530,"answer_id":37601851,"question_id":4150039,"body_markdown":"Example from a bean file in Spring 4.2 and this is ONLY SUPPORTED v4.2+:\r\n\r\n    &lt;mvc:annotation-driven validator=&quot;validator&quot;&gt;\r\n       &lt;mvc:path-matching path-matcher=&quot;pathMatcher&quot; /&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\n    ...\r\n\r\n    &lt;!--Set endpoints case insensitive, spring is case-sensitive by default--&gt;\r\n    &lt;bean id=&quot;pathMatcher&quot; class=&quot;org.springframework.util.AntPathMatcher&quot;&gt;\r\n      &lt;property name=&quot;caseSensitive&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>Example from a bean file in Spring 4.2 and this is ONLY SUPPORTED v4.2+:</p>\n\n<pre><code>&lt;mvc:annotation-driven validator=\"validator\"&gt;\n   &lt;mvc:path-matching path-matcher=\"pathMatcher\" /&gt;\n&lt;/mvc:annotation-driven&gt;\n\n...\n\n&lt;!--Set endpoints case insensitive, spring is case-sensitive by default--&gt;\n&lt;bean id=\"pathMatcher\" class=\"org.springframework.util.AntPathMatcher\"&gt;\n  &lt;property name=\"caseSensitive\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14460878,"reputation":31,"user_id":10445712,"display_name":"Alexander Grek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644267276,"creation_date":1644267276,"answer_id":71025277,"question_id":4150039,"body_markdown":"Spring since version 5.3 does not use PathMatcher anymore by default, it uses **PathPatternMatcher** instead. To configure PathPatternMatcher, do the following:\r\n\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            PathPatternParser patternParser = new PathPatternParser();\r\n            patternParser.setCaseSensitive(false);\r\n            configurer.setPatternParser(patternParser);\r\n        }\r\n    }","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>Spring since version 5.3 does not use PathMatcher anymore by default, it uses <strong>PathPatternMatcher</strong> instead. To configure PathPatternMatcher, do the following:</p>\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        PathPatternParser patternParser = new PathPatternParser();\n        patternParser.setCaseSensitive(false);\n        configurer.setPatternParser(patternParser);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4794866,"reputation":758,"user_id":3873085,"display_name":"Farkhod  Daniyarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681818681,"creation_date":1681818681,"answer_id":76044253,"question_id":4150039,"body_markdown":"You can use the following solution\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.util.pattern.PathPatternParser;\r\n    \r\n    @Configuration\r\n    public class WebConfig {\r\n    \r\n        @Bean\r\n        PathPatternParser pathPatternParser(PathPatternParser pathPatternParser) {\r\n            pathPatternParser.setCaseSensitive(false);\r\n            return pathPatternParser;\r\n        }\r\n    }\r\n\r\n","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>You can use the following solution</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.util.pattern.PathPatternParser;\n\n@Configuration\npublic class WebConfig {\n\n    @Bean\n    PathPatternParser pathPatternParser(PathPatternParser pathPatternParser) {\n        pathPatternParser.setCaseSensitive(false);\n        return pathPatternParser;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16591906,"reputation":11,"user_id":11989880,"display_name":"Sahil Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684133318,"creation_date":1684133318,"answer_id":76251499,"question_id":4150039,"body_markdown":"Since WebMvcConfigurerAdapter is deprecated and Java 8 brought the concept of default methods in interface, You can implement WebMvcConfigurer interface to get the work done.\r\n\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\t\r\n\t@Override\r\n\tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n\t\tAntPathMatcher matcher = new AntPathMatcher();\r\n        matcher.setCaseSensitive(false);\r\n        configurer.setPathMatcher(matcher);\t\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>Since WebMvcConfigurerAdapter is deprecated and Java 8 brought the concept of default methods in interface, You can implement WebMvcConfigurer interface to get the work done.</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    \n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        AntPathMatcher matcher = new AntPathMatcher();\n        matcher.setCaseSensitive(false);\n        configurer.setPathMatcher(matcher); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":668304,"reputation":391,"user_id":503897,"display_name":"Dave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30314,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":9,"score":39,"last_activity_date":1684133318,"creation_date":1289430959,"question_id":4150039,"body_markdown":"I have annotated mappings working great through my spring mvc web app, however, they are case sensitive. I cannot find a way to make them case insensitive. (I&#39;d love to make this happen within Spring MVC, rather than redirecting traffic somehow)","title":"How can I have case insensitive URLS in Spring MVC with annotated mappings","body":"<p>I have annotated mappings working great through my spring mvc web app, however, they are case sensitive. I cannot find a way to make them case insensitive. (I'd love to make this happen within Spring MVC, rather than redirecting traffic somehow)</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1246555910,"post_id":1075656,"comment_id":888476,"body_markdown":"Do the elements have to be in the same order?","body":"Do the elements have to be in the same order?"},{"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"score":0,"creation_date":1246563144,"post_id":1075656,"comment_id":889142,"body_markdown":"This might never affect you but beware that hibernate persistent sets sometimes don&#39;t honour the equals contract - search see http://opensource.atlassian.com/projects/hibernate/browse/HHH-3799","body":"This might never affect you but beware that hibernate persistent sets sometimes don&#39;t honour the equals contract - search see <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-3799\" rel=\"nofollow noreferrer\">opensource.atlassian.com/projects/hibernate/browse/HHH-3799</a>"}],"answers":[{"tags":[],"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1246555646,"creation_date":1246555646,"answer_id":1075671,"question_id":1075656,"body_markdown":"The equals method on List will do this, Lists are ordered, so to be equal two Lists must have the same elements in the same order.\r\n\r\n    return list1.equals(list2);","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>The equals method on List will do this, Lists are ordered, so to be equal two Lists must have the same elements in the same order.</p>\n\n<pre><code>return list1.equals(list2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1542025586,"creation_date":1246555903,"answer_id":1075687,"question_id":1075656,"body_markdown":"    list1.equals(list2);\r\nIf your list contains a custom Class MyClass, this class must override the `equals` function.\r\n\r\n     class MyClass\r\n      {\r\n      int field=0;\r\n      @0verride\r\n      public boolean equals(Object other)\r\n            {\r\n            if(this==other) return true;\r\n            if(other==null || !(other instanceof MyClass)) return false;\r\n            return this.field== MyClass.class.cast(other).field;\r\n            }\r\n      }\r\n\r\nNote :if you want to test equals on a java.util.Set rather than a `java.util.List`, then your object must override the `hashCode`  function.\r\n\r\n\r\n","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<pre><code>list1.equals(list2);\n</code></pre>\n\n<p>If your list contains a custom Class MyClass, this class must override the <code>equals</code> function.</p>\n\n<pre><code> class MyClass\n  {\n  int field=0;\n  @0verride\n  public boolean equals(Object other)\n        {\n        if(this==other) return true;\n        if(other==null || !(other instanceof MyClass)) return false;\n        return this.field== MyClass.class.cast(other).field;\n        }\n  }\n</code></pre>\n\n<p>Note :if you want to test equals on a java.util.Set rather than a <code>java.util.List</code>, then your object must override the <code>hashCode</code>  function.</p>\n"},{"tags":[],"owner":{"account_id":41696,"reputation":4770,"user_id":121275,"accept_rate":50,"display_name":"amischiefr"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1246557964,"creation_date":1246555989,"answer_id":1075692,"question_id":1075656,"body_markdown":"It depends on what concrete List class you are using.  The abstract class AbstractCollection has a method called containsAll(Collection) that takes another collection ( a List is a collection) and:\r\n\r\n&gt; Returns true if this collection contains all of the elements in the specified collection. \r\n\r\nSo if an ArrayList is being passed in you can call this method to see if they are exactly the same.\r\n\r\n    \t   List foo = new ArrayList();\r\n\t\tList bar = new ArrayList();\r\n\t\tString str = &quot;foobar&quot;;\r\n\t\t\r\n\t\tfoo.add(str);\r\n\t\tbar.add(str);\r\n\t\t\r\n\t\tfoo.containsAll(bar);\r\n\r\nThe reason for containsAll() is because it iterates through the first list looking for the match in the second list.  So if they are out of order equals() will not pick it up.\r\n\r\nEDIT:\r\nI just want to make a comment here about the amortized running time of performing the various options being offered.  Is running time important?  Sure.  Is it the only thing you should consider?  No.\r\n\r\nThe cost of copying EVERY single element from your lists into other lists takes time, and it also takes up a good chunk of memory (effectively doubling the memory you are using).\r\n\r\nSo if memory in your JVM isn&#39;t a concern (which it should generally be) then you still need to consider the time it takes to copy every element from two lists into two TreeSets.  Remember it is sorting every element as it enters them.  \r\n\r\nMy final advice?  You need to consider your data set and how many elements you have in your data set, and also how large each object in your data set is before you can make a good decision here.  Play around with them, create one each way and see which one runs faster.  It&#39;s a good exercise.","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>It depends on what concrete List class you are using.  The abstract class AbstractCollection has a method called containsAll(Collection) that takes another collection ( a List is a collection) and:</p>\n\n<blockquote>\n  <p>Returns true if this collection contains all of the elements in the specified collection. </p>\n</blockquote>\n\n<p>So if an ArrayList is being passed in you can call this method to see if they are exactly the same.</p>\n\n<pre><code>       List foo = new ArrayList();\n    List bar = new ArrayList();\n    String str = \"foobar\";\n\n    foo.add(str);\n    bar.add(str);\n\n    foo.containsAll(bar);\n</code></pre>\n\n<p>The reason for containsAll() is because it iterates through the first list looking for the match in the second list.  So if they are out of order equals() will not pick it up.</p>\n\n<p>EDIT:\nI just want to make a comment here about the amortized running time of performing the various options being offered.  Is running time important?  Sure.  Is it the only thing you should consider?  No.</p>\n\n<p>The cost of copying EVERY single element from your lists into other lists takes time, and it also takes up a good chunk of memory (effectively doubling the memory you are using).</p>\n\n<p>So if memory in your JVM isn't a concern (which it should generally be) then you still need to consider the time it takes to copy every element from two lists into two TreeSets.  Remember it is sorting every element as it enters them.  </p>\n\n<p>My final advice?  You need to consider your data set and how many elements you have in your data set, and also how large each object in your data set is before you can make a good decision here.  Play around with them, create one each way and see which one runs faster.  It's a good exercise.</p>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":2,"up_vote_count":458,"is_accepted":true,"score":456,"last_activity_date":1661507707,"creation_date":1246556067,"answer_id":1075699,"question_id":1075656,"body_markdown":"If you care about order, then just use the equals method:\r\n\r\n    list1.equals(list2)\r\n\r\nFrom the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-):\r\n\r\n&gt; Compares the specified object with\r\n&gt; this list for equality. Returns true\r\n&gt; if and only if the specified object is\r\n&gt; also a list, both lists have the same\r\n&gt; size, and all corresponding pairs of\r\n&gt; elements in the two lists are equal.\r\n&gt; (Two elements e1 and e2 are equal if\r\n&gt; (e1==null ? e2==null :\r\n&gt; e1.equals(e2)).) In other words, two\r\n&gt; lists are defined to be equal if they\r\n&gt; contain the same elements in the same\r\n&gt; order. This definition ensures that\r\n&gt; the equals method works properly\r\n&gt; across different implementations of\r\n&gt; the List interface.\r\n\r\nIf you want to check independent of order, you could copy all of the elements to Sets and use equals on the resulting Sets:\r\n\r\n    public static &lt;T&gt; boolean listEqualsIgnoreOrder(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n        return new HashSet&lt;&gt;(list1).equals(new HashSet&lt;&gt;(list2));\r\n    }\r\n\r\nA limitation of this approach is that it not only ignores order, but also frequency of duplicate elements. For example, if `list1` was [&quot;A&quot;, &quot;B&quot;, &quot;A&quot;] and `list2` was [&quot;A&quot;, &quot;B&quot;, &quot;B&quot;] the `Set` approach would consider them to be equal.\r\n\r\nIf you need to be insensitive to order but sensitive to the frequency of duplicates you can either:\r\n\r\n- sort both lists (or copies) before comparing them, as done in [this answer to another question](https://stackoverflow.com/a/13501200/496289)\r\n- or copy all elements to a [Multiset](http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Multiset.java)","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>If you care about order, then just use the equals method:</p>\n<pre><code>list1.equals(list2)\n</code></pre>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\" rel=\"noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Compares the specified object with\nthis list for equality. Returns true\nif and only if the specified object is\nalso a list, both lists have the same\nsize, and all corresponding pairs of\nelements in the two lists are equal.\n(Two elements e1 and e2 are equal if\n(e1==null ? e2==null :\ne1.equals(e2)).) In other words, two\nlists are defined to be equal if they\ncontain the same elements in the same\norder. This definition ensures that\nthe equals method works properly\nacross different implementations of\nthe List interface.</p>\n</blockquote>\n<p>If you want to check independent of order, you could copy all of the elements to Sets and use equals on the resulting Sets:</p>\n<pre><code>public static &lt;T&gt; boolean listEqualsIgnoreOrder(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    return new HashSet&lt;&gt;(list1).equals(new HashSet&lt;&gt;(list2));\n}\n</code></pre>\n<p>A limitation of this approach is that it not only ignores order, but also frequency of duplicate elements. For example, if <code>list1</code> was [&quot;A&quot;, &quot;B&quot;, &quot;A&quot;] and <code>list2</code> was [&quot;A&quot;, &quot;B&quot;, &quot;B&quot;] the <code>Set</code> approach would consider them to be equal.</p>\n<p>If you need to be insensitive to order but sensitive to the frequency of duplicates you can either:</p>\n<ul>\n<li>sort both lists (or copies) before comparing them, as done in <a href=\"https://stackoverflow.com/a/13501200/496289\">this answer to another question</a></li>\n<li>or copy all elements to a <a href=\"http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Multiset.java\" rel=\"noreferrer\">Multiset</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":31908,"reputation":21528,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":115,"is_accepted":false,"score":114,"last_activity_date":1246557550,"creation_date":1246557550,"answer_id":1075817,"question_id":1075656,"body_markdown":"I posted a bunch of stuff in comments I think it warrants its own answer.\r\n\r\nAs everyone says here, using equals() depends on the order. If you don&#39;t care about order, you have 3 options.\r\n\r\n**Option 1**\r\n\r\nUse `containsAll()`. This option is not ideal, in my opinion, because it offers worst case performance, O(n^2).\r\n\r\n**Option 2**\r\n\r\nThere are two variations to this:\r\n\r\n**2a)** If you don&#39;t care about maintaining the order ofyour lists... use `Collections.sort()` on both list. Then use the `equals()`. This is O(nlogn), because you do two sorts, and then an O(n) comparison.\r\n\r\n**2b)** If you need to maintain the lists&#39; order, you can copy both lists first. THEN you can use solution **2a** on both the copied lists. However this might be unattractive if copying is very expensive.\r\n\r\nThis leads to:\r\n\r\n**Option 3**\r\n\r\nIf your requirements are the same as part **2b**, but copying is too expensive. You can use a TreeSet to do the sorting for you. Dump each list into its own TreeSet. It will be sorted in the set, and the original lists will remain intact. Then perform an `equals()` comparison on both `TreeSet`s. The `TreeSets`s can be built in O(nlogn) time, and the `equals()` is O(n).\r\n\r\nTake your pick :-).\r\n\r\n***EDIT:*** I almost forgot the same caveat that [Laurence Gonsalves](https://stackoverflow.com/users/90848/laurence-gonsalves) points out. The TreeSet implementation will eliminate duplicates. If you care about duplicates, you will need some sort of sorted multiset.","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>I posted a bunch of stuff in comments I think it warrants its own answer.</p>\n\n<p>As everyone says here, using equals() depends on the order. If you don't care about order, you have 3 options.</p>\n\n<p><strong>Option 1</strong></p>\n\n<p>Use <code>containsAll()</code>. This option is not ideal, in my opinion, because it offers worst case performance, O(n^2).</p>\n\n<p><strong>Option 2</strong></p>\n\n<p>There are two variations to this:</p>\n\n<p><strong>2a)</strong> If you don't care about maintaining the order ofyour lists... use <code>Collections.sort()</code> on both list. Then use the <code>equals()</code>. This is O(nlogn), because you do two sorts, and then an O(n) comparison.</p>\n\n<p><strong>2b)</strong> If you need to maintain the lists' order, you can copy both lists first. THEN you can use solution <strong>2a</strong> on both the copied lists. However this might be unattractive if copying is very expensive.</p>\n\n<p>This leads to:</p>\n\n<p><strong>Option 3</strong></p>\n\n<p>If your requirements are the same as part <strong>2b</strong>, but copying is too expensive. You can use a TreeSet to do the sorting for you. Dump each list into its own TreeSet. It will be sorted in the set, and the original lists will remain intact. Then perform an <code>equals()</code> comparison on both <code>TreeSet</code>s. The <code>TreeSets</code>s can be built in O(nlogn) time, and the <code>equals()</code> is O(n).</p>\n\n<p>Take your pick :-).</p>\n\n<p><strong><em>EDIT:</em></strong> I almost forgot the same caveat that <a href=\"https://stackoverflow.com/users/90848/laurence-gonsalves\">Laurence Gonsalves</a> points out. The TreeSet implementation will eliminate duplicates. If you care about duplicates, you will need some sort of sorted multiset.</p>\n"},{"tags":[],"owner":{"account_id":49039,"reputation":4294,"user_id":145888,"accept_rate":74,"display_name":"David Zhao"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1364974584,"creation_date":1296068808,"answer_id":4808798,"question_id":1075656,"body_markdown":"You can use Apache&#39;s org.apache.commons.collections library:\r\nhttp://commons.apache.org/collections/apidocs/org/apache/commons/collections/ListUtils.html\r\n\r\n    public static boolean isEqualList(java.util.Collection list1,\r\n                                  java.util.Collection list2)","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>You can use Apache's org.apache.commons.collections library:\n<a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/ListUtils.html\" rel=\"nofollow\">http://commons.apache.org/collections/apidocs/org/apache/commons/collections/ListUtils.html</a></p>\n\n<pre><code>public static boolean isEqualList(java.util.Collection list1,\n                              java.util.Collection list2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2071436,"reputation":87,"user_id":1845839,"display_name":"Jaydip Halake"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1483955755,"creation_date":1405693389,"answer_id":24827314,"question_id":1075656,"body_markdown":"Sample code:\r\n\r\n    public static &#39;&lt;&#39;T&#39;&gt;&#39; boolean isListDifferent(List&#39;&lt;&#39;T&#39;&gt;&#39; previousList,\r\n\t\t\tList&#39;&lt;&#39;T&#39;&gt;&#39; newList) {\r\n\r\n\t\tint sizePrevoisList = -1;\r\n\t\tint sizeNewList = -1;\r\n\r\n\t\tif (previousList != null &amp;&amp; !previousList.isEmpty()) {\r\n\t\t\tsizePrevoisList = previousList.size();\r\n\t\t}\r\n\t\tif (newList != null &amp;&amp; !newList.isEmpty()) {\r\n\t\t\tsizeNewList = newList.size();\r\n\t\t}\r\n\r\n\t\tif ((sizePrevoisList == -1) &amp;&amp; (sizeNewList == -1)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (sizeNewList != sizePrevoisList) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tList n_prevois = new ArrayList(previousList);\r\n\t\tList n_new = new ArrayList(newList);\r\n\r\n\t\ttry {\r\n\t\t\tCollections.sort(n_prevois);\r\n\t\t\tCollections.sort(n_new);\r\n\t\t} catch (ClassCastException exp) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; sizeNewList; i++) {\r\n\t\t\tObject obj_prevois = n_prevois.get(i);\r\n\t\t\tObject obj_new = n_new.get(i);\r\n\t\t\tif (obj_new.equals(obj_prevois)) {\r\n\t\t\t\t// Object are same\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>Sample code:</p>\n\n<pre><code>public static '&lt;'T'&gt;' boolean isListDifferent(List'&lt;'T'&gt;' previousList,\n        List'&lt;'T'&gt;' newList) {\n\n    int sizePrevoisList = -1;\n    int sizeNewList = -1;\n\n    if (previousList != null &amp;&amp; !previousList.isEmpty()) {\n        sizePrevoisList = previousList.size();\n    }\n    if (newList != null &amp;&amp; !newList.isEmpty()) {\n        sizeNewList = newList.size();\n    }\n\n    if ((sizePrevoisList == -1) &amp;&amp; (sizeNewList == -1)) {\n        return false;\n    }\n\n    if (sizeNewList != sizePrevoisList) {\n        return true;\n    }\n\n    List n_prevois = new ArrayList(previousList);\n    List n_new = new ArrayList(newList);\n\n    try {\n        Collections.sort(n_prevois);\n        Collections.sort(n_new);\n    } catch (ClassCastException exp) {\n        return true;\n    }\n\n    for (int i = 0; i &lt; sizeNewList; i++) {\n        Object obj_prevois = n_prevois.get(i);\n        Object obj_new = n_new.get(i);\n        if (obj_new.equals(obj_prevois)) {\n            // Object are same\n        } else {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1432149072,"creation_date":1432149072,"answer_id":30358427,"question_id":1075656,"body_markdown":"Try this version which does not require order to be the same but does support having multiple of the same value. They match only if each has the same quantity of any value.\r\n\r\n    public boolean arraysMatch(List&lt;String&gt; elements1, List&lt;String&gt; elements2) {\r\n        // Optional quick test since size must match\r\n        if (elements1.size() != elements2.size()) {\r\n            return false;\r\n        }\r\n        List&lt;String&gt; work = newArrayList(elements2);\r\n        for (String element : elements1) {\r\n            if (!work.remove(element)) {\r\n                return false;\r\n            }\r\n        }\r\n        return work.isEmpty();\r\n    }","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>Try this version which does not require order to be the same but does support having multiple of the same value. They match only if each has the same quantity of any value.</p>\n\n<pre><code>public boolean arraysMatch(List&lt;String&gt; elements1, List&lt;String&gt; elements2) {\n    // Optional quick test since size must match\n    if (elements1.size() != elements2.size()) {\n        return false;\n    }\n    List&lt;String&gt; work = newArrayList(elements2);\n    for (String element : elements1) {\n        if (!work.remove(element)) {\n            return false;\n        }\n    }\n    return work.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5701567,"reputation":224,"user_id":4506373,"display_name":"Andrew"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1511471343,"creation_date":1465381253,"answer_id":37699762,"question_id":1075656,"body_markdown":"I know this is an old thread, but none of the other answers fully solved my use case (I guess Guava Multiset might do the same, but there is no example here). Please excuse my formatting. I am still new to posting on stack exchange. Additionally let me know if there are any errors \r\n\r\nLets say you have `List&lt;T&gt;` a and `List&lt;T&gt;` b and you want to check if they are equal with the following conditions:\r\n\r\n1) O(n) expected running time&lt;br/&gt;\r\n2) Equality is defined as: For all elements in a or b, the number of times the element occurs in a is equal to the number of times the element occurs in b. Element equality is defined as T.equals()\r\n\r\n    private boolean listsAreEquivelent(List&lt;? extends Object&gt; a, List&lt;? extends Object&gt; b) {\r\n        if(a==null) {\r\n            if(b==null) {\r\n                //Here 2 null lists are equivelent. You may want to change this.\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if(b==null) {\r\n            return false;\r\n        }\r\n        Map&lt;Object, Integer&gt; tempMap = new HashMap&lt;&gt;();\r\n        for(Object element : a) {\r\n            Integer currentCount = tempMap.get(element);\r\n            if(currentCount == null) {\r\n                tempMap.put(element, 1);\r\n            } else {\r\n                tempMap.put(element, currentCount+1);\r\n            }\r\n        }\r\n        for(Object element : b) {\r\n            Integer currentCount = tempMap.get(element);\r\n            if(currentCount == null) {\r\n                return false;\r\n            } else {\r\n                tempMap.put(element, currentCount-1);\r\n            }\r\n        }\r\n        for(Integer count : tempMap.values()) {\r\n            if(count != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nRunning time is O(n) because we are doing O(2*n) insertions into a hashmap and O(3*n) hashmap selects. I have not fully tested this code, so beware :)\r\n\r\n\t//Returns true:\r\n\tlistsAreEquivelent(Arrays.asList(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;),Arrays.asList(&quot;B&quot;,&quot;A&quot;,&quot;A&quot;));\r\n\tlistsAreEquivelent(null,null);\r\n\t//Returns false:\r\n\tlistsAreEquivelent(Arrays.asList(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;),Arrays.asList(&quot;B&quot;,&quot;A&quot;,&quot;B&quot;));\r\n\tlistsAreEquivelent(Arrays.asList(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;),Arrays.asList(&quot;A&quot;,&quot;B&quot;));\r\n\tlistsAreEquivelent(Arrays.asList(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;),null);","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>I know this is an old thread, but none of the other answers fully solved my use case (I guess Guava Multiset might do the same, but there is no example here). Please excuse my formatting. I am still new to posting on stack exchange. Additionally let me know if there are any errors </p>\n\n<p>Lets say you have <code>List&lt;T&gt;</code> a and <code>List&lt;T&gt;</code> b and you want to check if they are equal with the following conditions:</p>\n\n<p>1) O(n) expected running time<br/>\n2) Equality is defined as: For all elements in a or b, the number of times the element occurs in a is equal to the number of times the element occurs in b. Element equality is defined as T.equals()</p>\n\n<pre><code>private boolean listsAreEquivelent(List&lt;? extends Object&gt; a, List&lt;? extends Object&gt; b) {\n    if(a==null) {\n        if(b==null) {\n            //Here 2 null lists are equivelent. You may want to change this.\n            return true;\n        } else {\n            return false;\n        }\n    }\n    if(b==null) {\n        return false;\n    }\n    Map&lt;Object, Integer&gt; tempMap = new HashMap&lt;&gt;();\n    for(Object element : a) {\n        Integer currentCount = tempMap.get(element);\n        if(currentCount == null) {\n            tempMap.put(element, 1);\n        } else {\n            tempMap.put(element, currentCount+1);\n        }\n    }\n    for(Object element : b) {\n        Integer currentCount = tempMap.get(element);\n        if(currentCount == null) {\n            return false;\n        } else {\n            tempMap.put(element, currentCount-1);\n        }\n    }\n    for(Integer count : tempMap.values()) {\n        if(count != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Running time is O(n) because we are doing O(2*n) insertions into a hashmap and O(3*n) hashmap selects. I have not fully tested this code, so beware :)</p>\n\n<pre><code>//Returns true:\nlistsAreEquivelent(Arrays.asList(\"A\",\"A\",\"B\"),Arrays.asList(\"B\",\"A\",\"A\"));\nlistsAreEquivelent(null,null);\n//Returns false:\nlistsAreEquivelent(Arrays.asList(\"A\",\"A\",\"B\"),Arrays.asList(\"B\",\"A\",\"B\"));\nlistsAreEquivelent(Arrays.asList(\"A\",\"A\",\"B\"),Arrays.asList(\"A\",\"B\"));\nlistsAreEquivelent(Arrays.asList(\"A\",\"A\",\"B\"),null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477853,"reputation":11601,"user_id":889583,"accept_rate":80,"display_name":"daiscog"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1566489485,"creation_date":1478002856,"answer_id":40359968,"question_id":1075656,"body_markdown":"If you&#39;re using (or are happy to use) Apache Commons Collections, you can use [CollectionUtils.isEqualCollection][1] which &quot;returns true iff the given Collections contain exactly the same elements with exactly the same cardinalities.&quot;\r\n \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/CollectionUtils.html#isEqualCollection-java.util.Collection-java.util.Collection-","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>If you're using (or are happy to use) Apache Commons Collections, you can use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/CollectionUtils.html#isEqualCollection-java.util.Collection-java.util.Collection-\" rel=\"noreferrer\">CollectionUtils.isEqualCollection</a> which \"returns true iff the given Collections contain exactly the same elements with exactly the same cardinalities.\"</p>\n"},{"tags":[],"owner":{"account_id":3130595,"reputation":615,"user_id":2648478,"accept_rate":67,"display_name":"Pavlo Zvarych"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1496234676,"creation_date":1496233898,"answer_id":44284901,"question_id":1075656,"body_markdown":"Solution for case when two lists have the same elements, but different order:\r\n\r\n    public boolean isDifferentLists(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\r\n        if(isNullLists(listOne, listTwo)) {\r\n            return false;\r\n        }\r\n\r\n        if (hasDifferentSize(listOne, listTwo)) {\r\n            return true;\r\n        }\r\n\r\n        List&lt;Integer&gt; listOneCopy = Lists.newArrayList(listOne);\r\n        List&lt;Integer&gt; listTwoCopy = Lists.newArrayList(listTwo);\r\n        listOneCopy.removeAll(listTwoCopy);\r\n\r\n        return CollectionUtils.isNotEmpty(listOneCopy);\r\n    }\r\n\r\n    private boolean isNullLists(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\r\n        return listOne == null &amp;&amp; listTwo == null;\r\n    }\r\n\r\n    private boolean hasDifferentSize(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\r\n        return (listOne == null &amp;&amp; listTwo != null) || (listOne != null &amp;&amp; listTwo == null) || (listOne.size() != listTwo.size());\r\n    }","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>Solution for case when two lists have the same elements, but different order:</p>\n\n<pre><code>public boolean isDifferentLists(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\n    if(isNullLists(listOne, listTwo)) {\n        return false;\n    }\n\n    if (hasDifferentSize(listOne, listTwo)) {\n        return true;\n    }\n\n    List&lt;Integer&gt; listOneCopy = Lists.newArrayList(listOne);\n    List&lt;Integer&gt; listTwoCopy = Lists.newArrayList(listTwo);\n    listOneCopy.removeAll(listTwoCopy);\n\n    return CollectionUtils.isNotEmpty(listOneCopy);\n}\n\nprivate boolean isNullLists(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\n    return listOne == null &amp;&amp; listTwo == null;\n}\n\nprivate boolean hasDifferentSize(List&lt;Integer&gt; listOne, List&lt;Integer&gt; listTwo) {\n    return (listOne == null &amp;&amp; listTwo != null) || (listOne != null &amp;&amp; listTwo == null) || (listOne.size() != listTwo.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8384697,"reputation":60,"user_id":6295481,"display_name":"Felixuko"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1512487871,"creation_date":1512487871,"answer_id":47657243,"question_id":1075656,"body_markdown":"In addition to Laurence&#39;s answer, if you also want to make it null-safe:\r\n\r\n    private static &lt;T&gt; boolean listEqualsIgnoreOrder(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n\t\tif (list1 == null)\r\n\t\t\treturn list2==null;\r\n\t\tif (list2 == null)\r\n\t\t \treturn list1 == null;\r\n\t\treturn new HashSet&lt;&gt;(list1).equals(new HashSet&lt;&gt;(list2));\r\n\t}","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>In addition to Laurence's answer, if you also want to make it null-safe:</p>\n\n<pre><code>private static &lt;T&gt; boolean listEqualsIgnoreOrder(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    if (list1 == null)\n        return list2==null;\n    if (list2 == null)\n        return list1 == null;\n    return new HashSet&lt;&gt;(list1).equals(new HashSet&lt;&gt;(list2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1512672103,"creation_date":1512672103,"answer_id":47701706,"question_id":1075656,"body_markdown":"Very late to the party but wanted to add this null safe check:\r\n\r\n    Objects.equals(list1, list2)","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>Very late to the party but wanted to add this null safe check:</p>\n\n<pre><code>Objects.equals(list1, list2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1521040654,"creation_date":1521039952,"answer_id":49281183,"question_id":1075656,"body_markdown":"Tom&#39;s answer is excellent I agree fully with his answers!\r\n\r\nAn interesting aspect of this question is, whether you need the `List` type itself and its inherent ordering.\r\n\r\nIf not you can degrade to `Iterable` or `Collection` which gives you some flexibility on passing around data structures that are sorted on insertion time, rather than at the time when you want to check.\r\n\r\nIf the order never matters (and you don&#39;t have duplicate elements) consider using a `Set`.\r\n\r\nIf the order matters but is defined by insertion time (and you don&#39;t have duplicates) consider a `LinkedHashSet` which is like a TreeSet but is ordered by insertion time (duplicates are not counted). This also gives you `O(1)` amortized access insted of `O(log n)`.","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>Tom's answer is excellent I agree fully with his answers!</p>\n\n<p>An interesting aspect of this question is, whether you need the <code>List</code> type itself and its inherent ordering.</p>\n\n<p>If not you can degrade to <code>Iterable</code> or <code>Collection</code> which gives you some flexibility on passing around data structures that are sorted on insertion time, rather than at the time when you want to check.</p>\n\n<p>If the order never matters (and you don't have duplicate elements) consider using a <code>Set</code>.</p>\n\n<p>If the order matters but is defined by insertion time (and you don't have duplicates) consider a <code>LinkedHashSet</code> which is like a TreeSet but is ordered by insertion time (duplicates are not counted). This also gives you <code>O(1)</code> amortized access insted of <code>O(log n)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623869589,"creation_date":1623760162,"answer_id":67986292,"question_id":1075656,"body_markdown":"My solution is for the cases where you don&#39;t care about the ordering within the `Lists` - in other words: `Lists` with the same elements but DIFFERENT ordering will be considered to have the same contents.\r\n\r\nExample: `[&quot;word1&quot;, &quot;word2&quot;]` and `[&quot;word2&quot;, &quot;word1&quot;]` is considered to have the same content.\r\n\r\nI&#39;ve addressed ordering, I also just need to say something about duplicates.  `Lists` need to have the same number of elements to be considered equal.\r\n\r\nExample: `[&quot;word1&quot;]` and `[&quot;word1&quot;, &quot;word1&quot;]` is considered to NOT have the same content.\r\n\r\nMy solution:\r\n\r\n    public class ListUtil {\r\n\r\n\t    public static &lt;T&gt; boolean hasSameContents(List&lt;T&gt; firstList, List&lt;T&gt; secondList) { \t\t\r\n\t        if (firstList == secondList) { // same object\r\n                return true;\r\n            }\r\n            if (firstList != null &amp;&amp; secondList != null) {\r\n\t\t        if (firstList.isEmpty() &amp;&amp; secondList.isEmpty()) {\r\n\t\t            return true;\r\n                }\r\n\t\t        if (firstList.size() != secondList.size()) {\r\n\t\t            return false;\r\n                }\r\n\t\t        List&lt;T&gt; tmpSecondList = new ArrayList&lt;&gt;(secondList);\r\n\t\t        Object currFirstObject = null;\r\n                for (int i=1 ; i&lt;=firstList.size() ; i++) {\r\n                    currFirstObject = firstList.get(i-1);\r\n                    boolean removed = tmpSecondList.remove(currFirstObject);\r\n                    if (!removed) {\r\n                        return false;\r\n                    }\r\n                    if (i != firstList.size()) { // Not the last element\r\n                        if (tmpSecondList.isEmpty()) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n                if (tmpSecondList.isEmpty()) {\r\n\t\t            return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\nI&#39;ve tested it with `Strings` as follows:\r\n\r\n&gt;     @Test\r\n&gt;     public void testHasSameContents() throws Exception {\r\n&gt;         // comparing with same list =&gt; no duplicate elements\r\n&gt;         Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\r\n&gt;         // comparing with same list =&gt; duplicate elements\r\n&gt;         Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;)));\r\n&gt;         // compare with disordered list =&gt; no duplicate elements\r\n&gt;         Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;three&quot;, &quot;two&quot;, &quot;one&quot;)));\r\n&gt;         // compare with disordered list =&gt; duplicate elements\r\n&gt;         Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;three&quot;, &quot;two&quot;, &quot;one&quot;, &quot;one&quot;)));\r\n&gt;         // comparing with different list =&gt; same size, no duplicate elements\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)));\r\n&gt;         // comparing with different list =&gt; same size, duplicate elements\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;two&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;two&quot;)));\r\n&gt;         // comparing with different list =&gt; different size, no duplicate elements\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;)));\r\n&gt;         // comparing with different list =&gt; different sizes, duplicate elements\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\r\n&gt;         Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;)));\r\n&gt;     }\r\n","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>My solution is for the cases where you don't care about the ordering within the <code>Lists</code> - in other words: <code>Lists</code> with the same elements but DIFFERENT ordering will be considered to have the same contents.</p>\n<p>Example: <code>[&quot;word1&quot;, &quot;word2&quot;]</code> and <code>[&quot;word2&quot;, &quot;word1&quot;]</code> is considered to have the same content.</p>\n<p>I've addressed ordering, I also just need to say something about duplicates.  <code>Lists</code> need to have the same number of elements to be considered equal.</p>\n<p>Example: <code>[&quot;word1&quot;]</code> and <code>[&quot;word1&quot;, &quot;word1&quot;]</code> is considered to NOT have the same content.</p>\n<p>My solution:</p>\n<pre><code>public class ListUtil {\n\n    public static &lt;T&gt; boolean hasSameContents(List&lt;T&gt; firstList, List&lt;T&gt; secondList) {      \n        if (firstList == secondList) { // same object\n            return true;\n        }\n        if (firstList != null &amp;&amp; secondList != null) {\n            if (firstList.isEmpty() &amp;&amp; secondList.isEmpty()) {\n                return true;\n            }\n            if (firstList.size() != secondList.size()) {\n                return false;\n            }\n            List&lt;T&gt; tmpSecondList = new ArrayList&lt;&gt;(secondList);\n            Object currFirstObject = null;\n            for (int i=1 ; i&lt;=firstList.size() ; i++) {\n                currFirstObject = firstList.get(i-1);\n                boolean removed = tmpSecondList.remove(currFirstObject);\n                if (!removed) {\n                    return false;\n                }\n                if (i != firstList.size()) { // Not the last element\n                    if (tmpSecondList.isEmpty()) {\n                        return false;\n                    }\n                }\n            }\n            if (tmpSecondList.isEmpty()) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I've tested it with <code>Strings</code> as follows:</p>\n<blockquote>\n<pre><code>@Test\npublic void testHasSameContents() throws Exception {\n    // comparing with same list =&gt; no duplicate elements\n    Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\n    // comparing with same list =&gt; duplicate elements\n    Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;)));\n    // compare with disordered list =&gt; no duplicate elements\n    Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;three&quot;, &quot;two&quot;, &quot;one&quot;)));\n    // compare with disordered list =&gt; duplicate elements\n    Assert.isTrue(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;three&quot;, &quot;two&quot;, &quot;one&quot;, &quot;one&quot;)));\n    // comparing with different list =&gt; same size, no duplicate elements\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)));\n    // comparing with different list =&gt; same size, duplicate elements\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;two&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;two&quot;)));\n    // comparing with different list =&gt; different size, no duplicate elements\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;)));\n    // comparing with different list =&gt; different sizes, duplicate elements\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)));\n    Assert.isFalse(ListUtil.hasSameContents(List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;one&quot;)));\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626107641,"creation_date":1626107641,"answer_id":68350917,"question_id":1075656,"body_markdown":"I know this migth be extremely late but I personally use this function.\r\nIf someone wants to do some benchmark testing that would be great.\r\n\r\n    public static&lt;X&gt; boolean areEqual(List&lt;X&gt; a, List&lt;X&gt; b, BiPredicate&lt;X, X&gt; AEqualsB) {\r\n            boolean aIsNull = a == null;\r\n            boolean bIsNull = b == null;\r\n            if (aIsNull || bIsNull) {\r\n                return aIsNull == bIsNull;\r\n            }\r\n            int size = a.size();\r\n            boolean sameSize = size == b.size();\r\n            if (!sameSize) {return false;} else {\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    X aX = a.get(i), bX = b.get(i);\r\n                    boolean areEqual = AEqualsB.test(aX, bX);\r\n                    if (!areEqual) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n\r\nBTW I am aware the first 5 lines could be simplified with an XOR &quot;^&quot; plus an else, but believe it or not it is difficult for me to come with the correct XOR.\r\n\r\nI guess the efficiency of it would depend on the type of predicate, but at the same time it allows you to check for custom potential equalitites, while disregarding differences that may not matter for the coder.\r\n\r\nHere is an example of the code.\r\n\r\n    ListUtils.areEqual(newElements, oldElements, Element::areEqual)\r\n\r\n    public boolean areEqual(Element e) {\r\n            return optionalAdapterId() == e.optionalAdapterId()\r\n                    &amp;&amp; value == e.value\r\n                    &amp;&amp; valueTotal == e.valueTotal\r\n                    &amp;&amp; stockTotal == e.stockTotal\r\n                    &amp;&amp; element_title.equals(e.element_title);\r\n        }\r\n\r\nAs for what efficiency goes, I am of the idea that any iteration is always expensive, that&#39;s why whenever I need to use this function with large lists, I perform its operation on a separate thread, and retrieve the response on the one that requires it, even though it would be very nice to KNOW at which point, is it beneficial to do it on a different thread, what is the number of items that would require such threading, that information would be added on the documentation.","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>I know this migth be extremely late but I personally use this function.\nIf someone wants to do some benchmark testing that would be great.</p>\n<pre><code>public static&lt;X&gt; boolean areEqual(List&lt;X&gt; a, List&lt;X&gt; b, BiPredicate&lt;X, X&gt; AEqualsB) {\n        boolean aIsNull = a == null;\n        boolean bIsNull = b == null;\n        if (aIsNull || bIsNull) {\n            return aIsNull == bIsNull;\n        }\n        int size = a.size();\n        boolean sameSize = size == b.size();\n        if (!sameSize) {return false;} else {\n            for (int i = 0; i &lt; size; i++) {\n                X aX = a.get(i), bX = b.get(i);\n                boolean areEqual = AEqualsB.test(aX, bX);\n                if (!areEqual) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n</code></pre>\n<p>BTW I am aware the first 5 lines could be simplified with an XOR &quot;^&quot; plus an else, but believe it or not it is difficult for me to come with the correct XOR.</p>\n<p>I guess the efficiency of it would depend on the type of predicate, but at the same time it allows you to check for custom potential equalitites, while disregarding differences that may not matter for the coder.</p>\n<p>Here is an example of the code.</p>\n<pre><code>ListUtils.areEqual(newElements, oldElements, Element::areEqual)\n\npublic boolean areEqual(Element e) {\n        return optionalAdapterId() == e.optionalAdapterId()\n                &amp;&amp; value == e.value\n                &amp;&amp; valueTotal == e.valueTotal\n                &amp;&amp; stockTotal == e.stockTotal\n                &amp;&amp; element_title.equals(e.element_title);\n    }\n</code></pre>\n<p>As for what efficiency goes, I am of the idea that any iteration is always expensive, that's why whenever I need to use this function with large lists, I perform its operation on a separate thread, and retrieve the response on the one that requires it, even though it would be very nice to KNOW at which point, is it beneficial to do it on a different thread, what is the number of items that would require such threading, that information would be added on the documentation.</p>\n"},{"tags":[],"owner":{"account_id":21513721,"reputation":49,"user_id":15855970,"display_name":"Attila Hejja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628003851,"creation_date":1628003851,"answer_id":68638676,"question_id":1075656,"body_markdown":"here is a way to compare two collection that considers duplications in them. As a consequence, the collection sizes not necessarily are the same. So, it will looking in &#39;actual&#39; for &#39;expected&#39;:\r\n```\r\n    private static &lt;T&gt; boolean containsAllExpected(Collection&lt;T&gt; actual, Collection&lt;T&gt; expected) {\r\n        if (actual == null &amp;&amp; expected == null) {\r\n            return true;\r\n        }\r\n        if (actual == null || expected == null) {\r\n            return false;\r\n        }\r\n        Collection&lt;T&gt; a = new ArrayList&lt;&gt;(actual);\r\n        Collection&lt;T&gt; e = new ArrayList&lt;&gt;(expected);\r\n\r\n        Iterator&lt;T&gt; ei = e.iterator();\r\n        while (ei.hasNext()) {\r\n            T item = ei.next();\r\n            if (a.contains(item)) {\r\n                ei.remove();\r\n                a.remove(item);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\nEnjoy :)\r\n","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>here is a way to compare two collection that considers duplications in them. As a consequence, the collection sizes not necessarily are the same. So, it will looking in 'actual' for 'expected':</p>\n<pre><code>    private static &lt;T&gt; boolean containsAllExpected(Collection&lt;T&gt; actual, Collection&lt;T&gt; expected) {\n        if (actual == null &amp;&amp; expected == null) {\n            return true;\n        }\n        if (actual == null || expected == null) {\n            return false;\n        }\n        Collection&lt;T&gt; a = new ArrayList&lt;&gt;(actual);\n        Collection&lt;T&gt; e = new ArrayList&lt;&gt;(expected);\n\n        Iterator&lt;T&gt; ei = e.iterator();\n        while (ei.hasNext()) {\n            T item = ei.next();\n            if (a.contains(item)) {\n                ei.remove();\n                a.remove(item);\n            } else {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n</code></pre>\n<p>Enjoy :)</p>\n"},{"tags":[],"owner":{"account_id":9817748,"reputation":1,"user_id":8146253,"display_name":"jp93k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641816190,"creation_date":1641816190,"answer_id":70652086,"question_id":1075656,"body_markdown":"This should do the trick in O(n) time.\r\n\r\n```lang-java\r\npublic static &lt;T&gt; boolean isEqualCollection(Collection&lt;T&gt; c1, Collection&lt;T&gt; c2){\r\n    if(nonNull(c1) &amp;&amp; nonNull(c2)){\r\n        Map&lt;T, Long&gt; c1Counts = c1.stream().collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\r\n        for(T item : c2) {\r\n            Long count  = c1Counts.getOrDefault(item, 0L);\r\n            if(count.equals(0L)){\r\n                return false;\r\n            } else {\r\n                c1Counts.put(item, count - 1L);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return isNull(c1) &amp;&amp; isNull(c2);\r\n}\r\n```","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>This should do the trick in O(n) time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean isEqualCollection(Collection&lt;T&gt; c1, Collection&lt;T&gt; c2){\n    if(nonNull(c1) &amp;&amp; nonNull(c2)){\n        Map&lt;T, Long&gt; c1Counts = c1.stream().collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\n        for(T item : c2) {\n            Long count  = c1Counts.getOrDefault(item, 0L);\n            if(count.equals(0L)){\n                return false;\n            } else {\n                c1Counts.put(item, count - 1L);\n            }\n        }\n        return true;\n    }\n    return isNull(c1) &amp;&amp; isNull(c2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592216,"reputation":346,"user_id":12763842,"display_name":"Mateusz Niedbal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642431790,"creation_date":1642431790,"answer_id":70743438,"question_id":1075656,"body_markdown":"!Collections.disjoint(Collection1, Collection2) will return true if they have same elements","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>!Collections.disjoint(Collection1, Collection2) will return true if they have same elements</p>\n"},{"tags":[],"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646898743,"creation_date":1646898743,"answer_id":71420510,"question_id":1075656,"body_markdown":"    private boolean listHaveEqualObjects(List&lt;?&gt; list1, List&lt;?&gt; list2){\r\n        return list1.containsAll(list2) &amp;&amp; list2.containsAll(list1);","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<pre><code>private boolean listHaveEqualObjects(List&lt;?&gt; list1, List&lt;?&gt; list2){\n    return list1.containsAll(list2) &amp;&amp; list2.containsAll(list1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684133163,"creation_date":1684133163,"answer_id":76251479,"question_id":1075656,"body_markdown":"**Maybe not the best solution, but it works.**\r\n\r\n```kotlin\r\ndata class(val a: Int) {\r\n override fun hashCode(): Int {\r\n  // provide your implementation\r\n }\r\n}\r\n\r\nval list1 = listOf&lt;D&gt;(D(1), D(2), D(3))\r\nval list2 = listOf&lt;D&gt;(D(1), D(2), D(3))\r\n\r\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\r\n    if (list1.size != list2.size) return false\r\n\r\n    val hash1 = list1.map { it.hashCode() }.toSet()\r\n    val hash2 = list2.map { it.hashCode() }.toSet()\r\n\r\n    return (hash1.intersect(hash2)).size == hash1.size\r\n}\r\n```","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p><strong>Maybe not the best solution, but it works.</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class(val a: Int) {\n override fun hashCode(): Int {\n  // provide your implementation\n }\n}\n\nval list1 = listOf&lt;D&gt;(D(1), D(2), D(3))\nval list2 = listOf&lt;D&gt;(D(1), D(2), D(3))\n\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\n    if (list1.size != list2.size) return false\n\n    val hash1 = list1.map { it.hashCode() }.toSet()\n    val hash2 = list2.map { it.hashCode() }.toSet()\n\n    return (hash1.intersect(hash2)).size == hash1.size\n}\n</code></pre>\n"}],"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584718,"favorite_count":0,"down_vote_count":0,"up_vote_count":332,"accepted_answer_id":1075699,"answer_count":21,"score":332,"last_activity_date":1684133163,"creation_date":1246555439,"question_id":1075656,"body_markdown":"What is the simplest way to find if two Lists contain exactly the same elements, in the standard Java libraries? \r\n\r\nIt shouldn&#39;t matter if the two Lists are the same instance or not, and it shouldn&#39;t matter if the type parameter of the Lists are different.\r\n\r\ne.g.\r\n\r\n    List list1\r\n    List&lt;String&gt; list2; \r\n    // ... construct etc\r\n\r\n    list1.add(&quot;A&quot;);\r\n    list2.add(&quot;A&quot;); \r\n    // the function, given these two lists, should return true\r\n\r\n\r\nThere&#39;s probably something staring me in the face I know :-)\r\n\r\n\r\n----------\r\nEDIT: To clarify, I was looking for the EXACT same elements and number of elements, in order.\r\n","title":"Simple way to find if two different lists contain exactly the same elements?","body":"<p>What is the simplest way to find if two Lists contain exactly the same elements, in the standard Java libraries? </p>\n\n<p>It shouldn't matter if the two Lists are the same instance or not, and it shouldn't matter if the type parameter of the Lists are different.</p>\n\n<p>e.g.</p>\n\n<pre><code>List list1\nList&lt;String&gt; list2; \n// ... construct etc\n\nlist1.add(\"A\");\nlist2.add(\"A\"); \n// the function, given these two lists, should return true\n</code></pre>\n\n<p>There's probably something staring me in the face I know :-)</p>\n\n<hr>\n\n<p>EDIT: To clarify, I was looking for the EXACT same elements and number of elements, in order.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684075754,"post_id":76247937,"comment_id":134460488,"body_markdown":"Look at using environment variables to change the configuration for test vs prod - https://logging.apache.org/log4j/2.x/manual/lookups.html","body":"Look at using environment variables to change the configuration for test vs prod - <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/lookups.html</a>"},{"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1684076221,"post_id":76247937,"comment_id":134460534,"body_markdown":"I&#39;m not really in the position to demand that people using a test library I&#39;ve written change how they run their tests.","body":"I&#39;m not really in the position to demand that people using a test library I&#39;ve written change how they run their tests."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684079635,"post_id":76247937,"comment_id":134460953,"body_markdown":"Can you clarify why you&#39;re not using Slf4j to provide test appenders?","body":"Can you clarify why you&#39;re not using Slf4j to provide test appenders?"},{"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1684084829,"post_id":76247937,"comment_id":134461591,"body_markdown":"I wasn&#39;t aware that was a thing (can you provide a link to docs?). I&#39;m surprised I can&#39;t do it without depending on a whole other logging library though. Bear in mind the API I&#39;m writing won&#39;t be limited for use by Log4J/SLF4J, so they can&#39;t be required in the public facing API.","body":"I wasn&#39;t aware that was a thing (can you provide a link to docs?). I&#39;m surprised I can&#39;t do it without depending on a whole other logging library though. Bear in mind the API I&#39;m writing won&#39;t be limited for use by Log4J/SLF4J, so they can&#39;t be required in the public facing API."}],"answers":[{"tags":[],"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684101312,"creation_date":1684099883,"answer_id":76249772,"question_id":76247937,"body_markdown":"I discovered that using the `Configurator` (internal API) was good enough to change a logger&#39;s level without it being reverted when I add the appender.\r\n\r\nSo in my tests, instead of using:\r\n* `logger.setLevel(Level.FOO)`\r\n\r\nI now use:\r\n* `Configurator.setLevel(logger, Level.FOO)`\r\n\r\nThen to add/remove appenders for the duration of the test, I can just use my original idea via `logger.addAppender()` / `removeAppender()` (using the &quot;core&quot; API).\r\n\r\nBasically what I&#39;ve discovered from this is the Log4J has very strong opinions about programmatic configuration (which is fine, they mostly match mine), but doesn&#39;t do a good job of explaining how some logger state is transitory and will be overridden as a side-effect of any operations on the configuration.\r\n\r\nSo if you are needing to do this sort of programmatic manipulation, you&#39;ll end up chasing your tail. This isn&#39;t a 100% what I wanted to achieve, but it does help me move forward.\r\n\r\nI&#39;m also having to assume they&#39;ll never actually remove the configurator (Hyrum&#39;s Law probably means it&#39;s too well used to be removable at this point).","title":"What&#39;s the best way to capture Log4J (2) log entries during a test?","body":"<p>I discovered that using the <code>Configurator</code> (internal API) was good enough to change a logger's level without it being reverted when I add the appender.</p>\n<p>So in my tests, instead of using:</p>\n<ul>\n<li><code>logger.setLevel(Level.FOO)</code></li>\n</ul>\n<p>I now use:</p>\n<ul>\n<li><code>Configurator.setLevel(logger, Level.FOO)</code></li>\n</ul>\n<p>Then to add/remove appenders for the duration of the test, I can just use my original idea via <code>logger.addAppender()</code> / <code>removeAppender()</code> (using the &quot;core&quot; API).</p>\n<p>Basically what I've discovered from this is the Log4J has very strong opinions about programmatic configuration (which is fine, they mostly match mine), but doesn't do a good job of explaining how some logger state is transitory and will be overridden as a side-effect of any operations on the configuration.</p>\n<p>So if you are needing to do this sort of programmatic manipulation, you'll end up chasing your tail. This isn't a 100% what I wanted to achieve, but it does help me move forward.</p>\n<p>I'm also having to assume they'll never actually remove the configurator (Hyrum's Law probably means it's too well used to be removable at this point).</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684132229,"creation_date":1684132229,"answer_id":76251400,"question_id":76247937,"body_markdown":"There are a couple of problems in your code:\r\n\r\n 1. As stated [in the javadoc](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getContext--), `LogManager#getContext()` usually does not give you the same logger context as `LogManager#getLogger(...)`:\r\n\r\n    &gt; **WARNING** - The LoggerContext returned by this method may not be the LoggerContext used to create a Logger for the calling class.\r\n\r\n    Use `LogManager.getContext(false)` or `Logger.getContext()` instead.\r\n 2. Once you are done with configuration changes you need to call [`LoggerContext#updateLoggers()`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LoggerContext.html#updateLoggers--) to commit your configuration changes.\r\n\r\nAs you remarked, programmatic configuration is **not** recommended. Semantically a minor version change can break it. However, on the current version (2.20.0 as of writing) you can use:\r\n\r\n```lang-java\r\nfinal org.apache.logging.log4j.spi.LoggerContext c = LogManager.getContext(false);\r\nif (c instanceof LoggerContext) {\r\n    final LoggerContext context = (LoggerContext) c;\r\n    final LoggerConfig oldConfig = context.getConfiguration().getLoggerConfig(loggerName);\r\n    final LoggerConfig newConfig;\r\n    // Add a new logger config or use the existent one\r\n    if (loggerName.equals(oldConfig.getName())) {\r\n        newConfig = oldConfig;\r\n    } else {\r\n        newConfig = new LoggerConfig(loggerName, level, true);\r\n    }\r\n    // Actually adds an AppenderRef\r\n    newConfig.addAppender(appender, null, null);\r\n    // Sets the level of the LoggerConfig\r\n    newConfig.setLevel(level);\r\n    context.getConfiguration().addLogger(loggerName, newConfig);\r\n    context.updateLoggers();\r\n}\r\n```\r\n\r\n**Remark:** Your setup will probably not work for parallel tests. See [this mailing list thread](https://lists.apache.org/thread/3n9xqc132pm49w3m67zm6wnjfw6yphkq) for some alternatives. ","title":"What&#39;s the best way to capture Log4J (2) log entries during a test?","body":"<p>There are a couple of problems in your code:</p>\n<ol>\n<li><p>As stated <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogManager.html#getContext--\" rel=\"nofollow noreferrer\">in the javadoc</a>, <code>LogManager#getContext()</code> usually does not give you the same logger context as <code>LogManager#getLogger(...)</code>:</p>\n<blockquote>\n<p><strong>WARNING</strong> - The LoggerContext returned by this method may not be the LoggerContext used to create a Logger for the calling class.</p>\n</blockquote>\n<p>Use <code>LogManager.getContext(false)</code> or <code>Logger.getContext()</code> instead.</p>\n</li>\n<li><p>Once you are done with configuration changes you need to call <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LoggerContext.html#updateLoggers--\" rel=\"nofollow noreferrer\"><code>LoggerContext#updateLoggers()</code></a> to commit your configuration changes.</p>\n</li>\n</ol>\n<p>As you remarked, programmatic configuration is <strong>not</strong> recommended. Semantically a minor version change can break it. However, on the current version (2.20.0 as of writing) you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final org.apache.logging.log4j.spi.LoggerContext c = LogManager.getContext(false);\nif (c instanceof LoggerContext) {\n    final LoggerContext context = (LoggerContext) c;\n    final LoggerConfig oldConfig = context.getConfiguration().getLoggerConfig(loggerName);\n    final LoggerConfig newConfig;\n    // Add a new logger config or use the existent one\n    if (loggerName.equals(oldConfig.getName())) {\n        newConfig = oldConfig;\n    } else {\n        newConfig = new LoggerConfig(loggerName, level, true);\n    }\n    // Actually adds an AppenderRef\n    newConfig.addAppender(appender, null, null);\n    // Sets the level of the LoggerConfig\n    newConfig.setLevel(level);\n    context.getConfiguration().addLogger(loggerName, newConfig);\n    context.updateLoggers();\n}\n</code></pre>\n<p><strong>Remark:</strong> Your setup will probably not work for parallel tests. See <a href=\"https://lists.apache.org/thread/3n9xqc132pm49w3m67zm6wnjfw6yphkq\" rel=\"nofollow noreferrer\">this mailing list thread</a> for some alternatives.</p>\n"}],"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684132229,"creation_date":1684073858,"question_id":76247937,"body_markdown":"I&#39;m writing a logger testing Framework in which I intend to support multiple logging backends and test harnesses. In each test harness there&#39;s a setup/teardown cycle that gives me a chance to inject some form of &quot;log capturing&quot; instance into the logging system.\r\n\r\nIn JDK logging it&#39;s easy to install a new handler to a specific logger to capture everything it sees, but in Log4J2 I&#39;ve struggled to get something with the same behaviour.\r\n\r\nI&#39;ve read all the docs in https://logging.apache.org/log4j/log4j-2.1/manual/architecture.html and I fully understand why programmatic configuration of logging is a bad idea, but for tests it&#39;s really the only reasonable approach.\r\n\r\nIn Log4J I&#39;m guess that adding an Appender is the best way to go, but getting an Appender added (and then removed) to the right place in the configuration hierarchy is difficult.\r\n\r\nIn particular, I need to be able to add an Appender for a package (i.e. for which no logger exists in the code-under-test), so I&#39;d like a way to say:\r\n\r\n&quot;Get me the logger config for this name, creating it if it doesn&#39;t exist&quot;\r\n\r\nInstead, the various config getters I&#39;ve found will just search up the hierarchy and find the parent config (typically root in my case).\r\n\r\nMy requirements are:\r\n1. Add a capturing appender at a specific point in the config namespace.\r\n2. Have the appender capture logs for all loggers at or below that point in the config namespace.\r\n3. Have a robust way to remove the appender when I&#39;m done.\r\n4. Don&#39;t affect actual log levels or any other part of the existing logger configuration.\r\n\r\nI&#39;ve managed to get an Appender installed for an existing logger, but any &quot;child&quot; loggers seem to not use this.\r\n\r\n```java\r\n    // The &quot;loggerName&quot; can be a package name and no logger need exist for it before this point.\r\n    Logger logger = (Logger) LogManager.getLogger(loggerName);\r\n    Configuration configuration = ((LoggerContext) LogManager.getContext()).getConfiguration();\r\n    configuration.addLoggerAppender(logger, appender);\r\n    LoggerConfig config = configuration.getLoggerConfig(loggerName);\r\n    // A callback to remove the appendr after the test.\r\n    return () -&gt; {\r\n      try {\r\n        // I don&#39;t understand why there&#39;s no way to remove the append instance via its reference,\r\n        // so I hacked it to use a random name string since I don&#39;t want to get into issues\r\n        // with multiple tests running in parallel. I&#39;d like a solution that avoids this.\r\n        config.removeAppender(probablyUniqueAppenderName);\r\n      } catch (RuntimeException e) {\r\n        // Ignored on close().\r\n      }\r\n    };\r\n\r\n```\r\n\r\nOne unfortunate thing I&#39;ve noticed is that in various places during other attempts I&#39;ve seen the existing log level of a logger be modified by the seemingly simple act of adding an Appender. This is clearly unacceptable to what I&#39;m trying to do and I&#39;ve no idea why that&#39;s desireable behaviour (when a new config is created it inherits the parent config&#39;s level rather than using any log level already set on the logger).\r\n\r\nI also don&#39;t believe what I&#39;m asking is obviously identical to any of the previous (often years old) questions I&#39;ve seen here about Log4J, so please don&#39;t just assume I should use one of those (the ones I&#39;ve tried didn&#39;t work).\r\n\r\nEdit: The other code snippet I tried first (which also doesn&#39;t work) is:\r\n\r\n```java\r\n    Logger logger = (Logger) LogManager.getLogger(loggerName);\r\n    // This *changes* the logger&#39;s level because there&#39;s no existing config.\r\n    // For example, existing loggers set to TRACE level become set to ERROR after\r\n    // this call because the act of creating a new config for this logger inherits\r\n    // from the parent (root) instead of using the level set on the instance.\r\n    logger.addAppender(appender);\r\n    return () -&gt; {\r\n      try {\r\n        logger.removeAppender(appender);\r\n      } catch (RuntimeException e) {\r\n        // Ignored on close().\r\n      }\r\n    };\r\n```\r\n\r\nEdit 2: I&#39;ve also looked at resetting the configuration by merging the existing configuration with a custom one I created programmatically, but several things didn&#39;t work when trying that (in particular, the `CompositeConfiguration` class won&#39;t let me merge instances of the `Configuration` interface, only sublcasses of the `AbstractConfiguration` class (which isn&#39;t what `LogManager` returns).\r\n\r\nEdit 3: I&#39;ve now found https://logging.apache.org/log4j/2.x/manual/customconfig.html#programmatically-modifying-the-current-configuration-after-initi which looks promising (if a little complex), but the docs don&#39;t explain:\r\n\r\n1. what an `AppenderRef` does, or why it&#39;s needed\r\n2. how to undo any modifications to re-installl the original configuration after testing is complete (though I can probably guess that).","title":"What&#39;s the best way to capture Log4J (2) log entries during a test?","body":"<p>I'm writing a logger testing Framework in which I intend to support multiple logging backends and test harnesses. In each test harness there's a setup/teardown cycle that gives me a chance to inject some form of &quot;log capturing&quot; instance into the logging system.</p>\n<p>In JDK logging it's easy to install a new handler to a specific logger to capture everything it sees, but in Log4J2 I've struggled to get something with the same behaviour.</p>\n<p>I've read all the docs in <a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/architecture.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/log4j-2.1/manual/architecture.html</a> and I fully understand why programmatic configuration of logging is a bad idea, but for tests it's really the only reasonable approach.</p>\n<p>In Log4J I'm guess that adding an Appender is the best way to go, but getting an Appender added (and then removed) to the right place in the configuration hierarchy is difficult.</p>\n<p>In particular, I need to be able to add an Appender for a package (i.e. for which no logger exists in the code-under-test), so I'd like a way to say:</p>\n<p>&quot;Get me the logger config for this name, creating it if it doesn't exist&quot;</p>\n<p>Instead, the various config getters I've found will just search up the hierarchy and find the parent config (typically root in my case).</p>\n<p>My requirements are:</p>\n<ol>\n<li>Add a capturing appender at a specific point in the config namespace.</li>\n<li>Have the appender capture logs for all loggers at or below that point in the config namespace.</li>\n<li>Have a robust way to remove the appender when I'm done.</li>\n<li>Don't affect actual log levels or any other part of the existing logger configuration.</li>\n</ol>\n<p>I've managed to get an Appender installed for an existing logger, but any &quot;child&quot; loggers seem to not use this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // The &quot;loggerName&quot; can be a package name and no logger need exist for it before this point.\n    Logger logger = (Logger) LogManager.getLogger(loggerName);\n    Configuration configuration = ((LoggerContext) LogManager.getContext()).getConfiguration();\n    configuration.addLoggerAppender(logger, appender);\n    LoggerConfig config = configuration.getLoggerConfig(loggerName);\n    // A callback to remove the appendr after the test.\n    return () -&gt; {\n      try {\n        // I don't understand why there's no way to remove the append instance via its reference,\n        // so I hacked it to use a random name string since I don't want to get into issues\n        // with multiple tests running in parallel. I'd like a solution that avoids this.\n        config.removeAppender(probablyUniqueAppenderName);\n      } catch (RuntimeException e) {\n        // Ignored on close().\n      }\n    };\n\n</code></pre>\n<p>One unfortunate thing I've noticed is that in various places during other attempts I've seen the existing log level of a logger be modified by the seemingly simple act of adding an Appender. This is clearly unacceptable to what I'm trying to do and I've no idea why that's desireable behaviour (when a new config is created it inherits the parent config's level rather than using any log level already set on the logger).</p>\n<p>I also don't believe what I'm asking is obviously identical to any of the previous (often years old) questions I've seen here about Log4J, so please don't just assume I should use one of those (the ones I've tried didn't work).</p>\n<p>Edit: The other code snippet I tried first (which also doesn't work) is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Logger logger = (Logger) LogManager.getLogger(loggerName);\n    // This *changes* the logger's level because there's no existing config.\n    // For example, existing loggers set to TRACE level become set to ERROR after\n    // this call because the act of creating a new config for this logger inherits\n    // from the parent (root) instead of using the level set on the instance.\n    logger.addAppender(appender);\n    return () -&gt; {\n      try {\n        logger.removeAppender(appender);\n      } catch (RuntimeException e) {\n        // Ignored on close().\n      }\n    };\n</code></pre>\n<p>Edit 2: I've also looked at resetting the configuration by merging the existing configuration with a custom one I created programmatically, but several things didn't work when trying that (in particular, the <code>CompositeConfiguration</code> class won't let me merge instances of the <code>Configuration</code> interface, only sublcasses of the <code>AbstractConfiguration</code> class (which isn't what <code>LogManager</code> returns).</p>\n<p>Edit 3: I've now found <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html#programmatically-modifying-the-current-configuration-after-initi\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/customconfig.html#programmatically-modifying-the-current-configuration-after-initi</a> which looks promising (if a little complex), but the docs don't explain:</p>\n<ol>\n<li>what an <code>AppenderRef</code> does, or why it's needed</li>\n<li>how to undo any modifications to re-installl the original configuration after testing is complete (though I can probably guess that).</li>\n</ol>\n"},{"tags":["java","database","hibernate","connection-pooling","firebird"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1432622664,"post_id":30440477,"comment_id":48983705,"body_markdown":"I know it is not an immediate solution, but you should really consider upgrading your Firebird installation. The last Firebird 1.5 was released 6 years ago; all kinds of bugs have been fixed since then (and at minimum, if you aren&#39;t already at 1.5.6, upgrade to that).","body":"I know it is not an immediate solution, but you should really consider upgrading your Firebird installation. The last Firebird 1.5 was released 6 years ago; all kinds of bugs have been fixed since then (and at minimum, if you aren&#39;t already at 1.5.6, upgrade to that)."},{"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"score":0,"creation_date":1432638777,"post_id":30440477,"comment_id":48994377,"body_markdown":"Unfortunately this is not possible due to some delphi apps that use components which are tied to firebird 1.5 only.","body":"Unfortunately this is not possible due to some delphi apps that use components which are tied to firebird 1.5 only."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515233988,"creation_date":1432619367,"answer_id":30450409,"question_id":30440477,"body_markdown":"The most flexible solution is to use [an explicit DataSource][1], instead of configuring the connection pooling through Hibernate. One option to configure a non-pooling `DataSource` is by using [DriverManagerDataSource][2]:\r\n\r\n    @Override\r\n    protected Properties getProperties() {\r\n        Properties properties = new Properties();\r\n    \tproperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.HSQLDialect&quot;);\r\n    \t//log settings\r\n    \tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n    \t//data source settings\r\n    \tproperties.put(&quot;hibernate.connection.datasource&quot;, newDataSource());\r\n        return properties;\r\n    }\r\n     \r\n    protected ProxyDataSource newDataSource() {\r\n    \tDriverManagerDataSource actualDataSource = new DriverManagerDataSource();\r\n    \tactualDataSource.setUrl(&quot;jdbc:hsqldb:mem:test&quot;);\r\n    \tactualDataSource.setUsername(&quot;sa&quot;);\r\n    \tactualDataSource.setPassword(&quot;&quot;);\r\n    \tProxyDataSource proxyDataSource = new ProxyDataSource();\r\n    \tproxyDataSource.setDataSource(actualDataSource);\r\n    \tproxyDataSource.setListener(new SLF4JQueryLoggingListener());\r\n    \treturn proxyDataSource;\r\n    }\r\n\r\nThis way you can choose a pooling or a non-pooling `DataSource`.\r\n\r\nTo get a better understanding of you connection pooling resources usage, you can configure [FlexyPool][3] to collect metrics for:\r\n\r\n- concurrent connections\r\n- concurrent connection requests\r\n- data source connection acquiring time\r\n- connection lease time\r\n- maximum pool size\r\n- total connection acquiring time\r\n- overflow pool size\r\n- retries attempts\r\n\r\n\r\n  [1]: http://vladmihalcea.com/a-beginners-guide-to-transaction-isolation-levels-in-enterprise-java/\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/datasource/DriverManagerDataSource.html\r\n  [3]: https://github.com/vladmihalcea/flexy-pool","title":"How to disable connection pooling in Hibernate","body":"<p>The most flexible solution is to use <a href=\"http://vladmihalcea.com/a-beginners-guide-to-transaction-isolation-levels-in-enterprise-java/\" rel=\"nofollow noreferrer\">an explicit DataSource</a>, instead of configuring the connection pooling through Hibernate. One option to configure a non-pooling <code>DataSource</code> is by using <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/datasource/DriverManagerDataSource.html\" rel=\"nofollow noreferrer\">DriverManagerDataSource</a>:</p>\n\n<pre><code>@Override\nprotected Properties getProperties() {\n    Properties properties = new Properties();\n    properties.put(\"hibernate.dialect\", \"org.hibernate.dialect.HSQLDialect\");\n    //log settings\n    properties.put(\"hibernate.hbm2ddl.auto\", \"update\");\n    //data source settings\n    properties.put(\"hibernate.connection.datasource\", newDataSource());\n    return properties;\n}\n\nprotected ProxyDataSource newDataSource() {\n    DriverManagerDataSource actualDataSource = new DriverManagerDataSource();\n    actualDataSource.setUrl(\"jdbc:hsqldb:mem:test\");\n    actualDataSource.setUsername(\"sa\");\n    actualDataSource.setPassword(\"\");\n    ProxyDataSource proxyDataSource = new ProxyDataSource();\n    proxyDataSource.setDataSource(actualDataSource);\n    proxyDataSource.setListener(new SLF4JQueryLoggingListener());\n    return proxyDataSource;\n}\n</code></pre>\n\n<p>This way you can choose a pooling or a non-pooling <code>DataSource</code>.</p>\n\n<p>To get a better understanding of you connection pooling resources usage, you can configure <a href=\"https://github.com/vladmihalcea/flexy-pool\" rel=\"nofollow noreferrer\">FlexyPool</a> to collect metrics for:</p>\n\n<ul>\n<li>concurrent connections</li>\n<li>concurrent connection requests</li>\n<li>data source connection acquiring time</li>\n<li>connection lease time</li>\n<li>maximum pool size</li>\n<li>total connection acquiring time</li>\n<li>overflow pool size</li>\n<li>retries attempts</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444810894,"creation_date":1444810894,"answer_id":33120165,"question_id":30440477,"body_markdown":"I found documentation for hibernate [3.3][1] and [4.3][2] that says:\r\n\r\n&gt; Just replace the hibernate.connection.pool_size property with\r\n&gt; connection pool specific settings. This will turn off Hibernate&#39;s\r\n&gt; internal pool.\r\n&gt; \r\n&gt; Hibernate will use its org.hibernate.connection.C3P0ConnectionProvider\r\n&gt; for connection pooling if you set hibernate.c3p0.* properties\r\n\r\nSo remove *hibernate.connection.pool_size* and any *hibernate.c3p0...* properties from configuration, than connection pooling is disabled.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html#configuration-hibernatejdb\r\n  [2]: https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch03.html#configuration-jdbc-properties","title":"How to disable connection pooling in Hibernate","body":"<p>I found documentation for hibernate <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html#configuration-hibernatejdb\" rel=\"nofollow\">3.3</a> and <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch03.html#configuration-jdbc-properties\" rel=\"nofollow\">4.3</a> that says:</p>\n\n<blockquote>\n  <p>Just replace the hibernate.connection.pool_size property with\n  connection pool specific settings. This will turn off Hibernate's\n  internal pool.</p>\n  \n  <p>Hibernate will use its org.hibernate.connection.C3P0ConnectionProvider\n  for connection pooling if you set hibernate.c3p0.* properties</p>\n</blockquote>\n\n<p>So remove <em>hibernate.connection.pool_size</em> and any <em>hibernate.c3p0...</em> properties from configuration, than connection pooling is disabled.</p>\n"},{"tags":[],"owner":{"account_id":7709400,"reputation":748,"user_id":5839280,"display_name":"Jalal Kiswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684132191,"creation_date":1659614005,"answer_id":73235500,"question_id":30440477,"body_markdown":"Adding to Vlad&#39;s answer:\r\n\r\nIf somebody still faces this:\r\n\r\n- Be sure to remove &quot;**hibernate-c3p0**&quot; from your classpath, if exists, since this will automatically enable MChange c3p0 connection pool.\r\n\r\n- Another option that, you can close the connection manually when closing the entity manager:\r\n\r\n                ....\r\n    \t\t\tSessionImpl ses = (SessionImpl) session;\r\n\t\t\t\tclose(ses.connection());\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsession.close();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlogger.error(e);\r\n\t\t\t\t}\r\n                ........\r\n\r\n\r\nGood Luck\r\n\r\n","title":"How to disable connection pooling in Hibernate","body":"<p>Adding to Vlad's answer:</p>\n<p>If somebody still faces this:</p>\n<ul>\n<li><p>Be sure to remove &quot;<strong>hibernate-c3p0</strong>&quot; from your classpath, if exists, since this will automatically enable MChange c3p0 connection pool.</p>\n</li>\n<li><p>Another option that, you can close the connection manually when closing the entity manager:</p>\n<pre><code>          ....\n          SessionImpl ses = (SessionImpl) session;\n          close(ses.connection());\n          try {\n              session.close();\n          } catch (Exception e) {\n              logger.error(e);\n          }\n          ........\n</code></pre>\n</li>\n</ul>\n<p>Good Luck</p>\n"}],"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5871,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1684132191,"creation_date":1432563642,"question_id":30440477,"body_markdown":"I have a web application that currently uses c3p0 and Hibernate to connect to a Firebird 1.5 database.\r\n\r\nI am facing a problem from time to time where the database just stops responding, even trying to manually restart the service doesn&#39;t have any effect, and it doesn&#39;t generate any logs, so I have to manually reboot the machine to get it working again.\r\n\r\nI think that maybe Firebird hangs when the pool tries to acquire a specific number of connections or something like that. So, I need to test my app without connection pooling, to check if this is or is not the problem.\r\n\r\nI can&#39;t simply remove c3p0 configs from persistence because this way Hibernate would use its own integrated connection pool. So how to do it?","title":"How to disable connection pooling in Hibernate","body":"<p>I have a web application that currently uses c3p0 and Hibernate to connect to a Firebird 1.5 database.</p>\n<p>I am facing a problem from time to time where the database just stops responding, even trying to manually restart the service doesn't have any effect, and it doesn't generate any logs, so I have to manually reboot the machine to get it working again.</p>\n<p>I think that maybe Firebird hangs when the pool tries to acquire a specific number of connections or something like that. So, I need to test my app without connection pooling, to check if this is or is not the problem.</p>\n<p>I can't simply remove c3p0 configs from persistence because this way Hibernate would use its own integrated connection pool. So how to do it?</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1683889588,"post_id":76235666,"comment_id":134439255,"body_markdown":"Which line of your code represents &quot;line 237&quot;?","body":"Which line of your code represents &quot;line 237&quot;?"},{"owner":{"account_id":7513964,"reputation":28,"user_id":5708033,"display_name":"Cris-123"},"score":0,"creation_date":1683889953,"post_id":76235666,"comment_id":134439340,"body_markdown":"@Reporter- In this line {user1, resultSet1.getInt(1)}. It seems the resultsets are getting closed.","body":"@Reporter- In this line {user1, resultSet1.getInt(1)}. It seems the resultsets are getting closed."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1683890568,"post_id":76235666,"comment_id":134439488,"body_markdown":"You need to call next on the resultset. see https://stackoverflow.com/q/59689090","body":"You need to call next on the resultset. see <a href=\"https://stackoverflow.com/q/59689090\">stackoverflow.com/q/59689090</a>"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1683894325,"post_id":76235666,"comment_id":134440379,"body_markdown":"Note that this code has a major security leak (SQL injection), and has resource leaks (not using try-with). If it&#39;s anything more than a toy project you might want to look into that :)","body":"Note that this code has a major security leak (SQL injection), and has resource leaks (not using try-with). If it&#39;s anything more than a toy project you might want to look into that :)"}],"answers":[{"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683890760,"creation_date":1683890760,"answer_id":76235826,"question_id":76235666,"body_markdown":"you are accessing the resultset from the same statements. This will not work. You can create multiple instances of Statements statement1, 2 and 3. Then you access the resultset from each instance accordingly. At the end close all connections resultsets and statements. ","title":"How to execute multiple queries and get them under three resultset in JDBC","body":"<p>you are accessing the resultset from the same statements. This will not work. You can create multiple instances of Statements statement1, 2 and 3. Then you access the resultset from each instance accordingly. At the end close all connections resultsets and statements.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684131940,"creation_date":1683940232,"answer_id":76240678,"question_id":76235666,"body_markdown":"# Re-executing `Statement` closes previous `ResultSet`\r\n\r\nYou said:\r\n\r\n&gt; java.sql.SQLException: Closed Resultset\r\n\r\nA `Statement` can produce only one open `ResultSet` at a time. Executing that statement again automatically closes the previous `ResultSet` while producing the successive `ResultSet`. \r\n\r\nTo quote the Javadoc for `ResultSet` (emphasis mine):\r\n\r\n&gt;A `ResultSet` object is automatically closed when the `Statement` object that generated it is closed, **re-executed**, or used to retrieve the next result from a sequence of multiple results.\r\n\r\nNote the *re-executed* part in that quote.\r\n\r\n\r\n# Revised code\r\n\r\nHere is a complete example app using the [H2 Database Engine][1].\r\n\r\nRather than hard-coding for 3 inputs, soft-code using collections.\r\n\r\nNotice how we separate the reporting from the database query. Generally best to maintain such a [separation of concerns][2]. This allows us to escape your problem where you trying to juggle all the result sets at the same time. In this code below we gather the results of each `ResultSet` with a `put` to our `Map`. We return the complete map to the calling code. The calling code then passes that map to a method dedicating to reporting (or to sending emails, as seen in your Question). \r\n\r\nBy the way, I suggest making a habit of using a `DataSource` to contain your database login credentials. This interface makes your deployment more flexible, with the option to externalize this info outside your codebase.\r\n\r\nNotice how we use [try-with-resources][3] to [automatically close][4] each `Connection`, `Statement`, `PreparedStatement`, and `ResultSet`. \r\n\r\n```java\r\npackage work.basil.example.db;\r\n\r\nimport org.h2.jdbcx.JdbcDataSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\nimport java.time.OffsetDateTime;\r\nimport java.time.ZoneOffset;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class ExH2 {\r\n    public static void main ( String[] args ) {\r\n\r\n        ExH2 app = new ExH2 ( );\r\n        DataSource dataSource = app.obtainDataSource ( );\r\n\r\n        app.prepareDatabase ( dataSource );\r\n        List &lt; String &gt; users = List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; );\r\n        app.populateDatabase ( dataSource , users );\r\n        // app.dumpToConsole ( dataSource );\r\n        Map &lt; String, Integer &gt; countPerUserForCurrentWeek = app.countPerUserForCurrentWeek ( dataSource , users );\r\n        app.report ( countPerUserForCurrentWeek );\r\n    }\r\n\r\n    private DataSource obtainDataSource ( ) {\r\n        org.h2.jdbcx.JdbcDataSource ds = new JdbcDataSource ( );  // An implementation of `javax.sql.DataSource` bundled with H2.\r\n        ds.setURL ( &quot;jdbc:h2:mem:history_db;DB_CLOSE_DELAY=-1&quot; );\r\n        ds.setUser ( &quot;scott&quot; );\r\n        ds.setPassword ( &quot;tiger&quot; );\r\n        ds.setDescription ( &quot;An example database showing multiple result sets.&quot; );\r\n        return ds;\r\n    }\r\n\r\n    private void prepareDatabase ( final DataSource dataSource ) {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                        CREATE TABLE IF NOT EXISTS history_\r\n                        (\r\n                            user_ TEXT NOT NULL ,\r\n                            when_ TIMESTAMP WITH TIME ZONE NOT NULL ,\r\n                            id_ UUID NOT NULL DEFAULT RANDOM_UUID() ,\r\n                            CONSTRAINT history_pkey_ PRIMARY KEY ( id_ )\r\n                        )\r\n                        ;\r\n                        &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n                Statement stmt = conn.createStatement ( ) ;\r\n        ) {\r\n            System.out.println ( &quot;INFO - Running `prepareDatabase` method.&quot; );\r\n            stmt.executeUpdate ( sql );\r\n        } catch ( SQLException e ) {\r\n            e.printStackTrace ( );\r\n        }\r\n    }\r\n\r\n    private void populateDatabase ( final DataSource dataSource , List &lt; String &gt; users ) {\r\n        String sql = &quot;&quot;&quot;\r\n                INSERT INTO history_ ( user_ , when_ )\r\n                VALUES ( ? , ?)\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection ( ) ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\r\n                ) {\r\n            for ( String user : users ) {\r\n                int limit = ThreadLocalRandom.current ( ).nextInt ( 7 , 42 );\r\n                System.out.println ( &quot;user = &quot; + user + &quot; | limit = &quot; + limit );\r\n                for ( int i = 0 ; i &lt; limit ; i++ ) {\r\n                    preparedStatement.setString ( 1 , user );\r\n                    preparedStatement.setObject ( 2 , OffsetDateTime.now ( ZoneOffset.UTC ) );\r\n                    preparedStatement.executeUpdate ( );\r\n                }\r\n            }\r\n\r\n        } catch ( SQLException e ) {\r\n            e.printStackTrace ( );\r\n        }\r\n    }\r\n\r\n    private void dumpToConsole ( DataSource dataSource ) {\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT *\r\n                FROM history_\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n                PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\r\n        ) {\r\n//            preparedStatement.setString ( 1, &quot;Carol&quot; );\r\n            try (\r\n                    ResultSet resultSet = preparedStatement.executeQuery ( )\r\n            ) {\r\n                while ( resultSet.next ( ) ) {  // We expect a single row in each result set, for the count.\r\n                    System.out.println (\r\n                            resultSet.getString ( 1 ) + &quot; | &quot; +\r\n                                    resultSet.getString ( 2 ) + &quot; | &quot; +\r\n                                    resultSet.getString ( 3 ) + &quot; | &quot;\r\n                    );\r\n                }\r\n            }\r\n        } catch ( SQLException e ) {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private Map &lt; String, Integer &gt; countPerUserForCurrentWeek ( final DataSource dataSource , List &lt; String &gt; users ) {\r\n        Map &lt; String, Integer &gt; map = new HashMap &lt;&gt; ( );\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT COUNT(*) \r\n                FROM history_\r\n                WHERE user_ = ?\r\n                AND when_ &gt;= ? \r\n                AND when_ &lt; ?\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection ( ) ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\r\n                ) {\r\n            OffsetDateTime now = OffsetDateTime.now ( ZoneOffset.UTC );\r\n            OffsetDateTime weekAgo = now.minusDays ( 7 );\r\n            preparedStatement.setObject ( 2 , weekAgo );\r\n            preparedStatement.setObject ( 3 , now );\r\n            for ( String user : users ) {\r\n                preparedStatement.setString ( 1 , user );\r\n                try ( ResultSet resultSet = preparedStatement.executeQuery ( ) ) {\r\n                    if ( resultSet.next ( ) ) {  // We expect a single row in each result set, for the count.\r\n                        int count = resultSet.getInt ( 1 );\r\n                        map.put ( user , count );\r\n                    }\r\n                }\r\n            }\r\n        } catch ( SQLException e ) {\r\n            e.printStackTrace ( );\r\n        }\r\n        return Map.copyOf ( map );\r\n    }\r\n\r\n    private void report ( Map &lt; String, Integer &gt; countPerUserForCurrentWeek ) {\r\n        System.out.println ( &quot;countPerUserForCurrentWeek = &quot; + countPerUserForCurrentWeek );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```java\r\nuser = Alice | limit = 32\r\nuser = Bob | limit = 7\r\nuser = Carol | limit = 13\r\nuser = Davis | limit = 24\r\ncountPerUserForCurrentWeek = {Carol=13, Alice=32, Bob=7, Davis=24}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [2]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html","title":"How to execute multiple queries and get them under three resultset in JDBC","body":"<h1>Re-executing <code>Statement</code> closes previous <code>ResultSet</code></h1>\n<p>You said:</p>\n<blockquote>\n<p>java.sql.SQLException: Closed Resultset</p>\n</blockquote>\n<p>A <code>Statement</code> can produce only one open <code>ResultSet</code> at a time. Executing that statement again automatically closes the previous <code>ResultSet</code> while producing the successive <code>ResultSet</code>.</p>\n<p>To quote the Javadoc for <code>ResultSet</code> (emphasis mine):</p>\n<blockquote>\n<p>A <code>ResultSet</code> object is automatically closed when the <code>Statement</code> object that generated it is closed, <strong>re-executed</strong>, or used to retrieve the next result from a sequence of multiple results.</p>\n</blockquote>\n<p>Note the <em>re-executed</em> part in that quote.</p>\n<h1>Revised code</h1>\n<p>Here is a complete example app using the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>.</p>\n<p>Rather than hard-coding for 3 inputs, soft-code using collections.</p>\n<p>Notice how we separate the reporting from the database query. Generally best to maintain such a <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>. This allows us to escape your problem where you trying to juggle all the result sets at the same time. In this code below we gather the results of each <code>ResultSet</code> with a <code>put</code> to our <code>Map</code>. We return the complete map to the calling code. The calling code then passes that map to a method dedicating to reporting (or to sending emails, as seen in your Question).</p>\n<p>By the way, I suggest making a habit of using a <code>DataSource</code> to contain your database login credentials. This interface makes your deployment more flexible, with the option to externalize this info outside your codebase.</p>\n<p>Notice how we use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">automatically close</a> each <code>Connection</code>, <code>Statement</code>, <code>PreparedStatement</code>, and <code>ResultSet</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.db;\n\nimport org.h2.jdbcx.JdbcDataSource;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class ExH2 {\n    public static void main ( String[] args ) {\n\n        ExH2 app = new ExH2 ( );\n        DataSource dataSource = app.obtainDataSource ( );\n\n        app.prepareDatabase ( dataSource );\n        List &lt; String &gt; users = List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; );\n        app.populateDatabase ( dataSource , users );\n        // app.dumpToConsole ( dataSource );\n        Map &lt; String, Integer &gt; countPerUserForCurrentWeek = app.countPerUserForCurrentWeek ( dataSource , users );\n        app.report ( countPerUserForCurrentWeek );\n    }\n\n    private DataSource obtainDataSource ( ) {\n        org.h2.jdbcx.JdbcDataSource ds = new JdbcDataSource ( );  // An implementation of `javax.sql.DataSource` bundled with H2.\n        ds.setURL ( &quot;jdbc:h2:mem:history_db;DB_CLOSE_DELAY=-1&quot; );\n        ds.setUser ( &quot;scott&quot; );\n        ds.setPassword ( &quot;tiger&quot; );\n        ds.setDescription ( &quot;An example database showing multiple result sets.&quot; );\n        return ds;\n    }\n\n    private void prepareDatabase ( final DataSource dataSource ) {\n        String sql =\n                &quot;&quot;&quot;\n                        CREATE TABLE IF NOT EXISTS history_\n                        (\n                            user_ TEXT NOT NULL ,\n                            when_ TIMESTAMP WITH TIME ZONE NOT NULL ,\n                            id_ UUID NOT NULL DEFAULT RANDOM_UUID() ,\n                            CONSTRAINT history_pkey_ PRIMARY KEY ( id_ )\n                        )\n                        ;\n                        &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n                Statement stmt = conn.createStatement ( ) ;\n        ) {\n            System.out.println ( &quot;INFO - Running `prepareDatabase` method.&quot; );\n            stmt.executeUpdate ( sql );\n        } catch ( SQLException e ) {\n            e.printStackTrace ( );\n        }\n    }\n\n    private void populateDatabase ( final DataSource dataSource , List &lt; String &gt; users ) {\n        String sql = &quot;&quot;&quot;\n                INSERT INTO history_ ( user_ , when_ )\n                VALUES ( ? , ?)\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection ( ) ;\n                        PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\n                ) {\n            for ( String user : users ) {\n                int limit = ThreadLocalRandom.current ( ).nextInt ( 7 , 42 );\n                System.out.println ( &quot;user = &quot; + user + &quot; | limit = &quot; + limit );\n                for ( int i = 0 ; i &lt; limit ; i++ ) {\n                    preparedStatement.setString ( 1 , user );\n                    preparedStatement.setObject ( 2 , OffsetDateTime.now ( ZoneOffset.UTC ) );\n                    preparedStatement.executeUpdate ( );\n                }\n            }\n\n        } catch ( SQLException e ) {\n            e.printStackTrace ( );\n        }\n    }\n\n    private void dumpToConsole ( DataSource dataSource ) {\n        String sql = &quot;&quot;&quot;\n                SELECT *\n                FROM history_\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n                PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\n        ) {\n//            preparedStatement.setString ( 1, &quot;Carol&quot; );\n            try (\n                    ResultSet resultSet = preparedStatement.executeQuery ( )\n            ) {\n                while ( resultSet.next ( ) ) {  // We expect a single row in each result set, for the count.\n                    System.out.println (\n                            resultSet.getString ( 1 ) + &quot; | &quot; +\n                                    resultSet.getString ( 2 ) + &quot; | &quot; +\n                                    resultSet.getString ( 3 ) + &quot; | &quot;\n                    );\n                }\n            }\n        } catch ( SQLException e ) {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    private Map &lt; String, Integer &gt; countPerUserForCurrentWeek ( final DataSource dataSource , List &lt; String &gt; users ) {\n        Map &lt; String, Integer &gt; map = new HashMap &lt;&gt; ( );\n        String sql = &quot;&quot;&quot;\n                SELECT COUNT(*) \n                FROM history_\n                WHERE user_ = ?\n                AND when_ &gt;= ? \n                AND when_ &lt; ?\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection ( ) ;\n                        PreparedStatement preparedStatement = conn.prepareStatement ( sql ) ;\n                ) {\n            OffsetDateTime now = OffsetDateTime.now ( ZoneOffset.UTC );\n            OffsetDateTime weekAgo = now.minusDays ( 7 );\n            preparedStatement.setObject ( 2 , weekAgo );\n            preparedStatement.setObject ( 3 , now );\n            for ( String user : users ) {\n                preparedStatement.setString ( 1 , user );\n                try ( ResultSet resultSet = preparedStatement.executeQuery ( ) ) {\n                    if ( resultSet.next ( ) ) {  // We expect a single row in each result set, for the count.\n                        int count = resultSet.getInt ( 1 );\n                        map.put ( user , count );\n                    }\n                }\n            }\n        } catch ( SQLException e ) {\n            e.printStackTrace ( );\n        }\n        return Map.copyOf ( map );\n    }\n\n    private void report ( Map &lt; String, Integer &gt; countPerUserForCurrentWeek ) {\n        System.out.println ( &quot;countPerUserForCurrentWeek = &quot; + countPerUserForCurrentWeek );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>user = Alice | limit = 32\nuser = Bob | limit = 7\nuser = Carol | limit = 13\nuser = Davis | limit = 24\ncountPerUserForCurrentWeek = {Carol=13, Alice=32, Bob=7, Davis=24}\n</code></pre>\n"}],"owner":{"account_id":7513964,"reputation":28,"user_id":5708033,"display_name":"Cris-123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76240678,"answer_count":2,"score":0,"last_activity_date":1684131940,"creation_date":1683889336,"question_id":76235666,"body_markdown":"I want to create a program which will execute three different queries and their result would be mailed along with the user name in a tabular format. Below is the code I am designing, \r\n\r\n\r\n\r\n    public class SendNotification {\r\n    \tpublic static void main(String[] args) throws SQLException, AddressException, MessagingException {\r\n    \t\t// Database connection details\r\n            String url = &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\r\n            String user = &quot;localuser&quot;;\r\n            String password = &quot;xxxxxx&quot;;\r\n            //InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;config.properties&quot;);\r\n            \r\n            //User Details\r\n            String user1 = &quot;abUser&quot;;\r\n            String user2 = &quot;xyUser&quot;;\r\n            String user3 = &quot;cvUser&quot;;\r\n            \r\n            // SQL queries for each user\r\n            String query1 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = &#39;&quot; +user1+&quot;&#39; AND outdate &gt;= SYSDATE - 7&quot;;\r\n            String query2 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = &#39;&quot; +user2+&quot;&#39; AND outdate &gt;= SYSDATE - 7&quot;;\r\n            String query3 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = &#39;&quot; +user3+&quot;&#39; AND outdate &gt;= SYSDATE - 7&quot;;\r\n            \r\n            // Create a connection to the database\r\n            Connection connection = DriverManager.getConnection(url, user, password);\r\n            \r\n            // Create a statement and execute each query\r\n            Statement statement = connection.createStatement();\r\n            ResultSet resultSet1 = statement.executeQuery(query1);\r\n            ResultSet resultSet2 = statement.executeQuery(query2);\r\n            ResultSet resultSet3 = statement.executeQuery(query3);\r\n            \r\n            // Get the results and store them in a table\r\n            Object[][] data = {\r\n                {&quot;User ID&quot;, &quot;Document Count&quot;},\r\n                {user1, resultSet1.getInt(1)},\r\n                {user2, resultSet2.getInt(1)},\r\n                {user3, resultSet3.getInt(1)}\r\n            };\r\n            \r\n         // Send an email with the results in tabular format\r\n            String from = &quot;devtest@ugc.local&quot;;\r\n            String to = &quot;PBxyz@gmail.com&quot;;\r\n            \r\n            String host = &quot;mail.test.vb.xcv&quot;;\r\n            \r\n            Properties props = new Properties();\r\n    \t\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n    \t\tprops.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n    \t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \t\t\r\n            Session session = Session.getDefaultInstance(props);\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(from));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n            message.setSubject(&quot;Checked-In Document Counts&quot;);\r\n            \r\n            StringBuilder table = new StringBuilder();\r\n            for (Object[] row : data) {\r\n                table.append(&quot;&lt;tr&gt;&lt;td&gt;&quot;).append(row[0]).append(&quot;&lt;/td&gt;&lt;td&gt;&quot;).append(row[1]).append(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n            }\r\n            message.setText(&quot;&lt;html&gt;&lt;body&gt;&lt;table&gt;&quot; + table.toString() + &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;utf-8&quot;, &quot;html&quot;);\r\n            Transport.send(message);\r\n            \r\n            // Close the statement, result sets, and connection\r\n            resultSet1.close();\r\n            resultSet2.close();\r\n            resultSet3.close();\r\n            statement.close();\r\n            connection.close();\r\n        }\r\n            \r\n    \r\n    \r\n    }\r\n\r\nBut, I am encountering with the below error everytime.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.sql.SQLException: Closed Resultset: getInt\r\n\tat oracle.jdbc.driver.GeneratedScrollableResultSet.getInt(GeneratedScrollableResultSet.java:237)\r\n\tat com.ura.SendNotification.main(SendTINNotification.java:48)\r\n\r\nHow shall i proceed to get the desired output?","title":"How to execute multiple queries and get them under three resultset in JDBC","body":"<p>I want to create a program which will execute three different queries and their result would be mailed along with the user name in a tabular format. Below is the code I am designing,</p>\n<pre><code>public class SendNotification {\n    public static void main(String[] args) throws SQLException, AddressException, MessagingException {\n        // Database connection details\n        String url = &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\n        String user = &quot;localuser&quot;;\n        String password = &quot;xxxxxx&quot;;\n        //InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;config.properties&quot;);\n        \n        //User Details\n        String user1 = &quot;abUser&quot;;\n        String user2 = &quot;xyUser&quot;;\n        String user3 = &quot;cvUser&quot;;\n        \n        // SQL queries for each user\n        String query1 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = '&quot; +user1+&quot;' AND outdate &gt;= SYSDATE - 7&quot;;\n        String query2 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = '&quot; +user2+&quot;' AND outdate &gt;= SYSDATE - 7&quot;;\n        String query3 = &quot;SELECT COUNT(*) FROM dbtest WHERE AUTH = '&quot; +user3+&quot;' AND outdate &gt;= SYSDATE - 7&quot;;\n        \n        // Create a connection to the database\n        Connection connection = DriverManager.getConnection(url, user, password);\n        \n        // Create a statement and execute each query\n        Statement statement = connection.createStatement();\n        ResultSet resultSet1 = statement.executeQuery(query1);\n        ResultSet resultSet2 = statement.executeQuery(query2);\n        ResultSet resultSet3 = statement.executeQuery(query3);\n        \n        // Get the results and store them in a table\n        Object[][] data = {\n            {&quot;User ID&quot;, &quot;Document Count&quot;},\n            {user1, resultSet1.getInt(1)},\n            {user2, resultSet2.getInt(1)},\n            {user3, resultSet3.getInt(1)}\n        };\n        \n     // Send an email with the results in tabular format\n        String from = &quot;devtest@ugc.local&quot;;\n        String to = &quot;PBxyz@gmail.com&quot;;\n        \n        String host = &quot;mail.test.vb.xcv&quot;;\n        \n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.host&quot;, host);\n        props.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        \n        Session session = Session.getDefaultInstance(props);\n        MimeMessage message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(from));\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        message.setSubject(&quot;Checked-In Document Counts&quot;);\n        \n        StringBuilder table = new StringBuilder();\n        for (Object[] row : data) {\n            table.append(&quot;&lt;tr&gt;&lt;td&gt;&quot;).append(row[0]).append(&quot;&lt;/td&gt;&lt;td&gt;&quot;).append(row[1]).append(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n        }\n        message.setText(&quot;&lt;html&gt;&lt;body&gt;&lt;table&gt;&quot; + table.toString() + &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;utf-8&quot;, &quot;html&quot;);\n        Transport.send(message);\n        \n        // Close the statement, result sets, and connection\n        resultSet1.close();\n        resultSet2.close();\n        resultSet3.close();\n        statement.close();\n        connection.close();\n    }\n        \n\n\n}\n</code></pre>\n<p>But, I am encountering with the below error everytime.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.sql.SQLException: Closed Resultset: getInt\nat oracle.jdbc.driver.GeneratedScrollableResultSet.getInt(GeneratedScrollableResultSet.java:237)\nat com.ura.SendNotification.main(SendTINNotification.java:48)</p>\n</blockquote>\n<p>How shall i proceed to get the desired output?</p>\n"},{"tags":["java","android","telephonymanager"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1684177240,"post_id":76251345,"comment_id":134476263,"body_markdown":"No, the primary phone number cannot be obtained without the READ_PRIVILEGED_PHONE_STATE permission. The READ_PRIVILEGED_PHONE_STATE permission is a dangerous permission that allows an app to read the user&#39;s primary phone number, including the country code, without the user&#39;s consent. Starting from Android 10 (API level 29) and above, even system apps are not granted this permission by default.","body":"No, the primary phone number cannot be obtained without the READ_PRIVILEGED_PHONE_STATE permission. The READ_PRIVILEGED_PHONE_STATE permission is a dangerous permission that allows an app to read the user&#39;s primary phone number, including the country code, without the user&#39;s consent. Starting from Android 10 (API level 29) and above, even system apps are not granted this permission by default."}],"owner":{"account_id":28176136,"reputation":3,"user_id":21533894,"display_name":"sagar raval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684131637,"creation_date":1684131637,"question_id":76251345,"body_markdown":"Can the primary phone number be obtained without the READ_PRIVILEGED_PHONE_STATE permission?\r\n\r\nI have been trying various methods to obtain a unique device ID that cannot be reset unless the device itself is changed (such as the IMEI), as required by my company. However, since Android Q, the READ_PRIVILEGED_PHONE_STATE permission is required to obtain the IMEI number, so I had to skip that step. Instead, I am creating a unique ID by combining the phone number and model name.\r\n\r\nHowever, when I tried to retrieve the phone number using the getLine1Number() method, I realized that it also requires the READ_PRIVILEGED_PHONE_STATE permission, which is only accessible to Google apps and not third-party apps.\r\n\r\nHere is how I implemented it:\r\n\r\n    punchin.setOnClickListener(new View.OnClickListener() {\r\n                @RequiresApi(api = Build.VERSION_CODES.O)\r\n                @Override\r\n                public void onClick(View view) {\r\n                    punchout.setVisibility(View.VISIBLE);\r\n                    punchin.setVisibility(View.INVISIBLE);\r\n                    Toast.makeText(getContext(), phone_number, Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n            punchout.setOnClickListener(new View.OnClickListener() {\r\n                @RequiresApi(api = Build.VERSION_CODES.O)\r\n                @Override\r\n                public void onClick(View view) {\r\n                    punchout.setVisibility(View.INVISIBLE);\r\n                    punchin.setVisibility(View.VISIBLE);\r\n                    Toast.makeText(getContext(), phone_number, Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n     // Function will run after click to button\r\n        @SuppressLint(&quot;HardwareIds&quot;)\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        public void GetNumber(View v) {\r\n    \r\n            if (ActivityCompat.checkSelfPermission(requireContext(), READ_SMS) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                    ActivityCompat.checkSelfPermission(requireContext(), READ_PHONE_NUMBERS) ==\r\n                            PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(),\r\n                    READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission check\r\n    \r\n                // Create obj of TelephonyManager and ask for current telephone service\r\n                TelephonyManager telephonyManager = (TelephonyManager) requireContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n    \r\n                phone_number = telephonyManager.getLine1Number();\r\n            } else {\r\n                // Ask for permission\r\n                requestPermission();\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        private void requestPermission() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{READ_SMS, READ_PHONE_NUMBERS, READ_PHONE_STATE}, 100);\r\n            }\r\n        }\r\n    \r\n        @SuppressLint(&quot;HardwareIds&quot;)\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            switch (requestCode) {\r\n                case 100:\r\n                    TelephonyManager telephonyManager = (TelephonyManager) requireContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n                    if (ActivityCompat.checkSelfPermission(requireContext(), READ_SMS) !=\r\n                            PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(),\r\n                            READ_PHONE_NUMBERS) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                            ActivityCompat.checkSelfPermission(requireContext(), READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n                        return;\r\n                    }\r\n                    phone_number = telephonyManager.getLine1Number();\r\n    \r\n                    break;\r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + requestCode);\r\n            }\r\n        }","title":"How to get phone number in android programaticaly","body":"<p>Can the primary phone number be obtained without the READ_PRIVILEGED_PHONE_STATE permission?</p>\n<p>I have been trying various methods to obtain a unique device ID that cannot be reset unless the device itself is changed (such as the IMEI), as required by my company. However, since Android Q, the READ_PRIVILEGED_PHONE_STATE permission is required to obtain the IMEI number, so I had to skip that step. Instead, I am creating a unique ID by combining the phone number and model name.</p>\n<p>However, when I tried to retrieve the phone number using the getLine1Number() method, I realized that it also requires the READ_PRIVILEGED_PHONE_STATE permission, which is only accessible to Google apps and not third-party apps.</p>\n<p>Here is how I implemented it:</p>\n<pre><code>punchin.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.O)\n            @Override\n            public void onClick(View view) {\n                punchout.setVisibility(View.VISIBLE);\n                punchin.setVisibility(View.INVISIBLE);\n                Toast.makeText(getContext(), phone_number, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n        punchout.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.O)\n            @Override\n            public void onClick(View view) {\n                punchout.setVisibility(View.INVISIBLE);\n                punchin.setVisibility(View.VISIBLE);\n                Toast.makeText(getContext(), phone_number, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n\n // Function will run after click to button\n    @SuppressLint(&quot;HardwareIds&quot;)\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    public void GetNumber(View v) {\n\n        if (ActivityCompat.checkSelfPermission(requireContext(), READ_SMS) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(requireContext(), READ_PHONE_NUMBERS) ==\n                        PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(),\n                READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\n            // Permission check\n\n            // Create obj of TelephonyManager and ask for current telephone service\n            TelephonyManager telephonyManager = (TelephonyManager) requireContext().getSystemService(Context.TELEPHONY_SERVICE);\n\n            phone_number = telephonyManager.getLine1Number();\n        } else {\n            // Ask for permission\n            requestPermission();\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    private void requestPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{READ_SMS, READ_PHONE_NUMBERS, READ_PHONE_STATE}, 100);\n        }\n    }\n\n    @SuppressLint(&quot;HardwareIds&quot;)\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch (requestCode) {\n            case 100:\n                TelephonyManager telephonyManager = (TelephonyManager) requireContext().getSystemService(Context.TELEPHONY_SERVICE);\n                if (ActivityCompat.checkSelfPermission(requireContext(), READ_SMS) !=\n                        PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(requireContext(),\n                        READ_PHONE_NUMBERS) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n                        ActivityCompat.checkSelfPermission(requireContext(), READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                phone_number = telephonyManager.getLine1Number();\n\n                break;\n            default:\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + requestCode);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1684130591,"post_id":76251098,"comment_id":134465856,"body_markdown":"For forms that use the GET method, the entire form data is sent as part of the query string. But, if we&#39;re using the POST method, then its data is sent as part of the body of the HTTP request.","body":"For forms that use the GET method, the entire form data is sent as part of the query string. But, if we&#39;re using the POST method, then its data is sent as part of the body of the HTTP request."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684131734,"post_id":76251098,"comment_id":134466030,"body_markdown":"Do they really need a body with the parameters or can you just add them to the URL? As that is what it looks like you are trying to achieve.","body":"Do they really need a body with the parameters or can you just add them to the URL? As that is what it looks like you are trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684131523,"creation_date":1684131523,"answer_id":76251330,"question_id":76251098,"body_markdown":"Yes it is possible to send form data via Get using Rest Template, but it is not supported by default, please refer the below link, but for sending form data POST method is recommended approach, may be the below link could help  \r\n\r\nhttps://thegeekyasian.com/http-get-request-with-a-request-body-using-resttemplate/","title":"Can RestTemplate send form data using GET?","body":"<p>Yes it is possible to send form data via Get using Rest Template, but it is not supported by default, please refer the below link, but for sending form data POST method is recommended approach, may be the below link could help</p>\n<p><a href=\"https://thegeekyasian.com/http-get-request-with-a-request-body-using-resttemplate/\" rel=\"nofollow noreferrer\">https://thegeekyasian.com/http-get-request-with-a-request-body-using-resttemplate/</a></p>\n"}],"owner":{"account_id":4380085,"reputation":184,"user_id":3571945,"accept_rate":75,"display_name":"user3571945"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684131523,"creation_date":1684128521,"question_id":76251098,"body_markdown":"I am having a application to call another API, to pass a serial number and it will return a encrypted value for my client.\r\nTo encrypt the number, I have to send a request with two keys within the Body.\r\n\r\nAPI tested on Postman and it working fine\r\n[![enter image description here][1]][1]\r\n\r\nBut while I make a request on JAVA, the API had my request, but it cannot retrieve the form data I passed(i.e. empty). So the number cannot be encrypted properly\r\n\r\n    HttpHeaders header = new HttpHeaders();\r\n\theader.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\t\t\t\r\n\tMultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;(); \r\n\tbody.add(&quot;key1&quot;, key1);\r\n\tbody.add(&quot;key2&quot;, key2);\r\n\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, header);\r\n\t        \r\n\tString apiUrl = &quot;http://&lt;apiUrl&gt;/&lt;endpoint&gt;?&lt;num&gt;={numToEncrypt}&quot;;\r\n    String numToEncrypt = &quot;AB 12345678&quot;;\r\n\tRestTemplate rt = new RestTemplate();\r\n\tResponseEntity&lt;String&gt; response = rt.exchange(apiUrl , HttpMethod.GET, requestEntity, String.class, numToEncrypt);\r\n\r\nIf the API method changed to POST and I edited related code (from `HttpMethod.GET` to `HttpMethod.POST`), they are working fine.\r\nBut API operator do not prefer the changes.\r\n\r\nSo my question is, is it possible to send form data via GET by using RestTemplate?\r\n\r\n\r\nI am using `JAVA-1.8` and RestTemplate is from `spring-web-5.2.8.RELEASE`\r\n\r\n  [1]: https://i.stack.imgur.com/r2TBH.png","title":"Can RestTemplate send form data using GET?","body":"<p>I am having a application to call another API, to pass a serial number and it will return a encrypted value for my client.\nTo encrypt the number, I have to send a request with two keys within the Body.</p>\n<p>API tested on Postman and it working fine\n<a href=\"https://i.stack.imgur.com/r2TBH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2TBH.png\" alt=\"enter image description here\" /></a></p>\n<p>But while I make a request on JAVA, the API had my request, but it cannot retrieve the form data I passed(i.e. empty). So the number cannot be encrypted properly</p>\n<pre><code>HttpHeaders header = new HttpHeaders();\nheader.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        \nMultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;(); \nbody.add(&quot;key1&quot;, key1);\nbody.add(&quot;key2&quot;, key2);\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, header);\n        \nString apiUrl = &quot;http://&lt;apiUrl&gt;/&lt;endpoint&gt;?&lt;num&gt;={numToEncrypt}&quot;;\nString numToEncrypt = &quot;AB 12345678&quot;;\nRestTemplate rt = new RestTemplate();\nResponseEntity&lt;String&gt; response = rt.exchange(apiUrl , HttpMethod.GET, requestEntity, String.class, numToEncrypt);\n</code></pre>\n<p>If the API method changed to POST and I edited related code (from <code>HttpMethod.GET</code> to <code>HttpMethod.POST</code>), they are working fine.\nBut API operator do not prefer the changes.</p>\n<p>So my question is, is it possible to send form data via GET by using RestTemplate?</p>\n<p>I am using <code>JAVA-1.8</code> and RestTemplate is from <code>spring-web-5.2.8.RELEASE</code></p>\n"},{"tags":["java","arraylist","scope","pass-by-reference"],"owner":{"account_id":28602928,"reputation":1,"user_id":21899454,"display_name":"Mahesh Phutane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684131536,"answer_count":0,"score":0,"last_activity_date":1684131070,"creation_date":1684130854,"question_id":76251277,"body_markdown":"Conside the below program \r\n\r\n```\r\nclass A{\r\n    public void foo0(){\r\n        ArrayList&lt;Integer&gt; tmp = new ArrayList&lt;&gt;();\r\n        tmp.add(1);\r\n        System.out.println(tmp.size());\r\n        \r\n        foo1(tmp);\r\n        \r\n        System.out.println(tmp.size());\r\n        \r\n        foo2(tmp);\r\n        \r\n        System.out.println(tmp.size());\r\n    }\r\n    \r\n    public void foo1(ArrayList&lt;Integer&gt; tmp){\r\n        tmp = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    public void foo2(ArrayList&lt;Integer&gt; tmp){\r\n        tmp.add(4);\r\n    }\r\n}\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t    A obj = new A();\r\n\t    obj.foo0();\r\n\t    \r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nMy expected answer was 1 0 1 as by considering pass by reference scenario. But the actual output is different\r\nOutput :- 1 1 2","title":"Why the output of below program is like this?","body":"<p>Conside the below program</p>\n<pre><code>class A{\n    public void foo0(){\n        ArrayList&lt;Integer&gt; tmp = new ArrayList&lt;&gt;();\n        tmp.add(1);\n        System.out.println(tmp.size());\n        \n        foo1(tmp);\n        \n        System.out.println(tmp.size());\n        \n        foo2(tmp);\n        \n        System.out.println(tmp.size());\n    }\n    \n    public void foo1(ArrayList&lt;Integer&gt; tmp){\n        tmp = new ArrayList&lt;&gt;();\n    }\n    \n    public void foo2(ArrayList&lt;Integer&gt; tmp){\n        tmp.add(4);\n    }\n}\npublic class Main\n{\n    public static void main(String[] args) {\n        A obj = new A();\n        obj.foo0();\n        \n    }\n}\n</code></pre>\n<p>My expected answer was 1 0 1 as by considering pass by reference scenario. But the actual output is different\nOutput :- 1 1 2</p>\n"},{"tags":["java","api","java-8","stream"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684130422,"post_id":76251163,"comment_id":134465827,"body_markdown":"Stream what? The method internally to use a stream? For it to return a `Stream&lt;AddNewSchoolBean`? Not really clear what you want? Can you chanage `Dao.getEmpDetailsFromUserMst()` to retrurn a `Stream` or is that always a `List`?","body":"Stream what? The method internally to use a stream? For it to return a <code>Stream&lt;AddNewSchoolBean</code>? Not really clear what you want? Can you chanage <code>Dao.getEmpDetailsFromUserMst()</code> to retrurn a <code>Stream</code> or is that always a <code>List</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25196903,"reputation":136,"user_id":19036320,"display_name":"Kirill Vizniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684130751,"creation_date":1684130751,"answer_id":76251265,"question_id":76251163,"body_markdown":"You can simplify even to this\r\n\r\n    @SneakyThrows\r\n    public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\r\n        return emptyIfNull(Dao.getEmpDetailsFromUserMst())\r\n                .stream()\r\n                .map(AddNewSchoolBean::new)\r\n                .toList();\r\n    }\r\n\r\nAnd your AddNewSchoolBean to have Object constructor\r\n\r\n    public class AddNewSchoolBean{\r\n       String employeeId;\r\n       String employeeName;\r\n       String schoolName;\r\n\r\n       public AddNewSchoolBean(Object[] data) {\r\n           this.employeeId = String.valueOf(data[0]);\r\n           this.employeeName = String.valueOf(data[1]);\r\n           this.schoolName = String.valueOf(data[2]);\r\n       }\r\n    }\r\n\r\nSome additional imports required to make it simpler\r\n\r\n    import lombok.SneakyThrows;\r\n    import static org.apache.commons.collections4.ListUtils.emptyIfNull;\r\n\r\nIn this Lambda expression, you first make sure your collection is not null, by using `emptyIfNull` (can be empty, but doesn&#39;t throw NPE), and then you stream through collection and map it to `AddNewSchoolBean` bean/entity via constructor. You can of course use `with` if you wish, but this looks cleaner. And then in the end you collect to `List`. Pleas note this is Immutable result, if you need Mutable, use `.collect(Collectors.toList())`","title":"How to use Stream API with list of object array?","body":"<p>You can simplify even to this</p>\n<pre><code>@SneakyThrows\npublic List&lt;AddNewSchoolBean&gt; getEmployeeList() {\n    return emptyIfNull(Dao.getEmpDetailsFromUserMst())\n            .stream()\n            .map(AddNewSchoolBean::new)\n            .toList();\n}\n</code></pre>\n<p>And your AddNewSchoolBean to have Object constructor</p>\n<pre><code>public class AddNewSchoolBean{\n   String employeeId;\n   String employeeName;\n   String schoolName;\n\n   public AddNewSchoolBean(Object[] data) {\n       this.employeeId = String.valueOf(data[0]);\n       this.employeeName = String.valueOf(data[1]);\n       this.schoolName = String.valueOf(data[2]);\n   }\n}\n</code></pre>\n<p>Some additional imports required to make it simpler</p>\n<pre><code>import lombok.SneakyThrows;\nimport static org.apache.commons.collections4.ListUtils.emptyIfNull;\n</code></pre>\n<p>In this Lambda expression, you first make sure your collection is not null, by using <code>emptyIfNull</code> (can be empty, but doesn't throw NPE), and then you stream through collection and map it to <code>AddNewSchoolBean</code> bean/entity via constructor. You can of course use <code>with</code> if you wish, but this looks cleaner. And then in the end you collect to <code>List</code>. Pleas note this is Immutable result, if you need Mutable, use <code>.collect(Collectors.toList())</code></p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684130835,"creation_date":1684130835,"answer_id":76251274,"question_id":76251163,"body_markdown":"Assuming you want to internally use a `java.util.Stream` I would suggest first to polish/cleanup your code a bit. \r\n\r\n1. You don&#39;t need to split declaration and assignment of the `empList` variable\r\n2. Move the conversion logic into a `private` method. \r\n3. The `if` check for size doesn&#39;t add anything. \r\n\r\n```java\r\npublic List&lt;AddNewSchoolBean&gt; getEmployeeList() {\r\n\r\n    List&lt;AddNewSchoolBean&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    try {\r\n        List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\r\n        for (Object[] obj : empList) {         \r\n            AddNewSchoolBean bean = convert(obj);\r\n            list.add(bean);        \r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return list;\r\n}\r\n\r\nprivate AddNewSchoolBean convert(Object[] empArray) {\r\n  return AddNewSchoolBean.builder()\r\n                    .employeeId((empArray[0]).toString())\r\n                    .employeeName((empArray[1]).toString())\r\n                    .schoolName((empArray[2]).toString())\r\n                    .build();\r\n}\r\n```\r\n\r\nNow assuming you cannot change the `Dao.getEmpDetailsFromUserMst();` you can use the `stream()` method on the `List` to convert it to a `java.util.Stream`. Then you can use `map` to convert the array into an object and finally collect to a list and return it. \r\n\r\n```java\r\npublic List&lt;AddNewSchoolBean&gt; getEmployeeList() {\r\n        List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\r\n        return empList.stream()\r\n                   .map(this::convert)\r\n                   .toList();\r\n}\r\n```\r\n\r\nThis is assuming you are on JDK17 and you need ofcourse the aforementioned `convert` method. ","title":"How to use Stream API with list of object array?","body":"<p>Assuming you want to internally use a <code>java.util.Stream</code> I would suggest first to polish/cleanup your code a bit.</p>\n<ol>\n<li>You don't need to split declaration and assignment of the <code>empList</code> variable</li>\n<li>Move the conversion logic into a <code>private</code> method.</li>\n<li>The <code>if</code> check for size doesn't add anything.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\n\n    List&lt;AddNewSchoolBean&gt; list = new ArrayList&lt;&gt;();\n\n    try {\n        List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\n        for (Object[] obj : empList) {         \n            AddNewSchoolBean bean = convert(obj);\n            list.add(bean);        \n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return list;\n}\n\nprivate AddNewSchoolBean convert(Object[] empArray) {\n  return AddNewSchoolBean.builder()\n                    .employeeId((empArray[0]).toString())\n                    .employeeName((empArray[1]).toString())\n                    .schoolName((empArray[2]).toString())\n                    .build();\n}\n</code></pre>\n<p>Now assuming you cannot change the <code>Dao.getEmpDetailsFromUserMst();</code> you can use the <code>stream()</code> method on the <code>List</code> to convert it to a <code>java.util.Stream</code>. Then you can use <code>map</code> to convert the array into an object and finally collect to a list and return it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\n        List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\n        return empList.stream()\n                   .map(this::convert)\n                   .toList();\n}\n</code></pre>\n<p>This is assuming you are on JDK17 and you need ofcourse the aforementioned <code>convert</code> method.</p>\n"},{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684131049,"creation_date":1684131049,"answer_id":76251291,"question_id":76251163,"body_markdown":"I think the clean way is to map it to `AddNewSchoolBean` and then collect into List:\r\n\r\n    public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\r\n        try {\r\n            List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\r\n    \r\n            return empList.stream()\r\n                    .map(this::createAddNewSchoolBean)\r\n                    .collect(Collectors.toList());\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return Collections.emptyList();\r\n    }\r\n    \r\n    private AddNewSchoolBean createAddNewSchoolBean(Object[] obj) {\r\n        return AddNewSchoolBean.builder()\r\n                .employeeId(String.valueOf(obj[0]))\r\n                .employeeName(String.valueOf(obj[1]))\r\n                .schoolName(String.valueOf(obj[2]))\r\n                .build();\r\n    }","title":"How to use Stream API with list of object array?","body":"<p>I think the clean way is to map it to <code>AddNewSchoolBean</code> and then collect into List:</p>\n<pre><code>public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\n    try {\n        List&lt;Object[]&gt; empList = Dao.getEmpDetailsFromUserMst();\n\n        return empList.stream()\n                .map(this::createAddNewSchoolBean)\n                .collect(Collectors.toList());\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return Collections.emptyList();\n}\n\nprivate AddNewSchoolBean createAddNewSchoolBean(Object[] obj) {\n    return AddNewSchoolBean.builder()\n            .employeeId(String.valueOf(obj[0]))\n            .employeeName(String.valueOf(obj[1]))\n            .schoolName(String.valueOf(obj[2]))\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":24776519,"reputation":19,"user_id":18660094,"display_name":"parikshit verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684131049,"creation_date":1684129489,"question_id":76251163,"body_markdown":"i have this method given below... how can i change this method in stream api.\r\n\r\n```java\r\npublic List&lt;AddNewSchoolBean&gt; getEmployeeList() {\r\n\r\n\t\tList&lt;AddNewSchoolBean&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\t\ttry {\r\n\t\t\tList&lt;Object[]&gt; empList = null;\r\n\r\n\t\t\tempList = Dao.getEmpDetailsFromUserMst();\r\n\r\n\t\t\tif (empList.size() != 0) {\r\n\t\t\t\tfor (Object[] obj : empList) {\r\n\t\t\t\t\tAddNewSchoolBean bean = AddNewSchoolBean.builder()\r\n\t\t\t\t\t\t\t.employeeId((obj[0]).toString())\r\n\t\t\t\t\t\t\t.employeeName((obj[1]).toString())\r\n\t\t\t\t\t\t\t.schoolName((obj[2]).toString())\r\n\t\t\t\t\t\t\t.build();\r\n\t\t\t\t\tlist.add(bean);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n```","title":"How to use Stream API with list of object array?","body":"<p>i have this method given below... how can i change this method in stream api.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;AddNewSchoolBean&gt; getEmployeeList() {\n\n        List&lt;AddNewSchoolBean&gt; list = new ArrayList&lt;&gt;();\n\n        try {\n            List&lt;Object[]&gt; empList = null;\n\n            empList = Dao.getEmpDetailsFromUserMst();\n\n            if (empList.size() != 0) {\n                for (Object[] obj : empList) {\n                    AddNewSchoolBean bean = AddNewSchoolBean.builder()\n                            .employeeId((obj[0]).toString())\n                            .employeeName((obj[1]).toString())\n                            .schoolName((obj[2]).toString())\n                            .build();\n                    list.add(bean);\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","spring-webflux"],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684130400,"creation_date":1684120868,"question_id":76250696,"body_markdown":"I have a plain Spring Boot web application that exposes some REST endpoints via `@RestController`s using the `spring-boot-starter-web` dependency. \r\n\r\nThis application needs to make calls to a GraphQL API on another server. The way I see recommended  online is to use the Spring GraphQL Starter dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nAll working client examples I have found for this starter use Spring WebFlux and it&#39;s reactive WebClient to make the actual calls, which conflicts with and interrupts the performance of the Spring Web controllers (it seems that [Spring WebFlux and Spring Web are incompatible][1]). \r\n\r\nIs there a way to use this Spring Boot GraphQL starter without using WebFlux/WebClient? Is it possible to still use the starter and substitute the WebClient with a plain, synchronous HTTP client? How? If not, what is a good alternative? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53883037/can-i-use-springmvc-and-webflux-together","title":"Using Spring GraphQL Starter alongside Spring Web","body":"<p>I have a plain Spring Boot web application that exposes some REST endpoints via <code>@RestController</code>s using the <code>spring-boot-starter-web</code> dependency.</p>\n<p>This application needs to make calls to a GraphQL API on another server. The way I see recommended  online is to use the Spring GraphQL Starter dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>All working client examples I have found for this starter use Spring WebFlux and it's reactive WebClient to make the actual calls, which conflicts with and interrupts the performance of the Spring Web controllers (it seems that <a href=\"https://stackoverflow.com/questions/53883037/can-i-use-springmvc-and-webflux-together\">Spring WebFlux and Spring Web are incompatible</a>).</p>\n<p>Is there a way to use this Spring Boot GraphQL starter without using WebFlux/WebClient? Is it possible to still use the starter and substitute the WebClient with a plain, synchronous HTTP client? How? If not, what is a good alternative?</p>\n"},{"tags":["java","java-8","java-17","sts","spring-initializr"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684132165,"post_id":76251214,"comment_id":134466103,"body_markdown":"That&#39;s not going to work.  Spring 6.x requires Java 17 or later.   If you want to run on Java 8, you will need to downgrade to Spring 5.3.x or earlier.  See https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions.","body":"That&#39;s not going to work.  Spring 6.x requires Java 17 or later.   If you want to run on Java 8, you will need to downgrade to Spring 5.3.x or earlier.  See <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>."}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684132511,"answer_count":0,"score":0,"last_activity_date":1684130134,"creation_date":1684130134,"question_id":76251214,"body_markdown":"I generated a project with spring initializer with java version 17. Later I downgraded my jdk from version 17 to 8. I changed the environment variable to point to jdk 1.8. Both &quot;mvn -v&quot; and &quot;java --version&quot; command show that I have Java version: 1.8.0_101. But I get this error when I try to clean install my project.\r\n\r\n     bad class file: .m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans- \r\n     6.0.8.jar(org/springframework/beans/factory/annotation/Autowired.class)\r\n\r\n     [ERROR]     class file has wrong version 61.0, should be 52.0\r\n     [ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\nI changed pom.xml  to:\r\n\r\n     &lt;properties&gt;&lt;java.version&gt;8&lt;/java.version&gt;&lt;/properties&gt;\r\n\r\nI also changed the project properties as follow:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JiFdn.jpg\r\n  [2]: https://i.stack.imgur.com/ejBWG.jpg\r\n  [3]: https://i.stack.imgur.com/Hf7UR.jpg","title":"spring tool suite: class file has wrong version 61.0, should be 52.0","body":"<p>I generated a project with spring initializer with java version 17. Later I downgraded my jdk from version 17 to 8. I changed the environment variable to point to jdk 1.8. Both &quot;mvn -v&quot; and &quot;java --version&quot; command show that I have Java version: 1.8.0_101. But I get this error when I try to clean install my project.</p>\n<pre><code> bad class file: .m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans- \n 6.0.8.jar(org/springframework/beans/factory/annotation/Autowired.class)\n\n [ERROR]     class file has wrong version 61.0, should be 52.0\n [ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>I changed pom.xml  to:</p>\n<pre><code> &lt;properties&gt;&lt;java.version&gt;8&lt;/java.version&gt;&lt;/properties&gt;\n</code></pre>\n<p>I also changed the project properties as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/JiFdn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JiFdn.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ejBWG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejBWG.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Hf7UR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hf7UR.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1434546175,"post_id":30892207,"comment_id":49823989,"body_markdown":"What do you mean by &quot;check content type&quot;?","body":"What do you mean by &quot;check content type&quot;?"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1434546252,"post_id":30892207,"comment_id":49824057,"body_markdown":"determine Mime type based on content of file but not by extension","body":"determine Mime type based on content of file but not by extension"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1434546312,"post_id":30892207,"comment_id":49824112,"body_markdown":"Apache tika is supposed to do that but its not working","body":"Apache tika is supposed to do that but its not working"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1434546360,"post_id":30892207,"comment_id":49824157,"body_markdown":"From the code you pasted, how did you find out it uses the extension only? It clearly says `// Then check the file content if necessary`.","body":"From the code you pasted, how did you find out it uses the extension only? It clearly says <code>&#47;&#47; Then check the file content if necessary</code>."},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1434546445,"post_id":30892207,"comment_id":49824221,"body_markdown":"@Thomas I didn&#39;t say its checking for extension only...its supposed to probe file content also but its not doing that because when I change the file extension manually in the computer and then run the program its not checking the file content","body":"@Thomas I didn&#39;t say its checking for extension only...its supposed to probe file content also but its not doing that because when I change the file extension manually in the computer and then run the program its not checking the file content"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1434546631,"post_id":30892207,"comment_id":49824388,"body_markdown":"Is it &quot;It is not checking the file content&quot; (how did you find out?) or &quot;It does not recognize the MIME type correctly&quot;?","body":"Is it &quot;It is not checking the file content&quot; (how did you find out?) or &quot;It does not recognize the MIME type correctly&quot;?"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1434546671,"post_id":30892207,"comment_id":49824427,"body_markdown":"@Thomas Run it in your system and find out if its working correctly","body":"@Thomas Run it in your system and find out if its working correctly"},{"owner":{"account_id":5500680,"reputation":5767,"user_id":4370109,"display_name":"Brian Tompsett - 汤莱恩"},"score":0,"creation_date":1684152398,"post_id":30892207,"comment_id":134470318,"body_markdown":"Does this answer your question? [Test if a file is an image file](https://stackoverflow.com/questions/9643228/test-if-a-file-is-an-image-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9643228/test-if-a-file-is-an-image-file\">Test if a file is an image file</a>"}],"answers":[{"tags":[],"owner":{"account_id":1807226,"reputation":1078,"user_id":1644091,"accept_rate":92,"display_name":"dijkstra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434546071,"creation_date":1434546071,"answer_id":30892402,"question_id":30892207,"body_markdown":"You can use [Files.probeContentType(path)][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29","title":"Detect file type based on content","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\" rel=\"nofollow\">Files.probeContentType(path)</a></p>\n"},{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1434546826,"creation_date":1434546826,"answer_id":30892702,"question_id":30892207,"body_markdown":"The code checks the file extension first and returns the MIME type based on that, if it finds a result. If you want it to check the content first, just switch the two statements:\r\n\r\n    public String probeContentType(Path path) throws IOException {\r\n\r\n        // Check contents first\r\n        String fileContentDetect = tika.detect(path.toFile());\r\n        if (!fileContentDetect.equals(MimeTypes.OCTET_STREAM)) {\r\n            return fileContentDetect;\r\n        }\r\n\r\n        // Try file name only if content search was not successful\r\n        String fileNameDetect = tika.detect(path.toString());\r\n        if (!fileNameDetect.equals(MimeTypes.OCTET_STREAM)) {\r\n            return fileNameDetect;\r\n        }\r\n\r\n        // Specification says to return null if we could not \r\n        // conclusively determine the file type\r\n        return null;\r\n    }\r\n\r\nBe aware that this may have huge performance impact.","title":"Detect file type based on content","body":"<p>The code checks the file extension first and returns the MIME type based on that, if it finds a result. If you want it to check the content first, just switch the two statements:</p>\n\n<pre><code>public String probeContentType(Path path) throws IOException {\n\n    // Check contents first\n    String fileContentDetect = tika.detect(path.toFile());\n    if (!fileContentDetect.equals(MimeTypes.OCTET_STREAM)) {\n        return fileContentDetect;\n    }\n\n    // Try file name only if content search was not successful\n    String fileNameDetect = tika.detect(path.toString());\n    if (!fileNameDetect.equals(MimeTypes.OCTET_STREAM)) {\n        return fileNameDetect;\n    }\n\n    // Specification says to return null if we could not \n    // conclusively determine the file type\n    return null;\n}\n</code></pre>\n\n<p>Be aware that this may have huge performance impact.</p>\n"}],"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3577,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30892702,"answer_count":2,"score":0,"last_activity_date":1684129326,"creation_date":1434545581,"question_id":30892207,"body_markdown":"Tried the following:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.spi.FileTypeDetector;\r\n    import org.apache.tika.Tika;\r\n    import org.apache.tika.mime.MimeTypes;\r\n    \r\n    /**\r\n     *\r\n     * @author kiriti.k\r\n     */\r\n    public class TikaFileTypeDetector {\r\n    \r\n        private final Tika tika = new Tika();\r\n    \r\n        public TikaFileTypeDetector() {\r\n            super();\r\n        }\r\n    \r\n        public String probeContentType(Path path) throws IOException {\r\n            // Try to detect based on the file name only for efficiency\r\n            String fileNameDetect = tika.detect(path.toString());\r\n            if (!fileNameDetect.equals(MimeTypes.OCTET_STREAM)) {\r\n                return fileNameDetect;\r\n            }\r\n    \r\n            // Then check the file content if necessary\r\n            String fileContentDetect = tika.detect(path.toFile());\r\n            if (!fileContentDetect.equals(MimeTypes.OCTET_STREAM)) {\r\n                return fileContentDetect;\r\n            }\r\n    \r\n            // Specification says to return null if we could not \r\n            // conclusively determine the file type\r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Tika tika = new Tika();\r\n    \r\n            // expects file path as the program argument\r\n            if (args.length != 1) {\r\n                printUsage();\r\n                return;\r\n            }\r\n    \r\n            Path path = Paths.get(args[0]);\r\n    \r\n            TikaFileTypeDetector detector = new TikaFileTypeDetector();\r\n            // Analyse the file - first based on file name for efficiency.\r\n            // If cannot determine based on name and then analyse content\r\n            String contentType = detector.probeContentType(path);\r\n    \r\n            System.out.println(&quot;File is of type - &quot; + contentType);\r\n        }\r\n    \r\n        public static void printUsage() {\r\n            System.out.print(&quot;Usage: java -classpath ... &quot;\r\n                    + TikaFileTypeDetector.class.getName()\r\n                    + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThe above program is checking based on file extension only. How do I make it to check content type also(mime) and then determine the type. I am using tika-app-1.8.jar in netbean 8.0.2. What am I missing?","title":"Detect file type based on content","body":"<p>Tried the following:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.spi.FileTypeDetector;\nimport org.apache.tika.Tika;\nimport org.apache.tika.mime.MimeTypes;\n\n/**\n *\n * @author kiriti.k\n */\npublic class TikaFileTypeDetector {\n\n    private final Tika tika = new Tika();\n\n    public TikaFileTypeDetector() {\n        super();\n    }\n\n    public String probeContentType(Path path) throws IOException {\n        // Try to detect based on the file name only for efficiency\n        String fileNameDetect = tika.detect(path.toString());\n        if (!fileNameDetect.equals(MimeTypes.OCTET_STREAM)) {\n            return fileNameDetect;\n        }\n\n        // Then check the file content if necessary\n        String fileContentDetect = tika.detect(path.toFile());\n        if (!fileContentDetect.equals(MimeTypes.OCTET_STREAM)) {\n            return fileContentDetect;\n        }\n\n        // Specification says to return null if we could not \n        // conclusively determine the file type\n        return null;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        Tika tika = new Tika();\n\n        // expects file path as the program argument\n        if (args.length != 1) {\n            printUsage();\n            return;\n        }\n\n        Path path = Paths.get(args[0]);\n\n        TikaFileTypeDetector detector = new TikaFileTypeDetector();\n        // Analyse the file - first based on file name for efficiency.\n        // If cannot determine based on name and then analyse content\n        String contentType = detector.probeContentType(path);\n\n        System.out.println(\"File is of type - \" + contentType);\n    }\n\n    public static void printUsage() {\n        System.out.print(\"Usage: java -classpath ... \"\n                + TikaFileTypeDetector.class.getName()\n                + \" \");\n    }\n}\n</code></pre>\n\n<p>The above program is checking based on file extension only. How do I make it to check content type also(mime) and then determine the type. I am using tika-app-1.8.jar in netbean 8.0.2. What am I missing?</p>\n"},{"tags":["java","multithreading","locking"],"answers":[{"tags":[],"owner":{"account_id":20620097,"reputation":26,"user_id":15137317,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684052407,"creation_date":1684052407,"answer_id":76246508,"question_id":76246481,"body_markdown":"Yes, using a Map&lt;String, Object&gt; would be a suitable approach to implement the getLock function in order to achieve synchronization based on the partition property of the Car objects. The map can be used to store lock objects for each unique partition value.\r\n\r\nan example implementation:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    class Car {\r\n        public String partition;\r\n        // ...\r\n    }\r\n    \r\n    public class CarManager {\r\n        private Map&lt;String, Object&gt; lockMap = new HashMap&lt;&gt;();\r\n    \r\n        private Object getLock(Car car) {\r\n            String partition = car.partition;\r\n            synchronized (lockMap) {\r\n                // Check if a lock object exists for the partition\r\n                if (!lockMap.containsKey(partition)) {\r\n                    // If not, create a new lock object and store it in the map\r\n                    lockMap.put(partition, new Object());\r\n                }\r\n    \r\n                // Return the lock object for the partition\r\n                return lockMap.get(partition);\r\n            }\r\n        }\r\n    \r\n        private void doSomething(Car car) {\r\n            Object obj = getLock(car);\r\n            synchronized (obj) {\r\n                // do work here\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java lock over object(s) with some partitioning property","body":"<p>Yes, using a Map&lt;String, Object&gt; would be a suitable approach to implement the getLock function in order to achieve synchronization based on the partition property of the Car objects. The map can be used to store lock objects for each unique partition value.</p>\n<p>an example implementation:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nclass Car {\n    public String partition;\n    // ...\n}\n\npublic class CarManager {\n    private Map&lt;String, Object&gt; lockMap = new HashMap&lt;&gt;();\n\n    private Object getLock(Car car) {\n        String partition = car.partition;\n        synchronized (lockMap) {\n            // Check if a lock object exists for the partition\n            if (!lockMap.containsKey(partition)) {\n                // If not, create a new lock object and store it in the map\n                lockMap.put(partition, new Object());\n            }\n\n            // Return the lock object for the partition\n            return lockMap.get(partition);\n        }\n    }\n\n    private void doSomething(Car car) {\n        Object obj = getLock(car);\n        synchronized (obj) {\n            // do work here\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684128493,"creation_date":1684117547,"answer_id":76250524,"question_id":76246481,"body_markdown":"If you definitely want to use locking, I would have a look at a striped lock. Some pseudo-code:\r\n\r\n```\r\nclass CarManager{\r\n    final Object[] lockStripe = new Object[Runtime.availableProcessors()*4];\r\n\r\n     public CarManager(){\r\n        for(int k=0;k&lt;lockStripe.length;k++){\r\n           lockStripe[k]=new Object();\r\n        }\r\n     }\r\n\r\n     Object getLock(Car car){\r\n\t     int hash = car.partition.hashCode();\r\n\t     int lockIndex;\r\n\t\r\n\t       if (hash == Integer.MIN_VALUE) {\r\n              lockIndex = 0;\r\n           } else {\r\n      \t       lockIndex = abs(hash) % lockStripe.length;\r\n           }\r\n      \r\n           return lockStripe[lockIndex];\r\n     }\r\n\r\n     public void doSomething(Car car){\r\n\t     synchronized(getLock(car)){\r\n            ...\r\n\t     }\r\n     }\r\n```\r\n\r\nThis approach will ensure that:\r\n1) cars in the same partition will end up with the same lock. \r\n2) cars in different partitions have a low probability of ending up with the same lock. And you can make a trade-off between memory utilization and contention by changing the length of the lockStripe.\r\n3) no global lock is acquired\r\n4) no locks on objects you don&#39;t own like locking on the partition object. \r\n5) no memory leaks due to retaining locks of objects that do not exist any longer.\r\n6) no data races","title":"Java lock over object(s) with some partitioning property","body":"<p>If you definitely want to use locking, I would have a look at a striped lock. Some pseudo-code:</p>\n<pre><code>class CarManager{\n    final Object[] lockStripe = new Object[Runtime.availableProcessors()*4];\n\n     public CarManager(){\n        for(int k=0;k&lt;lockStripe.length;k++){\n           lockStripe[k]=new Object();\n        }\n     }\n\n     Object getLock(Car car){\n         int hash = car.partition.hashCode();\n         int lockIndex;\n    \n           if (hash == Integer.MIN_VALUE) {\n              lockIndex = 0;\n           } else {\n               lockIndex = abs(hash) % lockStripe.length;\n           }\n      \n           return lockStripe[lockIndex];\n     }\n\n     public void doSomething(Car car){\n         synchronized(getLock(car)){\n            ...\n         }\n     }\n</code></pre>\n<p>This approach will ensure that:</p>\n<ol>\n<li>cars in the same partition will end up with the same lock.</li>\n<li>cars in different partitions have a low probability of ending up with the same lock. And you can make a trade-off between memory utilization and contention by changing the length of the lockStripe.</li>\n<li>no global lock is acquired</li>\n<li>no locks on objects you don't own like locking on the partition object.</li>\n<li>no memory leaks due to retaining locks of objects that do not exist any longer.</li>\n<li>no data races</li>\n</ol>\n"}],"owner":{"account_id":3547973,"reputation":1492,"user_id":2963436,"accept_rate":40,"display_name":"Maayan Hope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76250524,"answer_count":2,"score":1,"last_activity_date":1684128493,"creation_date":1684052018,"question_id":76246481,"body_markdown":"I have a class with some property (partition in the example below)\r\n\r\n\r\n    class Car {\r\n       public String partition;\r\n       ....\r\n    }\r\n\r\nand I have a function \r\n\r\n    private void doSomething(Car car){\r\n       //  \r\n         Object obj = getLock(car); // should write this function\r\n         synchronized (obj){\r\n              // do work here\r\n         }\r\n\r\n    }\r\n\r\nIf I have 2 instances of the Car object\r\n\r\nfrom 2 different threads the function doSomething is called. the synchronize block should sync only objects with the same &quot;partition&quot; value. When 2 car object have a different partition key they can both enter the block of code at the same time\r\n\r\n\r\nI was wondering how to write the &quot;getLock&quot; function. Should I use some map\r\n\r\n    Map&lt;String,Object&gt; ? \r\n\r\nIs there a better way prevent 2 object with same property to enter the critical section?\r\n\r\n \r\n\r\n","title":"Java lock over object(s) with some partitioning property","body":"<p>I have a class with some property (partition in the example below)</p>\n<pre><code>class Car {\n   public String partition;\n   ....\n}\n</code></pre>\n<p>and I have a function</p>\n<pre><code>private void doSomething(Car car){\n   //  \n     Object obj = getLock(car); // should write this function\n     synchronized (obj){\n          // do work here\n     }\n\n}\n</code></pre>\n<p>If I have 2 instances of the Car object</p>\n<p>from 2 different threads the function doSomething is called. the synchronize block should sync only objects with the same &quot;partition&quot; value. When 2 car object have a different partition key they can both enter the block of code at the same time</p>\n<p>I was wondering how to write the &quot;getLock&quot; function. Should I use some map</p>\n<pre><code>Map&lt;String,Object&gt; ? \n</code></pre>\n<p>Is there a better way prevent 2 object with same property to enter the critical section?</p>\n"},{"tags":["java","spring-boot","server","client"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1684197431,"post_id":76250991,"comment_id":134479075,"body_markdown":"You may want to read [ask]","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684127731,"creation_date":1684127731,"answer_id":76251037,"question_id":76250991,"body_markdown":"Most common reason for this error is that the Config Server is not running or is not accessible on specified port. So check if the Config Server is up and running on the specified URL (http://localhost:8888/microservice-config/) or (http://localhost:8888). You can test this by opening the URL in a web browser.\r\n \r\nIf you see the config content in browser, then verify that the Config Client has the correct URL of the Config Server configured in its configuration file. You can check the bootstrap.yml or application.yml file in the Config Client project to ensure that the URL is correct.\r\nIn final step check config server project dependencies and configs. \r\n[Here][1] is a good reference\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-configuration","title":"config server and config client in java spring boot","body":"<p>Most common reason for this error is that the Config Server is not running or is not accessible on specified port. So check if the Config Server is up and running on the specified URL (http://localhost:8888/microservice-config/) or (http://localhost:8888). You can test this by opening the URL in a web browser.</p>\n<p>If you see the config content in browser, then verify that the Config Client has the correct URL of the Config Server configured in its configuration file. You can check the bootstrap.yml or application.yml file in the Config Client project to ensure that the URL is correct.\nIn final step check config server project dependencies and configs.\n<a href=\"https://www.baeldung.com/spring-cloud-configuration\" rel=\"nofollow noreferrer\">Here</a> is a good reference</p>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684127731,"creation_date":1684127074,"question_id":76250991,"body_markdown":"Fetching config from server at : http://localhost:8888\r\n2023-05-15T10:29:29.732+05:30  INFO 14600 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Exception on Url - http://localhost:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: no further information. Will be trying the next url if available\r\n2023-05-15T10:29:29.732+05:30  WARN 14600 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: no further information\r\n\r\nwhen i try to connect config server with config client im getting error please assist.","title":"config server and config client in java spring boot","body":"<p>Fetching config from server at : http://localhost:8888\n2023-05-15T10:29:29.732+05:30  INFO 14600 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Exception on Url - http://localhost:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: no further information. Will be trying the next url if available\n2023-05-15T10:29:29.732+05:30  WARN 14600 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: no further information</p>\n<p>when i try to connect config server with config client im getting error please assist.</p>\n"},{"tags":["java","spring-boot","apache-camel","jsch"],"owner":{"account_id":25786666,"reputation":1,"user_id":19531348,"display_name":"Aswath Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684127036,"creation_date":1684125638,"question_id":76250923,"body_markdown":"I have two active connections: \r\n\r\n1.connectionA\r\n2.connectionB\r\n\r\nMy LoadBalancer code looks like this:\r\n\r\n\r\n```\r\nmethodA() {\r\nconfigureOnExceptions();\r\nLoadBalanceDefinition loadBalanceDefinition = \r\n         from(uri)\r\n         .onCompletion().\r\n         .onCompleteOnly()\r\n         .process(successfulSubmissionProcessor)\r\n         .end()\r\n         .loadBalance()\r\n         .failover(1, true, true, true); // maximumFailoverAttempts, inheritErrorHandler, roundrobin,                           //sticky\r\n\r\nfor (connection name: connectionList) {\r\n     String route = build route using + connectionA or connectionB accordingly;\r\n     loadBalanceDefinition.to(route);\r\n}\r\nloadBalanceDefinition.end();\r\n}\r\n    \r\nprivate void configureOnExceptions() {\r\n  onException(Throwable.class)\r\n  .handled(false)\r\n  .maximumRedeliveries(3)\r\n  .redeliveryDelay(3000)\r\n  .useOriginalMessage()\r\n  .process(exceptionHandlingProcessor)\r\n  .end();\r\n} \r\n```\r\n\r\n\r\nExpectation:\r\n\r\n1. When the connectionA throws exception: Maximum retries : 3 times\r\n2. and move on to connectionB\r\n\r\nActual:\r\n1. It did not move over to connectionB\r\n\r\nQuestion:\r\n1. Does failover = 1 and retries = 3 impact the moving on to next connection?\r\n2. did i make any mistakes?\r\n\r\n","title":"Apche camel SFTP transfer failover not moving to the next active connection in java","body":"<p>I have two active connections:</p>\n<p>1.connectionA\n2.connectionB</p>\n<p>My LoadBalancer code looks like this:</p>\n<pre><code>methodA() {\nconfigureOnExceptions();\nLoadBalanceDefinition loadBalanceDefinition = \n         from(uri)\n         .onCompletion().\n         .onCompleteOnly()\n         .process(successfulSubmissionProcessor)\n         .end()\n         .loadBalance()\n         .failover(1, true, true, true); // maximumFailoverAttempts, inheritErrorHandler, roundrobin,                           //sticky\n\nfor (connection name: connectionList) {\n     String route = build route using + connectionA or connectionB accordingly;\n     loadBalanceDefinition.to(route);\n}\nloadBalanceDefinition.end();\n}\n    \nprivate void configureOnExceptions() {\n  onException(Throwable.class)\n  .handled(false)\n  .maximumRedeliveries(3)\n  .redeliveryDelay(3000)\n  .useOriginalMessage()\n  .process(exceptionHandlingProcessor)\n  .end();\n} \n</code></pre>\n<p>Expectation:</p>\n<ol>\n<li>When the connectionA throws exception: Maximum retries : 3 times</li>\n<li>and move on to connectionB</li>\n</ol>\n<p>Actual:</p>\n<ol>\n<li>It did not move over to connectionB</li>\n</ol>\n<p>Question:</p>\n<ol>\n<li>Does failover = 1 and retries = 3 impact the moving on to next connection?</li>\n<li>did i make any mistakes?</li>\n</ol>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1326431260,"creation_date":1326431260,"answer_id":8846189,"question_id":8846173,"body_markdown":"You can always use `substring`:\r\n\r\n    String loginToken = getName().toString();\r\n    loginToken = loginToken.substring(1, loginToken.length() - 1);","title":"How to remove the first and last character of a string?","body":"<p>You can always use <code>substring</code>:</p>\n\n<pre><code>String loginToken = getName().toString();\nloginToken = loginToken.substring(1, loginToken.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"down_vote_count":4,"up_vote_count":217,"is_accepted":true,"score":213,"last_activity_date":1640278237,"creation_date":1326431497,"answer_id":8846218,"question_id":8846173,"body_markdown":"You need to find the index of `[` and `]`  then `substring`. (Here `[` is always at start and `]` is at end):\r\n\r\n    String loginToken = &quot;[wdsd34svdf]&quot;;\r\n    System.out.println( loginToken.substring( 1, loginToken.length() - 1 ) );","title":"How to remove the first and last character of a string?","body":"<p>You need to find the index of <code>[</code> and <code>]</code>  then <code>substring</code>. (Here <code>[</code> is always at start and <code>]</code> is at end):</p>\n<pre><code>String loginToken = &quot;[wdsd34svdf]&quot;;\nSystem.out.println( loginToken.substring( 1, loginToken.length() - 1 ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209911,"reputation":375,"user_id":461229,"accept_rate":100,"display_name":"V9801"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355967940,"creation_date":1343259287,"answer_id":11660257,"question_id":8846173,"body_markdown":"I had a similar scenario, and I thought that something like \r\n    \r\n    str.replaceAll(&quot;\\[|\\]&quot;, &quot;&quot;);\r\n\r\n\r\nlooked cleaner. Of course, if your token might have brackets in it, that wouldn&#39;t work.","title":"How to remove the first and last character of a string?","body":"<p>I had a similar scenario, and I thought that something like </p>\n\n<pre><code>str.replaceAll(\"\\[|\\]\", \"\");\n</code></pre>\n\n<p>looked cleaner. Of course, if your token might have brackets in it, that wouldn't work.</p>\n"},{"tags":[],"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1655290557,"creation_date":1377040453,"answer_id":18346416,"question_id":8846173,"body_markdown":"Another solution for this issue is use commons-lang (since version 2.0) `StringUtils.substringBetween(String str, String open, String close)` method. Main advantage is that it&#39;s null safe operation.\r\n\r\n    StringUtils.substringBetween(&quot;[wdsd34svdf]&quot;, &quot;[&quot;, &quot;]&quot;); // returns wdsd34svdf","title":"How to remove the first and last character of a string?","body":"<p>Another solution for this issue is use commons-lang (since version 2.0) <code>StringUtils.substringBetween(String str, String open, String close)</code> method. Main advantage is that it's null safe operation.</p>\n<pre><code>StringUtils.substringBetween(&quot;[wdsd34svdf]&quot;, &quot;[&quot;, &quot;]&quot;); // returns wdsd34svdf\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850210,"reputation":2240,"user_id":2447581,"accept_rate":78,"display_name":"phibao37"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1439051741,"creation_date":1439051741,"answer_id":31896180,"question_id":8846173,"body_markdown":"This is generic solution:\r\n\r\n    str.replaceAll(&quot;^.|.$&quot;, &quot;&quot;)","title":"How to remove the first and last character of a string?","body":"<p>This is generic solution:</p>\n\n<pre><code>str.replaceAll(\"^.|.$\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434404,"reputation":93,"user_id":2124665,"display_name":"Andriy Fedotov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484607243,"creation_date":1484607243,"answer_id":41686335,"question_id":8846173,"body_markdown":"This way you can remove 1 leading &quot;[&quot; and 1 trailing &quot;]&quot; character. If your string happen to not start with &quot;[&quot; or end with &quot;]&quot; it won&#39;t remove anything:\r\n\r\n    str.replaceAll(&quot;^\\\\[|\\\\]$&quot;, &quot;&quot;)","title":"How to remove the first and last character of a string?","body":"<p>This way you can remove 1 leading \"[\" and 1 trailing \"]\" character. If your string happen to not start with \"[\" or end with \"]\" it won't remove anything:</p>\n\n<pre><code>str.replaceAll(\"^\\\\[|\\\\]$\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4718602,"reputation":2942,"user_id":3817152,"accept_rate":67,"display_name":"Deb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527577845,"creation_date":1527577845,"answer_id":50578343,"question_id":8846173,"body_markdown":"`StringUtils`&#39;s `removeStart` and `removeEnd` method help to remove string from start and end of a string.\r\n\r\nIn this case we could also use combination of this two method\r\n\r\n    String string = &quot;[wdsd34svdf]&quot;;\r\n    System.out.println(StringUtils.removeStart(StringUtils.removeEnd(string, &quot;]&quot;), &quot;[&quot;));","title":"How to remove the first and last character of a string?","body":"<p><code>StringUtils</code>'s <code>removeStart</code> and <code>removeEnd</code> method help to remove string from start and end of a string.</p>\n\n<p>In this case we could also use combination of this two method</p>\n\n<pre><code>String string = \"[wdsd34svdf]\";\nSystem.out.println(StringUtils.removeStart(StringUtils.removeEnd(string, \"]\"), \"[\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13736536,"reputation":17,"user_id":9912671,"display_name":"Padma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528459909,"creation_date":1528453887,"answer_id":50758666,"question_id":8846173,"body_markdown":"**This will gives you basic idea**\r\n\r\n       \r\n        String str=&quot;&quot;;\r\n\t\tString str1=&quot;&quot;;\r\n\t\tScanner S=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the string&quot;);\r\n\t\tstr=S.nextLine();\r\n\t\tint length=str.length();\r\n\t\tfor(int i=0;i&lt;length;i++)\r\n\t\t{\r\n\t\t\tstr1=str.substring(1, length-1);\r\n\t\t}\r\n\t\tSystem.out.println(str1);","title":"How to remove the first and last character of a string?","body":"<p><strong>This will gives you basic idea</strong></p>\n\n<pre><code>    String str=\"\";\n    String str1=\"\";\n    Scanner S=new Scanner(System.in);\n    System.out.println(\"Enter the string\");\n    str=S.nextLine();\n    int length=str.length();\n    for(int i=0;i&lt;length;i++)\n    {\n        str1=str.substring(1, length-1);\n    }\n    System.out.println(str1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17304251,"reputation":17,"user_id":12533328,"display_name":"chidanand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576272625,"creation_date":1576264027,"answer_id":59328469,"question_id":8846173,"body_markdown":"this is perfectly working fine\r\n\r\n```java\r\nString str = &quot;[wdsd34svdf]&quot;;\r\n//String str1 = str.replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\nString str1 = str.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\nSystem.out.println(str1);\r\n\r\n\r\nString strr = &quot;[wdsd(340) svdf]&quot;;\r\nString strr1 = str.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\nSystem.out.println(strr1);\r\n```","title":"How to remove the first and last character of a string?","body":"<p>this is perfectly working fine</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String str = \"[wdsd34svdf]\";\n//String str1 = str.replace(\"[\",\"\").replace(\"]\", \"\");\nString str1 = str.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(str1);\n\n\nString strr = \"[wdsd(340) svdf]\";\nString strr1 = str.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(strr1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429264,"reputation":613,"user_id":8073649,"display_name":"hyung jun yoo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586424399,"creation_date":1586424399,"answer_id":61117932,"question_id":8846173,"body_markdown":"In Kotlin\r\n\r\n    private fun removeLastChar(str: String?): String? {\r\n        return if (str == null || str.isEmpty()) str else str.substring(0, str.length - 1)\r\n    }","title":"How to remove the first and last character of a string?","body":"<p>In Kotlin</p>\n\n<pre><code>private fun removeLastChar(str: String?): String? {\n    return if (str == null || str.isEmpty()) str else str.substring(0, str.length - 1)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12110619,"reputation":173,"user_id":8847579,"display_name":"Abhijit Rajmane"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598885257,"creation_date":1598885257,"answer_id":63673043,"question_id":8846173,"body_markdown":"Try this to remove the first and last bracket of string ex.[1,2,3]\r\n\r\n    String s =str.replaceAll(&quot;[&quot;, &quot;&quot;).replaceAll(&quot;]&quot;, &quot;&quot;);\r\n\r\nExptected result = 1,2,3\r\n","title":"How to remove the first and last character of a string?","body":"<p>Try this to remove the first and last bracket of string ex.[1,2,3]</p>\n<pre><code>String s =str.replaceAll(&quot;[&quot;, &quot;&quot;).replaceAll(&quot;]&quot;, &quot;&quot;);\n</code></pre>\n<p>Exptected result = 1,2,3</p>\n"},{"tags":[],"owner":{"account_id":28480081,"reputation":1,"user_id":21794174,"display_name":"Madhanprasath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684126157,"creation_date":1684126157,"answer_id":76250945,"question_id":8846173,"body_markdown":"  **To Remove the First and Last character in string in JAVA**\r\nfirst to get a string, use substring method to print.\r\n\r\n    Scanner sc=new Scanner(System.in);\r\n    String str=sc.next();\r\n    System.out.println(str.substring(1,a.length()-1));","title":"How to remove the first and last character of a string?","body":"<p><strong>To Remove the First and Last character in string in JAVA</strong>\nfirst to get a string, use substring method to print.</p>\n<pre><code>Scanner sc=new Scanner(System.in);\nString str=sc.next();\nSystem.out.println(str.substring(1,a.length()-1));\n</code></pre>\n"}],"owner":{"account_id":1163923,"reputation":1660,"user_id":1142914,"accept_rate":91,"display_name":"Sampath Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260827,"favorite_count":0,"down_vote_count":4,"up_vote_count":110,"accepted_answer_id":8846218,"answer_count":12,"score":106,"last_activity_date":1684126157,"creation_date":1326431115,"question_id":8846173,"body_markdown":"I have worked in a SOAP message to get the LoginToken from a Webservice, and store that LoginToken as a String. U used `System.out.println(LoginToken);` to print the value. This prints `[wdsd34svdf]`, but I want only `wdsd34svdf`. How can I remove these square brackets at the start and end of the output?\r\n\r\nExample:\r\n\r\n    String LoginToken=getName().toString();\r\n    System.out.println(&quot;LoginToken&quot; + LoginToken);\r\n\r\nThe output is: `[wdsd34svdf]`.\r\n\r\nI want just `wdsd34svdf`","title":"How to remove the first and last character of a string?","body":"<p>I have worked in a SOAP message to get the LoginToken from a Webservice, and store that LoginToken as a String. U used <code>System.out.println(LoginToken);</code> to print the value. This prints <code>[wdsd34svdf]</code>, but I want only <code>wdsd34svdf</code>. How can I remove these square brackets at the start and end of the output?</p>\n<p>Example:</p>\n<pre><code>String LoginToken=getName().toString();\nSystem.out.println(&quot;LoginToken&quot; + LoginToken);\n</code></pre>\n<p>The output is: <code>[wdsd34svdf]</code>.</p>\n<p>I want just <code>wdsd34svdf</code></p>\n"},{"tags":["java","lucene","alfresco"],"answers":[{"tags":[],"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491379928,"creation_date":1490929122,"answer_id":43131645,"question_id":43131644,"body_markdown":"The following Java method gets the NodeRef of the Alfresco document or space you specify:\r\n\r\n    /**\r\n     * Get a NodeRef by its path.\r\n     * @path as displayed by the Node Browser.\r\n     * @return the NodeRef, or null if no NodeRef matches this path.\r\n     */\r\n    private NodeRef getNode(String path) {\r\n        logger.debug(&quot;Getting NodeRef for path:\\&quot;&quot; + path + &quot;\\&quot;&quot;);\r\n        ResultSet results = null;\r\n        try {\r\n            StoreRef storeRef = new StoreRef(StoreRef.PROTOCOL_WORKSPACE, &quot;SpacesStore&quot;);\r\n            results = searchService.query(storeRef, SearchService.LANGUAGE_LUCENE,\r\n                &quot;PATH:\\&quot;&quot; + path + &quot;\\&quot;&quot;);\r\n            if (results.length() == 0) {\r\n                logger.debug(&quot;Zero matches for path: &quot; + path);\r\n                return null;\r\n            }\r\n            NodeRef nodeRef = results.getNodeRef(0);\r\n            logger.debug(&quot;NodeRef for \\&quot;&quot; + path + &quot;\\&quot; is &quot; + nodeRef);\r\n            return nodeRef;\r\n        }\r\n        catch(Exception e) {\r\n            logger.debug(&quot;Exception while searching for path: &quot; + path, e);\r\n            if (results != null) {\r\n                results.close();\r\n            }\r\n            return null; // The node does not exist\r\n        }\r\n        finally {\r\n            if (results != null) {\r\n                results.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    private SearchService searchService; // Be sure to set this, probably via Spring.\r\n\r\nBe aware that each level in `path` must:\r\n\r\n- have a namespace\r\n- be escaped by ISO9075 (in Java code: `ISO9075.encode(level)`)\r\n\r\nExamples:\r\n\r\n- /app:company_home/app:dictionary/app:space_templates/cm:MyTemplate\r\n- /app:company_home/app:shared/cm:abc/cm:def/cm:My_x0020_Document.txt\r\n- /app:company_home/app:shared/cm:_x0031_23\r\n\r\nTo find out what is the path of a particular document or folder, the Node Browser (in Admin Tools) is your friend:\r\n\r\n[![Primary path in Alfresco Node Browser, ISO9075][1]][1]\r\n\r\n*I make the method above public domain, please fix or comment if you notice anything that can be improved, thanks! :-)*\r\n\r\n  [1]: https://i.stack.imgur.com/6J92D.png","title":"Get Alfresco NodeRef by path","body":"<p>The following Java method gets the NodeRef of the Alfresco document or space you specify:</p>\n\n<pre><code>/**\n * Get a NodeRef by its path.\n * @path as displayed by the Node Browser.\n * @return the NodeRef, or null if no NodeRef matches this path.\n */\nprivate NodeRef getNode(String path) {\n    logger.debug(\"Getting NodeRef for path:\\\"\" + path + \"\\\"\");\n    ResultSet results = null;\n    try {\n        StoreRef storeRef = new StoreRef(StoreRef.PROTOCOL_WORKSPACE, \"SpacesStore\");\n        results = searchService.query(storeRef, SearchService.LANGUAGE_LUCENE,\n            \"PATH:\\\"\" + path + \"\\\"\");\n        if (results.length() == 0) {\n            logger.debug(\"Zero matches for path: \" + path);\n            return null;\n        }\n        NodeRef nodeRef = results.getNodeRef(0);\n        logger.debug(\"NodeRef for \\\"\" + path + \"\\\" is \" + nodeRef);\n        return nodeRef;\n    }\n    catch(Exception e) {\n        logger.debug(\"Exception while searching for path: \" + path, e);\n        if (results != null) {\n            results.close();\n        }\n        return null; // The node does not exist\n    }\n    finally {\n        if (results != null) {\n            results.close();\n        }\n    }\n}\n\nprivate SearchService searchService; // Be sure to set this, probably via Spring.\n</code></pre>\n\n<p>Be aware that each level in <code>path</code> must:</p>\n\n<ul>\n<li>have a namespace</li>\n<li>be escaped by ISO9075 (in Java code: <code>ISO9075.encode(level)</code>)</li>\n</ul>\n\n<p>Examples:</p>\n\n<ul>\n<li>/app:company_home/app:dictionary/app:space_templates/cm:MyTemplate</li>\n<li>/app:company_home/app:shared/cm:abc/cm:def/cm:My_x0020_Document.txt</li>\n<li>/app:company_home/app:shared/cm:_x0031_23</li>\n</ul>\n\n<p>To find out what is the path of a particular document or folder, the Node Browser (in Admin Tools) is your friend:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6J92D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6J92D.png\" alt=\"Primary path in Alfresco Node Browser, ISO9075\"></a></p>\n\n<p><em>I make the method above public domain, please fix or comment if you notice anything that can be improved, thanks! :-)</em></p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1490951564,"creation_date":1490951564,"answer_id":43136844,"question_id":43131644,"body_markdown":"The easiest way is probably using the [NodeLocatorService](http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/NodeLocatorService.html) and the [XPath locatorName](http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/XPathNodeLocator.html) + an xpath expression\r\n\r\nUnder the hood, that uses the search service, but it wraps up a lot of the complexity for you!\r\n\r\nTo use it, get the `NodeLocatorService` injected into your bean, then do something like:\r\n\r\n     Map&lt;String,Serializable&gt; params = new HashMap&lt;&gt;();\r\n     params.put(&quot;query&quot;, &quot;/x:path/to:node/pa:th&quot;);\r\n     NodeRef nodeRef = nodeLocatorService.getNode(&quot;xpath&quot;,null,params);\r\n\r\nOther [NodeLocators exist](http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/NodeLocator.html) for other lookups, and it&#39;s also available remotely [via `/alfresco/service/api/nodelocator/{node_locator_name}?params`](http://docs.alfresco.com/5.0/references/RESTful-NodelocatorNode-locatorGet.html)","title":"Get Alfresco NodeRef by path","body":"<p>The easiest way is probably using the <a href=\"http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/NodeLocatorService.html\" rel=\"nofollow noreferrer\">NodeLocatorService</a> and the <a href=\"http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/XPathNodeLocator.html\" rel=\"nofollow noreferrer\">XPath locatorName</a> + an xpath expression</p>\n\n<p>Under the hood, that uses the search service, but it wraps up a lot of the complexity for you!</p>\n\n<p>To use it, get the <code>NodeLocatorService</code> injected into your bean, then do something like:</p>\n\n<pre><code> Map&lt;String,Serializable&gt; params = new HashMap&lt;&gt;();\n params.put(\"query\", \"/x:path/to:node/pa:th\");\n NodeRef nodeRef = nodeLocatorService.getNode(\"xpath\",null,params);\n</code></pre>\n\n<p>Other <a href=\"http://dev.alfresco.com/resource/docs/java/org/alfresco/repo/nodelocator/NodeLocator.html\" rel=\"nofollow noreferrer\">NodeLocators exist</a> for other lookups, and it's also available remotely <a href=\"http://docs.alfresco.com/5.0/references/RESTful-NodelocatorNode-locatorGet.html\" rel=\"nofollow noreferrer\">via <code>/alfresco/service/api/nodelocator/{node_locator_name}?params</code></a></p>\n"},{"tags":[],"owner":{"account_id":50383,"reputation":2186,"user_id":150295,"accept_rate":50,"display_name":"Lista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491080447,"creation_date":1491078499,"answer_id":43161664,"question_id":43131644,"body_markdown":"Path queries and not the fastest, though, especially if you&#39;re on Lucene. You should think of an alternative ways to find what you&#39;re looking for.","title":"Get Alfresco NodeRef by path","body":"<p>Path queries and not the fastest, though, especially if you're on Lucene. You should think of an alternative ways to find what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":7661956,"reputation":800,"user_id":5806975,"display_name":"FabioStein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683909804,"creation_date":1683909804,"answer_id":76238417,"question_id":43131644,"body_markdown":"Use the GET /nodes​/{nodeId}\r\n==============\r\nJust provide the root folder constant Id as I did in the image\r\nThen provide the document relative path\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aG5ZQ.png\r\n","title":"Get Alfresco NodeRef by path","body":"<h1>Use the GET /nodes​/{nodeId}</h1>\n<p>Just provide the root folder constant Id as I did in the image\nThen provide the document relative path</p>\n<p><a href=\"https://i.stack.imgur.com/aG5ZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aG5ZQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43136844,"answer_count":4,"score":1,"last_activity_date":1684125667,"creation_date":1490929122,"question_id":43131644,"body_markdown":"I want to get the NodeRef of a document (or space) stored in Alfresco.\r\n\r\nMy code is in Java, running within Alfresco (for instance in an AMP).\r\n\r\nHow to do?","title":"Get Alfresco NodeRef by path","body":"<p>I want to get the NodeRef of a document (or space) stored in Alfresco.</p>\n<p>My code is in Java, running within Alfresco (for instance in an AMP).</p>\n<p>How to do?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1393907407,"post_id":22162916,"comment_id":33635045,"body_markdown":"have you tried to change the getters and setters by a few letters too?","body":"have you tried to change the getters and setters by a few letters too?"},{"owner":{"account_id":3660624,"reputation":2298,"user_id":3050541,"accept_rate":92,"display_name":"itsmichaelwang"},"score":0,"creation_date":1393907544,"post_id":22162916,"comment_id":33635079,"body_markdown":"I changed `setEmail(String s)` to `setmmail(String s)` but the result for the Email field is the same. I cannot change the getter, because that would break my program. Is that what controls it?","body":"I changed <code>setEmail(String s)</code> to <code>setmmail(String s)</code> but the result for the Email field is the same. I cannot change the getter, because that would break my program. Is that what controls it?"}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1393908544,"creation_date":1393907830,"answer_id":22163048,"question_id":22162916,"body_markdown":"## Without Annotations:\n\nWithout any annotations, it does what is called `POJO` mapping, it just uses [reflection][1] on the instance members and uses some rules about how to map the keys in the json to the names of the instance members. **note: it works on `private` members as well as `public` or `package protected` as well*\n\nIf it doesn&#39;t match the names of the instance members, then it starts trying to match the `getXXX` and `setXXX` methods, if it doesn&#39;t match anything then it gives up.\n\n## With Annotations:\n\nIt uses the metadata supplied by the annotations to do the mapping and conversions.\n\nIt is always better to explicitly use the annotations when you have the source to add them to, then there is no guess work on what gets mapped to what.\n\n*Remember explicit is always better than implicit!*\n\n## This is all well documented on the WIKI:\n\n[Mapping][2] and [Annotations][3]\n\n## JSON Schema:\n\nI am creating JSON Schema definitions for all my new projects now to document what is and isn&#39;t valid JSON according to the schema rules engine. It is a great way to document your data structures and eliminate parsing errors.\n\n\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/member/index.html\n  [2]: http://wiki.fasterxml.com/JacksonInFiveMinutes\n  [3]: http://wiki.fasterxml.com/JacksonAnnotations","title":"How does the Jackson mapper know what field in each Json object to assign to a class object?","body":"<h2>Without Annotations:</h2>\n<p>Without any annotations, it does what is called <code>POJO</code> mapping, it just uses <a href=\"http://docs.oracle.com/javase/tutorial/reflect/member/index.html\" rel=\"noreferrer\">reflection</a> on the instance members and uses some rules about how to map the keys in the json to the names of the instance members. *<em>note: it works on <code>private</code> members as well as <code>public</code> or <code>package protected</code> as well</em></p>\n<p>If it doesn't match the names of the instance members, then it starts trying to match the <code>getXXX</code> and <code>setXXX</code> methods, if it doesn't match anything then it gives up.</p>\n<h2>With Annotations:</h2>\n<p>It uses the metadata supplied by the annotations to do the mapping and conversions.</p>\n<p>It is always better to explicitly use the annotations when you have the source to add them to, then there is no guess work on what gets mapped to what.</p>\n<p><em>Remember explicit is always better than implicit!</em></p>\n<h2>This is all well documented on the WIKI:</h2>\n<p><a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"noreferrer\">Mapping</a> and <a href=\"http://wiki.fasterxml.com/JacksonAnnotations\" rel=\"noreferrer\">Annotations</a></p>\n<h2>JSON Schema:</h2>\n<p>I am creating JSON Schema definitions for all my new projects now to document what is and isn't valid JSON according to the schema rules engine. It is a great way to document your data structures and eliminate parsing errors.</p>\n"}],"owner":{"account_id":3660624,"reputation":2298,"user_id":3050541,"accept_rate":92,"display_name":"itsmichaelwang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21064,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":22163048,"answer_count":1,"score":22,"last_activity_date":1684125484,"creation_date":1393907133,"question_id":22162916,"body_markdown":"Let&#39;s say I have a Json object like this:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Bob Dole&quot;,\r\n        &quot;company&quot;: &quot;Bob Dole Industries&quot;,\r\n        &quot;phone&quot;: {\r\n            &quot;work&quot;: &quot;123-456-7890&quot;,\r\n            &quot;home&quot;: &quot;234-567-8901&quot;,\r\n            &quot;mobile&quot;: &quot;345-678-9012&quot;\r\n        }\r\n    }\r\n\r\nAnd to help me read it, I use Jackson&#39;s Object Mapper with the following class:\r\n\r\n    public class Contact {\r\n            public static class Phone {\r\n    \t\tprivate String work;\r\n    \t\tprivate String home;\r\n    \t\tprivate String mobile;\r\n    \t\t\r\n    \t\tpublic String getWork() { return work; }\r\n    \t\tpublic String getHome() { return home; }\r\n    \t\tpublic String getMobile() { return mobile; }\r\n    \t\t\r\n    \t\tpublic void setWork(String s) { work = s; }\r\n    \t\tpublic void setHome(String s) { home = s; }\r\n    \t\tpublic void setMobile(String s) { mobile = s; }\r\n    \t}\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String company;\r\n    \tprivate Phone phone;\r\n    \r\n    \tpublic String getName() { return name; }\r\n    \tpublic String getCompany() { return company; }\r\n    \tpublic Phone getPhone() { return phone; }\r\n    \t\r\n    \tpublic void setName(String s) { name = s; }\r\n    \tpublic void setCompany(String s) { company = s; }\r\n    \tpublic void setPhone(Phone p) { phone = p; }\r\n    }\r\n\r\nMy question is, how (using the simplest explanation possible), does the Object mapper &quot;deserialize&quot; the Json object? I thought it was matching variable names, but changing them by a few letters didn&#39;t affect the output. Then, I tried switching the order of the set() functions, but that didn&#39;t do anything. I also tried both, but that was also useless. I&#39;m guessing there&#39;s something more sophisticated at work here, but what?\r\n\r\nI tried to look in the documentation and past code, but I didn&#39;t see an explanation that made sense to me.","title":"How does the Jackson mapper know what field in each Json object to assign to a class object?","body":"<p>Let's say I have a Json object like this:</p>\n\n<pre><code>{\n    \"name\": \"Bob Dole\",\n    \"company\": \"Bob Dole Industries\",\n    \"phone\": {\n        \"work\": \"123-456-7890\",\n        \"home\": \"234-567-8901\",\n        \"mobile\": \"345-678-9012\"\n    }\n}\n</code></pre>\n\n<p>And to help me read it, I use Jackson's Object Mapper with the following class:</p>\n\n<pre><code>public class Contact {\n        public static class Phone {\n        private String work;\n        private String home;\n        private String mobile;\n\n        public String getWork() { return work; }\n        public String getHome() { return home; }\n        public String getMobile() { return mobile; }\n\n        public void setWork(String s) { work = s; }\n        public void setHome(String s) { home = s; }\n        public void setMobile(String s) { mobile = s; }\n    }\n\n    private String name;\n    private String company;\n    private Phone phone;\n\n    public String getName() { return name; }\n    public String getCompany() { return company; }\n    public Phone getPhone() { return phone; }\n\n    public void setName(String s) { name = s; }\n    public void setCompany(String s) { company = s; }\n    public void setPhone(Phone p) { phone = p; }\n}\n</code></pre>\n\n<p>My question is, how (using the simplest explanation possible), does the Object mapper \"deserialize\" the Json object? I thought it was matching variable names, but changing them by a few letters didn't affect the output. Then, I tried switching the order of the set() functions, but that didn't do anything. I also tried both, but that was also useless. I'm guessing there's something more sophisticated at work here, but what?</p>\n\n<p>I tried to look in the documentation and past code, but I didn't see an explanation that made sense to me.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-dsl","elasticsearch-java-api","elasticsearch-java-api-client"],"comments":[{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1684073920,"post_id":76243449,"comment_id":134460264,"body_markdown":"Does jsonMap contains the entire json or  partial fields ?","body":"Does jsonMap contains the entire json or  partial fields ?"},{"owner":{"account_id":10903785,"reputation":3,"user_id":8015293,"display_name":"Phani Varma"},"score":0,"creation_date":1684090292,"post_id":76243449,"comment_id":134462354,"body_markdown":"jsonMap  contains partial fields","body":"jsonMap  contains partial fields"}],"answers":[{"tags":[],"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684123491,"creation_date":1684123491,"answer_id":76250818,"question_id":76243449,"body_markdown":"Try following, you shoud exclude meta data (like index, id) from doc param.\r\n\r\n        RestClient restClient = RestClient.builder(\r\n                new HttpHost(&quot;localhost&quot;, 9200)).build();\r\n\r\n        // Create the transport with a Jackson mapper\r\n        ElasticsearchTransport transport = new RestClientTransport(\r\n                restClient, new JacksonJsonpMapper());\r\n\r\n        // And create the API client\r\n        ElasticsearchClient client = new ElasticsearchClient(transport);\r\n\r\n\r\n        HashMap jsonMap = new HashMap();\r\n        jsonMap.put(&quot;field&quot;, &quot;new value&quot;);\r\n\r\n        UpdateRequest.Builder builder = new UpdateRequest.Builder();\r\n        builder.index(&quot;index_name&quot;)\r\n                .id(&quot;id&quot;)\r\n                .doc(jsonMap); // exclude meta data (like index, id)\r\n\r\n        UpdateResponse response = client.update(builder.build(), Object.class);\r\n\r\n        System.out.println(&quot;Indexed with version &quot; + response.version());","title":"Update of a record in elastic using elastic 8.7 javaclient","body":"<p>Try following, you shoud exclude meta data (like index, id) from doc param.</p>\n<pre><code>    RestClient restClient = RestClient.builder(\n            new HttpHost(&quot;localhost&quot;, 9200)).build();\n\n    // Create the transport with a Jackson mapper\n    ElasticsearchTransport transport = new RestClientTransport(\n            restClient, new JacksonJsonpMapper());\n\n    // And create the API client\n    ElasticsearchClient client = new ElasticsearchClient(transport);\n\n\n    HashMap jsonMap = new HashMap();\n    jsonMap.put(&quot;field&quot;, &quot;new value&quot;);\n\n    UpdateRequest.Builder builder = new UpdateRequest.Builder();\n    builder.index(&quot;index_name&quot;)\n            .id(&quot;id&quot;)\n            .doc(jsonMap); // exclude meta data (like index, id)\n\n    UpdateResponse response = client.update(builder.build(), Object.class);\n\n    System.out.println(&quot;Indexed with version &quot; + response.version());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684124142,"creation_date":1684124142,"answer_id":76250849,"question_id":76243449,"body_markdown":"So you are developing low level client. And as your provided source code is not full enough to understand, I&#39;m giving a sample Low Level Rest API over Remote Elasticsearch:\r\n\r\n    public class ElasticLowLevelRemote {\r\n        public static void main(String[] args) throws IOException {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;enter index &quot;);\r\n            String indexInput = input.nextLine();\r\n            System.out.print(&quot;enter id &quot;);\r\n            String id = input.nextLine();\r\n            RestClient restClient = RestClient.builder(\r\n                              new HttpHost(&quot;ipaddress&quot;, port, &quot;http&quot;))\r\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(\r\n                            new BasicCredentialsProvider() {{\r\n                                setCredentials(AuthScope.ANY,\r\n                            new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));}})).build();\r\n                HttpEntity entity = new NStringEntity(&quot;{\\n \\&quot;query\\&quot;: {\\n \\&quot;match\\&quot;: {\\n \\&quot;_id\\&quot;: \\&quot;&quot; + id + &quot;\\&quot;\\n }\\n }\\n}&quot;,\r\n                    ContentType.APPLICATION_JSON);\r\n                Response response = restClient.performRequest(\r\n                    &quot;GET&quot;, &quot;/&quot;+indexInput+&quot;/_search&quot;,\r\n                    Collections.emptyMap(),\r\n                    entity);\r\n    \r\n            String jsonResponse = EntityUtils.toString(response.getEntity());\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Object json = mapper.readValue(jsonResponse, Object.class);\r\n            String formattedJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\r\n    \r\n            System.out.println(formattedJson);\r\n    \r\n            restClient.close();\r\n        }\r\n    }","title":"Update of a record in elastic using elastic 8.7 javaclient","body":"<p>So you are developing low level client. And as your provided source code is not full enough to understand, I'm giving a sample Low Level Rest API over Remote Elasticsearch:</p>\n<pre><code>public class ElasticLowLevelRemote {\n    public static void main(String[] args) throws IOException {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;enter index &quot;);\n        String indexInput = input.nextLine();\n        System.out.print(&quot;enter id &quot;);\n        String id = input.nextLine();\n        RestClient restClient = RestClient.builder(\n                          new HttpHost(&quot;ipaddress&quot;, port, &quot;http&quot;))\n                .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(\n                        new BasicCredentialsProvider() {{\n                            setCredentials(AuthScope.ANY,\n                        new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;));}})).build();\n            HttpEntity entity = new NStringEntity(&quot;{\\n \\&quot;query\\&quot;: {\\n \\&quot;match\\&quot;: {\\n \\&quot;_id\\&quot;: \\&quot;&quot; + id + &quot;\\&quot;\\n }\\n }\\n}&quot;,\n                ContentType.APPLICATION_JSON);\n            Response response = restClient.performRequest(\n                &quot;GET&quot;, &quot;/&quot;+indexInput+&quot;/_search&quot;,\n                Collections.emptyMap(),\n                entity);\n\n        String jsonResponse = EntityUtils.toString(response.getEntity());\n        ObjectMapper mapper = new ObjectMapper();\n        Object json = mapper.readValue(jsonResponse, Object.class);\n        String formattedJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\n\n        System.out.println(formattedJson);\n\n        restClient.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10903785,"reputation":3,"user_id":8015293,"display_name":"Phani Varma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76250818,"answer_count":2,"score":0,"last_activity_date":1684124142,"creation_date":1683990816,"question_id":76243449,"body_markdown":"I attempted to add a couple new fields to an existing record in elastic search. The record is being updated, however all previously indexed fields have been cleared.\r\n\r\nIs there something am I doing wrong?\r\n\r\nMaven dependency\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n       &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n       &lt;version&gt;8.7.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMe code:\r\n```\r\nRestClientBuilder builder = RestClient.builder(new HttpHost(esIP, Integer.parseInt(esPort)));\r\n\r\nRestClient restClient = builder.build();\r\n\r\n//jsonMap indecates one record to be indexed \r\n\r\nbr.operations(op -&gt; op.index(idx -&gt; idx.index((String) jsonMap.get(&quot;index_name&quot;)).id(jsonMap.get(&quot;id&quot;).toString()).document(jsonMap)));\r\n```","title":"Update of a record in elastic using elastic 8.7 javaclient","body":"<p>I attempted to add a couple new fields to an existing record in elastic search. The record is being updated, however all previously indexed fields have been cleared.</p>\n<p>Is there something am I doing wrong?</p>\n<p>Maven dependency</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n   &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n   &lt;version&gt;8.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Me code:</p>\n<pre><code>RestClientBuilder builder = RestClient.builder(new HttpHost(esIP, Integer.parseInt(esPort)));\n\nRestClient restClient = builder.build();\n\n//jsonMap indecates one record to be indexed \n\nbr.operations(op -&gt; op.index(idx -&gt; idx.index((String) jsonMap.get(&quot;index_name&quot;)).id(jsonMap.get(&quot;id&quot;).toString()).document(jsonMap)));\n</code></pre>\n"},{"tags":["java","eclipse","uml","plantuml"],"comments":[{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1552662232,"post_id":55184717,"comment_id":97108884,"body_markdown":"Welcome to Stack Overflow. Please, take the [tour](https://stackoverflow.com/tour) and learn [How to Ask](https://stackoverflow.com/questions/how-to-ask). Then, present us a clear description of what are you trying to do, what you got wrong and what you expected to get.","body":"Welcome to Stack Overflow. Please, take the <a href=\"https://stackoverflow.com/tour\">tour</a> and learn <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Then, present us a clear description of what are you trying to do, what you got wrong and what you expected to get."}],"answers":[{"tags":[],"owner":{"account_id":15510962,"reputation":140,"user_id":11189709,"display_name":"Bam Kenobi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552662377,"creation_date":1552662377,"answer_id":55185512,"question_id":55184717,"body_markdown":"I do not use PlantUML as a eclipse plugin. But the plugin description describes that the feature to generating a diagram for all Java classes is experimental. Maybe that feature doesn&#39;t work properly.\r\n\r\nI use PlantUML as a &quot;standalone&quot; version in other editors. And for that i have to download and define [graph viz](https://graphviz.org/). \r\n\r\nMaybe this site helps you: http://plantuml.com/de/graphviz-dot","title":"PlantUML diagram for an Eclipse project","body":"<p>I do not use PlantUML as a eclipse plugin. But the plugin description describes that the feature to generating a diagram for all Java classes is experimental. Maybe that feature doesn't work properly.</p>\n\n<p>I use PlantUML as a \"standalone\" version in other editors. And for that i have to download and define <a href=\"https://graphviz.org/\" rel=\"nofollow noreferrer\">graph viz</a>. </p>\n\n<p>Maybe this site helps you: <a href=\"http://plantuml.com/de/graphviz-dot\" rel=\"nofollow noreferrer\">http://plantuml.com/de/graphviz-dot</a></p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684121134,"creation_date":1684121134,"answer_id":76250710,"question_id":55184717,"body_markdown":"## To use PlantUml \r\n\r\n1. (install the Plugin in Eclipse)\r\n\r\n### for a class (simple case)\r\n\r\n1. **Open the `PlantUml View` in Eclipse**\r\n1. **Click** on a Java class (.java file, in `Project Explorer`) - make sure you have the `Link with Editor` on\r\n1. Wait for the Diagram to be generated in the `PlantUml View`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### for a single package\r\n\r\n1. Click on a Package (instead of a class)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### for the whole project (/multiple packages)\r\n\r\n1. Open the **`PlantUml Project Class Diagram View`**\r\n\r\n1. Enable the option in `PlantUml &gt; Project Class Diagram View &gt; Generate packages`\r\n\r\n1. Select &amp; **Drag** your packages into the view\r\n\r\n[![enter image description here][3]][3]\r\n&lt;img src=&quot;https://i.stack.imgur.com/2LGW8.png&quot; height=&quot;200&quot; /&gt;\r\n\r\n### misc\r\n\r\n- the official website https://plantuml.com/\r\n- (I did this long time before, Idk where I saw the instructions, in the Official website / some posts, but now I cant find any...)\r\n\r\n  [1]: https://i.stack.imgur.com/dvBVU.png\r\n  [2]: https://i.stack.imgur.com/Axrlz.png\r\n  [3]: https://i.stack.imgur.com/J3blI.png","title":"PlantUML diagram for an Eclipse project","body":"<h2>To use PlantUml</h2>\n<ol>\n<li>(install the Plugin in Eclipse)</li>\n</ol>\n<h3>for a class (simple case)</h3>\n<ol>\n<li><strong>Open the <code>PlantUml View</code> in Eclipse</strong></li>\n<li><strong>Click</strong> on a Java class (.java file, in <code>Project Explorer</code>) - make sure you have the <code>Link with Editor</code> on</li>\n<li>Wait for the Diagram to be generated in the <code>PlantUml View</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/dvBVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvBVU.png\" alt=\"enter image description here\" /></a></p>\n<h3>for a single package</h3>\n<ol>\n<li>Click on a Package (instead of a class)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Axrlz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Axrlz.png\" alt=\"enter image description here\" /></a></p>\n<h3>for the whole project (/multiple packages)</h3>\n<ol>\n<li><p>Open the <strong><code>PlantUml Project Class Diagram View</code></strong></p>\n</li>\n<li><p>Enable the option in <code>PlantUml &gt; Project Class Diagram View &gt; Generate packages</code></p>\n</li>\n<li><p>Select &amp; <strong>Drag</strong> your packages into the view</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/J3blI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3blI.png\" alt=\"enter image description here\" /></a>\n<img src=\"https://i.stack.imgur.com/2LGW8.png\" height=\"200\" /></p>\n<h3>misc</h3>\n<ul>\n<li>the official website <a href=\"https://plantuml.com/\" rel=\"nofollow noreferrer\">https://plantuml.com/</a></li>\n<li>(I did this long time before, Idk where I saw the instructions, in the Official website / some posts, but now I cant find any...)</li>\n</ul>\n"}],"owner":{"account_id":10812921,"reputation":21,"user_id":7952994,"display_name":"gavin morris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684121134,"creation_date":1552659736,"question_id":55184717,"body_markdown":"Trying to have an overall diagram for my eclipse java project, not sure how to. \r\n\r\nI have PlantUML installed but it only shows a diagram for each individual class can&#39;t find any information on generating an overall diagram.  \r\n\r\nNeed help.","title":"PlantUML diagram for an Eclipse project","body":"<p>Trying to have an overall diagram for my eclipse java project, not sure how to. </p>\n\n<p>I have PlantUML installed but it only shows a diagram for each individual class can't find any information on generating an overall diagram.  </p>\n\n<p>Need help.</p>\n"},{"tags":["java","utc","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684119788,"creation_date":1684119788,"answer_id":76250642,"question_id":76250602,"body_markdown":"&gt; Above snippet gives me six-digits fractional seconds\r\n\r\nThis is incorrect. an `OffsetDateTime` represents a time at a given offset, it _does not represent any particular rendering of that time_. Hence, the above snippet (Referring to the creation of an `OffsetDateTime` object) gives you.. an OffsetDateTime object. It does not inherently have _any_ rendering. It is therefore incorrect to say it has a six-digit fractional second rendering. It doesn&#39;t, actually, it has 9. How many of those 9 you want depends on the call you make when rendering it. Its `toString()` shows 6, I believe. __You cannot change this__.\r\n\r\n&gt; returns current OffsetDateTime object (not String) in UTC with three-digits format\r\n\r\nHence, this is impossible. An OffsetDateTime object does not contain any relevant info about its rendering. The code you are passing your ODT object to has its own renderer (usually, a `DateTimeFormatter` object), and you&#39;d have to change that object. If you can&#39;t do that, you&#39;re out of options. Possibly the other code is calling `toString()` - that uses some unspecified arbitrary renderer (`DateTimeFormatter` object) - you should never use `toString()` unless the docs explicitly spec out what it renders (rare), or for debugging purposes.\r\n\r\n&gt; `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);`\r\n\r\nYes, this formatter will get you 3 digits.\r\n\r\n&gt; `return OffsetDateTime.parse(offsetDateTime.toString());`\r\n\r\nNo, this doesn&#39;t accomplish anything. This would:\r\n\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\nSystem.out.println(formatter.format(offsetDateTime));\r\n```","title":"Java Current OffsetDateTime object in UTC with three digit fractional seconds (YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;)","body":"<blockquote>\n<p>Above snippet gives me six-digits fractional seconds</p>\n</blockquote>\n<p>This is incorrect. an <code>OffsetDateTime</code> represents a time at a given offset, it <em>does not represent any particular rendering of that time</em>. Hence, the above snippet (Referring to the creation of an <code>OffsetDateTime</code> object) gives you.. an OffsetDateTime object. It does not inherently have <em>any</em> rendering. It is therefore incorrect to say it has a six-digit fractional second rendering. It doesn't, actually, it has 9. How many of those 9 you want depends on the call you make when rendering it. Its <code>toString()</code> shows 6, I believe. <strong>You cannot change this</strong>.</p>\n<blockquote>\n<p>returns current OffsetDateTime object (not String) in UTC with three-digits format</p>\n</blockquote>\n<p>Hence, this is impossible. An OffsetDateTime object does not contain any relevant info about its rendering. The code you are passing your ODT object to has its own renderer (usually, a <code>DateTimeFormatter</code> object), and you'd have to change that object. If you can't do that, you're out of options. Possibly the other code is calling <code>toString()</code> - that uses some unspecified arbitrary renderer (<code>DateTimeFormatter</code> object) - you should never use <code>toString()</code> unless the docs explicitly spec out what it renders (rare), or for debugging purposes.</p>\n<blockquote>\n<p><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);</code></p>\n</blockquote>\n<p>Yes, this formatter will get you 3 digits.</p>\n<blockquote>\n<p><code>return OffsetDateTime.parse(offsetDateTime.toString());</code></p>\n</blockquote>\n<p>No, this doesn't accomplish anything. This would:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\nSystem.out.println(formatter.format(offsetDateTime));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19153192,"reputation":5,"user_id":21853070,"display_name":"Naim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684121025,"creation_date":1684121025,"answer_id":76250702,"question_id":76250602,"body_markdown":"Actually, following worked.\r\n\r\n```\r\npublic static OffsetDateTime offsetDateTimeUtc(){\r\n        OffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n        return OffsetDateTime.parse(offsetDateTime.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)));\r\n    }\r\n```","title":"Java Current OffsetDateTime object in UTC with three digit fractional seconds (YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;)","body":"<p>Actually, following worked.</p>\n<pre><code>public static OffsetDateTime offsetDateTimeUtc(){\n        OffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\n        return OffsetDateTime.parse(offsetDateTime.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)));\n    }\n</code></pre>\n"}],"owner":{"account_id":19153192,"reputation":5,"user_id":21853070,"display_name":"Naim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76250642,"answer_count":2,"score":0,"last_activity_date":1684121025,"creation_date":1684119070,"question_id":76250602,"body_markdown":"```\r\nOffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n```\r\nAbove snippet gives me six-digits fractional seconds, but I need a utility method that returns current OffsetDateTime object (not String) in UTC with three-digits format (for example: 2023-05-15T02:22:39.330Z)\r\n\r\nIs this possible?\r\nI tried following, and still gives me six-digits fractional seconds.\r\n```\r\n    public static OffsetDateTime offsetDateTimeUtc(){\r\n        OffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        return OffsetDateTime.parse(offsetDateTime.toString());\r\n    }\r\n```","title":"Java Current OffsetDateTime object in UTC with three digit fractional seconds (YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;)","body":"<pre><code>OffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n<p>Above snippet gives me six-digits fractional seconds, but I need a utility method that returns current OffsetDateTime object (not String) in UTC with three-digits format (for example: 2023-05-15T02:22:39.330Z)</p>\n<p>Is this possible?\nI tried following, and still gives me six-digits fractional seconds.</p>\n<pre><code>    public static OffsetDateTime offsetDateTimeUtc(){\n        OffsetDateTime offsetDateTime = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\n        return OffsetDateTime.parse(offsetDateTime.toString());\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","prolog","swi-prolog","jpl"],"answers":[{"tags":[],"owner":{"account_id":20014299,"reputation":97,"user_id":15685609,"display_name":"Hugolin Bergier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684120497,"creation_date":1684120497,"answer_id":76250671,"question_id":76244560,"body_markdown":"Well, it looks like my mistake was to put the VM argument ```-Djava.library.path=/...``` in the program arguments field...\r\n\r\nWhy did IntelliJ remove the VM argument field as a field by default in the configurations? It&#39;s quite misleading.\r\n\r\n\r\nI made a video for those who are struggling to install JPL on Mac OS: https://youtu.be/gm12Kf8CBSQ\r\n\r\n","title":"Can&#39;t get Java to find JPL library on Mac OS - &quot;no jpl on java.library.path&quot;","body":"<p>Well, it looks like my mistake was to put the VM argument <code>-Djava.library.path=/...</code> in the program arguments field...</p>\n<p>Why did IntelliJ remove the VM argument field as a field by default in the configurations? It's quite misleading.</p>\n<p>I made a video for those who are struggling to install JPL on Mac OS: <a href=\"https://youtu.be/gm12Kf8CBSQ\" rel=\"nofollow noreferrer\">https://youtu.be/gm12Kf8CBSQ</a></p>\n"}],"owner":{"account_id":20014299,"reputation":97,"user_id":15685609,"display_name":"Hugolin Bergier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684120497,"creation_date":1684006522,"question_id":76244560,"body_markdown":"I&#39;ve been desperately trying to get JPL (Java/SWI-Prolog interface) to work on Mac using those instructions: https://ssardina-research.github.io/packages-jpl/DeploymentMacos\r\n\r\nI have fixed all the dependencies link on libjpl.dylip, both for the one in ```/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin``` and the one I copied (as instructed) into ```/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/```\r\n\r\nIndeed in both case I have the correct absolute paths:\r\n\r\n```\r\nlibjpl.dylib (architecture x86_64):\r\n\t@rpath/libjpl.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/lib/server/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\r\n\t/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/libswipl.9.0.4.dylib (compatibility version 9.0.0, current version 9.0.3)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)\r\n```\r\n\r\nI do have ```-Djava.library.path=/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/``` specified as argument in my application configuration in IntelliJ\r\n\r\nI also tried the other location: ```-Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin```\r\n\r\nI have tried on JDK 17 and JDK 1.8.\r\n\r\nI&#39;m running out of options and my understanding of Java is too limited to try other options. Also, there is limited help on getting JPL work on Mac OS and IntelliJ.\r\n\r\nAny hint would be greatly appreciated.","title":"Can&#39;t get Java to find JPL library on Mac OS - &quot;no jpl on java.library.path&quot;","body":"<p>I've been desperately trying to get JPL (Java/SWI-Prolog interface) to work on Mac using those instructions: <a href=\"https://ssardina-research.github.io/packages-jpl/DeploymentMacos\" rel=\"nofollow noreferrer\">https://ssardina-research.github.io/packages-jpl/DeploymentMacos</a></p>\n<p>I have fixed all the dependencies link on libjpl.dylip, both for the one in <code>/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin</code> and the one I copied (as instructed) into <code>/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/</code></p>\n<p>Indeed in both case I have the correct absolute paths:</p>\n<pre><code>libjpl.dylib (architecture x86_64):\n    @rpath/libjpl.dylib (compatibility version 0.0.0, current version 0.0.0)\n    /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/lib/server/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\n    /usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/libswipl.9.0.4.dylib (compatibility version 9.0.0, current version 9.0.3)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)\n</code></pre>\n<p>I do have <code>-Djava.library.path=/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/</code> specified as argument in my application configuration in IntelliJ</p>\n<p>I also tried the other location: <code>-Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin</code></p>\n<p>I have tried on JDK 17 and JDK 1.8.</p>\n<p>I'm running out of options and my understanding of Java is too limited to try other options. Also, there is limited help on getting JPL work on Mac OS and IntelliJ.</p>\n<p>Any hint would be greatly appreciated.</p>\n"},{"tags":["java","inetaddress"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684121609,"post_id":76250668,"comment_id":134465064,"body_markdown":"that is how DNS caches work: &quot;positive&quot; (existing records) answers get cached, &quot;negative&quot; (non exisiting records) -  do not. If record is not found in cache your DNS server is trying to get authoritative answer from the chain of DNS servers serving particular domain/zone, that takes some time.","body":"that is how DNS caches work: &quot;positive&quot; (existing records) answers get cached, &quot;negative&quot; (non exisiting records) -  do not. If record is not found in cache your DNS server is trying to get authoritative answer from the chain of DNS servers serving particular domain/zone, that takes some time."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684150285,"post_id":76250668,"comment_id":134469797,"body_markdown":"Try using a command line DNS query tool and verify that the delays are coming from the DNS servers rather than your program.","body":"Try using a command line DNS query tool and verify that the delays are coming from the DNS servers rather than your program."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684157913,"post_id":76250668,"comment_id":134471649,"body_markdown":"@AndreyB.Panfilov DNS servers and local DNS clients usually also cache negative answers, but usually with a shorter TTL than positive answers.","body":"@AndreyB.Panfilov DNS servers and local DNS clients usually also cache negative answers, but usually with a shorter TTL than positive answers."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684159471,"post_id":76250668,"comment_id":134472060,"body_markdown":"well, in this particular case that would correct to say the delay is caused by unreachability of authoritative name servers","body":"well, in this particular case that would correct to say the delay is caused by unreachability of authoritative name servers"},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1684166659,"post_id":76250668,"comment_id":134473985,"body_markdown":"@aled When running `dig smartface.com`  it prints `communications error to 127.0.0.53#53: timed out`. But for `dig smartfacesmart.com` there is no timout.","body":"@aled When running <code>dig smartface.com</code>  it prints <code>communications error to 127.0.0.53#53: timed out</code>. But for <code>dig smartfacesmart.com</code> there is no timout."},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1684167079,"post_id":76250668,"comment_id":134474100,"body_markdown":"@AndreyB.Panfilov Is there anyway to set a lower timeout for this particular case?","body":"@AndreyB.Panfilov Is there anyway to set a lower timeout for this particular case?"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684120473,"creation_date":1684120473,"question_id":76250668,"body_markdown":"I have noticed that InetAddress is very slow for some hosts.\r\n\r\nBelow is the relevant code\r\n\r\n\r\n    final long startTime = System.currentTimeMillis();\r\n    \r\n    try {\r\n        System.out.println(&quot;start&quot;);\r\n        InetAddress address = InetAddress.getByName(&quot;smartface.com&quot;);\r\n        System.out.println(address);\r\n    } catch (UnknownHostException e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    final long endTime = System.currentTimeMillis();\r\n    System.out.println(&quot;Total execution time: &quot; + (endTime - startTime));\r\n\r\nFor the host &quot;smartface.com&quot; it takes about 20000 miliseconds resulting in a &quot;UnknownHostException&quot;\r\n\r\n    start\r\n    java.net.UnknownHostException: smartface.com: Name or service not known\r\n    ...\r\n    ...\r\n    Total execution time: 20024\r\n    end\r\n\r\n\r\nBut when running the same code for host &quot;smartfacesmart.com&quot; it takes about 280 milliseconds.\r\n\r\n    start\r\n    java.net.UnknownHostException: smartfacesmart.com: Name or service not known\r\n    ...\r\n    ...\r\n    Total execution time: 284\r\n    end\r\n\r\n\r\nI don&#39;t understand why there is such a big difference between the two hosts. Both result in the same exception.\r\n\r\nIs there anything I can to make the process faster for the slower hosts?","title":"InetAddress.getByName very slow for some hosts, but not others","body":"<p>I have noticed that InetAddress is very slow for some hosts.</p>\n<p>Below is the relevant code</p>\n<pre><code>final long startTime = System.currentTimeMillis();\n\ntry {\n    System.out.println(&quot;start&quot;);\n    InetAddress address = InetAddress.getByName(&quot;smartface.com&quot;);\n    System.out.println(address);\n} catch (UnknownHostException e) {\n    e.printStackTrace();\n}\n\nfinal long endTime = System.currentTimeMillis();\nSystem.out.println(&quot;Total execution time: &quot; + (endTime - startTime));\n</code></pre>\n<p>For the host &quot;smartface.com&quot; it takes about 20000 miliseconds resulting in a &quot;UnknownHostException&quot;</p>\n<pre><code>start\njava.net.UnknownHostException: smartface.com: Name or service not known\n...\n...\nTotal execution time: 20024\nend\n</code></pre>\n<p>But when running the same code for host &quot;smartfacesmart.com&quot; it takes about 280 milliseconds.</p>\n<pre><code>start\njava.net.UnknownHostException: smartfacesmart.com: Name or service not known\n...\n...\nTotal execution time: 284\nend\n</code></pre>\n<p>I don't understand why there is such a big difference between the two hosts. Both result in the same exception.</p>\n<p>Is there anything I can to make the process faster for the slower hosts?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyễn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684120001,"creation_date":1684120001,"answer_id":76250651,"question_id":76248053,"body_markdown":"As I only remember that this @Modifying is for use more query other than Select (like when I want to update, delete, or do ddl...) \r\n\r\nSo I search it again and give you this [baedung link][1]\r\n\r\nNow the EntityManager is flushed before our query is executed.\r\n\r\nYou will need to understand about Persistence Context and some more.\r\n\r\nBut in this case, you only do some update with JPARepo and not EntityManag so We good\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-modifying-annotation#clear","title":"Question about flushAutomatically in native update query","body":"<p>As I only remember that this @Modifying is for use more query other than Select (like when I want to update, delete, or do ddl...)</p>\n<p>So I search it again and give you this <a href=\"https://www.baeldung.com/spring-data-jpa-modifying-annotation#clear\" rel=\"nofollow noreferrer\">baedung link</a></p>\n<p>Now the EntityManager is flushed before our query is executed.</p>\n<p>You will need to understand about Persistence Context and some more.</p>\n<p>But in this case, you only do some update with JPARepo and not EntityManag so We good</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684120001,"creation_date":1684075255,"question_id":76248053,"body_markdown":"Suppose I have some service with method updateModificationDate:\r\n\r\n    class SomeService { \r\n    ...\r\n \t@Transactional\r\n\tpublic MyItem updateModificationDate(MyItem item)  {\r\n\t   myRepository.updateModificationDate(myItem.getId(), DateTime.now().toDate());\r\n\t   myItem = find(myItem.getId());//use dao.find\r\n\t   return MyItem;\r\n\t}\r\n    \r\n    } \r\n\r\nupdateModificationDate implemented in class MyRepository as following : \r\n\r\n    class MyRepository extends JpaRepository&lt;MyItem, Integer&gt;{ \r\n    \t....\r\n    \t\r\n    \t@Modifying(flushAutomatically = true)\r\n        @Query(nativeQuery = true, value = &quot;UPDATE myItemsTable SET modificationDate = ?2 WHERE id = ?1&quot;)\r\n        void updateModificationDate(Integer itemId, Date dateToSet);\r\n    } \r\n\r\nThe question is: is there need ( and safe ) here to use `flushAutomatically = true` or it is enough without to get item with changed date field? \r\nThanks in advance","title":"Question about flushAutomatically in native update query","body":"<p>Suppose I have some service with method updateModificationDate:</p>\n<pre><code>class SomeService { \n...\n@Transactional\npublic MyItem updateModificationDate(MyItem item)  {\n   myRepository.updateModificationDate(myItem.getId(), DateTime.now().toDate());\n   myItem = find(myItem.getId());//use dao.find\n   return MyItem;\n}\n\n} \n</code></pre>\n<p>updateModificationDate implemented in class MyRepository as following :</p>\n<pre><code>class MyRepository extends JpaRepository&lt;MyItem, Integer&gt;{ \n    ....\n    \n    @Modifying(flushAutomatically = true)\n    @Query(nativeQuery = true, value = &quot;UPDATE myItemsTable SET modificationDate = ?2 WHERE id = ?1&quot;)\n    void updateModificationDate(Integer itemId, Date dateToSet);\n} \n</code></pre>\n<p>The question is: is there need ( and safe ) here to use <code>flushAutomatically = true</code> or it is enough without to get item with changed date field?\nThanks in advance</p>\n"},{"tags":["java","android","view"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684118799,"creation_date":1684118799,"answer_id":76250590,"question_id":76250535,"body_markdown":"You probably don&#39;t want to do that.  Views are expensive, adding large numbers of them will either slow your app to a crawl or crash it OOM, if not both.  Look into RecyclerView as an alternative to doing that.  RecyclerViews reuse and rebind a limited number of views, allowing for scrolling between them with a minimal number of views used.\r\n\r\nA technique of adding views is acceptable if the number of views is small (as is their screen real estate) and has a cap.  In that case you can programmatically add views to a ViewGroup with the add function.  But you can&#39;t give it a name.  You could give it an id, but that&#39;s not recommended.  And it shouldn&#39;t really be necessary-  since you created it, you shouldn&#39;t need to look it up in the view hierarchy again, which is the major reason to give a name to it.","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>You probably don't want to do that.  Views are expensive, adding large numbers of them will either slow your app to a crawl or crash it OOM, if not both.  Look into RecyclerView as an alternative to doing that.  RecyclerViews reuse and rebind a limited number of views, allowing for scrolling between them with a minimal number of views used.</p>\n<p>A technique of adding views is acceptable if the number of views is small (as is their screen real estate) and has a cap.  In that case you can programmatically add views to a ViewGroup with the add function.  But you can't give it a name.  You could give it an id, but that's not recommended.  And it shouldn't really be necessary-  since you created it, you shouldn't need to look it up in the view hierarchy again, which is the major reason to give a name to it.</p>\n"},{"tags":[],"owner":{"account_id":13576121,"reputation":139,"user_id":9793435,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684119269,"creation_date":1684119269,"answer_id":76250612,"question_id":76250535,"body_markdown":"Yes, it&#39;s doable.\r\n\r\nIf you want to display a list with dynamic size, you can use `RecyclerView` to implement.\r\n\r\nIf you don&#39;t want to display a list, you can use `addView()` method of ViewGroup, or use `WindowManager` to add view dynamically.\r\n\r\n    val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\r\n    windowManager.addView(yourView, layoutParamsForThisView)","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>Yes, it's doable.</p>\n<p>If you want to display a list with dynamic size, you can use <code>RecyclerView</code> to implement.</p>\n<p>If you don't want to display a list, you can use <code>addView()</code> method of ViewGroup, or use <code>WindowManager</code> to add view dynamically.</p>\n<pre><code>val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\nwindowManager.addView(yourView, layoutParamsForThisView)\n</code></pre>\n"}],"owner":{"account_id":26239913,"reputation":1,"user_id":19914385,"display_name":"icws8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684119269,"creation_date":1684117758,"question_id":76250535,"body_markdown":"I want to add an indefinite number of views to another view. How many views are needed depends on a variable. I don&#39;t want it to have a limit. And want their names to be in a series (using incrementing values of a string maybe). Is it possible to do this programmatically?\r\n\r\nI&#39;m new to programming. Sorry if this is a stupid question.","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>I want to add an indefinite number of views to another view. How many views are needed depends on a variable. I don't want it to have a limit. And want their names to be in a series (using incrementing values of a string maybe). Is it possible to do this programmatically?</p>\n<p>I'm new to programming. Sorry if this is a stupid question.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684117843,"creation_date":1684117843,"question_id":76250539,"body_markdown":"I am getting following exception while updating an object using Hibernate. Failing with following stacktrace.\r\n\r\n```\r\nERROR [2023-05-15 02:20:59,777] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4b66b3469b94def6\r\n! com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.tarkshala.tavahot.db.models.Sellable` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n!  at [Source: (byte[])&quot;{&quot;items&quot;:[{&quot;dishId&quot;:&quot;RD230330T091728M147291&quot;,&quot;dishName&quot;:&quot;Paneer Butter Masala&quot;,&quot;price&quot;:29000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;https://tavahot-content.s3.ap-south-1.amazonaws.com/paneer-butter-masala/200x200/image.png&quot;},{&quot;dishId&quot;:&quot;RD230330T091728M149103&quot;,&quot;dishName&quot;:&quot;Shahi Paneer&quot;,&quot;price&quot;:24000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;&quot;},{&quot;dishId&quot;:&quot;RD230330T091727M974375&quot;,&quot;dishName&quot;:&quot;Dal Makhani&quot;,&quot;price&quot;:19000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPrefere&quot;[truncated 170 bytes]; line: 1, column: 11] (through reference chain: com.tarkshala.tavahot.models.PaymentBreakup[&quot;items&quot;]-&gt;java.util.ArrayList[0])\r\n! at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n! at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)\r\n! at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n! at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1349)\r\n! at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:274)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n! at com.fasterxml.jackson.module.blackbird.deser.SettableObjectProperty.deserializeAndSet(SettableObjectProperty.java:44)\r\n! at com.fasterxml.jackson.module.blackbird.deser.SuperSonicBeanDeserializer.deserialize(SuperSonicBeanDeserializer.java:159)\r\n! at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n! at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n! at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:76)\r\n! ... 101 common frames omitted\r\n! Causing: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! ... 102 common frames omitted\r\n! Causing: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:78)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.jsonClone(ObjectMapperJsonSerializer.java:81)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.clone(ObjectMapperJsonSerializer.java:58)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.clone(ObjectMapperWrapper.java:125)\r\n! at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor$1.deepCopyNotNull(JsonTypeDescriptor.java:54)\r\n! at org.hibernate.type.descriptor.java.MutableMutabilityPlan.deepCopy(MutableMutabilityPlan.java:35)\r\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:308)\r\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:304)\r\n! at org.hibernate.type.TypeHelper.deepCopy(TypeHelper.java:56)\r\n! at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:223)\r\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n! at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n! at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n! at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n! at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n! at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n! ... 84 common frames omitted\r\n! Causing: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\r\n! at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n! at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n! at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n! at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n! at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.commitTransaction(TransactionHandler.java:121)\r\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.afterEnd(TransactionHandler.java:72)\r\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:62)\r\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:50)\r\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:303)\r\n! ... 71 common frames omitted\r\n! Causing: java.lang.RuntimeException: Error updating entity with criteria: DetachableCriteria(CriteriaImpl(com.tarkshala.tavahot.db.models.StoredOrder:this[][orderId=OR230501T213651M83599]))\r\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:319)\r\n! at com.tarkshala.tavahot.db.commands.OrderCommands.update(OrderCommands.java:43)\r\n! at com.tarkshala.tavahot.services.CheckoutService.updateOrderWithDiscount(CheckoutService.java:291)\r\n! at com.tarkshala.tavahot.services.CheckoutService.apply(CheckoutService.java:275)\r\n! at com.tarkshala.tavahot.resources.CheckoutResource.apply(CheckoutResource.java:53)\r\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n! at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n! at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n! at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\r\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)\r\n! at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\r\n! at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:284)\r\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\r\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:722)\r\n! at io.dropwizard.jetty.ZipExceptionHandlingGzipHandler.handle(ZipExceptionHandlingGzipHandler.java:26)\r\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:54)\r\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:181)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n! at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n! at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n! at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n! at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n! at java.base/java.lang.Thread.run(Thread.java:833)\r\n[0:0:0:0:0:0:0:1] - - [15/May/2023:02:20:59 +0000] &quot;POST /nexus/checkout/offer/apply HTTP/1.1&quot; 500 110 &quot;http://localhost:8080/swagger&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot; 3467\r\n```\r\n\r\n\r\n\r\nMy DB entity looks like follwing:\r\n\r\n```JAVA\r\n@Data\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;orders&quot;)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\npublic class StoredOrder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    @JsonIgnore\r\n    private long id;\r\n\r\n    @Column(name = &quot;order_id&quot;, nullable = false, unique = true)\r\n    private String orderId;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private String userId;\r\n\r\n    @Column(name = &quot;road_id&quot;, nullable = false)\r\n    private String roadId;\r\n\r\n    @Column(name = &quot;restaurant_id&quot;, nullable = false)\r\n    private String restaurantId;\r\n\r\n    @Column(name = &quot;otp&quot;)\r\n    private String otp;\r\n\r\n    @Column(name = &quot;order_state&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private OrderState orderState;\r\n\r\n    @Column(name = &quot;serve_type&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private ServeType serveType;\r\n\r\n    // Time(in seconds) needed to prepare the order\r\n    @Column(name = &quot;ttp&quot;, nullable = false)\r\n    private long ttp;\r\n\r\n    // Timestamp by which order will get prepared\r\n    // It will always be more than or equal to ETA\r\n    @Column(name = &quot;etp&quot;, nullable = false)\r\n    private Date etp;\r\n\r\n    // Timestamp(epoch) by which user will arrive at restaurant\r\n    @Column(name = &quot;eta&quot;, nullable = false)\r\n    private Date eta;\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @Column(name = &quot;rating&quot;)\r\n    private int rating;\r\n\r\n    @Column(name = &quot;payment_breakup&quot;, columnDefinition = &quot;JSON&quot;)\r\n    @Type(type = &quot;json&quot;)\r\n    private PaymentBreakup&lt;Item&gt; paymentBreakup;\r\n}\r\n```\r\n\r\n```Java\r\n@Data\r\n@NoArgsConstructor\r\npublic class PaymentBreakup&lt;T extends Sellable&gt; {\r\n\r\n    private List&lt;T&gt; items;\r\n\r\n    private long convenienceFee;\r\n\r\n    private long gst;\r\n\r\n    private long discount;\r\n\r\n    private long total;\r\n}\r\n```\r\n\r\n\r\n```Java\r\npublic interface Sellable {\r\n\r\n    long getSellingPrice();\r\n}\r\n```\r\n\r\n```Java\r\n\r\n@Data\r\n@NoArgsConstructor\r\npublic class Item implements Sellable {\r\n\r\n    private String dishId;\r\n\r\n    private String dishName;\r\n\r\n    private long price;\r\n\r\n    private int quantity;\r\n\r\n    private int rating;\r\n\r\n    private FoodPreference foodPreference;\r\n\r\n    private String thumbnailUrl;\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public long getSellingPrice() {\r\n        return price * quantity;\r\n    }\r\n}\r\n```\r\n\r\nWhat is going wrong here? Please help.","title":"Hibernate not able to serialize a GenericType extending Interface to Json","body":"<p>I am getting following exception while updating an object using Hibernate. Failing with following stacktrace.</p>\n<pre><code>ERROR [2023-05-15 02:20:59,777] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4b66b3469b94def6\n! com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.tarkshala.tavahot.db.models.Sellable` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n!  at [Source: (byte[])&quot;{&quot;items&quot;:[{&quot;dishId&quot;:&quot;RD230330T091728M147291&quot;,&quot;dishName&quot;:&quot;Paneer Butter Masala&quot;,&quot;price&quot;:29000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;https://tavahot-content.s3.ap-south-1.amazonaws.com/paneer-butter-masala/200x200/image.png&quot;},{&quot;dishId&quot;:&quot;RD230330T091728M149103&quot;,&quot;dishName&quot;:&quot;Shahi Paneer&quot;,&quot;price&quot;:24000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;&quot;},{&quot;dishId&quot;:&quot;RD230330T091727M974375&quot;,&quot;dishName&quot;:&quot;Dal Makhani&quot;,&quot;price&quot;:19000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPrefere&quot;[truncated 170 bytes]; line: 1, column: 11] (through reference chain: com.tarkshala.tavahot.models.PaymentBreakup[&quot;items&quot;]-&gt;java.util.ArrayList[0])\n! at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n! at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)\n! at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n! at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1349)\n! at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:274)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n! at com.fasterxml.jackson.module.blackbird.deser.SettableObjectProperty.deserializeAndSet(SettableObjectProperty.java:44)\n! at com.fasterxml.jackson.module.blackbird.deser.SuperSonicBeanDeserializer.deserialize(SuperSonicBeanDeserializer.java:159)\n! at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n! at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n! at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:76)\n! ... 101 common frames omitted\n! Causing: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! ... 102 common frames omitted\n! Causing: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:78)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.jsonClone(ObjectMapperJsonSerializer.java:81)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.clone(ObjectMapperJsonSerializer.java:58)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.clone(ObjectMapperWrapper.java:125)\n! at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor$1.deepCopyNotNull(JsonTypeDescriptor.java:54)\n! at org.hibernate.type.descriptor.java.MutableMutabilityPlan.deepCopy(MutableMutabilityPlan.java:35)\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:308)\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:304)\n! at org.hibernate.type.TypeHelper.deepCopy(TypeHelper.java:56)\n! at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:223)\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n! at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n! at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n! at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n! at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n! at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n! ... 84 common frames omitted\n! Causing: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\n! at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n! at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n! at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n! at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n! at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.commitTransaction(TransactionHandler.java:121)\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.afterEnd(TransactionHandler.java:72)\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:62)\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:50)\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:303)\n! ... 71 common frames omitted\n! Causing: java.lang.RuntimeException: Error updating entity with criteria: DetachableCriteria(CriteriaImpl(com.tarkshala.tavahot.db.models.StoredOrder:this[][orderId=OR230501T213651M83599]))\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:319)\n! at com.tarkshala.tavahot.db.commands.OrderCommands.update(OrderCommands.java:43)\n! at com.tarkshala.tavahot.services.CheckoutService.updateOrderWithDiscount(CheckoutService.java:291)\n! at com.tarkshala.tavahot.services.CheckoutService.apply(CheckoutService.java:275)\n! at com.tarkshala.tavahot.resources.CheckoutResource.apply(CheckoutResource.java:53)\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n! at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n! at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n! at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)\n! at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\n! at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:284)\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:722)\n! at io.dropwizard.jetty.ZipExceptionHandlingGzipHandler.handle(ZipExceptionHandlingGzipHandler.java:26)\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:54)\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:181)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n! at org.eclipse.jetty.server.Server.handle(Server.java:516)\n! at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n! at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n! at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n! at java.base/java.lang.Thread.run(Thread.java:833)\n[0:0:0:0:0:0:0:1] - - [15/May/2023:02:20:59 +0000] &quot;POST /nexus/checkout/offer/apply HTTP/1.1&quot; 500 110 &quot;http://localhost:8080/swagger&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot; 3467\n</code></pre>\n<p>My DB entity looks like follwing:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;orders&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class StoredOrder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true)\n    @JsonIgnore\n    private long id;\n\n    @Column(name = &quot;order_id&quot;, nullable = false, unique = true)\n    private String orderId;\n\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private String userId;\n\n    @Column(name = &quot;road_id&quot;, nullable = false)\n    private String roadId;\n\n    @Column(name = &quot;restaurant_id&quot;, nullable = false)\n    private String restaurantId;\n\n    @Column(name = &quot;otp&quot;)\n    private String otp;\n\n    @Column(name = &quot;order_state&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private OrderState orderState;\n\n    @Column(name = &quot;serve_type&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private ServeType serveType;\n\n    // Time(in seconds) needed to prepare the order\n    @Column(name = &quot;ttp&quot;, nullable = false)\n    private long ttp;\n\n    // Timestamp by which order will get prepared\n    // It will always be more than or equal to ETA\n    @Column(name = &quot;etp&quot;, nullable = false)\n    private Date etp;\n\n    // Timestamp(epoch) by which user will arrive at restaurant\n    @Column(name = &quot;eta&quot;, nullable = false)\n    private Date eta;\n\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n\n    @Column(name = &quot;updated_at&quot;)\n    private Date updatedAt;\n\n    @Column(name = &quot;rating&quot;)\n    private int rating;\n\n    @Column(name = &quot;payment_breakup&quot;, columnDefinition = &quot;JSON&quot;)\n    @Type(type = &quot;json&quot;)\n    private PaymentBreakup&lt;Item&gt; paymentBreakup;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\npublic class PaymentBreakup&lt;T extends Sellable&gt; {\n\n    private List&lt;T&gt; items;\n\n    private long convenienceFee;\n\n    private long gst;\n\n    private long discount;\n\n    private long total;\n}\n</code></pre>\n<pre><code>public interface Sellable {\n\n    long getSellingPrice();\n}\n</code></pre>\n<pre><code>\n@Data\n@NoArgsConstructor\npublic class Item implements Sellable {\n\n    private String dishId;\n\n    private String dishName;\n\n    private long price;\n\n    private int quantity;\n\n    private int rating;\n\n    private FoodPreference foodPreference;\n\n    private String thumbnailUrl;\n\n    @Override\n    @JsonIgnore\n    public long getSellingPrice() {\n        return price * quantity;\n    }\n}\n</code></pre>\n<p>What is going wrong here? Please help.</p>\n"},{"tags":["java","web-scraping","hadoop","solr","nutch"],"comments":[{"owner":{"account_id":3599966,"reputation":607,"user_id":3003479,"display_name":"sashwat"},"score":1,"creation_date":1684147321,"post_id":76250490,"comment_id":134469213,"body_markdown":"Requirements for Nutch: 1. Unix environment, or Windows-Cygwin environment\n2. Java Runtime/Development Environment (JDK 11 / Java 11). ref: https://cwiki.apache.org/confluence/display/NUTCH/NutchTutorial. Check your java version.","body":"Requirements for Nutch: 1. Unix environment, or Windows-Cygwin environment 2. Java Runtime/Development Environment (JDK 11 / Java 11). ref: <a href=\"https://cwiki.apache.org/confluence/display/NUTCH/NutchTutorial\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/NUTCH/NutchTutorial</a>. Check your java version."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684151030,"post_id":76250490,"comment_id":134469966,"body_markdown":"The Hadoop native libraries are only built for unix machines... Did you build/download them on your own?","body":"The Hadoop native libraries are only built for unix machines... Did you build/download them on your own?"},{"owner":{"account_id":12491036,"reputation":696,"user_id":9092563,"display_name":"rom"},"score":0,"creation_date":1684210633,"post_id":76250490,"comment_id":134480276,"body_markdown":"Ended up giving up on the windows installation of Nutch etc and did it in WSL, the Linux for Windows thing.","body":"Ended up giving up on the windows installation of Nutch etc and did it in WSL, the Linux for Windows thing."}],"owner":{"account_id":12491036,"reputation":696,"user_id":9092563,"display_name":"rom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684116883,"creation_date":1684116883,"question_id":76250490,"body_markdown":"So, I set up Apache Nutch 1.19, Apache Solr 8.11.2, and Hadoop 3.3.5, to the best of my knowledge on a Windows 11 PC.\r\n\r\nAfter, I went into the nutch directory and ran this command:\r\n`bin/nutch generate crawl/crawldb crawl/segments`\r\n\r\nThen, I got the following error: \r\n\r\n`Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;`\r\n\r\nDoes anyone know how to solve it?\r\n\r\nBelow is the full output after running the command:\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n2023-05-14 19:01:16,433 INFO o.a.n.p.PluginManifestParser [main] Plugins: looking in: C:\\Users\\User\\Desktop\\wiki\\a\\ApacheNutch\\apache-nutch-1.19\\plugins\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Plugin Auto-activation mode: [true]\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Registered Plugins:\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter (urlfilter-regex)\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Html Parse Plug-in (parse-html)\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    HTTP Framework (lib-http)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    the nutch core extension points (nutch-extensionpoints)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic Indexing Filter (index-basic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Anchor Indexing Filter (index-anchor)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Tika Parser Plug-in (parse-tika)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic URL Normalizer (urlnormalizer-basic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter Framework (lib-regex-filter)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Normalizer (urlnormalizer-regex)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    URL Validator (urlfilter-validator)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    CyberNeko HTML Parser (lib-nekohtml)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    OPIC Scoring Plug-in (scoring-opic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Pass-through URL Normalizer (urlnormalizer-pass)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Http Protocol Plug-in (protocol-http)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    SolrIndexWriter (indexer-solr)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main] Registered Extension-Points:\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]     (Nutch Content Parser)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (HTML Parse Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Scoring)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Normalizer)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Publisher)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Exchange)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Protocol)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Ignore Exemption Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Index Writer)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Segment Merge Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Indexing Filter)\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: starting at 2023-05-14 19:01:16\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: Selecting best-scoring urls due for fetch.\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: filtering: true\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: normalizing: true\r\n2023-05-14 19:01:16,974 INFO o.a.n.c.Generator [main] Generator: running in local mode, generating exactly one partition.\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;\r\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\r\n        at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\r\n        at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\r\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1972)\r\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:2014)\r\n        at org.apache.hadoop.fs.FileSystem$4.&lt;init&gt;(FileSystem.java:2180)\r\n        at org.apache.hadoop.fs.FileSystem.listLocatedStatus(FileSystem.java:2179)\r\n        at org.apache.hadoop.fs.ChecksumFileSystem.listLocatedStatus(ChecksumFileSystem.java:783)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:320)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\r\n        at org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:59)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\r\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\r\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)\r\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:525)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n        at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\r\n        at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\r\n        at org.apache.nutch.crawl.Generator.generate(Generator.java:895)\r\n        at org.apache.nutch.crawl.Generator.run(Generator.java:1119)\r\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\r\n        at org.apache.nutch.crawl.Generator.main(Generator.java:1066)\r\n```","title":"Apache Nutch 1.19 Getting Error: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;","body":"<p>So, I set up Apache Nutch 1.19, Apache Solr 8.11.2, and Hadoop 3.3.5, to the best of my knowledge on a Windows 11 PC.</p>\n<p>After, I went into the nutch directory and ran this command:\n<code>bin/nutch generate crawl/crawldb crawl/segments</code></p>\n<p>Then, I got the following error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)'</code></p>\n<p>Does anyone know how to solve it?</p>\n<p>Below is the full output after running the command:</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n2023-05-14 19:01:16,433 INFO o.a.n.p.PluginManifestParser [main] Plugins: looking in: C:\\Users\\User\\Desktop\\wiki\\a\\ApacheNutch\\apache-nutch-1.19\\plugins\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Plugin Auto-activation mode: [true]\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Registered Plugins:\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter (urlfilter-regex)\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Html Parse Plug-in (parse-html)\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    HTTP Framework (lib-http)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    the nutch core extension points (nutch-extensionpoints)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic Indexing Filter (index-basic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Anchor Indexing Filter (index-anchor)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Tika Parser Plug-in (parse-tika)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic URL Normalizer (urlnormalizer-basic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter Framework (lib-regex-filter)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Normalizer (urlnormalizer-regex)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    URL Validator (urlfilter-validator)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    CyberNeko HTML Parser (lib-nekohtml)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    OPIC Scoring Plug-in (scoring-opic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Pass-through URL Normalizer (urlnormalizer-pass)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Http Protocol Plug-in (protocol-http)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    SolrIndexWriter (indexer-solr)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main] Registered Extension-Points:\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]     (Nutch Content Parser)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (HTML Parse Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Scoring)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Normalizer)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Publisher)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Exchange)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Protocol)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Ignore Exemption Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Index Writer)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Segment Merge Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Indexing Filter)\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: starting at 2023-05-14 19:01:16\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: Selecting best-scoring urls due for fetch.\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: filtering: true\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: normalizing: true\n2023-05-14 19:01:16,974 INFO o.a.n.c.Generator [main] Generator: running in local mode, generating exactly one partition.\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)'\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\n        at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\n        at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\n        at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1972)\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:2014)\n        at org.apache.hadoop.fs.FileSystem$4.&lt;init&gt;(FileSystem.java:2180)\n        at org.apache.hadoop.fs.FileSystem.listLocatedStatus(FileSystem.java:2179)\n        at org.apache.hadoop.fs.ChecksumFileSystem.listLocatedStatus(ChecksumFileSystem.java:783)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:320)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\n        at org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:59)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\n        at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:525)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n        at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\n        at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\n        at org.apache.nutch.crawl.Generator.generate(Generator.java:895)\n        at org.apache.nutch.crawl.Generator.run(Generator.java:1119)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\n        at org.apache.nutch.crawl.Generator.main(Generator.java:1066)\n</code></pre>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":1156194,"reputation":1430,"user_id":1136734,"accept_rate":93,"display_name":"dave"},"score":6,"creation_date":1452791931,"post_id":26397382,"comment_id":57334787,"body_markdown":"What have you tried so far, show us some code on where you are having problems","body":"What have you tried so far, show us some code on where you are having problems"}],"answers":[{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1684116657,"creation_date":1453158380,"answer_id":34865760,"question_id":26397382,"body_markdown":"Most of the time, when something needs to be done offline, it is done in a `service`. \r\n\r\n[![enter image description here][1]][1]\r\n(www.slideshare.net)\r\n\r\nAssuming you don&#39;t know what a service is, from the docs:\r\n&gt; A Service is an application component representing either an\r\n&gt; application&#39;s desire to perform a longer-running operation while not\r\n&gt; interacting with the user or to supply functionality for other\r\n&gt; applications to use. Each service class must have a corresponding\r\n&gt; &lt;service&gt; declaration in its package&#39;s AndroidManifest.xml. Services\r\n&gt; can be started with Context.startService() and Context.bindService().\r\n\r\nSo basically, its just something that runs in the background, including when the screen is off. Now, **all you have to do, is put your recording code in a service.** You may face a problem that your service gets killed by the system, as the android docs specify:\r\n\r\n&gt; Note this means that most of the time your service is running, it may\r\n&gt; be killed by the system if it is under heavy memory pressure. If this\r\n&gt; happens, the system will later try to restart the service. An\r\n&gt; important consequence of this is that if you implement\r\n&gt; onStartCommand() to schedule work to be done asynchronously or in\r\n&gt; another thread, then you may want to use START_FLAG_REDELIVERY to have\r\n&gt; the system re-deliver an Intent for you so that it does not get lost\r\n&gt; if your service is killed while processing it.\r\n\r\nIn this case, you will need to add certain code to keep the service in the **foreground** and make sure that it doesn&#39;t get killed:\r\n\r\n    startForeground();//keeps service from getting destroyed.\r\n\r\nThe only problem that this could provide is a constant notification for the time that the service is alive.\r\n\r\nYou may also use `startSticky()`:\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        \r\n           // We want this service to continue running until it is explicitly\r\n           // stopped, so return sticky.\r\n           return START_STICKY;\r\n    }\r\n\r\n Now, say you are done recording. You can use:\r\n\r\n    stopSelf();\r\n\r\nto stop the service, or:\r\n\r\n    Context.stopService();\r\n\r\nThis notification is not much of a problem though, because the screen is most likely off while the service is running. You can also customize your notification, and it is better for the user to know what is going on in the background.\r\n\r\nHere&#39;s some sample recording code, from [vanevery&#39;s answer here][2]:\r\n\r\n    public class VideoCapture extends Activity implements OnClickListener, SurfaceHolder.Callback {\r\n        MediaRecorder recorder;\r\n        SurfaceHolder holder;\r\n        boolean recording = false;\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n    \r\n            recorder = new MediaRecorder();\r\n            initRecorder();\r\n            setContentView(R.layout.main);\r\n    \r\n            SurfaceView cameraView = (SurfaceView) findViewById(R.id.CameraView);\r\n            holder = cameraView.getHolder();\r\n            holder.addCallback(this);\r\n            holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\r\n    \r\n            cameraView.setClickable(true);\r\n            cameraView.setOnClickListener(this);\r\n        }\r\n    \r\n        private void initRecorder() {\r\n            recorder.setAudioSource(MediaRecorder.AudioSource.DEFAULT);\r\n            recorder.setVideoSource(MediaRecorder.VideoSource.DEFAULT);\r\n    \r\n            CamcorderProfile cpHigh = CamcorderProfile\r\n                    .get(CamcorderProfile.QUALITY_HIGH);\r\n            recorder.setProfile(cpHigh);\r\n            recorder.setOutputFile(&quot;/sdcard/videocapture_example.mp4&quot;);\r\n            recorder.setMaxDuration(50000); // 50 seconds\r\n            recorder.setMaxFileSize(5000000); // Approximately 5 megabytes\r\n        }\r\n    \r\n        private void prepareRecorder() {\r\n            recorder.setPreviewDisplay(holder.getSurface());\r\n    \r\n            try {\r\n                recorder.prepare();\r\n            } catch (IllegalStateException e) {\r\n                e.printStackTrace();\r\n                finish();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                finish();\r\n            }\r\n        }\r\n    \r\n        public void onClick(View v) {\r\n            if (recording) {\r\n                recorder.stop();\r\n                recording = false;\r\n    \r\n                // Let&#39;s initRecorder so we can record again\r\n                initRecorder();\r\n                prepareRecorder();\r\n            } else {\r\n                recording = true;\r\n                recorder.start();\r\n            }\r\n        }\r\n    \r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            prepareRecorder();\r\n        }\r\n    \r\n        public void surfaceChanged(SurfaceHolder holder, int format, int width,\r\n                int height) {\r\n        }\r\n    \r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            if (recording) {\r\n                recorder.stop();\r\n                recording = false;\r\n            }\r\n            recorder.release();\r\n            finish();\r\n        }\r\n    }\r\n\r\nAgain, put that code into a long running foreground service, as I explained earlier.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/axElh.png\r\n  [2]: https://stackoverflow.com/a/4379320/208273","title":"Android app video recording when screen off","body":"<p>Most of the time, when something needs to be done offline, it is done in a <code>service</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/axElh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axElh.png\" alt=\"enter image description here\" /></a>\n(<a href=\"http://www.slideshare.net\" rel=\"nofollow noreferrer\">www.slideshare.net</a>)</p>\n<p>Assuming you don't know what a service is, from the docs:</p>\n<blockquote>\n<p>A Service is an application component representing either an\napplication's desire to perform a longer-running operation while not\ninteracting with the user or to supply functionality for other\napplications to use. Each service class must have a corresponding\n declaration in its package's AndroidManifest.xml. Services\ncan be started with Context.startService() and Context.bindService().</p>\n</blockquote>\n<p>So basically, its just something that runs in the background, including when the screen is off. Now, <strong>all you have to do, is put your recording code in a service.</strong> You may face a problem that your service gets killed by the system, as the android docs specify:</p>\n<blockquote>\n<p>Note this means that most of the time your service is running, it may\nbe killed by the system if it is under heavy memory pressure. If this\nhappens, the system will later try to restart the service. An\nimportant consequence of this is that if you implement\nonStartCommand() to schedule work to be done asynchronously or in\nanother thread, then you may want to use START_FLAG_REDELIVERY to have\nthe system re-deliver an Intent for you so that it does not get lost\nif your service is killed while processing it.</p>\n</blockquote>\n<p>In this case, you will need to add certain code to keep the service in the <strong>foreground</strong> and make sure that it doesn't get killed:</p>\n<pre><code>startForeground();//keeps service from getting destroyed.\n</code></pre>\n<p>The only problem that this could provide is a constant notification for the time that the service is alive.</p>\n<p>You may also use <code>startSticky()</code>:</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    \n       // We want this service to continue running until it is explicitly\n       // stopped, so return sticky.\n       return START_STICKY;\n}\n</code></pre>\n<p>Now, say you are done recording. You can use:</p>\n<pre><code>stopSelf();\n</code></pre>\n<p>to stop the service, or:</p>\n<pre><code>Context.stopService();\n</code></pre>\n<p>This notification is not much of a problem though, because the screen is most likely off while the service is running. You can also customize your notification, and it is better for the user to know what is going on in the background.</p>\n<p>Here's some sample recording code, from <a href=\"https://stackoverflow.com/a/4379320/208273\">vanevery's answer here</a>:</p>\n<pre><code>public class VideoCapture extends Activity implements OnClickListener, SurfaceHolder.Callback {\n    MediaRecorder recorder;\n    SurfaceHolder holder;\n    boolean recording = false;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n\n        recorder = new MediaRecorder();\n        initRecorder();\n        setContentView(R.layout.main);\n\n        SurfaceView cameraView = (SurfaceView) findViewById(R.id.CameraView);\n        holder = cameraView.getHolder();\n        holder.addCallback(this);\n        holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\n\n        cameraView.setClickable(true);\n        cameraView.setOnClickListener(this);\n    }\n\n    private void initRecorder() {\n        recorder.setAudioSource(MediaRecorder.AudioSource.DEFAULT);\n        recorder.setVideoSource(MediaRecorder.VideoSource.DEFAULT);\n\n        CamcorderProfile cpHigh = CamcorderProfile\n                .get(CamcorderProfile.QUALITY_HIGH);\n        recorder.setProfile(cpHigh);\n        recorder.setOutputFile(&quot;/sdcard/videocapture_example.mp4&quot;);\n        recorder.setMaxDuration(50000); // 50 seconds\n        recorder.setMaxFileSize(5000000); // Approximately 5 megabytes\n    }\n\n    private void prepareRecorder() {\n        recorder.setPreviewDisplay(holder.getSurface());\n\n        try {\n            recorder.prepare();\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n            finish();\n        } catch (IOException e) {\n            e.printStackTrace();\n            finish();\n        }\n    }\n\n    public void onClick(View v) {\n        if (recording) {\n            recorder.stop();\n            recording = false;\n\n            // Let's initRecorder so we can record again\n            initRecorder();\n            prepareRecorder();\n        } else {\n            recording = true;\n            recorder.start();\n        }\n    }\n\n    public void surfaceCreated(SurfaceHolder holder) {\n        prepareRecorder();\n    }\n\n    public void surfaceChanged(SurfaceHolder holder, int format, int width,\n            int height) {\n    }\n\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        if (recording) {\n            recorder.stop();\n            recording = false;\n        }\n        recorder.release();\n        finish();\n    }\n}\n</code></pre>\n<p>Again, put that code into a long running foreground service, as I explained earlier.</p>\n"}],"owner":{"account_id":4765526,"reputation":237,"user_id":3851711,"display_name":"Rajeshwar Rudra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12770,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":1,"score":23,"last_activity_date":1684116657,"creation_date":1413439783,"question_id":26397382,"body_markdown":"What I am trying to do is that make an app that can record video or audio while the screen is off. Either we start recording and then switch off the screen or the recorder should trigger with a voice or any other external command. In either case the app should keep on recording.\r\n\r\nPlease provide code of you can.","title":"Android app video recording when screen off","body":"<p>What I am trying to do is that make an app that can record video or audio while the screen is off. Either we start recording and then switch off the screen or the recorder should trigger with a voice or any other external command. In either case the app should keep on recording.</p>\n\n<p>Please provide code of you can.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":5,"creation_date":1684102226,"post_id":76249853,"comment_id":134463654,"body_markdown":"`getEmptyStack()` looks a lot like a factory method to me, and doesn&#39;t prevent me from making actual constructors for that class. You might consider factory methods if you haven&#39;t.  But also I don&#39;t see a perfect &quot;Java does exactly what you want it to&quot; way to do this.  What you have now is already too complicated imo, and any maintenance programmer would complain about it being difficult.","body":"<code>getEmptyStack()</code> looks a lot like a factory method to me, and doesn&#39;t prevent me from making actual constructors for that class. You might consider factory methods if you haven&#39;t.  But also I don&#39;t see a perfect &quot;Java does exactly what you want it to&quot; way to do this.  What you have now is already too complicated imo, and any maintenance programmer would complain about it being difficult."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1684104887,"post_id":76249853,"comment_id":134463857,"body_markdown":"[*What are static factory methods?*](https://stackoverflow.com/q/929021/642706). And https://en.m.wikipedia.org/wiki/Factory_method_pattern","body":"<a href=\"https://stackoverflow.com/q/929021/642706\"><i>What are static factory methods?</i></a>. And <a href=\"https://en.m.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Factory_method_pattern</a>"},{"owner":{"account_id":10242804,"reputation":649,"user_id":8045100,"display_name":"Frank Hopkins"},"score":0,"creation_date":1684105742,"post_id":76249853,"comment_id":134463928,"body_markdown":"aside from using factory methods as a means to initiate instances - why would you try to force a force constructors in the first place? If you implement a subclass then you would need to worry about how to instantiate it, and there typically is no need to force a certain way, different implementation might have different requirements for their constructions. And if you want to have a standardized way for dynamic switches without custom code to bind each implementation instantiation to the switch then a separate factory would be what you want typically.","body":"aside from using factory methods as a means to initiate instances - why would you try to force a force constructors in the first place? If you implement a subclass then you would need to worry about how to instantiate it, and there typically is no need to force a certain way, different implementation might have different requirements for their constructions. And if you want to have a standardized way for dynamic switches without custom code to bind each implementation instantiation to the switch then a separate factory would be what you want typically."},{"owner":{"account_id":378093,"reputation":1053,"user_id":730606,"accept_rate":92,"display_name":"Polymer"},"score":0,"creation_date":1684106890,"post_id":76249853,"comment_id":134464006,"body_markdown":"I reviewed the Factory method. Are folks suggesting I implement `Stack` as an abstract class and reverse as one of its methods? And then the creation logic goes into child classes of `Stack` (so an `ArrayStack`, and `LinkedStack` would be child classes)? How would I then get reverse to then return a definite instance of the child classes?","body":"I reviewed the Factory method. Are folks suggesting I implement <code>Stack</code> as an abstract class and reverse as one of its methods? And then the creation logic goes into child classes of <code>Stack</code> (so an <code>ArrayStack</code>, and <code>LinkedStack</code> would be child classes)? How would I then get reverse to then return a definite instance of the child classes?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1684107021,"creation_date":1684106783,"answer_id":76250079,"question_id":76249853,"body_markdown":"For starters, Stack doesn&#39;t need a 2nd generic type parameter declared on the type.\r\n\r\n    interface Stack&lt;V, T&gt; {\r\n        public V getEmptyStack();\r\n\r\ncan become\r\n\r\n    interface Stack&lt;T&gt; {\r\n        public &lt;V&gt; Stack&lt;V&gt; getEmptyStack();\r\n\r\nThat should simplify things quite a lot.\r\n\r\n&gt; With the above defined, I can define a generic method &quot;reverse&quot;:\r\n\r\nYou can do that without that weird method by choosing a different implementation. You&#39;re already modifying the input stack. You may as well reuse that instance.\r\n\r\n    public static &lt;T, U extends Stack&lt;T&gt;&gt; U reverse(U s){\r\n        List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n        while (!s.isEmpty()){\r\n            items.add(s.pop());\r\n        }\r\n        for (int i = items.size() - 1; i &gt;= 0; i--) {\r\n            s.push(items.get(i));\r\n        }\r\n        return s;\r\n    }\r\n\r\n&gt; Would folks generally be less confused by `getDeclaredConstructor` and\r\n&gt; `newInstance` than what I wrote above?\r\n\r\nYes, probably.\r\n\r\n&gt; I want the interface to require constructor methods which return the\r\n&gt; subtype implementing the interface\r\n\r\nIf I had a real need for this - and I have in the past - then I&#39;d just put a JavaDoc on the interface stating that requirement.","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>For starters, Stack doesn't need a 2nd generic type parameter declared on the type.</p>\n<pre><code>interface Stack&lt;V, T&gt; {\n    public V getEmptyStack();\n</code></pre>\n<p>can become</p>\n<pre><code>interface Stack&lt;T&gt; {\n    public &lt;V&gt; Stack&lt;V&gt; getEmptyStack();\n</code></pre>\n<p>That should simplify things quite a lot.</p>\n<blockquote>\n<p>With the above defined, I can define a generic method &quot;reverse&quot;:</p>\n</blockquote>\n<p>You can do that without that weird method by choosing a different implementation. You're already modifying the input stack. You may as well reuse that instance.</p>\n<pre><code>public static &lt;T, U extends Stack&lt;T&gt;&gt; U reverse(U s){\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n    while (!s.isEmpty()){\n        items.add(s.pop());\n    }\n    for (int i = items.size() - 1; i &gt;= 0; i--) {\n        s.push(items.get(i));\n    }\n    return s;\n}\n</code></pre>\n<blockquote>\n<p>Would folks generally be less confused by <code>getDeclaredConstructor</code> and\n<code>newInstance</code> than what I wrote above?</p>\n</blockquote>\n<p>Yes, probably.</p>\n<blockquote>\n<p>I want the interface to require constructor methods which return the\nsubtype implementing the interface</p>\n</blockquote>\n<p>If I had a real need for this - and I have in the past - then I'd just put a JavaDoc on the interface stating that requirement.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1684114922,"creation_date":1684107691,"answer_id":76250114,"question_id":76249853,"body_markdown":"Reflection is just the wrong bet. In general treating a `Class&lt;?&gt;` reference as a place for &#39;type-wide operations&#39; __is wrong__.\r\n\r\nIt sounds enticing, though, doesn&#39;t it? Let&#39;s cover why it feels like the right answer, so that we know what alternative we need to find, because I&#39;ll follow this up why it&#39;s wrong.\r\n\r\n## Why `Class&lt;?&gt;` / static methods feels right\r\n\r\nThe class itself _is_ the place where such things should live (operations that make sense on arraylist should live in the arraylist type - that&#39;s a statement that would get _very_ broad agreement).\r\n\r\nIn java terminology, there are 2 different things that both serve as &#39;class-global&#39; functions: Constructors, and static methods. At a more pragmatic level there is effectively zero difference between those two constructs: They both do not require a receiver (`x.foo()` - `x` is the receiver), and they both __completely operate outside the type hierarchy__. static methods cannot be inherited. The language makes it look like you do, but this is fake - they don&#39;t engage in dynamic dispatch, any call to a static method is &#39;linked&#39; by `javac` and isn&#39;t going to change at runtime (vs. any call to an instance method, where the JVM will apply dynamic dispatch and call the most specific override). Constructors also cannot be.\r\n\r\nNevertheless, for an operation that doesn&#39;t make sense to call on any specific `ArrayStack`, but does make sense to call on the concept of &#39;array stacks&#39;, all our textbooks say: That should be a static method inside `ArrayStack`. And if the specific operation we want to perform results in the creation of a new one, we&#39;d want a constructor (which is just a weird static method).\r\n\r\nBut, as I mentioned, __static methods just do not &#39;do&#39; inheritance or a type hierarchy__ - you cannot define static methods (or constructors) in an interface, period. So when you want the power of generics and type hierarchy, you __just have to look elsewhere__.\r\n\r\nIn theory you can indeed just pass `Class&lt;?&gt;` instances around and use `.getConstructor().newInstance()` as ersatz &#39;type hierarchy-engaging, generified constructors&#39; and even use e.g. `.getDeclaredMethod().invoke(null, params-go-here)` to declare static methods.\r\n\r\nBut we&#39;ve now left the typing system behind completely. It is not possible to use the type system to enforce a no-args constructor, or the existence of a static method. And reflection is very hard to work with (all sorts of exceptions that fall out, for example, and things are now &#39;stringly typed&#39; - if you typo that static method the docs decree you must have, the compiler won&#39;t tell you. In constrast to fat-fingering the name of a method you must implement because you `implements` some interface, in which case `javac` will tell you immediately you did it wrong. The tooling also helps: I can just type the fist few letters of a method defined in an interface I `implements`, hit CMD+SPACE in eclipse, and eclipse instantly fills in all the blanks (the full name, `public`, the argument types and sensible names, even a `throws` clause if relevant and an `@Override` annotation). None of that is available if you attempt to use reflection to call into static methods or constructors.\r\n\r\n`Class&lt;?&gt;` is also &#39;broken generics&#39; - they can only go one level deep. You can have a `Class&lt;String&gt;`, and its `.getConstructor().newInstance()`  method will have type `String`. But you simply cannot have a `Class&lt;List&lt;String&gt;&gt;` - there is only one class object for all strings, it __cannot__ be generified. That&#39;s quite a deleterious downside of even trying.\r\n\r\n## So what do you do?\r\n\r\nFACTORIES!\r\n\r\nI know, I know. It&#39;s a meme. Oh, those crazy java programmers and their `BeanFactoryCreatorMachineDoohickeyFactory` craziness.\r\n\r\nBut, that&#39;s just, I guess, misleading. At least, don&#39;t let that deter you from using the concept, because it is __precisely what you want here: It&#39;s type-system-engaged, generics-capable class-wide operations__.\r\n\r\nThe idea is simple. Let&#39;s take this stack notion and decree that any implementation of the concept `Stack` must provide some type-wide operations, which includes making a new empty one, but may also include more operations. For example, consider a generalized number system (where you have some Number concept, and you have &#39;complex number&#39;, &#39;vector number&#39;, &#39;real number&#39;, &#39;number stored as divisor and dividend&#39;, and so on. You may want type-wide &#39;construct me a new instance of you, with this int value&#39; but also a &#39;construct me a multiplicative unit value of yourself, e.g. 0 for real numbers, 0+0i for complex, an all-zeroes-except-for-a-diagonal-with-ones matrix, and so on&#39; operation.\r\n\r\nFactory is how you do that. You create a second type hierarchy that represents instances (generally, only one instance per type) that represents that object that is capable of doing these operations:\r\n\r\n```\r\ninterface StackFactory {\r\n  &lt;T&gt; Stack&lt;T&gt; create();\r\n  boolean isRandomAccess();\r\n}\r\n\r\n// and an example implementation:\r\n\r\npublic class ArrayStackFactory implements StackFactory {\r\n  &lt;T&gt; public ArrayStack&lt;T&gt; create() {\r\n    return new ArrayStack&lt;T&gt;();\r\n  }\r\n\r\n  public boolean isRandomAccess() {\r\n    return true;\r\n  }\r\n}\r\n\r\npublic interface Stack&lt;T&gt; { ... }\r\npublic class ArrayStack&lt;T&gt; implements Stack&lt;T&gt; { ... }\r\n```\r\n\r\n\r\nThis does some of what you want:\r\n\r\nGiven &#39;some sort of StackFactory&#39;, you can just call `create()` on it and get a `Stack&lt;T&gt;` back. That&#39;s perfect. However, if you know the specific type of the stackfactory you get a more specific type back. This works:\r\n\r\n```\r\nArrayStackFactory asf = ....;\r\nArrayStack&lt;String&gt; = asf.create();\r\n```\r\n\r\nOne downside is here is that java doesn&#39;t let you &#39;program&#39; your type vars. You therefore can&#39;t have a typevar representing the stack type (say, `ArrayStack`), and then have a method that combines that typevar with an element typevar and thus produce the type `ArrayStack&lt;String&gt;` from separate typevars `ArrayStack` and `String`. e.g. your reverse method can&#39;t quite get the job done.\r\n\r\nThis would have been very neat:\r\n\r\n```\r\ninterface StackFactory&lt;S extends Stack&gt; {\r\n  &lt;T&gt; S&lt;T&gt; create();\r\n}\r\n```\r\n\r\nBut that&#39;s a java limitation that you can&#39;t work around, other than by &#39;casting&#39; to generics (which does nothing, other than make the compiler stop complaining. It doesn&#39;t actually type test), and `@SuppressWarnings` the warning the compiler throws at you when you do that.\r\n\r\n----\r\n\r\nEDIT: Upon request, how `reverse` would work. Also, as a bonus, when your &#39;factory&#39; only needs to expose one thing (e.g. the interface would have just the one method), instead you can just use `Supplier&lt;X&gt;` (or `Function&lt;K, V&gt;` if the operation takes an argument, and so on - something from the java.util.function package). This is in fact exactly what `Collection.toArray()` takes (its signature is `public &lt;T&gt; T[] toArray(IntFunction&lt;T[]&gt; arrayMaker)` - where arraymaker turns a requested size into an array of that size, and can be as simple as `String[]::new` which is an `IntFunction&lt;String[]&gt;`):\r\n\r\n```\r\npublic static &lt;T&gt; Stack&lt;T&gt; reverse(Stack&lt;T&gt; in) {\r\n  Stack&lt;T&gt; out = in.factory().create();\r\n  while (!in.isEmpty()) out.push(in.pop());\r\n  return out;\r\n}\r\n```\r\n\r\nThis assumes the `Stack` interface is updated to require that all stacks are capable of returning their factory. Alternatively, you can instead require that the factory is part of the argument. This is how `toArray` works (you pass the factory in, in the form of an `IntFunction&lt;T[]&gt;`).\r\n\r\nWe can do that &#39;in one go&#39;, so to speak, __and__ get rid of our &#39;util&#39; class entirely (util classes are kinda ugly, they really shouldn&#39;t exist). Java has default methods now:\r\n\r\n```\r\npublic interface Stack&lt;T&gt; {\r\n  StackFactory factory();\r\n  T pop();\r\n  void push(T elem);\r\n  boolean isEmpty();\r\n\r\n  default Stack&lt;T&gt; reverse() {\r\n    Stack&lt;T&gt; out = this.factory().create();\r\n    while (!this.isEmpty()) out.push(this.pop());\r\n    return out;\r\n  }\r\n}\r\n```\r\n\r\nOr even, using a pass-in factory:\r\n\r\n```\r\npublic interface Stack&lt;T&gt; {\r\n  T pop();\r\n  void push(T elem);\r\n  boolean isEmpty();\r\n\r\n  default &lt;S extends Stack&lt;T&gt;&gt; S reverse(Supplier&lt;S&gt; supplier) {\r\n    S out = supplier.get();\r\n    while (!this.isEmpty()) out.push(this.pop());\r\n    return out;\r\n  }\r\n}\r\n```\r\n\r\nto use that last one:\r\n\r\n```\r\nArrayStack&lt;String&gt; myStack = ...;\r\nArrayStack&lt;String&gt; reversed = someArrayStack.reverse(ArrayStack::new);\r\n```\r\n\r\nWhich is neat in that it even lets us assign to a variable of type `ArrayStack` which the rest of these options can&#39;t manage.\r\n","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>Reflection is just the wrong bet. In general treating a <code>Class&lt;?&gt;</code> reference as a place for 'type-wide operations' <strong>is wrong</strong>.</p>\n<p>It sounds enticing, though, doesn't it? Let's cover why it feels like the right answer, so that we know what alternative we need to find, because I'll follow this up why it's wrong.</p>\n<h2>Why <code>Class&lt;?&gt;</code> / static methods feels right</h2>\n<p>The class itself <em>is</em> the place where such things should live (operations that make sense on arraylist should live in the arraylist type - that's a statement that would get <em>very</em> broad agreement).</p>\n<p>In java terminology, there are 2 different things that both serve as 'class-global' functions: Constructors, and static methods. At a more pragmatic level there is effectively zero difference between those two constructs: They both do not require a receiver (<code>x.foo()</code> - <code>x</code> is the receiver), and they both <strong>completely operate outside the type hierarchy</strong>. static methods cannot be inherited. The language makes it look like you do, but this is fake - they don't engage in dynamic dispatch, any call to a static method is 'linked' by <code>javac</code> and isn't going to change at runtime (vs. any call to an instance method, where the JVM will apply dynamic dispatch and call the most specific override). Constructors also cannot be.</p>\n<p>Nevertheless, for an operation that doesn't make sense to call on any specific <code>ArrayStack</code>, but does make sense to call on the concept of 'array stacks', all our textbooks say: That should be a static method inside <code>ArrayStack</code>. And if the specific operation we want to perform results in the creation of a new one, we'd want a constructor (which is just a weird static method).</p>\n<p>But, as I mentioned, <strong>static methods just do not 'do' inheritance or a type hierarchy</strong> - you cannot define static methods (or constructors) in an interface, period. So when you want the power of generics and type hierarchy, you <strong>just have to look elsewhere</strong>.</p>\n<p>In theory you can indeed just pass <code>Class&lt;?&gt;</code> instances around and use <code>.getConstructor().newInstance()</code> as ersatz 'type hierarchy-engaging, generified constructors' and even use e.g. <code>.getDeclaredMethod().invoke(null, params-go-here)</code> to declare static methods.</p>\n<p>But we've now left the typing system behind completely. It is not possible to use the type system to enforce a no-args constructor, or the existence of a static method. And reflection is very hard to work with (all sorts of exceptions that fall out, for example, and things are now 'stringly typed' - if you typo that static method the docs decree you must have, the compiler won't tell you. In constrast to fat-fingering the name of a method you must implement because you <code>implements</code> some interface, in which case <code>javac</code> will tell you immediately you did it wrong. The tooling also helps: I can just type the fist few letters of a method defined in an interface I <code>implements</code>, hit CMD+SPACE in eclipse, and eclipse instantly fills in all the blanks (the full name, <code>public</code>, the argument types and sensible names, even a <code>throws</code> clause if relevant and an <code>@Override</code> annotation). None of that is available if you attempt to use reflection to call into static methods or constructors.</p>\n<p><code>Class&lt;?&gt;</code> is also 'broken generics' - they can only go one level deep. You can have a <code>Class&lt;String&gt;</code>, and its <code>.getConstructor().newInstance()</code>  method will have type <code>String</code>. But you simply cannot have a <code>Class&lt;List&lt;String&gt;&gt;</code> - there is only one class object for all strings, it <strong>cannot</strong> be generified. That's quite a deleterious downside of even trying.</p>\n<h2>So what do you do?</h2>\n<p>FACTORIES!</p>\n<p>I know, I know. It's a meme. Oh, those crazy java programmers and their <code>BeanFactoryCreatorMachineDoohickeyFactory</code> craziness.</p>\n<p>But, that's just, I guess, misleading. At least, don't let that deter you from using the concept, because it is <strong>precisely what you want here: It's type-system-engaged, generics-capable class-wide operations</strong>.</p>\n<p>The idea is simple. Let's take this stack notion and decree that any implementation of the concept <code>Stack</code> must provide some type-wide operations, which includes making a new empty one, but may also include more operations. For example, consider a generalized number system (where you have some Number concept, and you have 'complex number', 'vector number', 'real number', 'number stored as divisor and dividend', and so on. You may want type-wide 'construct me a new instance of you, with this int value' but also a 'construct me a multiplicative unit value of yourself, e.g. 0 for real numbers, 0+0i for complex, an all-zeroes-except-for-a-diagonal-with-ones matrix, and so on' operation.</p>\n<p>Factory is how you do that. You create a second type hierarchy that represents instances (generally, only one instance per type) that represents that object that is capable of doing these operations:</p>\n<pre><code>interface StackFactory {\n  &lt;T&gt; Stack&lt;T&gt; create();\n  boolean isRandomAccess();\n}\n\n// and an example implementation:\n\npublic class ArrayStackFactory implements StackFactory {\n  &lt;T&gt; public ArrayStack&lt;T&gt; create() {\n    return new ArrayStack&lt;T&gt;();\n  }\n\n  public boolean isRandomAccess() {\n    return true;\n  }\n}\n\npublic interface Stack&lt;T&gt; { ... }\npublic class ArrayStack&lt;T&gt; implements Stack&lt;T&gt; { ... }\n</code></pre>\n<p>This does some of what you want:</p>\n<p>Given 'some sort of StackFactory', you can just call <code>create()</code> on it and get a <code>Stack&lt;T&gt;</code> back. That's perfect. However, if you know the specific type of the stackfactory you get a more specific type back. This works:</p>\n<pre><code>ArrayStackFactory asf = ....;\nArrayStack&lt;String&gt; = asf.create();\n</code></pre>\n<p>One downside is here is that java doesn't let you 'program' your type vars. You therefore can't have a typevar representing the stack type (say, <code>ArrayStack</code>), and then have a method that combines that typevar with an element typevar and thus produce the type <code>ArrayStack&lt;String&gt;</code> from separate typevars <code>ArrayStack</code> and <code>String</code>. e.g. your reverse method can't quite get the job done.</p>\n<p>This would have been very neat:</p>\n<pre><code>interface StackFactory&lt;S extends Stack&gt; {\n  &lt;T&gt; S&lt;T&gt; create();\n}\n</code></pre>\n<p>But that's a java limitation that you can't work around, other than by 'casting' to generics (which does nothing, other than make the compiler stop complaining. It doesn't actually type test), and <code>@SuppressWarnings</code> the warning the compiler throws at you when you do that.</p>\n<hr />\n<p>EDIT: Upon request, how <code>reverse</code> would work. Also, as a bonus, when your 'factory' only needs to expose one thing (e.g. the interface would have just the one method), instead you can just use <code>Supplier&lt;X&gt;</code> (or <code>Function&lt;K, V&gt;</code> if the operation takes an argument, and so on - something from the java.util.function package). This is in fact exactly what <code>Collection.toArray()</code> takes (its signature is <code>public &lt;T&gt; T[] toArray(IntFunction&lt;T[]&gt; arrayMaker)</code> - where arraymaker turns a requested size into an array of that size, and can be as simple as <code>String[]::new</code> which is an <code>IntFunction&lt;String[]&gt;</code>):</p>\n<pre><code>public static &lt;T&gt; Stack&lt;T&gt; reverse(Stack&lt;T&gt; in) {\n  Stack&lt;T&gt; out = in.factory().create();\n  while (!in.isEmpty()) out.push(in.pop());\n  return out;\n}\n</code></pre>\n<p>This assumes the <code>Stack</code> interface is updated to require that all stacks are capable of returning their factory. Alternatively, you can instead require that the factory is part of the argument. This is how <code>toArray</code> works (you pass the factory in, in the form of an <code>IntFunction&lt;T[]&gt;</code>).</p>\n<p>We can do that 'in one go', so to speak, <strong>and</strong> get rid of our 'util' class entirely (util classes are kinda ugly, they really shouldn't exist). Java has default methods now:</p>\n<pre><code>public interface Stack&lt;T&gt; {\n  StackFactory factory();\n  T pop();\n  void push(T elem);\n  boolean isEmpty();\n\n  default Stack&lt;T&gt; reverse() {\n    Stack&lt;T&gt; out = this.factory().create();\n    while (!this.isEmpty()) out.push(this.pop());\n    return out;\n  }\n}\n</code></pre>\n<p>Or even, using a pass-in factory:</p>\n<pre><code>public interface Stack&lt;T&gt; {\n  T pop();\n  void push(T elem);\n  boolean isEmpty();\n\n  default &lt;S extends Stack&lt;T&gt;&gt; S reverse(Supplier&lt;S&gt; supplier) {\n    S out = supplier.get();\n    while (!this.isEmpty()) out.push(this.pop());\n    return out;\n  }\n}\n</code></pre>\n<p>to use that last one:</p>\n<pre><code>ArrayStack&lt;String&gt; myStack = ...;\nArrayStack&lt;String&gt; reversed = someArrayStack.reverse(ArrayStack::new);\n</code></pre>\n<p>Which is neat in that it even lets us assign to a variable of type <code>ArrayStack</code> which the rest of these options can't manage.</p>\n"}],"owner":{"account_id":378093,"reputation":1053,"user_id":730606,"accept_rate":92,"display_name":"Polymer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76250114,"answer_count":2,"score":0,"last_activity_date":1684114922,"creation_date":1684101594,"question_id":76249853,"body_markdown":"I&#39;m trying to initialize generic types in generic methods. I&#39;ve since learned you can&#39;t require constructors in interfaces, so I figured out how to use generics to roughly fake the same behavior:\r\n\r\n```\r\ninterface Stack&lt;V, T&gt;{\r\n    public V getEmptyStack();  //V is supposed to be the subclass\r\n    public V copy(V s);\r\n    public void push(T e);\r\n    public T pop();\r\n    public boolean isEmpty();\r\n}\r\n\r\nclass ArrayStack&lt;T&gt; implements Stack&lt;ArrayStack&lt;T&gt;, T&gt;{ //Have to pass subclass\r\n\r\n    public ArrayStack&lt;T&gt; getEmptyStack(){ //Constructor returns type of the class.\r\n        return new ArrayStack&lt;T&gt;();\r\n    }\r\n...\r\n```\r\nWith the above defined, I can define a generic method &quot;reverse&quot;:\r\n\r\n```\r\npublic static &lt;V, S extends Stack&lt;S,V&gt; &gt; S reverse(S s){\r\n    s = s.copy();\r\n    S out = s.getEmptyStack(); //Trying to initialize out as simply as possible.\r\n    while(!s.isEmpty()){\r\n        out.push(s.pop());\r\n    }\r\n    return out;\r\n}\r\n```\r\nI want the interface to require constructor methods which return the subtype implementing the interface. The current interface does this if it&#39;s implemented correctly; however it is a bit complicated.\r\n\r\nIf Java can&#39;t do this in a simpler way, I&#39;d like to know the idiomatic patterns for initializing generic types. Would folks generally be less confused by `getDeclaredConstructor` and `newInstance` than what I wrote above? Or is what I wrote above fine?","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>I'm trying to initialize generic types in generic methods. I've since learned you can't require constructors in interfaces, so I figured out how to use generics to roughly fake the same behavior:</p>\n<pre><code>interface Stack&lt;V, T&gt;{\n    public V getEmptyStack();  //V is supposed to be the subclass\n    public V copy(V s);\n    public void push(T e);\n    public T pop();\n    public boolean isEmpty();\n}\n\nclass ArrayStack&lt;T&gt; implements Stack&lt;ArrayStack&lt;T&gt;, T&gt;{ //Have to pass subclass\n\n    public ArrayStack&lt;T&gt; getEmptyStack(){ //Constructor returns type of the class.\n        return new ArrayStack&lt;T&gt;();\n    }\n...\n</code></pre>\n<p>With the above defined, I can define a generic method &quot;reverse&quot;:</p>\n<pre><code>public static &lt;V, S extends Stack&lt;S,V&gt; &gt; S reverse(S s){\n    s = s.copy();\n    S out = s.getEmptyStack(); //Trying to initialize out as simply as possible.\n    while(!s.isEmpty()){\n        out.push(s.pop());\n    }\n    return out;\n}\n</code></pre>\n<p>I want the interface to require constructor methods which return the subtype implementing the interface. The current interface does this if it's implemented correctly; however it is a bit complicated.</p>\n<p>If Java can't do this in a simpler way, I'd like to know the idiomatic patterns for initializing generic types. Would folks generally be less confused by <code>getDeclaredConstructor</code> and <code>newInstance</code> than what I wrote above? Or is what I wrote above fine?</p>\n"},{"tags":["java","powershell","visual-studio-code"],"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684114836,"answer_count":0,"score":0,"last_activity_date":1684114774,"creation_date":1684114683,"question_id":76250395,"body_markdown":"I am programming in Java in Vscode. The situation is that the code takes a considerable time to execute, when I would think it should be almost instantaneous. I get the message: &quot;Loading personal and system profiles took Xms&quot;. I don&#39;t know what it means and I don&#39;t know if it is related to the fact that the terminal took time to execute the code.\r\n\r\nDo you know why this happens and how to fix it? It would be like speeding up Vscode&#39;s terminal response time or something. Thank you!\r\n\r\n[Problem][1]\r\nI have updated Powershell but there was no change in Vscode\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dayyP.png","title":"Why does this appear in the VSCode terminal? How do I make it not take so long to run the code?","body":"<p>I am programming in Java in Vscode. The situation is that the code takes a considerable time to execute, when I would think it should be almost instantaneous. I get the message: &quot;Loading personal and system profiles took Xms&quot;. I don't know what it means and I don't know if it is related to the fact that the terminal took time to execute the code.</p>\n<p>Do you know why this happens and how to fix it? It would be like speeding up Vscode's terminal response time or something. Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/dayyP.png\" rel=\"nofollow noreferrer\">Problem</a>\nI have updated Powershell but there was no change in Vscode</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683908186,"post_id":76234163,"comment_id":134443772,"body_markdown":"Please avoid using images for posting code. To show the types in DB, please post the `CREATE TABLE` statement or use markdown [table](https://stackoverflow.com/editing-help#tables). And the type handler should simply be in a code block. I think it&#39;s possible to write a custom type handler, but first, the mapper method you posted (i.e. `insertN()`) is a default method and the specified type handler may not be invoked. `@Results` annotation should be added to the `insert()` method instead.","body":"Please avoid using images for posting code. To show the types in DB, please post the <code>CREATE TABLE</code> statement or use markdown <a href=\"https://stackoverflow.com/editing-help#tables\">table</a>. And the type handler should simply be in a code block. I think it&#39;s possible to write a custom type handler, but first, the mapper method you posted (i.e. <code>insertN()</code>) is a default method and the specified type handler may not be invoked. <code>@Results</code> annotation should be added to the <code>insert()</code> method instead."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1683941777,"post_id":76234163,"comment_id":134448453,"body_markdown":"Thanks for your advice and help offered, I am new here and will learn to improve. I re-edited the question and hopefully that is clearer now. Sincerely thanks for your attention.","body":"Thanks for your advice and help offered, I am new here and will learn to improve. I re-edited the question and hopefully that is clearer now. Sincerely thanks for your attention."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683942719,"post_id":76234163,"comment_id":134448494,"body_markdown":"Actually, as it&#39;s a INSERT statement, `@Results` won&#39;t be used at all. I&#39;ll add an answer soon.","body":"Actually, as it&#39;s a INSERT statement, <code>@Results</code> won&#39;t be used at all. I&#39;ll add an answer soon."}],"answers":[{"tags":[],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684113912,"creation_date":1683886574,"answer_id":76235289,"question_id":76234163,"body_markdown":"Ah, ave surely offered me the right solution, he is the real master. \r\n&gt; After some surveys, I am pretty much sure that the problem is not\r\n&gt; solvable as Java JDBC doesn&#39;t offer a set method for bit(n) type in\r\n&gt; Postgresql. The JDBC type BIT actually refers to bit(1) in Postgresql\r\n&gt; which can be mapped to Boolean in Java.\r\n\r\n","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>Ah, ave surely offered me the right solution, he is the real master.</p>\n<blockquote>\n<p>After some surveys, I am pretty much sure that the problem is not\nsolvable as Java JDBC doesn't offer a set method for bit(n) type in\nPostgresql. The JDBC type BIT actually refers to bit(1) in Postgresql\nwhich can be mapped to Boolean in Java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683943633,"creation_date":1683943633,"answer_id":76240804,"question_id":76234163,"body_markdown":"To specify a custom type handler for INSERT, you need to specify `typeHandler` in each parameter reference.\r\n\r\n```sql\r\ninsert into ... values (..., #{role,typeHandler=pkg.BitByteaTypeHandler}, ...\r\n```\r\n\r\nRegarding `BIT(n)` support, there is an ongoing discussion.  \r\nhttps://github.com/pgjdbc/pgjdbc/issues/908\r\n\r\nWith pgjdbc 42.6.0, the following type handler should do the job.\r\n\r\n```java\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Types;\r\n\r\nimport org.apache.ibatis.type.BaseTypeHandler;\r\nimport org.apache.ibatis.type.JdbcType;\r\n\r\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt;{\r\n\r\n  @Override\r\n  public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType)\r\n      throws SQLException {\r\n    ps.setObject(i, new String(parameter), Types.OTHER);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n    return rs.getBytes(columnName);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n    return rs.getBytes(columnIndex);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n    return cs.getBytes(columnIndex);\r\n  }\r\n}\r\n```\r\n\r\nThe `getNullableResult()` methods may not be used because the built-in `ByteArrayTypeHandler` will be used by default.\r\n\r\nAs I am not familiar with some of the annotations in the question, I wrote a simple executable demo.  \r\nhttps://github.com/harawata/mybatis-issues/tree/master/so-76234163","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>To specify a custom type handler for INSERT, you need to specify <code>typeHandler</code> in each parameter reference.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into ... values (..., #{role,typeHandler=pkg.BitByteaTypeHandler}, ...\n</code></pre>\n<p>Regarding <code>BIT(n)</code> support, there is an ongoing discussion.<br />\n<a href=\"https://github.com/pgjdbc/pgjdbc/issues/908\" rel=\"nofollow noreferrer\">https://github.com/pgjdbc/pgjdbc/issues/908</a></p>\n<p>With pgjdbc 42.6.0, the following type handler should do the job.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\nimport org.apache.ibatis.type.BaseTypeHandler;\nimport org.apache.ibatis.type.JdbcType;\n\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt;{\n\n  @Override\n  public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType)\n      throws SQLException {\n    ps.setObject(i, new String(parameter), Types.OTHER);\n  }\n\n  @Override\n  public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\n    return rs.getBytes(columnName);\n  }\n\n  @Override\n  public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n    return rs.getBytes(columnIndex);\n  }\n\n  @Override\n  public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n    return cs.getBytes(columnIndex);\n  }\n}\n</code></pre>\n<p>The <code>getNullableResult()</code> methods may not be used because the built-in <code>ByteArrayTypeHandler</code> will be used by default.</p>\n<p>As I am not familiar with some of the annotations in the question, I wrote a simple executable demo.<br />\n<a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-76234163\" rel=\"nofollow noreferrer\">https://github.com/harawata/mybatis-issues/tree/master/so-76234163</a></p>\n"}],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76240804,"answer_count":2,"score":1,"last_activity_date":1684113912,"creation_date":1683877527,"question_id":76234163,"body_markdown":"I want to solve the following Postgresql error when insert a record into database.\r\n\r\n    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is bytea.\r\n\r\nThe structure of DO is as follows:\r\n\r\n```JAVA\r\n@TableName(&quot;agri_person_relation&quot;)\r\n@KeySequence(&quot;agri_person_relation_seq&quot;) \r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@ToString(callSuper = true)\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PersonRelationDO extends BaseDO {\r\n    @TableId\r\n    private Long id;\r\n\r\n    private Long relatedTableId;\r\n\r\n    private byte[] role;\r\n\r\n    private byte[] module;\r\n\r\n    private Long personId;\r\n}\r\n```\r\nThe structure of the table is as follows:\r\n```\r\n   PostgreSQL \r\nDROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_person_relation&quot;;\r\nCREATE TABLE &quot;public&quot;.&quot;agri_person_relation&quot; (\r\n  &quot;creator&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n  &quot;create_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  &quot;updater&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n  &quot;update_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  &quot;deleted&quot; int2 NOT NULL DEFAULT 0,\r\n  &quot;id&quot; int8 NOT NULL,\r\n  &quot;related_table_id&quot; int8,\r\n  &quot;role&quot; bit(2),\r\n  &quot;module&quot; bit(3),\r\n  &quot;person_id&quot; int8\r\n)\r\n```\r\nI have tried using TypeHandler as in the pic but it doesn&#39;t work.\r\n\r\n```\r\nimport org.apache.ibatis.type.*;\r\n\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n//convert byte[] to BIT in postgresql\r\n\r\n@MappedJdbcTypes(JdbcType.BIT)\r\n@MappedTypes(byte[].class)\r\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt; {\r\n    @Override\r\n    public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType) throws SQLException {\r\n        StringBuffer sb = new StringBuffer();\r\n        for(byte aByte: parameter) {\r\n            sb.append(Integer.toBinaryString(aByte-48));\r\n        }\r\n        ps.setString(i,sb.toString());\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n        return getBytes(rs.getString(columnName));\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n        return getBytes(rs.getString(columnIndex));\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n        return getBytes(cs.getString(columnIndex));\r\n    }\r\n    private byte[] getBytes(String str){\r\n        byte [] bytes = new byte[str.length()];\r\n        for(int i=0;i &lt; str.length();i++) {\r\n            if (str.charAt(i)==&#39;1&#39;){\r\n                bytes[i] = (byte)49;\r\n            }\r\n            else{\r\n                bytes[i] = (byte)48;\r\n            }\r\n        }\r\n        return bytes;\r\n    }\r\n}\r\n```\r\nI used it in a mapper file like this:\r\n\r\n    @Results({\r\n        @Result(column = &quot;role&quot;, property = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class),\r\n        @Result(column = &quot;module&quot;, property = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)})\r\n    default int insertN(PersonRelationDO personRelationDO){\r\n        return insert(personRelationDO);};\r\n\r\nThe way I use it is kind of strange and that is because the insert method is provided by Mybatis Plus in its BaseMapper class. I cannot change it, the only way I can come up with is to wrap it by defining insertN(). \r\nI will post its code below:\r\n```JAVA\r\n    \r\npackage com.baomidou.mybatisplus.core.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport java.io.Serializable;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport org.apache.ibatis.annotations.Param;\r\nimport org.apache.ibatis.exceptions.TooManyResultsException;\r\n\r\npublic interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt; {\r\n    int insert(T entity);\r\n\r\n    int deleteById(Serializable id);\r\n\r\n    int deleteById(T entity);\r\n\r\n    int deleteByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\r\n\r\n    int delete(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    int deleteBatchIds(@Param(&quot;coll&quot;) Collection&lt;?&gt; idList);\r\n\r\n    int updateById(@Param(&quot;et&quot;) T entity);\r\n\r\n    int update(@Param(&quot;et&quot;) T entity, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; updateWrapper);\r\n\r\n    T selectById(Serializable id);\r\n\r\n    List&lt;T&gt; selectBatchIds(@Param(&quot;coll&quot;) Collection&lt;? extends Serializable&gt; idList);\r\n\r\n    List&lt;T&gt; selectByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\r\n\r\n    default T selectOne(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper) {\r\n        List&lt;T&gt; list = this.selectList(queryWrapper);\r\n        if (list.size() == 1) {\r\n            return list.get(0);\r\n        } else if (list.size() &gt; 1) {\r\n            throw new TooManyResultsException(&quot;Expected one result (or null) to be returned by selectOne(), but found: &quot; + list.size());\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    default boolean exists(Wrapper&lt;T&gt; queryWrapper) {\r\n        Long count = this.selectCount(queryWrapper);\r\n        return null != count &amp;&amp; count &gt; 0L;\r\n    }\r\n\r\n    Long selectCount(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;T&gt; selectList(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;Object&gt; selectObjs(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    &lt;P extends IPage&lt;T&gt;&gt; P selectPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    &lt;P extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; P selectMapsPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n}\r\n```\r\n\r\nBut the error remains the same: org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but the type of expression is bytea.\r\n\r\nAs ave said, that way of using @result probably won&#39;t work at all. I tried to configure mybatis-plus in the .yaml file:\r\n```yaml\r\nmybatis-plus:\r\n    type-handlers-package: cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler\r\n```\r\nand added the annotation in DO class:\r\n```\r\n        @TableField(value = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class)\r\n    private byte[] role;\r\n\r\n        @TableField(value = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)\r\n    private byte[] module;\r\n```\r\nI am pretty convinced that this way actually worked as the error turned  into \r\n```\r\n    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is character varying.\r\n```\r\nSo I futher explored the PreparedStatement class and its set methods, it seems it doesn&#39;t support PostgreSQL bit(n) type, it surely offers a method called setBoolean:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-\r\n```\r\n    void setBoolean(int parameterIndex, boolean x) throws SQLException;\r\n```\r\nand its comments:\r\n```\r\nSets the designated parameter to the given Java boolean value. The driver converts this to an SQL BIT or BOOLEAN value when it sends it to the database.\r\nParams: parameterlndex -the first parameter is 1, the second is 2, …\r\nx-the parameter value\r\nThrows: SQLException -if parameterlndex does not correspond to a parameter marker in the SQL\r\nstatement: if a database access error occurs or this method is called on a closed Preparedstatement\r\n```\r\nThe method works for bit(1) but can not process bit(n) in PostgreSQL.\r\nAnd the method setBinaryStream seems also won&#39;t suit as its unit is byte.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-\r\n\r\nEnvironment:    \r\n\r\n - PostgreSQL: 12.0\r\n - Driver version: 42.3.8\r\n - Java: 1.8.0_351\r\n - Mybatis: 3.5.10\r\n - Mybatis spring: 2.0.7\r\n - Mybatis-plus: 3.5.3.1\r\n\r\n    \r\n","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>I want to solve the following Postgresql error when insert a record into database.</p>\n<pre><code>org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is bytea.\n</code></pre>\n<p>The structure of DO is as follows:</p>\n<pre><code>@TableName(&quot;agri_person_relation&quot;)\n@KeySequence(&quot;agri_person_relation_seq&quot;) \n@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PersonRelationDO extends BaseDO {\n    @TableId\n    private Long id;\n\n    private Long relatedTableId;\n\n    private byte[] role;\n\n    private byte[] module;\n\n    private Long personId;\n}\n</code></pre>\n<p>The structure of the table is as follows:</p>\n<pre><code>   PostgreSQL \nDROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_person_relation&quot;;\nCREATE TABLE &quot;public&quot;.&quot;agri_person_relation&quot; (\n  &quot;creator&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n  &quot;create_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  &quot;updater&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n  &quot;update_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  &quot;deleted&quot; int2 NOT NULL DEFAULT 0,\n  &quot;id&quot; int8 NOT NULL,\n  &quot;related_table_id&quot; int8,\n  &quot;role&quot; bit(2),\n  &quot;module&quot; bit(3),\n  &quot;person_id&quot; int8\n)\n</code></pre>\n<p>I have tried using TypeHandler as in the pic but it doesn't work.</p>\n<pre><code>import org.apache.ibatis.type.*;\n\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n//convert byte[] to BIT in postgresql\n\n@MappedJdbcTypes(JdbcType.BIT)\n@MappedTypes(byte[].class)\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt; {\n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType) throws SQLException {\n        StringBuffer sb = new StringBuffer();\n        for(byte aByte: parameter) {\n            sb.append(Integer.toBinaryString(aByte-48));\n        }\n        ps.setString(i,sb.toString());\n    }\n\n    @Override\n    public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\n        return getBytes(rs.getString(columnName));\n    }\n\n    @Override\n    public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n        return getBytes(rs.getString(columnIndex));\n    }\n\n    @Override\n    public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n        return getBytes(cs.getString(columnIndex));\n    }\n    private byte[] getBytes(String str){\n        byte [] bytes = new byte[str.length()];\n        for(int i=0;i &lt; str.length();i++) {\n            if (str.charAt(i)=='1'){\n                bytes[i] = (byte)49;\n            }\n            else{\n                bytes[i] = (byte)48;\n            }\n        }\n        return bytes;\n    }\n}\n</code></pre>\n<p>I used it in a mapper file like this:</p>\n<pre><code>@Results({\n    @Result(column = &quot;role&quot;, property = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class),\n    @Result(column = &quot;module&quot;, property = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)})\ndefault int insertN(PersonRelationDO personRelationDO){\n    return insert(personRelationDO);};\n</code></pre>\n<p>The way I use it is kind of strange and that is because the insert method is provided by Mybatis Plus in its BaseMapper class. I cannot change it, the only way I can come up with is to wrap it by defining insertN().\nI will post its code below:</p>\n<pre><code>    \npackage com.baomidou.mybatisplus.core.mapper;\n\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport org.apache.ibatis.annotations.Param;\nimport org.apache.ibatis.exceptions.TooManyResultsException;\n\npublic interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt; {\n    int insert(T entity);\n\n    int deleteById(Serializable id);\n\n    int deleteById(T entity);\n\n    int deleteByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\n\n    int delete(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    int deleteBatchIds(@Param(&quot;coll&quot;) Collection&lt;?&gt; idList);\n\n    int updateById(@Param(&quot;et&quot;) T entity);\n\n    int update(@Param(&quot;et&quot;) T entity, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; updateWrapper);\n\n    T selectById(Serializable id);\n\n    List&lt;T&gt; selectBatchIds(@Param(&quot;coll&quot;) Collection&lt;? extends Serializable&gt; idList);\n\n    List&lt;T&gt; selectByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\n\n    default T selectOne(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper) {\n        List&lt;T&gt; list = this.selectList(queryWrapper);\n        if (list.size() == 1) {\n            return list.get(0);\n        } else if (list.size() &gt; 1) {\n            throw new TooManyResultsException(&quot;Expected one result (or null) to be returned by selectOne(), but found: &quot; + list.size());\n        } else {\n            return null;\n        }\n    }\n\n    default boolean exists(Wrapper&lt;T&gt; queryWrapper) {\n        Long count = this.selectCount(queryWrapper);\n        return null != count &amp;&amp; count &gt; 0L;\n    }\n\n    Long selectCount(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;T&gt; selectList(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;Object&gt; selectObjs(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    &lt;P extends IPage&lt;T&gt;&gt; P selectPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    &lt;P extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; P selectMapsPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n}\n</code></pre>\n<p>But the error remains the same: org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but the type of expression is bytea.</p>\n<p>As ave said, that way of using @result probably won't work at all. I tried to configure mybatis-plus in the .yaml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>mybatis-plus:\n    type-handlers-package: cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler\n</code></pre>\n<p>and added the annotation in DO class:</p>\n<pre><code>        @TableField(value = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class)\n    private byte[] role;\n\n        @TableField(value = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)\n    private byte[] module;\n</code></pre>\n<p>I am pretty convinced that this way actually worked as the error turned  into</p>\n<pre><code>    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is character varying.\n</code></pre>\n<p>So I futher explored the PreparedStatement class and its set methods, it seems it doesn't support PostgreSQL bit(n) type, it surely offers a method called setBoolean:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-</a></p>\n<pre><code>    void setBoolean(int parameterIndex, boolean x) throws SQLException;\n</code></pre>\n<p>and its comments:</p>\n<pre><code>Sets the designated parameter to the given Java boolean value. The driver converts this to an SQL BIT or BOOLEAN value when it sends it to the database.\nParams: parameterlndex -the first parameter is 1, the second is 2, …\nx-the parameter value\nThrows: SQLException -if parameterlndex does not correspond to a parameter marker in the SQL\nstatement: if a database access error occurs or this method is called on a closed Preparedstatement\n</code></pre>\n<p>The method works for bit(1) but can not process bit(n) in PostgreSQL.\nAnd the method setBinaryStream seems also won't suit as its unit is byte.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-</a></p>\n<p>Environment:</p>\n<ul>\n<li>PostgreSQL: 12.0</li>\n<li>Driver version: 42.3.8</li>\n<li>Java: 1.8.0_351</li>\n<li>Mybatis: 3.5.10</li>\n<li>Mybatis spring: 2.0.7</li>\n<li>Mybatis-plus: 3.5.3.1</li>\n</ul>\n"},{"tags":["java","maven","terminal","java-home"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684061499,"creation_date":1684061499,"answer_id":76247071,"question_id":76247056,"body_markdown":"It looks like you set `JAVA_HOME` to point to the `java` executable, not the directory containing the Java installation, as it should be\r\n\r\n```bash\r\nexport JAVA_HOME=/usr/lib/jvm/default-runtime\r\n```","title":"Can&#39;t use maven command-line tool","body":"<p>It looks like you set <code>JAVA_HOME</code> to point to the <code>java</code> executable, not the directory containing the Java installation, as it should be</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_HOME=/usr/lib/jvm/default-runtime\n</code></pre>\n"}],"owner":{"account_id":28598718,"reputation":23,"user_id":21896173,"display_name":"sorryladies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76247071,"answer_count":1,"score":2,"last_activity_date":1684112598,"creation_date":1684061300,"question_id":76247056,"body_markdown":"Here is the message I get when I try to use maven in the terminal:\r\n\r\n\r\n```\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n```\r\n\r\n\r\n\r\nThis is the definition of the JAVA_HOME environment variable:\r\n\r\n\r\n```\r\necho $JAVA_HOME                                                                                1 ✘ \r\n/usr/lib/jvm/default-runtime/bin/java\r\n\r\njava --version                                                                                   ✔ \r\nopenjdk 19.0.2 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\r\n```","title":"Can&#39;t use maven command-line tool","body":"<p>Here is the message I get when I try to use maven in the terminal:</p>\n<pre><code>The JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>This is the definition of the JAVA_HOME environment variable:</p>\n<pre><code>echo $JAVA_HOME                                                                                1 ✘ \n/usr/lib/jvm/default-runtime/bin/java\n\njava --version                                                                                   ✔ \nopenjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7)\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497517509,"creation_date":1497517509,"answer_id":44563322,"question_id":44562955,"body_markdown":"I got similar requirements in the past.\r\n\r\nI implemented DataSource proxy class. The class has tenant resolver and a map of simple DataSources. All the places where we need a DataSource use the proxy. \r\n\r\nOn any method call e.g. getConnection() it resolves tenant, check whether the map contains already created DataSource (if not a new DataSource is created for the tenant and stored in the DB). Then the same method of real DataSource from the map is invoked.\r\n\r\nTenant resolver is ThreadLocal based where tenant value is stored in a filter (got tenant from request header) and used in the DataSource proxy.","title":"Multi tenancy with Spring boot","body":"<p>I got similar requirements in the past.</p>\n\n<p>I implemented DataSource proxy class. The class has tenant resolver and a map of simple DataSources. All the places where we need a DataSource use the proxy. </p>\n\n<p>On any method call e.g. getConnection() it resolves tenant, check whether the map contains already created DataSource (if not a new DataSource is created for the tenant and stored in the DB). Then the same method of real DataSource from the map is invoked.</p>\n\n<p>Tenant resolver is ThreadLocal based where tenant value is stored in a filter (got tenant from request header) and used in the DataSource proxy.</p>\n"},{"tags":[],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497518046,"creation_date":1497518046,"answer_id":44563525,"question_id":44562955,"body_markdown":"What you need to do is using dynamic datasource routing of Spring Framweork via `AbstractRoutingDataSource`. [This answer][1] explains all for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26177079/1372366","title":"Multi tenancy with Spring boot","body":"<p>What you need to do is using dynamic datasource routing of Spring Framweork via <code>AbstractRoutingDataSource</code>. <a href=\"https://stackoverflow.com/a/26177079/1372366\">This answer</a> explains all for you.</p>\n"}],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44563322,"answer_count":2,"score":4,"last_activity_date":1684112468,"creation_date":1497516586,"question_id":44562955,"body_markdown":"I&#39;m planning to work on a multi-tenancy application and for now I&#39;m just looking at different implementations on the web to understand the requirements needed to implement such task. \r\nHibernate + Spring boot are the technologies I&#39;m planning to use. \r\n\r\nFrom my readings, all the different tutorials are using the same approach which is to declare the data sources in a config file so that session factories are launched with the boot of the application, but I really want to have a higher level of the app, where I can add tenants dynamically and input their data sources informations. \r\nThis way the application can get the information of the new tenant without the need to touch the config files and re-boot the app.\r\n\r\nI thought about having a separate database where I can store my tenants data source credentials or something like that. Can you give me another approach to solve this requirement or a link to an existing implementation that I can refer to. \r\n\r\n","title":"Multi tenancy with Spring boot","body":"<p>I'm planning to work on a multi-tenancy application and for now I'm just looking at different implementations on the web to understand the requirements needed to implement such task.\nHibernate + Spring boot are the technologies I'm planning to use.</p>\n<p>From my readings, all the different tutorials are using the same approach which is to declare the data sources in a config file so that session factories are launched with the boot of the application, but I really want to have a higher level of the app, where I can add tenants dynamically and input their data sources informations.\nThis way the application can get the information of the new tenant without the need to touch the config files and re-boot the app.</p>\n<p>I thought about having a separate database where I can store my tenants data source credentials or something like that. Can you give me another approach to solve this requirement or a link to an existing implementation that I can refer to.</p>\n"},{"tags":["java","unit-testing","kotlin","junit5"],"comments":[{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1651756722,"post_id":72126971,"comment_id":127442209,"body_markdown":"Interestig thing: when I launch your example as a single test class in Intellij, I see a test pass. If I execute the entire package (which only contains this one test) or when I execute from maven, I see a test failure as expected.","body":"Interestig thing: when I launch your example as a single test class in Intellij, I see a test pass. If I execute the entire package (which only contains this one test) or when I execute from maven, I see a test failure as expected."},{"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"score":0,"creation_date":1651759008,"post_id":72126971,"comment_id":127443259,"body_markdown":"@JockX that&#39;s right, I didn&#39;t notice it. If I run the single class in IntelliJ Idea, I see the single tests pass. If I run `gradle build` on the whole project, the build fails.","body":"@JockX that&#39;s right, I didn&#39;t notice it. If I run the single class in IntelliJ Idea, I see the single tests pass. If I run <code>gradle build</code> on the whole project, the build fails."}],"answers":[{"tags":[],"owner":{"account_id":140316,"reputation":104,"user_id":346545,"display_name":"Eliezio Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684112301,"creation_date":1684112301,"answer_id":76250289,"question_id":72126971,"body_markdown":"This seems an specific issue with the IDEA version you&#39;ve used, as I can confirm IJ 2023.1.1 behaves as expected:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zluTw.png","title":"Performing assertions in Junit 5 @AfterAll","body":"<p>This seems an specific issue with the IDEA version you've used, as I can confirm IJ 2023.1.1 behaves as expected:</p>\n<p><a href=\"https://i.stack.imgur.com/zluTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zluTw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1684112301,"creation_date":1651752721,"question_id":72126971,"body_markdown":"I am trying to add a feature to a mocking framework to have a test class fail when there is a method that has been stubbed but never actually invoked, i.e. either the test contains too much stubbing or the tested code didn&#39;t follow the intended path.\r\n\r\nI can already do the check, and I was planning on doing it in the `@AfterAll` method implemented by a JUnit extension, something like this:\r\n\r\n```\r\n@ExtendWith(MyExtension::class)\r\nclass TestClass {\r\n\r\n    @Test\r\n    fun myTest() {\r\n        // stub a function\r\n        // run some test code\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass MyExtension : AfterAllCallback {\r\n    override fun afterAll(context: ExtensionContext) {\r\n        if (not all stubbed methods have been called) {\r\n            throw AssertionError(&quot;Something&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the `AssertionError` being thrown in the `afterAll` body does not make the tests fail.\r\n\r\nIt kind of makes sense to me, since `afterAll` is expected to be executed after all the tests, when the tests result has already been computed, but I was wondering if there was a way to have a test class failure triggered after all tests have been executed.","title":"Performing assertions in Junit 5 @AfterAll","body":"<p>I am trying to add a feature to a mocking framework to have a test class fail when there is a method that has been stubbed but never actually invoked, i.e. either the test contains too much stubbing or the tested code didn't follow the intended path.</p>\n<p>I can already do the check, and I was planning on doing it in the <code>@AfterAll</code> method implemented by a JUnit extension, something like this:</p>\n<pre><code>@ExtendWith(MyExtension::class)\nclass TestClass {\n\n    @Test\n    fun myTest() {\n        // stub a function\n        // run some test code\n    }\n}\n</code></pre>\n<pre><code>class MyExtension : AfterAllCallback {\n    override fun afterAll(context: ExtensionContext) {\n        if (not all stubbed methods have been called) {\n            throw AssertionError(&quot;Something&quot;)\n        }\n    }\n}\n</code></pre>\n<p>However, the <code>AssertionError</code> being thrown in the <code>afterAll</code> body does not make the tests fail.</p>\n<p>It kind of makes sense to me, since <code>afterAll</code> is expected to be executed after all the tests, when the tests result has already been computed, but I was wondering if there was a way to have a test class failure triggered after all tests have been executed.</p>\n"},{"tags":["java","kotlin","jackson","jackson-databind","jackson-modules"],"owner":{"account_id":4771615,"reputation":349,"user_id":3856196,"accept_rate":67,"display_name":"user3856196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684111392,"creation_date":1684111392,"question_id":76250254,"body_markdown":"There are some fields, which should be deserialized from ``String`` to ``Double``. However, the general ``ObjectMapper`` configuration doesn&#39;t allow coercion of scalars:\r\n```configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false)```\r\n\r\nBefore Jackson [coercion configuration feature][1] implementation, this ``String`` -&gt; ``Double`` conversion was done with a custom deserializer. For example:\r\n```\r\ndata class SeriesFrameInputChannel(\r\n    @JsonDeserialize(using = TestDeserializer::class)\r\n    @JsonProperty(&quot;test_field&quot;)\r\n    val testFieldForConvertion: Double\r\n)\r\n\r\nclass TestDeserializer : StdDeserializer&lt;Double&gt;(Double::class.java) {\r\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Double {\r\n        return _parseDoublePrimitive(p, ctxt)\r\n    }\r\n}\r\n```    \r\n\r\nHowever, after the coercion config was introduced, the following error occurred:\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot coerce String value (&quot;2.2&quot;) to `double` value (but might if coercion using `CoercionConfig` was enabled)\r\n```\r\n\r\nThe issue could be solved by adding the following lines to the ``ObjectMapper`` configuration:\r\n```\r\ncoercionConfigFor(LogicalType.Integer)\r\n   .setCoercion(CoercionInputShape.String, CoercionAction.TryConvert)\r\n```\r\nHowever, it will affect the deserialization behavior of other fields, not only ``testFieldForConvertion``. \r\n\r\nWhat is the appropriate way to apply Jackson coercion configuration to the specified field case(-s), in order to avoid the deserialization behavior changes for other fields? \r\n\r\n\r\n  [1]: https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2","title":"Apply Jackson coercion configuration feature to specified deserialization cases","body":"<p>There are some fields, which should be deserialized from <code>String</code> to <code>Double</code>. However, the general <code>ObjectMapper</code> configuration doesn't allow coercion of scalars:\n<code>configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false)</code></p>\n<p>Before Jackson <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2\" rel=\"nofollow noreferrer\">coercion configuration feature</a> implementation, this <code>String</code> -&gt; <code>Double</code> conversion was done with a custom deserializer. For example:</p>\n<pre><code>data class SeriesFrameInputChannel(\n    @JsonDeserialize(using = TestDeserializer::class)\n    @JsonProperty(&quot;test_field&quot;)\n    val testFieldForConvertion: Double\n)\n\nclass TestDeserializer : StdDeserializer&lt;Double&gt;(Double::class.java) {\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Double {\n        return _parseDoublePrimitive(p, ctxt)\n    }\n}\n</code></pre>\n<p>However, after the coercion config was introduced, the following error occurred:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot coerce String value (&quot;2.2&quot;) to `double` value (but might if coercion using `CoercionConfig` was enabled)\n</code></pre>\n<p>The issue could be solved by adding the following lines to the <code>ObjectMapper</code> configuration:</p>\n<pre><code>coercionConfigFor(LogicalType.Integer)\n   .setCoercion(CoercionInputShape.String, CoercionAction.TryConvert)\n</code></pre>\n<p>However, it will affect the deserialization behavior of other fields, not only <code>testFieldForConvertion</code>.</p>\n<p>What is the appropriate way to apply Jackson coercion configuration to the specified field case(-s), in order to avoid the deserialization behavior changes for other fields?</p>\n"},{"tags":["java","php","zend-framework","soap","web-services"],"answers":[{"tags":[],"owner":{"account_id":19629,"reputation":19351,"user_id":46149,"display_name":"Henrik Opel"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1332154218,"creation_date":1256558948,"answer_id":1624442,"question_id":1617857,"body_markdown":"According to [this listing][1], the exception indicates that the server hosting the web-service is not happy with your requests encoding:\r\n\r\n&gt; Indicates that the peer HTTP server\r\n&gt; does not support the Content-type used\r\n&gt; to encode the request message. The\r\n&gt; message exchange is regarded as having\r\n&gt; completed unsuccessfully.\r\n\r\nSo you should check with the web-service provider concerning the content-type/encoding they expect.\r\n\r\n  [1]: http://www.w3.org/TR/soap12-part2/#tabreqstatereqtrans\r\n\r\nA possible solution if you are using `SOAP_1_2`is to change to `SOAP_1_1` since that will alter the requests made.","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>According to <a href=\"http://www.w3.org/TR/soap12-part2/#tabreqstatereqtrans\" rel=\"noreferrer\">this listing</a>, the exception indicates that the server hosting the web-service is not happy with your requests encoding:</p>\n\n<blockquote>\n  <p>Indicates that the peer HTTP server\n  does not support the Content-type used\n  to encode the request message. The\n  message exchange is regarded as having\n  completed unsuccessfully.</p>\n</blockquote>\n\n<p>So you should check with the web-service provider concerning the content-type/encoding they expect.</p>\n\n<p>A possible solution if you are using <code>SOAP_1_2</code>is to change to <code>SOAP_1_1</code> since that will alter the requests made.</p>\n"},{"tags":[],"owner":{"account_id":1584862,"reputation":6515,"user_id":1469465,"accept_rate":73,"display_name":"physicalattraction"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1434016128,"creation_date":1434016128,"answer_id":30777265,"question_id":1617857,"body_markdown":"I am not using Zend framework, but had a similar problem with XMLHttpRequest in JavaScript. The solution was to specify the Content-Type in the SOAP request header.\r\n\r\n    var sr = &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://www.w3schools.com/webservices/&quot;&gt;  &lt;SOAP-ENV:Body&gt;&lt;ns1:CelsiusToFahrenheit&gt;&lt;ns1:Celsius&gt;32&lt;/ns1:Celsius&gt;&lt;/ns1:CelsiusToFahrenheit&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;&#39;;\r\n    http_request = new XMLHttpRequest();\r\n    http_request.open(&#39;POST&#39;, &#39;http://www.w3schools.com/webservices/tempconvert.asmx&#39;, true);\r\n    http_request.setRequestHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n    http_request.send(sr);","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>I am not using Zend framework, but had a similar problem with XMLHttpRequest in JavaScript. The solution was to specify the Content-Type in the SOAP request header.</p>\n\n<pre><code>var sr = '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns1=\"http://www.w3schools.com/webservices/\"&gt;  &lt;SOAP-ENV:Body&gt;&lt;ns1:CelsiusToFahrenheit&gt;&lt;ns1:Celsius&gt;32&lt;/ns1:Celsius&gt;&lt;/ns1:CelsiusToFahrenheit&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;';\nhttp_request = new XMLHttpRequest();\nhttp_request.open('POST', 'http://www.w3schools.com/webservices/tempconvert.asmx', true);\nhttp_request.setRequestHeader(\"Content-Type\", \"text/xml; charset=utf-8\");\nhttp_request.send(sr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195624,"reputation":14910,"user_id":438624,"accept_rate":75,"display_name":"kbvishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684111340,"creation_date":1684111340,"answer_id":76250253,"question_id":1617857,"body_markdown":"A serious solution in one of the comments. Posting as answer for easy to identify. \r\n\r\nTry adding header. \r\n\r\n&gt; Content-Type: text/xml; charset=utf-8 for **soap 1.1**\r\n\r\nand \r\n\r\n&gt; Content-Type: application/soap+xml; charset=utf-8 for **soap 1.2**\r\n\r\nCredits : https://stackoverflow.com/users/2192359/atta-h","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>A serious solution in one of the comments. Posting as answer for easy to identify.</p>\n<p>Try adding header.</p>\n<blockquote>\n<p>Content-Type: text/xml; charset=utf-8 for <strong>soap 1.1</strong></p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Content-Type: application/soap+xml; charset=utf-8 for <strong>soap 1.2</strong></p>\n</blockquote>\n<p>Credits : <a href=\"https://stackoverflow.com/users/2192359/atta-h\">https://stackoverflow.com/users/2192359/atta-h</a></p>\n"}],"owner":{"account_id":28669,"reputation":35122,"user_id":76799,"accept_rate":72,"display_name":"Mads Mob&#230;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65856,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1624442,"answer_count":3,"score":9,"last_activity_date":1684111340,"creation_date":1256386629,"question_id":1617857,"body_markdown":"I&#39;m trying to connect to a Java web-service using the `Zend_Soap_Client` from the Zend Framework v1.9.0:\r\n\r\n    &lt;?php\r\n\tinclude( &#39;Zend/Loader/Autoloader.php&#39;);\r\n\t$autoloader = Zend_Loader_Autoloader::getInstance();\r\n    $client = new Zend_Soap_Client(&#39;https://webservice.com/webservice-war/webservice?wsdl&#39;\r\n        , array(&#39;encoding&#39;=&gt; &#39;UTF-8&#39;));\r\n\r\n\ttry{\r\n\t\t$result = $client-&gt;find_customer(array(&#39;username&#39; =&gt; &#39;user&#39;, \r\n                             &#39;password&#39; =&gt; &#39;123&#39;), array(&#39;city&#39; =&gt; &#39;some city&#39;));\r\n\t} catch(Exception $e){\r\n\t\techo $e;\r\n\t}\r\n\t\r\n\techo &#39;&lt;pre&gt;&#39; . $client-&gt;getLastRequestHeaders() . &#39;&lt;/pre&gt;&#39;;\t\r\n    ?&gt;\r\n\r\nOutputs:\r\n\r\n    SoapFault exception: [HTTP] Unsupported Media Type in \r\n    /Library/ZendFramework-1.9.0/library/Zend/Soap/Client.php:937 \r\n    Stack trace: \r\n     #0 [internal function]:\r\n    SoapClient-&gt;__doRequest(&#39;_doRequest(Object(Zend_Soap_Client_Common),\r\n        &#39;__doRequest(&#39;__soapCall(&#39;find_customer&#39;, Array, NULL, NULL, Array) \r\n     #6 [internal function]:  \r\n     Zend_Soap_Client-&gt;__call(&#39;find_customer&#39;, Array) \r\n     #7 /Users/webservicetest/index.php(8): \r\n     Zend_Soap_Client-&gt;find_customer(Array, Array) \r\n     #8 {main}\r\n\r\n    POST /webservice-war/webservice HTTP/1.1\r\n    Host: webservice.com\r\n    Connection: Keep-Alive\r\n    User-Agent: PHP-SOAP/5.2.6\r\n    Content-Type: application/soap+xml; charset=utf-8; action=&quot;&quot;\r\n    Content-Length: 315\r\n\r\nAny idea what could be wrong? The url is correct, since I get the availible functions when calling\r\n\r\n    $client-&gt;getFunctions()\r\n","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>I'm trying to connect to a Java web-service using the <code>Zend_Soap_Client</code> from the Zend Framework v1.9.0:</p>\n\n<pre><code>&lt;?php\ninclude( 'Zend/Loader/Autoloader.php');\n$autoloader = Zend_Loader_Autoloader::getInstance();\n$client = new Zend_Soap_Client('https://webservice.com/webservice-war/webservice?wsdl'\n    , array('encoding'=&gt; 'UTF-8'));\n\ntry{\n    $result = $client-&gt;find_customer(array('username' =&gt; 'user', \n                         'password' =&gt; '123'), array('city' =&gt; 'some city'));\n} catch(Exception $e){\n    echo $e;\n}\n\necho '&lt;pre&gt;' . $client-&gt;getLastRequestHeaders() . '&lt;/pre&gt;'; \n?&gt;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>SoapFault exception: [HTTP] Unsupported Media Type in \n/Library/ZendFramework-1.9.0/library/Zend/Soap/Client.php:937 \nStack trace: \n #0 [internal function]:\nSoapClient-&gt;__doRequest('_doRequest(Object(Zend_Soap_Client_Common),\n    '__doRequest('__soapCall('find_customer', Array, NULL, NULL, Array) \n #6 [internal function]:  \n Zend_Soap_Client-&gt;__call('find_customer', Array) \n #7 /Users/webservicetest/index.php(8): \n Zend_Soap_Client-&gt;find_customer(Array, Array) \n #8 {main}\n\nPOST /webservice-war/webservice HTTP/1.1\nHost: webservice.com\nConnection: Keep-Alive\nUser-Agent: PHP-SOAP/5.2.6\nContent-Type: application/soap+xml; charset=utf-8; action=\"\"\nContent-Length: 315\n</code></pre>\n\n<p>Any idea what could be wrong? The url is correct, since I get the availible functions when calling</p>\n\n<pre><code>$client-&gt;getFunctions()\n</code></pre>\n"},{"tags":["javascript","java","html","angular","stripe-payments"],"comments":[{"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"score":0,"creation_date":1684088504,"post_id":76241845,"comment_id":134462083,"body_markdown":"You must assign the payment method to a customer, then list the payment methods from the customer and use the paymentmethodid to make the payment","body":"You must assign the payment method to a customer, then list the payment methods from the customer and use the paymentmethodid to make the payment"}],"answers":[{"tags":[],"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684109458,"creation_date":1684109458,"answer_id":76250175,"question_id":76241845,"body_markdown":"If you are not PCI compliance level 1 or SAQ D, you shouldn&#39;t store card information as per [PCI DSS](https://stripe.com/docs/security/guide). \r\n\r\nTo save the card information future usage with Stripe (instead of saving the data on your own), you may follow this guide to save the payment method details with Payment Element on the customer that returns a payment method ID (pm_xxx) which can be used for future payment: https://stripe.com/docs/payments/save-during-payment","title":"Can you have a custom card data with Stripe PaymentIntent API?","body":"<p>If you are not PCI compliance level 1 or SAQ D, you shouldn't store card information as per <a href=\"https://stripe.com/docs/security/guide\" rel=\"nofollow noreferrer\">PCI DSS</a>.</p>\n<p>To save the card information future usage with Stripe (instead of saving the data on your own), you may follow this guide to save the payment method details with Payment Element on the customer that returns a payment method ID (pm_xxx) which can be used for future payment: <a href=\"https://stripe.com/docs/payments/save-during-payment\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/save-during-payment</a></p>\n"}],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76250175,"answer_count":1,"score":-1,"last_activity_date":1684109458,"creation_date":1683967495,"question_id":76241845,"body_markdown":"I am using Angular, Stripe.js 3, Stripe elements, Spring Boot, PaymentIntent API.\r\n\r\nI need to use the PaymentIntent API to use Strong Customer Authentication. I have got the code working with stripe elements and I am successfully being brought to a payment verification page. My problem is when using Stripe elements, I must get the card info from the user each time. My application saves the card data separate from Stripe and I want to give the feature of saving the card and not having to input it each time. How do i pass the card data to stripe.js from my own card form and not require the user to submit the card data manually each time?\r\n\r\n\r\n```&lt;div class=&quot;payment-method-info&quot;&gt;\r\n  &lt;!-- &lt;form novalidate&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;Card Number&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;expiry-month&quot; id=&quot;&quot; placeholder=&quot;Expiry Month&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;expiry-year&quot; id=&quot;&quot; placeholder=&quot;Expiry Year&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;CVV&quot;&gt;\r\n\r\n  &lt;/form&gt; --&gt;\r\n  &lt;form id=&quot;payment-form&quot;&gt;\r\n    &lt;div id=&quot;link-authentication-element&quot;&gt;\r\n      &lt;!--Stripe.js injects the Link Authentication Element--&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=&quot;payment-element&quot; class=&quot;stripe-form-input&quot;&gt;\r\n      &lt;!--Stripe.js injects the Payment Element--&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- &lt;button id=&quot;submit&quot;&gt;\r\n      &lt;div class=&quot;spinner hidden&quot; id=&quot;spinner&quot;&gt;&lt;/div&gt;\r\n      &lt;span id=&quot;button-text&quot;&gt;Pay now&lt;/span&gt;\r\n    &lt;/button&gt; --&gt;\r\n    &lt;div id=&quot;payment-message&quot; class=&quot;hidden&quot;&gt;&lt;/div&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n\r\n&lt;button type=&quot;submit&quot; class=&quot;fill&quot; style=&quot;width: 100%;&quot; (click)=&quot;testCreateCard()&quot;&gt;Pay&lt;/button&gt;\r\n&lt;div class=&quot;iframe-wrapper&quot; #if&gt; &lt;iframe *ngIf=&quot;showIframe&quot; frameborder=&quot;0&quot; [src]=&quot;ifHtml | safe&quot; height=&quot;600&quot; width=&quot;400&quot; #if&gt;&lt;/iframe&gt;&lt;/div&gt;\r\n```\r\n\r\n```\r\nexport class AppComponent {\r\n  title = &#39;stripePaymentIntents&#39;;\r\n  clientSecret:string = &quot;&quot;\r\n  elements:any;\r\n  email?:string;\r\n  paymentElement:any;\r\n\r\n  showIframe:boolean = false;\r\n  ifHtml:string = &quot;&quot;\r\n\r\n  paymentIntent:string = &quot;&quot;\r\n  @ViewChild(&#39;if&#39;) iframeWrapper!: ElementRef;\r\n\r\n  constructor(private http: HttpClient, private sanitizer: DomSanitizer, private route: ActivatedRoute){}\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.subscribe(qp =&gt; {\r\n      this.paymentIntent = qp[&#39;payment_intent&#39;]\r\n      console.log(&quot;Payment Intent From SCA:   &quot; + this.paymentIntent)\r\n    })\r\n\r\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\r\n    //Add &#39;implements OnInit&#39; to the class.\r\n    const appearance = {\r\n      theme: &#39;stripe&#39;,\r\n    };\r\n\r\n    this.http.get(&quot;http://localhost:8080/api/payment/intent/clientSecret&quot;, {responseType:&#39;text&#39;}).subscribe(secret =&gt; {\r\n      this.elements = stripe.elements({ appearance, clientSecret: secret });\r\n      this.clientSecret = secret;\r\n      const linkAuthenticationElement = this.elements.create(&quot;linkAuthentication&quot;);\r\n      linkAuthenticationElement.mount(&quot;#link-authentication-element&quot;);\r\n\r\n      linkAuthenticationElement.on(&#39;change&#39;, (event:any) =&gt; {\r\n          this.email = event.value.email;\r\n      });\r\n\r\n      const paymentElementOptions = {\r\n          layout: &quot;tabs&quot;,\r\n      };\r\n\r\n      const cardElementStyle = {\r\n        classes: &#39;stripe-&#39;\r\n      }\r\n\r\n      this.paymentElement = this.elements.create(&quot;card&quot;, paymentElementOptions);\r\n      this.paymentElement.mount(&quot;#payment-element&quot;);\r\n    })\r\n\r\n\r\n  }\r\n\r\n  testCreateCard(){\r\n\r\n\r\n      console.log(this.clientSecret);\r\n\r\n      console.log(this.elements);\r\n      const here = this;\r\n\r\n      stripe.confirmCardPayment(this.clientSecret, {\r\n          payment_method: {\r\n            card: this.paymentElement,\r\n            billing_details: {\r\n              name: &#39;Barack Obama&#39;,\r\n            },\r\n          },\r\n            return_url: &#39;http://localhost:4200/&#39;\r\n\r\n        }, {handleActions: false})\r\n        .then(function(result:any) {\r\n          // Handle result.error or result.paymentIntent\r\n          if(result.paymentIntent.next_action.redirect_to_url.url !== null){\r\n            window.location = result.paymentIntent.next_action.redirect_to_url.url\r\n          }\r\n\r\n\r\n\r\n\r\n          if (result.error) {\r\n            // Display error.message in your UI.\r\n            console.log(result);\r\n\r\n          } else {\r\n            here.showIframe = true\r\n            console.log(&#39;iframe show; &#39; + here.showIframe);\r\n\r\n            // The SetupIntent was successful\r\n            console.log(&quot;SUCCESS: &quot;)\r\n            console.log(result);\r\n          }\r\n\r\n        });\r\n\r\n\r\n\r\n  }\r\n}```","title":"Can you have a custom card data with Stripe PaymentIntent API?","body":"<p>I am using Angular, Stripe.js 3, Stripe elements, Spring Boot, PaymentIntent API.</p>\n<p>I need to use the PaymentIntent API to use Strong Customer Authentication. I have got the code working with stripe elements and I am successfully being brought to a payment verification page. My problem is when using Stripe elements, I must get the card info from the user each time. My application saves the card data separate from Stripe and I want to give the feature of saving the card and not having to input it each time. How do i pass the card data to stripe.js from my own card form and not require the user to submit the card data manually each time?</p>\n<pre><code>  &lt;!-- &lt;form novalidate&gt;\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;Card Number&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;expiry-month&quot; id=&quot;&quot; placeholder=&quot;Expiry Month&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;expiry-year&quot; id=&quot;&quot; placeholder=&quot;Expiry Year&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;CVV&quot;&gt;\n\n  &lt;/form&gt; --&gt;\n  &lt;form id=&quot;payment-form&quot;&gt;\n    &lt;div id=&quot;link-authentication-element&quot;&gt;\n      &lt;!--Stripe.js injects the Link Authentication Element--&gt;\n    &lt;/div&gt;\n    &lt;div id=&quot;payment-element&quot; class=&quot;stripe-form-input&quot;&gt;\n      &lt;!--Stripe.js injects the Payment Element--&gt;\n    &lt;/div&gt;\n    &lt;!-- &lt;button id=&quot;submit&quot;&gt;\n      &lt;div class=&quot;spinner hidden&quot; id=&quot;spinner&quot;&gt;&lt;/div&gt;\n      &lt;span id=&quot;button-text&quot;&gt;Pay now&lt;/span&gt;\n    &lt;/button&gt; --&gt;\n    &lt;div id=&quot;payment-message&quot; class=&quot;hidden&quot;&gt;&lt;/div&gt;\n  &lt;/form&gt;\n\n&lt;/div&gt;\n\n\n\n\n&lt;button type=&quot;submit&quot; class=&quot;fill&quot; style=&quot;width: 100%;&quot; (click)=&quot;testCreateCard()&quot;&gt;Pay&lt;/button&gt;\n&lt;div class=&quot;iframe-wrapper&quot; #if&gt; &lt;iframe *ngIf=&quot;showIframe&quot; frameborder=&quot;0&quot; [src]=&quot;ifHtml | safe&quot; height=&quot;600&quot; width=&quot;400&quot; #if&gt;&lt;/iframe&gt;&lt;/div&gt;\n</code></pre>\n<pre><code>export class AppComponent {\n  title = 'stripePaymentIntents';\n  clientSecret:string = &quot;&quot;\n  elements:any;\n  email?:string;\n  paymentElement:any;\n\n  showIframe:boolean = false;\n  ifHtml:string = &quot;&quot;\n\n  paymentIntent:string = &quot;&quot;\n  @ViewChild('if') iframeWrapper!: ElementRef;\n\n  constructor(private http: HttpClient, private sanitizer: DomSanitizer, private route: ActivatedRoute){}\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(qp =&gt; {\n      this.paymentIntent = qp['payment_intent']\n      console.log(&quot;Payment Intent From SCA:   &quot; + this.paymentIntent)\n    })\n\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    const appearance = {\n      theme: 'stripe',\n    };\n\n    this.http.get(&quot;http://localhost:8080/api/payment/intent/clientSecret&quot;, {responseType:'text'}).subscribe(secret =&gt; {\n      this.elements = stripe.elements({ appearance, clientSecret: secret });\n      this.clientSecret = secret;\n      const linkAuthenticationElement = this.elements.create(&quot;linkAuthentication&quot;);\n      linkAuthenticationElement.mount(&quot;#link-authentication-element&quot;);\n\n      linkAuthenticationElement.on('change', (event:any) =&gt; {\n          this.email = event.value.email;\n      });\n\n      const paymentElementOptions = {\n          layout: &quot;tabs&quot;,\n      };\n\n      const cardElementStyle = {\n        classes: 'stripe-'\n      }\n\n      this.paymentElement = this.elements.create(&quot;card&quot;, paymentElementOptions);\n      this.paymentElement.mount(&quot;#payment-element&quot;);\n    })\n\n\n  }\n\n  testCreateCard(){\n\n\n      console.log(this.clientSecret);\n\n      console.log(this.elements);\n      const here = this;\n\n      stripe.confirmCardPayment(this.clientSecret, {\n          payment_method: {\n            card: this.paymentElement,\n            billing_details: {\n              name: 'Barack Obama',\n            },\n          },\n            return_url: 'http://localhost:4200/'\n\n        }, {handleActions: false})\n        .then(function(result:any) {\n          // Handle result.error or result.paymentIntent\n          if(result.paymentIntent.next_action.redirect_to_url.url !== null){\n            window.location = result.paymentIntent.next_action.redirect_to_url.url\n          }\n\n\n\n\n          if (result.error) {\n            // Display error.message in your UI.\n            console.log(result);\n\n          } else {\n            here.showIframe = true\n            console.log('iframe show; ' + here.showIframe);\n\n            // The SetupIntent was successful\n            console.log(&quot;SUCCESS: &quot;)\n            console.log(result);\n          }\n\n        });\n\n\n\n  }\n}```\n</code></pre>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1434030140,"post_id":30782517,"comment_id":49615006,"body_markdown":"month start with 0. read: http://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar","body":"month start with 0. read: <a href=\"http://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar\" title=\"why is january month 0 in java calendar\">stackoverflow.com/questions/344380/&hellip;</a>"},{"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"score":0,"creation_date":1434030214,"post_id":30782517,"comment_id":49615067,"body_markdown":"@ Fast Snail yes it starts with 0, but in june it should show 5 right ?","body":"@ Fast Snail yes it starts with 0, but in june it should show 5 right ?"},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1434030367,"post_id":30782517,"comment_id":49615200,"body_markdown":"are you telling that you get `Calendar.MONTH` as 2 for march or as 2 for june ??","body":"are you telling that you get <code>Calendar.MONTH</code> as 2 for march or as 2 for june ??"},{"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"score":1,"creation_date":1434030705,"post_id":30782517,"comment_id":49615489,"body_markdown":"in June it showed 2, got the answer now","body":"in June it showed 2, got the answer now"}],"answers":[{"tags":[],"owner":{"account_id":2083256,"reputation":1816,"user_id":1854795,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434030156,"creation_date":1434030156,"answer_id":30782546,"question_id":30782517,"body_markdown":"You are displaying the value of the `Calendar.MONTH` constant, hence 2.\r\n\r\n","title":"Calendar class time month not matching","body":"<p>You are displaying the value of the <code>Calendar.MONTH</code> constant, hence 2.</p>\n"},{"tags":[],"owner":{"account_id":152539,"reputation":19707,"user_id":367141,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434030174,"creation_date":1434030174,"answer_id":30782554,"question_id":30782517,"body_markdown":"You&#39;re getting calendar c from an instance but calendar from month with the Calendar object, get it from the instance too.  \r\n\r\nAlso - Calendar starts from 0 as referenced [here][1]\r\n\r\nIn other news, use the new DateTime API in Java 8 or JODA time, they&#39;re much nicer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar","title":"Calendar class time month not matching","body":"<p>You're getting calendar c from an instance but calendar from month with the Calendar object, get it from the instance too.  </p>\n\n<p>Also - Calendar starts from 0 as referenced <a href=\"https://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar\">here</a></p>\n\n<p>In other news, use the new DateTime API in Java 8 or JODA time, they're much nicer.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1434030561,"creation_date":1434030214,"answer_id":30782570,"question_id":30782517,"body_markdown":"What you want is the following idiom: `c.get(Calendar.MONTH)`. \r\n\r\n`Calendar.MONTH` per se is just an internal constant and will (hopefully) always return `2`.\r\n\r\n**Example**\r\n\r\n    // We&#39;re in June at the time of writing\r\n    // Months are 0-based so June == 5\r\n    Calendar c = Calendar.getInstance();\r\n    System.out.println(Calendar.MONTH);\r\n    System.out.println(c.get(Calendar.MONTH));\r\n\r\n**Output**\r\n\r\n    2\r\n    5\r\n\r\nSee also: [API][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#get%28int%29","title":"Calendar class time month not matching","body":"<p>What you want is the following idiom: <code>c.get(Calendar.MONTH)</code>. </p>\n\n<p><code>Calendar.MONTH</code> per se is just an internal constant and will (hopefully) always return <code>2</code>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>// We're in June at the time of writing\n// Months are 0-based so June == 5\nCalendar c = Calendar.getInstance();\nSystem.out.println(Calendar.MONTH);\nSystem.out.println(c.get(Calendar.MONTH));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>2\n5\n</code></pre>\n\n<p>See also: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#get%28int%29\" rel=\"nofollow\">API</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684107789,"creation_date":1684107789,"answer_id":76250122,"question_id":30782517,"body_markdown":"# tl;dr\r\n\r\n    int monthNumber = LocalDate.now().getMonth().getValue() ;  // 1-12 for January-December.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers are outmoded. The terribly flawed legacy date-time classes such as `Calendar` &amp; `Date` were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\nIf you want a count of milliseconds since the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, use `java.time.Instant` class.\r\n\r\n    long millisSinceEpoch = Instant.now().toMillis() ;\r\n\r\nGoing the other direction:\r\n\r\n    Instant instant = Instant.ofMillis( millisSinceEpoch ) ;\r\n\r\nIf you want to know the month, you must specify the time zone by which you want to determine the date. For any given moment, the time and date varies around the globe by time zone. Therefore the month can vary too. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n    \r\nInterrogate for the month, an enum object [`Month`][1]. \r\n\r\n    Month month = zdt.getMonth() ;\r\n\r\nGet the month number by asking the enum object for is definition order. Unlike the legacy `Calendar` class, *java.time* uses sane numbering: 1-12 for January-December. So March is 3, as you expected.\r\n\r\n    int monthNumber = month.getValue() ;\r\n\r\nIf you want to skip the count of milliseconds, and just want to know the current month, use `LocalDate` to capture the current date. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\r\n    LocalDate today = LocalDate.now( z ) ;\r\n    Month currentMonth = today.getMonth() ;\r\n    int monthNumber = currentMonth.getValue() ;\r\n\r\nOr, collapse that code:\r\n\r\n    int monthNumber = \r\n        LocalDate\r\n        .now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )\r\n        .getMonth()\r\n        .getValue() ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Month.html","title":"Calendar class time month not matching","body":"<h1>tl;dr</h1>\n<pre><code>int monthNumber = LocalDate.now().getMonth().getValue() ;  // 1-12 for January-December.\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>The other Answers are outmoded. The terribly flawed legacy date-time classes such as <code>Calendar</code> &amp; <code>Date</code> were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<p>If you want a count of milliseconds since the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, use <code>java.time.Instant</code> class.</p>\n<pre><code>long millisSinceEpoch = Instant.now().toMillis() ;\n</code></pre>\n<p>Going the other direction:</p>\n<pre><code>Instant instant = Instant.ofMillis( millisSinceEpoch ) ;\n</code></pre>\n<p>If you want to know the month, you must specify the time zone by which you want to determine the date. For any given moment, the time and date varies around the globe by time zone. Therefore the month can vary too.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Interrogate for the month, an enum object <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a>.</p>\n<pre><code>Month month = zdt.getMonth() ;\n</code></pre>\n<p>Get the month number by asking the enum object for is definition order. Unlike the legacy <code>Calendar</code> class, <em>java.time</em> uses sane numbering: 1-12 for January-December. So March is 3, as you expected.</p>\n<pre><code>int monthNumber = month.getValue() ;\n</code></pre>\n<p>If you want to skip the count of milliseconds, and just want to know the current month, use <code>LocalDate</code> to capture the current date.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\nLocalDate today = LocalDate.now( z ) ;\nMonth currentMonth = today.getMonth() ;\nint monthNumber = currentMonth.getValue() ;\n</code></pre>\n<p>Or, collapse that code:</p>\n<pre><code>int monthNumber = \n    LocalDate\n    .now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )\n    .getMonth()\n    .getValue() ;\n</code></pre>\n"}],"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30782570,"answer_count":4,"score":3,"last_activity_date":1684107789,"creation_date":1434030071,"question_id":30782517,"body_markdown":"    Calendar c = Calendar.getInstance();\n    \n    System.out.println(&quot;Mili-&gt;&gt;&quot; + c.getTimeInMillis());\n    \n    System.out.println(&quot;Month  -&gt;&gt;&quot; + Calendar.MONTH);\n\nThough I am getting correct time in millisec format, Month is showing as 2 (March??) Why so?\n\nBelow is output\n\n\n\n&gt; Mili-&gt;&gt;1434029840778 \n&gt;\n&gt; Month  -&gt;&gt;2","title":"Calendar class time month not matching","body":"<pre><code>Calendar c = Calendar.getInstance();\n\nSystem.out.println(&quot;Mili-&gt;&gt;&quot; + c.getTimeInMillis());\n\nSystem.out.println(&quot;Month  -&gt;&gt;&quot; + Calendar.MONTH);\n</code></pre>\n<p>Though I am getting correct time in millisec format, Month is showing as 2 (March??) Why so?</p>\n<p>Below is output</p>\n<blockquote>\n<p>Mili-&gt;&gt;1434029840778</p>\n<p>Month  -&gt;&gt;2</p>\n</blockquote>\n"},{"tags":["java","regex","parsing","url","youtube"],"comments":[{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":0,"creation_date":1318359638,"post_id":7730328,"comment_id":9406678,"body_markdown":"You may want to look at [my answer to a very similar question](http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191). It extracts the video-id from a variety of YouTube URL formats.","body":"You may want to look at <a href=\"http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191\">my answer to a very similar question</a>. It extracts the video-id from a variety of YouTube URL formats."},{"owner":{"account_id":471373,"reputation":1569,"user_id":879131,"accept_rate":43,"display_name":"Peril"},"score":0,"creation_date":1318365776,"post_id":7730328,"comment_id":9408404,"body_markdown":"@ridgerunner thanks but it misses the gdata links","body":"@ridgerunner thanks but it misses the gdata links"},{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":0,"creation_date":1318430526,"post_id":7730328,"comment_id":9421745,"body_markdown":"Thanks for pointing that out. I&#39;ve updatated [my YouTube ID matching expression](http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191) so that it now correctly matches your `gdata` subdomain example.","body":"Thanks for pointing that out. I&#39;ve updatated <a href=\"http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191\">my YouTube ID matching expression</a> so that it now correctly matches your <code>gdata</code> subdomain example."}],"answers":[{"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318362031,"creation_date":1318356335,"answer_id":7730437,"question_id":7730328,"body_markdown":"This regex would do the trick: \r\n\r\n    (?&lt;=videos\\/|v=)([\\w-]+)\r\n\r\nThis means that we&#39;re first looking for `video/` or `v=` then captures all the following characters that can be in word (letters, digits, and underscores) and hyphens. \r\n\r\nExample in java: \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString link = &quot;http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever&quot;;\r\n\t\tString pattern = &quot;(?:videos\\\\/|v=)([\\\\w-]+)&quot;;\r\n\t\t\r\n\t\tPattern compiledPattern = Pattern.compile(pattern);\r\n\t\tMatcher matcher = compiledPattern.matcher(link);\r\n\r\n\t\tif(matcher.find()){\r\n\t        System.out.println(matcher.group());\r\n\t    }\r\n\t}\r\n\r\nOutput:\r\n\r\n    xTmi7zzUa-M","title":"getting the youtube id from a link","body":"<p>This regex would do the trick: </p>\n\n<pre><code>(?&lt;=videos\\/|v=)([\\w-]+)\n</code></pre>\n\n<p>This means that we're first looking for <code>video/</code> or <code>v=</code> then captures all the following characters that can be in word (letters, digits, and underscores) and hyphens. </p>\n\n<p>Example in java: </p>\n\n<pre><code>public static void main(String[] args) {\n\n    String link = \"http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\";\n    String pattern = \"(?:videos\\\\/|v=)([\\\\w-]+)\";\n\n    Pattern compiledPattern = Pattern.compile(pattern);\n    Matcher matcher = compiledPattern.matcher(link);\n\n    if(matcher.find()){\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>xTmi7zzUa-M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271255,"reputation":6621,"user_id":561690,"accept_rate":57,"display_name":"Code Jockey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410201646,"creation_date":1318360318,"answer_id":7731219,"question_id":7730328,"body_markdown":"Without knowing the complete specification for all the possible YouTube URLs, this seems to work for the examples you provided:\r\n\r\n    //*EDIT* - fixed to hopefully support more recent youtube link styles/formats:\r\n    (?&lt;=watch\\?v=|/videos/|/embed/|youtu.be/)[^&amp;#?]*\r\n\r\n... matches `PjDw3azfZWI` from either of these URLS:\r\n\r\n    http://www.youtube.com/watch?v=PjDw3azfZWI#t=31m08s\r\n    http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI\r\n\r\nYou would need a little more to get that particular info if you did not know that these were from youtube, though that&#39;s a pretty quick check\r\n\r\nKeep in mind that if you are trying to use only the result of the `getQuery()` method, it will not be possible to extract the result from the `http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI` URL, as this URL does not have a query part to it...\r\n\r\nJava Example:\r\n\r\n    Pattern rex = Pattern.compile(&quot;(?&lt;=watch\\\\?v=|/videos/)[^&amp;#]*&quot;);\r\n    Matcher m = rex.matcher(link);\r\n    String YouTubeVideoID = m.group();","title":"getting the youtube id from a link","body":"<p>Without knowing the complete specification for all the possible YouTube URLs, this seems to work for the examples you provided:</p>\n\n<pre><code>//*EDIT* - fixed to hopefully support more recent youtube link styles/formats:\n(?&lt;=watch\\?v=|/videos/|/embed/|youtu.be/)[^&amp;#?]*\n</code></pre>\n\n<p>... matches <code>PjDw3azfZWI</code> from either of these URLS:</p>\n\n<pre><code>http://www.youtube.com/watch?v=PjDw3azfZWI#t=31m08s\nhttp://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI\n</code></pre>\n\n<p>You would need a little more to get that particular info if you did not know that these were from youtube, though that's a pretty quick check</p>\n\n<p>Keep in mind that if you are trying to use only the result of the <code>getQuery()</code> method, it will not be possible to extract the result from the <code>http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI</code> URL, as this URL does not have a query part to it...</p>\n\n<p>Java Example:</p>\n\n<pre><code>Pattern rex = Pattern.compile(\"(?&lt;=watch\\\\?v=|/videos/)[^&amp;#]*\");\nMatcher m = rex.matcher(link);\nString YouTubeVideoID = m.group();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1362449319,"creation_date":1362449319,"answer_id":15214610,"question_id":7730328,"body_markdown":"Tried the other ones but failed in my case - adjusted the regex to fit for my urls\n\n    String pattern = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\n        \n        Pattern compiledPattern = Pattern.compile(pattern);\n        Matcher matcher = compiledPattern.matcher(url);\n\n        if(matcher.find()){\n            return matcher.group();\n        }\n\nThis one works for: (you could also implement a security check youtubeid length = 11 ) \n\n&gt; http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\n&gt;\n&gt; http://www.youtube.com/watch?v=384IUU43bfQ\n&gt;\n&gt; http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\n&gt;\n&gt; Woq5iX9XQhA\n&gt;\n&gt; 384IUU43bfQ\n&gt;\n&gt; xTmi7zzUa-M\n\n","title":"getting the youtube id from a link","body":"<p>Tried the other ones but failed in my case - adjusted the regex to fit for my urls</p>\n<pre><code>String pattern = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\n    \n    Pattern compiledPattern = Pattern.compile(pattern);\n    Matcher matcher = compiledPattern.matcher(url);\n\n    if(matcher.find()){\n        return matcher.group();\n    }\n</code></pre>\n<p>This one works for: (you could also implement a security check youtubeid length = 11 )</p>\n<blockquote>\n<p><a href=\"http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\" rel=\"noreferrer\">http://www.youtube.com/embed/Woq5iX9XQhA?html5=1</a></p>\n<p><a href=\"http://www.youtube.com/watch?v=384IUU43bfQ\" rel=\"noreferrer\">http://www.youtube.com/watch?v=384IUU43bfQ</a></p>\n<p><a href=\"http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\" rel=\"noreferrer\">http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever</a></p>\n<p>Woq5iX9XQhA</p>\n<p>384IUU43bfQ</p>\n<p>xTmi7zzUa-M</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":414536,"reputation":438,"user_id":788810,"accept_rate":65,"display_name":"samirprogrammer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392705022,"creation_date":1392705022,"answer_id":21845955,"question_id":7730328,"body_markdown":"    public static String getYoutubeVideoId(String youtubeUrl)\r\n     {\r\n     String video_id=&quot;&quot;;\r\n      if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(&quot;http&quot;))\r\n     {\r\n     \r\n    String expression = &quot;^.*((youtu.be&quot;+ &quot;\\\\/)&quot; + &quot;|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*&quot;; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\r\n     CharSequence input = youtubeUrl;\r\n     Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\r\n     Matcher matcher = pattern.matcher(input);\r\n     if (matcher.matches())\r\n     {\r\n    String groupIndex1 = matcher.group(7);\r\n     if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\r\n     video_id = groupIndex1;\r\n     }\r\n     }\r\n     return video_id;\r\n     }","title":"getting the youtube id from a link","body":"<pre><code>public static String getYoutubeVideoId(String youtubeUrl)\n {\n String video_id=\"\";\n  if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(\"http\"))\n {\n\nString expression = \"^.*((youtu.be\"+ \"\\\\/)\" + \"|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*\"; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\n CharSequence input = youtubeUrl;\n Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\n Matcher matcher = pattern.matcher(input);\n if (matcher.matches())\n {\nString groupIndex1 = matcher.group(7);\n if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\n video_id = groupIndex1;\n }\n }\n return video_id;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422833380,"creation_date":1422833380,"answer_id":28269203,"question_id":7730328,"body_markdown":"This doesn&#39;t use a regex but should still do the job.\r\n\r\n\t/**\r\n\t * Returns the video id of a YouTube watch link.\r\n\t */\r\n\tpublic static String getVideoId(String watchLink)\r\n\t{\r\n\t\treturn watchLink.substring(watchLink.length() - 11);\r\n\t}","title":"getting the youtube id from a link","body":"<p>This doesn't use a regex but should still do the job.</p>\n\n<pre><code>/**\n * Returns the video id of a YouTube watch link.\n */\npublic static String getVideoId(String watchLink)\n{\n    return watchLink.substring(watchLink.length() - 11);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412487,"reputation":1082,"user_id":785576,"accept_rate":41,"display_name":"saravanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451481782,"creation_date":1451481782,"answer_id":34530411,"question_id":7730328,"body_markdown":"    This will work me and simple\r\n\r\n    public static String getVideoId(@NonNull String videoUrl) {\r\n        String reg = &quot;(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})&quot;;\r\n        Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(videoUrl);\r\n\r\n        if (matcher.find())\r\n            return matcher.group(1);\r\n        return null;\r\n    }","title":"getting the youtube id from a link","body":"<pre><code>This will work me and simple\n\npublic static String getVideoId(@NonNull String videoUrl) {\n    String reg = \"(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})\";\n    Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(videoUrl);\n\n    if (matcher.find())\n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8286907,"reputation":21,"user_id":6229757,"display_name":"OneCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465926700,"creation_date":1465926700,"answer_id":37818920,"question_id":7730328,"body_markdown":"That pattern worked for me:\r\n\r\n    &quot;http(?:s?)://(?:www\\.)?youtu(?:be\\.com/watch\\?v=|\\.be/)([\\w\\-]+)(&amp;(amp;)?[\\w\\?=‌​]*)?&quot;\r\n\r\nsource: https://stackoverflow.com/questions/3717115/regular-expression-for-youtube-links","title":"getting the youtube id from a link","body":"<p>That pattern worked for me:</p>\n\n<pre><code>\"http(?:s?)://(?:www\\.)?youtu(?:be\\.com/watch\\?v=|\\.be/)([\\w\\-]+)(&amp;(amp;)?[\\w\\?=‌​]*)?\"\n</code></pre>\n\n<p>source: <a href=\"https://stackoverflow.com/questions/3717115/regular-expression-for-youtube-links\">Regular expression for youtube links</a></p>\n"},{"tags":[],"owner":{"account_id":3784051,"reputation":1546,"user_id":3142611,"accept_rate":71,"display_name":"Bahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486108665,"creation_date":1486108213,"answer_id":42019265,"question_id":7730328,"body_markdown":"This was worked for me \r\n\r\n    \r\n\r\n    public static String getYoutubeVideoId(String youtubeUrl) {\r\n        String videoId = &quot;&quot;;\r\n        if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(&quot;http&quot;)) {\r\n\r\n            String expression = &quot;^.*((youtu.be&quot;+ &quot;/)&quot; + &quot;|(v/)|(/u/w/)|(embed/)|(watch\\\\?))\\\\??v?=?([^#&amp;\\\\?]*).*&quot;; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\r\n            Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(youtubeUrl);\r\n            if (matcher.matches()) {\r\n                String groupIndex1 = matcher.group(7);\r\n                if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\r\n                    videoId = groupIndex1;\r\n            }\r\n\r\n        }\r\n        return videoId;\r\n    }\r\n\r\nSource [link][1]\r\n\r\n\r\n  [1]: https://androidsnippets.wordpress.com/2012/10/11/how-to-get-extract-video-id-from-an-youtube-url-in-android-java/","title":"getting the youtube id from a link","body":"<p>This was worked for me </p>\n\n<pre><code>public static String getYoutubeVideoId(String youtubeUrl) {\n    String videoId = \"\";\n    if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(\"http\")) {\n\n        String expression = \"^.*((youtu.be\"+ \"/)\" + \"|(v/)|(/u/w/)|(embed/)|(watch\\\\?))\\\\??v?=?([^#&amp;\\\\?]*).*\"; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\n        Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(youtubeUrl);\n        if (matcher.matches()) {\n            String groupIndex1 = matcher.group(7);\n            if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\n                videoId = groupIndex1;\n        }\n\n    }\n    return videoId;\n}\n</code></pre>\n\n<p>Source <a href=\"https://androidsnippets.wordpress.com/2012/10/11/how-to-get-extract-video-id-from-an-youtube-url-in-android-java/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":910728,"reputation":6028,"user_id":1769274,"accept_rate":63,"display_name":"Nabeel K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496053879,"creation_date":1496053879,"answer_id":44240293,"question_id":7730328,"body_markdown":"Got a better solution from this [link][1].\r\n\r\nUse the following method to get the videoId from the link.\r\n\r\n&gt; YoutubeHelper.java\r\n\r\n    import com.google.inject.Singleton; \r\n     \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n     \r\n    @Singleton \r\n    public class YouTubeHelper { \r\n     \r\n        final String youTubeUrlRegEx = &quot;^(https?)?(://)?(www.)?(m.)?((youtube.com)|(youtu.be))/&quot;;\r\n        final String[] videoIdRegex = { &quot;\\\\?vi?=([^&amp;]*)&quot;,&quot;watch\\\\?.*v=([^&amp;]*)&quot;, &quot;(?:embed|vi?)/([^/?]*)&quot;, &quot;^([A-Za-z0-9\\\\-]*)&quot;};\r\n     \r\n        public String extractVideoIdFromUrl(String url) {\r\n            String youTubeLinkWithoutProtocolAndDomain = youTubeLinkWithoutProtocolAndDomain(url);\r\n     \r\n            for(String regex : videoIdRegex) {\r\n                Pattern compiledPattern = Pattern.compile(regex);\r\n                Matcher matcher = compiledPattern.matcher(youTubeLinkWithoutProtocolAndDomain);\r\n     \r\n                if(matcher.find()){\r\n                    return matcher.group(1);\r\n                } \r\n            } \r\n     \r\n            return null; \r\n        } \r\n     \r\n        private String youTubeLinkWithoutProtocolAndDomain(String url) {\r\n            Pattern compiledPattern = Pattern.compile(youTubeUrlRegEx);\r\n            Matcher matcher = compiledPattern.matcher(url);\r\n     \r\n            if(matcher.find()){\r\n                return url.replace(matcher.group(), &quot;&quot;);\r\n            } \r\n            return url;\r\n        } \r\n    } \r\n\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://gist.github.com/jvanderwee/b30fdb496acff43aef8e","title":"getting the youtube id from a link","body":"<p>Got a better solution from this <a href=\"https://gist.github.com/jvanderwee/b30fdb496acff43aef8e\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>Use the following method to get the videoId from the link.</p>\n\n<blockquote>\n  <p>YoutubeHelper.java</p>\n</blockquote>\n\n<pre><code>import com.google.inject.Singleton; \n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n@Singleton \npublic class YouTubeHelper { \n\n    final String youTubeUrlRegEx = \"^(https?)?(://)?(www.)?(m.)?((youtube.com)|(youtu.be))/\";\n    final String[] videoIdRegex = { \"\\\\?vi?=([^&amp;]*)\",\"watch\\\\?.*v=([^&amp;]*)\", \"(?:embed|vi?)/([^/?]*)\", \"^([A-Za-z0-9\\\\-]*)\"};\n\n    public String extractVideoIdFromUrl(String url) {\n        String youTubeLinkWithoutProtocolAndDomain = youTubeLinkWithoutProtocolAndDomain(url);\n\n        for(String regex : videoIdRegex) {\n            Pattern compiledPattern = Pattern.compile(regex);\n            Matcher matcher = compiledPattern.matcher(youTubeLinkWithoutProtocolAndDomain);\n\n            if(matcher.find()){\n                return matcher.group(1);\n            } \n        } \n\n        return null; \n    } \n\n    private String youTubeLinkWithoutProtocolAndDomain(String url) {\n        Pattern compiledPattern = Pattern.compile(youTubeUrlRegEx);\n        Matcher matcher = compiledPattern.matcher(url);\n\n        if(matcher.find()){\n            return url.replace(matcher.group(), \"\");\n        } \n        return url;\n    } \n} \n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":399131,"reputation":16399,"user_id":2296787,"accept_rate":79,"display_name":"MBH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684107433,"creation_date":1684107433,"answer_id":76250103,"question_id":7730328,"body_markdown":"Here is the `kotlin` version that will support many of Youtube urls including ***Shorts***:\r\n\r\n    private fun getVideoId(youtubeUrl: String): String {\r\n        var videoId = &quot;&quot;\r\n        val regex = &quot;/(?:watch|\\\\w+\\\\?(?:feature=\\\\w+.\\\\w+&amp;)?v=|(videos/)|v/|e/|embed/|live/|shorts/|user/(?:[\\\\w#]+/)+)([^&amp;#?\\\\n]+)&quot;\r\n        val pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE)\r\n        val matcher = pattern.matcher(youtubeUrl)\r\n        if(matcher.find()){\r\n            videoId = matcher.group(2).orEmpty()\r\n        }\r\n        return videoId\r\n    }\r\nHere are some samples to I&#39;ve tested against:\r\n\r\n    https://youtube.com/watch?v=olij8GbEHJ0\r\n    www.youtube.com/watch?v=olij8GbEHJ0\r\n    https://youtu.be/shorts/fMlV1dGb1cI?feature=share\r\n    http://gdata.youtube.com/feeds/api/videos/xxxxxx\r\n    http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\r\n    http://www.youtube.com/watch?v=384IUU43bfQ\r\n    http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\r\n\r\nTry it on [regex101.com][1] choosing Java on the left menu\r\n\r\n\r\n  [1]: https://regex101.com/","title":"getting the youtube id from a link","body":"<p>Here is the <code>kotlin</code> version that will support many of Youtube urls including <em><strong>Shorts</strong></em>:</p>\n<pre><code>private fun getVideoId(youtubeUrl: String): String {\n    var videoId = &quot;&quot;\n    val regex = &quot;/(?:watch|\\\\w+\\\\?(?:feature=\\\\w+.\\\\w+&amp;)?v=|(videos/)|v/|e/|embed/|live/|shorts/|user/(?:[\\\\w#]+/)+)([^&amp;#?\\\\n]+)&quot;\n    val pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE)\n    val matcher = pattern.matcher(youtubeUrl)\n    if(matcher.find()){\n        videoId = matcher.group(2).orEmpty()\n    }\n    return videoId\n}\n</code></pre>\n<p>Here are some samples to I've tested against:</p>\n<pre><code>https://youtube.com/watch?v=olij8GbEHJ0\nwww.youtube.com/watch?v=olij8GbEHJ0\nhttps://youtu.be/shorts/fMlV1dGb1cI?feature=share\nhttp://gdata.youtube.com/feeds/api/videos/xxxxxx\nhttp://www.youtube.com/embed/Woq5iX9XQhA?html5=1\nhttp://www.youtube.com/watch?v=384IUU43bfQ\nhttp://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\n</code></pre>\n<p>Try it on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> choosing Java on the left menu</p>\n"}],"owner":{"account_id":471373,"reputation":1569,"user_id":879131,"accept_rate":43,"display_name":"Peril"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20880,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":15214610,"answer_count":10,"score":25,"last_activity_date":1684107433,"creation_date":1318355776,"question_id":7730328,"body_markdown":"I got this code to get the youtube id from the links like \r\nwww.youtube.com/watch?v=xxxxxxx\r\n\r\n      URL youtubeURL = new URL(link);\r\n      youtubeURL.getQuery();\r\nbasically this will get me the id easily v=xxxxxxxx\r\n\r\nbut I noticed sometime youtube links will be like this\r\n\r\n\r\n    http://gdata.youtube.com/feeds/api/videos/xxxxxx\r\n\r\nI am getting the links from a feed\r\nso do I need to build a regex for that or theres a parser to get that for me ?\r\n\r\n","title":"getting the youtube id from a link","body":"<p>I got this code to get the youtube id from the links like \nwww.youtube.com/watch?v=xxxxxxx</p>\n\n<pre><code>  URL youtubeURL = new URL(link);\n  youtubeURL.getQuery();\n</code></pre>\n\n<p>basically this will get me the id easily v=xxxxxxxx</p>\n\n<p>but I noticed sometime youtube links will be like this</p>\n\n<pre><code>http://gdata.youtube.com/feeds/api/videos/xxxxxx\n</code></pre>\n\n<p>I am getting the links from a feed\nso do I need to build a regex for that or theres a parser to get that for me ?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":13724158,"reputation":575,"user_id":9903370,"display_name":"skelwa"},"score":0,"creation_date":1531825183,"post_id":51379680,"comment_id":89730810,"body_markdown":"Is your file named as application.property or application.properties?","body":"Is your file named as application.property or application.properties?"},{"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"score":0,"creation_date":1531825253,"post_id":51379680,"comment_id":89730853,"body_markdown":". properties. Thanks for pointing this out","body":". properties. Thanks for pointing this out"},{"owner":{"account_id":5019572,"reputation":1217,"user_id":4033396,"accept_rate":0,"display_name":"Sri9911"},"score":0,"creation_date":1531827290,"post_id":51379680,"comment_id":89732259,"body_markdown":"Since you are disabling auto-configuration classes via &#39;@EnableAutoConfiguration &#39; exclude attribute, you may try &#39;@Configuration&#39;instead of &#39;@SpringBootApplication&#39;","body":"Since you are disabling auto-configuration classes via &#39;@EnableAutoConfiguration &#39; exclude attribute, you may try &#39;@Configuration&#39;instead of &#39;@SpringBootApplication&#39;"},{"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"score":0,"creation_date":1531828888,"post_id":51379680,"comment_id":89733312,"body_markdown":"@Sri9911 that annotation was a suggestion so I can remove it. Using &#39;@Configuration&#39; instead of &#39;@SpringBootApplication&#39; messes with all my bean declarations,bean dependency injections...so it&#39;s not a viable option","body":"@Sri9911 that annotation was a suggestion so I can remove it. Using &#39;@Configuration&#39; instead of &#39;@SpringBootApplication&#39; messes with all my bean declarations,bean dependency injections...so it&#39;s not a viable option"}],"answers":[{"tags":[],"owner":{"account_id":6740561,"reputation":99,"user_id":5193935,"display_name":"Andriy Br."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531825313,"creation_date":1531825313,"answer_id":51379770,"question_id":51379680,"body_markdown":"You should name property file: `application.properties` or `application.yml`","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>You should name property file: <code>application.properties</code> or <code>application.yml</code></p>\n"},{"tags":[],"owner":{"account_id":9181235,"reputation":616,"user_id":6824968,"display_name":"this_is_om_vm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531825398,"creation_date":1531825398,"answer_id":51379802,"question_id":51379680,"body_markdown":"just try to append this line in your config class\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>just try to append this line in your config class</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624574,"reputation":666,"user_id":7824581,"display_name":"Kathirvel Subramanian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1684105993,"creation_date":1531833651,"answer_id":51382477,"question_id":51379680,"body_markdown":"You can start by removing:\r\n\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n\r\nAnd also try to add all these _JDBC_ properties,\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false\r\n    spring.datasource.username=&lt;username&gt;\r\n    spring.datasource.password=&lt;password&gt;\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.ddl-auto=update","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>You can start by removing:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\n</code></pre>\n<p>And also try to add all these <em>JDBC</em> properties,</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624002108,"creation_date":1623973933,"answer_id":68027745,"question_id":51379680,"body_markdown":"Most of the answers recommend excluding **DataSourceAutoConfiguration**, and I agree with the approach, but what they don&#39;t tell is that besides the programmatic way via annotation `@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})`, we also have the option of setting it via properties in the following manner which is useful when annotating an application class is not an option.\r\n \r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>Most of the answers recommend excluding <strong>DataSourceAutoConfiguration</strong>, and I agree with the approach, but what they don't tell is that besides the programmatic way via annotation <code>@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})</code>, we also have the option of setting it via properties in the following manner which is useful when annotating an application class is not an option.</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54593,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51382477,"answer_count":4,"score":8,"last_activity_date":1684105993,"creation_date":1531825026,"question_id":51379680,"body_markdown":"I am trying to load a MySQL database into a spring boot application but when I start the application I am getting those error messages:\r\n\r\n`2018-07-17 13:46:31.426  WARN 2120 --- [  restartedMain] o.s.b.a.orm.jpa.DatabaseLookup           : Unable to determine jdbc url from datasource`\r\n\r\n`org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: &#39;url&#39; not set`\r\n\r\nAlthough I have set the url property in `application.properties` : `spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase`\r\n\r\nCan anyone help me figure this one out?\r\n\r\nEdit: Here is my Main class:\r\n\r\n    package com.randomsoft.checkoff;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n    public class CheckoffApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CheckoffApplication.class, args);\r\n\t}\r\n    }\r\n\r\n","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>I am trying to load a MySQL database into a spring boot application but when I start the application I am getting those error messages:</p>\n\n<p><code>2018-07-17 13:46:31.426  WARN 2120 --- [  restartedMain] o.s.b.a.orm.jpa.DatabaseLookup           : Unable to determine jdbc url from datasource</code></p>\n\n<p><code>org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: 'url' not set</code></p>\n\n<p>Although I have set the url property in <code>application.properties</code> : <code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase</code></p>\n\n<p>Can anyone help me figure this one out?</p>\n\n<p>Edit: Here is my Main class:</p>\n\n<pre><code>package com.randomsoft.checkoff;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\npublic class CheckoffApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(CheckoffApplication.class, args);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684105821,"creation_date":1684105451,"answer_id":76250029,"question_id":76205536,"body_markdown":"&gt; Is it the right way to do what I intended to do?\r\n\r\nActually, this is not the best idea in a reactive application. Your case is a bit tricky because `ReactiveAuthorizationManager` is often used to perform authorization based on the data like user roles, claims, etc., not the request body. The tricky moment here is that reading the request body for authorization means you are consuming the `Flux&lt;DataBuffer&gt;`. Since this Flux can only be consumed once, you need to cache it and forward the cache to the controller. And this is exactly what you&#39;ve already done in your example. \r\n\r\nThe problem here is that such caching can negate some benefits of WebFlux. For example, in this context, it makes caching involves storing the entire request body in memory so that it can be read multiple times. However, one of the benefits of using a stream-based, non-blocking I/O model like WebFlux is the ability to handle data by processing it in chunks as they arrive (that&#39;s why you have `Flux&lt;DataBuffer&gt;` and not `Mono&lt;DataBuffer&gt;`). Caching it may affect application performance, especially with large request bodies. Also, caching isn&#39;t an option if the request body is a data stream. A stream might not be available all at once, so you can&#39;t cache it.\r\n\r\nThat&#39;s why it is not recommended to do what you want to do. Better to move all needed authorization context to headers and check headers.\r\n\r\n&gt; Is there any chance that the class BodyInterceptingRequest is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.\r\n\r\nHowever, if you understand all cons but want to proceed with such a solution, the general implementation is correct. It is unlikely that you will encounter the situation you described because you create a new instance of `BodyInterceptingRequest` on each request, and you have your own &quot;exchange&quot; for each request. Also, `WebFilter`s executed sequentially, so there is no race condition should be in `BodyInterceptingRequest`.\r\n\r\n&gt; Is there any chance of memory leak through the implementation of BodyInterceptingRequest?\r\n\r\nOverall, I don&#39;t see possible memory leaks here. Let&#39;s take a closer look at the important places:\r\n\r\n1. readBody method\r\n\r\nAccording to the `DataBufferUtils.join` documentation: \r\n```\r\nthe given data buffers do not have to be released. They will be released as part of the returned composite.\r\n```\r\nThis is what you&#39;ve done in `DataBufferUtils.release(dataBuffer)`.\r\n\r\n2. getBody method\r\n\r\nSince you are using `DefaultDataBufferFactory`, there is no need to release allocated data buffers. They will be garbage collected. But actually, I don&#39;t see a reason to allocate new memory here. I think you can replace `bufferFactory.allocateBuffer` with `bufferFactory.wrap(bytes)`.\r\n","title":"How to extract request body in ReactiveAuthorizationManager of Spring WebFlux Security?","body":"<blockquote>\n<p>Is it the right way to do what I intended to do?</p>\n</blockquote>\n<p>Actually, this is not the best idea in a reactive application. Your case is a bit tricky because <code>ReactiveAuthorizationManager</code> is often used to perform authorization based on the data like user roles, claims, etc., not the request body. The tricky moment here is that reading the request body for authorization means you are consuming the <code>Flux&lt;DataBuffer&gt;</code>. Since this Flux can only be consumed once, you need to cache it and forward the cache to the controller. And this is exactly what you've already done in your example.</p>\n<p>The problem here is that such caching can negate some benefits of WebFlux. For example, in this context, it makes caching involves storing the entire request body in memory so that it can be read multiple times. However, one of the benefits of using a stream-based, non-blocking I/O model like WebFlux is the ability to handle data by processing it in chunks as they arrive (that's why you have <code>Flux&lt;DataBuffer&gt;</code> and not <code>Mono&lt;DataBuffer&gt;</code>). Caching it may affect application performance, especially with large request bodies. Also, caching isn't an option if the request body is a data stream. A stream might not be available all at once, so you can't cache it.</p>\n<p>That's why it is not recommended to do what you want to do. Better to move all needed authorization context to headers and check headers.</p>\n<blockquote>\n<p>Is there any chance that the class BodyInterceptingRequest is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.</p>\n</blockquote>\n<p>However, if you understand all cons but want to proceed with such a solution, the general implementation is correct. It is unlikely that you will encounter the situation you described because you create a new instance of <code>BodyInterceptingRequest</code> on each request, and you have your own &quot;exchange&quot; for each request. Also, <code>WebFilter</code>s executed sequentially, so there is no race condition should be in <code>BodyInterceptingRequest</code>.</p>\n<blockquote>\n<p>Is there any chance of memory leak through the implementation of BodyInterceptingRequest?</p>\n</blockquote>\n<p>Overall, I don't see possible memory leaks here. Let's take a closer look at the important places:</p>\n<ol>\n<li>readBody method</li>\n</ol>\n<p>According to the <code>DataBufferUtils.join</code> documentation:</p>\n<pre><code>the given data buffers do not have to be released. They will be released as part of the returned composite.\n</code></pre>\n<p>This is what you've done in <code>DataBufferUtils.release(dataBuffer)</code>.</p>\n<ol start=\"2\">\n<li>getBody method</li>\n</ol>\n<p>Since you are using <code>DefaultDataBufferFactory</code>, there is no need to release allocated data buffers. They will be garbage collected. But actually, I don't see a reason to allocate new memory here. I think you can replace <code>bufferFactory.allocateBuffer</code> with <code>bufferFactory.wrap(bytes)</code>.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76250029,"answer_count":1,"score":4,"last_activity_date":1684105821,"creation_date":1683600723,"question_id":76205536,"body_markdown":"I need to extract the request body from the `ServerHttpRequest` in my custom implementation of `ReactiveAuthorizationManager&lt;AuthorizationContext&gt;`. The body payload contains an `id` of an entity. I need to check the request&#39;s authorization to see if the requester can access the entity.\r\n\r\nTo implement it I created a custom `ServerHttpRequestDecorator`:\r\n\r\n    public class BodyInterceptingRequest extends ServerHttpRequestDecorator {\r\n    \r\n        private StringBuilder body = null;\r\n    \r\n        public BodyInterceptingRequest(ServerHttpRequest delegate) {\r\n            super(delegate);\r\n        }\r\n    \r\n        public Flux&lt;DataBuffer&gt; getBody() {\r\n            if (body == null) {\r\n                return super.getBody();\r\n            }\r\n    \r\n            DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\r\n            byte[] bytes = getRequestBody().getBytes(StandardCharsets.UTF_8);\r\n            DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\r\n            return Flux.just(buffer.write(bytes));\r\n        }\r\n    \r\n        public Mono&lt;String&gt; readBody() {\r\n            // @formatter:off\r\n            return DataBufferUtils.join(super.getBody())\r\n                .map((DataBuffer dataBuffer) -&gt; {\r\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                    dataBuffer.read(bytes);\r\n                    DataBufferUtils.release(dataBuffer);\r\n                    return bytes;\r\n                })\r\n                .defaultIfEmpty(new byte[0])\r\n                .flatMap(bytes -&gt; {\r\n                    body = new StringBuilder();\r\n                    body.append(new String(bytes, StandardCharsets.UTF_8));\r\n                    return Mono.just(body.toString());\r\n                });\r\n            // @formatter:on\r\n        }\r\n    \r\n        public String getRequestBody() {\r\n            return this.body.toString();\r\n        }\r\n    }\r\n\r\nAnd used this decorator in a custom `ServerWebExchangeDecorator`:\r\n\r\n    public class RequestBodyInterceptingExchange extends ServerWebExchangeDecorator {\r\n    \r\n        private final BodyInterceptingRequest request;\r\n    \r\n        public RequestBodyInterceptingExchange(ServerWebExchange exchange) {\r\n            super(exchange);\r\n            this.request = new BodyInterceptingRequest(exchange.getRequest());\r\n        }\r\n    \r\n        @Override\r\n        public BodyInterceptingRequest getRequest() {\r\n            return request;\r\n        }\r\n    }\r\n\r\nI also have created a custom `WebFilter`:\r\n\r\n    public class RequestBodyInterceptingFilter implements WebFilter {\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            return chain.filter(new RequestBodyInterceptingExchange(exchange));\r\n        }\r\n    }\r\n\r\nAnd registered it in `ServerHttpSecurity` as:\r\n\r\n    http\r\n        // other stuff\r\n        .addFilterBefore(new RequestBodyInterceptingFilter(), SecurityWebFiltersOrder.SECURITY_CONTEXT_SERVER_WEB_EXCHANGE)\r\n        .build();\r\n\r\nNow, the above-mentioned custom implementation of `ReactiveAuthorizationManager&lt;AuthorizationContext&gt;` looks like this:\r\n\r\n    public class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;AuthorizationContext&gt; {\r\n    \r\n        public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, AuthorizationContext context) {\r\n            // @formatter:off\r\n            return Mono.zip(\r\n                    authentication,\r\n                    getId(context)\r\n                )\r\n                .flatMap((Tuple2&lt;Authentication, String&gt; tuple) -&gt; {\r\n                    Authentication auth = tuple.getT1();\r\n                    String id = tuple.getT2();\r\n                    Jwt principal = (Jwt) auth.getPrincipal();\r\n                    String userId = principal.getSubject();\r\n    \r\n                    return // execute some logic and return a Mono boolean\r\n                })\r\n                .filter(BooleanUtils::isTrue)\r\n                .map(AuthorizationDecision::new);\r\n            // @formatter:on\r\n        }\r\n    \r\n        protected Mono&lt;String&gt; getId(AuthorizationContext context) {\r\n            SecurityContextServerWebExchange securityContextExchange = (SecurityContextServerWebExchange) context.getExchange();\r\n            RequestBodyInterceptingExchange exchange = (RequestBodyInterceptingExchange) securityContextExchange.getDelegate();\r\n    \r\n            // @formatter:off\r\n            return exchange.getRequest()\r\n                .readBody()\r\n                .flatMap((String requestBody) -&gt; Mono.just(convert(requestBody).getId())); // convert is a method for deserialize JSON to an Object\r\n            // @formatter:on\r\n        }\r\n    }\r\n\r\nI can achieve what I need. But I have a few questions: \r\n\r\n - Is it the right way to do what I intended to do? \r\n - Is there any chance that the class `BodyInterceptingRequest` is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.\r\n - Is there any chance of memory leak through the implementation of `BodyInterceptingRequest`?\r\n\r\nI appreciate your expert opinion about my approach. ","title":"How to extract request body in ReactiveAuthorizationManager of Spring WebFlux Security?","body":"<p>I need to extract the request body from the <code>ServerHttpRequest</code> in my custom implementation of <code>ReactiveAuthorizationManager&lt;AuthorizationContext&gt;</code>. The body payload contains an <code>id</code> of an entity. I need to check the request's authorization to see if the requester can access the entity.</p>\n<p>To implement it I created a custom <code>ServerHttpRequestDecorator</code>:</p>\n<pre><code>public class BodyInterceptingRequest extends ServerHttpRequestDecorator {\n\n    private StringBuilder body = null;\n\n    public BodyInterceptingRequest(ServerHttpRequest delegate) {\n        super(delegate);\n    }\n\n    public Flux&lt;DataBuffer&gt; getBody() {\n        if (body == null) {\n            return super.getBody();\n        }\n\n        DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\n        byte[] bytes = getRequestBody().getBytes(StandardCharsets.UTF_8);\n        DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\n        return Flux.just(buffer.write(bytes));\n    }\n\n    public Mono&lt;String&gt; readBody() {\n        // @formatter:off\n        return DataBufferUtils.join(super.getBody())\n            .map((DataBuffer dataBuffer) -&gt; {\n                byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                dataBuffer.read(bytes);\n                DataBufferUtils.release(dataBuffer);\n                return bytes;\n            })\n            .defaultIfEmpty(new byte[0])\n            .flatMap(bytes -&gt; {\n                body = new StringBuilder();\n                body.append(new String(bytes, StandardCharsets.UTF_8));\n                return Mono.just(body.toString());\n            });\n        // @formatter:on\n    }\n\n    public String getRequestBody() {\n        return this.body.toString();\n    }\n}\n</code></pre>\n<p>And used this decorator in a custom <code>ServerWebExchangeDecorator</code>:</p>\n<pre><code>public class RequestBodyInterceptingExchange extends ServerWebExchangeDecorator {\n\n    private final BodyInterceptingRequest request;\n\n    public RequestBodyInterceptingExchange(ServerWebExchange exchange) {\n        super(exchange);\n        this.request = new BodyInterceptingRequest(exchange.getRequest());\n    }\n\n    @Override\n    public BodyInterceptingRequest getRequest() {\n        return request;\n    }\n}\n</code></pre>\n<p>I also have created a custom <code>WebFilter</code>:</p>\n<pre><code>public class RequestBodyInterceptingFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        return chain.filter(new RequestBodyInterceptingExchange(exchange));\n    }\n}\n</code></pre>\n<p>And registered it in <code>ServerHttpSecurity</code> as:</p>\n<pre><code>http\n    // other stuff\n    .addFilterBefore(new RequestBodyInterceptingFilter(), SecurityWebFiltersOrder.SECURITY_CONTEXT_SERVER_WEB_EXCHANGE)\n    .build();\n</code></pre>\n<p>Now, the above-mentioned custom implementation of <code>ReactiveAuthorizationManager&lt;AuthorizationContext&gt;</code> looks like this:</p>\n<pre><code>public class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;AuthorizationContext&gt; {\n\n    public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, AuthorizationContext context) {\n        // @formatter:off\n        return Mono.zip(\n                authentication,\n                getId(context)\n            )\n            .flatMap((Tuple2&lt;Authentication, String&gt; tuple) -&gt; {\n                Authentication auth = tuple.getT1();\n                String id = tuple.getT2();\n                Jwt principal = (Jwt) auth.getPrincipal();\n                String userId = principal.getSubject();\n\n                return // execute some logic and return a Mono boolean\n            })\n            .filter(BooleanUtils::isTrue)\n            .map(AuthorizationDecision::new);\n        // @formatter:on\n    }\n\n    protected Mono&lt;String&gt; getId(AuthorizationContext context) {\n        SecurityContextServerWebExchange securityContextExchange = (SecurityContextServerWebExchange) context.getExchange();\n        RequestBodyInterceptingExchange exchange = (RequestBodyInterceptingExchange) securityContextExchange.getDelegate();\n\n        // @formatter:off\n        return exchange.getRequest()\n            .readBody()\n            .flatMap((String requestBody) -&gt; Mono.just(convert(requestBody).getId())); // convert is a method for deserialize JSON to an Object\n        // @formatter:on\n    }\n}\n</code></pre>\n<p>I can achieve what I need. But I have a few questions:</p>\n<ul>\n<li>Is it the right way to do what I intended to do?</li>\n<li>Is there any chance that the class <code>BodyInterceptingRequest</code> is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.</li>\n<li>Is there any chance of memory leak through the implementation of <code>BodyInterceptingRequest</code>?</li>\n</ul>\n<p>I appreciate your expert opinion about my approach.</p>\n"},{"tags":["java","spring-boot","validation","dependencies"],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684105777,"creation_date":1684062091,"question_id":76247125,"body_markdown":"My pom.xml file looks like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut every time I run the project (as of today, it worked 2 days ago), I get:\r\n\r\n    2023-05-14 12:53:53,691 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The Bean Validation API is on the classpath but no implementation could be found\r\n    \r\n    Action:\r\n    \r\n    Add an implementation, such as Hibernate Validator, to the classpath\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nAnyone got any idea why? \r\nAlready did `mvn clean install`, no luck there.","title":"validation dependency error java spring-boot","body":"<p>My pom.xml file looks like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but every time I run the project (as of today, it worked 2 days ago), I get:</p>\n<pre><code>2023-05-14 12:53:53,691 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe Bean Validation API is on the classpath but no implementation could be found\n\nAction:\n\nAdd an implementation, such as Hibernate Validator, to the classpath\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Anyone got any idea why?\nAlready did <code>mvn clean install</code>, no luck there.</p>\n"},{"tags":["java","apache-commons","email-validation"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1684060422,"post_id":76246865,"comment_id":134458650,"body_markdown":"Judging from the source of `EmailValidator`, `+` is a valid character. Do you actually get `false`? Are you sure it&#39;s because of the `+`? Can you give a [mcve]?","body":"Judging from the source of <code>EmailValidator</code>, <code>+</code> is a valid character. Do you actually get <code>false</code>? Are you sure it&#39;s because of the <code>+</code>? Can you give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":10091995,"reputation":105,"user_id":7458694,"display_name":"Marcel"},"score":0,"creation_date":1684084881,"post_id":76246865,"comment_id":134461604,"body_markdown":"That&#39;s weird. I 100% got false on the + character. Just removing this character gave true. Will test tomorrow again and share some more details. Thanks!","body":"That&#39;s weird. I 100% got false on the + character. Just removing this character gave true. Will test tomorrow again and share some more details. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684060955,"creation_date":1684059649,"answer_id":76246948,"question_id":76246865,"body_markdown":"The Apache Commons EmailValidator **does** work with a plus sign.\r\n\r\n    import org.apache.commons.validator.routines.EmailValidator;\r\n    \r\n    public class MapperMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString email = &quot;john+Williams@ennui.co.za&quot;;\r\n\t\t\r\n\t\tEmailValidator emailValidator = EmailValidator.getInstance();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(emailValidator.isValid(email));\r\n\r\n\t}\r\n\r\n    }\r\n\r\nOutputs:\r\n\r\n    true\r\n\r\n","title":"Apache commons email validator: allow plus character in e-mail","body":"<p>The Apache Commons EmailValidator <strong>does</strong> work with a plus sign.</p>\n<pre><code>import org.apache.commons.validator.routines.EmailValidator;\n\npublic class MapperMain {\n\npublic static void main(String[] args) {\n\n    String email = &quot;john+Williams@ennui.co.za&quot;;\n    \n    EmailValidator emailValidator = EmailValidator.getInstance();\n    \n    \n    System.out.println(emailValidator.isValid(email));\n\n}\n\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>true\n</code></pre>\n"}],"owner":{"account_id":10091995,"reputation":105,"user_id":7458694,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76246948,"answer_count":1,"score":0,"last_activity_date":1684105620,"creation_date":1684058364,"question_id":76246865,"body_markdown":"using org.apache.commons.validator.routines.EmailValidator (1.7) for e-mail validation in Java.\r\n\r\nIn GMAIL a user is allowed to use `myname+anything@gmail.com` and it will go to `myname@gmail.com`. However, the `EmailValidator` does not allow the `+` character. I also tried replacing the `+` with `%2b` before validation but it also fails.\r\n\r\nAny suggestions? Can I add an extra allowed character to my EmailValidator instance? Couldn&#39;t find this but guess I would need something like that. \r\n\r\nPs. I don&#39;t really want to go to custom regex for various reasons. ","title":"Apache commons email validator: allow plus character in e-mail","body":"<p>using org.apache.commons.validator.routines.EmailValidator (1.7) for e-mail validation in Java.</p>\n<p>In GMAIL a user is allowed to use <code>myname+anything@gmail.com</code> and it will go to <code>myname@gmail.com</code>. However, the <code>EmailValidator</code> does not allow the <code>+</code> character. I also tried replacing the <code>+</code> with <code>%2b</code> before validation but it also fails.</p>\n<p>Any suggestions? Can I add an extra allowed character to my EmailValidator instance? Couldn't find this but guess I would need something like that.</p>\n<p>Ps. I don't really want to go to custom regex for various reasons.</p>\n"},{"tags":["java","overloading","boxing"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1684060756,"post_id":76246945,"comment_id":134458685,"body_markdown":"`Short` and `short` are different types.  Try declaring `go` as `go(short n)`.","body":"<code>Short</code> and <code>short</code> are different types.  Try declaring <code>go</code> as <code>go(short n)</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1684061530,"post_id":76246945,"comment_id":134458761,"body_markdown":"The rules for resolving overload calls are complicated.  But basically, when you have a `go` call with a `short` argument, the `go(int)` method is closer than the `go(Short)` method.   Technically, `short` is a subtype of `int` but not `Short`.  And that means that `go(int)` is *more specific* than `go(Short)` ... and that is why it is chosen.","body":"The rules for resolving overload calls are complicated.  But basically, when you have a <code>go</code> call with a <code>short</code> argument, the <code>go(int)</code> method is closer than the <code>go(Short)</code> method.   Technically, <code>short</code> is a subtype of <code>int</code> but not <code>Short</code>.  And that means that <code>go(int)</code> is <i>more specific</i> than <code>go(Short)</code> ... and that is why it is chosen."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1684061803,"post_id":76246945,"comment_id":134458798,"body_markdown":"because widening of type is higher on the priority list than auto-boxing.","body":"because widening of type is higher on the priority list than auto-boxing."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1684061911,"post_id":76246945,"comment_id":134458812,"body_markdown":"Are you intentionally use `Short` as in the [`java.lang.Short`](https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html) wrapper class or was it just a typo and you wanted to write the primitive type `short`?","body":"Are you intentionally use <code>Short</code> as in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html\" rel=\"nofollow noreferrer\"><code>java.lang.Short</code></a> wrapper class or was it just a typo and you wanted to write the primitive type <code>short</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684064630,"post_id":76246945,"comment_id":134459095,"body_markdown":"Why do you *have* an overload `method(Short)`? Don&#39;t do this.","body":"Why do you <i>have</i> an overload <code>method(Short)</code>? Don&#39;t do this."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684105477,"creation_date":1684065572,"answer_id":76247370,"question_id":76246945,"body_markdown":"When you make a call to an overloaded method, the compiler needs to decide *statically* which of the overloads will be called.  Intuitively, this is done by looking at each of the overloads&#39; signatures, and working out which one is the best match ... based on the *static* types of the argument expressions.  If there is a tie (i.e. no single &quot;best&quot; match), the compiler gives an error saying that the method call is ambiguous.\r\n\r\nThis is the code of your example.\r\n\r\n    public class test {\r\n        public static void go(Short n) {System.out.println(&quot;Short&quot;);}\r\n        public static void go(int n) {System.out.println(&quot;int&quot;);}\r\n        \r\n        public static void main(String[] args) {\r\n            short x=11;\r\n            go(x);\r\n        }\r\n    }\r\n\r\nThe reason that this prints &quot;int&quot; rather than &quot;Short&quot; is because `go(int)` is deemed to be a better match than `go(Short)` to a call where the argument expression&#39;s static type is `short`.  \r\n\r\n(Technically, `short` is a subtype of `int`, but not of `Short`.)\r\n\r\nIf we change your code to this:\r\n\r\n    public class test {\r\n        public static void go(short n) {System.out.println(&quot;short&quot;);}\r\n        public static void go(int n) {System.out.println(&quot;int&quot;);}\r\n        \r\n        public static void main(String[] args) {\r\n            short x=11;\r\n            go(x);\r\n        }\r\n    }\r\n\r\nwe will now see that `short` is printed.   The type `short` is a subtype&lt;sup&gt;1&lt;/sup&gt; of both `short` and `int`, but `go(short)` is a closer match than `go(int)`.\r\n\r\nThe relevant section of the Java Language Specification is [JLS 15.2][1].   But beware that is long and complicated ... and NOT recommended for beginners to try to read.  (Indeed, I would posit that *most* Java programmers don&#39;t fully understand all of what it says.  Myself included!)\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This is according to the definition of subtype used in the JLS.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12","title":"Why does invoking a method with a short choose the `void (int)` overload over `void (Short)`?","body":"<p>When you make a call to an overloaded method, the compiler needs to decide <em>statically</em> which of the overloads will be called.  Intuitively, this is done by looking at each of the overloads' signatures, and working out which one is the best match ... based on the <em>static</em> types of the argument expressions.  If there is a tie (i.e. no single &quot;best&quot; match), the compiler gives an error saying that the method call is ambiguous.</p>\n<p>This is the code of your example.</p>\n<pre><code>public class test {\n    public static void go(Short n) {System.out.println(&quot;Short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n<p>The reason that this prints &quot;int&quot; rather than &quot;Short&quot; is because <code>go(int)</code> is deemed to be a better match than <code>go(Short)</code> to a call where the argument expression's static type is <code>short</code>.</p>\n<p>(Technically, <code>short</code> is a subtype of <code>int</code>, but not of <code>Short</code>.)</p>\n<p>If we change your code to this:</p>\n<pre><code>public class test {\n    public static void go(short n) {System.out.println(&quot;short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n<p>we will now see that <code>short</code> is printed.   The type <code>short</code> is a subtype<sup>1</sup> of both <code>short</code> and <code>int</code>, but <code>go(short)</code> is a closer match than <code>go(int)</code>.</p>\n<p>The relevant section of the Java Language Specification is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12\" rel=\"nofollow noreferrer\">JLS 15.2</a>.   But beware that is long and complicated ... and NOT recommended for beginners to try to read.  (Indeed, I would posit that <em>most</em> Java programmers don't fully understand all of what it says.  Myself included!)</p>\n<hr />\n<p><sup>1 - This is according to the definition of subtype used in the JLS.</sup></p>\n"}],"owner":{"account_id":10917016,"reputation":345,"user_id":8024530,"accept_rate":40,"display_name":"kolinunlt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1684065982,"accepted_answer_id":76247370,"answer_count":1,"score":5,"last_activity_date":1684105477,"creation_date":1684059641,"question_id":76246945,"body_markdown":"I am learning Java.  When I call `go(x)`, I get ‘int’.  Why not ‘Short’?\r\n\r\n    public class test {\r\n    \tpublic static void go(Short n) {System.out.println(&quot;Short&quot;);}\r\n    \tpublic static void go(int n) {System.out.println(&quot;int&quot;);}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tshort x=11;\r\n    \t\tgo(x);\r\n    \t}\r\n    }","title":"Why does invoking a method with a short choose the `void (int)` overload over `void (Short)`?","body":"<p>I am learning Java.  When I call <code>go(x)</code>, I get ‘int’.  Why not ‘Short’?</p>\n<pre><code>public class test {\n    public static void go(Short n) {System.out.println(&quot;Short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":2909779,"reputation":928,"user_id":2494311,"accept_rate":50,"display_name":"Vadiraj Purohit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684100369,"creation_date":1684098272,"answer_id":76249669,"question_id":76210544,"body_markdown":"Since api gateway uses webflux, instead of using swagger dependency \r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n``` \r\n\r\nuse swagger webflux dependency\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.15&#39;\r\n```\r\n\r\nPlease find working repo [here](https://github.com/cricketbackground/docs) for reference\r\n\r\nAfter updating this in build gradle swagger url works fine:\r\n\r\n`http://localhost:8081/swagger-ui.html`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hhoBu.png","title":"Swagger API documentation in an API gateway (spring-cloud-starter-gateway) does not work (Whitelabel Error Page)","body":"<p>Since api gateway uses webflux, instead of using swagger dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n</code></pre>\n<p>use swagger webflux dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.15'\n</code></pre>\n<p>Please find working repo <a href=\"https://github.com/cricketbackground/docs\" rel=\"nofollow noreferrer\">here</a> for reference</p>\n<p>After updating this in build gradle swagger url works fine:</p>\n<p><code>http://localhost:8081/swagger-ui.html</code></p>\n<p><a href=\"https://i.stack.imgur.com/hhoBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhoBu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76249669,"answer_count":1,"score":2,"last_activity_date":1684100742,"creation_date":1683643334,"question_id":76210544,"body_markdown":"I am trying to add the Swagger API documentation in a Springboot application that uses the following dependency: \r\n\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n```\r\n\r\nI am using the following configuration:\r\n\r\n```\r\n@OpenAPIDefinition\r\n@Configuration\r\npublic class SwaggerConfiguration {\r\n    @Bean\r\n    public OpenAPI baseOpenAPI(){\r\n        return new OpenAPI().info(\r\n                new Info()\r\n                        .title(&quot;This is a test&quot;)\r\n                        .version(&quot;0.1&quot;)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nThis is my controller:\r\n\r\n```\r\n@RestController\r\npublic class HelloWorldController {\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand my build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.11&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.noob234&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;2021.0.7&quot;)\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n\t}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI suspect that the issue is related to this dependency \r\n\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n``` \r\n\r\nbecause I tried the same steps without introducing the \r\n\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n``` \r\n\r\ndependency and it works when I access this page http://localhost:8082/swagger-ui/index.html#/.\r\nI don&#39;t get Whitelabel Error Page anymore.\r\n\r\n**EDIT:**  \r\n\r\nI also tried to add these 2 dependencies:\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.15&#39;\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.6.15&#39;\r\n```\r\n\r\nInstead of this one:\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n```\r\n\r\nAnd added these properties in my application.properties:\r\n\r\n```\r\nspring.application.name=gateway\r\nserver.port=8081\r\nspringdoc.swagger-ui.path=/swagger-ui.html\r\nspringdoc.api-docs.path=/v3/api-docs\r\nspringdoc.swagger-ui.enabled=true\r\nspring.cloud.gateway.routes[0].id=swagger-ui\r\nspring.cloud.gateway.routes[0].uri=http://localhost:8081\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/swagger-ui.html\r\n\r\nspring.cloud.gateway.routes[1].id=api-docs\r\nspring.cloud.gateway.routes[1].uri=http://localhost:8081\r\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v3/api-docs\r\n```\r\n\r\nPlease tell me if you can reproduce this issue if you follow the steps and what I should do to fix it.\r\n","title":"Swagger API documentation in an API gateway (spring-cloud-starter-gateway) does not work (Whitelabel Error Page)","body":"<p>I am trying to add the Swagger API documentation in a Springboot application that uses the following dependency:</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n</code></pre>\n<p>I am using the following configuration:</p>\n<pre><code>@OpenAPIDefinition\n@Configuration\npublic class SwaggerConfiguration {\n    @Bean\n    public OpenAPI baseOpenAPI(){\n        return new OpenAPI().info(\n                new Info()\n                        .title(&quot;This is a test&quot;)\n                        .version(&quot;0.1&quot;)\n        );\n    }\n}\n</code></pre>\n<p>This is my controller:</p>\n<pre><code>@RestController\npublic class HelloWorldController {\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>and my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.11'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.noob234'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.7&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I suspect that the issue is related to this dependency</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'\n</code></pre>\n<p>because I tried the same steps without introducing the</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n</code></pre>\n<p>dependency and it works when I access this page http://localhost:8082/swagger-ui/index.html#/.\nI don't get Whitelabel Error Page anymore.</p>\n<p><strong>EDIT:</strong></p>\n<p>I also tried to add these 2 dependencies:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.15'\nimplementation 'org.springdoc:springdoc-openapi-webflux-core:1.6.15'\n</code></pre>\n<p>Instead of this one:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n</code></pre>\n<p>And added these properties in my application.properties:</p>\n<pre><code>spring.application.name=gateway\nserver.port=8081\nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.api-docs.path=/v3/api-docs\nspringdoc.swagger-ui.enabled=true\nspring.cloud.gateway.routes[0].id=swagger-ui\nspring.cloud.gateway.routes[0].uri=http://localhost:8081\nspring.cloud.gateway.routes[0].predicates[0]=Path=/swagger-ui.html\n\nspring.cloud.gateway.routes[1].id=api-docs\nspring.cloud.gateway.routes[1].uri=http://localhost:8081\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v3/api-docs\n</code></pre>\n<p>Please tell me if you can reproduce this issue if you follow the steps and what I should do to fix it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684110473,"post_id":76249610,"comment_id":134464265,"body_markdown":"You can also have a look at [`KeyEvent#getModifiersEx`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/InputEvent.html#getModifiersEx()) which can tell you what &quot;additional&quot; modifiers were active when the event was triggered - this, however, may not help you, as has been already been pointed out, not all key boards are the same","body":"You can also have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/InputEvent.html#getModifiersEx()\" rel=\"nofollow noreferrer\"><code>KeyEvent#getModifiersEx</code></a> which can tell you what &quot;additional&quot; modifiers were active when the event was triggered - this, however, may not help you, as has been already been pointed out, not all key boards are the same"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684100585,"creation_date":1684099629,"answer_id":76249756,"question_id":76249610,"body_markdown":"Some Keyboard Layouts have a *direct* colon key and, as [documented](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/event/KeyEvent.html) for `KeyEvent`, the key code depends on that layout:\r\n\r\n&gt; - Not all keyboards or systems are capable of generating all virtual key codes. No attempt is made in Java to generate these keys artificially.\r\n&gt; - Virtual key codes do not identify a physical key: they depend on the platform and keyboard layout. For example, the key that generates VK_Q when using a U.S. keyboard layout will generate VK_A when using a French keyboard layout.\r\n\r\nThe French [AZERTY](https://en.wikipedia.org/wiki/AZERTY) layout is a perfect example for this question: it has a colon key n place of of the dot key on the QWERTY layout:  \r\n[![AZERTY][1]][1]\r\n\r\nI just added the French AZERTY layout to my system and tested it with the `Robot` class: no error message when *pressing* `VK_COLON`. For science, I also added a `KeyListener` to a `JTextField` and pressing the dot key on my physical keyboard, `event.getKeyCode()` returns `VK_COLON` (as expected) if the layout is set to AZERTY.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZGS8b.png","title":"How do I Interpret KeyEvent.VK_COLON?","body":"<p>Some Keyboard Layouts have a <em>direct</em> colon key and, as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">documented</a> for <code>KeyEvent</code>, the key code depends on that layout:</p>\n<blockquote>\n<ul>\n<li>Not all keyboards or systems are capable of generating all virtual key codes. No attempt is made in Java to generate these keys artificially.</li>\n<li>Virtual key codes do not identify a physical key: they depend on the platform and keyboard layout. For example, the key that generates VK_Q when using a U.S. keyboard layout will generate VK_A when using a French keyboard layout.</li>\n</ul>\n</blockquote>\n<p>The French <a href=\"https://en.wikipedia.org/wiki/AZERTY\" rel=\"nofollow noreferrer\">AZERTY</a> layout is a perfect example for this question: it has a colon key n place of of the dot key on the QWERTY layout:<br />\n<a href=\"https://i.stack.imgur.com/ZGS8b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGS8b.png\" alt=\"AZERTY\" /></a></p>\n<p>I just added the French AZERTY layout to my system and tested it with the <code>Robot</code> class: no error message when <em>pressing</em> <code>VK_COLON</code>. For science, I also added a <code>KeyListener</code> to a <code>JTextField</code> and pressing the dot key on my physical keyboard, <code>event.getKeyCode()</code> returns <code>VK_COLON</code> (as expected) if the layout is set to AZERTY.</p>\n"}],"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684100585,"creation_date":1684097401,"question_id":76249610,"body_markdown":"On my keyboard, at the moment, the colon (:) and semicolon (;) characters are on the same key. I have to use shift to get the colon. If I want to use Robot to type a colon I can use:\r\n```\r\n    robot.keyPress( KeyEvent.VK_SHIFT );\r\n    robot.keyPress( KeyEvent.VK_SEMICOLON );\r\n    robot.keyRelease( KeyEvent.VK_SEMICOLON );\r\n    robot.keyRelease( KeyEvent.VK_SHIFT );\r\n```\r\n\r\nBut KeyEvent also has a constant for VK_COLON = 0x0201. If I try\r\n```\r\n    robot.keyPress( KeyEvent.VK_COLON )\r\n```\r\nI get an &quot;invalid keycode&quot; error.\r\n\r\nMy question is: where did the 0x0201 come from? How am I supposed to interpret VK_... key codes that don&#39;t actually map to keys?","title":"How do I Interpret KeyEvent.VK_COLON?","body":"<p>On my keyboard, at the moment, the colon (:) and semicolon (;) characters are on the same key. I have to use shift to get the colon. If I want to use Robot to type a colon I can use:</p>\n<pre><code>    robot.keyPress( KeyEvent.VK_SHIFT );\n    robot.keyPress( KeyEvent.VK_SEMICOLON );\n    robot.keyRelease( KeyEvent.VK_SEMICOLON );\n    robot.keyRelease( KeyEvent.VK_SHIFT );\n</code></pre>\n<p>But KeyEvent also has a constant for VK_COLON = 0x0201. If I try</p>\n<pre><code>    robot.keyPress( KeyEvent.VK_COLON )\n</code></pre>\n<p>I get an &quot;invalid keycode&quot; error.</p>\n<p>My question is: where did the 0x0201 come from? How am I supposed to interpret VK_... key codes that don't actually map to keys?</p>\n"},{"tags":["java","algorithm","graph-theory","depth-first-search"],"comments":[{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684089783,"post_id":76249093,"comment_id":134462258,"body_markdown":"Your dfs is recursive.  Not a good idea.  You will run out of stack on any graph of a significant size.  Certainly you should not have so many parameters for a recursive function - you will run out of stack memory even faster then neccessary.","body":"Your dfs is recursive.  Not a good idea.  You will run out of stack on any graph of a significant size.  Certainly you should not have so many parameters for a recursive function - you will run out of stack memory even faster then neccessary."},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":2,"creation_date":1684089956,"post_id":76249093,"comment_id":134462286,"body_markdown":"You should post a reproducible example - that means complete application code, the input that demos the problem and an explanation of how it differs from expected.","body":"You should post a reproducible example - that means complete application code, the input that demos the problem and an explanation of how it differs from expected."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1684090722,"post_id":76249093,"comment_id":134462412,"body_markdown":"See [Dijkstra&#39;s algorithm](https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm).","body":"See <a href=\"https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra&#39;s algorithm</a>."},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684091167,"post_id":76249093,"comment_id":134462480,"body_markdown":"But my code does not use Dijkstr&#39;s","body":"But my code does not use Dijkstr&#39;s"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684091262,"post_id":76249093,"comment_id":134462498,"body_markdown":"In general, Dijkstra is used to solve mazes.  However, there is a wrinkle in this problem that make things more complicated &quot;won&#39;t stop rolling until hitting a wall. &quot;","body":"In general, Dijkstra is used to solve mazes.  However, there is a wrinkle in this problem that make things more complicated &quot;won&#39;t stop rolling until hitting a wall. &quot;"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684091377,"post_id":76249093,"comment_id":134462512,"body_markdown":"Exactly! But thank you both for that tip...in general a dfs is slower but theoretically possible right?","body":"Exactly! But thank you both for that tip...in general a dfs is slower but theoretically possible right?"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684091408,"post_id":76249093,"comment_id":134462515,"body_markdown":"I think that you will have to use A* for this, using Dijkstra as the heuristic to choose the next step.","body":"I think that you will have to use A* for this, using Dijkstra as the heuristic to choose the next step."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684093716,"post_id":76249093,"comment_id":134462785,"body_markdown":"@Spindoctor, `visited[i][j] = true;` - that seems to be a typical mistake: you are marking cell as visited before figuring out whether current path is optimal or not. [bfs solution is available here](https://stackoverflow.com/a/76084930/3426309)","body":"@Spindoctor, <code>visited[i][j] = true;</code> - that seems to be a typical mistake: you are marking cell as visited before figuring out whether current path is optimal or not. <a href=\"https://stackoverflow.com/a/76084930/3426309\">bfs solution is available here</a>"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684093840,"post_id":76249093,"comment_id":134462802,"body_markdown":"Thanks are you suggesting moving the check for visited after the check for arrived at destination?","body":"Thanks are you suggesting moving the check for visited after the check for arrived at destination?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684095420,"post_id":76249093,"comment_id":134462990,"body_markdown":"in your algo the purpose of `boolean[][] visited` array is to prevent infinite loops within single path, however, since that array is global, writing to it prevents your algo from considering other paths - you need at least set `visited[i][j]` to true after `for` loop, moreover you nowhere pay attention to direction in which you have seen the cell, so, `boolean[][] visited` is not a good structure there, `boolean[M][N][4] visited` seems to be more suitable. btw, after fixing that you will get TLE error","body":"in your algo the purpose of <code>boolean[][] visited</code> array is to prevent infinite loops within single path, however, since that array is global, writing to it prevents your algo from considering other paths - you need at least set <code>visited[i][j]</code> to true after <code>for</code> loop, moreover you nowhere pay attention to direction in which you have seen the cell, so, <code>boolean[][] visited</code> is not a good structure there, <code>boolean[M][N][4] visited</code> seems to be more suitable. btw, after fixing that you will get TLE error"},{"owner":{"account_id":17386577,"reputation":3141,"user_id":12597781,"display_name":"Christopher Miller"},"score":0,"creation_date":1684095490,"post_id":76249093,"comment_id":134463000,"body_markdown":"Besides the starting and ending grid squares, only the border grid squares matter, right (because your direction is otherwise completely fixed by what direction you were traveling from the last time you were on a border square)? With this, only `O(R + C)` nodes are needed that correspond to the border squares, where `R` and `C` are the number of rows and columns of the grid, respectively. Then, as mentioned previously, Dijkstra&#39;s Algorithm is appropriate for this problem, because the edges (the connections between nodes) are weighted (different distances) and positive.","body":"Besides the starting and ending grid squares, only the border grid squares matter, right (because your direction is otherwise completely fixed by what direction you were traveling from the last time you were on a border square)? With this, only <code>O(R + C)</code> nodes are needed that correspond to the border squares, where <code>R</code> and <code>C</code> are the number of rows and columns of the grid, respectively. Then, as mentioned previously, Dijkstra&#39;s Algorithm is appropriate for this problem, because the edges (the connections between nodes) are weighted (different distances) and positive."},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684096023,"post_id":76249093,"comment_id":134463049,"body_markdown":"@AndreyB.Panfilov, I am not understanding. Can you give an example ?","body":"@AndreyB.Panfilov, I am not understanding. Can you give an example ?"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684105298,"post_id":76249093,"comment_id":134463890,"body_markdown":"Thank you so much for the modifications. What I understand now is I was doing dfs but it was a single path as I marked all visited as true but what you have done is for every change in direction, you treat it as a new path and all nodes are open to being visited again but due to a different direction. Is this the right interpretation?","body":"Thank you so much for the modifications. What I understand now is I was doing dfs but it was a single path as I marked all visited as true but what you have done is for every change in direction, you treat it as a new path and all nodes are open to being visited again but due to a different direction. Is this the right interpretation?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1684111088,"post_id":76249093,"comment_id":134464299,"body_markdown":"&quot;either different or more optimal&quot;","body":"&quot;either different or more optimal&quot;"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684111308,"post_id":76249093,"comment_id":134464311,"body_markdown":"thank you for helping using my logic and making the modifications, I have learned a lot by you taking the time to do this. really appreciate this","body":"thank you for helping using my logic and making the modifications, I have learned a lot by you taking the time to do this. really appreciate this"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684099736,"creation_date":1684099736,"answer_id":76249762,"question_id":76249093,"body_markdown":"Below is what I was trying to explain in comments:\r\n\r\n\r\n```java\r\npublic class MazeII {\r\n    int shortest = Integer.MAX_VALUE;\r\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\r\n\r\n    public static void main(String[] args) {\r\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\r\n        int[] start = {0, 4};\r\n        int[] destination = {4, 4};\r\n        MazeII mii = new MazeII();\r\n        System.out.println(mii.shortestDistance(maze, start, destination));\r\n    }\r\n\r\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n        int count = 0;\r\n        boolean[][][] visited = new boolean[maze.length][maze[0].length][4];\r\n        dfs(maze, start[0], start[1], destination, visited, count);\r\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\r\n\r\n    }\r\n\r\n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][][] visited, int count) {\r\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\r\n            shortest = Math.min(shortest, count);\r\n            return;\r\n        }\r\n\r\n        for (int k = 0; k &lt; dirs.length; k++) {\r\n            int[] dir = dirs[k];\r\n            int x = i;\r\n            int y = j;\r\n            int newcount = count;\r\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n                    maze[x + dir[0]][y + dir[1]] == 0) {\r\n                x += dir[0];\r\n                y += dir[1];\r\n                newcount++;\r\n            }\r\n            if (!visited[x][y][k]) {\r\n                visited[x][y][k] = true;\r\n                dfs(maze, x, y, destination, visited, newcount);\r\n                visited[x][y][k] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, in order to make traversal algorithm more optimal, you need somehow eliminate sub-optimal paths, for example store distance from cell to the destination when particular direction has been chosen:\r\n\r\n\r\n```java\r\npublic class MazeII {\r\n    int shortest = Integer.MAX_VALUE;\r\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\r\n\r\n    public static void main(String[] args) {\r\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\r\n        int[] start = {0, 4};\r\n        int[] destination = {4, 4};\r\n        MazeII mii = new MazeII();\r\n        System.out.println(mii.shortestDistance(maze, start, destination));\r\n    }\r\n\r\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n        int count = 0;\r\n        int[][][] visited = new int[maze.length][maze[0].length][4];\r\n        for (int i = 0; i &lt; maze.length; i++) {\r\n            for (int j = 0; j &lt; maze[0].length; j++) {\r\n                Arrays.fill(visited[i][j], Integer.MAX_VALUE);\r\n            }\r\n        }\r\n\r\n        dfs(maze, start[0], start[1], destination, visited, count);\r\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\r\n\r\n    }\r\n\r\n    private void dfs(int[][] maze, int i, int j, int[] destination, int[][][] visited, int count) {\r\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\r\n            shortest = Math.min(shortest, count);\r\n            return;\r\n        }\r\n\r\n        for (int k = 0; k &lt; dirs.length; k++) {\r\n            int[] dir = dirs[k];\r\n            int x = i;\r\n            int y = j;\r\n            int newcount = count;\r\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n                    maze[x + dir[0]][y + dir[1]] == 0) {\r\n                x += dir[0];\r\n                y += dir[1];\r\n                newcount++;\r\n            }\r\n            if (newcount &lt; visited[x][y][k]) {\r\n                visited[x][y][k] = newcount;\r\n                dfs(maze, x, y, destination, visited, newcount);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Shortest Path DFS","body":"<p>Below is what I was trying to explain in comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\n\n    public static void main(String[] args) {\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\n        int[] start = {0, 4};\n        int[] destination = {4, 4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        boolean[][][] visited = new boolean[maze.length][maze[0].length][4];\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\n\n    }\n\n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][][] visited, int count) {\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n\n        for (int k = 0; k &lt; dirs.length; k++) {\n            int[] dir = dirs[k];\n            int x = i;\n            int y = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x += dir[0];\n                y += dir[1];\n                newcount++;\n            }\n            if (!visited[x][y][k]) {\n                visited[x][y][k] = true;\n                dfs(maze, x, y, destination, visited, newcount);\n                visited[x][y][k] = false;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>However, in order to make traversal algorithm more optimal, you need somehow eliminate sub-optimal paths, for example store distance from cell to the destination when particular direction has been chosen:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\n\n    public static void main(String[] args) {\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\n        int[] start = {0, 4};\n        int[] destination = {4, 4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        int[][][] visited = new int[maze.length][maze[0].length][4];\n        for (int i = 0; i &lt; maze.length; i++) {\n            for (int j = 0; j &lt; maze[0].length; j++) {\n                Arrays.fill(visited[i][j], Integer.MAX_VALUE);\n            }\n        }\n\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\n\n    }\n\n    private void dfs(int[][] maze, int i, int j, int[] destination, int[][][] visited, int count) {\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n\n        for (int k = 0; k &lt; dirs.length; k++) {\n            int[] dir = dirs[k];\n            int x = i;\n            int y = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x += dir[0];\n                y += dir[1];\n                newcount++;\n            }\n            if (newcount &lt; visited[x][y][k]) {\n                visited[x][y][k] = newcount;\n                dfs(maze, x, y, destination, visited, newcount);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76249762,"answer_count":1,"score":0,"last_activity_date":1684099736,"creation_date":1684089158,"question_id":76249093,"body_markdown":"Continuing my education of graph theory, I started to tackle the [Maze II problem][1]\r\n\r\n&gt; There is a ball in a maze with empty spaces (represented as 0) and\r\n&gt; walls (represented as 1). The ball can go through the empty spaces by\r\n&gt; rolling up, down, left or right, but it won&#39;t stop rolling until\r\n&gt; hitting a wall. When the ball stops, it could choose the next\r\n&gt; direction.\r\n&gt; \r\n&gt; Given the m x n maze, the ball&#39;s start position and the destination,\r\n&gt; where start = [startrow, startcol] and destination = [destinationrow,\r\n&gt; destinationcol], return the shortest distance for the ball to stop at\r\n&gt; the destination. If the ball cannot stop at destination, return -1.\r\n&gt; \r\n&gt; The distance is the number of empty spaces traveled by the ball from\r\n&gt; the start position (excluded) to the destination (included).\r\n\r\nTo get my feet wet, I wrote an algorithm based on DFS to check each direction for each cell and continue in a depth first manner if possible to find &quot;paths&quot;, each time keeping count of the number of steps. I have a global variable that checks if the current count is less and then replaces the value. However, my shortest path isn&#39;t always right. Can anyone explain what I am doing wrong? I do understand that BFS yields a shortest path but I have having trouble visualizing the BFS done in different directions.\r\n\r\nBasically, I change direction only when I hit a wall and each time the count would start off with the count that the recursive function would have started with. As an example, running the algorithm below should produce a shortest path of 12 but my algorithm spits out 16\r\n\r\n    public class MazeII {\r\n    \tint shortest = Integer.MAX_VALUE;\r\n    \tint[][] dirs = { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[][] maze = {{0,0,1,0,0},{0,0,0,0,0},{0,0,0,1,0},{1,1,0,1,1},{0,0,0,0,0}};\r\n    \t\tint[] start = {0,4};\r\n    \t\tint[] destination = {4,4};\r\n    \t\tMazeII mii = new MazeII();\r\n    \t\tSystem.out.println(mii.shortestDistance(maze, start, destination));\r\n    \t}\r\n    \r\n    \tpublic int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n    \t\tint count = 0;\r\n    \t\tboolean[][] visited = new boolean[maze.length][maze[0].length];\r\n    \t\tdfs(maze, start[0], start[1], destination, visited, count);\r\n    \t\treturn shortest == Integer.MAX_VALUE? -1 : shortest;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate void dfs(int[][] maze, int i, int j, int[] destination, boolean[][]visited, int count) {\r\n    \t\tif( visited[i][j]) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tif (i == destination[0] &amp;&amp; j == destination[1]) {\r\n    \t\t\tshortest = Math.min(shortest, count);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tvisited[i][j] = true;\r\n    \r\n    \t\tfor (int[] dir : dirs) {\r\n    \t\t\tint x = i;\r\n    \t\t\tint y  = j;\r\n    \t\t\tint newcount = count;\r\n    \t\t\twhile (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n    \t\t\t\t\ty + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n    \t\t\t\t\tmaze[x + dir[0]][y + dir[1]] == 0) {\r\n    \t\t\t\tx+=dir[0];\r\n    \t\t\t\ty+=dir[1];\r\n    \t\t\t\tnewcount++;\r\n    \t\t\t}\r\n    \t\t\tdfs(maze, x , y, destination, visited, newcount);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n     \r\n\r\n  [1]: https://leetcode.com/problems/the-maze-ii/","title":"Shortest Path DFS","body":"<p>Continuing my education of graph theory, I started to tackle the <a href=\"https://leetcode.com/problems/the-maze-ii/\" rel=\"nofollow noreferrer\">Maze II problem</a></p>\n<blockquote>\n<p>There is a ball in a maze with empty spaces (represented as 0) and\nwalls (represented as 1). The ball can go through the empty spaces by\nrolling up, down, left or right, but it won't stop rolling until\nhitting a wall. When the ball stops, it could choose the next\ndirection.</p>\n<p>Given the m x n maze, the ball's start position and the destination,\nwhere start = [startrow, startcol] and destination = [destinationrow,\ndestinationcol], return the shortest distance for the ball to stop at\nthe destination. If the ball cannot stop at destination, return -1.</p>\n<p>The distance is the number of empty spaces traveled by the ball from\nthe start position (excluded) to the destination (included).</p>\n</blockquote>\n<p>To get my feet wet, I wrote an algorithm based on DFS to check each direction for each cell and continue in a depth first manner if possible to find &quot;paths&quot;, each time keeping count of the number of steps. I have a global variable that checks if the current count is less and then replaces the value. However, my shortest path isn't always right. Can anyone explain what I am doing wrong? I do understand that BFS yields a shortest path but I have having trouble visualizing the BFS done in different directions.</p>\n<p>Basically, I change direction only when I hit a wall and each time the count would start off with the count that the recursive function would have started with. As an example, running the algorithm below should produce a shortest path of 12 but my algorithm spits out 16</p>\n<pre><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };\n\n    public static void main(String[] args) {\n        int[][] maze = {{0,0,1,0,0},{0,0,0,0,0},{0,0,0,1,0},{1,1,0,1,1},{0,0,0,0,0}};\n        int[] start = {0,4};\n        int[] destination = {4,4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        boolean[][] visited = new boolean[maze.length][maze[0].length];\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE? -1 : shortest;\n        \n    }\n    \n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][]visited, int count) {\n        if( visited[i][j]) {\n            return;\n        }\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n        \n        visited[i][j] = true;\n\n        for (int[] dir : dirs) {\n            int x = i;\n            int y  = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x+=dir[0];\n                y+=dir[1];\n                newcount++;\n            }\n            dfs(maze, x , y, destination, visited, newcount);\n        }\n    }\n\n}\n \n</code></pre>\n"},{"tags":["java","setter","coding-style"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1429986337,"post_id":29868971,"comment_id":47863106,"body_markdown":"Ain&#39;t no &quot;self&quot; in java.","body":"Ain&#39;t no &quot;self&quot; in java."},{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":0,"creation_date":1429986416,"post_id":29868971,"comment_id":47863136,"body_markdown":"lol good point. Self is pythonic.","body":"lol good point. Self is pythonic."},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1429986513,"post_id":29868971,"comment_id":47863169,"body_markdown":"2nd so called convention is the `builder pattern`. Just google it to know more.","body":"2nd so called convention is the <code>builder pattern</code>. Just google it to know more."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1429986600,"post_id":29868971,"comment_id":47863203,"body_markdown":"@AniketThakur Sure? Why is this case called `Builder pattern` if there is no builder used? As far as  I know, it&#39;s  &quot;just&quot; a [&quot;Fluent API&quot;](http://en.wikipedia.org/wiki/Fluent_interface#Java).","body":"@AniketThakur Sure? Why is this case called <code>Builder pattern</code> if there is no builder used? As far as  I know, it&#39;s  &quot;just&quot; a <a href=\"http://en.wikipedia.org/wiki/Fluent_interface#Java\" rel=\"nofollow noreferrer\">&quot;Fluent API&quot;</a>."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1429986616,"post_id":29868971,"comment_id":47863211,"body_markdown":"@kpie When you tag a question as Java, please make sure it compiles using the standard java compiler. You&#39;ve been here for a while. You know the drill. This is way too lazy on your part..","body":"@kpie When you tag a question as Java, please make sure it compiles using the standard java compiler. You&#39;ve been here for a while. You know the drill. This is way too lazy on your part.."},{"owner":{"account_id":3216884,"reputation":626,"user_id":2715331,"accept_rate":87,"display_name":"Vahx"},"score":1,"creation_date":1429986712,"post_id":29868971,"comment_id":47863246,"body_markdown":"Its not the builder pattern but more of a Fluent API like Tom says.","body":"Its not the builder pattern but more of a Fluent API like Tom says."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1429987440,"post_id":29868971,"comment_id":47863550,"body_markdown":"@kpie `temp = new Classic();` What&#39;s temp? I agree this is a minor flaw that can be ignored but there were other errors in your code too before others pointed them out..","body":"@kpie <code>temp = new Classic();</code> What&#39;s temp? I agree this is a minor flaw that can be ignored but there were other errors in your code too before others pointed them out.."},{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":0,"creation_date":1429987625,"post_id":29868971,"comment_id":47863613,"body_markdown":"@Bot *edited .. I seriously hope that didn&#39;t prevent you from understanding the question.","body":"@Bot *edited .. I seriously hope that didn&#39;t prevent you from understanding the question."}],"answers":[{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429986379,"creation_date":1429986379,"answer_id":29869006,"question_id":29868971,"body_markdown":"The variant you&#39;re using in class `Alternative` is something I know from the &#39;Builder pattern&#39;. There, the task is to build some specific object similar to `builder.setX().setY().build()`.\r\n\r\nPersonally, I&#39;d use the `Classic` variant whenever there&#39;s no specific use for the `Alternative` variant.\r\n\r\n(As a side note, I would not use brackets for `return`)","title":"Setter conventions in Java (return void or this)","body":"<p>The variant you're using in class <code>Alternative</code> is something I know from the 'Builder pattern'. There, the task is to build some specific object similar to <code>builder.setX().setY().build()</code>.</p>\n\n<p>Personally, I'd use the <code>Classic</code> variant whenever there's no specific use for the <code>Alternative</code> variant.</p>\n\n<p>(As a side note, I would not use brackets for <code>return</code>)</p>\n"},{"tags":[],"owner":{"account_id":2112167,"reputation":1537,"user_id":1991295,"accept_rate":60,"display_name":"async"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1429987307,"creation_date":1429986682,"answer_id":29869055,"question_id":29868971,"body_markdown":"[Method chaining][1] may look nice in some situations, but I would not overuse it. It does get used a lot in the builder pattern, as mentioned in another comment. To some degree it&#39;s probably a matter of personal preference. \r\n\r\nOne disadvantage of method chaining in my opinion is with debugging and breakpoints. It may be tricky to step through code filled with chained methods - but this may also depend on the IDE. I find the ability to debug absolutely crucial, so I generally avoid patterns and snippets that could make my life harder when debugging.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Method_chaining","title":"Setter conventions in Java (return void or this)","body":"<p><a href=\"http://en.wikipedia.org/wiki/Method_chaining\">Method chaining</a> may look nice in some situations, but I would not overuse it. It does get used a lot in the builder pattern, as mentioned in another comment. To some degree it's probably a matter of personal preference. </p>\n\n<p>One disadvantage of method chaining in my opinion is with debugging and breakpoints. It may be tricky to step through code filled with chained methods - but this may also depend on the IDE. I find the ability to debug absolutely crucial, so I generally avoid patterns and snippets that could make my life harder when debugging.</p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429997532,"creation_date":1429997532,"answer_id":29870974,"question_id":29868971,"body_markdown":"A setter in Java is most often linked to the concept of JavaBeans, even though we now use this concept without calling it like that, but it really often used without being explicitly named like that, sometimes people call them entities (even without the ORM context). \r\n\r\nA JavaBean has properties and those properties are the [combination of a private field and (a setter and/or a getter)](https://docs.oracle.com/javase/tutorial/javabeans/writing/properties.html).\r\n\r\nThere is nothing to say about those setters and getters except that they should be as simple as possible. In that regards, the most simple implementation of a setter is the `void` one: just set the value and exit.\r\n\r\nIf you look at what any IDE does, the default implementation for a setter is the `void` one.\r\n\r\nIn that regards, I would alway go the `void`-way for value objects (wether they&#39;re called JavaBeans, Entity, Dto, etc.) and never use the chaining-way. You ask about best practice, the `void`-way is the best practice for value objects.\r\n\r\nFor tools, like builders, dsl, services, streams I might use the chaining only if it really is meaningful and adds something and is not too cumbersome.\r\n\r\nMy short advice is use `void` for value objects and do whatever you want for the rest. Have fun designing your classes. ;)","title":"Setter conventions in Java (return void or this)","body":"<p>A setter in Java is most often linked to the concept of JavaBeans, even though we now use this concept without calling it like that, but it really often used without being explicitly named like that, sometimes people call them entities (even without the ORM context). </p>\n\n<p>A JavaBean has properties and those properties are the <a href=\"https://docs.oracle.com/javase/tutorial/javabeans/writing/properties.html\" rel=\"nofollow\">combination of a private field and (a setter and/or a getter)</a>.</p>\n\n<p>There is nothing to say about those setters and getters except that they should be as simple as possible. In that regards, the most simple implementation of a setter is the <code>void</code> one: just set the value and exit.</p>\n\n<p>If you look at what any IDE does, the default implementation for a setter is the <code>void</code> one.</p>\n\n<p>In that regards, I would alway go the <code>void</code>-way for value objects (wether they're called JavaBeans, Entity, Dto, etc.) and never use the chaining-way. You ask about best practice, the <code>void</code>-way is the best practice for value objects.</p>\n\n<p>For tools, like builders, dsl, services, streams I might use the chaining only if it really is meaningful and adds something and is not too cumbersome.</p>\n\n<p>My short advice is use <code>void</code> for value objects and do whatever you want for the rest. Have fun designing your classes. ;)</p>\n"},{"tags":[],"owner":{"account_id":25684565,"reputation":806,"user_id":19446851,"display_name":"habrewning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684099604,"creation_date":1684098964,"answer_id":76249721,"question_id":29868971,"body_markdown":"It cannot be said, what option has the better performance. Some people may think, that the alternative, which I normally call fluent interface (see https://en.wikipedia.org/wiki/Fluent_interface) has the worse performance, because the this-pointer must be returned again and again. But this is pure speculation.\r\n\r\nA general answer cannot be given.\r\n\r\n* The overhead of a function or method call is relatively high. Returning one single pointer is only a neglectable part of this.\r\n* Java does optimisations not only at compile time. There are techniques that for example remove variables or inline function or method calls at runtime (compare also https://stackoverflow.com/questions/2096361/are-there-inline-functions-in-java).\r\n* If performance really matters, the author of the code needs to run a profiler on exactly his example. And if this really identifies bottle necks, it could be worth to consider specialised functions (e.g. set x and y both in only one method) or going completely without setter functions.\r\n* If specialised mechanisms are needed in some parts of the program, it would be inappropriate to use these mechanisms also everwhere alse. The question if this special format of methods is appropriate or not is in general not a question of the execution performance.\r\n* In the example it is not clear, what the benefit of setx and sety could be. Before giving an answer this would be important to know. It looks like these methods could be eliminated when the member variables are made public. This of course is the most performant solution.\r\n* Without having these points clear, the question looks more like an instance of this discussion: https://wiki.c2.com/?PrematureOptimization\r\n\r\nWithout giving an answer, what is &quot;better&quot; practice, I think, everybody agrees that the void version is the most common practice. Normally it is a good advice to also follow the common practice (https://de.wikipedia.org/wiki/Principle_of_Least_Surprise). But as usual this does not mean, that this is actually the best practice. Returning the this-pointer does not hurt anybody and is useful in a few situations.","title":"Setter conventions in Java (return void or this)","body":"<p>It cannot be said, what option has the better performance. Some people may think, that the alternative, which I normally call fluent interface (see <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Fluent_interface</a>) has the worse performance, because the this-pointer must be returned again and again. But this is pure speculation.</p>\n<p>A general answer cannot be given.</p>\n<ul>\n<li>The overhead of a function or method call is relatively high. Returning one single pointer is only a neglectable part of this.</li>\n<li>Java does optimisations not only at compile time. There are techniques that for example remove variables or inline function or method calls at runtime (compare also <a href=\"https://stackoverflow.com/questions/2096361/are-there-inline-functions-in-java\">Are there inline functions in java?</a>).</li>\n<li>If performance really matters, the author of the code needs to run a profiler on exactly his example. And if this really identifies bottle necks, it could be worth to consider specialised functions (e.g. set x and y both in only one method) or going completely without setter functions.</li>\n<li>If specialised mechanisms are needed in some parts of the program, it would be inappropriate to use these mechanisms also everwhere alse. The question if this special format of methods is appropriate or not is in general not a question of the execution performance.</li>\n<li>In the example it is not clear, what the benefit of setx and sety could be. Before giving an answer this would be important to know. It looks like these methods could be eliminated when the member variables are made public. This of course is the most performant solution.</li>\n<li>Without having these points clear, the question looks more like an instance of this discussion: <a href=\"https://wiki.c2.com/?PrematureOptimization\" rel=\"nofollow noreferrer\">https://wiki.c2.com/?PrematureOptimization</a></li>\n</ul>\n<p>Without giving an answer, what is &quot;better&quot; practice, I think, everybody agrees that the void version is the most common practice. Normally it is a good advice to also follow the common practice (<a href=\"https://de.wikipedia.org/wiki/Principle_of_Least_Surprise\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/Principle_of_Least_Surprise</a>). But as usual this does not mean, that this is actually the best practice. Returning the this-pointer does not hurt anybody and is useful in a few situations.</p>\n"}],"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6697,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":29869055,"answer_count":4,"score":15,"last_activity_date":1684099604,"creation_date":1429986155,"question_id":29868971,"body_markdown":"I have been writing Java for almost a year now, and I have seen 2 different conventions for how people implement their setters.\r\n\r\nTo Illustrate this, here are examples of both conventions. (I would love also to know concise names of these two patters)\r\n\r\nClasses using first convention, return nothing from their &#39;set&#39; methods. Like so:\r\n\r\n    public class Classic{\r\n        private double _x;\r\n        private double _y;\r\n        public Classic(){\r\n            x = 0;\r\n            y = 0;\r\n        }\r\n        public void setX(double d){//or boolean with a type check on input\r\n            x = d;\r\n        }\r\n        public void sety(double d){\r\n            y = d;\r\n        }\r\n    }\r\n\r\nClasses using the alternative convention return themselves from their setter methods. Like so:\r\n\r\n    public class Alternative{\r\n        private double _x;\r\n        private double _y;\r\n        public Alternative(){\r\n            x = 0;\r\n            y = 0;\r\n        }\r\n        public Alternative setX(double d){\r\n            x = d;\r\n            return(this);\r\n        }\r\n        public Alternative sety(double d){\r\n            y = d;\r\n            return(this);\r\n        }\r\n    }\r\n\r\nThe difference being that with the alternative approach syntax such as\r\n\r\n    Alternative NewAlt(double x,double y){\r\n         return(new Alternative()\r\n                    .setX(x)\r\n                    .setY(y));\r\n    }\r\n\r\n*Is possible* while with the classic set-up the same factory method would \r\nlook like this.\r\n\r\n    Classic NewAlt(double x,double y){\r\n         Classic temp = new Classic();\r\n         temp.setX(x);\r\n         temp.setY(x);\r\n         return(temp);\r\n    }\r\n\r\nIt is debatable which of these is more readable/usable.\r\n\r\nMy question is about the performance difference between these two patterns. Does it exist? If so how big is the difference, and where does it arise from? \r\n\r\nIf there is no performance difference, which one is considered &#39;better practice&#39;?","title":"Setter conventions in Java (return void or this)","body":"<p>I have been writing Java for almost a year now, and I have seen 2 different conventions for how people implement their setters.</p>\n\n<p>To Illustrate this, here are examples of both conventions. (I would love also to know concise names of these two patters)</p>\n\n<p>Classes using first convention, return nothing from their 'set' methods. Like so:</p>\n\n<pre><code>public class Classic{\n    private double _x;\n    private double _y;\n    public Classic(){\n        x = 0;\n        y = 0;\n    }\n    public void setX(double d){//or boolean with a type check on input\n        x = d;\n    }\n    public void sety(double d){\n        y = d;\n    }\n}\n</code></pre>\n\n<p>Classes using the alternative convention return themselves from their setter methods. Like so:</p>\n\n<pre><code>public class Alternative{\n    private double _x;\n    private double _y;\n    public Alternative(){\n        x = 0;\n        y = 0;\n    }\n    public Alternative setX(double d){\n        x = d;\n        return(this);\n    }\n    public Alternative sety(double d){\n        y = d;\n        return(this);\n    }\n}\n</code></pre>\n\n<p>The difference being that with the alternative approach syntax such as</p>\n\n<pre><code>Alternative NewAlt(double x,double y){\n     return(new Alternative()\n                .setX(x)\n                .setY(y));\n}\n</code></pre>\n\n<p><em>Is possible</em> while with the classic set-up the same factory method would \nlook like this.</p>\n\n<pre><code>Classic NewAlt(double x,double y){\n     Classic temp = new Classic();\n     temp.setX(x);\n     temp.setY(x);\n     return(temp);\n}\n</code></pre>\n\n<p>It is debatable which of these is more readable/usable.</p>\n\n<p>My question is about the performance difference between these two patterns. Does it exist? If so how big is the difference, and where does it arise from? </p>\n\n<p>If there is no performance difference, which one is considered 'better practice'?</p>\n"},{"tags":["java","mysql","spring-boot","jenkins","cicd"],"owner":{"account_id":16603323,"reputation":41,"user_id":11998411,"display_name":"dallasarch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684098130,"creation_date":1684098130,"question_id":76249662,"body_markdown":"I have a Spring Boot service/application/project that connects to a localhost MySQL db instance in a Docker container during startup to delete and insert some data. If I do not start the Docker container first before running the Spring Boot service, else JDBC/MySQL connector issues occur. \r\n\r\nRecently, I&#39;ve been trying to learn how to build a CI/CD pipeline. I have Jenkins and Maven installed in one EC2 instance (**Jenkins_server**) that automatically pulls code changes from GitHub and builds it. Then, it deploys the application/service to another EC2 instance with Tomcat installed (**Tomcat_server**). Builds and deployments succeed without issue whenever the Spring Boot application does not use an external MySQL database. However, whenever I try to do the same for applicaitons which require a MySQL db instance to be running locally beforehand, builds in **Jenkins_server** fail. \r\n\r\nAmong the error outputs are: \r\n\r\n```com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure```\r\n\r\n\r\nand \r\n\r\n```org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution```\r\n\r\nMy instinct is that it is due to the fact that no local instance of a MySQL db can be found whenever the build is being performed, just as a similar issue will occur whenever I try running the Spring Boot service in my local machine without stating the MySQL db Docker container first.\r\n\r\nMy question is, how do I solve this issue?\r\nI&#39;ve tried:\r\n 1. Running a MySQL Docker container in **Jenkins_server**. Result is that the server stops responding to input and requires a restart, effectively preventing any builds from occuring in this EC2 instance.\r\n 2. Changing the &quot;localhost&quot; of ```spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME:localhost}:${RDS_PORT:3306}/${RDS_DB_NAME:todos}``` in application.properties of the Spring Boot application to the IP addres of **Tomcat_server**. Result is the same error outputs mentioned previously (JDBC communicaitons link failures).\r\n\r\nJenkins server build configurations are shown in these images: https://imgur.com/a/GPSg0C7\r\n\r\nHere is the full build error output form Jenkins_server that I&#39;ve copied from the managament console: https://pastebin.com/ZYmmYARN\r\n\r\nHere is the application.properties of my Spring Boot application: https://pastebin.com/0rNN2PmY\r\n\r\n\r\n\r\nI&#39;ve tried searching for answers on Google and StackOverflow for 10 hours, but I&#39;m not even sure which answers are relevant or that I should follow. I&#39;m still a beginner in regards to DevOps skills, so I&#39;m really clueless as to ow should I proceed. Would really appreciate some help with this issue!\r\n\r\n\r\n*Note that all instance IP addresses shown are invalid.","title":"Build failed -Building a Spring Boot project that connects to a localhost MySQL DB instance with a Jenkins server using Maven","body":"<p>I have a Spring Boot service/application/project that connects to a localhost MySQL db instance in a Docker container during startup to delete and insert some data. If I do not start the Docker container first before running the Spring Boot service, else JDBC/MySQL connector issues occur.</p>\n<p>Recently, I've been trying to learn how to build a CI/CD pipeline. I have Jenkins and Maven installed in one EC2 instance (<strong>Jenkins_server</strong>) that automatically pulls code changes from GitHub and builds it. Then, it deploys the application/service to another EC2 instance with Tomcat installed (<strong>Tomcat_server</strong>). Builds and deployments succeed without issue whenever the Spring Boot application does not use an external MySQL database. However, whenever I try to do the same for applicaitons which require a MySQL db instance to be running locally beforehand, builds in <strong>Jenkins_server</strong> fail.</p>\n<p>Among the error outputs are:</p>\n<p><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</code></p>\n<p>and</p>\n<p><code>org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution</code></p>\n<p>My instinct is that it is due to the fact that no local instance of a MySQL db can be found whenever the build is being performed, just as a similar issue will occur whenever I try running the Spring Boot service in my local machine without stating the MySQL db Docker container first.</p>\n<p>My question is, how do I solve this issue?\nI've tried:</p>\n<ol>\n<li>Running a MySQL Docker container in <strong>Jenkins_server</strong>. Result is that the server stops responding to input and requires a restart, effectively preventing any builds from occuring in this EC2 instance.</li>\n<li>Changing the &quot;localhost&quot; of <code>spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME:localhost}:${RDS_PORT:3306}/${RDS_DB_NAME:todos}</code> in application.properties of the Spring Boot application to the IP addres of <strong>Tomcat_server</strong>. Result is the same error outputs mentioned previously (JDBC communicaitons link failures).</li>\n</ol>\n<p>Jenkins server build configurations are shown in these images: <a href=\"https://imgur.com/a/GPSg0C7\" rel=\"nofollow noreferrer\">https://imgur.com/a/GPSg0C7</a></p>\n<p>Here is the full build error output form Jenkins_server that I've copied from the managament console: <a href=\"https://pastebin.com/ZYmmYARN\" rel=\"nofollow noreferrer\">https://pastebin.com/ZYmmYARN</a></p>\n<p>Here is the application.properties of my Spring Boot application: <a href=\"https://pastebin.com/0rNN2PmY\" rel=\"nofollow noreferrer\">https://pastebin.com/0rNN2PmY</a></p>\n<p>I've tried searching for answers on Google and StackOverflow for 10 hours, but I'm not even sure which answers are relevant or that I should follow. I'm still a beginner in regards to DevOps skills, so I'm really clueless as to ow should I proceed. Would really appreciate some help with this issue!</p>\n<p>*Note that all instance IP addresses shown are invalid.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9558,"page":434,"page_size":100}
