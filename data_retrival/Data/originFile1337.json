{"items":[{"tags":["java","android-studio","webview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652389198,"post_id":72220900,"comment_id":127601230,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23058383,"reputation":41,"user_id":17174109,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652562591,"creation_date":1652562591,"answer_id":72243877,"question_id":72220900,"body_markdown":"I am assuming that you are using Java. I have made an example for you:\r\n````\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webview = new WebView(this);\r\n        setContentView(webview);\r\n        webview.getSettings().setJavaScriptEnabled(true);\r\n        webview.loadUrl(&quot;url&quot;);\r\n\r\n        Button button = (Button) findViewById(R.id.reloadButton);\r\n        \r\n        button.setOnClickListener(new OnClickListener() {\r\n            \r\n            public void onClick(View v) {\r\n                \r\n                webview.reload();\r\n                \r\n            }\r\n        });\r\n    }\r\n````\r\nWhen the button is pressed, the webview reloads. ","title":"Reload WebView on Button Press? (Android Studio)","body":"<p>I am assuming that you are using Java. I have made an example for you:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webview = new WebView(this);\n        setContentView(webview);\n        webview.getSettings().setJavaScriptEnabled(true);\n        webview.loadUrl(&quot;url&quot;);\n\n        Button button = (Button) findViewById(R.id.reloadButton);\n        \n        button.setOnClickListener(new OnClickListener() {\n            \n            public void onClick(View v) {\n                \n                webview.reload();\n                \n            }\n        });\n    }\n</code></pre>\n<p>When the button is pressed, the webview reloads.</p>\n"},{"tags":[],"owner":{"account_id":17452255,"reputation":1,"user_id":12651994,"display_name":"Hassan holi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652563436,"creation_date":1652563436,"answer_id":72243956,"question_id":72220900,"body_markdown":"     button.setOnClickListener(new OnClickListener() {\r\n            \r\n            public void onClick(View v) {\r\n                \r\n               webview.loadUrl(&quot;url&quot;);\r\n                \r\n            }\r\n        });","title":"Reload WebView on Button Press? (Android Studio)","body":"<pre><code> button.setOnClickListener(new OnClickListener() {\n        \n        public void onClick(View v) {\n            \n           webview.loadUrl(&quot;url&quot;);\n            \n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user19036822"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652893695,"creation_date":1652382277,"question_id":72220900,"body_markdown":"I have a WebView inside my Android Studio project that fills the whole screen, and when they get into the app without an internet connection I show an activity that I have included, I hide the WebView, and I show text and a button telling them they don&#39;t have internet. How can I have the button reload the WebView when it is pressed? Reloading the whole app would work as well but as a last resort.\r\n\r\nThis is my activity-main.xml file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;1dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;1dp&quot;&gt;\r\n\r\n        &lt;/WebView&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/no_internet_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;include\r\n                    layout=&quot;@layout/no_internet&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBelow is my no-internet.xml file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;54dp&quot;\r\n            android:fontFamily=&quot;sans-serif-medium&quot;\r\n            android:text=&quot;Sorry (user)!&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;34sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.063&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/errorMessage&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;34dp&quot;\r\n            android:text=&quot;Something went wrong with this app.&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/space&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/errorCode&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;22dp&quot;\r\n            android:text=&quot;ERROR_INTERNET_DISCONECTED&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/errorMessage&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/refreshButton&quot;\r\n            android:layout_width=&quot;127dp&quot;\r\n            android:layout_height=&quot;59dp&quot;\r\n            android:text=&quot;Retry&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.854&quot;\r\n            app:strokeColor=&quot;@color/blue_primary&quot; /&gt;\r\n\r\n        &lt;Space\r\n            android:id=&quot;@+id/space&quot;\r\n            android:layout_width=&quot;237dp&quot;\r\n            android:layout_height=&quot;37dp&quot;\r\n            android:layout_marginTop=&quot;12dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is my MainActivity.java file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.example.projectname;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.LinearLayout;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        WebView webView;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            webView = (WebView) findViewById(R.id.webView);\r\n            LinearLayout no_internet_view = (LinearLayout) findViewById(R.id.no_internet_view);//////this line for define no_internet_view\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setAllowFileAccessFromFileURLs(true);\r\n            webView.loadUrl(&quot;https://websitename.com&quot;);\r\n            webView.setWebViewClient(new WebViewClient());\r\n            if (isInternetOn()) {\r\n                webView.setVisibility(View.VISIBLE);\r\n                no_internet_view.setVisibility(View.GONE);\r\n            } else {\r\n                webView.setVisibility(View.GONE);\r\n                no_internet_view.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                super.onBackPressed(); //maybe shove option first later\r\n            }\r\n        }\r\n\r\n        public boolean isInternetOn() {\r\n            ConnectivityManager cm = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n            return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy reloadButton will be what should reload the page.","title":"Reload WebView on Button Press? (Android Studio)","body":"<p>I have a WebView inside my Android Studio project that fills the whole screen, and when they get into the app without an internet connection I show an activity that I have included, I hide the WebView, and I show text and a button telling them they don't have internet. How can I have the button reload the WebView when it is pressed? Reloading the whole app would work as well but as a last resort.</p>\n<p>This is my activity-main.xml file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white\"\n    android:backgroundTint=\"@color/white\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;WebView\n        android:id=\"@+id/webView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:layout_editor_absoluteX=\"1dp\"\n        tools:layout_editor_absoluteY=\"1dp\"&gt;\n\n    &lt;/WebView&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/no_internet_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;include\n                layout=\"@layout/no_internet\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\" /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Below is my no-internet.xml file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"54dp\"\n        android:fontFamily=\"sans-serif-medium\"\n        android:text=\"Sorry (user)!\"\n        android:textAlignment=\"center\"\n        android:textSize=\"34sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.063\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/errorMessage\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"34dp\"\n        android:text=\"Something went wrong with this app.\"\n        android:textAlignment=\"center\"\n        android:textSize=\"20sp\"\n        app:layout_constraintTop_toBottomOf=\"@+id/space\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/errorCode\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"22dp\"\n        android:text=\"ERROR_INTERNET_DISCONECTED\"\n        android:textAlignment=\"center\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/errorMessage\"\n        app:layout_constraintVertical_bias=\"0.0\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/refreshButton\"\n        android:layout_width=\"127dp\"\n        android:layout_height=\"59dp\"\n        android:text=\"Retry\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.498\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.854\"\n        app:strokeColor=\"@color/blue_primary\" /&gt;\n\n    &lt;Space\n        android:id=\"@+id/space\"\n        android:layout_width=\"237dp\"\n        android:layout_height=\"37dp\"\n        android:layout_marginTop=\"12dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is my MainActivity.java file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.example.projectname;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.LinearLayout;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = (WebView) findViewById(R.id.webView);\n        LinearLayout no_internet_view = (LinearLayout) findViewById(R.id.no_internet_view);//////this line for define no_internet_view\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setAllowFileAccessFromFileURLs(true);\n        webView.loadUrl(\"https://websitename.com\");\n        webView.setWebViewClient(new WebViewClient());\n        if (isInternetOn()) {\n            webView.setVisibility(View.VISIBLE);\n            no_internet_view.setVisibility(View.GONE);\n        } else {\n            webView.setVisibility(View.GONE);\n            no_internet_view.setVisibility(View.VISIBLE);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed(); //maybe shove option first later\n        }\n    }\n\n    public boolean isInternetOn() {\n        ConnectivityManager cm = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo netInfo = cm.getActiveNetworkInfo();\n        return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My reloadButton will be what should reload the page.</p>\n"},{"tags":["java","swing","jtable","awt"],"comments":[{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":1,"creation_date":1620591420,"post_id":67461700,"comment_id":119240043,"body_markdown":"What is your current L&amp;F?","body":"What is your current L&amp;F?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1620620703,"post_id":67461700,"comment_id":119244765,"body_markdown":"The `value` parameter, in method `getTableCellRendererComponent` is a value from the [TableModel](https://docs.oracle.com/javase/8/docs/api/javax/swing/table/TableModel.html). From the code in your question, it appears that your `TableModel` contains `JButton` objects. Is that correct? Any chance you could post a [mcve]?","body":"The <code>value</code> parameter, in method <code>getTableCellRendererComponent</code> is a value from the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/table/TableModel.html\" rel=\"nofollow noreferrer\">TableModel</a>. From the code in your question, it appears that your <code>TableModel</code> contains <code>JButton</code> objects. Is that correct? Any chance you could post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":2922781,"reputation":1839,"user_id":2504705,"accept_rate":97,"display_name":"kallada"},"score":0,"creation_date":1620830695,"post_id":67461700,"comment_id":119318167,"body_markdown":"@Rocco sorry for the delayed update, previously I was using  CDE/Motif as L&amp;F now changed my L&amp;F to windows. Thanks a lot for your pointer","body":"@Rocco sorry for the delayed update, previously I was using  CDE/Motif as L&amp;F now changed my L&amp;F to windows. Thanks a lot for your pointer"},{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":0,"creation_date":1620856838,"post_id":67461700,"comment_id":119328767,"body_markdown":"I tried to reproduce your example, but if I just return a JButton in a renderer, without other settings it fills the cell space, so I cannot understand where the problem is, this is what I get:  [table with buttons](https://imgur.com/a/4XJj9sJ)","body":"I tried to reproduce your example, but if I just return a JButton in a renderer, without other settings it fills the cell space, so I cannot understand where the problem is, this is what I get:  <a href=\"https://imgur.com/a/4XJj9sJ\" rel=\"nofollow noreferrer\">table with buttons</a>"}],"owner":{"account_id":2922781,"reputation":1839,"user_id":2504705,"accept_rate":97,"display_name":"kallada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652893658,"creation_date":1620589207,"question_id":67461700,"body_markdown":"I&#39;m trying to render button in one column of JTable. \r\n\r\nJTable renderer\r\n---------------------\r\n\r\n    private static class JTableButtonRenderer extends JButton implements TableCellRenderer {\r\n\t\t\r\n\t\t/** The Constant serialVersionUID. */\r\n\t\tprivate static final long serialVersionUID = -99465461909605968L;\r\n\t\tpublic JTableButtonRenderer() {\r\n\t\t\tsetOpaque(true);\r\n\t\t\t// setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0));\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\r\n\t\t\t\tint row, int column) {\r\n\t\t\tsetBorder(BorderFactory.createCompoundBorder(getBorder(), BorderFactory.createEmptyBorder(110, 1110, 110, 110)));\r\n\t\t\tJButton button = (JButton) value;\r\n\t\t\t// button.setSize(100, 51);\r\n\t\t\treturn button;\r\n\t\t}\r\n\t}\r\n\r\nThis adds the JButton to the last column of my jTable as expected. But the cells in the last column have some padding. Is there any way to fill the cell (last column) with the button?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OOqmK.png","title":"How to remove padding from a JTable cell?","body":"<p>I'm trying to render button in one column of JTable.</p>\n<h2>JTable renderer</h2>\n<pre><code>private static class JTableButtonRenderer extends JButton implements TableCellRenderer {\n    \n    /** The Constant serialVersionUID. */\n    private static final long serialVersionUID = -99465461909605968L;\n    public JTableButtonRenderer() {\n        setOpaque(true);\n        // setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0));\n    }\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\n            int row, int column) {\n        setBorder(BorderFactory.createCompoundBorder(getBorder(), BorderFactory.createEmptyBorder(110, 1110, 110, 110)));\n        JButton button = (JButton) value;\n        // button.setSize(100, 51);\n        return button;\n    }\n}\n</code></pre>\n<p>This adds the JButton to the last column of my jTable as expected. But the cells in the last column have some padding. Is there any way to fill the cell (last column) with the button?</p>\n<p><a href=\"https://i.stack.imgur.com/OOqmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOqmK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","svg","canvas","processing"],"answers":[{"tags":[],"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652893602,"creation_date":1652893602,"answer_id":72293299,"question_id":72152864,"body_markdown":"I found out it was due to some bug of Processing 4 (beta 8).  \r\nUnfortunately I do not have time nor will to pinpoint the exact issue, however I can share a viable solution I found: downgrading to Processing 3.  \r\nDowngrading and re-exporting the app fixed it.  \r\nHopefully this problem will be fixed in a future release of Processing 4.","title":"Processing exported application canvas size differs from ide launched application","body":"<p>I found out it was due to some bug of Processing 4 (beta 8).<br />\nUnfortunately I do not have time nor will to pinpoint the exact issue, however I can share a viable solution I found: downgrading to Processing 3.<br />\nDowngrading and re-exporting the app fixed it.<br />\nHopefully this problem will be fixed in a future release of Processing 4.</p>\n"}],"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72293299,"answer_count":1,"score":1,"last_activity_date":1652893602,"creation_date":1651929237,"question_id":72152864,"body_markdown":"I have a simple Processing 3 application I just migrated to Processing 4.  \r\nThe old version had some global variables fine tuned for 1920x1080 displays, so while porting I decided to make it more dynamic and made so that those global variables would depend on displayWidth and displayHeight.  \r\nNow when I launch the app through the IDE it works just fine:\r\n[![correct size][1]][1]\r\nHowever if I export the app (File &gt; Export Application &gt; Windows 64-bit Include Java) this happens:\r\n[![wrong size][2]][2]\r\n\r\nMy card images are svgs so I think it&#39;s weird that they look so pixeled, so my guess is that for some reason the canvas is getting the right size but it&#39;s also getting stretched.  \r\nThis is just a guess, I may be completely wrong. Anyway the size is wrong and I&#39;d like to fix that, but I have no idea how.\r\n\r\nCan anyone help me?\r\n\r\nMy code is the following:\r\n\r\n    //Global variables.\r\n    int frameRate = 30;\r\n    int cardWidth;\r\n    int cardHeight;\r\n    int border;\r\n    int edge;\r\n    int cardsetSpace;\r\n    int cardSpace;\r\n    int textSize;\r\n    int yOffset;\r\n    float savedGameWritingDurationLeft = 0;\r\n    int loadingWritingDurationLeft = 0;\r\n    boolean isLoading = false;\r\n    final String loadingWriting = &quot;CARICAMENTO...&quot;;\r\n    final String savedGameWriting = &quot;PARTITA SALVATA&quot;;\r\n    //Global variables.\r\n    \r\n    void settings()\r\n    {\r\n      cardWidth = (int) (displayWidth / 15.36);\r\n      cardHeight = (int) (displayHeight / 6.17);\r\n      border = cardWidth / 10;\r\n      edge = border / 3;\r\n      cardsetSpace = border + edge * 2;\r\n      cardSpace = (int) (cardHeight / 4.6);\r\n      textSize = displayHeight / 54;\r\n      yOffset = textSize + 8;\r\n      size(cardWidth * 8 + cardsetSpace * 9, cardHeight * 5 + textSize * 2);\r\n    }\r\n(The whole code can be found on [GitHub][3], but I think only the above piece is relevant)\r\n\r\nEDIT:  \r\nI did some more tests and I found out that:  \r\n- Both the IDE launched app and the exported app detect `displayWidth` and `displayHeight` correctly to 2560 and 1440 respectively inside `settings()`.\r\n- The IDE launched app detects `displayWidth` and `displayHeight` correctly also outside of `settings()`, while the exported app detects 1707 for `displayWidth` and 960 for `displayHeight` outside of `settings()`.  \r\n- Both apps have width and height to 1562 and 1217 respectively.  \r\n- It appears that `displayDensity()` returns 1 when in IDE and 2 when exported. Furthermore if I try to force `pixelDensity()` to 2 when in IDE I get a warning that my display does not support it.\r\n\r\nI have no idea why all of this happens, but the issue is now clear: the exported app thinks my 2560x1440 display is actually a 1707x960 display, so when drawing a 1562x1217 canvas it gets huge.\r\n\r\nYes I did try `pixelDensity(displayDensity())` but that only resulted in making the exported app canvas even bigger.\r\n\r\n  [1]: https://i.stack.imgur.com/BM3hP.png\r\n  [2]: https://i.stack.imgur.com/HFjjl.png\r\n  [3]: https://github.com/Nyphet/Freecell","title":"Processing exported application canvas size differs from ide launched application","body":"<p>I have a simple Processing 3 application I just migrated to Processing 4.<br />\nThe old version had some global variables fine tuned for 1920x1080 displays, so while porting I decided to make it more dynamic and made so that those global variables would depend on displayWidth and displayHeight.<br />\nNow when I launch the app through the IDE it works just fine:\n<a href=\"https://i.stack.imgur.com/BM3hP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BM3hP.png\" alt=\"correct size\" /></a>\nHowever if I export the app (File &gt; Export Application &gt; Windows 64-bit Include Java) this happens:\n<a href=\"https://i.stack.imgur.com/HFjjl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HFjjl.png\" alt=\"wrong size\" /></a></p>\n<p>My card images are svgs so I think it's weird that they look so pixeled, so my guess is that for some reason the canvas is getting the right size but it's also getting stretched.<br />\nThis is just a guess, I may be completely wrong. Anyway the size is wrong and I'd like to fix that, but I have no idea how.</p>\n<p>Can anyone help me?</p>\n<p>My code is the following:</p>\n<pre><code>//Global variables.\nint frameRate = 30;\nint cardWidth;\nint cardHeight;\nint border;\nint edge;\nint cardsetSpace;\nint cardSpace;\nint textSize;\nint yOffset;\nfloat savedGameWritingDurationLeft = 0;\nint loadingWritingDurationLeft = 0;\nboolean isLoading = false;\nfinal String loadingWriting = &quot;CARICAMENTO...&quot;;\nfinal String savedGameWriting = &quot;PARTITA SALVATA&quot;;\n//Global variables.\n\nvoid settings()\n{\n  cardWidth = (int) (displayWidth / 15.36);\n  cardHeight = (int) (displayHeight / 6.17);\n  border = cardWidth / 10;\n  edge = border / 3;\n  cardsetSpace = border + edge * 2;\n  cardSpace = (int) (cardHeight / 4.6);\n  textSize = displayHeight / 54;\n  yOffset = textSize + 8;\n  size(cardWidth * 8 + cardsetSpace * 9, cardHeight * 5 + textSize * 2);\n}\n</code></pre>\n<p>(The whole code can be found on <a href=\"https://github.com/Nyphet/Freecell\" rel=\"nofollow noreferrer\">GitHub</a>, but I think only the above piece is relevant)</p>\n<p>EDIT:<br />\nI did some more tests and I found out that:</p>\n<ul>\n<li>Both the IDE launched app and the exported app detect <code>displayWidth</code> and <code>displayHeight</code> correctly to 2560 and 1440 respectively inside <code>settings()</code>.</li>\n<li>The IDE launched app detects <code>displayWidth</code> and <code>displayHeight</code> correctly also outside of <code>settings()</code>, while the exported app detects 1707 for <code>displayWidth</code> and 960 for <code>displayHeight</code> outside of <code>settings()</code>.</li>\n<li>Both apps have width and height to 1562 and 1217 respectively.</li>\n<li>It appears that <code>displayDensity()</code> returns 1 when in IDE and 2 when exported. Furthermore if I try to force <code>pixelDensity()</code> to 2 when in IDE I get a warning that my display does not support it.</li>\n</ul>\n<p>I have no idea why all of this happens, but the issue is now clear: the exported app thinks my 2560x1440 display is actually a 1707x960 display, so when drawing a 1562x1217 canvas it gets huge.</p>\n<p>Yes I did try <code>pixelDensity(displayDensity())</code> but that only resulted in making the exported app canvas even bigger.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"score":0,"creation_date":1652892956,"post_id":72293125,"comment_id":127719251,"body_markdown":"A simple way is to use `getText()` and combine the two `String` everytime before you `setText()` with `getAbsolutePath()`.","body":"A simple way is to use <code>getText()</code> and combine the two <code>String</code> everytime before you <code>setText()</code> with <code>getAbsolutePath()</code>."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1652892959,"post_id":72293125,"comment_id":127719253,"body_markdown":"Concatenate all of your file paths into a single string (separated by newlines) and then pass _that_ when you call `setText`.","body":"Concatenate all of your file paths into a single string (separated by newlines) and then pass <i>that</i> when you call <code>setText</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652893120,"post_id":72293125,"comment_id":127719320,"body_markdown":"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1652893244,"post_id":72293125,"comment_id":127719353,"body_markdown":"If you are a novice and struggling with your own project I&#39;d advise following the trails that exist for learning swing / learning Java first.","body":"If you are a novice and struggling with your own project I&#39;d advise following the trails that exist for learning swing / learning Java first."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652894339,"post_id":72293125,"comment_id":127719781,"body_markdown":"You&#39;re going to find that you need a scroll pane for your list. That&#39;s going to be a problem with a null layout. When you&#39;ve sorted that out, you should be looking at something like `DefaultListModel&lt;File&gt;`","body":"You&#39;re going to find that you need a scroll pane for your list. That&#39;s going to be a problem with a null layout. When you&#39;ve sorted that out, you should be looking at something like <code>DefaultListModel&lt;File&gt;</code>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1652904521,"post_id":72293125,"comment_id":127723229,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  A `JTree` is the Swing component that most naturally displays a directory structure.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  A <code>JTree</code> is the Swing component that most naturally displays a directory structure."}],"answers":[{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652893303,"creation_date":1652893303,"answer_id":72293240,"question_id":72293125,"body_markdown":"As said in comment, you can modify the section into something like this:\r\n\r\n    String temp = list.getText() + file.getAbsolutePath();\r\n    list.setText(temp);\r\n\r\nwhich you can then also append `,` or other syntax if needed.\r\n\r\nBelow are the codes:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            JFrame window = new JFrame(&quot;Search Window&quot;);\r\n            window.setBounds(5,5, 500, 500);\r\n            window.setLayout(null);\r\n    \r\n            JButton button = new JButton(&quot;Search Images&quot;);\r\n            button.setBounds(160, 20, 150, 50);\r\n            button.setBackground(Color.gray);\r\n            button.setForeground(Color.white);\r\n            window.add(button);\r\n    \r\n            JLabel label = new JLabel(&quot;Output Here&quot;);\r\n            label.setBounds(20, 80, 150, 50);\r\n            window.add(label);\r\n    \r\n            JList list = new JList();\r\n            list.setBounds(20, 130, 440, 30);\r\n            window.add(list);\r\n    \r\n            ActionListener actionListener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n    \r\n                    ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\r\n                    searchFiles(new File(&quot;D:\\\\&quot;), fileList);\r\n                    for (File file: fileList) {\r\n                        \r\n                        // Assume you need it here.\r\n                        String temp = list.getText() + file.getAbsolutePath();\r\n                        list.setText(temp);\r\n                    }\r\n    \r\n                }\r\n    \r\n                private static void searchFiles(File rootFile, List&lt;File&gt; fileList) {\r\n                    if (rootFile.isDirectory()) {\r\n                        File[] directoryFiles = rootFile.listFiles();\r\n                        if (directoryFiles != null) {\r\n                            for(File file: directoryFiles) {\r\n                                if (file.isDirectory()) {\r\n                                    searchFiles(file, fileList);\r\n                                } else {\r\n                                    if (file.getName().toLowerCase().endsWith(&quot;.jpg&quot;)) {\r\n                                        fileList.add(file);\r\n                                    }\r\n                                }\r\n    \r\n                            }\r\n                        }\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n            };\r\n            button.addActionListener(actionListener);\r\n        }\r\n\r\nHope this answer helps you well.","title":"How to output ArrayList in JFrame interface in Java","body":"<p>As said in comment, you can modify the section into something like this:</p>\n<pre><code>String temp = list.getText() + file.getAbsolutePath();\nlist.setText(temp);\n</code></pre>\n<p>which you can then also append <code>,</code> or other syntax if needed.</p>\n<p>Below are the codes:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        JFrame window = new JFrame(&quot;Search Window&quot;);\n        window.setBounds(5,5, 500, 500);\n        window.setLayout(null);\n\n        JButton button = new JButton(&quot;Search Images&quot;);\n        button.setBounds(160, 20, 150, 50);\n        button.setBackground(Color.gray);\n        button.setForeground(Color.white);\n        window.add(button);\n\n        JLabel label = new JLabel(&quot;Output Here&quot;);\n        label.setBounds(20, 80, 150, 50);\n        window.add(label);\n\n        JList list = new JList();\n        list.setBounds(20, 130, 440, 30);\n        window.add(list);\n\n        ActionListener actionListener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\n                searchFiles(new File(&quot;D:\\\\&quot;), fileList);\n                for (File file: fileList) {\n                    \n                    // Assume you need it here.\n                    String temp = list.getText() + file.getAbsolutePath();\n                    list.setText(temp);\n                }\n\n            }\n\n            private static void searchFiles(File rootFile, List&lt;File&gt; fileList) {\n                if (rootFile.isDirectory()) {\n                    File[] directoryFiles = rootFile.listFiles();\n                    if (directoryFiles != null) {\n                        for(File file: directoryFiles) {\n                            if (file.isDirectory()) {\n                                searchFiles(file, fileList);\n                            } else {\n                                if (file.getName().toLowerCase().endsWith(&quot;.jpg&quot;)) {\n                                    fileList.add(file);\n                                }\n                            }\n\n                        }\n                    }\n\n                }\n\n            }\n\n        };\n        button.addActionListener(actionListener);\n    }\n</code></pre>\n<p>Hope this answer helps you well.</p>\n"}],"owner":{"account_id":25326236,"reputation":1,"user_id":19146842,"display_name":"mrcrubby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652893303,"creation_date":1652892671,"question_id":72293125,"body_markdown":"I&#39;m a complete beginner to programming and this is my first question. I want to create a program in java to search images&#39; paths on windows OS. All the paths should appear as a list in the interface I programmed.\r\n[my interface][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tSHE.jpg\r\n\r\nHow can I output all the paths? I tried to use this:\r\n\r\n    list.setText(file.getAbsolutePath());\r\n\r\nbut .setText deletes all previous strings and leaves only the last.\r\n\r\nPlease help and thank you\r\n\r\nMy code:\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame window = new JFrame(&quot;Search Window&quot;);\r\n        window.setBounds(5,5, 500, 500);\r\n        window.setLayout(null);\r\n\r\n        JButton button = new JButton(&quot;Search Images&quot;);\r\n        button.setBounds(160, 20, 150, 50);\r\n        button.setBackground(Color.gray);\r\n        button.setForeground(Color.white);\r\n        window.add(button);\r\n\r\n        JLabel label = new JLabel(&quot;Output Here&quot;);\r\n        label.setBounds(20, 80, 150, 50);\r\n        window.add(label);\r\n\r\n        JList list = new JList();\r\n        list.setBounds(20, 130, 440, 30);\r\n        window.add(list);\r\n\r\n        ActionListener actionListener = new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\r\n                searchFiles(new File(&quot;D:\\\\&quot;), fileList);\r\n                for (File file: fileList) {\r\n\r\n                    System.out.println(file.getAbsolutePath());\r\n                }\r\n\r\n            }\r\n\r\n            private static void searchFiles(File rootFile, List&lt;File&gt; fileList) {\r\n                if (rootFile.isDirectory()) {\r\n                    File[] directoryFiles = rootFile.listFiles();\r\n                    if (directoryFiles != null) {\r\n                        for(File file: directoryFiles) {\r\n                            if (file.isDirectory()) {\r\n                                searchFiles(file, fileList);\r\n                            } else {\r\n                                if (file.getName().toLowerCase().endsWith(&quot;.jpg&quot;)) {\r\n                                    fileList.add(file);\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            };\r\n            button.addActionListener(actionListener);\r\n\r\n            window.setVisible(true);\r\n\r\n        }\r\n\r\n\r\n}","title":"How to output ArrayList in JFrame interface in Java","body":"<p>I'm a complete beginner to programming and this is my first question. I want to create a program in java to search images' paths on windows OS. All the paths should appear as a list in the interface I programmed.\n<a href=\"https://i.stack.imgur.com/7tSHE.jpg\" rel=\"nofollow noreferrer\">my interface</a></p>\n<p>How can I output all the paths? I tried to use this:</p>\n<pre><code>list.setText(file.getAbsolutePath());\n</code></pre>\n<p>but .setText deletes all previous strings and leaves only the last.</p>\n<p>Please help and thank you</p>\n<p>My code:</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n\n    JFrame window = new JFrame(&quot;Search Window&quot;);\n    window.setBounds(5,5, 500, 500);\n    window.setLayout(null);\n\n    JButton button = new JButton(&quot;Search Images&quot;);\n    button.setBounds(160, 20, 150, 50);\n    button.setBackground(Color.gray);\n    button.setForeground(Color.white);\n    window.add(button);\n\n    JLabel label = new JLabel(&quot;Output Here&quot;);\n    label.setBounds(20, 80, 150, 50);\n    window.add(label);\n\n    JList list = new JList();\n    list.setBounds(20, 130, 440, 30);\n    window.add(list);\n\n    ActionListener actionListener = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            ArrayList&lt;File&gt; fileList = new ArrayList&lt;&gt;();\n            searchFiles(new File(&quot;D:\\\\&quot;), fileList);\n            for (File file: fileList) {\n\n                System.out.println(file.getAbsolutePath());\n            }\n\n        }\n\n        private static void searchFiles(File rootFile, List&lt;File&gt; fileList) {\n            if (rootFile.isDirectory()) {\n                File[] directoryFiles = rootFile.listFiles();\n                if (directoryFiles != null) {\n                    for(File file: directoryFiles) {\n                        if (file.isDirectory()) {\n                            searchFiles(file, fileList);\n                        } else {\n                            if (file.getName().toLowerCase().endsWith(&quot;.jpg&quot;)) {\n                                fileList.add(file);\n                            }\n                        }\n\n                    }\n                }\n\n            }\n\n        }\n\n        };\n        button.addActionListener(actionListener);\n\n        window.setVisible(true);\n\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swift4","diffie-hellman","public-key-exchange"],"comments":[{"owner":{"account_id":1634834,"reputation":644,"user_id":1508607,"accept_rate":50,"display_name":"Hamid Reza"},"score":0,"creation_date":1538476190,"post_id":52475881,"comment_id":92147077,"body_markdown":"I have this issue too","body":"I have this issue too"}],"owner":{"account_id":3413374,"reputation":4489,"user_id":2862860,"display_name":"Yoshimitsu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652893153,"creation_date":1537779902,"question_id":52475881,"body_markdown":"I am trying to develop key-exchange Diffie-Hellman between a Swift and a Java server .\r\nI read all link about Diffie-Hellman and in all of them told I should use ` (g^a mod p)^b mod p = g^ab mod p ` for making PublicKey.\r\n\r\nBut when I started to share my PublicKey with server I faced with this exception\r\n\r\n    java.security.spec.InvalidKeySpecException: Inappropriate key specification\r\n\t  at com.sun.crypto.provider.DHKeyFactory.engineGeneratePublic(DHKeyFactory.java:85)\r\n\t  at java.security.KeyFactory.generatePublic(KeyFactory.java:334)\r\n\t  at com.pushro.server.managers.server.RequestsHandler.processKeyExchange(RequestsHandler.java:867)\r\n\t  at com.pushro.server.managers.server.RequestsHandler.processPacket(RequestsHandler.java:275)\r\n\t  at com.pushro.server.managers.server.RequestsHandler.processPacket(RequestsHandler.java:1315)\r\n\t  at com.pushro.server.managers.server.RequestsHandler.access$000(RequestsHandler.java:40)\r\n\t  at com.pushro.server.managers.server.RequestsHandler$1.handleEvent(RequestsHandler.java:96)\r\n\t  at com.pushro.server.managers.queue.DisruptorManager$WriteEventHandler.onEvent(DisruptorManager.java:37)\r\n\t  at com.pushro.server.managers.queue.DisruptorManager$WriteEventHandler.onEvent(DisruptorManager.java:34)\r\n\t  at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\r\n\t  at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.security.InvalidKeyException: Invalid key format\r\n\t  at com.sun.crypto.provider.DHPublicKey.&lt;init&gt;(DHPublicKey.java:127)\r\n\t  at com.sun.crypto.provider.DHKeyFactory.engineGeneratePublic(DHKeyFactory.java:78)\r\n\t  ... 10 more\r\n\r\nI used standard X509EncodedKeySpec for get key and generate Secret code in java. \r\n\r\n    X509EncodedKeySpec ks = new X509EncodedKeySpec(PublicKey_byte);\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;DH&quot;);\r\n    PublicKey clientPublicKey = keyFactory.generatePublic(ks);\r\n\r\nI&#39;ve read all of this link but they didn&#39;t help me.\r\n\r\n - https://github.com/gsurma/diffie_hellman_key_exchange\r\n - https://gist.github.com/jmcd/b9a212df5dfa88b6d8dcb52c51b6be6b\r\n - https://developer.apple.com/documentation/security/1643701-seckeycreatewithdata\r\n - https://developer.apple.com/documentation/security/seckey\r\n - https://developer.apple.com/documentation/security/secure_transport#//apple_ref/doc/uid/TP30000155\r\n","title":"Diffie-Hellman in swift can work with JAVA","body":"<p>I am trying to develop key-exchange Diffie-Hellman between a Swift and a Java server .\nI read all link about Diffie-Hellman and in all of them told I should use <code>(g^a mod p)^b mod p = g^ab mod p</code> for making PublicKey.</p>\n<p>But when I started to share my PublicKey with server I faced with this exception</p>\n<pre><code>java.security.spec.InvalidKeySpecException: Inappropriate key specification\n  at com.sun.crypto.provider.DHKeyFactory.engineGeneratePublic(DHKeyFactory.java:85)\n  at java.security.KeyFactory.generatePublic(KeyFactory.java:334)\n  at com.pushro.server.managers.server.RequestsHandler.processKeyExchange(RequestsHandler.java:867)\n  at com.pushro.server.managers.server.RequestsHandler.processPacket(RequestsHandler.java:275)\n  at com.pushro.server.managers.server.RequestsHandler.processPacket(RequestsHandler.java:1315)\n  at com.pushro.server.managers.server.RequestsHandler.access$000(RequestsHandler.java:40)\n  at com.pushro.server.managers.server.RequestsHandler$1.handleEvent(RequestsHandler.java:96)\n  at com.pushro.server.managers.queue.DisruptorManager$WriteEventHandler.onEvent(DisruptorManager.java:37)\n  at com.pushro.server.managers.queue.DisruptorManager$WriteEventHandler.onEvent(DisruptorManager.java:34)\n  at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\n  at java.lang.Thread.run(Thread.java:748)\nCaused by: java.security.InvalidKeyException: Invalid key format\n  at com.sun.crypto.provider.DHPublicKey.&lt;init&gt;(DHPublicKey.java:127)\n  at com.sun.crypto.provider.DHKeyFactory.engineGeneratePublic(DHKeyFactory.java:78)\n  ... 10 more\n</code></pre>\n<p>I used standard X509EncodedKeySpec for get key and generate Secret code in java.</p>\n<pre><code>X509EncodedKeySpec ks = new X509EncodedKeySpec(PublicKey_byte);\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;DH&quot;);\nPublicKey clientPublicKey = keyFactory.generatePublic(ks);\n</code></pre>\n<p>I've read all of this link but they didn't help me.</p>\n<ul>\n<li><a href=\"https://github.com/gsurma/diffie_hellman_key_exchange\" rel=\"nofollow noreferrer\">https://github.com/gsurma/diffie_hellman_key_exchange</a></li>\n<li><a href=\"https://gist.github.com/jmcd/b9a212df5dfa88b6d8dcb52c51b6be6b\" rel=\"nofollow noreferrer\">https://gist.github.com/jmcd/b9a212df5dfa88b6d8dcb52c51b6be6b</a></li>\n<li><a href=\"https://developer.apple.com/documentation/security/1643701-seckeycreatewithdata\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/security/1643701-seckeycreatewithdata</a></li>\n<li><a href=\"https://developer.apple.com/documentation/security/seckey\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/security/seckey</a></li>\n<li><a href=\"https://developer.apple.com/documentation/security/secure_transport#//apple_ref/doc/uid/TP30000155\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/security/secure_transport#//apple_ref/doc/uid/TP30000155</a></li>\n</ul>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650538691,"post_id":71951793,"comment_id":127144279,"body_markdown":"If you start a new project: why do you care whether other users a still using Java 8 or not? Java 11 was released in 2018 and has proven to be stable. Why should you want to use Java 8 which was released in 2014 (eight years ago) ? (BTW not your downvoter)","body":"If you start a new project: why do you care whether other users a still using Java 8 or not? Java 11 was released in 2018 and has proven to be stable. Why should you want to use Java 8 which was released in 2014 (eight years ago) ? (BTW not your downvoter)"},{"owner":{"account_id":16632732,"reputation":179,"user_id":12020220,"display_name":"Invisible"},"score":0,"creation_date":1650542887,"post_id":71951793,"comment_id":127145790,"body_markdown":"My concern is - how much mature whether the Flink is with Java 11. Let&#39;s say if there is no much usage with Java 11 for the Flink then there is more possibilities for the bug in production with Flink. So I would like to understand how others are experiencing Flink with Java 11 (as Flink 1.10 is something released recently).","body":"My concern is - how much mature whether the Flink is with Java 11. Let&#39;s say if there is no much usage with Java 11 for the Flink then there is more possibilities for the bug in production with Flink. So I would like to understand how others are experiencing Flink with Java 11 (as Flink 1.10 is something released recently)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650616681,"post_id":71951793,"comment_id":127165809,"body_markdown":"_as Flink 1.10 is something released recently_: that depends on how you define &quot;recently&quot; - Flink 1.10 was released on Feb. 11, 2020 which is two years ago. The most current stable version is Flink 1.14 which was released on Sep. 29, 2021 (with the latest patch release 1.14.4 released on Mar. 11, 2022) and they will probably soon release version 1.15. Version 1.15 will drop support for Java 8. The maintainers of Flink seem pretty convinced that Java 11 is the way to go.","body":"<i>as Flink 1.10 is something released recently</i>: that depends on how you define &quot;recently&quot; - Flink 1.10 was released on Feb. 11, 2020 which is two years ago. The most current stable version is Flink 1.14 which was released on Sep. 29, 2021 (with the latest patch release 1.14.4 released on Mar. 11, 2022) and they will probably soon release version 1.15. Version 1.15 will drop support for Java 8. The maintainers of Flink seem pretty convinced that Java 11 is the way to go."},{"owner":{"account_id":16632732,"reputation":179,"user_id":12020220,"display_name":"Invisible"},"score":0,"creation_date":1650976637,"post_id":71951793,"comment_id":127247214,"body_markdown":"Where did you find this `The maintainers of Flink seem pretty convinced that Java 11 is the way to go`? Perhaps from their documentation? If so, could you please point me to the docs?","body":"Where did you find this <code>The maintainers of Flink seem pretty convinced that Java 11 is the way to go</code>? Perhaps from their documentation? If so, could you please point me to the docs?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650977755,"post_id":71951793,"comment_id":127247722,"body_markdown":"**Point 1**: the upcoming release 1.15 (which I expect in the next days) requires [Java 11 to build it](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/flinkdev/building/) and requires [Java 11 to run it](https://nightlies.apache.org/flink/flink-docs-release-1.15//docs/try-flink/local_installation/) - Java 8 is no longer supported in this newest release. **Point 2**: if you look at the [roadmap](https://flink.apache.org/roadmap.html) they mark Java 11 as &quot;stable&quot; (not &quot;Beta&quot;, not &quot;Production ready &amp; evolving&quot;, it is &quot;stable&quot;) and Java 8 as &quot;deprecated&quot;.","body":"<b>Point 1</b>: the upcoming release 1.15 (which I expect in the next days) requires <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/flinkdev/building/\" rel=\"nofollow noreferrer\">Java 11 to build it</a> and requires <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15//docs/try-flink/local_installation/\" rel=\"nofollow noreferrer\">Java 11 to run it</a> - Java 8 is no longer supported in this newest release. <b>Point 2</b>: if you look at the <a href=\"https://flink.apache.org/roadmap.html\" rel=\"nofollow noreferrer\">roadmap</a> they mark Java 11 as &quot;stable&quot; (not &quot;Beta&quot;, not &quot;Production ready &amp; evolving&quot;, it is &quot;stable&quot;) and Java 8 as &quot;deprecated&quot;."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650977888,"post_id":71951793,"comment_id":127247767,"body_markdown":"Their description for the stages are: &quot;Stable: Unrestricted use in production&quot;, &quot;Deprecated: Start looking for alternatives now&quot;. Do you really want to start a new project with a technology where the maintainers tell you that you should &quot;Start looking for alternatives now&quot;?","body":"Their description for the stages are: &quot;Stable: Unrestricted use in production&quot;, &quot;Deprecated: Start looking for alternatives now&quot;. Do you really want to start a new project with a technology where the maintainers tell you that you should &quot;Start looking for alternatives now&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1652892996,"creation_date":1650532349,"answer_id":71951849,"question_id":71951793,"body_markdown":"Both Java 8 and Java 11 are supported (though Java 8 has been deprecated).\r\n\r\nWorking toward support for Java 17 is happening under [FLINK-15736](https://issues.apache.org/jira/browse/FLINK-15736).","title":"What is the Java version that the Flink can support in 2022?","body":"<p>Both Java 8 and Java 11 are supported (though Java 8 has been deprecated).</p>\n<p>Working toward support for Java 17 is happening under <a href=\"https://issues.apache.org/jira/browse/FLINK-15736\" rel=\"noreferrer\">FLINK-15736</a>.</p>\n"}],"owner":{"account_id":16632732,"reputation":179,"user_id":12020220,"display_name":"Invisible"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5789,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71951849,"answer_count":1,"score":3,"last_activity_date":1652892996,"creation_date":1650532110,"question_id":71951793,"body_markdown":"Let&#39;s say if I start a new Flink Java project, and if I look for &quot;stable Flink Java production experience&quot;, which version should I need to use? The official [docs][1] says that it can support Java-11 starting from Flink 1.10 but a lot of users are still using Java-8, so trying to understand whether I need to use `AdoptOpenJDK-8` or `AdoptOpenJDK-11`.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/flinkdev/building/","title":"What is the Java version that the Flink can support in 2022?","body":"<p>Let's say if I start a new Flink Java project, and if I look for &quot;stable Flink Java production experience&quot;, which version should I need to use? The official <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/flinkdev/building/\" rel=\"nofollow noreferrer\">docs</a> says that it can support Java-11 starting from Flink 1.10 but a lot of users are still using Java-8, so trying to understand whether I need to use <code>AdoptOpenJDK-8</code> or <code>AdoptOpenJDK-11</code>.</p>\n"},{"tags":["java","node.js","maven","npm"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1570112064,"post_id":58210226,"comment_id":102817804,"body_markdown":"You can simply build your project via `mvn clean package` or maybe if you have integration tests configured via `mvn clean verfiy` . The given suggestion to use `mvn install` is usually not needed and installs the artifacts only within your local cache which will help usually...","body":"You can simply build your project via <code>mvn clean package</code> or maybe if you have integration tests configured via <code>mvn clean verfiy</code> . The given suggestion to use <code>mvn install</code> is usually not needed and installs the artifacts only within your local cache which will help usually..."}],"answers":[{"tags":[],"owner":{"account_id":405677,"reputation":3513,"user_id":774719,"accept_rate":100,"display_name":"osdamv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570056743,"creation_date":1570056743,"answer_id":58210294,"question_id":58210226,"body_markdown":"    mvn dependency:resolve\r\nIs worth take a look to mvn life [cycles][1] \r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"What is the equvalent of npm install in maven","body":"<pre><code>mvn dependency:resolve\n</code></pre>\n\n<p>Is worth take a look to mvn life <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">cycles</a> </p>\n"},{"tags":[],"owner":{"account_id":16814068,"reputation":191,"user_id":12156361,"display_name":"Fran"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605588225,"creation_date":1570056882,"answer_id":58210313,"question_id":58210226,"body_markdown":"Maven doesn&#39;t have an install command. Before any task you run maven checks if the project was changed and downloads any new dependency you specified from **Maven Central** repository.\r\n\r\nEDIT: Maven calls the resolver for most tasks you run.","title":"What is the equvalent of npm install in maven","body":"<p>Maven doesn't have an install command. Before any task you run maven checks if the project was changed and downloads any new dependency you specified from <strong>Maven Central</strong> repository.</p>\n<p>EDIT: Maven calls the resolver for most tasks you run.</p>\n"},{"tags":[],"owner":{"account_id":10358348,"reputation":623,"user_id":7639547,"display_name":"Mohammad Faisal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605589311,"creation_date":1605589031,"answer_id":64869570,"question_id":58210226,"body_markdown":"Keep all the dependencies in your `pom.xml`(You can think of this as `package.json`). If you are using an IDE like eclipse it will automatically download the dependencies for you. If you want to download the dependencies from the command line run `mvn install`. \r\nYou can find the corresponding XML for dependencies here https://mvnrepository.com/","title":"What is the equvalent of npm install in maven","body":"<p>Keep all the dependencies in your <code>pom.xml</code>(You can think of this as <code>package.json</code>). If you are using an IDE like eclipse it will automatically download the dependencies for you. If you want to download the dependencies from the command line run <code>mvn install</code>.\nYou can find the corresponding XML for dependencies here <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n"},{"tags":[],"owner":{"account_id":414974,"reputation":2867,"user_id":789505,"accept_rate":100,"display_name":"Kyle Pittman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652892496,"creation_date":1652892496,"answer_id":72293082,"question_id":58210226,"body_markdown":"There&#39;s also [`mvn dependency:go-offline`][1] to download the dependencies and prepare to run the rest of the tasks without any connection to the internet.\r\n\r\nI was looking for a way to install maven dependencies during a CI job, while explicitly NOT compiling the code or running the tests.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html","title":"What is the equvalent of npm install in maven","body":"<p>There's also <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"nofollow noreferrer\"><code>mvn dependency:go-offline</code></a> to download the dependencies and prepare to run the rest of the tasks without any connection to the internet.</p>\n<p>I was looking for a way to install maven dependencies during a CI job, while explicitly NOT compiling the code or running the tests.</p>\n"}],"owner":{"display_name":"user12103456"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2408,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1652892496,"creation_date":1570056122,"question_id":58210226,"body_markdown":"i am new to java and have mainly used node.js for most of my projects. I have used npm and used the npm install function to download packages. In maven, is there a similar function that easily installs packages?","title":"What is the equvalent of npm install in maven","body":"<p>i am new to java and have mainly used node.js for most of my projects. I have used npm and used the npm install function to download packages. In maven, is there a similar function that easily installs packages?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":1,"creation_date":1498544421,"post_id":44773309,"comment_id":76527233,"body_markdown":"can you show us UserService class ? Is there a Service or Component annotation on this class ?","body":"can you show us UserService class ? Is there a Service or Component annotation on this class ?"}],"answers":[{"tags":[],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498545120,"creation_date":1498545120,"answer_id":44773618,"question_id":44773309,"body_markdown":"The `configureGlobalSecurity` been definition is not guaranteed to be executed after setting the field. Hence the `userDetailsService` is `null`\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;customUserDetailsService&quot;)\r\n    public void configureGlobalSecurity(AuthenticationManagerBuilder authentication, UserDetailsService userDetailsService) throws Exception {\r\n        authentication.userDetailsService(userDetailsService);\r\n        authentication.authenticationProvider(authenticationProvider());\r\n    }","title":"Spring Security UserDetailsService must be set Error","body":"<p>The <code>configureGlobalSecurity</code> been definition is not guaranteed to be executed after setting the field. Hence the <code>userDetailsService</code> is <code>null</code></p>\n\n<pre><code>@Autowired\n@Qualifier(\"customUserDetailsService\")\npublic void configureGlobalSecurity(AuthenticationManagerBuilder authentication, UserDetailsService userDetailsService) throws Exception {\n    authentication.userDetailsService(userDetailsService);\n    authentication.authenticationProvider(authenticationProvider());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8277997,"reputation":1415,"user_id":6223518,"accept_rate":58,"display_name":"Dave Pateral"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1498547157,"creation_date":1498545889,"answer_id":44773811,"question_id":44773309,"body_markdown":"I think you don&#39;t have to mark `customUserDetailService` with `@Service` annotation. Besides, the db operation and transaction shoule be done in userService to distinguish the duty of each layer. Refactor `CustomUserDetailsService` like this:\r\n\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n        // ...\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String ssoId) throws UsernameNotFoundException {\r\n            // the implementation\r\n        }\r\n    }\r\nAnd according to Spring Security refence:\r\n\r\n&gt; **5.6.5 UserDetailsService**\r\n&gt; \r\n&gt; You can define custom authentication by exposing a custom\r\n&gt; UserDetailsService as a bean. For example, the following will\r\n&gt; customize authentication assuming that SpringDataUserDetailsService\r\n&gt; implements UserDetailsService:\r\n&gt; \r\n&gt; [Note] This is only used if the AuthenticationManagerBuilder has not\r\n&gt; been populated and no AuthenticationProviderBean is defined.\r\n\r\nSo remove the bean `DaoAuthenticationProvider` in `SpringSecurityConfig` and:\r\n\r\n    @Autowired\r\n    public void configureGlobalSecurity(AuthenticationManagerBuilder authentication) throws Exception {\r\n        authentication.userDetailsService(userDetailsServiceBean());\r\n        //authentication.authenticationProvider(authenticationProvider());\r\n    }\r\n    \r\n    @Override\r\n    @Bean\r\n    public UserDetailsService userDetailsServiceBean() throws Exception {\r\n    \treturn new CustomUserDetailsService();\r\n    }","title":"Spring Security UserDetailsService must be set Error","body":"<p>I think you don't have to mark <code>customUserDetailService</code> with <code>@Service</code> annotation. Besides, the db operation and transaction shoule be done in userService to distinguish the duty of each layer. Refactor <code>CustomUserDetailsService</code> like this:</p>\n\n<pre><code>public class CustomUserDetailsService implements UserDetailsService {\n    // ...\n\n    @Override\n    public UserDetails loadUserByUsername(String ssoId) throws UsernameNotFoundException {\n        // the implementation\n    }\n}\n</code></pre>\n\n<p>And according to Spring Security refence:</p>\n\n<blockquote>\n  <p><strong>5.6.5 UserDetailsService</strong></p>\n  \n  <p>You can define custom authentication by exposing a custom\n  UserDetailsService as a bean. For example, the following will\n  customize authentication assuming that SpringDataUserDetailsService\n  implements UserDetailsService:</p>\n  \n  <p>[Note] This is only used if the AuthenticationManagerBuilder has not\n  been populated and no AuthenticationProviderBean is defined.</p>\n</blockquote>\n\n<p>So remove the bean <code>DaoAuthenticationProvider</code> in <code>SpringSecurityConfig</code> and:</p>\n\n<pre><code>@Autowired\npublic void configureGlobalSecurity(AuthenticationManagerBuilder authentication) throws Exception {\n    authentication.userDetailsService(userDetailsServiceBean());\n    //authentication.authenticationProvider(authenticationProvider());\n}\n\n@Override\n@Bean\npublic UserDetailsService userDetailsServiceBean() throws Exception {\n    return new CustomUserDetailsService();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19473636,"reputation":1,"user_id":14245423,"display_name":"subrahmanyam dwarampudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599637583,"creation_date":1599625433,"answer_id":63804715,"question_id":44773309,"body_markdown":"Using XML config:\r\n\r\n```\r\n&lt;security:authentication-manager id=&quot;clientAuthenticationManager&quot;&gt;\r\n\t    &lt;security:authentication-provider ref=&quot;stratusDaoAuthenticationProvider&quot;&gt;&lt;/security:authentication-provider&gt;\r\n\t\t&lt;security:authentication-provider user-service-ref=&quot;stratusClientUserDetailsService&quot; &gt;\r\n\t\t    &lt;security:password-encoder ref=&quot;delegatePasswordEncoder&quot; /&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n        &lt;!-- &lt;security:authentication-provider user-service-ref=&quot;uriEncodedClientUserDetailsService&quot;/&gt;--&gt;\r\n&lt;/security:authentication-manager&gt;\r\n```","title":"Spring Security UserDetailsService must be set Error","body":"<p>Using XML config:</p>\n<pre><code>&lt;security:authentication-manager id=&quot;clientAuthenticationManager&quot;&gt;\n        &lt;security:authentication-provider ref=&quot;stratusDaoAuthenticationProvider&quot;&gt;&lt;/security:authentication-provider&gt;\n        &lt;security:authentication-provider user-service-ref=&quot;stratusClientUserDetailsService&quot; &gt;\n            &lt;security:password-encoder ref=&quot;delegatePasswordEncoder&quot; /&gt;\n        &lt;/security:authentication-provider&gt;\n        &lt;!-- &lt;security:authentication-provider user-service-ref=&quot;uriEncodedClientUserDetailsService&quot;/&gt;--&gt;\n&lt;/security:authentication-manager&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19536951,"reputation":137,"user_id":14295533,"display_name":"Escapola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652892423,"creation_date":1652892423,"answer_id":72293070,"question_id":44773309,"body_markdown":"Well I faced the same problem \r\n\r\nI had the following UserDetails &amp; UserDetailsService\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserDetailImpl implements UserDetails {\r\n   ...\r\n}\r\n```\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n   ...\r\n}\r\n```\r\n\r\nThe problem was in the `@Component` annotation\r\nSo I just removed it and added the code from the comment [above](https://stackoverflow.com/a/44773811/14295533)","title":"Spring Security UserDetailsService must be set Error","body":"<p>Well I faced the same problem</p>\n<p>I had the following UserDetails &amp; UserDetailsService</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class UserDetailImpl implements UserDetails {\n   ...\n}\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n   ...\n}\n</code></pre>\n<p>The problem was in the <code>@Component</code> annotation\nSo I just removed it and added the code from the comment <a href=\"https://stackoverflow.com/a/44773811/14295533\">above</a></p>\n"}],"owner":{"account_id":6047683,"reputation":397,"user_id":7453591,"accept_rate":43,"display_name":"Илья Белейчев"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9866,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44773811,"answer_count":4,"score":4,"last_activity_date":1652892423,"creation_date":1498543823,"question_id":44773309,"body_markdown":"Just i dont understand, why customUserDetailsService doesn&#39;t autowire\r\nThere are 2 classes i use\r\n\r\n    @Service(&quot;customUserDetailsService&quot;)\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n    private static final Logger log = \r\n    LoggerFactory.getLogger(CustomUserDetailsService.class);\r\n    private UserService userService;\r\n\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public UserDetails loadUserByUsername(String ssoId) throws \r\n    UsernameNotFoundException {\r\n        User user = userService.getUserBySSO(ssoId);\r\n        log.info(&quot;User : {}&quot;, user);\r\n        if (user == null) {\r\n            log.info(&quot;User not found&quot;);\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return new \r\n    org.springframework.security.core.userdetails.User(user.getSsoId(), \r\n    user.getPassword(),\r\n                true, true, true, true, getGrantedAuthorities(user));\r\n    }\r\n\r\n    private List&lt;GrantedAuthority&gt; getGrantedAuthorities(User user) {\r\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n        for (Role role : user.getRoles()) {\r\n            log.info(&quot;UserProfile : {}&quot;, role);\r\n            grantedAuthorities.add(new \r\n    SimpleGrantedAuthority(&quot;ROLE_&quot;+role.getRoleName()));\r\n        }\r\n        log.info(&quot;authorities : {}&quot;, grantedAuthorities);\r\n        return grantedAuthorities;\r\n    }\r\n\r\n    @Autowired\r\n    public void setUserService(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n=================\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @ComponentScan(basePackages = &quot;ru.mightynoobs.springhibernate.security&quot;)\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private UserDetailsService userDetailsService;\r\n\r\n    private PersistentTokenRepository tokenRepository;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;customUserDetailsService&quot;)\r\n    public void setUserDetailsService(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;tokenRepositoryDao&quot;)\r\n    public void setTokenRepository(PersistentTokenRepository tokenRepository) {\r\n        this.tokenRepository = tokenRepository;\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobalSecurity(AuthenticationManagerBuilder authentication) throws Exception {\r\n        authentication.userDetailsService(userDetailsService);\r\n        authentication.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/list&quot;)\r\n                    .access(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;ADMIN&#39;) or hasRole(&#39;DBA&#39;)&quot;)\r\n                .and()\r\n                    .formLogin().loginPage(&quot;/login&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;).usernameParameter(&quot;ssoId&quot;).passwordParameter(&quot;pass\r\n    word&quot;)\r\n                .and()\r\n                    .rememberMe().rememberMeParameter(&quot;remember-\r\n    me&quot;).tokenRepository(tokenRepository)\r\n                    .tokenValiditySeconds(86400)\r\n                .and()\r\n                    .csrf()\r\n                .and()\r\n                    .exceptionHandling().accessDeniedPage(&quot;/access_denied&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public PersistentTokenBasedRememberMeServices \r\n    persistentTokenBasedRememberMeServices() {\r\n        return new PersistentTokenBasedRememberMeServices(&quot;remember-me&quot;, \r\n    userDetailsService, tokenRepository);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationTrustResolver getAuthenticationTrustResolver() {\r\n        return new AuthenticationTrustResolverImpl();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new \r\n    DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n        return daoAuthenticationProvider;\r\n    }\r\n    }\r\n\r\nAnd there is stackTrace\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;springSecurityConfig&#39;: Unsatisfied dependency expressed through method &#39;setUserDetailsService&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through method &#39;setUserService&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ru.mightynoobs.springhibernate.service.user.UserService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4743)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5207)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through method &#39;setUserService&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ru.mightynoobs.springhibernate.service.user.UserService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\t\r\n\r\nPlease explain me, how it&#39;s possible. These classes have the same package, i included this package @ComponentScan annotation. And spring still complains that he cant find @Service Component. There is something easy, but i cant get it. Please help.","title":"Spring Security UserDetailsService must be set Error","body":"<p>Just i dont understand, why customUserDetailsService doesn't autowire\nThere are 2 classes i use</p>\n\n<pre><code>@Service(\"customUserDetailsService\")\npublic class CustomUserDetailsService implements UserDetailsService {\nprivate static final Logger log = \nLoggerFactory.getLogger(CustomUserDetailsService.class);\nprivate UserService userService;\n\n\n@Override\n@Transactional(readOnly = true)\npublic UserDetails loadUserByUsername(String ssoId) throws \nUsernameNotFoundException {\n    User user = userService.getUserBySSO(ssoId);\n    log.info(\"User : {}\", user);\n    if (user == null) {\n        log.info(\"User not found\");\n        throw new UsernameNotFoundException(\"User not found\");\n    }\n    return new \norg.springframework.security.core.userdetails.User(user.getSsoId(), \nuser.getPassword(),\n            true, true, true, true, getGrantedAuthorities(user));\n}\n\nprivate List&lt;GrantedAuthority&gt; getGrantedAuthorities(User user) {\n    List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n    for (Role role : user.getRoles()) {\n        log.info(\"UserProfile : {}\", role);\n        grantedAuthorities.add(new \nSimpleGrantedAuthority(\"ROLE_\"+role.getRoleName()));\n    }\n    log.info(\"authorities : {}\", grantedAuthorities);\n    return grantedAuthorities;\n}\n\n@Autowired\npublic void setUserService(UserService userService) {\n    this.userService = userService;\n}\n</code></pre>\n\n<p>=================</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@ComponentScan(basePackages = \"ru.mightynoobs.springhibernate.security\")\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\nprivate UserDetailsService userDetailsService;\n\nprivate PersistentTokenRepository tokenRepository;\n\n@Autowired\n@Qualifier(\"customUserDetailsService\")\npublic void setUserDetailsService(UserDetailsService userDetailsService) {\n    this.userDetailsService = userDetailsService;\n}\n\n@Autowired\n@Qualifier(\"tokenRepositoryDao\")\npublic void setTokenRepository(PersistentTokenRepository tokenRepository) {\n    this.tokenRepository = tokenRepository;\n}\n\n@Autowired\npublic void configureGlobalSecurity(AuthenticationManagerBuilder authentication) throws Exception {\n    authentication.userDetailsService(userDetailsService);\n    authentication.authenticationProvider(authenticationProvider());\n}\n\n@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.authorizeRequests()\n            .antMatchers(\"/\", \"/list\")\n                .access(\"hasRole('USER') or hasRole('ADMIN') or hasRole('DBA')\")\n            .and()\n                .formLogin().loginPage(\"/login\")\n                .loginProcessingUrl(\"/login\").usernameParameter(\"ssoId\").passwordParameter(\"pass\nword\")\n            .and()\n                .rememberMe().rememberMeParameter(\"remember-\nme\").tokenRepository(tokenRepository)\n                .tokenValiditySeconds(86400)\n            .and()\n                .csrf()\n            .and()\n                .exceptionHandling().accessDeniedPage(\"/access_denied\");\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic PersistentTokenBasedRememberMeServices \npersistentTokenBasedRememberMeServices() {\n    return new PersistentTokenBasedRememberMeServices(\"remember-me\", \nuserDetailsService, tokenRepository);\n}\n\n@Bean\npublic AuthenticationTrustResolver getAuthenticationTrustResolver() {\n    return new AuthenticationTrustResolverImpl();\n}\n\n@Bean\npublic DaoAuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider daoAuthenticationProvider = new \nDaoAuthenticationProvider();\n    daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n    daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n    return daoAuthenticationProvider;\n}\n}\n</code></pre>\n\n<p>And there is stackTrace</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'springSecurityConfig': Unsatisfied dependency expressed through method 'setUserDetailsService' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through method 'setUserService' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'ru.mightynoobs.springhibernate.service.user.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4743)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5207)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\nat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1702)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through method 'setUserService' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'ru.mightynoobs.springhibernate.service.user.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}    \n</code></pre>\n\n<p>Please explain me, how it's possible. These classes have the same package, i included this package @ComponentScan annotation. And spring still complains that he cant find @Service Component. There is something easy, but i cant get it. Please help.</p>\n"},{"tags":["java","string","parsing","int","parseint"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1371074142,"post_id":17076030,"comment_id":24696676,"body_markdown":"Use class `Pattern` or `String#replaceAll(String, String)`.","body":"Use class <code>Pattern</code> or <code>String#replaceAll(String, String)</code>."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1371076518,"post_id":17076030,"comment_id":24697508,"body_markdown":"possible duplicate of [What is the best way to extract this int from a string in Java?](http://stackoverflow.com/questions/9180849/what-is-the-best-way-to-extract-this-int-from-a-string-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9180849/what-is-the-best-way-to-extract-this-int-from-a-string-in-java\">What is the best way to extract this int from a string in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1371074173,"creation_date":1371074173,"answer_id":17076047,"question_id":17076030,"body_markdown":"You can use a regex first:\r\n\r\n    String s = &quot;ksl13 m4n&quot;;\r\n    String clean = s.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;); //remove non-digits\r\n\r\nThen you can use `Integer.parseInt`:\r\n\r\n    int i = Integer.parseInt(clean);\r\n\r\nand `i` will be `134`.","title":"How can I find int values within a string","body":"<p>You can use a regex first:</p>\n\n<pre><code>String s = \"ksl13 m4n\";\nString clean = s.replaceAll(\"\\\\D+\",\"\"); //remove non-digits\n</code></pre>\n\n<p>Then you can use <code>Integer.parseInt</code>:</p>\n\n<pre><code>int i = Integer.parseInt(clean);\n</code></pre>\n\n<p>and <code>i</code> will be <code>134</code>.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371074331,"creation_date":1371074331,"answer_id":17076087,"question_id":17076030,"body_markdown":"If you don&#39;t want to use a regex, you can do something like this:\r\n\r\n    private String buildNumber(String str) {\r\n        StringBuilder strBuilder = new StringBuilder();\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            char ch = str.charAt(i);\r\n            if(Character.isDigit(ch)) \r\n                strBuilder.append(ch);\r\n        }\r\n        return strBuilder.toString();\r\n    }\r\n\r\nThen you can turn it to an `int` using [Integer#parseInt][1].\r\n\r\nSee [StringBuilder][2] and [Character][3] for additional information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html","title":"How can I find int values within a string","body":"<p>If you don't want to use a regex, you can do something like this:</p>\n\n<pre><code>private String buildNumber(String str) {\n    StringBuilder strBuilder = new StringBuilder();\n    for (int i = 0; i &lt; str.length(); i++) {\n        char ch = str.charAt(i);\n        if(Character.isDigit(ch)) \n            strBuilder.append(ch);\n    }\n    return strBuilder.toString();\n}\n</code></pre>\n\n<p>Then you can turn it to an <code>int</code> using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"nofollow\">Integer#parseInt</a>.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\">StringBuilder</a> and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html\" rel=\"nofollow\">Character</a> for additional information.</p>\n"},{"tags":[],"owner":{"account_id":1121685,"reputation":304,"user_id":1109889,"display_name":"Priya Prajapati"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1371119793,"creation_date":1371119793,"answer_id":17084935,"question_id":17076030,"body_markdown":"String str = &quot;ksl13 m4n&quot;;  \r\nString strArray[] = str.split(&quot;\\\\D+&quot;); will give you the array of integer values","title":"How can I find int values within a string","body":"<p>String str = \"ksl13 m4n\";<br>\nString strArray[] = str.split(\"\\D+\"); will give you the array of integer values</p>\n"},{"tags":[],"owner":{"account_id":7101350,"reputation":21,"user_id":5432760,"display_name":"KalingaYapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652892160,"creation_date":1652892160,"answer_id":72293021,"question_id":17076030,"body_markdown":"\r\n        input          output\r\n\r\n        abcd1234        1234\r\n        abcd            0\r\n        123abcd456      123\r\n\r\n only for returning the first sequence of digits available in the string\r\n    \r\n    \r\n    public static int intValueOfString( String strVal) {\r\n        \r\n        char[] charArry= strVal.toCharArray();\r\n        List&lt;Character&gt; myDigitcharList = new ArrayList();\r\n        int isDegitsAvailable = 0;\r\n        \r\n        for (int i = 0 ; i &lt; charArry.length ; i++ ) {\r\n            if (Character.isDigit(strVal.charAt(i))) {\r\n                myDigitcharList.add(charArry[i]);\r\n                isDegitsAvailable++;\r\n            } else {\r\n                \r\n                if (isDegitsAvailable &gt; 0) {\r\n                    break;\r\n                }\r\n                \r\n            }\r\n        }    \r\n        \r\n        StringBuilder sb  = new StringBuilder(&quot;&quot;);\r\n        \r\n        if (myDigitcharList.size() &gt; 0) {\r\n            for (Character x : myDigitcharList) {\r\n                sb.append(x);\r\n            }\r\n            return Integer.valueOf(sb.toString());\r\n        }\r\n        \r\n        return 0; \r\n    } ","title":"How can I find int values within a string","body":"<pre><code>    input          output\n\n    abcd1234        1234\n    abcd            0\n    123abcd456      123\n</code></pre>\n<p>only for returning the first sequence of digits available in the string</p>\n<pre><code>public static int intValueOfString( String strVal) {\n    \n    char[] charArry= strVal.toCharArray();\n    List&lt;Character&gt; myDigitcharList = new ArrayList();\n    int isDegitsAvailable = 0;\n    \n    for (int i = 0 ; i &lt; charArry.length ; i++ ) {\n        if (Character.isDigit(strVal.charAt(i))) {\n            myDigitcharList.add(charArry[i]);\n            isDegitsAvailable++;\n        } else {\n            \n            if (isDegitsAvailable &gt; 0) {\n                break;\n            }\n            \n        }\n    }    \n    \n    StringBuilder sb  = new StringBuilder(&quot;&quot;);\n    \n    if (myDigitcharList.size() &gt; 0) {\n        for (Character x : myDigitcharList) {\n            sb.append(x);\n        }\n        return Integer.valueOf(sb.toString());\n    }\n    \n    return 0; \n} \n</code></pre>\n"}],"owner":{"account_id":2107576,"reputation":899,"user_id":1873549,"accept_rate":55,"display_name":"Fraser Price"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16898,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1652892160,"creation_date":1371074112,"question_id":17076030,"body_markdown":"I have a string, e.g. `&quot;ksl13&lt;br&gt;m4n&quot;`, and I want to remove all non-digit characters in order to get the int 134.\r\n\r\n`Integer.parseInt(s)` obviously isn&#39;t going to work, but not sure how else to go about it.","title":"How can I find int values within a string","body":"<p>I have a string, e.g. <code>\"ksl13&lt;br&gt;m4n\"</code>, and I want to remove all non-digit characters in order to get the int 134.</p>\n\n<p><code>Integer.parseInt(s)</code> obviously isn't going to work, but not sure how else to go about it.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1652889624,"post_id":72292419,"comment_id":127717973,"body_markdown":"Query the table for max value `select max(user_id) from database_user`  I&#39;m sure there&#39;s an internal sequence you could query as well, but accessing that might trigger an increment.","body":"Query the table for max value <code>select max(user_id) from database_user</code>  I&#39;m sure there&#39;s an internal sequence you could query as well, but accessing that might trigger an increment."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652890036,"post_id":72292419,"comment_id":127718142,"body_markdown":"what error you are getting?","body":"what error you are getting?"},{"owner":{"account_id":20426118,"reputation":197,"user_id":15070339,"display_name":"Andrei0408"},"score":0,"creation_date":1652891291,"post_id":72292419,"comment_id":127718674,"body_markdown":"@AshishPatil ```java.sql.SQLDataException: wrong row position```","body":"@AshishPatil <code>java.sql.SQLDataException: wrong row position</code>"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1652891547,"post_id":72292419,"comment_id":127718769,"body_markdown":"*How can I successfully get the last autoincremented value from the general table?* Overall value or one within current connection?","body":"<i>How can I successfully get the last autoincremented value from the general table?</i> Overall value or one within current connection?"},{"owner":{"account_id":20426118,"reputation":197,"user_id":15070339,"display_name":"Andrei0408"},"score":0,"creation_date":1652891631,"post_id":72292419,"comment_id":127718806,"body_markdown":"@Akina the one for the user that&#39;s just been added, because each time a user is added to the general table it will also be added to one of the 2 specific tables","body":"@Akina the one for the user that&#39;s just been added, because each time a user is added to the general table it will also be added to one of the 2 specific tables"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1652891634,"post_id":72292419,"comment_id":127718808,"body_markdown":"*If I try to create a new user, the user is added in the database_user correctly, but throws the error &quot;wrong row position&quot; when trying to store it in the &quot;database_client&quot; as well.* You must not retrieve &quot;last&quot; AI value but select actual value from the table using known row values as conditions.","body":"<i>If I try to create a new user, the user is added in the database_user correctly, but throws the error &quot;wrong row position&quot; when trying to store it in the &quot;database_client&quot; as well.</i> You must not retrieve &quot;last&quot; AI value but select actual value from the table using known row values as conditions."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1652891719,"post_id":72292419,"comment_id":127718846,"body_markdown":"*for the user that&#39;s just been added* This means &quot;in the connection&quot;. You may use `SELECT LAST_INSERT_ID();` if you insert only one row for the user.","body":"<i>for the user that&#39;s just been added</i> This means &quot;in the connection&quot;. You may use <code>SELECT LAST_INSERT_ID();</code> if you insert only one row for the user."},{"owner":{"account_id":20426118,"reputation":197,"user_id":15070339,"display_name":"Andrei0408"},"score":0,"creation_date":1652891933,"post_id":72292419,"comment_id":127718922,"body_markdown":"I&#39;ve also tried using @Ryan&#39;s suggestion but I&#39;m probably not doing it correctly because I&#39;m getting the same error","body":"I&#39;ve also tried using @Ryan&#39;s suggestion but I&#39;m probably not doing it correctly because I&#39;m getting the same error"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1653065720,"post_id":72292419,"comment_id":127768404,"body_markdown":"Please post text results of SHOW CREATE TABLE tblname; for all 3 tables and we will probably see your definition error.","body":"Please post text results of SHOW CREATE TABLE tblname; for all 3 tables and we will probably see your definition error."}],"owner":{"account_id":20426118,"reputation":197,"user_id":15070339,"display_name":"Andrei0408"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652891871,"creation_date":1652889386,"question_id":72292419,"body_markdown":"I&#39;m working on a javafx project where a user can register as either a driver or a client. For this, I created 3 tables in a mysql database, a general one for all users and 2 specific ones for the drivers and the clients. When a new user registers he is placed in the ```database_user``` table and, depending on his selected role, he is also placed in either ```database_client``` or ```database_driver```. The problem is that the specific tables should have a column storing the primary key value (autoincrement value) from the general table, for easier communication. \r\n```\r\npublic static void registerClient(ActionEvent event, String username, String password, String role, String name, int age, String gender, String email)\r\n    {\r\n        /*\r\n          these variables are the connections to the mysql database\r\n          */\r\n\r\n        Connection connection = null;\r\n        PreparedStatement psInsert = null;\r\n        PreparedStatement psInsertClient = null;\r\n        PreparedStatement psCheckUserAlreadyExists = null;\r\n        //PreparedStatement psCheckEmailAlreadyUsed = null;\r\n        ResultSet resultSet = null;\r\n\r\n        try{\r\n            /*\r\n              this will attempt to establish a connection with the db\r\n              */\r\n\r\n            connection = DriverManager.getConnection(&quot;jdbc:mariadb://lazarov.go.ro:3306/RideShare&quot;, &quot;root&quot;, &quot;chocolate&quot;);\r\n            psCheckUserAlreadyExists = connection.prepareStatement(&quot;SELECT * FROM database_user WHERE username = ?&quot;);\r\n            psCheckUserAlreadyExists.setString(1, username);\r\n            //psCheckEmailAlreadyUsed = connection.prepareStatement(&quot;SELECT * FROM user_database WHERE email = ? &quot;);\r\n            //psCheckEmailAlreadyUsed.setString(7, email);\r\n            resultSet = psCheckUserAlreadyExists.executeQuery();\r\n\r\n            /*\r\n              check if the resultSet is empty\r\n              if true =&gt; username already taken =&gt; notify user about this\r\n             */\r\n\r\n            if(resultSet.isBeforeFirst())\r\n            {\r\n                System.out.println(&quot;Username already taken!&quot;);\r\n                Alert alert = new Alert(Alert.AlertType.ERROR);\r\n                alert.setContentText(&quot;User already exists!&quot;);\r\n                alert.showAndWait();\r\n            }\r\n            else\r\n            {\r\n                psInsert = connection.prepareStatement(&quot;INSERT INTO database_user (username, password, role, name, age, gender, email) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;);\r\n                psInsert.setString(1, username);\r\n                psInsert.setString(2, password);\r\n                psInsert.setString(3, role);\r\n                psInsert.setString(4, name);\r\n                psInsert.setInt(5, age);\r\n                psInsert.setString(6, gender);\r\n                psInsert.setString(7, email);\r\n                psInsert.executeUpdate();\r\n                \r\n                ResultSet rs = null;\r\n                psInsert = connection.prepareStatement(&quot;SELECT max(user_id) FROM database_user&quot;);\r\n                rs = psInsert.executeQuery();\r\n                // driver specific\r\n                int userId = resultSet.getInt(&quot;max(user_id)&quot;); // this is where the error occurs\r\n\r\n                //Connection connectionDriver = null;\r\n\r\n\r\n                psInsertClient = connection.prepareStatement(&quot;INSERT INTO database_client (user_id, ride_requested, location, destination, corresponding_driver_id) VALUES (?, ?, ?, ?, ?)&quot;);\r\n                psInsertClient.setInt(1, userId);\r\n                psInsertClient.setBoolean(2, false);\r\n                psInsertClient.setString(3, null);\r\n                psInsertClient.setString(4, null);\r\n                psInsertClient.setInt(5, 0);\r\n\r\n                changeScene(event, &quot;client.fxml&quot;, &quot;RideShare - Client&quot;, username, role, name, age, gender, email);\r\n            }\r\n        }catch (SQLException e)\r\n        {\r\n            e.printStackTrace();\r\n        }finally {\r\n            /*\r\n              close db connections to avoid memory leaks\r\n              */\r\n\r\n            if(resultSet != null)\r\n            {\r\n                try{\r\n                    resultSet.close();\r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if(psCheckUserAlreadyExists != null)\r\n            {\r\n                try{\r\n                    psCheckUserAlreadyExists.close();\r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if(psInsert != null)\r\n            {\r\n                try {\r\n                    psInsert.close();\r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if(psInsertClient != null)\r\n            {\r\n                try {\r\n                    psInsertClient.close();\r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if(connection != null)\r\n            {\r\n                try{\r\n                    connection.close();\r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nIf I try to create a new user, the user is added in the ```database_user``` correctly, but throws the error &quot;wrong row position&quot; when trying to store it in the &quot;database_client&quot; as well. How can I successfully get the last autoincremented value from the general table?","title":"How to get last auto increment value in mysql table?","body":"<p>I'm working on a javafx project where a user can register as either a driver or a client. For this, I created 3 tables in a mysql database, a general one for all users and 2 specific ones for the drivers and the clients. When a new user registers he is placed in the <code>database_user</code> table and, depending on his selected role, he is also placed in either <code>database_client</code> or <code>database_driver</code>. The problem is that the specific tables should have a column storing the primary key value (autoincrement value) from the general table, for easier communication.</p>\n<pre><code>public static void registerClient(ActionEvent event, String username, String password, String role, String name, int age, String gender, String email)\n    {\n        /*\n          these variables are the connections to the mysql database\n          */\n\n        Connection connection = null;\n        PreparedStatement psInsert = null;\n        PreparedStatement psInsertClient = null;\n        PreparedStatement psCheckUserAlreadyExists = null;\n        //PreparedStatement psCheckEmailAlreadyUsed = null;\n        ResultSet resultSet = null;\n\n        try{\n            /*\n              this will attempt to establish a connection with the db\n              */\n\n            connection = DriverManager.getConnection(&quot;jdbc:mariadb://lazarov.go.ro:3306/RideShare&quot;, &quot;root&quot;, &quot;chocolate&quot;);\n            psCheckUserAlreadyExists = connection.prepareStatement(&quot;SELECT * FROM database_user WHERE username = ?&quot;);\n            psCheckUserAlreadyExists.setString(1, username);\n            //psCheckEmailAlreadyUsed = connection.prepareStatement(&quot;SELECT * FROM user_database WHERE email = ? &quot;);\n            //psCheckEmailAlreadyUsed.setString(7, email);\n            resultSet = psCheckUserAlreadyExists.executeQuery();\n\n            /*\n              check if the resultSet is empty\n              if true =&gt; username already taken =&gt; notify user about this\n             */\n\n            if(resultSet.isBeforeFirst())\n            {\n                System.out.println(&quot;Username already taken!&quot;);\n                Alert alert = new Alert(Alert.AlertType.ERROR);\n                alert.setContentText(&quot;User already exists!&quot;);\n                alert.showAndWait();\n            }\n            else\n            {\n                psInsert = connection.prepareStatement(&quot;INSERT INTO database_user (username, password, role, name, age, gender, email) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;);\n                psInsert.setString(1, username);\n                psInsert.setString(2, password);\n                psInsert.setString(3, role);\n                psInsert.setString(4, name);\n                psInsert.setInt(5, age);\n                psInsert.setString(6, gender);\n                psInsert.setString(7, email);\n                psInsert.executeUpdate();\n                \n                ResultSet rs = null;\n                psInsert = connection.prepareStatement(&quot;SELECT max(user_id) FROM database_user&quot;);\n                rs = psInsert.executeQuery();\n                // driver specific\n                int userId = resultSet.getInt(&quot;max(user_id)&quot;); // this is where the error occurs\n\n                //Connection connectionDriver = null;\n\n\n                psInsertClient = connection.prepareStatement(&quot;INSERT INTO database_client (user_id, ride_requested, location, destination, corresponding_driver_id) VALUES (?, ?, ?, ?, ?)&quot;);\n                psInsertClient.setInt(1, userId);\n                psInsertClient.setBoolean(2, false);\n                psInsertClient.setString(3, null);\n                psInsertClient.setString(4, null);\n                psInsertClient.setInt(5, 0);\n\n                changeScene(event, &quot;client.fxml&quot;, &quot;RideShare - Client&quot;, username, role, name, age, gender, email);\n            }\n        }catch (SQLException e)\n        {\n            e.printStackTrace();\n        }finally {\n            /*\n              close db connections to avoid memory leaks\n              */\n\n            if(resultSet != null)\n            {\n                try{\n                    resultSet.close();\n                }catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            if(psCheckUserAlreadyExists != null)\n            {\n                try{\n                    psCheckUserAlreadyExists.close();\n                }catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            if(psInsert != null)\n            {\n                try {\n                    psInsert.close();\n                }catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            if(psInsertClient != null)\n            {\n                try {\n                    psInsertClient.close();\n                }catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            if(connection != null)\n            {\n                try{\n                    connection.close();\n                }catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>If I try to create a new user, the user is added in the <code>database_user</code> correctly, but throws the error &quot;wrong row position&quot; when trying to store it in the &quot;database_client&quot; as well. How can I successfully get the last autoincremented value from the general table?</p>\n"},{"tags":["java","csv","jackson","immutables-library"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652891558,"creation_date":1652891558,"answer_id":72292904,"question_id":72273286,"body_markdown":"You can use a [`MappingIterator`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/MappingIterator.html) to deserialize your csv to a `Map&lt;String, String&gt;`. If you use your csv:\r\n\r\n~~~\r\nName,Age,Height,Item1,Item2,Item3,Item4,Item5\r\nAB,1,1.123,ABC,DEF,GHI,JKL,MNO\r\n~~~\r\n\r\nYou can define a `CsvSchema` schema that uses first row as a header and instantiates a new `MappingIterator` iterator from your `CsvMapper` mapper:\r\n\r\n~~~\r\nCsvMapper mapper = new CsvMapper();\r\n// use first row as header\r\nCsvSchema schema = CsvSchema.emptySchema().withHeader();\r\nMappingIterator&lt;Map&lt;String, String&gt;&gt; it = mapper.readerFor(Map.class)\r\n        .with(schema)\r\n        .readValues(csv);\r\n~~~\r\n\r\nSo you can read your data row and convert it to a `Map&lt;String, String&gt;` map removing the unwanted columns:\r\n\r\n~~~\r\nCsvMapper mapper = new CsvMapper();\r\nCsvSchema schema = CsvSchema.emptySchema().withHeader();\r\nMappingIterator&lt;Map&lt;String, String&gt;&gt; it = mapper.readerFor(Map.class)\r\n        .with(schema)\r\n        .readValues(csv);\r\n        \r\nMap&lt;String, String&gt; items = it.next();\r\nitems.remove(&quot;Name&quot;);\r\nitems.remove(&quot;Age&quot;);\r\nitems.remove(&quot;Height&quot;);\r\n//ok, it prints {Item1=ABC, Item2=DEF, Item3=GHI, Item4=JKL, Item5=MNO}\r\nSystem.out.println(items);\r\n~~~\r\n\r\n","title":"Using Jackson and Immutables to create a Map from certain CSV columns","body":"<p>You can use a <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/MappingIterator.html\" rel=\"nofollow noreferrer\"><code>MappingIterator</code></a> to deserialize your csv to a <code>Map&lt;String, String&gt;</code>. If you use your csv:</p>\n<pre><code>Name,Age,Height,Item1,Item2,Item3,Item4,Item5\nAB,1,1.123,ABC,DEF,GHI,JKL,MNO\n</code></pre>\n<p>You can define a <code>CsvSchema</code> schema that uses first row as a header and instantiates a new <code>MappingIterator</code> iterator from your <code>CsvMapper</code> mapper:</p>\n<pre><code>CsvMapper mapper = new CsvMapper();\n// use first row as header\nCsvSchema schema = CsvSchema.emptySchema().withHeader();\nMappingIterator&lt;Map&lt;String, String&gt;&gt; it = mapper.readerFor(Map.class)\n        .with(schema)\n        .readValues(csv);\n</code></pre>\n<p>So you can read your data row and convert it to a <code>Map&lt;String, String&gt;</code> map removing the unwanted columns:</p>\n<pre><code>CsvMapper mapper = new CsvMapper();\nCsvSchema schema = CsvSchema.emptySchema().withHeader();\nMappingIterator&lt;Map&lt;String, String&gt;&gt; it = mapper.readerFor(Map.class)\n        .with(schema)\n        .readValues(csv);\n        \nMap&lt;String, String&gt; items = it.next();\nitems.remove(&quot;Name&quot;);\nitems.remove(&quot;Age&quot;);\nitems.remove(&quot;Height&quot;);\n//ok, it prints {Item1=ABC, Item2=DEF, Item3=GHI, Item4=JKL, Item5=MNO}\nSystem.out.println(items);\n</code></pre>\n"}],"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652891558,"creation_date":1652787075,"question_id":72273286,"body_markdown":"I have a CSV that I&#39;m parsing through Jackson to create list of immutable type for each row. The CSV has some columns to represent a collection like:\r\n\r\n``` csv\r\nName,Age,Height,Item1,Item2,Item3,Item4,Item5\r\nAB,1,1.123,ABC,DEF,GHI,JKL,MNO\r\n```\r\n\r\nAt present I&#39;m parsing this into the following type:\r\n```java\r\n@Value.Immutable\r\n@JsonSerialize\r\n@JsonDeserialize\r\n@JsonPropertyOrder({&quot;name&quot;,&quot;age&quot;,&quot;height&quot;,&quot;item1&quot;,&quot;item2&quot;,&quot;item3&quot;,&quot;item4&quot;,&quot;item5&quot;})\r\n\r\npublic abstract class Schema {\r\n\r\n    abstract String name();\r\n    abstract int age();\r\n    abstract double height();\r\n\r\n    abstract String item1();\r\n    abstract String item2();\r\n    abstract String item3();\r\n    abstract String item4();\r\n    abstract String item5();\r\n\r\n}\r\n```\r\n\r\nI&#39;m using the csv schema from the immutable class:\r\n```java\r\n        CsvMapper csvMapper = new CsvMapper()\r\n                .enable(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS)\r\n                .enable(CsvParser.Feature.EMPTY_STRING_AS_NULL);\r\n        CsvSchema schema = csvMapper.typedSchemaFor(Schema.class).withHeader();\r\n```\r\n\r\n\r\nThis works fine, however I&#39;d like to make the items into a map, either using their column name or the item number as a key. \r\n\r\n```java \r\n    abstract Map&lt;String, String&gt; items();\r\n//or\r\n    abstract Map&lt;int, String&gt; items();\r\n```\r\n\r\nI can do this by creating a second object that makes a collection, but I was wondering if there&#39;s a way for Jackson/Immutables to do this automatically? Unfortunately I can&#39;t alter the CSV file as its from an external source. \r\n\r\n\r\n**Edit:**\r\nAs a slightly clunky solution, I can create a map using:\r\n\r\n```java\r\n    @Value.Redacted abstract String item1();\r\n    @Value.Redacted abstract String item2();\r\n    @Value.Redacted abstract String item3();\r\n    @Value.Redacted abstract String item4();\r\n    @Value.Redacted abstract String item5();\r\n\r\n    @Value.Derived\r\n    public Map&lt;Integer, String&gt; items() {\r\n        Map&lt;Integer, String&gt; items = new HashMap&lt;&gt;();\r\n        items.put(1, item1());\r\n        items.put(2, item2());\r\n        items.put(3, item3());\r\n        items.put(4, item4());\r\n        items.put(5, item5());\r\n        return items;\r\n    }\r\n```\r\n\r\nThis hides the individual items, but I wonder if there is a more efficient way?","title":"Using Jackson and Immutables to create a Map from certain CSV columns","body":"<p>I have a CSV that I'm parsing through Jackson to create list of immutable type for each row. The CSV has some columns to represent a collection like:</p>\n<pre><code>Name,Age,Height,Item1,Item2,Item3,Item4,Item5\nAB,1,1.123,ABC,DEF,GHI,JKL,MNO\n</code></pre>\n<p>At present I'm parsing this into the following type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value.Immutable\n@JsonSerialize\n@JsonDeserialize\n@JsonPropertyOrder({&quot;name&quot;,&quot;age&quot;,&quot;height&quot;,&quot;item1&quot;,&quot;item2&quot;,&quot;item3&quot;,&quot;item4&quot;,&quot;item5&quot;})\n\npublic abstract class Schema {\n\n    abstract String name();\n    abstract int age();\n    abstract double height();\n\n    abstract String item1();\n    abstract String item2();\n    abstract String item3();\n    abstract String item4();\n    abstract String item5();\n\n}\n</code></pre>\n<p>I'm using the csv schema from the immutable class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        CsvMapper csvMapper = new CsvMapper()\n                .enable(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS)\n                .enable(CsvParser.Feature.EMPTY_STRING_AS_NULL);\n        CsvSchema schema = csvMapper.typedSchemaFor(Schema.class).withHeader();\n</code></pre>\n<p>This works fine, however I'd like to make the items into a map, either using their column name or the item number as a key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    abstract Map&lt;String, String&gt; items();\n//or\n    abstract Map&lt;int, String&gt; items();\n</code></pre>\n<p>I can do this by creating a second object that makes a collection, but I was wondering if there's a way for Jackson/Immutables to do this automatically? Unfortunately I can't alter the CSV file as its from an external source.</p>\n<p><strong>Edit:</strong>\nAs a slightly clunky solution, I can create a map using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value.Redacted abstract String item1();\n    @Value.Redacted abstract String item2();\n    @Value.Redacted abstract String item3();\n    @Value.Redacted abstract String item4();\n    @Value.Redacted abstract String item5();\n\n    @Value.Derived\n    public Map&lt;Integer, String&gt; items() {\n        Map&lt;Integer, String&gt; items = new HashMap&lt;&gt;();\n        items.put(1, item1());\n        items.put(2, item2());\n        items.put(3, item3());\n        items.put(4, item4());\n        items.put(5, item5());\n        return items;\n    }\n</code></pre>\n<p>This hides the individual items, but I wonder if there is a more efficient way?</p>\n"},{"tags":["javascript","java","reverse-engineering","deepl"],"comments":[{"owner":{"account_id":1840235,"reputation":4147,"user_id":1712343,"accept_rate":89,"display_name":"nvioli"},"score":2,"creation_date":1557758260,"post_id":56114463,"comment_id":98862752,"body_markdown":"Have you signed up and gotten an authentication key? According to their docs, you&#39;ll need to send the key with each request: https://www.deepl.com/docs-api.html?part=accessing","body":"Have you signed up and gotten an authentication key? According to their docs, you&#39;ll need to send the key with each request: <a href=\"https://www.deepl.com/docs-api.html?part=accessing\" rel=\"nofollow noreferrer\">deepl.com/docs-api.html?part=accessing</a>"},{"owner":{"account_id":7243308,"reputation":134,"user_id":9139601,"display_name":"Celsius"},"score":0,"creation_date":1557758375,"post_id":56114463,"comment_id":98862834,"body_markdown":"No, I wanna use the free version, like it&#39;s working on their website (https://www.deepl.com/translator). Before, you could just request it like Emilio says here: https://stackoverflow.com/questions/45937616/using-deepl-api-to-translate-text","body":"No, I wanna use the free version, like it&#39;s working on their website (<a href=\"https://www.deepl.com/translator\" rel=\"nofollow noreferrer\">deepl.com/translator</a>). Before, you could just request it like Emilio says here: <a href=\"https://stackoverflow.com/questions/45937616/using-deepl-api-to-translate-text\" title=\"using deepl api to translate text\">stackoverflow.com/questions/45937616/&hellip;</a>"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1557758878,"post_id":56114463,"comment_id":98863091,"body_markdown":"@Celsius someone commented on that answer over a year ago to say it had stopped working....tbh it makes sense if they released a proper API and commercial version that older ways would stop working. Maybe you should contact their support to see if this jsonrpc service is actually still supported or not, or whether you need an auth key. See also https://www.deepl.com/docs-api.html?part=accessing","body":"@Celsius someone commented on that answer over a year ago to say it had stopped working....tbh it makes sense if they released a proper API and commercial version that older ways would stop working. Maybe you should contact their support to see if this jsonrpc service is actually still supported or not, or whether you need an auth key. See also <a href=\"https://www.deepl.com/docs-api.html?part=accessing\" rel=\"nofollow noreferrer\">deepl.com/docs-api.html?part=accessing</a>"},{"owner":{"account_id":7243308,"reputation":134,"user_id":9139601,"display_name":"Celsius"},"score":0,"creation_date":1557759913,"post_id":56114463,"comment_id":98863698,"body_markdown":"I&#39;m asking here because I found no solution, just like the person who wrote the comment. And it has to work somehow, else their website (deepl.com/translator) wouldn&#39;t work. But I&#39;m not sure what does the trick.","body":"I&#39;m asking here because I found no solution, just like the person who wrote the comment. And it has to work somehow, else their website (deepl.com/translator) wouldn&#39;t work. But I&#39;m not sure what does the trick."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":2,"creation_date":1557781490,"post_id":56114463,"comment_id":98872823,"body_markdown":"I agree it&#39;s unclear what the difference is. I tried to make an identical request via PostMan and got the same 429 response. I would guess that the issue is something to do with the session cookies perhaps, but it&#39;s unclear how exactly it knows that the request is coming from its own page and not from an imitator. But what I would imagine is that, now they have a paid-for API, it will hurt their business to have everyone freeloading off this URL, and therefore they will have worked very hard on preventing unauthorised access to it.","body":"I agree it&#39;s unclear what the difference is. I tried to make an identical request via PostMan and got the same 429 response. I would guess that the issue is something to do with the session cookies perhaps, but it&#39;s unclear how exactly it knows that the request is coming from its own page and not from an imitator. But what I would imagine is that, now they have a paid-for API, it will hurt their business to have everyone freeloading off this URL, and therefore they will have worked very hard on preventing unauthorised access to it."},{"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"score":2,"creation_date":1567770869,"post_id":56114463,"comment_id":102073051,"body_markdown":"I used Google Chrome to inspect the request and I noticed that an &quot;id&quot; parameter is sent by your navigator. If I use Chrome&#39;s debugger to create a cURL command line request and execute it in a shell, it works. If I change the sent &quot;id&quot; and put a random value then I get the &quot;Too many requests&quot; response too. So I imagine that the JS that makes the request recieves a valid &quot;id&quot; value from the web page. This is quite normal because they don&#39;t want people to bypass their API. By the way, I have now been blacklisted by deepl for a while :-/","body":"I used Google Chrome to inspect the request and I noticed that an &quot;id&quot; parameter is sent by your navigator. If I use Chrome&#39;s debugger to create a cURL command line request and execute it in a shell, it works. If I change the sent &quot;id&quot; and put a random value then I get the &quot;Too many requests&quot; response too. So I imagine that the JS that makes the request recieves a valid &quot;id&quot; value from the web page. This is quite normal because they don&#39;t want people to bypass their API. By the way, I have now been blacklisted by deepl for a while :-/"}],"answers":[{"tags":[],"owner":{"account_id":9843048,"reputation":442,"user_id":7291511,"display_name":"Jeff Blumenthal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652891118,"creation_date":1652891118,"answer_id":72292809,"question_id":56114463,"body_markdown":"I can&#39;t tell the length of the text items you are trying to translate, but I had to send in groups of text of max 1000 at a time. Also I have a subscription and not using the free side. ","title":"How to request a translation from deepl at the moment?","body":"<p>I can't tell the length of the text items you are trying to translate, but I had to send in groups of text of max 1000 at a time. Also I have a subscription and not using the free side.</p>\n"}],"owner":{"account_id":7243308,"reputation":134,"user_id":9139601,"display_name":"Celsius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5766,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1652891118,"creation_date":1557757697,"question_id":56114463,"body_markdown":"Since DeepL updated their API which also their website (https://www.deepl.com/translator) uses, an error appears when you&#39;re requesting a translation via Java or Python. It says &quot;Too many requests.&quot; A year ago the answer here (https://stackoverflow.com/questions/45937616/using-deepl-api-to-translate-text) from EmilioK worked.\r\n\r\nBecause of their update, the API URL changed to &quot;https://www2.deepl.com/jsonrpc&quot;. But the response is `{&quot;jsonrpc&quot;: &quot;2.0&quot;,&quot;error&quot;:{&quot;code&quot;:1042901,&quot;message&quot;:&quot;Too many requests.&quot;}}`. Translating via the website works, so they seem to have implemented a background check. I already tried to debug their JavaScript code, but I don&#39;t understand what I&#39;m doing wrong. At last I tried to re-build the requests by analysing the network traffic from the homepage. Didn&#39;t work either.\r\nBesides, it seems like others are having the same problem (https://github.com/EmilioK97/pydeepl/issues/12, https://github.com/vsetka/deepl-translator/issues/9).\r\n\r\nI used Java 8 with the Apache HttpClient 4.5.8:\r\n\r\n\r\n    private static final String BASE_URL = &quot;https://www2.deepl.com/jsonrpc&quot;;\r\n    private static AtomicInteger requestId = new AtomicInteger(10000 * (int) Math.round(10000 * Math.random()));\r\n    private static final CloseableHttpClient HTTP_CLIENT = HttpClients.createDefault();\r\n\r\n    public void example() {\r\n        HttpResponse httpResponse = HTTP_CLIENT.execute(generateRequest(&quot;Hello&quot;, &quot;EN&quot;, &quot;DE&quot;), getContext());\r\n        JSONObject response = new JSONObject(EntityUtils.toString(httpResponse.getEntity()));\r\n        System.out.println(response.toString());\r\n    }\r\n\r\n    HttpContext getContext() {\r\n        CookieStore cookieStore = new BasicCookieStore();\r\n        BasicClientCookie cookie = new BasicClientCookie(&quot;LMTBID&quot;, &quot;3389513b-e369-4810-a2f3-73b9405e0b0d|403992a1240e1eca6c6e98b428849a3c&quot;);\r\n\r\n        cookie.setDomain(&quot;.deepl.com&quot;);\r\n        cookie.setPath(&quot;/&quot;);\r\n        cookie.setAttribute(ClientCookie.DOMAIN_ATTR, &quot;true&quot;);\r\n\r\n        cookieStore.addCookie(cookie);\r\n        HttpContext localContext = new BasicHttpContext();\r\n        localContext.setAttribute(HttpClientContext.COOKIE_STORE, cookieStore);\r\n\r\n        return localContext;\r\n    }\r\n\r\n    HttpPost generateRequest(String text, String from, String to) {\r\n        HttpPost request = new HttpPost(BASE_URL);\r\n        StringEntity params = new StringEntity(getJsonRequest(text, from, to).toString(), StandardCharsets.UTF_8);\r\n\r\n        request.addHeader(HttpHeaders.HOST, &quot;www2.deepl.com&quot;);\r\n        request.addHeader(HttpHeaders.USER_AGENT, &quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:66.0) Gecko/20100101 Firefox/66.0&quot;);\r\n        request.addHeader(HttpHeaders.ACCEPT, &quot;*/*&quot;);\r\n        request.addHeader(HttpHeaders.ACCEPT_LANGUAGE, &quot;de,en-US;q=0.7,en;q=0.3&quot;);\r\n        request.addHeader(HttpHeaders.ACCEPT_ENCODING, &quot;gzip, deflate, br&quot;);\r\n        request.addHeader(HttpHeaders.REFERER, &quot;https://www.deepl.com/translator&quot;);\r\n        request.addHeader(HttpHeaders.CONTENT_TYPE, &quot;text/plain&quot;);\r\n        request.addHeader(HttpHeaders.CONNECTION, &quot;keep-alive&quot;);\r\n        request.addHeader(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\r\n        request.addHeader(&quot;Origin&quot;, &quot;https://www.deepl.com&quot;);\r\n        request.addHeader(&quot;DNT&quot;, &quot;1&quot;);\r\n        request.addHeader(&quot;TE&quot;, &quot;Trailers&quot;);\r\n\r\n        request.setEntity(params);\r\n        request.setConfig(requestConfig);\r\n\r\n        return request;\r\n    }\r\n\r\n    private static JSONObject getJsonRequest(String text, String from, String to) {\r\n        JSONObject send = new JSONObject();\r\n        send.put(&quot;id&quot;, requestId.incrementAndGet());\r\n        send.put(&quot;jsonrpc&quot;, &quot;2.0&quot;);\r\n        send.put(&quot;method&quot;, &quot;LMT_handle_jobs&quot;);\r\n\r\n        JSONObject paramsObject = new JSONObject();\r\n\r\n        JSONArray jobsArray = new JSONArray();\r\n\r\n        JSONObject jobsObject = new JSONObject();\r\n        jobsObject.put(&quot;kind&quot;, &quot;default&quot;);\r\n        jobsObject.put(&quot;quality&quot;, &quot;fast&quot;);\r\n        jobsObject.put(&quot;raw_en_context_after&quot;, new JSONArray());\r\n        jobsObject.put(&quot;raw_en_context_before&quot;, new JSONArray());\r\n        jobsObject.put(&quot;raw_en_sentence&quot;, text);\r\n\r\n        jobsArray.put(jobsObject);\r\n\r\n        JSONObject langObject = new JSONObject();\r\n\r\n        JSONArray userPreferredLangsArray = new JSONArray();\r\n        userPreferredLangsArray.put(to);\r\n        userPreferredLangsArray.put(from);\r\n\r\n        langObject.put(&quot;source_lang_user_selected&quot;, from.getLanguageCode());\r\n        langObject.put(&quot;target_lang&quot;, to);\r\n        langObject.put(&quot;user_preferred_langs&quot;, userPreferredLangsArray);\r\n\r\n        paramsObject.put(&quot;jobs&quot;, jobsArray);\r\n        paramsObject.put(&quot;lang&quot;, langObject);\r\n        paramsObject.put(&quot;priority&quot;, -1);\r\n        paramsObject.put(&quot;timestamp&quot;, System.currentTimeMillis());\r\n\r\n        send.put(&quot;params&quot;, paramsObject);\r\n\r\n        return send;\r\n    }\r\n\r\n\r\nThe result should look like this, but I don&#39;t remember exactly:\r\n\r\n`{&quot;result&quot;:{&quot;source_lang&quot;:&quot;EN&quot;,&quot;target_lang&quot;:&quot;DE&quot;,&quot;translations&quot;:[{&quot;beams&quot;:[{&quot;postprocessed_sentence&quot;:&quot;Hallo&quot;,&quot;score&quot;:0.5,&quot;totalLogProb&quot;:0.3,&quot;num_symbols&quot;:1},{&quot;postprocessed_sentence&quot;:&quot;Guten Tag&quot;,&quot;score&quot;:0.3,&quot;totalLogProb&quot;:0.7,&quot;num_symbols&quot;:2}]}]}}`\r\n\r\n\r\n","title":"How to request a translation from deepl at the moment?","body":"<p>Since DeepL updated their API which also their website (<a href=\"https://www.deepl.com/translator\" rel=\"nofollow noreferrer\">https://www.deepl.com/translator</a>) uses, an error appears when you're requesting a translation via Java or Python. It says \"Too many requests.\" A year ago the answer here (<a href=\"https://stackoverflow.com/questions/45937616/using-deepl-api-to-translate-text\">Using DeepL API to translate text</a>) from EmilioK worked.</p>\n\n<p>Because of their update, the API URL changed to \"<a href=\"https://www2.deepl.com/jsonrpc\" rel=\"nofollow noreferrer\">https://www2.deepl.com/jsonrpc</a>\". But the response is <code>{\"jsonrpc\": \"2.0\",\"error\":{\"code\":1042901,\"message\":\"Too many requests.\"}}</code>. Translating via the website works, so they seem to have implemented a background check. I already tried to debug their JavaScript code, but I don't understand what I'm doing wrong. At last I tried to re-build the requests by analysing the network traffic from the homepage. Didn't work either.\nBesides, it seems like others are having the same problem (<a href=\"https://github.com/EmilioK97/pydeepl/issues/12\" rel=\"nofollow noreferrer\">https://github.com/EmilioK97/pydeepl/issues/12</a>, <a href=\"https://github.com/vsetka/deepl-translator/issues/9\" rel=\"nofollow noreferrer\">https://github.com/vsetka/deepl-translator/issues/9</a>).</p>\n\n<p>I used Java 8 with the Apache HttpClient 4.5.8:</p>\n\n<pre><code>private static final String BASE_URL = \"https://www2.deepl.com/jsonrpc\";\nprivate static AtomicInteger requestId = new AtomicInteger(10000 * (int) Math.round(10000 * Math.random()));\nprivate static final CloseableHttpClient HTTP_CLIENT = HttpClients.createDefault();\n\npublic void example() {\n    HttpResponse httpResponse = HTTP_CLIENT.execute(generateRequest(\"Hello\", \"EN\", \"DE\"), getContext());\n    JSONObject response = new JSONObject(EntityUtils.toString(httpResponse.getEntity()));\n    System.out.println(response.toString());\n}\n\nHttpContext getContext() {\n    CookieStore cookieStore = new BasicCookieStore();\n    BasicClientCookie cookie = new BasicClientCookie(\"LMTBID\", \"3389513b-e369-4810-a2f3-73b9405e0b0d|403992a1240e1eca6c6e98b428849a3c\");\n\n    cookie.setDomain(\".deepl.com\");\n    cookie.setPath(\"/\");\n    cookie.setAttribute(ClientCookie.DOMAIN_ATTR, \"true\");\n\n    cookieStore.addCookie(cookie);\n    HttpContext localContext = new BasicHttpContext();\n    localContext.setAttribute(HttpClientContext.COOKIE_STORE, cookieStore);\n\n    return localContext;\n}\n\nHttpPost generateRequest(String text, String from, String to) {\n    HttpPost request = new HttpPost(BASE_URL);\n    StringEntity params = new StringEntity(getJsonRequest(text, from, to).toString(), StandardCharsets.UTF_8);\n\n    request.addHeader(HttpHeaders.HOST, \"www2.deepl.com\");\n    request.addHeader(HttpHeaders.USER_AGENT, \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:66.0) Gecko/20100101 Firefox/66.0\");\n    request.addHeader(HttpHeaders.ACCEPT, \"*/*\");\n    request.addHeader(HttpHeaders.ACCEPT_LANGUAGE, \"de,en-US;q=0.7,en;q=0.3\");\n    request.addHeader(HttpHeaders.ACCEPT_ENCODING, \"gzip, deflate, br\");\n    request.addHeader(HttpHeaders.REFERER, \"https://www.deepl.com/translator\");\n    request.addHeader(HttpHeaders.CONTENT_TYPE, \"text/plain\");\n    request.addHeader(HttpHeaders.CONNECTION, \"keep-alive\");\n    request.addHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    request.addHeader(\"Origin\", \"https://www.deepl.com\");\n    request.addHeader(\"DNT\", \"1\");\n    request.addHeader(\"TE\", \"Trailers\");\n\n    request.setEntity(params);\n    request.setConfig(requestConfig);\n\n    return request;\n}\n\nprivate static JSONObject getJsonRequest(String text, String from, String to) {\n    JSONObject send = new JSONObject();\n    send.put(\"id\", requestId.incrementAndGet());\n    send.put(\"jsonrpc\", \"2.0\");\n    send.put(\"method\", \"LMT_handle_jobs\");\n\n    JSONObject paramsObject = new JSONObject();\n\n    JSONArray jobsArray = new JSONArray();\n\n    JSONObject jobsObject = new JSONObject();\n    jobsObject.put(\"kind\", \"default\");\n    jobsObject.put(\"quality\", \"fast\");\n    jobsObject.put(\"raw_en_context_after\", new JSONArray());\n    jobsObject.put(\"raw_en_context_before\", new JSONArray());\n    jobsObject.put(\"raw_en_sentence\", text);\n\n    jobsArray.put(jobsObject);\n\n    JSONObject langObject = new JSONObject();\n\n    JSONArray userPreferredLangsArray = new JSONArray();\n    userPreferredLangsArray.put(to);\n    userPreferredLangsArray.put(from);\n\n    langObject.put(\"source_lang_user_selected\", from.getLanguageCode());\n    langObject.put(\"target_lang\", to);\n    langObject.put(\"user_preferred_langs\", userPreferredLangsArray);\n\n    paramsObject.put(\"jobs\", jobsArray);\n    paramsObject.put(\"lang\", langObject);\n    paramsObject.put(\"priority\", -1);\n    paramsObject.put(\"timestamp\", System.currentTimeMillis());\n\n    send.put(\"params\", paramsObject);\n\n    return send;\n}\n</code></pre>\n\n<p>The result should look like this, but I don't remember exactly:</p>\n\n<p><code>{\"result\":{\"source_lang\":\"EN\",\"target_lang\":\"DE\",\"translations\":[{\"beams\":[{\"postprocessed_sentence\":\"Hallo\",\"score\":0.5,\"totalLogProb\":0.3,\"num_symbols\":1},{\"postprocessed_sentence\":\"Guten Tag\",\"score\":0.3,\"totalLogProb\":0.7,\"num_symbols\":2}]}]}}</code></p>\n"},{"tags":["java","android","android-fragments","android-context","android-popupwindow"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1652824942,"post_id":72281047,"comment_id":127699146,"body_markdown":"Nothing to do with a stale `Context`, or anything. That stack trace is saying that the `EditText` is trying to show a `PopupWindow` of its own, but you can&#39;t show one `PopupWindow` from another `PopupWindow`. They expect to be anchored to a `Window` – i.e., an `Activity` or a `Dialog` – and I don&#39;t think that there&#39;s anyway around that. The last time I encountered such a question, I think we ended up adapting their `PopupWindow` setup to use a `Dialog` instead.","body":"Nothing to do with a stale <code>Context</code>, or anything. That stack trace is saying that the <code>EditText</code> is trying to show a <code>PopupWindow</code> of its own, but you can&#39;t show one <code>PopupWindow</code> from another <code>PopupWindow</code>. They expect to be anchored to a <code>Window</code> – i.e., an <code>Activity</code> or a <code>Dialog</code> – and I don&#39;t think that there&#39;s anyway around that. The last time I encountered such a question, I think we ended up adapting their <code>PopupWindow</code> setup to use a <code>Dialog</code> instead."},{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1652830501,"post_id":72281047,"comment_id":127700180,"body_markdown":"Have you tried using `getApplicationContext()` instead of `getActivity()`?","body":"Have you tried using <code>getApplicationContext()</code> instead of <code>getActivity()</code>?"},{"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"score":0,"creation_date":1652838146,"post_id":72281047,"comment_id":127701155,"body_markdown":"The crash occurs when I am typing into the edit text. I have a custom popup menu for copy/paste on long click that is anchored to the edit text, but it is never active at the time of crash as far as I am aware. I will disable it nonetheless and see if I can replicate the issue without it @MikeM.","body":"The crash occurs when I am typing into the edit text. I have a custom popup menu for copy/paste on long click that is anchored to the edit text, but it is never active at the time of crash as far as I am aware. I will disable it nonetheless and see if I can replicate the issue without it @MikeM."},{"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"score":0,"creation_date":1652838248,"post_id":72281047,"comment_id":127701167,"body_markdown":"@Mike087 I have in the past. It doesn&#39;t make any noticeable difference though.","body":"@Mike087 I have in the past. It doesn&#39;t make any noticeable difference though."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1652839088,"post_id":72281047,"comment_id":127701262,"body_markdown":"It&#39;s not your popup. It&#39;s coming from the `EditText`&#39;s `Editor`, which is a private helper that handles editing interactions. You could try to prevent them, but the one that&#39;s causing the issue currently – `SuggestionsPopupWindow` – is not the only `PopupWindow` that an `EditText` can show.","body":"It&#39;s not your popup. It&#39;s coming from the <code>EditText</code>&#39;s <code>Editor</code>, which is a private helper that handles editing interactions. You could try to prevent them, but the one that&#39;s causing the issue currently – <code>SuggestionsPopupWindow</code> – is not the only <code>PopupWindow</code> that an <code>EditText</code> can show."},{"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"score":0,"creation_date":1652845971,"post_id":72281047,"comment_id":127702283,"body_markdown":"@MikeM. That&#39;s very interesting. Thanks for the insight. So then is there no way around the issue without removing the popupWindow? Also, do you know of any resources I could look at to understand this issue better besides documentation?","body":"@MikeM. That&#39;s very interesting. Thanks for the insight. So then is there no way around the issue without removing the popupWindow? Also, do you know of any resources I could look at to understand this issue better besides documentation?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1652846691,"post_id":72281047,"comment_id":127702393,"body_markdown":"Not as far as I know. As mentioned, it would work inside a `Dialog`, and a plain one of those is not really any different than a `PopupWindow`, visually anyway, though positioning and sizing one is a bit different. As for the resources, I don&#39;t know that things like this would be documented anywhere specifically. I&#39;m pretty familiar with how `EditText` works internally, and I&#39;ve run into the `PopupWindow` issue before, so I just knew from experience what the stack trace was saying.","body":"Not as far as I know. As mentioned, it would work inside a <code>Dialog</code>, and a plain one of those is not really any different than a <code>PopupWindow</code>, visually anyway, though positioning and sizing one is a bit different. As for the resources, I don&#39;t know that things like this would be documented anywhere specifically. I&#39;m pretty familiar with how <code>EditText</code> works internally, and I&#39;ve run into the <code>PopupWindow</code> issue before, so I just knew from experience what the stack trace was saying."},{"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"score":0,"creation_date":1652847547,"post_id":72281047,"comment_id":127702523,"body_markdown":"@MikeM. one more question then - if the context isn&#39;t stale or whatever and the issue is due to the Editor, why does it only seem to happen randomly? Everything works smoothly most of the time while I test the issue with erratic typing and editing...until it doesn&#39;t. Is this an instance of the editText popupWindow only launching when it crashes, or is it launching at other points before then as well (just without the crash event)?","body":"@MikeM. one more question then - if the context isn&#39;t stale or whatever and the issue is due to the Editor, why does it only seem to happen randomly? Everything works smoothly most of the time while I test the issue with erratic typing and editing...until it doesn&#39;t. Is this an instance of the editText popupWindow only launching when it crashes, or is it launching at other points before then as well (just without the crash event)?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1652848815,"post_id":72281047,"comment_id":127702751,"body_markdown":"Nah, if it pops, it crashes. There won&#39;t be any silent failures that you&#39;re missing. I&#39;m not sure why you hadn&#39;t come across this earlier. I would&#39;ve thought it&#39;d happen pretty quick in testing. Think about how often any other `EditText` you type in will pop up its little floating menus or selection handles. FWIW, I reproduced it exactly as I was expecting, so I&#39;m fairly certain I&#39;m correct about this: https://i.stack.imgur.com/ijxLc.png.  However, I&#39;ve also found several questions here with similar setups but no mention of this issue, so take that as you will. Maybe they came across it later.","body":"Nah, if it pops, it crashes. There won&#39;t be any silent failures that you&#39;re missing. I&#39;m not sure why you hadn&#39;t come across this earlier. I would&#39;ve thought it&#39;d happen pretty quick in testing. Think about how often any other <code>EditText</code> you type in will pop up its little floating menus or selection handles. FWIW, I reproduced it exactly as I was expecting, so I&#39;m fairly certain I&#39;m correct about this: <a href=\"https://i.stack.imgur.com/ijxLc.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/ijxLc.png</a>.  However, I&#39;ve also found several questions here with similar setups but no mention of this issue, so take that as you will. Maybe they came across it later."}],"answers":[{"tags":[],"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652891110,"creation_date":1652891110,"answer_id":72292806,"question_id":72281047,"body_markdown":"Despite being dead-wrong regarding the cause of the core issue I was experiencing, I figure I may as well leave the question up for people who are just as bad at reading stack traces as me. \r\n\r\nThis may not be the perfect solution but, thanks to Mike M.&#39;s comments, I was able to solve the immediate issue by disabling suggestion popups for the `EditText` in the xml file like so:\r\n\r\n    android:inputType=&quot;textNoSuggestions&quot;\r\n\r\nOtherwise, the solution would be to replace the `PopupWindow` with a `Dialog` or `Activity`.","title":"Android getActivity() Context Goes Stale Over Time in PopupWindow","body":"<p>Despite being dead-wrong regarding the cause of the core issue I was experiencing, I figure I may as well leave the question up for people who are just as bad at reading stack traces as me.</p>\n<p>This may not be the perfect solution but, thanks to Mike M.'s comments, I was able to solve the immediate issue by disabling suggestion popups for the <code>EditText</code> in the xml file like so:</p>\n<pre><code>android:inputType=&quot;textNoSuggestions&quot;\n</code></pre>\n<p>Otherwise, the solution would be to replace the <code>PopupWindow</code> with a <code>Dialog</code> or <code>Activity</code>.</p>\n"}],"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652891110,"creation_date":1652824335,"question_id":72281047,"body_markdown":"I have an app that uses a `popupWindow` for user chat. It is launched from a `Fragment`, and the supplied `context` is `getActivity()`. I will be typing in the `popupWindow`&#39;s `multilineEditText` and, after about 5 minutes or so, I will consistently get a crash with this error:\r\n\r\n    android.view.WindowManager$BadTokenException: Unable to add window -- token android.view.ViewRootImpl$W@d1cf1ec is not valid; is your activity running?\r\n        at android.view.ViewRootImpl.setView(ViewRootImpl.java:1147)\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:471)\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\r\n        at android.widget.PopupWindow.invokePopup(PopupWindow.java:1621)\r\n        at android.widget.PopupWindow.showAtLocation(PopupWindow.java:1375)\r\n        at android.widget.PopupWindow.showAtLocation(PopupWindow.java:1341)\r\n        at android.widget.Editor$PinnedPopupWindow.updatePosition(Editor.java:3817)\r\n        at android.widget.Editor$PinnedPopupWindow.show(Editor.java:3773)\r\n        at android.widget.Editor$SuggestionsPopupWindow.show(Editor.java:4287)\r\n        at android.widget.Editor.replace(Editor.java:587)\r\n        at android.widget.-$$Lambda$DZXn7FbDDFyBvNjI-iG9_hfa7kw.run(Unknown Source:2)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:237)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8167)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\r\n\r\nI know this isn&#39;t super helpful in explaining the error but, as far as I can tell, this is an issue with `getActivity` returning `null` and my `popupWindow` forcefully detaching from lack of `context`. Is there any way to avoid and/or fix this issue?\r\n\r\nBelow is some sample code for help with visualization of the `popupWindow` issue:\r\n\r\n    if(getActivity() != null) {\r\n\r\n            //Retrieve layout inflater\r\n            LayoutInflater layoutInflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n            if (layoutInflater != null) {\r\n\r\n                //Inflate custom popup layout\r\n                View inflatedView = layoutInflater.inflate(R.layout.popup_chat_layout, null, false);\r\n\r\n                writeMessageEditText = inflatedView.findViewById(R.id.writeMessageEditText);\r\n\r\n                chatLayoutManager = new LinearLayoutManager(getActivity());\r\n                //Read from bottom-up\r\n                chatLayoutManager.setStackFromEnd(true);\r\n                chatMessagesRecycler.setLayoutManager(chatLayoutManager);\r\n\r\n                popupWindow = new PopupWindow(inflatedView, displayWidth, displayHeight, true);\r\n\r\n                popupWindow.setAnimationStyle(R.style.PopupAnimation);\r\n\r\n                popupWindow.setInputMethodMode(PopupWindow.INPUT_METHOD_NEEDED);\r\n                popupWindow.setHeight(WindowManager.LayoutParams.MATCH_PARENT);\r\n\r\n                popupWindow.showAtLocation(v, Gravity.BOTTOM, 0, 0);\r\n\r\n                //Cap message lines - the purpose is not to cap characters, but ONLY to cap length\r\n                writeMessageEditText.addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void afterTextChanged(Editable s) {\r\n                        if (writeMessageEditText.getLayout().getLineCount() &gt; 150) {\r\n                            if (writeMessageEditText.getText() != null) {\r\n                                writeMessageEditText.getText().delete(writeMessageEditText.getText().length() - 1, writeMessageEditText.getText().length());\r\n                            }\r\n                            Toast.makeText(getActivity(), &quot;Message may not exceed 150 lines&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                //This was implemented during testing - possible to remove but fine for now\r\n                dismissChatButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        resetAll();\r\n                        previousChat = null;\r\n                        if(popupWindow != null) {\r\n                            popupWindow.dismiss();\r\n                            popupWindow = null;\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }","title":"Android getActivity() Context Goes Stale Over Time in PopupWindow","body":"<p>I have an app that uses a <code>popupWindow</code> for user chat. It is launched from a <code>Fragment</code>, and the supplied <code>context</code> is <code>getActivity()</code>. I will be typing in the <code>popupWindow</code>'s <code>multilineEditText</code> and, after about 5 minutes or so, I will consistently get a crash with this error:</p>\n<pre><code>android.view.WindowManager$BadTokenException: Unable to add window -- token android.view.ViewRootImpl$W@d1cf1ec is not valid; is your activity running?\n    at android.view.ViewRootImpl.setView(ViewRootImpl.java:1147)\n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:471)\n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\n    at android.widget.PopupWindow.invokePopup(PopupWindow.java:1621)\n    at android.widget.PopupWindow.showAtLocation(PopupWindow.java:1375)\n    at android.widget.PopupWindow.showAtLocation(PopupWindow.java:1341)\n    at android.widget.Editor$PinnedPopupWindow.updatePosition(Editor.java:3817)\n    at android.widget.Editor$PinnedPopupWindow.show(Editor.java:3773)\n    at android.widget.Editor$SuggestionsPopupWindow.show(Editor.java:4287)\n    at android.widget.Editor.replace(Editor.java:587)\n    at android.widget.-$$Lambda$DZXn7FbDDFyBvNjI-iG9_hfa7kw.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:237)\n    at android.app.ActivityThread.main(ActivityThread.java:8167)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n</code></pre>\n<p>I know this isn't super helpful in explaining the error but, as far as I can tell, this is an issue with <code>getActivity</code> returning <code>null</code> and my <code>popupWindow</code> forcefully detaching from lack of <code>context</code>. Is there any way to avoid and/or fix this issue?</p>\n<p>Below is some sample code for help with visualization of the <code>popupWindow</code> issue:</p>\n<pre><code>if(getActivity() != null) {\n\n        //Retrieve layout inflater\n        LayoutInflater layoutInflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        if (layoutInflater != null) {\n\n            //Inflate custom popup layout\n            View inflatedView = layoutInflater.inflate(R.layout.popup_chat_layout, null, false);\n\n            writeMessageEditText = inflatedView.findViewById(R.id.writeMessageEditText);\n\n            chatLayoutManager = new LinearLayoutManager(getActivity());\n            //Read from bottom-up\n            chatLayoutManager.setStackFromEnd(true);\n            chatMessagesRecycler.setLayoutManager(chatLayoutManager);\n\n            popupWindow = new PopupWindow(inflatedView, displayWidth, displayHeight, true);\n\n            popupWindow.setAnimationStyle(R.style.PopupAnimation);\n\n            popupWindow.setInputMethodMode(PopupWindow.INPUT_METHOD_NEEDED);\n            popupWindow.setHeight(WindowManager.LayoutParams.MATCH_PARENT);\n\n            popupWindow.showAtLocation(v, Gravity.BOTTOM, 0, 0);\n\n            //Cap message lines - the purpose is not to cap characters, but ONLY to cap length\n            writeMessageEditText.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n                }\n\n                @Override\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\n                }\n\n                @Override\n                public void afterTextChanged(Editable s) {\n                    if (writeMessageEditText.getLayout().getLineCount() &gt; 150) {\n                        if (writeMessageEditText.getText() != null) {\n                            writeMessageEditText.getText().delete(writeMessageEditText.getText().length() - 1, writeMessageEditText.getText().length());\n                        }\n                        Toast.makeText(getActivity(), &quot;Message may not exceed 150 lines&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n            //This was implemented during testing - possible to remove but fine for now\n            dismissChatButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    resetAll();\n                    previousChat = null;\n                    if(popupWindow != null) {\n                        popupWindow.dismiss();\n                        popupWindow = null;\n                    }\n                }\n            });\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":16689839,"reputation":557,"user_id":12062831,"display_name":"gsan"},"score":1,"creation_date":1652872342,"post_id":72287524,"comment_id":127710433,"body_markdown":"Do you have a concrete implementation of `Principal` interface on your project? That interface does not have a field named `id`","body":"Do you have a concrete implementation of <code>Principal</code> interface on your project? That interface does not have a field named <code>id</code>"},{"owner":{"account_id":18264254,"reputation":11,"user_id":18187743,"display_name":"Paranios"},"score":0,"creation_date":1652879862,"post_id":72287524,"comment_id":127713472,"body_markdown":"I have a class named CustomUserDetails. `public class CustomUserDetails extends User {\n\n    private final UUID id;\n\n    public CustomUserDetails(UUID id, String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, password, authorities);\n        this.id = id;\n    }\n\n    public UUID getId() {\n        return id;\n    }\n}\n`","body":"I have a class named CustomUserDetails. <code>public class CustomUserDetails extends User {      private final UUID id;      public CustomUserDetails(UUID id, String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {         super(username, password, authorities);         this.id = id;     }      public UUID getId() {         return id;     } } </code>"}],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652890932,"creation_date":1652890932,"answer_id":72292769,"question_id":72287524,"body_markdown":"You would implement the `UserDetailsService` interface and the `UserDetails` interface in another class as in [this reference](https://stackoverflow.com/a/39931142/2039546), you can get your model containing id in your controller class like this:\r\n\r\n```java\r\npublic String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, \r\n                           Authentication authentication) {\r\n    CustomUser customUser = (CustomUser)authentication.getPrincipal();\r\n    UUID userUUID = customUser.getId();\r\n    propertyService.saveProperty(property, userUUID);\r\n    return &quot;redirect:/properties&quot;;\r\n}\r\n```\r\n\r\n**`OR`**\r\n\r\n```java\r\npublic String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, \r\n                           @AuthenticationPrincipal CustomUser customUser) {\r\n    UUID userUUID = customUser.getId();\r\n    propertyService.saveProperty(property, userUUID);\r\n    return &quot;redirect:/properties&quot;;\r\n}\r\n```","title":"I don&#39;t know how to extract the id of principal","body":"<p>You would implement the <code>UserDetailsService</code> interface and the <code>UserDetails</code> interface in another class as in <a href=\"https://stackoverflow.com/a/39931142/2039546\">this reference</a>, you can get your model containing id in your controller class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, \n                           Authentication authentication) {\n    CustomUser customUser = (CustomUser)authentication.getPrincipal();\n    UUID userUUID = customUser.getId();\n    propertyService.saveProperty(property, userUUID);\n    return &quot;redirect:/properties&quot;;\n}\n</code></pre>\n<p><strong><code>OR</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, \n                           @AuthenticationPrincipal CustomUser customUser) {\n    UUID userUUID = customUser.getId();\n    propertyService.saveProperty(property, userUUID);\n    return &quot;redirect:/properties&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":18264254,"reputation":11,"user_id":18187743,"display_name":"Paranios"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652890932,"creation_date":1652870000,"question_id":72287524,"body_markdown":"I have this code ant I want to extract the UUID of principal and give it as a parameter in the saveProperty function. But I don&#39;t know how. Can someone help me?\r\n\r\n```\t@PostMapping(&quot;/properties&quot;)\r\n\tpublic String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, Principal principal) {\r\n\t\t//UUID userUUID= principal.getId();\r\n\t\tpropertyService.saveProperty(property, userUUID);\r\n\t\t//propertyService.saveProperty(property, UUID.randomUUID());\r\n\t\treturn &quot;redirect:/properties&quot;;\r\n\t}\r\n```","title":"I don&#39;t know how to extract the id of principal","body":"<p>I have this code ant I want to extract the UUID of principal and give it as a parameter in the saveProperty function. But I don't know how. Can someone help me?</p>\n<pre><code>    public String saveProperty(@ModelAttribute(&quot;property&quot;) Property property, Principal principal) {\n        //UUID userUUID= principal.getId();\n        propertyService.saveProperty(property, userUUID);\n        //propertyService.saveProperty(property, UUID.randomUUID());\n        return &quot;redirect:/properties&quot;;\n    }\n</code></pre>\n"},{"tags":["java","java-assist"],"answers":[{"tags":[],"owner":{"account_id":8651310,"reputation":13,"user_id":6476907,"display_name":"Revelation343"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652890615,"creation_date":1652890615,"answer_id":72292694,"question_id":72290501,"body_markdown":"Using the aforementioned utility it was just an issue of putting the right code in the replace string. The original code took advanceMultiplicator and just multiplied it by 1.0 which did nothing and did not access the field.\r\n\r\n```\r\nif (reduceSleepBonus) {\r\n    Util.setReason(&quot;Change sleep powder from 2.0 to 1.0&quot;);\r\n    replace = &quot;if($proceed($$)){ advanceMultiplicator *= 1.0; }&quot; +\r\n              &quot;$_ = false;&quot;;\r\n    Util.instrumentDescribed(thisClass, ctSkill, &quot;alterSkill&quot;, desc4, &quot;hasSleepBonus&quot;, replace);\r\n    }\r\n```","title":"How do I replace a value in a method with ExprEditor?","body":"<p>Using the aforementioned utility it was just an issue of putting the right code in the replace string. The original code took advanceMultiplicator and just multiplied it by 1.0 which did nothing and did not access the field.</p>\n<pre><code>if (reduceSleepBonus) {\n    Util.setReason(&quot;Change sleep powder from 2.0 to 1.0&quot;);\n    replace = &quot;if($proceed($$)){ advanceMultiplicator *= 1.0; }&quot; +\n              &quot;$_ = false;&quot;;\n    Util.instrumentDescribed(thisClass, ctSkill, &quot;alterSkill&quot;, desc4, &quot;hasSleepBonus&quot;, replace);\n    }\n</code></pre>\n"}],"owner":{"account_id":8651310,"reputation":13,"user_id":6476907,"display_name":"Revelation343"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652890615,"creation_date":1652881974,"question_id":72290501,"body_markdown":"I am trying to modify the value in the code from 2.0 to 1.0 with expreditor. Nested if statements under a method &quot;alterSkill&quot;\r\n\r\n```\r\nif (player2.hasSleepBonus()) {\r\nadvanceMultiplicator *= 2.0;}\r\n```\r\n\r\nI&#39;ve got a utility someone else wrote \r\n```        \r\n        public static void instrumentDescribed(Class&lt;?&gt; instrumentingClass, CtClass ctToInstrument, String declaredMethod, String descriptor, String methodCall, String replace){\r\n        try {\r\n\t\t\tctToInstrument.getMethod(declaredMethod, descriptor).instrument(new ExprEditor(){\r\n\t\t\t    public void edit(MethodCall m) throws CannotCompileException {\r\n\t\t\t        if (m.getMethodName().equals(methodCall)) {\r\n\t\t\t            m.replace(replace);\r\n\t\t\t            success = true;\r\n                    }\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\tcheckSuccess(0, instrumentingClass, ctToInstrument, declaredMethod, methodCall);\r\n\t\t} catch (CannotCompileException | NotFoundException e) {\r\n\t\t\t//e.printStackTrace();\r\n\t\t\tcheckSuccess(0, instrumentingClass, ctToInstrument, declaredMethod, methodCall);\r\n\t\t\tlogger.severe(e.getMessage());\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMy code:\r\n\r\n```\r\nif (reduceSleepBonus) {\r\n    Util.setReason(&quot;Change sleep powder from 2x to 1.0x&quot;);\r\n    replace = &quot;advanceMultiplicator *= 1.0;&quot; +\r\n              &quot;$_ = $proceed($$);&quot;;\r\n    Util.instrumentDescribed(thisClass, ctSkill, &quot;alterSkill&quot;, desc4, &quot;hasSleepBonus&quot;, replace);\r\n    }\r\n```\r\n\r\nMy program is saying it has been successfully implemented. However my suspicion is that it is simply setting advanceMultiplicator to 1.0 and not modifying the 2.0 to 1.0. I have tested it in the program and confirmed that the skill is being doubled when hasSleepBonus() is true.\r\n","title":"How do I replace a value in a method with ExprEditor?","body":"<p>I am trying to modify the value in the code from 2.0 to 1.0 with expreditor. Nested if statements under a method &quot;alterSkill&quot;</p>\n<pre><code>if (player2.hasSleepBonus()) {\nadvanceMultiplicator *= 2.0;}\n</code></pre>\n<p>I've got a utility someone else wrote</p>\n<pre><code>        public static void instrumentDescribed(Class&lt;?&gt; instrumentingClass, CtClass ctToInstrument, String declaredMethod, String descriptor, String methodCall, String replace){\n        try {\n            ctToInstrument.getMethod(declaredMethod, descriptor).instrument(new ExprEditor(){\n                public void edit(MethodCall m) throws CannotCompileException {\n                    if (m.getMethodName().equals(methodCall)) {\n                        m.replace(replace);\n                        success = true;\n                    }\n                }\n            });\n            checkSuccess(0, instrumentingClass, ctToInstrument, declaredMethod, methodCall);\n        } catch (CannotCompileException | NotFoundException e) {\n            //e.printStackTrace();\n            checkSuccess(0, instrumentingClass, ctToInstrument, declaredMethod, methodCall);\n            logger.severe(e.getMessage());\n        }\n    }\n</code></pre>\n<p>My code:</p>\n<pre><code>if (reduceSleepBonus) {\n    Util.setReason(&quot;Change sleep powder from 2x to 1.0x&quot;);\n    replace = &quot;advanceMultiplicator *= 1.0;&quot; +\n              &quot;$_ = $proceed($$);&quot;;\n    Util.instrumentDescribed(thisClass, ctSkill, &quot;alterSkill&quot;, desc4, &quot;hasSleepBonus&quot;, replace);\n    }\n</code></pre>\n<p>My program is saying it has been successfully implemented. However my suspicion is that it is simply setting advanceMultiplicator to 1.0 and not modifying the 2.0 to 1.0. I have tested it in the program and confirmed that the skill is being doubled when hasSleepBonus() is true.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1652889476,"post_id":72292368,"comment_id":127717913,"body_markdown":"Can you change the method signatures?  You need to decouple of the authenticate from the data input.","body":"Can you change the method signatures?  You need to decouple of the authenticate from the data input."},{"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"score":0,"creation_date":1652889792,"post_id":72292368,"comment_id":127718042,"body_markdown":"Sadly no, as this code is a part of an exercise where I had to implement the method like this.","body":"Sadly no, as this code is a part of an exercise where I had to implement the method like this."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":1,"creation_date":1652890639,"post_id":72292368,"comment_id":127718376,"body_markdown":"OK, I posted a solution.  But I must say that if you ever encounter such code as is in your exercise in a professional environment, I would expect rapid termination.","body":"OK, I posted a solution.  But I must say that if you ever encounter such code as is in your exercise in a professional environment, I would expect rapid termination."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652890553,"creation_date":1652890553,"answer_id":72292680,"question_id":72292368,"body_markdown":"Here&#39;s is what you can do:\r\n\r\n    String data = &quot;TestName\\nTestPW\\n&quot;;\r\n    InputStream testInput = new ByteArrayInputStream(data.getBytes() );\r\n    InputStream old = System.in;\r\n    System.setIn(testInput);\r\n    user = authenticateUser();\r\n    System.setIn(old);","title":"How can I pass value to a method which doesnt have parameters?","body":"<p>Here's is what you can do:</p>\n<pre><code>String data = &quot;TestName\\nTestPW\\n&quot;;\nInputStream testInput = new ByteArrayInputStream(data.getBytes() );\nInputStream old = System.in;\nSystem.setIn(testInput);\nuser = authenticateUser();\nSystem.setIn(old);\n</code></pre>\n"}],"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72292680,"answer_count":1,"score":0,"last_activity_date":1652890553,"creation_date":1652889184,"question_id":72292368,"body_markdown":"I have a method\r\n\r\n  \r\n\r\n      public User authenticateUser(){\r\n          Scanner scr = new Scannery(System.in);\r\n          String name = scr.nextLine();\r\n          String password = scr.nextLine();\r\n          return new User(name,passworrd);\r\n        }\r\n\r\nand I wonder if I can unit-test it if it actually creates the user. However it doesnt have parameters.\r\n\r\nI tried the following:\r\n\r\n    @Test\r\n    public void testIfReadCredentialsReturnUser(){\r\n        User user = mock(User.class);\r\n        ConsoleView view = new ConsoleView();\r\n        view.readCredentials().setEmail(&quot;asd.com&quot;);\r\n        view.readCredentials().setPassword(&quot;asd&quot;);\r\n        assertNotNull(view.readCredentials());\r\n    }\r\nThis however actually makes me pass the arguements with scanner, what I cant do under testing obviously.\r\nOther logics were tried aswell. I also tried using `when()`, `thenReturn()`, `thenAnswer()`, but I couldn&#39;t find a way to solve this, as I&#39;m fairly new to mocking.\r\n\r\nCan somebody share some ideas with me please?\r\n","title":"How can I pass value to a method which doesnt have parameters?","body":"<p>I have a method</p>\n<pre><code>  public User authenticateUser(){\n      Scanner scr = new Scannery(System.in);\n      String name = scr.nextLine();\n      String password = scr.nextLine();\n      return new User(name,passworrd);\n    }\n</code></pre>\n<p>and I wonder if I can unit-test it if it actually creates the user. However it doesnt have parameters.</p>\n<p>I tried the following:</p>\n<pre><code>@Test\npublic void testIfReadCredentialsReturnUser(){\n    User user = mock(User.class);\n    ConsoleView view = new ConsoleView();\n    view.readCredentials().setEmail(&quot;asd.com&quot;);\n    view.readCredentials().setPassword(&quot;asd&quot;);\n    assertNotNull(view.readCredentials());\n}\n</code></pre>\n<p>This however actually makes me pass the arguements with scanner, what I cant do under testing obviously.\nOther logics were tried aswell. I also tried using <code>when()</code>, <code>thenReturn()</code>, <code>thenAnswer()</code>, but I couldn't find a way to solve this, as I'm fairly new to mocking.</p>\n<p>Can somebody share some ideas with me please?</p>\n"},{"tags":["java","sonarqube","java-stream"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652884919,"post_id":72291211,"comment_id":127715987,"body_markdown":"I guess that Sonar doesn&#39;t know about `Stream.toList()` (introduced in Java 16, which is why I removed the java-8 tag), and thinks it is a non-terminal operation. You could try replacing `toList()` with `collect(Collectors.toList())`. Alternatively, see if updating Sonar solves it.","body":"I guess that Sonar doesn&#39;t know about <code>Stream.toList()</code> (introduced in Java 16, which is why I removed the java-8 tag), and thinks it is a non-terminal operation. You could try replacing <code>toList()</code> with <code>collect(Collectors.toList())</code>. Alternatively, see if updating Sonar solves it."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652884969,"post_id":72291211,"comment_id":127716016,"body_markdown":"Can you update your question to specify the Java version you&#39;re using, and the exact Sonar version?","body":"Can you update your question to specify the Java version you&#39;re using, and the exact Sonar version?"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1652885018,"post_id":72291211,"comment_id":127716037,"body_markdown":"@MarkRotteveel i updated it. im working on JDK 17","body":"@MarkRotteveel i updated it. im working on JDK 17"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652885030,"post_id":72291211,"comment_id":127716046,"body_markdown":"Thanks, and your Sonar version?","body":"Thanks, and your Sonar version?"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1652885184,"post_id":72291211,"comment_id":127716147,"body_markdown":"Community EditionVersion 8.9.7 (build 52159)LGPL v3","body":"Community EditionVersion 8.9.7 (build 52159)LGPL v3"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652885318,"post_id":72291211,"comment_id":127716220,"body_markdown":"I think that is the SonarQube version","body":"I think that is the SonarQube version"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652885890,"creation_date":1652885203,"answer_id":72291363,"question_id":72291211,"body_markdown":"I guess that Sonar doesn&#39;t know about Stream.toList() (introduced in Java 16), and thinks it is a non-terminal operation. This seems to be bug [SONAR-3746][1] (see also [Stream#toList (JDK 16) is not recognized as terminal operator][2]). This problem should be solved in SonarLint 7.2.\r\n\r\nI guess, that means you need SonarQube 9 or higher, as SonarQube 9.0 is the first version that announced Java 16 support, and SonarQube 9.1 mentions adding new rules for Java 16. However, I&#39;m not to familiar with how SonarLint and SonarQube updates interact in this way.\r\n\r\nAs a workaround, you can replace `toList()` with `collect(Collectors.toList())`.\r\n\r\n\r\n  [1]: https://jira.sonarsource.com/browse/SONARJAVA-3746\r\n  [2]: https://community.sonarsource.com/t/s3958-stream-tolist-jdk-16-is-not-recognized-as-terminal-operator/41501/3","title":"How to remove Sonar issue on Java stream &quot;Refactor the code so this stream pipeline is used&quot;","body":"<p>I guess that Sonar doesn't know about Stream.toList() (introduced in Java 16), and thinks it is a non-terminal operation. This seems to be bug <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-3746\" rel=\"nofollow noreferrer\">SONAR-3746</a> (see also <a href=\"https://community.sonarsource.com/t/s3958-stream-tolist-jdk-16-is-not-recognized-as-terminal-operator/41501/3\" rel=\"nofollow noreferrer\">Stream#toList (JDK 16) is not recognized as terminal operator</a>). This problem should be solved in SonarLint 7.2.</p>\n<p>I guess, that means you need SonarQube 9 or higher, as SonarQube 9.0 is the first version that announced Java 16 support, and SonarQube 9.1 mentions adding new rules for Java 16. However, I'm not to familiar with how SonarLint and SonarQube updates interact in this way.</p>\n<p>As a workaround, you can replace <code>toList()</code> with <code>collect(Collectors.toList())</code>.</p>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72291363,"answer_count":1,"score":2,"last_activity_date":1652890208,"creation_date":1652884613,"question_id":72291211,"body_markdown":"I&#39;m working on a project (Java 17) where I have a list of object with two properties, `actionId` (String) and `right` (boolean). I&#39;m trying to get the actionId for object with right = true and store the result as List of String.\r\n\r\nThis is my code:\r\n\r\n     List&lt;String&gt; usserValidActionsArray = userActionGatewayDTO.stream().filter(UserActionGatewayDTO::getRight)\r\n          .map(UserActionGatewayDTO::getActionId).toList();\r\n\r\nMy code works fine, but Sonar is blocking me by saying: \r\n\r\n&gt; Refactor the code so this stream pipeline is used\r\n\r\nCan anyone suggest to me how I can improve my code to be compliant?\r\n","title":"How to remove Sonar issue on Java stream &quot;Refactor the code so this stream pipeline is used&quot;","body":"<p>I'm working on a project (Java 17) where I have a list of object with two properties, <code>actionId</code> (String) and <code>right</code> (boolean). I'm trying to get the actionId for object with right = true and store the result as List of String.</p>\n<p>This is my code:</p>\n<pre><code> List&lt;String&gt; usserValidActionsArray = userActionGatewayDTO.stream().filter(UserActionGatewayDTO::getRight)\n      .map(UserActionGatewayDTO::getActionId).toList();\n</code></pre>\n<p>My code works fine, but Sonar is blocking me by saying:</p>\n<blockquote>\n<p>Refactor the code so this stream pipeline is used</p>\n</blockquote>\n<p>Can anyone suggest to me how I can improve my code to be compliant?</p>\n"},{"tags":["java","spring","tiles","tiles-3"],"answers":[{"tags":[],"owner":{"account_id":134484,"reputation":3552,"user_id":336657,"accept_rate":65,"display_name":"jpprade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652889983,"creation_date":1652889983,"answer_id":72292552,"question_id":72256215,"body_markdown":"The problem came from the war name and its version :\r\n\r\n&gt; AHEAD##val_1.4.6f.war\r\n\r\nThe tiles is looking for the file :\r\n\r\n&gt; BaseLocaleUrlDefinitionDAO - File Resource\r\n&gt; file:/D:/apache-tomcat-9.0.56/webapps/AHEAD%23%23val_1.4.6f/WEB-INF/tiles.xml\r\n&gt; at\r\n&gt; file:/D:/apache-tomcat-9.0.56/webapps/AHEAD%23%23val_1.4.6f/WEB-INF/tiles.xml\r\n&gt; not found, continue\r\n\r\n\r\nwhere the # are url encoded in %23 ...\r\nWithout the version it works...\r\n\r\nNow I have to find a way to make it works with the version.\r\n","title":"Spring MVC &amp; Tiles : Could not resolve view with name","body":"<p>The problem came from the war name and its version :</p>\n<blockquote>\n<p>AHEAD##val_1.4.6f.war</p>\n</blockquote>\n<p>The tiles is looking for the file :</p>\n<blockquote>\n<p>BaseLocaleUrlDefinitionDAO - File Resource\nfile:/D:/apache-tomcat-9.0.56/webapps/AHEAD%23%23val_1.4.6f/WEB-INF/tiles.xml\nat\nfile:/D:/apache-tomcat-9.0.56/webapps/AHEAD%23%23val_1.4.6f/WEB-INF/tiles.xml\nnot found, continue</p>\n</blockquote>\n<p>where the # are url encoded in %23 ...\nWithout the version it works...</p>\n<p>Now I have to find a way to make it works with the version.</p>\n"}],"owner":{"account_id":134484,"reputation":3552,"user_id":336657,"accept_rate":65,"display_name":"jpprade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652889983,"creation_date":1652689752,"question_id":72256215,"body_markdown":"I hava a spring 3.2 application using tiles 3.0.1. Every thing works fine for months in local,prod everywhere (tomcat7).\r\n\r\nOn a newly bougth server (ws2019) with tomcat 9 (running with a dynamic password service account) :\r\n\r\nThe application start, can serve js, css, or json in REST controller but not JSP views with this error :\r\n\r\n&gt; javax.servlet.ServletException: Could not resolve view with name\r\n&gt; &#39;home&#39; in servlet with name &#39;mvc-dispatcher&#39;\r\n\r\nI have no idea what is wrong. On my local it works (also tomcat 9).\r\n\r\nI dig inside Spring and tiles and found that view are cached with a locale as a key : (CachingLocaleUrlDefinitionDAO).\r\n\r\nMaybe there is an issue the the server locale ? \r\n\r\nI don&#39;t know, how can I debug this (whithout remote debugging ) ?\r\n\r\n\r\nthanks\r\n\r\n\r\n\r\n","title":"Spring MVC &amp; Tiles : Could not resolve view with name","body":"<p>I hava a spring 3.2 application using tiles 3.0.1. Every thing works fine for months in local,prod everywhere (tomcat7).</p>\n<p>On a newly bougth server (ws2019) with tomcat 9 (running with a dynamic password service account) :</p>\n<p>The application start, can serve js, css, or json in REST controller but not JSP views with this error :</p>\n<blockquote>\n<p>javax.servlet.ServletException: Could not resolve view with name\n'home' in servlet with name 'mvc-dispatcher'</p>\n</blockquote>\n<p>I have no idea what is wrong. On my local it works (also tomcat 9).</p>\n<p>I dig inside Spring and tiles and found that view are cached with a locale as a key : (CachingLocaleUrlDefinitionDAO).</p>\n<p>Maybe there is an issue the the server locale ?</p>\n<p>I don't know, how can I debug this (whithout remote debugging ) ?</p>\n<p>thanks</p>\n"},{"tags":["java","spring-boot","grpc","mybatis","ibatis"],"answers":[{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652889719,"creation_date":1652889287,"answer_id":72292403,"question_id":72291787,"body_markdown":"fix i use GRPC &quot;hasField&quot; \r\n\r\n\r\nfor more https://stackoverflow.com/questions/21227924/handling-null-values-in-protobuffers","title":"How to make null must error if input is empty in mybatis?","body":"<p>fix i use GRPC &quot;hasField&quot;</p>\n<p>for more <a href=\"https://stackoverflow.com/questions/21227924/handling-null-values-in-protobuffers\">Handling null values in protobuffers</a></p>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652889719,"creation_date":1652886909,"question_id":72291787,"body_markdown":"Im trying to insert empty data and it must error but its still saving.\r\nI try try/cath and if statement if null and still not working.\r\nCan anyone suggest how to do it?\r\n\r\nOutput in this image [RPCbloom][1]\r\n\r\nThis project is Spring-boot with GRPC and MyBatis.\r\n\r\n\r\n```\r\npackage com.cartservice.Repository;\r\n\r\nimport java.util.List;\r\n\r\nimport org.apache.ibatis.annotations.Delete;\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Options;\r\nimport org.apache.ibatis.annotations.Result;\r\nimport org.apache.ibatis.annotations.Results;\r\nimport org.apache.ibatis.annotations.Select;\r\nimport org.apache.ibatis.annotations.Update;\r\n\r\nimport com.cartservice.Model.Client;\r\nimport com.cartservice.Model.ProductEntity;\r\nimport com.grpcserver.product.ProductServer.Product;\r\n\r\n@Mapper\r\npublic interface ProductDAO {\r\n\t\r\n\t\r\n\t@Insert(&quot;INSERT INTO tb_product(purchase_item,  productname, productbrand,productprice,productdescription,productquantity,productexpirationdate) &quot; +\r\n\t\t      &quot; VALUES (#{purchase_item}, #{productname}, #{productbrand}, #{productprice}, #{productdescription}, #{productquantity}, #{productexpirationdate} )&quot;)\r\n@Options(useGeneratedKeys = true, keyColumn = &quot;purchase_item&quot;, keyProperty = &quot;purchase_item&quot;)\r\n\tpublic int insert(ProductEntity  productEntity);\r\n\t\r\n\t\r\n\t\r\n\t \r\n}\r\n\r\n```\r\n\r\n```\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\r\n\t\r\n\tProductEntity productEntity = new ProductEntity();\r\n\r\n\t\r\n\tproductEntity.setPurchase_item(request.getPurchaseItem());\r\n\tproductEntity.setProductname(request.getProductname());\r\n\tproductEntity.setProductbrand(request.getProductbrand());\r\n\tproductEntity.setProductprice(request.getProductprice());\r\n\tproductEntity.setProductdescription(request.getProductdescription());\r\n\tproductEntity.setProductquantity(request.getProductquantity());\r\n\tproductEntity.setProductexpirationdate(dateConvert.getDateFromDateProto(request.getProductexpirationdate()));\r\n\r\n\r\n\tproductServiceImpl.saveDataFromDTO(productEntity);\r\n\tAPIResponse.Builder  responce = APIResponse.newBuilder();\r\n\tresponce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\r\n\t\r\n\tresponseObserver.onNext(responce.build());\r\n\tresponseObserver.onCompleted();\t\r\n\t\t\r\n\t\r\n\t\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wDL5S.png","title":"How to make null must error if input is empty in mybatis?","body":"<p>Im trying to insert empty data and it must error but its still saving.\nI try try/cath and if statement if null and still not working.\nCan anyone suggest how to do it?</p>\n<p>Output in this image <a href=\"https://i.stack.imgur.com/wDL5S.png\" rel=\"nofollow noreferrer\">RPCbloom</a></p>\n<p>This project is Spring-boot with GRPC and MyBatis.</p>\n<pre><code>package com.cartservice.Repository;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Delete;\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Options;\nimport org.apache.ibatis.annotations.Result;\nimport org.apache.ibatis.annotations.Results;\nimport org.apache.ibatis.annotations.Select;\nimport org.apache.ibatis.annotations.Update;\n\nimport com.cartservice.Model.Client;\nimport com.cartservice.Model.ProductEntity;\nimport com.grpcserver.product.ProductServer.Product;\n\n@Mapper\npublic interface ProductDAO {\n    \n    \n    @Insert(&quot;INSERT INTO tb_product(purchase_item,  productname, productbrand,productprice,productdescription,productquantity,productexpirationdate) &quot; +\n              &quot; VALUES (#{purchase_item}, #{productname}, #{productbrand}, #{productprice}, #{productdescription}, #{productquantity}, #{productexpirationdate} )&quot;)\n@Options(useGeneratedKeys = true, keyColumn = &quot;purchase_item&quot;, keyProperty = &quot;purchase_item&quot;)\n    public int insert(ProductEntity  productEntity);\n    \n    \n    \n     \n}\n\n</code></pre>\n<pre><code>    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n\n    \n    ProductEntity productEntity = new ProductEntity();\n\n    \n    productEntity.setPurchase_item(request.getPurchaseItem());\n    productEntity.setProductname(request.getProductname());\n    productEntity.setProductbrand(request.getProductbrand());\n    productEntity.setProductprice(request.getProductprice());\n    productEntity.setProductdescription(request.getProductdescription());\n    productEntity.setProductquantity(request.getProductquantity());\n    productEntity.setProductexpirationdate(dateConvert.getDateFromDateProto(request.getProductexpirationdate()));\n\n\n    productServiceImpl.saveDataFromDTO(productEntity);\n    APIResponse.Builder  responce = APIResponse.newBuilder();\n    responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\n    \n    responseObserver.onNext(responce.build());\n    responseObserver.onCompleted(); \n        \n    \n    \n        \n    }\n\n</code></pre>\n"},{"tags":["java","visual-studio-code","color-scheme"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":1,"creation_date":1652883245,"post_id":72290576,"comment_id":127715154,"body_markdown":"disable them all and try again","body":"disable them all and try again"},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652923324,"post_id":72290576,"comment_id":127727254,"body_markdown":"I used the same extension as you, but I didn&#39;t encounter this problem, but I guess it may be related to the highlighting of the new version of vscode. You can try adding the line to your settings.json : &quot;editor.bracketPairColorization.enabled&quot;: false","body":"I used the same extension as you, but I didn&#39;t encounter this problem, but I guess it may be related to the highlighting of the new version of vscode. You can try adding the line to your settings.json : &quot;editor.bracketPairColorization.enabled&quot;: false"}],"owner":{"account_id":24833660,"reputation":11,"user_id":18712566,"display_name":"Luc Adams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1652889694,"creation_date":1652882289,"question_id":72290576,"body_markdown":"Not sure where to ask this question, however my Vscode is re-coloring letters and sections of my code seemingly at random. I&#39;m not sure what is causing this issue and I aware that vscode does color variables automatically. Even so, you can see in the screenshot that even my commented code is randomly colored. Perhaps it is a extension that i have installed that is causing it, but I am a relatively new programmer so I do not know which extensions I am able to delete and do not want to jeopardize my code in any way. Any suggestions would be appreciated. TIA\r\n\r\n\r\n\r\n[![extensions that i have installed][1]][1]\r\n\r\n\r\n[![random colored code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YWEEG.jpg\r\n  [2]: https://i.stack.imgur.com/R8rkc.jpg","title":"Vscode is displaying random colours in the editing window","body":"<p>Not sure where to ask this question, however my Vscode is re-coloring letters and sections of my code seemingly at random. I'm not sure what is causing this issue and I aware that vscode does color variables automatically. Even so, you can see in the screenshot that even my commented code is randomly colored. Perhaps it is a extension that i have installed that is causing it, but I am a relatively new programmer so I do not know which extensions I am able to delete and do not want to jeopardize my code in any way. Any suggestions would be appreciated. TIA</p>\n<p><a href=\"https://i.stack.imgur.com/YWEEG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YWEEG.jpg\" alt=\"extensions that i have installed\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/R8rkc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8rkc.jpg\" alt=\"random colored code\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651497210,"creation_date":1651497210,"answer_id":72087262,"question_id":72087205,"body_markdown":"You can pass data like this(this is from SecondActivity):\r\n\r\n    Intent intent = new Intent(this, ThirdActivity.class);\r\n    intent.putExtra(&quot;EXTRA_SESSION_ID&quot;, sessionId);\r\n    startActivity(intent);\r\n\r\nand than in ThirdActivity in onCreate method:\r\n\r\n    String sessionId = getIntent().getStringExtra(&quot;EXTRA_SESSION_ID&quot;);\r\n\r\n\r\nAlso, best practise is to have key &quot;EXTRA_SESSION_ID&quot; stored in public static variable so you have only one object\r\n","title":"Send multiple values between two activities","body":"<p>You can pass data like this(this is from SecondActivity):</p>\n<pre><code>Intent intent = new Intent(this, ThirdActivity.class);\nintent.putExtra(&quot;EXTRA_SESSION_ID&quot;, sessionId);\nstartActivity(intent);\n</code></pre>\n<p>and than in ThirdActivity in onCreate method:</p>\n<pre><code>String sessionId = getIntent().getStringExtra(&quot;EXTRA_SESSION_ID&quot;);\n</code></pre>\n<p>Also, best practise is to have key &quot;EXTRA_SESSION_ID&quot; stored in public static variable so you have only one object</p>\n"},{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651498597,"creation_date":1651498597,"answer_id":72087544,"question_id":72087205,"body_markdown":"    //Create the bundle\r\n    Bundle bundle = new Bundle();\r\n    //Add your data from getFactualResults method to bundle\r\n    bundle.putString(&quot;VENUE_NAME&quot;, venueName);  \r\n    //Add the bundle to the intent\r\n    i.putExtras(bundle);\r\n\r\nInsead of array you can use bundle","title":"Send multiple values between two activities","body":"<pre><code>//Create the bundle\nBundle bundle = new Bundle();\n//Add your data from getFactualResults method to bundle\nbundle.putString(&quot;VENUE_NAME&quot;, venueName);  \n//Add the bundle to the intent\ni.putExtras(bundle);\n</code></pre>\n<p>Insead of array you can use bundle</p>\n"},{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651502907,"creation_date":1651498736,"answer_id":72087574,"question_id":72087205,"body_markdown":"1.Change this to arraylist\r\n\r\n   \r\n\r\n     String[] mackor_names = {\r\n                &quot;Tonfisk Macka 30:-&quot;,\r\n                &quot;Skagen Macka 35:-&quot;,\r\n                &quot;Kyckling Macka 35:-&quot;,\r\n                &quot;Curryr&#246;ra Macka 30:-&quot;,\r\n                &quot;Ost o Kalkon Macka 25:-&quot;,\r\n                &quot;K&#246;ttbulle Macka 25:-&quot;,\r\n                &quot;Falafel Macka 20:-&quot;\r\n            };\r\n\r\n\r\n\r\n\r\n\r\n\r\n      ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;Tonfisk Macka 30:-&quot;);\r\n        list.add(&quot;Skagen Macka 35:-&quot;); ......\r\n\r\n2.and then use \r\n\r\n \r\n\r\n    intent.putStringArrayListExtra(&quot;test&quot;,list);\r\n\r\n\r\n3.and to get values\r\n\r\n\r\n    Intent intent=getIntent();\r\n    ArrayList&lt;String&gt; test = intent.getStringArrayListExtra(&quot;test&quot;);\r\n\r\n","title":"Send multiple values between two activities","body":"<p>1.Change this to arraylist</p>\n<pre><code> String[] mackor_names = {\n            &quot;Tonfisk Macka 30:-&quot;,\n            &quot;Skagen Macka 35:-&quot;,\n            &quot;Kyckling Macka 35:-&quot;,\n            &quot;Curryröra Macka 30:-&quot;,\n            &quot;Ost o Kalkon Macka 25:-&quot;,\n            &quot;Köttbulle Macka 25:-&quot;,\n            &quot;Falafel Macka 20:-&quot;\n        };\n\n\n\n\n\n\n  ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(&quot;Tonfisk Macka 30:-&quot;);\n    list.add(&quot;Skagen Macka 35:-&quot;); ......\n</code></pre>\n<p>2.and then use</p>\n<pre><code>intent.putStringArrayListExtra(&quot;test&quot;,list);\n</code></pre>\n<p>3.and to get values</p>\n<pre><code>Intent intent=getIntent();\nArrayList&lt;String&gt; test = intent.getStringArrayListExtra(&quot;test&quot;);\n</code></pre>\n"}],"owner":{"account_id":22799776,"reputation":11,"user_id":16952679,"display_name":"simjau dovah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1652889253,"creation_date":1651496945,"question_id":72087205,"body_markdown":"Hi I&#180;m just starting to learn how to use Android Studio. And I want to try to send the values of the choices the user makes from one activity to the other. \r\n","title":"Send multiple values between two activities","body":"<p>Hi I´m just starting to learn how to use Android Studio. And I want to try to send the values of the choices the user makes from one activity to the other.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652881839,"post_id":72290328,"comment_id":127714423,"body_markdown":"[Check this answer](https://stackoverflow.com/a/1911487/7109162)","body":"<a href=\"https://stackoverflow.com/a/1911487/7109162\">Check this answer</a>"},{"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"score":0,"creation_date":1652948349,"post_id":72290328,"comment_id":127732734,"body_markdown":"@ XtremeBaume Thank you for the answer.  Unfortunately none of the answers in the link you mentioned has an answer marked as accepted.","body":"@ XtremeBaume Thank you for the answer.  Unfortunately none of the answers in the link you mentioned has an answer marked as accepted."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652889210,"creation_date":1652888879,"answer_id":72292283,"question_id":72290328,"body_markdown":"MySQL Connector/J 8 [requires Java 8][1], while you&#39;re trying to run it on Java 7 (as shown by the &quot;JRE System Library [JavaSE-1.7]&quot; in your IDE screenshot). Either upgrade or switch your project to Java 8 (or higher), or downgrade to an older MySQL Connector/J version (e.g. MySQL Connector/J 5.1.49, which supports Java 5 or higher).\r\n\r\nIf you add `Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)` to the start of your main method, you probably get a `NoClassDefFoundError` with cause `UnsupportedClassVersionError`.\r\n\r\nFor the general causes of error _&quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://...&quot;_, see also https://stackoverflow.com/questions/2839321/connect-java-to-a-mysql-database\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-versions.html","title":"Java-Integration with JDBC - No suitable driver found for jdbc:mysql error","body":"<p>MySQL Connector/J 8 <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-versions.html\" rel=\"nofollow noreferrer\">requires Java 8</a>, while you're trying to run it on Java 7 (as shown by the &quot;JRE System Library [JavaSE-1.7]&quot; in your IDE screenshot). Either upgrade or switch your project to Java 8 (or higher), or downgrade to an older MySQL Connector/J version (e.g. MySQL Connector/J 5.1.49, which supports Java 5 or higher).</p>\n<p>If you add <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;)</code> to the start of your main method, you probably get a <code>NoClassDefFoundError</code> with cause <code>UnsupportedClassVersionError</code>.</p>\n<p>For the general causes of error <em>&quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://...&quot;</em>, see also <a href=\"https://stackoverflow.com/questions/2839321/connect-java-to-a-mysql-database\">Connect Java to a MySQL database</a></p>\n"}],"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72292283,"answer_count":1,"score":1,"last_activity_date":1652889210,"creation_date":1652881323,"question_id":72290328,"body_markdown":"I am relatively new to Java. \r\nNeed to use Java with JDBC.  I currently try to connect to the database local on my machine.  \r\nThis is a part of training which is very important to me now.\r\nI am using Java 8:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe training and demonstration accordingly is done using Java 7\r\nDriver provided with an exercise is: mysql-connector-java-5.1.21-bin.jar\r\nHowever I was recommended to use Java 8 driver, so I downloaded mysql-connector-java-8.0.29.jar (Platform independent) from https://dev.mysql.com/downloads/connector/j/ \r\n\r\nMySQL (local DB) looks like following:\r\nHost name: 127.0.0.1\r\nUser: root\r\nPort: 3306\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\nCopy JDBC Connection String to the clipboard brings the following: jdbc:mysql://127.0.0.1:3306/?user=root\r\n\r\n[![enter image description here][4]][4]\r\n\r\nDriver: mysql-connector-java-8.0.29.jar was copied into the project folder &quot;libs&quot; and added to the build path:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\nThe following code I created (class main):\r\n\r\n\r\n    package com.lynda.javatraining.db;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n\r\n    public class Main {\r\n    private static final String USERNAME = &quot;root&quot;;\r\n    private static final String PASSWORD = &quot;secret&quot;;\r\n\r\n    //private static final String CONN_STRING =\r\n    //&quot;jdbc:mysql://localhost/explorecalifornia&quot;;\r\n\r\n    //private static final String CONN_STRING =\r\n    //&quot;jdbc:mysql://127.0.0.1/explorecalifornia&quot;;\r\n\r\n    **//This is the string I use currently:** \r\n    private static final String CONN_STRING =\r\n    &quot;jdbc:mysql://127.0.0.1:3306/explorecalifornia&quot;;\r\n\r\n    //&quot;jdbc:mysql://127.0.0.1:3306/?user=root/explorecalifornia&quot;;\r\n\r\n\t  public static void main(String[] args) throws SQLException {\r\n\r\n\t\tConnection conn = null;\r\n\t\ttry {\r\n\t\t\tconn = DriverManager.getConnection(CONN_STRING, USERNAME, PASSWORD);\r\n\t\t\tSystem.out.println(&quot;Connected&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\t//e.printStackTrace();\r\n\t\t\tSystem.err.println(e);\r\n\t\t}finally {\r\n\t\t\tif (conn != null) {\r\n\t\t\t\tconn.close();\r\n\t\t\t}\r\n\t\t  }\t\r\n\t   }\r\n    }\r\n \r\nWhen I run the code I am getting: java.sql.SQLException: \r\n**No suitable driver found for jdbc:mysql://127.0.0.1:3306/explorecalifornia**\r\n\r\nI tried different combinations for CONN_STRING (see all of them commented in the code above), still not working. I tried driver provided originally (mysql-connector-java-5.1.21-bin.jar) with no success (this was expected). Can somebody give an advice, please. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GXecL.png\r\n  [2]: https://i.stack.imgur.com/5BCPS.png\r\n  [3]: https://i.stack.imgur.com/gND0v.png\r\n  [4]: https://i.stack.imgur.com/Ja5Dh.png\r\n  [5]: https://i.stack.imgur.com/GMYeE.png\r\n  [6]: https://i.stack.imgur.com/dgW81.png","title":"Java-Integration with JDBC - No suitable driver found for jdbc:mysql error","body":"<p>I am relatively new to Java.\nNeed to use Java with JDBC.  I currently try to connect to the database local on my machine.<br />\nThis is a part of training which is very important to me now.\nI am using Java 8:</p>\n<p><a href=\"https://i.stack.imgur.com/GXecL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GXecL.png\" alt=\"enter image description here\" /></a></p>\n<p>The training and demonstration accordingly is done using Java 7\nDriver provided with an exercise is: mysql-connector-java-5.1.21-bin.jar\nHowever I was recommended to use Java 8 driver, so I downloaded mysql-connector-java-8.0.29.jar (Platform independent) from <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a></p>\n<p>MySQL (local DB) looks like following:\nHost name: 127.0.0.1\nUser: root\nPort: 3306</p>\n<p><a href=\"https://i.stack.imgur.com/5BCPS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BCPS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gND0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gND0v.png\" alt=\"enter image description here\" /></a>\nCopy JDBC Connection String to the clipboard brings the following: jdbc:mysql://127.0.0.1:3306/?user=root</p>\n<p><a href=\"https://i.stack.imgur.com/Ja5Dh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ja5Dh.png\" alt=\"enter image description here\" /></a></p>\n<p>Driver: mysql-connector-java-8.0.29.jar was copied into the project folder &quot;libs&quot; and added to the build path:</p>\n<p><a href=\"https://i.stack.imgur.com/GMYeE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GMYeE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dgW81.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgW81.png\" alt=\"enter image description here\" /></a></p>\n<p>The following code I created (class main):</p>\n<pre><code>package com.lynda.javatraining.db;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class Main {\nprivate static final String USERNAME = &quot;root&quot;;\nprivate static final String PASSWORD = &quot;secret&quot;;\n\n//private static final String CONN_STRING =\n//&quot;jdbc:mysql://localhost/explorecalifornia&quot;;\n\n//private static final String CONN_STRING =\n//&quot;jdbc:mysql://127.0.0.1/explorecalifornia&quot;;\n\n**//This is the string I use currently:** \nprivate static final String CONN_STRING =\n&quot;jdbc:mysql://127.0.0.1:3306/explorecalifornia&quot;;\n\n//&quot;jdbc:mysql://127.0.0.1:3306/?user=root/explorecalifornia&quot;;\n\n  public static void main(String[] args) throws SQLException {\n\n    Connection conn = null;\n    try {\n        conn = DriverManager.getConnection(CONN_STRING, USERNAME, PASSWORD);\n        System.out.println(&quot;Connected&quot;);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        //e.printStackTrace();\n        System.err.println(e);\n    }finally {\n        if (conn != null) {\n            conn.close();\n        }\n      } \n   }\n}\n</code></pre>\n<p>When I run the code I am getting: java.sql.SQLException:\n<strong>No suitable driver found for jdbc:mysql://127.0.0.1:3306/explorecalifornia</strong></p>\n<p>I tried different combinations for CONN_STRING (see all of them commented in the code above), still not working. I tried driver provided originally (mysql-connector-java-5.1.21-bin.jar) with no success (this was expected). Can somebody give an advice, please.</p>\n"},{"tags":["java","random","enums"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652885667,"post_id":72291356,"comment_id":127716383,"body_markdown":"Do you want to fill the array with random elements of the enum, or do you just want one random element? You can get an array of all elements of the enum by using `items.values()`. Note: `int[9]` *has room* for only **9** int&#39;s!","body":"Do you want to fill the array with random elements of the enum, or do you just want one random element? You can get an array of all elements of the enum by using <code>items.values()</code>. Note: <code>int[9]</code> <i>has room</i> for only <b>9</b> int&#39;s!"},{"owner":{"account_id":25251964,"reputation":77,"user_id":19084326,"display_name":"Amir Khan"},"score":0,"creation_date":1652886000,"post_id":72291356,"comment_id":127716527,"body_markdown":"Thank you for your comment. Yes I first want to generate a random element from the enum and then put it into the array","body":"Thank you for your comment. Yes I first want to generate a random element from the enum and then put it into the array"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652886035,"post_id":72291356,"comment_id":127716543,"body_markdown":"If you only want one item randomly selected, why an array?","body":"If you only want one item randomly selected, why an array?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652886063,"post_id":72291356,"comment_id":127716560,"body_markdown":"Enum should be named in the singular, and should start with an uppercase letter.","body":"Enum should be named in the singular, and should start with an uppercase letter."},{"owner":{"account_id":25251964,"reputation":77,"user_id":19084326,"display_name":"Amir Khan"},"score":0,"creation_date":1652886477,"post_id":72291356,"comment_id":127716726,"body_markdown":"@BasilBourque Sorry I did a mistake. I need to generate one random possible alignment of the 10 elements in the enum and put that into my array","body":"@BasilBourque Sorry I did a mistake. I need to generate one random possible alignment of the 10 elements in the enum and put that into my array"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652886532,"post_id":72291356,"comment_id":127716741,"body_markdown":"Define “one random possible alignment”.","body":"Define “one random possible alignment”."},{"owner":{"account_id":25251964,"reputation":77,"user_id":19084326,"display_name":"Amir Khan"},"score":0,"creation_date":1652886626,"post_id":72291356,"comment_id":127716776,"body_markdown":"for example the elements are : KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ  \nso a possible random alignment would be \nTOPSCHUTZ, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, KARTE","body":"for example the elements are : KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ   so a possible random alignment would be  TOPSCHUTZ, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, KARTE"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653380039,"post_id":72291356,"comment_id":127831628,"body_markdown":"How do you get to the idea that `new int[9]` will generate an array with ten elements? When you pass a size of nine, you get an array of nine. It’s as simple as that. And when you want to store elements of type `Items`, you need an `Items[]` array, not an `int[]` array.","body":"How do you get to the idea that <code>new int[9]</code> will generate an array with ten elements? When you pass a size of nine, you get an array of nine. It’s as simple as that. And when you want to store elements of type <code>Items</code>, you need an <code>Items[]</code> array, not an <code>int[]</code> array."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653596183,"post_id":72291356,"comment_id":127896096,"body_markdown":"@AmirKhan You need to fix both the title and body of your Question to make clear that you want *all* the elements, not *one* element.  And in the future, put more effort into drafting your Question clearly.","body":"@AmirKhan You need to fix both the title and body of your Question to make clear that you want <i>all</i> the elements, not <i>one</i> element.  And in the future, put more effort into drafting your Question clearly."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652889150,"creation_date":1652885986,"answer_id":72291549,"question_id":72291356,"body_markdown":"An enum should be named in the singular, and should start with an uppercase letter.\r\n\r\n    enum Item { KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ }\r\n\r\nAnd I suggest you work at devising a more descriptive name than “Item”. \r\n\r\nGet an array of all the enum objects by calling `values`.\r\n\r\n    Item[] allItems = Item.values() ;\r\n\r\nGenerate a random number. Use that number as the index into your array of all items.\r\n\r\n    int randomIndex = ThreadLocalRandom.current().nextInt( 0 , allItems.length ) ;  // ( inclusive , exclusive )\r\n    Item rando = allItems[ randomIndex ] ;\r\n\r\nOr perhaps you meant to randomly sort (shuffle) all the elements of the enum. If so, make a `List` backed by the array. Call `Collections.shuffle`. Changes made to the list also affect the backing array. So the array is shuffled.\r\n\r\n    Item[] allItems = Item.values() ;\r\n    List&lt; Item &gt; list = Arrays.asList( allItems );\r\n    Collections.shuffle( list );\r\n\r\nMore briefly:\r\n\r\n    Item[] allItems = Item.values() ;\r\n    Collections.shuffle( Arrays.asList( allItems ) );\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n&gt; [MONSTERBALL, TOPSCHUTZ, KARTE, FAHRRAD, VM03, MONSTERDEX, ANGEL, AMRENABEERE, TOPGENESUNG, HYPERHEILER]\r\n\r\n\r\n  [1]: https://ideone.com/Yvwhjo","title":"How to generate random value from enum and put it in array?","body":"<p>An enum should be named in the singular, and should start with an uppercase letter.</p>\n<pre><code>enum Item { KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ }\n</code></pre>\n<p>And I suggest you work at devising a more descriptive name than “Item”.</p>\n<p>Get an array of all the enum objects by calling <code>values</code>.</p>\n<pre><code>Item[] allItems = Item.values() ;\n</code></pre>\n<p>Generate a random number. Use that number as the index into your array of all items.</p>\n<pre><code>int randomIndex = ThreadLocalRandom.current().nextInt( 0 , allItems.length ) ;  // ( inclusive , exclusive )\nItem rando = allItems[ randomIndex ] ;\n</code></pre>\n<p>Or perhaps you meant to randomly sort (shuffle) all the elements of the enum. If so, make a <code>List</code> backed by the array. Call <code>Collections.shuffle</code>. Changes made to the list also affect the backing array. So the array is shuffled.</p>\n<pre><code>Item[] allItems = Item.values() ;\nList&lt; Item &gt; list = Arrays.asList( allItems );\nCollections.shuffle( list );\n</code></pre>\n<p>More briefly:</p>\n<pre><code>Item[] allItems = Item.values() ;\nCollections.shuffle( Arrays.asList( allItems ) );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Yvwhjo\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>[MONSTERBALL, TOPSCHUTZ, KARTE, FAHRRAD, VM03, MONSTERDEX, ANGEL, AMRENABEERE, TOPGENESUNG, HYPERHEILER]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14938698,"reputation":13,"user_id":10786034,"display_name":"David Alen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652886345,"creation_date":1652886345,"answer_id":72291664,"question_id":72291356,"body_markdown":"Isn&#39;t this what you want?\r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        Random random = new Random();\r\n\r\n        enum items {\r\n            KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ\r\n        }\r\n\r\n        items[] inventar = items.values();\r\n\r\n        int index = random.nextInt(inventar.length);\r\n\r\n        System.out.println(inventar[index]);\r\n\r\n    }\r\n}\r\n```","title":"How to generate random value from enum and put it in array?","body":"<p>Isn't this what you want?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        Random random = new Random();\n\n        enum items {\n            KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ\n        }\n\n        items[] inventar = items.values();\n\n        int index = random.nextInt(inventar.length);\n\n        System.out.println(inventar[index]);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24643497,"reputation":29,"user_id":18541426,"display_name":"ktxdev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652886442,"creation_date":1652886442,"answer_id":72291690,"question_id":72291356,"body_markdown":"You can get a random integer value that is in the range 0 to array.length as\r\n\r\n    int rand = new Random().nextInt(items.values().length);\r\n\r\nThen you can get the `enum` for the random value generated using\r\n\r\n    items.values()[rand];\r\nYou then use this in a loop to fill the array.\r\n\r\n ","title":"How to generate random value from enum and put it in array?","body":"<p>You can get a random integer value that is in the range 0 to array.length as</p>\n<pre><code>int rand = new Random().nextInt(items.values().length);\n</code></pre>\n<p>Then you can get the <code>enum</code> for the random value generated using</p>\n<pre><code>items.values()[rand];\n</code></pre>\n<p>You then use this in a loop to fill the array.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652888134,"creation_date":1652887431,"answer_id":72291902,"question_id":72291356,"body_markdown":"There is another way: \r\n\r\n      enum Item {\r\n            KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, \r\n         TOPGENESUNG, ANGEL, TOPSCHUTZ\r\n       }\r\n       Item[] inventar = Item.values();\r\n       Item singleItem = inventar[new Random().nextInt(inventar.length)];\r\n      \r\n\r\n","title":"How to generate random value from enum and put it in array?","body":"<p>There is another way:</p>\n<pre><code>  enum Item {\n        KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, \n     TOPGENESUNG, ANGEL, TOPSCHUTZ\n   }\n   Item[] inventar = Item.values();\n   Item singleItem = inventar[new Random().nextInt(inventar.length)];\n  \n</code></pre>\n"}],"owner":{"account_id":25251964,"reputation":77,"user_id":19084326,"display_name":"Amir Khan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72291549,"answer_count":4,"score":2,"last_activity_date":1652889150,"creation_date":1652885149,"question_id":72291356,"body_markdown":"I got an enum which is filled with &quot;items&quot; and I want to generate one random item of the enum and put it into my inventory, which I made out of an array. The array only has room for 10 ints.\r\n```\r\npublic class InventoryEnums {\r\n\tpublic static void main (String[] args){\r\n\r\n\tint[] inventar = new int[9] // int array mit 10 Pl&#228;tzen\r\n\r\n    enum items {\r\n\t\tKARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ\r\n\t}\r\n```","title":"How to generate random value from enum and put it in array?","body":"<p>I got an enum which is filled with &quot;items&quot; and I want to generate one random item of the enum and put it into my inventory, which I made out of an array. The array only has room for 10 ints.</p>\n<pre><code>public class InventoryEnums {\n    public static void main (String[] args){\n\n    int[] inventar = new int[9] // int array mit 10 Plätzen\n\n    enum items {\n        KARTE, MONSTERBALL, MONSTERDEX, FAHRRAD, VM03, HYPERHEILER, AMRENABEERE, TOPGENESUNG, ANGEL, TOPSCHUTZ\n    }\n</code></pre>\n"},{"tags":["java","multithreading","conditional-statements","mutex"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1652882289,"post_id":72290151,"comment_id":127714669,"body_markdown":"Your `while(count == buffer.length)` seems ambiguous. When one element input in the buffer the buffer.length will be 1, and so is the count. So what is the point here? You want to produce one and then put the Producer into waiting state? Because this way every time you add 1 element into the buffer the producer will be blocked, hence it will produce only one element and get blocked until the consumer consume elements and change the buffer&#39;s length.","body":"Your <code>while(count == buffer.length)</code> seems ambiguous. When one element input in the buffer the buffer.length will be 1, and so is the count. So what is the point here? You want to produce one and then put the Producer into waiting state? Because this way every time you add 1 element into the buffer the producer will be blocked, hence it will produce only one element and get blocked until the consumer consume elements and change the buffer&#39;s length."},{"owner":{"account_id":22805137,"reputation":15,"user_id":16957272,"display_name":"Seung Ju Han"},"score":0,"creation_date":1652913634,"post_id":72290151,"comment_id":127725693,"body_markdown":"@Kozmotronik Umm.. I elided the main code that have buffers numba. Buffer Mutex buffer = new Buffer Mutex(7); But, thanks for your opinion.","body":"@Kozmotronik Umm.. I elided the main code that have buffers numba. Buffer Mutex buffer = new Buffer Mutex(7); But, thanks for your opinion."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652888857,"creation_date":1652888857,"answer_id":72292275,"question_id":72290151,"body_markdown":"You seem to have the producer signalling the producer and the consumer signalling the consumer. Don&#39;t you want to switch those? Shouldn&#39;t the producer signal the consumer and vice versa?","title":"How to use condition appropriately in Java?","body":"<p>You seem to have the producer signalling the producer and the consumer signalling the consumer. Don't you want to switch those? Shouldn't the producer signal the consumer and vice versa?</p>\n"}],"owner":{"account_id":22805137,"reputation":15,"user_id":16957272,"display_name":"Seung Ju Han"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72292275,"answer_count":1,"score":0,"last_activity_date":1652888857,"creation_date":1652880616,"question_id":72290151,"body_markdown":"My two Threads, Produce and Consume, don&#39;t work well. When I run this code, the console printed &#39;producing&#39; and &#39;consuming&#39; one by one. Then, it stopped and program is still running&gt;\r\n\r\n```java\r\nclass BufferMutex {\r\n\tprivate char [] buffer;\r\n\tprivate int count = 0, in = 0, out = 0;\r\n\tprivate ReentrantLock mutex = new ReentrantLock();\r\n\tprivate Condition okProduce = mutex.newCondition(); \r\n\tprivate Condition okConsume = mutex.newCondition(); \r\n\r\n\tBufferMutex(int size) {\r\n\t\tbuffer = new char[size];\r\n\t}\r\n\r\n\tpublic void put(char c) {\r\n\t\tmutex.lock();\r\n\t\ttry {\r\n\t\t\twhile(count == buffer.length) { \r\n\t\t\t\tokProduce.await();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Producing &quot; + c + &quot; ...&quot;);\r\n\t\t\tbuffer[in] = c;\r\n\t\t\tin = (in + 1) % buffer.length;\r\n\t\t\tcount++;\r\n\t\t\tokProduce.signalAll();\r\n\t\t}catch(InterruptedException ie) {\r\n\t\t\tie.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tmutex.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic char get() {\r\n\t\tmutex.lock();\r\n\t\tchar c = buffer[out];\r\n\t\ttry {\r\n\t\t\twhile (count == 0) {  \r\n\t\t\t\tokConsume.await();\r\n\t\t\t}\r\n\t\t\tout = (out + 1) % buffer.length;\r\n\t\t\tcount--;\r\n\t\t\tSystem.out.println(&quot;Consuming &quot; + c + &quot; ...&quot;);\r\n\t\t\tokConsume.signalAll();\r\n\t\t}catch(InterruptedException ie) {\r\n\t\t\tie.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tmutex.unlock();\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n}\r\n```","title":"How to use condition appropriately in Java?","body":"<p>My two Threads, Produce and Consume, don't work well. When I run this code, the console printed 'producing' and 'consuming' one by one. Then, it stopped and program is still running&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BufferMutex {\n    private char [] buffer;\n    private int count = 0, in = 0, out = 0;\n    private ReentrantLock mutex = new ReentrantLock();\n    private Condition okProduce = mutex.newCondition(); \n    private Condition okConsume = mutex.newCondition(); \n\n    BufferMutex(int size) {\n        buffer = new char[size];\n    }\n\n    public void put(char c) {\n        mutex.lock();\n        try {\n            while(count == buffer.length) { \n                okProduce.await();\n            }\n            System.out.println(&quot;Producing &quot; + c + &quot; ...&quot;);\n            buffer[in] = c;\n            in = (in + 1) % buffer.length;\n            count++;\n            okProduce.signalAll();\n        }catch(InterruptedException ie) {\n            ie.printStackTrace();\n        }finally {\n            mutex.unlock();\n        }\n    }\n\n    public char get() {\n        mutex.lock();\n        char c = buffer[out];\n        try {\n            while (count == 0) {  \n                okConsume.await();\n            }\n            out = (out + 1) % buffer.length;\n            count--;\n            System.out.println(&quot;Consuming &quot; + c + &quot; ...&quot;);\n            okConsume.signalAll();\n        }catch(InterruptedException ie) {\n            ie.printStackTrace();\n        }finally {\n            mutex.unlock();\n        }\n        return c;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","parsing"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652888703,"creation_date":1652888703,"answer_id":72292243,"question_id":72290167,"body_markdown":"Your use case can be adequately addressed by [MVEL2][1]. \r\n\r\nThere is no need for you to write a parser and AST with ANTLR or convert to Java code, just evaluate the expression with appropriate parameters.\r\n\r\nIn fact any Java expression language library would do. You could also look at [JUEL][2].\r\n\r\nHowever, looking at the expression, I would say it aligns more towards MVEL2.\r\n\r\nGive both the libraries a try.\r\n\r\n  [1]: http://mvel.documentnode.com/\r\n  [2]: http://juel.sourceforge.net/","title":"Translating logic into Kotlin (or Java) code","body":"<p>Your use case can be adequately addressed by <a href=\"http://mvel.documentnode.com/\" rel=\"nofollow noreferrer\">MVEL2</a>.</p>\n<p>There is no need for you to write a parser and AST with ANTLR or convert to Java code, just evaluate the expression with appropriate parameters.</p>\n<p>In fact any Java expression language library would do. You could also look at <a href=\"http://juel.sourceforge.net/\" rel=\"nofollow noreferrer\">JUEL</a>.</p>\n<p>However, looking at the expression, I would say it aligns more towards MVEL2.</p>\n<p>Give both the libraries a try.</p>\n"}],"owner":{"account_id":13442827,"reputation":145,"user_id":9699581,"display_name":"Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72292243,"answer_count":1,"score":1,"last_activity_date":1652888703,"creation_date":1652880683,"question_id":72290167,"body_markdown":"I have a use-case where I want to enable users to write simple logic, and behind the scenes, convert this logic into a condition in the code.\r\n\r\nFor example, the user might write: \r\n\r\n```none\r\nsomeFieldName &gt; 10 AND otherFieldName is NULL\r\n```\r\n\r\nAnd I&#39;d like that to generate the following code:\r\n\r\n```kotlin\r\nif (data[&quot;someFieldName&quot;] &gt; 10 &amp;&amp; data[&quot;otherFieldName&quot;] == null) {\r\n   // Do something\r\n}\r\n```\r\n\r\nAfter doing some research, I saw that one of the options is using eval (by leveraging a JS engine), although it doesn&#39;t fit all use cases. \r\nI also saw that it&#39;s possible to use tools like ANTLR, which seems a bit like overkill.\r\n\r\nAre there any simple off-the-shelf products we can use for such purposes? Or would creating a simple parser ourselves be the best way to handle it?\r\n","title":"Translating logic into Kotlin (or Java) code","body":"<p>I have a use-case where I want to enable users to write simple logic, and behind the scenes, convert this logic into a condition in the code.</p>\n<p>For example, the user might write:</p>\n<pre class=\"lang-none prettyprint-override\"><code>someFieldName &gt; 10 AND otherFieldName is NULL\n</code></pre>\n<p>And I'd like that to generate the following code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (data[&quot;someFieldName&quot;] &gt; 10 &amp;&amp; data[&quot;otherFieldName&quot;] == null) {\n   // Do something\n}\n</code></pre>\n<p>After doing some research, I saw that one of the options is using eval (by leveraging a JS engine), although it doesn't fit all use cases.\nI also saw that it's possible to use tools like ANTLR, which seems a bit like overkill.</p>\n<p>Are there any simple off-the-shelf products we can use for such purposes? Or would creating a simple parser ourselves be the best way to handle it?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652888478,"creation_date":1652884286,"answer_id":72291125,"question_id":72290863,"body_markdown":"There are two main threading rules in JavaFX (similar to most other UI toolkits).\r\n\r\n1. You must not perform operations on the UI from a background thread. This includes creating, showing, or hiding windows.\r\n2. You must not block the UI thread (the &quot;FX Application Thread&quot;). \r\n\r\nYou violate the first rule by calling `primaryStage.close()` in the `call()` method.\r\n\r\nYou violate the second rule with your busy `while` loop. (Worse; I think the service&#39;s `value` property is only updated on the FX Application Thread. So since you&#39;re blocking that thread, the `value` property can&#39;t be updated and the `while` loop never exits.)\r\n\r\nTo perform a UI action when the background `Task` completes, you can use the `onSucceeded` handler. This handler is invoked on the FX Application Thread, after the background task completes successfully.\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n       \r\n        try {\r\n\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\r\n\r\n            Scene scene = new Scene(root);\r\n            Stage primaryStage = new Stage();\r\n\r\n            primaryStage.initStyle(StageStyle.UNDECORATED);\r\n\r\n\r\n            Service&lt;ProjectModel&gt; service = new Service&lt;ProjectModel&gt;() {\r\n                @Override\r\n                protected Task&lt;ProjectModel&gt; createTask() {\r\n                    return new Task&lt;ProjectModel&gt;() {\r\n                        @Override\r\n                        protected ProjectModel call() throws Exception {\r\n                            SenderText data = new SenderText();\r\n                            int id = Integer.parseInt(data.getData());\r\n\r\n                            Client client = Client.getInstance();\r\n                            JSONObject tosend = new JSONObject();\r\n\r\n                            tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\r\n                            tosend.put(&quot;IDproject&quot;, id);\r\n\r\n                            GsonBuilder gsonBuilder = new GsonBuilder();\r\n                            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\r\n                            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\r\n                            Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n\r\n                            client.sendText(tosend.toString());\r\n                            String response = client.receiveText();\r\n\r\n                            ProjectModel project = gson.fromJson(response, ProjectModel.class);\r\n                            return project;\r\n                        }\r\n                    };\r\n\r\n                }\r\n            };\r\n\r\n            service.setOnSucceeded(event -&gt; {\r\n\r\n                System.out.println(&quot;Finish&quot;);\r\n\r\n                // I think; don&#39;t know what projectLocal is, or \r\n                // which threads it should be accessed from:\r\n                projectLocal = project ;\r\n                primaryStage.hide();\r\n            });\r\n\r\n            service.start();\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.showAndWait();\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nAs an aside, you probably don&#39;t need a `Service` here. `Service` is really designed for repeated use, and you are only using it once. Simply creating a `Task` and running it on a background thread should be enough:\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n       \r\n        try {\r\n\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\r\n\r\n            Scene scene = new Scene(root);\r\n            Stage primaryStage = new Stage();\r\n\r\n            primaryStage.initStyle(StageStyle.UNDECORATED);\r\n\r\n\r\n            Task&lt;ProjectModel&gt; task = new Task&lt;ProjectModel&gt;() {\r\n\r\n                @Override\r\n                protected ProjectModel call() throws Exception {\r\n                    SenderText data = new SenderText();\r\n                    int id = Integer.parseInt(data.getData());\r\n\r\n                    Client client = Client.getInstance();\r\n                    JSONObject tosend = new JSONObject();\r\n\r\n                    tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\r\n                    tosend.put(&quot;IDproject&quot;, id);\r\n\r\n                    GsonBuilder gsonBuilder = new GsonBuilder();\r\n                    gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\r\n                    gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\r\n                    Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n\r\n                    client.sendText(tosend.toString());\r\n                    String response = client.receiveText();\r\n\r\n                    ProjectModel project = gson.fromJson(response, ProjectModel.class);\r\n                    return project;\r\n\r\n                }\r\n            };\r\n\r\n            task.setOnSucceeded(event -&gt; {\r\n\r\n                System.out.println(&quot;Finish&quot;);\r\n\r\n                // I think; don&#39;t know what projectLocal is, or \r\n                // which threads it should be accessed from:\r\n                projectLocal = project ;\r\n                primaryStage.hide();\r\n            });\r\n\r\n            new Thread(task).start();\r\n\r\n            primaryStage.setScene(scene);\r\n            primaryStage.showAndWait();\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nThe structure of your code looks a little weird here. It looks like you are needing to create a model for your application at startup, and that startup takes some time, so you are showing a &quot;splash screen&quot; of some kind while it loads. The weird part here is that you are doing this in the `initialize()` method of a FXML controller. This should really be done in your `Application` class as part of the lifecycle method `start()`. The structure should look something like this:\r\n\r\n    public class App extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            Task&lt;ProjectModel&gt; task = new Task&lt;&gt;() {\r\n                @Override\r\n                public ProjectModel call() throws Exception {\r\n                    return loadModel();\r\n                }\r\n            };\r\n    \r\n            Stage loadingStage = showLoadingStage();\r\n            task.setOnSucceeded(e -&gt; {\r\n                loadingStage.hide();\r\n                showMainStage(primaryStage, task.getValue());\r\n            });\r\n    \r\n            new Thread(task).start();\r\n        }\r\n    \r\n        private ProjectModel loadModel() throws Exception {\r\n            // load model and return it....\r\n        }\r\n    \r\n        private Stage showLoadingStage() throws Exception {\r\n            Scene scene = new Scene(getClass().getResource(&quot;LoadingPage.fxml&quot;));\r\n            Stage loadingStage = new Stage();\r\n            loadingStage.initStyle(StageStyle.UNDECORATED);\r\n            loadingStage.setScene(scene);\r\n            loadingStage.show();\r\n            return loadingStage ;\r\n        }\r\n    \r\n        private void showMainStage(Stage stage, ProjectModel model) throws Exception {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\r\n            Parent root = loader.load();\r\n            MainController controller = loader.getController();\r\n            controller.setModel(model);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nwith the `MainController` being a regular FXML controller with a `setModel(...)` method:\r\n\r\n    public class MainController {\r\n    \r\n        private ProjectModel model ;\r\n    \r\n        // @FXML-annotated fields\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            // initialization work that does not require model\r\n        }\r\n    \r\n        public void setModel(ProjectModel model) {\r\n            this.model = model ;\r\n            // initialize any UI that depends on the model, etc.\r\n        }\r\n    }","title":"Java how to close a stage from Service Object","body":"<p>There are two main threading rules in JavaFX (similar to most other UI toolkits).</p>\n<ol>\n<li>You must not perform operations on the UI from a background thread. This includes creating, showing, or hiding windows.</li>\n<li>You must not block the UI thread (the &quot;FX Application Thread&quot;).</li>\n</ol>\n<p>You violate the first rule by calling <code>primaryStage.close()</code> in the <code>call()</code> method.</p>\n<p>You violate the second rule with your busy <code>while</code> loop. (Worse; I think the service's <code>value</code> property is only updated on the FX Application Thread. So since you're blocking that thread, the <code>value</code> property can't be updated and the <code>while</code> loop never exits.)</p>\n<p>To perform a UI action when the background <code>Task</code> completes, you can use the <code>onSucceeded</code> handler. This handler is invoked on the FX Application Thread, after the background task completes successfully.</p>\n<pre><code>public void initialize(URL url, ResourceBundle resourceBundle) {\n   \n    try {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\n\n        Scene scene = new Scene(root);\n        Stage primaryStage = new Stage();\n\n        primaryStage.initStyle(StageStyle.UNDECORATED);\n\n\n        Service&lt;ProjectModel&gt; service = new Service&lt;ProjectModel&gt;() {\n            @Override\n            protected Task&lt;ProjectModel&gt; createTask() {\n                return new Task&lt;ProjectModel&gt;() {\n                    @Override\n                    protected ProjectModel call() throws Exception {\n                        SenderText data = new SenderText();\n                        int id = Integer.parseInt(data.getData());\n\n                        Client client = Client.getInstance();\n                        JSONObject tosend = new JSONObject();\n\n                        tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\n                        tosend.put(&quot;IDproject&quot;, id);\n\n                        GsonBuilder gsonBuilder = new GsonBuilder();\n                        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\n                        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\n                        Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n                        client.sendText(tosend.toString());\n                        String response = client.receiveText();\n\n                        ProjectModel project = gson.fromJson(response, ProjectModel.class);\n                        return project;\n                    }\n                };\n\n            }\n        };\n\n        service.setOnSucceeded(event -&gt; {\n\n            System.out.println(&quot;Finish&quot;);\n\n            // I think; don't know what projectLocal is, or \n            // which threads it should be accessed from:\n            projectLocal = project ;\n            primaryStage.hide();\n        });\n\n        service.start();\n\n        primaryStage.setScene(scene);\n        primaryStage.showAndWait();\n        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<hr />\n<p>As an aside, you probably don't need a <code>Service</code> here. <code>Service</code> is really designed for repeated use, and you are only using it once. Simply creating a <code>Task</code> and running it on a background thread should be enough:</p>\n<pre><code>public void initialize(URL url, ResourceBundle resourceBundle) {\n   \n    try {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\n\n        Scene scene = new Scene(root);\n        Stage primaryStage = new Stage();\n\n        primaryStage.initStyle(StageStyle.UNDECORATED);\n\n\n        Task&lt;ProjectModel&gt; task = new Task&lt;ProjectModel&gt;() {\n\n            @Override\n            protected ProjectModel call() throws Exception {\n                SenderText data = new SenderText();\n                int id = Integer.parseInt(data.getData());\n\n                Client client = Client.getInstance();\n                JSONObject tosend = new JSONObject();\n\n                tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\n                tosend.put(&quot;IDproject&quot;, id);\n\n                GsonBuilder gsonBuilder = new GsonBuilder();\n                gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\n                gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\n                Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n                client.sendText(tosend.toString());\n                String response = client.receiveText();\n\n                ProjectModel project = gson.fromJson(response, ProjectModel.class);\n                return project;\n\n            }\n        };\n\n        task.setOnSucceeded(event -&gt; {\n\n            System.out.println(&quot;Finish&quot;);\n\n            // I think; don't know what projectLocal is, or \n            // which threads it should be accessed from:\n            projectLocal = project ;\n            primaryStage.hide();\n        });\n\n        new Thread(task).start();\n\n        primaryStage.setScene(scene);\n        primaryStage.showAndWait();\n        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<hr />\n<p>The structure of your code looks a little weird here. It looks like you are needing to create a model for your application at startup, and that startup takes some time, so you are showing a &quot;splash screen&quot; of some kind while it loads. The weird part here is that you are doing this in the <code>initialize()</code> method of a FXML controller. This should really be done in your <code>Application</code> class as part of the lifecycle method <code>start()</code>. The structure should look something like this:</p>\n<pre><code>public class App extends Application {\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Task&lt;ProjectModel&gt; task = new Task&lt;&gt;() {\n            @Override\n            public ProjectModel call() throws Exception {\n                return loadModel();\n            }\n        };\n\n        Stage loadingStage = showLoadingStage();\n        task.setOnSucceeded(e -&gt; {\n            loadingStage.hide();\n            showMainStage(primaryStage, task.getValue());\n        });\n\n        new Thread(task).start();\n    }\n\n    private ProjectModel loadModel() throws Exception {\n        // load model and return it....\n    }\n\n    private Stage showLoadingStage() throws Exception {\n        Scene scene = new Scene(getClass().getResource(&quot;LoadingPage.fxml&quot;));\n        Stage loadingStage = new Stage();\n        loadingStage.initStyle(StageStyle.UNDECORATED);\n        loadingStage.setScene(scene);\n        loadingStage.show();\n        return loadingStage ;\n    }\n\n    private void showMainStage(Stage stage, ProjectModel model) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\n        Parent root = loader.load();\n        MainController controller = loader.getController();\n        controller.setModel(model);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<p>with the <code>MainController</code> being a regular FXML controller with a <code>setModel(...)</code> method:</p>\n<pre><code>public class MainController {\n\n    private ProjectModel model ;\n\n    // @FXML-annotated fields\n\n    @FXML\n    private void initialize() {\n        // initialization work that does not require model\n    }\n\n    public void setModel(ProjectModel model) {\n        this.model = model ;\n        // initialize any UI that depends on the model, etc.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72291125,"answer_count":1,"score":0,"last_activity_date":1652888478,"creation_date":1652883357,"question_id":72290863,"body_markdown":"I am in the situation where I start a new view but in its controller i make a request to server to get some objects. This request takes some time so i want to implement a little loading view during this waiting time. So, in my controller i implemented a Service Object to make this request in another thread :\r\n\r\n     public void initialize(URL url, ResourceBundle resourceBundle) {\r\n           \r\n            try {\r\n               \r\n    \r\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\r\n    \r\n                Scene scene = new Scene(root);\r\n                Stage primaryStage = new Stage();\r\n    \r\n                primaryStage.initStyle(StageStyle.UNDECORATED);\r\n    \r\n    \r\n                Service&lt;ProjectModel&gt; service = new Service&lt;ProjectModel&gt;() {\r\n                    @Override\r\n                    protected Task&lt;ProjectModel&gt; createTask() {\r\n                        return new Task&lt;ProjectModel&gt;() {\r\n                            @Override\r\n                            protected ProjectModel call() throws Exception {\r\n                                SenderText data = new SenderText();\r\n                                int id = Integer.parseInt(data.getData());\r\n    \r\n                                Client client = Client.getInstance();\r\n                                JSONObject tosend = new JSONObject();\r\n    \r\n                                tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\r\n                                tosend.put(&quot;IDproject&quot;, id);\r\n    \r\n                                GsonBuilder gsonBuilder = new GsonBuilder();\r\n                                gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\r\n                                gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\r\n                                Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \r\n                                client.sendText(tosend.toString());\r\n                                String response = client.receiveText();\r\n    \r\n                                ProjectModel project = gson.fromJson(response, ProjectModel.class);\r\n                                projectLocal = project;\r\n                                System.out.println(gson.toJson(projectLocal));\r\n                                primaryStage.close();\r\n                                primaryStage.hide();\r\n                                return project;\r\n                            }\r\n                        };\r\n    \r\n                    }\r\n                };\r\n                service.start();\r\n    \r\n                primaryStage.setScene(scene);\r\n                primaryStage.initModality(Modality.APPLICATION_MODAL);\r\n                while (service.getValue() == null) {\r\n                    primaryStage.showAndWait();\r\n                }\r\n                primaryStage.close();\r\n    \r\n                System.out.println(&quot;Finish&quot;);\r\n                primaryStage.close();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nI tested and the object is set on call() method. But the loading view does not close. I also tried to call `primaryStage.show()` instead of `showandWait()` but it did not work. Any idea how to solve it? ","title":"Java how to close a stage from Service Object","body":"<p>I am in the situation where I start a new view but in its controller i make a request to server to get some objects. This request takes some time so i want to implement a little loading view during this waiting time. So, in my controller i implemented a Service Object to make this request in another thread :</p>\n<pre><code> public void initialize(URL url, ResourceBundle resourceBundle) {\n       \n        try {\n           \n\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/MiniPages/LoadingPage.fxml&quot;));\n\n            Scene scene = new Scene(root);\n            Stage primaryStage = new Stage();\n\n            primaryStage.initStyle(StageStyle.UNDECORATED);\n\n\n            Service&lt;ProjectModel&gt; service = new Service&lt;ProjectModel&gt;() {\n                @Override\n                protected Task&lt;ProjectModel&gt; createTask() {\n                    return new Task&lt;ProjectModel&gt;() {\n                        @Override\n                        protected ProjectModel call() throws Exception {\n                            SenderText data = new SenderText();\n                            int id = Integer.parseInt(data.getData());\n\n                            Client client = Client.getInstance();\n                            JSONObject tosend = new JSONObject();\n\n                            tosend.put(&quot;Type&quot;, &quot;Get Project&quot;);\n                            tosend.put(&quot;IDproject&quot;, id);\n\n                            GsonBuilder gsonBuilder = new GsonBuilder();\n                            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\n                            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\n                            Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n                            client.sendText(tosend.toString());\n                            String response = client.receiveText();\n\n                            ProjectModel project = gson.fromJson(response, ProjectModel.class);\n                            projectLocal = project;\n                            System.out.println(gson.toJson(projectLocal));\n                            primaryStage.close();\n                            primaryStage.hide();\n                            return project;\n                        }\n                    };\n\n                }\n            };\n            service.start();\n\n            primaryStage.setScene(scene);\n            primaryStage.initModality(Modality.APPLICATION_MODAL);\n            while (service.getValue() == null) {\n                primaryStage.showAndWait();\n            }\n            primaryStage.close();\n\n            System.out.println(&quot;Finish&quot;);\n            primaryStage.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I tested and the object is set on call() method. But the loading view does not close. I also tried to call <code>primaryStage.show()</code> instead of <code>showandWait()</code> but it did not work. Any idea how to solve it?</p>\n"},{"tags":["java","spring","unit-testing","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652888331,"creation_date":1652888331,"answer_id":72292155,"question_id":72291366,"body_markdown":"You can mock `Files` by `Mockito.mockStatic`. You should add `mockito-inline` dependency to your pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou can use `Mockito.mockStatic` in this way:\r\n```java\r\ntry (MockedStatic&lt;Files&gt; mockedFiles = Mockito.mockStatic(Files.class)) {\r\n    mockedFiles.when(() -&gt; Files.readAllBytes(any())).thenThrow(IOException.class);\r\n    // ...\r\n}\r\n```\r\n\r\nNote that, when you use `mockedStatic`, you had better use `try-with-resources` pattern and do your test in this scope like above.\r\n\r\nRead more about mockStatic: https://www.baeldung.com/mockito-mock-static-methods","title":"Mock and throw error for File readAllBytes","body":"<p>You can mock <code>Files</code> by <code>Mockito.mockStatic</code>. You should add <code>mockito-inline</code> dependency to your pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can use <code>Mockito.mockStatic</code> in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;Files&gt; mockedFiles = Mockito.mockStatic(Files.class)) {\n    mockedFiles.when(() -&gt; Files.readAllBytes(any())).thenThrow(IOException.class);\n    // ...\n}\n</code></pre>\n<p>Note that, when you use <code>mockedStatic</code>, you had better use <code>try-with-resources</code> pattern and do your test in this scope like above.</p>\n<p>Read more about mockStatic: <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-mock-static-methods</a></p>\n"}],"owner":{"account_id":23631971,"reputation":81,"user_id":17663555,"display_name":"Radha S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652888331,"creation_date":1652885230,"question_id":72291366,"body_markdown":"Want to mock File.readAllBytes to throw error first and then bytes[]..\r\n\r\ngetQueryTextFromFile is a private method and calling from another method to get bytes[]\r\n\r\n```\r\nprivate byte[] getQueryTextFromFile() {\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;./&quot;);\r\n\t\t\tbyte[] refreshTableQueryBytes = Files\r\n\t\t\t\t\t.readAllBytes(Paths.get(file.getAbsolutePath() +&quot;src/resources/queryFile&quot;));\r\n\t\t\treturn refreshTableQueryBytes;\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(&quot;Exception while fetching query details&quot;);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n ```\r\n\r\nHow to mock here to throw IOException using Mockito Framework","title":"Mock and throw error for File readAllBytes","body":"<p>Want to mock File.readAllBytes to throw error first and then bytes[]..</p>\n<p>getQueryTextFromFile is a private method and calling from another method to get bytes[]</p>\n<pre><code>private byte[] getQueryTextFromFile() {\n        try {\n            File file = new File(&quot;./&quot;);\n            byte[] refreshTableQueryBytes = Files\n                    .readAllBytes(Paths.get(file.getAbsolutePath() +&quot;src/resources/queryFile&quot;));\n            return refreshTableQueryBytes;\n        } catch (IOException e) {\n            logger.error(&quot;Exception while fetching query details&quot;);\n        }\n        return null;\n    }\n</code></pre>\n<p>How to mock here to throw IOException using Mockito Framework</p>\n"},{"tags":["java","groovy","sap-commerce-cloud"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1652763351,"post_id":72265405,"comment_id":127678063,"body_markdown":"from java you can run groovy code.","body":"from java you can run groovy code."},{"owner":{"account_id":18753486,"reputation":37,"user_id":13674068,"display_name":"samicic"},"score":0,"creation_date":1652775736,"post_id":72265405,"comment_id":127681506,"body_markdown":"The execution should be possible without any groovy tool like groovy shell or the groovy-all dependency.","body":"The execution should be possible without any groovy tool like groovy shell or the groovy-all dependency."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1652775978,"post_id":72265405,"comment_id":127681603,"body_markdown":"You must have groovy dependency if it&#39;s not present in hybris.","body":"You must have groovy dependency if it&#39;s not present in hybris."}],"answers":[{"tags":[],"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652799460,"creation_date":1652799460,"answer_id":72276284,"question_id":72265405,"body_markdown":"It&#39;s possible to run groovy in your code. Even in SystemSetup.\r\n\r\nYou can use the hybris service (spring bean) `de.hybris.platform.scripting.engine.ScriptingLanguagesService`\r\nthat&#39;s available in the `processing` extension\r\n\r\nIn the code, this could be something like\r\n\r\n\r\n    final ClassPathResource resource = new ClassPathResource(&quot;location.groovy&quot;);\r\n    final ResourceScriptContent content = new ResourceScriptContent(resource);\r\n    \r\n    ScriptExecutable groovyScript = scriptingLanguagesService.getExecutableByContent(content);\r\n    \r\n    ScriptExecutionResult result = groovyScript.execute();\r\n\r\nThis will execute a script on the given location in your classpath. If you don&#39;t have your groovy in a file in your classpath, there are other Content types possible. For example: SimpleScriptContent","title":"Possibilities to execute a groovy script with Hybris in java code (no hAC)","body":"<p>It's possible to run groovy in your code. Even in SystemSetup.</p>\n<p>You can use the hybris service (spring bean) <code>de.hybris.platform.scripting.engine.ScriptingLanguagesService</code>\nthat's available in the <code>processing</code> extension</p>\n<p>In the code, this could be something like</p>\n<pre><code>final ClassPathResource resource = new ClassPathResource(&quot;location.groovy&quot;);\nfinal ResourceScriptContent content = new ResourceScriptContent(resource);\n\nScriptExecutable groovyScript = scriptingLanguagesService.getExecutableByContent(content);\n\nScriptExecutionResult result = groovyScript.execute();\n</code></pre>\n<p>This will execute a script on the given location in your classpath. If you don't have your groovy in a file in your classpath, there are other Content types possible. For example: SimpleScriptContent</p>\n"},{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652887964,"creation_date":1652800401,"answer_id":72276536,"question_id":72265405,"body_markdown":"There are many to execute groovy script.\r\n\r\n**WAY 1:**\r\n\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.FileSystemResource;\r\n     \r\n    final Resource resource = new FileSystemResource(&quot;/Users/zeus/scripts/setMimesForMedias.groovy&quot;);\r\n    \r\n    // Let&#39;s assume we have scriptingLanguagesService injected by the Spring\r\n    final ScriptContent scriptContent = new ResourceScriptContent(resource);\r\n    final ScriptExecutable executable = scriptingLanguagesService.getExecutableByContent(scriptContent);\r\n     \r\n    // now we can execute script\r\n    final ScriptExecutionResult result = executable.execute();\r\n     \r\n    // to obtain result of execution \r\n    System.out.println(result.getScriptResult());\r\n\r\n**WAY 2 :**\r\nWe can use simple method as below to achieve.\r\n\r\nHere is the sample code:\r\n\r\n    import groovy.lang.Binding;\r\n    import groovy.lang.GroovyShell;\r\n    \r\n\r\n\r\n    GroovyShell groovy = new GroovyShell(new Binding());\r\n    groovy.setVariable(&quot;text&quot;,&quot;Hello World!&quot;); // you can variables here as many you needed\r\n    groovy.evaluate(&quot;println text&quot;); // you can pass file as well instead of text\r\n\r\n\r\n**WAY 3 :**\r\nIf you want the OOB one, **ScriptingJobPerformable** is the OOB class which you can take reference from that.\r\n\r\n    final ScriptExecutable executable = scriptingLanguagesService.getExecutableByURI(dynamicScriptingJob.getScriptURI());\r\n\r\n\t\tLOG.info(&quot;### Starting executing script : &quot; + dynamicScriptingJob.getScriptURI() + &quot; ###&quot;);\r\n\t\tfinal Map&lt;String, Object&gt; params = ImmutableMap.&lt;String, Object&gt;builder()//\r\n\t\t                                                                         .put(&quot;cronjob&quot;, cronJob) //\r\n\t\t                                                                         .put(&quot;log&quot;, LOG) //\r\n\t\t                                                                         .build();\r\n\t\tfinal ScriptExecutionResult result = executable.execute(params);\r\n\r\n\r\nPlease refer [Scripting Engine][1] for detailed explanation\r\n\r\n\r\n  [1]: https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/8bec04a386691014938a9996a977d07f.html","title":"Possibilities to execute a groovy script with Hybris in java code (no hAC)","body":"<p>There are many to execute groovy script.</p>\n<p><strong>WAY 1:</strong></p>\n<pre><code>import org.springframework.core.io.Resource;\nimport org.springframework.core.io.FileSystemResource;\n \nfinal Resource resource = new FileSystemResource(&quot;/Users/zeus/scripts/setMimesForMedias.groovy&quot;);\n\n// Let's assume we have scriptingLanguagesService injected by the Spring\nfinal ScriptContent scriptContent = new ResourceScriptContent(resource);\nfinal ScriptExecutable executable = scriptingLanguagesService.getExecutableByContent(scriptContent);\n \n// now we can execute script\nfinal ScriptExecutionResult result = executable.execute();\n \n// to obtain result of execution \nSystem.out.println(result.getScriptResult());\n</code></pre>\n<p><strong>WAY 2 :</strong>\nWe can use simple method as below to achieve.</p>\n<p>Here is the sample code:</p>\n<pre><code>import groovy.lang.Binding;\nimport groovy.lang.GroovyShell;\n\n\n\nGroovyShell groovy = new GroovyShell(new Binding());\ngroovy.setVariable(&quot;text&quot;,&quot;Hello World!&quot;); // you can variables here as many you needed\ngroovy.evaluate(&quot;println text&quot;); // you can pass file as well instead of text\n</code></pre>\n<p><strong>WAY 3 :</strong>\nIf you want the OOB one, <strong>ScriptingJobPerformable</strong> is the OOB class which you can take reference from that.</p>\n<pre><code>final ScriptExecutable executable = scriptingLanguagesService.getExecutableByURI(dynamicScriptingJob.getScriptURI());\n\n    LOG.info(&quot;### Starting executing script : &quot; + dynamicScriptingJob.getScriptURI() + &quot; ###&quot;);\n    final Map&lt;String, Object&gt; params = ImmutableMap.&lt;String, Object&gt;builder()//\n                                                                             .put(&quot;cronjob&quot;, cronJob) //\n                                                                             .put(&quot;log&quot;, LOG) //\n                                                                             .build();\n    final ScriptExecutionResult result = executable.execute(params);\n</code></pre>\n<p>Please refer <a href=\"https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/8bec04a386691014938a9996a977d07f.html\" rel=\"nofollow noreferrer\">Scripting Engine</a> for detailed explanation</p>\n"}],"owner":{"account_id":18753486,"reputation":37,"user_id":13674068,"display_name":"samicic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1902,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72276284,"answer_count":2,"score":1,"last_activity_date":1652887964,"creation_date":1652733834,"question_id":72265405,"body_markdown":"I&#39;m wondering if there is a way to execute a groovy script with Hybris. I know how groovy scripts are executed with the Hybris Administration Console (hAC), but I need a solution to execute such a script from java code. Preferably with the Patching Framework&#39;s @SystemSetup but not necessary. (https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/5db22427a1d541669bc4d12793a7b672.html?locale=en-US)\r\n\r\nI&#39;m looking for a method similar to Impex import (eg. from core extension):\r\n\r\n    @SystemSetup(extension = SampleCoreConstants.EXTENSIONNAME)\r\n    public class CoreSystemSetup extends AbstractSystemSetup {\r\n\r\n\tpublic static final String IMPORT_ACCESS_RIGHTS = &quot;accessRights&quot;;\r\n\r\n\t@SystemSetup(type = Type.ESSENTIAL, process = Process.ALL)\r\n\tpublic void createEssentialData(final SystemSetupContext context)\r\n\t{\r\n\t\timportImpexFile(context, &quot;/samplecore/import/common/file-name.impex&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\t@SystemSetupParameterMethod\r\n\tpublic List&lt;SystemSetupParameter&gt; getInitializationOptions()\r\n\t{\r\n\t\tfinal List&lt;SystemSetupParameter&gt; params = new ArrayList&lt;&gt;();\r\n\r\n\t\tparams.add(createBooleanSystemSetupParameter(IMPORT_ACCESS_RIGHTS, &quot;Import Users &amp; Groups&quot;, true));\r\n\r\n\t\treturn params;\r\n\t}\r\n\r\nHere the same with SQL: https://www.stackextend.com/hybris/run-native-sql-query-hybris/\r\n\r\nSo anyone who can help me out with a solution (or with a clear answer if this is possible or not) are welcome.\r\n\r\nThanks!","title":"Possibilities to execute a groovy script with Hybris in java code (no hAC)","body":"<p>I'm wondering if there is a way to execute a groovy script with Hybris. I know how groovy scripts are executed with the Hybris Administration Console (hAC), but I need a solution to execute such a script from java code. Preferably with the Patching Framework's @SystemSetup but not necessary. (<a href=\"https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/5db22427a1d541669bc4d12793a7b672.html?locale=en-US\" rel=\"nofollow noreferrer\">https://help.sap.com/docs/SAP_COMMERCE/d0224eca81e249cb821f2cdf45a82ace/5db22427a1d541669bc4d12793a7b672.html?locale=en-US</a>)</p>\n<p>I'm looking for a method similar to Impex import (eg. from core extension):</p>\n<pre><code>@SystemSetup(extension = SampleCoreConstants.EXTENSIONNAME)\npublic class CoreSystemSetup extends AbstractSystemSetup {\n\npublic static final String IMPORT_ACCESS_RIGHTS = &quot;accessRights&quot;;\n\n@SystemSetup(type = Type.ESSENTIAL, process = Process.ALL)\npublic void createEssentialData(final SystemSetupContext context)\n{\n    importImpexFile(context, &quot;/samplecore/import/common/file-name.impex&quot;);\n}\n\n@Override\n@SystemSetupParameterMethod\npublic List&lt;SystemSetupParameter&gt; getInitializationOptions()\n{\n    final List&lt;SystemSetupParameter&gt; params = new ArrayList&lt;&gt;();\n\n    params.add(createBooleanSystemSetupParameter(IMPORT_ACCESS_RIGHTS, &quot;Import Users &amp; Groups&quot;, true));\n\n    return params;\n}\n</code></pre>\n<p>Here the same with SQL: <a href=\"https://www.stackextend.com/hybris/run-native-sql-query-hybris/\" rel=\"nofollow noreferrer\">https://www.stackextend.com/hybris/run-native-sql-query-hybris/</a></p>\n<p>So anyone who can help me out with a solution (or with a clear answer if this is possible or not) are welcome.</p>\n<p>Thanks!</p>\n"},{"tags":["java","scala","asynchronous","akka"],"comments":[{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":10,"creation_date":1292874728,"post_id":4493001,"comment_id":4915776,"body_markdown":"Isn&#39;t it easier to start with the problem and find a solution for it, than having a solution and looking a problem to apply it on? \nMy guess is that instead using RMI, Akka and its actors look much easier/simpler to write code for.","body":"Isn&#39;t it easier to start with the problem and find a solution for it, than having a solution and looking a problem to apply it on?  My guess is that instead using RMI, Akka and its actors look much easier/simpler to write code for."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":75,"creation_date":1292875804,"post_id":4493001,"comment_id":4915974,"body_markdown":"Yes, if I had specific problem to solve. I am not looking for an &quot;excuse to use Akka&quot; by any means, but I am interested in learning bit more. This may help solve future problems too, but mostly it&#39;s for on-going learning process.","body":"Yes, if I had specific problem to solve. I am not looking for an &quot;excuse to use Akka&quot; by any means, but I am interested in learning bit more. This may help solve future problems too, but mostly it&#39;s for on-going learning process."},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1369153890,"post_id":4493001,"comment_id":23993485,"body_markdown":"There is related question but about applying AKKA for existing application + some use cases: http://stackoverflow.com/questions/16595685/example-of-integration-akka-with-existing-java-poject/16674690#16674690","body":"There is related question but about applying AKKA for existing application + some use cases: <a href=\"http://stackoverflow.com/questions/16595685/example-of-integration-akka-with-existing-java-poject/16674690#16674690\" title=\"example of integration akka with existing java poject\">stackoverflow.com/questions/16595685/&hellip;</a>"},{"owner":{"account_id":3176596,"reputation":2570,"user_id":2684301,"accept_rate":59,"display_name":"user2684301"},"score":2,"creation_date":1389713152,"post_id":4493001,"comment_id":31773222,"body_markdown":"Akka is a better solution over JMS or an MQ-style distributed messsage queue system. That&#39;s the best way to understand it for myself who was recently asking the exact same question: &quot;I understand how to use it and see where I could use it, but I can&#39;t see where this would provide a real advantage&quot;. The core design assumptions behind Akka are much better than those behind JMS/MQ, specifically regarding process isolation, lock-less design, and retry/failure handling. Secondly, the API is much more elegant than JMS/MQ tools.","body":"Akka is a better solution over JMS or an MQ-style distributed messsage queue system. That&#39;s the best way to understand it for myself who was recently asking the exact same question: &quot;I understand how to use it and see where I could use it, but I can&#39;t see where this would provide a real advantage&quot;. The core design assumptions behind Akka are much better than those behind JMS/MQ, specifically regarding process isolation, lock-less design, and retry/failure handling. Secondly, the API is much more elegant than JMS/MQ tools."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":2,"creation_date":1389733092,"post_id":4493001,"comment_id":31785781,"body_markdown":"@user2684301 hmmh. I find that answer bit unfair, in apples-to-oranges way. MQs are (logically) simple building blocks that do much less than Akka, and I would not compare them side by side. But I guess if I read it as &quot;compared to distributed systems built using JMS, written declaratively&quot; then it&#39;d make more sense.","body":"@user2684301 hmmh. I find that answer bit unfair, in apples-to-oranges way. MQs are (logically) simple building blocks that do much less than Akka, and I would not compare them side by side. But I guess if I read it as &quot;compared to distributed systems built using JMS, written declaratively&quot; then it&#39;d make more sense."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1512602095,"post_id":4493001,"comment_id":82329729,"body_markdown":"Absolutely pathetic that such a good question has been closed.","body":"Absolutely pathetic that such a good question has been closed."},{"owner":{"account_id":1750120,"reputation":709,"user_id":1599402,"display_name":"software.wikipedia"},"score":0,"creation_date":1546987236,"post_id":4493001,"comment_id":95034442,"body_markdown":"Philosophy of AKKA: found this on Akka site: https://doc.akka.io/docs/akka-http/current/introduction.html#philosophy","body":"Philosophy of AKKA: found this on Akka site: <a href=\"https://doc.akka.io/docs/akka-http/current/introduction.html#philosophy\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka-http/current/introduction.html#philoso&zwnj;&#8203;phy</a>"}],"answers":[{"tags":[],"owner":{"account_id":206945,"reputation":1273,"user_id":456551,"display_name":"tylerweir"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1292882048,"creation_date":1292882048,"answer_id":4494323,"question_id":4493001,"body_markdown":"If you abstract the chat server up a level, then you get the answer.\r\n\r\nAkka provides a messaging system that is akin to Erlang&#39;s &quot;let it crash&quot; mentality.\r\n\r\nSo examples are things that need varying levels of durability and reliability of messaging:\r\n\r\n - Chat server\r\n - Network layer for an MMO\r\n - Financial data pump\r\n - Notification system for an iPhone/mobile/whatever app\r\n - REST Server\r\n - Maybe something akin to WebMachine (guess)\r\n\r\nThe nice things about Akka are the choices it affords for persistence, it&#39;s STM implementation, REST server and fault-tolerance.\r\n\r\nDon&#39;t get annoyed by the example of a chat server, think of it as an example of a certain class of solution.\r\n\r\nWith all their excellent documentation, I feel like a gap is this exact question, use-cases and examples.  Keeping in mind the examples are non-trivial. \r\n\r\n(Written with only experience of watching videos and playing with the source, I have implemented nothing using akka.)","title":"What are the best use cases for Akka framework","body":"<p>If you abstract the chat server up a level, then you get the answer.</p>\n\n<p>Akka provides a messaging system that is akin to Erlang's \"let it crash\" mentality.</p>\n\n<p>So examples are things that need varying levels of durability and reliability of messaging:</p>\n\n<ul>\n<li>Chat server</li>\n<li>Network layer for an MMO</li>\n<li>Financial data pump</li>\n<li>Notification system for an iPhone/mobile/whatever app</li>\n<li>REST Server</li>\n<li>Maybe something akin to WebMachine (guess)</li>\n</ul>\n\n<p>The nice things about Akka are the choices it affords for persistence, it's STM implementation, REST server and fault-tolerance.</p>\n\n<p>Don't get annoyed by the example of a chat server, think of it as an example of a certain class of solution.</p>\n\n<p>With all their excellent documentation, I feel like a gap is this exact question, use-cases and examples.  Keeping in mind the examples are non-trivial. </p>\n\n<p>(Written with only experience of watching videos and playing with the source, I have implemented nothing using akka.)</p>\n"},{"tags":[],"owner":{"account_id":92187,"reputation":1026,"user_id":252743,"display_name":"Wade Arnold"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1459465371,"creation_date":1292883386,"answer_id":4494512,"question_id":4493001,"body_markdown":"An example of how we use it would be on a priority queue of debit/credit card transactions. We have millions of these and the effort of the work depends on the input string type. If the transaction is of type CHECK we have very little processing but if it is a point of sale then there is lots to do such as merge with meta data (category, label, tags, etc) and provide services (email/sms alerts, fraud detection, low funds balance, etc). \r\nBased on the input type we compose classes of various traits (called mixins) necessary to handle the job and then perform the work. All of these jobs come into the same queue in realtime mode from different financial institutions. Once the data is cleansed it is sent to different data stores for persistence, analytics, or pushed to a socket connection, or to Lift comet actor. Working actors are constantly self load balancing the work so that we can process the data as fast as possible. We can also snap in additional services, persistence models, and [tag:STM] for critical decision points. \r\n \r\nThe Erlang OTP style message passing on the JVM makes a great system for developing realtime systems on the shoulders of existing libraries and application servers. \r\n\r\nAkka allows you to do message passing like you would in a traditional [tag:ESB] but with speed! It also gives you tools in the framework to manage the vast amount of actor pools, remote nodes, and fault tolerance that you need for your solution. \r\n","title":"What are the best use cases for Akka framework","body":"<p>An example of how we use it would be on a priority queue of debit/credit card transactions. We have millions of these and the effort of the work depends on the input string type. If the transaction is of type CHECK we have very little processing but if it is a point of sale then there is lots to do such as merge with meta data (category, label, tags, etc) and provide services (email/sms alerts, fraud detection, low funds balance, etc). \nBased on the input type we compose classes of various traits (called mixins) necessary to handle the job and then perform the work. All of these jobs come into the same queue in realtime mode from different financial institutions. Once the data is cleansed it is sent to different data stores for persistence, analytics, or pushed to a socket connection, or to Lift comet actor. Working actors are constantly self load balancing the work so that we can process the data as fast as possible. We can also snap in additional services, persistence models, and <a href=\"/questions/tagged/stm\" class=\"post-tag\" title=\"show questions tagged &#39;stm&#39;\" rel=\"tag\">stm</a> for critical decision points. </p>\n\n<p>The Erlang OTP style message passing on the JVM makes a great system for developing realtime systems on the shoulders of existing libraries and application servers. </p>\n\n<p>Akka allows you to do message passing like you would in a traditional <a href=\"/questions/tagged/esb\" class=\"post-tag\" title=\"show questions tagged &#39;esb&#39;\" rel=\"tag\">esb</a> but with speed! It also gives you tools in the framework to manage the vast amount of actor pools, remote nodes, and fault tolerance that you need for your solution. </p>\n"},{"tags":[],"owner":{"account_id":20835,"reputation":4890,"user_id":50142,"display_name":"Raymond Roestenburg"},"down_vote_count":1,"up_vote_count":332,"is_accepted":true,"score":331,"last_activity_date":1292883453,"creation_date":1292883453,"answer_id":4494522,"question_id":4493001,"body_markdown":"I have used it so far in two real projects very successfully. both are in the near real-time traffic information field (traffic as in cars on highways), distributed over several nodes, integrating messages between several parties, reliable backend systems. I&#39;m not at liberty to give specifics on clients yet, when I do get the OK maybe it can be added as a reference. \r\n\r\nAkka has really pulled through on those projects, even though we started when it was on version 0.7. (we are using scala by the way)\r\n\r\nOne of the big advantages is the ease at which you can compose a system out of actors and messages with almost no boilerplating, it scales extremely well without all the complexities of hand-rolled threading and you get asynchronous message passing between objects almost for free.\r\n\r\nIt is very good in modeling any type of asynchronous message handling. I would prefer to write any type of (web) services system in this style than any other style. (Have you ever tried to write an asynchronous web service (server side) with JAX-WS? that&#39;s a lot of plumbing). So I would say any system that does not want to hang on one of its components because everything is implicitly called using synchronous methods, and that one component is locking on something. It is very stable and the let-it-crash + supervisor solution to failure really works well. Everything is easy to setup programmatically and not hard to unit test.\r\n\r\nThen there are the excellent add-on modules.\r\nThe Camel module really plugs in well into Akka and enables such easy development of asynchronous services with configurable endpoints. \r\n\r\nI&#39;m very happy with the framework and it is becoming a defacto standard for the connected systems that we build.","title":"What are the best use cases for Akka framework","body":"<p>I have used it so far in two real projects very successfully. both are in the near real-time traffic information field (traffic as in cars on highways), distributed over several nodes, integrating messages between several parties, reliable backend systems. I'm not at liberty to give specifics on clients yet, when I do get the OK maybe it can be added as a reference. </p>\n\n<p>Akka has really pulled through on those projects, even though we started when it was on version 0.7. (we are using scala by the way)</p>\n\n<p>One of the big advantages is the ease at which you can compose a system out of actors and messages with almost no boilerplating, it scales extremely well without all the complexities of hand-rolled threading and you get asynchronous message passing between objects almost for free.</p>\n\n<p>It is very good in modeling any type of asynchronous message handling. I would prefer to write any type of (web) services system in this style than any other style. (Have you ever tried to write an asynchronous web service (server side) with JAX-WS? that's a lot of plumbing). So I would say any system that does not want to hang on one of its components because everything is implicitly called using synchronous methods, and that one component is locking on something. It is very stable and the let-it-crash + supervisor solution to failure really works well. Everything is easy to setup programmatically and not hard to unit test.</p>\n\n<p>Then there are the excellent add-on modules.\nThe Camel module really plugs in well into Akka and enables such easy development of asynchronous services with configurable endpoints. </p>\n\n<p>I'm very happy with the framework and it is becoming a defacto standard for the connected systems that we build.</p>\n"},{"tags":[],"owner":{"account_id":80592,"reputation":26519,"user_id":227803,"display_name":"Viktor Klang"},"down_vote_count":12,"up_vote_count":239,"is_accepted":false,"score":227,"last_activity_date":1292884880,"creation_date":1292884067,"answer_id":4494613,"question_id":4493001,"body_markdown":"Disclaimer: I am the PO for Akka\r\n\r\nBesides offering a concurrency smorgasbord that is much simpler to reason about and to get correct (actors, agents, dataflow concurrency) and with concurrency control in the form of STM.\r\n\r\nHere are some use-cases you might consider:\r\n\r\n 1.  Transaction processing (online\r\n    gaming, finance, statistics,\r\n    betting, social media, telecom, ...)\r\n       - scale up, scale out, fault-tolerance / HA\r\n 2. Service backend (any industry, any app)\r\n       - service REST, SOAP, cometd etc\r\n       - act as message hub / integration layer\r\n       - scale up, scale out, fault-tolerance / HA\r\n 3. Snap-in concurrency/parallelism ( any app )\r\n       - Correct\r\n       - Simple to work with and understand\r\n       - Just add the jars to your existing JVM project (use Scala,\r\n    Java, Groovy or JRuby)\r\n 4. Batch processing ( any industry )\r\n       - Camel integration to hook up with batch data sources\r\n       - Actors divide and conquer the batch workloads\r\n 5. Communications hub ( telecom, web media, mobile media )\r\n       - scale up, scale out, fault-tolerance / HA\r\n 6. Game server (online gaming, betting)\r\n       - scale up, scale out, fault-tolerance / HA\r\n 7. BI/datamining/general purpose crunching\r\n       - scale up, scale out, fault-tolerance / HA\r\n 8. insert other nice use cases here\r\n","title":"What are the best use cases for Akka framework","body":"<p>Disclaimer: I am the PO for Akka</p>\n\n<p>Besides offering a concurrency smorgasbord that is much simpler to reason about and to get correct (actors, agents, dataflow concurrency) and with concurrency control in the form of STM.</p>\n\n<p>Here are some use-cases you might consider:</p>\n\n<ol>\n<li>Transaction processing (online\ngaming, finance, statistics,\nbetting, social media, telecom, ...)\n<ul>\n<li>scale up, scale out, fault-tolerance / HA</li>\n</ul></li>\n<li>Service backend (any industry, any app)\n<ul>\n<li>service REST, SOAP, cometd etc</li>\n<li>act as message hub / integration layer</li>\n<li>scale up, scale out, fault-tolerance / HA</li>\n</ul></li>\n<li>Snap-in concurrency/parallelism ( any app )\n<ul>\n<li>Correct</li>\n<li>Simple to work with and understand</li>\n<li>Just add the jars to your existing JVM project (use Scala,\nJava, Groovy or JRuby)</li>\n</ul></li>\n<li>Batch processing ( any industry )\n<ul>\n<li>Camel integration to hook up with batch data sources</li>\n<li>Actors divide and conquer the batch workloads</li>\n</ul></li>\n<li>Communications hub ( telecom, web media, mobile media )\n<ul>\n<li>scale up, scale out, fault-tolerance / HA</li>\n</ul></li>\n<li>Game server (online gaming, betting)\n<ul>\n<li>scale up, scale out, fault-tolerance / HA</li>\n</ul></li>\n<li>BI/datamining/general purpose crunching\n<ul>\n<li>scale up, scale out, fault-tolerance / HA</li>\n</ul></li>\n<li>insert other nice use cases here</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1292934853,"creation_date":1292934853,"answer_id":4499286,"question_id":4493001,"body_markdown":"We are using Akka in a large scale Telco project (unfortunately I can&#39;t disclose a lot of details).\r\nAkka actors are deployed and accessed remotely by a web application. In this way, we have a simplified RPC model based on Google protobuffer and we achieve parallelism using Akka Futures.\r\nSo far, this model has worked brilliantly. One note: we are using the Java API.","title":"What are the best use cases for Akka framework","body":"<p>We are using Akka in a large scale Telco project (unfortunately I can't disclose a lot of details).\nAkka actors are deployed and accessed remotely by a web application. In this way, we have a simplified RPC model based on Google protobuffer and we achieve parallelism using Akka Futures.\nSo far, this model has worked brilliantly. One note: we are using the Java API.</p>\n"},{"tags":[],"owner":{"account_id":39373,"reputation":3110,"user_id":113507,"accept_rate":100,"display_name":"Daniel Ribeiro"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1292935681,"creation_date":1292935681,"answer_id":4499394,"question_id":4493001,"body_markdown":"I&#39;ve recently [implemented][1] the canonical map-reduce example in Akka: Word count. So it&#39;s one use case of Akka: better performance. It was more of a experiment of [JRuby and Akka&#39;s actors][2] than anything else, but it also shows that Akka is not Scala or Java only: it works on all languages on top of JVM.\r\n\r\n\r\n  [1]: https://github.com/danielribeiro/RubyOnAkka\r\n  [2]: http://metaphysicaldeveloper.wordpress.com/2010/12/16/high-level-concurrency-with-jruby-and-akka-actors/","title":"What are the best use cases for Akka framework","body":"<p>I've recently <a href=\"https://github.com/danielribeiro/RubyOnAkka\" rel=\"noreferrer\">implemented</a> the canonical map-reduce example in Akka: Word count. So it's one use case of Akka: better performance. It was more of a experiment of <a href=\"http://metaphysicaldeveloper.wordpress.com/2010/12/16/high-level-concurrency-with-jruby-and-akka-actors/\" rel=\"noreferrer\">JRuby and Akka's actors</a> than anything else, but it also shows that Akka is not Scala or Java only: it works on all languages on top of JVM.</p>\n"},{"tags":[],"owner":{"account_id":263991,"reputation":181,"user_id":549946,"display_name":"Matthias L. Jugel"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1292937004,"creation_date":1292937004,"answer_id":4499569,"question_id":4493001,"body_markdown":"We are using akka with its camel plugin to distribute our analysis and trending processing for [twimpact.com][1]. We have to process between 50 and 1000 messages per second. In addition to multi-node processing with camel it is also used to distribute work on a single processor to multiple workers for maximum performance. Works quite well, but requires some understanding of how to handle congestions.\r\n\r\n\r\n  [1]: http://twimpact.com/","title":"What are the best use cases for Akka framework","body":"<p>We are using akka with its camel plugin to distribute our analysis and trending processing for <a href=\"http://twimpact.com/\">twimpact.com</a>. We have to process between 50 and 1000 messages per second. In addition to multi-node processing with camel it is also used to distribute work on a single processor to multiple workers for maximum performance. Works quite well, but requires some understanding of how to handle congestions.</p>\n"},{"tags":[],"owner":{"account_id":687654,"reputation":251,"user_id":550166,"display_name":"rossputin"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1292946913,"creation_date":1292946913,"answer_id":4501141,"question_id":4493001,"body_markdown":"We use Akka in several projects at work, the most interesting of which is related to vehicle crash repair.  Primarily in the UK but now expanding to the US, Asia, Australasia and Europe.\r\nWe use actors to ensure that crash repair information is provided realtime to enable the safe and cost effective repair of vehicles.\r\n\r\nThe question with Akka is really more &#39;what can&#39;t you do with Akka&#39;.  Its ability to integrate with powerful frameworks, its powerful abstraction and all of the fault tolerance aspects make it a very comprehensive toolkit.","title":"What are the best use cases for Akka framework","body":"<p>We use Akka in several projects at work, the most interesting of which is related to vehicle crash repair.  Primarily in the UK but now expanding to the US, Asia, Australasia and Europe.\nWe use actors to ensure that crash repair information is provided realtime to enable the safe and cost effective repair of vehicles.</p>\n\n<p>The question with Akka is really more 'what can't you do with Akka'.  Its ability to integrate with powerful frameworks, its powerful abstraction and all of the fault tolerance aspects make it a very comprehensive toolkit.</p>\n"},{"tags":[],"owner":{"account_id":1561945,"reputation":663,"user_id":1451634,"accept_rate":62,"display_name":"sutanu dalui"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1340311073,"creation_date":1340311073,"answer_id":11146348,"question_id":4493001,"body_markdown":"I was trying out my hands on Akka (Java api). What I tried was to compare Akka&#39;s actor based concurrency model with that of plain Java concurrency model (java.util.concurrent classes).\r\n\r\nThe use case was a simple canonical map reduce implementation of character count. The dataset was a collection of randomly generated strings (400 chars in length), and calculate the number of vowels in them.\r\n\r\nFor Akka I used a BalancedDispatcher(for load balancing amongst threads) and RoundRobinRouter (to keep a limit on my function actors). For Java, I used simple fork join technique (implemented without any work stealing algorithm) that would fork map/reduce executions and join the results. Intermediate results were held in blocking queues to make even the joining as parallel as possible. Probably, if I am not wrong, that would mimic somehow the &quot;mailbox&quot; concept of Akka actors, where they receive messages.\r\n\r\nObservation:\r\nTill medium loads (~50000 string input) the results were comparable, varying slightly in different iterations. However, as I increased my load to ~100000 it would hang the Java solution. I configured the Java solution with 20-30 threads under this condition and it failed in all iterations. \r\n\r\nIncreasing the load to 1000000, was fatal for Akka as well. I can share the code with anyone interested to have a cross check.\r\n\r\nSo for me, it seems Akka scales out better than traditional Java multithreaded solution. And probably the reason is the under the hood magic of Scala.\r\n\r\nIf I can model a problem domain as an event driven message passing one, I think Akka is a good choice for the JVM. \r\n\r\nTest performed on:\r\nJava version:1.6\r\nIDE: Eclipse 3.7\r\nWindows Vista 32 bit. 3GB ram. Intel Core i5 processor, 2.5 GHz clock speed\r\n\r\nPlease note, the problem domain used for the test can be debated and I tried to be as much fair as my Java knowledge allowed :-)","title":"What are the best use cases for Akka framework","body":"<p>I was trying out my hands on Akka (Java api). What I tried was to compare Akka's actor based concurrency model with that of plain Java concurrency model (java.util.concurrent classes).</p>\n\n<p>The use case was a simple canonical map reduce implementation of character count. The dataset was a collection of randomly generated strings (400 chars in length), and calculate the number of vowels in them.</p>\n\n<p>For Akka I used a BalancedDispatcher(for load balancing amongst threads) and RoundRobinRouter (to keep a limit on my function actors). For Java, I used simple fork join technique (implemented without any work stealing algorithm) that would fork map/reduce executions and join the results. Intermediate results were held in blocking queues to make even the joining as parallel as possible. Probably, if I am not wrong, that would mimic somehow the \"mailbox\" concept of Akka actors, where they receive messages.</p>\n\n<p>Observation:\nTill medium loads (~50000 string input) the results were comparable, varying slightly in different iterations. However, as I increased my load to ~100000 it would hang the Java solution. I configured the Java solution with 20-30 threads under this condition and it failed in all iterations. </p>\n\n<p>Increasing the load to 1000000, was fatal for Akka as well. I can share the code with anyone interested to have a cross check.</p>\n\n<p>So for me, it seems Akka scales out better than traditional Java multithreaded solution. And probably the reason is the under the hood magic of Scala.</p>\n\n<p>If I can model a problem domain as an event driven message passing one, I think Akka is a good choice for the JVM. </p>\n\n<p>Test performed on:\nJava version:1.6\nIDE: Eclipse 3.7\nWindows Vista 32 bit. 3GB ram. Intel Core i5 processor, 2.5 GHz clock speed</p>\n\n<p>Please note, the problem domain used for the test can be debated and I tried to be as much fair as my Java knowledge allowed :-)</p>\n"},{"tags":[],"owner":{"account_id":75634,"reputation":1243,"user_id":216890,"display_name":"piotrga"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1353165051,"creation_date":1353165051,"answer_id":13431856,"question_id":4493001,"body_markdown":"We use Akka to process REST calls asynchronously - together with async web server (Netty-based) we can achieve 10 fold improvement on the number of users served per node/server, comparing to traditional thread per user request model.\r\n\r\nTell it to your boss that your AWS hosting bill is going to drop by the factor of 10 and it is a no-brainer! Shh... dont tell it to Amazon though... :)","title":"What are the best use cases for Akka framework","body":"<p>We use Akka to process REST calls asynchronously - together with async web server (Netty-based) we can achieve 10 fold improvement on the number of users served per node/server, comparing to traditional thread per user request model.</p>\n\n<p>Tell it to your boss that your AWS hosting bill is going to drop by the factor of 10 and it is a no-brainer! Shh... dont tell it to Amazon though... :)</p>\n"},{"tags":[],"owner":{"account_id":3127940,"reputation":2391,"user_id":2646454,"accept_rate":25,"display_name":"Arseniy Zhizhelev"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1376033781,"creation_date":1376033781,"answer_id":18142068,"question_id":4493001,"body_markdown":"We use Akka in spoken dialog systems ([primetalk][1]). Both internally and externally. In order to simultaneously run a lot of telephony channels on a single cluster node it is obviously necessary to have some multithreading framework. Akka works just perfect. We have previous nightmare with the java-concurrency. And with Akka it is just like a swing — it simply works. Robust and reliable. 24*7, non-stop.\r\n\r\nInside a channel we have real-time stream of events that are processed in parallel. In particular:\r\n- lengthy automatic speech recognition — is done with an actor;\r\n- audio output producer that mixes a few audio sources (including synthesized speech);\r\n- text-to-speech conversion is a separate set of actors shared between channels;\r\n- semantic and knowledge processing.\r\n\r\nTo make interconnections of complex signal processing we use [SynapseGrid][2]. It has the benefit of compile-time checking of the DataFlow in the complex actor systems.\r\n\r\n  [1]: http://www.primetalk.ru/en/\r\n  [2]: https://github.com/Primetalk/SynapseGrid/","title":"What are the best use cases for Akka framework","body":"<p>We use Akka in spoken dialog systems (<a href=\"http://www.primetalk.ru/en/\">primetalk</a>). Both internally and externally. In order to simultaneously run a lot of telephony channels on a single cluster node it is obviously necessary to have some multithreading framework. Akka works just perfect. We have previous nightmare with the java-concurrency. And with Akka it is just like a swing — it simply works. Robust and reliable. 24*7, non-stop.</p>\n\n<p>Inside a channel we have real-time stream of events that are processed in parallel. In particular:\n- lengthy automatic speech recognition — is done with an actor;\n- audio output producer that mixes a few audio sources (including synthesized speech);\n- text-to-speech conversion is a separate set of actors shared between channels;\n- semantic and knowledge processing.</p>\n\n<p>To make interconnections of complex signal processing we use <a href=\"https://github.com/Primetalk/SynapseGrid/\">SynapseGrid</a>. It has the benefit of compile-time checking of the DataFlow in the complex actor systems.</p>\n"},{"tags":[],"owner":{"account_id":54824,"reputation":6625,"user_id":164128,"accept_rate":94,"display_name":"Joa Ebert"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1376049632,"creation_date":1376049632,"answer_id":18146200,"question_id":4493001,"body_markdown":"You can use Akka for several different kinds of things.\r\n\r\nI was working on a website, where I migrated the technology stack to Scala and Akka. We used it for pretty much everything that happened on the website. Even though you might think a Chat example is bad, all are basically the same:\r\n\r\n - Live updates on the website (e.g. views, likes, ...)\r\n - Showing live user comments\r\n - Notification services\r\n - Search and all other kinds of services\r\n\r\nEspecially the live updates are easy since they boil down to what a Chat example ist. The services part is another interesting topic because you can simply choose to use remote actors and even if your app is not clustered, you can deploy it to different machines with ease.\r\n\r\nI am also using Akka for a PCB autorouter application with the idea of being able to scale from a laptop to a data center. The more power you give it, the better the result will be. This is extremely hard to implement if you try to use usual concurrency because Akka gives you also location transparency.\r\n\r\nCurrently as a free time project, I am building a web framework using only actors. Again the benefits are scalability from a single machine to an entire cluster of machines. Besides, using a message driven approach makes your software service oriented from the start. You have all those nice components, talking to each other but not necessarily knowing each other, living on the same machine, not even in the same data center.\r\n\r\nAnd since Google Reader shut down I started with a RSS reader, using Akka of course. It is all about encapsulated services for me. As a conclusion: The actor model itself is what you should adopt first and Akka is a very reliable framework helping you to implement it with a lot of benefits you will receive along the way.","title":"What are the best use cases for Akka framework","body":"<p>You can use Akka for several different kinds of things.</p>\n\n<p>I was working on a website, where I migrated the technology stack to Scala and Akka. We used it for pretty much everything that happened on the website. Even though you might think a Chat example is bad, all are basically the same:</p>\n\n<ul>\n<li>Live updates on the website (e.g. views, likes, ...)</li>\n<li>Showing live user comments</li>\n<li>Notification services</li>\n<li>Search and all other kinds of services</li>\n</ul>\n\n<p>Especially the live updates are easy since they boil down to what a Chat example ist. The services part is another interesting topic because you can simply choose to use remote actors and even if your app is not clustered, you can deploy it to different machines with ease.</p>\n\n<p>I am also using Akka for a PCB autorouter application with the idea of being able to scale from a laptop to a data center. The more power you give it, the better the result will be. This is extremely hard to implement if you try to use usual concurrency because Akka gives you also location transparency.</p>\n\n<p>Currently as a free time project, I am building a web framework using only actors. Again the benefits are scalability from a single machine to an entire cluster of machines. Besides, using a message driven approach makes your software service oriented from the start. You have all those nice components, talking to each other but not necessarily knowing each other, living on the same machine, not even in the same data center.</p>\n\n<p>And since Google Reader shut down I started with a RSS reader, using Akka of course. It is all about encapsulated services for me. As a conclusion: The actor model itself is what you should adopt first and Akka is a very reliable framework helping you to implement it with a lot of benefits you will receive along the way.</p>\n"}],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178233,"favorite_count":0,"down_vote_count":6,"up_vote_count":629,"closed_date":1376786297,"accepted_answer_id":4494522,"answer_count":12,"score":623,"last_activity_date":1652887785,"creation_date":1292872554,"question_id":4493001,"body_markdown":"I have heard lots of raving about [Akka][1] framework (Java/Scala service platform), but so far have not seen many actual examples of use cases it would be good for. So I would be interested in hearing about things developers have used it succesfully.\r\n\r\nOnly one limitation: please do not include case of writing a chat server. \r\n(why? since this has been overused as an example for lots of similar things)\r\n\r\n  [1]: http://akka.io/","title":"What are the best use cases for Akka framework","body":"<p>I have heard lots of raving about <a href=\"http://akka.io/\" rel=\"noreferrer\">Akka</a> framework (Java/Scala service platform), but so far have not seen many actual examples of use cases it would be good for. So I would be interested in hearing about things developers have used it succesfully.</p>\n\n<p>Only one limitation: please do not include case of writing a chat server. \n(why? since this has been overused as an example for lots of similar things)</p>\n"},{"tags":["java","sql-server","docker","testcontainers","mssql-jdbc"],"comments":[{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"score":0,"creation_date":1652794479,"post_id":72268039,"comment_id":127688872,"body_markdown":"Can you please share the container logs?","body":"Can you please share the container logs?"},{"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"score":0,"creation_date":1652795935,"post_id":72268039,"comment_id":127689503,"body_markdown":"@OlegŠelajev here: https://pastebin.com/BypzAR3Z","body":"@OlegŠelajev here: <a href=\"https://pastebin.com/BypzAR3Z\" rel=\"nofollow noreferrer\">pastebin.com/BypzAR3Z</a>"},{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"score":0,"creation_date":1652796849,"post_id":72268039,"comment_id":127689902,"body_markdown":"can you add the logging config like herehttps://www.testcontainers.org/supported_docker_environment/logging_config/  to declutter the log?","body":"can you add the logging config like herehttps://www.testcontainers.org/supported_docker_environm&zwnj;&#8203;ent/logging_config/  to declutter the log?"},{"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"score":0,"creation_date":1652816299,"post_id":72268039,"comment_id":127696812,"body_markdown":"@OlegŠelajev here: https://pastebin.com/K6QMLp5d","body":"@OlegŠelajev here: <a href=\"https://pastebin.com/K6QMLp5d\" rel=\"nofollow noreferrer\">pastebin.com/K6QMLp5d</a>"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1652818164,"post_id":72268039,"comment_id":127697322,"body_markdown":"It seems you did not share the full log. Are you by chance using an M1 laptop? What happens when you start the MSSQL image directly with Docker?","body":"It seems you did not share the full log. Are you by chance using an M1 laptop? What happens when you start the MSSQL image directly with Docker?"},{"owner":{"account_id":990819,"reputation":1234,"user_id":1153953,"accept_rate":75,"display_name":"Dzamo Norton"},"score":0,"creation_date":1652886955,"post_id":72268039,"comment_id":127716896,"body_markdown":"@OlegŠelajev I&#39;ve got the same issue on an amd64 laptop. The mssql container starts up fine and I can connect to it from a different JDBC client. But testcontainers cannot connect to it. Container logs: https://pastebin.com/06L9kv2U.","body":"@OlegŠelajev I&#39;ve got the same issue on an amd64 laptop. The mssql container starts up fine and I can connect to it from a different JDBC client. But testcontainers cannot connect to it. Container logs: <a href=\"https://pastebin.com/06L9kv2U\" rel=\"nofollow noreferrer\">pastebin.com/06L9kv2U</a>."}],"answers":[{"tags":[],"owner":{"account_id":990819,"reputation":1234,"user_id":1153953,"accept_rate":75,"display_name":"Dzamo Norton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652887782,"creation_date":1652887782,"answer_id":72291998,"question_id":72268039,"body_markdown":"It looks like there&#39;s a fix on the way [1]. I had to use the workaround of \r\n\r\n```\r\n      .withUrlParam(&quot;trustServerCertificate&quot;, &quot;true&quot;)\r\n```\r\n\r\nmentioned there with testcontainers 1.16.3.\r\n\r\n[1] https://github.com/testcontainers/testcontainers-java/issues/5032","title":"Testcontainers MS SQL Server Module stays in a loop and never enters the test","body":"<p>It looks like there's a fix on the way [1]. I had to use the workaround of</p>\n<pre><code>      .withUrlParam(&quot;trustServerCertificate&quot;, &quot;true&quot;)\n</code></pre>\n<p>mentioned there with testcontainers 1.16.3.</p>\n<p>[1] <a href=\"https://github.com/testcontainers/testcontainers-java/issues/5032\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/issues/5032</a></p>\n"}],"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652887782,"creation_date":1652759726,"question_id":72268039,"body_markdown":"I&#39;m writting a JUnit4 test case with the following:\r\n\r\n```\r\n@Rule\r\npublic MSSQLServerContainer mssqlserver = new MSSQLServerContainer().acceptLicense();\r\n\r\n@Before\r\npublic void setUp() throws Exception\r\n{\r\n   url = mssqlserver.getJdbcUrl();\r\n}\r\n@Test\r\npublic void someTestMethod() {\r\n...\r\n```\r\nBut it hangs a long time and then this exception is thrown:\r\n&gt;java.lang.IllegalStateException: Container is started, but cannot be accessed by (JDBC URL: jdbc:sqlserver://localhost:51772), please check container logs\r\n\r\nWhat&#39;s wrong?\r\n\r\nI&#39;m using these dependencies:\r\n```\r\ntestImplementation &quot;org.testcontainers:testcontainers:1.16.3&quot;\r\ntestImplementation &quot;org.testcontainers:mssqlserver:1.16.3&quot;\r\n```","title":"Testcontainers MS SQL Server Module stays in a loop and never enters the test","body":"<p>I'm writting a JUnit4 test case with the following:</p>\n<pre><code>@Rule\npublic MSSQLServerContainer mssqlserver = new MSSQLServerContainer().acceptLicense();\n\n@Before\npublic void setUp() throws Exception\n{\n   url = mssqlserver.getJdbcUrl();\n}\n@Test\npublic void someTestMethod() {\n...\n</code></pre>\n<p>But it hangs a long time and then this exception is thrown:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Container is started, but cannot be accessed by (JDBC URL: jdbc:sqlserver://localhost:51772), please check container logs</p>\n</blockquote>\n<p>What's wrong?</p>\n<p>I'm using these dependencies:</p>\n<pre><code>testImplementation &quot;org.testcontainers:testcontainers:1.16.3&quot;\ntestImplementation &quot;org.testcontainers:mssqlserver:1.16.3&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1652883786,"post_id":72290905,"comment_id":127715419,"body_markdown":"you should be splitting inObject, not outObject","body":"you should be splitting inObject, not outObject"}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652887667,"creation_date":1652884746,"answer_id":72291243,"question_id":72290905,"body_markdown":"Here is my attempt.\r\n```java\r\npublic static String first_match(String[] str, String toMatch) {\r\n    boolean match = false;\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    for (int i=0; i&lt;str.length; i++) {\r\n        if (str[i].equals(toMatch)) {\r\n            match = true;\r\n        }\r\n        if (match){\r\n            output.append(str[i]);\r\n            if (i != str.length-1) { \r\n                output.append(&quot;//&quot;); \r\n            }\r\n        }\r\n    }\r\n\r\n    return output.toString();\r\n}\r\n```\r\n\r\nUsing the above method for:\r\n```java\r\nString val1 = &quot;Start//complete//First//com//upload//First//download&quot;;\r\nString val2 = &quot;First&quot;;\r\nString[] splitObject = val1.split(&quot;//&quot;);\r\n\r\nString out = first_match(splitObject, val2);\r\nSystem.out.println(out);\r\n```\r\n\r\nit gives output:\r\n```\r\nFirst//com//upload//First//download\r\n```\r\n\r\nEDIT:&lt;br&gt;\r\nI just realised from the comment that it could be done easier with the following:\r\n```java\r\npublic static String firstMatch(String str, String toMatch) {\r\n    int index = str.indexOf(toMatch);\r\n    if (index == -1) return &quot;&quot;;\r\n    return str.substring(index);\r\n}\r\n\r\nString out1 = firstMatch(val1, val2);\r\n```\r\n\r\nEDIT 2:&lt;br&gt;\r\nAnd here&#39;s another one-liner way.\r\n```java\r\nval1.replaceFirst(&quot;.*?&quot; + val2, val2)\r\n```","title":"Split with specials character and print string value","body":"<p>Here is my attempt.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String first_match(String[] str, String toMatch) {\n    boolean match = false;\n    StringBuilder output = new StringBuilder();\n\n    for (int i=0; i&lt;str.length; i++) {\n        if (str[i].equals(toMatch)) {\n            match = true;\n        }\n        if (match){\n            output.append(str[i]);\n            if (i != str.length-1) { \n                output.append(&quot;//&quot;); \n            }\n        }\n    }\n\n    return output.toString();\n}\n</code></pre>\n<p>Using the above method for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String val1 = &quot;Start//complete//First//com//upload//First//download&quot;;\nString val2 = &quot;First&quot;;\nString[] splitObject = val1.split(&quot;//&quot;);\n\nString out = first_match(splitObject, val2);\nSystem.out.println(out);\n</code></pre>\n<p>it gives output:</p>\n<pre><code>First//com//upload//First//download\n</code></pre>\n<p>EDIT:<br>\nI just realised from the comment that it could be done easier with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String firstMatch(String str, String toMatch) {\n    int index = str.indexOf(toMatch);\n    if (index == -1) return &quot;&quot;;\n    return str.substring(index);\n}\n\nString out1 = firstMatch(val1, val2);\n</code></pre>\n<p>EDIT 2:<br>\nAnd here's another one-liner way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>val1.replaceFirst(&quot;.*?&quot; + val2, val2)\n</code></pre>\n"}],"owner":{"account_id":25324974,"reputation":3,"user_id":19145774,"display_name":"Indu"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1652887929,"accepted_answer_id":72291243,"answer_count":1,"score":-4,"last_activity_date":1652887667,"creation_date":1652883499,"question_id":72290905,"body_markdown":"```\r\npublic class SplitStringobj {\r\n     public static void main(String[] args) {\r\n     String val1= Start//complete//First//com//upload the dummy123//First//download; \r\n     String val2= First;\r\n     String[] splitObject = outObject.split(&quot;//&quot;);\r\n        for(String obj :splitObject) {\r\n            if(outObject.startsWith(obj.toString());\r\n             break;\r\n    }\r\n  }\r\n}\r\n```\r\nAs i need below O/P  \r\n\r\n 1. List item    \r\n    String val1=Start//complete//First//com//upload the dummy123//First//download    \r\n    String val2=First    \r\n    Output=First//com//upload the dummy123//First//download\r\n\r\n 2. List item    \r\n     String val1=Start//complete//First//com//upload the dummy123//First//download   \r\n     String val2=complete    \r\n     Output=complete//First//com//upload the dummy123//First//download   \r\n\r\n 3. List item    \r\n    String val1=Start//complete//First//com//upload the dummy123//First//download    \r\n    String val2=com    \r\n    Output=com//upload the dummy123//First//download   \r\n    ","title":"Split with specials character and print string value","body":"<pre><code>public class SplitStringobj {\n     public static void main(String[] args) {\n     String val1= Start//complete//First//com//upload the dummy123//First//download; \n     String val2= First;\n     String[] splitObject = outObject.split(&quot;//&quot;);\n        for(String obj :splitObject) {\n            if(outObject.startsWith(obj.toString());\n             break;\n    }\n  }\n}\n</code></pre>\n<p>As i need below O/P</p>\n<ol>\n<li><p>List item<br />\nString val1=Start//complete//First//com//upload the dummy123//First//download<br />\nString val2=First<br />\nOutput=First//com//upload the dummy123//First//download</p>\n</li>\n<li><p>List item<br />\nString val1=Start//complete//First//com//upload the dummy123//First//download<br />\nString val2=complete<br />\nOutput=complete//First//com//upload the dummy123//First//download</p>\n</li>\n<li><p>List item<br />\nString val1=Start//complete//First//com//upload the dummy123//First//download<br />\nString val2=com<br />\nOutput=com//upload the dummy123//First//download</p>\n</li>\n</ol>\n"},{"tags":["java","google-cloud-functions","google-cloud-storage"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1652887425,"post_id":72291739,"comment_id":127717084,"body_markdown":"Your first source should always be the official documentation. In that case the [documentation of the get method of Storage](https://googleapis.dev/java/google-cloud-clients/0.97.0-alpha/com/google/cloud/storage/Storage.html#get-com.google.cloud.storage.BlobId-) quite clearly states: &quot;Returns the requested blob or **null if not found.** &quot;","body":"Your first source should always be the official documentation. In that case the <a href=\"https://googleapis.dev/java/google-cloud-clients/0.97.0-alpha/com/google/cloud/storage/Storage.html#get-com.google.cloud.storage.BlobId-\" rel=\"nofollow noreferrer\">documentation of the get method of Storage</a> quite clearly states: &quot;Returns the requested blob or <b>null if not found.</b> &quot;"}],"answers":[{"tags":[],"owner":{"account_id":22154746,"reputation":51,"user_id":16402692,"display_name":"connor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652887643,"creation_date":1652887643,"answer_id":72291959,"question_id":72291739,"body_markdown":"I feel silly. I found out that `storage.get(BlobId.of(bucketname, blob_path));` will return `null` if it can&#39;t find the object. instead of using `b.exists()`, one should check if it is null with `if (b != null) { //do stuff }`.","title":"null pointer exception when I check if a blob exists","body":"<p>I feel silly. I found out that <code>storage.get(BlobId.of(bucketname, blob_path));</code> will return <code>null</code> if it can't find the object. instead of using <code>b.exists()</code>, one should check if it is null with <code>if (b != null) { //do stuff }</code>.</p>\n"}],"owner":{"account_id":22154746,"reputation":51,"user_id":16402692,"display_name":"connor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652972716,"accepted_answer_id":72291959,"answer_count":1,"score":1,"last_activity_date":1652887643,"creation_date":1652886708,"question_id":72291739,"body_markdown":"I have a com.google.cloud.storage.Blob object. I have been able to download and upload just fine with this object in my java code, but I wanted to check if something exists before starting a process.In a nutshell here is the part of my code giving me issues.\r\n\r\n```\r\nimport com.google.cloud.storage.Blob;\r\nimport com.google.cloud.storage.BlobId;\r\nimport com.google.cloud.storage.Storage;\r\nimport com.google.cloud.storage.StorageOptions;\r\n\r\npublic class Function implements BackgroundFunction&lt;GcsEvent&gt; {\r\n    public void accept(GcsEvent event, Context context) {\r\n        String bucketname = &quot;my_bucket&quot;;\r\n        String blob_path = &quot;path/to/my/object.jpg&quot;;\r\n        Storage storage = StorageOptions.newBuilder().setProjectId(&quot;my_project_id&quot;).build().getService();\r\n        Blob b = storage.get(BlobId.of(bucketname, blob_path));\r\n        // this is where the null pointer exception occurs\r\n\t    boolean exists = b.exists();\r\n\t    if (exists) {\r\n            //do something\r\n        }\r\n    }\r\n}\r\n```\r\nEclipse doesn&#39;t seem to catch it in the IDE. and the examples seem to follow this layout as well. Would anyone know what is going on?\r\n\r\nI am running on a Linux environment machine. (it failed in cloud function as well).\r\nI am using the Java 11 runtime.\r\n\r\n\r\n","title":"null pointer exception when I check if a blob exists","body":"<p>I have a com.google.cloud.storage.Blob object. I have been able to download and upload just fine with this object in my java code, but I wanted to check if something exists before starting a process.In a nutshell here is the part of my code giving me issues.</p>\n<pre><code>import com.google.cloud.storage.Blob;\nimport com.google.cloud.storage.BlobId;\nimport com.google.cloud.storage.Storage;\nimport com.google.cloud.storage.StorageOptions;\n\npublic class Function implements BackgroundFunction&lt;GcsEvent&gt; {\n    public void accept(GcsEvent event, Context context) {\n        String bucketname = &quot;my_bucket&quot;;\n        String blob_path = &quot;path/to/my/object.jpg&quot;;\n        Storage storage = StorageOptions.newBuilder().setProjectId(&quot;my_project_id&quot;).build().getService();\n        Blob b = storage.get(BlobId.of(bucketname, blob_path));\n        // this is where the null pointer exception occurs\n        boolean exists = b.exists();\n        if (exists) {\n            //do something\n        }\n    }\n}\n</code></pre>\n<p>Eclipse doesn't seem to catch it in the IDE. and the examples seem to follow this layout as well. Would anyone know what is going on?</p>\n<p>I am running on a Linux environment machine. (it failed in cloud function as well).\nI am using the Java 11 runtime.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":1,"creation_date":1578593476,"post_id":59669848,"comment_id":105498598,"body_markdown":"I searched your question title on google verbatim and found multiple solutions.","body":"I searched your question title on google verbatim and found multiple solutions."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652872205,"creation_date":1652872205,"answer_id":72288088,"question_id":59669848,"body_markdown":"Hints:\r\n\r\n1.  There is no such thing as an empty character.   So `sb.setCharAt(i, empty);` is *actually* replacing the character at position `i` with a NON-EMPTY character.  It looks like its is a space character; i.e. Unicode / ASCII `SP`.\r\n\r\n2.  You can use `deleteCharAt(1)` to remove a character at position `i` of a `StringBuilder`.  But beware that removing the character at position `i` causes the characters at `i + 1`, `i + 2` and so on to *change position*.  You need to take account of that in your code.\r\n         \r\n         ","title":"Replace ! with an empty character in Java","body":"<p>Hints:</p>\n<ol>\n<li><p>There is no such thing as an empty character.   So <code>sb.setCharAt(i, empty);</code> is <em>actually</em> replacing the character at position <code>i</code> with a NON-EMPTY character.  It looks like its is a space character; i.e. Unicode / ASCII <code>SP</code>.</p>\n</li>\n<li><p>You can use <code>deleteCharAt(1)</code> to remove a character at position <code>i</code> of a <code>StringBuilder</code>.  But beware that removing the character at position <code>i</code> causes the characters at <code>i + 1</code>, <code>i + 2</code> and so on to <em>change position</em>.  You need to take account of that in your code.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16885820,"reputation":19,"user_id":12210670,"display_name":"Antti Veikkolainen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652887508,"creation_date":1578593317,"question_id":59669848,"body_markdown":"With the given input ```test!! test!!! test !!!``` the program below should return ```test! test! test !``` by removing all but one of &#39;!&#39; or &#39;?&#39; in a row.\r\n\r\nHowever the program outputs it like this: ```test!  test!   test ! !```\r\n\r\nHow would I remove the extra &#39;!&#39; or &#39;?&#39; characters?\r\n\r\n``` Java\r\nStringBuilder sb = new StringBuilder(input);\r\n\r\nfor (int i = 0; i &lt; input.length() - 1; i++)\r\n{   \r\n    // Does string contain &#39;?&#39; or &#39;!&#39;\r\n    if (input.charAt(i) == &#39;?&#39; || input.charAt(i) == &#39;!&#39;) {\r\n        // TODO: Remove extra characters\r\n    }\r\n    else\r\n    {\r\n         sb.setCharAt(i, input[i]);\r\n    }\r\n}\r\n\r\nSystem.out.println(sb.toString());\r\n```","title":"Replace ! with an empty character in Java","body":"<p>With the given input <code>test!! test!!! test !!!</code> the program below should return <code>test! test! test !</code> by removing all but one of '!' or '?' in a row.</p>\n<p>However the program outputs it like this: <code>test!  test!   test ! !</code></p>\n<p>How would I remove the extra '!' or '?' characters?</p>\n<pre><code>StringBuilder sb = new StringBuilder(input);\n\nfor (int i = 0; i &lt; input.length() - 1; i++)\n{   \n    // Does string contain '?' or '!'\n    if (input.charAt(i) == '?' || input.charAt(i) == '!') {\n        // TODO: Remove extra characters\n    }\n    else\n    {\n         sb.setCharAt(i, input[i]);\n    }\n}\n\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1652869312,"post_id":72287280,"comment_id":127709257,"body_markdown":"Why not reset the adapter?","body":"Why not reset the adapter?"},{"owner":{"account_id":22189267,"reputation":31,"user_id":16431723,"display_name":"InFumumVerti"},"score":0,"creation_date":1652869853,"post_id":72287280,"comment_id":127709453,"body_markdown":"@Sambhav.K I tried to reset the adaper too, but that too does not work, and it isn&#39;t a good solution when I try to reset the adapter multiple times a second.","body":"@Sambhav.K I tried to reset the adaper too, but that too does not work, and it isn&#39;t a good solution when I try to reset the adapter multiple times a second."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1652869955,"post_id":72287280,"comment_id":127709493,"body_markdown":"Why every second? Ok. Never mind. You can try the answer below by Undefined bug. That is exactly what I was gonna answer now","body":"Why every second? Ok. Never mind. You can try the answer below by Undefined bug. That is exactly what I was gonna answer now"}],"answers":[{"tags":[],"owner":{"account_id":25322974,"reputation":756,"user_id":19144006,"display_name":"Abu bakar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652869984,"creation_date":1652869909,"answer_id":72287503,"question_id":72287280,"body_markdown":"You have to make a separate function inside your `Adapter` to replace existing list with the new filtered list.\r\n```\r\npublic void setFilteredList(ArrayList&lt;Course&gt; courses) {\r\n    this.courses = courses;\r\n    notifyDataSetChanged();\r\n}\r\n```\r\nNow instead of calling `courseAdapter.notifyDataSetChanged();`inside your setQuery() function, you can call `courseAdapter.setFilteredList(courses)`","title":"RecyclerView Adapter not able to update","body":"<p>You have to make a separate function inside your <code>Adapter</code> to replace existing list with the new filtered list.</p>\n<pre><code>public void setFilteredList(ArrayList&lt;Course&gt; courses) {\n    this.courses = courses;\n    notifyDataSetChanged();\n}\n</code></pre>\n<p>Now instead of calling <code>courseAdapter.notifyDataSetChanged();</code>inside your setQuery() function, you can call <code>courseAdapter.setFilteredList(courses)</code></p>\n"}],"owner":{"account_id":22189267,"reputation":31,"user_id":16431723,"display_name":"InFumumVerti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652887307,"creation_date":1652868933,"question_id":72287280,"body_markdown":"I am currently very stuck on a simple problem with a `RecyclerView` Adapter. \r\nThe adapter takes a list of custom objects and displays them, which works as intended.\r\nBut when I want to filter the list via a searchbar and apply the changes via `adapter.notifyDataSetChanged`, nothing happens.\r\n\r\nI know this question has already been asked multiple times, but I tried all the advice in these posts and could not find an answer that works for me. So here is my structure:\r\n\r\n 1. I use my `Activity` to inflate a `TabLayout` with three tabs\r\n 2. I then use a seperate `Class` to get my data and parse it into three lists.\r\n 3. Afterwards, a `Fragment adapter` to connects a `Fragment` to each of the tabs.\r\n 4. The `Fragments` are supposed to fetch the lists, apply my `RecyclerView` Layout and set the `Layout Manager`.\r\n5. Each list has an Adapter which then inflates the entries and applies an `onClickListener`.\r\n\r\nNow everything works here, and I can successfully filter my lists, I simply cannot apply the changed lists to the adapter(s).\r\n\r\n   \r\n\r\n   **Activity:**\r\n\r\n``` lang-java\r\n\r\npublic class OrganizerActivity extends AppCompatActivity {\r\n    ListView listView;\r\n    ViewPager2 viewPager;\r\n    OrganizerFragmentAdapter organizerFragmentAdapter;\r\n    MaterialToolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.organizer_layout);\r\n        toolbar = findViewById(R.id.topAppBar);\r\n        setSupportActionBar(toolbar);\r\n        NavigationUtilities.setUpNavigation(this, R.id.organizer);\r\n        createView();\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.organizer_top_app_bar, menu);\r\n\r\n        SearchManager searchManager =\r\n                (SearchManager) getSystemService(Context.SEARCH_SERVICE);\r\n        SearchView searchView =\r\n                (SearchView) menu.findItem(R.id.organizerSearchIcon).getActionView();\r\n        searchView.setSearchableInfo(\r\n                searchManager.getSearchableInfo(getComponentName()));\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                System.out.println(newText);\r\n                organizerFragmentAdapter.setQuery(newText);\r\n                return false;\r\n            }\r\n        });\r\n       return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    public void createView() {\r\n        TabLayout tabLayout = findViewById(R.id.organizerTabLayout);\r\n        viewPager = findViewById(R.id.organizerViewPager);\r\n        listView = findViewById(R.id.org_recylclerview);\r\n        organizerFragmentAdapter = new OrganizerFragmentAdapter(this);\r\n        viewPager.setAdapter(organizerFragmentAdapter);\r\n        viewPager.setOffscreenPageLimit(2);\r\n\r\n        TabLayoutMediator tabLayoutMediator = new TabLayoutMediator(tabLayout, viewPager, (tab, position) -&gt; {\r\n            switch (position){\r\n                case 0:\r\n                    tab.setText(&quot;Courses&quot;);\r\n                    break;\r\n                case 1:\r\n                    tab.setText(&quot;People&quot;);\r\n                    break;\r\n                case 2:\r\n                    tab.setText(&quot;Rooms&quot;);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n        tabLayoutMediator.attach();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        if (viewPager.getCurrentItem() == 0) {\r\n            // If the user is currently looking at the first step, allow the system to handle the\r\n            // Back button. This calls finish() on this activity and pops the back stack.\r\n            super.onBackPressed();\r\n        } else {\r\n            // Otherwise, select the previous step.\r\n            viewPager.setCurrentItem(viewPager.getCurrentItem() - 1);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n**Fragment:**\r\n\r\n``` lang-java\r\npublic class OrganizerOverallFragment extends Fragment{\r\n\r\n    int position;\r\n    String currentQuery;\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;Course&gt; courses;\r\n    ArrayList&lt;Person&gt; people;\r\n    ArrayList&lt;Room&gt; rooms;\r\n    View view;\r\n    OrganizerCourseAdapter courseAdapter;\r\n\r\n    CourseDataHandler courseDataHandler;\r\n\r\n\r\n\r\n    public OrganizerOverallFragment(int position, String currentQuery) {\r\n        this.position = position;\r\n        this.currentQuery = currentQuery;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        parseThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {\r\n        LayoutInflater inflater  = getLayoutInflater();\r\n        super.onViewCreated(view,savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n        recyclerView = view.findViewById(R.id.org_recylclerview);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n\r\n        try {\r\n            parseThread.join();\r\n            courseAdapter = new OrganizerCourseAdapter(courses);\r\n            OrganizerPersonAdapter personAdapter = new OrganizerPersonAdapter(this.getContext(),people);\r\n            OrganizerRoomAdapter roomAdapter = new OrganizerRoomAdapter(this.getContext(),rooms);\r\n            switch(position) {\r\n                case 0:\r\n                    recyclerView.setAdapter(courseAdapter);\r\n                    break;\r\n//                case 1:\r\n//                    listView.setAdapter(personAdapter);\r\n//                    personAdapter.addAll(people);\r\n//                    break;\r\n//                case 2:\r\n//                    listView.setAdapter(roomAdapter);\r\n//                    roomAdapter.addAll(rooms);\r\n//                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.organizertab,container,false);\r\n        return view;\r\n    }\r\n\r\n    Thread parseThread = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            OrganizerParser organizerParser = new OrganizerParser();\r\n            Map&lt;String, ArrayList&gt; entryMap = organizerParser.getAllElements();\r\n            courses = entryMap.get(&quot;courses&quot;);\r\n            courseDataHandler = new CourseDataHandler(courses);\r\n            people = entryMap.get(&quot;people&quot;);\r\n            rooms = entryMap.get(&quot;rooms&quot;);\r\n        }});\r\n\r\n    public void setQuery(String query){\r\n        currentQuery = query;\r\n        courses = courseDataHandler.filter(query);\r\n        System.out.println(&quot;Query: &quot; + query +&quot; \\n &quot; + courses);\r\n        courseAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Adapter:**\r\n\r\n``` lang-java\r\npublic class OrganizerCourseAdapter extends RecyclerView.Adapter&lt;OrganizerCourseAdapter.ViewHolder&gt;{\r\n    ArrayList&lt;Course&gt; courses;\r\n    ArrayList&lt;Course&gt; filteredData;\r\n\r\n    public OrganizerCourseAdapter(ArrayList&lt;Course&gt; courses) {\r\n        this.courses = courses;\r\n        filteredData = new ArrayList&lt;&gt;(courses);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // below line is to inflate our layout.\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.organizer_entry, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull OrganizerCourseAdapter.ViewHolder holder, int position) {\r\n        // setting data to our views of recycler view.\r\n        Course course = courses.get(position);\r\n        holder.tvName.setText(course.getName());\r\n        holder.tvHome.setText(course.getStudy());\r\n        // Return the completed view to render on screen\r\n        setOnClickListener(holder.itemView,course);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        // returning the size of array list.\r\n        return filteredData.size();\r\n    }\r\n\r\n    public Object getItem(int position) {\r\n        return filteredData.get(position);\r\n    }\r\n\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    public void setOnClickListener(View newRow, Course course){\r\n        newRow.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onClick(View v) {\r\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(newRow.getContext());\r\n\r\n                bottomSheetDialog.setContentView(R.layout.organizercoursebottomsheet);\r\n                bottomSheetDialog.show();\r\n\r\n                try {\r\n                    TextView entryView = bottomSheetDialog.findViewById(R.id.organizerCourseEntryText);\r\n                    Objects.requireNonNull(entryView).setText(course.name);\r\n                    TextView studyView = bottomSheetDialog.findViewById(R.id.organizerCourseStudyText);\r\n                    Objects.requireNonNull(studyView).setText(&quot;Study: &quot; + course.study);\r\n                    TextView yearView = bottomSheetDialog.findViewById(R.id.organizerCourseYearText);\r\n                    Objects.requireNonNull(yearView).setText(&quot;Year: &quot; + course.year);\r\n                    TextView roomView = bottomSheetDialog.findViewById(R.id.organizerCourseRoomText);\r\n                    if(course.roomNo != null &amp;&amp; roomView != null) {\r\n                        (roomView).setText(&quot;Room: &quot; + course.roomNo);\r\n                    }\r\n                    else{\r\n                        assert roomView != null;\r\n                        (roomView).setVisibility(View.GONE);\r\n                    }\r\n                    TextView urlText = bottomSheetDialog.findViewById(R.id.organizerCourseUrlText);\r\n                    if(course.url != null &amp;&amp; urlText != null) {\r\n                        (urlText).setText(&quot;URL: &quot; + Html.fromHtml(course.url,0));\r\n                        urlText.setMovementMethod(LinkMovementMethod.getInstance());\r\n                    }\r\n                    else{\r\n                        (roomView).setVisibility(View.GONE);\r\n                    }\r\n\r\n\r\n                    bottomSheetDialog.show();\r\n                }\r\n                catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // creating variables for our views.\r\n        private final TextView tvName;\r\n        private final TextView tvHome;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            // initializing our views with their ids.\r\n            tvName = itemView.findViewById(R.id.info_box1);\r\n            tvHome = itemView.findViewById(R.id.info_box2);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPS: I also looked at my Layout and removed the `LinearLayout`, as stated in another post.\r\n\r\nEdit: I now have found out that the RecyclerView only updates once I scroll down and scroll back up. I still have no clue why that is.\r\n\r\nEdit2: Thank you all for answering, I have figured it out now. Because I used a `TabLayout` which initialized three instances of my `Fragment`, the references were skewed. I had to seperate the three Fragments in my `FragmentAdapter` and set the query to each one and now it works! Some more code here:\r\n\r\n**Fragment-Adapter:**\r\n\r\n``` lang-java\r\n\r\npublic class OrganizerFragmentAdapter extends FragmentStateAdapter {\r\n    String currentQuery = &quot;&quot;;\r\n    OrganizerOverallFragment courseFragment;\r\n    OrganizerOverallFragment personFragment;\r\n    OrganizerOverallFragment roomFragment;\r\n    int position;\r\n\r\n    public OrganizerFragmentAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        this.position = position;\r\n        switch (position){\r\n            case 0:\r\n                courseFragment = new OrganizerOverallFragment(position,currentQuery);\r\n                return courseFragment;\r\n            case 1:\r\n                personFragment = new OrganizerOverallFragment(position, currentQuery);\r\n                return personFragment;\r\n            case 2:\r\n                roomFragment = new OrganizerOverallFragment(position, currentQuery);\r\n                return roomFragment;\r\n            default:\r\n                return createFragment(0);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 3;\r\n    }\r\n\r\n    public void setQuery(String query){\r\n        currentQuery = query;\r\n\r\n        courseFragment.setQuery(query);\r\n        personFragment.setQuery(query);\r\n        roomFragment.setQuery(query);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**New setQuery method:**\r\n\r\n``` lang-java\r\n\r\npublic void setQuery(String query){\r\n        currentQuery = query;\r\n\r\n        switch(position) {\r\n            case 0:\r\n                courses.clear();\r\n                courses.addAll(courseDataHandler.filter(query));\r\n                courseAdapter.notifyDataSetChanged();\r\n                break;\r\n            case 1:\r\n                people.clear();\r\n                people.addAll(personDataHandler.filter(query));\r\n                personAdapter.notifyDataSetChanged();\r\n                break;\r\n            case 2:\r\n                rooms.clear();\r\n                rooms.addAll(roomsDataHandler.filter(query));\r\n                roomAdapter.notifyDataSetChanged();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n```\r\n\r\n","title":"RecyclerView Adapter not able to update","body":"<p>I am currently very stuck on a simple problem with a <code>RecyclerView</code> Adapter.\nThe adapter takes a list of custom objects and displays them, which works as intended.\nBut when I want to filter the list via a searchbar and apply the changes via <code>adapter.notifyDataSetChanged</code>, nothing happens.</p>\n<p>I know this question has already been asked multiple times, but I tried all the advice in these posts and could not find an answer that works for me. So here is my structure:</p>\n<ol>\n<li>I use my <code>Activity</code> to inflate a <code>TabLayout</code> with three tabs</li>\n<li>I then use a seperate <code>Class</code> to get my data and parse it into three lists.</li>\n<li>Afterwards, a <code>Fragment adapter</code> to connects a <code>Fragment</code> to each of the tabs.</li>\n<li>The <code>Fragments</code> are supposed to fetch the lists, apply my <code>RecyclerView</code> Layout and set the <code>Layout Manager</code>.</li>\n<li>Each list has an Adapter which then inflates the entries and applies an <code>onClickListener</code>.</li>\n</ol>\n<p>Now everything works here, and I can successfully filter my lists, I simply cannot apply the changed lists to the adapter(s).</p>\n<p><strong>Activity:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class OrganizerActivity extends AppCompatActivity {\n    ListView listView;\n    ViewPager2 viewPager;\n    OrganizerFragmentAdapter organizerFragmentAdapter;\n    MaterialToolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.organizer_layout);\n        toolbar = findViewById(R.id.topAppBar);\n        setSupportActionBar(toolbar);\n        NavigationUtilities.setUpNavigation(this, R.id.organizer);\n        createView();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.organizer_top_app_bar, menu);\n\n        SearchManager searchManager =\n                (SearchManager) getSystemService(Context.SEARCH_SERVICE);\n        SearchView searchView =\n                (SearchView) menu.findItem(R.id.organizerSearchIcon).getActionView();\n        searchView.setSearchableInfo(\n                searchManager.getSearchableInfo(getComponentName()));\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                System.out.println(newText);\n                organizerFragmentAdapter.setQuery(newText);\n                return false;\n            }\n        });\n       return super.onCreateOptionsMenu(menu);\n    }\n\n    public void createView() {\n        TabLayout tabLayout = findViewById(R.id.organizerTabLayout);\n        viewPager = findViewById(R.id.organizerViewPager);\n        listView = findViewById(R.id.org_recylclerview);\n        organizerFragmentAdapter = new OrganizerFragmentAdapter(this);\n        viewPager.setAdapter(organizerFragmentAdapter);\n        viewPager.setOffscreenPageLimit(2);\n\n        TabLayoutMediator tabLayoutMediator = new TabLayoutMediator(tabLayout, viewPager, (tab, position) -&gt; {\n            switch (position){\n                case 0:\n                    tab.setText(&quot;Courses&quot;);\n                    break;\n                case 1:\n                    tab.setText(&quot;People&quot;);\n                    break;\n                case 2:\n                    tab.setText(&quot;Rooms&quot;);\n                    break;\n                default:\n                    break;\n            }\n        });\n        tabLayoutMediator.attach();\n\n    }\n\n    @Override\n    public void onBackPressed(){\n        if (viewPager.getCurrentItem() == 0) {\n            // If the user is currently looking at the first step, allow the system to handle the\n            // Back button. This calls finish() on this activity and pops the back stack.\n            super.onBackPressed();\n        } else {\n            // Otherwise, select the previous step.\n            viewPager.setCurrentItem(viewPager.getCurrentItem() - 1);\n        }\n    }\n\n}\n\n\n</code></pre>\n<p><strong>Fragment:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrganizerOverallFragment extends Fragment{\n\n    int position;\n    String currentQuery;\n    RecyclerView recyclerView;\n    ArrayList&lt;Course&gt; courses;\n    ArrayList&lt;Person&gt; people;\n    ArrayList&lt;Room&gt; rooms;\n    View view;\n    OrganizerCourseAdapter courseAdapter;\n\n    CourseDataHandler courseDataHandler;\n\n\n\n    public OrganizerOverallFragment(int position, String currentQuery) {\n        this.position = position;\n        this.currentQuery = currentQuery;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        parseThread.start();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {\n        LayoutInflater inflater  = getLayoutInflater();\n        super.onViewCreated(view,savedInstanceState);\n        setHasOptionsMenu(true);\n        recyclerView = view.findViewById(R.id.org_recylclerview);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\n\n        try {\n            parseThread.join();\n            courseAdapter = new OrganizerCourseAdapter(courses);\n            OrganizerPersonAdapter personAdapter = new OrganizerPersonAdapter(this.getContext(),people);\n            OrganizerRoomAdapter roomAdapter = new OrganizerRoomAdapter(this.getContext(),rooms);\n            switch(position) {\n                case 0:\n                    recyclerView.setAdapter(courseAdapter);\n                    break;\n//                case 1:\n//                    listView.setAdapter(personAdapter);\n//                    personAdapter.addAll(people);\n//                    break;\n//                case 2:\n//                    listView.setAdapter(roomAdapter);\n//                    roomAdapter.addAll(rooms);\n//                    break;\n                default:\n                    break;\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        view = inflater.inflate(R.layout.organizertab,container,false);\n        return view;\n    }\n\n    Thread parseThread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            OrganizerParser organizerParser = new OrganizerParser();\n            Map&lt;String, ArrayList&gt; entryMap = organizerParser.getAllElements();\n            courses = entryMap.get(&quot;courses&quot;);\n            courseDataHandler = new CourseDataHandler(courses);\n            people = entryMap.get(&quot;people&quot;);\n            rooms = entryMap.get(&quot;rooms&quot;);\n        }});\n\n    public void setQuery(String query){\n        currentQuery = query;\n        courses = courseDataHandler.filter(query);\n        System.out.println(&quot;Query: &quot; + query +&quot; \\n &quot; + courses);\n        courseAdapter.notifyDataSetChanged();\n\n    }\n}\n</code></pre>\n<p><strong>Adapter:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrganizerCourseAdapter extends RecyclerView.Adapter&lt;OrganizerCourseAdapter.ViewHolder&gt;{\n    ArrayList&lt;Course&gt; courses;\n    ArrayList&lt;Course&gt; filteredData;\n\n    public OrganizerCourseAdapter(ArrayList&lt;Course&gt; courses) {\n        this.courses = courses;\n        filteredData = new ArrayList&lt;&gt;(courses);\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        // below line is to inflate our layout.\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.organizer_entry, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull OrganizerCourseAdapter.ViewHolder holder, int position) {\n        // setting data to our views of recycler view.\n        Course course = courses.get(position);\n        holder.tvName.setText(course.getName());\n        holder.tvHome.setText(course.getStudy());\n        // Return the completed view to render on screen\n        setOnClickListener(holder.itemView,course);\n    }\n\n    @Override\n    public int getItemCount() {\n        // returning the size of array list.\n        return filteredData.size();\n    }\n\n    public Object getItem(int position) {\n        return filteredData.get(position);\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public void setOnClickListener(View newRow, Course course){\n        newRow.setOnClickListener(new View.OnClickListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onClick(View v) {\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(newRow.getContext());\n\n                bottomSheetDialog.setContentView(R.layout.organizercoursebottomsheet);\n                bottomSheetDialog.show();\n\n                try {\n                    TextView entryView = bottomSheetDialog.findViewById(R.id.organizerCourseEntryText);\n                    Objects.requireNonNull(entryView).setText(course.name);\n                    TextView studyView = bottomSheetDialog.findViewById(R.id.organizerCourseStudyText);\n                    Objects.requireNonNull(studyView).setText(&quot;Study: &quot; + course.study);\n                    TextView yearView = bottomSheetDialog.findViewById(R.id.organizerCourseYearText);\n                    Objects.requireNonNull(yearView).setText(&quot;Year: &quot; + course.year);\n                    TextView roomView = bottomSheetDialog.findViewById(R.id.organizerCourseRoomText);\n                    if(course.roomNo != null &amp;&amp; roomView != null) {\n                        (roomView).setText(&quot;Room: &quot; + course.roomNo);\n                    }\n                    else{\n                        assert roomView != null;\n                        (roomView).setVisibility(View.GONE);\n                    }\n                    TextView urlText = bottomSheetDialog.findViewById(R.id.organizerCourseUrlText);\n                    if(course.url != null &amp;&amp; urlText != null) {\n                        (urlText).setText(&quot;URL: &quot; + Html.fromHtml(course.url,0));\n                        urlText.setMovementMethod(LinkMovementMethod.getInstance());\n                    }\n                    else{\n                        (roomView).setVisibility(View.GONE);\n                    }\n\n\n                    bottomSheetDialog.show();\n                }\n                catch (Exception e){\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // creating variables for our views.\n        private final TextView tvName;\n        private final TextView tvHome;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            // initializing our views with their ids.\n            tvName = itemView.findViewById(R.id.info_box1);\n            tvHome = itemView.findViewById(R.id.info_box2);\n\n        }\n    }\n}\n</code></pre>\n<p>PS: I also looked at my Layout and removed the <code>LinearLayout</code>, as stated in another post.</p>\n<p>Edit: I now have found out that the RecyclerView only updates once I scroll down and scroll back up. I still have no clue why that is.</p>\n<p>Edit2: Thank you all for answering, I have figured it out now. Because I used a <code>TabLayout</code> which initialized three instances of my <code>Fragment</code>, the references were skewed. I had to seperate the three Fragments in my <code>FragmentAdapter</code> and set the query to each one and now it works! Some more code here:</p>\n<p><strong>Fragment-Adapter:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class OrganizerFragmentAdapter extends FragmentStateAdapter {\n    String currentQuery = &quot;&quot;;\n    OrganizerOverallFragment courseFragment;\n    OrganizerOverallFragment personFragment;\n    OrganizerOverallFragment roomFragment;\n    int position;\n\n    public OrganizerFragmentAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        this.position = position;\n        switch (position){\n            case 0:\n                courseFragment = new OrganizerOverallFragment(position,currentQuery);\n                return courseFragment;\n            case 1:\n                personFragment = new OrganizerOverallFragment(position, currentQuery);\n                return personFragment;\n            case 2:\n                roomFragment = new OrganizerOverallFragment(position, currentQuery);\n                return roomFragment;\n            default:\n                return createFragment(0);\n        }\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return 3;\n    }\n\n    public void setQuery(String query){\n        currentQuery = query;\n\n        courseFragment.setQuery(query);\n        personFragment.setQuery(query);\n        roomFragment.setQuery(query);\n    }\n}\n\n</code></pre>\n<p><strong>New setQuery method:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic void setQuery(String query){\n        currentQuery = query;\n\n        switch(position) {\n            case 0:\n                courses.clear();\n                courses.addAll(courseDataHandler.filter(query));\n                courseAdapter.notifyDataSetChanged();\n                break;\n            case 1:\n                people.clear();\n                people.addAll(personDataHandler.filter(query));\n                personAdapter.notifyDataSetChanged();\n                break;\n            case 2:\n                rooms.clear();\n                rooms.addAll(roomsDataHandler.filter(query));\n                roomAdapter.notifyDataSetChanged();\n                break;\n            default:\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-integration","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1652879894,"post_id":72287904,"comment_id":127713491,"body_markdown":"Turn on DEBUG logging; if you can&#39;t figure it out from that, post the logs someplace like pastebin on a github gist.","body":"Turn on DEBUG logging; if you can&#39;t figure it out from that, post the logs someplace like pastebin on a github gist."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1652883566,"post_id":72287904,"comment_id":127715299,"body_markdown":"You set Embedded Kafka broker for `TEST_TOPIC`, but looks like your Kafka listener container is configured to listen from `TEST Tpoic`. Is that intentional? Also it is not clear to what topic you send in your `sendMessage(String topicName, String message)`...","body":"You set Embedded Kafka broker for <code>TEST_TOPIC</code>, but looks like your Kafka listener container is configured to listen from <code>TEST Tpoic</code>. Is that intentional? Also it is not clear to what topic you send in your <code>sendMessage(String topicName, String message)</code>..."},{"owner":{"account_id":14651915,"reputation":35,"user_id":10581692,"display_name":"TalentUk"},"score":0,"creation_date":1652887320,"post_id":72287904,"comment_id":127717047,"body_markdown":"That was typo while posting the code all topic name are same i have updated to TEST_TOPIC.","body":"That was typo while posting the code all topic name are same i have updated to TEST_TOPIC."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1652887606,"post_id":72287904,"comment_id":127717138,"body_markdown":"OK. Now it&#39;s time for you to share with us a simple project to reproduce and play with. Thanks","body":"OK. Now it&#39;s time for you to share with us a simple project to reproduce and play with. Thanks"},{"owner":{"account_id":14651915,"reputation":35,"user_id":10581692,"display_name":"TalentUk"},"score":0,"creation_date":1652960025,"post_id":72287904,"comment_id":127736854,"body_markdown":"I cant send the code its pretty complicated and loading the context using diff XMLs. BUT what i noticed If i use `KafkaTestUtils.getRecords(kafkaConsumer) [Just std props] then Kafka.messageDrivenChannelAdapter picked up message and pass to batchMessageConverter. As per my understanding it should auto pick by **Kafka.messageDrivenChannelAdapter. **.","body":"I cant send the code its pretty complicated and loading the context using diff XMLs. BUT what i noticed If i use `KafkaTestUtils.getRecords(kafkaConsumer) [Just std props] then Kafka.messageDrivenChannelAdapter picked up message and pass to batchMessageConverter. As per my understanding it should auto pick by **Kafka.messageDrivenChannelAdapter. **."},{"owner":{"account_id":14651915,"reputation":35,"user_id":10581692,"display_name":"TalentUk"},"score":0,"creation_date":1652960906,"post_id":72287904,"comment_id":127737148,"body_markdown":"Also found similar issue here [link](https://stackoverflow.com/questions/33552856/kafka-message-driven-adapter-not-working)","body":"Also found similar issue here <a href=\"https://stackoverflow.com/questions/33552856/kafka-message-driven-adapter-not-working\">link</a>"}],"owner":{"account_id":14651915,"reputation":35,"user_id":10581692,"display_name":"TalentUk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652887268,"creation_date":1652871430,"question_id":72287904,"body_markdown":"I am using kafka messages driven channel adapter to read messages from kafka topic. It works fine, but when I use embedded Kafka broker for integration test, it not working and doesn&#39;t listen to that topic.. \r\nHere is the code for Listener\r\n``` @Bean\r\n    public IntegrationFlow topic1ListenerKafkaFlow() {\r\n        return IntegrationFlows\r\n                .from(Kafka.messageDrivenChannelAdapter(kafkaMessageListenerContainer(), KafkaMessageDrivenChannelAdapter.ListenerMode.batch)\r\n                        .batchMessageConverter(batchMessageConverter)\r\n                        .errorChannel(errorChannel)\r\n                        .outputChannel(inputQueueChannel)).get();\r\n    }\r\n\r\n\r\n\r\n    public AbstractMessageListenerContainer kafkaMessageListenerContainer(){\r\n        AbstractMessageListenerContainer kafkaMessageListenerContainer = new KafkaMessageListenerContainer(consumerFactory(), containerProperties());\r\n        kafkaMessageListenerContainer.setAutoStartup(true);\r\n        return kafkaMessageListenerContainer;\r\n    }\r\n\r\n\r\n    private ContainerProperties containerProperties() {\r\n        ContainerProperties properties = new ContainerProperties(&quot;TEST_TOPIC&quot;);\r\n\r\n        properties.setAckMode(ContainerProperties.AckMode.BATCH);\r\n        properties.setConsumerTaskExecutor(createDefaultTaskExecutor());\r\n        return properties;\r\n    }\r\n\r\n\r\n    private ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:9092&quot;);\r\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;testConsumerGroup-1&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(properties);\r\n    }\r\n\r\n```\r\n\r\n\r\nEmbedded broker is \r\n``` @Bean\r\n    public EmbeddedKafkaBroker embeddedKafkaBroker() {\r\n        return new EmbeddedKafkaBroker(1, false, 1, &quot;TEST_TOPIC&quot;)\r\n                .kafkaPorts(9092).brokerProperty(&quot;listeners&quot;, &quot;PLAINTEXT://localhost:9092&quot;);\r\n    }\r\n```\r\n\r\nhere is producer config \r\n```\r\n    public Properties getKafkaProperties() {\r\n        final Properties properties = new Properties();\r\n        properties.put(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:9092&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        return properties;\r\n    }\r\n\r\n    public Future&lt;RecordMetadata&gt; sendMessage(String TEST_TOPIC, String message){\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getKafkaProperties());\r\n        ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(TEST_TOPIC,&quot;Key&quot;, message);\r\n        return  producer.send(producerRecord);\r\n    }\r\n```\r\n\r\nwhen i send  a message it send successfully to topic but **Kafka.messageDrivenChannelAdapter** is not picking up that messages. \r\n\r\nI tried a lot but could not find the root cause.","title":"Kafka Embedded server with DSL Kafka.messageDrivenChannelAdapter","body":"<p>I am using kafka messages driven channel adapter to read messages from kafka topic. It works fine, but when I use embedded Kafka broker for integration test, it not working and doesn't listen to that topic..\nHere is the code for Listener</p>\n<pre><code>    public IntegrationFlow topic1ListenerKafkaFlow() {\n        return IntegrationFlows\n                .from(Kafka.messageDrivenChannelAdapter(kafkaMessageListenerContainer(), KafkaMessageDrivenChannelAdapter.ListenerMode.batch)\n                        .batchMessageConverter(batchMessageConverter)\n                        .errorChannel(errorChannel)\n                        .outputChannel(inputQueueChannel)).get();\n    }\n\n\n\n    public AbstractMessageListenerContainer kafkaMessageListenerContainer(){\n        AbstractMessageListenerContainer kafkaMessageListenerContainer = new KafkaMessageListenerContainer(consumerFactory(), containerProperties());\n        kafkaMessageListenerContainer.setAutoStartup(true);\n        return kafkaMessageListenerContainer;\n    }\n\n\n    private ContainerProperties containerProperties() {\n        ContainerProperties properties = new ContainerProperties(&quot;TEST_TOPIC&quot;);\n\n        properties.setAckMode(ContainerProperties.AckMode.BATCH);\n        properties.setConsumerTaskExecutor(createDefaultTaskExecutor());\n        return properties;\n    }\n\n\n    private ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:9092&quot;);\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;testConsumerGroup-1&quot;);\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(properties);\n    }\n\n</code></pre>\n<p>Embedded broker is</p>\n<pre><code>    public EmbeddedKafkaBroker embeddedKafkaBroker() {\n        return new EmbeddedKafkaBroker(1, false, 1, &quot;TEST_TOPIC&quot;)\n                .kafkaPorts(9092).brokerProperty(&quot;listeners&quot;, &quot;PLAINTEXT://localhost:9092&quot;);\n    }\n</code></pre>\n<p>here is producer config</p>\n<pre><code>    public Properties getKafkaProperties() {\n        final Properties properties = new Properties();\n        properties.put(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:9092&quot;);\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        return properties;\n    }\n\n    public Future&lt;RecordMetadata&gt; sendMessage(String TEST_TOPIC, String message){\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(getKafkaProperties());\n        ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(TEST_TOPIC,&quot;Key&quot;, message);\n        return  producer.send(producerRecord);\n    }\n</code></pre>\n<p>when i send  a message it send successfully to topic but <strong>Kafka.messageDrivenChannelAdapter</strong> is not picking up that messages.</p>\n<p>I tried a lot but could not find the root cause.</p>\n"},{"tags":["java","websphere"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652886269,"post_id":72291528,"comment_id":127716649,"body_markdown":"Are you aware that Java 9 is no longer under support (since March 2018), and you shouldn&#39;t be using it. In any case, going to https://www.ibm.com/support/pages/websphere-application-server-detailed-system-requirements and following those instructions will show that WebSphere 9 requires Java 8.","body":"Are you aware that Java 9 is no longer under support (since March 2018), and you shouldn&#39;t be using it. In any case, going to <a href=\"https://www.ibm.com/support/pages/websphere-application-server-detailed-system-requirements\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a> and following those instructions will show that WebSphere 9 requires Java 8."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652886599,"post_id":72291528,"comment_id":127716766,"body_markdown":"Also [Verify Java SDK version shipped with IBM WebSphere Application Server fix packs](https://www.ibm.com/support/pages/verify-java-sdk-version-shipped-ibm-websphere-application-server-fix-packs) states Java 8.","body":"Also <a href=\"https://www.ibm.com/support/pages/verify-java-sdk-version-shipped-ibm-websphere-application-server-fix-packs\" rel=\"nofollow noreferrer\">Verify Java SDK version shipped with IBM WebSphere Application Server fix packs</a> states Java 8."},{"owner":{"account_id":17764535,"reputation":13,"user_id":16644866,"display_name":"PabloX3"},"score":0,"creation_date":1652889999,"post_id":72291528,"comment_id":127718126,"body_markdown":"Thank you so much @MarkRotteveel. I will make the necessary adjustments.","body":"Thank you so much @MarkRotteveel. I will make the necessary adjustments."}],"answers":[{"tags":[],"owner":{"account_id":232008,"reputation":3071,"user_id":496562,"display_name":"Alasdair"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652887002,"creation_date":1652887002,"answer_id":72291808,"question_id":72291528,"body_markdown":"The WebSphere Application Server V9 traditional runtime does not run on Java versions after 8. If you want to run on Java 11, 17 or newer then you can use WebSphere Liberty instead.","title":"Does WebSphere 9 support Java 9?","body":"<p>The WebSphere Application Server V9 traditional runtime does not run on Java versions after 8. If you want to run on Java 11, 17 or newer then you can use WebSphere Liberty instead.</p>\n"}],"owner":{"account_id":17764535,"reputation":13,"user_id":16644866,"display_name":"PabloX3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72291808,"answer_count":1,"score":1,"last_activity_date":1652887002,"creation_date":1652885882,"question_id":72291528,"body_markdown":"I have an EAR built in Java 8 and it works perfectly in WAS 9, but if I compile in Java 9, the EAR doesn&#39;t work and throws errors like these:\r\n\r\n```none\r\n[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/ibatis/sqlmap/engine/mapping/sql/dynamic/DynamicSql.class ] in [ H2H.war ]: [ null ]\r\n[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/InsertAuditoriaADM.class ] in [ H2H.war ]: [ null ]\r\n[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/PistasAuditoria.class ] in [ H2H.war ]: [ null ]\r\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/SecurityPistas.class ] in [ H2H.war ]: [ null ]\r\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/Variables.class ] in [ H2H.war ]: [ null ]\r\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/bd/PFIMonitorBD.class ] in [ H2H.war ]: [ null ]\r\n```\r\n\r\nDoes WebSphere 9 support Java 9?\r\n","title":"Does WebSphere 9 support Java 9?","body":"<p>I have an EAR built in Java 8 and it works perfectly in WAS 9, but if I compile in Java 9, the EAR doesn't work and throws errors like these:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/ibatis/sqlmap/engine/mapping/sql/dynamic/DynamicSql.class ] in [ H2H.war ]: [ null ]\n[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/InsertAuditoriaADM.class ] in [ H2H.war ]: [ null ]\n[17/05/22 16:19:56:214 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/PistasAuditoria.class ] in [ H2H.war ]: [ null ]\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/SecurityPistas.class ] in [ H2H.war ]: [ null ]\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/auditoria/Variables.class ] in [ H2H.war ]: [ null ]\n[17/05/22 16:19:56:215 CDT] 000000ad wtp           W org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.WARFileAnnotationsDetector locateAnnotations Failed to create class reader for [ WEB-INF/classes/com/back/bd/PFIMonitorBD.class ] in [ H2H.war ]: [ null ]\n</code></pre>\n<p>Does WebSphere 9 support Java 9?</p>\n"},{"tags":["java","android","google-cloud-firestore","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1652880221,"post_id":72289144,"comment_id":127713637,"body_markdown":"For filtering on distance, did you see https://firebase.google.com/docs/firestore/solutions/geoqueries?","body":"For filtering on distance, did you see <a href=\"https://firebase.google.com/docs/firestore/solutions/geoqueries\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/solutions/geoqueries</a>?"},{"owner":{"account_id":25235135,"reputation":3,"user_id":19069931,"display_name":"user499353"},"score":0,"creation_date":1652881075,"post_id":72289144,"comment_id":127714034,"body_markdown":"no, I didn’t\nthx for the answer, I will check it","body":"no, I didn’t thx for the answer, I will check it"},{"owner":{"account_id":25235135,"reputation":3,"user_id":19069931,"display_name":"user499353"},"score":0,"creation_date":1652883652,"post_id":72289144,"comment_id":127715345,"body_markdown":"well probably the problem will remain the same, because in result we will get List&lt;DocumentSnapshot&gt;, but not the Query object that I need to put into my case","body":"well probably the problem will remain the same, because in result we will get List&lt;DocumentSnapshot&gt;, but not the Query object that I need to put into my case"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1652886930,"post_id":72289144,"comment_id":127716888,"body_markdown":"To fulfil a geoquery requires multiple queries (see my answer [here](https://stackoverflow.com/questions/72263080/the-best-way-to-query-by-location-in-firestore/72264786#72264786) for some more info on why this is), so there&#39;s no way to use that with the adapters in FirebaseUI.","body":"To fulfil a geoquery requires multiple queries (see my answer <a href=\"https://stackoverflow.com/questions/72263080/the-best-way-to-query-by-location-in-firestore/72264786#72264786\">here</a> for some more info on why this is), so there&#39;s no way to use that with the adapters in FirebaseUI."},{"owner":{"account_id":25235135,"reputation":3,"user_id":19069931,"display_name":"user499353"},"score":0,"creation_date":1652887088,"post_id":72289144,"comment_id":127716943,"body_markdown":"so, no solution for my particular case?","body":"so, no solution for my particular case?"}],"owner":{"account_id":25235135,"reputation":3,"user_id":19069931,"display_name":"user499353"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652886844,"creation_date":1652876718,"question_id":72289144,"body_markdown":"I have collection `trips` with document inside it with fields: `latitude` and `longitude` of some place. I need to retrieve the trips from `Firestore` and take those trips, the distance from its start point to a given point is less than 50m. We can’t apply basic filtering here like `GreaterThan` or `LessThan` methods. I guess we need to filter it on client.\r\n\r\nIf I used a classic Adapter, I would just send a `ArrayList&lt;MyTrip&gt;` object into adapter and doing filtering here would be easy. But I want to use `FirebasePagingAdapter` in order to paginate data. Here we send `FirestorePagingOptions.Builder&lt;&gt;` object to adapter. And we can set data to it only with `setQuery()` method that takes Query object. My question is how to filter Query object in that case? \r\n\r\n    query = firebaseFirestore.collectionGroup(&quot;trips&quot;);\r\n    \r\n    config = new PagedList.Config.Builder()\r\n                    .setInitialLoadSizeHint(10)\r\n                    .setPageSize(5)\r\n                    .build();\r\n    \r\n    options = new FirestorePagingOptions.Builder&lt;MyTrip&gt;()\r\n                    .setQuery(query, config, MyTrip.class)\r\n                    .build();\r\n    \r\n    adapter = new FirestorePagingAdapter&lt;MyPost, PostViewHolder&gt;(options){...}","title":"Apply Firestore filtering for specific case","body":"<p>I have collection <code>trips</code> with document inside it with fields: <code>latitude</code> and <code>longitude</code> of some place. I need to retrieve the trips from <code>Firestore</code> and take those trips, the distance from its start point to a given point is less than 50m. We can’t apply basic filtering here like <code>GreaterThan</code> or <code>LessThan</code> methods. I guess we need to filter it on client.</p>\n<p>If I used a classic Adapter, I would just send a <code>ArrayList&lt;MyTrip&gt;</code> object into adapter and doing filtering here would be easy. But I want to use <code>FirebasePagingAdapter</code> in order to paginate data. Here we send <code>FirestorePagingOptions.Builder&lt;&gt;</code> object to adapter. And we can set data to it only with <code>setQuery()</code> method that takes Query object. My question is how to filter Query object in that case?</p>\n<pre><code>query = firebaseFirestore.collectionGroup(&quot;trips&quot;);\n\nconfig = new PagedList.Config.Builder()\n                .setInitialLoadSizeHint(10)\n                .setPageSize(5)\n                .build();\n\noptions = new FirestorePagingOptions.Builder&lt;MyTrip&gt;()\n                .setQuery(query, config, MyTrip.class)\n                .build();\n\nadapter = new FirestorePagingAdapter&lt;MyPost, PostViewHolder&gt;(options){...}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1652816924,"post_id":72278416,"comment_id":127696993,"body_markdown":"Have you tried disable eager fetching with `@OneToOne(fetch = FetchType.EAGER)`?","body":"Have you tried disable eager fetching with <code>@OneToOne(fetch = FetchType.EAGER)</code>?"},{"owner":{"account_id":14755949,"reputation":947,"user_id":10656609,"display_name":"Alan"},"score":0,"creation_date":1652858065,"post_id":72278416,"comment_id":127705015,"body_markdown":"Yes i have tried that and it changed nothing","body":"Yes i have tried that and it changed nothing"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1652969220,"post_id":72278416,"comment_id":127740596,"body_markdown":"You&#39;ve got the JoinColumn using the TrackerEntity&#39;s ID as the foreign key - this is wrong, as you have it both as a FK and as something that must be set yourself in the instance, so has two writeable mappings. You should really fix that as I don&#39;t see how you can insert a TrackerEntity and you certainly cannot change its vehicleEntity reference. But  your Query annotation is not the query being executed in the SQL you&#39;ve shown. It is ignoring that query annotation and its fetch join, so you might try renaming the method to something Spring won&#39;t try to build a query for and see what happens","body":"You&#39;ve got the JoinColumn using the TrackerEntity&#39;s ID as the foreign key - this is wrong, as you have it both as a FK and as something that must be set yourself in the instance, so has two writeable mappings. You should really fix that as I don&#39;t see how you can insert a TrackerEntity and you certainly cannot change its vehicleEntity reference. But  your Query annotation is not the query being executed in the SQL you&#39;ve shown. It is ignoring that query annotation and its fetch join, so you might try renaming the method to something Spring won&#39;t try to build a query for and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652886748,"creation_date":1652821954,"answer_id":72280725,"question_id":72278416,"body_markdown":"You can optimize this with `EntityGraph` and lazy loading. I presume `VehicleEntity` is the owning entity here. In that case make `fetch = FetchType.LAZY` and `cascade = CascadeType.ALL` should be  on the owning entity. And EntityGraph can be defined 2 ways \r\n\r\n 1. Named Entity Graph\r\n 2. AD-HOC or Unnamed Entity Graph\r\n\r\n**Named Entity Graph:**\r\n\r\nyou can define `NamedEntityGraph` on owning class and reference it in `VehicleEntityRepository` interface\r\n```\r\n@NamedEntityGraph(name = &quot;VehicleEntity.trackerEntity&quot;, attributeNodes = @NamedAttributeNode(&quot;trackerEntity&quot;))\r\npublic class VehicleEntity {\r\n}\r\n\r\n```\r\nVehicleEntityRepository.java\r\n```\r\npublic interface VehicleEntityRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\r\n     @EntityGraph(value = &quot;VehicleEntity.trackerEntity&quot;, type = EntityGraphType.LOAD)\r\n    List&lt;VehicleEntity&gt; findAll();\r\n}\r\n\r\n```\r\n**AD-HOC Entity Graph:**\r\n\r\nYou don&#39;t have to define any EntityGraph annotation VehicleEntity class but can directly use it Repository interface\r\n\r\nVehicleEntityRepository.java\r\n```\r\npublic interface VehicleEntityRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\r\n    @EntityGraph(attributePaths = { &quot;trackerEntity&quot; })\r\n    List&lt;VehicleEntity&gt; findAll();\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**VehicleEntity.java**\r\n```\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\n@NamedEntityGraph(name = &quot;VehicleEntity.trackerEntity&quot;, attributeNodes = @NamedAttributeNode(&quot;trackerEntity&quot;))\r\npublic class VehicleEntity {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;vehiclename&quot;)\r\n    private String vehicleName;\r\n\r\n \r\n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;vehicleEntity&quot;)\r\n    @JsonManagedReference\r\n    private TrackerEntity trackerEntity;\r\n}\r\n\r\n```\r\n\r\n**TrackerEntity.java**\r\n```\r\npackage ...;\r\nimport ...;\r\n\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;tracker&quot;)\r\npublic class TrackerEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;trackerid&quot;)\r\n    private String trackerId;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;vehicleid&quot;, referencedColumnName = &quot;id&quot;)\r\n@JsonBackReference\r\n    private VehicleEntity vehicleEntity;\r\n}\r\n    \r\n\r\n```\r\nYou can also use `@JsonManagedReference` and `@JsonBackReference` to prevent nested fetch or infinite recursion when using Jackson.","title":"How to setup JPA bi-directional one to one while avoiding n+1 queries","body":"<p>You can optimize this with <code>EntityGraph</code> and lazy loading. I presume <code>VehicleEntity</code> is the owning entity here. In that case make <code>fetch = FetchType.LAZY</code> and <code>cascade = CascadeType.ALL</code> should be  on the owning entity. And EntityGraph can be defined 2 ways</p>\n<ol>\n<li>Named Entity Graph</li>\n<li>AD-HOC or Unnamed Entity Graph</li>\n</ol>\n<p><strong>Named Entity Graph:</strong></p>\n<p>you can define <code>NamedEntityGraph</code> on owning class and reference it in <code>VehicleEntityRepository</code> interface</p>\n<pre><code>@NamedEntityGraph(name = &quot;VehicleEntity.trackerEntity&quot;, attributeNodes = @NamedAttributeNode(&quot;trackerEntity&quot;))\npublic class VehicleEntity {\n}\n\n</code></pre>\n<p>VehicleEntityRepository.java</p>\n<pre><code>public interface VehicleEntityRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\n     @EntityGraph(value = &quot;VehicleEntity.trackerEntity&quot;, type = EntityGraphType.LOAD)\n    List&lt;VehicleEntity&gt; findAll();\n}\n\n</code></pre>\n<p><strong>AD-HOC Entity Graph:</strong></p>\n<p>You don't have to define any EntityGraph annotation VehicleEntity class but can directly use it Repository interface</p>\n<p>VehicleEntityRepository.java</p>\n<pre><code>public interface VehicleEntityRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\n    @EntityGraph(attributePaths = { &quot;trackerEntity&quot; })\n    List&lt;VehicleEntity&gt; findAll();\n}\n\n</code></pre>\n<p><strong>VehicleEntity.java</strong></p>\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Builder\n\n@Entity\n@Table(name = &quot;vehicle&quot;)\n@NamedEntityGraph(name = &quot;VehicleEntity.trackerEntity&quot;, attributeNodes = @NamedAttributeNode(&quot;trackerEntity&quot;))\npublic class VehicleEntity {\n    @Id\n    private UUID id;\n\n    @Column(name = &quot;vehiclename&quot;)\n    private String vehicleName;\n\n \n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;vehicleEntity&quot;)\n    @JsonManagedReference\n    private TrackerEntity trackerEntity;\n}\n\n</code></pre>\n<p><strong>TrackerEntity.java</strong></p>\n<pre><code>package ...;\nimport ...;\n\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Builder\n\n@Entity\n@Table(name = &quot;tracker&quot;)\npublic class TrackerEntity {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;trackerid&quot;)\n    private String trackerId;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;vehicleid&quot;, referencedColumnName = &quot;id&quot;)\n@JsonBackReference\n    private VehicleEntity vehicleEntity;\n}\n    \n\n</code></pre>\n<p>You can also use <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> to prevent nested fetch or infinite recursion when using Jackson.</p>\n"}],"owner":{"account_id":14755949,"reputation":947,"user_id":10656609,"display_name":"Alan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72280725,"answer_count":1,"score":1,"last_activity_date":1652886748,"creation_date":1652808981,"question_id":72278416,"body_markdown":"I&#39;m trying to debug two entities that have a bi-directional one to one relationship.\r\nThe problem is that the relationship is causing N+1 Queries to occur.\r\nWhen I run `findAll()` a single query is executed for every item in my table.\r\n\r\nHere is an example:\r\nI have two entities\r\n```java\r\npackage ...;\r\nimport ...;\r\n\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;tracker&quot;)\r\npublic class TrackerEntity {\r\n    @Id\r\n    @Column(name = &quot;vehicleid&quot;)\r\n    private UUID vehicleId;\r\n\r\n    @Column(name = &quot;trackerid&quot;)\r\n    private String trackerId;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;vehicleid&quot;, referencedColumnName = &quot;id&quot;)\r\n    private VehicleEntity vehicleEntity;\r\n}\r\n\r\n```\r\n\r\n```\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Builder\r\n\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\npublic class VehicleEntity {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;vehiclename&quot;)\r\n    private String vehicleName;\r\n\r\n    @OneToOne(mappedBy = &quot;vehicleEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n    private TrackerEntity trackerEntity;\r\n}\r\n```\r\n\r\nWhen I run `vehicleRepository.findAll()` I get following debug logs:\r\n\r\n```\r\n2022-05-17 19:16:45.071 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.097 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.104 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.106 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.109 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.110 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.113 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.115 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.117 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.119 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.123 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.125 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.128 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.130 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.133 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.135 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.138 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.141 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.144 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\r\n2022-05-17 19:16:45.146 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\r\n2022-05-17 19:16:45.246 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_, vehicleent0_.vehiclename as vehiclen2_1_ from vehicle vehicleent0_\r\n2022-05-17 19:16:45.253 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.258 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.259 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.261 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.262 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.264 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.265 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.267 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.269 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n2022-05-17 19:16:45.271 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\r\n\r\n```\r\n\r\nI&#39;ve searched for N+1 JPA Query problems in hopes of finding a solution and most either suggested using EntityGraph or &quot;bytecode enhancement&quot;. I&#39;ve tried using entitygraph and still got n+1 queries and I don&#39;t want to use bytecode enhancement since the application has to run on a cloud as a microservice.\r\n\r\nOne more important thing is I want Trackers to be removed when their Vehicle is removed but they should not be created when a vehicle is created.\r\n\r\nIs there any way to fix this?\r\n\r\nI have tried using Query and join fetch:\r\n```\r\npublic interface VehicleRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\r\n\r\n    @Override\r\n    @Query(&quot;SELECT v FROM VehicleEntity v left outer join fetch v.trackerEntity t&quot;)\r\n    &lt;S extends VehicleEntity&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example);\r\n}\r\n```\r\nwhich did not change anything, still got n+1 queries.\r\nI have tried EntityGraph which changed nothing as well:\r\n```\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\n@NamedEntityGraph(name=&quot;vehicleGraph&quot;, attributeNodes = {@NamedAttributeNode(&quot;trackerEntity&quot;)})\r\npublic class VehicleEntity {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;vehiclename&quot;)\r\n    private String vehicleName;\r\n\r\n    @OneToOne(mappedBy = &quot;vehicleEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n    private TrackerEntity trackerEntity;\r\n}\r\n```\r\n\r\n```\r\npublic interface VehicleRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\r\n\r\n    @Override\r\n    @EntityGraph(value = &quot;vehicleGraph&quot;, type = EntityGraph.EntityGraphType.LOAD)\r\n    &lt;S extends VehicleEntity&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example);\r\n}\r\n```","title":"How to setup JPA bi-directional one to one while avoiding n+1 queries","body":"<p>I'm trying to debug two entities that have a bi-directional one to one relationship.\nThe problem is that the relationship is causing N+1 Queries to occur.\nWhen I run <code>findAll()</code> a single query is executed for every item in my table.</p>\n<p>Here is an example:\nI have two entities</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ...;\nimport ...;\n\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Builder\n\n@Entity\n@Table(name = &quot;tracker&quot;)\npublic class TrackerEntity {\n    @Id\n    @Column(name = &quot;vehicleid&quot;)\n    private UUID vehicleId;\n\n    @Column(name = &quot;trackerid&quot;)\n    private String trackerId;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;vehicleid&quot;, referencedColumnName = &quot;id&quot;)\n    private VehicleEntity vehicleEntity;\n}\n\n</code></pre>\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Builder\n\n@Entity\n@Table(name = &quot;vehicle&quot;)\npublic class VehicleEntity {\n    @Id\n    private UUID id;\n\n    @Column(name = &quot;vehiclename&quot;)\n    private String vehicleName;\n\n    @OneToOne(mappedBy = &quot;vehicleEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\n    private TrackerEntity trackerEntity;\n}\n</code></pre>\n<p>When I run <code>vehicleRepository.findAll()</code> I get following debug logs:</p>\n<pre><code>2022-05-17 19:16:45.071 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.097 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.104 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.106 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.109 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.110 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.113 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.115 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.117 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.119 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.123 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.125 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.128 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.130 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.133 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.135 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.138 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.141 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.144 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_0_, vehicleent0_.vehiclename as vehiclen2_1_0_ from vehicle vehicleent0_ where vehicleent0_.id=?\n2022-05-17 19:16:45.146 DEBUG 62639 --- [           main] org.hibernate.SQL                        : insert into vehicle (vehiclename, id) values (?, ?)\n2022-05-17 19:16:45.246 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select vehicleent0_.id as id1_1_, vehicleent0_.vehiclename as vehiclen2_1_ from vehicle vehicleent0_\n2022-05-17 19:16:45.253 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.258 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.259 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.261 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.262 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.264 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.265 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.267 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.269 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n2022-05-17 19:16:45.271 DEBUG 62639 --- [           main] org.hibernate.SQL                        : select trackerent0_.vehicleid as vehiclei1_0_0_, trackerent0_.trackerid as trackeri2_0_0_ from tracker trackerent0_ where trackerent0_.vehicleid=?\n\n</code></pre>\n<p>I've searched for N+1 JPA Query problems in hopes of finding a solution and most either suggested using EntityGraph or &quot;bytecode enhancement&quot;. I've tried using entitygraph and still got n+1 queries and I don't want to use bytecode enhancement since the application has to run on a cloud as a microservice.</p>\n<p>One more important thing is I want Trackers to be removed when their Vehicle is removed but they should not be created when a vehicle is created.</p>\n<p>Is there any way to fix this?</p>\n<p>I have tried using Query and join fetch:</p>\n<pre><code>public interface VehicleRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\n\n    @Override\n    @Query(&quot;SELECT v FROM VehicleEntity v left outer join fetch v.trackerEntity t&quot;)\n    &lt;S extends VehicleEntity&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example);\n}\n</code></pre>\n<p>which did not change anything, still got n+1 queries.\nI have tried EntityGraph which changed nothing as well:</p>\n<pre><code>@Entity\n@Table(name = &quot;vehicle&quot;)\n@NamedEntityGraph(name=&quot;vehicleGraph&quot;, attributeNodes = {@NamedAttributeNode(&quot;trackerEntity&quot;)})\npublic class VehicleEntity {\n    @Id\n    private UUID id;\n\n    @Column(name = &quot;vehiclename&quot;)\n    private String vehicleName;\n\n    @OneToOne(mappedBy = &quot;vehicleEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\n    private TrackerEntity trackerEntity;\n}\n</code></pre>\n<pre><code>public interface VehicleRepository extends JpaRepository&lt;VehicleEntity, UUID&gt; {\n\n    @Override\n    @EntityGraph(value = &quot;vehicleGraph&quot;, type = EntityGraph.EntityGraphType.LOAD)\n    &lt;S extends VehicleEntity&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example);\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534239775,"creation_date":1534239775,"answer_id":51838463,"question_id":51831630,"body_markdown":"It seems `readValueAsTree` does not support fetching whole collection.\r\n\r\nI did some work around without custom `DeSerializer` which works.\r\n\r\n    @JacksonXmlRootElement(localName=&quot;root&quot;)\r\n    public class Root {\r\n    @JacksonXmlElementWrapper(useWrapping = true)\r\n    private List&lt;Entry&gt; entries;\r\n\r\n    private String date;\r\n\r\n    public List&lt;Entry&gt; getEntries() {\r\n        return entries;\r\n    }\r\n\r\n    public void setEntries(List&lt;Entry&gt; entries) {\r\n        if (this.entries == null){\r\n            this.entries = new ArrayList&lt;&gt;(entries.size());\r\n        }\r\n        this.entries.addAll(entries);\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n    }\r\n\r\n    class Entry {\r\n    private String id;\r\n    private String status;\r\n    private Person person;\r\n    }\r\n\r\n    class Person {\r\n    @JacksonXmlProperty(localName = &quot;Name&quot;)\r\n    private String name;\r\n\r\n    @JacksonXmlProperty(localName = &quot;Age&quot;)\r\n    private String age;\r\n    }\r\n\r\nThen unit test:\r\n\r\n        @Test\r\n        void test_xml_XmlMapper() throws Exception {\r\n        JacksonXmlModule xmlModule = new JacksonXmlModule();\r\n        xmlModule.setDefaultUseWrapper(false);\r\n        ObjectMapper xmlMapper = new XmlMapper(xmlModule);\r\n\r\n        String xmlContent = &quot;your xml file here&quot;\r\n        Root bean = xmlMapper.readValue(xmlContent, Root.class);\r\n        assertThat(bean.getEntries().size(), Matchers.equalTo(3));\r\n    }","title":"jackson custom deserializer only getting last value in list xml","body":"<p>It seems <code>readValueAsTree</code> does not support fetching whole collection.</p>\n\n<p>I did some work around without custom <code>DeSerializer</code> which works.</p>\n\n<pre><code>@JacksonXmlRootElement(localName=\"root\")\npublic class Root {\n@JacksonXmlElementWrapper(useWrapping = true)\nprivate List&lt;Entry&gt; entries;\n\nprivate String date;\n\npublic List&lt;Entry&gt; getEntries() {\n    return entries;\n}\n\npublic void setEntries(List&lt;Entry&gt; entries) {\n    if (this.entries == null){\n        this.entries = new ArrayList&lt;&gt;(entries.size());\n    }\n    this.entries.addAll(entries);\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    this.date = date;\n}\n}\n\nclass Entry {\nprivate String id;\nprivate String status;\nprivate Person person;\n}\n\nclass Person {\n@JacksonXmlProperty(localName = \"Name\")\nprivate String name;\n\n@JacksonXmlProperty(localName = \"Age\")\nprivate String age;\n}\n</code></pre>\n\n<p>Then unit test:</p>\n\n<pre><code>    @Test\n    void test_xml_XmlMapper() throws Exception {\n    JacksonXmlModule xmlModule = new JacksonXmlModule();\n    xmlModule.setDefaultUseWrapper(false);\n    ObjectMapper xmlMapper = new XmlMapper(xmlModule);\n\n    String xmlContent = \"your xml file here\"\n    Root bean = xmlMapper.readValue(xmlContent, Root.class);\n    assertThat(bean.getEntries().size(), Matchers.equalTo(3));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10303907,"reputation":1,"user_id":7601752,"display_name":"Stephen Hazra"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1621553700,"creation_date":1621553700,"answer_id":67629198,"question_id":51831630,"body_markdown":"If someone is still facing this issue, please upgrade to the latest jackson 2.12.3 version.\r\nI was facing this issue in 2.11.x version.","title":"jackson custom deserializer only getting last value in list xml","body":"<p>If someone is still facing this issue, please upgrade to the latest jackson 2.12.3 version.\nI was facing this issue in 2.11.x version.</p>\n"},{"tags":[],"owner":{"account_id":142897,"reputation":3963,"user_id":350891,"accept_rate":100,"display_name":"xor_eq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652886608,"creation_date":1652886608,"answer_id":72291719,"question_id":51831630,"body_markdown":"I can see why the answer by [@stephen-hazra][1] is downvoted, because he doesn&#39;t really answer the question, however: He is right.\r\n\r\nI don&#39;t know the exact from version, but up until 2.11.x custom deserialization of an Array in an xml was broken. If we take the xml from the question and implemented a Deserializer and used it like this:\r\n\r\n```\r\n@JsonDeserialize(using = MyDeserializer.class)\r\nprivate List&lt;MyClass&gt; entries = new ArrayList&lt;&gt;();\r\n```\r\n\r\nIf the MyDeserializer class extended from StdSerializer, also like in the question, the deserialize method would always only ever get the last child &quot;entry&quot;-element from the children of entries to process.\r\n\r\nIn later versions this is fixed, you can now implement the deserialize method like follows:\r\n\r\n```\r\n@Override\r\npublic List&lt;MyClass&gt; deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\r\n    final List&lt;MyClass&gt; result = new ArrayList&lt;&gt;();\r\n    final ObjectNode node = jsonParser.getCodec().readTree(jsonParser);\r\n    //entry and extendedEntry are different children in the xml that can be parsed as MyClass\r\n    processNode((ContainerNode) node.get(&quot;entry&quot;), jsonParser, result);\r\n    processNode((ContainerNode) node.get(&quot;extendedEntry&quot;), jsonParser, result);\r\n    return result;\r\n}\r\n\r\nprivate void processNode(ContainerNode cNode, JsonParser jsonParser, List&lt;MyClass&gt; result) throws IOException {\r\n    if (cNode == null) return;\r\n    //cNode can either be an ObjectNode or an ArrayNode based on how many children there can be found in the xml.\r\n    if (cNode.isArray()) { cNode.iterator().forEachRemaining(node -&gt; {\r\n        try {\r\n            result.add(node.traverse(jsonParser.getCodec()).readValueAs(MyClass.class));\r\n            } catch (IOException e) {\r\n              //whatever\r\n            }\r\n        });\r\n    } else {\r\n        result.add(cNode.traverse(jsonParser.getCodec()).readValueAs(MyClass.class));\r\n    }\r\n}\r\n    \r\n```\r\n\r\n\r\nI&#39;m writing this example down as answer, because I was basically stuck a whole afternoon, wondering how I could process these other child elements in my xml, because in my case I also had children in the xml with different tag names, but same content type, so parsing just the content with contentUsing was not sufficient, because that way I lost important information based on the original tag name of the child. And in the end it just turned out that the jackson version 2.11 I was using, was just broken in that regard. So thanks to Stephen for pointing me into that direction.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/7601752/stephen-hazra","title":"jackson custom deserializer only getting last value in list xml","body":"<p>I can see why the answer by <a href=\"https://stackoverflow.com/users/7601752/stephen-hazra\">@stephen-hazra</a> is downvoted, because he doesn't really answer the question, however: He is right.</p>\n<p>I don't know the exact from version, but up until 2.11.x custom deserialization of an Array in an xml was broken. If we take the xml from the question and implemented a Deserializer and used it like this:</p>\n<pre><code>@JsonDeserialize(using = MyDeserializer.class)\nprivate List&lt;MyClass&gt; entries = new ArrayList&lt;&gt;();\n</code></pre>\n<p>If the MyDeserializer class extended from StdSerializer, also like in the question, the deserialize method would always only ever get the last child &quot;entry&quot;-element from the children of entries to process.</p>\n<p>In later versions this is fixed, you can now implement the deserialize method like follows:</p>\n<pre><code>@Override\npublic List&lt;MyClass&gt; deserialize(JsonParser jsonParser, DeserializationContext ctxt) throws IOException {\n    final List&lt;MyClass&gt; result = new ArrayList&lt;&gt;();\n    final ObjectNode node = jsonParser.getCodec().readTree(jsonParser);\n    //entry and extendedEntry are different children in the xml that can be parsed as MyClass\n    processNode((ContainerNode) node.get(&quot;entry&quot;), jsonParser, result);\n    processNode((ContainerNode) node.get(&quot;extendedEntry&quot;), jsonParser, result);\n    return result;\n}\n\nprivate void processNode(ContainerNode cNode, JsonParser jsonParser, List&lt;MyClass&gt; result) throws IOException {\n    if (cNode == null) return;\n    //cNode can either be an ObjectNode or an ArrayNode based on how many children there can be found in the xml.\n    if (cNode.isArray()) { cNode.iterator().forEachRemaining(node -&gt; {\n        try {\n            result.add(node.traverse(jsonParser.getCodec()).readValueAs(MyClass.class));\n            } catch (IOException e) {\n              //whatever\n            }\n        });\n    } else {\n        result.add(cNode.traverse(jsonParser.getCodec()).readValueAs(MyClass.class));\n    }\n}\n    \n</code></pre>\n<p>I'm writing this example down as answer, because I was basically stuck a whole afternoon, wondering how I could process these other child elements in my xml, because in my case I also had children in the xml with different tag names, but same content type, so parsing just the content with contentUsing was not sufficient, because that way I lost important information based on the original tag name of the child. And in the end it just turned out that the jackson version 2.11 I was using, was just broken in that regard. So thanks to Stephen for pointing me into that direction.</p>\n"}],"owner":{"account_id":1102229,"reputation":179,"user_id":1094387,"accept_rate":57,"display_name":"Raghul Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652886608,"creation_date":1534201083,"question_id":51831630,"body_markdown":"I have the following xml\r\n\r\n    &lt;root&gt;\r\n\t&lt;date&gt;112004&lt;/date&gt;\r\n\t&lt;entries&gt;\r\n\t\t&lt;entry id = 1&gt;\r\n\t\t\t&lt;status&gt;Active&lt;/status&gt;\r\n\t\t\t&lt;person&gt;\r\n\t\t\t\t&lt;Name&gt;John&lt;/Name&gt;\r\n\t\t\t\t&lt;Age&gt;22&lt;/Age&gt;\r\n\t\t\t&lt;/person&gt;\r\n\t\t&lt;/entry&gt;\r\n\t\t&lt;entry id = 2&gt;\r\n\t\t\t&lt;status&gt;Active&lt;/status&gt;\r\n\t\t\t&lt;person&gt;\r\n\t\t\t\t&lt;Name&gt;Doe&lt;/Name&gt;\r\n\t\t\t\t&lt;Age&gt;32&lt;/Age&gt;\r\n\t\t\t&lt;/person&gt;\r\n\t\t&lt;/entry&gt;\r\n\t\t&lt;entry id = 3&gt;\r\n\t\t\t&lt;status&gt;N/A&lt;/status&gt;\r\n\t\t&lt;/entry&gt;\r\n\t&lt;/entries&gt;\r\n&lt;/root&gt;\r\nI am using custom jackson deserializer to get the values and pojo looks like\r\n\r\n    @JacksonXmlRootElement(localName=&quot;root&quot;, namespace=&quot;namespace&quot;)\r\nclass root\r\n{\r\n\tprivate String date;\r\n\t\r\n\t@JacksonXmlProperty(localName = &quot;entries&quot;, namespace=&quot;tns&quot;)\r\n    private List&lt;Entry&gt; entries;\r\n\t//getter and setter\r\n\t\r\n    }\r\n\r\n    class Entry {\r\n\t private String id;\r\n\t private String status;\r\n\t private Person person;\r\n\t //getter and setter\r\n    }\r\nAnd the deserializer code looks like\r\n\r\n    public class DeSerializer extends StdDeserializer&lt;root&gt;\r\n    {\r\n\t protected DeSerializer() {\r\n\t    super(root.class);\r\n\t  }\r\n\t  @Override\r\n\tpublic root deserialize(JsonParser p, DeserializationContext ctxt)  throws IOException, JsonProcessingException {\r\n\t\tJsonNode nodes = p.readValueAsTree();\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;Entry&gt; entry = mapper.convertValue(nodes.findValues(&quot;entry&quot;), new TypeReference&lt;List&lt;Entry&gt;&gt;() {});\r\n\t}\r\n    }\r\n\r\n    main()\r\n    {\r\n\tXmlMapper x = new XmlMapper();\r\n\t final SimpleModule module = new SimpleModule(&quot;configModule&quot;,   com.fasterxml.jackson.core.Version.unknownVersion());\r\n\t\t\t    module.addDeserializer(root.class, new DeSerializer());\r\n\t\t\t\tx.registerModule(module);\r\n\t\t\t\troot r = x.readValue(xmlSource, root.class); /*xmlsource is xml as string*/\r\n    }\r\n\r\nThe issue is when I debugged I am always getting the entry last value from xml. So the values of nodes (in deserializer) is {&quot;date&quot;:&quot;112004&quot;,&quot;entries&quot;:{&quot;entry&quot;:{&quot;id&quot;:&quot;3&quot;,&quot;status&quot;:&quot;N/A&quot;}}} and I am not sure why it is not treating as list. I did add annotation of unwrapped = false for List&lt;Entry&gt; but that did not work out.\r\n","title":"jackson custom deserializer only getting last value in list xml","body":"<p>I have the following xml</p>\n\n<pre><code>&lt;root&gt;\n&lt;date&gt;112004&lt;/date&gt;\n&lt;entries&gt;\n    &lt;entry id = 1&gt;\n        &lt;status&gt;Active&lt;/status&gt;\n        &lt;person&gt;\n            &lt;Name&gt;John&lt;/Name&gt;\n            &lt;Age&gt;22&lt;/Age&gt;\n        &lt;/person&gt;\n    &lt;/entry&gt;\n    &lt;entry id = 2&gt;\n        &lt;status&gt;Active&lt;/status&gt;\n        &lt;person&gt;\n            &lt;Name&gt;Doe&lt;/Name&gt;\n            &lt;Age&gt;32&lt;/Age&gt;\n        &lt;/person&gt;\n    &lt;/entry&gt;\n    &lt;entry id = 3&gt;\n        &lt;status&gt;N/A&lt;/status&gt;\n    &lt;/entry&gt;\n&lt;/entries&gt;\n</code></pre>\n\n<p>\nI am using custom jackson deserializer to get the values and pojo looks like</p>\n\n<pre><code>@JacksonXmlRootElement(localName=\"root\", namespace=\"namespace\")\n</code></pre>\n\n<p>class root\n{\n    private String date;</p>\n\n<pre><code>@JacksonXmlProperty(localName = \"entries\", namespace=\"tns\")\nprivate List&lt;Entry&gt; entries;\n//getter and setter\n\n}\n\nclass Entry {\n private String id;\n private String status;\n private Person person;\n //getter and setter\n}\n</code></pre>\n\n<p>And the deserializer code looks like</p>\n\n<pre><code>public class DeSerializer extends StdDeserializer&lt;root&gt;\n{\n protected DeSerializer() {\n    super(root.class);\n  }\n  @Override\npublic root deserialize(JsonParser p, DeserializationContext ctxt)  throws IOException, JsonProcessingException {\n    JsonNode nodes = p.readValueAsTree();\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Entry&gt; entry = mapper.convertValue(nodes.findValues(\"entry\"), new TypeReference&lt;List&lt;Entry&gt;&gt;() {});\n}\n}\n\nmain()\n{\nXmlMapper x = new XmlMapper();\n final SimpleModule module = new SimpleModule(\"configModule\",   com.fasterxml.jackson.core.Version.unknownVersion());\n            module.addDeserializer(root.class, new DeSerializer());\n            x.registerModule(module);\n            root r = x.readValue(xmlSource, root.class); /*xmlsource is xml as string*/\n}\n</code></pre>\n\n<p>The issue is when I debugged I am always getting the entry last value from xml. So the values of nodes (in deserializer) is {\"date\":\"112004\",\"entries\":{\"entry\":{\"id\":\"3\",\"status\":\"N/A\"}}} and I am not sure why it is not treating as list. I did add annotation of unwrapped = false for List but that did not work out.</p>\n"},{"tags":["java","javafx","keyboard","touch","monocle"],"answers":[{"tags":[],"owner":{"account_id":39374,"reputation":2021,"user_id":113512,"accept_rate":60,"display_name":"David Taylor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652886592,"creation_date":1652884470,"answer_id":72291175,"question_id":66207140,"body_markdown":"The solution, thanks to Gluon support, is to set `-Duse.egl=true`.","title":"JavaFX Virtual keyboard blink","body":"<p>The solution, thanks to Gluon support, is to set <code>-Duse.egl=true</code>.</p>\n"}],"owner":{"account_id":16387298,"reputation":65,"user_id":11836960,"display_name":"Julien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72291175,"answer_count":1,"score":3,"last_activity_date":1652886592,"creation_date":1613388238,"question_id":66207140,"body_markdown":"I develop an embedded JavaFX app for touch screen.\r\n\r\nI have a problem with JavaFX vitrual keyboard. When it&#39;s displayed, the screen blink  (more specially, it blink from keyboard to app quickly).\r\n\r\nI run my application with this command line :\r\n\r\n```\r\nsudo java -Dglass.platform=Monocle -Dembedded=monocle -Dprism.verbose=true -Dglass.platform=Monocle \\\r\n -Djavafx.platform=eglfb -jar --module-path /home/pi/armv6hf-sdk/lib \\\r\n--add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics \\ \r\n--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED \\ \r\n--add-exports=javafx.base/com.sun.javafx.collections=ALL-UNNAMED \\ \r\n--add-exports=javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED \\ \r\n--illegal-access=warn app.jar\r\n```\r\n\r\nCan you help me please ?\r\n\r\nThank you in advance.","title":"JavaFX Virtual keyboard blink","body":"<p>I develop an embedded JavaFX app for touch screen.</p>\n<p>I have a problem with JavaFX vitrual keyboard. When it's displayed, the screen blink  (more specially, it blink from keyboard to app quickly).</p>\n<p>I run my application with this command line :</p>\n<pre><code>sudo java -Dglass.platform=Monocle -Dembedded=monocle -Dprism.verbose=true -Dglass.platform=Monocle \\\n -Djavafx.platform=eglfb -jar --module-path /home/pi/armv6hf-sdk/lib \\\n--add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics \\ \n--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED \\ \n--add-exports=javafx.base/com.sun.javafx.collections=ALL-UNNAMED \\ \n--add-exports=javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED \\ \n--illegal-access=warn app.jar\n</code></pre>\n<p>Can you help me please ?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","caching","out-of-memory","infinispan","evict"],"comments":[{"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"score":0,"creation_date":1652950331,"post_id":72291648,"comment_id":127733428,"body_markdown":"How are you recreating the cache?","body":"How are you recreating the cache?"},{"owner":{"account_id":5390935,"reputation":1,"user_id":6205444,"display_name":"Nabila Salmi"},"score":0,"creation_date":1653399859,"post_id":72291648,"comment_id":127839506,"body_markdown":"Thanks for your reply  ! After i stop the previous cache, i recreate a new one withthe following : manager.defineConfiguration(cacheName, config), where manager is an EmbeddedCacheManager instance.","body":"Thanks for your reply  ! After i stop the previous cache, i recreate a new one withthe following : manager.defineConfiguration(cacheName, config), where manager is an EmbeddedCacheManager instance."}],"owner":{"account_id":5390935,"reputation":1,"user_id":6205444,"display_name":"Nabila Salmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652886294,"creation_date":1652886294,"question_id":72291648,"body_markdown":"I&#39;m maintaining an old java code that is based on Infinispan 9.4.24 and terminates by an out of memory exception. \r\nThe code launches 680 threads where each thread receives each second a 2byte data and inserts it in a cache. After one hour, the thread stoppes the cache with the stop method, and recreate a new cache for it. \r\nUnfortunately, after 2 or 3 hours of execution in a jvm of 1Gbyte, the code gets an outofmemory exception.\r\nI tried to use eviction configuration (see below) but it didn&#39;t solve the problem :\r\n\r\n    new ConfigurationBuilder().memory()\r\n    .storageType(StorageType.BINARY).evictionType(EvictionType.COUNT)\r\n    .evictionStrategy(EvictionStrategy.REMOVE).size(1000)\r\n    .persistence().addSingleFileStore().location(cachesRootLocation)\r\n    .purgeOnStartup(false).build();\r\n\r\nI tried removing entries directly from the cache map, but it does&#39;nt work, getting on exceptions like :\r\nI tried expiration and lifespan configuration, but it didn&#39;t work as i am not configuring cluster mode :\r\n.expiration()\r\n.lifespan(3600, TimeUnit.SECONDS)\r\n                \r\nI disabled passivation while using the evict method, but no solution.\r\n\r\nUsually, i have an IllegalLifecycleStateException exception telling that cache is in stopping or terminated state, when using eviction and calling the evict method or remove map entries after or before stop.\r\n\r\nCan anybody tells me if the stop method really removes cache entries from memory please ? Can anybody help me please ? How to remove entries from cache without getting exceptions ?\r\n\r\nUsing a profiler (jdump and MAT tools), i can see that most of memory is occupied by DefaultDataContainer instancies. \r\n\r\nThanks for your help.","title":"Is the stop method removing cache entries really from memory?","body":"<p>I'm maintaining an old java code that is based on Infinispan 9.4.24 and terminates by an out of memory exception.\nThe code launches 680 threads where each thread receives each second a 2byte data and inserts it in a cache. After one hour, the thread stoppes the cache with the stop method, and recreate a new cache for it.\nUnfortunately, after 2 or 3 hours of execution in a jvm of 1Gbyte, the code gets an outofmemory exception.\nI tried to use eviction configuration (see below) but it didn't solve the problem :</p>\n<pre><code>new ConfigurationBuilder().memory()\n.storageType(StorageType.BINARY).evictionType(EvictionType.COUNT)\n.evictionStrategy(EvictionStrategy.REMOVE).size(1000)\n.persistence().addSingleFileStore().location(cachesRootLocation)\n.purgeOnStartup(false).build();\n</code></pre>\n<p>I tried removing entries directly from the cache map, but it does'nt work, getting on exceptions like :\nI tried expiration and lifespan configuration, but it didn't work as i am not configuring cluster mode :\n.expiration()\n.lifespan(3600, TimeUnit.SECONDS)</p>\n<p>I disabled passivation while using the evict method, but no solution.</p>\n<p>Usually, i have an IllegalLifecycleStateException exception telling that cache is in stopping or terminated state, when using eviction and calling the evict method or remove map entries after or before stop.</p>\n<p>Can anybody tells me if the stop method really removes cache entries from memory please ? Can anybody help me please ? How to remove entries from cache without getting exceptions ?</p>\n<p>Using a profiler (jdump and MAT tools), i can see that most of memory is occupied by DefaultDataContainer instancies.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1645514610,"post_id":71215790,"comment_id":125884661,"body_markdown":"I have seen lombok getting in the way. So, you might try removing that. Just a suggestion.","body":"I have seen lombok getting in the way. So, you might try removing that. Just a suggestion."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645527690,"post_id":71215790,"comment_id":125889369,"body_markdown":"If you Autowire `Environment environment;`, could you validate that your properties exists in there with `environment.getProperty(...)`?","body":"If you Autowire <code>Environment environment;</code>, could you validate that your properties exists in there with <code>environment.getProperty(...)</code>?"},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1646773864,"post_id":71215790,"comment_id":126206205,"body_markdown":"Does it work if you remove `@ConstructorBinding` from `PlatformProperties`? `@Data` includes `@RequiredArgsConstructor`. In this case, this yields a no-args-constructor as the only field `configs` is assigned a value and thus not &quot;required&quot;.","body":"Does it work if you remove <code>@ConstructorBinding</code> from <code>PlatformProperties</code>? <code>@Data</code> includes <code>@RequiredArgsConstructor</code>. In this case, this yields a no-args-constructor as the only field <code>configs</code> is assigned a value and thus not &quot;required&quot;."},{"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"score":0,"creation_date":1652886290,"post_id":71215790,"comment_id":127716655,"body_markdown":"Sorry folks for coming back to this quite late. Thank y&#39;all for all the suggestions, but I posted the answer that worked. Cheers!","body":"Sorry folks for coming back to this quite late. Thank y&#39;all for all the suggestions, but I posted the answer that worked. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1652886177,"creation_date":1652886177,"answer_id":72291614,"question_id":71215790,"body_markdown":"Yah, I solved this a long time ago, just wanted to provide the answer, and it was quite simple too. \r\n\r\nYou see this line?\r\n\r\n    private final List&lt;PlatformConfig&gt; configs = new ArrayList&lt;&gt;();\r\n\r\nThat was the culprit.\r\n\r\nNotice that the `configs` variable is final and was already assigned a `new ArrayList&lt;&gt;()` as it&#39;s value, hence it was immutable.\r\n\r\nSolution was to remove the initial assignment so the line became;\r\n\r\n    private final List&lt;PlatformConfig&gt; configs;\r\n\r\nThe constructor binding went OK and the `configs` values were populated as expected.","title":"SpringBoot 2.6.3 not binding @ConfigurationProperties on List of Objects","body":"<p>Yah, I solved this a long time ago, just wanted to provide the answer, and it was quite simple too.</p>\n<p>You see this line?</p>\n<pre><code>private final List&lt;PlatformConfig&gt; configs = new ArrayList&lt;&gt;();\n</code></pre>\n<p>That was the culprit.</p>\n<p>Notice that the <code>configs</code> variable is final and was already assigned a <code>new ArrayList&lt;&gt;()</code> as it's value, hence it was immutable.</p>\n<p>Solution was to remove the initial assignment so the line became;</p>\n<pre><code>private final List&lt;PlatformConfig&gt; configs;\n</code></pre>\n<p>The constructor binding went OK and the <code>configs</code> values were populated as expected.</p>\n"}],"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72291614,"answer_count":1,"score":0,"last_activity_date":1652886177,"creation_date":1645502763,"question_id":71215790,"body_markdown":"I know this must be simple, and I&#39;ve seen multiple similar questions, however my entire setup seems to be ok (as solutioned in the other posts), yet this problem persists.\r\n\r\nHere&#39;s my setup\r\n\r\n**Environment**\r\n- Spring Boot `2.6.3`\r\n- Java `17`\r\n\r\n**application.yml**\r\n\r\n    platforms:\r\n      configs:\r\n        - platform: ABC\r\n          base-url: https://some-url-01.com/api\r\n          description:\r\n          logo:\r\n        - platform: DEF\r\n          base-url: https://some-url-02.com/api\r\n          description:\r\n          logo:\r\n\r\n**Config Properties**\r\n\r\n    @Data\r\n    @ConstructorBinding\r\n    @ConfigurationProperties(prefix = &quot;platforms&quot;)\r\n    public class PlatformProperties {\r\n    \r\n        private final List&lt;PlatformConfig&gt; configs = new ArrayList&lt;&gt;();\r\n    \r\n        @Data\r\n        public static class PlatformConfig {\r\n            private final Platform platform;\r\n            private final String baseUrl;\r\n            private final String description;\r\n            private final String logo;\r\n        }\r\n    }\r\n\r\n**Platform.java** - a simple enum\r\n\r\n    public enum Platform {\r\n        ABC, DEF\r\n    }\r\n\r\n**Configuration**\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @EnableConfigurationProperties(PlatformProperties.class)\r\n    public class ClientConfig {\r\n    \r\n        private final PlatformProperties platformProperties;\r\n\r\n        \r\n        @PostConstruct\r\n        public void showProperties(){\r\n            platformProperties.getConfigs().forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nThis entire setup seems perfectly fine (Ref: [Spring Docs][1]), however `platformProperties.getConfigs()` is always empty because there was no binding on `platforms.configs` as defined from the `application.yml`\r\n\r\nI have a similar setup on a different project (`springboot 2.5.7` / `Java 8`) where everything works exactly as expected.\r\n\r\nWhat about this setup/configs is wrong??? \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.enabling-annotated-types","title":"SpringBoot 2.6.3 not binding @ConfigurationProperties on List of Objects","body":"<p>I know this must be simple, and I've seen multiple similar questions, however my entire setup seems to be ok (as solutioned in the other posts), yet this problem persists.</p>\n<p>Here's my setup</p>\n<p><strong>Environment</strong></p>\n<ul>\n<li>Spring Boot <code>2.6.3</code></li>\n<li>Java <code>17</code></li>\n</ul>\n<p><strong>application.yml</strong></p>\n<pre><code>platforms:\n  configs:\n    - platform: ABC\n      base-url: https://some-url-01.com/api\n      description:\n      logo:\n    - platform: DEF\n      base-url: https://some-url-02.com/api\n      description:\n      logo:\n</code></pre>\n<p><strong>Config Properties</strong></p>\n<pre><code>@Data\n@ConstructorBinding\n@ConfigurationProperties(prefix = &quot;platforms&quot;)\npublic class PlatformProperties {\n\n    private final List&lt;PlatformConfig&gt; configs = new ArrayList&lt;&gt;();\n\n    @Data\n    public static class PlatformConfig {\n        private final Platform platform;\n        private final String baseUrl;\n        private final String description;\n        private final String logo;\n    }\n}\n</code></pre>\n<p><strong>Platform.java</strong> - a simple enum</p>\n<pre><code>public enum Platform {\n    ABC, DEF\n}\n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre><code>@Slf4j\n@Configuration\n@RequiredArgsConstructor\n@EnableConfigurationProperties(PlatformProperties.class)\npublic class ClientConfig {\n\n    private final PlatformProperties platformProperties;\n\n    \n    @PostConstruct\n    public void showProperties(){\n        platformProperties.getConfigs().forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>This entire setup seems perfectly fine (Ref: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.enabling-annotated-types\" rel=\"nofollow noreferrer\">Spring Docs</a>), however <code>platformProperties.getConfigs()</code> is always empty because there was no binding on <code>platforms.configs</code> as defined from the <code>application.yml</code></p>\n<p>I have a similar setup on a different project (<code>springboot 2.5.7</code> / <code>Java 8</code>) where everything works exactly as expected.</p>\n<p>What about this setup/configs is wrong???</p>\n"},{"tags":["java","spring-boot","docker","maven","amazon-ecr"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652863375,"post_id":72284668,"comment_id":127706948,"body_markdown":"If you build a spring boot application this will be names like your artifactId you have used in your project and the classifier you have specified in the configuration of the spring-boot-maven-plugin that means someting like `whateverartifactid-version-exec.jar` which is the one you have to copy within your docker container and also using to start your app...","body":"If you build a spring boot application this will be names like your artifactId you have used in your project and the classifier you have specified in the configuration of the spring-boot-maven-plugin that means someting like <code>whateverartifactid-version-exec.jar</code> which is the one you have to copy within your docker container and also using to start your app..."},{"owner":{"account_id":1889492,"reputation":123,"user_id":1707967,"display_name":"Ratna Srikanth"},"score":0,"creation_date":1652866010,"post_id":72284668,"comment_id":127707924,"body_markdown":"Thanks for the comment @khmarbaise. Are you saying, the whateverartifactid-version-exec.jar, we have to move to docker container before building the project A. If so, could you please provide me the series of steps.","body":"Thanks for the comment @khmarbaise. Are you saying, the whateverartifactid-version-exec.jar, we have to move to docker container before building the project A. If so, could you please provide me the series of steps."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652867791,"post_id":72284668,"comment_id":127708646,"body_markdown":"The thing is you are building inside the container but you have to copy that because that&#39;s the artifact which is being build by spring-boot-maven-plugin which contains all dependencies.. exception you want to build a multi layered spring boot app but for that the approach is wrong..","body":"The thing is you are building inside the container but you have to copy that because that&#39;s the artifact which is being build by spring-boot-maven-plugin which contains all dependencies.. exception you want to build a multi layered spring boot app but for that the approach is wrong.."}],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652859202,"creation_date":1652859202,"answer_id":72284914,"question_id":72284668,"body_markdown":"As i understand it, you haven&#39;t pushed your dependency to a remote maven artifact repository, hence it&#39;s only available in your local machine under `~/.m2/repository/com/example/commons/1.0.0/`.\r\n\r\nWhen you try to compile, maven will check your local machine first to see if the dependency is available, else it will reach out to maven central (or any other configured repo) to resolve and retrieve the artifact. Since you do this inside a docker container where the artifact isn&#39;t available, it will fail.\r\n\r\nSo my suggestion is to try:\r\n# Option 1\r\nAdd a row in your Dockerfile to copy this artifact into your docker container before running mvn clean package:\r\n```Dockerfile \r\nCOPY ~/.m2/repository/com/example/commons/1.0.0/ ~/.m2/repository/com/example/commons/1.0.0/\r\n```\r\n\r\n# Option 2\r\nSetup an artifact repository and store your artifacts there\r\n","title":"Unable to build the spring boot project with custom dependency using docker","body":"<p>As i understand it, you haven't pushed your dependency to a remote maven artifact repository, hence it's only available in your local machine under <code>~/.m2/repository/com/example/commons/1.0.0/</code>.</p>\n<p>When you try to compile, maven will check your local machine first to see if the dependency is available, else it will reach out to maven central (or any other configured repo) to resolve and retrieve the artifact. Since you do this inside a docker container where the artifact isn't available, it will fail.</p>\n<p>So my suggestion is to try:</p>\n<h1>Option 1</h1>\n<p>Add a row in your Dockerfile to copy this artifact into your docker container before running mvn clean package:</p>\n<pre><code>COPY ~/.m2/repository/com/example/commons/1.0.0/ ~/.m2/repository/com/example/commons/1.0.0/\n</code></pre>\n<h1>Option 2</h1>\n<p>Setup an artifact repository and store your artifacts there</p>\n"},{"tags":[],"owner":{"account_id":1889492,"reputation":123,"user_id":1707967,"display_name":"Ratna Srikanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652885975,"creation_date":1652885975,"answer_id":72291548,"question_id":72284668,"body_markdown":"Finally, figure out the solution with the below set of commands\r\n\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.6.0-jdk-8-slim AS build\r\n\r\nCOPY /commons/src /home/commons/src\r\nCOPY /commons/pom.xml /home/commons\r\nRUN mvn -f /home/commons/pom.xml clean install -Dmaven.test.skip=true\r\n\r\nCOPY A/src /home/A/src\r\nCOPY A/pom.xml /home/A/\r\nRUN mvn -f /home/A/pom.xml clean package install:install-file -Dfile=/home/commons/target/commons-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=commons -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DgeneratePom=true -Dmaven.test.skip=true\r\n#\r\n# Package stage\r\n#\r\nFROM openjdk:8-jre-slim\r\nCOPY --from=build /home/A/target/A.jar /usr/local/lib/A.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/A.jar&quot;,&quot;--spring.profiles.active=test&quot;]\r\n```","title":"Unable to build the spring boot project with custom dependency using docker","body":"<p>Finally, figure out the solution with the below set of commands</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.6.0-jdk-8-slim AS build\n\nCOPY /commons/src /home/commons/src\nCOPY /commons/pom.xml /home/commons\nRUN mvn -f /home/commons/pom.xml clean install -Dmaven.test.skip=true\n\nCOPY A/src /home/A/src\nCOPY A/pom.xml /home/A/\nRUN mvn -f /home/A/pom.xml clean package install:install-file -Dfile=/home/commons/target/commons-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=commons -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DgeneratePom=true -Dmaven.test.skip=true\n#\n# Package stage\n#\nFROM openjdk:8-jre-slim\nCOPY --from=build /home/A/target/A.jar /usr/local/lib/A.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/A.jar&quot;,&quot;--spring.profiles.active=test&quot;]\n</code></pre>\n"}],"owner":{"account_id":1889492,"reputation":123,"user_id":1707967,"display_name":"Ratna Srikanth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72284914,"answer_count":2,"score":1,"last_activity_date":1652885975,"creation_date":1652858080,"question_id":72284668,"body_markdown":"I am working on the spring boot project and I have multiple microservices. In order to keep the redundant code in all modules, I separated them and made a single project, and added this as a dependency in every module. \r\n\r\nMy scenario is, let&#39;s say\r\n\r\nI have a commons spring boot project and A and B projects. Now I am able to add commons dependency in project A and project B as\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;com.example &lt;/groupId&gt;\r\n &lt;artifactId&gt;commons&lt;/artifactId&gt;\r\n &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand the commons pom.xml has the below\r\n\r\n```\r\n     &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;repackage&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nIf I run the below command on A and B projects, I can see build success\r\n```mvn clean install```\r\n\r\nNow the problem arises for me If I try to create the docker images for projects A and B. In this case, the commons module is not taking it as a dependency in both.\r\n\r\nI have used the below sequence of docker command to create an image\r\n\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.6.0-jdk-8-slim AS build\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package -Dmaven.test.skip=true\r\n\r\n#\r\n# Package stage\r\n#\r\nFROM openjdk:8-jre-slim\r\nCOPY --from=build /home/app/target/A.jar /usr/local/lib/A-0.0.1-SNAPSHOT.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/A-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nCould anyone help me to add the commons dependency to project A?\r\n\r\nNote: we are using AWS managed container image registry service to store the images.\r\n\r\nThanks in advance :) ","title":"Unable to build the spring boot project with custom dependency using docker","body":"<p>I am working on the spring boot project and I have multiple microservices. In order to keep the redundant code in all modules, I separated them and made a single project, and added this as a dependency in every module.</p>\n<p>My scenario is, let's say</p>\n<p>I have a commons spring boot project and A and B projects. Now I am able to add commons dependency in project A and project B as</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.example &lt;/groupId&gt;\n &lt;artifactId&gt;commons&lt;/artifactId&gt;\n &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the commons pom.xml has the below</p>\n<pre><code>     &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;repackage&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>If I run the below command on A and B projects, I can see build success\n<code>mvn clean install</code></p>\n<p>Now the problem arises for me If I try to create the docker images for projects A and B. In this case, the commons module is not taking it as a dependency in both.</p>\n<p>I have used the below sequence of docker command to create an image</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.6.0-jdk-8-slim AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package -Dmaven.test.skip=true\n\n#\n# Package stage\n#\nFROM openjdk:8-jre-slim\nCOPY --from=build /home/app/target/A.jar /usr/local/lib/A-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/A-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>Could anyone help me to add the commons dependency to project A?</p>\n<p>Note: we are using AWS managed container image registry service to store the images.</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","arrays","matrix","indexing"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1652786022,"post_id":72272998,"comment_id":127685503,"body_markdown":"how do you plan on deleting it? replace with zeroes or return a new array with only ```[4,2,3]  [1,3]```? Is it an array or arraylist?","body":"how do you plan on deleting it? replace with zeroes or return a new array with only <code>[4,2,3]  [1,3]</code>? Is it an array or arraylist?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652786483,"post_id":72272998,"comment_id":127685662,"body_markdown":"A group is the same element occurring multiple times in succession?","body":"A group is the same element occurring multiple times in succession?"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":1,"creation_date":1652787195,"post_id":72272998,"comment_id":127685928,"body_markdown":"This seems to be a &quot;solve my problem&quot;... What&#39;s your intension to solve it? Where do you stuck?","body":"This seems to be a &quot;solve my problem&quot;... What&#39;s your intension to solve it? Where do you stuck?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1652787502,"post_id":72272998,"comment_id":127686042,"body_markdown":"I guess you want to delete the duplicate elements in it","body":"I guess you want to delete the duplicate elements in it"},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":1,"creation_date":1652788911,"post_id":72272998,"comment_id":127686581,"body_markdown":"The examples you have provided show 1D arrays (not 2D as title mentions). Do you mean multiple 1D arrays?","body":"The examples you have provided show 1D arrays (not 2D as title mentions). Do you mean multiple 1D arrays?"},{"owner":{"account_id":25312967,"reputation":1,"user_id":19135481,"display_name":"Francesco Cardone"},"score":0,"creation_date":1652885840,"post_id":72272998,"comment_id":127716458,"body_markdown":"I changed the request to be clearer. I need to know how to remove a group of neighboring elements that have the same value from a two-dimensional array","body":"I changed the request to be clearer. I need to know how to remove a group of neighboring elements that have the same value from a two-dimensional array"}],"answers":[{"tags":[],"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652793382,"creation_date":1652788643,"answer_id":72273645,"question_id":72272998,"body_markdown":"say you created the array as:\r\n\r\n    int myArray[] = {4, 2, 3, 4, 4};\r\n\r\nmyArray has a size of 5. The size of an array is fixed.\r\nYou can replace them with a 0.\r\n\r\nalso are you trying to &#39;remove&#39; a group of the same number?\r\nYou can try something like this..\r\n\r\n    for(int i = 1; i &lt; myArray.length; i++){\r\n      // if previous element == current element set to 0\r\n      if(myArray[i-1] == myArray[i]){\r\n         myArray[i-1] = 0;\r\n      }\r\n    }\r\n    myArray[myArray.length] = 0;\r\n\r\n","title":"How to delete close elements in java bidimensional array with same values","body":"<p>say you created the array as:</p>\n<pre><code>int myArray[] = {4, 2, 3, 4, 4};\n</code></pre>\n<p>myArray has a size of 5. The size of an array is fixed.\nYou can replace them with a 0.</p>\n<p>also are you trying to 'remove' a group of the same number?\nYou can try something like this..</p>\n<pre><code>for(int i = 1; i &lt; myArray.length; i++){\n  // if previous element == current element set to 0\n  if(myArray[i-1] == myArray[i]){\n     myArray[i-1] = 0;\n  }\n}\nmyArray[myArray.length] = 0;\n</code></pre>\n"}],"owner":{"account_id":25312967,"reputation":1,"user_id":19135481,"display_name":"Francesco Cardone"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1652796944,"answer_count":1,"score":-2,"last_activity_date":1652885860,"creation_date":1652785803,"question_id":72272998,"body_markdown":"\r\nI changed the request to be clearer. I need to know how to remove a group of neighboring elements that have the same value from a two-dimensional array.\r\n\r\n\r\nFor example if i have the following matrix with dimension 2 rows x 5 columns: \r\n\r\n4, 2, 3, 4, 4      row 1\r\n\r\n1, 3, 4, 4, 4      row 2\r\n\r\n\r\nI would like to know how to delete this group of close elements with the same value 4 :\r\n\r\n4, 2, 3, ***4***, ***4***   row 1\r\n\r\n1, 3, ***4***, ***4***, ***4***   row 2\r\n\r\nNot involving elements which don&#39;t form a group like the 4 in the top left corner. \r\n\r\nI&#39;d like to replace the deleted elements with value -1\r\n\r\n\r\n","title":"How to delete close elements in java bidimensional array with same values","body":"<p>I changed the request to be clearer. I need to know how to remove a group of neighboring elements that have the same value from a two-dimensional array.</p>\n<p>For example if i have the following matrix with dimension 2 rows x 5 columns:</p>\n<p>4, 2, 3, 4, 4      row 1</p>\n<p>1, 3, 4, 4, 4      row 2</p>\n<p>I would like to know how to delete this group of close elements with the same value 4 :</p>\n<p>4, 2, 3, <em><strong>4</strong></em>, <em><strong>4</strong></em>   row 1</p>\n<p>1, 3, <em><strong>4</strong></em>, <em><strong>4</strong></em>, <em><strong>4</strong></em>   row 2</p>\n<p>Not involving elements which don't form a group like the 4 in the top left corner.</p>\n<p>I'd like to replace the deleted elements with value -1</p>\n"},{"tags":["java","multithreading","scheduled-tasks","executorservice","scheduledexecutorservice"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1652774059,"post_id":72269999,"comment_id":127680888,"body_markdown":"If you want a randomize initial delay and a daemon thread, then this would be the right approach. You could also just use a TimerTask for this.","body":"If you want a randomize initial delay and a daemon thread, then this would be the right approach. You could also just use a TimerTask for this."}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652885507,"creation_date":1652885507,"answer_id":72291431,"question_id":72269999,"body_markdown":"I don&#39;t know what your function&#39;s context and purpose is cause you didn&#39;t mention enough, depending on the context, you may have some problems with multiple threads in parallel like synchronization issues. But if your context needs not synchronization you can use multiple threads that executing same function.\r\n\r\nThis implementation would be much simpler if you do not need real parallelisation:\r\n```java\r\nprivate int scheduleCount = 0; // Global to the class\r\n\r\n//...\r\n\r\nprivate void foo(int executionCount) {\r\n\tSystem.out.println(String.format(&quot;Schedule times %d, execution times %d&quot;, scheduleCount, i));\r\n}\r\n\r\n//...\r\n\r\nExecutors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(()-&gt; {\r\n\tscheduleCount++;\r\n\tfor(int i = 1; i &lt;= 5; i++) {\r\n\t\tfoo(i);\r\n\t}\r\n}, 300, 300, TimeUnit.MILLISECONDS);\r\n```\r\n\r\nHere is the output log:\r\n```\r\nI/System.out: Schedule times 1, execution times 1\r\nI/System.out: Schedule times 1, execution times 2\r\nI/System.out: Schedule times 1, execution times 3\r\nI/System.out: Schedule times 1, execution times 4\r\nI/System.out: Schedule times 1, execution times 5\r\nI/System.out: Schedule times 2, execution times 1\r\nI/System.out: Schedule times 2, execution times 2\r\nI/System.out: Schedule times 2, execution times 3\r\nI/System.out: Schedule times 2, execution times 4\r\nI/System.out: Schedule times 2, execution times 5\r\nI/System.out: Schedule times 3, execution times 1\r\nI/System.out: Schedule times 3, execution times 2\r\nI/System.out: Schedule times 3, execution times 3\r\nI/System.out: Schedule times 3, execution times 4\r\nI/System.out: Schedule times 3, execution times 5\r\nI/System.out: Schedule times 4, execution times 1\r\nI/System.out: Schedule times 4, execution times 2\r\nI/System.out: Schedule times 4, execution times 3\r\nI/System.out: Schedule times 4, execution times 4\r\nI/System.out: Schedule times 4, execution times 5\r\n```\r\n\r\n*Note that you may need a handle to scheduled executor service so that you can shut it down when it is no more needed.*","title":"Correct way to have multiple threads execute a single task","body":"<p>I don't know what your function's context and purpose is cause you didn't mention enough, depending on the context, you may have some problems with multiple threads in parallel like synchronization issues. But if your context needs not synchronization you can use multiple threads that executing same function.</p>\n<p>This implementation would be much simpler if you do not need real parallelisation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int scheduleCount = 0; // Global to the class\n\n//...\n\nprivate void foo(int executionCount) {\n    System.out.println(String.format(&quot;Schedule times %d, execution times %d&quot;, scheduleCount, i));\n}\n\n//...\n\nExecutors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(()-&gt; {\n    scheduleCount++;\n    for(int i = 1; i &lt;= 5; i++) {\n        foo(i);\n    }\n}, 300, 300, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>Here is the output log:</p>\n<pre><code>I/System.out: Schedule times 1, execution times 1\nI/System.out: Schedule times 1, execution times 2\nI/System.out: Schedule times 1, execution times 3\nI/System.out: Schedule times 1, execution times 4\nI/System.out: Schedule times 1, execution times 5\nI/System.out: Schedule times 2, execution times 1\nI/System.out: Schedule times 2, execution times 2\nI/System.out: Schedule times 2, execution times 3\nI/System.out: Schedule times 2, execution times 4\nI/System.out: Schedule times 2, execution times 5\nI/System.out: Schedule times 3, execution times 1\nI/System.out: Schedule times 3, execution times 2\nI/System.out: Schedule times 3, execution times 3\nI/System.out: Schedule times 3, execution times 4\nI/System.out: Schedule times 3, execution times 5\nI/System.out: Schedule times 4, execution times 1\nI/System.out: Schedule times 4, execution times 2\nI/System.out: Schedule times 4, execution times 3\nI/System.out: Schedule times 4, execution times 4\nI/System.out: Schedule times 4, execution times 5\n</code></pre>\n<p><em>Note that you may need a handle to scheduled executor service so that you can shut it down when it is no more needed.</em></p>\n"}],"owner":{"account_id":16238946,"reputation":359,"user_id":11725795,"display_name":"kt-workflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652885507,"creation_date":1652773422,"question_id":72269999,"body_markdown":"I am trying to execute a single function `foo` on an interval, and MULTIPLE times per interval.\r\n\r\nThe way I am currently doing it is by creating a service with a `newScheduledThreadPool` of whatever is specified (let&#39;s say 5 for this example). So the scheduled thread pool will be instantiated with a pool of 5.\r\n\r\nWould this be the correct way to go about it?\r\n\r\nCurrently is executing the function 5 times at every interval (put a print statement in the function and seeing it print out 5 times every interval), but wanted to check if this is the right approach for this use case. \r\n\r\n```\r\n    service = Executors.newScheduledThreadPool(threadPoolSize, runnable -&gt; {\r\n        Thread t = new Thread(runnable, &quot;Test&quot;);\r\n        t.setDaemon(true);\r\n        return t;\r\n    });\r\n\r\n     this.start();\r\n    }\r\n\r\n    void start() {\r\n        long initialDelay = frequencySecs + ThreadLocalRandom.current().nextInt(frequencySecs);\r\n        for (int i = 0; i &lt; threadPoolSize; i++) {\r\n            service.scheduleAtFixedRate(this::foo, initialDelay, frequencySecs, MILLISECONDS);\r\n        }\r\n    }\r\n```","title":"Correct way to have multiple threads execute a single task","body":"<p>I am trying to execute a single function <code>foo</code> on an interval, and MULTIPLE times per interval.</p>\n<p>The way I am currently doing it is by creating a service with a <code>newScheduledThreadPool</code> of whatever is specified (let's say 5 for this example). So the scheduled thread pool will be instantiated with a pool of 5.</p>\n<p>Would this be the correct way to go about it?</p>\n<p>Currently is executing the function 5 times at every interval (put a print statement in the function and seeing it print out 5 times every interval), but wanted to check if this is the right approach for this use case.</p>\n<pre><code>    service = Executors.newScheduledThreadPool(threadPoolSize, runnable -&gt; {\n        Thread t = new Thread(runnable, &quot;Test&quot;);\n        t.setDaemon(true);\n        return t;\n    });\n\n     this.start();\n    }\n\n    void start() {\n        long initialDelay = frequencySecs + ThreadLocalRandom.current().nextInt(frequencySecs);\n        for (int i = 0; i &lt; threadPoolSize; i++) {\n            service.scheduleAtFixedRate(this::foo, initialDelay, frequencySecs, MILLISECONDS);\n        }\n    }\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","database-connection","datasource"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1607591115,"post_id":45091981,"comment_id":115322381,"body_markdown":"Similar: [*Configure a `DataSource` to connect to a managed Postgres server on Digital Ocean with SSL/TLS encryption*](https://stackoverflow.com/q/65230311/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/65230311/642706\"><i>Configure a <code>DataSource</code> to connect to a managed Postgres server on Digital Ocean with SSL/TLS encryption</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1594516354,"creation_date":1499985604,"answer_id":45091982,"question_id":45091981,"body_markdown":"# tl;dr\r\n\r\nThe [`PGSimpleDataSource`][1] class bundled with the JDBC driver from jdbc.postgresql.org implements `DataSource` interface. Configure your database connection details in a `PGSimpleDataSource` object, and pass around as a `DataSource` object.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    PGSimpleDataSource ds = new PGSimpleDataSource() ;  \r\n    ds.setServerName( &quot;localhost&quot; );  \r\n    ds.setDatabaseName( &quot;your_db_name_here&quot; );   \r\n    ds.setUser( &quot;scott&quot; );       \r\n    ds.setPassword( &quot;tiger&quot; );   \r\n\r\nUse that object to make a connection to the database as needed. Use convenient [try-with-resources][2] syntax.\r\n\r\n    try\r\n    (\r\n        Connection conn = ds.getConnection() ;\r\n    ) \r\n    { … }\r\n\r\n\r\n\r\n# JDBC driver’s implementation\r\n\r\nYour [JDBC driver][3] may provide for you an implementation of the [`DataSource`][4] interface.\r\n\r\nAn object of this implementation contains the information needed to make and configure a connection to the database, such as:\r\n\r\n - Name &amp; password of database user \r\n - IP address &amp; port number of database server\r\n\r\nUp to three kinds of implementation provided may be available:\r\n\r\n - Often such an implementation is a thin wrapper around the [`DriverManager`][5]. Each time you call [`DataSource::getConnection`][6] on the object of such an implementation, you get a fresh database connection.\r\n - Alternatively, an implementation may be using a [connection pool][7] underneath to supply already-existing connections. These connections are handed out and checked back in, like books in a library, to be recycled for repeated use.\r\n - An implementation may support the [Java Transaction API][8], supporting [X/Open XA][9], for sophisticated needs like coordinating the transactions across multiple resources such as databases and message queues. Not as commonly used, so I ignore this type here.\r\n\r\n## Driver from jdbc.postgresql.org\r\n\r\nThe open-source free-of-cost driver from [jdbc.postgresql.org][10] provides all three types of `DataSource` implementation. But the authors do not recommend actually using their [connection pool type][11] in production; if you want pooling, use a third-party connection pooling library. And we are ignoring [the XA type][12].\r\n\r\nSo let&#39;s look at the simple fresh-connection-each-time implementation of `DataSource`: [`org.postgresql.ds.PGSimpleDataSource`][1]\r\n\r\n### Configuring the data source object\r\n\r\nInstantiate an empty object, then call a series of [setter methods][13] to configure for your particular database scenario. The setter methods are inherited from [`org.postgresql.ds.common.BaseDataSource`][14]. \r\n\r\nWe are not yet upcasting to the interface `DataSource`, so that we can call the [various setter methods][14]. See example code and discussion on the [Data Sources and JNDI](https://jdbc.postgresql.org/documentation/92/jndi.html) page.\r\n\r\n    PGSimpleDataSource ds = new PGSimpleDataSource() ;  // Empty instance.\r\n    ds.setServerName( &quot;localhost&quot; );  // The value `localhost` means the Postgres cluster running locally on the same machine.\r\n    ds.setDatabaseName( &quot;testdb&quot; );   // A connection to Postgres must be made to a specific database rather than to the server as a whole. You likely have an initial database created named `public`.\r\n    ds.setUser( &quot;testuser&quot; );         // Or use the super-user &#39;postgres&#39; for user name if you installed Postgres with defaults and have not yet created user(s) for your application.\r\n    ds.setPassword( &quot;password&quot; );     // You would not really use &#39;password&#39; as a password, would you?\r\n\r\nGenerally I would use these separate setter methods. Alternatively, you construct a String, a URL, with the various pieces of info to be set on the `DataSource` in one stroke. If you want to go that route, call [`setUrl`][15].\r\n\r\nThat covers the basics. But you might want or need some of the other setters. Most of these are setting [Postgres property][16] values on the server. The properties all have smart defaults, but you may wish to override for special situations.\r\n\r\n    ds.setPortNumber( 6787 ) ;  // If not using the default &#39;5432&#39;.\r\n    ds.setApplicationName( &quot;whatever&quot; ) ;   // Identify the application making this connection to the database. Also a clever way to back-door some information to the Postgres server, as you can encode small values into this string for later parsing. \r\n    ds.setConnectTimeout( … ) ;  // The timeout value used for socket connect operations, in whole seconds. If connecting to the server takes longer than this value, the connection is broken.\r\n    ds.setSocketTimeout( … ) ;  // The timeout value used for socket read operations. If reading from the server takes longer than this value, the connection is closed. This can be used as both a brute force global query timeout and a method of detecting network problems.\r\n    ds.setReadOnly( boolean ) ;  // Puts this connection in read-only mode.\r\n\r\nIf using [TLS][17] (formerly known as SSL) to encrypt the database connection to protect against eavesdropping or malevolent manipulation, use several setters for that.\r\n\r\nFor any Postgres property without a specific setter method, you may call [`setProperty( PGProperty property, String value )`][18].\r\n\r\nYou can inspect or verify settings on this data source by calling any of the many getter methods.\r\n\r\nAfter configuring your `PGSimpleDataSource`, you can pass off to the rest of your codebase as simply a [`DataSource`][19] object. This insulates your codebase from the shock of changing to another `DataSource` implementation or changing to [another JDBC driver][20].\r\n\r\n    DataSource dataSource = ds ;  // Upcasting from concrete class to interface.\r\n    return dataSource ; \r\n\r\n## Using the data source\r\n\r\nUsing a `DataSource` is utterly simple as it provides for only two methods, a pair of variations on [`getConnection`][21] to get a [`Connection`][22] object for your database work.\r\n\r\n    Connection conn = dataSource.getConnection() ; \r\n\r\nWhen finished with your `Connection`, best practice is to be sure to close it. Either use a [try-with-resources syntax][2] to automatically close the connection, or explicitly close it. \r\n\r\n    conn.close() ;\r\n\r\nKeep clear in your mind that a `DataSource` is not actually a data source. A `DataSource` is really a source for generating/accessing connections to the database. To my mind, this is a misnomer, as I think of it as `ConnectionSource`. The `DataSource` talks to your database only long enough to sign-in with user name and password. After that sign-in, you use the `Connection` object to interact with the database.\r\n\r\n# Storing your `DataSource`\r\n\r\nOnce configured, you want to keep that `DataSource` object around, cached. No need to re-configure repeatedly. The [implementation should be written to be thread-safe][23]. You may call `getConnection` at anytime from anywhere. \r\n\r\nFor a simple little Java app, you may want to store it as a field on a singleton or in a static global variable.\r\n\r\nFor a [Servlet][24]-based app such as a [*Vaadin*][25] app, you would create a class implementing `ServletContextListener` interface. In that class your would establish your `DataSource` object when your web app is launching. From there you would store the object in the [`ServletContext`][26] object by passing to [`setAttribute`][27]. `Context` is the technical term for &#39;web app&#39;. Retrieve by calling `getAttribute` and casting to `DataSource`.\r\n\r\nIn an enterprise scenario, the `DataSource` may be stored in a [JNDI][28]-compliant implementation. Some [Servlet containers][29] such as [Apache Tomcat][30] may provide a JNDI implementation. Some organizations use a server such as an [LDAP server][31]. Registering &amp; retrieving your `DataSource` object with JNDI is covered in many other Questions &amp; Answers on Stack Overflow.\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection--\r\n  [7]: https://en.wikipedia.org/wiki/Connection_pool\r\n  [8]: https://en.wikipedia.org/wiki/Java_Transaction_API\r\n  [9]: https://en.wikipedia.org/wiki/X/Open_XA\r\n  [10]: https://jdbc.postgresql.org\r\n  [11]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGPoolingDataSource.html\r\n  [12]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/xa/PGXADataSource.html\r\n  [13]: https://en.wikipedia.org/wiki/Mutator_method\r\n  [14]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\r\n  [15]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setUrl-java.lang.String-\r\n  [16]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/PGProperty.html\r\n  [17]: https://en.wikipedia.org/wiki/Transport_Layer_Security\r\n  [18]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setProperty-org.postgresql.PGProperty-java.lang.String-\r\n  [19]: http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true\r\n  [20]: https://github.com/impossibl/pgjdbc-ng\r\n  [21]: http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection--\r\n  [22]: http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html\r\n  [23]: https://stackoverflow.com/q/14872685/642706\r\n  [24]: https://en.wikipedia.org/wiki/Java_servlet\r\n  [25]: https://www.Vaadin.com/\r\n  [26]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html\r\n  [27]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#setAttribute-java.lang.String-java.lang.Object-\r\n  [28]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [29]: https://en.wikipedia.org/wiki/Web_container\r\n  [30]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n  [31]: https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol","title":"Produce a `DataSource` object for Postgres JDBC, programmatically","body":"<h1>tl;dr</h1>\n<p>The <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"noreferrer\"><code>PGSimpleDataSource</code></a> class bundled with the JDBC driver from jdbc.postgresql.org implements <code>DataSource</code> interface. Configure your database connection details in a <code>PGSimpleDataSource</code> object, and pass around as a <code>DataSource</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PGSimpleDataSource ds = new PGSimpleDataSource() ;  \nds.setServerName( &quot;localhost&quot; );  \nds.setDatabaseName( &quot;your_db_name_here&quot; );   \nds.setUser( &quot;scott&quot; );       \nds.setPassword( &quot;tiger&quot; );   \n</code></pre>\n<p>Use that object to make a connection to the database as needed. Use convenient <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> syntax.</p>\n<pre><code>try\n(\n    Connection conn = ds.getConnection() ;\n) \n{ … }\n</code></pre>\n<h1>JDBC driver’s implementation</h1>\n<p>Your <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> may provide for you an implementation of the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"noreferrer\"><code>DataSource</code></a> interface.</p>\n<p>An object of this implementation contains the information needed to make and configure a connection to the database, such as:</p>\n<ul>\n<li>Name &amp; password of database user</li>\n<li>IP address &amp; port number of database server</li>\n</ul>\n<p>Up to three kinds of implementation provided may be available:</p>\n<ul>\n<li>Often such an implementation is a thin wrapper around the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html\" rel=\"noreferrer\"><code>DriverManager</code></a>. Each time you call <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection--\" rel=\"noreferrer\"><code>DataSource::getConnection</code></a> on the object of such an implementation, you get a fresh database connection.</li>\n<li>Alternatively, an implementation may be using a <a href=\"https://en.wikipedia.org/wiki/Connection_pool\" rel=\"noreferrer\">connection pool</a> underneath to supply already-existing connections. These connections are handed out and checked back in, like books in a library, to be recycled for repeated use.</li>\n<li>An implementation may support the <a href=\"https://en.wikipedia.org/wiki/Java_Transaction_API\" rel=\"noreferrer\">Java Transaction API</a>, supporting <a href=\"https://en.wikipedia.org/wiki/X/Open_XA\" rel=\"noreferrer\">X/Open XA</a>, for sophisticated needs like coordinating the transactions across multiple resources such as databases and message queues. Not as commonly used, so I ignore this type here.</li>\n</ul>\n<h2>Driver from jdbc.postgresql.org</h2>\n<p>The open-source free-of-cost driver from <a href=\"https://jdbc.postgresql.org\" rel=\"noreferrer\">jdbc.postgresql.org</a> provides all three types of <code>DataSource</code> implementation. But the authors do not recommend actually using their <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGPoolingDataSource.html\" rel=\"noreferrer\">connection pool type</a> in production; if you want pooling, use a third-party connection pooling library. And we are ignoring <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/xa/PGXADataSource.html\" rel=\"noreferrer\">the XA type</a>.</p>\n<p>So let's look at the simple fresh-connection-each-time implementation of <code>DataSource</code>: <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"noreferrer\"><code>org.postgresql.ds.PGSimpleDataSource</code></a></p>\n<h3>Configuring the data source object</h3>\n<p>Instantiate an empty object, then call a series of <a href=\"https://en.wikipedia.org/wiki/Mutator_method\" rel=\"noreferrer\">setter methods</a> to configure for your particular database scenario. The setter methods are inherited from <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\" rel=\"noreferrer\"><code>org.postgresql.ds.common.BaseDataSource</code></a>.</p>\n<p>We are not yet upcasting to the interface <code>DataSource</code>, so that we can call the <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\" rel=\"noreferrer\">various setter methods</a>. See example code and discussion on the <a href=\"https://jdbc.postgresql.org/documentation/92/jndi.html\" rel=\"noreferrer\">Data Sources and JNDI</a> page.</p>\n<pre><code>PGSimpleDataSource ds = new PGSimpleDataSource() ;  // Empty instance.\nds.setServerName( &quot;localhost&quot; );  // The value `localhost` means the Postgres cluster running locally on the same machine.\nds.setDatabaseName( &quot;testdb&quot; );   // A connection to Postgres must be made to a specific database rather than to the server as a whole. You likely have an initial database created named `public`.\nds.setUser( &quot;testuser&quot; );         // Or use the super-user 'postgres' for user name if you installed Postgres with defaults and have not yet created user(s) for your application.\nds.setPassword( &quot;password&quot; );     // You would not really use 'password' as a password, would you?\n</code></pre>\n<p>Generally I would use these separate setter methods. Alternatively, you construct a String, a URL, with the various pieces of info to be set on the <code>DataSource</code> in one stroke. If you want to go that route, call <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setUrl-java.lang.String-\" rel=\"noreferrer\"><code>setUrl</code></a>.</p>\n<p>That covers the basics. But you might want or need some of the other setters. Most of these are setting <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/PGProperty.html\" rel=\"noreferrer\">Postgres property</a> values on the server. The properties all have smart defaults, but you may wish to override for special situations.</p>\n<pre><code>ds.setPortNumber( 6787 ) ;  // If not using the default '5432'.\nds.setApplicationName( &quot;whatever&quot; ) ;   // Identify the application making this connection to the database. Also a clever way to back-door some information to the Postgres server, as you can encode small values into this string for later parsing. \nds.setConnectTimeout( … ) ;  // The timeout value used for socket connect operations, in whole seconds. If connecting to the server takes longer than this value, the connection is broken.\nds.setSocketTimeout( … ) ;  // The timeout value used for socket read operations. If reading from the server takes longer than this value, the connection is closed. This can be used as both a brute force global query timeout and a method of detecting network problems.\nds.setReadOnly( boolean ) ;  // Puts this connection in read-only mode.\n</code></pre>\n<p>If using <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security\" rel=\"noreferrer\">TLS</a> (formerly known as SSL) to encrypt the database connection to protect against eavesdropping or malevolent manipulation, use several setters for that.</p>\n<p>For any Postgres property without a specific setter method, you may call <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setProperty-org.postgresql.PGProperty-java.lang.String-\" rel=\"noreferrer\"><code>setProperty( PGProperty property, String value )</code></a>.</p>\n<p>You can inspect or verify settings on this data source by calling any of the many getter methods.</p>\n<p>After configuring your <code>PGSimpleDataSource</code>, you can pass off to the rest of your codebase as simply a <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html?is-external=true\" rel=\"noreferrer\"><code>DataSource</code></a> object. This insulates your codebase from the shock of changing to another <code>DataSource</code> implementation or changing to <a href=\"https://github.com/impossibl/pgjdbc-ng\" rel=\"noreferrer\">another JDBC driver</a>.</p>\n<pre><code>DataSource dataSource = ds ;  // Upcasting from concrete class to interface.\nreturn dataSource ; \n</code></pre>\n<h2>Using the data source</h2>\n<p>Using a <code>DataSource</code> is utterly simple as it provides for only two methods, a pair of variations on <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection--\" rel=\"noreferrer\"><code>getConnection</code></a> to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html\" rel=\"noreferrer\"><code>Connection</code></a> object for your database work.</p>\n<pre><code>Connection conn = dataSource.getConnection() ; \n</code></pre>\n<p>When finished with your <code>Connection</code>, best practice is to be sure to close it. Either use a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources syntax</a> to automatically close the connection, or explicitly close it.</p>\n<pre><code>conn.close() ;\n</code></pre>\n<p>Keep clear in your mind that a <code>DataSource</code> is not actually a data source. A <code>DataSource</code> is really a source for generating/accessing connections to the database. To my mind, this is a misnomer, as I think of it as <code>ConnectionSource</code>. The <code>DataSource</code> talks to your database only long enough to sign-in with user name and password. After that sign-in, you use the <code>Connection</code> object to interact with the database.</p>\n<h1>Storing your <code>DataSource</code></h1>\n<p>Once configured, you want to keep that <code>DataSource</code> object around, cached. No need to re-configure repeatedly. The <a href=\"https://stackoverflow.com/q/14872685/642706\">implementation should be written to be thread-safe</a>. You may call <code>getConnection</code> at anytime from anywhere.</p>\n<p>For a simple little Java app, you may want to store it as a field on a singleton or in a static global variable.</p>\n<p>For a <a href=\"https://en.wikipedia.org/wiki/Java_servlet\" rel=\"noreferrer\">Servlet</a>-based app such as a <a href=\"https://www.Vaadin.com/\" rel=\"noreferrer\"><em>Vaadin</em></a> app, you would create a class implementing <code>ServletContextListener</code> interface. In that class your would establish your <code>DataSource</code> object when your web app is launching. From there you would store the object in the <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\"><code>ServletContext</code></a> object by passing to <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#setAttribute-java.lang.String-java.lang.Object-\" rel=\"noreferrer\"><code>setAttribute</code></a>. <code>Context</code> is the technical term for 'web app'. Retrieve by calling <code>getAttribute</code> and casting to <code>DataSource</code>.</p>\n<p>In an enterprise scenario, the <code>DataSource</code> may be stored in a <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"noreferrer\">JNDI</a>-compliant implementation. Some <a href=\"https://en.wikipedia.org/wiki/Web_container\" rel=\"noreferrer\">Servlet containers</a> such as <a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"noreferrer\">Apache Tomcat</a> may provide a JNDI implementation. Some organizations use a server such as an <a href=\"https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\" rel=\"noreferrer\">LDAP server</a>. Registering &amp; retrieving your <code>DataSource</code> object with JNDI is covered in many other Questions &amp; Answers on Stack Overflow.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21311,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":45091982,"answer_count":1,"score":16,"last_activity_date":1652885458,"creation_date":1499985604,"question_id":45091981,"body_markdown":"The [JDBC Tutorial][1] recommends using a [`DataSource`][2] object to obtain database connections rather than using the `DriverManager` class. To quote the [*Connecting with DataSource Objects*](https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html) page:\r\n\r\n&gt;`DataSource` objects … the preferred means of getting a connection to a data source.\r\n\r\nHow do I get such an object for a [JDBC][3] connection to Postgres? I have a JDBC driver in place.\r\n\r\nRight now, I do not want to fiddle around with JNDI like [this](https://stackoverflow.com/q/3461310/642706) or [this](https://stackoverflow.com/q/32581833/642706). \r\n\r\nCan I instantiate a `DataSource` programmatically within my Java app? Or must I implement that `DataSource` interface myself?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jdbc/TOC.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\r\n  [3]: https://en.wikipedia.org/wiki/JDBC","title":"Produce a `DataSource` object for Postgres JDBC, programmatically","body":"<p>The <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/TOC.html\" rel=\"noreferrer\">JDBC Tutorial</a> recommends using a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"noreferrer\"><code>DataSource</code></a> object to obtain database connections rather than using the <code>DriverManager</code> class. To quote the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html\" rel=\"noreferrer\"><em>Connecting with DataSource Objects</em></a> page:</p>\n\n<blockquote>\n  <p><code>DataSource</code> objects … the preferred means of getting a connection to a data source.</p>\n</blockquote>\n\n<p>How do I get such an object for a <a href=\"https://en.wikipedia.org/wiki/JDBC\" rel=\"noreferrer\">JDBC</a> connection to Postgres? I have a JDBC driver in place.</p>\n\n<p>Right now, I do not want to fiddle around with JNDI like <a href=\"https://stackoverflow.com/q/3461310/642706\">this</a> or <a href=\"https://stackoverflow.com/q/32581833/642706\">this</a>. </p>\n\n<p>Can I instantiate a <code>DataSource</code> programmatically within my Java app? Or must I implement that <code>DataSource</code> interface myself?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":85487,"reputation":20822,"user_id":238303,"accept_rate":79,"display_name":"Ben ODay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1351219776,"creation_date":1351219776,"answer_id":13080091,"question_id":13078511,"body_markdown":"you can kick it off with timer/quartz and then use either a [content enricher][1] or a [polling consumer][2]\r\n\r\n    //using timer/pollEnrich to populate the body with the polling results\r\n    from(&quot;timer://foo?period=5000&quot;)\r\n        .pollEnrich(&quot;file:inbox&quot;)\r\n        .to(&quot;file:outbout&quot;);\r\n\r\n    //using time/polling consumer bean for more flexibility and multiple polling\r\n    from(&quot;timer://foo?period=5000&quot;)\r\n        .bean(myPollingConsumerBean, &quot;doIt&quot;);\r\n\r\n    public static class MyPollingConsumerBean {\r\n    ...\r\n        public void doIt() {\r\n          while (true) {\r\n            String msg = consumer.receiveBody(&quot;file:inbox&quot;, 3000, String.class);\r\n            if (msg == null) {\r\n                break;\r\n            }\r\n            producer.sendBody(&quot;file:outbox&quot;, msg);\r\n          }\r\n        }\r\n    }\r\n\r\n  [1]: http://camel.apache.org/content-enricher.html\r\n  [2]: http://camel.apache.org/polling-consumer.html","title":"How to periodically process some input using Apache Camel","body":"<p>you can kick it off with timer/quartz and then use either a <a href=\"http://camel.apache.org/content-enricher.html\" rel=\"nofollow\">content enricher</a> or a <a href=\"http://camel.apache.org/polling-consumer.html\" rel=\"nofollow\">polling consumer</a></p>\n\n<pre><code>//using timer/pollEnrich to populate the body with the polling results\nfrom(\"timer://foo?period=5000\")\n    .pollEnrich(\"file:inbox\")\n    .to(\"file:outbout\");\n\n//using time/polling consumer bean for more flexibility and multiple polling\nfrom(\"timer://foo?period=5000\")\n    .bean(myPollingConsumerBean, \"doIt\");\n\npublic static class MyPollingConsumerBean {\n...\n    public void doIt() {\n      while (true) {\n        String msg = consumer.receiveBody(\"file:inbox\", 3000, String.class);\n        if (msg == null) {\n            break;\n        }\n        producer.sendBody(\"file:outbox\", msg);\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351233392,"creation_date":1351233392,"answer_id":13081965,"question_id":13078511,"body_markdown":"You can use scheduled route policy as well\r\nhttp://camel.apache.org/scheduledroutepolicy.html","title":"How to periodically process some input using Apache Camel","body":"<p>You can use scheduled route policy as well\n<a href=\"http://camel.apache.org/scheduledroutepolicy.html\" rel=\"noreferrer\">http://camel.apache.org/scheduledroutepolicy.html</a></p>\n"}],"owner":{"account_id":20783,"reputation":3097,"user_id":49970,"accept_rate":60,"display_name":"Matthias Hryniszak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13080091,"answer_count":2,"score":2,"last_activity_date":1652885310,"creation_date":1351205380,"question_id":13078511,"body_markdown":"I wonder if there is a way to make Camel do what I need which is as follows:\r\n\r\n&quot;Periodically read data from some source (let&#39;s say a file), do some processing on it and write it to some other place&quot;\r\n\r\nI figured out how to do all that minus the &quot;periodically&quot; part. I know how to trigger a route using Quartz or Timer. But when I use those the &lt;from&gt; part is already taken so I can&#39;t change the body anymore.\r\n\r\nAny advice?","title":"How to periodically process some input using Apache Camel","body":"<p>I wonder if there is a way to make Camel do what I need which is as follows:</p>\n\n<p>\"Periodically read data from some source (let's say a file), do some processing on it and write it to some other place\"</p>\n\n<p>I figured out how to do all that minus the \"periodically\" part. I know how to trigger a route using Quartz or Timer. But when I use those the  part is already taken so I can't change the body anymore.</p>\n\n<p>Any advice?</p>\n"},{"tags":["java","generics","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":879630,"reputation":183,"user_id":208336,"display_name":"rcbilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652885214,"creation_date":1652885214,"answer_id":72291365,"question_id":67524265,"body_markdown":"Flink provides the `org.apache.flink.api.common.typeinfo.TypeHint` class that helps with this. ([documentation][1])\r\n\r\nFor instance in your second example instead of:\r\n\r\n```\r\nreturn (TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt;) typeInfo;\r\n```\r\n\r\nYou could write:\r\n\r\n```\r\nreturn new TypeHint&lt;Tuple2&lt;byte[], byte[]&gt;&gt;(){}.getTypeInfo();\r\n```\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.16/api/java/org/apache/flink/api/common/typeinfo/TypeHint.html","title":"Flink TypeInfo Java Generics","body":"<p>Flink provides the <code>org.apache.flink.api.common.typeinfo.TypeHint</code> class that helps with this. (<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/api/java/org/apache/flink/api/common/typeinfo/TypeHint.html\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n<p>For instance in your second example instead of:</p>\n<pre><code>return (TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt;) typeInfo;\n</code></pre>\n<p>You could write:</p>\n<pre><code>return new TypeHint&lt;Tuple2&lt;byte[], byte[]&gt;&gt;(){}.getTypeInfo();\n</code></pre>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72291365,"answer_count":1,"score":1,"last_activity_date":1652885214,"creation_date":1620930153,"question_id":67524265,"body_markdown":"I want my Flink app to deserialize data from a Kafka topic either to Flink stream of `ConsumerRecord&lt;byte[], byte[]&gt;` or a Flink stream of `Tuple2&lt;byte[], byte[]&gt;` using the Flink `org.apache.flink.api.java.tuple.Tuple2` class.\r\n\r\nWith both options I can&#39;t get a getProducedType implementation that compiles.\r\n\r\n```java\r\npublic class KafkaNOOPDeserialization implements KafkaDeserializationSchema&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; {\r\n    @Override\r\n    public boolean isEndOfStream(ConsumerRecord&lt;byte[], byte[]&gt; nextElement) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public ConsumerRecord&lt;byte[], byte[]&gt; deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\r\n        return record;\r\n    }\r\n\r\n    @Override\r\n    public TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; getProducedType() {\r\n        // This provides TypeInformation&lt;ConsumerRecord&gt;\r\n        // It needs TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt;\r\n        var typeInfo = TypeExtractor.getForClass(ConsumerRecord.class);\r\n        // This hard cast won&#39;t compile\r\n        return (TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt;) typeInfo;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class KafkaByteArrayTupleDeserializer implements KafkaDeserializationSchema&lt;Tuple2&lt;byte[], byte[]&gt;&gt; {\r\n    @Override\r\n    public boolean isEndOfStream(Tuple2&lt;byte[], byte[]&gt; nextElement) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Tuple2&lt;byte[], byte[]&gt; deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\r\n        return new Tuple2(record.key(), record.value());\r\n    }\r\n\r\n    @Override\r\n    public TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt; getProducedType() {\r\n        // This provides TupleTypeInfo&lt;Tuple&gt;\r\n        // It needs TupleTypeInfo&lt;Tuple2&lt;byte[], byte[]&gt;&gt;\r\n        var typeInfo = TupleTypeInfo.getBasicAndBasicValueTupleTypeInfo(\r\n                byte[].class, byte[].class);\r\n        // Hard cast won&#39;t compile\r\n        return (TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt;) typeInfo;\r\n    }\r\n}\r\n```","title":"Flink TypeInfo Java Generics","body":"<p>I want my Flink app to deserialize data from a Kafka topic either to Flink stream of <code>ConsumerRecord&lt;byte[], byte[]&gt;</code> or a Flink stream of <code>Tuple2&lt;byte[], byte[]&gt;</code> using the Flink <code>org.apache.flink.api.java.tuple.Tuple2</code> class.</p>\n<p>With both options I can't get a getProducedType implementation that compiles.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KafkaNOOPDeserialization implements KafkaDeserializationSchema&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; {\n    @Override\n    public boolean isEndOfStream(ConsumerRecord&lt;byte[], byte[]&gt; nextElement) {\n        return false;\n    }\n\n    @Override\n    public ConsumerRecord&lt;byte[], byte[]&gt; deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\n        return record;\n    }\n\n    @Override\n    public TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt; getProducedType() {\n        // This provides TypeInformation&lt;ConsumerRecord&gt;\n        // It needs TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt;\n        var typeInfo = TypeExtractor.getForClass(ConsumerRecord.class);\n        // This hard cast won't compile\n        return (TypeInformation&lt;ConsumerRecord&lt;byte[], byte[]&gt;&gt;) typeInfo;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class KafkaByteArrayTupleDeserializer implements KafkaDeserializationSchema&lt;Tuple2&lt;byte[], byte[]&gt;&gt; {\n    @Override\n    public boolean isEndOfStream(Tuple2&lt;byte[], byte[]&gt; nextElement) {\n        return false;\n    }\n\n    @Override\n    public Tuple2&lt;byte[], byte[]&gt; deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\n        return new Tuple2(record.key(), record.value());\n    }\n\n    @Override\n    public TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt; getProducedType() {\n        // This provides TupleTypeInfo&lt;Tuple&gt;\n        // It needs TupleTypeInfo&lt;Tuple2&lt;byte[], byte[]&gt;&gt;\n        var typeInfo = TupleTypeInfo.getBasicAndBasicValueTupleTypeInfo(\n                byte[].class, byte[].class);\n        // Hard cast won't compile\n        return (TypeInformation&lt;Tuple2&lt;byte[], byte[]&gt;&gt;) typeInfo;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream","long-integer","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652842330,"creation_date":1652842330,"answer_id":72282704,"question_id":72282681,"body_markdown":"Use the `BigDecimal#valueOf` method for the conversion from `long` to `BigDecimal`.\r\n\r\n    stat.setCount_human_dna(BigDecimal.valueOf(dnaSamples.stream().filter(x -&gt; x.getType().equals(&quot;Human&quot;)).collect(Collectors.counting())));\r\n\r\nSee the [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html) for more detail.","title":"How to convert Long to BigDecimal while also using a Stream","body":"<p>Use the <code>BigDecimal#valueOf</code> method for the conversion from <code>long</code> to <code>BigDecimal</code>.</p>\n<pre><code>stat.setCount_human_dna(BigDecimal.valueOf(dnaSamples.stream().filter(x -&gt; x.getType().equals(&quot;Human&quot;)).collect(Collectors.counting())));\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">JavaDocs</a> for more detail.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652885073,"creation_date":1652843818,"answer_id":72282833,"question_id":72282681,"body_markdown":"The most simple and efficient way to do is to use terminal operation [`count()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()) which returns the number of elements in the stream as `long` and then convert into `BigDecimal`:\r\n\r\n```\r\nstat.setCount_human_dna(getDNACount(dnaSamples));\r\n```\r\n    \r\n    public static BigDecimal getDNACount(Collection&lt;Sample&gt; dnaSamples) {\r\n        long humanSamples = dnaSamples.stream()\r\n            .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\r\n            .count();\r\n\r\n        return BigDecimal.valueOf(humanSamples);\r\n    }\r\n\r\n______________________________________________________\r\nAnd you can produce the result of type `BigDecimal` directly from the stream using [`reduce()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(U,java.util.function.BiFunction,java.util.function.BinaryOperator)) a terminal operation:\r\n\r\n```\r\nstat.setCount_human_dna(getDNACount(dnaSamples));\r\n```\r\n    \r\n    public static BigDecimal getDNACount(Collection&lt;Sample&gt; dnaSamples) {\r\n        return dnaSamples.stream()\r\n            .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\r\n            .reduce(BigDecimal.ZERO,\r\n                    (total, next) -&gt; total.add(BigDecimal.ONE),\r\n                    BigDecimal::add);\r\n    }\r\n\r\n*Sidenote:* I&#39;m not an expert in such questions as DNA analysis, but the result of this reduction will always be a whole number. You might consider utilizing `BigInteger` instead of `BigDecimal`.","title":"How to convert Long to BigDecimal while also using a Stream","body":"<p>The most simple and efficient way to do is to use terminal operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#count()\" rel=\"nofollow noreferrer\"><code>count()</code></a> which returns the number of elements in the stream as <code>long</code> and then convert into <code>BigDecimal</code>:</p>\n<pre><code>stat.setCount_human_dna(getDNACount(dnaSamples));\n</code></pre>\n<pre><code>public static BigDecimal getDNACount(Collection&lt;Sample&gt; dnaSamples) {\n    long humanSamples = dnaSamples.stream()\n        .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\n        .count();\n\n    return BigDecimal.valueOf(humanSamples);\n}\n</code></pre>\n<hr />\n<p>And you can produce the result of type <code>BigDecimal</code> directly from the stream using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(U,java.util.function.BiFunction,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>reduce()</code></a> a terminal operation:</p>\n<pre><code>stat.setCount_human_dna(getDNACount(dnaSamples));\n</code></pre>\n<pre><code>public static BigDecimal getDNACount(Collection&lt;Sample&gt; dnaSamples) {\n    return dnaSamples.stream()\n        .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\n        .reduce(BigDecimal.ZERO,\n                (total, next) -&gt; total.add(BigDecimal.ONE),\n                BigDecimal::add);\n}\n</code></pre>\n<p><em>Sidenote:</em> I'm not an expert in such questions as DNA analysis, but the result of this reduction will always be a whole number. You might consider utilizing <code>BigInteger</code> instead of <code>BigDecimal</code>.</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72282833,"answer_count":2,"score":3,"last_activity_date":1652885073,"creation_date":1652842016,"question_id":72282681,"body_markdown":"I&#39;m struggling to understand how can I make the following code work.\r\n\r\nThe field `count_human_dna` of my `stat class` is of type `BigDecimal`, with setting the type as Long this works, but I need to change it to `BigDecimal`, can somehow tell me how could I make this work for `BigDecimal` field?\r\n```\r\nstat.setCount_human_dna(dnaSamples.stream()\r\n    .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\r\n    .collect(Collectors.counting()));\r\n```\r\nThis code is counting all the `dnaSamples` which type belong to Human.","title":"How to convert Long to BigDecimal while also using a Stream","body":"<p>I'm struggling to understand how can I make the following code work.</p>\n<p>The field <code>count_human_dna</code> of my <code>stat class</code> is of type <code>BigDecimal</code>, with setting the type as Long this works, but I need to change it to <code>BigDecimal</code>, can somehow tell me how could I make this work for <code>BigDecimal</code> field?</p>\n<pre><code>stat.setCount_human_dna(dnaSamples.stream()\n    .filter(x -&gt; x.getType().equals(&quot;Human&quot;))\n    .collect(Collectors.counting()));\n</code></pre>\n<p>This code is counting all the <code>dnaSamples</code> which type belong to Human.</p>\n"},{"tags":["java","json","spring-boot","gson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":15974416,"reputation":93,"user_id":11527689,"display_name":"Nouredine LAMAMRA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652798721,"creation_date":1652798721,"answer_id":72276099,"question_id":72275667,"body_markdown":"I think you have to declare a class for that and change productData type from string to that class.","title":"Deserialize inner json string property with GSON","body":"<p>I think you have to declare a class for that and change productData type from string to that class.</p>\n"},{"tags":[],"owner":{"account_id":3990569,"reputation":908,"user_id":3289652,"accept_rate":28,"display_name":"Pickeroll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652885002,"creation_date":1652885002,"answer_id":72291319,"question_id":72275667,"body_markdown":"I resolved in this way, I think this is **NOT** a good approach and I hope that there is a more automatic approach to solve this.\r\n\r\n**Product Class**\r\n\r\n    public class Product {\r\n        @Expose\r\n        @Id\r\n        @NotBlank\r\n        private String sapCode;\r\n        @Expose\r\n        @NotBlank\r\n        private String sapCodeDescription;\r\n    \r\n        //THIS PROPERTY IS TO SAVE THE JSON IN THE DB\r\n        @NotBlank\r\n        @Column(columnDefinition=&quot;TEXT&quot;)\r\n        @JsonProperty\r\n        private String productDataColumn;\r\n    \r\n        //THIS PROPERTY IS TO EXPOSE THE DATA TO THE API\r\n        @Transient\r\n        @Expose\r\n        private ProductData productData;\r\n    \r\n        public void createProductData() {\r\n            this.productData = new Gson().fromJson(productDataColumn, ProductData.class);\r\n        }\r\n    }\r\n\r\n**ProductData Class**\r\n\r\n    public class ProductData  {\r\n      @Expose\r\n      public int pieces;\r\n      @Expose\r\n      public boolean marcatura;\r\n      @Expose\r\n      public String description;\r\n    }\r\n\r\n\r\n**OrderService**\r\n\r\n    public String getAllOrders() {\r\n        List&lt;Order&gt; allOrders = orderRepository.findAll();\r\n        for(Order o : allOrders){\r\n            Product orderProduct = o.getProducts().stream().findFirst().get();\r\n            orderProduct.createProductData();\r\n        }\r\n        String allOrdersResult = gson.toJson(allOrders);\r\n        return allOrdersResult;\r\n    }","title":"Deserialize inner json string property with GSON","body":"<p>I resolved in this way, I think this is <strong>NOT</strong> a good approach and I hope that there is a more automatic approach to solve this.</p>\n<p><strong>Product Class</strong></p>\n<pre><code>public class Product {\n    @Expose\n    @Id\n    @NotBlank\n    private String sapCode;\n    @Expose\n    @NotBlank\n    private String sapCodeDescription;\n\n    //THIS PROPERTY IS TO SAVE THE JSON IN THE DB\n    @NotBlank\n    @Column(columnDefinition=&quot;TEXT&quot;)\n    @JsonProperty\n    private String productDataColumn;\n\n    //THIS PROPERTY IS TO EXPOSE THE DATA TO THE API\n    @Transient\n    @Expose\n    private ProductData productData;\n\n    public void createProductData() {\n        this.productData = new Gson().fromJson(productDataColumn, ProductData.class);\n    }\n}\n</code></pre>\n<p><strong>ProductData Class</strong></p>\n<pre><code>public class ProductData  {\n  @Expose\n  public int pieces;\n  @Expose\n  public boolean marcatura;\n  @Expose\n  public String description;\n}\n</code></pre>\n<p><strong>OrderService</strong></p>\n<pre><code>public String getAllOrders() {\n    List&lt;Order&gt; allOrders = orderRepository.findAll();\n    for(Order o : allOrders){\n        Product orderProduct = o.getProducts().stream().findFirst().get();\n        orderProduct.createProductData();\n    }\n    String allOrdersResult = gson.toJson(allOrders);\n    return allOrdersResult;\n}\n</code></pre>\n"}],"owner":{"account_id":3990569,"reputation":908,"user_id":3289652,"accept_rate":28,"display_name":"Pickeroll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72291319,"answer_count":2,"score":0,"last_activity_date":1652885002,"creation_date":1652796992,"question_id":72275667,"body_markdown":"I&#39;m using Springboot and Gson for my backend. \r\nI have these two classes in a many to many relation:\r\n\r\n\r\n**Order class**\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(\tname = &quot;orders&quot;)\r\npublic class Order {\r\n    @Id\r\n    @Expose\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @Expose\r\n    @NotBlank\r\n    private String poNumber;\r\n    @Expose\r\n    @NotBlank\r\n    private String dimension;\r\n    @Expose\r\n    @NotBlank\r\n    private int initialQuantity;\r\n    @Expose\r\n    @NotBlank\r\n    private int leftQuantity;\r\n    @Expose\r\n    @NotBlank\r\n    private Date startDate;\r\n    @Expose\r\n    @NotBlank\r\n    private Date endDate;\r\n    @Expose\r\n    @SerializedName(&quot;status&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private PoStatus status;\r\n\r\n    @OneToMany(mappedBy=&quot;order&quot;)\r\n    private Set&lt;Log&gt; logs;\r\n\r\n    @Expose\r\n    @SerializedName(&quot;products&quot;)\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\tname = &quot;orders_products&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;order_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;sap_code&quot;))\r\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;();\r\n```\r\n\r\n**Product Class**\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(\tname = &quot;products&quot;)\r\npublic class Product {\r\n    @Expose\r\n    @Id\r\n    @NotBlank\r\n    private String sapCode;\r\n    @Expose\r\n    @NotBlank\r\n    private String sapCodeDescription;\r\n    @Expose\r\n    private String productData;\r\n}\r\n```\r\n\r\nAnd this is the service that I use to serve the data to my rest endpoint\r\n\r\n    public String getAllOrders() {\r\n        List&lt;Order&gt; allOrders = orderRepository.findAll();\r\n        String allOrdersResult = gson.toJson(allOrders);\r\n        return allOrdersResult;\r\n    }\r\n\r\nAnd this is the response:\r\n ```\r\n    [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;poNumber&quot;: &quot;003100059361&quot;,\r\n        &quot;dimension&quot;: &quot;INTBKGR&quot;,\r\n        &quot;initialQuantity&quot;: 200000,\r\n        &quot;leftQuantity&quot;: 200000,\r\n        &quot;startDate&quot;: &quot;17/08/2022 00:00&quot;,\r\n        &quot;endDate&quot;: &quot;17/08/2022 00:00&quot;,\r\n        &quot;status&quot;: &quot;READY&quot;,\r\n        &quot;products&quot;: [\r\n            {\r\n                &quot;sapCode&quot;: &quot;000000000000416234&quot;,\r\n                &quot;sapCodeDescription&quot;: &quot;1.STUFE 15X&quot;,\r\n                &quot;productData&quot;: &quot;{\\&quot;pieces\\&quot;: 85, \\&quot;mark\\&quot;: true, \\&quot;description\\&quot;: \\&quot;elementum pellentesque quisque porta volutpat erat quisque erat eros viverra eget congue eget\\&quot;}&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n ```\r\n\r\nMy aim is to deserialize/escape the `productData` String property.\r\n\r\nI&#39;ve tried by creating a `ProductData` class and using the `@JsonAdapter` annotation, but as far as I understood this annotation Is used when you need to give a custom behaviour to your deserialization, the JSON string in my example is very simple and I don&#39;t need any particular logic behind it.","title":"Deserialize inner json string property with GSON","body":"<p>I'm using Springboot and Gson for my backend.\nI have these two classes in a many to many relation:</p>\n<p><strong>Order class</strong></p>\n<pre><code>@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table( name = &quot;orders&quot;)\npublic class Order {\n    @Id\n    @Expose\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Expose\n    @NotBlank\n    private String poNumber;\n    @Expose\n    @NotBlank\n    private String dimension;\n    @Expose\n    @NotBlank\n    private int initialQuantity;\n    @Expose\n    @NotBlank\n    private int leftQuantity;\n    @Expose\n    @NotBlank\n    private Date startDate;\n    @Expose\n    @NotBlank\n    private Date endDate;\n    @Expose\n    @SerializedName(&quot;status&quot;)\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private PoStatus status;\n\n    @OneToMany(mappedBy=&quot;order&quot;)\n    private Set&lt;Log&gt; logs;\n\n    @Expose\n    @SerializedName(&quot;products&quot;)\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable( name = &quot;orders_products&quot;,\n            joinColumns = @JoinColumn(name = &quot;order_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;sap_code&quot;))\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>Product Class</strong></p>\n<pre><code>@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table( name = &quot;products&quot;)\npublic class Product {\n    @Expose\n    @Id\n    @NotBlank\n    private String sapCode;\n    @Expose\n    @NotBlank\n    private String sapCodeDescription;\n    @Expose\n    private String productData;\n}\n</code></pre>\n<p>And this is the service that I use to serve the data to my rest endpoint</p>\n<pre><code>public String getAllOrders() {\n    List&lt;Order&gt; allOrders = orderRepository.findAll();\n    String allOrdersResult = gson.toJson(allOrders);\n    return allOrdersResult;\n}\n</code></pre>\n<p>And this is the response:</p>\n<pre><code>   [\n   {\n       &quot;id&quot;: 1,\n       &quot;poNumber&quot;: &quot;003100059361&quot;,\n       &quot;dimension&quot;: &quot;INTBKGR&quot;,\n       &quot;initialQuantity&quot;: 200000,\n       &quot;leftQuantity&quot;: 200000,\n       &quot;startDate&quot;: &quot;17/08/2022 00:00&quot;,\n       &quot;endDate&quot;: &quot;17/08/2022 00:00&quot;,\n       &quot;status&quot;: &quot;READY&quot;,\n       &quot;products&quot;: [\n           {\n               &quot;sapCode&quot;: &quot;000000000000416234&quot;,\n               &quot;sapCodeDescription&quot;: &quot;1.STUFE 15X&quot;,\n               &quot;productData&quot;: &quot;{\\&quot;pieces\\&quot;: 85, \\&quot;mark\\&quot;: true, \\&quot;description\\&quot;: \\&quot;elementum pellentesque quisque porta volutpat erat quisque erat eros viverra eget congue eget\\&quot;}&quot;\n           }\n       ]\n   }\n]\n</code></pre>\n<p>My aim is to deserialize/escape the <code>productData</code> String property.</p>\n<p>I've tried by creating a <code>ProductData</code> class and using the <code>@JsonAdapter</code> annotation, but as far as I understood this annotation Is used when you need to give a custom behaviour to your deserialization, the JSON string in my example is very simple and I don't need any particular logic behind it.</p>\n"},{"tags":["java","pdf","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1652126462,"post_id":72173621,"comment_id":127526316,"body_markdown":"do you have docx4j-export-fo and the fop deps on your classpath?  is there a stack trace?","body":"do you have docx4j-export-fo and the fop deps on your classpath?  is there a stack trace?"},{"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"score":0,"creation_date":1652164885,"post_id":72173621,"comment_id":127533304,"body_markdown":"I have the docx4j-export-fo in my pom as a dependency. Unfortunately I don&#39;t have a stack trace. The operation seems to go correctly, apart from an empty pdf file being generated.","body":"I have the docx4j-export-fo in my pom as a dependency. Unfortunately I don&#39;t have a stack trace. The operation seems to go correctly, apart from an empty pdf file being generated."},{"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"score":0,"creation_date":1652167762,"post_id":72173621,"comment_id":127534127,"body_markdown":"I found a stack trace. Added it to the post.","body":"I found a stack trace. Added it to the post."},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1652215773,"post_id":72173621,"comment_id":127552044,"body_markdown":"What version of docx4j are you using?","body":"What version of docx4j are you using?"},{"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"score":0,"creation_date":1652362220,"post_id":72173621,"comment_id":127591659,"body_markdown":"I&#39;ve added the versions in the post. They should be the most recent.","body":"I&#39;ve added the versions in the post. They should be the most recent."},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1652387261,"post_id":72173621,"comment_id":127600722,"body_markdown":"You have 3 different and conflicting docx4j-JAXB-* implementations.  Choose one and only one (eg docx4j-JAXB-ReferenceImpl 11.4.6), then please confirm stack trace still occurs with the same line numbers.","body":"You have 3 different and conflicting docx4j-JAXB-* implementations.  Choose one and only one (eg docx4j-JAXB-ReferenceImpl 11.4.6), then please confirm stack trace still occurs with the same line numbers."},{"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"score":0,"creation_date":1652443019,"post_id":72173621,"comment_id":127613375,"body_markdown":"I&#39;ve checked and was able to make it work with docx4j-JAXB-Internal version 8.3.4. Still getting the same stack trace tho. [org.doc.Docx4J] (main) null: java.lang.reflect.InvocationTargetException","body":"I&#39;ve checked and was able to make it work with docx4j-JAXB-Internal version 8.3.4. Still getting the same stack trace tho. [org.doc.Docx4J] (main) null: java.lang.reflect.InvocationTargetException"},{"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"score":0,"creation_date":1652443138,"post_id":72173621,"comment_id":127613415,"body_markdown":"Also having an empty file as a result. It seems to work when I use version 8 of both docx4j-export-fo and docx4j-JAXB-Internal, except for the pdf conversion giving a bad result. E.g. images being put horizontal instead of vertical and off page.","body":"Also having an empty file as a result. It seems to work when I use version 8 of both docx4j-export-fo and docx4j-JAXB-Internal, except for the pdf conversion giving a bad result. E.g. images being put horizontal instead of vertical and off page."},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1652652926,"post_id":72173621,"comment_id":127651952,"body_markdown":"Yes, you shouldn&#39;t mix v8 and v11 jars.  Quality of the conversion is a separate issue; see https://www.docx4java.org/blog/2020/09/office-pptxxlsxdocx-to-pdf-to-in-docx4j-8-2-3/","body":"Yes, you shouldn&#39;t mix v8 and v11 jars.  Quality of the conversion is a separate issue; see <a href=\"https://www.docx4java.org/blog/2020/09/office-pptxxlsxdocx-to-pdf-to-in-docx4j-8-2-3/\" rel=\"nofollow noreferrer\">docx4java.org/blog/2020/09/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14557151,"reputation":1559,"user_id":10514369,"display_name":"David ROSEY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652884973,"creation_date":1652884973,"answer_id":72291310,"question_id":72173621,"body_markdown":"According to the doc, you should use  one and only one of JXB dependencies:\r\n[![enter image description here][1]][1]\r\n\r\nUpdate your pom.xml to only keep `docx4j-JAXB-ReferenceImpl` then retry:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P2s5I.png","title":"Using docx4j to convert .docx to .pdf","body":"<p>According to the doc, you should use  one and only one of JXB dependencies:\n<a href=\"https://i.stack.imgur.com/P2s5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2s5I.png\" alt=\"enter image description here\" /></a></p>\n<p>Update your pom.xml to only keep <code>docx4j-JAXB-ReferenceImpl</code> then retry:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n        &lt;version&gt;11.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n        &lt;version&gt;11.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652884973,"creation_date":1652106381,"question_id":72173621,"body_markdown":"I&#39;m trying to convert .docx files to .pdf files. Now I have the following code:\r\n\r\n```\r\nclass DocxToPdf {\r\n    fun convert(inputFileLocation: FileInputStream, outputFileLocation: FileOutputStream) {\r\n        val wordMLPackage = WordprocessingMLPackage.load(inputFileLocation)\r\n        val mainDocumentPart = wordMLPackage.mainDocumentPart\r\n        Docx4J.toPDF(wordMLPackage, outputFileLocation)\r\n\r\n        outputFileLocation.flush()\r\n        outputFileLocation.close()\r\n    }\r\n}\r\n```\r\n\r\nThese are the versions:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-JAXB-Internal&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut when I run it, I&#39;m only getting an empty pdf file. I also get the following stack trace:\r\n\r\norg.docx4j.openpackaging.exceptions.Docx4JException\r\n\tat org.docx4j.Docx4J.toPDF(Docx4J.java:767)\r\n\tat com.abnamro.edc.loki.domain.adapters.conversion.docx4j.DocxToPdf.convert(DocxToPdf.kt:12)\r\n\tat com.abnamro.edc.domain.adapters.conversion.docx4j.DocxToPdfTest.Convert a docx file successfully$loki_app(DocxToPdfTest.kt:20)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.docx4j.Docx4J.toPDF(Docx4J.java:747)\r\n\t... 71 more\r\nCaused by: java.lang.NoSuchMethodError: org.docx4j.jaxb.Context.getFopConfigContext()Ljakarta/xml/bind/JAXBContext;\r\n\tat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.getFopFactoryBuilder(FORendererApacheFOP.java:286)\r\n\tat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.getFopFactoryBuilder(FORendererApacheFOP.java:271)\r\n\t... 76 more\r\n\r\nWhat should I do more?","title":"Using docx4j to convert .docx to .pdf","body":"<p>I'm trying to convert .docx files to .pdf files. Now I have the following code:</p>\n<pre><code>class DocxToPdf {\n    fun convert(inputFileLocation: FileInputStream, outputFileLocation: FileOutputStream) {\n        val wordMLPackage = WordprocessingMLPackage.load(inputFileLocation)\n        val mainDocumentPart = wordMLPackage.mainDocumentPart\n        Docx4J.toPDF(wordMLPackage, outputFileLocation)\n\n        outputFileLocation.flush()\n        outputFileLocation.close()\n    }\n}\n</code></pre>\n<p>These are the versions:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-Internal&lt;/artifactId&gt;\n            &lt;version&gt;8.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;11.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\n            &lt;version&gt;11.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n            &lt;version&gt;11.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But when I run it, I'm only getting an empty pdf file. I also get the following stack trace:</p>\n<p>org.docx4j.openpackaging.exceptions.Docx4JException\nat org.docx4j.Docx4J.toPDF(Docx4J.java:767)\nat com.abnamro.edc.loki.domain.adapters.conversion.docx4j.DocxToPdf.convert(DocxToPdf.kt:12)\nat com.abnamro.edc.domain.adapters.conversion.docx4j.DocxToPdfTest.Convert a docx file successfully$loki_app(DocxToPdfTest.kt:20)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.docx4j.Docx4J.toPDF(Docx4J.java:747)\n... 71 more\nCaused by: java.lang.NoSuchMethodError: org.docx4j.jaxb.Context.getFopConfigContext()Ljakarta/xml/bind/JAXBContext;\nat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.getFopFactoryBuilder(FORendererApacheFOP.java:286)\nat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.getFopFactoryBuilder(FORendererApacheFOP.java:271)\n... 76 more</p>\n<p>What should I do more?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652795813,"post_id":72273803,"comment_id":127689442,"body_markdown":"*It&#39;s not visible if alpha is 255 because it&#39;s fully opaque, but if it&#39;s transparent, the visual glitch thing is visible.* - Swing does not support alpha values properly. See: https://stackoverflow.com/questions/4590852/jpanel-transparency-problem/4591158#4591158 for a solution. Also, It would be better so use a `JSpinner` to enter the color values.","body":"<i>It&#39;s not visible if alpha is 255 because it&#39;s fully opaque, but if it&#39;s transparent, the visual glitch thing is visible.</i> - Swing does not support alpha values properly. See: <a href=\"https://stackoverflow.com/questions/4590852/jpanel-transparency-problem/4591158#4591158\" title=\"jpanel transparency problem\">stackoverflow.com/questions/4590852/jpanel-transparency-prob&zwnj;&#8203;lem/&hellip;</a> for a solution. Also, It would be better so use a <code>JSpinner</code> to enter the color values."}],"answers":[{"tags":[],"owner":{"account_id":17698981,"reputation":16,"user_id":12849014,"display_name":"Adan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652884921,"creation_date":1652884921,"answer_id":72291288,"question_id":72273803,"body_markdown":"Call the method `f.repaint();` at the end of the `actionPerformed()` method\r\n\r\nSee more info [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#repaint()","title":"Java Swing button creates a dupe on the panel below it","body":"<p>Call the method <code>f.repaint();</code> at the end of the <code>actionPerformed()</code> method</p>\n<p>See more info <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25313514,"reputation":3,"user_id":19135957,"display_name":"kenetcraft1018"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72291288,"answer_count":1,"score":0,"last_activity_date":1652884921,"creation_date":1652789346,"question_id":72273803,"body_markdown":"We have this assignment where we make a GUI window which sets a panel&#39;s color based on RGB-Alpha values. I got it mostly working, but when I click the change color button, it duplicates (I&#39;m not sure if its only visual bug) a clicked state of itself under it. It&#39;s not visible if alpha is 255 because it&#39;s fully opaque, but if it&#39;s transparent, the visual glitch thing is visible.\r\n\r\nScreenshots of Window/Frame: https://i.stack.imgur.com/Mx1Jv.jpg\r\n\r\nThis is my current code:\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.JOptionPane;\r\n \r\npublic class ColorCalc implements ActionListener {\r\n    //Containers\r\n    private JFrame f;\r\n    private JPanel colorPanel;\r\n    //Components\r\n    private JLabel l1,l2,l3,l4;\r\n    private JTextField redTf,greenTf,blueTf,alphaTf;\r\n    private JButton bCompute,bClear;\r\n \r\n    public ColorCalc()\r\n    {\r\n        //Containers\r\n        f = new JFrame(&quot;My Color Calculator&quot;);\r\n        f.setPreferredSize(new Dimension(400, 250));//Set Frame Size\r\n \r\n        colorPanel = new JPanel();\r\n        colorPanel.setPreferredSize(new Dimension(300, 200));//Set Panel Size\r\n \r\n        //Components\r\n        l1 = new JLabel(&quot;Red:&quot;);\r\n        l2 = new JLabel(&quot;Green:&quot;);\r\n        l3 = new JLabel(&quot;Blue:&quot;);\r\n        l4 = new JLabel(&quot;Alpha:&quot;);\r\n        \r\n        redTf = new JTextField(&quot;0&quot;, 3);\r\n        greenTf = new JTextField(&quot;0&quot;, 3);\r\n        blueTf = new JTextField(&quot;0&quot;, 3);\r\n        alphaTf = new JTextField(&quot;0&quot;, 3);\r\n        \r\n        bCompute = new JButton(&quot;Compute&quot;);\r\n        bClear = new JButton(&quot;Clear&quot;);\r\n        //Action Listeners\r\n        bCompute.addActionListener(this);\r\n        bClear.addActionListener(this);\r\n    }\r\n    public void startApp()\r\n    {\r\n        //Labels Panel\r\n        JPanel lPanel = new JPanel();\r\n        lPanel.setLayout(new GridLayout(5,1));\r\n        lPanel.add(l1);\r\n        lPanel.add(l2);\r\n        lPanel.add(l3);\r\n        lPanel.add(l4);\r\n        lPanel.add(bCompute);\r\n        //Text Fields Panel\r\n        JPanel tfPanel = new JPanel();\r\n        tfPanel.setLayout(new GridLayout(5,1));\r\n        tfPanel.add(redTf);\r\n        tfPanel.add(greenTf);\r\n        tfPanel.add(blueTf);\r\n        tfPanel.add(alphaTf);\r\n        tfPanel.add(bClear);\r\n        //Labels + TextFields Panel\r\n        JPanel inputPanel = new JPanel();\r\n        inputPanel.setLayout(new GridLayout(1,2));\r\n        inputPanel.add(lPanel);\r\n        inputPanel.add(tfPanel);\r\n        //Add all panels to Frame\r\n        f.setLayout(new GridLayout(2,1));\r\n        f.add(inputPanel);\r\n        f.add(colorPanel);\r\n                \r\n        f.setLocationRelativeTo(null);\r\n        f.pack();\r\n        f.setVisible(true);\r\n \r\n    }\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        if(e.getSource() == bCompute)\r\n        {\r\n            //Set Default Values\r\n            int red = 255;\r\n            int green = 255;\r\n            int blue = 255;\r\n            int alpha = 255;\r\n            try \r\n            {\r\n                //Get Values and Parse to Integer\r\n                red = Integer.parseInt(redTf.getText());\r\n                green = Integer.parseInt(greenTf.getText());\r\n                blue = Integer.parseInt(blueTf.getText());\r\n                alpha = Integer.parseInt(alphaTf.getText());\r\n                \r\n            } catch (NumberFormatException nfe)//If Parsing failed due to invalid types\r\n            {\r\n                red = 255; green = 255; blue = 255; alpha = 255; //Set values to white\r\n                JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);\r\n            }\r\n            \r\n            if(red &lt; 256 &amp;&amp; green &lt; 256 &amp;&amp; blue &lt; 256 &amp;&amp; alpha &lt; 256)//Max Value: 255\r\n            {\r\n              if(red &gt; -1 &amp;&amp; green &gt; -1 &amp;&amp; blue &gt; -1 &amp;&amp; alpha &gt; -1)//Min Value: 0\r\n                    colorPanel.setBackground(new Color(red, green, blue, alpha));\r\n                else\r\n                    JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);    \r\n            }                  \r\n            else\r\n                JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);\r\n        }\r\n        else if(e.getSource() == bClear)\r\n        {\r\n            //Set all values to 0 and set panel to white\r\n            redTf.setText(&quot;0&quot;);\r\n            greenTf.setText(&quot;0&quot;);\r\n            blueTf.setText(&quot;0&quot;);\r\n            alphaTf.setText(&quot;0&quot;);\r\n            colorPanel.setBackground(Color.WHITE);\r\n        }\r\n    }\r\n    public static void main(String[] args) \r\n    {\r\n        ColorCalc colCalc = new ColorCalc();\r\n        colCalc.startApp();\r\n    }\r\n}\r\n```","title":"Java Swing button creates a dupe on the panel below it","body":"<p>We have this assignment where we make a GUI window which sets a panel's color based on RGB-Alpha values. I got it mostly working, but when I click the change color button, it duplicates (I'm not sure if its only visual bug) a clicked state of itself under it. It's not visible if alpha is 255 because it's fully opaque, but if it's transparent, the visual glitch thing is visible.</p>\n<p>Screenshots of Window/Frame: <a href=\"https://i.stack.imgur.com/Mx1Jv.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Mx1Jv.jpg</a></p>\n<p>This is my current code:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\nimport javax.swing.JOptionPane;\n \npublic class ColorCalc implements ActionListener {\n    //Containers\n    private JFrame f;\n    private JPanel colorPanel;\n    //Components\n    private JLabel l1,l2,l3,l4;\n    private JTextField redTf,greenTf,blueTf,alphaTf;\n    private JButton bCompute,bClear;\n \n    public ColorCalc()\n    {\n        //Containers\n        f = new JFrame(&quot;My Color Calculator&quot;);\n        f.setPreferredSize(new Dimension(400, 250));//Set Frame Size\n \n        colorPanel = new JPanel();\n        colorPanel.setPreferredSize(new Dimension(300, 200));//Set Panel Size\n \n        //Components\n        l1 = new JLabel(&quot;Red:&quot;);\n        l2 = new JLabel(&quot;Green:&quot;);\n        l3 = new JLabel(&quot;Blue:&quot;);\n        l4 = new JLabel(&quot;Alpha:&quot;);\n        \n        redTf = new JTextField(&quot;0&quot;, 3);\n        greenTf = new JTextField(&quot;0&quot;, 3);\n        blueTf = new JTextField(&quot;0&quot;, 3);\n        alphaTf = new JTextField(&quot;0&quot;, 3);\n        \n        bCompute = new JButton(&quot;Compute&quot;);\n        bClear = new JButton(&quot;Clear&quot;);\n        //Action Listeners\n        bCompute.addActionListener(this);\n        bClear.addActionListener(this);\n    }\n    public void startApp()\n    {\n        //Labels Panel\n        JPanel lPanel = new JPanel();\n        lPanel.setLayout(new GridLayout(5,1));\n        lPanel.add(l1);\n        lPanel.add(l2);\n        lPanel.add(l3);\n        lPanel.add(l4);\n        lPanel.add(bCompute);\n        //Text Fields Panel\n        JPanel tfPanel = new JPanel();\n        tfPanel.setLayout(new GridLayout(5,1));\n        tfPanel.add(redTf);\n        tfPanel.add(greenTf);\n        tfPanel.add(blueTf);\n        tfPanel.add(alphaTf);\n        tfPanel.add(bClear);\n        //Labels + TextFields Panel\n        JPanel inputPanel = new JPanel();\n        inputPanel.setLayout(new GridLayout(1,2));\n        inputPanel.add(lPanel);\n        inputPanel.add(tfPanel);\n        //Add all panels to Frame\n        f.setLayout(new GridLayout(2,1));\n        f.add(inputPanel);\n        f.add(colorPanel);\n                \n        f.setLocationRelativeTo(null);\n        f.pack();\n        f.setVisible(true);\n \n    }\n    public void actionPerformed(ActionEvent e)\n    {\n        if(e.getSource() == bCompute)\n        {\n            //Set Default Values\n            int red = 255;\n            int green = 255;\n            int blue = 255;\n            int alpha = 255;\n            try \n            {\n                //Get Values and Parse to Integer\n                red = Integer.parseInt(redTf.getText());\n                green = Integer.parseInt(greenTf.getText());\n                blue = Integer.parseInt(blueTf.getText());\n                alpha = Integer.parseInt(alphaTf.getText());\n                \n            } catch (NumberFormatException nfe)//If Parsing failed due to invalid types\n            {\n                red = 255; green = 255; blue = 255; alpha = 255; //Set values to white\n                JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);\n            }\n            \n            if(red &lt; 256 &amp;&amp; green &lt; 256 &amp;&amp; blue &lt; 256 &amp;&amp; alpha &lt; 256)//Max Value: 255\n            {\n              if(red &gt; -1 &amp;&amp; green &gt; -1 &amp;&amp; blue &gt; -1 &amp;&amp; alpha &gt; -1)//Min Value: 0\n                    colorPanel.setBackground(new Color(red, green, blue, alpha));\n                else\n                    JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);    \n            }                  \n            else\n                JOptionPane.showMessageDialog(null, &quot;Invalid Inputs (RGB,Alpha values 0-255)&quot;);\n        }\n        else if(e.getSource() == bClear)\n        {\n            //Set all values to 0 and set panel to white\n            redTf.setText(&quot;0&quot;);\n            greenTf.setText(&quot;0&quot;);\n            blueTf.setText(&quot;0&quot;);\n            alphaTf.setText(&quot;0&quot;);\n            colorPanel.setBackground(Color.WHITE);\n        }\n    }\n    public static void main(String[] args) \n    {\n        ColorCalc colCalc = new ColorCalc();\n        colCalc.startApp();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496152124,"creation_date":1496152124,"answer_id":44264128,"question_id":44264010,"body_markdown":"`@RepositoryRestResource` means you have REST endpoint to the repository. So user calls it directly via REST calls.\r\n\r\n`@Repository` is a marker to a component which somehow stores data (CRUD operations). It is not necessary be accessible from external users directly.\r\n\r\nSo in case of `@RepositoryRestResource` you don&#39;t have any controller/service/dao layers but direct access.","title":"Spring- Difference and use case @Repository and @RepositoryRestResource?","body":"<p><code>@RepositoryRestResource</code> means you have REST endpoint to the repository. So user calls it directly via REST calls.</p>\n\n<p><code>@Repository</code> is a marker to a component which somehow stores data (CRUD operations). It is not necessary be accessible from external users directly.</p>\n\n<p>So in case of <code>@RepositoryRestResource</code> you don't have any controller/service/dao layers but direct access.</p>\n"},{"tags":[],"owner":{"account_id":5921395,"reputation":301,"user_id":4658638,"display_name":"Sourabh Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566979367,"creation_date":1566979367,"answer_id":57687628,"question_id":44264010,"body_markdown":"In addition to answer mentioned above, you can also customize your REST endpoints using @RepositoryRestResource.","title":"Spring- Difference and use case @Repository and @RepositoryRestResource?","body":"<p>In addition to answer mentioned above, you can also customize your REST endpoints using @RepositoryRestResource.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652884782,"creation_date":1652884782,"answer_id":72291251,"question_id":44264010,"body_markdown":"The `@Repository` annotation enables exception translation so you can handle Springs `DataAccessException` instead of underlying persistence implementation exceptions (via `PersistenceExceptionTranslationPostProcessor`). `@RepositoryRestResource` is not a specialization of `@Repository` so you might want in include both, to expose REST endpoints and enable exception translation.","title":"Spring- Difference and use case @Repository and @RepositoryRestResource?","body":"<p>The <code>@Repository</code> annotation enables exception translation so you can handle Springs <code>DataAccessException</code> instead of underlying persistence implementation exceptions (via <code>PersistenceExceptionTranslationPostProcessor</code>). <code>@RepositoryRestResource</code> is not a specialization of <code>@Repository</code> so you might want in include both, to expose REST endpoints and enable exception translation.</p>\n"}],"owner":{"account_id":9175797,"reputation":2531,"user_id":6821441,"accept_rate":83,"display_name":"Abhishek Ekaanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44264128,"answer_count":3,"score":2,"last_activity_date":1652884782,"creation_date":1496151855,"question_id":44264010,"body_markdown":"When I started to use spring boot I was annotating my interface with `@Repository`all these days I was following the same, but today I happened to come across annotating with another way called `@RepositoryRestResource`. What is the difference between them, When is it used.","title":"Spring- Difference and use case @Repository and @RepositoryRestResource?","body":"<p>When I started to use spring boot I was annotating my interface with <code>@Repository</code>all these days I was following the same, but today I happened to come across annotating with another way called <code>@RepositoryRestResource</code>. What is the difference between them, When is it used.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1652881688,"post_id":72290305,"comment_id":127714356,"body_markdown":"You say that the product is not passing a service or repository. However, as I see it, the product comes from `productList` which is the return value of your `productRepository.findAllByUuidOrderByorderNumber()` method. So it does pass your repository. Can you clarify what you mean, for example by adding the relevant part of the test code you wrote?","body":"You say that the product is not passing a service or repository. However, as I see it, the product comes from <code>productList</code> which is the return value of your <code>productRepository.findAllByUuidOrderByorderNumber()</code> method. So it does pass your repository. Can you clarify what you mean, for example by adding the relevant part of the test code you wrote?"},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1652881945,"post_id":72290305,"comment_id":127714481,"body_markdown":"I think you missed this part: *&quot;... the product value that I want to get after `product.setOrderNumber(i + 1);` is not passing service or repository.&quot;*","body":"I think you missed this part: <i>&quot;... the product value that I want to get after <code>product.setOrderNumber(i + 1);</code> is not passing service or repository.&quot;</i>"},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1652881990,"post_id":72290305,"comment_id":127714512,"body_markdown":"I simply want to catch the product value after setting its order, after `product.setOrderNumber(i + 1);` line I mean.","body":"I simply want to catch the product value after setting its order, after <code>product.setOrderNumber(i + 1);</code> line I mean."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1652882121,"post_id":72290305,"comment_id":127714574,"body_markdown":"Ok, maybe it doesn&#39;t pass the repository again, but considering that it originates from your repository (the `findBy....()` method), you can mock the return value of that method to return a list of products you choose, and then you already have access to those products within your test.","body":"Ok, maybe it doesn&#39;t pass the repository again, but considering that it originates from your repository (the <code>findBy....()</code> method), you can mock the return value of that method to return a list of products you choose, and then you already have access to those products within your test."},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1652882280,"post_id":72290305,"comment_id":127714665,"body_markdown":"Could you give an example pls?","body":"Could you give an example pls?"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652882787,"creation_date":1652882387,"answer_id":72290607,"question_id":72290305,"body_markdown":"The `product` variable comes from `productList`, which in turn comes from the `repository.findAllByUuidOrderByOrderNumber()` method. So if you mocked your repository, you could write something like this:\r\n\r\n```java\r\nProduct givenProduct = new Product();\r\nUUID givenUUID = UUID.randomUUID();\r\n// Create an EmployeeRequest with a `uuidList`\r\nEmployeeRequest givenRequest = new EmployeeRequest(/* TODO */); \r\n// Use Mockito to return a `productList` you choose\r\n// This uses a static import of `Mockito.when()`\r\nwhen(productRepository.findAllByUuidOrderByOrderNumber(givenUUID)).thenReturn(List.of(givenProduct));\r\nservice.updateRequest(givenUUID, givenRequest);\r\n```\r\n\r\nTheoretically you could even return a mocked product in the test logic above, but I suggest using a real `Product` object.\r\n\r\nAnd now whatever happens to that product, can be asserted within your test.\r\n\r\nFor example:\r\n\r\n```java\r\n// `givenProduct` is element 0, and thus will get an orderNumber of 1\r\nassertThat(givenProduct.getOrderNumber()).isEqualTo(1);\r\n```","title":"Cannot catch value in Java Unit Test","body":"<p>The <code>product</code> variable comes from <code>productList</code>, which in turn comes from the <code>repository.findAllByUuidOrderByOrderNumber()</code> method. So if you mocked your repository, you could write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Product givenProduct = new Product();\nUUID givenUUID = UUID.randomUUID();\n// Create an EmployeeRequest with a `uuidList`\nEmployeeRequest givenRequest = new EmployeeRequest(/* TODO */); \n// Use Mockito to return a `productList` you choose\n// This uses a static import of `Mockito.when()`\nwhen(productRepository.findAllByUuidOrderByOrderNumber(givenUUID)).thenReturn(List.of(givenProduct));\nservice.updateRequest(givenUUID, givenRequest);\n</code></pre>\n<p>Theoretically you could even return a mocked product in the test logic above, but I suggest using a real <code>Product</code> object.</p>\n<p>And now whatever happens to that product, can be asserted within your test.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// `givenProduct` is element 0, and thus will get an orderNumber of 1\nassertThat(givenProduct.getOrderNumber()).isEqualTo(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21927811,"reputation":1228,"user_id":16210149,"display_name":"Anatolii Chub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652884393,"creation_date":1652884393,"answer_id":72291154,"question_id":72290305,"body_markdown":"You can mock you repository to return list of mock&#39;s:\r\n\r\n    public test() {\r\n\r\n        Product product1 = mock(Product.class);\r\n        Product product2 = mock(Product.class);\r\n        List list = Arraylist();\r\n        list.add(product1);\r\n        list.add(product2);\r\n\r\n        when(productRepositoryMock.findAllByUuidOrderByOrderNumber(uuid))\r\n           .thenReturn(list)\r\n        when(product1).setOrderNumber(captor.capture) \r\n\r\nIn this case you can use ArgumentCaptor here, but I belive it&#39;s redundant in this case, and simple verify call will be enough\r\n\r\n    service.update(.....);\r\n    \r\n    verify.(product1).setOrderNumber(value);\r\n\r\n","title":"Cannot catch value in Java Unit Test","body":"<p>You can mock you repository to return list of mock's:</p>\n<pre><code>public test() {\n\n    Product product1 = mock(Product.class);\n    Product product2 = mock(Product.class);\n    List list = Arraylist();\n    list.add(product1);\n    list.add(product2);\n\n    when(productRepositoryMock.findAllByUuidOrderByOrderNumber(uuid))\n       .thenReturn(list)\n    when(product1).setOrderNumber(captor.capture) \n</code></pre>\n<p>In this case you can use ArgumentCaptor here, but I belive it's redundant in this case, and simple verify call will be enough</p>\n<pre><code>service.update(.....);\n\nverify.(product1).setOrderNumber(value);\n</code></pre>\n"}],"owner":{"display_name":"user18952345"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72291154,"answer_count":2,"score":-1,"last_activity_date":1652884393,"creation_date":1652881216,"question_id":72290305,"body_markdown":"I have the following service method:\r\n\r\n```\r\npublic CommandDTO update(UUID uuid, EmployeeRequest request) {\r\n    final List&lt;Product&gt; productList = productRepository\r\n            .findAllByUuidOrderByOrderNumber(uuid); \r\n\r\n    final List&lt;UUID&gt; uuidList = request.getUuidList();\r\n\r\n    for (int i = 0; i &lt; uuidList.size(); i++) {        \r\n        Product product = productList.get(i);\r\n        product.setOrderNumber(i + 1);\r\n\r\n        // how can I get the product value in this line? \r\n    }\r\n\r\n    return CommandDTO.builder().uuid(uuid).build();\r\n}\r\n```\r\n\r\nNormally, I use `ArgumentCaptor` in order to get values passing to repository or service. Howevcer, in this example, the product value that I want to get after `product.setOrderNumber(i + 1);` is not passing service or repository. For this reason I cannot get it. I am not sure if it would be possible using `@Spy` or `doAnswer`, but as far as I know, these methods cannot be used as the value is not passing to service or repo. Any idea? ","title":"Cannot catch value in Java Unit Test","body":"<p>I have the following service method:</p>\n<pre><code>public CommandDTO update(UUID uuid, EmployeeRequest request) {\n    final List&lt;Product&gt; productList = productRepository\n            .findAllByUuidOrderByOrderNumber(uuid); \n\n    final List&lt;UUID&gt; uuidList = request.getUuidList();\n\n    for (int i = 0; i &lt; uuidList.size(); i++) {        \n        Product product = productList.get(i);\n        product.setOrderNumber(i + 1);\n\n        // how can I get the product value in this line? \n    }\n\n    return CommandDTO.builder().uuid(uuid).build();\n}\n</code></pre>\n<p>Normally, I use <code>ArgumentCaptor</code> in order to get values passing to repository or service. Howevcer, in this example, the product value that I want to get after <code>product.setOrderNumber(i + 1);</code> is not passing service or repository. For this reason I cannot get it. I am not sure if it would be possible using <code>@Spy</code> or <code>doAnswer</code>, but as far as I know, these methods cannot be used as the value is not passing to service or repo. Any idea?</p>\n"},{"tags":["java","selenium","automated-tests"],"comments":[{"owner":{"account_id":5625818,"reputation":1441,"user_id":4454294,"accept_rate":40,"display_name":"Mateusz Gruszczynski"},"score":0,"creation_date":1652770857,"post_id":72264614,"comment_id":127679755,"body_markdown":"That code just opens map, does not click on anything so it works fine. You would need to add some click() methods, although I don&#39;t know if it will be easy with a google maps which is an interactive map and not a standard website.","body":"That code just opens map, does not click on anything so it works fine. You would need to add some click() methods, although I don&#39;t know if it will be easy with a google maps which is an interactive map and not a standard website."},{"owner":{"account_id":25306962,"reputation":1,"user_id":19130336,"display_name":"Владимир Чернов"},"score":0,"creation_date":1652773079,"post_id":72264614,"comment_id":127680554,"body_markdown":"Yeah, I did it, just not add in the code. I&#39;ve found building number&#39;s xpath and add click(). But nothing happen. I tried to click to manually. Same result","body":"Yeah, I did it, just not add in the code. I&#39;ve found building number&#39;s xpath and add click(). But nothing happen. I tried to click to manually. Same result"},{"owner":{"account_id":5625818,"reputation":1441,"user_id":4454294,"accept_rate":40,"display_name":"Mateusz Gruszczynski"},"score":0,"creation_date":1652880228,"post_id":72264614,"comment_id":127713639,"body_markdown":"As I said, Google maps is a complex interactive app, you are interacting with a canvas element not with building numbers and labels, so I would assume that you will have to use different approach to automate that. Look for google maps specific solutions.","body":"As I said, Google maps is a complex interactive app, you are interacting with a canvas element not with building numbers and labels, so I would assume that you will have to use different approach to automate that. Look for google maps specific solutions."},{"owner":{"account_id":25306962,"reputation":1,"user_id":19130336,"display_name":"Владимир Чернов"},"score":0,"creation_date":1652884334,"post_id":72264614,"comment_id":127715723,"body_markdown":"Thanks! I&#39;ll check it. By the way I changed user-agent and it helped... Kind of","body":"Thanks! I&#39;ll check it. By the way I changed user-agent and it helped... Kind of"}],"owner":{"account_id":25306962,"reputation":1,"user_id":19130336,"display_name":"Владимир Чернов"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652884368,"creation_date":1652729201,"question_id":72264614,"body_markdown":"Help me please. I want to write a code for clicking on the building on the map. If i do it by my hands - it&#39;s ok.\r\n\r\nhttps://www.google.com/maps/@57.9155533,59.9697661,18z\r\n\r\nI click on the number of building and something is happening. But when I launch the code, map becomes inactive.\r\n\r\nAfter launching\r\n\r\n    ChromeOptions opts = new ChromeOptions();\r\n    opts.addArguments(&quot;user-agent=Mozilla/5.0 (iPhone; CPU iPhone OS 15_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/100.0.4896.56 Mobile/15E148 Safari/604.1&quot;);\r\n            \r\n    WebDriver driver = new ChromeDriver(opts);\r\n    driver.get(&quot;https://www.google.com/maps/@57.9152965,59.9705073,17.58z&quot;);\r\n\r\nI can&#39;t press on the number of building. What&#39;s wrong with it? I can&#39;t do it by code and hands.","title":"What&#39;s wrong with maps and selenium (or my code)?","body":"<p>Help me please. I want to write a code for clicking on the building on the map. If i do it by my hands - it's ok.</p>\n<p><a href=\"https://www.google.com/maps/@57.9155533,59.9697661,18z\" rel=\"nofollow noreferrer\">https://www.google.com/maps/@57.9155533,59.9697661,18z</a></p>\n<p>I click on the number of building and something is happening. But when I launch the code, map becomes inactive.</p>\n<p>After launching</p>\n<pre><code>ChromeOptions opts = new ChromeOptions();\nopts.addArguments(&quot;user-agent=Mozilla/5.0 (iPhone; CPU iPhone OS 15_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/100.0.4896.56 Mobile/15E148 Safari/604.1&quot;);\n        \nWebDriver driver = new ChromeDriver(opts);\ndriver.get(&quot;https://www.google.com/maps/@57.9152965,59.9705073,17.58z&quot;);\n</code></pre>\n<p>I can't press on the number of building. What's wrong with it? I can't do it by code and hands.</p>\n"},{"tags":["java","swing","for-loop","jframe","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1652704525,"post_id":72200545,"comment_id":127662763,"body_markdown":"In a game, we should not be changing the components in the GUI, but instead of changing their state, the color, text or icon for example, to indicate the current state held by a *game model*.","body":"In a game, we should not be changing the components in the GUI, but instead of changing their state, the color, text or icon for example, to indicate the current state held by a <i>game model</i>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1652704943,"post_id":72200545,"comment_id":127662907,"body_markdown":"BTW *&quot;for loop to disable buttons&quot;* It is quite possible to disable buttons in a visible GUI, but that&#39;s not what the code above is doing. To ***disable** the buttons*, use `PlayField[i].setEnabled(false)`","body":"BTW <i>&quot;for loop to disable buttons&quot;</i> It is quite possible to disable buttons in a visible GUI, but that&#39;s not what the code above is doing. To <b><i>disable</b> the buttons</i>, use <code>PlayField[i].setEnabled(false)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17698981,"reputation":16,"user_id":12849014,"display_name":"Adan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652884290,"creation_date":1652884290,"answer_id":72291126,"question_id":72200545,"body_markdown":"Like stated in a previous comment, `JButton.setVisible(false);` only changes the user&#39;s ability to see the component. In the eyes of the frame itself, the component is still there. If this is what you want, and it still doesn&#39;t work, you may have to call `JFrame.revalidate();` after changing the state of the button. This method essentially &#39;refreshes&#39; the frame whenever you add components or change them. [See more here][1]\r\n\r\nIf your goal is to make the buttons visible, but disable them, use `JButton.setVisible(false);`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#revalidate--","title":"Why does my for loop to disable buttons not work, but the same loop works for setting colors in JFrame?","body":"<p>Like stated in a previous comment, <code>JButton.setVisible(false);</code> only changes the user's ability to see the component. In the eyes of the frame itself, the component is still there. If this is what you want, and it still doesn't work, you may have to call <code>JFrame.revalidate();</code> after changing the state of the button. This method essentially 'refreshes' the frame whenever you add components or change them. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#revalidate--\" rel=\"nofollow noreferrer\">See more here</a></p>\n<p>If your goal is to make the buttons visible, but disable them, use <code>JButton.setVisible(false);</code>.</p>\n"}],"owner":{"account_id":25197321,"reputation":1,"user_id":19036659,"display_name":"Chameleon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652884290,"creation_date":1652269810,"question_id":72200545,"body_markdown":"I am programming a TicTacToe game and I want to use a for loop with my `JButton` components inside them like this:\r\n\r\n    private void clearField(){\r\n        for (int i = 0; i&lt;PlayField.length; i++){\r\n            PlayField[i].setText(&quot;&quot;);\r\n            PlayField[i].setBackground(new Color(41,200,193));\r\n        }\r\n    }\r\n\r\nPlayfield in this example is an Array with all my nine buttons, that loop works but this one doesn&#39;t:\r\n\r\n    private void setInvis(){\r\n        for (int i = 0; i&lt;PlayField.length; i++){\r\n            PlayField[i].setVisible(false);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does my for loop to disable buttons not work, but the same loop works for setting colors in JFrame?","body":"<p>I am programming a TicTacToe game and I want to use a for loop with my <code>JButton</code> components inside them like this:</p>\n<pre><code>private void clearField(){\n    for (int i = 0; i&lt;PlayField.length; i++){\n        PlayField[i].setText(&quot;&quot;);\n        PlayField[i].setBackground(new Color(41,200,193));\n    }\n}\n</code></pre>\n<p>Playfield in this example is an Array with all my nine buttons, that loop works but this one doesn't:</p>\n<pre><code>private void setInvis(){\n    for (int i = 0; i&lt;PlayField.length; i++){\n        PlayField[i].setVisible(false);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652884246,"creation_date":1652884246,"answer_id":72291116,"question_id":72290633,"body_markdown":"You can add the [TestPropertySource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestPropertySource.html) annotation to the test to set the property value.\r\nfor example\r\n\r\n  @TestPropertySource(properties = &quot;enable.v2.ba.endpoint2 = true&quot;)\r\n\r\nYou&#39;d have to have 2 test classes, one annotated true and the other false.","title":"How to disable junit tests with ConditionalOnProperty?","body":"<p>You can add the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestPropertySource.html\" rel=\"nofollow noreferrer\">TestPropertySource</a> annotation to the test to set the property value.\nfor example</p>\n<p>@TestPropertySource(properties = &quot;enable.v2.ba.endpoint2 = true&quot;)</p>\n<p>You'd have to have 2 test classes, one annotated true and the other false.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652973145,"answer_count":1,"score":0,"last_activity_date":1652884246,"creation_date":1652882487,"question_id":72290633,"body_markdown":"I conditioned some endpoints in my service with environment variables as a feature flag. For one Controller I put `@ConditionalOnProperty(&quot;enable.v2.foo&quot;)` at class level and for another \r\nI put `@ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)` on the specific method.\r\nNow I have some end to end junit 4 tests that call these endpoints. Signature is\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = TaxServiceApp.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class E2ETest432 {\r\n...\r\n```\r\n\r\nSo I figured I can just put `@ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)` on specific tests at method level and on class level if the whole class tests an endpoint I want to switch of.\r\n\r\nBut if I run all tests, then thos tests are run as well. I even verified that they are read and have the correct value:\r\n\r\n```\r\n  @Value(&quot;${enable.v2.ba.endpoint2}&quot;)\r\n  private boolean switchAsBoolean;\r\n\r\n\r\n  @Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts = &quot;classpath:dataset/....sql&quot;)\r\n  @Sql(executionPhase = ExecutionPhase.AFTER_TEST_METHOD, scripts = &quot;classpath:dataset/....sql&quot;)\r\n  @Test\r\n  @ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)\r\n  public void shouldReturnDeliveryCostsForVehicle() throws IOException {\r\n      Assertions.assertThat(switchAsBoolean).isFalse();\r\n      ...\r\n  }\r\n```\r\n\r\nThis test fails because the endpoint is not there (-&gt;status code is unexpectedly 404) not because the value is false!\r\n\r\nHow can I condition my tests on the same feature flag?","title":"How to disable junit tests with ConditionalOnProperty?","body":"<p>I conditioned some endpoints in my service with environment variables as a feature flag. For one Controller I put <code>@ConditionalOnProperty(&quot;enable.v2.foo&quot;)</code> at class level and for another\nI put <code>@ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)</code> on the specific method.\nNow I have some end to end junit 4 tests that call these endpoints. Signature is</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = TaxServiceApp.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class E2ETest432 {\n...\n</code></pre>\n<p>So I figured I can just put <code>@ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)</code> on specific tests at method level and on class level if the whole class tests an endpoint I want to switch of.</p>\n<p>But if I run all tests, then thos tests are run as well. I even verified that they are read and have the correct value:</p>\n<pre><code>  @Value(&quot;${enable.v2.ba.endpoint2}&quot;)\n  private boolean switchAsBoolean;\n\n\n  @Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts = &quot;classpath:dataset/....sql&quot;)\n  @Sql(executionPhase = ExecutionPhase.AFTER_TEST_METHOD, scripts = &quot;classpath:dataset/....sql&quot;)\n  @Test\n  @ConditionalOnProperty(&quot;enable.v2.ba.endpoint2&quot;)\n  public void shouldReturnDeliveryCostsForVehicle() throws IOException {\n      Assertions.assertThat(switchAsBoolean).isFalse();\n      ...\n  }\n</code></pre>\n<p>This test fails because the endpoint is not there (-&gt;status code is unexpectedly 404) not because the value is false!</p>\n<p>How can I condition my tests on the same feature flag?</p>\n"},{"tags":["java","swing","user-interface","jtable","jtextfield"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1652859223,"post_id":72284184,"comment_id":127705439,"body_markdown":"The simplest way is to check after the user clicks the Add Item `JButton`.  In the `JButton` `ActionListener`, you check to see if you can convert the item amount `String` value to an `int` (`Integer.valueOf`) and if you can convert the item price `String` to a `double` (`Double.valueOf`).  One hint, save the item price as an `int` in pennies.  The math works out much more accurately.","body":"The simplest way is to check after the user clicks the Add Item <code>JButton</code>.  In the <code>JButton</code> <code>ActionListener</code>, you check to see if you can convert the item amount <code>String</code> value to an <code>int</code> (<code>Integer.valueOf</code>) and if you can convert the item price <code>String</code> to a <code>double</code> (<code>Double.valueOf</code>).  One hint, save the item price as an <code>int</code> in pennies.  The math works out much more accurately."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1652859580,"post_id":72284184,"comment_id":127705559,"body_markdown":"Save all the values in an application model, made up of one or more plain Java getter/setter classes.  In your case, create an `Item` class holding the information for one item and a `GroceryList` class holding a `java.util.List` of `Item` instances.  Pass an instance of the `GroceryList` class to your `JPanels`.","body":"Save all the values in an application model, made up of one or more plain Java getter/setter classes.  In your case, create an <code>Item</code> class holding the information for one item and a <code>GroceryList</code> class holding a <code>java.util.List</code> of <code>Item</code> instances.  Pass an instance of the <code>GroceryList</code> class to your <code>JPanels</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652862152,"post_id":72284184,"comment_id":127706512,"body_markdown":"A more advanced way would be to install your own `CellEditor`s. `JSpinner` would be a good candidate, with the price column having two spinners - the rightmost for pennies","body":"A more advanced way would be to install your own <code>CellEditor</code>s. <code>JSpinner</code> would be a good candidate, with the price column having two spinners - the rightmost for pennies"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652884547,"post_id":72284184,"comment_id":127715818,"body_markdown":"You need to override the `getColumnClass(...)` method of the TableModel. The table can then choose a basic editor to use for the column. Check out: https://stackoverflow.com/questions/3540661/tablemodellistener-and-multiple-column-validation/3541876#3541876 for a basic example that does what you want. This will also help with formatting of the data in each column. Note this approach will only help when editing the table directly. If you are manually adding data to the table you need to do your editing in advance as suggested by Gilbert.","body":"You need to override the <code>getColumnClass(...)</code> method of the TableModel. The table can then choose a basic editor to use for the column. Check out: <a href=\"https://stackoverflow.com/questions/3540661/tablemodellistener-and-multiple-column-validation/3541876#3541876\" title=\"tablemodellistener and multiple column validation\">stackoverflow.com/questions/3540661/&hellip;</a> for a basic example that does what you want. This will also help with formatting of the data in each column. Note this approach will only help when editing the table directly. If you are manually adding data to the table you need to do your editing in advance as suggested by Gilbert."}],"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652884244,"creation_date":1652855561,"question_id":72284184,"body_markdown":"I&#39;m trying to create a simple grocery list GUI using JTable, before I go to the problem here is my code:\r\n\r\n\r\n      package com.main;\r\n      import java.awt.*;\r\n      import javax.swing.*;\r\n      import javax.swing.table.DefaultTableModel;\r\n      import java.awt.event.*;\r\n\r\n    public class Whatttt extends JFrame implements ActionListener {\r\n             JTable table;\r\n             JScrollPane scrollpane;\r\n             JButton addItem;\r\n             JTextField itemName, itemAmount, itemPrice;\r\n             DefaultTableModel model;\r\n    public Whatttt(){\r\n\t\r\n\t  super(&quot;List n\\&#39; Go&quot;);\r\n\t  setResizable(false);\r\n      setLayout(new FlowLayout());\r\n\r\n      itemName = new JTextField(&quot;Enter Item Name&quot;);\r\n      add(itemName);\r\n\r\n      itemAmount = new JTextField(&quot;Enter Item Amount&quot;);\r\n      add(itemAmount);\r\n\r\n      itemPrice = new JTextField(&quot;Enter Item Price&quot;);\r\n      add(itemPrice);\r\n\r\n      addItem = new JButton(&quot;Add Item&quot;);\r\n      add(addItem);\r\n      addItem.addActionListener(this);\r\n    \r\n      String [] columnnames = {&quot;Item name&quot;, &quot;Item Amount&quot;, &quot;Item Price&quot;,&quot;Total Price&quot;};\r\n      String [] [] data = {{&quot;test&quot;, &quot;test&quot;, &quot;test&quot;,&quot;test&quot;}};\r\n\r\n      model = new DefaultTableModel(data, columnnames);\r\n      table = new JTable(model);\r\n      table.setPreferredScrollableViewportSize(new Dimension(450,500));\r\n      table.setFillsViewportHeight(true);\r\n      \r\n      table.getColumnModel().getColumn(0).setPreferredWidth(300);\r\n      table.getColumnModel().getColumn(1).setPreferredWidth(100);\r\n      table.getColumnModel().getColumn(2).setPreferredWidth(100);\r\n      table.getColumnModel().getColumn(3).setPreferredWidth(100);\r\n\r\n\r\n      scrollpane =new JScrollPane(table);\r\n      add(scrollpane);\r\n\r\n\t\r\n\t}\r\n    public static void main (String []args){\r\n            Whatttt mainpage = new Whatttt();\r\n            mainpage.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            mainpage.setSize(600,800);\r\n            mainpage.setVisible(true);\r\n            mainpage.setResizable(false);\r\n        }\r\n\r\n     public void actionPerformed(ActionEvent e) {\r\n     if(e.getSource() == addItem){\r\n  \r\n    String item = itemName.getText();\r\n    String amount= itemAmount.getText();\r\n    String price = itemPrice.getText();\r\n    String totalPrice = itemPrice.getText();\r\n\r\n     model.insertRow(table.getRowCount(),new Object[]{item, amount, price, totalPrice});\r\n \r\n        }\r\n      }\r\n      }\r\nThe problem is I want to set a specific column to accept only 1 data type, for example the column &quot;Item amount&quot; will only accept int values, and the &quot;price amount&quot; will only accept double values from the user input. \r\n\r\nalso how do you get the values from from a column? for example I want to get the value from &quot;Item amount&quot; and &quot;price amount&quot;, multiply it and add it to column &quot;Total Price. I&#39;m still trying to learn and this serves as a practice for me, any kind of help is much appreciated.","title":"How to set a JTable column to accept only a specific data type?","body":"<p>I'm trying to create a simple grocery list GUI using JTable, before I go to the problem here is my code:</p>\n<pre><code>  package com.main;\n  import java.awt.*;\n  import javax.swing.*;\n  import javax.swing.table.DefaultTableModel;\n  import java.awt.event.*;\n\npublic class Whatttt extends JFrame implements ActionListener {\n         JTable table;\n         JScrollPane scrollpane;\n         JButton addItem;\n         JTextField itemName, itemAmount, itemPrice;\n         DefaultTableModel model;\npublic Whatttt(){\n\n  super(&quot;List n\\' Go&quot;);\n  setResizable(false);\n  setLayout(new FlowLayout());\n\n  itemName = new JTextField(&quot;Enter Item Name&quot;);\n  add(itemName);\n\n  itemAmount = new JTextField(&quot;Enter Item Amount&quot;);\n  add(itemAmount);\n\n  itemPrice = new JTextField(&quot;Enter Item Price&quot;);\n  add(itemPrice);\n\n  addItem = new JButton(&quot;Add Item&quot;);\n  add(addItem);\n  addItem.addActionListener(this);\n\n  String [] columnnames = {&quot;Item name&quot;, &quot;Item Amount&quot;, &quot;Item Price&quot;,&quot;Total Price&quot;};\n  String [] [] data = {{&quot;test&quot;, &quot;test&quot;, &quot;test&quot;,&quot;test&quot;}};\n\n  model = new DefaultTableModel(data, columnnames);\n  table = new JTable(model);\n  table.setPreferredScrollableViewportSize(new Dimension(450,500));\n  table.setFillsViewportHeight(true);\n  \n  table.getColumnModel().getColumn(0).setPreferredWidth(300);\n  table.getColumnModel().getColumn(1).setPreferredWidth(100);\n  table.getColumnModel().getColumn(2).setPreferredWidth(100);\n  table.getColumnModel().getColumn(3).setPreferredWidth(100);\n\n\n  scrollpane =new JScrollPane(table);\n  add(scrollpane);\n\n\n}\npublic static void main (String []args){\n        Whatttt mainpage = new Whatttt();\n        mainpage.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        mainpage.setSize(600,800);\n        mainpage.setVisible(true);\n        mainpage.setResizable(false);\n    }\n\n public void actionPerformed(ActionEvent e) {\n if(e.getSource() == addItem){\n\nString item = itemName.getText();\nString amount= itemAmount.getText();\nString price = itemPrice.getText();\nString totalPrice = itemPrice.getText();\n\n model.insertRow(table.getRowCount(),new Object[]{item, amount, price, totalPrice});\n\n    }\n  }\n  }\n</code></pre>\n<p>The problem is I want to set a specific column to accept only 1 data type, for example the column &quot;Item amount&quot; will only accept int values, and the &quot;price amount&quot; will only accept double values from the user input.</p>\n<p>also how do you get the values from from a column? for example I want to get the value from &quot;Item amount&quot; and &quot;price amount&quot;, multiply it and add it to column &quot;Total Price. I'm still trying to learn and this serves as a practice for me, any kind of help is much appreciated.</p>\n"},{"tags":["java","apache-spark","delta-lake"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1652870002,"post_id":72286211,"comment_id":127709520,"body_markdown":"what Spark version is used?","body":"what Spark version is used?"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1652873860,"post_id":72286211,"comment_id":127710960,"body_markdown":"version is spark:v3.2.1","body":"version is spark:v3.2.1"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652883996,"creation_date":1652883996,"answer_id":72291038,"question_id":72286211,"body_markdown":"There are few problems with your `spark-submit`:\r\n\r\n* there should be only one `--packages` - all packages needs to be listed separated by comma (see [docs][1])\r\n* you don&#39;t need `io.delta:delta-standalone_2.13:1.1.0` and `org.scala-lang:scala-library:2.13.8` dependencies\r\n* you&#39;re using wrong version of `io.delta:delta-core` library - for Spark 3.2.1 you need to use version 1.2.0 (see [compatibility matrix][2]).  Plus you need to use version compiled for Scala 2.12, but you&#39;re using compiled for Scala 2.13.  So it should be `io.delta:delta-core_2.12:1.2.0` instead.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/configuration.html\r\n  [2]: https://docs.delta.io/latest/releases.html#compatibility-with-apache-spark","title":"Java Spark job submission using the Delta Lake library","body":"<p>There are few problems with your <code>spark-submit</code>:</p>\n<ul>\n<li>there should be only one <code>--packages</code> - all packages needs to be listed separated by comma (see <a href=\"https://spark.apache.org/docs/latest/configuration.html\" rel=\"nofollow noreferrer\">docs</a>)</li>\n<li>you don't need <code>io.delta:delta-standalone_2.13:1.1.0</code> and <code>org.scala-lang:scala-library:2.13.8</code> dependencies</li>\n<li>you're using wrong version of <code>io.delta:delta-core</code> library - for Spark 3.2.1 you need to use version 1.2.0 (see <a href=\"https://docs.delta.io/latest/releases.html#compatibility-with-apache-spark\" rel=\"nofollow noreferrer\">compatibility matrix</a>).  Plus you need to use version compiled for Scala 2.12, but you're using compiled for Scala 2.13.  So it should be <code>io.delta:delta-core_2.12:1.2.0</code> instead.</li>\n</ul>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652883996,"creation_date":1652864724,"question_id":72286211,"body_markdown":"I am trying to run a spark submit job in order to access the Delta Lake buckets.\r\n\r\nThe spark submit command which i am giving is as :\r\n\r\n     command: [\r\n            &quot;/bin/sh&quot;,\r\n            &quot;-c&quot;,\r\n            &quot;/opt/spark/bin/spark-submit \\\r\n          --master k8s://https://kubernetes.default.svc \\\r\n          --deploy-mode cluster \\\r\n          --conf spark.kubernetes.container.image=123456789.dkr.ecr.ap-south-1.amazonaws.com/poc:v9 \\\r\n          --conf spark.driver.extraJavaOptions=&#39;-Divy.cache.dir=/tmp -Divy.home=/tmp&#39; \\\r\n          --conf spark.app.name=txn-poc \\\r\n          --conf spark.jars.ivy=/tmp/.ivy \\\r\n          --conf spark.kubernetes.driverEnv.HTTP2_DISABLE=true \\\r\n          --conf spark.kubernetes.namespace=argo \\\r\n          --conf spark.executor.instances=1 \\\r\n          --packages org.postgresql:postgresql:42.1.4 \\\r\n          --packages io.delta:delta-standalone_2.13:1.1.0 \\\r\n          --packages io.delta:delta-core_2.13:1.1.0  \\\r\n          --packages org.scala-lang:scala-library:2.13.8 \\\r\n          --packages org.apache.hadoop:hadoop-aws:3.3.1 \\\r\n          --conf spark.kubernetes.driver.pod.name=txn \\\r\n          --conf spark.kubernetes.executor.limit.cores=1000m \\\r\n          --conf spark.kubernetes.executor.request.cores=500m \\\r\n          --conf spark.kubernetes.authenticate.driver.serviceAccountName=default \\\r\n          --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\r\n          --conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog \\\r\n          --class com.arcesium.performa.data.table.pipeline.app.SparkPOCApp \\\r\n\r\nWhen running its giving error in finding the Delta Lake packages \r\nFollowing error is seen when running it \r\n\r\n    22/05/18 08:45:52 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, txn-poc-6cff5980d657babc-driver-svc.argo.svc, 7079, None)\r\n    22/05/18 08:45:59 INFO KubernetesClusterSchedulerBackend$KubernetesDriverEndpoint: Registered executor NettyRpcEndpointRef(spark-client://Executor) (10.0.2.236:52042) with ID 1,  ResourceProfileId 0\r\n    22/05/18 08:45:59 INFO KubernetesClusterSchedulerBackend: SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.8\r\n    22/05/18 08:45:59 WARN SparkSession: Cannot use io.delta.sql.DeltaSparkSessionExtension to configure session extensions.\r\n    java.lang.ClassNotFoundException: io.delta.sql.DeltaSparkSessionExtension\r\n    \tat java.base/java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Unknown Source)\r\n    \tat org.apache.spark.util.Utils$.classForName(Utils.scala:216)\r\n    \tat org.apache.spark.sql.SparkSession$.$anonfun$applyExtensions$1(SparkSession.scala:1194)\r\n    \tat org.apache.spark.sql.SparkSession$.$anonfun$applyExtensions$1$adapted(SparkSession.scala:1192)\r\n    \tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n    \tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n    \tat org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$applyExtensions(SparkSess\r\n\r\n\r\nPlease suggest what is being missed in running arguments","title":"Java Spark job submission using the Delta Lake library","body":"<p>I am trying to run a spark submit job in order to access the Delta Lake buckets.</p>\n<p>The spark submit command which i am giving is as :</p>\n<pre><code> command: [\n        &quot;/bin/sh&quot;,\n        &quot;-c&quot;,\n        &quot;/opt/spark/bin/spark-submit \\\n      --master k8s://https://kubernetes.default.svc \\\n      --deploy-mode cluster \\\n      --conf spark.kubernetes.container.image=123456789.dkr.ecr.ap-south-1.amazonaws.com/poc:v9 \\\n      --conf spark.driver.extraJavaOptions='-Divy.cache.dir=/tmp -Divy.home=/tmp' \\\n      --conf spark.app.name=txn-poc \\\n      --conf spark.jars.ivy=/tmp/.ivy \\\n      --conf spark.kubernetes.driverEnv.HTTP2_DISABLE=true \\\n      --conf spark.kubernetes.namespace=argo \\\n      --conf spark.executor.instances=1 \\\n      --packages org.postgresql:postgresql:42.1.4 \\\n      --packages io.delta:delta-standalone_2.13:1.1.0 \\\n      --packages io.delta:delta-core_2.13:1.1.0  \\\n      --packages org.scala-lang:scala-library:2.13.8 \\\n      --packages org.apache.hadoop:hadoop-aws:3.3.1 \\\n      --conf spark.kubernetes.driver.pod.name=txn \\\n      --conf spark.kubernetes.executor.limit.cores=1000m \\\n      --conf spark.kubernetes.executor.request.cores=500m \\\n      --conf spark.kubernetes.authenticate.driver.serviceAccountName=default \\\n      --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n      --conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog \\\n      --class com.arcesium.performa.data.table.pipeline.app.SparkPOCApp \\\n</code></pre>\n<p>When running its giving error in finding the Delta Lake packages\nFollowing error is seen when running it</p>\n<pre><code>22/05/18 08:45:52 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, txn-poc-6cff5980d657babc-driver-svc.argo.svc, 7079, None)\n22/05/18 08:45:59 INFO KubernetesClusterSchedulerBackend$KubernetesDriverEndpoint: Registered executor NettyRpcEndpointRef(spark-client://Executor) (10.0.2.236:52042) with ID 1,  ResourceProfileId 0\n22/05/18 08:45:59 INFO KubernetesClusterSchedulerBackend: SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.8\n22/05/18 08:45:59 WARN SparkSession: Cannot use io.delta.sql.DeltaSparkSessionExtension to configure session extensions.\njava.lang.ClassNotFoundException: io.delta.sql.DeltaSparkSessionExtension\n    at java.base/java.net.URLClassLoader.findClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Unknown Source)\n    at org.apache.spark.util.Utils$.classForName(Utils.scala:216)\n    at org.apache.spark.sql.SparkSession$.$anonfun$applyExtensions$1(SparkSession.scala:1194)\n    at org.apache.spark.sql.SparkSession$.$anonfun$applyExtensions$1$adapted(SparkSession.scala:1192)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$applyExtensions(SparkSess\n</code></pre>\n<p>Please suggest what is being missed in running arguments</p>\n"},{"tags":["java","maven","sentry"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1652884406,"post_id":72291018,"comment_id":127715755,"body_markdown":"The guide is pretty clear to me... make sure you start from the bottom and not the top!. The part at the bottom is for the migration from 1.x to 4.x (which I would suggest first), make sure it compiles/works, then pick the next version.","body":"The guide is pretty clear to me... make sure you start from the bottom and not the top!. The part at the bottom is for the migration from 1.x to 4.x (which I would suggest first), make sure it compiles/works, then pick the next version."},{"owner":{"account_id":25325192,"reputation":3,"user_id":19145957,"display_name":"user19145957"},"score":0,"creation_date":1652885580,"post_id":72291018,"comment_id":127716334,"body_markdown":"It&#39;s clear, but it doesn&#39;t seem to be complete. What packages are deprecated? I followed the guide step by step, and still getting many errors. I can go one by one of course, but I wouldn&#39;t say that&#39;s a migration, that&#39;s complete refactoring. \n\nYou can see here the packages removed between versions:\nhttps://javadoc.io/doc/io.sentry/sentry/3.0.0/index.html\nhttps://javadoc.io/doc/io.sentry/sentry/1.7.30/index.html\n\nIf there is no cleaner solution, so be it, was just wondering.","body":"It&#39;s clear, but it doesn&#39;t seem to be complete. What packages are deprecated? I followed the guide step by step, and still getting many errors. I can go one by one of course, but I wouldn&#39;t say that&#39;s a migration, that&#39;s complete refactoring.   You can see here the packages removed between versions: <a href=\"https://javadoc.io/doc/io.sentry/sentry/3.0.0/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.sentry/sentry/3.0.0/index.html</a> <a href=\"https://javadoc.io/doc/io.sentry/sentry/1.7.30/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.sentry/sentry/1.7.30/index.html</a>  If there is no cleaner solution, so be it, was just wondering."},{"owner":{"account_id":25325192,"reputation":3,"user_id":19145957,"display_name":"user19145957"},"score":0,"creation_date":1652898010,"post_id":72291018,"comment_id":127721076,"body_markdown":"@M.Deinum I appreciate the help. I was able to get it working by removing the old packages out and refactoring our code. However, that migration document is certainly not comprehensive.","body":"@M.Deinum I appreciate the help. I was able to get it working by removing the old packages out and refactoring our code. However, that migration document is certainly not comprehensive."},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1652932742,"post_id":72291018,"comment_id":127728697,"body_markdown":"@user19145957 feel free to create an issue in https://github.com/getsentry/sentry-docs or even better a PR with missing steps. I&#39;m sorry to hear you had problems, we tried to make the migration guide as complete as possible.","body":"@user19145957 feel free to create an issue in <a href=\"https://github.com/getsentry/sentry-docs\" rel=\"nofollow noreferrer\">github.com/getsentry/sentry-docs</a> or even better a PR with missing steps. I&#39;m sorry to hear you had problems, we tried to make the migration guide as complete as possible."}],"owner":{"account_id":25325192,"reputation":3,"user_id":19145957,"display_name":"user19145957"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652883936,"creation_date":1652883936,"question_id":72291018,"body_markdown":"I&#39;ve been tasked with updating our manual Sentry Java implementation from their legacy SDK v1.7.3 to the newest version 5.7.4. \r\n\r\nSentry&#39;s Migration guide seems to be lacking many steps that would need to be included in this migration. \r\n\r\nhttps://docs.sentry.io/platforms/java/migration/\r\n\r\nYou can see here, that only a few changes are listed, but whole packages have been removed, such as io.sentry.event.\r\n\r\nSo my question is, is there a simpler migration path than manually refactoring everything? Or at least a guide that is more clear?\r\n\r\nI&#39;m not very familiar with Sentry so I apologize if I&#39;m incorrect in anything I&#39;ve stated. ","title":"Updating/Migrating Sentry java from 1.7.3 to 5.7.4","body":"<p>I've been tasked with updating our manual Sentry Java implementation from their legacy SDK v1.7.3 to the newest version 5.7.4.</p>\n<p>Sentry's Migration guide seems to be lacking many steps that would need to be included in this migration.</p>\n<p><a href=\"https://docs.sentry.io/platforms/java/migration/\" rel=\"nofollow noreferrer\">https://docs.sentry.io/platforms/java/migration/</a></p>\n<p>You can see here, that only a few changes are listed, but whole packages have been removed, such as io.sentry.event.</p>\n<p>So my question is, is there a simpler migration path than manually refactoring everything? Or at least a guide that is more clear?</p>\n<p>I'm not very familiar with Sentry so I apologize if I'm incorrect in anything I've stated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9784322,"reputation":143,"user_id":7251133,"display_name":"Florian H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652875938,"creation_date":1652875938,"answer_id":72288959,"question_id":72287075,"body_markdown":"Take a look at [`org.apache.commons.collections4.MultiSet`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiSet.html) and its `getCount`, it probably fits your need.","title":"Collect similar objects in ArrayList","body":"<p>Take a look at <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiSet.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.collections4.MultiSet</code></a> and its <code>getCount</code>, it probably fits your need.</p>\n"},{"tags":[],"owner":{"account_id":25322752,"reputation":1,"user_id":19143816,"display_name":"Sandiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652883696,"creation_date":1652883696,"answer_id":72290961,"question_id":72287075,"body_markdown":"This uses toString() as key, in which the toString() contains unitType, name and health. Then it checks if the map contains such a key, if not it puts a new one in. If it exist then it adds it to a list connected to the key.\r\n\r\n```\r\n/**\r\n     * Method to collect same units into map.\r\n     * Used to display amount of units in GUI.\r\n     * @return Map of string and a list of units connected to said string.\r\n     */\r\n    public Map&lt;String, List&lt;Unit&gt;&gt; getSortedList() {\r\n        HashMap&lt;String, List&lt;Unit&gt;&gt; sortedUnits = new HashMap&lt;&gt;();\r\n\r\n        for (Unit u : units) {\r\n            if (sortedUnits.containsKey(u.toString())) {\r\n                sortedUnits.get(u.toString()).add(u);\r\n            } else {\r\n                List&lt;Unit&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(u);\r\n                sortedUnits.put(u.toString(), list);\r\n            }\r\n        }\r\n\r\n        return sortedUnits;\r\n    }\r\n```\r\n\r\nThis method works as the list connected to the toString() key could be checked with list.size().","title":"Collect similar objects in ArrayList","body":"<p>This uses toString() as key, in which the toString() contains unitType, name and health. Then it checks if the map contains such a key, if not it puts a new one in. If it exist then it adds it to a list connected to the key.</p>\n<pre><code>/**\n     * Method to collect same units into map.\n     * Used to display amount of units in GUI.\n     * @return Map of string and a list of units connected to said string.\n     */\n    public Map&lt;String, List&lt;Unit&gt;&gt; getSortedList() {\n        HashMap&lt;String, List&lt;Unit&gt;&gt; sortedUnits = new HashMap&lt;&gt;();\n\n        for (Unit u : units) {\n            if (sortedUnits.containsKey(u.toString())) {\n                sortedUnits.get(u.toString()).add(u);\n            } else {\n                List&lt;Unit&gt; list = new ArrayList&lt;&gt;();\n                list.add(u);\n                sortedUnits.put(u.toString(), list);\n            }\n        }\n\n        return sortedUnits;\n    }\n</code></pre>\n<p>This method works as the list connected to the toString() key could be checked with list.size().</p>\n"}],"owner":{"account_id":25322752,"reputation":1,"user_id":19143816,"display_name":"Sandiss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652883696,"creation_date":1652868203,"question_id":72287075,"body_markdown":"I am trying to create a method which collects all objects from an ArrayList, and then adds up the similar object creating a name and amount map, of sorts. I would like the method to be able to check the type, name and hp, and if all are the same, amount should be incremented and perhaps delete the other one? After this it is supposed to represented in JavaFX GUI in an observablelist.\r\n\r\nThe objects in this example is units from a simulation, in which the 8 represented in the photo, should be showed as: \r\nType: InfantryUnit, \r\nName: Test, \r\nHP: 10\r\nAmount: 8.\r\n\r\n[JavaFX GUI for representing data][1]\r\n\r\n\r\nI have attempted a few solutions, but with no avail. I expect a map of sorts will be necessary but have not found a good way to collect and display the amount of units. Also while also retrieving the amount of units to actually be used to simulate.\r\n\r\nAny help would be greatly appreciated!\r\n\r\nCode:\r\nUnits class is a super class to 4 subtypes: Infantry, ranged, cavalry and commander(Subtype of cavalry).\r\n```\r\npublic abstract class Unit implements Bonuses {\r\n    private String name;\r\n\r\n    private int health; //Total health, means the unit can take more damage before dying.\r\n    private int attack; //Attack value to decide how much health each attack does.\r\n    private int armor; //Defense value to decide resistance to attacks.\r\n\r\n    private boolean isAlive; //Boolean which tells if a unit is dead or alive.\r\n    private int hitsDealt; //Count hits dealt.\r\n    private int hitsTaken; //Count hits received.\r\n    private String className; //The type of unit, infantry/ranged etc.\r\n    private terrain terrain; //Enum terrain from bonus interface.\r\n\r\n    public Unit(String name, int health, int attack, int armor) {\r\n        setName(name);\r\n        setHealth(health);\r\n        this.attack = attack;\r\n        this.armor = armor;\r\n        className = getClass().getSimpleName();\r\n        hitsDealt = 0;\r\n        hitsTaken = 0;\r\n    }\r\n```\r\n\r\nArmy class is just meant to represent a list of units as such. This is the place i&#39;d like to implement the method mentioned above.\r\n```\r\npublic class Army {\r\n    private String name;\r\n    private List&lt;Unit&gt; units;\r\n    private Random randomUnit;\r\n\r\n    /**\r\n     * Constructor of the army class.\r\n     *\r\n     * @param name Name of army.\r\n     */\r\n    public Army(String name) {\r\n        this.name = name;\r\n        units = new ArrayList&lt;&gt;();\r\n        this.randomUnit = new Random();\r\n    }\r\n```\r\n  [1]: https://i.stack.imgur.com/ZHfqk.png","title":"Collect similar objects in ArrayList","body":"<p>I am trying to create a method which collects all objects from an ArrayList, and then adds up the similar object creating a name and amount map, of sorts. I would like the method to be able to check the type, name and hp, and if all are the same, amount should be incremented and perhaps delete the other one? After this it is supposed to represented in JavaFX GUI in an observablelist.</p>\n<p>The objects in this example is units from a simulation, in which the 8 represented in the photo, should be showed as:\nType: InfantryUnit,\nName: Test,\nHP: 10\nAmount: 8.</p>\n<p><a href=\"https://i.stack.imgur.com/ZHfqk.png\" rel=\"nofollow noreferrer\">JavaFX GUI for representing data</a></p>\n<p>I have attempted a few solutions, but with no avail. I expect a map of sorts will be necessary but have not found a good way to collect and display the amount of units. Also while also retrieving the amount of units to actually be used to simulate.</p>\n<p>Any help would be greatly appreciated!</p>\n<p>Code:\nUnits class is a super class to 4 subtypes: Infantry, ranged, cavalry and commander(Subtype of cavalry).</p>\n<pre><code>public abstract class Unit implements Bonuses {\n    private String name;\n\n    private int health; //Total health, means the unit can take more damage before dying.\n    private int attack; //Attack value to decide how much health each attack does.\n    private int armor; //Defense value to decide resistance to attacks.\n\n    private boolean isAlive; //Boolean which tells if a unit is dead or alive.\n    private int hitsDealt; //Count hits dealt.\n    private int hitsTaken; //Count hits received.\n    private String className; //The type of unit, infantry/ranged etc.\n    private terrain terrain; //Enum terrain from bonus interface.\n\n    public Unit(String name, int health, int attack, int armor) {\n        setName(name);\n        setHealth(health);\n        this.attack = attack;\n        this.armor = armor;\n        className = getClass().getSimpleName();\n        hitsDealt = 0;\n        hitsTaken = 0;\n    }\n</code></pre>\n<p>Army class is just meant to represent a list of units as such. This is the place i'd like to implement the method mentioned above.</p>\n<pre><code>public class Army {\n    private String name;\n    private List&lt;Unit&gt; units;\n    private Random randomUnit;\n\n    /**\n     * Constructor of the army class.\n     *\n     * @param name Name of army.\n     */\n    public Army(String name) {\n        this.name = name;\n        units = new ArrayList&lt;&gt;();\n        this.randomUnit = new Random();\n    }\n</code></pre>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":2,"creation_date":1324985762,"post_id":8644149,"comment_id":10736940,"body_markdown":"It is not forced by compiler. It is [a naming convention defined in JLS](http://java.sun.com/docs/books/jls/third_edition/html/names.html#6.8.2).","body":"It is not forced by compiler. It is <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/names.html#6.8.2\" rel=\"nofollow noreferrer\">a naming convention defined in JLS</a>."},{"owner":{"account_id":43105,"reputation":227352,"user_id":125816,"accept_rate":100,"display_name":"Sergio Tulentsev"},"score":1,"creation_date":1324985855,"post_id":8644149,"comment_id":10736966,"body_markdown":"This code **SHOULD NOT** compile. Invalid syntax.","body":"This code <b>SHOULD NOT</b> compile. Invalid syntax."},{"owner":{"account_id":1129551,"reputation":555,"user_id":1115942,"accept_rate":78,"display_name":"JasonB"},"score":1,"creation_date":1324986480,"post_id":8644149,"comment_id":10737071,"body_markdown":"Sergei, Can you explain why you said invalid syntax? what is wrong?","body":"Sergei, Can you explain why you said invalid syntax? what is wrong?"}],"answers":[{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1324985546,"creation_date":1324985546,"answer_id":8644168,"question_id":8644149,"body_markdown":"It&#39;s a convention, not a compiler rule. \r\n\r\nYou can break it if you wish, but I recommend following the convention.\r\n\r\n","title":"Java naming convention","body":"<p>It's a convention, not a compiler rule. </p>\n\n<p>You can break it if you wish, but I recommend following the convention.</p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324985547,"creation_date":1324985547,"answer_id":8644169,"question_id":8644149,"body_markdown":"It&#39;s a convention that class names start with upper case, but the compiler does not enforce it. Same with method names (though they start with lower case).\r\n\r\nI have *never* seen class names with lower case. Just don&#39;t do it.","title":"Java naming convention","body":"<p>It's a convention that class names start with upper case, but the compiler does not enforce it. Same with method names (though they start with lower case).</p>\n\n<p>I have <em>never</em> seen class names with lower case. Just don't do it.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1324985575,"creation_date":1324985575,"answer_id":8644172,"question_id":8644149,"body_markdown":"Naming conventions are just *conventions*, not rules. The Java language spec doesn&#39;t care either way. But if you don&#39;t stick to the conventions, your code will be difficult for other people to read and understand, so you really should stick to them.","title":"Java naming convention","body":"<p>Naming conventions are just <em>conventions</em>, not rules. The Java language spec doesn't care either way. But if you don't stick to the conventions, your code will be difficult for other people to read and understand, so you really should stick to them.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652536455,"creation_date":1324985586,"answer_id":8644174,"question_id":8644149,"body_markdown":"It’s not about compiler syntax. It is about following coding conventions.\r\n\r\nAnd you missed the convention in your code\r\n\r\n**See**\r\n\r\n - [Code Conventions for the Java Programming Language][1]\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconv-138413.html\r\n\r\n\r\n","title":"Java naming convention","body":"<p>It’s not about compiler syntax. It is about following coding conventions.</p>\n<p>And you missed the convention in your code</p>\n<p><strong>See</strong></p>\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/codeconv-138413.html\" rel=\"nofollow noreferrer\">Code Conventions for the Java Programming Language</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":43105,"reputation":227352,"user_id":125816,"accept_rate":100,"display_name":"Sergio Tulentsev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652536501,"creation_date":1324985592,"answer_id":8644177,"question_id":8644149,"body_markdown":"The Java compiler doesn&#39;t enforce naming conventions. It&#39;s called a *convention* for a reason: to facilitate reading of code. For example, when you see an `orange`, it&#39;s probably a variable, and there isn&#39;t any need to go look it up. And in your case, readers of your code will be *quite* surprised.\r\n","title":"Java naming convention","body":"<p>The Java compiler doesn't enforce naming conventions. It's called a <em>convention</em> for a reason: to facilitate reading of code. For example, when you see an <code>orange</code>, it's probably a variable, and there isn't any need to go look it up. And in your case, readers of your code will be <em>quite</em> surprised.</p>\n"},{"tags":[],"owner":{"account_id":1018203,"reputation":3271,"user_id":1029272,"display_name":"Deco"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1324986084,"creation_date":1324985640,"answer_id":8644184,"question_id":8644149,"body_markdown":"You have broken the naming convention, not the syntax of the language - which is why your code compiles without error.\r\n\r\nNaming conventions are used primarily to improve readability in source code and to reduce the effort needed to understand the code.","title":"Java naming convention","body":"<p>You have broken the naming convention, not the syntax of the language - which is why your code compiles without error.</p>\n\n<p>Naming conventions are used primarily to improve readability in source code and to reduce the effort needed to understand the code.</p>\n"},{"tags":[],"owner":{"account_id":990854,"reputation":20670,"user_id":1008222,"accept_rate":84,"display_name":"Mithun Sasidharan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1652882886,"creation_date":1324985673,"answer_id":8644190,"question_id":8644149,"body_markdown":"&gt; A naming convention is a rule to follow as you decide what to name\r\n&gt; your identifiers (e.g. class, package, variable, method, etc..) and it\r\n&gt; is not an EXCEPTION.\r\n\r\n\r\n\r\nA good programmer must and will follow the naming conventions specified in any programming language for a neat and effective program.\r\n\r\nRefer to [this page][1] for more Java naming conventions.\r\n\r\n  [1]: http://java.about.com/od/javasyntax/a/nameconventions.htm\r\n","title":"Java naming convention","body":"<blockquote>\n<p>A naming convention is a rule to follow as you decide what to name\nyour identifiers (e.g. class, package, variable, method, etc..) and it\nis not an EXCEPTION.</p>\n</blockquote>\n<p>A good programmer must and will follow the naming conventions specified in any programming language for a neat and effective program.</p>\n<p>Refer to <a href=\"http://java.about.com/od/javasyntax/a/nameconventions.htm\" rel=\"nofollow noreferrer\">this page</a> for more Java naming conventions.</p>\n"},{"tags":[],"owner":{"account_id":1214466,"reputation":324,"user_id":1182341,"accept_rate":12,"display_name":"ankit rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652883246,"creation_date":1328153668,"answer_id":9106813,"question_id":8644149,"body_markdown":"Java is a language which is widely used worldwide. There are lot of applications built in Java every moment.\r\n\r\nIt is not necessary that the same code will be worked upon / maintained by the same developer throughout its lifetime. Hence, to avoid ambiguity and keep it simple to understand and reuse, a naming convention is followed.\r\n\r\nGuess what would happen if each of us use our own conventions. It will put an adverse effect on code reusability, because it will take lot of time for other programmers to understand the code before working on it. Hence, it is required that every Java developer knows and follows the standard protocols so that each of are on same page.\r\n\r\n\r\n\r\n\r\n","title":"Java naming convention","body":"<p>Java is a language which is widely used worldwide. There are lot of applications built in Java every moment.</p>\n<p>It is not necessary that the same code will be worked upon / maintained by the same developer throughout its lifetime. Hence, to avoid ambiguity and keep it simple to understand and reuse, a naming convention is followed.</p>\n<p>Guess what would happen if each of us use our own conventions. It will put an adverse effect on code reusability, because it will take lot of time for other programmers to understand the code before working on it. Hence, it is required that every Java developer knows and follows the standard protocols so that each of are on same page.</p>\n"}],"owner":{"account_id":1129551,"reputation":555,"user_id":1115942,"accept_rate":78,"display_name":"JasonB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6354,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":8644190,"answer_count":8,"score":3,"last_activity_date":1652883340,"creation_date":1324985441,"question_id":8644149,"body_markdown":"I have been trying to learn Java for the past week, and have been able to produce reasonable codes so far. However, I seem to have a problem in understanding the Java naming convention.\r\n\r\nI just looked at a tutorial which says that class names should start with an upper case. If I look at the codes so far I have wrote, I have actually used lower case names, such as:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    class orange implements Comparator {\r\n        public int mango(...) {\r\n        }\r\n    }\r\n\r\n    class jason {\r\n        public static void main(String args[]) throws java.io.IOException {\r\n            {\r\n                // Content here\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see, both my class names start with a lower case.\r\n\r\nWhen I compile and execute the program, I don&#39;t get any compile errors, and everything works as expected. I should have thought, since the class name starts with lower case, it would end up with a compile error: but this hasn&#39;t happened. Why?\r\n\r\nIf it helps, I run [OpenJDK][1] and [IcedTea][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://en.wikipedia.org/wiki/IcedTea\r\n\r\n\r\n","title":"Java naming convention","body":"<p>I have been trying to learn Java for the past week, and have been able to produce reasonable codes so far. However, I seem to have a problem in understanding the Java naming convention.</p>\n<p>I just looked at a tutorial which says that class names should start with an upper case. If I look at the codes so far I have wrote, I have actually used lower case names, such as:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass orange implements Comparator {\n    public int mango(...) {\n    }\n}\n\nclass jason {\n    public static void main(String args[]) throws java.io.IOException {\n        {\n            // Content here\n        }\n    }\n}\n</code></pre>\n<p>As you can see, both my class names start with a lower case.</p>\n<p>When I compile and execute the program, I don't get any compile errors, and everything works as expected. I should have thought, since the class name starts with lower case, it would end up with a compile error: but this hasn't happened. Why?</p>\n<p>If it helps, I run <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> and <a href=\"https://en.wikipedia.org/wiki/IcedTea\" rel=\"nofollow noreferrer\">IcedTea</a>.</p>\n"},{"tags":["java","swing","jtable","cursor","selector"],"comments":[{"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"score":1,"creation_date":1423753132,"post_id":28478119,"comment_id":45283658,"body_markdown":"Seems you need to write a custom `TableCellRenderer` for that. Read [tutorial](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender)","body":"Seems you need to write a custom <code>TableCellRenderer</code> for that. Read <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\" rel=\"nofollow noreferrer\">tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1424023982,"creation_date":1423755822,"answer_id":28481680,"question_id":28478119,"body_markdown":"You would need to add a &quot;row header&quot; to the scroll pane.\r\n\r\nCheck out [Row Number Table](https://tips4java.wordpress.com/2008/11/18/row-number-table/) for an example of this approach. The default implementation displays row numbers with the currently selected line bold.\r\n\r\nYou could customize the renderer to display an &quot;arrow icon&quot; instead of the bold if you want.\r\n\r\nEdit:\r\n\r\nThe only change you need to make to the original code is the following:\r\n\r\n\t@Override\r\n\tpublic Object getValueAt(int row, int column)\r\n\t{\r\n\t\t//return Integer.toString(row + 1);\r\n\t\tif (main.isRowSelected(row))\r\n\t\t    return &quot;\\u25BA&quot;;\r\n\t\telse\r\n\t\t    return &quot; &quot;;\r\n\t}\r\n\r\nThere is no need for a ListSelectionListener. You can just query the row selection when the row is rendered.\r\n\r\nThere is no need to pass a TableModel to the constructor of the RowTableModel.","title":"Displaying a row selector (cursor / pointer) in a JTable","body":"<p>You would need to add a \"row header\" to the scroll pane.</p>\n\n<p>Check out <a href=\"https://tips4java.wordpress.com/2008/11/18/row-number-table/\" rel=\"nofollow\">Row Number Table</a> for an example of this approach. The default implementation displays row numbers with the currently selected line bold.</p>\n\n<p>You could customize the renderer to display an \"arrow icon\" instead of the bold if you want.</p>\n\n<p>Edit:</p>\n\n<p>The only change you need to make to the original code is the following:</p>\n\n<pre><code>@Override\npublic Object getValueAt(int row, int column)\n{\n    //return Integer.toString(row + 1);\n    if (main.isRowSelected(row))\n        return \"\\u25BA\";\n    else\n        return \" \";\n}\n</code></pre>\n\n<p>There is no need for a ListSelectionListener. You can just query the row selection when the row is rendered.</p>\n\n<p>There is no need to pass a TableModel to the constructor of the RowTableModel.</p>\n"},{"tags":[],"owner":{"account_id":19567958,"reputation":1,"user_id":14319673,"display_name":"FUKU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652883323,"creation_date":1652883323,"answer_id":72290848,"question_id":28478119,"body_markdown":"I Used your RowNumberTable and found out that if you play around with the fonts and table sizes the rownumbertable buggs out (gets partially empty/invisible when scrolling).\r\n\r\nMy solution to that was: \r\n\r\n    \r\n\t@Override\r\n\tpublic int getRowHeight(int row) {\r\n\t\tsetRowHeight(main.getRowHeight(row));\r\n\t\treturn main.getRowHeight(row);\r\n\t}","title":"Displaying a row selector (cursor / pointer) in a JTable","body":"<p>I Used your RowNumberTable and found out that if you play around with the fonts and table sizes the rownumbertable buggs out (gets partially empty/invisible when scrolling).</p>\n<p>My solution to that was:</p>\n<pre><code>@Override\npublic int getRowHeight(int row) {\n    setRowHeight(main.getRowHeight(row));\n    return main.getRowHeight(row);\n}\n</code></pre>\n"}],"owner":{"account_id":5777715,"reputation":103,"user_id":4559341,"display_name":"bistrot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28481680,"answer_count":2,"score":2,"last_activity_date":1652883323,"creation_date":1423745973,"question_id":28478119,"body_markdown":"I&#39;m migrating an MS-Access app to Java.\r\nMy concern is about data grids. My first one is ok (JTable in a JScrollPane), but lacks the row selector (cursor) that you can see in MS-Access grids or OpenOffice Base grids. By &quot;row selector&quot;, I mean the little black arrow at the left hand side of the row.\r\nIs there a standard way to achieve this visual effect with JTable.\r\n(I&#39;d also like to know the rationale behind this missing feature : what problem (if any) was Sun trying to avoid by not implementing it ?).\r\n\r\nThanks.  \r\n  \r\n-- EDIT :  Camickr, I&#39;ve used your snippet with the modifications you showed in your edit. It worked great ! Thank you !!!\r\n  \r\n  \r\n  \r\n  \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.beans.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.table.*;\r\n    \r\n    /*\r\n     *    Use a JTable as a renderer for row numbers of a given main table.\r\n     *  This table must be added to the row header of the scrollpane that\r\n     *  contains the main table.\r\n     */\r\n    public class RowNumberTable extends JTable\r\n        implements ChangeListener, PropertyChangeListener, TableModelListener\r\n    {\r\n        private JTable main;\r\n    \r\n        public static void main(String[] args) {\r\n            JTable mainTable = new JTable(new MyTableModel());\r\n            mainTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n            JScrollPane scrollPane = new JScrollPane(mainTable);\r\n            RowNumberTable rowTable = new RowNumberTable(mainTable);\r\n            rowTable.getSelectionModel()\r\n                .addListSelectionListener(rowTable.new RowListener());\r\n            scrollPane.setRowHeaderView(rowTable);\r\n            scrollPane.setCorner(JScrollPane.UPPER_LEFT_CORNER, rowTable.getTableHeader());\r\n    \r\n            // Create a panel to hold all other components\r\n            JPanel topPanel = new JPanel();\r\n            topPanel.setLayout( new BorderLayout() );\r\n            topPanel.add( scrollPane, BorderLayout.CENTER );\r\n    \r\n            // Set the frame characteristics\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle( &quot;Selector&quot; );\r\n            frame.setBackground( Color.gray );\r\n            frame.getContentPane().add( topPanel );\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public RowNumberTable(JTable table)\r\n        {\r\n            main = table;\r\n            main.addPropertyChangeListener( this );\r\n            main.getModel().addTableModelListener( this );\r\n    \r\n            setFocusable( false );\r\n            setAutoCreateColumnsFromModel( false );\r\n            setSelectionModel( main.getSelectionModel() );\r\n    \r\n            TableColumn column = new TableColumn();\r\n            column.setHeaderValue(&quot; &quot;);\r\n            addColumn( column );\r\n            column.setCellRenderer(new RowNumberRenderer());\r\n    \r\n            getColumnModel().getColumn(0).setPreferredWidth(22);\r\n            setPreferredScrollableViewportSize(getPreferredSize());\r\n        }\r\n    \r\n        @Override\r\n        public void addNotify()\r\n        {\r\n            super.addNotify();\r\n    \r\n            Component c = getParent();\r\n    \r\n            //  Keep scrolling of the row table in sync with the main table.\r\n    \r\n            if (c instanceof JViewport)\r\n            {\r\n                JViewport viewport = (JViewport)c;\r\n                viewport.addChangeListener( this );\r\n            }\r\n        }\r\n    \r\n        /*\r\n         *  Delegate method to main table\r\n         */\r\n        @Override\r\n        public int getRowCount()\r\n        {\r\n            return main.getRowCount();\r\n        }\r\n    \r\n        @Override\r\n        public int getRowHeight(int row)\r\n        {\r\n            int rowHeight = main.getRowHeight(row);\r\n    \r\n            if (rowHeight != super.getRowHeight(row))\r\n            {\r\n                super.setRowHeight(row, rowHeight);\r\n            }\r\n    \r\n            return rowHeight;\r\n        }\r\n    \r\n        /*\r\n         *  No model is being used for this table so just use the row number\r\n         *  as the value of the cell.\r\n         */\r\n        @Override\r\n        public Object getValueAt(int row, int column)\r\n        {\r\n            //return Integer.toString(row + 1);\r\n            if (main.isRowSelected(row))\r\n                return &quot;\\u25BA&quot;; // Unicode Black Right-pointing Pointer\r\n            else\r\n                return &quot; &quot;;\r\n        }\r\n    \r\n        /*\r\n         *  Don&#39;t edit data in the main TableModel by mistake\r\n         */\r\n        @Override\r\n        public boolean isCellEditable(int row, int column)\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        /*\r\n         *  Do nothing since the table ignores the model\r\n         */\r\n        @Override\r\n        public void setValueAt(Object value, int row, int column) {}\r\n    \r\n        //\r\n        //  Implement the ChangeListener\r\n        //\r\n        public void stateChanged(ChangeEvent e)\r\n        {\r\n            //  Keep the scrolling of the row table in sync with main table\r\n    \r\n            JViewport viewport = (JViewport) e.getSource();\r\n            JScrollPane scrollPane = (JScrollPane)viewport.getParent();\r\n            scrollPane.getVerticalScrollBar().setValue(viewport.getViewPosition().y);\r\n        }\r\n    \r\n        //\r\n        //  Implement the PropertyChangeListener\r\n        //\r\n        public void propertyChange(PropertyChangeEvent e)\r\n        {\r\n            //  Keep the row table in sync with the main table\r\n    \r\n            if (&quot;selectionModel&quot;.equals(e.getPropertyName()))\r\n            {\r\n                setSelectionModel( main.getSelectionModel() );\r\n            }\r\n    \r\n            if (&quot;rowHeight&quot;.equals(e.getPropertyName()))\r\n            {\r\n                repaint();\r\n            }\r\n    \r\n            if (&quot;model&quot;.equals(e.getPropertyName()))\r\n            {\r\n                main.getModel().addTableModelListener( this );\r\n                revalidate();\r\n            }\r\n        }\r\n    \r\n        //\r\n        //  Implement the TableModelListener\r\n        //\r\n        @Override\r\n        public void tableChanged(TableModelEvent e)\r\n        {\r\n            revalidate();\r\n        }\r\n    \r\n        /*\r\n         *  Attempt to mimic the table header renderer\r\n         */\r\n        private static class RowNumberRenderer extends DefaultTableCellRenderer\r\n        {\r\n            public RowNumberRenderer()\r\n            {\r\n                setHorizontalAlignment(JLabel.CENTER);\r\n            }\r\n    \r\n            public Component getTableCellRendererComponent(\r\n                JTable table, Object value, boolean isSelected, boolean hasFocus,\r\n                int row, int column)\r\n            {\r\n                if (table != null)\r\n                {\r\n                    JTableHeader header = table.getTableHeader();\r\n    \r\n                    if (header != null)\r\n                    {\r\n                        setForeground(header.getForeground());\r\n                        setBackground(header.getBackground());\r\n                        setFont(header.getFont());\r\n                    }\r\n                }\r\n    \r\n                setText((value == null) ? &quot;&quot; : value.toString());\r\n                setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\r\n    \r\n                return this;\r\n            }\r\n        }\r\n    \r\n        private class RowListener implements ListSelectionListener {\r\n            public void valueChanged(ListSelectionEvent event) {\r\n                if (event.getValueIsAdjusting()) {\r\n                    return;\r\n                }\r\n                int row =  main.getSelectedRow();\r\n                System.out.println(&quot;selected row : &quot;  +\r\n                    main.getSelectionModel().getLeadSelectionIndex() + &quot; - &quot; +\r\n                    main.getModel().getValueAt(row, 0) ); \r\n            }\r\n        }\r\n    }\r\n    \r\n    class MyTableModel extends AbstractTableModel {\r\n        private String[] columnNames = {&quot;First Name&quot;,\r\n            &quot;Last Name&quot;,\r\n            &quot;Sport&quot;,\r\n            &quot;# of Years&quot;,\r\n            &quot;Vegetarian&quot;};\r\n        private Object[][] data = {\r\n            {&quot;Kathy&quot;, &quot;Smith&quot;,\r\n                &quot;Snowboarding&quot;, new Integer(5), new Boolean(false)},\r\n            {&quot;John&quot;, &quot;Doe&quot;,\r\n                &quot;Rowing&quot;, new Integer(3), new Boolean(true)},\r\n            {&quot;Sue&quot;, &quot;Black&quot;,\r\n                &quot;Knitting&quot;, new Integer(2), new Boolean(false)},\r\n            {&quot;Jane&quot;, &quot;White&quot;,\r\n                &quot;Speed reading&quot;, new Integer(20), new Boolean(true)},\r\n            {&quot;Joe&quot;, &quot;Brown&quot;,\r\n                &quot;Pool&quot;, new Integer(10), new Boolean(false)}\r\n            };\r\n    \r\n        public int getColumnCount() {\r\n            return columnNames.length;\r\n        }\r\n    \r\n        public int getRowCount() {\r\n            return data.length;\r\n        }\r\n    \r\n        public String getColumnName(int col) {\r\n            return columnNames[col];\r\n        }\r\n    \r\n        public Object getValueAt(int row, int col) {\r\n            return data[row][col];\r\n        }\r\n    \r\n        public Class getColumnClass(int c) {\r\n            return getValueAt(0, c).getClass();\r\n        }\r\n    }\r\n  \r\n  ","title":"Displaying a row selector (cursor / pointer) in a JTable","body":"<p>I'm migrating an MS-Access app to Java.\nMy concern is about data grids. My first one is ok (JTable in a JScrollPane), but lacks the row selector (cursor) that you can see in MS-Access grids or OpenOffice Base grids. By \"row selector\", I mean the little black arrow at the left hand side of the row.\nIs there a standard way to achieve this visual effect with JTable.\n(I'd also like to know the rationale behind this missing feature : what problem (if any) was Sun trying to avoid by not implementing it ?).</p>\n\n<p>Thanks.  </p>\n\n<p>-- EDIT :  Camickr, I've used your snippet with the modifications you showed in your edit. It worked great ! Thank you !!!</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.beans.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.table.*;\n\n/*\n *    Use a JTable as a renderer for row numbers of a given main table.\n *  This table must be added to the row header of the scrollpane that\n *  contains the main table.\n */\npublic class RowNumberTable extends JTable\n    implements ChangeListener, PropertyChangeListener, TableModelListener\n{\n    private JTable main;\n\n    public static void main(String[] args) {\n        JTable mainTable = new JTable(new MyTableModel());\n        mainTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        JScrollPane scrollPane = new JScrollPane(mainTable);\n        RowNumberTable rowTable = new RowNumberTable(mainTable);\n        rowTable.getSelectionModel()\n            .addListSelectionListener(rowTable.new RowListener());\n        scrollPane.setRowHeaderView(rowTable);\n        scrollPane.setCorner(JScrollPane.UPPER_LEFT_CORNER, rowTable.getTableHeader());\n\n        // Create a panel to hold all other components\n        JPanel topPanel = new JPanel();\n        topPanel.setLayout( new BorderLayout() );\n        topPanel.add( scrollPane, BorderLayout.CENTER );\n\n        // Set the frame characteristics\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle( \"Selector\" );\n        frame.setBackground( Color.gray );\n        frame.getContentPane().add( topPanel );\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public RowNumberTable(JTable table)\n    {\n        main = table;\n        main.addPropertyChangeListener( this );\n        main.getModel().addTableModelListener( this );\n\n        setFocusable( false );\n        setAutoCreateColumnsFromModel( false );\n        setSelectionModel( main.getSelectionModel() );\n\n        TableColumn column = new TableColumn();\n        column.setHeaderValue(\" \");\n        addColumn( column );\n        column.setCellRenderer(new RowNumberRenderer());\n\n        getColumnModel().getColumn(0).setPreferredWidth(22);\n        setPreferredScrollableViewportSize(getPreferredSize());\n    }\n\n    @Override\n    public void addNotify()\n    {\n        super.addNotify();\n\n        Component c = getParent();\n\n        //  Keep scrolling of the row table in sync with the main table.\n\n        if (c instanceof JViewport)\n        {\n            JViewport viewport = (JViewport)c;\n            viewport.addChangeListener( this );\n        }\n    }\n\n    /*\n     *  Delegate method to main table\n     */\n    @Override\n    public int getRowCount()\n    {\n        return main.getRowCount();\n    }\n\n    @Override\n    public int getRowHeight(int row)\n    {\n        int rowHeight = main.getRowHeight(row);\n\n        if (rowHeight != super.getRowHeight(row))\n        {\n            super.setRowHeight(row, rowHeight);\n        }\n\n        return rowHeight;\n    }\n\n    /*\n     *  No model is being used for this table so just use the row number\n     *  as the value of the cell.\n     */\n    @Override\n    public Object getValueAt(int row, int column)\n    {\n        //return Integer.toString(row + 1);\n        if (main.isRowSelected(row))\n            return \"\\u25BA\"; // Unicode Black Right-pointing Pointer\n        else\n            return \" \";\n    }\n\n    /*\n     *  Don't edit data in the main TableModel by mistake\n     */\n    @Override\n    public boolean isCellEditable(int row, int column)\n    {\n        return false;\n    }\n\n    /*\n     *  Do nothing since the table ignores the model\n     */\n    @Override\n    public void setValueAt(Object value, int row, int column) {}\n\n    //\n    //  Implement the ChangeListener\n    //\n    public void stateChanged(ChangeEvent e)\n    {\n        //  Keep the scrolling of the row table in sync with main table\n\n        JViewport viewport = (JViewport) e.getSource();\n        JScrollPane scrollPane = (JScrollPane)viewport.getParent();\n        scrollPane.getVerticalScrollBar().setValue(viewport.getViewPosition().y);\n    }\n\n    //\n    //  Implement the PropertyChangeListener\n    //\n    public void propertyChange(PropertyChangeEvent e)\n    {\n        //  Keep the row table in sync with the main table\n\n        if (\"selectionModel\".equals(e.getPropertyName()))\n        {\n            setSelectionModel( main.getSelectionModel() );\n        }\n\n        if (\"rowHeight\".equals(e.getPropertyName()))\n        {\n            repaint();\n        }\n\n        if (\"model\".equals(e.getPropertyName()))\n        {\n            main.getModel().addTableModelListener( this );\n            revalidate();\n        }\n    }\n\n    //\n    //  Implement the TableModelListener\n    //\n    @Override\n    public void tableChanged(TableModelEvent e)\n    {\n        revalidate();\n    }\n\n    /*\n     *  Attempt to mimic the table header renderer\n     */\n    private static class RowNumberRenderer extends DefaultTableCellRenderer\n    {\n        public RowNumberRenderer()\n        {\n            setHorizontalAlignment(JLabel.CENTER);\n        }\n\n        public Component getTableCellRendererComponent(\n            JTable table, Object value, boolean isSelected, boolean hasFocus,\n            int row, int column)\n        {\n            if (table != null)\n            {\n                JTableHeader header = table.getTableHeader();\n\n                if (header != null)\n                {\n                    setForeground(header.getForeground());\n                    setBackground(header.getBackground());\n                    setFont(header.getFont());\n                }\n            }\n\n            setText((value == null) ? \"\" : value.toString());\n            setBorder(UIManager.getBorder(\"TableHeader.cellBorder\"));\n\n            return this;\n        }\n    }\n\n    private class RowListener implements ListSelectionListener {\n        public void valueChanged(ListSelectionEvent event) {\n            if (event.getValueIsAdjusting()) {\n                return;\n            }\n            int row =  main.getSelectedRow();\n            System.out.println(\"selected row : \"  +\n                main.getSelectionModel().getLeadSelectionIndex() + \" - \" +\n                main.getModel().getValueAt(row, 0) ); \n        }\n    }\n}\n\nclass MyTableModel extends AbstractTableModel {\n    private String[] columnNames = {\"First Name\",\n        \"Last Name\",\n        \"Sport\",\n        \"# of Years\",\n        \"Vegetarian\"};\n    private Object[][] data = {\n        {\"Kathy\", \"Smith\",\n            \"Snowboarding\", new Integer(5), new Boolean(false)},\n        {\"John\", \"Doe\",\n            \"Rowing\", new Integer(3), new Boolean(true)},\n        {\"Sue\", \"Black\",\n            \"Knitting\", new Integer(2), new Boolean(false)},\n        {\"Jane\", \"White\",\n            \"Speed reading\", new Integer(20), new Boolean(true)},\n        {\"Joe\", \"Brown\",\n            \"Pool\", new Integer(10), new Boolean(false)}\n        };\n\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    public int getRowCount() {\n        return data.length;\n    }\n\n    public String getColumnName(int col) {\n        return columnNames[col];\n    }\n\n    public Object getValueAt(int row, int col) {\n        return data[row][col];\n    }\n\n    public Class getColumnClass(int c) {\n        return getValueAt(0, c).getClass();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652883236,"creation_date":1652876455,"answer_id":72289068,"question_id":72288375,"body_markdown":"After the call to `loadAllEntities()` finishes the Spring proxy commits the transaction and closes the associated Hibernate Session. This means you cannot have Hibernate transparently load the non-loaded lazy associations anymore without explicitly telling it to do so.\r\n\r\nIf for some reason you really want your associated entities to be loaded lazily the two options you have is either use `Hibernate.initialize(entity.getSomeOtherEntity())` in your `doOnEach()` method or set the `spring.jpa.open-in-view` property to true to have the [OpenSessionInViewInterceptor](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/support/OpenSessionInViewInterceptor.html) do it for you.\r\n\r\nOtherwise it&#39;s a good idea to load them together with the parent entity either via `JOIN FETCH` in your repository query or via an Entity Graph.\r\n\r\nReferences: \r\n- https://www.baeldung.com/spring-open-session-in-view\r\n- https://www.baeldung.com/hibernate-initialize-proxy-exception\r\n\r\n--- \r\nTo clarify further:\r\n\r\nSpring creates a transaction and opens a new Session (A) before entering the `loadAllEntities()` method and commits/closes them upon returning. When you call `entity.getSomeOtherEntity()` the original Session (A) that loaded `entity` is gone (i.e. `entity` is detached) but instead there&#39;s a new Session (B) which was created upon entering the `doOnEach()` transactional method. Obviously Session (B) doesn&#39;t know anything about `entity` and its relations and at the same time the Hibernate proxy of `someOtherEntity` inside `entity` references the original Session (A) and doesn&#39;t know anything about Session (B). To make the Hibernate proxy of `someOtherEntity` actually use the current active Session (B) you can call `Hibernate.initialize()`.","title":"Spring @Transactional not working when Hibernate object with lazy loading coming from another transaction is passed down to method","body":"<p>After the call to <code>loadAllEntities()</code> finishes the Spring proxy commits the transaction and closes the associated Hibernate Session. This means you cannot have Hibernate transparently load the non-loaded lazy associations anymore without explicitly telling it to do so.</p>\n<p>If for some reason you really want your associated entities to be loaded lazily the two options you have is either use <code>Hibernate.initialize(entity.getSomeOtherEntity())</code> in your <code>doOnEach()</code> method or set the <code>spring.jpa.open-in-view</code> property to true to have the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/support/OpenSessionInViewInterceptor.html\" rel=\"nofollow noreferrer\">OpenSessionInViewInterceptor</a> do it for you.</p>\n<p>Otherwise it's a good idea to load them together with the parent entity either via <code>JOIN FETCH</code> in your repository query or via an Entity Graph.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-open-session-in-view\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-open-session-in-view</a></li>\n<li><a href=\"https://www.baeldung.com/hibernate-initialize-proxy-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-initialize-proxy-exception</a></li>\n</ul>\n<hr />\n<p>To clarify further:</p>\n<p>Spring creates a transaction and opens a new Session (A) before entering the <code>loadAllEntities()</code> method and commits/closes them upon returning. When you call <code>entity.getSomeOtherEntity()</code> the original Session (A) that loaded <code>entity</code> is gone (i.e. <code>entity</code> is detached) but instead there's a new Session (B) which was created upon entering the <code>doOnEach()</code> transactional method. Obviously Session (B) doesn't know anything about <code>entity</code> and its relations and at the same time the Hibernate proxy of <code>someOtherEntity</code> inside <code>entity</code> references the original Session (A) and doesn't know anything about Session (B). To make the Hibernate proxy of <code>someOtherEntity</code> actually use the current active Session (B) you can call <code>Hibernate.initialize()</code>.</p>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72289068,"answer_count":1,"score":0,"last_activity_date":1652883236,"creation_date":1652873374,"question_id":72288375,"body_markdown":"I have a problem with accessing data inside a running transaction when the data came from another (supposedly closed) transaction. I have three classes like below, with an entity (called MyEntity) which also has another entity connected via Hibernate mapping called &quot;OtherEntity&quot; which has lazy loading set to true. Notice how I have two transactions:\r\n\r\n- One to load a list of entities\r\n- And a new transaction for each new item\r\n\r\nHowever, this fails inside the loop with &quot;No session&quot; even though I have an active transaction inside the method (TransactionSynchronizationManager.isActualTransactionActive is true).\r\n\r\nI don&#39;t really understand the problem. Seems to me the object which is used by the second transaction(s) &quot;belong&quot; to the first one even though the first transaction was supposed to finish? Maybe its a race condition?\r\n\r\n    @Service\r\n    class ServiceA {\r\n        \r\n        @Autowired\r\n        private ServiceB serviceB;\r\n\r\n        @Autowired\r\n        private ServiceC serviceC;\r\n    \r\n        public void test() {\r\n            List&lt;MyEntity&gt; allEntities = serviceC.loadAllEntities(); //First transaction ran, getting a list of entities, but due to lazy loading we havent loaded all the data\r\n            for(MyEntity i : allEntities) {\r\n                serviceB.doOnEach(i); //On each element a new transaction should start\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Service\r\n    class ServiceB {\r\n    \r\n        @Transactional\r\n        public void doOnEach(MyEntity entity) {\r\n            System.out.println(TransactionSynchronizationManager.isActualTransactionActive()); //true, therefore we have an active transaction here\r\n            OtherEntity other = entity.getSomeOtherEntity(); //Want to load the &quot;lazy loaded&quot; entity here\r\n            //&quot;No Session&quot; exception is thrown here\r\n        }\r\n\r\n    }\r\n\r\n    @Service\r\n    class ServiceC {\r\n        \r\n        @Autowired\r\n        private MyRepository myRepository;\r\n\r\n        @Transactional\r\n        public List&lt;MyEntity&gt; loadAllEntities() {\r\n            return myRepository.findAll();\r\n        }\r\n\r\n    }\r\n\r\nA solution would be to re-load the &quot;MyEntity&quot; instance inside the &quot;doOnEach&quot; method, but that seems to me like a sub-optimal solution, especially on big lists. Why would I reload all the data which is already supposed to be there?\r\n\r\nAny help is appreciated.\r\n\r\nObviously the real code is a lot more complicated than this but I have to have these kind of separate transactions for business reasons, so please no &quot;solutions&quot; which re-write the core logic of this. I just want to understand whats going on here.","title":"Spring @Transactional not working when Hibernate object with lazy loading coming from another transaction is passed down to method","body":"<p>I have a problem with accessing data inside a running transaction when the data came from another (supposedly closed) transaction. I have three classes like below, with an entity (called MyEntity) which also has another entity connected via Hibernate mapping called &quot;OtherEntity&quot; which has lazy loading set to true. Notice how I have two transactions:</p>\n<ul>\n<li>One to load a list of entities</li>\n<li>And a new transaction for each new item</li>\n</ul>\n<p>However, this fails inside the loop with &quot;No session&quot; even though I have an active transaction inside the method (TransactionSynchronizationManager.isActualTransactionActive is true).</p>\n<p>I don't really understand the problem. Seems to me the object which is used by the second transaction(s) &quot;belong&quot; to the first one even though the first transaction was supposed to finish? Maybe its a race condition?</p>\n<pre><code>@Service\nclass ServiceA {\n    \n    @Autowired\n    private ServiceB serviceB;\n\n    @Autowired\n    private ServiceC serviceC;\n\n    public void test() {\n        List&lt;MyEntity&gt; allEntities = serviceC.loadAllEntities(); //First transaction ran, getting a list of entities, but due to lazy loading we havent loaded all the data\n        for(MyEntity i : allEntities) {\n            serviceB.doOnEach(i); //On each element a new transaction should start\n        }\n    }\n\n}\n\n@Service\nclass ServiceB {\n\n    @Transactional\n    public void doOnEach(MyEntity entity) {\n        System.out.println(TransactionSynchronizationManager.isActualTransactionActive()); //true, therefore we have an active transaction here\n        OtherEntity other = entity.getSomeOtherEntity(); //Want to load the &quot;lazy loaded&quot; entity here\n        //&quot;No Session&quot; exception is thrown here\n    }\n\n}\n\n@Service\nclass ServiceC {\n    \n    @Autowired\n    private MyRepository myRepository;\n\n    @Transactional\n    public List&lt;MyEntity&gt; loadAllEntities() {\n        return myRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>A solution would be to re-load the &quot;MyEntity&quot; instance inside the &quot;doOnEach&quot; method, but that seems to me like a sub-optimal solution, especially on big lists. Why would I reload all the data which is already supposed to be there?</p>\n<p>Any help is appreciated.</p>\n<p>Obviously the real code is a lot more complicated than this but I have to have these kind of separate transactions for business reasons, so please no &quot;solutions&quot; which re-write the core logic of this. I just want to understand whats going on here.</p>\n"},{"tags":["java","ssl","certificate","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":20368320,"reputation":3,"user_id":15059688,"display_name":"flo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652882811,"creation_date":1652882811,"answer_id":72290708,"question_id":69091368,"body_markdown":"It might have something to do with a combination of your JRE and the used certificate.\r\n\r\nI had this exact same message using JRE 11 with OpenLiberty trying to load a JKS Keystore that included another PKCS12 keypair.\r\n\r\nIn the end I was able to resolve this just by upgrading the execution environment to JRE 17.","title":"TLS 1.2 No supported CertificateVerify signature algorithm for RSA key","body":"<p>It might have something to do with a combination of your JRE and the used certificate.</p>\n<p>I had this exact same message using JRE 11 with OpenLiberty trying to load a JKS Keystore that included another PKCS12 keypair.</p>\n<p>In the end I was able to resolve this just by upgrading the execution environment to JRE 17.</p>\n"}],"owner":{"account_id":22683368,"reputation":1,"user_id":16853429,"display_name":"Hans Xu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652882811,"creation_date":1631030429,"question_id":69091368,"body_markdown":"I get signature algorithm issue during CertificateVerify for TLS 1.2, not sure why it happens and how to fix it.\r\n\r\nIt would be much appreciate if someone could share some suggestions, thanks in advance. Let me know if you need more information.\r\n\r\n    Server version: Apache Tomcat/8.5.59\r\n    OS Name:        Linux\r\n    OS Version:     5.3.0-1035-azure\r\n    Architecture:   amd64\r\n    JVM Version:    1.8.0_275-b01\r\n    JVM Vendor:     Amazon.com Inc.\r\n    \r\n    Error Logs:\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tjavax.net.ssl|SEVERE|3C|http-nio-8080-exec-9|2021-09-06 19:09:37.559 GMT+08:00|Logger.java:765|Fatal (INTERNAL_ERROR): No supported CertificateVerify signature algorithm for RSA key (\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\t&quot;throwable&quot; : {\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tjavax.net.ssl.SSLException: No supported CertificateVerify signature algorithm for RSA key\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.Alert.createSSLException(Alert.java:133)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.Alert.createSSLException(Alert.java:117)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:311)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:258)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:597)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:760)\t\r\n    9/6/2021, 11:09:37.560 AM\t\t\t\tat sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\t","title":"TLS 1.2 No supported CertificateVerify signature algorithm for RSA key","body":"<p>I get signature algorithm issue during CertificateVerify for TLS 1.2, not sure why it happens and how to fix it.</p>\n<p>It would be much appreciate if someone could share some suggestions, thanks in advance. Let me know if you need more information.</p>\n<pre><code>Server version: Apache Tomcat/8.5.59\nOS Name:        Linux\nOS Version:     5.3.0-1035-azure\nArchitecture:   amd64\nJVM Version:    1.8.0_275-b01\nJVM Vendor:     Amazon.com Inc.\n\nError Logs:\n9/6/2021, 11:09:37.560 AM               javax.net.ssl|SEVERE|3C|http-nio-8080-exec-9|2021-09-06 19:09:37.559 GMT+08:00|Logger.java:765|Fatal (INTERNAL_ERROR): No supported CertificateVerify signature algorithm for RSA key ( \n9/6/2021, 11:09:37.560 AM               &quot;throwable&quot; : { \n9/6/2021, 11:09:37.560 AM               javax.net.ssl.SSLException: No supported CertificateVerify signature algorithm for RSA key  \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.Alert.createSSLException(Alert.java:133)    \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.Alert.createSSLException(Alert.java:117)    \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.TransportContext.fatal(TransportContext.java:311)   \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)   \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.TransportContext.fatal(TransportContext.java:258)   \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:597)    \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:760)  \n9/6/2021, 11:09:37.560 AM               at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421) \n</code></pre>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1652884628,"post_id":72290649,"comment_id":127715859,"body_markdown":"EdDSA is a signature algorithm, not an encryption algorithm. Since they are sending you *signed* files, you would use their public key to verify the signature.","body":"EdDSA is a signature algorithm, not an encryption algorithm. Since they are sending you <i>signed</i> files, you would use their public key to verify the signature."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1652884797,"post_id":72290649,"comment_id":127715930,"body_markdown":"**Yes EdDSA is sign-only.** [The OpenPGP draft](https://datatracker.ietf.org/doc/html/draft-ietf-openpgp-crypto-refresh#section-9.2) supports &#39;Curve25519&#39; (really X25519, it has been renamed) and X448 per RFC7748 for encryption, and just as a DSA sign-only masterkey usually has an EG encryption subkey, an EdDSA sign-only masterkey usually has a Bernstein-curve ECDH (really XDH) encryption subkey.","body":"<b>Yes EdDSA is sign-only.</b> <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-openpgp-crypto-refresh#section-9.2\" rel=\"nofollow noreferrer\">The OpenPGP draft</a> supports &#39;Curve25519&#39; (really X25519, it has been renamed) and X448 per RFC7748 for encryption, and just as a DSA sign-only masterkey usually has an EG encryption subkey, an EdDSA sign-only masterkey usually has a Bernstein-curve ECDH (really XDH) encryption subkey."}],"owner":{"account_id":346370,"reputation":1596,"user_id":679857,"accept_rate":54,"display_name":"Manolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652882558,"creation_date":1652882558,"question_id":72290649,"body_markdown":"I have code that makes use of the java bouncy castle libraries for encryption, decryption and signature verification.\r\n\r\nNow I came across the situation where a third party has shared their public key that is of type EdDSA. And the files they send us are signed with corresponding private key.\r\n\r\nIn the bc source code we have:\r\n\r\n```public static final int EDDSA = 22;            // EdDSA - (internet draft, but appearing in use)```\r\n\r\nAnd the bc help method ```PGPPublicKey.isEncryptionKey()``` returns false for EdDSA\r\n\r\nDoes this somehow mean that BC doesn&#39;t fully support EdDSA?\r\n\r\nOr is it just meant to **no**t be used for encryption, only signature verification? In that case, I guess I need to ask them either to change to an RSA key, or have them send me a separate public key for us to use if we want to send them encrypted files.","title":"EdDSA in bouncy castle","body":"<p>I have code that makes use of the java bouncy castle libraries for encryption, decryption and signature verification.</p>\n<p>Now I came across the situation where a third party has shared their public key that is of type EdDSA. And the files they send us are signed with corresponding private key.</p>\n<p>In the bc source code we have:</p>\n<p><code>public static final int EDDSA = 22;            // EdDSA - (internet draft, but appearing in use)</code></p>\n<p>And the bc help method <code>PGPPublicKey.isEncryptionKey()</code> returns false for EdDSA</p>\n<p>Does this somehow mean that BC doesn't fully support EdDSA?</p>\n<p>Or is it just meant to <strong>no</strong>t be used for encryption, only signature verification? In that case, I guess I need to ask them either to change to an RSA key, or have them send me a separate public key for us to use if we want to send them encrypted files.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":1,"creation_date":1502682213,"post_id":45667037,"comment_id":78291794,"body_markdown":"Might be, try adding a `counts.clear()` to the beginning of `firstDuplicate()`...","body":"Might be, try adding a <code>counts.clear()</code> to the beginning of <code>firstDuplicate()</code>..."},{"owner":{"account_id":7188332,"reputation":420,"user_id":5489591,"display_name":"Isha Agarwal"},"score":0,"creation_date":1502687201,"post_id":45667037,"comment_id":78292894,"body_markdown":"Any idea of how to do this problem without using extra space (maps here)","body":"Any idea of how to do this problem without using extra space (maps here)"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1502690100,"post_id":45667037,"comment_id":78293718,"body_markdown":"why do we need a map?, it is enough to track the minimum index","body":"why do we need a map?, it is enough to track the minimum index"},{"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"score":0,"creation_date":1502691991,"post_id":45667037,"comment_id":78294432,"body_markdown":"@IshaAgarwal I tried out another way which does not use any additional storage(maps, or sets). This approach uses two `int` variables to check/track the current lowest second index, and element with lowest second index values and sets these variables in subsequent iterations only if the conditions are satisfied. The code is on this [Github Gist](https://gist.github.com/Manish-Giri/0fe75f36364b294eb68d5a3eca3abe27).\n\nWhile all the sample tests are passing, there seem to be 2 failing custom tests, so I need to refine this further. But pretty sure this is the way to go for `O(1)` space comp.","body":"@IshaAgarwal I tried out another way which does not use any additional storage(maps, or sets). This approach uses two <code>int</code> variables to check/track the current lowest second index, and element with lowest second index values and sets these variables in subsequent iterations only if the conditions are satisfied. The code is on this <a href=\"https://gist.github.com/Manish-Giri/0fe75f36364b294eb68d5a3eca3abe27\" rel=\"nofollow noreferrer\">Github Gist</a>.  While all the sample tests are passing, there seem to be 2 failing custom tests, so I need to refine this further. But pretty sure this is the way to go for <code>O(1)</code> space comp."}],"answers":[{"tags":[],"owner":{"account_id":2541151,"reputation":771,"user_id":2206934,"display_name":"Devram Kandhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502686582,"creation_date":1502684518,"answer_id":45667436,"question_id":45667037,"body_markdown":"Use this solution: here duplicateIndex  should be very large number.\r\n\r\n   \r\n        package sample;\r\n\r\n        import java.util.ArrayList;\r\n        import java.util.Arrays;\r\n        import java.util.HashMap;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n\r\n        public class Duplicate {\r\n\r\n\tpublic static Integer secondIndex(Integer[] arr) {\r\n\t\tList&lt;Integer&gt; arrlist = new ArrayList&lt;&gt;(Arrays.asList(arr));\r\n\t\tint duplicateIndex = 999;\r\n\t\tint ele = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; arrlist.size(); i++) {\r\n\t\t\tint secondIndex = getSecondIndex(arrlist, arrlist.get(i));\r\n\r\n\t\t\tif (secondIndex &gt;= 0 &amp;&amp; duplicateIndex &gt; secondIndex) {\r\n\t\t\t\tduplicateIndex = secondIndex;\r\n\t\t\t\tele = arrlist.get(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn duplicateIndex == 999 ? -1 : ele;\r\n\t}\r\n\r\n\tpublic static int getSecondIndex(List&lt;Integer&gt; arr, int ele) {\r\n\t\tList&lt;Integer&gt; var0 = new ArrayList&lt;&gt;(arr);\r\n\t\tvar0.set(var0.indexOf(ele), -1);\r\n\t\treturn var0.indexOf(ele);\r\n\t}\r\n\r\n\tpublic static void main(String[] str) {\r\n\t\t// Integer[] arr = new Integer[] { 2, 3, 3, 1, 5, 2 };\r\n\t\t// Integer[] arr = new Integer[] { 2, 4, 3, 5, 1 };\r\n\t\t// Integer[] arr = new Integer[] { 8, 4, 6, 2, 6, 4, 7, 9, 5, 8 };\r\n\t\t// Integer[] arr = new Integer[]{1, 1, 2, 2, 1};\r\n\t\tInteger[] arr = new Integer[] { 10, 6, 8, 4, 9, 1, 7, 2, 5, 3 };\r\n\t\tSystem.out.println(secondIndex(arr));\r\n\t}\r\n    }\r\n","title":"Find first duplicate element with lowest second occurrence index","body":"<p>Use this solution: here duplicateIndex  should be very large number.</p>\n\n<pre><code>    package sample;\n\n    import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.HashMap;\n    import java.util.List;\n    import java.util.Map;\n\n    public class Duplicate {\n\npublic static Integer secondIndex(Integer[] arr) {\n    List&lt;Integer&gt; arrlist = new ArrayList&lt;&gt;(Arrays.asList(arr));\n    int duplicateIndex = 999;\n    int ele = 0;\n\n    for (int i = 0; i &lt; arrlist.size(); i++) {\n        int secondIndex = getSecondIndex(arrlist, arrlist.get(i));\n\n        if (secondIndex &gt;= 0 &amp;&amp; duplicateIndex &gt; secondIndex) {\n            duplicateIndex = secondIndex;\n            ele = arrlist.get(i);\n        }\n    }\n\n    return duplicateIndex == 999 ? -1 : ele;\n}\n\npublic static int getSecondIndex(List&lt;Integer&gt; arr, int ele) {\n    List&lt;Integer&gt; var0 = new ArrayList&lt;&gt;(arr);\n    var0.set(var0.indexOf(ele), -1);\n    return var0.indexOf(ele);\n}\n\npublic static void main(String[] str) {\n    // Integer[] arr = new Integer[] { 2, 3, 3, 1, 5, 2 };\n    // Integer[] arr = new Integer[] { 2, 4, 3, 5, 1 };\n    // Integer[] arr = new Integer[] { 8, 4, 6, 2, 6, 4, 7, 9, 5, 8 };\n    // Integer[] arr = new Integer[]{1, 1, 2, 2, 1};\n    Integer[] arr = new Integer[] { 10, 6, 8, 4, 9, 1, 7, 2, 5, 3 };\n    System.out.println(secondIndex(arr));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8591879,"reputation":43,"user_id":6436215,"display_name":"M.Bugiel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525033805,"creation_date":1511720590,"answer_id":47499493,"question_id":45667037,"body_markdown":"Edited: Since adding and checking if element is present in Set can be done in one step, code can be simplified to:\r\n     \r\n    public static int findDuplicateWithLowestIndex(int... a){\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n       for(int num : a){\r\n         if(!set.add(num)){\r\n            return num;\r\n           }\r\n        }\r\n    return -1; \r\n    }\r\n\r\nYou&#39;re completly right Patrick.","title":"Find first duplicate element with lowest second occurrence index","body":"<p>Edited: Since adding and checking if element is present in Set can be done in one step, code can be simplified to:</p>\n\n<pre><code>public static int findDuplicateWithLowestIndex(int... a){\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\n   for(int num : a){\n     if(!set.add(num)){\n        return num;\n       }\n    }\nreturn -1; \n}\n</code></pre>\n\n<p>You're completly right Patrick.</p>\n"},{"tags":[],"owner":{"account_id":8496926,"reputation":3,"user_id":6371249,"display_name":"Shahid Nauman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652882422,"creation_date":1652882422,"answer_id":72290619,"question_id":45667037,"body_markdown":"**Solution in Javascript**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function solution(a) {    \r\n        const duplicates = [];\r\n        for (const i of a) {\r\n            if (duplicates.includes(i))\r\n                return i;\r\n            else\r\n                duplicates.push(i);\r\n        }\r\n        \r\n        return -1;\r\n    }\r\n\r\n    console.log(solution([2, 1, 3, 5, 3, 2])); // 3\r\n    console.log(solution([2, 2])); // 2\r\n    console.log(solution([2, 4, 3, 5, 1])); // -1\r\n\r\n&lt;!-- end snippet --&gt;","title":"Find first duplicate element with lowest second occurrence index","body":"<p><strong>Solution in Javascript</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function solution(a) {    \n    const duplicates = [];\n    for (const i of a) {\n        if (duplicates.includes(i))\n            return i;\n        else\n            duplicates.push(i);\n    }\n    \n    return -1;\n}\n\nconsole.log(solution([2, 1, 3, 5, 3, 2])); // 3\nconsole.log(solution([2, 2])); // 2\nconsole.log(solution([2, 4, 3, 5, 1])); // -1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1652882422,"creation_date":1502681303,"question_id":45667037,"body_markdown":"I&#39;m trying to solve a problem on CodeFights called `firstDuplicate`, that states - \r\n\r\n&gt; Given an array a that contains only numbers in the range from 1 to\r\n&gt; a.length, find the first duplicate number for which the second\r\n&gt; occurrence has the minimal index. In other words, if there are more\r\n&gt; than 1 duplicated numbers, return the number for which the second\r\n&gt; occurrence has a smaller index than the second occurrence of the other\r\n&gt; number does. If there are no such elements, return -1.\r\n&gt; \r\n&gt; Example\r\n&gt; \r\n&gt; For a = [2, 3, 3, 1, 5, 2], the output should be firstDuplicate(a) =\r\n&gt; 3.\r\n&gt; \r\n&gt; There are 2 duplicates: numbers 2 and 3. The second occurrence of 3\r\n&gt; has a smaller index than than second occurrence of 2 does, so the\r\n&gt; answer is 3.\r\n&gt; \r\n&gt; For a = [2, 4, 3, 5, 1], the output should be firstDuplicate(a) = -1.\r\n\r\nMy solution - \r\n\r\n    public class FirstDuplicate {\r\n        private static HashMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\n\r\n        private static void findSecondIndexFrom(int[] num, int n, int i) {\r\n        // given an array, a starting index and a number, find second occurrence of that number beginning from next index\r\n            for(int x = i; x &lt; num.length; x++) {\r\n                if(num[x] == n) {\r\n                  // second occurrence found - place in map and terminate\r\n                    counts.put(n, x);\r\n                    return;\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private static int firstDuplicate(int[] a) {\r\n            // for each element in loop, if it&#39;s not already in hashmap\r\n            // find it&#39;s second occurrence in array and place number and index in map\r\n\r\n            for(int i = 0; i &lt; a.length; i++) {\r\n                if(!counts.containsKey(a[i])) {\r\n                    findSecondIndexFrom(a, a[i], i+1);\r\n                }\r\n            }\r\n    \r\n            System.out.println(counts);\r\n            // if map is empty - no duplicate elements, return -1\r\n            if(counts.size() == 0) {\r\n                return -1;\r\n            }\r\n            // else - get array of values from map, sort it, find lowest value and return corresponding key\r\n\r\n            ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;(counts.values());\r\n            Collections.sort(values);\r\n            int lowest = values.get(0);\r\n            //System.out.println(lowest);\r\n            for(Map.Entry&lt;Integer, Integer&gt; entries: counts.entrySet()) {\r\n                if(entries.getValue() == lowest) {\r\n                    return entries.getKey();\r\n                }\r\n            }\r\n         return -1;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n             // int[] a = new int[]{2, 3, 3, 1, 5, 2};\r\n             //int[] a = new int[]{2, 4, 3, 5, 1};\r\n             //int[] a = new int[]{8, 4, 6, 2, 6, 4, 7, 9, 5, 8};\r\n            //int[] a = new int[]{1, 1, 2, 2, 1};\r\n    \r\n            int[] a = new int[]{10, 6, 8, 4, 9, 1, 7, 2, 5, 3};\r\n            System.out.println(firstDuplicate(a));\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nThis solution passes only for about 4 of the 11 test cases on CodeFights. However, I manually executed each one of the test cases in my IDE, and each one produces the right result.\r\n\r\nI can&#39;t figure out why this won&#39;t work in CodeFights. Does it have something to do with the use of the static `HashMap`?","title":"Find first duplicate element with lowest second occurrence index","body":"<p>I'm trying to solve a problem on CodeFights called <code>firstDuplicate</code>, that states - </p>\n\n<blockquote>\n  <p>Given an array a that contains only numbers in the range from 1 to\n  a.length, find the first duplicate number for which the second\n  occurrence has the minimal index. In other words, if there are more\n  than 1 duplicated numbers, return the number for which the second\n  occurrence has a smaller index than the second occurrence of the other\n  number does. If there are no such elements, return -1.</p>\n  \n  <p>Example</p>\n  \n  <p>For a = [2, 3, 3, 1, 5, 2], the output should be firstDuplicate(a) =\n  3.</p>\n  \n  <p>There are 2 duplicates: numbers 2 and 3. The second occurrence of 3\n  has a smaller index than than second occurrence of 2 does, so the\n  answer is 3.</p>\n  \n  <p>For a = [2, 4, 3, 5, 1], the output should be firstDuplicate(a) = -1.</p>\n</blockquote>\n\n<p>My solution - </p>\n\n<pre><code>public class FirstDuplicate {\n    private static HashMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\n\n    private static void findSecondIndexFrom(int[] num, int n, int i) {\n    // given an array, a starting index and a number, find second occurrence of that number beginning from next index\n        for(int x = i; x &lt; num.length; x++) {\n            if(num[x] == n) {\n              // second occurrence found - place in map and terminate\n                counts.put(n, x);\n                return;\n            }\n        }\n\n\n    }\n\n    private static int firstDuplicate(int[] a) {\n        // for each element in loop, if it's not already in hashmap\n        // find it's second occurrence in array and place number and index in map\n\n        for(int i = 0; i &lt; a.length; i++) {\n            if(!counts.containsKey(a[i])) {\n                findSecondIndexFrom(a, a[i], i+1);\n            }\n        }\n\n        System.out.println(counts);\n        // if map is empty - no duplicate elements, return -1\n        if(counts.size() == 0) {\n            return -1;\n        }\n        // else - get array of values from map, sort it, find lowest value and return corresponding key\n\n        ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;(counts.values());\n        Collections.sort(values);\n        int lowest = values.get(0);\n        //System.out.println(lowest);\n        for(Map.Entry&lt;Integer, Integer&gt; entries: counts.entrySet()) {\n            if(entries.getValue() == lowest) {\n                return entries.getKey();\n            }\n        }\n     return -1;\n    }\n\n    public static void main(String[] args) {\n         // int[] a = new int[]{2, 3, 3, 1, 5, 2};\n         //int[] a = new int[]{2, 4, 3, 5, 1};\n         //int[] a = new int[]{8, 4, 6, 2, 6, 4, 7, 9, 5, 8};\n        //int[] a = new int[]{1, 1, 2, 2, 1};\n\n        int[] a = new int[]{10, 6, 8, 4, 9, 1, 7, 2, 5, 3};\n        System.out.println(firstDuplicate(a));\n    }\n\n\n}\n</code></pre>\n\n<p>This solution passes only for about 4 of the 11 test cases on CodeFights. However, I manually executed each one of the test cases in my IDE, and each one produces the right result.</p>\n\n<p>I can't figure out why this won't work in CodeFights. Does it have something to do with the use of the static <code>HashMap</code>?</p>\n"},{"tags":["java","spring","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652718600,"post_id":72262479,"comment_id":127668313,"body_markdown":"Utilizing Optional type for the field is not good practice.","body":"Utilizing Optional type for the field is not good practice."},{"owner":{"account_id":10663246,"reputation":39,"user_id":7850598,"display_name":"Brucebayne"},"score":0,"creation_date":1652777230,"post_id":72262479,"comment_id":127682044,"body_markdown":"Thanks Alexander. Got this as a legacy code, maybe I will figure out better solution.","body":"Thanks Alexander. Got this as a legacy code, maybe I will figure out better solution."},{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1652862337,"post_id":72262479,"comment_id":127706572,"body_markdown":"Does this answer your question? [Why java.util.Optional is not Serializable, how to serialize the object with such fields](https://stackoverflow.com/questions/24547673/why-java-util-optional-is-not-serializable-how-to-serialize-the-object-with-suc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24547673/why-java-util-optional-is-not-serializable-how-to-serialize-the-object-with-suc\">Why java.util.Optional is not Serializable, how to serialize the object with such fields</a>"}],"answers":[{"tags":[],"owner":{"account_id":25164947,"reputation":71,"user_id":19008623,"display_name":"mbehram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652814822,"creation_date":1652814804,"answer_id":72279516,"question_id":72262479,"body_markdown":"Optional&lt;T&gt; class is not serializable. That&#39;s why swagger is not showing Optional.\r\n\r\nhttps://stackoverflow.com/a/24564612/19008623","title":"Optional&lt;?&gt; field in java class, model, not showing on swagger ui","body":"<p>Optional class is not serializable. That's why swagger is not showing Optional.</p>\n<p><a href=\"https://stackoverflow.com/a/24564612/19008623\">https://stackoverflow.com/a/24564612/19008623</a></p>\n"}],"owner":{"account_id":10663246,"reputation":39,"user_id":7850598,"display_name":"Brucebayne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652882384,"creation_date":1652718234,"question_id":72262479,"body_markdown":"I have set up a swagger on my spring boot application, where on a lot of methods and controllers works correctly. The problem is the one field in the response class where Optional field is not showing on UI.\r\n \r\n```java\r\npublic class CalculatedResult {\r\n\tprivate CalculatorKey key;\r\n\tprivate CalculatedField field;\r\n\t**@ApiModelProperty(value = &quot;Depending on CalculatedField it can be number or string&quot;)\r\n\tprivate Optional&lt;?&gt; value;**\r\n\r\n... getters setters and etc\r\n```\r\n\r\nAnd the swagger class:\r\n \r\n```java\r\n@Bean\r\npublic Docket api() {\r\n\t//global default message that are on all methods\r\n\tList&lt;ResponseMessage&gt; globalMessages = Arrays.asList(GLOBAL_MESSAGES); // ignore this\r\n\t\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()      \r\n            .apis(RequestHandlerSelectors.basePackage(&quot;pts.riskengine&quot;))\r\n            .paths(PathSelectors.any())   \r\n            .build()\r\n            .directModelSubstitute(LocalDate.class, String.class)\r\n            .genericModelSubstitutes(ResponseEntity.class)\r\n            .alternateTypeRules(\r\n                    newRule(typeResolver.resolve(DeferredResult.class,\r\n                            typeResolver.resolve(ResponseEntity.class, WildcardType.class)),\r\n                            typeResolver.resolve(WildcardType.class)))\r\n            .additionalModels(typeResolver.resolve(ClientSettings.class), typeResolver.resolve(CalculatedResult.class),\r\n            \t\ttypeResolver.resolve(CalculatorKey.class))\r\n            .useDefaultResponseMessages(false)\r\n            .forCodeGeneration(true)\r\n            .apiInfo(apiInfo())\r\n            .securitySchemes(Arrays.asList(securityScheme()))\r\n            .securityContexts(Arrays.asList(securityContext()))\r\n            .globalResponseMessage(RequestMethod.GET, globalMessages)\r\n            .globalResponseMessage(RequestMethod.POST, globalMessages)\r\n            .globalResponseMessage(RequestMethod.PUT, globalMessages)\r\n            .globalResponseMessage(RequestMethod.DELETE, globalMessages)\r\n            ;\r\n}\r\n```\r\n    \r\nI have tried to put in .additionalModels and also in .genericModelSubstitutes as String, but not working.\r\ndataType = &quot;java.lang.String&quot; is also not solving my issue.\r\nDo anyone else got this kind of problem or know how it could be solvable ?\r\n\r\nLooking on UI: \r\n[Screenshot][1]\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;   \r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/1D7i4.png","title":"Optional&lt;?&gt; field in java class, model, not showing on swagger ui","body":"<p>I have set up a swagger on my spring boot application, where on a lot of methods and controllers works correctly. The problem is the one field in the response class where Optional field is not showing on UI.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CalculatedResult {\n    private CalculatorKey key;\n    private CalculatedField field;\n    **@ApiModelProperty(value = &quot;Depending on CalculatedField it can be number or string&quot;)\n    private Optional&lt;?&gt; value;**\n\n... getters setters and etc\n</code></pre>\n<p>And the swagger class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Docket api() {\n    //global default message that are on all methods\n    List&lt;ResponseMessage&gt; globalMessages = Arrays.asList(GLOBAL_MESSAGES); // ignore this\n    \n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()      \n            .apis(RequestHandlerSelectors.basePackage(&quot;pts.riskengine&quot;))\n            .paths(PathSelectors.any())   \n            .build()\n            .directModelSubstitute(LocalDate.class, String.class)\n            .genericModelSubstitutes(ResponseEntity.class)\n            .alternateTypeRules(\n                    newRule(typeResolver.resolve(DeferredResult.class,\n                            typeResolver.resolve(ResponseEntity.class, WildcardType.class)),\n                            typeResolver.resolve(WildcardType.class)))\n            .additionalModels(typeResolver.resolve(ClientSettings.class), typeResolver.resolve(CalculatedResult.class),\n                    typeResolver.resolve(CalculatorKey.class))\n            .useDefaultResponseMessages(false)\n            .forCodeGeneration(true)\n            .apiInfo(apiInfo())\n            .securitySchemes(Arrays.asList(securityScheme()))\n            .securityContexts(Arrays.asList(securityContext()))\n            .globalResponseMessage(RequestMethod.GET, globalMessages)\n            .globalResponseMessage(RequestMethod.POST, globalMessages)\n            .globalResponseMessage(RequestMethod.PUT, globalMessages)\n            .globalResponseMessage(RequestMethod.DELETE, globalMessages)\n            ;\n}\n</code></pre>\n<p>I have tried to put in .additionalModels and also in .genericModelSubstitutes as String, but not working.\ndataType = &quot;java.lang.String&quot; is also not solving my issue.\nDo anyone else got this kind of problem or know how it could be solvable ?</p>\n<p>Looking on UI:\n<a href=\"https://i.stack.imgur.com/1D7i4.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;   \n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1652882354,"post_id":1183407,"comment_id":127714707,"body_markdown":"It is ***system*** [Hungarian notation](https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/) (not the *sound* original intent of Hungarian notation (messed up by the Windows documentation team, even though the author explicitly warned against it)).","body":"It is <b><i>system</i></b> <a href=\"https://www.joelonsoftware.com/2005/05/11/making-wrong-code-look-wrong/\" rel=\"nofollow noreferrer\">Hungarian notation</a> (not the <i>sound</i> original intent of Hungarian notation (messed up by the Windows documentation team, even though the author explicitly warned against it))."}],"answers":[{"tags":[],"owner":{"account_id":40970,"reputation":11257,"user_id":118959,"display_name":"Steve Gilham"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1248567276,"creation_date":1248567276,"answer_id":1183413,"question_id":1183407,"body_markdown":"Using the standard for the language will make it simpler to bring new people on board.  Also, using an externally defined convention can help mute the level of religious warfare that these sorts of style issues often provoke.","title":"Should I use the Java naming convention?","body":"<p>Using the standard for the language will make it simpler to bring new people on board.  Also, using an externally defined convention can help mute the level of religious warfare that these sorts of style issues often provoke.</p>\n"},{"tags":[],"owner":{"account_id":27818,"reputation":39950,"user_id":73772,"accept_rate":80,"display_name":"Emil H"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1248568190,"creation_date":1248567289,"answer_id":1183416,"question_id":1183407,"body_markdown":"Use the Java naming convention. It&#39;s almost always a mistake to try to apply conventions from one language to another. The fact is that most people won&#39;t spend time reading up on the conventions used for a project. Therefore it&#39;s always easier to use the established norms of the language.","title":"Should I use the Java naming convention?","body":"<p>Use the Java naming convention. It's almost always a mistake to try to apply conventions from one language to another. The fact is that most people won't spend time reading up on the conventions used for a project. Therefore it's always easier to use the established norms of the language.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248567308,"creation_date":1248567308,"answer_id":1183417,"question_id":1183407,"body_markdown":"&gt; I&#39;m assigned to a large project that is going to be done in Java and viewed by a few programmers on the team.\r\n\r\nHow about you ask your team lead?\r\n\r\nIn general, you should have a good reason not to follow the conventions everyone else expects to see.","title":"Should I use the Java naming convention?","body":"<blockquote>\n  <p>I'm assigned to a large project that is going to be done in Java and viewed by a few programmers on the team.</p>\n</blockquote>\n\n<p>How about you ask your team lead?</p>\n\n<p>In general, you should have a good reason not to follow the conventions everyone else expects to see.</p>\n"},{"tags":[],"owner":{"account_id":13185,"reputation":34155,"user_id":26334,"accept_rate":54,"display_name":"Draemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248567422,"creation_date":1248567422,"answer_id":1183418,"question_id":1183407,"body_markdown":"It shouldn&#39;t be your decision. It&#39;s a decision that should be made by the team, or imposed upon the team.","title":"Should I use the Java naming convention?","body":"<p>It shouldn't be your decision. It's a decision that should be made by the team, or imposed upon the team.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1248568295,"creation_date":1248568295,"answer_id":1183430,"question_id":1183407,"body_markdown":"Personally, I&#39;m against your naming convention.  It&#39;s got a name: Hungarian notation.  I think embedding type in variable names is an awful idea.  If I were on your team, I&#39;d vote against it.\r\n","title":"Should I use the Java naming convention?","body":"<p>Personally, I'm against your naming convention.  It's got a name: Hungarian notation.  I think embedding type in variable names is an awful idea.  If I were on your team, I'd vote against it.</p>\n"},{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248568347,"creation_date":1248568347,"answer_id":1183433,"question_id":1183407,"body_markdown":"Using the standard naming conventions will reduce the ramp-up for new hires and others migrating to the project.  You also will not need to document your individual style for the benefit of the group, saving the time which would be invariably spend describing what the fields mean and the reason for not using the standard.  Another benefit is that you can use features provided by many IDEs for simple code generation with little customization - a process that would be required by all the developers on your project.\r\n","title":"Should I use the Java naming convention?","body":"<p>Using the standard naming conventions will reduce the ramp-up for new hires and others migrating to the project.  You also will not need to document your individual style for the benefit of the group, saving the time which would be invariably spend describing what the fields mean and the reason for not using the standard.  Another benefit is that you can use features provided by many IDEs for simple code generation with little customization - a process that would be required by all the developers on your project.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248569999,"creation_date":1248569999,"answer_id":1183468,"question_id":1183407,"body_markdown":"Most Java programs make heavy use of methods and classes in the standard Java Class Libraries and in third party libraries.  With very few exceptions, these conform to the recommendations in the Java Style Guide.  If you mandate a significantly different conventions for names, your code will consist of an ugly mixture of styles.  Any possible (theoretical) advantages of your style will be lost in the mental dissonance of the style inconsistency.","title":"Should I use the Java naming convention?","body":"<p>Most Java programs make heavy use of methods and classes in the standard Java Class Libraries and in third party libraries.  With very few exceptions, these conform to the recommendations in the Java Style Guide.  If you mandate a significantly different conventions for names, your code will consist of an ugly mixture of styles.  Any possible (theoretical) advantages of your style will be lost in the mental dissonance of the style inconsistency.</p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248965448,"creation_date":1248622064,"answer_id":1184835,"question_id":1183407,"body_markdown":"As [Steve Gilham][1] and [Emil H][2] said, yes, you should definitely stick to Java conventions when you write Java code. (The same obviously goes for any language or platform.)\r\n\r\nAs to *why* that should be so important, I recommend that you check out the classic Java book, *[Effective Java][3]*, by Joshua Bloch. In its foreword ([available online here][4]!), Guy Steele provides a nice, concise argument for writing code that is *idiomatic* for the given language. The book also contains a section specifically about this (item 56 in 2nd edition): **Adhere to generally accepted naming conventions**. That item is only a couple of pages long, and you may already know most of what is says, but, more importantly, the book as a whole is the best possible guide for writing clear and maintainable Java code.\r\n\r\nYou mention it&#39;s a large project done by a team of programmers, which makes the choice even clearer. Even if all the *current* programmers happened to be happy with your C/C++ like naming pattern, remember that it&#39;s very plausible that the composition of your team changes at some point. A newly recruited Java programmer will certainly feel more at home when confronted with a codebase of idiomatic Java that adheres to common conventions of the language.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1183407/should-i-use-the-java-naming-convention/1183413#1183413\r\n  [2]: https://stackoverflow.com/questions/1183407/should-i-use-the-java-naming-convention/1183416#1183416\r\n  [3]: http://java.sun.com/docs/books/effective/\r\n  [4]: http://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PR13#PPR13,M1","title":"Should I use the Java naming convention?","body":"<p>As <a href=\"https://stackoverflow.com/questions/1183407/should-i-use-the-java-naming-convention/1183413#1183413\">Steve Gilham</a> and <a href=\"https://stackoverflow.com/questions/1183407/should-i-use-the-java-naming-convention/1183416#1183416\">Emil H</a> said, yes, you should definitely stick to Java conventions when you write Java code. (The same obviously goes for any language or platform.)</p>\n\n<p>As to <em>why</em> that should be so important, I recommend that you check out the classic Java book, <em><a href=\"http://java.sun.com/docs/books/effective/\" rel=\"nofollow noreferrer\">Effective Java</a></em>, by Joshua Bloch. In its foreword (<a href=\"http://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PR13#PPR13,M1\" rel=\"nofollow noreferrer\">available online here</a>!), Guy Steele provides a nice, concise argument for writing code that is <em>idiomatic</em> for the given language. The book also contains a section specifically about this (item 56 in 2nd edition): <strong>Adhere to generally accepted naming conventions</strong>. That item is only a couple of pages long, and you may already know most of what is says, but, more importantly, the book as a whole is the best possible guide for writing clear and maintainable Java code.</p>\n\n<p>You mention it's a large project done by a team of programmers, which makes the choice even clearer. Even if all the <em>current</em> programmers happened to be happy with your C/C++ like naming pattern, remember that it's very plausible that the composition of your team changes at some point. A newly recruited Java programmer will certainly feel more at home when confronted with a codebase of idiomatic Java that adheres to common conventions of the language.</p>\n"},{"tags":[],"owner":{"account_id":39531,"reputation":187638,"user_id":114066,"accept_rate":90,"display_name":"Janusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248642024,"creation_date":1248642024,"answer_id":1185538,"question_id":1183407,"body_markdown":"If you code in Java yes.","title":"Should I use the Java naming convention?","body":"<p>If you code in Java yes.</p>\n"},{"tags":[],"owner":{"account_id":1603,"reputation":193453,"user_id":2147,"accept_rate":85,"display_name":"Jason Baker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248967027,"creation_date":1248967027,"answer_id":1207294,"question_id":1183407,"body_markdown":"I&#39;ve always been of the opinion that it&#39;s better to be consistently wrong than it is to be inconsistently right.  If you&#39;re starting a new project and are wanting to decide on a naming convention, by all means use the standard.  \r\n\r\nIf you&#39;ve already got a project, then it&#39;s a bit more difficult.  If that&#39;s the case, you&#39;re just going to have to decide whether it&#39;s worth it to change your naming convention over to the Java standard or to keep it the way it is.  It&#39;s always a pain to deal with code that isn&#39;t consistent in their naming, so I&#39;d advise against a piecemeal approach if you can avoid it.","title":"Should I use the Java naming convention?","body":"<p>I've always been of the opinion that it's better to be consistently wrong than it is to be inconsistently right.  If you're starting a new project and are wanting to decide on a naming convention, by all means use the standard.  </p>\n\n<p>If you've already got a project, then it's a bit more difficult.  If that's the case, you're just going to have to decide whether it's worth it to change your naming convention over to the Java standard or to keep it the way it is.  It's always a pain to deal with code that isn't consistent in their naming, so I'd advise against a piecemeal approach if you can avoid it.</p>\n"}],"owner":{"account_id":43526,"reputation":7664,"user_id":127269,"accept_rate":80,"display_name":"Secko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1183413,"answer_count":10,"score":3,"last_activity_date":1652882258,"creation_date":1248567074,"question_id":1183407,"body_markdown":"I&#39;m assigned to a large project that is going to be done in Java and viewed by a few programmers on the team. I want the code to be readable and understandable, and so I want the naming convention to suit everyone that reads it.\r\n\r\nI&#39;m wondering if I have to use the Java naming convention in order for other people to view it and understand it naturally. I always use a type of my own naming convention that doesn&#39;t differ much from the Java naming convention, but it inherits from the C/C++ naming convention.\r\n\r\nThe biggest difference is the variable, class and method naming. I use names like `intLargestNumber, chGet, strName` for variables. `funType, funErase, funAdd, getThis, setThis` for methods and `Screen, clsPlay, cls_User` for classes. Where Java naming convention would use something like `myNumber` for a variable, `lowSplit()` for a method and `Image` for a class.\r\n\r\nShould I use the Java naming convention or use my own naming convention and provide a lexicon or a log for my code?\r\n\r\n\r\n\r\n\r\n","title":"Should I use the Java naming convention?","body":"<p>I'm assigned to a large project that is going to be done in Java and viewed by a few programmers on the team. I want the code to be readable and understandable, and so I want the naming convention to suit everyone that reads it.</p>\n<p>I'm wondering if I have to use the Java naming convention in order for other people to view it and understand it naturally. I always use a type of my own naming convention that doesn't differ much from the Java naming convention, but it inherits from the C/C++ naming convention.</p>\n<p>The biggest difference is the variable, class and method naming. I use names like <code>intLargestNumber, chGet, strName</code> for variables. <code>funType, funErase, funAdd, getThis, setThis</code> for methods and <code>Screen, clsPlay, cls_User</code> for classes. Where Java naming convention would use something like <code>myNumber</code> for a variable, <code>lowSplit()</code> for a method and <code>Image</code> for a class.</p>\n<p>Should I use the Java naming convention or use my own naming convention and provide a lexicon or a log for my code?</p>\n"},{"tags":["java","android","file","file-io"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652811197,"post_id":72278753,"comment_id":127695203,"body_markdown":"Does this answer your question? [android what is wrong with openFileOutput?](https://stackoverflow.com/questions/3625837/android-what-is-wrong-with-openfileoutput)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3625837/android-what-is-wrong-with-openfileoutput\">android what is wrong with openFileOutput?</a>"},{"owner":{"account_id":20426034,"reputation":83,"user_id":14986016,"display_name":"Rares Amza"},"score":0,"creation_date":1652813163,"post_id":72278753,"comment_id":127695814,"body_markdown":"Unfortunately it doesn&#39;t solve my issue","body":"Unfortunately it doesn&#39;t solve my issue"}],"owner":{"account_id":20426034,"reputation":83,"user_id":14986016,"display_name":"Rares Amza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652882235,"creation_date":1652810776,"question_id":72278753,"body_markdown":"For the past 3 hours I&#39;ve been trying to write to a file in Andoid. \r\n\r\nThis is my latest attempt:\r\n```\r\ntry {\r\n    String text=&quot;alo&quot;;\r\n    FileOutputStream fos=openFileOutput(&quot;gameProg.txt&quot;,Context.MODE_APPEND);\r\n    fos.write(text.getBytes());\r\n    fos.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nI have also tried some FileWriter method that only leads to the read-only file system error. Apart from this FileOutputStream attempt, I have deleted several others which did not have an impact on the file.\r\nIs there any way that I could write to this file (without rooting my phone)?","title":"How to write to a file on Android?","body":"<p>For the past 3 hours I've been trying to write to a file in Andoid.</p>\n<p>This is my latest attempt:</p>\n<pre><code>try {\n    String text=&quot;alo&quot;;\n    FileOutputStream fos=openFileOutput(&quot;gameProg.txt&quot;,Context.MODE_APPEND);\n    fos.write(text.getBytes());\n    fos.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I have also tried some FileWriter method that only leads to the read-only file system error. Apart from this FileOutputStream attempt, I have deleted several others which did not have an impact on the file.\nIs there any way that I could write to this file (without rooting my phone)?</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-java"],"comments":[{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":1,"creation_date":1652884981,"post_id":72290519,"comment_id":127716025,"body_markdown":"If you have 4.4+, you can use $replaceOne or $replaceAll","body":"If you have 4.4+, you can use $replaceOne or $replaceAll"},{"owner":{"account_id":23586166,"reputation":1,"user_id":19145663,"display_name":"Alessandro Valentino"},"score":1,"creation_date":1652885240,"post_id":72290519,"comment_id":127716180,"body_markdown":"But how do i do it in java, could you explain any further please?","body":"But how do i do it in java, could you explain any further please?"},{"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"score":0,"creation_date":1652885524,"post_id":72290519,"comment_id":127716313,"body_markdown":"[Refer this](https://stackoverflow.com/questions/62955858/update-aggregate-java-mongodb-update)","body":"<a href=\"https://stackoverflow.com/questions/62955858/update-aggregate-java-mongodb-update\">Refer this</a>"}],"owner":{"account_id":23586166,"reputation":1,"user_id":19145663,"display_name":"Alessandro Valentino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652882041,"creation_date":1652882041,"question_id":72290519,"body_markdown":"I am looking for a way to update a document replacing a substring of a field with another value.&lt;br&gt;\r\nFor example, in my database i have the following field:&lt;br&gt;\r\n```\r\n{\r\n    &quot;_id&quot;: 1,\r\n    &quot;value&quot;: &quot;Old text in the document&quot;\r\n}\r\n```\r\nTo update the field i would simply do somehting like this\r\n```\r\n        MongoClient client = ...init client mongodb\r\n        try (ClientSession session = MongoSession.createSession(client)) {\r\n            session.startTransaction(TransactionOptions.builder().writeConcern(WriteConcern.MAJORITY).build());\r\n            MongoDatabase database = client.getDatabase(&quot;test_db&quot;);\r\n\r\n            MongoCollection&lt;FileEntity&gt; filesDB = database.getCollection(&quot;my_collection&quot;, MyClass.class);\r\n            Bson query = Filters.and(Filters.eq(&quot;_id&quot;, 1));\r\n            Bson updates = Updates.set(&quot;value&quot;, &quot;New text in the document&quot;);\r\n\r\n            filesDB.updateOne(session, query, updates);\r\n            session.commitTransaction();\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error: &quot;, e);\r\n        } finally {\r\n            logger.debug(&quot;Success&quot;);\r\n        }\r\n```\r\nAnd this would result in:\r\n\r\n```\r\n{\r\n    &quot;_id&quot;: 1,\r\n    &quot;value&quot;: &quot;New text in the document&quot;\r\n}\r\n```\r\n\r\nBut this would require that i know the current value of the field, but in my case i don&#39;t.&lt;br&gt;\r\nSo i am trying to find a way to say something like\r\n```\r\nBson updates = Updates.set(&quot;value&quot;, &quot;$value.replace(\\&quot;Old\\&quot;, \\&quot;New\\&quot;)&quot;);\r\n```\r\nIs this possible?&lt;br&gt;\r\nThe java driver of mongodb i have is version 3.12.10 and my mongodb server version is v4.2.12.&lt;br&gt;\r\nThanks! ","title":"Mongodb Java - Update document replacing a string in field","body":"<p>I am looking for a way to update a document replacing a substring of a field with another value.<br>\nFor example, in my database i have the following field:<br></p>\n<pre><code>{\n    &quot;_id&quot;: 1,\n    &quot;value&quot;: &quot;Old text in the document&quot;\n}\n</code></pre>\n<p>To update the field i would simply do somehting like this</p>\n<pre><code>        MongoClient client = ...init client mongodb\n        try (ClientSession session = MongoSession.createSession(client)) {\n            session.startTransaction(TransactionOptions.builder().writeConcern(WriteConcern.MAJORITY).build());\n            MongoDatabase database = client.getDatabase(&quot;test_db&quot;);\n\n            MongoCollection&lt;FileEntity&gt; filesDB = database.getCollection(&quot;my_collection&quot;, MyClass.class);\n            Bson query = Filters.and(Filters.eq(&quot;_id&quot;, 1));\n            Bson updates = Updates.set(&quot;value&quot;, &quot;New text in the document&quot;);\n\n            filesDB.updateOne(session, query, updates);\n            session.commitTransaction();\n        } catch (Exception e) {\n            logger.error(&quot;Error: &quot;, e);\n        } finally {\n            logger.debug(&quot;Success&quot;);\n        }\n</code></pre>\n<p>And this would result in:</p>\n<pre><code>{\n    &quot;_id&quot;: 1,\n    &quot;value&quot;: &quot;New text in the document&quot;\n}\n</code></pre>\n<p>But this would require that i know the current value of the field, but in my case i don't.<br>\nSo i am trying to find a way to say something like</p>\n<pre><code>Bson updates = Updates.set(&quot;value&quot;, &quot;$value.replace(\\&quot;Old\\&quot;, \\&quot;New\\&quot;)&quot;);\n</code></pre>\n<p>Is this possible?<br>\nThe java driver of mongodb i have is version 3.12.10 and my mongodb server version is v4.2.12.<br>\nThanks!</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1459709090,"post_id":36388919,"comment_id":60395773,"body_markdown":"You seem to be mixing JPA and JDBC. Pick one or the other.","body":"You seem to be mixing JPA and JDBC. Pick one or the other."},{"owner":{"account_id":6363071,"reputation":269,"user_id":4937939,"accept_rate":47,"display_name":"andy"},"score":0,"creation_date":1459710581,"post_id":36388919,"comment_id":60396435,"body_markdown":"Yes, because I always use JPA with JSF.. I&#39;m new to Spring and was confused. Now I solve my problem, thanks to Ali&#39;s answer","body":"Yes, because I always use JPA with JSF.. I&#39;m new to Spring and was confused. Now I solve my problem, thanks to Ali&#39;s answer"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459708572,"creation_date":1459706918,"answer_id":36389151,"question_id":36388919,"body_markdown":"&gt; Now I&#39;m trying to auto generate the id values, but I&#39;m a little bit\r\n&gt; confused about how to do it properly\r\n\r\nIf you want to automatically generate the `id`, then do not provide one, even it&#39;s `null`. So, remove the `id` from `addProduect` method:\r\n\r\n    @Override\r\n    public void addProduct(String description, double price, Date date) {\r\n        jdbcTemplate.update(&quot;INSERT INTO products values(?, ?, ?)&quot;, description, price, date);\r\n    }\r\n\r\nAlso, make your `id` field `auto-increment`, as in this [question][1].\r\n\r\nOr, change the `addProduct` method and use `EntityManager#persist` method:\r\n\r\n    @Override\r\n    public void addProduct(Product product) {\r\n        entityManager.persist(product);\r\n    }\r\n\r\nAbout the error:\r\n\r\n&gt; ERROR: null values in column &quot;id&quot; violates not-null constraint\r\n\r\nSince your form does not take the `id` value from the client, the `/newproduct` endpoint would have a `Product` with `null` as its `id` value:\r\n\r\n    @RequestMapping(value = &quot;/newproduct&quot;, method = RequestMethod.POST)\r\n    public ModelAndView submitForm(@ModelAttribute(&quot;product&quot;) Product product) { ... }\r\n\r\nThen you pass this `null` value as the parameter to the `addProduct` method:\r\n\r\n    prDao.addProduct(product.getId(), ...)\r\nAnd finally `addProduct` would try to save that `null` value as the value of the *Primary Key*, which has a *Non-Null* constraint, so you&#39;re got that error.\r\n\r\nAlso, using *Entity* objects as the means of communication with client, e.g. `Product`, is not a good practice. Try to define some auxiliary abstractions like Forms or DTOs and use them for form handling or response assembling.\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/787722/postgresql-autoincrement","title":"Auto generate id in Spring MVC","body":"<blockquote>\n  <p>Now I'm trying to auto generate the id values, but I'm a little bit\n  confused about how to do it properly</p>\n</blockquote>\n\n<p>If you want to automatically generate the <code>id</code>, then do not provide one, even it's <code>null</code>. So, remove the <code>id</code> from <code>addProduect</code> method:</p>\n\n<pre><code>@Override\npublic void addProduct(String description, double price, Date date) {\n    jdbcTemplate.update(\"INSERT INTO products values(?, ?, ?)\", description, price, date);\n}\n</code></pre>\n\n<p>Also, make your <code>id</code> field <code>auto-increment</code>, as in this <a href=\"https://stackoverflow.com/questions/787722/postgresql-autoincrement\">question</a>.</p>\n\n<p>Or, change the <code>addProduct</code> method and use <code>EntityManager#persist</code> method:</p>\n\n<pre><code>@Override\npublic void addProduct(Product product) {\n    entityManager.persist(product);\n}\n</code></pre>\n\n<p>About the error:</p>\n\n<blockquote>\n  <p>ERROR: null values in column \"id\" violates not-null constraint</p>\n</blockquote>\n\n<p>Since your form does not take the <code>id</code> value from the client, the <code>/newproduct</code> endpoint would have a <code>Product</code> with <code>null</code> as its <code>id</code> value:</p>\n\n<pre><code>@RequestMapping(value = \"/newproduct\", method = RequestMethod.POST)\npublic ModelAndView submitForm(@ModelAttribute(\"product\") Product product) { ... }\n</code></pre>\n\n<p>Then you pass this <code>null</code> value as the parameter to the <code>addProduct</code> method:</p>\n\n<pre><code>prDao.addProduct(product.getId(), ...)\n</code></pre>\n\n<p>And finally <code>addProduct</code> would try to save that <code>null</code> value as the value of the <em>Primary Key</em>, which has a <em>Non-Null</em> constraint, so you're got that error.</p>\n\n<p>Also, using <em>Entity</em> objects as the means of communication with client, e.g. <code>Product</code>, is not a good practice. Try to define some auxiliary abstractions like Forms or DTOs and use them for form handling or response assembling.</p>\n"},{"tags":[],"owner":{"account_id":25311694,"reputation":11,"user_id":19134356,"display_name":"Vivek Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652881983,"creation_date":1652778378,"answer_id":72271177,"question_id":36388919,"body_markdown":"    Error-Caused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes\t\r\n    \r\n    operation perform-\r\n    @Id\r\n    private String userName;\r\n\r\n\r\nSolution\r\n\r\n 1. Go to mysql database \r\n 2. Go to schema setting \r\n 3. change Default charset to latin1 \r\n 4. Run on server your spring mvc program step \r\n 5. Finally Your table is created with @Id on String","title":"Auto generate id in Spring MVC","body":"<pre><code>Error-Caused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes \n\noperation perform-\n@Id\nprivate String userName;\n</code></pre>\n<p>Solution</p>\n<ol>\n<li>Go to mysql database</li>\n<li>Go to schema setting</li>\n<li>change Default charset to latin1</li>\n<li>Run on server your spring mvc program step</li>\n<li>Finally Your table is created with @Id on String</li>\n</ol>\n"}],"owner":{"account_id":6363071,"reputation":269,"user_id":4937939,"accept_rate":47,"display_name":"andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65586,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36389151,"answer_count":2,"score":7,"last_activity_date":1652881983,"creation_date":1459705716,"question_id":36388919,"body_markdown":"I&#39;m trying to save data collected by a JSP page within a database (Postgres). At first I tried to insert any values manually (including `id`) in a form and I had no problem saving the data in my db. Now I&#39;m trying to auto generate the `id ` values, but I&#39;m a little bit confused about how to do it properly. \r\n\r\n**My model - Product**\r\n\r\n    public class Product {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \tprivate String description;\r\n    \tprivate double price;\r\n    \t@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    \tprivate Date date;\r\n    \t\r\n    \tpublic Product() { }\r\n    \t\r\n    \tpublic Product(Long id, String description, double price, Date date) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.description = description;\r\n    \t\tthis.price = price;\r\n    \t\tthis.date = date;\r\n    \t}\r\n        //getters and setters\r\n    }\r\n\r\n**My controller - DBConnection**\r\n\r\n    @Controller\r\n    public class DBConnection {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ProductDao prDao;\r\n    \t\r\n    \t@RequestMapping(value = &quot;/newproduct&quot;, method = RequestMethod.GET)\r\n    \tpublic ModelAndView showForm() {\r\n    \t\tProduct product = new Product();\r\n    \t\treturn new ModelAndView(&quot;newproduct&quot;, &quot;product&quot;, product);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value = &quot;/newproduct&quot;, method = RequestMethod.POST)\r\n    \tpublic ModelAndView submitForm(@ModelAttribute(&quot;product&quot;) Product product) {\r\n    \t\tModelAndView mav = new ModelAndView();\r\n    \t\t\r\n    \t\tprDao.addProduct(product.getId(), product.getDescription(), product.getPrice(), product.getDate());\r\n    \t\tmav.setViewName(&quot;product&quot;);\r\n    \t\tmav.addObject(&quot;product&quot;, product);\r\n    \t\treturn mav;\r\n    \t}\r\n    }\r\n\r\n**ProductDaoImpl**\r\n\r\n    public class ProductDaoImpl implements ProductDao {\r\n    \tprivate DataSource dataSource;\r\n    \tprivate JdbcTemplate jdbcTemplate;\r\n    \t\r\n    \t@Override\r\n    \tpublic void setDataSource(DataSource ds) {\r\n    \t\tthis.dataSource = ds;\r\n    \t\tthis.jdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addProduct(Long id, String description, double price, Date date) {\r\n    \t\tjdbcTemplate.update(&quot;INSERT INTO products values(?, ?, ?, ?)&quot;, id, description, price, date);\r\n    \t}\r\n    }\r\n\r\n**My form in newproduct.jsp**\r\n\r\n\t&lt;form:form method=&quot;POST&quot; action=&quot;newproduct&quot; modelAttribute=&quot;product&quot;&gt;\r\n\t\t&lt;table&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:label path=&quot;description&quot;&gt;Description&lt;/form:label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input path=&quot;description&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:label path=&quot;price&quot;&gt;Price&lt;/form:label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input path=&quot;price&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:label path=&quot;date&quot;&gt;Date (dd/mm/yyyy)&lt;/form:label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input path=&quot;date&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\t&lt;/form:form&gt;\r\n\r\n**Error** when I submit the form\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO products values(?, ?, ?, ?)]; ERROR: null values in column &quot;id&quot; violates not-null constraint\r\n      Detail: The row contains error (null, nnvfe, 10.00, 2010-10-10).; nested exception is org.postgresql.util.PSQLException: ERROR: null values in column &quot;id&quot; violates not-null constraint\r\n      Detail: The row contains error (null, nnvfe, 10.00, 2010-10-10).\r\n\r\n\r\nI think the problem is in the `addProduct` method: the `id` value isn&#39;t yet created when I tried to get it. \r\n\r\nHow can I implements an auto generated id? Is the JPA annotation the correct way to do that thing?","title":"Auto generate id in Spring MVC","body":"<p>I'm trying to save data collected by a JSP page within a database (Postgres). At first I tried to insert any values manually (including <code>id</code>) in a form and I had no problem saving the data in my db. Now I'm trying to auto generate the <code>id</code> values, but I'm a little bit confused about how to do it properly. </p>\n\n<p><strong>My model - Product</strong></p>\n\n<pre><code>public class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String description;\n    private double price;\n    @DateTimeFormat(pattern = \"dd/MM/yyyy\")\n    private Date date;\n\n    public Product() { }\n\n    public Product(Long id, String description, double price, Date date) {\n        this.id = id;\n        this.description = description;\n        this.price = price;\n        this.date = date;\n    }\n    //getters and setters\n}\n</code></pre>\n\n<p><strong>My controller - DBConnection</strong></p>\n\n<pre><code>@Controller\npublic class DBConnection {\n\n    @Autowired\n    private ProductDao prDao;\n\n    @RequestMapping(value = \"/newproduct\", method = RequestMethod.GET)\n    public ModelAndView showForm() {\n        Product product = new Product();\n        return new ModelAndView(\"newproduct\", \"product\", product);\n    }\n\n    @RequestMapping(value = \"/newproduct\", method = RequestMethod.POST)\n    public ModelAndView submitForm(@ModelAttribute(\"product\") Product product) {\n        ModelAndView mav = new ModelAndView();\n\n        prDao.addProduct(product.getId(), product.getDescription(), product.getPrice(), product.getDate());\n        mav.setViewName(\"product\");\n        mav.addObject(\"product\", product);\n        return mav;\n    }\n}\n</code></pre>\n\n<p><strong>ProductDaoImpl</strong></p>\n\n<pre><code>public class ProductDaoImpl implements ProductDao {\n    private DataSource dataSource;\n    private JdbcTemplate jdbcTemplate;\n\n    @Override\n    public void setDataSource(DataSource ds) {\n        this.dataSource = ds;\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\n\n    }\n\n    @Override\n    public void addProduct(Long id, String description, double price, Date date) {\n        jdbcTemplate.update(\"INSERT INTO products values(?, ?, ?, ?)\", id, description, price, date);\n    }\n}\n</code></pre>\n\n<p><strong>My form in newproduct.jsp</strong></p>\n\n<pre><code>&lt;form:form method=\"POST\" action=\"newproduct\" modelAttribute=\"product\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;form:label path=\"description\"&gt;Description&lt;/form:label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"description\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;form:label path=\"price\"&gt;Price&lt;/form:label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"price\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;form:label path=\"date\"&gt;Date (dd/mm/yyyy)&lt;/form:label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"date\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;input type=\"submit\" value=\"Submit\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p><strong>Error</strong> when I submit the form</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO products values(?, ?, ?, ?)]; ERROR: null values in column \"id\" violates not-null constraint\n  Detail: The row contains error (null, nnvfe, 10.00, 2010-10-10).; nested exception is org.postgresql.util.PSQLException: ERROR: null values in column \"id\" violates not-null constraint\n  Detail: The row contains error (null, nnvfe, 10.00, 2010-10-10).\n</code></pre>\n\n<p>I think the problem is in the <code>addProduct</code> method: the <code>id</code> value isn't yet created when I tried to get it. </p>\n\n<p>How can I implements an auto generated id? Is the JPA annotation the correct way to do that thing?</p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":0,"creation_date":1406882068,"post_id":25076030,"comment_id":39013264,"body_markdown":"Although is a bit unusual, can&#39;t you make your age be a double? You can of course manipulate the bits of 12.7 to get the integer value associated with it, but I doubt you&#39;ll ever want this.","body":"Although is a bit unusual, can&#39;t you make your age be a double? You can of course manipulate the bits of 12.7 to get the integer value associated with it, but I doubt you&#39;ll ever want this."},{"owner":{"account_id":4130188,"reputation":936,"user_id":3388336,"display_name":"ABucin"},"score":0,"creation_date":1406882171,"post_id":25076030,"comment_id":39013311,"body_markdown":"@SilviuBurcea Unfortunately, no, as the client requirement is that the age should be an Integer value.\n\n\n**Later Edit:** indeed, manipulating the bits is a bit overkill. I would only like to use this as a very last resort :)","body":"@SilviuBurcea Unfortunately, no, as the client requirement is that the age should be an Integer value.   <b>Later Edit:</b> indeed, manipulating the bits is a bit overkill. I would only like to use this as a very last resort :)"},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1406882397,"post_id":25076030,"comment_id":39013419,"body_markdown":"Maybe use some regular expression to look for the existence of a &#39;.&#39;? throw an exception if it returns true? Or maybe just use &#39;instanceof Integer&#39;?","body":"Maybe use some regular expression to look for the existence of a &#39;.&#39;? throw an exception if it returns true? Or maybe just use &#39;instanceof Integer&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1406882719,"creation_date":1406882401,"answer_id":25076147,"question_id":25076030,"body_markdown":"The `setter` method will be called when converting json string into java object using [`ObjectMapper`](http://jackson.codehaus.org/1.7.3/javadoc/org/codehaus/jackson/map/ObjectMapper.html)&#39;s [`readValue()`](http://jackson.codehaus.org/1.7.3/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue%28java.lang.String,%20java.lang.Class%29) method where you can check for value. Look at the setter method&#39;s signature that accepts `String` instead of `Integer`.\r\n\r\nsample code:\r\n\r\n    class Student {\r\n    \r\n        private int age;    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(String ageString) {\r\n            System.out.println(&quot;called&quot;);\r\n            try {\r\n                age = Integer.parseInt(ageString);\r\n            } catch (NumberFormatException e) {\r\n               throw new IllegalArgumentException(&quot;age can&#39;t be in float&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    try {\r\n        Student student = new ObjectMapper().readValue(&quot;{\\&quot;age\\&quot;: 12.5}&quot;, Student.class);\r\n    } catch (IllegalArgumentException e) {\r\n        e.printStackTrace();\r\n    }","title":"Prevent float to int conversion when deserializing with Jackson","body":"<p>The <code>setter</code> method will be called when converting json string into java object using <a href=\"http://jackson.codehaus.org/1.7.3/javadoc/org/codehaus/jackson/map/ObjectMapper.html\" rel=\"noreferrer\"><code>ObjectMapper</code></a>'s <a href=\"http://jackson.codehaus.org/1.7.3/javadoc/org/codehaus/jackson/map/ObjectMapper.html#readValue%28java.lang.String,%20java.lang.Class%29\" rel=\"noreferrer\"><code>readValue()</code></a> method where you can check for value. Look at the setter method's signature that accepts <code>String</code> instead of <code>Integer</code>.</p>\n\n<p>sample code:</p>\n\n<pre><code>class Student {\n\n    private int age;    \n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(String ageString) {\n        System.out.println(\"called\");\n        try {\n            age = Integer.parseInt(ageString);\n        } catch (NumberFormatException e) {\n           throw new IllegalArgumentException(\"age can't be in float\");\n        }\n    }\n}\n\n...\n\ntry {\n    Student student = new ObjectMapper().readValue(\"{\\\"age\\\": 12.5}\", Student.class);\n} catch (IllegalArgumentException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190079,"reputation":436,"user_id":4153267,"display_name":"Jichao Zhang"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1468991226,"creation_date":1468991226,"answer_id":38472723,"question_id":25076030,"body_markdown":"Toggle off ACCEPT_FLOAT_AS_INT. You can check more details at https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features","title":"Prevent float to int conversion when deserializing with Jackson","body":"<p>Toggle off ACCEPT_FLOAT_AS_INT. You can check more details at <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"tags":[],"owner":{"account_id":1542591,"reputation":1787,"user_id":1436874,"accept_rate":100,"display_name":"Eduardo Sanchez-Ros"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493373158,"creation_date":1493373158,"answer_id":43677276,"question_id":25076030,"body_markdown":"A floating-point value will be truncated to an integer value by default from Jackson 2.6. As indicated in a previous answer, setting `ACCEPT_FLOAT_AS_INT` to `false` should fix your problem.\r\n\r\n    @Test(expected = JsonMappingException.class)\r\n    public void shouldFailMarshalling() throws IOException {\r\n        final String student = &quot;{\\&quot;age\\&quot;: 12.5}&quot;;\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n\r\n        // don&#39;t accept float as integer\r\n        mapper.configure(ACCEPT_FLOAT_AS_INT, false);\r\n        mapper.readValue(student, Student.class);\r\n    }","title":"Prevent float to int conversion when deserializing with Jackson","body":"<p>A floating-point value will be truncated to an integer value by default from Jackson 2.6. As indicated in a previous answer, setting <code>ACCEPT_FLOAT_AS_INT</code> to <code>false</code> should fix your problem.</p>\n\n<pre><code>@Test(expected = JsonMappingException.class)\npublic void shouldFailMarshalling() throws IOException {\n    final String student = \"{\\\"age\\\": 12.5}\";\n    final ObjectMapper mapper = new ObjectMapper();\n\n    // don't accept float as integer\n    mapper.configure(ACCEPT_FLOAT_AS_INT, false);\n    mapper.readValue(student, Student.class);\n}\n</code></pre>\n"}],"owner":{"account_id":4130188,"reputation":936,"user_id":3388336,"display_name":"ABucin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15118,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":25076147,"answer_count":3,"score":13,"last_activity_date":1652881934,"creation_date":1406881946,"question_id":25076030,"body_markdown":"I have a JSON payload with the following structure:\r\n\r\n    {\r\n    &quot;age&quot;: 12\r\n    }\r\n\r\nIt is mapped to the following class:\r\n\r\n    public class Student {\r\n\r\n        private Integer age;\r\n\r\n        public Integer getAge(){return age;}\r\n        public void setAge(Integer age){this.age = age;}\r\n    }\r\n\r\nAt the moment, if the user submits a float value for the `age`, the decimals are ignored and the only the integer part is accepted. What I want to do is prevent the user from submitting a payload with a float value for the `age` (see below) and throw an exception (something like &quot;invalid JSON value for field &#39;age&#39; at line 8 col 5&quot; - as is the standard message when deserialization fails).\r\n\r\n    {\r\n    &quot;age&quot;: 12.7 // will be truncated to 12\r\n    }\r\n\r\nI was thinking of implementing a custom deserializer for numeric values, but I was wondering if there is a simpler way to achieve this.\r\n","title":"Prevent float to int conversion when deserializing with Jackson","body":"<p>I have a JSON payload with the following structure:</p>\n<pre><code>{\n&quot;age&quot;: 12\n}\n</code></pre>\n<p>It is mapped to the following class:</p>\n<pre><code>public class Student {\n\n    private Integer age;\n\n    public Integer getAge(){return age;}\n    public void setAge(Integer age){this.age = age;}\n}\n</code></pre>\n<p>At the moment, if the user submits a float value for the <code>age</code>, the decimals are ignored and the only the integer part is accepted. What I want to do is prevent the user from submitting a payload with a float value for the <code>age</code> (see below) and throw an exception (something like &quot;invalid JSON value for field 'age' at line 8 col 5&quot; - as is the standard message when deserialization fails).</p>\n<pre><code>{\n&quot;age&quot;: 12.7 // will be truncated to 12\n}\n</code></pre>\n<p>I was thinking of implementing a custom deserializer for numeric values, but I was wondering if there is a simpler way to achieve this.</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1493978575,"creation_date":1493978575,"answer_id":43802071,"question_id":43801875,"body_markdown":"There is the option `ACCEPT_FLOAT_AS_INT` for that purpose. E.g. :\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(DeserializationFeature.ACCEPT_FLOAT_AS_INT);\r\n\r\nAnd for `&quot;0.1&quot;` you will get:\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Can not coerce a\r\n&gt; floating-point value (&#39;0.1&#39;) into Integer; enable\r\n&gt; `DeserializationFeature.ACCEPT_FLOAT_AS_INT` to allow\r\n\r\nYou can see pertinent docs [here](https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features#value-conversions-coercion)\r\n\r\nNote that this is available since Jackson 2.6","title":"Make the Jackson fail on converting double to int during deserialization","body":"<p>There is the option <code>ACCEPT_FLOAT_AS_INT</code> for that purpose. E.g. :</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.ACCEPT_FLOAT_AS_INT);\n</code></pre>\n\n<p>And for <code>\"0.1\"</code> you will get:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\"\n  com.fasterxml.jackson.databind.JsonMappingException: Can not coerce a\n  floating-point value ('0.1') into Integer; enable\n  <code>DeserializationFeature.ACCEPT_FLOAT_AS_INT</code> to allow</p>\n</blockquote>\n\n<p>You can see pertinent docs <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features#value-conversions-coercion\" rel=\"noreferrer\">here</a></p>\n\n<p>Note that this is available since Jackson 2.6</p>\n"},{"tags":[],"owner":{"account_id":4086251,"reputation":924,"user_id":3355465,"display_name":"RZet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493983690,"creation_date":1493980569,"answer_id":43802781,"question_id":43801875,"body_markdown":"You can define a JSON schema for your JSON document and run validation prior to deserialisation into the Java object.\r\n\r\nIf you define the `median` property as `integer` type, floating point number will be rejected.\r\n\r\nThis approach can also solve the problem about allowing `float numbers` that represent `integers` to be accepted too, for example `2.0`. The schema needs to define the `median` property as follows:\r\n\r\n    {\r\n      ...\r\n      &quot;median&quot;: { &quot;type&quot;: &quot;number&quot;, &quot;multipleOf&quot;: 1.0 }\r\n    }","title":"Make the Jackson fail on converting double to int during deserialization","body":"<p>You can define a JSON schema for your JSON document and run validation prior to deserialisation into the Java object.</p>\n\n<p>If you define the <code>median</code> property as <code>integer</code> type, floating point number will be rejected.</p>\n\n<p>This approach can also solve the problem about allowing <code>float numbers</code> that represent <code>integers</code> to be accepted too, for example <code>2.0</code>. The schema needs to define the <code>median</code> property as follows:</p>\n\n<pre><code>{\n  ...\n  \"median\": { \"type\": \"number\", \"multipleOf\": 1.0 }\n}\n</code></pre>\n"}],"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6591,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1652881961,"accepted_answer_id":43802071,"answer_count":2,"score":9,"last_activity_date":1652881856,"creation_date":1493977999,"question_id":43801875,"body_markdown":"I use Jackson to deserialize a JSON to an immutable custom Java object. Here is the class:\r\n\r\n    final class DataPoint {\r\n      private final int count;\r\n      private final int median;\r\n\r\n      @JsonCreator\r\n      DataPoint(\r\n          @JsonProperty(&quot;count&quot;) int count,\r\n          @JsonProperty(&quot;median&quot;) int median) {\r\n        if (count &lt;= 0) {\r\n          throw new IllegalArgumentException(&quot;...&quot;);\r\n        }\r\n        this.count = count;\r\n        this.median = median;\r\n      }\r\n\r\n      // getters...\r\n    }\r\n\r\nHere is the JSON I deserialize:\r\n\r\n    {\r\n      &quot;count&quot;: 1,\r\n      &quot;median&quot;: 2\r\n    }\r\n\r\nIt works fine. Now, I break the JSON, i.e. replace the integer `median` with the decimal:\r\n\r\n    {\r\n      &quot;count&quot;: 1,\r\n      &quot;median&quot;: 0.1\r\n    }\r\n\r\nNow, I get `count == 1`, and `median == 0`. Instead, I would like the Jackson to fail deserilizing, since the data type of the JSON property `median` and the formal `median` parameter type (an `int`) are different, and the conversion looses the data actually.\r\n\r\nHere is the deserializing code:\r\n\r\n    String json = &quot;...&quot;; // the second JSON\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .enable(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES)\r\n        .enable(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES)\r\n        .enable(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE);\r\n    DataPoint data = mapper.readValue(json, DataPoint.class);\r\n\r\nCan I make Jackson fail when deserializing a decimal to an integer?\r\n\r\n","title":"Make the Jackson fail on converting double to int during deserialization","body":"<p>I use Jackson to deserialize a JSON to an immutable custom Java object. Here is the class:</p>\n<pre><code>final class DataPoint {\n  private final int count;\n  private final int median;\n\n  @JsonCreator\n  DataPoint(\n      @JsonProperty(&quot;count&quot;) int count,\n      @JsonProperty(&quot;median&quot;) int median) {\n    if (count &lt;= 0) {\n      throw new IllegalArgumentException(&quot;...&quot;);\n    }\n    this.count = count;\n    this.median = median;\n  }\n\n  // getters...\n}\n</code></pre>\n<p>Here is the JSON I deserialize:</p>\n<pre><code>{\n  &quot;count&quot;: 1,\n  &quot;median&quot;: 2\n}\n</code></pre>\n<p>It works fine. Now, I break the JSON, i.e. replace the integer <code>median</code> with the decimal:</p>\n<pre><code>{\n  &quot;count&quot;: 1,\n  &quot;median&quot;: 0.1\n}\n</code></pre>\n<p>Now, I get <code>count == 1</code>, and <code>median == 0</code>. Instead, I would like the Jackson to fail deserilizing, since the data type of the JSON property <code>median</code> and the formal <code>median</code> parameter type (an <code>int</code>) are different, and the conversion looses the data actually.</p>\n<p>Here is the deserializing code:</p>\n<pre><code>String json = &quot;...&quot;; // the second JSON\nObjectMapper mapper = new ObjectMapper()\n    .enable(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES)\n    .enable(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES)\n    .enable(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE);\nDataPoint data = mapper.readValue(json, DataPoint.class);\n</code></pre>\n<p>Can I make Jackson fail when deserializing a decimal to an integer?</p>\n"},{"tags":["java","try-catch","swingx"],"comments":[{"owner":{"account_id":9662573,"reputation":414,"user_id":7170105,"display_name":"Vvamp"},"score":0,"creation_date":1652796534,"post_id":72275446,"comment_id":127689769,"body_markdown":"What gets printed when you add `System.out.println(e.getStackTrace());` to the catch that is throwing the error?","body":"What gets printed when you add <code>System.out.println(e.getStackTrace());</code> to the catch that is throwing the error?"},{"owner":{"account_id":9662573,"reputation":414,"user_id":7170105,"display_name":"Vvamp"},"score":0,"creation_date":1652796762,"post_id":72275446,"comment_id":127689872,"body_markdown":"Also, some advice: Don&#39;t encapsulate your entire code in a try catch. Rather use smaller try catch blocks for exception-throwing functions. That way, you know where your errors are","body":"Also, some advice: Don&#39;t encapsulate your entire code in a try catch. Rather use smaller try catch blocks for exception-throwing functions. That way, you know where your errors are"},{"owner":{"account_id":12216444,"reputation":139,"user_id":8916734,"accept_rate":0,"display_name":"chappie"},"score":0,"creation_date":1652873477,"post_id":72275446,"comment_id":127710823,"body_markdown":"I added screenshots of error output. Does the media player in javax support .mp4 file type? according to docs I believe it does.","body":"I added screenshots of error output. Does the media player in javax support .mp4 file type? according to docs I believe it does."},{"owner":{"account_id":12216444,"reputation":139,"user_id":8916734,"accept_rate":0,"display_name":"chappie"},"score":0,"creation_date":1652881867,"post_id":72275446,"comment_id":127714440,"body_markdown":"It runs now. Changed file type to .avi. Video is playing, audio works, controls work but the video itself is not displaying? Posted screenshot above.","body":"It runs now. Changed file type to .avi. Video is playing, audio works, controls work but the video itself is not displaying? Posted screenshot above."}],"owner":{"account_id":12216444,"reputation":139,"user_id":8916734,"accept_rate":0,"display_name":"chappie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652881804,"creation_date":1652796162,"question_id":72275446,"body_markdown":"Trying to embed a .mp4 video in a JPanel. JPanel will load and execute but video does not. The try{} throws an error but not sure why the try{} is throwing the error. Copied this code from another source but it will not compile.\r\n```\r\nimport java.awt.BorderLayout;    \r\nimport java.awt.Component;    \r\nimport java.io.File;    \r\nimport java.net.MalformedURLException;    \r\nimport java.net.URL;    \r\nimport javax.media.Manager;    \r\nimport javax.media.MediaLocator;    \r\nimport javax.media.Player;    \r\nimport javax.swing.JFrame;    \r\nimport javax.swing.JPanel;    \r\npublic class Main extends JPanel \r\n{    \r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\r\n\t\tURL mediaUrl=null;    \r\n\t\tFile file = new File(&quot;Mortal Combat Video.mp4&quot;);     \r\n\t\tSystem.out.println(file);\r\n\t\ttry \r\n\t\t{    \r\n\t\t\tmediaUrl = file.toURL(); \r\n\t\t} \r\n\t\tcatch (MalformedURLException ex) \r\n\t\t{\r\n\t\t\tSystem.out.println(ex);    \r\n\t\t}\r\n\t\r\n\t\tJFrame mediaTest = new JFrame( &quot;Movie Player&quot; );    \r\n\t\tmediaTest.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );    \r\n\t\tMediaPlayer mediaPanel = new MediaPlayer( mediaUrl );\r\n\t\tSystem.out.println(mediaPanel);\r\n\t\tmediaTest.add( mediaPanel );\r\n\t\t\r\n\t\tmediaTest.setSize( 800, 700 ); // set the size of the player    \r\n\t\tmediaTest.setLocationRelativeTo(null);    \r\n\t\tmediaTest.setVisible( true );\r\n\t}    \r\n}\r\n```\r\n\r\n```\r\nimport java.awt.BorderLayout;    \r\nimport java.awt.Component;    \r\nimport java.io.File;    \r\nimport java.net.MalformedURLException;    \r\nimport java.net.URL;    \r\nimport javax.media.Manager;    \r\nimport javax.media.MediaLocator;    \r\nimport javax.media.Player;    \r\nimport javax.swing.JFrame;    \r\nimport javax.swing.JPanel;    \r\npublic class MediaPlayer extends JPanel {    \r\npublic MediaPlayer(URL mediauUrl) {\r\n\r\nsetLayout(new BorderLayout());    \r\n\r\n\tPlayer mediaPlayer = null;\r\n\tComponent video = null;\r\n\t\r\n\tComponent control = null;\r\ntry \r\n\t{\r\n\r\n\t\tmediaPlayer=Manager.createRealizedPlayer(new MediaLocator(mediauUrl));    \t\t\r\n\t\tvideo=mediaPlayer.getVisualComponent(); \r\n\t\tcontrol=mediaPlayer.getControlPanelComponent();\r\n\t\tSystem.out.println(&quot;here3&quot;);\r\n\t\tif (video == null)\r\n\t\t\tSystem.out.println(&quot;video&quot;);\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;video2&quot;);\r\n\t\t    add(video, BorderLayout.CENTER); // place the video component in the panel    \r\n\t\t}\r\n\t\t\r\n\t\tadd(control, BorderLayout.SOUTH); // place the control in panel    \r\n\t\tmediaPlayer.start();    \r\n\t} \r\n\tcatch (Exception e) \r\n\t{    \r\n\t\tSystem.out.println(&quot;error&quot;);\r\n\t}    \r\n}\r\n}\r\n```\r\nThe catch{} prints &quot;error&quot; but not sure why the try{} code will not compile. Any advice is appreciated.\r\n---------------\r\nIts running now, video plays, controls work but the video itself is not visible (audio plays).\r\nHere&#39;s screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eapRm.jpg","title":"javax media player-wont play","body":"<p>Trying to embed a .mp4 video in a JPanel. JPanel will load and execute but video does not. The try{} throws an error but not sure why the try{} is throwing the error. Copied this code from another source but it will not compile.</p>\n<pre><code>import java.awt.BorderLayout;    \nimport java.awt.Component;    \nimport java.io.File;    \nimport java.net.MalformedURLException;    \nimport java.net.URL;    \nimport javax.media.Manager;    \nimport javax.media.MediaLocator;    \nimport javax.media.Player;    \nimport javax.swing.JFrame;    \nimport javax.swing.JPanel;    \npublic class Main extends JPanel \n{    \n\n    public static void main(String[] args) \n    {\n\n        URL mediaUrl=null;    \n        File file = new File(&quot;Mortal Combat Video.mp4&quot;);     \n        System.out.println(file);\n        try \n        {    \n            mediaUrl = file.toURL(); \n        } \n        catch (MalformedURLException ex) \n        {\n            System.out.println(ex);    \n        }\n    \n        JFrame mediaTest = new JFrame( &quot;Movie Player&quot; );    \n        mediaTest.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );    \n        MediaPlayer mediaPanel = new MediaPlayer( mediaUrl );\n        System.out.println(mediaPanel);\n        mediaTest.add( mediaPanel );\n        \n        mediaTest.setSize( 800, 700 ); // set the size of the player    \n        mediaTest.setLocationRelativeTo(null);    \n        mediaTest.setVisible( true );\n    }    \n}\n</code></pre>\n<pre><code>import java.awt.BorderLayout;    \nimport java.awt.Component;    \nimport java.io.File;    \nimport java.net.MalformedURLException;    \nimport java.net.URL;    \nimport javax.media.Manager;    \nimport javax.media.MediaLocator;    \nimport javax.media.Player;    \nimport javax.swing.JFrame;    \nimport javax.swing.JPanel;    \npublic class MediaPlayer extends JPanel {    \npublic MediaPlayer(URL mediauUrl) {\n\nsetLayout(new BorderLayout());    \n\n    Player mediaPlayer = null;\n    Component video = null;\n    \n    Component control = null;\ntry \n    {\n\n        mediaPlayer=Manager.createRealizedPlayer(new MediaLocator(mediauUrl));          \n        video=mediaPlayer.getVisualComponent(); \n        control=mediaPlayer.getControlPanelComponent();\n        System.out.println(&quot;here3&quot;);\n        if (video == null)\n            System.out.println(&quot;video&quot;);\n        else\n        {\n            System.out.println(&quot;video2&quot;);\n            add(video, BorderLayout.CENTER); // place the video component in the panel    \n        }\n        \n        add(control, BorderLayout.SOUTH); // place the control in panel    \n        mediaPlayer.start();    \n    } \n    catch (Exception e) \n    {    \n        System.out.println(&quot;error&quot;);\n    }    \n}\n}\n</code></pre>\n<h2>The catch{} prints &quot;error&quot; but not sure why the try{} code will not compile. Any advice is appreciated.</h2>\n<p>Its running now, video plays, controls work but the video itself is not visible (audio plays).\nHere's screenshot:\n<a href=\"https://i.stack.imgur.com/eapRm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eapRm.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jackson"],"owner":{"account_id":23651590,"reputation":23,"user_id":17683553,"display_name":"Charismatic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652881634,"creation_date":1652881634,"question_id":72290413,"body_markdown":"I have class Student with builder nested, and `@JacksonInject` on one field\r\n\r\n    @JsonDeserialize(builder = Student.Builder.class)\r\n    public class Student implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 2L;\r\n        \r\n        @JacksonInject\r\n        private int id;\r\n        private final String name;\r\n        private final int age;\r\n        private final double score;\r\n        private final boolean olympicGamer;\r\n    \r\n        \r\n        private Student(String name, int age, double score, boolean olympicGamer) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.score = score;\r\n            this.olympicGamer = olympicGamer;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n        public double getScore() {\r\n            return score;\r\n        }\r\n        public boolean isOlympicGamer() {\r\n            return olympicGamer;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n    \r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Student student = (Student) o;\r\n            return age == student.age &amp;&amp;\r\n                    olympicGamer == student.olympicGamer &amp;&amp;\r\n                    Objects.equals(name, student.name);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(name, age, olympicGamer);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Student{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &quot;, score=&quot; + score +\r\n                    &quot;, olympicGamer=&quot; + olympicGamer +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        @JsonPOJOBuilder(withPrefix = &quot;set&quot;)\r\n        public static class Builder  {\r\n    \r\n            \r\n            private int id;\r\n            private String name;\r\n            private int age;\r\n            private double score;\r\n            private boolean olympicGamer;\r\n    \r\n            private Builder() {}\r\n    \r\n            public Builder setName(String name) {\r\n                this.name = name;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setAge(int age) {\r\n                this.age = age;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setScore(double score) {\r\n                this.score = score;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setOlympicGamer(boolean olympicGamer) {\r\n                this.olympicGamer = olympicGamer;\r\n                return this;\r\n            }\r\n    \r\n            public static Builder create() {\r\n                return new Builder();\r\n            }\r\n    \r\n            public Student build() {\r\n                return new Student(name,age,score,olympicGamer);\r\n            }\r\n        }\r\n    }\r\nBut when i try to inject value to field with `@JacksonInject` it&#39;s just dont work\r\n\r\n   \r\n\r\n     ObjectMapper mapper = new ObjectMapper();\r\n                int counter = 1;\r\n                InjectableValues inject = new InjectableValues.Std().addValue(int.class,counter);\r\n                Student student = mapper.reader(inject).\r\n                        forType(Student.class).\r\n                        readValue(request.getInputStream());\r\n                try(IStudentDao dao = new StudentDao()) {\r\n                    dao.create(student);\r\n                } catch (Exception e) {\r\n                    throw new  RuntimeException(e);\r\n                }\r\n            }\r\n`Student` is created but value of field `id` is always 0. When i&#39;m dont use `@JsonDesirializier` and `@JsonPojoBuilder` and use `@JsonCreator` (with `@JsonProperties`) it&#39;s work. Question is why it&#39;s dont work while using `@JsonDesirializier`?  ","title":"Jackson java. @JacksonInject dont work while using it&#39;s with @JsonDesirializier","body":"<p>I have class Student with builder nested, and <code>@JacksonInject</code> on one field</p>\n<pre><code>@JsonDeserialize(builder = Student.Builder.class)\npublic class Student implements Serializable {\n\n    private static final long serialVersionUID = 2L;\n    \n    @JacksonInject\n    private int id;\n    private final String name;\n    private final int age;\n    private final double score;\n    private final boolean olympicGamer;\n\n    \n    private Student(String name, int age, double score, boolean olympicGamer) {\n        this.name = name;\n        this.age = age;\n        this.score = score;\n        this.olympicGamer = olympicGamer;\n    }\n\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getAge() {\n        return age;\n    }\n    public double getScore() {\n        return score;\n    }\n    public boolean isOlympicGamer() {\n        return olympicGamer;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Student student = (Student) o;\n        return age == student.age &amp;&amp;\n                olympicGamer == student.olympicGamer &amp;&amp;\n                Objects.equals(name, student.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age, olympicGamer);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                &quot;, score=&quot; + score +\n                &quot;, olympicGamer=&quot; + olympicGamer +\n                '}';\n    }\n\n    @JsonPOJOBuilder(withPrefix = &quot;set&quot;)\n    public static class Builder  {\n\n        \n        private int id;\n        private String name;\n        private int age;\n        private double score;\n        private boolean olympicGamer;\n\n        private Builder() {}\n\n        public Builder setName(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Builder setAge(int age) {\n            this.age = age;\n            return this;\n        }\n\n        public Builder setScore(double score) {\n            this.score = score;\n            return this;\n        }\n\n        public Builder setOlympicGamer(boolean olympicGamer) {\n            this.olympicGamer = olympicGamer;\n            return this;\n        }\n\n        public static Builder create() {\n            return new Builder();\n        }\n\n        public Student build() {\n            return new Student(name,age,score,olympicGamer);\n        }\n    }\n}\n</code></pre>\n<p>But when i try to inject value to field with <code>@JacksonInject</code> it's just dont work</p>\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n            int counter = 1;\n            InjectableValues inject = new InjectableValues.Std().addValue(int.class,counter);\n            Student student = mapper.reader(inject).\n                    forType(Student.class).\n                    readValue(request.getInputStream());\n            try(IStudentDao dao = new StudentDao()) {\n                dao.create(student);\n            } catch (Exception e) {\n                throw new  RuntimeException(e);\n            }\n        }\n</code></pre>\n<p><code>Student</code> is created but value of field <code>id</code> is always 0. When i'm dont use <code>@JsonDesirializier</code> and <code>@JsonPojoBuilder</code> and use <code>@JsonCreator</code> (with <code>@JsonProperties</code>) it's work. Question is why it's dont work while using <code>@JsonDesirializier</code>?</p>\n"},{"tags":["java","hibernate","jpa","createcriteria"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652880401,"creation_date":1652880401,"answer_id":72290096,"question_id":72276466,"body_markdown":"```\r\nCriteriaBuilder builder = sessionFactory.getCriteriaBuilder();\r\nCriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\r\nRoot&lt;Mutation&gt; mutation = query.from(Mutation.class);\r\nJoin&lt;Object, Object&gt; user = mutation.join(&quot;user&quot;);\r\nJoin&lt;Object, Object&gt; advisor = user.join(&quot;advisors&quot;);\r\nquery.multiselect( mutation.get( &quot;id&quot; ), mutation.get( &quot;mutationType&quot; ), user.get( &quot;id&quot; ), user.get( &quot;displayName&quot; ), advisor.get( &quot;id&quot; ), advisor.get( &quot;displayName&quot; ) );\r\nquery.where( advisor.get(&quot;id&quot;).in(2, 3) );\r\n```\r\n\r\nCheck the [Hibernate ORM paragraph about Criteria][1] for more details.\r\n\r\nPS: `user` is a special keyword for many databases. I would escape it when using it as name of the table:\r\n```\r\n@Table(name = &quot;`user`&quot;)\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#criteria","title":"Convert SQL into Criteria statement","body":"<pre><code>CriteriaBuilder builder = sessionFactory.getCriteriaBuilder();\nCriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\nRoot&lt;Mutation&gt; mutation = query.from(Mutation.class);\nJoin&lt;Object, Object&gt; user = mutation.join(&quot;user&quot;);\nJoin&lt;Object, Object&gt; advisor = user.join(&quot;advisors&quot;);\nquery.multiselect( mutation.get( &quot;id&quot; ), mutation.get( &quot;mutationType&quot; ), user.get( &quot;id&quot; ), user.get( &quot;displayName&quot; ), advisor.get( &quot;id&quot; ), advisor.get( &quot;displayName&quot; ) );\nquery.where( advisor.get(&quot;id&quot;).in(2, 3) );\n</code></pre>\n<p>Check the <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#criteria\" rel=\"nofollow noreferrer\">Hibernate ORM paragraph about Criteria</a> for more details.</p>\n<p>PS: <code>user</code> is a special keyword for many databases. I would escape it when using it as name of the table:</p>\n<pre><code>@Table(name = &quot;`user`&quot;)\n</code></pre>\n"}],"owner":{"account_id":21105789,"reputation":1,"user_id":15514811,"display_name":"abdelmonaim serrhini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652880401,"creation_date":1652800167,"question_id":72276466,"body_markdown":"I want to convert this SQL query to Criteria statement,\r\nI&#39;m using createCriteria(Entity.class) function.\r\n\r\nThe following is the SQL query I want to convert:\r\n\r\n```\r\nselect sm.id, sm.mutation_type, u.id, u.display_name, advisor.id, advisor.display_name from mutation sm\r\ninner join user u on sm.user_id = u.id\r\ninner join user_advisor ua on u.id = ua.user_id\r\ninner join user advisor on advisor.id = ua.advisor_id\r\nwhere advisor_id in (2, 3)\r\n```\r\nThe following are JPA entities used:\r\n```\r\n@Entity\r\npublic class Mutation {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private long id;\r\n\r\n    private String mutationType;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {})\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;user_type&quot;, discriminatorType = DiscriminatorType.STRING, length = 32)\r\n@DiscriminatorValue(value = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\t@Access(value = AccessType.PROPERTY)\r\n\tprotected int id;\r\n\r\n\tprotected String displayName;\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;user_advisor&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;advisor_id&quot;))\r\n\tprotected Set&lt;Advisor&gt; advisors;\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@DiscriminatorValue(value = &quot;advisor&quot;)\r\npublic class Advisor extends User {\r\n\r\n}\r\n```\r\n","title":"Convert SQL into Criteria statement","body":"<p>I want to convert this SQL query to Criteria statement,\nI'm using createCriteria(Entity.class) function.</p>\n<p>The following is the SQL query I want to convert:</p>\n<pre><code>select sm.id, sm.mutation_type, u.id, u.display_name, advisor.id, advisor.display_name from mutation sm\ninner join user u on sm.user_id = u.id\ninner join user_advisor ua on u.id = ua.user_id\ninner join user advisor on advisor.id = ua.advisor_id\nwhere advisor_id in (2, 3)\n</code></pre>\n<p>The following are JPA entities used:</p>\n<pre><code>@Entity\npublic class Mutation {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    private String mutationType;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {})\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;user_type&quot;, discriminatorType = DiscriminatorType.STRING, length = 32)\n@DiscriminatorValue(value = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @Access(value = AccessType.PROPERTY)\n    protected int id;\n\n    protected String displayName;\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;user_advisor&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;advisor_id&quot;))\n    protected Set&lt;Advisor&gt; advisors;\n\n\n}\n</code></pre>\n<pre><code>@Entity\n@DiscriminatorValue(value = &quot;advisor&quot;)\npublic class Advisor extends User {\n\n}\n</code></pre>\n"},{"tags":["java","email","smtp","exchange-server","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":1070227,"reputation":993,"user_id":1069701,"accept_rate":32,"display_name":"felipecao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652880103,"creation_date":1652880103,"answer_id":72290009,"question_id":72230546,"body_markdown":"Ok, I&#39;ve managed to make it work using Microsoft Graph API instead of MSAL, posting an example here in case anyone ever needs it: \r\n\r\n```\r\npackage com.email;\r\n\r\nimport com.azure.identity.UsernamePasswordCredential;\r\nimport com.azure.identity.UsernamePasswordCredentialBuilder;\r\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\nimport com.microsoft.graph.models.BodyType;\r\nimport com.microsoft.graph.models.EmailAddress;\r\nimport com.microsoft.graph.models.ItemBody;\r\nimport com.microsoft.graph.models.Message;\r\nimport com.microsoft.graph.models.Recipient;\r\nimport com.microsoft.graph.models.UserSendMailParameterSet;\r\nimport com.microsoft.graph.requests.GraphServiceClient;\r\nimport okhttp3.Request;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedList;\r\nimport java.util.Set;\r\n\r\npublic class GraphAPIExample {\r\n\r\n    private static final String clientId = System.getenv(&quot;SMTP_CLIENT_ID&quot;);\r\n    private static final String to = &quot;your@email.com&quot;;\r\n    private static final String mailbox = System.getenv(&quot;SMTP_MAILBOX&quot;);\r\n    private static final String pwd = System.getenv(&quot;SMTP_MAILBOX_PWD&quot;);\r\n\r\n    private static final Set&lt;String&gt; scopes = Set.of(&quot;Mail.Send&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                .clientId(clientId)\r\n                .username(mailbox)\r\n                .password(pwd)\r\n                .build();\r\n\r\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(new ArrayList&lt;&gt;(scopes), usernamePasswordCredential);\r\n\r\n        final GraphServiceClient&lt;Request&gt; graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n\r\n        graphClient.me()\r\n                .sendMail(UserSendMailParameterSet\r\n                        .newBuilder()\r\n                        .withMessage(createMessage())\r\n                        .build())\r\n                .buildRequest()\r\n                .post();\r\n    }\r\n\r\n    private static Message createMessage() {\r\n        Message message = new Message();\r\n        ItemBody body = new ItemBody();\r\n\r\n        message.subject = &quot;testing modern auth&quot;;\r\n\r\n        body.contentType = BodyType.TEXT;\r\n        body.content = &quot;testing modern auth&quot;;\r\n        message.body = body;\r\n\r\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;&gt;();\r\n        Recipient toRecipients = new Recipient();\r\n        EmailAddress emailAddress = new EmailAddress();\r\n        emailAddress.address = to;\r\n        toRecipients.emailAddress = emailAddress;\r\n        toRecipientsList.add(toRecipients);\r\n        message.toRecipients = toRecipientsList;\r\n\r\n        return message;\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou&#39;re going to need the following dependencies to run this example:\r\n```\r\nimplementation(&quot;com.microsoft.graph:microsoft-graph:5.23.0&quot;)\r\nimplementation(&quot;com.azure:azure-identity:1.5.1&quot;)\r\n```","title":"How can I send an e-mail from Microsoft Outlook using MSAL in Java?","body":"<p>Ok, I've managed to make it work using Microsoft Graph API instead of MSAL, posting an example here in case anyone ever needs it:</p>\n<pre><code>package com.email;\n\nimport com.azure.identity.UsernamePasswordCredential;\nimport com.azure.identity.UsernamePasswordCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.models.BodyType;\nimport com.microsoft.graph.models.EmailAddress;\nimport com.microsoft.graph.models.ItemBody;\nimport com.microsoft.graph.models.Message;\nimport com.microsoft.graph.models.Recipient;\nimport com.microsoft.graph.models.UserSendMailParameterSet;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport okhttp3.Request;\n\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.Set;\n\npublic class GraphAPIExample {\n\n    private static final String clientId = System.getenv(&quot;SMTP_CLIENT_ID&quot;);\n    private static final String to = &quot;your@email.com&quot;;\n    private static final String mailbox = System.getenv(&quot;SMTP_MAILBOX&quot;);\n    private static final String pwd = System.getenv(&quot;SMTP_MAILBOX_PWD&quot;);\n\n    private static final Set&lt;String&gt; scopes = Set.of(&quot;Mail.Send&quot;);\n\n    public static void main(String[] args) {\n        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n                .clientId(clientId)\n                .username(mailbox)\n                .password(pwd)\n                .build();\n\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(new ArrayList&lt;&gt;(scopes), usernamePasswordCredential);\n\n        final GraphServiceClient&lt;Request&gt; graphClient =\n                GraphServiceClient\n                        .builder()\n                        .authenticationProvider(tokenCredentialAuthProvider)\n                        .buildClient();\n\n        graphClient.me()\n                .sendMail(UserSendMailParameterSet\n                        .newBuilder()\n                        .withMessage(createMessage())\n                        .build())\n                .buildRequest()\n                .post();\n    }\n\n    private static Message createMessage() {\n        Message message = new Message();\n        ItemBody body = new ItemBody();\n\n        message.subject = &quot;testing modern auth&quot;;\n\n        body.contentType = BodyType.TEXT;\n        body.content = &quot;testing modern auth&quot;;\n        message.body = body;\n\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;&gt;();\n        Recipient toRecipients = new Recipient();\n        EmailAddress emailAddress = new EmailAddress();\n        emailAddress.address = to;\n        toRecipients.emailAddress = emailAddress;\n        toRecipientsList.add(toRecipients);\n        message.toRecipients = toRecipientsList;\n\n        return message;\n    }\n}\n\n</code></pre>\n<p>You're going to need the following dependencies to run this example:</p>\n<pre><code>implementation(&quot;com.microsoft.graph:microsoft-graph:5.23.0&quot;)\nimplementation(&quot;com.azure:azure-identity:1.5.1&quot;)\n</code></pre>\n"}],"owner":{"account_id":1070227,"reputation":993,"user_id":1069701,"accept_rate":32,"display_name":"felipecao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652880103,"creation_date":1652449314,"question_id":72230546,"body_markdown":"I&#39;m trying to develop an application in Java / Spring that connects to an Microsoft Outlook / Exchange SMTP Relay to send e-mails using MSAL4J, but I keep getting an authentication error when I try to connect to the mail server.\r\n\r\nAm I doing anything wrong here?\r\n\r\n```\r\npackage com.email;\r\n\r\nimport com.microsoft.aad.msal4j.ClientCredentialFactory;\r\nimport com.microsoft.aad.msal4j.ClientCredentialParameters;\r\nimport com.microsoft.aad.msal4j.ConfidentialClientApplication;\r\nimport com.microsoft.aad.msal4j.IAuthenticationResult;\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.util.Properties;\r\nimport java.util.Set;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\npublic class SmtpTestMSAL {\r\n\r\n    private static final String clientId = &quot;&lt;removed&gt;&quot;;\r\n    private static final String tenantId = &quot;&lt;removed&gt;&quot;;\r\n    private static final String secret = &quot;&lt;removed&gt;&quot;;\r\n    private static final String to = &quot;&lt;removed&gt;&quot;;\r\n    private static final String from = &quot;&lt;removed&gt;&quot;;\r\n    private static final String pwd = &quot;&lt;removed&gt;&quot;;\r\n\r\n    private static final String authUrl = &quot;https://login.microsoftonline.com/&quot; + tenantId + &quot;/oauth2/v2.0/authorize&quot;;\r\n    private static final Set&lt;String&gt; scope = Set.of(&quot;https://graph.microsoft.com/.default&quot;);\r\n\r\n    public static void main(String[] args) throws MalformedURLException, ExecutionException, InterruptedException {\r\n        String token = getAccessToken();\r\n\r\n        System.out.println(&quot;token: &quot; + token);\r\n\r\n        JavaMailSender mailSender = prepareSender(token);\r\n        SimpleMailMessage message = new SimpleMailMessage();\r\n\r\n        message.setFrom(from);\r\n        message.setTo(to);\r\n        message.setSubject(&quot;testing modern auth&quot;);\r\n        message.setText(&quot;testing modern auth&quot;);\r\n\r\n        mailSender.send(message);\r\n    }\r\n\r\n    private static String getAccessToken() throws MalformedURLException, ExecutionException, InterruptedException {\r\n        ConfidentialClientApplication app = ConfidentialClientApplication\r\n                .builder(\r\n                        clientId,\r\n                        ClientCredentialFactory.createFromSecret(secret)\r\n                )\r\n                .authority(authUrl)\r\n                .build();\r\n\r\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters\r\n                .builder(scope)\r\n                .build();\r\n\r\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n\r\n        return future.get().accessToken();\r\n    }\r\n\r\n    private static JavaMailSender prepareSender(String oauthToken) {\r\n\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        Properties props = mailSender.getJavaMailProperties();\r\n\r\n        mailSender.setHost(&quot;smtp.office365.com&quot;);\r\n        mailSender.setPort(587);\r\n        mailSender.setUsername(from);\r\n        mailSender.setPassword(pwd);\r\n\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.sasl.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n        props.put(&quot;mail.smtp.sasl.mechanisms.oauth2.oauthToken&quot;, oauthToken);\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\r\n        return mailSender;\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is the log of the SMTP session: \r\n```\r\nDEBUG: Jakarta Mail version 1.6.7\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\nDEBUG: Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\nDEBUG SMTP: enable SASL\r\nDEBUG SMTP: useEhlo true, useAuth false\r\nDEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\r\n220 &lt;removed&gt;.outlook.office365.com Microsoft ESMTP MAIL Service ready at Fri, 13 May 2022 13:36:12 +0000\r\nDEBUG SMTP: connected to host &quot;smtp.office365.com&quot;, port: 587\r\nEHLO pc-364.home\r\n250-&lt;removed&gt;.outlook.office365.com Hello [37.135.92.227]\r\n250-SIZE 157286400\r\n250-PIPELINING\r\n250-DSN\r\n250-ENHANCEDSTATUSCODES\r\n250-STARTTLS\r\n250-8BITMIME\r\n250-BINARYMIME\r\n250-CHUNKING\r\n250 SMTPUTF8\r\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;157286400&quot;\r\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\nSTARTTLS\r\n220 2.0.0 SMTP server ready\r\nEHLO pc-364.home\r\n250-PAZP264CA0194.outlook.office365.com Hello [37.135.92.227]\r\n250-SIZE 157286400\r\n250-PIPELINING\r\n250-DSN\r\n250-ENHANCEDSTATUSCODES\r\n250-AUTH LOGIN XOAUTH2\r\n250-8BITMIME\r\n250-BINARYMIME\r\n250-CHUNKING\r\n250 SMTPUTF8\r\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;157286400&quot;\r\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;LOGIN XOAUTH2&quot;\r\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\nDEBUG SMTP: protocolConnect login, host=smtp.office365.com, user=&lt;removed&gt;, password=&lt;non-null&gt;\r\nDEBUG SMTP: Authenticate with SASL\r\nDEBUG SMTP: SASL mechanisms allowed: XOAUTH2\r\nDEBUG SMTP: SASL Mechanisms:\r\nDEBUG SMTP:  XOAUTH2\r\nDEBUG SMTP: \r\nDEBUG SMTP: SASL client XOAUTH2\r\nDEBUG SMTP: SASL callback length: 2\r\nDEBUG SMTP: SASL callback 0: javax.security.auth.callback.NameCallback@1188e820\r\nDEBUG SMTP: SASL callback 1: javax.security.auth.callback.PasswordCallback@2f490758\r\nAUTH XOAUTH2 &lt;removed&gt;\r\n535 5.7.3 Authentication unsuccessful [&lt;removed&gt;.OUTLOOK.COM]\r\nDEBUG SMTP: SASL authentication failed\r\n```\r\n\r\nAny help is super appreciated!","title":"How can I send an e-mail from Microsoft Outlook using MSAL in Java?","body":"<p>I'm trying to develop an application in Java / Spring that connects to an Microsoft Outlook / Exchange SMTP Relay to send e-mails using MSAL4J, but I keep getting an authentication error when I try to connect to the mail server.</p>\n<p>Am I doing anything wrong here?</p>\n<pre><code>package com.email;\n\nimport com.microsoft.aad.msal4j.ClientCredentialFactory;\nimport com.microsoft.aad.msal4j.ClientCredentialParameters;\nimport com.microsoft.aad.msal4j.ConfidentialClientApplication;\nimport com.microsoft.aad.msal4j.IAuthenticationResult;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\nimport java.net.MalformedURLException;\nimport java.util.Properties;\nimport java.util.Set;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\n\npublic class SmtpTestMSAL {\n\n    private static final String clientId = &quot;&lt;removed&gt;&quot;;\n    private static final String tenantId = &quot;&lt;removed&gt;&quot;;\n    private static final String secret = &quot;&lt;removed&gt;&quot;;\n    private static final String to = &quot;&lt;removed&gt;&quot;;\n    private static final String from = &quot;&lt;removed&gt;&quot;;\n    private static final String pwd = &quot;&lt;removed&gt;&quot;;\n\n    private static final String authUrl = &quot;https://login.microsoftonline.com/&quot; + tenantId + &quot;/oauth2/v2.0/authorize&quot;;\n    private static final Set&lt;String&gt; scope = Set.of(&quot;https://graph.microsoft.com/.default&quot;);\n\n    public static void main(String[] args) throws MalformedURLException, ExecutionException, InterruptedException {\n        String token = getAccessToken();\n\n        System.out.println(&quot;token: &quot; + token);\n\n        JavaMailSender mailSender = prepareSender(token);\n        SimpleMailMessage message = new SimpleMailMessage();\n\n        message.setFrom(from);\n        message.setTo(to);\n        message.setSubject(&quot;testing modern auth&quot;);\n        message.setText(&quot;testing modern auth&quot;);\n\n        mailSender.send(message);\n    }\n\n    private static String getAccessToken() throws MalformedURLException, ExecutionException, InterruptedException {\n        ConfidentialClientApplication app = ConfidentialClientApplication\n                .builder(\n                        clientId,\n                        ClientCredentialFactory.createFromSecret(secret)\n                )\n                .authority(authUrl)\n                .build();\n\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters\n                .builder(scope)\n                .build();\n\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n\n        return future.get().accessToken();\n    }\n\n    private static JavaMailSender prepareSender(String oauthToken) {\n\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        Properties props = mailSender.getJavaMailProperties();\n\n        mailSender.setHost(&quot;smtp.office365.com&quot;);\n        mailSender.setPort(587);\n        mailSender.setUsername(from);\n        mailSender.setPassword(pwd);\n\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.sasl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n        props.put(&quot;mail.smtp.sasl.mechanisms.oauth2.oauthToken&quot;, oauthToken);\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n\n        return mailSender;\n    }\n}\n\n</code></pre>\n<p>this is the log of the SMTP session:</p>\n<pre><code>DEBUG: Jakarta Mail version 1.6.7\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: enable SASL\nDEBUG SMTP: useEhlo true, useAuth false\nDEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\n220 &lt;removed&gt;.outlook.office365.com Microsoft ESMTP MAIL Service ready at Fri, 13 May 2022 13:36:12 +0000\nDEBUG SMTP: connected to host &quot;smtp.office365.com&quot;, port: 587\nEHLO pc-364.home\n250-&lt;removed&gt;.outlook.office365.com Hello [37.135.92.227]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;157286400&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 SMTP server ready\nEHLO pc-364.home\n250-PAZP264CA0194.outlook.office365.com Hello [37.135.92.227]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-AUTH LOGIN XOAUTH2\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;157286400&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;LOGIN XOAUTH2&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nDEBUG SMTP: protocolConnect login, host=smtp.office365.com, user=&lt;removed&gt;, password=&lt;non-null&gt;\nDEBUG SMTP: Authenticate with SASL\nDEBUG SMTP: SASL mechanisms allowed: XOAUTH2\nDEBUG SMTP: SASL Mechanisms:\nDEBUG SMTP:  XOAUTH2\nDEBUG SMTP: \nDEBUG SMTP: SASL client XOAUTH2\nDEBUG SMTP: SASL callback length: 2\nDEBUG SMTP: SASL callback 0: javax.security.auth.callback.NameCallback@1188e820\nDEBUG SMTP: SASL callback 1: javax.security.auth.callback.PasswordCallback@2f490758\nAUTH XOAUTH2 &lt;removed&gt;\n535 5.7.3 Authentication unsuccessful [&lt;removed&gt;.OUTLOOK.COM]\nDEBUG SMTP: SASL authentication failed\n</code></pre>\n<p>Any help is super appreciated!</p>\n"},{"tags":["java","generics","inheritance","interface","multiple-inheritance"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652877471,"post_id":72289292,"comment_id":127712360,"body_markdown":"Because an `interface` `extend` from other `interface`s ;). Classes `implement` `interface`s","body":"Because an <code>interface</code> <code>extend</code> from other <code>interface</code>s ;). Classes <code>implement</code> <code>interface</code>s"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1652877857,"post_id":72289292,"comment_id":127712542,"body_markdown":"Hi @MadProgrammer! I do not want to extend my interface from another interface, but from a class. In this example Edible should [extend or implement] Crop, so that it itself can only be implemented by classes that extend Crop. (and potentially use Crop-methods).","body":"Hi @MadProgrammer! I do not want to extend my interface from another interface, but from a class. In this example Edible should [extend or implement] Crop, so that it itself can only be implemented by classes that extend Crop. (and potentially use Crop-methods)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652878248,"post_id":72289292,"comment_id":127712715,"body_markdown":"You should write `public abstract class Crop implements Edible`, the reverse is not possible (and wouldn&#39;t make sense in a logical sense). If you only want subclasses of `Crop` to extend `Edible`, you should probably use sealed classes (Java 17 or higher).","body":"You should write <code>public abstract class Crop implements Edible</code>, the reverse is not possible (and wouldn&#39;t make sense in a logical sense). If you only want subclasses of <code>Crop</code> to extend <code>Edible</code>, you should probably use sealed classes (Java 17 or higher)."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1652878571,"post_id":72289292,"comment_id":127712860,"body_markdown":"Hi @MarkRotteveel! There are crops (in this case Holly), which are not Edible, but everything that is Edible is a Crop. So basically, the interface Edible should only be implemented by classes that extend Crop, for example Apple and Wheat, but not all classes should implement it.","body":"Hi @MarkRotteveel! There are crops (in this case Holly), which are not Edible, but everything that is Edible is a Crop. So basically, the interface Edible should only be implemented by classes that extend Crop, for example Apple and Wheat, but not all classes should implement it."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652878644,"post_id":72289292,"comment_id":127712894,"body_markdown":"`public interface Edible implements Crop` should be `public interface Edible extends Crop`","body":"<code>public interface Edible implements Crop</code> should be <code>public interface Edible extends Crop</code>"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1652878826,"post_id":72289292,"comment_id":127712977,"body_markdown":"Hi @MadProgrammer! I tried it out, but it tells me that an interface (Edible) cannot extend a class (Crop): &quot;interface expected here&quot;","body":"Hi @MadProgrammer! I tried it out, but it tells me that an interface (Edible) cannot extend a class (Crop): &quot;interface expected here&quot;"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1652878863,"post_id":72289292,"comment_id":127712987,"body_markdown":"If every Edible is a Crop then you should remove Edible and put any of its methods inside Crop.","body":"If every Edible is a Crop then you should remove Edible and put any of its methods inside Crop."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1652879202,"post_id":72289292,"comment_id":127713162,"body_markdown":"@Michael thanks that technically works, but I would have methods (for example getHealthiness()) that just don&#39;t apply for any other crops, because they cannot even be eaten (at least by humen). I could throw an exception if such a method is called from a non-edible crop, but it would be dirty and mean, that I could not for example restrict a method to only accept Edibles as a parameter and not any Crop.","body":"@Michael thanks that technically works, but I would have methods (for example getHealthiness()) that just don&#39;t apply for any other crops, because they cannot even be eaten (at least by humen). I could throw an exception if such a method is called from a non-edible crop, but it would be dirty and mean, that I could not for example restrict a method to only accept Edibles as a parameter and not any Crop."}],"answers":[{"tags":[],"owner":{"account_id":20367925,"reputation":116,"user_id":14940782,"display_name":"Sergio Quinteiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652879502,"creation_date":1652878668,"answer_id":72289667,"question_id":72289292,"body_markdown":"You cannot implement a Java Class on an Interface. Interfaces can only `extend` other interfaces. So, in that way, you can declare another interface (and implement it on `Crop`). Then, you can extend this new interface on `Editable`.\r\n\r\nThis can be something like:\r\n\r\n    public abstract class Crop implements NewInterface{\r\n    }\r\n\r\n    public interface Edible extends NewInterface {\r\n    }\r\n\r\n\r\n","title":"Java implement class in interface","body":"<p>You cannot implement a Java Class on an Interface. Interfaces can only <code>extend</code> other interfaces. So, in that way, you can declare another interface (and implement it on <code>Crop</code>). Then, you can extend this new interface on <code>Editable</code>.</p>\n<p>This can be something like:</p>\n<pre><code>public abstract class Crop implements NewInterface{\n}\n\npublic interface Edible extends NewInterface {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652879248,"creation_date":1652878912,"answer_id":72289737,"question_id":72289292,"body_markdown":"The only option to restrict what classes can implement an interface is using a [sealed interface][1] (introduced in Java 17), which restrict what class can inherit it. However, your use-case has the &quot;problem&quot; that not all crops are edible, which complicates matters.\r\n\r\nOn the face of it, your problem is not solvable, unless you want to explicitly list all possible classes in the interface.\r\n\r\nFor example, your problem could be solved like\r\n\r\n```java\r\npublic sealed interface Edible \r\n        permits Apple, Wheat {\r\n}\r\n\r\npublic abstract class Crop {\r\n}\r\n\r\npublic abstract class Fruit extends Crop {\r\n}\r\n\r\npublic final class Apple extends Fruit implements Edible /* BOTH A CROP AND EDIBLE */{\r\n}\r\n\r\npublic class Holly extends Fruit /* NOT EDIBLE */ {\r\n}\r\n\r\npublic final class Wheat extends Crop implements Edible {\r\n}\r\n```\r\n\r\nYou could relax some of the constraints by using something like:\r\n\r\n```java\r\npublic sealed interface Edible \r\n        permits EdibleFruit, Wheat {\r\n}\r\n\r\npublic abstract class Crop {\r\n}\r\n\r\npublic abstract class Fruit extends Crop {\r\n}\r\n\r\npublic non-sealed abstract class EdibleFruit extends Fruit implements Edible {\r\n}\r\n\r\npublic class Apple extends EdibleFruit /* BOTH A CROP AND EDIBLE */{\r\n}\r\n\r\npublic class Holly extends Fruit /* NOT EDIBLE */ {\r\n}\r\n\r\npublic final class Wheat extends Crop implements Edible {\r\n}\r\n```\r\n\r\nBut that could lead to a complicated hierarchy (e.g. consider that some sub-types of an edible fruit are not edible).\r\n\r\nIt might make more sense to handle this differently, e.g. a check on edibility or toxicity, or maximum safe dose, or something like that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/sealed-classes-and-interfaces.html","title":"Java implement class in interface","body":"<p>The only option to restrict what classes can implement an interface is using a <a href=\"https://docs.oracle.com/en/java/javase/17/language/sealed-classes-and-interfaces.html\" rel=\"nofollow noreferrer\">sealed interface</a> (introduced in Java 17), which restrict what class can inherit it. However, your use-case has the &quot;problem&quot; that not all crops are edible, which complicates matters.</p>\n<p>On the face of it, your problem is not solvable, unless you want to explicitly list all possible classes in the interface.</p>\n<p>For example, your problem could be solved like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Edible \n        permits Apple, Wheat {\n}\n\npublic abstract class Crop {\n}\n\npublic abstract class Fruit extends Crop {\n}\n\npublic final class Apple extends Fruit implements Edible /* BOTH A CROP AND EDIBLE */{\n}\n\npublic class Holly extends Fruit /* NOT EDIBLE */ {\n}\n\npublic final class Wheat extends Crop implements Edible {\n}\n</code></pre>\n<p>You could relax some of the constraints by using something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Edible \n        permits EdibleFruit, Wheat {\n}\n\npublic abstract class Crop {\n}\n\npublic abstract class Fruit extends Crop {\n}\n\npublic non-sealed abstract class EdibleFruit extends Fruit implements Edible {\n}\n\npublic class Apple extends EdibleFruit /* BOTH A CROP AND EDIBLE */{\n}\n\npublic class Holly extends Fruit /* NOT EDIBLE */ {\n}\n\npublic final class Wheat extends Crop implements Edible {\n}\n</code></pre>\n<p>But that could lead to a complicated hierarchy (e.g. consider that some sub-types of an edible fruit are not edible).</p>\n<p>It might make more sense to handle this differently, e.g. a check on edibility or toxicity, or maximum safe dose, or something like that.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652879748,"creation_date":1652879626,"answer_id":72289907,"question_id":72289292,"body_markdown":"Why not constraint `Edible`?\r\n\r\n    interface Edible&lt;T extends Crop&gt; {}\r\n\r\nso that every edible must instanciate the interface if it subclass `Crop`:\r\n\r\n    class A extends Crop implements Edible&lt;A&gt; {} // Ok\r\n    class B implements Edible&lt;B&gt; {} // Bad\r\n\r\nAt least every `Edible` needs to be instantiated with a class that is a `Crop`. But you can do weird things like:\r\n\r\n    class C implements Edible&lt;A&gt; {}\r\n\r\n","title":"Java implement class in interface","body":"<p>Why not constraint <code>Edible</code>?</p>\n<pre><code>interface Edible&lt;T extends Crop&gt; {}\n</code></pre>\n<p>so that every edible must instanciate the interface if it subclass <code>Crop</code>:</p>\n<pre><code>class A extends Crop implements Edible&lt;A&gt; {} // Ok\nclass B implements Edible&lt;B&gt; {} // Bad\n</code></pre>\n<p>At least every <code>Edible</code> needs to be instantiated with a class that is a <code>Crop</code>. But you can do weird things like:</p>\n<pre><code>class C implements Edible&lt;A&gt; {}\n</code></pre>\n"}],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72289667,"answer_count":3,"score":0,"last_activity_date":1652880101,"creation_date":1652877322,"question_id":72289292,"body_markdown":"Say I have the following classes:\r\n\r\n    public abstract class Crop {\r\n    }\r\n\r\n    public abstract class Fruit extends Crop {\r\n    }\r\n\r\n    public interface Edible /* ALWAYS IMPLEMENTED BY A CROP */ {\r\n    }\r\n\r\n    public class Apple extends Fruit implements Edible /* BOTH A CROP AND EDIBLE */ {\r\n    }\r\n    \r\n    public class Holly extends Fruit /* NOT EDIBLE */ {\r\n    }\r\n\r\n    public class Wheat extends Crop implements Edible {\r\n    }\r\n\r\nNow, I want to make sure that every `Edible` (interface) is a `Crop` (class).\r\n\r\nWhy can I not say:\r\n\r\n    public interface Edible implements Crop {\r\n    }\r\n\r\nSo that `Edible` itself can only be implemented by classes that extend `Crop`? \r\n\r\nIs there a workaround for this, especially when passing `Edible` as a generic parameter that requires a `Crop`?","title":"Java implement class in interface","body":"<p>Say I have the following classes:</p>\n<pre><code>public abstract class Crop {\n}\n\npublic abstract class Fruit extends Crop {\n}\n\npublic interface Edible /* ALWAYS IMPLEMENTED BY A CROP */ {\n}\n\npublic class Apple extends Fruit implements Edible /* BOTH A CROP AND EDIBLE */ {\n}\n\npublic class Holly extends Fruit /* NOT EDIBLE */ {\n}\n\npublic class Wheat extends Crop implements Edible {\n}\n</code></pre>\n<p>Now, I want to make sure that every <code>Edible</code> (interface) is a <code>Crop</code> (class).</p>\n<p>Why can I not say:</p>\n<pre><code>public interface Edible implements Crop {\n}\n</code></pre>\n<p>So that <code>Edible</code> itself can only be implemented by classes that extend <code>Crop</code>?</p>\n<p>Is there a workaround for this, especially when passing <code>Edible</code> as a generic parameter that requires a <code>Crop</code>?</p>\n"},{"tags":["java","translation","localdate","modularization"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652864731,"post_id":72285598,"comment_id":127707424,"body_markdown":"That’s weird. It would seem that your installation is missing locale data or is trying to pick them up from a wrong source. In particular I wonder that you specify the full form of the day of week ( `EEEE`), but on the installation the abbreviated form is printed ( `Wed`, not even `Wednesday`).","body":"That’s weird. It would seem that your installation is missing locale data or is trying to pick them up from a wrong source. In particular I wonder that you specify the full form of the day of week ( <code>EEEE</code>), but on the installation the abbreviated form is printed ( <code>Wed</code>, not even <code>Wednesday</code>)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1652864943,"post_id":72285598,"comment_id":127707515,"body_markdown":"To investigate where Java is trying to get its locale data from you may print out `System.getProperty(&quot;java.locale.providers&quot;)` and tell us the result from both your own Eclipse and from the deployed program (you may get null or an empty string).","body":"To investigate where Java is trying to get its locale data from you may print out <code>System.getProperty(&quot;java.locale.providers&quot;)</code> and tell us the result from both your own Eclipse and from the deployed program (you may get null or an empty string)."},{"owner":{"account_id":15080236,"reputation":33,"user_id":10883066,"display_name":"A. Alexander"},"score":0,"creation_date":1652873603,"post_id":72285598,"comment_id":127710879,"body_markdown":"@user16320675 - Thanks for pointing it out. I corrected it.","body":"@user16320675 - Thanks for pointing it out. I corrected it."},{"owner":{"account_id":15080236,"reputation":33,"user_id":10883066,"display_name":"A. Alexander"},"score":1,"creation_date":1652873627,"post_id":72285598,"comment_id":127710889,"body_markdown":"@OleV.V. I updated the Question with the results.","body":"@OleV.V. I updated the Question with the results."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652874454,"post_id":72285598,"comment_id":127711182,"body_markdown":"Thanks. `null` should imply that the default should be used, which in Java 17 is `CLDR,COMPAT`. If the CLDR (Unicode Common Locale Data Repository) data would be missing from or incomplete in your installation, I find that weird and a bit hard to believe. Does the same happen for other locales?","body":"Thanks. <code>null</code> should imply that the default should be used, which in Java 17 is <code>CLDR,COMPAT</code>. If the CLDR (Unicode Common Locale Data Repository) data would be missing from or incomplete in your installation, I find that weird and a bit hard to believe. Does the same happen for other locales?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652874546,"creation_date":1652874546,"answer_id":72288647,"question_id":72285598,"body_markdown":"When you build an optimized environment but want support for localization, you must include [`jdk.localedata`] in your environment.\r\n\r\n&gt; Provides the locale data for locales other than [US locale].\r\n\r\nSo either, specify `--add-modules jdk.localedata` to `jlink` when creating the runtime image or add `requires jdk.localedata;` to your `module-info.java`.\r\n\r\n[`jdk.localedata`]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.localedata/module-summary.html\r\n[US locale]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#US\r\n","title":"Translation of LocalDateTime with DateTimeFormatter in modularized program (JDK17)","body":"<p>When you build an optimized environment but want support for localization, you must include <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.localedata/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.localedata</code></a> in your environment.</p>\n<blockquote>\n<p>Provides the locale data for locales other than <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#US\" rel=\"nofollow noreferrer\">US locale</a>.</p>\n</blockquote>\n<p>So either, specify <code>--add-modules jdk.localedata</code> to <code>jlink</code> when creating the runtime image or add <code>requires jdk.localedata;</code> to your <code>module-info.java</code>.</p>\n"}],"owner":{"account_id":15080236,"reputation":33,"user_id":10883066,"display_name":"A. Alexander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72288647,"answer_count":1,"score":2,"last_activity_date":1652879547,"creation_date":1652862209,"question_id":72285598,"body_markdown":"I try to translate a LocalDateTime to the current used language like shown in this answer: &lt;https://stackoverflow.com/a/51843932&gt;\r\n\r\nRunning the program in Eclipse works as intended, but when it gets deployed with maven and jlink it falls back to english.\r\n\r\nI assume I am missing a module to be required? Its a JDK17 modularized application.\r\n\r\nI tried:\r\n```\r\nLocale loc = new Locale(&quot;de&quot;, &quot;DE&quot;);\r\nLocale.setDefault(loc);\r\nlblDateTime.setText(LocalDateTime.now()\r\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;);\r\n```\r\n```\r\nlblDateTime.setText(LocalDateTime.now()\r\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;, Locale.GERMAN);\r\n```\r\n```\r\nlblDateTime.setText(LocalDateTime.now()\r\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;).localizedBy(Locale.GERMAN);\r\n```\r\n\r\nResult in Eclipse in all 3 cases:\r\n[![Eclipse result][1]][1]\r\n\r\nResult after deployment:\r\n[![deploy result][2]][2]\r\n\r\nThe module info:\r\n```\r\nmodule [name] {\r\n\t[...]\r\n\r\n\trequires transitive javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires org.apache.logging.log4j.core;\r\n\trequires javafx.base;\r\n\trequires org.controlsfx.controls;\r\n\trequires java.base;\r\n\trequires java.desktop;\r\n}\r\n```\r\n\r\nUpdate 1: &lt;br&gt;\r\nThe result of `System.getProperty(&quot;java.locale.providers&quot;)` in both cases is `null`.\r\n\r\nUpdate 2: &lt;br&gt;\r\nAdding `requires jdk.localedata;` to the `module-info.java` solved the issue. See accepted answer.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rgcVv.png\r\n  [2]: https://i.stack.imgur.com/K6iIn.png","title":"Translation of LocalDateTime with DateTimeFormatter in modularized program (JDK17)","body":"<p>I try to translate a LocalDateTime to the current used language like shown in this answer: <a href=\"https://stackoverflow.com/a/51843932\">https://stackoverflow.com/a/51843932</a></p>\n<p>Running the program in Eclipse works as intended, but when it gets deployed with maven and jlink it falls back to english.</p>\n<p>I assume I am missing a module to be required? Its a JDK17 modularized application.</p>\n<p>I tried:</p>\n<pre><code>Locale loc = new Locale(&quot;de&quot;, &quot;DE&quot;);\nLocale.setDefault(loc);\nlblDateTime.setText(LocalDateTime.now()\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;);\n</code></pre>\n<pre><code>lblDateTime.setText(LocalDateTime.now()\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;, Locale.GERMAN);\n</code></pre>\n<pre><code>lblDateTime.setText(LocalDateTime.now()\n    .format(DateTimeFormatter.ofPattern(&quot;EEEE, dd. MMMM yyyy - HH:mm:ss&quot;).localizedBy(Locale.GERMAN);\n</code></pre>\n<p>Result in Eclipse in all 3 cases:\n<a href=\"https://i.stack.imgur.com/rgcVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgcVv.png\" alt=\"Eclipse result\" /></a></p>\n<p>Result after deployment:\n<a href=\"https://i.stack.imgur.com/K6iIn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6iIn.png\" alt=\"deploy result\" /></a></p>\n<p>The module info:</p>\n<pre><code>module [name] {\n    [...]\n\n    requires transitive javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n    requires org.apache.logging.log4j.core;\n    requires javafx.base;\n    requires org.controlsfx.controls;\n    requires java.base;\n    requires java.desktop;\n}\n</code></pre>\n<p>Update 1: <br>\nThe result of <code>System.getProperty(&quot;java.locale.providers&quot;)</code> in both cases is <code>null</code>.</p>\n<p>Update 2: <br>\nAdding <code>requires jdk.localedata;</code> to the <code>module-info.java</code> solved the issue. See accepted answer.</p>\n"},{"tags":["java","xml","spring","xsd","ehcache"],"answers":[{"tags":[],"owner":{"account_id":261,"reputation":18354,"user_id":322,"accept_rate":93,"display_name":"Chris Smith"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1463068836,"creation_date":1463068836,"answer_id":37192060,"question_id":37191081,"body_markdown":"The problem is that the URL you are requesting was served directly from a Google Code source repository. Google announced it was shutting down Google Code in March of last year, and earlier this week Google started actually shutting down its source hosting services.\r\n\r\nYou&#39;ll need to find a new host for that file. e.g. DropBox, GoogleDrive, etc. If you need a copy of the old version, see the archived version at:\r\n\r\nhttps://code.google.com/archive/p/ehcache-spring-annotations/source/default/source","title":"ehcache with Spring. google code xsd file not found","body":"<p>The problem is that the URL you are requesting was served directly from a Google Code source repository. Google announced it was shutting down Google Code in March of last year, and earlier this week Google started actually shutting down its source hosting services.</p>\n\n<p>You'll need to find a new host for that file. e.g. DropBox, GoogleDrive, etc. If you need a copy of the old version, see the archived version at:</p>\n\n<p><a href=\"https://code.google.com/archive/p/ehcache-spring-annotations/source/default/source\" rel=\"noreferrer\">https://code.google.com/archive/p/ehcache-spring-annotations/source/default/source</a></p>\n"},{"tags":[],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500049284,"creation_date":1500049284,"answer_id":45107602,"question_id":37191081,"body_markdown":"Chris Smith&#39;s answer lead me in the right direction, for my issue with a version slightly higher `ehcache-spring-1.2.xsd`. Your version, my version and 1.0 are all older and no longer hosted as Chris stated.\r\n\r\nIf you don&#39;t trust other hosts, then I&#39;d recommend downloading the archive, unzipping it and adding the necessary files to your project and  referencing the files via relative path.\r\n\r\nFor more details, you can read my related question/answers in https://stackoverflow.com/questions/45091553/how-to-configure-eclipse-to-work-with-ehcache and https://stackoverflow.com/questions/45106799/how-to-reference-local-xsd-file-by-relative-path","title":"ehcache with Spring. google code xsd file not found","body":"<p>Chris Smith's answer lead me in the right direction, for my issue with a version slightly higher <code>ehcache-spring-1.2.xsd</code>. Your version, my version and 1.0 are all older and no longer hosted as Chris stated.</p>\n\n<p>If you don't trust other hosts, then I'd recommend downloading the archive, unzipping it and adding the necessary files to your project and  referencing the files via relative path.</p>\n\n<p>For more details, you can read my related question/answers in <a href=\"https://stackoverflow.com/questions/45091553/how-to-configure-eclipse-to-work-with-ehcache\">How to Configure Eclipse to Work with `ehcache`</a> and <a href=\"https://stackoverflow.com/questions/45106799/how-to-reference-local-xsd-file-by-relative-path\">How to Reference Local XSD File By Relative Path</a></p>\n"},{"tags":[],"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652879537,"creation_date":1652879537,"answer_id":72289886,"question_id":37191081,"body_markdown":"Recently came across the same problem with a POJLP (Plain Old Java/JEE Legacy Project... ^^) and resorted to use the &quot;straight-to-point&quot; plain GitHub URL: `https://raw.githubusercontent.com/agentgt/ehcache-spring-annotations/master/core/src/main/resources/com/googlecode/ehcache/annotations/ehcache-spring-1.1.xsd` ...and *it works!™*.","title":"ehcache with Spring. google code xsd file not found","body":"<p>Recently came across the same problem with a POJLP (Plain Old Java/JEE Legacy Project... ^^) and resorted to use the &quot;straight-to-point&quot; plain GitHub URL: <code>https://raw.githubusercontent.com/agentgt/ehcache-spring-annotations/master/core/src/main/resources/com/googlecode/ehcache/annotations/ehcache-spring-1.1.xsd</code> ...and <em>it works!™</em>.</p>\n"}],"owner":{"account_id":2863456,"reputation":10836,"user_id":2458203,"display_name":"Shaan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3850,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37192060,"answer_count":3,"score":7,"last_activity_date":1652879537,"creation_date":1463066152,"question_id":37191081,"body_markdown":"I am using ehcache with Spring. Noticed the below error recently. Also the XSD file is missing now at http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd.\r\n\r\n\r\nPlease let me know if there is a workaround to load the XSD locally.\r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 164; columnNumber: 59; schema_reference.4: Failed to read schema document &#39;http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n      at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\r\n      at org.apache.xerces.util.ErrorHandlerWrapper.warning(Unknown Source)\r\n      at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n      at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n      at org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(Unknown Source)\r\n      at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(Unknown Source)\r\n      at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(Unknown Source)\r\n      at org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(Unknown Source)\r\n      at org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(Unknown Source)\r\n      at org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(Unknown Source)\r\n      at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\r\n      at org.apache.xerces.impl.xs.XMLSchemaValidator.emptyElement(Unknown Source)\r\n      at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\r\n      at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n      at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n      at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n      at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n      at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n      at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n      at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n      at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:75)\r\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:388)\r\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\r\n      at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n      at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n      at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n      at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n      at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n      at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\r\n      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\r\n      at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\r\n      at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n      at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n      at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\r\n      at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n      at java.util.concurrent.FutureTask.run(Unknown Source)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n      at java.lang.Thread.run(Unknown Source)\r\nCaused by: java.io.FileNotFoundException: http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd\r\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n      at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)\r\n      at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\r\n      at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n      at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n      at org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(Unknown Source)\r\n      ... 38 more\r\n","title":"ehcache with Spring. google code xsd file not found","body":"<p>I am using ehcache with Spring. Noticed the below error recently. Also the XSD file is missing now at <a href=\"http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd\" rel=\"noreferrer\">http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd</a>.</p>\n\n<p>Please let me know if there is a workaround to load the XSD locally.</p>\n\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 164; columnNumber: 59; schema_reference.4: Failed to read schema document 'http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\n  at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n  at org.apache.xerces.util.ErrorHandlerWrapper.warning(Unknown Source)\n  at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n  at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n  at org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(Unknown Source)\n  at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(Unknown Source)\n  at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(Unknown Source)\n  at org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(Unknown Source)\n  at org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(Unknown Source)\n  at org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(Unknown Source)\n  at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\n  at org.apache.xerces.impl.xs.XMLSchemaValidator.emptyElement(Unknown Source)\n  at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n  at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n  at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n  at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n  at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n  at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n  at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n  at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n  at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:75)\n  at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:388)\n  at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\n  at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n  at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\n  at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\n  at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n  at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n  at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n  at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n  at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\n  at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\n  at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n  at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n  at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\n  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5524)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n  at java.util.concurrent.FutureTask.run(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n  at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Caused by: java.io.FileNotFoundException: <a href=\"http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd\" rel=\"noreferrer\">http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd</a>\n      at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n      at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)\n      at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\n      at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\n      at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\n      at org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(Unknown Source)\n      ... 38 more</p>\n"},{"tags":["java","thread-safety","singleton"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652863577,"post_id":72285868,"comment_id":127707005,"body_markdown":"If `newInstance` is `false`, which of the potentially many old objects should be returned? And how is that a Singleton at all?","body":"If <code>newInstance</code> is <code>false</code>, which of the potentially many old objects should be returned? And how is that a Singleton at all?"},{"owner":{"account_id":16376642,"reputation":446,"user_id":11828580,"display_name":"Liem"},"score":0,"creation_date":1652864019,"post_id":72285868,"comment_id":127707134,"body_markdown":"@f1sh  can ignore the part that I call it as a singleton.  if you genrate a new one, the old one will be override","body":"@f1sh  can ignore the part that I call it as a singleton.  if you genrate a new one, the old one will be override"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652866237,"creation_date":1652863469,"answer_id":72285920,"question_id":72285868,"body_markdown":"This is not how Singletons work. The whole point of a Singleton is to have a &lt;b&gt;single instance across the program&lt;/b&gt; of a certain class. Parameterizing your factory method to either get a new instance or a previous one does not fall into the definition of a Singleton.\r\n\r\nAlso, the best Singleton implementation is known as the `Bill Pugh Singleton`:\r\n\r\n```\r\npublic class BillPughSingleton {\r\n\r\n    private BillPughSingleton() {}\r\n\r\n    public static BillPughSingleton getInstance() {\r\n        return SingletonHelper.INSTANCE;\r\n    }\r\n\r\n    private static class SingletonHelper {\r\n        private static final BillPughSingleton INSTANCE = new BillPughSingleton();\r\n    }\r\n}\r\n```\r\n\r\nThe William Pugh implementation ensures multi-thread safety and the best performances as the nested static class is loaded by the class loader only when the method `getInstance()` is invoked. In fact, a static nested class is simply a static member of the outer class (no difference from a static field or a static method in terms of creation time). The static member is created only when the class is used, so since no instances of the `BillPughSingleton` can be created with a constructor, a single thread-safe instance is generated only when the outer class is used via the `getInstance()` method.\r\n\r\n&lt;h4&gt;EDIT&lt;/h4&gt;\r\n\r\nIf what you&#39;re asking is something that either creates a new instance if this is null or returns/overrides the existing one. Then, what you need is not a singleton but a retriever class. Besides, you should also take into consideration in your design whether this retriever class will be used in multi-thread scenarios or not. Here is a basic implementation:\r\n\r\n```\r\nclass MyRetriever {\r\n    private static MyClass instance;\r\n\r\n    //Private constructor to force the factory method invocation\r\n    private MyRetriever() {}\r\n\r\n    //Synchronizing the method in order to avoid race condition and establish a happens-before relationship between threads\r\n    public synchronized static MyClass getInstance(boolean flagOverride) {\r\n        if (flagOverride || instance == null){\r\n            instance = new MyClass();\r\n        }\r\n        return instance;\r\n    }\r\n}\r\n```","title":"Use factory to build singleton object","body":"<p>This is not how Singletons work. The whole point of a Singleton is to have a <b>single instance across the program</b> of a certain class. Parameterizing your factory method to either get a new instance or a previous one does not fall into the definition of a Singleton.</p>\n<p>Also, the best Singleton implementation is known as the <code>Bill Pugh Singleton</code>:</p>\n<pre><code>public class BillPughSingleton {\n\n    private BillPughSingleton() {}\n\n    public static BillPughSingleton getInstance() {\n        return SingletonHelper.INSTANCE;\n    }\n\n    private static class SingletonHelper {\n        private static final BillPughSingleton INSTANCE = new BillPughSingleton();\n    }\n}\n</code></pre>\n<p>The William Pugh implementation ensures multi-thread safety and the best performances as the nested static class is loaded by the class loader only when the method <code>getInstance()</code> is invoked. In fact, a static nested class is simply a static member of the outer class (no difference from a static field or a static method in terms of creation time). The static member is created only when the class is used, so since no instances of the <code>BillPughSingleton</code> can be created with a constructor, a single thread-safe instance is generated only when the outer class is used via the <code>getInstance()</code> method.</p>\n<h4>EDIT</h4>\n<p>If what you're asking is something that either creates a new instance if this is null or returns/overrides the existing one. Then, what you need is not a singleton but a retriever class. Besides, you should also take into consideration in your design whether this retriever class will be used in multi-thread scenarios or not. Here is a basic implementation:</p>\n<pre><code>class MyRetriever {\n    private static MyClass instance;\n\n    //Private constructor to force the factory method invocation\n    private MyRetriever() {}\n\n    //Synchronizing the method in order to avoid race condition and establish a happens-before relationship between threads\n    public synchronized static MyClass getInstance(boolean flagOverride) {\n        if (flagOverride || instance == null){\n            instance = new MyClass();\n        }\n        return instance;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652864618,"creation_date":1652864618,"answer_id":72286183,"question_id":72285868,"body_markdown":"According to your comment, this is one way to implement what you want:\r\n\r\n    public class MyObjectFactory {\r\n       private volatile MyObject inst;\r\n       public synchronized MyObject getInstance(boolean newInstance) {\r\n         if(newInstance) {\r\n           inst = new MyObject(...);\r\n         }\r\n         return inst;\r\n       }\r\n    }\r\n\r\nMaking the field `volatile` means that the value is not cached in the CPU, so changes are immediately visible to all threads. Making the method `synchronized` ensures that only one thread can enter it at the same time.","title":"Use factory to build singleton object","body":"<p>According to your comment, this is one way to implement what you want:</p>\n<pre><code>public class MyObjectFactory {\n   private volatile MyObject inst;\n   public synchronized MyObject getInstance(boolean newInstance) {\n     if(newInstance) {\n       inst = new MyObject(...);\n     }\n     return inst;\n   }\n}\n</code></pre>\n<p>Making the field <code>volatile</code> means that the value is not cached in the CPU, so changes are immediately visible to all threads. Making the method <code>synchronized</code> ensures that only one thread can enter it at the same time.</p>\n"}],"owner":{"account_id":16376642,"reputation":446,"user_id":11828580,"display_name":"Liem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652879130,"creation_date":1652863248,"question_id":72285868,"body_markdown":"I&#39;m trying to create some singleton object with a factory:\r\n\r\n    public class MyObjectFactory {\r\n    \tprivate MyObject myObject;\r\n    \r\n    \tpublic MyObject getInstance(boolean newInstance) {\r\n    \t\tif (newInstance) {\r\n    \t\t\t// return new object\r\n    \t\t} else {\r\n    \t\t\t// return the old object\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI want to use the **getInstance(boolean newInstance)** method to generate a new object or reuse the existing singleton object.\r\n\r\nif **newInstance is true**: I will generate a new singleton object\r\n\r\nif **newInstance is false**: if myObject is null, then generate a new one and return, or if myObject is not null, just return it.\r\n\r\nAnd this **getInstance(boolean newInstance)** must be thread safe. Any idea how?\r\n","title":"Use factory to build singleton object","body":"<p>I'm trying to create some singleton object with a factory:</p>\n<pre><code>public class MyObjectFactory {\n    private MyObject myObject;\n\n    public MyObject getInstance(boolean newInstance) {\n        if (newInstance) {\n            // return new object\n        } else {\n            // return the old object\n        }\n    }\n}\n</code></pre>\n<p>I want to use the <strong>getInstance(boolean newInstance)</strong> method to generate a new object or reuse the existing singleton object.</p>\n<p>if <strong>newInstance is true</strong>: I will generate a new singleton object</p>\n<p>if <strong>newInstance is false</strong>: if myObject is null, then generate a new one and return, or if myObject is not null, just return it.</p>\n<p>And this <strong>getInstance(boolean newInstance)</strong> must be thread safe. Any idea how?</p>\n"},{"tags":["java","macos","performance","command-line","io"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1450675434,"post_id":34389226,"comment_id":56520042,"body_markdown":"Your Java program is running as the OS program `java`, so monitor that process using `iotop`.","body":"Your Java program is running as the OS program <code>java</code>, so monitor that process using <code>iotop</code>."},{"owner":{"account_id":5894379,"reputation":361,"user_id":4639942,"accept_rate":45,"display_name":"kami"},"score":0,"creation_date":1450676561,"post_id":34389226,"comment_id":56520389,"body_markdown":"`iotop` monitors currently running programs right? so how can I check this statistic after? also which field in `iotop` should I be monitoring?","body":"<code>iotop</code> monitors currently running programs right? so how can I check this statistic after? also which field in <code>iotop</code> should I be monitoring?"}],"answers":[{"tags":[],"owner":{"account_id":3755200,"reputation":8511,"user_id":3121703,"accept_rate":43,"display_name":"Nachiket Kate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450681916,"creation_date":1450681916,"answer_id":34390546,"question_id":34389226,"body_markdown":"iotop is a utility which gives you top n processes in descending order of IO consumption/utilization.\r\n\r\nMost importantly it is a live monitoring utility which means its output changes every n sec( or time interval you specify). Though you can redirect it to a file, you need to parse that file and find out meaningful data after plotting a graph.\r\n\r\nI would recommend to use sar. you can read more about it [here][1]  \r\n\r\nIt is the lowest level monitoring utility in linux/unix. It will give you much more data than iotop. \r\n\r\nbest thing about sar is you can collect the data using a daemon when your program is running and then later analyze it using [ksar][2]\r\n\r\nAccording to me, you can follow below approach,\r\n\r\n1. Start sar monitoring, collect sar data every n seconds. value of n depends of approximate execution time of your program. \r\n\r\nexample : if your program takes 10 seconds to execute then monitoring per sec is good but if your program takes 1hr to execute then monitor per min or 30 sec. This will minimize overhead of sar process and still your data is meaningful.   \r\n\r\n2. Wait for some time (so that you get data before your program starts) and then start your program\r\n\r\n3. end of your program execution\r\n\r\n4. wait for some time again (so that you get data after your program finishes)\r\n\r\n5. stop sar.\r\n\r\nMonitor/visualize sar data using ksar. To start with, you check for disk utilization and then IOPS for a disk.\r\n\r\nYou can use Profilers for same thing but they have few drawbacks,\r\n\r\n1. They need their own agents (agents will have their own overhead)\r\n2. Some of them are not free. \r\n3. Some of them are not easy to set up.\r\n4. may or may not provide enough/required data. \r\n\r\nbesides this IMHO, Using inbuilt/system level utilities is always beneficial.   \r\n   \r\nI hope this was helpful.\r\n\r\n  [1]: http://linux.die.net/man/1/sar\r\n  [2]: http://www.cyberciti.biz/tips/identifying-linux-bottlenecks-sar-graphs-with-ksar.html","title":"disk I/O of a command line java program","body":"<p>iotop is a utility which gives you top n processes in descending order of IO consumption/utilization.</p>\n\n<p>Most importantly it is a live monitoring utility which means its output changes every n sec( or time interval you specify). Though you can redirect it to a file, you need to parse that file and find out meaningful data after plotting a graph.</p>\n\n<p>I would recommend to use sar. you can read more about it <a href=\"http://linux.die.net/man/1/sar\" rel=\"nofollow\">here</a>  </p>\n\n<p>It is the lowest level monitoring utility in linux/unix. It will give you much more data than iotop. </p>\n\n<p>best thing about sar is you can collect the data using a daemon when your program is running and then later analyze it using <a href=\"http://www.cyberciti.biz/tips/identifying-linux-bottlenecks-sar-graphs-with-ksar.html\" rel=\"nofollow\">ksar</a></p>\n\n<p>According to me, you can follow below approach,</p>\n\n<ol>\n<li>Start sar monitoring, collect sar data every n seconds. value of n depends of approximate execution time of your program. </li>\n</ol>\n\n<p>example : if your program takes 10 seconds to execute then monitoring per sec is good but if your program takes 1hr to execute then monitor per min or 30 sec. This will minimize overhead of sar process and still your data is meaningful.   </p>\n\n<ol start=\"2\">\n<li><p>Wait for some time (so that you get data before your program starts) and then start your program</p></li>\n<li><p>end of your program execution</p></li>\n<li><p>wait for some time again (so that you get data after your program finishes)</p></li>\n<li><p>stop sar.</p></li>\n</ol>\n\n<p>Monitor/visualize sar data using ksar. To start with, you check for disk utilization and then IOPS for a disk.</p>\n\n<p>You can use Profilers for same thing but they have few drawbacks,</p>\n\n<ol>\n<li>They need their own agents (agents will have their own overhead)</li>\n<li>Some of them are not free. </li>\n<li>Some of them are not easy to set up.</li>\n<li>may or may not provide enough/required data. </li>\n</ol>\n\n<p>besides this IMHO, Using inbuilt/system level utilities is always beneficial.   </p>\n\n<p>I hope this was helpful.</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652878957,"creation_date":1450686441,"answer_id":34391531,"question_id":34389226,"body_markdown":"Your Java program will eventually be a process for host system so you need to filter out output of monitoring tool for your own process id. Refer **Scripts** section of this [Blog Post](http://dtrace.org/blogs/brendan/2011/10/10/top-10-dtrace-scripts-for-mac-os-x/)\r\n\r\nAlso, even though you have tagged question with OsX but do mention in question that you are using OsX. \r\n\r\nIf you are looking for offline data - that is provided by [proc][1] filesystem in Unix bases systems but unfortunately that is missing in OSX , [Where is the /proc folder on Mac OS X?](https://superuser.com/questions/631693/where-is-the-proc-folder-on-mac-os-x)   \r\n[/proc on Mac OS X][2]\r\n\r\nYou might chose to write a small script to dump data from disk and process monitoring tools for your process id. You can get your process id in script by process name, put script in a loop to look for that process name and start script before you execute your Java program. When script finds the said process, it will keep dumping relevant data from commands chosen by you at intervals decided by you. Once your programs ends ,log dumping script also terminates. \n\n [1]: https://linux.die.net/man/5/proc\n [2]: https://web.archive.org/web/20200103161748/http://osxbook.com/book/bonus/ancient/procfs/","title":"disk I/O of a command line java program","body":"<p>Your Java program will eventually be a process for host system so you need to filter out output of monitoring tool for your own process id. Refer <strong>Scripts</strong> section of this <a href=\"http://dtrace.org/blogs/brendan/2011/10/10/top-10-dtrace-scripts-for-mac-os-x/\" rel=\"nofollow noreferrer\">Blog Post</a></p>\n<p>Also, even though you have tagged question with OsX but do mention in question that you are using OsX.</p>\n<p>If you are looking for offline data - that is provided by <a href=\"https://linux.die.net/man/5/proc\" rel=\"nofollow noreferrer\">proc</a> filesystem in Unix bases systems but unfortunately that is missing in OSX , <a href=\"https://superuser.com/questions/631693/where-is-the-proc-folder-on-mac-os-x\">Where is the /proc folder on Mac OS X?</a><br />\n<a href=\"https://web.archive.org/web/20200103161748/http://osxbook.com/book/bonus/ancient/procfs/\" rel=\"nofollow noreferrer\">/proc on Mac OS X</a></p>\n<p>You might chose to write a small script to dump data from disk and process monitoring tools for your process id. You can get your process id in script by process name, put script in a loop to look for that process name and start script before you execute your Java program. When script finds the said process, it will keep dumping relevant data from commands chosen by you at intervals decided by you. Once your programs ends ,log dumping script also terminates.</p>\n"}],"owner":{"account_id":5894379,"reputation":361,"user_id":4639942,"accept_rate":45,"display_name":"kami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652878957,"creation_date":1450674117,"question_id":34389226,"body_markdown":"I have a simple question, I&#39;ve read up online but couldn&#39;t find a simple solution: \r\n\r\nI&#39;m running a java program on the command line as follows which accesses a database:\r\n\r\n`java -jar myProgram.jar`\r\n\r\nI would like a simple mechanism to see the number of disk I/Os performed by this program (on OSX).\r\nSo far I&#39;ve come across `iotop` but how do I get `iotop` to measure the disk I/O of myProgram.jar? \r\n\r\nDo I need a profiler like `JProfiler` do get this information?\r\n","title":"disk I/O of a command line java program","body":"<p>I have a simple question, I've read up online but couldn't find a simple solution: </p>\n\n<p>I'm running a java program on the command line as follows which accesses a database:</p>\n\n<p><code>java -jar myProgram.jar</code></p>\n\n<p>I would like a simple mechanism to see the number of disk I/Os performed by this program (on OSX).\nSo far I've come across <code>iotop</code> but how do I get <code>iotop</code> to measure the disk I/O of myProgram.jar? </p>\n\n<p>Do I need a profiler like <code>JProfiler</code> do get this information?</p>\n"},{"tags":["java","node.js","rabbitmq"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652880947,"post_id":72289733,"comment_id":127713975,"body_markdown":"The millisecond value from your `Date` has somewhere underway been interpreted as seconds instead of milliseconds since the epoch (epoch is at New Year 1970 UTC).","body":"The millisecond value from your <code>Date</code> has somewhere underway been interpreted as seconds instead of milliseconds since the epoch (epoch is at New Year 1970 UTC)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652881068,"post_id":72289733,"comment_id":127714029,"body_markdown":"If you can, I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `ZonedDateTime` or another class from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"If you can, I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>ZonedDateTime</code> or another class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":19081131,"reputation":107,"user_id":13933287,"display_name":"Daniel Bozinovski"},"score":0,"creation_date":1652881139,"post_id":72289733,"comment_id":127714069,"body_markdown":"The date is being sent from node js so I can&#39;t use ZonedDateTime..","body":"The date is being sent from node js so I can&#39;t use ZonedDateTime.."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652881520,"post_id":72289733,"comment_id":127714265,"body_markdown":"To detail out what I said: Sun 17 Aug 13:13:40 AEST 54347 is equal to 1 652 878 149 220 seconds since the epoch. The same number of milliseconds since the epoch equals 2022-05-18T22:49:09.220+10:00[Australia/Sydney], which was probably your intended time.","body":"To detail out what I said: Sun 17 Aug 13:13:40 AEST 54347 is equal to 1 652 878 149 220 seconds since the epoch. The same number of milliseconds since the epoch equals 2022-05-18T22:49:09.220+10:00[Australia/Sydney], which was probably your intended time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652881634,"post_id":72289733,"comment_id":127714324,"body_markdown":"Of course you can use java.time, and I still recommend it. I don’t know how you are receiving the timestamp from JS, so I can’t tell you the details and also not which java.time class to use in your situation. Perhaps `Instant`.","body":"Of course you can use java.time, and I still recommend it. I don’t know how you are receiving the timestamp from JS, so I can’t tell you the details and also not which java.time class to use in your situation. Perhaps <code>Instant</code>."}],"owner":{"account_id":19081131,"reputation":107,"user_id":13933287,"display_name":"Daniel Bozinovski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652878900,"creation_date":1652878900,"question_id":72289733,"body_markdown":"So I have a use case where I am sending a message from a node js micro-service to a java micro-service using rabbit MQ.\r\n\r\n\r\nMy problem is that in node js, I&#39;m setting the timestamp as Date.now() [![enter image description here][1]][1] and sending the message to the following queue:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand in that LOGGER, I get a timestamp that is completely incorrect, i.e:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIs there something I can do to make this date correct (which it should be 18 May 2022). It seems to be getting mapped incorrectly..\r\n\r\n  [1]: https://i.stack.imgur.com/kdi5D.png\r\n  [2]: https://i.stack.imgur.com/8615d.png\r\n  [3]: https://i.stack.imgur.com/WgydA.png","title":"RabbitMQ timestamp is incorrectly sent from node js ampqlib","body":"<p>So I have a use case where I am sending a message from a node js micro-service to a java micro-service using rabbit MQ.</p>\n<p>My problem is that in node js, I'm setting the timestamp as Date.now() <a href=\"https://i.stack.imgur.com/kdi5D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kdi5D.png\" alt=\"enter image description here\" /></a> and sending the message to the following queue:</p>\n<p><a href=\"https://i.stack.imgur.com/8615d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8615d.png\" alt=\"enter image description here\" /></a></p>\n<p>and in that LOGGER, I get a timestamp that is completely incorrect, i.e:</p>\n<p><a href=\"https://i.stack.imgur.com/WgydA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WgydA.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there something I can do to make this date correct (which it should be 18 May 2022). It seems to be getting mapped incorrectly..</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1494417945,"post_id":43891989,"comment_id":74817878,"body_markdown":"Add a colon after mysql in your connection URL.","body":"Add a colon after mysql in your connection URL."},{"owner":{"account_id":6133826,"reputation":1133,"user_id":4783282,"accept_rate":40,"display_name":"Bhanuchandar Challa"},"score":0,"creation_date":1494418742,"post_id":43891989,"comment_id":74818465,"body_markdown":"@duffymo Hey thanks. It got worked.","body":"@duffymo Hey thanks. It got worked."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1494420490,"post_id":43891989,"comment_id":74819858,"body_markdown":"Glad to help.  Good luck.","body":"Glad to help.  Good luck."}],"answers":[{"tags":[],"owner":{"account_id":25309194,"reputation":11,"user_id":19132170,"display_name":"Abhishek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652878741,"creation_date":1652756412,"answer_id":72267719,"question_id":43891989,"body_markdown":"```jdbc:mysql//localhost:3306/hibernatedb```\r\n\r\nUse a colon (`:`) both before and after &quot;mysql&quot;:\r\n\r\n```jdbc:mysql://localhost:3306/hibernatedb```","title":"Hibernate - Unable to make JDBC Connection [jdbc:mysql//localhost:3306/hibernatedb","body":"<p><code>jdbc:mysql//localhost:3306/hibernatedb</code></p>\n<p>Use a colon (<code>:</code>) both before and after &quot;mysql&quot;:</p>\n<p><code>jdbc:mysql://localhost:3306/hibernatedb</code></p>\n"}],"owner":{"account_id":6133826,"reputation":1133,"user_id":4783282,"accept_rate":40,"display_name":"Bhanuchandar Challa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1498,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652878741,"creation_date":1494417872,"question_id":43891989,"body_markdown":"I am trying to create a basic hibernate application using hibernate 5.2.10 release. When I run it it says \r\n\r\n    org.hibernate.HibernateException: Unable to make JDBC Connection [jdbc:mysql//localhost:3306/hibernatedb]\r\n\r\nhibernate.cfg.xml:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql//localhost:3306/hibernatedb&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.cache.use_query_cache&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;udpate&lt;/property&gt;\r\n        &lt;mapping class=&quot;com.chandu.app.model.UserDetails&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nMain class:\r\n\r\n    public class HibernateTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tsession.beginTransaction();\r\n\t\tUserDetails user = getUserObject();\r\n\t\tsession.save(user);\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.clear();\r\n\t}\r\n\r\n\tprivate static UserDetails getUserObject() {\r\n\t\tUserDetails user = new UserDetails();\r\n\t\tuser.setUserName(&quot;Test User&quot;);\r\n\t\t\r\n\t\treturn user;\r\n\t}\r\n\r\nConsole:\r\n\r\n[![Console Output][1]][1]\r\n\r\n\r\nCode Structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GxvsZ.png\r\n  [2]: https://i.stack.imgur.com/A3SMS.png\r\n\r\nI have gone through some of the forums, but couldnt find a solution for the same.\r\nThanks for the help!","title":"Hibernate - Unable to make JDBC Connection [jdbc:mysql//localhost:3306/hibernatedb","body":"<p>I am trying to create a basic hibernate application using hibernate 5.2.10 release. When I run it it says </p>\n\n<pre><code>org.hibernate.HibernateException: Unable to make JDBC Connection [jdbc:mysql//localhost:3306/hibernatedb]\n</code></pre>\n\n<p>hibernate.cfg.xml:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql//localhost:3306/hibernatedb&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n    &lt;property name=\"hibernate.cache.use_query_cache\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;udpate&lt;/property&gt;\n    &lt;mapping class=\"com.chandu.app.model.UserDetails\"/&gt;\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>Main class:</p>\n\n<pre><code>public class HibernateTest {\n\npublic static void main(String[] args) {\n    SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n    Session session = sessionFactory.openSession();\n    session.beginTransaction();\n    UserDetails user = getUserObject();\n    session.save(user);\n    session.getTransaction().commit();\n    session.clear();\n}\n\nprivate static UserDetails getUserObject() {\n    UserDetails user = new UserDetails();\n    user.setUserName(\"Test User\");\n\n    return user;\n}\n</code></pre>\n\n<p>Console:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GxvsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GxvsZ.png\" alt=\"Console Output\"></a></p>\n\n<p>Code Structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A3SMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3SMS.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have gone through some of the forums, but couldnt find a solution for the same.\nThanks for the help!</p>\n"},{"tags":["java","mysql","spring","spring-data-jpa","jta"],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652878639,"creation_date":1652874817,"question_id":72288713,"body_markdown":"We are facing a weird transactional issue with Spring data JPA and Mysql\r\n\r\nWe have a table ``tableA`` in which we are storing the request execution status for an SDP (SDP is another entity and is referenced by a ``sdp_id`` in ``tableA``)  \r\nConsider that request comes very first time for an SDP. The ``tableA`` does not have any entry for this SDP.  \r\nWe add a new entry to ``tableA`` with status ``IN_PROGRESS`` in a _new transaction_. The purpose of doing it in a new transaction is if any other request comes for same SDP, the status ``IN_PROGRESS`` should be visible so that duplicate flow is not triggered for the same SDP\r\nAfter the business logic is complete, we update the ``tableA`` entry by setting ``status=COMPLETED`` for the same row.\r\nThis is working fine for all but one environment. On this one environment, instead of updating the same row as ``COMPLETED``, it is inserting a new row with status. So, at the end there are 2 rows for same SDP with statuses ``IN_PROGRESS`` and ``COMPLETED``.\r\n\r\nWe have confirmed that all the environments have exact same version of JRE and Mysql. What can be the reason for this difference in transactional behaviour just on one environment?","title":"Different transactional behaviour with Spring-data JPA and Mysql on one environment","body":"<p>We are facing a weird transactional issue with Spring data JPA and Mysql</p>\n<p>We have a table <code>tableA</code> in which we are storing the request execution status for an SDP (SDP is another entity and is referenced by a <code>sdp_id</code> in <code>tableA</code>)<br />\nConsider that request comes very first time for an SDP. The <code>tableA</code> does not have any entry for this SDP.<br />\nWe add a new entry to <code>tableA</code> with status <code>IN_PROGRESS</code> in a <em>new transaction</em>. The purpose of doing it in a new transaction is if any other request comes for same SDP, the status <code>IN_PROGRESS</code> should be visible so that duplicate flow is not triggered for the same SDP\nAfter the business logic is complete, we update the <code>tableA</code> entry by setting <code>status=COMPLETED</code> for the same row.\nThis is working fine for all but one environment. On this one environment, instead of updating the same row as <code>COMPLETED</code>, it is inserting a new row with status. So, at the end there are 2 rows for same SDP with statuses <code>IN_PROGRESS</code> and <code>COMPLETED</code>.</p>\n<p>We have confirmed that all the environments have exact same version of JRE and Mysql. What can be the reason for this difference in transactional behaviour just on one environment?</p>\n"},{"tags":["java","date","shortcode"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":2,"creation_date":1652878461,"post_id":72289578,"comment_id":127712811,"body_markdown":"Can you show the code that you tried? And give an example of the unique codes that you are looking for.","body":"Can you show the code that you tried? And give an example of the unique codes that you are looking for."},{"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"score":0,"creation_date":1652878539,"post_id":72289578,"comment_id":127712845,"body_markdown":"Could you edit and show what you&#39;ve tried. Check out [how to ask](https://stackoverflow.com/help/how-to-ask) and [tour](https://stackoverflow.com/tour).","body":"Could you edit and show what you&#39;ve tried. Check out <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1652878667,"post_id":72289578,"comment_id":127712904,"body_markdown":"After all abc-abc-abc is a 9 digits number in base 26. Thus generate a long value in between 1 and 26^9 and convert it to the appropriate string by successive divisions by 26.","body":"After all abc-abc-abc is a 9 digits number in base 26. Thus generate a long value in between 1 and 26^9 and convert it to the appropriate string by successive divisions by 26."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1652878762,"post_id":72289578,"comment_id":127712943,"body_markdown":"For random values that you want to be reproductible use a random generator with a given seed. `Random r = new Random(666);` for example.","body":"For random values that you want to be reproductible use a random generator with a given seed. <code>Random r = new Random(666);</code> for example."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652879112,"post_id":72289578,"comment_id":127713115,"body_markdown":"You only need to call `char randChar = (char)(rand.nextInt(26) + &#39;a&#39;)` n (9 in your case) times","body":"You only need to call <code>char randChar = (char)(rand.nextInt(26) + &#39;a&#39;)</code> n (9 in your case) times"}],"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652883921,"answer_count":0,"score":0,"last_activity_date":1652878359,"creation_date":1652878359,"question_id":72289578,"body_markdown":"In an assignment I am completing you have to generate a unique short code for every instance of an object created. As well as an internal ID which I used UUID for. The short code has to be only letters in the format abc-abc-abc.  I tried to use the reverse regular expression to generate codes that match a particular pattern but for whatever reason Eclipse does not recognize it, there is no import option.\r\n\r\n As a side note each object also has to have a date attached to it. The scenario is a virtual journaling app. So essentially each log would have a date attached for when it was posted. But every time I rerun the program the date updates. I have tried saving the date into a variable with no luck can someone please explain how to accomplish these 2 things. Thanks!","title":"How to create a custom unique short code in Java?","body":"<p>In an assignment I am completing you have to generate a unique short code for every instance of an object created. As well as an internal ID which I used UUID for. The short code has to be only letters in the format abc-abc-abc.  I tried to use the reverse regular expression to generate codes that match a particular pattern but for whatever reason Eclipse does not recognize it, there is no import option.</p>\n<p>As a side note each object also has to have a date attached to it. The scenario is a virtual journaling app. So essentially each log would have a date attached for when it was posted. But every time I rerun the program the date updates. I have tried saving the date into a variable with no luck can someone please explain how to accomplish these 2 things. Thanks!</p>\n"},{"tags":["java","sql","hibernate","optimization"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652878263,"creation_date":1652878263,"answer_id":72289544,"question_id":72287622,"body_markdown":"With HQL queries, Hibernate ORM doesn&#39;t support subqueries in the FROM clause (you can use them in the WHERE clause).\r\n\r\nIf you cannot rewrite this query as HQL without the subquery (for performance reasons, for example), I think it&#39;s OK to run it on the db as a native SQL query:\r\n\r\n```\r\nString sqlQuery = ...;\r\nsession.createNativeQuery(sqlQuery).getSingleResult();\r\n```\r\n","title":"Hibernate subquery problem with aggregate function","body":"<p>With HQL queries, Hibernate ORM doesn't support subqueries in the FROM clause (you can use them in the WHERE clause).</p>\n<p>If you cannot rewrite this query as HQL without the subquery (for performance reasons, for example), I think it's OK to run it on the db as a native SQL query:</p>\n<pre><code>String sqlQuery = ...;\nsession.createNativeQuery(sqlQuery).getSingleResult();\n</code></pre>\n"}],"owner":{"account_id":1534249,"reputation":506,"user_id":1430703,"accept_rate":75,"display_name":"knocker_d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72289544,"answer_count":1,"score":0,"last_activity_date":1652878263,"creation_date":1652870370,"question_id":72287622,"body_markdown":"I&#39;m trying to run this query within Hibernate (through JPA) but it throws \r\n\r\nCaused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 32 \r\n\r\nAny way to make this work or make it better ? I would not want to use OR clause because the query is much slower when using that.\r\n\r\n```\r\nSELECT SUM(s) as sum FROM (\r\nSELECT count (ID) AS s\r\n  FROM TABLE1 rr\r\n WHERE rr.status = 0\r\n   AND (rr.risk = &#39;1&#39; AND rr.rate = &#39;222&#39; )\r\nUNION ALL\r\nSELECT count (ID) AS s\r\n  FROM TABLE1 rr\r\n WHERE rr.status = 0\r\n   AND (rr.risk = &#39;2&#39; AND rr.open  = &#39;222&#39; ))\r\n```","title":"Hibernate subquery problem with aggregate function","body":"<p>I'm trying to run this query within Hibernate (through JPA) but it throws</p>\n<p>Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 32</p>\n<p>Any way to make this work or make it better ? I would not want to use OR clause because the query is much slower when using that.</p>\n<pre><code>SELECT SUM(s) as sum FROM (\nSELECT count (ID) AS s\n  FROM TABLE1 rr\n WHERE rr.status = 0\n   AND (rr.risk = '1' AND rr.rate = '222' )\nUNION ALL\nSELECT count (ID) AS s\n  FROM TABLE1 rr\n WHERE rr.status = 0\n   AND (rr.risk = '2' AND rr.open  = '222' ))\n</code></pre>\n"},{"tags":["java","configuration","logback"],"answers":[{"tags":[],"owner":{"account_id":163804,"reputation":4908,"user_id":386178,"accept_rate":97,"display_name":"Brian S"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1280872934,"creation_date":1280872934,"answer_id":3401118,"question_id":3401051,"body_markdown":"I&#39;m not familiar with Logback. But if it&#39;s printing to `System.out` or `System.err`, these are simply public static `PrintStream` variables in the `System` class. You could subclass `PrintStream` and set the system output variables to your subclass, thus controlling how it works.\r\n\r\nFor example:\r\n\r\n    public class NOPPrintStream extends PrintStream\r\n    {\r\n        public NOPPrintStream() { super((OutputStream)null); }\r\n        \r\n        public void println(String s) { /* Do nothing */ }\r\n        // You may or may not have to override other methods\r\n    }\r\n    \r\n    public class MyClass\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out = new NOPPrintStream();\r\n            // Start program\r\n        }\r\n    }\r\n\r\n(This code is untested)","title":"Suppress all Logback output to console?","body":"<p>I'm not familiar with Logback. But if it's printing to <code>System.out</code> or <code>System.err</code>, these are simply public static <code>PrintStream</code> variables in the <code>System</code> class. You could subclass <code>PrintStream</code> and set the system output variables to your subclass, thus controlling how it works.</p>\n\n<p>For example:</p>\n\n<pre><code>public class NOPPrintStream extends PrintStream\n{\n    public NOPPrintStream() { super((OutputStream)null); }\n\n    public void println(String s) { /* Do nothing */ }\n    // You may or may not have to override other methods\n}\n\npublic class MyClass\n{\n    public static void main(String[] args)\n    {\n        System.out = new NOPPrintStream();\n        // Start program\n    }\n}\n</code></pre>\n\n<p>(This code is untested)</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1478528020,"creation_date":1280874380,"answer_id":3401238,"question_id":3401051,"body_markdown":"Those messages only show if at least one of the following is true:\r\n\r\n* you have debugging enabled in the logback.xml file\r\n* you have an error in your configuration.  That is the case here - logback complains about multiple configuration files found.\r\n* there is a classpath problem if your environment provides conflicting files. (this one occurred to me yesterday and was the real cause of this question).\r\n* (there is a bug in logback - has happened)\r\n\r\nCorrect the issue and those messages should go away.","title":"Suppress all Logback output to console?","body":"<p>Those messages only show if at least one of the following is true:</p>\n\n<ul>\n<li>you have debugging enabled in the logback.xml file</li>\n<li>you have an error in your configuration.  That is the case here - logback complains about multiple configuration files found.</li>\n<li>there is a classpath problem if your environment provides conflicting files. (this one occurred to me yesterday and was the real cause of this question).</li>\n<li>(there is a bug in logback - has happened)</li>\n</ul>\n\n<p>Correct the issue and those messages should go away.</p>\n"},{"tags":[],"owner":{"account_id":35266,"reputation":1918,"user_id":99851,"display_name":"Holger Hoffst&#228;tte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441395245,"creation_date":1280918040,"answer_id":3404644,"question_id":3401051,"body_markdown":"Actually the fact that the same logback.xml location is reported multiple times seems more like a bug in logback than anything else. Either report this to the logback JIRA ([here][1]) or first check whether the jar in question is on the classpath multiple times.\r\n\r\n\r\n  [1]: http://jira.qos.ch/browse/LOGBACK","title":"Suppress all Logback output to console?","body":"<p>Actually the fact that the same logback.xml location is reported multiple times seems more like a bug in logback than anything else. Either report this to the logback JIRA (<a href=\"http://jira.qos.ch/browse/LOGBACK\" rel=\"nofollow noreferrer\">here</a>) or first check whether the jar in question is on the classpath multiple times.</p>\n"},{"tags":[],"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1441394546,"creation_date":1280969776,"answer_id":3411015,"question_id":3401051,"body_markdown":"Holger Hoffst&#228;tte was correct in his [diagnosis][1] that the duplicate classpath entry message is a symptom of a [bug][2] in how Logback counts classpath entries.  Robert Elliot also [characterized][3] the problem in a [thread][4] on the Logback [user mailing list][5].  According to Robert and others in this related [disussion][6] on the SLF4J mailing list, when an application that uses Logback runs in a WebLogic container, due to the way the WebLogic classloader operates, Logback reports duplicate classpath entries for the `logback.xml` configuration file.  However, regardless of whether the WebLogic classloader should or should not report only unique classpath entries, Logback should certainly count only unique classpath entries so that it does not print this confusing, spurious message.\r\n\r\nI have implemented a [fix][7] for [LBCLASSIC-159][8] that essentially does what Robert Elliot recommends and uses a set instead of a list to hold the resources that the classloader returns, effectively eliminating any duplicate classpath resources.  I have successfully tested the fix with Logback 0.9.24, SLF4J 1.6.1, and WebLogic 10.3.2.  As Thorbj&#248;rn predicted in his [answer][9], with this fix in place, Logback no longer displays the duplicate classpath entry status messages (or any of the other informational messages) to standard output.\r\n\r\nI hope that the maintainers will integrate my fix into the main Logback [source code repository][10] and include it in the next release.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3401051/suppress-all-logback-output-to-console/3404644#3404644\r\n  [2]: http://jira.qos.ch/browse/LBCLASSIC-159\r\n  [3]: http://marc.info/?l=logback-user&amp;m=128094084217480&amp;w=2\r\n  [4]: http://www.qos.ch/pipermail/logback-user/2010-August/001716.html\r\n  [5]: http://www.qos.ch/pipermail/logback-user/\r\n  [6]: http://bugzilla.slf4j.org/show_bug.cgi?id=138\r\n  [7]: http://github.com/derekmahar/logback/commit/1990e7c9c0e35ba408f73a2c654e8d292a0849af\r\n  [8]: http://jira.qos.ch/browse/LBCLASSIC-159\r\n  [9]: https://stackoverflow.com/questions/3401051/suppress-all-logback-output-to-console/3401238#3401238\r\n  [10]: https://github.com/qos-ch/logback","title":"Suppress all Logback output to console?","body":"<p>Holger Hoffstätte was correct in his <a href=\"https://stackoverflow.com/questions/3401051/suppress-all-logback-output-to-console/3404644#3404644\">diagnosis</a> that the duplicate classpath entry message is a symptom of a <a href=\"http://jira.qos.ch/browse/LBCLASSIC-159\" rel=\"nofollow noreferrer\">bug</a> in how Logback counts classpath entries.  Robert Elliot also <a href=\"http://marc.info/?l=logback-user&amp;m=128094084217480&amp;w=2\" rel=\"nofollow noreferrer\">characterized</a> the problem in a <a href=\"http://www.qos.ch/pipermail/logback-user/2010-August/001716.html\" rel=\"nofollow noreferrer\">thread</a> on the Logback <a href=\"http://www.qos.ch/pipermail/logback-user/\" rel=\"nofollow noreferrer\">user mailing list</a>.  According to Robert and others in this related <a href=\"http://bugzilla.slf4j.org/show_bug.cgi?id=138\" rel=\"nofollow noreferrer\">disussion</a> on the SLF4J mailing list, when an application that uses Logback runs in a WebLogic container, due to the way the WebLogic classloader operates, Logback reports duplicate classpath entries for the <code>logback.xml</code> configuration file.  However, regardless of whether the WebLogic classloader should or should not report only unique classpath entries, Logback should certainly count only unique classpath entries so that it does not print this confusing, spurious message.</p>\n\n<p>I have implemented a <a href=\"http://github.com/derekmahar/logback/commit/1990e7c9c0e35ba408f73a2c654e8d292a0849af\" rel=\"nofollow noreferrer\">fix</a> for <a href=\"http://jira.qos.ch/browse/LBCLASSIC-159\" rel=\"nofollow noreferrer\">LBCLASSIC-159</a> that essentially does what Robert Elliot recommends and uses a set instead of a list to hold the resources that the classloader returns, effectively eliminating any duplicate classpath resources.  I have successfully tested the fix with Logback 0.9.24, SLF4J 1.6.1, and WebLogic 10.3.2.  As Thorbjørn predicted in his <a href=\"https://stackoverflow.com/questions/3401051/suppress-all-logback-output-to-console/3401238#3401238\">answer</a>, with this fix in place, Logback no longer displays the duplicate classpath entry status messages (or any of the other informational messages) to standard output.</p>\n\n<p>I hope that the maintainers will integrate my fix into the main Logback <a href=\"https://github.com/qos-ch/logback\" rel=\"nofollow noreferrer\">source code repository</a> and include it in the next release.</p>\n"},{"tags":[],"owner":{"account_id":209504,"reputation":81,"user_id":460558,"display_name":"Michael McCallum"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1335961601,"creation_date":1285677140,"answer_id":3812689,"question_id":3401051,"body_markdown":"So I had the same problem but found that removing the incorrect &amp;lt;layout /&gt; entry which was deprecated somewhere around 0.9.4 and the messages went away...\r\n\r\nYou appender should look some thing like \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\r\n     &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n      &lt;level&gt;info&lt;/level&gt;\r\n     &lt;/filter&gt;\r\n    \r\n     &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd} %d{HH:mm:ss} %.-1level %thread %logger{36}: %m%n&lt;/pattern&gt;\r\n     &lt;/encoder&gt;\r\n\r\n    &lt;/appender&gt;\r\n\r\nI&#39;ve blogged about a more [complete][1] description of what I changed that worked for me\r\n\r\n  [1]: http://softwareontheinside.blogspot.com/2010/09/suppress-logback-initialisation.html &quot;Software on the inside&quot;","title":"Suppress all Logback output to console?","body":"<p>So I had the same problem but found that removing the incorrect &lt;layout /> entry which was deprecated somewhere around 0.9.4 and the messages went away...</p>\n\n<p>You appender should look some thing like </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n\n &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"&gt;\n  &lt;level&gt;info&lt;/level&gt;\n &lt;/filter&gt;\n\n &lt;encoder&gt;\n  &lt;pattern&gt;%d{yyyy-MM-dd} %d{HH:mm:ss} %.-1level %thread %logger{36}: %m%n&lt;/pattern&gt;\n &lt;/encoder&gt;\n\n&lt;/appender&gt;\n</code></pre>\n\n<p>I've blogged about a more <a href=\"http://softwareontheinside.blogspot.com/2010/09/suppress-logback-initialisation.html\" rel=\"noreferrer\" title=\"Software on the inside\">complete</a> description of what I changed that worked for me</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1441395969,"creation_date":1318420809,"answer_id":7739733,"question_id":3401051,"body_markdown":"This is a &quot;me too&quot; answer, sorry! \n\nHappily, I&#39;ve found a solution (see UPDATE) below.\n\nContrary to some of the other answers, I&#39;m getting a stream of LogBack configuration `INFO` messages in spite of having no `ERROR`s or `WARN`s in the configuration phase.\n\nHere are my messages:\n\n    13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\n    13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n    13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/home/carl/workspace-LSY/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/IceProfile/WEB-INF/classes/logback.xml]\n    13:39:20,496 |-INFO in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@14e2c9c - Will scan for changes in file [/home/carl/workspace-LSY/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/IceProfile/WEB-INF/classes/logback.xml] every 60 seconds. \n    13:39:20,496 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Adding ReconfigureOnChangeFilter as a turbo filter\n    13:39:20,497 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\n    13:39:20,501 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]\n    13:39:20,510 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\n    13:39:20,510 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Pushing component [encoder] on top of the object stack.\n    13:39:20,537 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG\n    13:39:20,537 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]\n    13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [ch.qos.logback] to OFF\n    13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [ch.qos.logback] to false\n    13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n\nHere&#39;s my configuration:\n\n&lt;!-- language: xml --&gt;\n\n    &lt;configuration debug=&quot;true&quot; scan=&quot;true&quot;&gt; \n    \n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n        &lt;!-- encoders are  by default assigned the type\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n        &lt;encoder&gt;\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n      &lt;/appender&gt;\n    \n      &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n      &lt;/root&gt;\n      \n      &lt;logger name=&quot;ch.qos.logback&quot; level=&quot;OFF&quot; additivity=&quot;false&quot; /&gt;\n      \n    &lt;/configuration&gt;\n\nThis is spam I don&#39;t want, I consider myself innocent of having provoked it, and I&#39;d appreciate some help in getting rid of it.\n\nOne respect in which I may be &quot;guilty&quot; is that I&#39;m initializing my loggers in a `static` variable; the docs recommend using instance variables instead.\n\nVersions:\n\n* logback-classic-0.9.24.jar\n* logback-core-0.9.24.jar\n* slf4j-api-1.6.1.jar\n* executing in an IceFaces 2.0 app running in Tomcat 6.0 under Ubuntu 11.04\n\n----\n\n**UPDATE**\n\nFinally figured out what the problem was!\n\nFrom [the fine manual](http://logback.qos.ch/manual/onJoran.html) (and [Thorbj&#248;rn&#39;s answer](https://stackoverflow.com/a/3401238/1102512)): \n\n&gt; **Setting the debug attribute** within the &lt;configuration&gt; element will output status information, under the assumption that\n&gt;\n&gt; 1. the configuration file is found\n&gt; 2. the configuration file is well-formed XML.\n\nMy mistake was \n\n&lt;!-- language: xml --&gt;\n\n    &lt;configuration debug=&quot;true&quot; scan=&quot;true&quot;&gt; \n\nIn retrospect, *duh!* Hopefully this information will help others.","title":"Suppress all Logback output to console?","body":"<p>This is a &quot;me too&quot; answer, sorry!</p>\n<p>Happily, I've found a solution (see UPDATE) below.</p>\n<p>Contrary to some of the other answers, I'm getting a stream of LogBack configuration <code>INFO</code> messages in spite of having no <code>ERROR</code>s or <code>WARN</code>s in the configuration phase.</p>\n<p>Here are my messages:</p>\n<pre><code>13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\n13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n13:39:20,457 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/home/carl/workspace-LSY/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/IceProfile/WEB-INF/classes/logback.xml]\n13:39:20,496 |-INFO in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@14e2c9c - Will scan for changes in file [/home/carl/workspace-LSY/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/IceProfile/WEB-INF/classes/logback.xml] every 60 seconds. \n13:39:20,496 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Adding ReconfigureOnChangeFilter as a turbo filter\n13:39:20,497 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\n13:39:20,501 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]\n13:39:20,510 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\n13:39:20,510 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Pushing component [encoder] on top of the object stack.\n13:39:20,537 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG\n13:39:20,537 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]\n13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [ch.qos.logback] to OFF\n13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting additivity of logger [ch.qos.logback] to false\n13:39:20,538 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n</code></pre>\n<p>Here's my configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration debug=&quot;true&quot; scan=&quot;true&quot;&gt; \n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n    &lt;!-- encoders are  by default assigned the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n  \n  &lt;logger name=&quot;ch.qos.logback&quot; level=&quot;OFF&quot; additivity=&quot;false&quot; /&gt;\n  \n&lt;/configuration&gt;\n</code></pre>\n<p>This is spam I don't want, I consider myself innocent of having provoked it, and I'd appreciate some help in getting rid of it.</p>\n<p>One respect in which I may be &quot;guilty&quot; is that I'm initializing my loggers in a <code>static</code> variable; the docs recommend using instance variables instead.</p>\n<p>Versions:</p>\n<ul>\n<li>logback-classic-0.9.24.jar</li>\n<li>logback-core-0.9.24.jar</li>\n<li>slf4j-api-1.6.1.jar</li>\n<li>executing in an IceFaces 2.0 app running in Tomcat 6.0 under Ubuntu 11.04</li>\n</ul>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Finally figured out what the problem was!</p>\n<p>From <a href=\"http://logback.qos.ch/manual/onJoran.html\" rel=\"noreferrer\">the fine manual</a> (and <a href=\"https://stackoverflow.com/a/3401238/1102512\">Thorbjørn's answer</a>):</p>\n<blockquote>\n<p><strong>Setting the debug attribute</strong> within the  element will output status information, under the assumption that</p>\n<ol>\n<li>the configuration file is found</li>\n<li>the configuration file is well-formed XML.</li>\n</ol>\n</blockquote>\n<p>My mistake was</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration debug=&quot;true&quot; scan=&quot;true&quot;&gt; \n</code></pre>\n<p>In retrospect, <em>duh!</em> Hopefully this information will help others.</p>\n"},{"tags":[],"owner":{"account_id":953660,"reputation":351,"user_id":979346,"display_name":"baja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323137706,"creation_date":1323137706,"answer_id":8394558,"question_id":3401051,"body_markdown":"You most likely have a &lt;statusListener /&gt; element configured in your logback.xml. You can remove it, if you don&#39;t want any console updates about the state of the logging framework itself. Though, logback framework recommends against disabling it for troubleshooting purposes.\r\n\r\nThere is an alternative to the console listener called StatusListenerAsList which keeps the status messages as a private list. You can expose it via JMX, if needed, with a little bit of code.\r\n","title":"Suppress all Logback output to console?","body":"<p>You most likely have a  element configured in your logback.xml. You can remove it, if you don't want any console updates about the state of the logging framework itself. Though, logback framework recommends against disabling it for troubleshooting purposes.</p>\n\n<p>There is an alternative to the console listener called StatusListenerAsList which keeps the status messages as a private list. You can expose it via JMX, if needed, with a little bit of code.</p>\n"},{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335961306,"creation_date":1335961306,"answer_id":10413642,"question_id":3401051,"body_markdown":"I just want to add information about default header message added in logback 1.0.2:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    #logback.classic pattern: %d [%thread] %-5level %logger{36} - %msg%n\r\n\r\nI found that in [logback news][1], but it was really difficult to find.\r\n\r\nIf you wish to remove this message, you have to set up `outputPatternAsPresentationHeader` to false:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t    &lt;encoder&gt;\r\n\t        &lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\r\n\t        &lt;!-- do not print pattern as a header --&gt;\r\n\t        &lt;outputPatternAsPresentationHeader&gt;false&lt;/outputPatternAsPresentationHeader&gt;\r\n\t    &lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n  [1]: http://logback.qos.ch/news.html","title":"Suppress all Logback output to console?","body":"<p>I just want to add information about default header message added in logback 1.0.2:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#logback.classic pattern: %d [%thread] %-5level %logger{36} - %msg%n\n</code></pre>\n\n<p>I found that in <a href=\"http://logback.qos.ch/news.html\" rel=\"nofollow\">logback news</a>, but it was really difficult to find.</p>\n\n<p>If you wish to remove this message, you have to set up <code>outputPatternAsPresentationHeader</code> to false:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\n        &lt;!-- do not print pattern as a header --&gt;\n        &lt;outputPatternAsPresentationHeader&gt;false&lt;/outputPatternAsPresentationHeader&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336468907,"creation_date":1336468907,"answer_id":10495899,"question_id":3401051,"body_markdown":"In my case, I had the &quot;logback-test.xml&quot; in a dependent project that was being deployed as a webapp jar.\r\nThe &quot;logback-test.xml&quot; file started with\r\n\r\n    &lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\r\n\r\nThe &#39;scan=&quot;true&quot;&#39; attribute generated this error:\r\n\r\n    ERROR in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@716de067 - URL [jar:file:/C:/Local...cut.../WEB-INF/lib/My.Dev.jar!/logback-test.xml] is not of type file\r\n\r\nwhich resulted in 67 (!) more INFO lines.\r\n\r\nBy removing the &#39;scan=&quot;true&quot;&#39; attribute, the logback log disappeared altogether.\r\n\r\n","title":"Suppress all Logback output to console?","body":"<p>In my case, I had the \"logback-test.xml\" in a dependent project that was being deployed as a webapp jar.\nThe \"logback-test.xml\" file started with</p>\n\n<pre><code>&lt;configuration debug=\"false\" scan=\"true\"&gt;\n</code></pre>\n\n<p>The 'scan=\"true\"' attribute generated this error:</p>\n\n<pre><code>ERROR in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@716de067 - URL [jar:file:/C:/Local...cut.../WEB-INF/lib/My.Dev.jar!/logback-test.xml] is not of type file\n</code></pre>\n\n<p>which resulted in 67 (!) more INFO lines.</p>\n\n<p>By removing the 'scan=\"true\"' attribute, the logback log disappeared altogether.</p>\n"},{"tags":[],"owner":{"account_id":11250121,"reputation":181,"user_id":8251469,"display_name":"Rupesh Kumar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1524468266,"creation_date":1524468266,"answer_id":49975492,"question_id":3401051,"body_markdown":"    &lt;configuration&gt;\r\n    &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot; /&gt;\r\n    &lt;/configuration&gt;\r\n\r\nSimplely use NopStatusLinstener class and this will stop self logging of logback.","title":"Suppress all Logback output to console?","body":"<pre><code>&lt;configuration&gt;\n&lt;statusListener class=\"ch.qos.logback.core.status.NopStatusListener\" /&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Simplely use NopStatusLinstener class and this will stop self logging of logback.</p>\n"},{"tags":[],"owner":{"account_id":2701846,"reputation":619,"user_id":2332409,"display_name":"sudipn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652878246,"creation_date":1652878246,"answer_id":72289542,"question_id":3401051,"body_markdown":"I got the following error logs in my spring boot application:\r\n```\r\n14:37:36,455 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@5:46 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\r\n14:37:36,456 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@6:92 - no applicable action for [include], current ElementPath  is [[configuration][springProfile][include]]\r\n```\r\nI suppressed them by either:\r\n- renaming `logback.xml` to `logback-spring.xml`\r\n- or, define in `application.properties`: `logging.config=classpath:logback.xml`\r\n\r\n---\r\nSpring documentation on this topic:\r\n[![spring description][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kQXG8.png","title":"Suppress all Logback output to console?","body":"<p>I got the following error logs in my spring boot application:</p>\n<pre><code>14:37:36,455 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@5:46 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\n14:37:36,456 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@6:92 - no applicable action for [include], current ElementPath  is [[configuration][springProfile][include]]\n</code></pre>\n<p>I suppressed them by either:</p>\n<ul>\n<li>renaming <code>logback.xml</code> to <code>logback-spring.xml</code></li>\n<li>or, define in <code>application.properties</code>: <code>logging.config=classpath:logback.xml</code></li>\n</ul>\n<hr />\n<p>Spring documentation on this topic:\n<a href=\"https://i.stack.imgur.com/kQXG8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kQXG8.png\" alt=\"spring description\" /></a></p>\n"}],"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44459,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":3411015,"answer_count":11,"score":59,"last_activity_date":1652878246,"creation_date":1280872311,"question_id":3401051,"body_markdown":"How can I configure Logback to suppress all of its output to the console (standard output)?  In particular, I wish to suppress (or redirect) Logback&#39;s own log messages such as the following:\r\n\r\n    16:50:25,814 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n    16:50:25,814 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\r\n    16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.\r\n    16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\r\n    16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\r\n    16:50:25,923 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n    16:50:25,924 |-INFO in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@1a15291 - Will scan for changes in file [/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml] every 60 seconds. \r\n\r\nI need to disable all logging to standard output because our production environment disallows applications from printing any messages to standard output.\r\n\r\nNote I&#39;m using Logback 0.9.21, SLF4J 1.6.0, and our application runs in WebLogic 10.3.2. ","title":"Suppress all Logback output to console?","body":"<p>How can I configure Logback to suppress all of its output to the console (standard output)?  In particular, I wish to suppress (or redirect) Logback's own log messages such as the following:</p>\n\n<pre><code>16:50:25,814 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n16:50:25,814 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\n16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.\n16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\n16:50:25,816 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml]\n16:50:25,923 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\n16:50:25,924 |-INFO in ch.qos.logback.classic.turbo.ReconfigureOnChangeFilter@1a15291 - Will scan for changes in file [/opt/dap/domains/ap0491/uat1/domain/instance-config/logback.xml] every 60 seconds. \n</code></pre>\n\n<p>I need to disable all logging to standard output because our production environment disallows applications from printing any messages to standard output.</p>\n\n<p>Note I'm using Logback 0.9.21, SLF4J 1.6.0, and our application runs in WebLogic 10.3.2. </p>\n"},{"tags":["java","symfony"],"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1652723035,"post_id":72263284,"comment_id":127669842,"body_markdown":"Can you paraphrase it the way to clarify what the question is, please? Also, it doesn&#39;t work as an excellent way to describe the issue. Add some details of what you tried, what you think the problem is, what you tried doing yourself etc.","body":"Can you paraphrase it the way to clarify what the question is, please? Also, it doesn&#39;t work as an excellent way to describe the issue. Add some details of what you tried, what you think the problem is, what you tried doing yourself etc."}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652878220,"creation_date":1652878220,"answer_id":72289533,"question_id":72263284,"body_markdown":"For more information on this error check https://stackoverflow.com/questions/16478604/bcrypt-checkpw-invalid-salt-version-exception\r\n\r\nI would suggest you start to debug the following piece of your code: \r\n```\r\nBCrypt.checkpw(t.getMotpasse(), rs.getString(&quot;motpasse&quot;))\r\n````\r\n\r\nCheck in your database what the value for the hashed password is. \r\nDoes it match the expected value of `$xy$...` where `xy` should be `2a`, `2b`, `2y` or similar.\r\n\r\nCheck in your Java code what the values of password `t.getMotpasse()` and hashed password `rs.getString(&quot;motpasse&quot;)` are; log them/debug the code.\r\n\r\nMake sure to check the [documentation][1], that you are providing the arguments of `checkpw` in the correct order (`plain, hashed` and not `hashed, plain`).\r\n\r\nBut I suspect that your PHP library generates a newer salt version (revision) that your current java library does not support. See for example https://github.com/djmdjm/jBCrypt/issues/2\r\n\r\nSome [code][2] [examples][3] that i could find throw this exception when the salt version is not `2a`, which would explain why generated salts from Java do work, but from Php don&#39;t.\r\n\r\nIn that case you will either have to:\r\n- make sure the PHP code generates salt versions `2a`\r\n- upgrade/change the Java BCrypt library to a version that supports the newer salt revision\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/bcrypt/BCrypt.html#checkpw(java.lang.String,java.lang.String)\r\n  [2]: https://www.javatips.net/api/org.springframework.security.crypto.bcrypt.bcrypt\r\n  [3]: https://www.javatips.net/api/actframework-master/src/main/java/org/mindrot/jbcrypt/BCrypt.java","title":"Caused by: java.lang.IllegalArgumentException: Invalid salt revision","body":"<p>For more information on this error check <a href=\"https://stackoverflow.com/questions/16478604/bcrypt-checkpw-invalid-salt-version-exception\">BCrypt.checkpw() Invalid salt version exception</a></p>\n<p>I would suggest you start to debug the following piece of your code:</p>\n<pre><code>BCrypt.checkpw(t.getMotpasse(), rs.getString(&quot;motpasse&quot;))\n</code></pre>\n<p>Check in your database what the value for the hashed password is.\nDoes it match the expected value of <code>$xy$...</code> where <code>xy</code> should be <code>2a</code>, <code>2b</code>, <code>2y</code> or similar.</p>\n<p>Check in your Java code what the values of password <code>t.getMotpasse()</code> and hashed password <code>rs.getString(&quot;motpasse&quot;)</code> are; log them/debug the code.</p>\n<p>Make sure to check the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/bcrypt/BCrypt.html#checkpw(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a>, that you are providing the arguments of <code>checkpw</code> in the correct order (<code>plain, hashed</code> and not <code>hashed, plain</code>).</p>\n<p>But I suspect that your PHP library generates a newer salt version (revision) that your current java library does not support. See for example <a href=\"https://github.com/djmdjm/jBCrypt/issues/2\" rel=\"nofollow noreferrer\">https://github.com/djmdjm/jBCrypt/issues/2</a></p>\n<p>Some <a href=\"https://www.javatips.net/api/org.springframework.security.crypto.bcrypt.bcrypt\" rel=\"nofollow noreferrer\">code</a> <a href=\"https://www.javatips.net/api/actframework-master/src/main/java/org/mindrot/jbcrypt/BCrypt.java\" rel=\"nofollow noreferrer\">examples</a> that i could find throw this exception when the salt version is not <code>2a</code>, which would explain why generated salts from Java do work, but from Php don't.</p>\n<p>In that case you will either have to:</p>\n<ul>\n<li>make sure the PHP code generates salt versions <code>2a</code></li>\n<li>upgrade/change the Java BCrypt library to a version that supports the newer salt revision</li>\n</ul>\n"}],"owner":{"account_id":25290311,"reputation":3,"user_id":19116555,"display_name":"TrpTOdo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72289533,"answer_count":1,"score":0,"last_activity_date":1652878220,"creation_date":1652722104,"question_id":72263284,"body_markdown":"i have create an university project with **Java** And **Symfony** when the user register from my java app he can login with both java and symfony , but the contrary it is impossible , it only login from symfony and it display to me this error in java\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Invalid salt revision\r\n\r\n**Cryptage Methode : Bcrypt**\r\n**Security.yml Symf**\r\n\r\n            App\\Entity\\Utilisateur: \r\n            algorithm: bcrypt\r\n            encode_as_base64: false\r\n            iterations: 1\r\n\r\n**Utilisateur entity**\r\n\r\n     /**\r\n     * Returning a salt is only needed, if you are not using a modern\r\n     * hashing algorithm (e.g. bcrypt or sodium) in your security.yaml.\r\n     *\r\n     * @see UserInterface\r\n     */\r\n    public function getSalt(): ?string\r\n    {\r\n        return null;\r\n    }\r\n\r\n**JAVA**\r\n\r\n*Login Method*\r\n\r\n     if (rs.getString(&quot;email&quot;).equals(t.getEmail()) &amp;&amp; BCrypt.checkpw(t.getMotpasse(), rs.getString(&quot;motpasse&quot;)) == true) {\r\n                        if (rs.getString(&quot;activated&quot;).equals(&quot;Active&quot;)) {\r\n                            idUser = rs.getInt(&quot;idU&quot;);","title":"Caused by: java.lang.IllegalArgumentException: Invalid salt revision","body":"<p>i have create an university project with <strong>Java</strong> And <strong>Symfony</strong> when the user register from my java app he can login with both java and symfony , but the contrary it is impossible , it only login from symfony and it display to me this error in java</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid salt revision\n</code></pre>\n<p><strong>Cryptage Methode : Bcrypt</strong>\n<strong>Security.yml Symf</strong></p>\n<pre><code>        App\\Entity\\Utilisateur: \n        algorithm: bcrypt\n        encode_as_base64: false\n        iterations: 1\n</code></pre>\n<p><strong>Utilisateur entity</strong></p>\n<pre><code> /**\n * Returning a salt is only needed, if you are not using a modern\n * hashing algorithm (e.g. bcrypt or sodium) in your security.yaml.\n *\n * @see UserInterface\n */\npublic function getSalt(): ?string\n{\n    return null;\n}\n</code></pre>\n<p><strong>JAVA</strong></p>\n<p><em>Login Method</em></p>\n<pre><code> if (rs.getString(&quot;email&quot;).equals(t.getEmail()) &amp;&amp; BCrypt.checkpw(t.getMotpasse(), rs.getString(&quot;motpasse&quot;)) == true) {\n                    if (rs.getString(&quot;activated&quot;).equals(&quot;Active&quot;)) {\n                        idUser = rs.getInt(&quot;idU&quot;);\n</code></pre>\n"},{"tags":["java","authentication","arraylist","boolean"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1652695055,"post_id":72257341,"comment_id":127659654,"body_markdown":"what do you mean, it returns both true and false? your method doesn&#39;t return anything, it&#39;s a void method.","body":"what do you mean, it returns both true and false? your method doesn&#39;t return anything, it&#39;s a void method."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":4,"creation_date":1652695144,"post_id":72257341,"comment_id":127659687,"body_markdown":"You say `&quot;(LogIn Successfully!)&quot;` and the next line you set `isNotExist=true`??","body":"You say <code>&quot;(LogIn Successfully!)&quot;</code> and the next line you set <code>isNotExist=true</code>??"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1652695227,"post_id":72257341,"comment_id":127659718,"body_markdown":"This is a duplicate post isnt it? You deleted your previous question and reposted it as is.","body":"This is a duplicate post isnt it? You deleted your previous question and reposted it as is."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1652695411,"post_id":72257341,"comment_id":127659768,"body_markdown":"So instead of using the feedback you got on your old question (https://stackoverflow.com/questions/72253451/login-method-is-returning-both-true-and-false) you just deleted it and asked it again?","body":"So instead of using the feedback you got on your old question (<a href=\"https://stackoverflow.com/questions/72253451/login-method-is-returning-both-true-and-false\" title=\"login method is returning both true and false\">stackoverflow.com/questions/72253451/&hellip;</a>) you just deleted it and asked it again?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652731670,"post_id":72257341,"comment_id":127672510,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652822433,"creation_date":1652700544,"answer_id":72258494,"question_id":72257341,"body_markdown":"With this method that you have written:\r\n```java\r\nstatic void logIn (int logPin){...}\r\n```\r\nYou receive nothing when you call it. As it is of `void` return type. However, \r\n```java\r\nstatic boolean logIn (int logPin){...}\r\n```\r\nWill give you a return of `true` or `false` as it is of `boolean`. Then call it like so:\r\n```java\r\nboolean success = logIn(logPin);\r\n```\r\n\r\n**EDIT for additional information**\r\nWith a `boolean` return type on that \r\nmethod, you will need to return the value `isNotExist` instead of just declaring and assing a value to it in the method:\r\n```java\r\n{\r\n    boolean isNotExist = false;\r\n    ...\r\n    // Code to assign value\r\n    ...\r\n    return isNotExist;\r\n}\r\n```","title":"My login method returns both true and false output, why?","body":"<p>With this method that you have written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void logIn (int logPin){...}\n</code></pre>\n<p>You receive nothing when you call it. As it is of <code>void</code> return type. However,</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean logIn (int logPin){...}\n</code></pre>\n<p>Will give you a return of <code>true</code> or <code>false</code> as it is of <code>boolean</code>. Then call it like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean success = logIn(logPin);\n</code></pre>\n<p><strong>EDIT for additional information</strong>\nWith a <code>boolean</code> return type on that\nmethod, you will need to return the value <code>isNotExist</code> instead of just declaring and assing a value to it in the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n    boolean isNotExist = false;\n    ...\n    // Code to assign value\n    ...\n    return isNotExist;\n}\n</code></pre>\n"}],"owner":{"account_id":25260034,"reputation":1,"user_id":19091056,"display_name":"noobie123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1652877945,"creation_date":1652694940,"question_id":72257341,"body_markdown":"I still cannot figure out what is wrong with my code.\r\n\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            System.out.println(&quot;[1] Register&quot;);\r\n            System.out.println(&quot;[2] LogIn as Client&quot;);\r\n            System.out.println(&quot;[3] LogIn as Admin&quot;);\r\n            System.out.println(&quot;[4] Exit&quot;);\r\n            \r\n            System.out.print(&quot;Enter your choice here: &quot;);\r\n            int choice = input.nextInt();\r\n            switch(choice){\r\n                case 1:\r\n                    System.out.println(&quot;[Register Your Account]&quot;);\r\n    \r\n                    System.out.print(&quot;-----Enter your name: &quot;);\r\n                    String name = input.next();\r\n            \r\n                    System.out.print(&quot;-----Enter your desired 4-digit pin: &quot;);\r\n                    int pin = input.nextInt();\r\n              \r\n                    System.out.print(&quot;-----Enter your first deposit: &quot;);\r\n                    int balance = input.nextInt();\r\n                    \r\n                    account client = new account(name,pin,balance);\r\n                    \r\n                    client.setName(name);\r\n                    client.setPin(pin);\r\n                    client.setBalance(balance); \r\n                    \r\n                    addToArrayList(client);\r\n      \r\n                case 2:\r\n                    System.out.println(&quot;[LogIn Your Account]&quot;);\r\n                    System.out.println(&quot;----Enter Your Pin: &quot;);\r\n                    int logPin = input.nextInt();\r\n                    \r\n                    logIn(logPin);\r\n            \r\n                    break;\r\n    \r\n                case 3:\r\n                    System.out.println(&quot;Case 3&quot;);\r\n                    \r\n    \r\n                    break;\r\n                    \r\n                case 4:\r\n                    System.out.println(&quot;Case 4&quot;);\r\n                    break;\r\n            }\r\n    }  \r\n        \r\n        static void addToArrayList(account client){\r\n            userList.add(client);\r\n            \r\n            displayRegister(userList);   \r\n        }\r\n        \r\n        static void displayRegister(ArrayList&lt;account&gt; users){\r\n            for (account client : users){\r\n            System.out.println(&quot;(Here&#39;s what we received)&quot;);\r\n            System.out.println(client.getName());\r\n            System.out.println(client.getPin());\r\n            System.out.println(client.getBalance());\r\n    \r\n            }\r\n        }\r\n\r\nWhy does my login give an output of both TRUE AND FALSE when I entered a correct pin after register, and if I entered a wrong pin the program ends?\r\n        \r\n        static void logIn (int logPin){\r\n            if(!userList.isEmpty()){\r\n                        int i = 0;\r\n                        boolean isNotExist = false;\r\n                        \r\n                        for(var acc: userList){\r\n                            int pinCode = acc.getPin();\r\n                            \r\n                            if(logPin==acc.getPin()){\r\n                                System.out.println(&quot;(LogIn Successfully!)&quot;);\r\n                                isNotExist=true;\r\n                                mainMenu();\r\n                            }\r\n                            else{\r\n                                i++;\r\n                            }\r\n                        }\r\n                        if(isNotExist){\r\n                            System.out.println(&quot;(Account does not exist...)&quot;);\r\n                        }\r\n                    }else{\r\n                        System.out.println(&quot;(No data...)&quot;);\r\n             }\r\n                   \r\n        }","title":"My login method returns both true and false output, why?","body":"<p>I still cannot figure out what is wrong with my code.</p>\n<pre><code>    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        \n        System.out.println(&quot;[1] Register&quot;);\n        System.out.println(&quot;[2] LogIn as Client&quot;);\n        System.out.println(&quot;[3] LogIn as Admin&quot;);\n        System.out.println(&quot;[4] Exit&quot;);\n        \n        System.out.print(&quot;Enter your choice here: &quot;);\n        int choice = input.nextInt();\n        switch(choice){\n            case 1:\n                System.out.println(&quot;[Register Your Account]&quot;);\n\n                System.out.print(&quot;-----Enter your name: &quot;);\n                String name = input.next();\n        \n                System.out.print(&quot;-----Enter your desired 4-digit pin: &quot;);\n                int pin = input.nextInt();\n          \n                System.out.print(&quot;-----Enter your first deposit: &quot;);\n                int balance = input.nextInt();\n                \n                account client = new account(name,pin,balance);\n                \n                client.setName(name);\n                client.setPin(pin);\n                client.setBalance(balance); \n                \n                addToArrayList(client);\n  \n            case 2:\n                System.out.println(&quot;[LogIn Your Account]&quot;);\n                System.out.println(&quot;----Enter Your Pin: &quot;);\n                int logPin = input.nextInt();\n                \n                logIn(logPin);\n        \n                break;\n\n            case 3:\n                System.out.println(&quot;Case 3&quot;);\n                \n\n                break;\n                \n            case 4:\n                System.out.println(&quot;Case 4&quot;);\n                break;\n        }\n}  \n    \n    static void addToArrayList(account client){\n        userList.add(client);\n        \n        displayRegister(userList);   \n    }\n    \n    static void displayRegister(ArrayList&lt;account&gt; users){\n        for (account client : users){\n        System.out.println(&quot;(Here's what we received)&quot;);\n        System.out.println(client.getName());\n        System.out.println(client.getPin());\n        System.out.println(client.getBalance());\n\n        }\n    }\n</code></pre>\n<p>Why does my login give an output of both TRUE AND FALSE when I entered a correct pin after register, and if I entered a wrong pin the program ends?</p>\n<pre><code>    static void logIn (int logPin){\n        if(!userList.isEmpty()){\n                    int i = 0;\n                    boolean isNotExist = false;\n                    \n                    for(var acc: userList){\n                        int pinCode = acc.getPin();\n                        \n                        if(logPin==acc.getPin()){\n                            System.out.println(&quot;(LogIn Successfully!)&quot;);\n                            isNotExist=true;\n                            mainMenu();\n                        }\n                        else{\n                            i++;\n                        }\n                    }\n                    if(isNotExist){\n                        System.out.println(&quot;(Account does not exist...)&quot;);\n                    }\n                }else{\n                    System.out.println(&quot;(No data...)&quot;);\n         }\n               \n    }\n</code></pre>\n"},{"tags":["java","scala","switch-statement","overhead"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1652873707,"post_id":72285455,"comment_id":127710911,"body_markdown":"Is not exactly clear what you mean with _&quot;switch statement&quot;_.","body":"Is not exactly clear what you mean with <i>&quot;switch statement&quot;</i>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652875376,"post_id":72285455,"comment_id":127711536,"body_markdown":"Is your question about `[java]` or `[scala]`? Remove the tag that doesn’t apply.","body":"Is your question about <code>[java]</code> or <code>[scala]</code>? Remove the tag that doesn’t apply."}],"answers":[{"tags":[],"owner":{"account_id":12401702,"reputation":121,"user_id":9038646,"display_name":"sierikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652877882,"creation_date":1652866779,"answer_id":72286709,"question_id":72285455,"body_markdown":"You can use [pattern matching][1] on the [ADT Structure][2]. \r\n\r\nHere is one of the ways how you can do your example:\r\n\r\n```scala\r\nsealed trait Status\r\ncase object Ready extends Status\r\ncase object Failed extends Status\r\n\r\n//Some logic to output READY or FALSE here.\r\n// For example purposes we always return READY.\r\ndef status(value: Int): Status = Ready \r\n                               \r\nstatus(0) match {\r\n  case Ready =&gt; &quot;I&#39;m ready&quot;\r\n  case Failed =&gt; &quot;I&#39;m failed&quot;\r\n}\r\n```\r\n\r\nYou can try out this example in a [playground here][3].\r\n\r\n\r\n  [1]: https://docs.scala-lang.org/tour/pattern-matching.html\r\n  [2]: https://www.baeldung.com/scala/case-objects-vs-enumerations\r\n  [3]: https://scastie.scala-lang.org/oIc6DQTGR5KZhVMAersvKA","title":"Scala match expression as a switch statment","body":"<p>You can use <a href=\"https://docs.scala-lang.org/tour/pattern-matching.html\" rel=\"nofollow noreferrer\">pattern matching</a> on the <a href=\"https://www.baeldung.com/scala/case-objects-vs-enumerations\" rel=\"nofollow noreferrer\">ADT Structure</a>.</p>\n<p>Here is one of the ways how you can do your example:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>sealed trait Status\ncase object Ready extends Status\ncase object Failed extends Status\n\n//Some logic to output READY or FALSE here.\n// For example purposes we always return READY.\ndef status(value: Int): Status = Ready \n                               \nstatus(0) match {\n  case Ready =&gt; &quot;I'm ready&quot;\n  case Failed =&gt; &quot;I'm failed&quot;\n}\n</code></pre>\n<p>You can try out this example in a <a href=\"https://scastie.scala-lang.org/oIc6DQTGR5KZhVMAersvKA\" rel=\"nofollow noreferrer\">playground here</a>.</p>\n"}],"owner":{"account_id":14682536,"reputation":1,"user_id":10603572,"display_name":"Sumanth N S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652877882,"creation_date":1652861615,"question_id":72285455,"body_markdown":"I am trying to use a scala match expression as a switch statement. I do not have my case values stored in an array and want to generate it during runtime.\r\n\r\n```\r\nwhile (completedTasks &lt; todoTasks) {\r\n      // Submit if machine 0 is ready.\r\n\r\n      if (status(0) == READY)\r\n        submit(0, 1)\r\n\r\n      // Submit if machine 0 is failed.\r\n      if (status(0) == FAILED)\r\n        submit(0, 1)\r\n}\r\n```\r\nHow can I convert the above piece of code into a match expression.\r\nI am trying to replicate a cloud server and run multiple threads to avoid communication overhead. \r\nAssumen having 10 machine. ","title":"Scala match expression as a switch statment","body":"<p>I am trying to use a scala match expression as a switch statement. I do not have my case values stored in an array and want to generate it during runtime.</p>\n<pre><code>while (completedTasks &lt; todoTasks) {\n      // Submit if machine 0 is ready.\n\n      if (status(0) == READY)\n        submit(0, 1)\n\n      // Submit if machine 0 is failed.\n      if (status(0) == FAILED)\n        submit(0, 1)\n}\n</code></pre>\n<p>How can I convert the above piece of code into a match expression.\nI am trying to replicate a cloud server and run multiple threads to avoid communication overhead.\nAssumen having 10 machine.</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652877806,"creation_date":1652877806,"answer_id":72289430,"question_id":72289195,"body_markdown":"That page URL cannot be scraped like this. The actual HTML content is very barebones; instead, everything you see in the webbrowser when you access it is filled in by javascript.\r\n\r\nJSoup isn&#39;t a javascript runner and isn&#39;t a browser. It simply loads the HTML you want, __does not run javascript, and cannot be made to do so__, and will then let you scrape whatever you wanna scrape. Which, in this case, is basically nothing - as the HTML served up by that site doesn&#39;t contain anything useful.\r\n\r\nMany websites online work like this: All actual content is written in by javascript.\r\n\r\nYou&#39;re stuck in a dead end: JSoup cannot be used here. What you can attempt to do is selenium or similar tools: These start a real browser and really use it to render the page just like real browsers do, and then lets you programmatically interact with the DOM similar to JSoup. Getting it to run on headless servers can be lightly challenging, and it&#39;s incredibly heavy (JSoup can trivially run in tiny memory footprints and very very quickly. This selenium route very much cannot - it needs to fire up an entire browser which are relatively speaking humongous beasts, of course). Selenium isn&#39;t meant for this purpose - it&#39;s meant for testing your own websites. But it can do the job, more or less.\r\n\r\nMany browsers have a &#39;disable javascript&#39; option, possibly in the devtools. Turn that on, load the page. What you see is what you can scrape with JSoup. If the content you want disappears when you do this, then __You cannot scrape it with JSoup__.\r\n","title":"Why is Jsoup returning an empty string when I try to scrape this data?","body":"<p>That page URL cannot be scraped like this. The actual HTML content is very barebones; instead, everything you see in the webbrowser when you access it is filled in by javascript.</p>\n<p>JSoup isn't a javascript runner and isn't a browser. It simply loads the HTML you want, <strong>does not run javascript, and cannot be made to do so</strong>, and will then let you scrape whatever you wanna scrape. Which, in this case, is basically nothing - as the HTML served up by that site doesn't contain anything useful.</p>\n<p>Many websites online work like this: All actual content is written in by javascript.</p>\n<p>You're stuck in a dead end: JSoup cannot be used here. What you can attempt to do is selenium or similar tools: These start a real browser and really use it to render the page just like real browsers do, and then lets you programmatically interact with the DOM similar to JSoup. Getting it to run on headless servers can be lightly challenging, and it's incredibly heavy (JSoup can trivially run in tiny memory footprints and very very quickly. This selenium route very much cannot - it needs to fire up an entire browser which are relatively speaking humongous beasts, of course). Selenium isn't meant for this purpose - it's meant for testing your own websites. But it can do the job, more or less.</p>\n<p>Many browsers have a 'disable javascript' option, possibly in the devtools. Turn that on, load the page. What you see is what you can scrape with JSoup. If the content you want disappears when you do this, then <strong>You cannot scrape it with JSoup</strong>.</p>\n"}],"owner":{"account_id":24984493,"reputation":11,"user_id":18846440,"display_name":"taradavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652877806,"creation_date":1652876956,"question_id":72289195,"body_markdown":"```\r\npublic class JSoupBundesliga {\r\n\t\r\n\tprivate static final String URL = &quot;https://www.flashscore.com/football/england/premier-league-2019-2020/&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDocument doc = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdoc = Jsoup.connect(URL).timeout(6000).get();\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tElements awayScore = doc.getElementsByClass(&quot;.leagues--static event--leagues summary-results&quot;);\r\n\t\tSystem.out.println(awayScore);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAbove is my full code, the website looks like this:\r\n\r\n[Link To Inspect Element Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ykULy.png\r\n\r\nI am trying to scrape the part I highlighted in blue, but I can&#39;t scrape anything. So, if someone could even help with the names like &quot;Arsenal&quot; that would be much appreciated as well.","title":"Why is Jsoup returning an empty string when I try to scrape this data?","body":"<pre><code>public class JSoupBundesliga {\n    \n    private static final String URL = &quot;https://www.flashscore.com/football/england/premier-league-2019-2020/&quot;;\n\n    public static void main(String[] args) {\n        \n        Document doc = null;\n        \n        try {\n            doc = Jsoup.connect(URL).timeout(6000).get();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            return;\n        }\n        \n        Elements awayScore = doc.getElementsByClass(&quot;.leagues--static event--leagues summary-results&quot;);\n        System.out.println(awayScore);\n        \n    }\n\n}\n</code></pre>\n<p>Above is my full code, the website looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ykULy.png\" rel=\"nofollow noreferrer\">Link To Inspect Element Image</a></p>\n<p>I am trying to scrape the part I highlighted in blue, but I can't scrape anything. So, if someone could even help with the names like &quot;Arsenal&quot; that would be much appreciated as well.</p>\n"},{"tags":["java","android","android-listview","android-scrollable-tabs"],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652877679,"creation_date":1652877442,"answer_id":72289328,"question_id":72289214,"body_markdown":"Your adapter&#39;s `getView()` is called for each row. However, `convertView` will only be null for the first n views. After that, they are reused. Move your data population outside of the if so that it is guaranteed to be called for _every_ row.\r\n\r\nYou should also consider using a `RecyclerView` instead to improve performance. `findViewById` is fairly expensive and the ViewHolder pattern can make scrolling smoother.\r\n\r\n\r\n```\r\n@Override\r\npublic View getView(int position, View convertView, ViewGroup parent) {\r\n    if (convertView == null) {\r\n        LayoutInflater mInflater = LayoutInflater.from(context);\r\n        convertView = mInflater.inflate(R.layout.list_row, parent, false);\r\n    }\r\n\r\n    TextView name = convertView.findViewById(R.id.name);\r\n    ImageView remove = convertView.findViewById(R.id.remove);\r\n    name.setText(list.get(position));\r\n    remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\r\n\r\n    return convertView;\r\n}\r\n```","title":"List view is not loading records correctly from some point","body":"<p>Your adapter's <code>getView()</code> is called for each row. However, <code>convertView</code> will only be null for the first n views. After that, they are reused. Move your data population outside of the if so that it is guaranteed to be called for <em>every</em> row.</p>\n<p>You should also consider using a <code>RecyclerView</code> instead to improve performance. <code>findViewById</code> is fairly expensive and the ViewHolder pattern can make scrolling smoother.</p>\n<pre><code>@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    if (convertView == null) {\n        LayoutInflater mInflater = LayoutInflater.from(context);\n        convertView = mInflater.inflate(R.layout.list_row, parent, false);\n    }\n\n    TextView name = convertView.findViewById(R.id.name);\n    ImageView remove = convertView.findViewById(R.id.remove);\n    name.setText(list.get(position));\n    remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\n\n    return convertView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652877585,"creation_date":1652877585,"answer_id":72289367,"question_id":72289214,"body_markdown":"Update your getView() method like below, No need to reassign convertview when it is not null but you need to set new values to that position.\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(context).inflate(R.layout.list_row, parent, false);\r\n        }\r\n        TextView name = convertView.findViewById(R.id.name);\r\n        ImageView remove = convertView.findViewById(R.id.remove);\r\n        name.setText(list.get(position));\r\n        remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\r\n        return convertView;\r\n    }","title":"List view is not loading records correctly from some point","body":"<p>Update your getView() method like below, No need to reassign convertview when it is not null but you need to set new values to that position.</p>\n<pre><code>@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    if (convertView == null) {\n        convertView = LayoutInflater.from(context).inflate(R.layout.list_row, parent, false);\n    }\n    TextView name = convertView.findViewById(R.id.name);\n    ImageView remove = convertView.findViewById(R.id.remove);\n    name.setText(list.get(position));\n    remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\n    return convertView;\n}\n</code></pre>\n"}],"owner":{"account_id":21575929,"reputation":1,"user_id":15908060,"display_name":"Jakub Bryniarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652877679,"creation_date":1652877016,"question_id":72289214,"body_markdown":"I have an scrollable list to which I am adding some records dynamically. It works very simple, I add records to ArrayList, than pass it to adapter. The problem is when I am scrolling, 3 first records always get loaded, than during scrolling first few records also gets loaded. But later i keep getting some random previous records (seems like according to the ArrayList which is correct). How can I force records to be loaded? I also read in other&#39;s articles that initializing layout=&quot;match_parent&quot; could help, which I have done. I&#39;m posting my code below. \r\n\r\n```\r\npublic void addItem(String item) {\r\n      assets.add(0, item);\r\n      listView.setAdapter(adapter);\r\n}\r\n```\r\n\r\nactivity_main.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:paddingRight=&quot;0sp&quot;\r\n        android:layout_height=&quot;350dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/list_view&quot;\r\n        android:onClick=&quot;save&quot;\r\n        android:layout_marginLeft=&quot;24dp&quot;\r\n        android:text=&quot;Zapisz&quot;\r\n        android:backgroundTint=&quot;@color/colorPrimary&quot;/&gt;\r\n```\r\n\r\nMy custom adapter class:\r\n```\r\npublic class ListViewAdapter extends ArrayAdapter&lt;String&gt; {\r\n    ArrayList&lt;String&gt; list;\r\n    Context context;\r\n\r\n    public ListViewAdapter(Context context, ArrayList&lt;String&gt; items) {\r\n        super(context, R.layout.list_row, items);\r\n        this.context = context;\r\n        list = items;\r\n    }\r\n\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        if (convertView == null) {\r\n            LayoutInflater mInflater = LayoutInflater.from(context);\r\n            convertView = mInflater.inflate(R.layout.list_row, parent, false);\r\n            TextView name = convertView.findViewById(R.id.name);\r\n            ImageView remove = convertView.findViewById(R.id.remove);\r\n            name.setText(list.get(position));\r\n            \r\n            \r\n            remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\r\n        }\r\n        return convertView;\r\n    }\r\n}\r\n```\r\n\r\nlist_row.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;15sp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:layout_marginRight=&quot;30sp&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/remove&quot;\r\n        android:layout_width=&quot;22sp&quot;\r\n        android:layout_height=&quot;22sp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_marginRight=&quot;6sp&quot;\r\n        android:src=&quot;@drawable/remove&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"List view is not loading records correctly from some point","body":"<p>I have an scrollable list to which I am adding some records dynamically. It works very simple, I add records to ArrayList, than pass it to adapter. The problem is when I am scrolling, 3 first records always get loaded, than during scrolling first few records also gets loaded. But later i keep getting some random previous records (seems like according to the ArrayList which is correct). How can I force records to be loaded? I also read in other's articles that initializing layout=&quot;match_parent&quot; could help, which I have done. I'm posting my code below.</p>\n<pre><code>public void addItem(String item) {\n      assets.add(0, item);\n      listView.setAdapter(adapter);\n}\n</code></pre>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ListView\n        android:id=&quot;@+id/list_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:paddingRight=&quot;0sp&quot;\n        android:layout_height=&quot;350dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/list_view&quot;\n        android:onClick=&quot;save&quot;\n        android:layout_marginLeft=&quot;24dp&quot;\n        android:text=&quot;Zapisz&quot;\n        android:backgroundTint=&quot;@color/colorPrimary&quot;/&gt;\n</code></pre>\n<p>My custom adapter class:</p>\n<pre><code>public class ListViewAdapter extends ArrayAdapter&lt;String&gt; {\n    ArrayList&lt;String&gt; list;\n    Context context;\n\n    public ListViewAdapter(Context context, ArrayList&lt;String&gt; items) {\n        super(context, R.layout.list_row, items);\n        this.context = context;\n        list = items;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            LayoutInflater mInflater = LayoutInflater.from(context);\n            convertView = mInflater.inflate(R.layout.list_row, parent, false);\n            TextView name = convertView.findViewById(R.id.name);\n            ImageView remove = convertView.findViewById(R.id.remove);\n            name.setText(list.get(position));\n            \n            \n            remove.setOnClickListener(view -&gt; MainActivity.removeItem(position));\n        }\n        return convertView;\n    }\n}\n</code></pre>\n<p>list_row.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;15sp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:textColor=&quot;#000&quot;\n        android:textSize=&quot;20sp&quot;\n        android:layout_marginRight=&quot;30sp&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/remove&quot;\n        android:layout_width=&quot;22sp&quot;\n        android:layout_height=&quot;22sp&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_marginRight=&quot;6sp&quot;\n        android:src=&quot;@drawable/remove&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","hyperledger-fabric","hyperledger-chaincode"],"answers":[{"tags":[],"owner":{"account_id":22749465,"reputation":22,"user_id":16909821,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634816861,"creation_date":1634816861,"answer_id":69661439,"question_id":69613730,"body_markdown":"Many things can go wrong when setting up a new project for smart contract development.  One recommendation is that before linking up with a spring boot project and writing your chaincode functions, start with a known reference and use this to troubleshoot any problems with the environment.  Once you have a working reference it should be easier to introduce your contract logic, or set up a new project using the example as a template.\r\n\r\nFor instance, we have had great results using the new [test-network-k8s](https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s) to build chaincode-as-a-service based smart contracts. This platform reconstructs the test network on a local Kubernetes cluster, and can be used to build and edit chaincode contracts running within a debugger (E.g. IntelliJ, Eclipse, VSCode, etc.) or docker container on the local machine.  The kube test network also includes a pre-configured external builder, so it should be &quot;ready to go&quot; with minimal or no configuration.\r\n\r\nThe Fabric Documentation suggests that Go and Node are the only supported platforms for external builders, but this is incorrect - Java is supported despite the lack of good examples in the fabric-samples project.  See [Issue #2916](https://github.com/hyperledger/fabric/issues/2916) for additional details.\r\n\r\nSome helpful links that can help you get started with a Java external service: \r\n\r\n- [Issue #2916](https://github.com/hyperledger/fabric/issues/2916), describing a need for a reference Java sample in fabric-samples.   Notice that in this ticket the users also report that the chaincode is always &quot;timing out.&quot; \r\n\r\n- [test-network-k8s](https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s):  Alternate development platform for writing smart contracts as a service.\r\n\r\n- [DEBUGGING CHAINCODE](https://github.com/jkneubuh/fabric-samples/blob/main/test-network-k8s/docs/CHAINCODE.md#debugging-chaincode)\r\n\r\n","title":"Hyperledger Fabric Invoke Java Chaincode(as a external service) timeout","body":"<p>Many things can go wrong when setting up a new project for smart contract development.  One recommendation is that before linking up with a spring boot project and writing your chaincode functions, start with a known reference and use this to troubleshoot any problems with the environment.  Once you have a working reference it should be easier to introduce your contract logic, or set up a new project using the example as a template.</p>\n<p>For instance, we have had great results using the new <a href=\"https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s\" rel=\"nofollow noreferrer\">test-network-k8s</a> to build chaincode-as-a-service based smart contracts. This platform reconstructs the test network on a local Kubernetes cluster, and can be used to build and edit chaincode contracts running within a debugger (E.g. IntelliJ, Eclipse, VSCode, etc.) or docker container on the local machine.  The kube test network also includes a pre-configured external builder, so it should be &quot;ready to go&quot; with minimal or no configuration.</p>\n<p>The Fabric Documentation suggests that Go and Node are the only supported platforms for external builders, but this is incorrect - Java is supported despite the lack of good examples in the fabric-samples project.  See <a href=\"https://github.com/hyperledger/fabric/issues/2916\" rel=\"nofollow noreferrer\">Issue #2916</a> for additional details.</p>\n<p>Some helpful links that can help you get started with a Java external service:</p>\n<ul>\n<li><p><a href=\"https://github.com/hyperledger/fabric/issues/2916\" rel=\"nofollow noreferrer\">Issue #2916</a>, describing a need for a reference Java sample in fabric-samples.   Notice that in this ticket the users also report that the chaincode is always &quot;timing out.&quot;</p>\n</li>\n<li><p><a href=\"https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s\" rel=\"nofollow noreferrer\">test-network-k8s</a>:  Alternate development platform for writing smart contracts as a service.</p>\n</li>\n<li><p><a href=\"https://github.com/jkneubuh/fabric-samples/blob/main/test-network-k8s/docs/CHAINCODE.md#debugging-chaincode\" rel=\"nofollow noreferrer\">DEBUGGING CHAINCODE</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16733731,"reputation":1,"user_id":12095427,"display_name":"dilipmdanny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652877598,"creation_date":1652877598,"answer_id":72289371,"question_id":69613730,"body_markdown":"I ran into a similar issue while using java 8 to build chaincode container for chaincode written using fabric shim 2.2.2. After building the container with java 11, the transactions were successful.\r\n\r\nJava 11 is the supported version for any release post Fabric 1.4. Building the chaincode container with jdk 11 would be a common fix in this case. ","title":"Hyperledger Fabric Invoke Java Chaincode(as a external service) timeout","body":"<p>I ran into a similar issue while using java 8 to build chaincode container for chaincode written using fabric shim 2.2.2. After building the container with java 11, the transactions were successful.</p>\n<p>Java 11 is the supported version for any release post Fabric 1.4. Building the chaincode container with jdk 11 would be a common fix in this case.</p>\n"}],"owner":{"account_id":22071772,"reputation":11,"user_id":16332666,"display_name":"Veee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652877598,"creation_date":1634549245,"question_id":69613730,"body_markdown":"I am trying to implement chaincode **as external service** by **Java** with Fabric 2.2.3. The invoke of contract method from peer always be timeout.\r\n\r\nMy peers and network should be fine because it works fine when I run a contract service with **GO** in the same environment. I have no idea at which point I am doing wrong or configure wrong.\r\n\r\nMy Contract `MyAssetContract.java`:\r\n```java\r\n@Slf4j\r\n@Contract(name = &quot;myAssetContract&quot;, info = @Info(title = &quot;MyAssetContract contract&quot;, description = &quot;My Smart Contract&quot;, version = &quot;0.0.1&quot;, license = @License(name = &quot;Apache-2.0&quot;, url = &quot;&quot;)))\r\n@Default\r\npublic class MyAssetContract implements ContractInterface {\r\n\r\n    public MyAssetContract() {\r\n    }\r\n\r\n    @Transaction()\r\n    public boolean myAssetExists(Context ctx, String myAssetId) {\r\n        log.info(&quot;myAssetExists: {}&quot;, myAssetId);\r\n        byte[] buffer = ctx.getStub().getState(myAssetId);\r\n        return (buffer != null &amp;&amp; buffer.length &gt; 0);\r\n    }\r\n\r\n    // other contract methods...\r\n\r\n}\r\n```\r\nThe `MyAsset.java`:\r\n```java\r\n@DataType()\r\npublic class MyAsset {\r\n\r\n    @Property()\r\n    private String value;\r\n\r\n    public MyAsset() {\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\nI start the service like this: \r\n```java\r\ntry {\r\n      ChaincodeServerProperties chaincodeServerProperties = new ChaincodeServerProperties();\r\n\r\n      final int port = properties.getPort(); // get from SpringBoot configuration\r\n      final String coreChaincodeIdName = properties.getCcid();  // get from SpringBoot configuration\r\n\r\n      chaincodeServerProperties.setPortChaincodeServer(port);\r\n      chaincodeServerProperties.setMaxConnectionAgeSeconds(Integer.MAX_VALUE);\r\n      ContractRouter contractRouter = new ContractRouter(new String[] { &quot;-i&quot;, coreChaincodeIdName });\r\n      ChaincodeServer chaincodeServer = new NettyChaincodeServer(contractRouter, chaincodeServerProperties);\r\n      contractRouter.startRouterWithChaincodeServer(chaincodeServer);\r\n  } catch (Throwable e) {\r\n      throw new RuntimeException(&quot;start ChaincodeServer failed&quot;, e);\r\n}\r\n```\r\nContract Service Start log:\r\n```\r\n(ignore Spring logs ...)\r\n\r\n2021-10-18 16:58:02.362 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-429 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;Environment options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-430 - CORE_CHAINCODE_ID_NAME: null\r\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-431 - CORE_PEER_ADDRESS: 127.0.0.1\r\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-432 - CORE_PEER_TLS_ENABLED: false\r\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-433 - CORE_PEER_TLS_ROOTCERT_FILE: null\r\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-434 - CORE_TLS_CLIENT_KEY_PATH: null\r\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-435 - CORE_TLS_CLIENT_CERT_PATH: null\r\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-436 - CORE_PEER_LOCALMSPID: \r\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-437 - LOGLEVEL: null\r\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-388 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;CommandLine options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-389 - CORE_CHAINCODE_ID_NAME: myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042\r\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-390 - CORE_PEER_ADDRESS: 127.0.0.1:7051\r\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-391 - CORE_PEER_TLS_ENABLED: false\r\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-392 - CORE_PEER_TLS_ROOTCERT_FILE: null\r\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-393 - CORE_TLS_CLIENT_KEY_PATH: null\r\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-394 - CORE_TLS_CLIENT_CERT_PATH: null\r\n2021-10-18 16:58:02.372 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-467 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;Properties options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n2021-10-18 16:58:02.373 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-468 - {CORE_CHAINCODE_ID_NAME=myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042, CORE_PEER_ADDRESS=127.0.0.1}\r\n2021-10-18 16:58:02.375 [INFO ] [] - org.hyperledger.fabric.metrics.Metrics-62 - Metrics disabled\r\n2021-10-18 16:58:03.388 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.logging.InternalLoggerFactory-45 - Using SLF4J as the default logging framework\r\n2021-10-18 16:58:03.390 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1003 - Platform: Windows\r\n2021-10-18 16:58:03.395 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-396 - -Dio.netty.noUnsafe: false\r\n2021-10-18 16:58:03.395 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-852 - Java version: 8\r\n2021-10-18 16:58:03.397 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-121 - sun.misc.Unsafe.theUnsafe: available\r\n2021-10-18 16:58:03.398 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-145 - sun.misc.Unsafe.copyMemory: available\r\n2021-10-18 16:58:03.399 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-183 - java.nio.Buffer.address: available\r\n2021-10-18 16:58:03.400 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-244 - direct buffer constructor: available\r\n2021-10-18 16:58:03.401 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-314 - java.nio.Bits.unaligned: available, true\r\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-379 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9\r\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-386 - java.nio.DirectByteBuffer.&lt;init&gt;(long, int): available\r\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1046 - sun.misc.Unsafe: available\r\n2021-10-18 16:58:03.405 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1165 - -Dio.netty.tmpdir: C:\\Users\\alice\\AppData\\Local\\Temp (java.io.tmpdir)\r\n2021-10-18 16:58:03.405 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1244 - -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n2021-10-18 16:58:03.406 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-177 - -Dio.netty.maxDirectMemory: 3741319168 bytes\r\n2021-10-18 16:58:03.407 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-184 - -Dio.netty.uninitializedArrayAllocationThreshold: -1\r\n2021-10-18 16:58:03.408 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.CleanerJava6-92 - java.nio.ByteBuffer.cleaner(): available\r\n2021-10-18 16:58:03.408 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-204 - -Dio.netty.noPreferDirect: false\r\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-85 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;chaincodeServerProperties&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;:\r\n\r\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-86 - PortChaincodeServer:23456\r\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-87 - MaxInboundMetadataSize:104857600\r\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-88 - MaxInboundMessageSize:104857600\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-89 - MaxConnectionAgeSeconds:2147483647\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-90 - KeepAliveTimeoutSeconds:20\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-91 - PermitKeepAliveTimeMinutes:1\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-92 - KeepAliveTimeMinutes:1\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-93 - PermitKeepAliveWithoutCalls:true\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-94 - KeyPassword:null\r\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-95 - KeyCertChainFile:null\r\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-96 - KeyFile:null\r\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-97 - isTlsEnabled:false\r\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-98 - \r\n\r\n2021-10-18 16:58:03.490 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.MultithreadEventLoopGroup-44 - -Dio.netty.eventLoopThreads: 16\r\n2021-10-18 16:58:03.510 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.InternalThreadLocalMap-56 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n2021-10-18 16:58:03.511 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.InternalThreadLocalMap-59 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n2021-10-18 16:58:03.523 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop-106 - -Dio.netty.noKeySetOptimization: false\r\n2021-10-18 16:58:03.523 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop-107 - -Dio.netty.selectorAutoRebuildThreshold: 512\r\n2021-10-18 16:58:03.540 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-907 - org.jctools-core.MpscChunkedArrayQueue: available\r\n2021-10-18 16:58:05.119 [INFO ] [] - org.hyperledger.fabric.contract.routing.impl.ContractDefinitionImpl-70 - Found class: com.example.contract.MyAssetContract\r\n2021-10-18 16:58:05.124 [INFO ] [] - org.hyperledger.fabric.contract.routing.impl.ContractDefinitionImpl-70 - Found class: org.hyperledger.fabric.contract.systemcontract.SystemContract\r\n2021-10-18 16:58:05.129 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \r\n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \r\n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.131 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \r\n2021-10-18 16:58:05.131 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \r\n2021-10-18 16:58:05.135 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-118 - Validating schema created\r\n2021-10-18 16:58:05.135 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-80 - Running schema test validation\r\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.contract.ContractRouter-196 - Metadata follows:{\r\n   &quot;components&quot;: {&quot;schemas&quot;: {&quot;MyAsset&quot;: {\r\n      &quot;additionalProperties&quot;: false,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {&quot;value&quot;: {&quot;type&quot;: &quot;string&quot;}},\r\n      &quot;$id&quot;: &quot;com.example.contract.MyAsset&quot;\r\n   }}},\r\n   &quot;$schema&quot;: &quot;https://fabric-shim.github.io/release-1.4/contract-schema.json&quot;,\r\n   &quot;contracts&quot;: {\r\n      &quot;myAssetContract&quot;: {\r\n         &quot;name&quot;: &quot;myAssetContract&quot;,\r\n         &quot;transactions&quot;: [\r\n            {\r\n               &quot;name&quot;: &quot;myAssetExists&quot;,\r\n               &quot;returns&quot;: {&quot;type&quot;: &quot;boolean&quot;},\r\n               &quot;parameters&quot;: [{\r\n                  &quot;schema&quot;: {&quot;type&quot;: &quot;string&quot;},\r\n                  &quot;name&quot;: &quot;arg1&quot;\r\n               }],\r\n               &quot;tags&quot;: [\r\n                  &quot;SUBMIT&quot;,\r\n                  &quot;INVOKE&quot;\r\n               ]\r\n            }\r\n         ],\r\n         &quot;info&quot;: {\r\n            &quot;license&quot;: {&quot;name&quot;: &quot;Apache-2.0&quot;},\r\n            &quot;description&quot;: &quot;My Smart Contract&quot;,\r\n            &quot;termsOfService&quot;: &quot;&quot;,\r\n            &quot;title&quot;: &quot;MyAssetContract contract&quot;,\r\n            &quot;version&quot;: &quot;0.0.1&quot;,\r\n            &quot;contact&quot;: {}\r\n         }\r\n      },\r\n      &quot;org.hyperledger.fabric&quot;: {\r\n         &quot;name&quot;: &quot;org.hyperledger.fabric&quot;,\r\n         &quot;transactions&quot;: [{\r\n            &quot;name&quot;: &quot;GetMetadata&quot;,\r\n            &quot;returns&quot;: {&quot;type&quot;: &quot;string&quot;},\r\n            &quot;parameters&quot;: [],\r\n            &quot;tags&quot;: [\r\n               &quot;SUBMIT&quot;,\r\n               &quot;INVOKE&quot;\r\n            ]\r\n         }],\r\n         &quot;info&quot;: {\r\n            &quot;license&quot;: {&quot;name&quot;: &quot;&quot;},\r\n            &quot;description&quot;: &quot;Provides information about the contracts within this container&quot;,\r\n            &quot;termsOfService&quot;: &quot;&quot;,\r\n            &quot;title&quot;: &quot;Fabric System Contract&quot;,\r\n            &quot;version&quot;: &quot;&quot;,\r\n            &quot;contact&quot;: {}\r\n         }\r\n      }\r\n   },\r\n   &quot;info&quot;: {\r\n      &quot;license&quot;: {&quot;name&quot;: &quot;Apache-2.0&quot;},\r\n      &quot;description&quot;: &quot;My Smart Contract&quot;,\r\n      &quot;termsOfService&quot;: &quot;&quot;,\r\n      &quot;title&quot;: &quot;MyAssetContract contract&quot;,\r\n      &quot;version&quot;: &quot;0.0.1&quot;,\r\n      &quot;contact&quot;: {}\r\n   }\r\n}\r\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.contract.ContractRouter-198 - Starting ChaincodeServer\r\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-109 - start grpc server\r\n2021-10-18 16:58:05.285 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector-130 - -Dio.grpc.netty.shaded.io.netty.leakDetection.level: simple\r\n2021-10-18 16:58:05.286 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector-131 - -Dio.grpc.netty.shaded.io.netty.leakDetection.targetRecords: 4\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-156 - -Dio.netty.allocator.numHeapArenas: 16\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-157 - -Dio.netty.allocator.numDirectArenas: 16\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-159 - -Dio.netty.allocator.pageSize: 8192\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-164 - -Dio.netty.allocator.maxOrder: 11\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-168 - -Dio.netty.allocator.chunkSize: 16777216\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-169 - -Dio.netty.allocator.tinyCacheSize: 512\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-170 - -Dio.netty.allocator.smallCacheSize: 256\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-171 - -Dio.netty.allocator.normalCacheSize: 64\r\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-172 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-173 - -Dio.netty.allocator.cacheTrimInterval: 8192\r\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-174 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-175 - -Dio.netty.allocator.useCacheForAllThreads: true\r\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-176 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n2021-10-18 16:58:05.308 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.DefaultChannelId-79 - -Dio.netty.processId: 252300 (auto-detected)\r\n2021-10-18 16:58:05.310 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-139 - -Djava.net.preferIPv4Stack: false\r\n2021-10-18 16:58:05.311 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-140 - -Djava.net.preferIPv6Addresses: false\r\n2021-10-18 16:58:06.232 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-224 - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)\r\n2021-10-18 16:58:06.233 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-289 - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200\r\n2021-10-18 16:58:07.226 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.DefaultChannelId-101 - -Dio.netty.machineId: e8:6a:64:ff:fe:71:3c:b1 (auto-detected)\r\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-86 - -Dio.netty.allocator.type: pooled\r\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-95 - -Dio.netty.threadLocalDirectBufferSize: 0\r\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-98 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n2021-10-18 16:58:07.259 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-127 - Waits for the server to become terminated.\r\n\r\n```\r\n\r\nWhen I invoke the contract method, the log in contract service shows:\r\n```\r\n(ignore logs by io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler line 214 and 191)\r\n2021-10-18 17:02:14.862 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf-63 - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\r\n2021-10-18 17:02:14.863 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf-64 - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\r\n2021-10-18 17:02:14.865 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory-195 - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@17d8818a\r\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-97 - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-98 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-99 - -Dio.netty.recycler.linkCapacity: 16\r\n2021-10-18 17:02:14.965 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-100 - -Dio.netty.recycler.ratio: 8\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\r\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\r\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.150 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\r\n2021-10-18 17:02:15.150 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.151 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\r\n2021-10-18 17:02:15.152 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\r\n2021-10-18 17:02:15.217 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-315 - Registering new chaincode name: &quot;myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042&quot;\r\n(and 11 more...)\r\n2021-10-18 17:02:15.266 [WARN ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-169 - [        ] Received REGISTERED: cannot handle\r\n2021-10-18 17:02:15.276 [WARN ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-209 - [        ] Received READY: cannot handle\r\n\r\n```\r\nand my invkoe result:\r\n```\r\nfailed to execute transaction c44f03af9a179de32a5a724343e0a509b8d30282daa34375db01b9deffd52ad1: error sending: timeout expired while executing transaction \r\n```","title":"Hyperledger Fabric Invoke Java Chaincode(as a external service) timeout","body":"<p>I am trying to implement chaincode <strong>as external service</strong> by <strong>Java</strong> with Fabric 2.2.3. The invoke of contract method from peer always be timeout.</p>\n<p>My peers and network should be fine because it works fine when I run a contract service with <strong>GO</strong> in the same environment. I have no idea at which point I am doing wrong or configure wrong.</p>\n<p>My Contract <code>MyAssetContract.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Contract(name = &quot;myAssetContract&quot;, info = @Info(title = &quot;MyAssetContract contract&quot;, description = &quot;My Smart Contract&quot;, version = &quot;0.0.1&quot;, license = @License(name = &quot;Apache-2.0&quot;, url = &quot;&quot;)))\n@Default\npublic class MyAssetContract implements ContractInterface {\n\n    public MyAssetContract() {\n    }\n\n    @Transaction()\n    public boolean myAssetExists(Context ctx, String myAssetId) {\n        log.info(&quot;myAssetExists: {}&quot;, myAssetId);\n        byte[] buffer = ctx.getStub().getState(myAssetId);\n        return (buffer != null &amp;&amp; buffer.length &gt; 0);\n    }\n\n    // other contract methods...\n\n}\n</code></pre>\n<p>The <code>MyAsset.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataType()\npublic class MyAsset {\n\n    @Property()\n    private String value;\n\n    public MyAsset() {\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>I start the service like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n      ChaincodeServerProperties chaincodeServerProperties = new ChaincodeServerProperties();\n\n      final int port = properties.getPort(); // get from SpringBoot configuration\n      final String coreChaincodeIdName = properties.getCcid();  // get from SpringBoot configuration\n\n      chaincodeServerProperties.setPortChaincodeServer(port);\n      chaincodeServerProperties.setMaxConnectionAgeSeconds(Integer.MAX_VALUE);\n      ContractRouter contractRouter = new ContractRouter(new String[] { &quot;-i&quot;, coreChaincodeIdName });\n      ChaincodeServer chaincodeServer = new NettyChaincodeServer(contractRouter, chaincodeServerProperties);\n      contractRouter.startRouterWithChaincodeServer(chaincodeServer);\n  } catch (Throwable e) {\n      throw new RuntimeException(&quot;start ChaincodeServer failed&quot;, e);\n}\n</code></pre>\n<p>Contract Service Start log:</p>\n<pre><code>(ignore Spring logs ...)\n\n2021-10-18 16:58:02.362 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-429 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;Environment options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-430 - CORE_CHAINCODE_ID_NAME: null\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-431 - CORE_PEER_ADDRESS: 127.0.0.1\n2021-10-18 16:58:02.363 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-432 - CORE_PEER_TLS_ENABLED: false\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-433 - CORE_PEER_TLS_ROOTCERT_FILE: null\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-434 - CORE_TLS_CLIENT_KEY_PATH: null\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-435 - CORE_TLS_CLIENT_CERT_PATH: null\n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-436 - CORE_PEER_LOCALMSPID: \n2021-10-18 16:58:02.364 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-437 - LOGLEVEL: null\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-388 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;CommandLine options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-389 - CORE_CHAINCODE_ID_NAME: myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042\n2021-10-18 16:58:02.370 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-390 - CORE_PEER_ADDRESS: 127.0.0.1:7051\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-391 - CORE_PEER_TLS_ENABLED: false\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-392 - CORE_PEER_TLS_ROOTCERT_FILE: null\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-393 - CORE_TLS_CLIENT_KEY_PATH: null\n2021-10-18 16:58:02.371 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-394 - CORE_TLS_CLIENT_CERT_PATH: null\n2021-10-18 16:58:02.372 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-467 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;Properties options&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n2021-10-18 16:58:02.373 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-468 - {CORE_CHAINCODE_ID_NAME=myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042, CORE_PEER_ADDRESS=127.0.0.1}\n2021-10-18 16:58:02.375 [INFO ] [] - org.hyperledger.fabric.metrics.Metrics-62 - Metrics disabled\n2021-10-18 16:58:03.388 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.logging.InternalLoggerFactory-45 - Using SLF4J as the default logging framework\n2021-10-18 16:58:03.390 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1003 - Platform: Windows\n2021-10-18 16:58:03.395 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-396 - -Dio.netty.noUnsafe: false\n2021-10-18 16:58:03.395 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-852 - Java version: 8\n2021-10-18 16:58:03.397 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-121 - sun.misc.Unsafe.theUnsafe: available\n2021-10-18 16:58:03.398 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-145 - sun.misc.Unsafe.copyMemory: available\n2021-10-18 16:58:03.399 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-183 - java.nio.Buffer.address: available\n2021-10-18 16:58:03.400 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-244 - direct buffer constructor: available\n2021-10-18 16:58:03.401 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-314 - java.nio.Bits.unaligned: available, true\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-379 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent0-386 - java.nio.DirectByteBuffer.&lt;init&gt;(long, int): available\n2021-10-18 16:58:03.402 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1046 - sun.misc.Unsafe: available\n2021-10-18 16:58:03.405 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1165 - -Dio.netty.tmpdir: C:\\Users\\alice\\AppData\\Local\\Temp (java.io.tmpdir)\n2021-10-18 16:58:03.405 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-1244 - -Dio.netty.bitMode: 64 (sun.arch.data.model)\n2021-10-18 16:58:03.406 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-177 - -Dio.netty.maxDirectMemory: 3741319168 bytes\n2021-10-18 16:58:03.407 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-184 - -Dio.netty.uninitializedArrayAllocationThreshold: -1\n2021-10-18 16:58:03.408 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.CleanerJava6-92 - java.nio.ByteBuffer.cleaner(): available\n2021-10-18 16:58:03.408 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-204 - -Dio.netty.noPreferDirect: false\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-85 - &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;chaincodeServerProperties&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;:\n\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-86 - PortChaincodeServer:23456\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-87 - MaxInboundMetadataSize:104857600\n2021-10-18 16:58:03.468 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-88 - MaxInboundMessageSize:104857600\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-89 - MaxConnectionAgeSeconds:2147483647\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-90 - KeepAliveTimeoutSeconds:20\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-91 - PermitKeepAliveTimeMinutes:1\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-92 - KeepAliveTimeMinutes:1\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-93 - PermitKeepAliveWithoutCalls:true\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-94 - KeyPassword:null\n2021-10-18 16:58:03.469 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-95 - KeyCertChainFile:null\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-96 - KeyFile:null\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-97 - isTlsEnabled:false\n2021-10-18 16:58:03.470 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-98 - \n\n2021-10-18 16:58:03.490 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.MultithreadEventLoopGroup-44 - -Dio.netty.eventLoopThreads: 16\n2021-10-18 16:58:03.510 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.InternalThreadLocalMap-56 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n2021-10-18 16:58:03.511 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.InternalThreadLocalMap-59 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n2021-10-18 16:58:03.523 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop-106 - -Dio.netty.noKeySetOptimization: false\n2021-10-18 16:58:03.523 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop-107 - -Dio.netty.selectorAutoRebuildThreshold: 512\n2021-10-18 16:58:03.540 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.internal.PlatformDependent-907 - org.jctools-core.MpscChunkedArrayQueue: available\n2021-10-18 16:58:05.119 [INFO ] [] - org.hyperledger.fabric.contract.routing.impl.ContractDefinitionImpl-70 - Found class: com.example.contract.MyAssetContract\n2021-10-18 16:58:05.124 [INFO ] [] - org.hyperledger.fabric.contract.routing.impl.ContractDefinitionImpl-70 - Found class: org.hyperledger.fabric.contract.systemcontract.SystemContract\n2021-10-18 16:58:05.129 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.130 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.131 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \n2021-10-18 16:58:05.131 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - email \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - name \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.132 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-56 - url \n2021-10-18 16:58:05.135 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-118 - Validating schema created\n2021-10-18 16:58:05.135 [INFO ] [] - org.hyperledger.fabric.contract.metadata.MetadataBuilder-80 - Running schema test validation\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.contract.ContractRouter-196 - Metadata follows:{\n   &quot;components&quot;: {&quot;schemas&quot;: {&quot;MyAsset&quot;: {\n      &quot;additionalProperties&quot;: false,\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {&quot;value&quot;: {&quot;type&quot;: &quot;string&quot;}},\n      &quot;$id&quot;: &quot;com.example.contract.MyAsset&quot;\n   }}},\n   &quot;$schema&quot;: &quot;https://fabric-shim.github.io/release-1.4/contract-schema.json&quot;,\n   &quot;contracts&quot;: {\n      &quot;myAssetContract&quot;: {\n         &quot;name&quot;: &quot;myAssetContract&quot;,\n         &quot;transactions&quot;: [\n            {\n               &quot;name&quot;: &quot;myAssetExists&quot;,\n               &quot;returns&quot;: {&quot;type&quot;: &quot;boolean&quot;},\n               &quot;parameters&quot;: [{\n                  &quot;schema&quot;: {&quot;type&quot;: &quot;string&quot;},\n                  &quot;name&quot;: &quot;arg1&quot;\n               }],\n               &quot;tags&quot;: [\n                  &quot;SUBMIT&quot;,\n                  &quot;INVOKE&quot;\n               ]\n            }\n         ],\n         &quot;info&quot;: {\n            &quot;license&quot;: {&quot;name&quot;: &quot;Apache-2.0&quot;},\n            &quot;description&quot;: &quot;My Smart Contract&quot;,\n            &quot;termsOfService&quot;: &quot;&quot;,\n            &quot;title&quot;: &quot;MyAssetContract contract&quot;,\n            &quot;version&quot;: &quot;0.0.1&quot;,\n            &quot;contact&quot;: {}\n         }\n      },\n      &quot;org.hyperledger.fabric&quot;: {\n         &quot;name&quot;: &quot;org.hyperledger.fabric&quot;,\n         &quot;transactions&quot;: [{\n            &quot;name&quot;: &quot;GetMetadata&quot;,\n            &quot;returns&quot;: {&quot;type&quot;: &quot;string&quot;},\n            &quot;parameters&quot;: [],\n            &quot;tags&quot;: [\n               &quot;SUBMIT&quot;,\n               &quot;INVOKE&quot;\n            ]\n         }],\n         &quot;info&quot;: {\n            &quot;license&quot;: {&quot;name&quot;: &quot;&quot;},\n            &quot;description&quot;: &quot;Provides information about the contracts within this container&quot;,\n            &quot;termsOfService&quot;: &quot;&quot;,\n            &quot;title&quot;: &quot;Fabric System Contract&quot;,\n            &quot;version&quot;: &quot;&quot;,\n            &quot;contact&quot;: {}\n         }\n      }\n   },\n   &quot;info&quot;: {\n      &quot;license&quot;: {&quot;name&quot;: &quot;Apache-2.0&quot;},\n      &quot;description&quot;: &quot;My Smart Contract&quot;,\n      &quot;termsOfService&quot;: &quot;&quot;,\n      &quot;title&quot;: &quot;MyAssetContract contract&quot;,\n      &quot;version&quot;: &quot;0.0.1&quot;,\n      &quot;contact&quot;: {}\n   }\n}\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.contract.ContractRouter-198 - Starting ChaincodeServer\n2021-10-18 16:58:05.265 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-109 - start grpc server\n2021-10-18 16:58:05.285 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector-130 - -Dio.grpc.netty.shaded.io.netty.leakDetection.level: simple\n2021-10-18 16:58:05.286 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector-131 - -Dio.grpc.netty.shaded.io.netty.leakDetection.targetRecords: 4\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-156 - -Dio.netty.allocator.numHeapArenas: 16\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-157 - -Dio.netty.allocator.numDirectArenas: 16\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-159 - -Dio.netty.allocator.pageSize: 8192\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-164 - -Dio.netty.allocator.maxOrder: 11\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-168 - -Dio.netty.allocator.chunkSize: 16777216\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-169 - -Dio.netty.allocator.tinyCacheSize: 512\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-170 - -Dio.netty.allocator.smallCacheSize: 256\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-171 - -Dio.netty.allocator.normalCacheSize: 64\n2021-10-18 16:58:05.287 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-172 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-173 - -Dio.netty.allocator.cacheTrimInterval: 8192\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-174 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-175 - -Dio.netty.allocator.useCacheForAllThreads: true\n2021-10-18 16:58:05.288 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator-176 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n2021-10-18 16:58:05.308 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.DefaultChannelId-79 - -Dio.netty.processId: 252300 (auto-detected)\n2021-10-18 16:58:05.310 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-139 - -Djava.net.preferIPv4Stack: false\n2021-10-18 16:58:05.311 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-140 - -Djava.net.preferIPv6Addresses: false\n2021-10-18 16:58:06.232 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-224 - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)\n2021-10-18 16:58:06.233 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.NetUtil-289 - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200\n2021-10-18 16:58:07.226 [DEBUG] [] - io.grpc.netty.shaded.io.netty.channel.DefaultChannelId-101 - -Dio.netty.machineId: e8:6a:64:ff:fe:71:3c:b1 (auto-detected)\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-86 - -Dio.netty.allocator.type: pooled\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-95 - -Dio.netty.threadLocalDirectBufferSize: 0\n2021-10-18 16:58:07.247 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.ByteBufUtil-98 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\n2021-10-18 16:58:07.259 [INFO ] [] - org.hyperledger.fabric.shim.NettyGrpcServer-127 - Waits for the server to become terminated.\n\n</code></pre>\n<p>When I invoke the contract method, the log in contract service shows:</p>\n<pre><code>(ignore logs by io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler line 214 and 191)\n2021-10-18 17:02:14.862 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf-63 - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\n2021-10-18 17:02:14.863 [DEBUG] [] - io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf-64 - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\n2021-10-18 17:02:14.865 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory-195 - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@17d8818a\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-97 - -Dio.netty.recycler.maxCapacityPerThread: 4096\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-98 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n2021-10-18 17:02:14.964 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-99 - -Dio.netty.recycler.linkCapacity: 16\n2021-10-18 17:02:14.965 [DEBUG] [] - io.grpc.netty.shaded.io.netty.util.Recycler-100 - -Dio.netty.recycler.ratio: 8\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.086 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-486 - Configuring channel connection to peer.\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.087 [INFO ] [] - org.hyperledger.fabric.shim.ChaincodeBase-124 - Maximum Inbound Message Size [MAX_INBOUND_MESSAGE_SIZE] = 104857600\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.144 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\n2021-10-18 17:02:15.142 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-125 - Max Pool Size [TP_MAX_POOL_SIZE]5\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.143 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-126 - Queue Size [TP_CORE_POOL_SIZE]5000\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.145 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.149 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.150 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.146 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.147 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-127 - Core Pool Size [TP_QUEUE_SIZE]5\n2021-10-18 17:02:15.150 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.151 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-128 - Keep Alive Time [TP_KEEP_ALIVE_MS]5000\n2021-10-18 17:02:15.152 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskExecutor-40 - Thread pool created\n2021-10-18 17:02:15.217 [INFO ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-315 - Registering new chaincode name: &quot;myAssetContract:bb0caa4c55ad6d7d3e58244b436c3858ed9d9726c4efccc0e75852d5523f0042&quot;\n(and 11 more...)\n2021-10-18 17:02:15.266 [WARN ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-169 - [        ] Received REGISTERED: cannot handle\n2021-10-18 17:02:15.276 [WARN ] [] - org.hyperledger.fabric.shim.impl.InvocationTaskManager-209 - [        ] Received READY: cannot handle\n\n</code></pre>\n<p>and my invkoe result:</p>\n<pre><code>failed to execute transaction c44f03af9a179de32a5a724343e0a509b8d30282daa34375db01b9deffd52ad1: error sending: timeout expired while executing transaction \n</code></pre>\n"},{"tags":["java","spring","jpa","types","jpql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652878504,"post_id":72289306,"comment_id":127712826,"body_markdown":"It seems that `TYPE` expression only works on the entity you actually query. So in your example `TYPE(al)` would be valid. You could probably turn it around ` from Alojamiento al where TYPE(al) = Apartamento`, should return a list of all `Apartamento`s","body":"It seems that <code>TYPE</code> expression only works on the entity you actually query. So in your example <code>TYPE(al)</code> would be valid. You could probably turn it around ` from Alojamiento al where TYPE(al) = Apartamento<code>, should return a list of all </code>Apartamento`s"},{"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"score":0,"creation_date":1652881772,"post_id":72289306,"comment_id":127714391,"body_markdown":"Thanks for your comment. Unfortunately, the solution didn&#39;t work. It returns &quot;could not resolve property: class of: es.seresco.alquileresCadati.model.Alquiler&quot;, because Alquiler doesn&#39;t have any child class.","body":"Thanks for your comment. Unfortunately, the solution didn&#39;t work. It returns &quot;could not resolve property: class of: es.seresco.alquileresCadati.model.Alquiler&quot;, because Alquiler doesn&#39;t have any child class."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652882254,"post_id":72289306,"comment_id":127714646,"body_markdown":"[Check this](https://stackoverflow.com/a/7808003/7109162). Either you make a check on the actual class, you try to use `TYPE(al.alojamiento) IN :param`","body":"<a href=\"https://stackoverflow.com/a/7808003/7109162\">Check this</a>. Either you make a check on the actual class, you try to use <code>TYPE(al.alojamiento) IN :param</code>"},{"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"score":0,"creation_date":1652948349,"post_id":72289306,"comment_id":127732733,"body_markdown":"Thanks for the reply. I&#39;ll try that as soon as possible.","body":"Thanks for the reply. I&#39;ll try that as soon as possible."}],"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652877365,"creation_date":1652877365,"question_id":72289306,"body_markdown":"I&#39;m new to Spring and JPQL (and stack overflow too!), and I have a problem with a JPQL query, trying to use WHERE TYPE.\r\n\r\nMi classes are (sorry, the names are in Spanish):\r\n\r\n    @Entity\r\n    @Table(name = &quot;ALQUILER&quot;)\r\n    public class Alquiler implements Serializable{\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -4036725817142449041L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@EqualsAndHashCode.Include()\r\n\tprivate Long id;\r\n\t\r\n\t@ToString.Exclude\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;ID_ALOJAMIENTO&quot;)\r\n\tprivate Alojamiento alojamiento;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;ALOJAMIENTO&quot;)\r\n    @Inheritance( strategy = InheritanceType.JOINED )\r\n    \r\n    public abstract class Alojamiento implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -4656346394072676126L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue( strategy = GenerationType.AUTO )\r\n    \t@Getter@Setter\r\n    \t@ToString.Exclude\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column\r\n    \t(name = &quot;PLAZAS&quot;, nullable = false)\r\n    \tprivate Integer plazas;\r\n    \t\r\n    \t@Column\r\n    \t(name = &quot;PRECIO&quot;, nullable = false)\r\n    \tprivate Double precio;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;APARTAMENTO&quot;)\r\n    @Builder\r\n    @EqualsAndHashCode(callSuper=false)\r\n    @ToString(callSuper = true)\r\n\r\n    public class Apartamento extends Alojamiento{\r\n    \t\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -3561089045391062665L;\r\n    \r\n    \t@Column(name = &quot;DIRECCION&quot;, nullable = false, unique=true)\r\n    \tprivate String direccion;\r\n    \t\r\n    \t@Column(name=&quot;ASCENSOR&quot;, nullable = false)\r\n    \tprivate boolean ascensor;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;CASA&quot;)\r\n    @Builder\r\n    @EqualsAndHashCode(callSuper=false)\r\n    @ToString(callSuper = true)\r\n    \r\n    public class Casa extends Alojamiento{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 4745518992755935327L;\r\n    \r\n    \t@Column(name = &quot;DIRECCION&quot;, nullable = false, unique=true)\r\n    \tprivate String direccion;\r\n    \t\r\n    \t@Column(name = &quot;METROS_FINCA&quot;, nullable = false)\r\n    \tprivate Double metrosFinca;\r\n    }\r\n\r\nI did not traduced the names of the classes to avoid mistakes, but to make this more readable for everybody, we can traduce them like:\r\n- Alquiler-&gt; Rent\r\n- Alojamiento-&gt; Accommodation\r\n- Casa -&gt; House\r\n- Apartamento -&gt; Flat\r\n\r\nBasically, I have two types of accomodation, houses and flats, and people rent them. I want to count how many flats where rented in total.\r\n\r\nMy JPQL query:\r\n\r\n    SELECT COUNT(*) FROM Alquiler al WHERE TYPE (al.alojamiento)= Apartamento\r\n\r\nThe error: \r\n\r\n    Caused by: org.hibernate.QueryException: could not resolve property: Alojamiento of: es.seresco.alquileresCadati.model.Alquiler\r\n\r\nI don&#39;t know if the error is because TYPE does not allow to to that, or it&#39;s because the query is incorrect.\r\n\r\nThank you.\r\nRegards.","title":"Error using TYPE in JPQL &quot;could not resolve property&quot;","body":"<p>I'm new to Spring and JPQL (and stack overflow too!), and I have a problem with a JPQL query, trying to use WHERE TYPE.</p>\n<p>Mi classes are (sorry, the names are in Spanish):</p>\n<pre><code>@Entity\n@Table(name = &quot;ALQUILER&quot;)\npublic class Alquiler implements Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = -4036725817142449041L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@EqualsAndHashCode.Include()\nprivate Long id;\n\n@ToString.Exclude\n@ManyToOne\n@JoinColumn(name = &quot;ID_ALOJAMIENTO&quot;)\nprivate Alojamiento alojamiento;\n}\n\n@Entity\n@Table(name = &quot;ALOJAMIENTO&quot;)\n@Inheritance( strategy = InheritanceType.JOINED )\n\npublic abstract class Alojamiento implements Serializable{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = -4656346394072676126L;\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.AUTO )\n    @Getter@Setter\n    @ToString.Exclude\n    private Long id;\n    \n    @Column\n    (name = &quot;PLAZAS&quot;, nullable = false)\n    private Integer plazas;\n    \n    @Column\n    (name = &quot;PRECIO&quot;, nullable = false)\n    private Double precio;\n}\n\n@Entity\n@Table(name = &quot;APARTAMENTO&quot;)\n@Builder\n@EqualsAndHashCode(callSuper=false)\n@ToString(callSuper = true)\n\npublic class Apartamento extends Alojamiento{\n    \n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -3561089045391062665L;\n\n    @Column(name = &quot;DIRECCION&quot;, nullable = false, unique=true)\n    private String direccion;\n    \n    @Column(name=&quot;ASCENSOR&quot;, nullable = false)\n    private boolean ascensor;\n}\n\n@Entity\n@Table(name = &quot;CASA&quot;)\n@Builder\n@EqualsAndHashCode(callSuper=false)\n@ToString(callSuper = true)\n\npublic class Casa extends Alojamiento{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 4745518992755935327L;\n\n    @Column(name = &quot;DIRECCION&quot;, nullable = false, unique=true)\n    private String direccion;\n    \n    @Column(name = &quot;METROS_FINCA&quot;, nullable = false)\n    private Double metrosFinca;\n}\n</code></pre>\n<p>I did not traduced the names of the classes to avoid mistakes, but to make this more readable for everybody, we can traduce them like:</p>\n<ul>\n<li>Alquiler-&gt; Rent</li>\n<li>Alojamiento-&gt; Accommodation</li>\n<li>Casa -&gt; House</li>\n<li>Apartamento -&gt; Flat</li>\n</ul>\n<p>Basically, I have two types of accomodation, houses and flats, and people rent them. I want to count how many flats where rented in total.</p>\n<p>My JPQL query:</p>\n<pre><code>SELECT COUNT(*) FROM Alquiler al WHERE TYPE (al.alojamiento)= Apartamento\n</code></pre>\n<p>The error:</p>\n<pre><code>Caused by: org.hibernate.QueryException: could not resolve property: Alojamiento of: es.seresco.alquileresCadati.model.Alquiler\n</code></pre>\n<p>I don't know if the error is because TYPE does not allow to to that, or it's because the query is incorrect.</p>\n<p>Thank you.\nRegards.</p>\n"},{"tags":["java","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652858421,"creation_date":1652858421,"answer_id":72284736,"question_id":72283538,"body_markdown":"Well, apparently in\r\n\r\n    long milliseconds = entity.getProperty(&quot;timestamp&quot;);\r\n\r\nentity returns a `String`, which you assign to a `long`. This requires a typecast. \r\n\r\nNote that Entity (or its superclass, PropertyContainer) [explicitly states][1]\r\n\r\n&gt; The value returned may not be the same type as originally set via setProperty\r\n\r\nSo - what to do? If you know that you&#39;re getting a String, and you want to interpret it as a long: Use the proper conversion method (which is not a typecast). \r\n\r\n    long longValue = Long.parseLong(stringValue);\r\n\r\n...but prepare for `NumberFormatException`s in cases where you convert actual, non-numeric Strings.\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/PropertyContainer.html#getProperty-java.lang.String-","title":"java.lang.ClassCastException : java.lang.String cannot be cast to java.lang.Long","body":"<p>Well, apparently in</p>\n<pre><code>long milliseconds = entity.getProperty(&quot;timestamp&quot;);\n</code></pre>\n<p>entity returns a <code>String</code>, which you assign to a <code>long</code>. This requires a typecast.</p>\n<p>Note that Entity (or its superclass, PropertyContainer) <a href=\"https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/datastore/PropertyContainer.html#getProperty-java.lang.String-\" rel=\"nofollow noreferrer\">explicitly states</a></p>\n<blockquote>\n<p>The value returned may not be the same type as originally set via setProperty</p>\n</blockquote>\n<p>So - what to do? If you know that you're getting a String, and you want to interpret it as a long: Use the proper conversion method (which is not a typecast).</p>\n<pre><code>long longValue = Long.parseLong(stringValue);\n</code></pre>\n<p>...but prepare for <code>NumberFormatException</code>s in cases where you convert actual, non-numeric Strings.</p>\n"},{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652877359,"creation_date":1652875747,"answer_id":72288928,"question_id":72283538,"body_markdown":"Apparently, you are trying to retrieve a String of number format which you want to cast to a long value. The first thing you will have to do is to check whether the value obtained from entity.getProperty(&quot;timestamp&quot;) returns a number. There&#39;s is a special library called [Apache Commons Lang 3](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html) that allows to check if your string is of numeric format. If it&#39;s the case, then it&#39;s a simple implicit cast to long value that you should do. Your code should look as follows,ASSUMING ENTITY IS NOT NULL:\r\n\r\n     import org.apache.commons.lang3.math.NumberUtils;\r\n    \r\n       if(NumberUtils.isCreatable(entity.getProperty(&quot;timestamp&quot;)){\r\n          long milliseconds = Long.parseLong(entity.getProperty(&quot;timestamp&quot;));\r\n            }\r\n        else{    \r\n      //print the information you want to identify the value of the property\r\n      //for example:\r\n       System.out.println(&quot;The following value cannot be parsed to long : &quot; + \r\n      entity.getProperty(&quot;timestamp&quot;));\r\n        }\r\n\r\n","title":"java.lang.ClassCastException : java.lang.String cannot be cast to java.lang.Long","body":"<p>Apparently, you are trying to retrieve a String of number format which you want to cast to a long value. The first thing you will have to do is to check whether the value obtained from entity.getProperty(&quot;timestamp&quot;) returns a number. There's is a special library called <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html\" rel=\"nofollow noreferrer\">Apache Commons Lang 3</a> that allows to check if your string is of numeric format. If it's the case, then it's a simple implicit cast to long value that you should do. Your code should look as follows,ASSUMING ENTITY IS NOT NULL:</p>\n<pre><code> import org.apache.commons.lang3.math.NumberUtils;\n\n   if(NumberUtils.isCreatable(entity.getProperty(&quot;timestamp&quot;)){\n      long milliseconds = Long.parseLong(entity.getProperty(&quot;timestamp&quot;));\n        }\n    else{    \n  //print the information you want to identify the value of the property\n  //for example:\n   System.out.println(&quot;The following value cannot be parsed to long : &quot; + \n  entity.getProperty(&quot;timestamp&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652877359,"creation_date":1652851100,"question_id":72283538,"body_markdown":"I&#39;m trying to create a feed management system. I have created a simple get and post request for the servlet. I&#39;m able to store the data in the datastore successfully as milliseconds.\r\n\r\nBut when I retrieve it\r\n\r\n```\r\nlong milliseconds = entity.getProperty(&quot;timestamp&quot;);\r\n```\r\n\r\nI get some error like this\r\n\r\n&gt; java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Long\r\n\r\nWhat will be the reason for this issue? ","title":"java.lang.ClassCastException : java.lang.String cannot be cast to java.lang.Long","body":"<p>I'm trying to create a feed management system. I have created a simple get and post request for the servlet. I'm able to store the data in the datastore successfully as milliseconds.</p>\n<p>But when I retrieve it</p>\n<pre><code>long milliseconds = entity.getProperty(&quot;timestamp&quot;);\n</code></pre>\n<p>I get some error like this</p>\n<blockquote>\n<p>java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Long</p>\n</blockquote>\n<p>What will be the reason for this issue?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652876836,"creation_date":1652876836,"answer_id":72289166,"question_id":72289072,"body_markdown":"Don&#39;t use DecimalFormat because it will use `double` internally.  Instead parse it directly using `new BigDecimal(String)`","title":"Rounded up value is received when using setMaximumFractionDigits","body":"<p>Don't use DecimalFormat because it will use <code>double</code> internally.  Instead parse it directly using <code>new BigDecimal(String)</code></p>\n"}],"owner":{"account_id":11860752,"reputation":119,"user_id":8679501,"display_name":"RandomGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72289166,"answer_count":1,"score":0,"last_activity_date":1652876836,"creation_date":1652876470,"question_id":72289072,"body_markdown":"I&#39;m new to Java and stuck at an issue. below is the sample program i made for the same.\r\n```\r\nimport java.text.DecimalFormat;\r\nimport java.text.DecimalFormatSymbols;\r\nimport java.util.Currency;\r\nimport java.util.Locale;\r\nimport java.math.RoundingMode;\r\nimport java.math.BigDecimal;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tObject fieldVal = null;\r\n\t\t// Create the DecimalFormat Instance\r\n\t\tDecimalFormat deciFormat = new DecimalFormat();\r\n\t\tString valStr = &quot;31363.214722222422&quot;;\r\n\r\n   \t\tdeciFormat.setMaximumFractionDigits(15);\r\n   \t\t\r\n   \t\ttry {\r\n   \t\t    fieldVal = new BigDecimal(deciFormat.parse(valStr).toString());\r\n   \t\t}\r\n   \t\tcatch (java.text.ParseException e){\r\n   \t\t    \r\n   \t\t}\r\n   \t\tSystem.out.println(fieldVal);\r\n\t}\r\n}\r\n```\r\nHere I&#39;m expecting the output as ```31363.214722222422``` but instead I&#39;m getting ```31363.214722222423```.\r\nI observed that this rounding up happens for 12th decimal place. If I use till 11 decimal place, it works absolutely fine.\r\nI even tried to avoid rounding up with ```deciFormat.setRoundingMode(RoundingMode.DOWN);```, but it didn&#39;t work.\r\n\r\nNeed some guidance to solve this issue.","title":"Rounded up value is received when using setMaximumFractionDigits","body":"<p>I'm new to Java and stuck at an issue. below is the sample program i made for the same.</p>\n<pre><code>import java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\nimport java.util.Currency;\nimport java.util.Locale;\nimport java.math.RoundingMode;\nimport java.math.BigDecimal;\n\npublic class Main {\n    public static void main(String[] args)\n    {\n        Object fieldVal = null;\n        // Create the DecimalFormat Instance\n        DecimalFormat deciFormat = new DecimalFormat();\n        String valStr = &quot;31363.214722222422&quot;;\n\n        deciFormat.setMaximumFractionDigits(15);\n        \n        try {\n            fieldVal = new BigDecimal(deciFormat.parse(valStr).toString());\n        }\n        catch (java.text.ParseException e){\n            \n        }\n        System.out.println(fieldVal);\n    }\n}\n</code></pre>\n<p>Here I'm expecting the output as <code>31363.214722222422</code> but instead I'm getting <code>31363.214722222423</code>.\nI observed that this rounding up happens for 12th decimal place. If I use till 11 decimal place, it works absolutely fine.\nI even tried to avoid rounding up with <code>deciFormat.setRoundingMode(RoundingMode.DOWN);</code>, but it didn't work.</p>\n<p>Need some guidance to solve this issue.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1652853756,"post_id":72283883,"comment_id":127703720,"body_markdown":"What is the error you get?","body":"What is the error you get?"}],"answers":[{"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652854290,"creation_date":1652854054,"answer_id":72283950,"question_id":72283883,"body_markdown":"You have a list of a list, and you want to perform some computation in the nested list with the stream. The flatMap() method could resolve your problem.\r\n\r\nAnd you want to return a boolean, if there are any elements in stream that match a given condition, anyMatch() might be a good choice.\r\n\r\n    partn.getcontrolUnit().stream()\r\n    .flatMap(cu -&gt; cu.getcontrolUnitVersion().stream())\r\n    .anyMatch(r -&gt; r.getWorkflowState().getKey().equals(&quot;locked&quot;) || r.getWorkflowState().getKey().equals(&quot;released&quot;));","title":"How to use stream on method that return boolean value with multiple condition","body":"<p>You have a list of a list, and you want to perform some computation in the nested list with the stream. The flatMap() method could resolve your problem.</p>\n<p>And you want to return a boolean, if there are any elements in stream that match a given condition, anyMatch() might be a good choice.</p>\n<pre><code>partn.getcontrolUnit().stream()\n.flatMap(cu -&gt; cu.getcontrolUnitVersion().stream())\n.anyMatch(r -&gt; r.getWorkflowState().getKey().equals(&quot;locked&quot;) || r.getWorkflowState().getKey().equals(&quot;released&quot;));\n</code></pre>\n"}],"owner":{"account_id":15887835,"reputation":1,"user_id":11463770,"display_name":"Shivprasad Nardele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652876819,"creation_date":1652853636,"question_id":72283883,"body_markdown":"I am using this method:\r\n\r\n    private boolean getUsageDisabled(controlUnitVersion cUv) {\r\n      Partnumber partn=cUv.getcontrolUnit().getpartnumber();\r\n    \r\n      for (controlUnit cu: partn.getcontrolUnit()) {\r\n        for (ControlUnitVersion cUv2: cu.getcontrolUnitVersion()) {\r\n          for (release r: cUv2.getRelease()) {\r\n            if (r.getWorkflowState().getKey().equals(&quot;locked&quot;) || \r\n              r.getWorkflowState().getKey().equals(&quot;released&quot;)) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\nand I want to be able to change it using Stream , I&#39;ve tried the following, but I am missing something:\r\n\r\n\r\n    partn.getcontrolUnit()\r\n      .stream()\r\n      .forEach(cu -&gt; cu.getControlUnitVersion()\r\n        .stream()\r\n        .filter(cUv2 -&gt; cUv2.getrelease()\r\n          .stream()\r\n          .forEach(release -&gt; {\r\n            if (release.getWorkflowState().getKey().equals(&quot;locked&quot;) ||\r\n              release.getWorkflowState().getKey().equals(&quot;released&quot;)) {\r\n              return true; \r\n            }\r\n          })\r\n        )\r\n      );\r\n\r\n\r\n\r\nbut I am getting an error.","title":"How to use stream on method that return boolean value with multiple condition","body":"<p>I am using this method:</p>\n<pre><code>private boolean getUsageDisabled(controlUnitVersion cUv) {\n  Partnumber partn=cUv.getcontrolUnit().getpartnumber();\n\n  for (controlUnit cu: partn.getcontrolUnit()) {\n    for (ControlUnitVersion cUv2: cu.getcontrolUnitVersion()) {\n      for (release r: cUv2.getRelease()) {\n        if (r.getWorkflowState().getKey().equals(&quot;locked&quot;) || \n          r.getWorkflowState().getKey().equals(&quot;released&quot;)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n</code></pre>\n<p>and I want to be able to change it using Stream , I've tried the following, but I am missing something:</p>\n<pre><code>partn.getcontrolUnit()\n  .stream()\n  .forEach(cu -&gt; cu.getControlUnitVersion()\n    .stream()\n    .filter(cUv2 -&gt; cUv2.getrelease()\n      .stream()\n      .forEach(release -&gt; {\n        if (release.getWorkflowState().getKey().equals(&quot;locked&quot;) ||\n          release.getWorkflowState().getKey().equals(&quot;released&quot;)) {\n          return true; \n        }\n      })\n    )\n  );\n</code></pre>\n<p>but I am getting an error.</p>\n"},{"tags":["java","jasper-reports","docx","xlsx","odt"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1372948190,"post_id":17472345,"comment_id":25391041,"body_markdown":"I&#39;m afraid that it is impossible. You can do something like this with *JRPdfExporter*. For *PDF* documents you can find info in [Jasper Report - Set Author property in a PDF document](http://stackoverflow.com/q/5552891/876298) post","body":"I&#39;m afraid that it is impossible. You can do something like this with <i>JRPdfExporter</i>. For <i>PDF</i> documents you can find info in <a href=\"http://stackoverflow.com/q/5552891/876298\">Jasper Report - Set Author property in a PDF document</a> post"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1372948244,"post_id":17472345,"comment_id":25391072,"body_markdown":"By the way, you can try to customize *Exporters* by yourself. :)","body":"By the way, you can try to customize <i>Exporters</i> by yourself. :)"},{"owner":{"account_id":2841308,"reputation":952,"user_id":2440877,"display_name":"Arno Mittelbach"},"score":0,"creation_date":1373362096,"post_id":17472345,"comment_id":25517993,"body_markdown":"For docx and co you could always use apache poi and set the properties after you generated the documents with jasper.","body":"For docx and co you could always use apache poi and set the properties after you generated the documents with jasper."}],"answers":[{"tags":[],"owner":{"account_id":2454358,"reputation":1453,"user_id":2139910,"display_name":"Anand saga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373541701,"creation_date":1373541701,"answer_id":17592046,"question_id":17472345,"body_markdown":"This code may be useful for you\r\n\r\n   \r\n\r\n \r\n\r\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperPath + &quot;myReport.jasper&quot;, hm, con);\r\n    JRPdfExporter exporter = new JRPdfExporter();\r\n    exporter.setParameter(JRExporterParameter.JASPER_PRINT, jasperPrint);\r\n    exporter.setParameter(JRExporterParameter.OUTPUT_FILE, outPath + outFile);\r\n    exporter.setParameter(JRPdfExporterParameter.METADATA_AUTHOR, &quot;Adnan&quot;);\r\n    exporter.setParameter(JRPdfExporterParameter.METADATA_TITLE, &quot;Title&quot;);\r\n    // ...\r\n    exporter.exportReport();","title":"Jasper Reports - Set Document properties (author, title..) in docx, xlsx, odt","body":"<p>This code may be useful for you</p>\n\n<pre><code>JasperPrint jasperPrint = JasperFillManager.fillReport(jasperPath + \"myReport.jasper\", hm, con);\nJRPdfExporter exporter = new JRPdfExporter();\nexporter.setParameter(JRExporterParameter.JASPER_PRINT, jasperPrint);\nexporter.setParameter(JRExporterParameter.OUTPUT_FILE, outPath + outFile);\nexporter.setParameter(JRPdfExporterParameter.METADATA_AUTHOR, \"Adnan\");\nexporter.setParameter(JRPdfExporterParameter.METADATA_TITLE, \"Title\");\n// ...\nexporter.exportReport();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25324080,"reputation":1,"user_id":19144988,"display_name":"RVL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652876701,"creation_date":1652876701,"answer_id":72289134,"question_id":17472345,"body_markdown":"With jasperreports 6.7.0\r\n\r\nPDF\r\n```\r\nfinal SimplePdfExporterConfiguration config = new SimplePdfExporterConfiguration();\r\nconfig.setMetadataTitle(&quot;ABC&quot;);\r\nconfig.setMetadataAuthor(&quot;XYZ&quot;);\r\nfinal JRPdfExporter exporter = new JRPdfExporter();\r\nexporter.setConfiguration(config);\r\n```\r\n\r\nWORD\r\n\r\n```    \r\nSimpleDocxExporterConfiguration config= new SimpleDocxExporterConfiguration();\r\nconfig.setMetadataTitle(&quot;ABC&quot;);\r\nconfig.setMetadataAuthor(&quot;XYZ&quot;);     \r\nfinal JRDocxExporter exporter = new JRDocxExporter();\r\nexporter.setConfiguration(config);\r\n```\r\n\r\nEXCEL\r\n```\r\nfinal SimpleXlsxExporterConfiguration config= new SimpleXlsxExporterConfiguration();\r\nconfig.setMetadataAuthor(&quot;ABC&quot;);\r\nconfig.setMetadataTitle(&quot;XYZ&quot;);\r\n\r\nfinal JRXlsxExporter exporter = new JRXlsxExporter();\r\nexporter.setConfiguration(config);\r\n```","title":"Jasper Reports - Set Document properties (author, title..) in docx, xlsx, odt","body":"<p>With jasperreports 6.7.0</p>\n<p>PDF</p>\n<pre><code>final SimplePdfExporterConfiguration config = new SimplePdfExporterConfiguration();\nconfig.setMetadataTitle(&quot;ABC&quot;);\nconfig.setMetadataAuthor(&quot;XYZ&quot;);\nfinal JRPdfExporter exporter = new JRPdfExporter();\nexporter.setConfiguration(config);\n</code></pre>\n<p>WORD</p>\n<pre><code>SimpleDocxExporterConfiguration config= new SimpleDocxExporterConfiguration();\nconfig.setMetadataTitle(&quot;ABC&quot;);\nconfig.setMetadataAuthor(&quot;XYZ&quot;);     \nfinal JRDocxExporter exporter = new JRDocxExporter();\nexporter.setConfiguration(config);\n</code></pre>\n<p>EXCEL</p>\n<pre><code>final SimpleXlsxExporterConfiguration config= new SimpleXlsxExporterConfiguration();\nconfig.setMetadataAuthor(&quot;ABC&quot;);\nconfig.setMetadataTitle(&quot;XYZ&quot;);\n\nfinal JRXlsxExporter exporter = new JRXlsxExporter();\nexporter.setConfiguration(config);\n</code></pre>\n"}],"owner":{"account_id":3006074,"reputation":41,"user_id":2550605,"display_name":"user2550605"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2234,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1652876701,"creation_date":1372946651,"question_id":17472345,"body_markdown":"Is there any way to set document properties (such as author, title and comment) of docx, xlsx and odt in Jasper Reports from Java? I have a version 3.7.0 of the Jasper Reports.","title":"Jasper Reports - Set Document properties (author, title..) in docx, xlsx, odt","body":"<p>Is there any way to set document properties (such as author, title and comment) of docx, xlsx and odt in Jasper Reports from Java? I have a version 3.7.0 of the Jasper Reports.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8655,"page":1337,"page_size":100}
