{"items":[{"tags":["java","jersey","jetty","classnotfoundexception","hk2"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673018186,"creation_date":1673018186,"answer_id":75032758,"question_id":75004921,"body_markdown":"This is the standard JVM behavior of classpath (old school Java) and modulepath (new school Java Platform Module System, aka JPMS).\r\n\r\nOnce you have a `module-info.class` you have a modulepath active, and all of the access rules it has.\r\n\r\nYour runtime can have both at the same time, and this is quite normal.\r\n\r\nDon&#39;t rely on old school classpath to get around bad code and bad behavior, use JPMS and `module-info.class` and you&#39;ll know what the developers of those projects jars intend for you to use (you won&#39;t be allowed to use internal classes for example, as those are highly volatile and can change at a moments notice).\r\n\r\n`jakarta.xml.bind` is required by HK2 to operate, so you have to declare it in your build dependencies to just compile, and then your `module-info.java` to be able to access it.\r\n\r\nCheck the other answers here on Stackoverflow for advice on how to use `module-info.java` properly (there&#39;s far more to it than just `requires &lt;module&gt;`).\r\n\r\n","title":"ClassNotFoundException in embedded Jetty when using Module system","body":"<p>This is the standard JVM behavior of classpath (old school Java) and modulepath (new school Java Platform Module System, aka JPMS).</p>\n<p>Once you have a <code>module-info.class</code> you have a modulepath active, and all of the access rules it has.</p>\n<p>Your runtime can have both at the same time, and this is quite normal.</p>\n<p>Don't rely on old school classpath to get around bad code and bad behavior, use JPMS and <code>module-info.class</code> and you'll know what the developers of those projects jars intend for you to use (you won't be allowed to use internal classes for example, as those are highly volatile and can change at a moments notice).</p>\n<p><code>jakarta.xml.bind</code> is required by HK2 to operate, so you have to declare it in your build dependencies to just compile, and then your <code>module-info.java</code> to be able to access it.</p>\n<p>Check the other answers here on Stackoverflow for advice on how to use <code>module-info.java</code> properly (there's far more to it than just <code>requires &lt;module&gt;</code>).</p>\n"}],"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673018186,"creation_date":1672832553,"question_id":75004921,"body_markdown":"I use an embedded Jetty (11.0.13) server with Jersey (3.1.0) that provides a simple REST interface which returns JSON objects. The JSON objects are serialized using Jackson.\r\n\r\nThe setup works fine as long as I don&#180;t use Java&#180;s module system.\r\nBut when I add the `module-info.java` file (see below), I get the following error as soon as I call the service.\r\n\r\n```\r\nWARNING: The following warnings have been detected: WARNING: Unknown HK2 failure detected:\r\nMultiException stack 1 of 2\r\njava.lang.NoClassDefFoundError: jakarta/xml/bind/annotation/XmlElement\r\n\tat com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationIntrospector.&lt;init&gt;(JakartaXmlBindAnnotationIntrospector.java:137)\r\n\t...\r\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.XmlElement\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 83 more\r\nMultiException stack 2 of 2\r\njava.lang.IllegalStateException: Unable to perform operation: post construct on org.glassfish.jersey.jackson.internal.DefaultJacksonJaxbJsonProvider\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:429)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\r\n\t...\r\n```\r\n\r\nTo make it work, I have to add the JAX-B-API to the `pom.xml` and to the `module-info.java`.\r\nThe error only occurs when using Java modules. When I simply delete the `module-info.java` file, everythink works fine even without the JAX-B dependency.\r\n\r\nThis is the point where I am really confused. Why do I need the JAX-B dependency when I use the module system, but not when I don&#180;t use it? And why does the `ClassNotFoundException` even occur? Shouldn&#180;t warn the module system about missing dependencies on startup?\r\n\r\nI hope someone can explain that. It took me days to make it work.\r\n\r\n---\r\n\r\nThis is the setup that produces the issue:\r\n\r\n**pom.xml**\r\n``` lang-xml\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Main.java**\r\n``` lang-java\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Server server = new Server(8080);\r\n        server.setStopAtShutdown(true);\r\n    \r\n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\r\n        ServletHolder servletHolder = context.addServlet(ServletContainer.class, &quot;/*&quot;);\r\n        servletHolder.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example.demo&quot;);\r\n        servletHolder.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n        \r\n        server.start();\r\n    }\r\n}\r\n```\r\n\r\n**DemoResource.java**\r\n``` lang-java\r\n@Path(&quot;/hello&quot;)\r\npublic class DemoResource {\r\n    @GET\r\n    @Produces(&quot;application/json&quot;)\r\n    public HelloDto hello() {\r\n        return new HelloDto(&quot;Hello, World!&quot;);\r\n    }\r\n    \r\n    public record HelloDto(String value) {\r\n        @JsonGetter(&quot;value&quot;)\r\n        public String value() {\r\n            return this.value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**module-info.java**\r\n``` lang-java\r\nmodule demo {\r\n    requires org.eclipse.jetty.server;\r\n    requires org.eclipse.jetty.servlet;\r\n    requires jersey.container.servlet.core;\r\n    requires jakarta.ws.rs;\r\n    requires com.fasterxml.jackson.annotation;\r\n}\r\n```\r\n","title":"ClassNotFoundException in embedded Jetty when using Module system","body":"<p>I use an embedded Jetty (11.0.13) server with Jersey (3.1.0) that provides a simple REST interface which returns JSON objects. The JSON objects are serialized using Jackson.</p>\n<p>The setup works fine as long as I don´t use Java´s module system.\nBut when I add the <code>module-info.java</code> file (see below), I get the following error as soon as I call the service.</p>\n<pre><code>WARNING: The following warnings have been detected: WARNING: Unknown HK2 failure detected:\nMultiException stack 1 of 2\njava.lang.NoClassDefFoundError: jakarta/xml/bind/annotation/XmlElement\n    at com.fasterxml.jackson.module.jakarta.xmlbind.JakartaXmlBindAnnotationIntrospector.&lt;init&gt;(JakartaXmlBindAnnotationIntrospector.java:137)\n    ...\nCaused by: java.lang.ClassNotFoundException: jakarta.xml.bind.annotation.XmlElement\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 83 more\nMultiException stack 2 of 2\njava.lang.IllegalStateException: Unable to perform operation: post construct on org.glassfish.jersey.jackson.internal.DefaultJacksonJaxbJsonProvider\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:429)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\n    ...\n</code></pre>\n<p>To make it work, I have to add the JAX-B-API to the <code>pom.xml</code> and to the <code>module-info.java</code>.\nThe error only occurs when using Java modules. When I simply delete the <code>module-info.java</code> file, everythink works fine even without the JAX-B dependency.</p>\n<p>This is the point where I am really confused. Why do I need the JAX-B dependency when I use the module system, but not when I don´t use it? And why does the <code>ClassNotFoundException</code> even occur? Shouldn´t warn the module system about missing dependencies on startup?</p>\n<p>I hope someone can explain that. It took me days to make it work.</p>\n<hr />\n<p>This is the setup that produces the issue:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;11.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;11.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        Server server = new Server(8080);\n        server.setStopAtShutdown(true);\n    \n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\n        ServletHolder servletHolder = context.addServlet(ServletContainer.class, &quot;/*&quot;);\n        servletHolder.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example.demo&quot;);\n        servletHolder.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\n        \n        server.start();\n    }\n}\n</code></pre>\n<p><strong>DemoResource.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\npublic class DemoResource {\n    @GET\n    @Produces(&quot;application/json&quot;)\n    public HelloDto hello() {\n        return new HelloDto(&quot;Hello, World!&quot;);\n    }\n    \n    public record HelloDto(String value) {\n        @JsonGetter(&quot;value&quot;)\n        public String value() {\n            return this.value;\n        }\n    }\n}\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module demo {\n    requires org.eclipse.jetty.server;\n    requires org.eclipse.jetty.servlet;\n    requires jersey.container.servlet.core;\n    requires jakarta.ws.rs;\n    requires com.fasterxml.jackson.annotation;\n}\n</code></pre>\n"},{"tags":["java","https","tomcat7"],"owner":{"account_id":8704380,"reputation":149,"user_id":6513014,"display_name":"orly.sharon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673017758,"creation_date":1672926129,"question_id":75019342,"body_markdown":"I&#39;ve a tomcat 7.0.96 installed on my PC. \r\nI&#39;ve added to server . xml this section : \r\n\r\n     &lt;Connector executor=&quot;tomcatThreadPool&quot;\r\n               port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;9443&quot; /&gt;\r\n\t\t\t\r\n\r\n    &lt;Connector executor=&quot;tomcatThreadPool&quot;\r\n           protocol=&quot;HTTP/1.1&quot;\r\n           port=&quot;9443&quot; maxThreads=&quot;200&quot;\r\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\r\n           keystoreFile=&quot;C:cert.p12&quot;\r\n\t\t   keystorePass=&quot;1123&quot;\r\n           clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt; \r\n\r\n\r\n  in web.xml I&#39;ve added this section : \r\n\r\n\r\n        &lt;security-constraint&gt;\r\n    &lt;web-resource-collection&gt;\r\n    &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/web-resource-collection&gt;\r\n     \r\n    &lt;!-- auth-constraint goes here if you require authentication --&gt;\r\n    &lt;user-data-constraint&gt;\r\n    &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n    &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\n\r\nI need to enable HTTPS only without the HTTP being redirected to the HTTPS port. \r\nI&#39;v read this [tomcat HTTP ](https://stackoverflow.com/questions/36032803/how-to-disable-auto-redirect-from-http-to-https-on-tomcat)\r\nbut nothing from this Q&amp;A is working for me. \r\nThe HTTP port is still available. \r\n\r\n\r\n\r\n\r\n\r\nAny advice on how to disable HTTP port? and make the tomcat uses only HTTPS port? ","title":"Tom cat 7.0.96 use HTTPS only, without redirect port to http how to?","body":"<p>I've a tomcat 7.0.96 installed on my PC.\nI've added to server . xml this section :</p>\n<pre><code> &lt;Connector executor=&quot;tomcatThreadPool&quot;\n           port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n           connectionTimeout=&quot;20000&quot;\n           redirectPort=&quot;9443&quot; /&gt;\n        \n\n&lt;Connector executor=&quot;tomcatThreadPool&quot;\n       protocol=&quot;HTTP/1.1&quot;\n       port=&quot;9443&quot; maxThreads=&quot;200&quot;\n       scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\n       keystoreFile=&quot;C:cert.p12&quot;\n       keystorePass=&quot;1123&quot;\n       clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot; /&gt; \n</code></pre>\n<p>in web.xml I've added this section :</p>\n<pre><code>    &lt;security-constraint&gt;\n&lt;web-resource-collection&gt;\n&lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/web-resource-collection&gt;\n \n&lt;!-- auth-constraint goes here if you require authentication --&gt;\n&lt;user-data-constraint&gt;\n&lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n&lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>I need to enable HTTPS only without the HTTP being redirected to the HTTPS port.\nI'v read this <a href=\"https://stackoverflow.com/questions/36032803/how-to-disable-auto-redirect-from-http-to-https-on-tomcat\">tomcat HTTP </a>\nbut nothing from this Q&amp;A is working for me.\nThe HTTP port is still available.</p>\n<p>Any advice on how to disable HTTP port? and make the tomcat uses only HTTPS port?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673017817,"post_id":75031794,"comment_id":132409372,"body_markdown":"Your code seems correct, but this is a network error only you can solve... We don&#39;t know what the correct address of your brokers are, or how you need to properly connect to them (authentication, for example? 9092 is the default port, why are you using 9093?) . Does `kafka-console-consumer` work?","body":"Your code seems correct, but this is a network error only you can solve... We don&#39;t know what the correct address of your brokers are, or how you need to properly connect to them (authentication, for example? 9092 is the default port, why are you using 9093?) . Does <code>kafka-console-consumer</code> work?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1673023815,"post_id":75031794,"comment_id":132411512,"body_markdown":"I think that `Subscribed to topic(s):` log INFO message is misleading: it does mean that we really have been connected to Kafka and subscribed. See `KafkaConsumer` source code: it  looks like connection happens only when a `poll()`  is called from the client program.","body":"I think that <code>Subscribed to topic(s):</code> log INFO message is misleading: it does mean that we really have been connected to Kafka and subscribed. See <code>KafkaConsumer</code> source code: it  looks like connection happens only when a <code>poll()</code>  is called from the client program."}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673017718,"creation_date":1673013037,"question_id":75031794,"body_markdown":"Small question regarding consuming Kafka messages from a Spring Boot Kafka consumer please.\r\n\r\nI am following this well written tutorial (literally just copy pasting the **consumer** part code) \r\n\r\nhttps://www.baeldung.com/spring-kafka\r\n\r\nAnd my code looks like:\r\n\r\n```\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        final Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka-host.com:9093&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-test&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class LoganConsumer {\r\n\r\n    @KafkaListener(topics = &quot;the_topic&quot;)\r\n    public void listenGroupFoo(String message) {\r\n        System.out.println(&quot;Received Message : &quot; + message);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I start my application, however, I do see those WARN:\r\n\r\n```\r\n2023-01-06T13:15:19.028Z  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values:\r\n\r\n        allow.auto.create.topics = true\r\n        auto.commit.interval.ms = 5000\r\n        auto.offset.reset = latest\r\n        bootstrap.servers = [kafka-host.com:9093]\r\n        check.crcs = true\r\n        client.dns.lookup = use_all_dns_ips\r\n        client.id = consumer-my-test-1\r\n        client.rack =\r\n        connections.max.idle.ms = 540000\r\n        default.api.timeout.ms = 60000\r\n        enable.auto.commit = false\r\n        exclude.internal.topics = true\r\n        fetch.max.bytes = 52428800\r\n        fetch.max.wait.ms = 500\r\n        fetch.min.bytes = 1\r\n        group.id = my-test\r\n        group.instance.id = null\r\n        heartbeat.interval.ms = 3000\r\n        interceptor.classes = []\r\n        internal.leave.group.on.close = true\r\n        internal.throw.on.fetch.stable.offset.unsupported = false\r\n        isolation.level = read_uncommitted\r\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n        max.partition.fetch.bytes = 1048576\r\n        max.poll.interval.ms = 300000\r\n        max.poll.records = 500\r\n        metadata.max.age.ms = 300000\r\n        metric.reporters = []\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = INFO\r\n        metrics.sample.window.ms = 30000\r\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n        receive.buffer.bytes = 65536\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        request.timeout.ms = 30000\r\n        retry.backoff.ms = 100\r\n        sasl.client.callback.handler.class = null\r\n        sasl.jaas.config = null\r\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        sasl.kerberos.min.time.before.relogin = 60000\r\n        sasl.kerberos.service.name = null\r\n        sasl.kerberos.ticket.renew.jitter = 0.05\r\n        sasl.kerberos.ticket.renew.window.factor = 0.8\r\n        sasl.login.callback.handler.class = null\r\n        sasl.login.class = null\r\n        sasl.login.connect.timeout.ms = null\r\n        sasl.login.read.timeout.ms = null\r\n        sasl.login.refresh.buffer.seconds = 300\r\n        sasl.login.refresh.min.period.seconds = 60\r\n        sasl.login.refresh.window.factor = 0.8\r\n        sasl.login.refresh.window.jitter = 0.05\r\n        sasl.login.retry.backoff.max.ms = 10000\r\n        sasl.login.retry.backoff.ms = 100\r\n        sasl.mechanism = GSSAPI\r\n        sasl.oauthbearer.clock.skew.seconds = 30\r\n        sasl.oauthbearer.expected.audience = null\r\n        sasl.oauthbearer.expected.issuer = null\r\n        sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n        sasl.oauthbearer.jwks.endpoint.url = null\r\n        sasl.oauthbearer.scope.claim.name = scope\r\n        sasl.oauthbearer.sub.claim.name = sub\r\n        sasl.oauthbearer.token.endpoint.url = null\r\n        security.protocol = PLAINTEXT\r\n        security.providers = null\r\n        send.buffer.bytes = 131072\r\n        session.timeout.ms = 45000\r\n        socket.connection.setup.timeout.max.ms = 30000\r\n        socket.connection.setup.timeout.ms = 10000\r\n        ssl.cipher.suites = null\r\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n        ssl.endpoint.identification.algorithm = https\r\n        ssl.engine.factory.class = null\r\n        ssl.key.password = null\r\n        ssl.keymanager.algorithm = SunX509\r\n        ssl.keystore.certificate.chain = null\r\n        ssl.keystore.key = null\r\n        ssl.keystore.location = null\r\n        ssl.keystore.password = null\r\n        ssl.keystore.type = JKS\r\n        ssl.protocol = TLSv1.3\r\n        ssl.provider = null\r\n        ssl.secure.random.implementation = null\r\n        ssl.trustmanager.algorithm = PKIX\r\n        ssl.truststore.certificates = null\r\n        ssl.truststore.location = null\r\n        ssl.truststore.password = null\r\n        ssl.truststore.type = JKS\r\n        value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\r\n2023-01-06T13:15:19.185Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.1\r\n2023-01-06T13:15:19.186Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: e23c59d00e687ff5\r\n2023-01-06T13:15:19.187Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1673010919184\r\n2023-01-06T13:15:19.189Z  INFO 1 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-my-test-1, groupId=my-test] Subscribed to topic(s): the_topic\r\n2023-01-06T13:15:19.205Z  INFO 1 --- [           main]  in 2.752 seconds (process running for 3.23)\r\n2023-01-06T13:15:19.966Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\r\n2023-01-06T13:15:19.968Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected (elapsed time since creation: 491ms, elapsed time since send: 491ms, request timeout: 30000ms)\r\n2023-01-06T13:15:19.968Z  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Bootstrap broker kafka-host.com:9093 (id: -1 rack: null) disconnected\r\n2\r\n```\r\n\r\nTo avoid confusion, I am not seeing any ```Broker may not be available```\r\n\r\nBut in loop, I am seeing those:\r\n\r\n```\r\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\r\n\r\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 28 due to node -1 being disconnected (elapsed time since creation: 59ms, elapsed time since send: 59ms, request timeout: 30000ms)\r\n```\r\n\r\nThose ```Node -1 disconnected.``` are quite confusing, especially I am seeing ``` Subscribed to topic(s): the_topic```\r\n\r\nI am a bit puzzled about what does this mean, and how to fix this please.\r\n\r\nThank you","title":"SpringBoot Kafka -&gt; org.apache.kafka.clients.NetworkClient : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected","body":"<p>Small question regarding consuming Kafka messages from a Spring Boot Kafka consumer please.</p>\n<p>I am following this well written tutorial (literally just copy pasting the <strong>consumer</strong> part code)</p>\n<p><a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-kafka</a></p>\n<p>And my code looks like:</p>\n<pre><code>@Configuration\npublic class KafkaConfiguration {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        final Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka-host.com:9093&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-test&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class LoganConsumer {\n\n    @KafkaListener(topics = &quot;the_topic&quot;)\n    public void listenGroupFoo(String message) {\n        System.out.println(&quot;Received Message : &quot; + message);\n    }\n\n}\n</code></pre>\n<p>When I start my application, however, I do see those WARN:</p>\n<pre><code>2023-01-06T13:15:19.028Z  INFO 1 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values:\n\n        allow.auto.create.topics = true\n        auto.commit.interval.ms = 5000\n        auto.offset.reset = latest\n        bootstrap.servers = [kafka-host.com:9093]\n        check.crcs = true\n        client.dns.lookup = use_all_dns_ips\n        client.id = consumer-my-test-1\n        client.rack =\n        connections.max.idle.ms = 540000\n        default.api.timeout.ms = 60000\n        enable.auto.commit = false\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = my-test\n        group.instance.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = []\n        internal.leave.group.on.close = true\n        internal.throw.on.fetch.stable.offset.unsupported = false\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.connect.timeout.ms = null\n        sasl.login.read.timeout.ms = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.login.retry.backoff.max.ms = 10000\n        sasl.login.retry.backoff.ms = 100\n        sasl.mechanism = GSSAPI\n        sasl.oauthbearer.clock.skew.seconds = 30\n        sasl.oauthbearer.expected.audience = null\n        sasl.oauthbearer.expected.issuer = null\n        sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n        sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n        sasl.oauthbearer.jwks.endpoint.url = null\n        sasl.oauthbearer.scope.claim.name = scope\n        sasl.oauthbearer.sub.claim.name = sub\n        sasl.oauthbearer.token.endpoint.url = null\n        security.protocol = PLAINTEXT\n        security.providers = null\n        send.buffer.bytes = 131072\n        session.timeout.ms = 45000\n        socket.connection.setup.timeout.max.ms = 30000\n        socket.connection.setup.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n        ssl.endpoint.identification.algorithm = https\n        ssl.engine.factory.class = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.certificate.chain = null\n        ssl.keystore.key = null\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.3\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.certificates = null\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n\n2023-01-06T13:15:19.185Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.1\n2023-01-06T13:15:19.186Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: e23c59d00e687ff5\n2023-01-06T13:15:19.187Z  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1673010919184\n2023-01-06T13:15:19.189Z  INFO 1 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-my-test-1, groupId=my-test] Subscribed to topic(s): the_topic\n2023-01-06T13:15:19.205Z  INFO 1 --- [           main]  in 2.752 seconds (process running for 3.23)\n2023-01-06T13:15:19.966Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\n2023-01-06T13:15:19.968Z  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected (elapsed time since creation: 491ms, elapsed time since send: 491ms, request timeout: 30000ms)\n2023-01-06T13:15:19.968Z  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Bootstrap broker kafka-host.com:9093 (id: -1 rack: null) disconnected\n2\n</code></pre>\n<p>To avoid confusion, I am not seeing any <code>Broker may not be available</code></p>\n<p>But in loop, I am seeing those:</p>\n<pre><code> org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Node -1 disconnected.\n\n org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-test-1, groupId=my-test] Cancelled in-flight API_VERSIONS request with correlation id 28 due to node -1 being disconnected (elapsed time since creation: 59ms, elapsed time since send: 59ms, request timeout: 30000ms)\n</code></pre>\n<p>Those <code>Node -1 disconnected.</code> are quite confusing, especially I am seeing <code> Subscribed to topic(s): the_topic</code></p>\n<p>I am a bit puzzled about what does this mean, and how to fix this please.</p>\n<p>Thank you</p>\n"},{"tags":["java","ssl","jetty","keystore","sni"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673017548,"creation_date":1673017548,"answer_id":75032642,"question_id":75032321,"body_markdown":"Your entire question is answered by simply using TLS + SNI properly.\r\n\r\nSNI (Server Name Indication) is very old, and very mature.  It was first defined back in [June 2003 as part of the TLS Extensions Spec RFC 3546][1] and has had multiple updates since then. ([RFC 4366][2], [RFC 6066][3], and then [RFC 9325][4])\r\n\r\nAll modern HTTP Clients (be it a browser, or an embedded HTTP client library) will use SNI when talking https to a server (technically, the TLS layer is handling this part).   Even the venerable Java `java.net.HttpURLConnection` supports SNI (in reality, the Java TLS layer is doing this, the client library doesn&#39;t have to do anything extra to support SNI over TLS).\r\n\r\nSNI has multiple configurations in Jetty.\r\n\r\n**org.eclipse.jetty.util.ssl.SslContextFactory.Server**\r\n\r\n * `.setSniRequired(boolean)` - this is the JVM TLS layer behavior for SNI, if the client doesn&#39;t provide SNI, or the SNI has no match on the server side, then the TLS layer will respond accordingly.\r\n * `.setSNISelector(SniX509ExtendedKeyManager.SniSelector)` - this is the JVM TLS layer behavior control to select the appropriate certificate alias for the incoming SNI information.  The default behavior is found in `org.eclipse.jetty.util.ssl.SslContextFactory.Server.sniSelect(String keyType, Principal[] issuers, SSLSession session, String sniHost, Collection&lt;X509&gt; certificates)`\r\n\r\n**org.eclipse.jetty.server.SecureRequestCustomizer**\r\n\r\n * `.setSniHostCheck(boolean)` the this is post TLS layer, after the HTTP request has been parsed, ensuring that the client TLS SNI information AND client HTTP request authority (`Host` header in HTTP/1, `:authority` pseudo header in HTTP/2 and HTTP/3) AND the returned SNI in the server level TLS layer all match.\r\n * `.setSniRequired(boolean)` this ensures that the SNI is used by the client.\r\n\r\nI would strongly encourage you to **NOT replace the KeyManager** with your own implementation unless you are intimately aware of the entirety of SNI and TLS both from a spec point of view, and the nuances of each of the major browsers behavior with regards to how they treat SNI (eg: local names, localhost, ip literals, non-routables, reserved hosts, protected hosts, etc).\r\n\r\nStart with the default behavior in Jetty (which just uses the built-in JVM techniques for working with TLS + SNI as a server), then if you have more needs in terms of how to select a certificate, look at providing your own `SniX509ExtendedKeyManager.SniSelector` (but make sure to keep it up to date!  you&#39;ll want to follow the code of the default implementation periodically to catch changes that happen due to various factors: major browser vendor changes in behavior, JVM changes in behavior, [Java crypto roadmap changes][5], etc)\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3546\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4366\r\n  [3]: https://www.rfc-editor.org/rfc/rfc6066\r\n  [4]: https://www.rfc-editor.org/rfc/rfc9325\r\n  [5]: https://www.java.com/en/jre-jdk-cryptoroadmap.html","title":"Jetty Server has multiple server certificates","body":"<p>Your entire question is answered by simply using TLS + SNI properly.</p>\n<p>SNI (Server Name Indication) is very old, and very mature.  It was first defined back in <a href=\"https://www.rfc-editor.org/rfc/rfc3546\" rel=\"nofollow noreferrer\">June 2003 as part of the TLS Extensions Spec RFC 3546</a> and has had multiple updates since then. (<a href=\"https://www.rfc-editor.org/rfc/rfc4366\" rel=\"nofollow noreferrer\">RFC 4366</a>, <a href=\"https://www.rfc-editor.org/rfc/rfc6066\" rel=\"nofollow noreferrer\">RFC 6066</a>, and then <a href=\"https://www.rfc-editor.org/rfc/rfc9325\" rel=\"nofollow noreferrer\">RFC 9325</a>)</p>\n<p>All modern HTTP Clients (be it a browser, or an embedded HTTP client library) will use SNI when talking https to a server (technically, the TLS layer is handling this part).   Even the venerable Java <code>java.net.HttpURLConnection</code> supports SNI (in reality, the Java TLS layer is doing this, the client library doesn't have to do anything extra to support SNI over TLS).</p>\n<p>SNI has multiple configurations in Jetty.</p>\n<p><strong>org.eclipse.jetty.util.ssl.SslContextFactory.Server</strong></p>\n<ul>\n<li><code>.setSniRequired(boolean)</code> - this is the JVM TLS layer behavior for SNI, if the client doesn't provide SNI, or the SNI has no match on the server side, then the TLS layer will respond accordingly.</li>\n<li><code>.setSNISelector(SniX509ExtendedKeyManager.SniSelector)</code> - this is the JVM TLS layer behavior control to select the appropriate certificate alias for the incoming SNI information.  The default behavior is found in <code>org.eclipse.jetty.util.ssl.SslContextFactory.Server.sniSelect(String keyType, Principal[] issuers, SSLSession session, String sniHost, Collection&lt;X509&gt; certificates)</code></li>\n</ul>\n<p><strong>org.eclipse.jetty.server.SecureRequestCustomizer</strong></p>\n<ul>\n<li><code>.setSniHostCheck(boolean)</code> the this is post TLS layer, after the HTTP request has been parsed, ensuring that the client TLS SNI information AND client HTTP request authority (<code>Host</code> header in HTTP/1, <code>:authority</code> pseudo header in HTTP/2 and HTTP/3) AND the returned SNI in the server level TLS layer all match.</li>\n<li><code>.setSniRequired(boolean)</code> this ensures that the SNI is used by the client.</li>\n</ul>\n<p>I would strongly encourage you to <strong>NOT replace the KeyManager</strong> with your own implementation unless you are intimately aware of the entirety of SNI and TLS both from a spec point of view, and the nuances of each of the major browsers behavior with regards to how they treat SNI (eg: local names, localhost, ip literals, non-routables, reserved hosts, protected hosts, etc).</p>\n<p>Start with the default behavior in Jetty (which just uses the built-in JVM techniques for working with TLS + SNI as a server), then if you have more needs in terms of how to select a certificate, look at providing your own <code>SniX509ExtendedKeyManager.SniSelector</code> (but make sure to keep it up to date!  you'll want to follow the code of the default implementation periodically to catch changes that happen due to various factors: major browser vendor changes in behavior, JVM changes in behavior, <a href=\"https://www.java.com/en/jre-jdk-cryptoroadmap.html\" rel=\"nofollow noreferrer\">Java crypto roadmap changes</a>, etc)</p>\n"}],"owner":{"account_id":27454036,"reputation":3,"user_id":20945792,"display_name":"AABBCC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75032642,"answer_count":1,"score":0,"last_activity_date":1673017548,"creation_date":1673015856,"question_id":75032321,"body_markdown":"I want to put more than one server certificates in one Java Keystore(All have different CN). How can I config SSL so that when client specifies a hostname, the certificate with matching CN is returned, but if it&#39;s not specified, a desired default certificate is always returned.\r\n\r\nI know that I can write my own key manager, but is there a simpler way? what is certAlias in Jetty, is it going to solve my problem?\r\n\r\nI&#39;ve seen other posts saying that the first certificate in the keystore is returned if no SNI matched. But in my case, it seems rather random, not to do with the order of certificates.\r\n\r\n\r\nThanks!","title":"Jetty Server has multiple server certificates","body":"<p>I want to put more than one server certificates in one Java Keystore(All have different CN). How can I config SSL so that when client specifies a hostname, the certificate with matching CN is returned, but if it's not specified, a desired default certificate is always returned.</p>\n<p>I know that I can write my own key manager, but is there a simpler way? what is certAlias in Jetty, is it going to solve my problem?</p>\n<p>I've seen other posts saying that the first certificate in the keystore is returned if no SNI matched. But in my case, it seems rather random, not to do with the order of certificates.</p>\n<p>Thanks!</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1672042670,"post_id":74918365,"comment_id":132211001,"body_markdown":"This is why mixing types, especially generic types, is usually not a good idea. If you must go with this design, you&#39;ll need to cast it on the way out. Also you should never use raw types.","body":"This is why mixing types, especially generic types, is usually not a good idea. If you must go with this design, you&#39;ll need to cast it on the way out. Also you should never use raw types."},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672047391,"post_id":74918365,"comment_id":132211961,"body_markdown":"@shmosel everything you&#39;ve said is right, but would you like to point out where a raw type has been used here ?","body":"@shmosel everything you&#39;ve said is right, but would you like to point out where a raw type has been used here ?"},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672047414,"post_id":74918365,"comment_id":132211967,"body_markdown":"Just curious, maybe you caught something I may have missed.","body":"Just curious, maybe you caught something I may have missed."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":1,"creation_date":1672047988,"post_id":74918365,"comment_id":132212093,"body_markdown":"@was1209 I think shmosel was referring to `Map&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();`","body":"@was1209 I think shmosel was referring to <code>Map&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();</code>"},{"owner":{"account_id":16004040,"reputation":192,"user_id":11549977,"display_name":"was1209"},"score":0,"creation_date":1672048047,"post_id":74918365,"comment_id":132212103,"body_markdown":"Ah...Hadn&#39;t caught that Map, gotcha.","body":"Ah...Hadn&#39;t caught that Map, gotcha."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672063323,"creation_date":1672063323,"answer_id":74921043,"question_id":74918365,"body_markdown":"Why not just create a simple container POJO class (or record in Java 16+) for the two maps instead of `mainMap` and keep the relevant type-safety which to do it Java-way?\r\n```java\r\npublic class MapPojo {\r\n    private final Map&lt;String, List&lt;String&gt;&gt; colMap;\r\n    private final Map&lt;String, String&gt; appMap;\r\n\r\n    public MapPojo(Map&lt;String, List&lt;String&gt;&gt; colMap, Map&lt;String, String&gt; appMap) {\r\n        this.colMap = colMap;\r\n        this.appMap = appMap;\r\n    }\r\n    // getters, etc.\r\n}\r\n\r\nMapPojo mainMap = new MapPojo(colMap, appMap);\r\n```","title":"Map of Map iteration","body":"<p>Why not just create a simple container POJO class (or record in Java 16+) for the two maps instead of <code>mainMap</code> and keep the relevant type-safety which to do it Java-way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapPojo {\n    private final Map&lt;String, List&lt;String&gt;&gt; colMap;\n    private final Map&lt;String, String&gt; appMap;\n\n    public MapPojo(Map&lt;String, List&lt;String&gt;&gt; colMap, Map&lt;String, String&gt; appMap) {\n        this.colMap = colMap;\n        this.appMap = appMap;\n    }\n    // getters, etc.\n}\n\nMapPojo mainMap = new MapPojo(colMap, appMap);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673017353,"creation_date":1673017353,"answer_id":75032609,"question_id":74918365,"body_markdown":"Error you are getting because when you are doing map.get operation your reference is Just Map without any Generics which will treated as Object class&#39;s reference. You should use generics like below and it will work -\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; colMap = map.get(&quot;colMap&quot;);\r\n    for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())","title":"Map of Map iteration","body":"<p>Error you are getting because when you are doing map.get operation your reference is Just Map without any Generics which will treated as Object class's reference. You should use generics like below and it will work -</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; colMap = map.get(&quot;colMap&quot;);\nfor(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\n</code></pre>\n"}],"owner":{"account_id":36083,"reputation":11748,"user_id":102689,"accept_rate":57,"display_name":"Srinivasan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673017353,"creation_date":1672041943,"question_id":74918365,"body_markdown":"Im storing 2 map with different structure in single map like below,\r\n\r\n\t\t\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; colMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\nMap&lt;String, String&gt; appMap = new HashMap&lt;String, String&gt;();\r\n// colMap assigning some values\r\n// appMap assigning some values\r\nMap&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();\r\nmainMap.put(&quot;appMap&quot;, appMap);\r\nmainMap.put(&quot;colMap&quot;, colMap);\r\n```\r\nI want to get map one by one and iterate the map.\r\n\r\nIf I try get map like below, getting error,\r\n\r\n      .......\r\n      Map colMap = map.get(&quot;colMap&quot;);\r\n      for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\r\n\r\n    Error: Type mismatch: cannot convert from element type Object to Map.Entry&lt;String,List&lt;String&gt;&gt;\r\n\r\n","title":"Map of Map iteration","body":"<p>Im storing 2 map with different structure in single map like below,</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; colMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\nMap&lt;String, String&gt; appMap = new HashMap&lt;String, String&gt;();\n// colMap assigning some values\n// appMap assigning some values\nMap&lt;String, Map&gt; mainMap = new HashMap&lt;String, Map&gt;();\nmainMap.put(&quot;appMap&quot;, appMap);\nmainMap.put(&quot;colMap&quot;, colMap);\n</code></pre>\n<p>I want to get map one by one and iterate the map.</p>\n<p>If I try get map like below, getting error,</p>\n<pre><code>  .......\n  Map colMap = map.get(&quot;colMap&quot;);\n  for(Entry&lt;String, List&lt;String&gt;&gt; entry : colMap.entrySet())\n\nError: Type mismatch: cannot convert from element type Object to Map.Entry&lt;String,List&lt;String&gt;&gt;\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"score":0,"creation_date":1672968628,"post_id":75025957,"comment_id":132398417,"body_markdown":"I see two problems in your code: 1)  you are mocking the UserRepo in your test, but in your code it&#39;s that same class that is performing the &quot;authenticate&quot;. What is your AuthenService doing then? 2) Your test is not well written, as mentioned by other replies here. If you want to test an exception throwing, you should use a Spy (which uses a real object) instead of a Mock. Otherwise, you are not testing what you want, since you need to stub your method to return (or throw) exactly what you want to test.","body":"I see two problems in your code: 1)  you are mocking the UserRepo in your test, but in your code it&#39;s that same class that is performing the &quot;authenticate&quot;. What is your AuthenService doing then? 2) Your test is not well written, as mentioned by other replies here. If you want to test an exception throwing, you should use a Spy (which uses a real object) instead of a Mock. Otherwise, you are not testing what you want, since you need to stub your method to return (or throw) exactly what you want to test."}],"answers":[{"tags":[],"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672967856,"creation_date":1672967856,"answer_id":75026018,"question_id":75025957,"body_markdown":"You are stubbing instead of asserting in your test, so basically you are not testing anything. A test should include at least one assertion, so it should look something similar to this:\r\n\r\n    assertThrows(UserNotFoundException.class, () -&gt; as.authenticate(&quot;abc&quot;, &quot;123&quot;));","title":"How to test custom exception with Mockito","body":"<p>You are stubbing instead of asserting in your test, so basically you are not testing anything. A test should include at least one assertion, so it should look something similar to this:</p>\n<pre><code>assertThrows(UserNotFoundException.class, () -&gt; as.authenticate(&quot;abc&quot;, &quot;123&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673017236,"creation_date":1672967971,"answer_id":75026026,"question_id":75025957,"body_markdown":"One unit test would be to expect an exception if the validation fails. To that, consider (working example [here](https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_StackOverflow_75025957):\r\n\r\n       @Test\r\n        public void authenticate() throws UserNotFoundException {\r\n            when(ur.validate(&quot;abc&quot;, &quot;123&quot;)).thenReturn(false);\r\n    \r\n            // test\r\n            assertThrows(UserNotFoundException.class, () -&gt;as.authenticate(&quot;abc&quot;, &quot;123&quot;));\r\n        }\r\n\r\n***Note:*** updated in accordance with comment, re: JUnit 5.","title":"How to test custom exception with Mockito","body":"<p>One unit test would be to expect an exception if the validation fails. To that, consider (working example <a href=\"https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_StackOverflow_75025957\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>   @Test\n    public void authenticate() throws UserNotFoundException {\n        when(ur.validate(&quot;abc&quot;, &quot;123&quot;)).thenReturn(false);\n\n        // test\n        assertThrows(UserNotFoundException.class, () -&gt;as.authenticate(&quot;abc&quot;, &quot;123&quot;));\n    }\n</code></pre>\n<p><em><strong>Note:</strong></em> updated in accordance with comment, re: JUnit 5.</p>\n"}],"owner":{"account_id":16860707,"reputation":23,"user_id":12191587,"display_name":"Alex "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673017236,"creation_date":1672967001,"question_id":75025957,"body_markdown":"I am trying to learn unit testing with Mockito. This is a method I wrote to authenticate the users that tries to log in:\r\n\r\n```\r\npublic class AuthenService {\r\n\t\r\n\tprivate UserRepo userRepo;\t\r\n\r\n\tpublic User authenticate(String username, String password) throws UserNotFoundException {\r\n\t\tUser user = null;\r\n\t\tif (userRepo.validate(username, password)) {\r\n\t\t\tuser = userRepo.findUsername(username);\r\n\t\t\treturn user;\r\n\t\t} else {\r\n\t\t\tthrow new UserNotFoundException(&quot;User not found!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nuserRepo is an interface with these two abstract methods:\r\n\r\n```\r\npublic interface UserRepo{\r\n\t\r\n\tboolean validate(String username, String password);\r\n\t\r\n\tUser findUsername(String username);\r\n\t\r\n}\r\n```\r\n\r\n\r\nThis is my testing code:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tAuthenService as;\r\n\tUserRepo ur;\r\n\t\r\n\t@BeforeEach\r\n\tpublic void init() {\r\n\t\tur = mock(UserRepo.class);\r\n\t\tas = new AuthenService(ur);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void authenticate() throws UserNotFoundException {\r\n\t\twhen(as.authenticate(&quot;abc&quot;, &quot;123&quot;)).thenThrow(new UserNotFoundException(&quot;User not found!&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nI suppose as.authenticate(&quot;abc&quot;, &quot;123&quot;) should throw an exception because the DB is empty right now. But I think I am wrong, and I have no idea how to fix it. Can anyone please explain to me? Thank you. ","title":"How to test custom exception with Mockito","body":"<p>I am trying to learn unit testing with Mockito. This is a method I wrote to authenticate the users that tries to log in:</p>\n<pre><code>public class AuthenService {\n    \n    private UserRepo userRepo;  \n\n    public User authenticate(String username, String password) throws UserNotFoundException {\n        User user = null;\n        if (userRepo.validate(username, password)) {\n            user = userRepo.findUsername(username);\n            return user;\n        } else {\n            throw new UserNotFoundException(&quot;User not found!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>userRepo is an interface with these two abstract methods:</p>\n<pre><code>public interface UserRepo{\n    \n    boolean validate(String username, String password);\n    \n    User findUsername(String username);\n    \n}\n</code></pre>\n<p>This is my testing code:</p>\n<pre><code>public class Test {\n\n    AuthenService as;\n    UserRepo ur;\n    \n    @BeforeEach\n    public void init() {\n        ur = mock(UserRepo.class);\n        as = new AuthenService(ur);\n    }\n    \n    @Test\n    public void authenticate() throws UserNotFoundException {\n        when(as.authenticate(&quot;abc&quot;, &quot;123&quot;)).thenThrow(new UserNotFoundException(&quot;User not found!&quot;));\n    }\n}\n</code></pre>\n<p>I suppose as.authenticate(&quot;abc&quot;, &quot;123&quot;) should throw an exception because the DB is empty right now. But I think I am wrong, and I have no idea how to fix it. Can anyone please explain to me? Thank you.</p>\n"},{"tags":["java","boolean","naming-conventions","javabeans"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1240945162,"post_id":799280,"comment_id":609522,"body_markdown":"I&#39;ve removed the subjective tag as I don&#39;t believe it&#39;s appropriate (for reasons I&#39;ve outlined). If the original author could clarify exactly what&#39;s required, we can put it back in if it turns out he&#39;s not really after the strict validity of JavaBeans naming conventions.","body":"I&#39;ve removed the subjective tag as I don&#39;t believe it&#39;s appropriate (for reasons I&#39;ve outlined). If the original author could clarify exactly what&#39;s required, we can put it back in if it turns out he&#39;s not really after the strict validity of JavaBeans naming conventions."}],"answers":[{"tags":[],"owner":{"account_id":4697,"reputation":13638,"user_id":7186,"accept_rate":100,"display_name":"Ryan Guill"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1240944219,"creation_date":1240943577,"answer_id":799282,"question_id":799280,"body_markdown":"This is somewhat subjective, but yes, I would say &quot;has&quot; is a perfectly valid prefix for a Boolean property.\r\n\r\n**edit** the question, as asked, did not mention the javabeans specification and so my answer did not address that aspect of the question.  Hence the answer above.","title":"Valid JavaBeans names for boolean getter methods","body":"<p>This is somewhat subjective, but yes, I would say \"has\" is a perfectly valid prefix for a Boolean property.</p>\n\n<p><strong>edit</strong> the question, as asked, did not mention the javabeans specification and so my answer did not address that aspect of the question.  Hence the answer above.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1412067016,"creation_date":1240943879,"answer_id":799301,"question_id":799280,"body_markdown":"According to the [JavaBeans specification][1] section 8.3.2:\r\n\r\n&gt; &lt;b&gt;Boolean properties&lt;/b&gt;&lt;br/&gt;\r\n&gt; In addition, for\r\n&gt; boolean properties, we allow a getter\r\n&gt; method to match the pattern:&lt;p&gt;`public boolean is&lt;PropertyName&gt;();`&lt;p&gt;\r\n&gt; This\r\n&gt; &quot;`isPropertyName`&quot; method may be\r\n&gt; provided instead of a\r\n&gt; &quot;`get&lt;PropertyName&gt;`&quot; method, or it may\r\n&gt; be provided in addition to a\r\n&gt; &quot;`get&lt;PropertyName&gt;`&quot; method. In either\r\n&gt; case, if the `is&lt;PropertyName&gt;` method\r\n&gt; is present for a boolean property then\r\n&gt; we will use the &quot;`is&lt;PropertyName&gt;`&quot;\r\n&gt; method to read the property value. An\r\n&gt; example boolean property might be:&lt;p&gt;\r\n&gt; &lt;pre&gt;\r\n&gt; public boolean isMarsupial();\r\n&gt; public void setMarsupial(boolean m);\r\n\r\nIn other words, unless something has changed since then, `has` isn&#39;t a valid prefix I&#39;m afraid :(\r\n\r\nIt&#39;s possible that *some* tools and libraries will recognise such properties anyway, but it&#39;s not a good idea to rely on it.\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\r\n","title":"Valid JavaBeans names for boolean getter methods","body":"<p>According to the <a href=\"http://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"noreferrer\">JavaBeans specification</a> section 8.3.2:</p>\n\n<blockquote>\n  <p><b>Boolean properties</b><br/>\n  In addition, for\n  boolean properties, we allow a getter\n  method to match the pattern:<p><code>public boolean is&lt;PropertyName&gt;();</code><p>\n  This\n  \"<code>isPropertyName</code>\" method may be\n  provided instead of a\n  \"<code>get&lt;PropertyName&gt;</code>\" method, or it may\n  be provided in addition to a\n  \"<code>get&lt;PropertyName&gt;</code>\" method. In either\n  case, if the <code>is&lt;PropertyName&gt;</code> method\n  is present for a boolean property then\n  we will use the \"<code>is&lt;PropertyName&gt;</code>\"\n  method to read the property value. An\n  example boolean property might be:<p>\n  \n  public boolean isMarsupial();\n  public void setMarsupial(boolean m);</p>\n</blockquote>\n\n<p>In other words, unless something has changed since then, <code>has</code> isn't a valid prefix I'm afraid :(</p>\n\n<p>It's possible that <em>some</em> tools and libraries will recognise such properties anyway, but it's not a good idea to rely on it.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1673016982,"creation_date":1293302405,"answer_id":4531221,"question_id":799280,"body_markdown":"Jon Skeet noted that according to the specification it is not valid. Also, `canX`, `shouldX`, and the likes are not valid. Which is rather unfortunate. Here is a way to check whether a given property has a valid getter:\r\n\r\n    BeanInfo info = Introspector.getBeanInfo(Item.class);\r\n\r\n    for (PropertyDescriptor pd : info.getPropertyDescriptors()) {\r\n        System.out.println(pd.getName() + &quot; : &quot; + pd.getReadMethod());\r\n    }\r\n\r\nThe class `Item` should be a javabean with a foo property, and a getter. If the read method is `null`, it means there is no valid getter defined according to the javabeans spec.","title":"Valid JavaBeans names for boolean getter methods","body":"<p>Jon Skeet noted that according to the specification it is not valid. Also, <code>canX</code>, <code>shouldX</code>, and the likes are not valid. Which is rather unfortunate. Here is a way to check whether a given property has a valid getter:</p>\n<pre><code>BeanInfo info = Introspector.getBeanInfo(Item.class);\n\nfor (PropertyDescriptor pd : info.getPropertyDescriptors()) {\n    System.out.println(pd.getName() + &quot; : &quot; + pd.getReadMethod());\n}\n</code></pre>\n<p>The class <code>Item</code> should be a javabean with a foo property, and a getter. If the read method is <code>null</code>, it means there is no valid getter defined according to the javabeans spec.</p>\n"}],"owner":{"display_name":"Robert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31642,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":3,"score":68,"last_activity_date":1673016982,"creation_date":1240943448,"question_id":799280,"body_markdown":"I know most variable names will work with &quot;is&quot;, such as `isBlue()`, but is &quot;has&quot; also a valid prefix, like `hasProperty()`?","title":"Valid JavaBeans names for boolean getter methods","body":"<p>I know most variable names will work with \"is\", such as <code>isBlue()</code>, but is \"has\" also a valid prefix, like <code>hasProperty()</code>?</p>\n"},{"tags":["java","spring","hibernate","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673016976,"creation_date":1672945804,"answer_id":75023305,"question_id":75021769,"body_markdown":"The message is clear: you left autocommit to TRUE then you can&#39;t commit explicitly because it&#39;s done for you after each DML statement, you could turn it off with `hibernate.connection.autocommit=false` in your properties or calling `connection.setAutoCommit(false);`","title":"RabbitMQ and Hibernate: Unable to commit against JDBC Connection","body":"<p>The message is clear: you left autocommit to TRUE then you can't commit explicitly because it's done for you after each DML statement, you could turn it off with <code>hibernate.connection.autocommit=false</code> in your properties or calling <code>connection.setAutoCommit(false);</code></p>\n"}],"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75023305,"answer_count":1,"score":2,"last_activity_date":1673016976,"creation_date":1672937264,"question_id":75021769,"body_markdown":"I am trying to develop a small Springboot application (using JHipster) that listens to a RabbitMQ queue, acknowledges the messages and then runs some operations on a hibernate repository. For now I can consume messages with no problem. But when I try to use the hibernate repository when receiving a message, it appears the TransactionManagers get mixed up and I get the Exception:\r\n```\r\nCaused by: org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n ...\r\nCaused by: org.postgresql.util.PSQLException: Cannot commit when autoCommit is enabled.\r\n\tat org.postgresql.jdbc.PgConnection.commit(PgConnection.java:872)\r\n```\r\n\r\nMy Rabbit configuration is simplistic:\r\n```\r\n@Configuration\r\npublic class RabbitExchangeConfiguration {\r\n\r\n    @Bean\r\n    Queue queue() {\r\n        return new Queue(&quot;myQueue&quot;, false);\r\n    }\r\n}\r\n```\r\nThen there is my TestService, with a RabbitListener (**listen**) and a method that uses my database transaction manager to access the repository (**test**)\r\n```\r\n@Service\r\npublic class TestService {\r\n\r\n    public TestService(\r\n        MyRepository myRepository\r\n    ) {\r\n        this.myRepository= myRepository;\r\n    }\r\n\r\n    // My Listener to receive the messages\r\n    @RabbitListener(queues = &quot;datafactory&quot;)\r\n    public void listen(Message in) {\r\n        String messageBody = new String(in.getBody());       \r\n        test(messageBody);\r\n    }\r\n\r\n    // the method that should do stuff with the repository\r\n    @Transactional(transactionManager = &quot;myDatabaseTransactionManager&quot;)\r\n    public void test(String content) {\r\n        myRepository.findById(content).orElse(null);\r\n        ..\r\n    }\r\n}\r\n```\r\n\r\nRight now I don&#39;t care what the message contains, nor is it important if the entity can be found. \r\n\r\nWhen I comment out the call to `test(content)` then the message is received (I can see it in the logs). But when I try to call the function, then I get the Exception.\r\n\r\nIs there any way to end the RabbitMQ-transaction before entering the hibernate transaction context? Why is the listener trying to use the hibernate transaction? \r\n\r\n&lt;h1&gt;solved&lt;/h1&gt;\r\n\r\nThanks to the [answer of p3consulting](https://stackoverflow.com/a/75023305/896249)  I found that `jpa.properties.hibernate.connection.provider_disables_autocommit=true`  was set by default. It was configuered automatically by JHipster for me. I just had to make sure that autocommit was disabled for good: \r\n\r\n```\r\nspring.datasource.hikari.auto-commit=false  // disables auto commit\r\nspring.jpa.properties.hibernate.connection.provider_disables_autocommit=false   // makes sure it stays that way\r\n```\r\n\r\nSo nothing to do with RabbitMQ...\r\n\r\n\r\n  ","title":"RabbitMQ and Hibernate: Unable to commit against JDBC Connection","body":"<p>I am trying to develop a small Springboot application (using JHipster) that listens to a RabbitMQ queue, acknowledges the messages and then runs some operations on a hibernate repository. For now I can consume messages with no problem. But when I try to use the hibernate repository when receiving a message, it appears the TransactionManagers get mixed up and I get the Exception:</p>\n<pre><code>Caused by: org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n ...\nCaused by: org.postgresql.util.PSQLException: Cannot commit when autoCommit is enabled.\n    at org.postgresql.jdbc.PgConnection.commit(PgConnection.java:872)\n</code></pre>\n<p>My Rabbit configuration is simplistic:</p>\n<pre><code>@Configuration\npublic class RabbitExchangeConfiguration {\n\n    @Bean\n    Queue queue() {\n        return new Queue(&quot;myQueue&quot;, false);\n    }\n}\n</code></pre>\n<p>Then there is my TestService, with a RabbitListener (<strong>listen</strong>) and a method that uses my database transaction manager to access the repository (<strong>test</strong>)</p>\n<pre><code>@Service\npublic class TestService {\n\n    public TestService(\n        MyRepository myRepository\n    ) {\n        this.myRepository= myRepository;\n    }\n\n    // My Listener to receive the messages\n    @RabbitListener(queues = &quot;datafactory&quot;)\n    public void listen(Message in) {\n        String messageBody = new String(in.getBody());       \n        test(messageBody);\n    }\n\n    // the method that should do stuff with the repository\n    @Transactional(transactionManager = &quot;myDatabaseTransactionManager&quot;)\n    public void test(String content) {\n        myRepository.findById(content).orElse(null);\n        ..\n    }\n}\n</code></pre>\n<p>Right now I don't care what the message contains, nor is it important if the entity can be found.</p>\n<p>When I comment out the call to <code>test(content)</code> then the message is received (I can see it in the logs). But when I try to call the function, then I get the Exception.</p>\n<p>Is there any way to end the RabbitMQ-transaction before entering the hibernate transaction context? Why is the listener trying to use the hibernate transaction?</p>\n<h1>solved</h1>\n<p>Thanks to the <a href=\"https://stackoverflow.com/a/75023305/896249\">answer of p3consulting</a>  I found that <code>jpa.properties.hibernate.connection.provider_disables_autocommit=true</code>  was set by default. It was configuered automatically by JHipster for me. I just had to make sure that autocommit was disabled for good:</p>\n<pre><code>spring.datasource.hikari.auto-commit=false  // disables auto commit\nspring.jpa.properties.hibernate.connection.provider_disables_autocommit=false   // makes sure it stays that way\n</code></pre>\n<p>So nothing to do with RabbitMQ...</p>\n"},{"tags":["java","ssl","ldap","ssl-certificate"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1673047663,"post_id":75032538,"comment_id":132417737,"body_markdown":"*Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?* That doesn&#39;t really make any security sense, it would leave you vulnerable to a man-in-the-middle attack.","body":"<i>Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?</i> That doesn&#39;t really make any security sense, it would leave you vulnerable to a man-in-the-middle attack."}],"owner":{"account_id":26457444,"reputation":1,"user_id":20099859,"display_name":"rohan1705"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673016962,"creation_date":1673016962,"question_id":75032538,"body_markdown":"I am trying to write a program for connecting LDAP server using java code..\r\nConnection Type - SSL\r\n\r\nI am getting SSLHandshakeException which says I will have to use &#39;server certificate&#39; to establish ssl connection - \r\njavax.naming.CommunicationException: &lt;host-name&gt;:636 [Root exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]\r\n\r\n\r\n\r\nCould anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?\r\n\r\nHere are the solutions i have tried, but i did not work -\r\nhttps://stackoverflow.com/questions/37805145/how-to-read-a-certificate-attribute-cacertificate-from-ldap-server-java\r\n\r\nhttps://stackoverflow.com/questions/63628287/how-to-make-a-call-via-java-with-ssl-and-certificate-to-an-ldap-ad\r\n\r\nNOTE - I cannot override functionality of certificate verification/validation using custom socket factory","title":"How to download SSL certificate from a LDAP Server using java ? and establish SSL connection using LDAPS?","body":"<p>I am trying to write a program for connecting LDAP server using java code..\nConnection Type - SSL</p>\n<p>I am getting SSLHandshakeException which says I will have to use 'server certificate' to establish ssl connection -\njavax.naming.CommunicationException: :636 [Root exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]</p>\n<p>Could anyone please suggest how to download SSL certificate from the server using java code and then use that certificate while connecting to LDAP ?</p>\n<p>Here are the solutions i have tried, but i did not work -\n<a href=\"https://stackoverflow.com/questions/37805145/how-to-read-a-certificate-attribute-cacertificate-from-ldap-server-java\">How to read a Certificate attribute (caCertificate) from LDAP server (Java)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/63628287/how-to-make-a-call-via-java-with-ssl-and-certificate-to-an-ldap-ad\">How to make a call, via Java, with ssl and certificate to an ldap (AD)?</a></p>\n<p>NOTE - I cannot override functionality of certificate verification/validation using custom socket factory</p>\n"},{"tags":["java","merge","set","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1597126980,"post_id":63352543,"comment_id":112024262,"body_markdown":"You need to flatten your stream of sets into a stream of strings","body":"You need to flatten your stream of sets into a stream of strings"},{"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"score":2,"creation_date":1597126980,"post_id":63352543,"comment_id":112024263,"body_markdown":"Why do you need a stream for that? Did you try using the `addAll()` method?","body":"Why do you need a stream for that? Did you try using the <code>addAll()</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1597126986,"creation_date":1597126986,"answer_id":63352582,"question_id":63352543,"body_markdown":"If you insist on using `Stream`s, you can use `flatMap` to convert your `Stream&lt;Set&lt;String&gt;&gt;` to a `Stream&lt;String&gt;`, which can be collected into a `Set&lt;String&gt;`:\r\n\r\n    Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());","title":"How to merge sets using java stream?","body":"<p>If you insist on using <code>Stream</code>s, you can use <code>flatMap</code> to convert your <code>Stream&lt;Set&lt;String&gt;&gt;</code> to a <code>Stream&lt;String&gt;</code>, which can be collected into a <code>Set&lt;String&gt;</code>:</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597127093,"creation_date":1597127093,"answer_id":63352611,"question_id":63352543,"body_markdown":"You can use `Stream.concat` to merge the stream of two sets and collect as set.\r\n\r\n    Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());","title":"How to merge sets using java stream?","body":"<p>You can use <code>Stream.concat</code> to merge the stream of two sets and collect as set.</p>\n<pre><code>Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2889405,"reputation":2350,"user_id":2478531,"accept_rate":80,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597138872,"creation_date":1597138872,"answer_id":63355580,"question_id":63352543,"body_markdown":"There are couple of approach possible - \r\n\r\n***Concat***\r\n\r\n    Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\r\n\r\nIt&#39;s get slightly ugly for more than 2 streams as we have to write\r\n\r\n    Stream.concat(Stream.concat(set1.stream(), set2.stream()), set3.stream())\r\n\r\n**Concat could be a problem for deeply concatenated stream**. From documentation -\r\n&gt; Use caution when constructing streams from repeated\r\n&gt; concatenation.Accessing an element of a deeply concatenated stream can\r\n&gt; result in deep call chains, or even StackOverflowException.\r\n\r\n***Reduce***\r\n\r\nReduce can also be used to perform concatenation of stream as - \r\n\r\n    Set&lt;String&gt; s = Stream.of(set1.stream(), set2.stream()).reduce(Stream::concat)\r\n      .orElseGet(Stream::empty).collect(Collectors.toSet());\r\n\r\n Here `Stream.reduce(`) returns optional that&#39;s the reason for `orElseGet` method call. It&#39;s also possible to contact multiple set as \r\n\r\n    Stream.of(set1.stream(), set2.stream(), set2.stream()).reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet());\r\n\r\nProblem associated with deeply contacted stream applies to reduce as well\r\n\r\n***Flatmap***\r\n\r\nFlatmap can be used to get same result as - \r\n   \r\n\r\n     Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\r\n\r\nTo concat multiple stream you can use - \r\n\r\n    Set&lt;String&gt; s = Stream.of(set1, set2, set3).flatMap(Set::stream).collect(Collectors.toSet());\r\n\r\nflatmap avoids `StackOverflowException`.","title":"How to merge sets using java stream?","body":"<p>There are couple of approach possible -</p>\n<p><em><strong>Concat</strong></em></p>\n<pre><code>Set&lt;String&gt; s = Stream.concat(set1.stream(), set2.stream()).collect(Collectors.toSet());\n</code></pre>\n<p>It's get slightly ugly for more than 2 streams as we have to write</p>\n<pre><code>Stream.concat(Stream.concat(set1.stream(), set2.stream()), set3.stream())\n</code></pre>\n<p><strong>Concat could be a problem for deeply concatenated stream</strong>. From documentation -</p>\n<blockquote>\n<p>Use caution when constructing streams from repeated\nconcatenation.Accessing an element of a deeply concatenated stream can\nresult in deep call chains, or even StackOverflowException.</p>\n</blockquote>\n<p><em><strong>Reduce</strong></em></p>\n<p>Reduce can also be used to perform concatenation of stream as -</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1.stream(), set2.stream()).reduce(Stream::concat)\n  .orElseGet(Stream::empty).collect(Collectors.toSet());\n</code></pre>\n<p>Here <code>Stream.reduce(</code>) returns optional that's the reason for <code>orElseGet</code> method call. It's also possible to contact multiple set as</p>\n<pre><code>Stream.of(set1.stream(), set2.stream(), set2.stream()).reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet());\n</code></pre>\n<p>Problem associated with deeply contacted stream applies to reduce as well</p>\n<p><em><strong>Flatmap</strong></em></p>\n<p>Flatmap can be used to get same result as -</p>\n<pre><code> Set&lt;String&gt; s = Stream.of(set1, set2).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n<p>To concat multiple stream you can use -</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2, set3).flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n<p>flatmap avoids <code>StackOverflowException</code>.</p>\n"}],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6525,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63352582,"answer_count":3,"score":6,"last_activity_date":1673016725,"creation_date":1597126828,"question_id":63352543,"body_markdown":"I have two `Set`s like this：\r\n```\r\nSet&lt;String&gt; set1;\r\nSet&lt;String&gt; set2;\r\n```\r\nAnd I want to merge them with \r\n\r\n```\r\nSet&lt;String&gt; s = Stream.of(set1, set2).collect(Collectors.toSet());\r\n```\r\nbut I get the following error:\r\n\r\n&gt; no instance(s) of type variable(s) exist so that `Set&lt;String&gt;` conforms to `String`\r\n&gt;\r\n&gt;inference variable `T` has incompatible bounds:\r\n&gt;\r\n&gt; equality constraints: `String` lower bounds: `Set&lt;String&gt;`\r\n\r\n[![compilation error][1]][1]\r\n\r\nHow can I convert the `Set`s to a single `Set&lt;String&gt;` with `flatMap()`?\r\nIs there any other solution that can accomplish this operation gracefully?\r\n\r\n  [1]: https://i.stack.imgur.com/3poI1.png","title":"How to merge sets using java stream?","body":"<p>I have two <code>Set</code>s like this：</p>\n<pre><code>Set&lt;String&gt; set1;\nSet&lt;String&gt; set2;\n</code></pre>\n<p>And I want to merge them with</p>\n<pre><code>Set&lt;String&gt; s = Stream.of(set1, set2).collect(Collectors.toSet());\n</code></pre>\n<p>but I get the following error:</p>\n<blockquote>\n<p>no instance(s) of type variable(s) exist so that <code>Set&lt;String&gt;</code> conforms to <code>String</code></p>\n<p>inference variable <code>T</code> has incompatible bounds:</p>\n<p>equality constraints: <code>String</code> lower bounds: <code>Set&lt;String&gt;</code></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/3poI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3poI1.png\" alt=\"compilation error\" /></a></p>\n<p>How can I convert the <code>Set</code>s to a single <code>Set&lt;String&gt;</code> with <code>flatMap()</code>?\nIs there any other solution that can accomplish this operation gracefully?</p>\n"},{"tags":["java","graph","jgrapht"],"answers":[{"tags":[],"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1632206967,"creation_date":1563782105,"answer_id":57141403,"question_id":57134161,"body_markdown":"The following is working, but doesn&#39;t strike me as most efficient.\r\n\r\n```\r\n// leaves:\r\ngraph.vertexSet().stream()\r\n                .filter(key -&gt; graph.outgoingEdgesOf(key).size() == 0)\r\n                .forEach(key -&gt; doLeavesStuff(key));\r\n\r\n// roots:\r\ngraph.vertexSet().stream()\r\n                .filter(key -&gt; graph.incomingEdgesOf(key).size() == 0)\r\n                .forEach(key -&gt; doRootsStuff(key));\r\n```\r\n","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>The following is working, but doesn't strike me as most efficient.</p>\n<pre><code>// leaves:\ngraph.vertexSet().stream()\n                .filter(key -&gt; graph.outgoingEdgesOf(key).size() == 0)\n                .forEach(key -&gt; doLeavesStuff(key));\n\n// roots:\ngraph.vertexSet().stream()\n                .filter(key -&gt; graph.incomingEdgesOf(key).size() == 0)\n                .forEach(key -&gt; doRootsStuff(key));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7668237,"reputation":13,"user_id":5811365,"display_name":"Rafael Perez-Torro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632134777,"creation_date":1632134777,"answer_id":69253164,"question_id":57134161,"body_markdown":"Shouldn&#39;t it be:\r\n\r\n```\r\n// leaves:\r\ngraph.vertexSet().stream().filter(\r\n    key -&gt; graph.incomingEdgesOf(key).size() == 0\r\n).forEach(\r\n    key -&gt; doLeavesStuff(key)\r\n);\r\n\r\n// roots:\r\ngraph.vertexSet().stream().filter(\r\n    key -&gt; graph.outgoingEdgesOf(key).size() == 0\r\n).forEach(\r\n    key -&gt; doRootsStuff(key)\r\n);\r\n```\r\nintead?","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>Shouldn't it be:</p>\n<pre><code>// leaves:\ngraph.vertexSet().stream().filter(\n    key -&gt; graph.incomingEdgesOf(key).size() == 0\n).forEach(\n    key -&gt; doLeavesStuff(key)\n);\n\n// roots:\ngraph.vertexSet().stream().filter(\n    key -&gt; graph.outgoingEdgesOf(key).size() == 0\n).forEach(\n    key -&gt; doRootsStuff(key)\n);\n</code></pre>\n<p>intead?</p>\n"},{"tags":[],"owner":{"account_id":5860917,"reputation":726,"user_id":4616651,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016451,"creation_date":1673016451,"answer_id":75032452,"question_id":57134161,"body_markdown":"I used\r\n\r\n    class DAG extends jgrapht.graph.DirectedAcyclicGraph &lt;Node,Edge&gt; {\r\n\r\n       Collection &lt;Node&gt; nodes = collected_for_additional_purposes ();\r\n\r\n       private int countRoots () {\r\n          int count = 0;\r\n          for (final Node node : nodes) {\r\n             if (inDegreeOf (node) == 0) {\r\n                count++;\r\n             }\r\n          }\r\n          return count;\r\n       }\r\n    }\r\n\r\nIt&#39;s akin to stream used in accepted answer and one could use an iterator too, but the difference here is using `inDegreeOf (aVertex)`.  Similarly `outDegreeOf` would work too.\r\n\r\nAs an aside, I tried doing the following, but `count++` generated compiler error &quot;Local variable count defined in an enclosing scope must be final or effectively final&quot;.  I&#39;m wondering what a clean, expressive inline syntax might look like.\r\n\r\n    private int countRoots () {\r\n       int count = 0;\r\n       nodes.forEach (node -&gt; {\r\n          if (inDegreeOf (node) == 0) {\r\n             count++;\r\n          }\r\n       });\r\n       return count;\r\n    }\r\n\r\nhttps://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-\r\n","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>I used</p>\n<pre><code>class DAG extends jgrapht.graph.DirectedAcyclicGraph &lt;Node,Edge&gt; {\n\n   Collection &lt;Node&gt; nodes = collected_for_additional_purposes ();\n\n   private int countRoots () {\n      int count = 0;\n      for (final Node node : nodes) {\n         if (inDegreeOf (node) == 0) {\n            count++;\n         }\n      }\n      return count;\n   }\n}\n</code></pre>\n<p>It's akin to stream used in accepted answer and one could use an iterator too, but the difference here is using <code>inDegreeOf (aVertex)</code>.  Similarly <code>outDegreeOf</code> would work too.</p>\n<p>As an aside, I tried doing the following, but <code>count++</code> generated compiler error &quot;Local variable count defined in an enclosing scope must be final or effectively final&quot;.  I'm wondering what a clean, expressive inline syntax might look like.</p>\n<pre><code>private int countRoots () {\n   int count = 0;\n   nodes.forEach (node -&gt; {\n      if (inDegreeOf (node) == 0) {\n         count++;\n      }\n   });\n   return count;\n}\n</code></pre>\n<p><a href=\"https://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-\" rel=\"nofollow noreferrer\">https://jgrapht.org/javadoc-1.0.0/org/jgrapht/graph/AbstractBaseGraph.html#inDegreeOf-V-</a></p>\n"}],"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57141403,"answer_count":3,"score":2,"last_activity_date":1673016451,"creation_date":1563719743,"question_id":57134161,"body_markdown":"My code:\r\n\r\n    import org.jgrapht.graph.DirectedAcyclicGraph;\r\n    // ...\r\n    private DirectedAcyclicGraph&lt;String, DefaultEdge&gt; graph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\r\n    // ...\r\n    graph.addVertex(&quot;x&quot;);\r\n    graph.addVertex(&quot;y&quot;);\r\n    // ...\r\n    graph.addEdge(&quot;x&quot;, &quot;y&quot;);\r\n\r\nAfter constructing the graph, how can I get a set of all the roots (vertices with no incoming edges) and of all leaves (vertices with no outgoing edges)","title":"How to find roots and leaves set in jgrapht DirectedAcyclicGraph","body":"<p>My code:</p>\n\n<pre><code>import org.jgrapht.graph.DirectedAcyclicGraph;\n// ...\nprivate DirectedAcyclicGraph&lt;String, DefaultEdge&gt; graph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\n// ...\ngraph.addVertex(\"x\");\ngraph.addVertex(\"y\");\n// ...\ngraph.addEdge(\"x\", \"y\");\n</code></pre>\n\n<p>After constructing the graph, how can I get a set of all the roots (vertices with no incoming edges) and of all leaves (vertices with no outgoing edges)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"score":1,"creation_date":1441445579,"post_id":32411445,"comment_id":52690527,"body_markdown":"possible duplicate of [find the last match with java/regex/matcher](http://stackoverflow.com/questions/6417435/find-the-last-match-with-java-regex-matcher)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6417435/find-the-last-match-with-java-regex-matcher\">find the last match with java/regex/matcher</a>"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1441446161,"post_id":32411445,"comment_id":52690691,"body_markdown":"You&#39;re using `groupCount()` incorrectly.  What it tells you is how many capturing groups there in the regex.  That&#39;s a static property of the Pattern object; it doesn&#39;t tell you anything about what was matched.  Your regex has no groups, so `groupCount()` always returns zero.","body":"You&#39;re using <code>groupCount()</code> incorrectly.  What it tells you is how many capturing groups there in the regex.  That&#39;s a static property of the Pattern object; it doesn&#39;t tell you anything about what was matched.  Your regex has no groups, so <code>groupCount()</code> always returns zero."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1441446658,"post_id":32411445,"comment_id":52690825,"body_markdown":"Do not parse HTML using regular expressions. See http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"Do not parse HTML using regular expressions. See <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1441447571,"post_id":32411445,"comment_id":52691040,"body_markdown":"@Andreas He is not parsing HTML but just finding a particular string within a larger string, which IMHO is fine. Also, we know that post, [you can stop linking](http://meta.stackoverflow.com/questions/261561/please-stop-linking-to-the-zalgo-anti-cthulhu-regex-rant).","body":"@Andreas He is not parsing HTML but just finding a particular string within a larger string, which IMHO is fine. Also, we know that post, <a href=\"http://meta.stackoverflow.com/questions/261561/please-stop-linking-to-the-zalgo-anti-cthulhu-regex-rant\">you can stop linking</a>."}],"answers":[{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1441447342,"creation_date":1441445244,"answer_id":32411499,"question_id":32411445,"body_markdown":"You can call `matcher.find` again and it wll find the next match. It does not only tell you whether it found anything, it also actively searches for the next match. After you called it once, you only get the first match. When you call it again, next time you call `matcher.group` you get the second match, and so on. Repeat until it finds nothing, than take the last result. Also, you do not really need `groupCount`, as there is always the same number of groups in the match -- zero.\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n    Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n    Matcher matcher3 = pattern3.matcher(text);\r\n    String s = null;\r\n    while (matcher3.find()) {\r\n        s = matcher3.group();\r\n    } \r\n    System.out.println(s);\r\n\r\nOutput is `&lt;span&gt;Cat 1 | Cat 2 | Cat 3`.\r\n\r\nIf you want to use just what&#39;s within the `&lt;span&gt;` tags, you can use regex `&quot;&lt;span&gt;(.*?)&lt;/span&gt;&quot;` and `matcher3.group(1)` to get what&#39;s within the first pair of `()` (or put the tags in lookahead and lookbehind, but IMHO it&#39;s easier this way).","title":"find last occurrence using java and regular expression","body":"<p>You can call <code>matcher.find</code> again and it wll find the next match. It does not only tell you whether it found anything, it also actively searches for the next match. After you called it once, you only get the first match. When you call it again, next time you call <code>matcher.group</code> you get the second match, and so on. Repeat until it finds nothing, than take the last result. Also, you do not really need <code>groupCount</code>, as there is always the same number of groups in the match -- zero.</p>\n\n<pre><code>String text = \"&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\";\nPattern pattern3 = Pattern.compile(\"&lt;span.*?(?=&lt;/span&gt;)\");\nMatcher matcher3 = pattern3.matcher(text);\nString s = null;\nwhile (matcher3.find()) {\n    s = matcher3.group();\n} \nSystem.out.println(s);\n</code></pre>\n\n<p>Output is <code>&lt;span&gt;Cat 1 | Cat 2 | Cat 3</code>.</p>\n\n<p>If you want to use just what's within the <code>&lt;span&gt;</code> tags, you can use regex <code>\"&lt;span&gt;(.*?)&lt;/span&gt;\"</code> and <code>matcher3.group(1)</code> to get what's within the first pair of <code>()</code> (or put the tags in lookahead and lookbehind, but IMHO it's easier this way).</p>\n"},{"tags":[],"owner":{"account_id":2703232,"reputation":2839,"user_id":2333459,"accept_rate":72,"display_name":"Super Hornet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1441445480,"creation_date":1441445323,"answer_id":32411512,"question_id":32411445,"body_markdown":"try this:\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\r\n        Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n        Matcher matcher3 = pattern3.matcher(text);\r\n        if (matcher3.find()) {\r\n            String in= matcher3.group(matcher3.groupCount()); \r\n        }","title":"find last occurrence using java and regular expression","body":"<p>try this:</p>\n\n<pre><code>String text = \"&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\"\n    Pattern pattern3 = Pattern.compile(\"&lt;span.*?(?=&lt;/span&gt;)\");\n    Matcher matcher3 = pattern3.matcher(text);\n    if (matcher3.find()) {\n        String in= matcher3.group(matcher3.groupCount()); \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441446112,"creation_date":1441446112,"answer_id":32411633,"question_id":32411445,"body_markdown":"Though you have asked for finding last occurence using regex. But also consider using jsoup which is java tested library for html parser. Its already tested and good from readability point of view\r\n\r\nSee [finding last occurrence using jsoup][1]\r\n\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/select/Elements.html#last--","title":"find last occurrence using java and regular expression","body":"<p>Though you have asked for finding last occurence using regex. But also consider using jsoup which is java tested library for html parser. Its already tested and good from readability point of view</p>\n\n<p>See <a href=\"http://jsoup.org/apidocs/org/jsoup/select/Elements.html#last--\" rel=\"nofollow\">finding last occurrence using jsoup</a></p>\n"},{"tags":[],"owner":{"account_id":6905515,"reputation":1,"user_id":5303552,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441451718,"creation_date":1441451108,"answer_id":32412336,"question_id":32411445,"body_markdown":"Use a greedy quantifier `*` with `.` to find the last occurence.\r\n\r\n    (?s)^.*&lt;span[^&gt;]*&gt;(.*?)&lt;/span&gt;\r\n\r\nCaptures of first group `matcher3.group(1)` [regexplanet demo][1]\r\n\r\n  [1]: http://fiddle.re/w9t746","title":"find last occurrence using java and regular expression","body":"<p>Use a greedy quantifier <code>*</code> with <code>.</code> to find the last occurence.</p>\n\n<pre><code>(?s)^.*&lt;span[^&gt;]*&gt;(.*?)&lt;/span&gt;\n</code></pre>\n\n<p>Captures of first group <code>matcher3.group(1)</code> <a href=\"http://fiddle.re/w9t746\" rel=\"nofollow\">regexplanet demo</a></p>\n"}],"owner":{"account_id":6905129,"reputation":15,"user_id":5303317,"display_name":"Shira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32411499,"answer_count":4,"score":1,"last_activity_date":1673016280,"creation_date":1441444886,"question_id":32411445,"body_markdown":"I&#39;m receiving  HTML code from XML and trying to find last &lt;span&gt; in Java.\r\nwhen I&#39;m running the code I always receive the first span and the groupCount show me that there is only one match (the first one).\r\nI also tried to use a hardcode version of the XML (I created a string variable and still got the same result)\r\n\r\nhere is my code:\r\n\r\n    String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\r\n        Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\r\n        Matcher matcher3 = pattern3.matcher(desc);\r\n        if (matcher3.find()) {\r\n            int result = matcher3.groupCount();\r\n            String s = (matcher3.group(result))//-&gt;&gt;always show the first result \r\n        }","title":"find last occurrence using java and regular expression","body":"<p>I'm receiving  HTML code from XML and trying to find last  in Java.\nwhen I'm running the code I always receive the first span and the groupCount show me that there is only one match (the first one).\nI also tried to use a hardcode version of the XML (I created a string variable and still got the same result)</p>\n<p>here is my code:</p>\n<pre><code>String text = &quot;&lt;div&gt;&lt;ul &gt;&lt;li&gt;&lt;span&gt;answer 1.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 2&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer3.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;answer 4&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&gt;Cat 1 | Cat 2 | Cat 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;\n    Pattern pattern3 = Pattern.compile(&quot;&lt;span.*?(?=&lt;/span&gt;)&quot;);\n    Matcher matcher3 = pattern3.matcher(desc);\n    if (matcher3.find()) {\n        int result = matcher3.groupCount();\n        String s = (matcher3.group(result))//-&gt;&gt;always show the first result \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","lucene","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673016068,"creation_date":1673016068,"answer_id":75032375,"question_id":75031997,"body_markdown":"&gt; you&#39;ll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.\r\n\r\nHibernate Search 5 had its problems, one of which was lack of documentation in some areas. Now that it&#39;s in maintenance mode, those problems are unlikely to get addressed.\r\n\r\nThere is _some_ documentation for that feature in the Hibernate Search 5 documentation: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\r\n\r\nYou&#39;ll get [better documentation of that feature](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis) by migrating to Hibernate Search 6+.\r\n\r\nThat being said, most of your questions related to Lucene features, so you probably won&#39;t find answers in Hibernate Search&#39;s documentation. You could find them in Lucene&#39;s documentation. How to find such documentation is explained in the Hibernate Search 6 documentation:\r\n\r\n&gt; To know more about the behavior of these character filters, tokenizers and token filters, either browse the [Lucene Javadoc][1] or read the corresponding section on the [Solr Wiki][2] (you don’t need Solr to use these analyzers, it’s just that there is no documentation page for Lucene proper).\r\n\r\n---\r\n\r\n&gt; Where to put and how to address mapping-chars.properties when adding it as a parameter to MappingCharFilterFactory?\r\n\r\nIn your classpath.\r\n\r\n&gt; What is the contents of mapping-chars.properties and how to create mine of modify existing?\r\n\r\nThat&#39;s the kind of things that Lucene doesn&#39;t document, at least not clearly. Solr&#39;s documentation is better: https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory\r\n\r\n&gt; Where to put stoplist.properties and how to address it when adding as mapping parameter to StopFilterFactory?\r\n\r\nPut it in the classpath, and pass the path to that file from the root of your classpath.\r\n\r\n&gt; How to add previously defined customAnalyzer to single @Field mentioned below?\r\n\r\nWell *that* is documented, at least: https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers\r\n\r\n```\r\n@Field(analyzer = @Analyzer(definition = &quot;customAnalyzer&quot;))\r\n```\r\n\r\n&gt; On some pages I found option to put this definition into application.properties:\r\n&gt; \r\n&gt; ```\r\n&gt; hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\r\n&gt; ```\r\n&gt; But I don&#39;t want to replace original analyzer, I just want to use custom analyzer for few specific properties.\r\n\r\n\r\nYou won&#39;t replace an &quot;analyzer&quot;, you will register an analysis definition provider. Which will add analyzer definitions to Hibernate Search, which can then be referenced from `@Field`. Setting an analysis definition provider does not, in itself, change your mapping in any way.\r\n\r\n  [1]: https://lucene.apache.org/core/8_11_1/core/\r\n  [2]: http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters","title":"Creating and using LuceneAnalysisDefinitionProvider with Hibernate Search","body":"<blockquote>\n<p>you'll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.</p>\n</blockquote>\n<p>Hibernate Search 5 had its problems, one of which was lack of documentation in some areas. Now that it's in maintenance mode, those problems are unlikely to get addressed.</p>\n<p>There is <em>some</em> documentation for that feature in the Hibernate Search 5 documentation: <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition</a></p>\n<p>You'll get <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis\" rel=\"nofollow noreferrer\">better documentation of that feature</a> by migrating to Hibernate Search 6+.</p>\n<p>That being said, most of your questions related to Lucene features, so you probably won't find answers in Hibernate Search's documentation. You could find them in Lucene's documentation. How to find such documentation is explained in the Hibernate Search 6 documentation:</p>\n<blockquote>\n<p>To know more about the behavior of these character filters, tokenizers and token filters, either browse the <a href=\"https://lucene.apache.org/core/8_11_1/core/\" rel=\"nofollow noreferrer\">Lucene Javadoc</a> or read the corresponding section on the <a href=\"http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters\" rel=\"nofollow noreferrer\">Solr Wiki</a> (you don’t need Solr to use these analyzers, it’s just that there is no documentation page for Lucene proper).</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>Where to put and how to address mapping-chars.properties when adding it as a parameter to MappingCharFilterFactory?</p>\n</blockquote>\n<p>In your classpath.</p>\n<blockquote>\n<p>What is the contents of mapping-chars.properties and how to create mine of modify existing?</p>\n</blockquote>\n<p>That's the kind of things that Lucene doesn't document, at least not clearly. Solr's documentation is better: <a href=\"https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/6_6/charfilterfactories.html#CharFilterFactories-solr.MappingCharFilterFactory</a></p>\n<blockquote>\n<p>Where to put stoplist.properties and how to address it when adding as mapping parameter to StopFilterFactory?</p>\n</blockquote>\n<p>Put it in the classpath, and pass the path to that file from the root of your classpath.</p>\n<blockquote>\n<p>How to add previously defined customAnalyzer to single @Field mentioned below?</p>\n</blockquote>\n<p>Well <em>that</em> is documented, at least: <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#_referencing_named_analyzers</a></p>\n<pre><code>@Field(analyzer = @Analyzer(definition = &quot;customAnalyzer&quot;))\n</code></pre>\n<blockquote>\n<p>On some pages I found option to put this definition into application.properties:</p>\n<pre><code>hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\n</code></pre>\n<p>But I don't want to replace original analyzer, I just want to use custom analyzer for few specific properties.</p>\n</blockquote>\n<p>You won't replace an &quot;analyzer&quot;, you will register an analysis definition provider. Which will add analyzer definitions to Hibernate Search, which can then be referenced from <code>@Field</code>. Setting an analysis definition provider does not, in itself, change your mapping in any way.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673016184,"creation_date":1673014136,"question_id":75031997,"body_markdown":"When you search Stackoverflow or the Internet for `LuceneAnalysisDefinitionProvider`, you&#39;ll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.\r\n\r\nSo I tried to do it by myself and failed. Here is my code:\r\n\r\n```\r\npublic class CustomLuceneAnalysisDefinitionProvider\r\n\t\timplements LuceneAnalysisDefinitionProvider {\r\n\r\n  @Override\r\n  public void register(final LuceneAnalysisDefinitionRegistryBuilder builder) {\r\n    builder\r\n      .analyzer(&quot;customAnalyzer&quot;)\r\n        .tokenizer(StandardTokenizerFactory.class)\r\n        .charFilter(MappingCharFilterFactory.class)\r\n          .param(&quot;mapping&quot;,\r\n            &quot;org/hibernate/search/test/analyzer/mapping-chars.properties&quot;)\r\n        .tokenFilter(ASCIIFoldingFilterFactory.class)\r\n        .tokenFilter(LowerCaseFilterFactory.class)\r\n        .tokenFilter(StopFilterFactory.class)\r\n          // WRONG! It&#39;s not &quot;mapping&quot;!\r\n//        .param(&quot;mapping&quot;,\r\n//          &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot;)\r\n          .param(&quot;words&quot;,\r\n            &quot;classpath:/stoplist.properties&quot;)\r\n          .param(&quot;ignoreCase&quot;, &quot;true&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow we have `CustomLuceneAnalysisDefinitionProvider` and what&#39;s next?\r\n\r\n1. Where to put and how to address `mapping-chars.properties` when adding it as a `parameter` to `MappingCharFilterFactory`?\r\n2. What is the contents of `mapping-chars.properties` and how to create mine of modify existing?\r\n3. Where to put `stoplist.properties` and how to address it when adding as `mapping` parameter to `StopFilterFactory`?\r\n5. How to add previously defined `customAnalyzer` to single `@Field` mentioned below?\r\n\r\n```\r\n@Field(\r\n\tindex = Index.YES,\r\n\tanalyze = Analyze.YES,\r\n\tstore = Store.NO,\r\n\tbridge = @FieldBridge(impl = LocalizedFieldBridge.class)\r\n)\r\nprivate LocalizedField description;\r\n```\r\n\r\nOn some pages I found option to put this definition into application.properties:\r\n\r\n\r\n```\r\nhibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\r\n```\r\n\r\nBut I don&#39;t want to replace original analyzer, I just want to use custom analyzer for few specific properties.\r\n\r\n---\r\n\r\n**EDIT#1**\r\n\r\nLooking into `org.apache.lucene.analysis.core.StopFilterFactory` line 86, one can notice it takes `words` as a key, not `mapping`.\r\n\r\n---\r\n\r\n**EDIT#2**\r\n\r\nIf you put your stop words file in src/main/resources, then you have to address it:\r\n\r\n```\r\n.param(&quot;words&quot;, &quot;classpath:/stoplist.properties&quot;)\r\n```","title":"Creating and using LuceneAnalysisDefinitionProvider with Hibernate Search","body":"<p>When you search Stackoverflow or the Internet for <code>LuceneAnalysisDefinitionProvider</code>, you'll find hundreds of pages, each of them having the same code copied from another page without any decent explanation or further examples of usage.</p>\n<p>So I tried to do it by myself and failed. Here is my code:</p>\n<pre><code>public class CustomLuceneAnalysisDefinitionProvider\n        implements LuceneAnalysisDefinitionProvider {\n\n  @Override\n  public void register(final LuceneAnalysisDefinitionRegistryBuilder builder) {\n    builder\n      .analyzer(&quot;customAnalyzer&quot;)\n        .tokenizer(StandardTokenizerFactory.class)\n        .charFilter(MappingCharFilterFactory.class)\n          .param(&quot;mapping&quot;,\n            &quot;org/hibernate/search/test/analyzer/mapping-chars.properties&quot;)\n        .tokenFilter(ASCIIFoldingFilterFactory.class)\n        .tokenFilter(LowerCaseFilterFactory.class)\n        .tokenFilter(StopFilterFactory.class)\n          // WRONG! It's not &quot;mapping&quot;!\n//        .param(&quot;mapping&quot;,\n//          &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot;)\n          .param(&quot;words&quot;,\n            &quot;classpath:/stoplist.properties&quot;)\n          .param(&quot;ignoreCase&quot;, &quot;true&quot;);\n  }\n\n}\n</code></pre>\n<p>Now we have <code>CustomLuceneAnalysisDefinitionProvider</code> and what's next?</p>\n<ol>\n<li>Where to put and how to address <code>mapping-chars.properties</code> when adding it as a <code>parameter</code> to <code>MappingCharFilterFactory</code>?</li>\n<li>What is the contents of <code>mapping-chars.properties</code> and how to create mine of modify existing?</li>\n<li>Where to put <code>stoplist.properties</code> and how to address it when adding as <code>mapping</code> parameter to <code>StopFilterFactory</code>?</li>\n<li>How to add previously defined <code>customAnalyzer</code> to single <code>@Field</code> mentioned below?</li>\n</ol>\n<pre><code>@Field(\n    index = Index.YES,\n    analyze = Analyze.YES,\n    store = Store.NO,\n    bridge = @FieldBridge(impl = LocalizedFieldBridge.class)\n)\nprivate LocalizedField description;\n</code></pre>\n<p>On some pages I found option to put this definition into application.properties:</p>\n<pre><code>hibernate.search.lucene.analysis_definition_provider = com.thevegcat.app.search.CustomAnalysisDefinitionProvider\n</code></pre>\n<p>But I don't want to replace original analyzer, I just want to use custom analyzer for few specific properties.</p>\n<hr />\n<p><strong>EDIT#1</strong></p>\n<p>Looking into <code>org.apache.lucene.analysis.core.StopFilterFactory</code> line 86, one can notice it takes <code>words</code> as a key, not <code>mapping</code>.</p>\n<hr />\n<p><strong>EDIT#2</strong></p>\n<p>If you put your stop words file in src/main/resources, then you have to address it:</p>\n<pre><code>.param(&quot;words&quot;, &quot;classpath:/stoplist.properties&quot;)\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1673016439,"post_id":75032360,"comment_id":132408954,"body_markdown":"You can use `structureIdWithUserIds.values()` to get a collection of `Set&lt;Integer&gt;` and follow the answer in the linked post on how to merge.","body":"You can use <code>structureIdWithUserIds.values()</code> to get a collection of <code>Set&lt;Integer&gt;</code> and follow the answer in the linked post on how to merge."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1673016880,"post_id":75032360,"comment_id":132409101,"body_markdown":"@Thiyagu yeah I tried Set&lt;Integer&gt; \nids = Stream.of(structureIdWithUserIds.values()).flatMap(Set::stream).collect(Collectors.toSet()) but intelij underscores (Set::stream) so it does not work","body":"@Thiyagu yeah I tried Set&lt;Integer&gt;  ids = Stream.of(structureIdWithUserIds.values()).flatMap(Set::stre&zwnj;&#8203;am).collect(Collecto&zwnj;&#8203;rs.toSet()) but intelij underscores (Set::stream) so it does not work"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":2,"creation_date":1673017999,"post_id":75032360,"comment_id":132409416,"body_markdown":"`structureIdWithUserIds.values().stream().flatMap(Collection::stream).collect(Collectors.toSet());`","body":"<code>structureIdWithUserIds.values().stream().flatMap(Collection:&zwnj;&#8203;:stream).collect(Col&zwnj;&#8203;lectors.toSet());</code>"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673016361,"answer_count":0,"score":1,"last_activity_date":1673016011,"creation_date":1673016011,"question_id":75032360,"body_markdown":"I have such structure:\r\n\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; structureIdWithUserIds\r\n\r\nAnd I need to process all values(Sets) and concatinate them in one `Set` of Integers. What is the easiest way to do that?","title":"How to collect sets as values from a map in java stream?","body":"<p>I have such structure:</p>\n<pre><code>Map&lt;Integer, Set&lt;Integer&gt;&gt; structureIdWithUserIds\n</code></pre>\n<p>And I need to process all values(Sets) and concatinate them in one <code>Set</code> of Integers. What is the easiest way to do that?</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1339679624,"post_id":11033603,"comment_id":14428204,"body_markdown":"How do you intend to deliver the app. to the end user? A network/internet, a disk or flash drive, ..something else?  Does the app. have a GUI?","body":"How do you intend to deliver the app. to the end user? A network/internet, a disk or flash drive, ..something else?  Does the app. have a GUI?"}],"answers":[{"tags":[],"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1485379469,"creation_date":1339679099,"answer_id":11033670,"question_id":11033603,"body_markdown":"When you export your project as a &#39;Runnable jar&#39; (Right mouse on project -&gt; Export -&gt; Runnable jar) you have the option to package all dependencies into the generated jar. It also has two other ways (see screenshot) to export your libraries, be aware of the licences when deciding which packaging method you will use. \r\n\r\n![Package libraries][1]\r\n\r\nThe &#39;launch configuration&#39; dropdown is populated with classes containing a `main(String[])` method. The selected class is started when you &#39;run&#39; the jar.\r\n\r\nExporting as a runnable jar uses the dependencies on your build path (Right mouse on project -&gt; Build Path -&gt; Configure Build Path...). When you export as a &#39;regular&#39; (non-runnable) jar you can select any file in your project(s). If you have the libraries in your project folder you can include them but external dependencies, for example [tag:maven], cannot be included (for maven projects, [search here][2]). \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fNKAZ.png\r\n  [2]: https://stackoverflow.com/search?q=maven%20runnable%20jar%20with%20dependencies","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>When you export your project as a 'Runnable jar' (Right mouse on project -> Export -> Runnable jar) you have the option to package all dependencies into the generated jar. It also has two other ways (see screenshot) to export your libraries, be aware of the licences when deciding which packaging method you will use. </p>\n\n<p><img src=\"https://i.stack.imgur.com/fNKAZ.png\" alt=\"Package libraries\"></p>\n\n<p>The 'launch configuration' dropdown is populated with classes containing a <code>main(String[])</code> method. The selected class is started when you 'run' the jar.</p>\n\n<p>Exporting as a runnable jar uses the dependencies on your build path (Right mouse on project -> Build Path -> Configure Build Path...). When you export as a 'regular' (non-runnable) jar you can select any file in your project(s). If you have the libraries in your project folder you can include them but external dependencies, for example <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" rel=\"tag\">maven</a>, cannot be included (for maven projects, <a href=\"https://stackoverflow.com/search?q=maven%20runnable%20jar%20with%20dependencies\">search here</a>). </p>\n"},{"tags":[],"owner":{"account_id":10697,"reputation":28364,"user_id":20322,"display_name":"Attila"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1339679149,"creation_date":1339679149,"answer_id":11033686,"question_id":11033603,"body_markdown":"You could use the Export-&gt;Java-&gt;Runnable Jar to create a jar that includes its dependencies\r\n\r\nAlternatively, you could use the [fatjar][1] eclipse plugin as well to bundle jars together\r\n\r\n\r\n  [1]: http://fjep.sourceforge.net/","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>You could use the Export->Java->Runnable Jar to create a jar that includes its dependencies</p>\n\n<p>Alternatively, you could use the <a href=\"http://fjep.sourceforge.net/\">fatjar</a> eclipse plugin as well to bundle jars together</p>\n"},{"tags":[],"owner":{"account_id":796,"reputation":2055,"user_id":1038,"accept_rate":100,"display_name":"maerch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339679172,"creation_date":1339679172,"answer_id":11033695,"question_id":11033603,"body_markdown":"You can right-click on the project, click on export, type &#39;jar&#39;, choose &#39;Runnable JAR File Export&#39;. There you have the option &#39;Extract required libraries into generated JAR&#39;.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>You can right-click on the project, click on export, type 'jar', choose 'Runnable JAR File Export'. There you have the option 'Extract required libraries into generated JAR'.</p>\n"},{"tags":[],"owner":{"account_id":5372879,"reputation":471,"user_id":4280826,"display_name":"Charan Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422683090,"creation_date":1422683090,"answer_id":28248601,"question_id":11033603,"body_markdown":"While exporting your source into a jar, make sure you select runnable jar option from the options. Then select if you want to package all the dependency jars or just include them directly in the jar file. It depends on the project that you are working on.\r\n\r\nYou then run the jar directly by java -jar example.jar. ","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>While exporting your source into a jar, make sure you select runnable jar option from the options. Then select if you want to package all the dependency jars or just include them directly in the jar file. It depends on the project that you are working on.</p>\n\n<p>You then run the jar directly by java -jar example.jar. </p>\n"},{"tags":[],"owner":{"account_id":9428287,"reputation":21,"user_id":7012594,"display_name":"Peter Saitz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478794706,"creation_date":1478794706,"answer_id":40532278,"question_id":11033603,"body_markdown":"If you want to export all JAR-files of a Java web-project, open the latest generated WAR-file with a ZIP-tool (e.g. 7-Zip), navigate to the /WEB-INF/lib/ folder. Here you will find all JAR-files you need for this project (as listed in &quot;Referenced Libraries&quot;).","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>If you want to export all JAR-files of a Java web-project, open the latest generated WAR-file with a ZIP-tool (e.g. 7-Zip), navigate to the /WEB-INF/lib/ folder. Here you will find all JAR-files you need for this project (as listed in \"Referenced Libraries\").</p>\n"},{"tags":[],"owner":{"account_id":5175648,"reputation":1001,"user_id":4142882,"accept_rate":67,"display_name":"SMKS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484589816,"creation_date":1484589816,"answer_id":41682444,"question_id":11033603,"body_markdown":"Personally,\r\n\r\nNone of the answers above worked for me, I still kept getting NoClassDefFound errors (I am using Maven for dependencies).  My solution was to build using &quot;mvn clean install&quot; and use the &quot;[project]-jar-with-dependencies.jar&quot; that that command creates.  Similarly in Eclipse you can right click the project -&gt; Run As -&gt; Maven Install and it will place the jars in the target folder.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>Personally,</p>\n\n<p>None of the answers above worked for me, I still kept getting NoClassDefFound errors (I am using Maven for dependencies).  My solution was to build using \"mvn clean install\" and use the \"[project]-jar-with-dependencies.jar\" that that command creates.  Similarly in Eclipse you can right click the project -> Run As -> Maven Install and it will place the jars in the target folder.</p>\n"},{"tags":[],"owner":{"account_id":1817323,"reputation":21,"user_id":1652171,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528968918,"creation_date":1528968918,"answer_id":50854241,"question_id":11033603,"body_markdown":"To generate jar file in eclipse right click on the project for which you want to generate, Select Export&gt;Java&gt;Runnable Jar File, \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lKDJr.png\r\n  [2]: https://i.stack.imgur.com/SkSOh.png\r\n\r\n\r\nIts create jar which includes all the dependencies from Pom.xml, But please make sure license issue if you are using third-party dependency for your application.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>To generate jar file in eclipse right click on the project for which you want to generate, Select Export>Java>Runnable Jar File, </p>\n\n<p><a href=\"https://i.stack.imgur.com/lKDJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKDJr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SkSOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkSOh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Its create jar which includes all the dependencies from Pom.xml, But please make sure license issue if you are using third-party dependency for your application.</p>\n"},{"tags":[],"owner":{"account_id":13211871,"reputation":41,"user_id":9541813,"display_name":"JitenS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531497925,"creation_date":1531497925,"answer_id":51329035,"question_id":11033603,"body_markdown":"If it is a standalone (Main method) java project then Not any specific path put all the jars inside the project not any specific path then right click on the project - &gt; export - &gt; Runnable jar --&gt; Select the lunch configuration and Library handeling then choose the radio button option &quot;Package required libraries into generated jar&quot; -- &gt; Finish.\r\n\r\nOr\r\n\r\nIf you have a web project then put all the jars in web-inf/lib folder and do the same step.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>If it is a standalone (Main method) java project then Not any specific path put all the jars inside the project not any specific path then right click on the project - > export - > Runnable jar --> Select the lunch configuration and Library handeling then choose the radio button option \"Package required libraries into generated jar\" -- > Finish.</p>\n\n<p>Or</p>\n\n<p>If you have a web project then put all the jars in web-inf/lib folder and do the same step.</p>\n"},{"tags":[],"owner":{"account_id":7333619,"reputation":1,"user_id":5585734,"display_name":"Priti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673015628,"creation_date":1673015628,"answer_id":75032283,"question_id":11033603,"body_markdown":"Before exporting, click on Buildpath and configure java buildpath and add external jars inside the library. Then try to export as a runnable jar. ","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>Before exporting, click on Buildpath and configure java buildpath and add external jars inside the library. Then try to export as a runnable jar.</p>\n"}],"owner":{"account_id":1560771,"reputation":1163,"user_id":1450681,"accept_rate":75,"display_name":"Ghanta Sairam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252562,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":11033670,"answer_count":9,"score":101,"last_activity_date":1673015628,"creation_date":1339678866,"question_id":11033603,"body_markdown":"I am done with the project which connects to database (MySQL). Now I want to export the project as jar. But I don&#39;t know how to include its external dependencies? Is there any way of doing it in Eclipse or should I use any scripts for that?.","title":"How to create a jar with external libraries included in Eclipse?","body":"<p>I am done with the project which connects to database (MySQL). Now I want to export the project as jar. But I don't know how to include its external dependencies? Is there any way of doing it in Eclipse or should I use any scripts for that?.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1465407368,"post_id":37709198,"comment_id":62892481,"body_markdown":"what is the rest of your code?","body":"what is the rest of your code?"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1465407385,"post_id":37709198,"comment_id":62892492,"body_markdown":"what do you do after that?","body":"what do you do after that?"},{"owner":{"account_id":3753539,"reputation":9174,"user_id":3120489,"accept_rate":78,"display_name":"dabadaba"},"score":0,"creation_date":1465407387,"post_id":37709198,"comment_id":62892495,"body_markdown":"Declare it outside the switch block. The scope &quot;inside&quot; cases is shared.","body":"Declare it outside the switch block. The scope &quot;inside&quot; cases is shared."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1465407606,"post_id":37709198,"comment_id":62892604,"body_markdown":"An object doesn&#39;t have a name. A variable does. What are you planning to do with such a variable later?","body":"An object doesn&#39;t have a name. A variable does. What are you planning to do with such a variable later?"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465408524,"creation_date":1465407389,"answer_id":37709258,"question_id":37709198,"body_markdown":"The title of the question should be something like:\r\n***can I declare variables with the same name in  every Case branch***\r\nanyways...the reason of the error is because the CASE block in the Switch-case share the same scope as the whole switch block\r\n","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>The title of the question should be something like:\n<strong><em>can I declare variables with the same name in  every Case branch</em></strong>\nanyways...the reason of the error is because the CASE block in the Switch-case share the same scope as the whole switch block</p>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465407563,"creation_date":1465407563,"answer_id":37709303,"question_id":37709198,"body_markdown":"You can put curly braces around the code inside each case block.\r\nBut that makes the variable local only to the case block - you can&#39;t use it out after the break.\r\n\r\nSo unless you are only going to use it inside each case, do as @dabadaba says and place it before the switch.","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>You can put curly braces around the code inside each case block.\nBut that makes the variable local only to the case block - you can't use it out after the break.</p>\n\n<p>So unless you are only going to use it inside each case, do as @dabadaba says and place it before the switch.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1465407957,"creation_date":1465407637,"answer_id":37709325,"question_id":37709198,"body_markdown":"You need to move your variable declaration outside the switch block as next:\r\n\r\n    Example&lt;?&gt; ex;\r\n    switch (ch) {\r\n        case 1:\r\n            ex = new Example&lt;Integer&gt;();\r\n            break;\r\n        case 2:\r\n            ex = new Example&lt;Float&gt;();\r\n            break;\r\n        case 3:\r\n            ex = new Example&lt;String&gt;();\r\n            break;\r\n        default:\r\n            throw new IllegalArgumentException(&quot;Unknown type &quot; + ch);\r\n    }\r\n\r\nAs you mixed several types that have nothing in common, you have to use the `wildcard` for `unknown type`.","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>You need to move your variable declaration outside the switch block as next:</p>\n\n<pre><code>Example&lt;?&gt; ex;\nswitch (ch) {\n    case 1:\n        ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        ex = new Example&lt;String&gt;();\n        break;\n    default:\n        throw new IllegalArgumentException(\"Unknown type \" + ch);\n}\n</code></pre>\n\n<p>As you mixed several types that have nothing in common, you have to use the <code>wildcard</code> for <code>unknown type</code>.</p>\n"},{"tags":[],"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465408124,"creation_date":1465408124,"answer_id":37709485,"question_id":37709198,"body_markdown":"The reason for your duplicate variable error is because despite the fact that you declare `ex` within different case blocks, it is still technically within the same scope (i.e. a rough but simple way of putting it is they are with in the same set of `{ }`).  Put another way, imagine you removed the `break` from `case 1`; the execution would fall through to `case 2` and try to declare the variable a second time.  Since the java compiler doesn&#39;t take the `break` into account when evaluating for this sort of thing, you have a compilation error.\r\n\r\nFortunately, you can just declare `ex` beforehand with a wildcard and assign it value later:\r\n\r\n    Example&lt;?&gt; ex = null;\r\n    switch (ch) {\r\n        case 1:\r\n            ex = new Example&lt;Integer&gt;();\r\n            break;\r\n        case 2:\r\n            ex = new Example&lt;Float&gt;();\r\n            break;\r\n        case 3:\r\n            ex = new Example&lt;String&gt;();\r\n            break;\r\n        default:\r\n            System.out.println(&quot;&quot;); //You may want to do something more dramatic here, if this is an error case.\r\n            break; //Redundant, since execution path falls out of this scope right after this anyway.\r\n        }","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>The reason for your duplicate variable error is because despite the fact that you declare <code>ex</code> within different case blocks, it is still technically within the same scope (i.e. a rough but simple way of putting it is they are with in the same set of <code>{ }</code>).  Put another way, imagine you removed the <code>break</code> from <code>case 1</code>; the execution would fall through to <code>case 2</code> and try to declare the variable a second time.  Since the java compiler doesn't take the <code>break</code> into account when evaluating for this sort of thing, you have a compilation error.</p>\n\n<p>Fortunately, you can just declare <code>ex</code> beforehand with a wildcard and assign it value later:</p>\n\n<pre><code>Example&lt;?&gt; ex = null;\nswitch (ch) {\n    case 1:\n        ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        ex = new Example&lt;String&gt;();\n        break;\n    default:\n        System.out.println(\"\"); //You may want to do something more dramatic here, if this is an error case.\n        break; //Redundant, since execution path falls out of this scope right after this anyway.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27216582,"reputation":1,"user_id":20746517,"display_name":"Yogesh Thosar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673015612,"creation_date":1673015373,"answer_id":75032227,"question_id":37709198,"body_markdown":"I think In Java,\r\nthe pair of curly braces i.e. {} confines the scope. A variable declared between { and }, starts its scope from the declaration statement to the respective closing brace of starting brace.\r\nFor exa. \r\nLet say {- start and }- close\r\nNow, \r\n\r\nstart1\r\n  var A borns here\r\n     start2\r\n       var B borns here!\r\n\r\n       var B can not live further this!\r\n     close2\r\n\r\n  var A can leave upto here! \r\nclose1\r\n\r\n------------------------\r\nI hope, I dictate it well!!","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>I think In Java,\nthe pair of curly braces i.e. {} confines the scope. A variable declared between { and }, starts its scope from the declaration statement to the respective closing brace of starting brace.\nFor exa.\nLet say {- start and }- close\nNow,</p>\n<p>start1\nvar A borns here\nstart2\nvar B borns here!</p>\n<pre><code>   var B can not live further this!\n close2\n</code></pre>\n<p>var A can leave upto here!\nclose1</p>\n<hr />\n<p>I hope, I dictate it well!!</p>\n"}],"owner":{"account_id":7379580,"reputation":381,"user_id":5616775,"accept_rate":43,"display_name":"Revanth Penugonda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37709325,"answer_count":5,"score":0,"last_activity_date":1673015612,"creation_date":1465407194,"question_id":37709198,"body_markdown":"I am trying to create a generic class object in switch case with same name I get a error for duplicate variable. Is there a way to create the object without changing the name of the object.\r\n\r\n    switch (ch) {\r\n\t\tcase 1:\r\n\t\t\tExample&lt;Integer&gt; ex = new Example&lt;Integer&gt;();\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tExample&lt;Float&gt; ex = new Example&lt;Float&gt;();\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\tExample&lt;String&gt; ex = new Example&lt;String&gt;();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tbreak;\r\n\t\t}","title":"can I declare variables with the same name in every Case branch of a Switch-Case?","body":"<p>I am trying to create a generic class object in switch case with same name I get a error for duplicate variable. Is there a way to create the object without changing the name of the object.</p>\n\n<pre><code>switch (ch) {\n    case 1:\n        Example&lt;Integer&gt; ex = new Example&lt;Integer&gt;();\n        break;\n    case 2:\n        Example&lt;Float&gt; ex = new Example&lt;Float&gt;();\n        break;\n    case 3:\n        Example&lt;String&gt; ex = new Example&lt;String&gt;();\n        break;\n    default:\n        System.out.println(\"\");\n        break;\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1357431322,"post_id":14177897,"comment_id":19647897,"body_markdown":"Not without iterating the `ArrayList`","body":"Not without iterating the <code>ArrayList</code>"},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":1,"creation_date":1357431385,"post_id":14177897,"comment_id":19647912,"body_markdown":"Try entering the items into a structure that forces uniqueness like Set.  Or keep the items sorted when you add items and search for items next to each other.","body":"Try entering the items into a structure that forces uniqueness like Set.  Or keep the items sorted when you add items and search for items next to each other."},{"owner":{"account_id":1489010,"reputation":7802,"user_id":1396594,"accept_rate":67,"display_name":"exexzian"},"score":0,"creation_date":1357431393,"post_id":14177897,"comment_id":19647915,"body_markdown":"What makes you think that &quot;it will be too hard to do that&quot;, just iterate over `ArrayList` and compare it with others","body":"What makes you think that &quot;it will be too hard to do that&quot;, just iterate over <code>ArrayList</code> and compare it with others"}],"answers":[{"tags":[],"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673015471,"creation_date":1357431457,"answer_id":14177927,"question_id":14177897,"body_markdown":"This will tell you if you have at least two same values in your `ArrayList`:\r\n\r\n    int first = portList.indexOf(someIntValue);\r\n    int last  = portList.lastIndexOf(someIntValue);\r\n    if (first != -1 &amp;&amp; first != last) {\r\n        // someIntValue exists more than once in the list (not sure how many times though)\r\n    }\r\n\r\nIf you *really* want to know how many duplicates of a given value you have, you need to iterate through the entire array. Something like this:\r\n\r\n    /**\r\n     * Will return a list of all indexes where the given value\r\n     * exists in the given array. The list will be empty if the\r\n     * given value does not exist at all.\r\n     *\r\n     * @param List&lt;E&gt; list\r\n     * @param E value\r\n     * @return List&lt;Integer&gt;    a list of indexes in the list\r\n     */\r\n    public &lt;E&gt; List&lt;Integer&gt; collectFrequency(List&lt;E&gt; list, E value) {\r\n       ArrayList&lt;Integer&gt; freqIndex = new ArrayList&lt;Integer&gt;();\r\n       E item;\r\n       for (int i=0, len=list.size(); i&lt;len; i++) {\r\n           item = list.get(i);\r\n           if ((item == value) || (null != item &amp;&amp; item.equals(value))) {\r\n               freqIndex.add(i);\r\n           }\r\n       }\r\n       return freqIndex;\r\n    }\r\n\r\n    if (!collectFrequency(portList, someIntValue).size() &gt; 1) {\r\n        // Duplicate value\r\n    }\r\n\r\nOr using the [already availble](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#frequency(java.util.Collection,%20java.lang.Object)) method:\r\n\r\n    if (Collections.frequency(portList, someIntValue) &gt; 1) {\r\n        // Duplicate value\r\n    }\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>This will tell you if you have at least two same values in your <code>ArrayList</code>:</p>\n<pre><code>int first = portList.indexOf(someIntValue);\nint last  = portList.lastIndexOf(someIntValue);\nif (first != -1 &amp;&amp; first != last) {\n    // someIntValue exists more than once in the list (not sure how many times though)\n}\n</code></pre>\n<p>If you <em>really</em> want to know how many duplicates of a given value you have, you need to iterate through the entire array. Something like this:</p>\n<pre><code>/**\n * Will return a list of all indexes where the given value\n * exists in the given array. The list will be empty if the\n * given value does not exist at all.\n *\n * @param List&lt;E&gt; list\n * @param E value\n * @return List&lt;Integer&gt;    a list of indexes in the list\n */\npublic &lt;E&gt; List&lt;Integer&gt; collectFrequency(List&lt;E&gt; list, E value) {\n   ArrayList&lt;Integer&gt; freqIndex = new ArrayList&lt;Integer&gt;();\n   E item;\n   for (int i=0, len=list.size(); i&lt;len; i++) {\n       item = list.get(i);\n       if ((item == value) || (null != item &amp;&amp; item.equals(value))) {\n           freqIndex.add(i);\n       }\n   }\n   return freqIndex;\n}\n\nif (!collectFrequency(portList, someIntValue).size() &gt; 1) {\n    // Duplicate value\n}\n</code></pre>\n<p>Or using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#frequency(java.util.Collection,%20java.lang.Object)\" rel=\"nofollow noreferrer\">already availble</a> method:</p>\n<pre><code>if (Collections.frequency(portList, someIntValue) &gt; 1) {\n    // Duplicate value\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93655,"reputation":7413,"user_id":256108,"accept_rate":78,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673005745,"creation_date":1357431527,"answer_id":14177934,"question_id":14177897,"body_markdown":"If you are looking to do this in one method, then no. However, you could do it in two steps if you need to simply find out if it exists ***at least more than once*** in the List. You could do\r\n\r\n    int first = list.indexOf(object)\r\n    int second = list.lastIndexOf(object)\r\n    // Don&#39;t forget to also check to see if either are -1, the value does not exist at all.\r\n    if (first == second) {\r\n        // No Duplicates of object appear in the list\r\n    } else {\r\n        // Duplicate exists\r\n    }\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>If you are looking to do this in one method, then no. However, you could do it in two steps if you need to simply find out if it exists <em><strong>at least more than once</strong></em> in the List. You could do</p>\n<pre><code>int first = list.indexOf(object)\nint second = list.lastIndexOf(object)\n// Don't forget to also check to see if either are -1, the value does not exist at all.\nif (first == second) {\n    // No Duplicates of object appear in the list\n} else {\n    // Duplicate exists\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":240196,"reputation":2434,"user_id":510294,"accept_rate":75,"display_name":"Mike"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1357432218,"creation_date":1357431543,"answer_id":14177938,"question_id":14177897,"body_markdown":"    Set portSet = new HashSet&lt;Integer&gt;();\r\n    portSet.addAll(portList);\r\n    boolean listContainsDuplicates = portSet.size() != portList.size();\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<pre><code>Set portSet = new HashSet&lt;Integer&gt;();\nportSet.addAll(portList);\nboolean listContainsDuplicates = portSet.size() != portList.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2199259,"reputation":674,"user_id":1944117,"display_name":"Survivor"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1673005893,"creation_date":1357432069,"answer_id":14177992,"question_id":14177897,"body_markdown":"You could use something like this to see how many times a specific value is there:\r\n\r\n    System.out.println(Collections.frequency(portList, 1));\r\n    // There can be whatever Integer, and I use 1, so you can understand\r\n\r\nAnd to check if a specific value is there more than once you could use something like this:\r\n\r\n    if ( (Collections.frequency(portList, x)) &gt; 1 ){\r\n        System.out.println(x + &quot; is in portList more than once &quot;);\r\n    }\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>You could use something like this to see how many times a specific value is there:</p>\n<pre><code>System.out.println(Collections.frequency(portList, 1));\n// There can be whatever Integer, and I use 1, so you can understand\n</code></pre>\n<p>And to check if a specific value is there more than once you could use something like this:</p>\n<pre><code>if ( (Collections.frequency(portList, x)) &gt; 1 ){\n    System.out.println(x + &quot; is in portList more than once &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4542781,"reputation":106,"user_id":3690146,"accept_rate":86,"display_name":"user3690146"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1673005917,"creation_date":1401429887,"answer_id":23948103,"question_id":14177897,"body_markdown":"### My solution \r\n\r\n    public static boolean moreThanOnce(ArrayList&lt;Integer&gt; list, int searched) \r\n    {\r\n        int numCount = 0;\r\n\r\n        for (int thisNum : list) {\r\n            if (thisNum == searched) \r\n                numCount++;\r\n        }\r\n        \r\n        return numCount &gt; 1;\r\n    }\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<h3>My solution</h3>\n<pre><code>public static boolean moreThanOnce(ArrayList&lt;Integer&gt; list, int searched) \n{\n    int numCount = 0;\n\n    for (int thisNum : list) {\n        if (thisNum == searched) \n            numCount++;\n    }\n    \n    return numCount &gt; 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6588808,"reputation":31,"user_id":5090765,"display_name":"Insektosaurus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673006120,"creation_date":1436293431,"answer_id":31276467,"question_id":14177897,"body_markdown":"I used the following solution to find out whether an ArrayList contains a number more than once. This solution comes very close to [the one listed by user3690146][1], but it does not use a helper variable at all. After running it, you get &quot;The number is listed more than once&quot; as a return message.\r\n\r\n    public class Application {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n            list.add(4);\r\n            list.add(8);\r\n            list.add(1);\r\n            list.add(8);\r\n\r\n            int number = 8;\r\n\r\n            if (NumberMoreThenOnceInArray(list, number)) {\r\n                System.out.println(&quot;The number is listed more than once&quot;);\r\n            } else {\r\n                System.out.println(&quot;The number is not listed more than once&quot;);\r\n            }\r\n        }\r\n\r\n        public static boolean NumberMoreThenOnceInArray(ArrayList&lt;Integer&gt; list, int whichNumber) {\r\n\r\n            int numberCounter = 0;\r\n\r\n            for (int number : list) {\r\n                if (number == whichNumber) {\r\n                    numberCounter++;\r\n                }\r\n            }\r\n\r\n            if (numberCounter &gt; 1) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/14177897/is-it-possible-to-find-out-if-a-value-exists-twice-in-an-arraylist/23948103#23948103\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>I used the following solution to find out whether an ArrayList contains a number more than once. This solution comes very close to <a href=\"https://stackoverflow.com/questions/14177897/is-it-possible-to-find-out-if-a-value-exists-twice-in-an-arraylist/23948103#23948103\">the one listed by user3690146</a>, but it does not use a helper variable at all. After running it, you get &quot;The number is listed more than once&quot; as a return message.</p>\n<pre><code>public class Application {\n\n    public static void main(String[] args) {\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        list.add(4);\n        list.add(8);\n        list.add(1);\n        list.add(8);\n\n        int number = 8;\n\n        if (NumberMoreThenOnceInArray(list, number)) {\n            System.out.println(&quot;The number is listed more than once&quot;);\n        } else {\n            System.out.println(&quot;The number is not listed more than once&quot;);\n        }\n    }\n\n    public static boolean NumberMoreThenOnceInArray(ArrayList&lt;Integer&gt; list, int whichNumber) {\n\n        int numberCounter = 0;\n\n        for (int number : list) {\n            if (number == whichNumber) {\n                numberCounter++;\n            }\n        }\n\n        if (numberCounter &gt; 1) {\n            return true;\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5055907,"reputation":460,"user_id":4059157,"display_name":"Tharika Madurapperuma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472479740,"creation_date":1472479740,"answer_id":39208336,"question_id":14177897,"body_markdown":"By looking at the question, we need to find out whether a **value exists twice** in an ArrayList. So I believe that we can **reduce the overhead** of &quot;going through the entire list just to check whether the value only exists twice&quot; by doing the simple check below.\r\n\r\n    public boolean moreThanOneMatch(int number, ArrayList&lt;Integer&gt; list) {\r\n\r\n        int count = 0;\r\n        for (int num : list) {\r\n            if (num == number) {\r\n                count ++ ;\r\n                if (count == 2) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n ","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>By looking at the question, we need to find out whether a <strong>value exists twice</strong> in an ArrayList. So I believe that we can <strong>reduce the overhead</strong> of \"going through the entire list just to check whether the value only exists twice\" by doing the simple check below.</p>\n\n<pre><code>public boolean moreThanOneMatch(int number, ArrayList&lt;Integer&gt; list) {\n\n    int count = 0;\n    for (int num : list) {\n        if (num == number) {\n            count ++ ;\n            if (count == 2) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006220,"creation_date":1578748868,"answer_id":59694784,"question_id":14177897,"body_markdown":"Here is my solution (in [Kotlin][1]):\r\n\r\n        // getItemsMoreThan(list, 2) -&gt; [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3}\r\n        // getItemsMoreThan(list, 1)-&gt;  [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3, 2.05=2}\r\n        fun getItemsMoreThan(list: List&lt;Any&gt;, moreThan: Int): Map&lt;Any, Int&gt; {\r\n            val mapNumbersByElement: Map&lt;Any, Int&gt; = getHowOftenItemsInList(list)\r\n            val findItem = mapNumbersByElement.filter { it.value &gt; moreThan }\r\n            return findItem\r\n        }\r\n\r\n        // Return(map) how often an items is list.\r\n        // E.g.: [16.44, 200.00, 200.00, 33.33, 200.00, 0.00] -&gt; {16.44=1, 200.00=3, 33.33=1, 0.00=1}\r\n        fun getHowOftenItemsInList(list: List&lt;Any&gt;): Map&lt;Any, Int&gt; {\r\n            val mapNumbersByItem = list.groupingBy { it }.eachCount()\r\n            return mapNumbersByItem\r\n        }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)\r\n\r\n\r\n","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>Here is my solution (in <a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"nofollow noreferrer\">Kotlin</a>):</p>\n<pre><code>    // getItemsMoreThan(list, 2) -&gt; [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3}\n    // getItemsMoreThan(list, 1)-&gt;  [4.45, 333.45, 1.1, 4.45, 333.45, 2.05, 4.45, 333.45, 2.05, 4.45] -&gt; {4.45=4, 333.45=3, 2.05=2}\n    fun getItemsMoreThan(list: List&lt;Any&gt;, moreThan: Int): Map&lt;Any, Int&gt; {\n        val mapNumbersByElement: Map&lt;Any, Int&gt; = getHowOftenItemsInList(list)\n        val findItem = mapNumbersByElement.filter { it.value &gt; moreThan }\n        return findItem\n    }\n\n    // Return(map) how often an items is list.\n    // E.g.: [16.44, 200.00, 200.00, 33.33, 200.00, 0.00] -&gt; {16.44=1, 200.00=3, 33.33=1, 0.00=1}\n    fun getHowOftenItemsInList(list: List&lt;Any&gt;): Map&lt;Any, Int&gt; {\n        val mapNumbersByItem = list.groupingBy { it }.eachCount()\n        return mapNumbersByItem\n    }\n</code></pre>\n"}],"owner":{"account_id":918188,"reputation":6053,"user_id":950506,"accept_rate":81,"display_name":"Chris Headleand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36155,"favorite_count":0,"down_vote_count":6,"up_vote_count":16,"accepted_answer_id":23948103,"answer_count":8,"score":10,"last_activity_date":1673015471,"creation_date":1357431256,"question_id":14177897,"body_markdown":"I have an integer arraylist.. \r\n\r\n    ArrayList &lt;Integer&gt; portList = new ArrayList();\r\n    \r\nI need to check if a specific integer has already been entered twice. Is this possible in Java? ","title":"Is it possible to find out if a value exists twice in an arraylist?","body":"<p>I have an integer arraylist.. </p>\n\n<pre><code>ArrayList &lt;Integer&gt; portList = new ArrayList();\n</code></pre>\n\n<p>I need to check if a specific integer has already been entered twice. Is this possible in Java? </p>\n"},{"tags":["java","jax-rs","spnego"],"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673015455,"creation_date":1671905736,"question_id":74909516,"body_markdown":"I have developed REST API with JAX-RS. The web.xml is configured with SpnegoHttpFilter for  the authentication purpose. The REST API works perfectly with any status code except 401. If  my API returns javax.ws.rs.core.Response with status code 401, the SpnegoHttpFilter throws StringIndexOutOfBoundsException. \r\n\r\nHere is the stacktrace snippet of Spnego error:\r\n\r\n    Exception handling request to /myapi/articles: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(String.java:1931)\r\n\tat net.sourceforge.spnego.SpnegoProvider.getAuthScheme(SpnegoProvider.java:220)\r\n\tat net.sourceforge.spnego.SpnegoProvider.negotiate(SpnegoProvider.java:111)\r\n\tat net.sourceforge.spnego.SpnegoAuthenticator.authenticate(SpnegoAuthenticator.java:315)\r\n\tat net.sourceforge.spnego.SpnegoHttpFilter.doFilter(SpnegoHttpFilter.java:283)\r\n    ....\r\n\t\r\n\r\nI have looked the code of SpnegoProvider class in spnego-r9.jar at the line 220, public static SpnegoAuthScheme getAuthScheme(final String header) method.\r\n\r\nAfter doing some trials and errors, I have found that if I put &quot;WWW-Authenticate&quot; header and return response with 401 status code, SpnegoProvider does not throw StringIndexOutOfBoundsException anymore. Everything works just fine.\r\n\r\nFor example:\r\n\r\n    Response response = Response.status(Status.UNAUTHORIZED)\r\n                                .header(&quot;WWW-Authenticate&quot;, &quot;&quot;)\r\n                                .type(MediaType.APPLICATION_JSON)\r\n                                .build();\r\n\r\nMy questions, \r\n 1. Is it bug in the SpnegoProvider? \r\n 2. Is there any best way to mitigate this issue?\r\n\r\n\r\n\r\n","title":"Why does SpnegoProvider throw StringOutOfIndexException, if status code of the response is 401?","body":"<p>I have developed REST API with JAX-RS. The web.xml is configured with SpnegoHttpFilter for  the authentication purpose. The REST API works perfectly with any status code except 401. If  my API returns javax.ws.rs.core.Response with status code 401, the SpnegoHttpFilter throws StringIndexOutOfBoundsException.</p>\n<p>Here is the stacktrace snippet of Spnego error:</p>\n<pre><code>Exception handling request to /myapi/articles: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.substring(String.java:1931)\nat net.sourceforge.spnego.SpnegoProvider.getAuthScheme(SpnegoProvider.java:220)\nat net.sourceforge.spnego.SpnegoProvider.negotiate(SpnegoProvider.java:111)\nat net.sourceforge.spnego.SpnegoAuthenticator.authenticate(SpnegoAuthenticator.java:315)\nat net.sourceforge.spnego.SpnegoHttpFilter.doFilter(SpnegoHttpFilter.java:283)\n....\n</code></pre>\n<p>I have looked the code of SpnegoProvider class in spnego-r9.jar at the line 220, public static SpnegoAuthScheme getAuthScheme(final String header) method.</p>\n<p>After doing some trials and errors, I have found that if I put &quot;WWW-Authenticate&quot; header and return response with 401 status code, SpnegoProvider does not throw StringIndexOutOfBoundsException anymore. Everything works just fine.</p>\n<p>For example:</p>\n<pre><code>Response response = Response.status(Status.UNAUTHORIZED)\n                            .header(&quot;WWW-Authenticate&quot;, &quot;&quot;)\n                            .type(MediaType.APPLICATION_JSON)\n                            .build();\n</code></pre>\n<p>My questions,</p>\n<ol>\n<li>Is it bug in the SpnegoProvider?</li>\n<li>Is there any best way to mitigate this issue?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","snakeyaml"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1672967175,"post_id":74855701,"comment_id":132398232,"body_markdown":"So, from what I understand, is that you want to annotate your test with `@SpringBootTest` but not load any beans except `GamesConfig`?.","body":"So, from what I understand, is that you want to annotate your test with <code>@SpringBootTest</code> but not load any beans except <code>GamesConfig</code>?."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1672981619,"post_id":74855701,"comment_id":132400192,"body_markdown":"Not really as this will still take much longer to execute comparing to a unit test because spring boot will still have to do their initialisation stuff. What we want instead, is to build that config ourselves by loading yaml file in a map and then resolve `my-games-app.games`. The issue is that snakeyaml resolves the `game-one.game-name` as `${my-games-app.base-property}one` rather than resolving the placeholder and resolve to `fooone`. Snakeyaml seems to be a pretty good library and my question was about can snakeyaml (or other library) be configured in such a way to resolve the placeholders?","body":"Not really as this will still take much longer to execute comparing to a unit test because spring boot will still have to do their initialisation stuff. What we want instead, is to build that config ourselves by loading yaml file in a map and then resolve <code>my-games-app.games</code>. The issue is that snakeyaml resolves the <code>game-one.game-name</code> as <code>${my-games-app.base-property}one</code> rather than resolving the placeholder and resolve to <code>fooone</code>. Snakeyaml seems to be a pretty good library and my question was about can snakeyaml (or other library) be configured in such a way to resolve the placeholders?"}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673014935,"creation_date":1673014935,"answer_id":75032144,"question_id":74855701,"body_markdown":"To my knowledge, SnakeYAML only supports [substitution of environment variables](https://bitbucket.org/snakeyaml/snakeyaml/wiki/Variable%20substitution), which is why what you want is not possible as far as I know. What you can do instead, of course, is simply use Spring&#39;s classes without setting up a full `ApplicationContext`.\r\n\r\nFor example, assuming your game config from above, you could use:\r\n\r\n```java\r\nfinal var loader = new YamlPropertySourceLoader();\r\nfinal var sources = loader.load(\r\n        &quot;games-config.yml&quot;,\r\n        new ClassPathResource(&quot;games-config.yml&quot;)\r\n);\r\nfinal var mutablePropertySources = new MutablePropertySources();\r\nsources.forEach(mutablePropertySources::addFirst);\r\n\r\nfinal var resolver = new PropertySourcesPropertyResolver(mutablePropertySources);\r\nresolver.setIgnoreUnresolvableNestedPlaceholders(true);\r\n\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-name&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-location&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-name&quot;));\r\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-location&quot;));\r\n```\r\n\r\nwhich outputs:\r\n\r\n```text\r\nfooone\r\nfoo/one\r\nfootwo\r\nfoo/two\r\n```\r\n\r\nIf you are actually interested in how Spring does it, a good starting point is the [source code](https://github.com/spring-projects/spring-framework/blob/e565d2cabb01539933195b0d1bc3b55992fb9c84/spring-context/src/main/java/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.java) of the [`PropertySourcesPlaceholderConfigurer`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html) class.","title":"Snake Yaml: How to load yaml file resolving property placeholders","body":"<p>To my knowledge, SnakeYAML only supports <a href=\"https://bitbucket.org/snakeyaml/snakeyaml/wiki/Variable%20substitution\" rel=\"nofollow noreferrer\">substitution of environment variables</a>, which is why what you want is not possible as far as I know. What you can do instead, of course, is simply use Spring's classes without setting up a full <code>ApplicationContext</code>.</p>\n<p>For example, assuming your game config from above, you could use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var loader = new YamlPropertySourceLoader();\nfinal var sources = loader.load(\n        &quot;games-config.yml&quot;,\n        new ClassPathResource(&quot;games-config.yml&quot;)\n);\nfinal var mutablePropertySources = new MutablePropertySources();\nsources.forEach(mutablePropertySources::addFirst);\n\nfinal var resolver = new PropertySourcesPropertyResolver(mutablePropertySources);\nresolver.setIgnoreUnresolvableNestedPlaceholders(true);\n\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-name&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[0].game-one.game-location&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-name&quot;));\nSystem.out.println(resolver.getProperty(&quot;my-games-app.games[1].game-two.game-location&quot;));\n</code></pre>\n<p>which outputs:</p>\n<pre><code>fooone\nfoo/one\nfootwo\nfoo/two\n</code></pre>\n<p>If you are actually interested in how Spring does it, a good starting point is the <a href=\"https://github.com/spring-projects/spring-framework/blob/e565d2cabb01539933195b0d1bc3b55992fb9c84/spring-context/src/main/java/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.java\" rel=\"nofollow noreferrer\">source code</a> of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/PropertySourcesPlaceholderConfigurer.html\" rel=\"nofollow noreferrer\"><code>PropertySourcesPlaceholderConfigurer</code></a> class.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75032144,"answer_count":1,"score":1,"last_activity_date":1673014935,"creation_date":1671481925,"question_id":74855701,"body_markdown":"We have a spring boot application with configuration being driven from `application.yml` file. In this configuration file we use the feature of defining a property by referring to another property inside the same `application.yml` file:\r\n\r\n    my-games-app:\r\n      base-property: foo\r\n      games:\r\n        - game-one:\r\n            game-name: ${my-games-app.base-property}one\r\n            game-location: ${my-games-app.base-property}/one\r\n        - game-two:\r\n            game-name: ${my-games-app.base-property}two\r\n            game-location: ${my-games-app.base-property}/two\r\n\r\nAnd we have a `@ConfigurationProperties` bean loading `games` configuration:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;my-games-app.games&quot;)\r\n    public class GamesConfig {\r\n        private Map&lt;String, Game&gt; games;\r\n        ...\r\n    }\r\n\r\nUseless to say the above is just an example, in reality it is a very complex setup with `GamesConfig` bean being used as a constructor argument for many other beans inside our application:\r\n\r\n    @Component\r\n    public class GamesRunner {\r\n        private final GamesConfig gamesConfig;\r\n        ...\r\n    }\r\n\r\nEverything works as expected. The problem we have is related to testing the beans where `GamesConfig` is injected; in the above example `GamesRunner`. At the moment we use `@SpringBootTest` to get hold of the beans we want to test. This again, works OK but the main inconvenient is that the whole application needs to be started in order to access the `GamesConfig` bean. This means setting up a lot of infrastructure such as a Database a JMS message broker and a Kafka broker. This takes time and makes our CI builds longer to run which started to become a bit of an inconvenient. Because the beans we want to test don&#39;t need any other setup than having the `GamesConfig` constructor argument provided we would prefer to have unit tests in place rather than integration tests as they are much faster to run.\r\n\r\nIn other words, we want to be able to recreate `GamesConfig` by hand by parsing our `application.yml` with a test helper method. To do this we use [snakeyaml](https://github.com/snakeyaml) library:\r\n\r\n    public final class TestHelper {\r\n        public static GamesConfig getGamesConfig() {\r\n            var yaml = new Yaml();\r\n            var applicationYaml = (Map&lt;String, Object&gt;) yaml.load(readResourceAsString(&quot;application.yml&quot;);\r\n            return createGamesConfig(applicationYaml.get(&quot;games&quot;);\r\n       }\r\n       \r\n       private static GamesConfig createGamesConfig(Object config) {\r\n          // The config Object passed here is a `Map&lt;String, Map&lt;String, String&gt;&gt;`\r\n          // as defeined in our `games` entry in our `application.yml`.\r\n          // The issue is that game name and game locations are loaded exactly like \r\n          // configured without property place holders being resolved\r\n         return gamesConfig;\r\n       }\r\n    }\r\n\r\nWe resolved the issue by manually parsing the property placeholders and looking up their values in the `application.yml` file. Even if our own property placeholder implementation is quite generic, my feeling is that this extra work is not needed as it should be a basic expectation the library would have some specific set up to do this out of the box. Being very new to snakeyaml I hope someone else hit the same problem and knows how to do it.\r\n\r\nWe use snakeyaml because it just happened to be in the class path as a transitive dependency, we are open to any suggestions that would achieve the same thing.\r\n\r\nThank you in advance.  ","title":"Snake Yaml: How to load yaml file resolving property placeholders","body":"<p>We have a spring boot application with configuration being driven from <code>application.yml</code> file. In this configuration file we use the feature of defining a property by referring to another property inside the same <code>application.yml</code> file:</p>\n<pre><code>my-games-app:\n  base-property: foo\n  games:\n    - game-one:\n        game-name: ${my-games-app.base-property}one\n        game-location: ${my-games-app.base-property}/one\n    - game-two:\n        game-name: ${my-games-app.base-property}two\n        game-location: ${my-games-app.base-property}/two\n</code></pre>\n<p>And we have a <code>@ConfigurationProperties</code> bean loading <code>games</code> configuration:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;my-games-app.games&quot;)\npublic class GamesConfig {\n    private Map&lt;String, Game&gt; games;\n    ...\n}\n</code></pre>\n<p>Useless to say the above is just an example, in reality it is a very complex setup with <code>GamesConfig</code> bean being used as a constructor argument for many other beans inside our application:</p>\n<pre><code>@Component\npublic class GamesRunner {\n    private final GamesConfig gamesConfig;\n    ...\n}\n</code></pre>\n<p>Everything works as expected. The problem we have is related to testing the beans where <code>GamesConfig</code> is injected; in the above example <code>GamesRunner</code>. At the moment we use <code>@SpringBootTest</code> to get hold of the beans we want to test. This again, works OK but the main inconvenient is that the whole application needs to be started in order to access the <code>GamesConfig</code> bean. This means setting up a lot of infrastructure such as a Database a JMS message broker and a Kafka broker. This takes time and makes our CI builds longer to run which started to become a bit of an inconvenient. Because the beans we want to test don't need any other setup than having the <code>GamesConfig</code> constructor argument provided we would prefer to have unit tests in place rather than integration tests as they are much faster to run.</p>\n<p>In other words, we want to be able to recreate <code>GamesConfig</code> by hand by parsing our <code>application.yml</code> with a test helper method. To do this we use <a href=\"https://github.com/snakeyaml\" rel=\"nofollow noreferrer\">snakeyaml</a> library:</p>\n<pre><code>public final class TestHelper {\n    public static GamesConfig getGamesConfig() {\n        var yaml = new Yaml();\n        var applicationYaml = (Map&lt;String, Object&gt;) yaml.load(readResourceAsString(&quot;application.yml&quot;);\n        return createGamesConfig(applicationYaml.get(&quot;games&quot;);\n   }\n   \n   private static GamesConfig createGamesConfig(Object config) {\n      // The config Object passed here is a `Map&lt;String, Map&lt;String, String&gt;&gt;`\n      // as defeined in our `games` entry in our `application.yml`.\n      // The issue is that game name and game locations are loaded exactly like \n      // configured without property place holders being resolved\n     return gamesConfig;\n   }\n}\n</code></pre>\n<p>We resolved the issue by manually parsing the property placeholders and looking up their values in the <code>application.yml</code> file. Even if our own property placeholder implementation is quite generic, my feeling is that this extra work is not needed as it should be a basic expectation the library would have some specific set up to do this out of the box. Being very new to snakeyaml I hope someone else hit the same problem and knows how to do it.</p>\n<p>We use snakeyaml because it just happened to be in the class path as a transitive dependency, we are open to any suggestions that would achieve the same thing.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","kotlin","gradle","jar"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1672999469,"post_id":75029049,"comment_id":132403855,"body_markdown":"It&#39;s possible to create a &#39;far sources&#39; jar, but it could be difficult. Are you sure that&#39;s really want you want, or is this an [X-Y problem](https://meta.stackexchange.com/q/66377/262203)? Do you only want to include local project sources, or also sources from remote dependencies? It suspect it  would be much easier to [publish the projects](https://docs.gradle.org/7.6/userguide/publishing_maven.html) and use [`withSourcesJar()`](https://docs.gradle.org/7.6/userguide/java_plugin.html#sec:java-extension).","body":"It&#39;s possible to create a &#39;far sources&#39; jar, but it could be difficult. Are you sure that&#39;s really want you want, or is this an <a href=\"https://meta.stackexchange.com/q/66377/262203\">X-Y problem</a>? Do you only want to include local project sources, or also sources from remote dependencies? It suspect it  would be much easier to <a href=\"https://docs.gradle.org/7.6/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">publish the projects</a> and use <a href=\"https://docs.gradle.org/7.6/userguide/java_plugin.html#sec:java-extension\" rel=\"nofollow noreferrer\"><code>withSourcesJar()</code></a>."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673000625,"post_id":75029049,"comment_id":132404206,"body_markdown":"@aSemy I will check out the anwer to my side question thanks. In this case i have all sources stored locally. Including all the sources of dependencies. (No remote dependencies). I have tried to publish projects some time ago. But i had some issues, [link](https://stackoverflow.com/questions/72409742/gradle-task-signmavenjavapublication-failed-because-it-has-no-configured-signat)","body":"@aSemy I will check out the anwer to my side question thanks. In this case i have all sources stored locally. Including all the sources of dependencies. (No remote dependencies). I have tried to publish projects some time ago. But i had some issues, <a href=\"https://stackoverflow.com/questions/72409742/gradle-task-signmavenjavapublication-failed-because-it-has-no-configured-signat\">link</a>"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673000823,"post_id":75029049,"comment_id":132404268,"body_markdown":"@aSemy I want to pack all sources into one jar for simplicity. I have a library (my multi-project build) And the library has dependencies (all stored locally) Now i want to use the library in a new project. So i need the sources.","body":"@aSemy I want to pack all sources into one jar for simplicity. I have a library (my multi-project build) And the library has dependencies (all stored locally) Now i want to use the library in a new project. So i need the sources."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673001309,"post_id":75029049,"comment_id":132404392,"body_markdown":"@aSemy so for my side question: [sourceSet](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html) is what i am looking for? I will read more into it. Thanks","body":"@aSemy so for my side question: <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html\" rel=\"nofollow noreferrer\">sourceSet</a> is what i am looking for? I will read more into it. Thanks"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673011891,"post_id":75029049,"comment_id":132407341,"body_markdown":"@aSemy i could ask it differently. If i have a sources jar file in a directory. Could i add that to the source files that i generate when running the &quot;sourcesJar&quot; task.","body":"@aSemy i could ask it differently. If i have a sources jar file in a directory. Could i add that to the source files that i generate when running the &quot;sourcesJar&quot; task."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673012195,"post_id":75029049,"comment_id":132407434,"body_markdown":"Sorry, I misunderstood your side question. Perhaps you should ask it in another question.","body":"Sorry, I misunderstood your side question. Perhaps you should ask it in another question."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673012259,"post_id":75029049,"comment_id":132407461,"body_markdown":"_Now i want to use the library in a new project. So i need the sources._ Sorry, I don&#39;t understand, you shouldn&#39;t need the sources to be able to use a project as a dependency.","body":"<i>Now i want to use the library in a new project. So i need the sources.</i> Sorry, I don&#39;t understand, you shouldn&#39;t need the sources to be able to use a project as a dependency."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673012797,"post_id":75029049,"comment_id":132407655,"body_markdown":"@aSemy Maybe i am misunderstanding how it works. The reason why i want this, is to be able to see .java classes in the IDE. So when i select &quot;Choose sources...&quot; in the IDE i can select a single .jar with all the source files.","body":"@aSemy Maybe i am misunderstanding how it works. The reason why i want this, is to be able to see .java classes in the IDE. So when i select &quot;Choose sources...&quot; in the IDE i can select a single .jar with all the source files."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673012893,"post_id":75029049,"comment_id":132407689,"body_markdown":"instead of selecting every single source .jar individually","body":"instead of selecting every single source .jar individually"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673013050,"post_id":75029049,"comment_id":132407749,"body_markdown":"I create a fat jar of the library including all dependencies. So when i use this library i want a single source .jar of that library. The code i have written. And the the code of the library dependencies","body":"I create a fat jar of the library including all dependencies. So when i use this library i want a single source .jar of that library. The code i have written. And the the code of the library dependencies"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1673013788,"post_id":75029049,"comment_id":132408021,"body_markdown":"I will try to update the question to be more specific :)","body":"I will try to update the question to be more specific :)"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673090069,"post_id":75029049,"comment_id":132422336,"body_markdown":"Try taking a look at this example for aggregating JaCoCo reports: https://docs.gradle.org/7.3/samples/sample_jvm_multi_project_with_code_coverage.html. You should focus on the `transitiveSourcesElements` and `sourcesPath` Configurations. Use `java.withSourcesJar()`, so the Java Plugin will create a `sourcesJar` task - add the `sourcesPath` Configuration to this task the same way you added the `runtimeClasspath` to the `jar` task.","body":"Try taking a look at this example for aggregating JaCoCo reports: <a href=\"https://docs.gradle.org/7.3/samples/sample_jvm_multi_project_with_code_coverage.html\" rel=\"nofollow noreferrer\">docs.gradle.org/7.3/samples/&hellip;</a>. You should focus on the <code>transitiveSourcesElements</code> and <code>sourcesPath</code> Configurations. Use <code>java.withSourcesJar()</code>, so the Java Plugin will create a <code>sourcesJar</code> task - add the <code>sourcesPath</code> Configuration to this task the same way you added the <code>runtimeClasspath</code> to the <code>jar</code> task."}],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673014757,"creation_date":1672997053,"question_id":75029049,"body_markdown":"I have a multi-project gradle build, using kotlin as build script language.\r\n\r\nI can build a &quot;fat&quot; jar containing all project dependencies (.class files)\r\nI am not sure how it works. But it goes through all dependencies and exclude duplicate packages.\r\n\r\n```\r\ntasks.jar {\r\n    //manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree) // OR .map { zipTree(it) }\r\n    from(dependencies)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\n**Is there some equivalent way to create a sources jar. Including the source code\r\nof all dependencies?**\r\n\r\nSide question: Can you declare sources like dependencies?\r\n\r\n```\r\ndependencies {\r\n    implementation(project(&quot;:common&quot;))\r\n    implementation(files(&quot;../libs/somejar1.jar&quot;))\r\n    implementation(files(&quot;../libs/somejar2.jar&quot;))\r\n}\r\n\r\nsources {\r\n    ?\r\n}\r\n\r\n```\r\n\r\n**Edit**\r\n\r\nI have written a library. The library has code I have written (multiple modules). The modules have dependencies. (Could be other modules within the project, and/or other libraries) I have the other libraries&#39; as jar files stored locally together with the source code of those libraries.\r\n\r\nI am able to pack all the code I have written together with my codes dependencies into a single fat jar.\r\n\r\nIt would be nice to also be able to pack all source files (including the source files of the dependencies) into a &quot;fat sources jar&quot;.\r\n\r\nThat way, when I want to use my library in other projects. I can have 2 jars. One with all the .class files and one sources jar with all the .java files.\r\n\r\n","title":"Creating a sources jar that also include the source code of project dependencies","body":"<p>I have a multi-project gradle build, using kotlin as build script language.</p>\n<p>I can build a &quot;fat&quot; jar containing all project dependencies (.class files)\nI am not sure how it works. But it goes through all dependencies and exclude duplicate packages.</p>\n<pre><code>tasks.jar {\n    //manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p><strong>Is there some equivalent way to create a sources jar. Including the source code\nof all dependencies?</strong></p>\n<p>Side question: Can you declare sources like dependencies?</p>\n<pre><code>dependencies {\n    implementation(project(&quot;:common&quot;))\n    implementation(files(&quot;../libs/somejar1.jar&quot;))\n    implementation(files(&quot;../libs/somejar2.jar&quot;))\n}\n\nsources {\n    ?\n}\n\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>I have written a library. The library has code I have written (multiple modules). The modules have dependencies. (Could be other modules within the project, and/or other libraries) I have the other libraries' as jar files stored locally together with the source code of those libraries.</p>\n<p>I am able to pack all the code I have written together with my codes dependencies into a single fat jar.</p>\n<p>It would be nice to also be able to pack all source files (including the source files of the dependencies) into a &quot;fat sources jar&quot;.</p>\n<p>That way, when I want to use my library in other projects. I can have 2 jars. One with all the .class files and one sources jar with all the .java files.</p>\n"},{"tags":["java","selenium","google-chrome","session-cookies","incognito-mode"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673014283,"creation_date":1673014283,"answer_id":75032025,"question_id":75031979,"body_markdown":"In case you want to open a new window in incognito mode i.e. without cookies you can simply open a regular new Selenium driver new window and the to clear the cookies with the following command:\r\n```java\r\ndriver.manage().deleteAllCookies();\r\n```","title":"How to open incognito window from current instance?","body":"<p>In case you want to open a new window in incognito mode i.e. without cookies you can simply open a regular new Selenium driver new window and the to clear the cookies with the following command:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.manage().deleteAllCookies();\n</code></pre>\n"}],"owner":{"account_id":27453778,"reputation":1,"user_id":20945560,"display_name":"Narandar Darna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673014351,"creation_date":1673014007,"question_id":75031979,"body_markdown":"I have a situation where I need to open a link incognito window from another url.   \r\nI have tried by using action class to perform control shift n key events but it&#39;s not working.   \r\n\r\nRobot class working fine but I&#39;m looking for other alternative.  \r\n\r\n```java\r\nActions act = new Actions(driver);\r\n\r\nact. KeyDown(Keys.cONTROL);\r\n\r\nact.keyDown(Keys.SHIFT);\r\n\r\nact.keyDown(&quot;n&quot;).build().  perform ();\r\n```\r\nBut it&#39;s not working  ","title":"How to open incognito window from current instance?","body":"<p>I have a situation where I need to open a link incognito window from another url.<br />\nI have tried by using action class to perform control shift n key events but it's not working.</p>\n<p>Robot class working fine but I'm looking for other alternative.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Actions act = new Actions(driver);\n\nact. KeyDown(Keys.cONTROL);\n\nact.keyDown(Keys.SHIFT);\n\nact.keyDown(&quot;n&quot;).build().  perform ();\n</code></pre>\n<p>But it's not working</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1228921728,"creation_date":1228921728,"answer_id":356388,"question_id":356345,"body_markdown":"You could run something like FindBugs on it.\r\n\r\n[FindBugs][1]\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/\r\n\r\nLooking at the bug list it has \r\n\r\nUuF: Unused field (UUF_UNUSED_FIELD)\r\nThis field is never used.  Consider removing it from the class.\r\n\r\nYou could filter on just this, but it is a good idea to run this on all code all the time, it is amazing what it finds.\r\n\r\n","title":"Find all unused variable","body":"<p>You could run something like FindBugs on it.</p>\n\n<p><a href=\"http://findbugs.sourceforge.net/\" rel=\"noreferrer\">FindBugs</a></p>\n\n<p>Looking at the bug list it has </p>\n\n<p>UuF: Unused field (UUF_UNUSED_FIELD)\nThis field is never used.  Consider removing it from the class.</p>\n\n<p>You could filter on just this, but it is a good idea to run this on all code all the time, it is amazing what it finds.</p>\n"},{"tags":[],"owner":{"account_id":16527,"reputation":8987,"user_id":36093,"accept_rate":100,"display_name":"Karl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228922250,"creation_date":1228922250,"answer_id":356424,"question_id":356345,"body_markdown":"In Eclipse, that gray squiggly line is a yellow squiggly line called a Warning.  Then the warning is propagated up to the package level, and up to the project level (such that your project is almost **always** underlined in yellow with a warning icon).  Anyway it really helps you see which source files have warnings in them.\r\n\r\nThen your task is to solve every warning in the entire project, and you will have caught the unhandled variables.  \r\n\r\nI assume netbeans has the same feature somewhere.","title":"Find all unused variable","body":"<p>In Eclipse, that gray squiggly line is a yellow squiggly line called a Warning.  Then the warning is propagated up to the package level, and up to the project level (such that your project is almost <strong>always</strong> underlined in yellow with a warning icon).  Anyway it really helps you see which source files have warnings in them.</p>\n\n<p>Then your task is to solve every warning in the entire project, and you will have caught the unhandled variables.  </p>\n\n<p>I assume netbeans has the same feature somewhere.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228922970,"creation_date":1228922970,"answer_id":356477,"question_id":356345,"body_markdown":"The compiler will warn about unused variables giving you your list.  \r\n\r\nUnused method variables will be removed by the compiler but unused member variables remain, which depending on the state of your codebase may make this a cosmetic problem that can be handled as and when each file is modified rather than a conserted effort to remove all unused variables in one go.\r\n\r\nSaying that, I generally like my builds to run with no warnings, so that when I genuinely break something I notice the warning.  Maybe this is the clean-up you are looking for ;-)","title":"Find all unused variable","body":"<p>The compiler will warn about unused variables giving you your list.  </p>\n\n<p>Unused method variables will be removed by the compiler but unused member variables remain, which depending on the state of your codebase may make this a cosmetic problem that can be handled as and when each file is modified rather than a conserted effort to remove all unused variables in one go.</p>\n\n<p>Saying that, I generally like my builds to run with no warnings, so that when I genuinely break something I notice the warning.  Maybe this is the clean-up you are looking for ;-)</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673014329,"creation_date":1228923763,"answer_id":356517,"question_id":356345,"body_markdown":"[PMD][1] will find unused local variables for you (among many other things).  There&#39;s a NetBeans plugin that I give installation instructions for [here][2] (Warning: Shameless Plug, that links to my blog).\r\n\r\n\r\n  [1]: https://pmd.github.io/\r\n  [2]: https://billthelizard.blogspot.com/2008/11/netbeans-pmd-plugin.html","title":"Find all unused variable","body":"<p><a href=\"https://pmd.github.io/\" rel=\"nofollow noreferrer\">PMD</a> will find unused local variables for you (among many other things).  There's a NetBeans plugin that I give installation instructions for <a href=\"https://billthelizard.blogspot.com/2008/11/netbeans-pmd-plugin.html\" rel=\"nofollow noreferrer\">here</a> (Warning: Shameless Plug, that links to my blog).</p>\n"}],"owner":{"account_id":5922,"reputation":1711,"user_id":9774,"accept_rate":67,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9809,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1673014329,"creation_date":1228920894,"question_id":356345,"body_markdown":"Normally it&#39;s easy to see unused variables in Netbeans, just a grey squiggly line. \r\n\r\nBut how would I find all of these unused variables in my project or of a single class?\r\n\r\n***Reason:*** I&#39;m debugging a code base which had lots of copy and paste, but it wasn&#39;t done carefully.  There&#39;s many bug of not replacing with the right variable after copy and paste.","title":"Find all unused variable","body":"<p>Normally it's easy to see unused variables in Netbeans, just a grey squiggly line. </p>\n\n<p>But how would I find all of these unused variables in my project or of a single class?</p>\n\n<p><strong><em>Reason:</em></strong> I'm debugging a code base which had lots of copy and paste, but it wasn't done carefully.  There's many bug of not replacing with the right variable after copy and paste.</p>\n"},{"tags":["java","spring-boot","thread-safety"],"owner":{"account_id":7638596,"reputation":67,"user_id":5791432,"accept_rate":75,"display_name":"sascha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673014118,"creation_date":1673014118,"question_id":75031996,"body_markdown":"I wan`t to use following library in Spring Boot: https://github.com/hbci4j/hbci4java.\r\n\r\nUnfortunately this library is not that nice, so depending on the [Documentation][1] (German) I should run this Library inside a ThreadGroup (Because of Configuration)\r\n\r\nTherefore I would like to know how to run an @Async Method from SpringBoot inside a ThreadGroup (and I need to change the ThreadGroup Name)\r\n\r\n\r\n\r\n  [1]: https://github.com/hbci4j/hbci4java/blob/master/misc/README.MultiThreading.AppServer","title":"Using ThreadGroups with Spring Boot","body":"<p>I wan`t to use following library in Spring Boot: <a href=\"https://github.com/hbci4j/hbci4java\" rel=\"nofollow noreferrer\">https://github.com/hbci4j/hbci4java</a>.</p>\n<p>Unfortunately this library is not that nice, so depending on the <a href=\"https://github.com/hbci4j/hbci4java/blob/master/misc/README.MultiThreading.AppServer\" rel=\"nofollow noreferrer\">Documentation</a> (German) I should run this Library inside a ThreadGroup (Because of Configuration)</p>\n<p>Therefore I would like to know how to run an @Async Method from SpringBoot inside a ThreadGroup (and I need to change the ThreadGroup Name)</p>\n"},{"tags":["java","object","instanceof"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1429128472,"post_id":3920928,"comment_id":47459258,"body_markdown":"Your given instructions have a faulty hint: see http://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals","body":"Your given instructions have a faulty hint: see <a href=\"http://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals\" title=\"any reason to prefer getclass over instanceof when generating equals\">stackoverflow.com/questions/596462/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286953997,"creation_date":1286946577,"answer_id":3920939,"question_id":3920928,"body_markdown":"He clearly said create an `equals()` method, and you got it right here as well. But even after all this you created a method named `instanceOf()`. Why?\r\n\r\nMoreover, you may get a [ClassCastException][1] on this line, in case some other type of object is passed.\r\n\r\n        if ((Position)a instanceof Position)\r\n\r\nWhich means, precisely, that you should only cast the `object` to `Position`, after making sure that the `object` passed is of type `Position`. Which means now its good to go further with comparison. If its not of type `Position` in the first place, then why should you bother comparing it further. Because it can never be equal. I hope you are getting my point.\r\n\r\n**[Edited to answer the question in comment]**\r\n\r\nWell, the actual instance should be of type Position. Once we know that its of type Position using instanceof operator, we know its safe to cast it to type Position from type Object. Now the question is why we need to cast? Because initially the instance was of type Object, and we were not sure about the actual type. You might already know that in Java you can assign any type to Object type, because Object is a parent of every class in Java. Hence, before applying instanceof we were not sure about the type of instance.\r\n\t\r\nIn case, you don&#39;t cast it, you will never be able to access its properties, namely, x, y, and id. You can try accessing any of these on actual object without casting. You will know you can&#39;t. Hence, you can&#39;t compare those either. I hope, this made it clear.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassCastException.html","title":"Java objects instanceof","body":"<p>He clearly said create an <code>equals()</code> method, and you got it right here as well. But even after all this you created a method named <code>instanceOf()</code>. Why?</p>\n\n<p>Moreover, you may get a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassCastException.html\" rel=\"nofollow\">ClassCastException</a> on this line, in case some other type of object is passed.</p>\n\n<pre><code>    if ((Position)a instanceof Position)\n</code></pre>\n\n<p>Which means, precisely, that you should only cast the <code>object</code> to <code>Position</code>, after making sure that the <code>object</code> passed is of type <code>Position</code>. Which means now its good to go further with comparison. If its not of type <code>Position</code> in the first place, then why should you bother comparing it further. Because it can never be equal. I hope you are getting my point.</p>\n\n<p><strong>[Edited to answer the question in comment]</strong></p>\n\n<p>Well, the actual instance should be of type Position. Once we know that its of type Position using instanceof operator, we know its safe to cast it to type Position from type Object. Now the question is why we need to cast? Because initially the instance was of type Object, and we were not sure about the actual type. You might already know that in Java you can assign any type to Object type, because Object is a parent of every class in Java. Hence, before applying instanceof we were not sure about the type of instance.</p>\n\n<p>In case, you don't cast it, you will never be able to access its properties, namely, x, y, and id. You can try accessing any of these on actual object without casting. You will know you can't. Hence, you can't compare those either. I hope, this made it clear.</p>\n"},{"tags":[],"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673013670,"creation_date":1286946685,"answer_id":3920945,"question_id":3920928,"body_markdown":"As this is a homework question, I won&#39;t give a detail answer. \r\nYou have to implement a `equals()` method, not a `instanceOf()` method.  I think this link  help:\r\n\r\n - http://www.ibiblio.org/java/course/week4/37.html\r\n - http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\r\n\r\nThe code example in them should be sufficient. Ask again if you need more hint.","title":"Java objects instanceof","body":"<p>As this is a homework question, I won't give a detail answer.\nYou have to implement a <code>equals()</code> method, not a <code>instanceOf()</code> method.  I think this link  help:</p>\n<ul>\n<li><a href=\"http://www.ibiblio.org/java/course/week4/37.html\" rel=\"nofollow noreferrer\">http://www.ibiblio.org/java/course/week4/37.html</a></li>\n<li><a href=\"http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\" rel=\"nofollow noreferrer\">http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html</a></li>\n</ul>\n<p>The code example in them should be sufficient. Ask again if you need more hint.</p>\n"},{"tags":[],"owner":{"account_id":3086013,"reputation":13,"user_id":2613121,"display_name":"Novamartin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488257688,"creation_date":1418264690,"answer_id":27414353,"question_id":3920928,"body_markdown":"Even though the `Object a` is of a `Position` type, but it is defined as `Object` type. In order to access the properties of `Position a`, we have to cast `Object a` to `Position p` using \r\n\r\n    Position p = (Position)a; \r\n","title":"Java objects instanceof","body":"<p>Even though the <code>Object a</code> is of a <code>Position</code> type, but it is defined as <code>Object</code> type. In order to access the properties of <code>Position a</code>, we have to cast <code>Object a</code> to <code>Position p</code> using </p>\n\n<pre><code>Position p = (Position)a; \n</code></pre>\n"}],"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3920945,"answer_count":3,"score":0,"last_activity_date":1673013670,"creation_date":1286946447,"question_id":3920928,"body_markdown":"The instructions say:\r\nCreate an equals method that takes an object reference and returns true if the given object equals this object.\r\n * Hint: You&#39;ll need &#39;instanceof&#39; and cast to a (Position)\r\n\r\nI have:\r\n\r\n    class Position {\r\n    \t\r\n    \tprivate double x,y;\r\n    \tprivate int id;\r\n    \r\n    public boolean instanceOf(Object a)\r\n    \t{\r\n    \t\tboolean isInstance;\r\n    \t\tif ((Position)a instanceof Position)\r\n    \t\t\tisInstance=true;\r\n    \t\telse\r\n    \t\t\tisInstance=false;\r\n    \t\treturn isInstance;\r\n    \t}\r\n\r\nBut I&#39;m doing it wrong, and I dont know what my problem is. I&#39;m new to objects so this is kind of confusing me..","title":"Java objects instanceof","body":"<p>The instructions say:\nCreate an equals method that takes an object reference and returns true if the given object equals this object.\n * Hint: You'll need 'instanceof' and cast to a (Position)</p>\n\n<p>I have:</p>\n\n<pre><code>class Position {\n\n    private double x,y;\n    private int id;\n\npublic boolean instanceOf(Object a)\n    {\n        boolean isInstance;\n        if ((Position)a instanceof Position)\n            isInstance=true;\n        else\n            isInstance=false;\n        return isInstance;\n    }\n</code></pre>\n\n<p>But I'm doing it wrong, and I dont know what my problem is. I'm new to objects so this is kind of confusing me..</p>\n"},{"tags":["java","object","hash","equality"],"answers":[{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333457714,"creation_date":1333457714,"answer_id":9993714,"question_id":9993660,"body_markdown":"You just need your object to implement the `Comparable` [interface][1] and code your logic in the `compareTo` method. Here&#39;s a good [link][2] to help you achieve that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html","title":"Finding same objects in Java","body":"<p>You just need your object to implement the <code>Comparable</code> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">interface</a> and code your logic in the <code>compareTo</code> method. Here's a good <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow\">link</a> to help you achieve that.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673013561,"creation_date":1333457886,"answer_id":9993756,"question_id":9993660,"body_markdown":"Just compare their area first in `equals` (after the `==` and type check of course), and return `false` if these differ. If the areas equal, go on and compare the sets.\r\n\r\nFor implementing `equals` (and `hashCode`) in general, here is [a relevant thread][1] and [a good article][2] (including several further references).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\r\n  [2]: http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html","title":"Finding same objects in Java","body":"<p>Just compare their area first in <code>equals</code> (after the <code>==</code> and type check of course), and return <code>false</code> if these differ. If the areas equal, go on and compare the sets.</p>\n<p>For implementing <code>equals</code> (and <code>hashCode</code>) in general, here is <a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">a relevant thread</a> and <a href=\"http://www.billthelizard.blogspot.com/2008/08/implementing-equals-in-java.html\" rel=\"nofollow noreferrer\">a good article</a> (including several further references).</p>\n"},{"tags":[],"owner":{"account_id":1029088,"reputation":31784,"user_id":1037767,"display_name":"Alexander Pavlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333458003,"creation_date":1333458003,"answer_id":9993800,"question_id":9993660,"body_markdown":"A rule of thumb is that you should compare all relevant fields in your `equals()` implementation (fastest first, so compare your `area`s up front, then the integer sets) and use THE SAME fields in your `hashCode()`. If in doubt, use Eclipse&#39;s `Source - Generate hashCode() and equals()...` feature (and then fix the `equals()` code to compare the `area`s first.)","title":"Finding same objects in Java","body":"<p>A rule of thumb is that you should compare all relevant fields in your <code>equals()</code> implementation (fastest first, so compare your <code>area</code>s up front, then the integer sets) and use THE SAME fields in your <code>hashCode()</code>. If in doubt, use Eclipse's <code>Source - Generate hashCode() and equals()...</code> feature (and then fix the <code>equals()</code> code to compare the <code>area</code>s first.)</p>\n"},{"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333458070,"creation_date":1333458070,"answer_id":9993817,"question_id":9993660,"body_markdown":"Here&#39;s sample pair of `hashCode\\equals` generated by IDE:\r\n\r\n\r\n    class Sample  {\r\n        final int area;\r\n        final Set&lt;Integer&gt; someData;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Sample sample = (Sample) o;\r\n    \r\n            if (area != sample.area) return false;\r\n            if (!someData.equals(sample.someData)) return false;\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = area;\r\n            result = 31 * result + someData.hashCode();\r\n            return result;\r\n        }\r\n    }\r\n\r\nThis code assumes `someData` can&#39;t be null -- to simplify things. You can see that equality of types is checked at first, then `area` equality is checked and then equality of `Set&lt;Integer&gt;` is checked. Note that built-in `equals` of `Set` is used in this -- so you have re-usage of that method. This is idiomatic way to test compound types for equality.","title":"Finding same objects in Java","body":"<p>Here's sample pair of <code>hashCode\\equals</code> generated by IDE:</p>\n\n<pre><code>class Sample  {\n    final int area;\n    final Set&lt;Integer&gt; someData;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Sample sample = (Sample) o;\n\n        if (area != sample.area) return false;\n        if (!someData.equals(sample.someData)) return false;\n\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = area;\n        result = 31 * result + someData.hashCode();\n        return result;\n    }\n}\n</code></pre>\n\n<p>This code assumes <code>someData</code> can't be null -- to simplify things. You can see that equality of types is checked at first, then <code>area</code> equality is checked and then equality of <code>Set&lt;Integer&gt;</code> is checked. Note that built-in <code>equals</code> of <code>Set</code> is used in this -- so you have re-usage of that method. This is idiomatic way to test compound types for equality.</p>\n"}],"owner":{"account_id":775122,"reputation":543,"user_id":822692,"accept_rate":48,"display_name":"ilija"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":9993817,"answer_count":4,"score":-1,"last_activity_date":1673013561,"creation_date":1333457527,"question_id":9993660,"body_markdown":"I produce a bunch of objects in Java. Each object has attribute area and a set of integers. I want to store those objects for example in a map(keys should be integers in a growing order). Two objects are the same if their area is equal and their sets are the same. \r\n\r\nIf two objects don&#39;t have the same area then there is no need for me to check whether their sets are the same.\r\n\r\nWhat is the best practice for implementing this in Java? How should I compose hash and equal functions? ","title":"Finding same objects in Java","body":"<p>I produce a bunch of objects in Java. Each object has attribute area and a set of integers. I want to store those objects for example in a map(keys should be integers in a growing order). Two objects are the same if their area is equal and their sets are the same. </p>\n\n<p>If two objects don't have the same area then there is no need for me to check whether their sets are the same.</p>\n\n<p>What is the best practice for implementing this in Java? How should I compose hash and equal functions? </p>\n"},{"tags":["java","gwt","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673185169,"post_id":75031893,"comment_id":132436718,"body_markdown":"Related: [GWT: use DateTimeFormat on client and SimpleDateFormat on server](https://stackoverflow.com/questions/10284564/gwt-use-datetimeformat-on-client-and-simpledateformat-on-server). Search for more.","body":"Related: <a href=\"https://stackoverflow.com/questions/10284564/gwt-use-datetimeformat-on-client-and-simpledateformat-on-server\">GWT: use DateTimeFormat on client and SimpleDateFormat on server</a>. Search for more."}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673013507,"creation_date":1673013507,"question_id":75031893,"body_markdown":"I have following issue.\r\nOn client side ( GWT ) I have function\r\n\r\n    String getFormattedDateFromServer(Date dateFromServer) \r\n\r\n \r\nwhich should get date from server in UTC time and return formatted date in client local time\r\n\r\nIt was implemented as following:\r\n\r\n    public static String getFormattedDateFromServer(Date dateFromServer) {\r\n            int offset = new Date().getTimezoneOffset();\r\n            TimeZone localTimeZone = TimeZone.createTimeZone(offset);\r\n            return DateTimeFormat.getFormat(&quot;MM/dd/yyyy hh:mm&quot;).format(dateFromServer, localTimeZone);\r\n        }\r\n\r\nWhen running on client in GMT+2 timezone on date 04/05/2020 00:00\r\nit was expected 04/05/2020 02:00. But I am getting 04/05/2020 00:00. \r\nAs I understand this is because on client side date 04/05/2020 00:00 considered already in local time (i.e. GMT+2) .For  server side as I see in other posts it can be see via SimpleDateFormat class and manualy set timezon ( like [here][1]  )   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2891361/how-to-set-time-zone-of-a-java-util-date\r\n\r\nBut SimpleDateFormat cannot be used for GWT. The question is how can it be done for GWT ? Or there are better solutions ? Thanks in advance","title":"Issue with convert datetime from UTC to local in GWT","body":"<p>I have following issue.\nOn client side ( GWT ) I have function</p>\n<pre><code>String getFormattedDateFromServer(Date dateFromServer) \n</code></pre>\n<p>which should get date from server in UTC time and return formatted date in client local time</p>\n<p>It was implemented as following:</p>\n<pre><code>public static String getFormattedDateFromServer(Date dateFromServer) {\n        int offset = new Date().getTimezoneOffset();\n        TimeZone localTimeZone = TimeZone.createTimeZone(offset);\n        return DateTimeFormat.getFormat(&quot;MM/dd/yyyy hh:mm&quot;).format(dateFromServer, localTimeZone);\n    }\n</code></pre>\n<p>When running on client in GMT+2 timezone on date 04/05/2020 00:00\nit was expected 04/05/2020 02:00. But I am getting 04/05/2020 00:00.\nAs I understand this is because on client side date 04/05/2020 00:00 considered already in local time (i.e. GMT+2) .For  server side as I see in other posts it can be see via SimpleDateFormat class and manualy set timezon ( like <a href=\"https://stackoverflow.com/questions/2891361/how-to-set-time-zone-of-a-java-util-date\">here</a>  )</p>\n<p>But SimpleDateFormat cannot be used for GWT. The question is how can it be done for GWT ? Or there are better solutions ? Thanks in advance</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1672942739,"post_id":75022377,"comment_id":132392346,"body_markdown":"Is this actually Richard Feynman?","body":"Is this actually Richard Feynman?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":1,"creation_date":1672947466,"post_id":75022377,"comment_id":132393703,"body_markdown":"@JonathanDavidArndt Mr. Feynman? Surely You&#39;re Joking","body":"@JonathanDavidArndt Mr. Feynman? Surely You&#39;re Joking"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":1,"creation_date":1672954316,"post_id":75022377,"comment_id":132395720,"body_markdown":"YESSSSS! Love it","body":"YESSSSS! Love it"}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672968991,"creation_date":1672942866,"answer_id":75022778,"question_id":75022377,"body_markdown":"Agree: this can be cumbersome, especially with a large number of sub-projects.\r\n\r\nThe parent pom will typically be its own project. Other projects that use the parent pom will also be their own projects, and linked to the parent pom using Maven.\r\n\r\nFiles/directories such as `.settings`, `.classpath`, `.project` and `pom.xml` must be at the top level of an Eclipse project (nesting sub-projects inside another related project will probably not work).\r\n\r\nWhile there may be settings for `&lt;modules&gt;` in Eclipse &amp; Maven that I am not aware of, everything you have with a src/target folder should be in its own Eclipse project. They can then be setup as dependencies of each other (either in Eclipse, Maven, or both).\r\n","title":"Cannot import nested Maven project into eclipse","body":"<p>Agree: this can be cumbersome, especially with a large number of sub-projects.</p>\n<p>The parent pom will typically be its own project. Other projects that use the parent pom will also be their own projects, and linked to the parent pom using Maven.</p>\n<p>Files/directories such as <code>.settings</code>, <code>.classpath</code>, <code>.project</code> and <code>pom.xml</code> must be at the top level of an Eclipse project (nesting sub-projects inside another related project will probably not work).</p>\n<p>While there may be settings for <code>&lt;modules&gt;</code> in Eclipse &amp; Maven that I am not aware of, everything you have with a src/target folder should be in its own Eclipse project. They can then be setup as dependencies of each other (either in Eclipse, Maven, or both).</p>\n"},{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673013308,"creation_date":1673013308,"answer_id":75031857,"question_id":75022377,"body_markdown":"In the end I followed khmarbaise instructions. (There was a .project file in the root in the repo that needed to be deleted) \r\n\r\nAfter deleting all .classpath, .project and .settings files, I was able to use the import wizard without any issues.\r\n\r\nThe only other thing I will add is before I primarily used the package explore in eclipse, this will show each of the sub projects as sperate entities.  If you go to the Project explorer it will show the root project in the working set you added it to with the sub projects nested underneath.  ","title":"Cannot import nested Maven project into eclipse","body":"<p>In the end I followed khmarbaise instructions. (There was a .project file in the root in the repo that needed to be deleted)</p>\n<p>After deleting all .classpath, .project and .settings files, I was able to use the import wizard without any issues.</p>\n<p>The only other thing I will add is before I primarily used the package explore in eclipse, this will show each of the sub projects as sperate entities.  If you go to the Project explorer it will show the root project in the working set you added it to with the sub projects nested underneath.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673013308,"creation_date":1672940537,"question_id":75022377,"body_markdown":"I am trying to import a Maven project into eclipse but I am having difficulty getting Eclipse to see the java files as source files and not as resource files.\r\n\r\nI am able to clean/build the project via eclipse however. \r\n\r\nThe project has parent pom.xml which lists several sub projects as modules.\r\nIf I directly import any of the subprojects it will see the java files as source files, but this will make it difficult to manage different versions of the project if each version will require multiple interrelated projects. \r\n\r\nI would ideally like a way to import just the parent project and have all sub projects managed under it. \r\n\r\nProject file tree: \r\n```\r\nProjectFoo\r\n+.settings\r\n+base\r\n+lib\r\n+SubProjectFooA\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooB\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooC\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooD\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooE\r\n|   +.settings\\\r\n|   +scs\r\n|   +target\r\n|   +.classpath\r\n|   +.project\r\n|   +pom.xml\r\n+SubProjectFooF\r\n    +.settings\\\r\n    +scs\r\n    +target\r\n    +.classpath\r\n    +.project\r\n    +pom.xml\r\n```\r\n\r\nIn the parent pom.xml this is how all the sub projects are added.  I am not very familiar with maven and think part of the problem could be the sub projects are added as modules, but I am not certain yet. \r\n```\r\n&lt;modules&gt;\r\n\t&lt;module&gt;SubProjectFooA&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooB&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooC&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooD&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooE&lt;/module&gt;\r\n\t&lt;module&gt;SubProjectFooF&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\n\r\n\r\nThings I have tried: \r\n\r\n - Pull copy of project from git, run mvn eclipse:clean eclipse:eclipse, then import into Eclipse\r\n \r\n - Directly adding javabuilder and javanature to .project file","title":"Cannot import nested Maven project into eclipse","body":"<p>I am trying to import a Maven project into eclipse but I am having difficulty getting Eclipse to see the java files as source files and not as resource files.</p>\n<p>I am able to clean/build the project via eclipse however.</p>\n<p>The project has parent pom.xml which lists several sub projects as modules.\nIf I directly import any of the subprojects it will see the java files as source files, but this will make it difficult to manage different versions of the project if each version will require multiple interrelated projects.</p>\n<p>I would ideally like a way to import just the parent project and have all sub projects managed under it.</p>\n<p>Project file tree:</p>\n<pre><code>ProjectFoo\n+.settings\n+base\n+lib\n+SubProjectFooA\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooB\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooC\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooD\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooE\n|   +.settings\\\n|   +scs\n|   +target\n|   +.classpath\n|   +.project\n|   +pom.xml\n+SubProjectFooF\n    +.settings\\\n    +scs\n    +target\n    +.classpath\n    +.project\n    +pom.xml\n</code></pre>\n<p>In the parent pom.xml this is how all the sub projects are added.  I am not very familiar with maven and think part of the problem could be the sub projects are added as modules, but I am not certain yet.</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;SubProjectFooA&lt;/module&gt;\n    &lt;module&gt;SubProjectFooB&lt;/module&gt;\n    &lt;module&gt;SubProjectFooC&lt;/module&gt;\n    &lt;module&gt;SubProjectFooD&lt;/module&gt;\n    &lt;module&gt;SubProjectFooE&lt;/module&gt;\n    &lt;module&gt;SubProjectFooF&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>Things I have tried:</p>\n<ul>\n<li><p>Pull copy of project from git, run mvn eclipse:clean eclipse:eclipse, then import into Eclipse</p>\n</li>\n<li><p>Directly adding javabuilder and javanature to .project file</p>\n</li>\n</ul>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":1287067,"reputation":6901,"user_id":1239939,"accept_rate":82,"display_name":"Ponmalar"},"score":1,"creation_date":1337602528,"post_id":10685016,"comment_id":13866987,"body_markdown":"Check this: http://stackoverflow.com/questions/2687926/how-can-i-rotate-an-image-using-java-swing-and-then-set-its-origin-to-0-0","body":"Check this: <a href=\"http://stackoverflow.com/questions/2687926/how-can-i-rotate-an-image-using-java-swing-and-then-set-its-origin-to-0-0\" title=\"how can i rotate an image using java swing and then set its origin to 0 0\">stackoverflow.com/questions/2687926/&hellip;</a>"},{"owner":{"account_id":1466587,"reputation":836,"user_id":1379242,"accept_rate":93,"display_name":"Azuu"},"score":0,"creation_date":1337604966,"post_id":10685016,"comment_id":13867987,"body_markdown":"one more thing guys i want to include some functionality such as zooming, cropping, in my project can get any utility jar for my project...","body":"one more thing guys i want to include some functionality such as zooming, cropping, in my project can get any utility jar for my project..."}],"answers":[{"tags":[],"owner":{"account_id":7349,"reputation":45939,"user_id":12744,"accept_rate":94,"display_name":"Colin Pickard"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1673013257,"creation_date":1337602751,"answer_id":10685146,"question_id":10685016,"body_markdown":"Have a look at [this example][1], using AffineTransform.\r\n\r\nThere&#39;s some code to load the image, then this is the core:\r\n\r\n    private Image image;\r\n    AffineTransform identity = new AffineTransform();\r\n\r\n    Graphics2D g2d = (Graphics2D)g;\r\n    AffineTransform trans = new AffineTransform();\r\n    trans.setTransform(identity);\r\n    trans.rotate( Math.toRadians(45) );\r\n    g2d.drawImage(image, trans, this);\r\n\r\n\r\n  [1]: http://www.billthelizard.blogspot.com/2008/07/rotate-image-in-java.html","title":"Rotating an Image in java","body":"<p>Have a look at <a href=\"http://www.billthelizard.blogspot.com/2008/07/rotate-image-in-java.html\" rel=\"nofollow noreferrer\">this example</a>, using AffineTransform.</p>\n<p>There's some code to load the image, then this is the core:</p>\n<pre><code>private Image image;\nAffineTransform identity = new AffineTransform();\n\nGraphics2D g2d = (Graphics2D)g;\nAffineTransform trans = new AffineTransform();\ntrans.setTransform(identity);\ntrans.rotate( Math.toRadians(45) );\ng2d.drawImage(image, trans, this);\n</code></pre>\n"}],"owner":{"account_id":1466587,"reputation":836,"user_id":1379242,"accept_rate":93,"display_name":"Azuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30296,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10685146,"answer_count":1,"score":6,"last_activity_date":1673013257,"creation_date":1337602232,"question_id":10685016,"body_markdown":"I have an image of a Pan Card and when I try to rotate it by 45 degrees and save it, I get a cropped image.\r\nCode to rotate an image is:\r\n\r\n        BufferedImage dimg = new BufferedImage(w, h, img.getType());\r\n        Graphics2D g = dimg.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, // Anti-alias!\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        g.rotate(Math.toRadians(angle), w / 2, h / 2);\r\n\r\n        g.drawImage(img, null, 0, 0);","title":"Rotating an Image in java","body":"<p>I have an image of a Pan Card and when I try to rotate it by 45 degrees and save it, I get a cropped image.\nCode to rotate an image is:</p>\n\n<pre><code>    BufferedImage dimg = new BufferedImage(w, h, img.getType());\n    Graphics2D g = dimg.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, // Anti-alias!\n            RenderingHints.VALUE_ANTIALIAS_ON);\n\n    g.rotate(Math.toRadians(angle), w / 2, h / 2);\n\n    g.drawImage(img, null, 0, 0);\n</code></pre>\n"},{"tags":["java","spring-data-jpa","querydsl"],"owner":{"account_id":1272260,"reputation":993,"user_id":1228276,"accept_rate":18,"display_name":"rakeeee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673013187,"creation_date":1673013187,"question_id":75031830,"body_markdown":"I have three tables that I am querying using QueryDSL. The tables are connected together with JPA relations. Initially, I have two tables only and later added a Details table recently. From then onwards my QueryDSL is failing as in the JPA-generated query I am seeing \r\n\r\n`. as col_35` for the details column and throwing syntax exceptions.\r\n\r\n\r\n    @Entity\r\n    public class Resource {\r\n        private Long id;\r\n    \t@OneToOne\r\n        @JoinColumn(name = &quot;ID&quot;)\r\n        private Document doc;\r\n        private String path;\r\n    }\r\n    \r\n    @Entity\r\n    public class Document {\r\n        private Long id;\r\n        private Integer pageCount;\r\n        private String code;\r\n    \t@OneToMany(mappedBy=&quot;document_id&quot;)\r\n        Set&lt;Details&gt; details;\r\n    }\r\n    \r\n    @Entity\r\n    public class Details {\r\n        Long id\r\n    \tLong document_id;\r\n        String name;\r\n    \tString author;\r\n    }\r\n\r\nMy QueryDSL query looks something as similar \r\n\r\n    final JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(entitymanager);\r\n    \r\n    query\r\n    .select(Qbeans[])\r\n    .from(Resource)\r\n    .leftJoin(QResource.ResourceEntity.doc, QDocumentEntity)\r\n    .innerJoin(QDocument.DocumentEntity.details, QDetailsEntity)\r\n    .transform(groupBy(SOME_PATH).as(Projections.bean(QResource, QResource.fields)\r\n\r\nHow can I get Set/List details data in the Document entity?\r\n\r\n\r\n\r\n\r\n","title":"Multiple JPA joins in QueryDSL","body":"<p>I have three tables that I am querying using QueryDSL. The tables are connected together with JPA relations. Initially, I have two tables only and later added a Details table recently. From then onwards my QueryDSL is failing as in the JPA-generated query I am seeing</p>\n<p><code>. as col_35</code> for the details column and throwing syntax exceptions.</p>\n<pre><code>@Entity\npublic class Resource {\n    private Long id;\n    @OneToOne\n    @JoinColumn(name = &quot;ID&quot;)\n    private Document doc;\n    private String path;\n}\n\n@Entity\npublic class Document {\n    private Long id;\n    private Integer pageCount;\n    private String code;\n    @OneToMany(mappedBy=&quot;document_id&quot;)\n    Set&lt;Details&gt; details;\n}\n\n@Entity\npublic class Details {\n    Long id\n    Long document_id;\n    String name;\n    String author;\n}\n</code></pre>\n<p>My QueryDSL query looks something as similar</p>\n<pre><code>final JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(entitymanager);\n\nquery\n.select(Qbeans[])\n.from(Resource)\n.leftJoin(QResource.ResourceEntity.doc, QDocumentEntity)\n.innerJoin(QDocument.DocumentEntity.details, QDetailsEntity)\n.transform(groupBy(SOME_PATH).as(Projections.bean(QResource, QResource.fields)\n</code></pre>\n<p>How can I get Set/List details data in the Document entity?</p>\n"},{"tags":["java","magic-numbers"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1381113117,"post_id":19216252,"comment_id":28438414,"body_markdown":"It depends on what meaning the values have to each and if they can change dynamically through out the runtime of the application","body":"It depends on what meaning the values have to each and if they can change dynamically through out the runtime of the application"},{"owner":{"account_id":3046467,"reputation":25673,"user_id":2581969,"display_name":"roippi"},"score":0,"creation_date":1381113301,"post_id":19216252,"comment_id":28438455,"body_markdown":"&quot;Looping not allowed?&quot;  I mean if you&#39;re handicapping us from using the best solution...","body":"&quot;Looping not allowed?&quot;  I mean if you&#39;re handicapping us from using the best solution..."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1381113451,"post_id":19216252,"comment_id":28438495,"body_markdown":"There&#39;s not really a good way -- in Java or most languages.  One thing I&#39;ve taken to doing (in Objective-C) is encoding sequences of &quot;magic numbers&quot; in a JSON literal that will be interpreted at runtime.  But there is substantial overhead to this, which is OK in some cases and not others.","body":"There&#39;s not really a good way -- in Java or most languages.  One thing I&#39;ve taken to doing (in Objective-C) is encoding sequences of &quot;magic numbers&quot; in a JSON literal that will be interpreted at runtime.  But there is substantial overhead to this, which is OK in some cases and not others."},{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":0,"creation_date":1381113468,"post_id":19216252,"comment_id":28438497,"body_markdown":"@roippi I think the op means that he doesn&#39;t want the values 5,10,15 etc to be generated by a loop such as `for(int i=5;i&lt;=25;i+=5)`","body":"@roippi I think the op means that he doesn&#39;t want the values 5,10,15 etc to be generated by a loop such as <code>for(int i=5;i&lt;=25;i+=5)</code>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1381113573,"post_id":19216252,"comment_id":28438520,"body_markdown":"One important thing to do is to comment things adequately, so that the derivation of the numbers is clear.  Using constants does no good (in fact, negative good) if the reason for those constant values is not clear.","body":"One important thing to do is to comment things adequately, so that the derivation of the numbers is clear.  Using constants does no good (in fact, negative good) if the reason for those constant values is not clear."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1381113873,"post_id":19216252,"comment_id":28438573,"body_markdown":"Why are looping and arrays disallowed?  A loop is the correct solution here.  Stack Overflow is about getting a solution to your problem, not about playing silly games with what the solution is and isn&#39;t allowed to be.","body":"Why are looping and arrays disallowed?  A loop is the correct solution here.  Stack Overflow is about getting a solution to your problem, not about playing silly games with what the solution is and isn&#39;t allowed to be."},{"owner":{"account_id":3046467,"reputation":25673,"user_id":2581969,"display_name":"roippi"},"score":0,"creation_date":1381113892,"post_id":19216252,"comment_id":28438576,"body_markdown":"@vandale I&#39;m aware of what he meant, and that restriction is still silly.  If you want you can declare two BOUNDARY constants and one STEP constant, and loop over those.  It more declarative of the design intent (&quot;I am creating a series of equally-sized uniformly-spaced ovals&quot;) than just making a boatload of constants and expecting someone to _see_ the pattern, obvious though it may be.","body":"@vandale I&#39;m aware of what he meant, and that restriction is still silly.  If you want you can declare two BOUNDARY constants and one STEP constant, and loop over those.  It more declarative of the design intent (&quot;I am creating a series of equally-sized uniformly-spaced ovals&quot;) than just making a boatload of constants and expecting someone to <i>see</i> the pattern, obvious though it may be."}],"answers":[{"tags":[],"owner":{"account_id":1193345,"reputation":12977,"user_id":1165637,"accept_rate":96,"display_name":"Oleksi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381113010,"creation_date":1381113010,"answer_id":19216267,"question_id":19216252,"body_markdown":"Defining constants is really your only option. What&#39;s your opposition to using them? They are definitely worth their space in this context. Future developers would much rather see extra constants than be confused by what those numbers mean.","title":"Getting rid of magic numbers in Java","body":"<p>Defining constants is really your only option. What's your opposition to using them? They are definitely worth their space in this context. Future developers would much rather see extra constants than be confused by what those numbers mean.</p>\n"},{"tags":[],"owner":{"account_id":955484,"reputation":5540,"user_id":980869,"display_name":"Frederik.L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381113369,"creation_date":1381113369,"answer_id":19216294,"question_id":19216252,"body_markdown":"An alternative to finals / static that I&#39;ve already seen is to use a custom object as an argument:\r\n\r\n    public void drawOval(OvalArg arg) {\r\n        // ...\r\n    }\r\n    \r\n    OvalArg arg = new OvalArg();\r\n    arg.first = 10;\r\n    arg.second = 10;\r\n    arg.width = 100;\r\n    arg.height = 500;\r\n    \r\n    drawOval(arg);\r\n\r\nHowever, this approach implies that you cannot see directly which arguments must be sent to a method (unless you look into the argument object), and requires extra validation to ensure that your custom object is correctly filled. For that reason, I would recommend using constants.","title":"Getting rid of magic numbers in Java","body":"<p>An alternative to finals / static that I've already seen is to use a custom object as an argument:</p>\n\n<pre><code>public void drawOval(OvalArg arg) {\n    // ...\n}\n\nOvalArg arg = new OvalArg();\narg.first = 10;\narg.second = 10;\narg.width = 100;\narg.height = 500;\n\ndrawOval(arg);\n</code></pre>\n\n<p>However, this approach implies that you cannot see directly which arguments must be sent to a method (unless you look into the argument object), and requires extra validation to ensure that your custom object is correctly filled. For that reason, I would recommend using constants.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673013099,"creation_date":1381115085,"answer_id":19216481,"question_id":19216252,"body_markdown":"The direct answer is that named constants is the only way to avoid having magic numbers in your code.\r\n\r\n--------------------------\r\n\r\nBut the flip-side is that it is *debatable* whether magic numbers are harmful or the extent that they are harmful.  And in this particular case it is debatable whether these actually qualify as &quot;magic&quot; numbers ... at least, IMO.\r\n\r\nLets illustrate this:\r\n\r\n    // Alternative #1\r\n\r\n    private final int PLACE_1_X = 5;\r\n    private final int PLACE_1_Y = 5;\r\n    ...\r\n    drawOval(PLACE_1_X, PLACE_1_Y, width, height);\r\n\r\n    // Alternative #2\r\n    drawOval(5, 5, width, height);\r\n\r\nWhich of these is *actually* more readable?  Does defining named constants (which are most likely at a different point in the source code!) make it easier to understand what is going on?  Don&#39;t you now have the problem that you have to look in two places not one to understand what a specific `drawOval` call is going to draw?\r\n\r\n-------------------------\r\n\r\nThe bottom line is that the &quot;no magic numbers&quot; dogma only really applies when the meaning of the numbers is not self-evident from the context ... or when the number is actually a *repeatedly used* constant.  (Like if we were going to use `PLACE_1` lots of times in the same &quot;picture&quot;.)\r\n\r\nYou need to think about the context, not just blindly apply the dogma.","title":"Getting rid of magic numbers in Java","body":"<p>The direct answer is that named constants is the only way to avoid having magic numbers in your code.</p>\n<hr />\n<p>But the flip-side is that it is <em>debatable</em> whether magic numbers are harmful or the extent that they are harmful.  And in this particular case it is debatable whether these actually qualify as &quot;magic&quot; numbers ... at least, IMO.</p>\n<p>Lets illustrate this:</p>\n<pre><code>// Alternative #1\n\nprivate final int PLACE_1_X = 5;\nprivate final int PLACE_1_Y = 5;\n...\ndrawOval(PLACE_1_X, PLACE_1_Y, width, height);\n\n// Alternative #2\ndrawOval(5, 5, width, height);\n</code></pre>\n<p>Which of these is <em>actually</em> more readable?  Does defining named constants (which are most likely at a different point in the source code!) make it easier to understand what is going on?  Don't you now have the problem that you have to look in two places not one to understand what a specific <code>drawOval</code> call is going to draw?</p>\n<hr />\n<p>The bottom line is that the &quot;no magic numbers&quot; dogma only really applies when the meaning of the numbers is not self-evident from the context ... or when the number is actually a <em>repeatedly used</em> constant.  (Like if we were going to use <code>PLACE_1</code> lots of times in the same &quot;picture&quot;.)</p>\n<p>You need to think about the context, not just blindly apply the dogma.</p>\n"},{"tags":[],"owner":{"account_id":21467226,"reputation":41,"user_id":15816945,"display_name":"Sahil13399"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671359069,"creation_date":1671356500,"answer_id":74840357,"question_id":19216252,"body_markdown":"Adding to the other answers we can also use Enums to declare constants and they can have values attached like width and height.\r\n```\r\npublic enum Dimensions {\r\n  \r\n  DIMENSION_FIVE_FIVE(5, 5);\r\n\r\n  private final int height;\r\n  private final int weight;\r\n\r\n  private Dimensions(int height, int width) {\r\n     this.height = height;\r\n     this.weight = weight;\r\n  }\r\n\r\n}\r\n```\r\nPlease ignore my naming convention, suggestions are welcome.\r\n","title":"Getting rid of magic numbers in Java","body":"<p>Adding to the other answers we can also use Enums to declare constants and they can have values attached like width and height.</p>\n<pre><code>public enum Dimensions {\n  \n  DIMENSION_FIVE_FIVE(5, 5);\n\n  private final int height;\n  private final int weight;\n\n  private Dimensions(int height, int width) {\n     this.height = height;\n     this.weight = weight;\n  }\n\n}\n</code></pre>\n<p>Please ignore my naming convention, suggestions are welcome.</p>\n"}],"owner":{"account_id":1120563,"reputation":179,"user_id":1108970,"accept_rate":33,"display_name":"Larry21"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8449,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1673013099,"creation_date":1381112884,"question_id":19216252,"body_markdown":"How do I get rid of magic numbers in java without declaring a massive amount of finals or static finals? Keep in mind looping, arrays are not allowed. It doesn&#39;t seem possible? Help appreciated. thanks.\r\n\r\nExample code:\r\n\r\n    drawOval(5, 5, width, height);\r\n    drawOval(10, 10, width, height);\r\n    drawOval(15, 15, width, height);\r\n    drawOval(20, 20, width, height);\r\n    drawOval(25, 25, width, height);","title":"Getting rid of magic numbers in Java","body":"<p>How do I get rid of magic numbers in java without declaring a massive amount of finals or static finals? Keep in mind looping, arrays are not allowed. It doesn't seem possible? Help appreciated. thanks.</p>\n\n<p>Example code:</p>\n\n<pre><code>drawOval(5, 5, width, height);\ndrawOval(10, 10, width, height);\ndrawOval(15, 15, width, height);\ndrawOval(20, 20, width, height);\ndrawOval(25, 25, width, height);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1247914411,"post_id":1147245,"comment_id":965430,"body_markdown":"Yep - definitely community wiki material","body":"Yep - definitely community wiki material"},{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":0,"creation_date":1247914790,"post_id":1147245,"comment_id":965439,"body_markdown":"Is this really a Java specific question? The example in the question is about arithmetic and applies to all programming languages with a modulo operator and signed arithmetic.","body":"Is this really a Java specific question? The example in the question is about arithmetic and applies to all programming languages with a modulo operator and signed arithmetic."},{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1247915609,"post_id":1147245,"comment_id":965466,"body_markdown":"not really a Java specific code, but I&#39;m Java literate so I was interested specifically for that.","body":"not really a Java specific code, but I&#39;m Java literate so I was interested specifically for that."},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1247946294,"post_id":1147245,"comment_id":966676,"body_markdown":"it only applies to the languages whose modulo operation (see http://en.wikipedia.org/wiki/Modulo_operation) returns the sign of the dividend","body":"it only applies to the languages whose modulo operation (see <a href=\"http://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Modulo_operation</a>) returns the sign of the dividend"}],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247915829,"creation_date":1247914591,"answer_id":1147252,"question_id":1147245,"body_markdown":"In fact, [Java Puzzlers][1] has 94 more puzzles which exhibit sometimes strange and sometimes deceiving behaviors by mostly innocent-looking code.\r\n\r\n\r\n  [1]: http://www.javapuzzlers.com/","title":"Java counter-intuitive code","body":"<p>In fact, <a href=\"http://www.javapuzzlers.com/\" rel=\"nofollow noreferrer\">Java Puzzlers</a> has 94 more puzzles which exhibit sometimes strange and sometimes deceiving behaviors by mostly innocent-looking code.</p>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247915470,"creation_date":1247915470,"answer_id":1147278,"question_id":1147245,"body_markdown":"The most counterintuitive concept I came across is the PECS (Producer Extends, Consumer Super) from Josh Bloch. The concept is excellent, but what do you consider the consumer/producer in a situation - the method itself I would think at first. But no, the parameter collection is the P/C in this concept:\r\n\r\n    public &lt;T&gt; void consumeTs(Collection&lt;? extends T&gt; producer);\r\n    public &lt;T&gt; void produceTs(Collection&lt;? super T&gt; consumer);\r\n\r\nVery confusing sometimes.\r\n\r\n","title":"Java counter-intuitive code","body":"<p>The most counterintuitive concept I came across is the PECS (Producer Extends, Consumer Super) from Josh Bloch. The concept is excellent, but what do you consider the consumer/producer in a situation - the method itself I would think at first. But no, the parameter collection is the P/C in this concept:</p>\n\n<pre><code>public &lt;T&gt; void consumeTs(Collection&lt;? extends T&gt; producer);\npublic &lt;T&gt; void produceTs(Collection&lt;? super T&gt; consumer);\n</code></pre>\n\n<p>Very confusing sometimes.</p>\n"},{"tags":[],"owner":{"account_id":25009,"reputation":10643,"user_id":63991,"accept_rate":71,"display_name":"Edmund"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1247916834,"creation_date":1247916834,"answer_id":1147326,"question_id":1147245,"body_markdown":"I tend to agree with you, but I have read (and hopefully someone can supply a link or two to) articles that explain that Java&#39;s &#39;%&#39; is consistent with its &#39;/&#39;, and that is enough for anyone.  From my own experience:\r\n\r\nJava&#39;s &#39;%&#39; operator is a little different from some other languages&#39; in its handling of negative inputs.  I personally prefer &quot;modulo&quot; operators that return non-negatives, e.g.\r\n\r\n    -5 % 2 == 1\r\n\r\nWhich would make your example work.  I think there is an official name for this operation, but I can&#39;t think of it now so I&#39;ll stick with &quot;modulo&quot;.  The difference between the two forms is that that Java variant of &#39;a % b&#39; performs &#39;a/b&#39; and rounds towards zero (and subtracts that result from &#39;a&#39;), while the preferred operation rounds down instead.\r\n\r\nEvery practical use of applying % to negative &#39;a&#39; and positive &#39;b&#39; that I&#39;ve seen works more easily if the result &#39;r&#39; is &#39;0 &lt;= r &lt; b&#39; (one example is finding the offset from the left-most edge of a tile, when mapping points onto tiles on a plane that may extend &#39;&lt; 0&#39;).  The one exception to this experience was in a university assignment that performed static analysis of integer arithmetic in Java programs.  It was during this assignment that the subtleties of Java&#39;s &#39;%&#39; came to light, and I went out of my way to replace it with the &quot;fixed&quot; version.  This all backfired, because the point was to simulate how Java does arithmetic, not to implement my own preferred kind.\r\n","title":"Java counter-intuitive code","body":"<p>I tend to agree with you, but I have read (and hopefully someone can supply a link or two to) articles that explain that Java's '%' is consistent with its '/', and that is enough for anyone.  From my own experience:</p>\n\n<p>Java's '%' operator is a little different from some other languages' in its handling of negative inputs.  I personally prefer \"modulo\" operators that return non-negatives, e.g.</p>\n\n<pre><code>-5 % 2 == 1\n</code></pre>\n\n<p>Which would make your example work.  I think there is an official name for this operation, but I can't think of it now so I'll stick with \"modulo\".  The difference between the two forms is that that Java variant of 'a % b' performs 'a/b' and rounds towards zero (and subtracts that result from 'a'), while the preferred operation rounds down instead.</p>\n\n<p>Every practical use of applying % to negative 'a' and positive 'b' that I've seen works more easily if the result 'r' is '0 &lt;= r &lt; b' (one example is finding the offset from the left-most edge of a tile, when mapping points onto tiles on a plane that may extend '&lt; 0').  The one exception to this experience was in a university assignment that performed static analysis of integer arithmetic in Java programs.  It was during this assignment that the subtleties of Java's '%' came to light, and I went out of my way to replace it with the \"fixed\" version.  This all backfired, because the point was to simulate how Java does arithmetic, not to implement my own preferred kind.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1247917624,"creation_date":1247917624,"answer_id":1147347,"question_id":1147245,"body_markdown":"Odd and even numbers are usually thought of as positive numbers, so I think don&#39;t think its useful to think of negative numbers as odd or even. The test is often really to see if the lowest bit is set.\r\n\r\nThese are both fine for negative numbers as well.\r\n\r\n    if ((i &amp; 1) == 0) // lowest bit not set.\r\n    \r\n    if ((i &amp; 1) == 1) // lowest bit set.\r\nor\r\n\r\n    if ((i &amp; 1) != 0) // lowest bit set.","title":"Java counter-intuitive code","body":"<p>Odd and even numbers are usually thought of as positive numbers, so I think don't think its useful to think of negative numbers as odd or even. The test is often really to see if the lowest bit is set.</p>\n\n<p>These are both fine for negative numbers as well.</p>\n\n<pre><code>if ((i &amp; 1) == 0) // lowest bit not set.\n\nif ((i &amp; 1) == 1) // lowest bit set.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ((i &amp; 1) != 0) // lowest bit set.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673012857,"creation_date":1247918987,"answer_id":1147385,"question_id":1147245,"body_markdown":"One I [blogged about][1] recently, given the following two classes:\r\n\r\n    public class Base\r\n    {\r\n       Base() {\r\n           preProcess();\r\n       }\r\n    \r\n       void preProcess() {}\r\n    }\r\n    \r\n    \r\n    public class Derived extends Base\r\n    {\r\n       public String whenAmISet = &quot;set when declared&quot;;\r\n    \r\n       @Override void preProcess()\r\n       {\r\n           whenAmISet = &quot;set in preProcess()&quot;;\r\n       }\r\n    }\r\n\r\nwhat do you think the value of `whenAmISet` will be when a new `Derived` object is created?\r\n\r\nGiven the following simple main class:\r\n\r\n    public class Main\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n           Derived d = new Derived();\r\n           System.out.println( d.whenAmISet );\r\n       }\r\n    }\r\n\r\nmost people said it looks like the output should be &quot;set in preProcess()&quot; because the `Base` constructor calls that method, but it isn&#39;t.  The `Derived` class members are initialized *after* the call to the `preProcess()` method in the `Base` constructor, which overwrites the value set in `preProcess()`.\r\n\r\nThe [Creation of New Class Instances][2] section of the [JLS][3] gives a very detailed explanation of the sequence of events that takes place when objects are created.\r\n\r\n\r\n  [1]: http://www.billthelizard.blogspot.com/2009/06/java-puzzler.html\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.5\r\n  [3]: http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html","title":"Java counter-intuitive code","body":"<p>One I <a href=\"http://www.billthelizard.blogspot.com/2009/06/java-puzzler.html\" rel=\"nofollow noreferrer\">blogged about</a> recently, given the following two classes:</p>\n<pre><code>public class Base\n{\n   Base() {\n       preProcess();\n   }\n\n   void preProcess() {}\n}\n\n\npublic class Derived extends Base\n{\n   public String whenAmISet = &quot;set when declared&quot;;\n\n   @Override void preProcess()\n   {\n       whenAmISet = &quot;set in preProcess()&quot;;\n   }\n}\n</code></pre>\n<p>what do you think the value of <code>whenAmISet</code> will be when a new <code>Derived</code> object is created?</p>\n<p>Given the following simple main class:</p>\n<pre><code>public class Main\n{\n   public static void main(String[] args)\n   {\n       Derived d = new Derived();\n       System.out.println( d.whenAmISet );\n   }\n}\n</code></pre>\n<p>most people said it looks like the output should be &quot;set in preProcess()&quot; because the <code>Base</code> constructor calls that method, but it isn't.  The <code>Derived</code> class members are initialized <em>after</em> the call to the <code>preProcess()</code> method in the <code>Base</code> constructor, which overwrites the value set in <code>preProcess()</code>.</p>\n<p>The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.5\" rel=\"nofollow noreferrer\">Creation of New Class Instances</a> section of the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/j3TOC.html\" rel=\"nofollow noreferrer\">JLS</a> gives a very detailed explanation of the sequence of events that takes place when objects are created.</p>\n"},{"tags":[],"owner":{"account_id":9741,"reputation":533,"user_id":18117,"display_name":"Nicolas Simonet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247922989,"creation_date":1247922989,"answer_id":1147520,"question_id":1147245,"body_markdown":"We once stumbled upon something like this in a legacy code base (originally camouflaged by a 5 level inheritance structure and several indirections):\r\n\r\n    public abstract class A {\r\n        public A() {\r\n            create();\r\n        }\r\n        protected abstract void create();\r\n    } \r\n\r\n    public class B extends A {\r\n        private Object bMember=null;\r\n        protected void create() {\r\n            bMember=getNewObject();\r\n        }\r\n    }\r\n\r\nWhen you call `B` constructor, it calls `A` default constructor, calling `B`&#39;s `create()` method, through which `bMember` gets initialized.\r\n\r\nOr so we naively thought. Because after calling `super()`, the next step in the initialization process is the assignment of explicitly defined default values to `B` members, in effect resetting `bMember` to `null`.\r\n\r\nProgram was actually working fine anyway, because `bMember` got assigned again through another route later on.\r\n\r\nAt some point we removed the apparently useless `null` default value for `bMember`, and suddenly program behavior changed.","title":"Java counter-intuitive code","body":"<p>We once stumbled upon something like this in a legacy code base (originally camouflaged by a 5 level inheritance structure and several indirections):</p>\n\n<pre><code>public abstract class A {\n    public A() {\n        create();\n    }\n    protected abstract void create();\n} \n\npublic class B extends A {\n    private Object bMember=null;\n    protected void create() {\n        bMember=getNewObject();\n    }\n}\n</code></pre>\n\n<p>When you call <code>B</code> constructor, it calls <code>A</code> default constructor, calling <code>B</code>'s <code>create()</code> method, through which <code>bMember</code> gets initialized.</p>\n\n<p>Or so we naively thought. Because after calling <code>super()</code>, the next step in the initialization process is the assignment of explicitly defined default values to <code>B</code> members, in effect resetting <code>bMember</code> to <code>null</code>.</p>\n\n<p>Program was actually working fine anyway, because <code>bMember</code> got assigned again through another route later on.</p>\n\n<p>At some point we removed the apparently useless <code>null</code> default value for <code>bMember</code>, and suddenly program behavior changed.</p>\n"},{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247923805,"creation_date":1247923805,"answer_id":1147545,"question_id":1147245,"body_markdown":"i recently discovered that Math.abs(i) does not always produce positive numbers. \r\n\r\n\r\nMath.abs(Integer.MIN_VALUE) yields -2^31\r\n\r\nwhy? because there is one less positive Integer than negative. 2^31 is one more than Integer.MAX_VALUE and thus overflows to -2^31\r\n\r\ni guess the situation is similar in most other languages, but i encountered this in java","title":"Java counter-intuitive code","body":"<p>i recently discovered that Math.abs(i) does not always produce positive numbers. </p>\n\n<p>Math.abs(Integer.MIN_VALUE) yields -2^31</p>\n\n<p>why? because there is one less positive Integer than negative. 2^31 is one more than Integer.MAX_VALUE and thus overflows to -2^31</p>\n\n<p>i guess the situation is similar in most other languages, but i encountered this in java</p>\n"},{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247925321,"creation_date":1247925321,"answer_id":1147590,"question_id":1147245,"body_markdown":"Have a look at the methods defined in **java.util.concurrent.SynchronousQueue**:\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html\r\n\r\nHalf of the methods *always* return *null* / *true* / *false* / *zero*:&lt;br/&gt;\r\nNot exactly obvious when you first start working with it, without reading the docs first.","title":"Java counter-intuitive code","body":"<p>Have a look at the methods defined in <strong>java.util.concurrent.SynchronousQueue</strong>:\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/SynchronousQueue.html</a></p>\n\n<p>Half of the methods <em>always</em> return <em>null</em> / <em>true</em> / <em>false</em> / <em>zero</em>:<br/>\nNot exactly obvious when you first start working with it, without reading the docs first.</p>\n"}],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":1147385,"answer_count":8,"score":3,"last_activity_date":1673012857,"creation_date":1247914300,"question_id":1147245,"body_markdown":"I remember reading a book named:\r\n\r\n&gt; [Java Puzzlers Traps, Pitfalls, and Corner Cases][1]\r\n\r\nthat described odd behavior in Java code. Stuff that look completely innocent but in actuality perform something completely different than the obvious. One example was:\r\n\r\n**(EDIT: This post is NOT a discussion on this particular example. This was the first example on the book I mentioned. I am asking for other oddities you might have encountered.)**\r\n\r\nCan this code be used to identify if a number is odd or not? \r\n\r\n    public static boolean isOdd(int i) {\r\n    \r\n        return i % 2 == 1;\r\n    \r\n    }\r\n\r\nAnd the answer is of course NO. If you plug a negative number into it you get the wrong answer when the number is odd. The correct answer was:\r\n\r\n    public static boolean isOdd(int i) {\r\n    \r\n        return i % 2 != 0;\r\n    \r\n    }\r\n\r\nNow my question is **what are the weirdest, most counter intuitive piece of Java code you came across?** (I know it&#39;s not really a question, maybe I should post this as a community wiki, please advice on that as well)\r\n\r\n\r\n  [1]: http://www.javapuzzlers.com","title":"Java counter-intuitive code","body":"<p>I remember reading a book named:</p>\n\n<blockquote>\n  <p><a href=\"http://www.javapuzzlers.com\" rel=\"nofollow noreferrer\">Java Puzzlers Traps, Pitfalls, and Corner Cases</a></p>\n</blockquote>\n\n<p>that described odd behavior in Java code. Stuff that look completely innocent but in actuality perform something completely different than the obvious. One example was:</p>\n\n<p><strong>(EDIT: This post is NOT a discussion on this particular example. This was the first example on the book I mentioned. I am asking for other oddities you might have encountered.)</strong></p>\n\n<p>Can this code be used to identify if a number is odd or not? </p>\n\n<pre><code>public static boolean isOdd(int i) {\n\n    return i % 2 == 1;\n\n}\n</code></pre>\n\n<p>And the answer is of course NO. If you plug a negative number into it you get the wrong answer when the number is odd. The correct answer was:</p>\n\n<pre><code>public static boolean isOdd(int i) {\n\n    return i % 2 != 0;\n\n}\n</code></pre>\n\n<p>Now my question is <strong>what are the weirdest, most counter intuitive piece of Java code you came across?</strong> (I know it's not really a question, maybe I should post this as a community wiki, please advice on that as well)</p>\n"},{"tags":["java","vert.x","event-bus","vertx-verticle"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673012838,"creation_date":1673012838,"answer_id":75031758,"question_id":75030147,"body_markdown":"It&#39;s not possible out of the box. But you could add a header to the message which identifies the sender and filter messages in the consumer.","title":"Vert.x events bus: publisher to not receive it&#39;s own message","body":"<p>It's not possible out of the box. But you could add a header to the message which identifies the sender and filter messages in the consumer.</p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031758,"answer_count":1,"score":0,"last_activity_date":1673012838,"creation_date":1673003226,"question_id":75030147,"body_markdown":"I have 5 verticles: V{1..5}. All the verticles subscribed at &quot;topic&quot; and send message to &quot;topic&quot;. Is there a way how to publish message in a way that it won&#39;t be sent to sender? For example, V1 publishes &quot;message&quot; and receives it as well. I want to avoid it. I need &quot;message&quot; sent by V1 to be delivered only to V{2..5}, but not to V1. Is it possible? ","title":"Vert.x events bus: publisher to not receive it&#39;s own message","body":"<p>I have 5 verticles: V{1..5}. All the verticles subscribed at &quot;topic&quot; and send message to &quot;topic&quot;. Is there a way how to publish message in a way that it won't be sent to sender? For example, V1 publishes &quot;message&quot; and receives it as well. I want to avoid it. I need &quot;message&quot; sent by V1 to be delivered only to V{2..5}, but not to V1. Is it possible?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"score":0,"creation_date":1672836032,"post_id":75005571,"comment_id":132361604,"body_markdown":"[check this, it may help](https://stackoverflow.com/q/37705718/16528677)","body":"<a href=\"https://stackoverflow.com/q/37705718/16528677\">check this, it may help</a>"}],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672837341,"creation_date":1672837341,"answer_id":75005851,"question_id":75005571,"body_markdown":"You must be having the search request object if you are using Elasticsearch 7 client, you can use `searchRequest.source().toString()` to get the search JSON on it.","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>You must be having the search request object if you are using Elasticsearch 7 client, you can use <code>searchRequest.source().toString()</code> to get the search JSON on it.</p>\n"},{"tags":[],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673012835,"creation_date":1673012835,"answer_id":75031757,"question_id":75005571,"body_markdown":"I figured it out:\r\n\r\n    \tStringWriter writer = new StringWriter();\r\n\t\tJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\r\n\t\tboolQuery.serialize(generator, new JacksonJsonpMapper());\r\n\t\tgenerator.flush();\r\n\t\tString json = writer.toString();","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>I figured it out:</p>\n<pre><code>    StringWriter writer = new StringWriter();\n    JsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\n    boolQuery.serialize(generator, new JacksonJsonpMapper());\n    generator.flush();\n    String json = writer.toString();\n</code></pre>\n"}],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673012835,"creation_date":1672835954,"question_id":75005571,"body_markdown":"Given an instance of BoolQuery, how can I find out the JSON string that will be sent to the ES server?\r\n\r\nNote that I am using ES7.\r\n\r\nI tried toString(), but it returns something like &quot;co.elastic.clients.elasticsearch._types.query_dsl.BoolQuery@3cec79d3&quot;.\r\n\r\nI see that there is a serialize() method, but for the life of me, I can&#39;t figure out how to construct the two arguments (JsonGenerator and JsonpMapper).\r\n\r\nI tried Amit&#39;s suggestion of getting the json from the SearchRequest object&#39;s source, but it does not seem to work. For example in the sample code below, the last line raises a NullPointerException because sReq.source() returns null.\r\n\r\n\r\n    SearchRequest sReq = SearchRequest.of(s -&gt; s\r\n      .index(&quot;products&quot;)\r\n      .query(q -&gt; q\r\n          .match(t -&gt; t\r\n              .field(&quot;name&quot;)\r\n              .query(&quot;hello&quot;)\r\n          )\r\n\t\t)\r\n\t  );\r\n\r\n\t  String sReqJson = sReq.source().toString();\r\n\r\n","title":"How to get the JSON for an ElasticSearch BoolQuery","body":"<p>Given an instance of BoolQuery, how can I find out the JSON string that will be sent to the ES server?</p>\n<p>Note that I am using ES7.</p>\n<p>I tried toString(), but it returns something like &quot;co.elastic.clients.elasticsearch._types.query_dsl.BoolQuery@3cec79d3&quot;.</p>\n<p>I see that there is a serialize() method, but for the life of me, I can't figure out how to construct the two arguments (JsonGenerator and JsonpMapper).</p>\n<p>I tried Amit's suggestion of getting the json from the SearchRequest object's source, but it does not seem to work. For example in the sample code below, the last line raises a NullPointerException because sReq.source() returns null.</p>\n<pre><code>SearchRequest sReq = SearchRequest.of(s -&gt; s\n  .index(&quot;products&quot;)\n  .query(q -&gt; q\n      .match(t -&gt; t\n          .field(&quot;name&quot;)\n          .query(&quot;hello&quot;)\n      )\n    )\n  );\n\n  String sReqJson = sReq.source().toString();\n</code></pre>\n"},{"tags":["java","tibco","tibco-business-works"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672822293,"post_id":74999443,"comment_id":132357463,"body_markdown":"&quot; the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement&quot;..... like how ?","body":"&quot; the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement&quot;..... like how ?"},{"owner":{"account_id":13934205,"reputation":21,"user_id":10061650,"display_name":"John Willmer Cubillos Vega"},"score":0,"creation_date":1672927114,"post_id":74999443,"comment_id":132386406,"body_markdown":"I mean the Tibco component of type iterator","body":"I mean the Tibco component of type iterator"}],"answers":[{"tags":[],"owner":{"account_id":11149560,"reputation":372,"user_id":8183257,"display_name":"EmmanuelM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673012439,"creation_date":1673012439,"answer_id":75031686,"question_id":74999443,"body_markdown":"Businessworks can iterate over a list but it has to be a list within a BusinessWorks object (defined by an XML schema). So in your case you likely need to convert you Java list of strings into an XML. You should be able to do it with the Java to XML activity. You would map the output of your function to the Input of this activity and should get an XML object containing a list in the Output. I&#39;am not 100 % sure how this will behave so you would need to do some tests but in every cases you cannot iterate over a list in a Java object.","title":"How to use a list of strings returned from a &quot;Java Invoke&quot; component in Tibco","body":"<p>Businessworks can iterate over a list but it has to be a list within a BusinessWorks object (defined by an XML schema). So in your case you likely need to convert you Java list of strings into an XML. You should be able to do it with the Java to XML activity. You would map the output of your function to the Input of this activity and should get an XML object containing a list in the Output. I'am not 100 % sure how this will behave so you would need to do some tests but in every cases you cannot iterate over a list in a Java object.</p>\n"}],"owner":{"account_id":13934205,"reputation":21,"user_id":10061650,"display_name":"John Willmer Cubillos Vega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673012439,"creation_date":1672786593,"question_id":74999443,"body_markdown":"Brief explanation.\r\n\r\nIn Tibco Business Studio, I have a &quot;Java Invoke&quot; component that consumes a Java class that should return an object List&lt;String&gt; I have to manipulate it to iterate over it.\r\n\r\nTo iterate I am using an &quot;Iterate&quot; component with this configuration:\r\n\r\n    Name: Iterate\r\n    Group Type: Iterate\r\n    Index Name: index\r\n    Variable List: $JavaInvoke/MethodReturnValue\r\n    Iteration Element: currentElement\r\n\r\nNevertheless, the iterator doesn&#39;t make the iteration and it doesn&#39;t give a proper value to currentElement.\r\n\r\nThe Method Signature of the Java method is the next:\r\n\r\n    public static List&lt;String&gt; convertCsvToListJson(String file) {\r\n\r\nWhat am I ignoring? How can I correct this?\r\n\r\nThanks in advance.","title":"How to use a list of strings returned from a &quot;Java Invoke&quot; component in Tibco","body":"<p>Brief explanation.</p>\n<p>In Tibco Business Studio, I have a &quot;Java Invoke&quot; component that consumes a Java class that should return an object List I have to manipulate it to iterate over it.</p>\n<p>To iterate I am using an &quot;Iterate&quot; component with this configuration:</p>\n<pre><code>Name: Iterate\nGroup Type: Iterate\nIndex Name: index\nVariable List: $JavaInvoke/MethodReturnValue\nIteration Element: currentElement\n</code></pre>\n<p>Nevertheless, the iterator doesn't make the iteration and it doesn't give a proper value to currentElement.</p>\n<p>The Method Signature of the Java method is the next:</p>\n<pre><code>public static List&lt;String&gt; convertCsvToListJson(String file) {\n</code></pre>\n<p>What am I ignoring? How can I correct this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","spring-boot","react-hooks"],"comments":[{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1673000001,"post_id":75029346,"comment_id":132404019,"body_markdown":"Can you add to the question the json your JS code sends to backend? Also it&#39;s important for model class to have default constructor. As an addition - usually it&#39;s a bad practice to use entities as DTO objects.","body":"Can you add to the question the json your JS code sends to backend? Also it&#39;s important for model class to have default constructor. As an addition - usually it&#39;s a bad practice to use entities as DTO objects."},{"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"score":0,"creation_date":1673004369,"post_id":75029346,"comment_id":132405302,"body_markdown":"Noted. Will add the default constructor as well as will keep model and DTO classes different. Thank you","body":"Noted. Will add the default constructor as well as will keep model and DTO classes different. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673000403,"creation_date":1673000403,"answer_id":75029647,"question_id":75029346,"body_markdown":"For me adding default constructor to model class solved the issue.\r\nand one more thing - please use DTO for such operations , use of entity is not a good practise.","title":"Spring boot JSON parse error : Cannot deserialize value","body":"<p>For me adding default constructor to model class solved the issue.\nand one more thing - please use DTO for such operations , use of entity is not a good practise.</p>\n"}],"owner":{"account_id":15004584,"reputation":9,"user_id":10831061,"display_name":"Thunder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673012325,"creation_date":1672998655,"question_id":75029346,"body_markdown":"I&#39;m having trouble submitting the form. In the RoominfoController, I made changes to make it accept arrays, but the problem still persists..&lt;hr&gt;\r\n```Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]```\r\n\r\nThis is the form through which I am sending data.\r\n\r\n 1. [RoomInfo.js file][1]  \r\n 2. [RoomInfoController.java][2] \r\n 3. [Model Class:RoomInfo.java][3]\r\n 4. [RoomInfoService.js][4] (Here I have specified the method createRoomInfo)\r\n&lt;hr&gt;\r\nI took reference of some similar answers on this site but it didn&#39;t work for me. The error is still being displayed in eclipse console when trying to enter values. \r\n&lt;hr&gt;\r\nI am trying to send the roominfos array through this form.\r\n\r\n\r\n```\r\n{\r\n    &quot;pg_name&quot;: &quot;Devanshi Hostel&quot;,\r\n    &quot;pg_address&quot;: &quot;Vastrapur behind Gurudwara&quot;,\r\n    &quot;phone_no&quot;: &quot;9912343234&quot;,\r\n    &quot;notice_period&quot;: 21,\r\n    &quot;gender&quot;: &quot;Girls&quot;,\r\n    &quot;country&quot;: &quot;India&quot;,\r\n    &quot;state&quot;: &quot;Gujarat&quot;,\r\n    &quot;city&quot;: &quot;Dwarka&quot;,\r\n    &quot;deposit_amt&quot;: 5000,\r\n    &quot;food_avail&quot;: &quot;Yes&quot;,\r\n    &quot;wifi_avail&quot;: &quot;No&quot;,\r\n    &quot;request_status&quot;: &quot;Pending&quot;,\r\n    &quot;roominfos&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;shared_no&quot;: 1,\r\n            &quot;no_of_rooms&quot;: 1,\r\n            &quot;total_capacity&quot;: 1,\r\n            &quot;vacancy&quot;: 1,\r\n            &quot;rent_per_month&quot;: 1000\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;shared_no&quot;: 3,\r\n            &quot;no_of_rooms&quot;: 1,\r\n            &quot;total_capacity&quot;: 3,\r\n            &quot;vacancy&quot;: 2,\r\n            &quot;rent_per_month&quot;: 1000\r\n        }\r\n    ],\r\n    &quot;id&quot;: 18\r\n}\r\n```\r\n\r\nThank you.\r\n\r\n  [1]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/components/RoomInfo.js\r\n  [2]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/controller/RoomInfoController.java\r\n  [3]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/models/RoomInfo.java\r\n  [4]: https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/services/RoomInfoService.js","title":"Spring boot JSON parse error : Cannot deserialize value","body":"<p>I'm having trouble submitting the form. In the RoominfoController, I made changes to make it accept arrays, but the problem still persists..<hr>\n<code>Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.pgfinder.models.RoomInfo` from Array value (token `JsonToken.START_ARRAY`)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]</code></p>\n<p>This is the form through which I am sending data.</p>\n<ol>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/components/RoomInfo.js\" rel=\"nofollow noreferrer\">RoomInfo.js file</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/controller/RoomInfoController.java\" rel=\"nofollow noreferrer\">RoomInfoController.java</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Back-end/src/main/java/com/example/pgfinder/models/RoomInfo.java\" rel=\"nofollow noreferrer\">Model Class:RoomInfo.java</a></li>\n<li><a href=\"https://github.com/PranjalbaZala/Online-PGFinder-Management/blob/main/Front-end/src/services/RoomInfoService.js\" rel=\"nofollow noreferrer\">RoomInfoService.js</a> (Here I have specified the method createRoomInfo)</li>\n</ol>\n<hr>\nI took reference of some similar answers on this site but it didn't work for me. The error is still being displayed in eclipse console when trying to enter values. \n<hr>\nI am trying to send the roominfos array through this form.\n<pre><code>{\n    &quot;pg_name&quot;: &quot;Devanshi Hostel&quot;,\n    &quot;pg_address&quot;: &quot;Vastrapur behind Gurudwara&quot;,\n    &quot;phone_no&quot;: &quot;9912343234&quot;,\n    &quot;notice_period&quot;: 21,\n    &quot;gender&quot;: &quot;Girls&quot;,\n    &quot;country&quot;: &quot;India&quot;,\n    &quot;state&quot;: &quot;Gujarat&quot;,\n    &quot;city&quot;: &quot;Dwarka&quot;,\n    &quot;deposit_amt&quot;: 5000,\n    &quot;food_avail&quot;: &quot;Yes&quot;,\n    &quot;wifi_avail&quot;: &quot;No&quot;,\n    &quot;request_status&quot;: &quot;Pending&quot;,\n    &quot;roominfos&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;shared_no&quot;: 1,\n            &quot;no_of_rooms&quot;: 1,\n            &quot;total_capacity&quot;: 1,\n            &quot;vacancy&quot;: 1,\n            &quot;rent_per_month&quot;: 1000\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;shared_no&quot;: 3,\n            &quot;no_of_rooms&quot;: 1,\n            &quot;total_capacity&quot;: 3,\n            &quot;vacancy&quot;: 2,\n            &quot;rent_per_month&quot;: 1000\n        }\n    ],\n    &quot;id&quot;: 18\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","spring-data-jpa"],"owner":{"account_id":27453162,"reputation":1,"user_id":20945052,"display_name":"navs_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673012178,"creation_date":1673012178,"question_id":75031641,"body_markdown":"When I&#39;m making the call to JpaRepository findByOrderTrackingNumber method, it is not returning any result. I enabled the jpa-sql/hibernate logging and got the underlying query which is being generated, after running the same query manually in MSSQL server is returning the result, I am not able to understand where the issue is, Attaching the example code snippets. \r\n\r\n\r\nAm using oneToMany bidirectional mapping between my entity classes\r\n**Order Entity**\r\n```\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name=&quot;orders&quot;)\r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\r\n    @Type(type = EntityConstants.UUID_CHAR)\r\n    @Column\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;order_tracking_number&quot;)\r\n    private String orderTrackingNumber;\r\n\r\n    @Column(name = &quot;total_quantity&quot;)\r\n    private int totalQuantity;\r\n\r\n    @Column(name = &quot;total_price&quot;)\r\n    private BigDecimal totalPrice;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private String status;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;order&quot;)\r\n    private List&lt;OrderItem&gt; orderItems ;\r\n}\r\n\r\n```\r\n**Order Items Entity**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name=&quot;order_items&quot;,schema = &quot;ecommerce&quot;)\r\npublic class OrderItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\r\n    @Type(type = EntityConstants.UUID_CHAR)\r\n    @Column\r\n    private UUID id;\r\n\r\n    @Column(name=&quot;image_url&quot;)\r\n    private String imageUrl;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private BigDecimal price;\r\n\r\n    @Column(name=&quot;quantity&quot;)\r\n    private int quantity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private Order order;\r\n}\r\n```\r\n**OrderRepository class**\r\n\r\n```\r\n@Repository\r\n@YardAuthorized\r\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\r\n    List&lt;Order&gt; findByOrderTrackingNumber(String orderTrackingNumber);\r\n}\r\n```\r\nWhen am making a call to **findByOrderTrackingNumber** method it is not returning any result.\r\nBut when I run the underlying hibernate query generated in MSSQL server it returns proper result. \r\n\r\nHere am only expecting the result only from **orders **table, not from **order_items **table. \r\nAm not able to understand why the result is empty, is OneToMany relation in my entity causing the issue? \r\n\r\nI tried to find the solution but could not find any existing answer for the same, redirect me if there in one.","title":"jpaquery not returning any result list on calling the method, but generated hibernate query returns result when run manually in MSSQL","body":"<p>When I'm making the call to JpaRepository findByOrderTrackingNumber method, it is not returning any result. I enabled the jpa-sql/hibernate logging and got the underlying query which is being generated, after running the same query manually in MSSQL server is returning the result, I am not able to understand where the issue is, Attaching the example code snippets.</p>\n<p>Am using oneToMany bidirectional mapping between my entity classes\n<strong>Order Entity</strong></p>\n<pre><code>\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Getter\n@Setter\n@Table(name=&quot;orders&quot;)\npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\n    @Type(type = EntityConstants.UUID_CHAR)\n    @Column\n    private UUID id;\n\n    @Column(name = &quot;order_tracking_number&quot;)\n    private String orderTrackingNumber;\n\n    @Column(name = &quot;total_quantity&quot;)\n    private int totalQuantity;\n\n    @Column(name = &quot;total_price&quot;)\n    private BigDecimal totalPrice;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;order&quot;)\n    private List&lt;OrderItem&gt; orderItems ;\n}\n\n</code></pre>\n<p><strong>Order Items Entity</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Getter\n@Setter\n@Table(name=&quot;order_items&quot;,schema = &quot;ecommerce&quot;)\npublic class OrderItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @GenericGenerator(name = SequentialUUIDGenerator.ID, strategy = SequentialUUIDGenerator.CLASS_NAME)\n    @Type(type = EntityConstants.UUID_CHAR)\n    @Column\n    private UUID id;\n\n    @Column(name=&quot;image_url&quot;)\n    private String imageUrl;\n\n    @Column(name = &quot;price&quot;)\n    private BigDecimal price;\n\n    @Column(name=&quot;quantity&quot;)\n    private int quantity;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private Order order;\n}\n</code></pre>\n<p><strong>OrderRepository class</strong></p>\n<pre><code>@Repository\n@YardAuthorized\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt; {\n    List&lt;Order&gt; findByOrderTrackingNumber(String orderTrackingNumber);\n}\n</code></pre>\n<p>When am making a call to <strong>findByOrderTrackingNumber</strong> method it is not returning any result.\nBut when I run the underlying hibernate query generated in MSSQL server it returns proper result.</p>\n<p>Here am only expecting the result only from **orders **table, not from **order_items **table.\nAm not able to understand why the result is empty, is OneToMany relation in my entity causing the issue?</p>\n<p>I tried to find the solution but could not find any existing answer for the same, redirect me if there in one.</p>\n"},{"tags":["java","maven","liquibase"],"answers":[{"tags":[],"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1673012047,"creation_date":1394707276,"answer_id":22376004,"question_id":22355725,"body_markdown":"I managed to get this working. The key was to use the maven *filter* element in conjunction with the *resource* element as explained in [Liquibase Documentation][1].\r\n\r\nAlso it&#39;s important to include the *resources* goal in the maven command:\r\n\r\n    mvn resources:resources liquibase:update -Plocal\r\n\r\nThis is the file hierarchy I used:\r\n\r\n\r\n    |-- pom.xml\r\n    `-- src\r\n        `-- main\r\n           |-- resources\r\n           |   `-- liquibase.properties\r\n           |   |-- changelog\r\n           |       `-- db-changelog-master.xml\r\n           |       `-- db-changelog-1.0.xml\r\n           |-- filters\r\n               |-- local\r\n               |   `-- db.properties\r\n               |-- dev\r\n               |   `-- db.properties\r\n\r\nThe db.properties file would look like the following:\r\n\r\n    database.driver = oracle.jdbc.driver.OracleDriver\r\n    database.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\r\n    database.username = user\r\n    database.password = password123\r\n\r\nThe liquibase.properties file would look like the following:\r\n\r\n    changeLogFile: changelog/db.changelog-master.xml\r\n    driver: ${database.driver}\r\n    url: ${database.url}\r\n    username: ${database.username}\r\n    password: ${database.password}\r\n    verbose: true\r\n\r\nThe POM file would look like the following:\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n             &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;3.1.0&lt;/version&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n[1]: https://docs.liquibase.com/tools-integrations/maven/using-liquibase-and-maven-pom-file.html","title":"Loading data from properties file to be used by Liquibase in Maven build","body":"<p>I managed to get this working. The key was to use the maven <em>filter</em> element in conjunction with the <em>resource</em> element as explained in <a href=\"https://docs.liquibase.com/tools-integrations/maven/using-liquibase-and-maven-pom-file.html\" rel=\"nofollow noreferrer\">Liquibase Documentation</a>.</p>\n<p>Also it's important to include the <em>resources</em> goal in the maven command:</p>\n<pre><code>mvn resources:resources liquibase:update -Plocal\n</code></pre>\n<p>This is the file hierarchy I used:</p>\n<pre><code>|-- pom.xml\n`-- src\n    `-- main\n       |-- resources\n       |   `-- liquibase.properties\n       |   |-- changelog\n       |       `-- db-changelog-master.xml\n       |       `-- db-changelog-1.0.xml\n       |-- filters\n           |-- local\n           |   `-- db.properties\n           |-- dev\n           |   `-- db.properties\n</code></pre>\n<p>The db.properties file would look like the following:</p>\n<pre><code>database.driver = oracle.jdbc.driver.OracleDriver\ndatabase.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\ndatabase.username = user\ndatabase.password = password123\n</code></pre>\n<p>The liquibase.properties file would look like the following:</p>\n<pre><code>changeLogFile: changelog/db.changelog-master.xml\ndriver: ${database.driver}\nurl: ${database.url}\nusername: ${database.username}\npassword: ${database.password}\nverbose: true\n</code></pre>\n<p>The POM file would look like the following:</p>\n<pre><code>&lt;build&gt;\n      &lt;pluginManagement&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n               &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                  &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n   &lt;/build&gt;\n\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33480,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":22376004,"answer_count":1,"score":15,"last_activity_date":1673012047,"creation_date":1394637003,"question_id":22355725,"body_markdown":"I can run Liquibase changelog through maven build (`liquibase:update` goal) without any problems. Now I&#39;d like Liquibase to use database credentials and URL loaded from a properties file (*db.properties*) depending on the selected Maven profile:\r\n\r\n    |-- pom.xml\r\n    `-- src\r\n        `-- main\r\n            `-- resources\r\n                |-- local\r\n                |   `-- db.properties\r\n                |-- dev\r\n                |   `-- db.properties\r\n                |-- prod\r\n                |   `-- db.properties\r\n                `-- db-changelog-master.xml\r\n                `-- db-changelog-1.0.xml\r\n\r\nEach of the 3 properties files would look like the following:\r\n\r\n    database.driver = oracle.jdbc.driver.OracleDriver\r\n    database.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\r\n    database.username = user\r\n    database.password = password123\r\n\r\nNow, instead of these properties being defined in the POM file itself (as explained in the accepted answer of this question https://stackoverflow.com/questions/9606585/liquibase-using-maven-with-two-databases-does-not-work), I&#39;d like them to be loaded from the external properties file. I have tried different approaches to no avail:\r\n\r\n**1. I used Maven&#39;s `resource` element in the POM file:**\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n             &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;3.1.0&lt;/version&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;changeLogFile&gt;db.changelog-master.xml&lt;/changeLogFile&gt;\r\n                      &lt;verbose&gt;true&lt;/verbose&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources/local&lt;/directory&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n            &lt;properties&gt;\r\n                &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\r\n                &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\r\n                &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\r\n                &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources/dev&lt;/directory&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n            &lt;properties&gt;\r\n                &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\r\n                &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\r\n                &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\r\n                &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n**2. I tried using the Properties Maven plugin:**\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                &lt;phase&gt;initialize&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                   &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;files&gt;\r\n                      &lt;file&gt;src/main/resources/local/db.properties&lt;/file&gt;\r\n                   &lt;/files&gt;\r\n                &lt;/configuration&gt;\r\n             &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n       &lt;/plugin&gt;\r\n\r\nWhen I run the liquibase:update maven goal, I get this this error:\r\n\r\n    [ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:3.1.0:update (default-cli) on project my-project: The driver has not been specified either as a parameter or in a properties file\r\n\r\nIt seems that the database properties referred to in the POM file couldn&#39;t be resolved.\r\n\r\nAny idea how this can be achieved ?","title":"Loading data from properties file to be used by Liquibase in Maven build","body":"<p>I can run Liquibase changelog through maven build (<code>liquibase:update</code> goal) without any problems. Now I'd like Liquibase to use database credentials and URL loaded from a properties file (<em>db.properties</em>) depending on the selected Maven profile:</p>\n\n<pre><code>|-- pom.xml\n`-- src\n    `-- main\n        `-- resources\n            |-- local\n            |   `-- db.properties\n            |-- dev\n            |   `-- db.properties\n            |-- prod\n            |   `-- db.properties\n            `-- db-changelog-master.xml\n            `-- db-changelog-1.0.xml\n</code></pre>\n\n<p>Each of the 3 properties files would look like the following:</p>\n\n<pre><code>database.driver = oracle.jdbc.driver.OracleDriver\ndatabase.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\ndatabase.username = user\ndatabase.password = password123\n</code></pre>\n\n<p>Now, instead of these properties being defined in the POM file itself (as explained in the accepted answer of this question <a href=\"https://stackoverflow.com/questions/9606585/liquibase-using-maven-with-two-databases-does-not-work\">liquibase using maven with two databases does not work</a>), I'd like them to be loaded from the external properties file. I have tried different approaches to no avail:</p>\n\n<p><strong>1. I used Maven's <code>resource</code> element in the POM file:</strong></p>\n\n<pre><code>&lt;build&gt;\n      &lt;pluginManagement&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n               &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                  &lt;changeLogFile&gt;db.changelog-master.xml&lt;/changeLogFile&gt;\n                  &lt;verbose&gt;true&lt;/verbose&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n   &lt;/build&gt;\n\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources/local&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n        &lt;properties&gt;\n            &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\n            &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\n            &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\n            &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;build&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources/dev&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n        &lt;properties&gt;\n            &lt;liquibase.url&gt;${database.url}&lt;/liquibase.url&gt;\n            &lt;liquibase.driver&gt;${database.driver}&lt;/liquibase.driver&gt;\n            &lt;liquibase.username&gt;${database.username}&lt;/liquibase.username&gt;\n            &lt;liquibase.password&gt;${database.password}&lt;/liquibase.password&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p><strong>2. I tried using the Properties Maven plugin:</strong></p>\n\n<pre><code>   &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n      &lt;executions&gt;\n         &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n               &lt;goal&gt;read-project-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n               &lt;files&gt;\n                  &lt;file&gt;src/main/resources/local/db.properties&lt;/file&gt;\n               &lt;/files&gt;\n            &lt;/configuration&gt;\n         &lt;/execution&gt;\n      &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n\n<p>When I run the liquibase:update maven goal, I get this this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:3.1.0:update (default-cli) on project my-project: The driver has not been specified either as a parameter or in a properties file\n</code></pre>\n\n<p>It seems that the database properties referred to in the POM file couldn't be resolved.</p>\n\n<p>Any idea how this can be achieved ?</p>\n"},{"tags":["java","stream","java-stream","spliterator"],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673011599,"creation_date":1673011599,"answer_id":75031551,"question_id":75031180,"body_markdown":"`Consumer&lt;? super Integer&gt; action` expects to accept objects of type `Integer` but you are supplying objects of type `List&lt;Integer&gt;`.\r\n\r\nThis can&#39;t possible compile:\r\n```\r\nConsumer&lt;? super Integer&gt; action = // ...\r\naction.accept(new ArrayList&lt;Integer&gt;());\r\n```\r\n\r\nThis could:\r\n\r\n```\r\nConsumer&lt;? super ArrayList&lt;Integer&gt;&gt; action = // ...\r\naction.accept(new ArrayList&lt;Integer&gt;());\r\n```","title":"Process a list by chunks generated using Spliterator instance type error","body":"<p><code>Consumer&lt;? super Integer&gt; action</code> expects to accept objects of type <code>Integer</code> but you are supplying objects of type <code>List&lt;Integer&gt;</code>.</p>\n<p>This can't possible compile:</p>\n<pre><code>Consumer&lt;? super Integer&gt; action = // ...\naction.accept(new ArrayList&lt;Integer&gt;());\n</code></pre>\n<p>This could:</p>\n<pre><code>Consumer&lt;? super ArrayList&lt;Integer&gt;&gt; action = // ...\naction.accept(new ArrayList&lt;Integer&gt;());\n</code></pre>\n"}],"owner":{"account_id":2595877,"reputation":3223,"user_id":2249582,"accept_rate":68,"display_name":"Radioreve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031551,"answer_count":1,"score":0,"last_activity_date":1673011599,"creation_date":1673009538,"question_id":75031180,"body_markdown":"In this program, there is a type error which I can&#39;t seem to be able to fix. The program was generated by ChatGPT and all other implementations he generated were correct. What did it miss ?\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n    // Create a stream of integers from 1 to 10\r\n    IntStream stream = IntStream.range(1, 11);\r\n\r\n    // Process the stream in chunks of size 3 using a spliterator\r\n    int chunkSize = 3;\r\n    List&lt;List&lt;Integer&gt;&gt; chunks =\r\n        StreamSupport.stream(\r\n                new Spliterator&lt;Integer&gt;() {\r\n                  private final Spliterator&lt;Integer&gt; spliterator = stream.spliterator();\r\n                  private final List&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(chunkSize);\r\n\r\n                  @Override\r\n                  public boolean tryAdvance(Consumer&lt;? super Integer&gt; action) {\r\n                    if (chunk.size() == chunkSize) {\r\n                      action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\r\n                      chunk.clear();\r\n                      return true;\r\n                    }\r\n                    if (spliterator.tryAdvance(\r\n                        elem -&gt; {\r\n                          chunk.add(elem);\r\n                          if (chunk.size() == chunkSize) {\r\n                            action.accept(new ArrayList&lt;&gt;(chunk));  // TypeError\r\n                            chunk.clear();\r\n                          }\r\n                        })) {\r\n                      if (!chunk.isEmpty()) {\r\n                        action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\r\n                        chunk.clear();\r\n                      }\r\n                      return true;\r\n                    }\r\n                    return false;\r\n                  }\r\n\r\n                  @Override\r\n                  public Spliterator&lt;Integer&gt; trySplit() {\r\n                    return null;\r\n                  }\r\n\r\n                  @Override\r\n                  public long estimateSize() {\r\n                    return spliterator.estimateSize();\r\n                  }\r\n\r\n                  @Override\r\n                  public int characteristics() {\r\n                    return spliterator.characteristics();\r\n                  }\r\n                },\r\n                false)\r\n            .toList();\r\n\r\n    // Print the chunks\r\n    for (List&lt;Integer&gt; chunk : chunks) {\r\n      System.out.println(chunk);\r\n    }\r\n   }","title":"Process a list by chunks generated using Spliterator instance type error","body":"<p>In this program, there is a type error which I can't seem to be able to fix. The program was generated by ChatGPT and all other implementations he generated were correct. What did it miss ?</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n\n// Create a stream of integers from 1 to 10\nIntStream stream = IntStream.range(1, 11);\n\n// Process the stream in chunks of size 3 using a spliterator\nint chunkSize = 3;\nList&lt;List&lt;Integer&gt;&gt; chunks =\n    StreamSupport.stream(\n            new Spliterator&lt;Integer&gt;() {\n              private final Spliterator&lt;Integer&gt; spliterator = stream.spliterator();\n              private final List&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(chunkSize);\n\n              @Override\n              public boolean tryAdvance(Consumer&lt;? super Integer&gt; action) {\n                if (chunk.size() == chunkSize) {\n                  action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\n                  chunk.clear();\n                  return true;\n                }\n                if (spliterator.tryAdvance(\n                    elem -&gt; {\n                      chunk.add(elem);\n                      if (chunk.size() == chunkSize) {\n                        action.accept(new ArrayList&lt;&gt;(chunk));  // TypeError\n                        chunk.clear();\n                      }\n                    })) {\n                  if (!chunk.isEmpty()) {\n                    action.accept(new ArrayList&lt;&gt;(chunk));    // TypeError\n                    chunk.clear();\n                  }\n                  return true;\n                }\n                return false;\n              }\n\n              @Override\n              public Spliterator&lt;Integer&gt; trySplit() {\n                return null;\n              }\n\n              @Override\n              public long estimateSize() {\n                return spliterator.estimateSize();\n              }\n\n              @Override\n              public int characteristics() {\n                return spliterator.characteristics();\n              }\n            },\n            false)\n        .toList();\n\n// Print the chunks\nfor (List&lt;Integer&gt; chunk : chunks) {\n  System.out.println(chunk);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1571988729,"post_id":58554059,"comment_id":103427810,"body_markdown":"Post your entire code, it seems there is something more, e.g. the `Config` inizialitation. Post the `main` method","body":"Post your entire code, it seems there is something more, e.g. the <code>Config</code> inizialitation. Post the <code>main</code> method"},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1571989488,"post_id":58554059,"comment_id":103428131,"body_markdown":"I think you need to use `Config&lt;T&gt;` in your init function","body":"I think you need to use <code>Config&lt;T&gt;</code> in your init function"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673011394,"creation_date":1571990090,"answer_id":58554398,"question_id":58554059,"body_markdown":"It seems like you have not understood the difference between `&lt;? extends IEntity&gt;` and `&lt;T extends IEntity&gt;`.\r\n\r\nLet&#39;s introduce two subclasses of `IEntity`, and a constructor for `Config` for a clearer explanation:\r\n\r\n    class Entity1 extends IEntity {}\r\n    class Entity2 extends IEntity {}\r\n\r\n    // in Config class\r\n    public Config(Class&lt;? extends IEntity&gt; clazz) {\r\n        this.clazz = clazz;\r\n    }\r\n\r\nAt the line `this.clazz=config.getClazz();`, you are trying to assign a `Class&lt;? extends IEntity&gt;` to a `Class&lt;T&gt;`, where `T` is a subclass of `IEntity` or `IEntity` itself. The problem is, we don&#39;t know exactly what type of class `getClazz` returns. It could be `Class&lt;Entity1&gt;`, or `Class&lt;Entity2&gt;`. On the other hand, we _do_ know what type we need - `Class&lt;T&gt;`. How can we make sure that whatever `getClazz` returns, is the same type of class as `Class&lt;T&gt;`? `T` could be `Entity2` but `getClazz` could return `Class&lt;Entity1&gt;`, couldn&#39;t it?\r\n\r\nHere&#39;s a concrete example with code:\r\n\r\n    Config c = new Config(Entity1.class);\r\n    // c.config now contains Entity1.class\r\n    // the line below will attempt to assign an Entity1.class to a variable of type Class&lt;Entity2&gt;\r\n    new EntityTest&lt;Entity2&gt;().init(c);\r\n\r\nYou should now see why there is an error in `init`.\r\n\r\nOne way to make sure that `getClazz` returns the same type of class as `Class&lt;T&gt;` is to make `Config` generic too:\r\n\r\n    class Config&lt;T extends IEntity&gt; {\r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public Class&lt;T&gt; getClazz(){\r\n            return this.clazz;\r\n        }\r\n    }\r\n    \r\n    class EntityTest&lt;T extends IEntity&gt; {\r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public void init(Config&lt;T&gt; config){\r\n            this.clazz=config.getClazz();\r\n        }\r\n    }\r\n","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p>It seems like you have not understood the difference between <code>&lt;? extends IEntity&gt;</code> and <code>&lt;T extends IEntity&gt;</code>.</p>\n<p>Let's introduce two subclasses of <code>IEntity</code>, and a constructor for <code>Config</code> for a clearer explanation:</p>\n<pre><code>class Entity1 extends IEntity {}\nclass Entity2 extends IEntity {}\n\n// in Config class\npublic Config(Class&lt;? extends IEntity&gt; clazz) {\n    this.clazz = clazz;\n}\n</code></pre>\n<p>At the line <code>this.clazz=config.getClazz();</code>, you are trying to assign a <code>Class&lt;? extends IEntity&gt;</code> to a <code>Class&lt;T&gt;</code>, where <code>T</code> is a subclass of <code>IEntity</code> or <code>IEntity</code> itself. The problem is, we don't know exactly what type of class <code>getClazz</code> returns. It could be <code>Class&lt;Entity1&gt;</code>, or <code>Class&lt;Entity2&gt;</code>. On the other hand, we <em>do</em> know what type we need - <code>Class&lt;T&gt;</code>. How can we make sure that whatever <code>getClazz</code> returns, is the same type of class as <code>Class&lt;T&gt;</code>? <code>T</code> could be <code>Entity2</code> but <code>getClazz</code> could return <code>Class&lt;Entity1&gt;</code>, couldn't it?</p>\n<p>Here's a concrete example with code:</p>\n<pre><code>Config c = new Config(Entity1.class);\n// c.config now contains Entity1.class\n// the line below will attempt to assign an Entity1.class to a variable of type Class&lt;Entity2&gt;\nnew EntityTest&lt;Entity2&gt;().init(c);\n</code></pre>\n<p>You should now see why there is an error in <code>init</code>.</p>\n<p>One way to make sure that <code>getClazz</code> returns the same type of class as <code>Class&lt;T&gt;</code> is to make <code>Config</code> generic too:</p>\n<pre><code>class Config&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public Class&lt;T&gt; getClazz(){\n        return this.clazz;\n    }\n}\n\nclass EntityTest&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public void init(Config&lt;T&gt; config){\n        this.clazz=config.getClazz();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15182976,"reputation":23,"user_id":10955811,"display_name":"justinfiled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571990305,"creation_date":1571990305,"answer_id":58554458,"question_id":58554059,"body_markdown":"   `&lt;? extend IEntity&gt;` indicates that the class must be IEntity or it&#39;s subclass. The &quot;T&quot; in your code is just one subclass of IEntity(there can be many subclasses of `&lt;? extend IEntity&gt;`), you could not be sure that `&lt;? extend IEntity&gt;` is same as &quot;T&quot; or is subclass of &quot;T&quot; . so the type cast is illegale.","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p><code>&lt;? extend IEntity&gt;</code> indicates that the class must be IEntity or it's subclass. The \"T\" in your code is just one subclass of IEntity(there can be many subclasses of <code>&lt;? extend IEntity&gt;</code>), you could not be sure that <code>&lt;? extend IEntity&gt;</code> is same as \"T\" or is subclass of \"T\" . so the type cast is illegale.</p>\n"}],"owner":{"account_id":14150229,"reputation":21,"user_id":10222341,"display_name":"LONGZHU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673011394,"creation_date":1571988531,"question_id":58554059,"body_markdown":"There are three class,class IEntity is an abstract class,which is only used for generic.\r\n\r\nClass one:\r\n\r\n```java\r\npublic abstract class IEntity {\r\n}\r\n```\r\n\r\nclass two:\r\n\r\n```java\r\npublic class Config {\r\n    private Class&lt;? extends IEntity&gt; clazz;\r\n\r\n    public Class&lt;? extends IEntity&gt; getClazz(){\r\n        return this.clazz;\r\n    }\r\n}\r\n```\r\n\r\nclass three:\r\n\r\n```java\r\npublic class EntityTest&lt;T extends IEntity&gt; {\r\n    private Class&lt;T&gt; clazz;\r\n\r\n    public void init(Config config){\r\n       //Here is the wrong report\r\n       // Failed to compile\r\n        this.clazz=config.getClazz();\r\n    }\r\n}\r\n```","title":"Inconvertible types; cannot cast &#39;caputure&lt;? extends IEntity&gt;&#39;to &#39;java.lang.Class&lt;T&gt;&#39;","body":"<p>There are three class,class IEntity is an abstract class,which is only used for generic.</p>\n\n<p>Class one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class IEntity {\n}\n</code></pre>\n\n<p>class two:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Config {\n    private Class&lt;? extends IEntity&gt; clazz;\n\n    public Class&lt;? extends IEntity&gt; getClazz(){\n        return this.clazz;\n    }\n}\n</code></pre>\n\n<p>class three:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityTest&lt;T extends IEntity&gt; {\n    private Class&lt;T&gt; clazz;\n\n    public void init(Config config){\n       //Here is the wrong report\n       // Failed to compile\n        this.clazz=config.getClazz();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","processing",".obj"],"owner":{"account_id":27033810,"reputation":21,"user_id":20589753,"display_name":"mbbl33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673011146,"creation_date":1673011146,"question_id":75031470,"body_markdown":"I am trying to draw an .obj file offscreen under Android.\r\nThe image should then be passed to OpenCV for further use as a matrix.\r\n\r\nIn 2D the whole thing already works without problems.\r\n\r\n\r\n\r\n```java\r\npublic class ObjDrawer extends PApplet {\r\n\r\n    PGraphics buffer;\r\n    PShape obj;\r\n    int width;\r\n    int height;\r\n\r\n    public ObjDrawer(int width, int height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        setup();\r\n    }\r\n\r\n    @Override\r\n    public void setup() {\r\n        buffer = createGraphics(this.width, this.height, P3D);\r\n        //obj = loadShape(&quot;Wuerfel_40mm.obj&quot;);\r\n        noLoop();\r\n    }\r\n\r\n    public Mat testDraw() {\r\n        buffer.beginDraw();\r\n        buffer.background(255);\r\n        buffer.ellipse(200, 200, 100, 100);\r\n        //buffer.shape(obj);\r\n        buffer.endDraw();\r\n        return toMat(buffer.get());\r\n    }\r\n\r\n    Mat toMat(PImage image) {\r\n        //source: https://gist.github.com/Spaxe/3543f0005e9f8f3c4dc5\r\n        int w = image.width;\r\n        int h = image.height;\r\n\r\n        Mat mat = new Mat(h, w, CvType.CV_8UC4);\r\n        byte[] data8 = new byte[w * h * 4];\r\n        int[] data32 = new int[w * h];\r\n        arrayCopy(image.pixels, data32);\r\n        ByteBuffer bBuf = ByteBuffer.allocate(w * h * 4);\r\n        IntBuffer iBuf = bBuf.asIntBuffer();\r\n        iBuf.put(data32);\r\n        bBuf.get(data8);\r\n        mat.put(0, 0, data8);\r\n        return mat;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen using 3D, I now get the following error message:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean processing.core.PGraphics.isGL()&#39; on a null object reference\r\n\tat processing.core.PApplet.makeGraphics(PApplet.java:1584)\r\n\tat processing.core.PApplet.createGraphics(PApplet.java:1568)\r\n\tat Analyzer.ObjDrawer.setup(ObjDrawer.java:52)\r\n\tat Analyzer.ObjDrawer.&lt;init&gt;(ObjDrawer.java:45)\r\n\tat com.quickbirdstudios.opencvexample.MainActivity$cvCameraViewListener$1.onCameraFrame(MainActivity.kt:75)\r\n\tat org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:392)\r\n\tat org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:373)\r\n\tat java.lang.Thread.run(Thread.java:920)\r\n```\r\n\r\nIn my research I read about a3d, this is missing for me. Since all the stuff I found regarding a3d was about 10 years old: has anything changed in this regard or has it been replaced or do I need to include this separately?\r\n\r\nI have included Processing as in the tutorial on [https://android.processing.org/tutorials/android_studio/index.html](https://android.processing.org/tutorials/android_studio/index.html)\r\n\r\nintegrated. I use Android Mode for Processing 3 4.3.0, because the mode manager in Processing 4 is currently broken.\r\n\r\nmany thanks in advance!","title":"draw an .obj file offscreen under android with processing","body":"<p>I am trying to draw an .obj file offscreen under Android.\nThe image should then be passed to OpenCV for further use as a matrix.</p>\n<p>In 2D the whole thing already works without problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjDrawer extends PApplet {\n\n    PGraphics buffer;\n    PShape obj;\n    int width;\n    int height;\n\n    public ObjDrawer(int width, int height) {\n        this.width = width;\n        this.height = height;\n        setup();\n    }\n\n    @Override\n    public void setup() {\n        buffer = createGraphics(this.width, this.height, P3D);\n        //obj = loadShape(&quot;Wuerfel_40mm.obj&quot;);\n        noLoop();\n    }\n\n    public Mat testDraw() {\n        buffer.beginDraw();\n        buffer.background(255);\n        buffer.ellipse(200, 200, 100, 100);\n        //buffer.shape(obj);\n        buffer.endDraw();\n        return toMat(buffer.get());\n    }\n\n    Mat toMat(PImage image) {\n        //source: https://gist.github.com/Spaxe/3543f0005e9f8f3c4dc5\n        int w = image.width;\n        int h = image.height;\n\n        Mat mat = new Mat(h, w, CvType.CV_8UC4);\n        byte[] data8 = new byte[w * h * 4];\n        int[] data32 = new int[w * h];\n        arrayCopy(image.pixels, data32);\n        ByteBuffer bBuf = ByteBuffer.allocate(w * h * 4);\n        IntBuffer iBuf = bBuf.asIntBuffer();\n        iBuf.put(data32);\n        bBuf.get(data8);\n        mat.put(0, 0, data8);\n        return mat;\n    }\n\n}\n</code></pre>\n<p>When using 3D, I now get the following error message:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean processing.core.PGraphics.isGL()' on a null object reference\n    at processing.core.PApplet.makeGraphics(PApplet.java:1584)\n    at processing.core.PApplet.createGraphics(PApplet.java:1568)\n    at Analyzer.ObjDrawer.setup(ObjDrawer.java:52)\n    at Analyzer.ObjDrawer.&lt;init&gt;(ObjDrawer.java:45)\n    at com.quickbirdstudios.opencvexample.MainActivity$cvCameraViewListener$1.onCameraFrame(MainActivity.kt:75)\n    at org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:392)\n    at org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:373)\n    at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n<p>In my research I read about a3d, this is missing for me. Since all the stuff I found regarding a3d was about 10 years old: has anything changed in this regard or has it been replaced or do I need to include this separately?</p>\n<p>I have included Processing as in the tutorial on <a href=\"https://android.processing.org/tutorials/android_studio/index.html\" rel=\"nofollow noreferrer\">https://android.processing.org/tutorials/android_studio/index.html</a></p>\n<p>integrated. I use Android Mode for Processing 3 4.3.0, because the mode manager in Processing 4 is currently broken.</p>\n<p>many thanks in advance!</p>\n"},{"tags":["javascript","java","jsp","webpack","esbuild"],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673011098,"creation_date":1672988573,"question_id":75027915,"body_markdown":"I have a legacy Java app using JS inside JSPs. We statically import JS dependencies from filesystem into our JSP files, some of them are old JS dependencies, some of them are newer and use the import/export JS feature. \r\n\r\n**For the module-based dependencies I&#39;d like to bundle them.** Most if not all bundlers I am familiar with, like webpack/esbuild uses an entry point to analyze the usage of dependencies and then bundles all dependencies and all app code used from entry-point onwards and puts them all in one big file\r\n\r\nMy JSP page spit JS code like so\r\n\r\n    &lt;script type=&quot;module&quot;&gt;\r\n       // do some stuff...\r\n       import { RFB } from &#39;rfb.js&#39; // dozen of js files \r\n                                    // referenced, that is why\r\n                                    // i want to bundle them \r\n                                    // into just one js file...\r\n       // do some stuff with RFB\r\n    &lt;/script&gt;\r\n\r\nThen in the a dummy entrypoint I&#39;d like to do that same import in a separate esbuild project for the purpose of bundling the module in one js file.\r\n\r\n**The idea is to use a dummy entry point that imports the elements I know I use in my JSP application and use that project (webpack/esbuild) for the purpose of using its bundling functionality.** However, the bundle usually has this format\r\n\r\n    1. (() =&gt; {\r\n    2. // - Dependencies 1, 2, N goes here\r\n    3. // - import/export statements removed.\r\n    4. //\r\n    5. // - entry-point code\r\n    6. // - app code\r\n    7. })();\r\n\r\nOf course if I import this file into my JSP file I can&#39;t access the dependencies. I was thinking of doing one of these 2 things:\r\n1. I could add in the entry-point something like: `window.ClassIAmInterested = ClassIAmInterested` then that class will be available in the global scope of my JSP page. \r\n2. I could remove the lines 1 and 7 of the bundle and then everything would be available in the global scope.\r\n\r\nAnd although either of the 2 options might work I don&#39;t fully understand the implications of doing it. I know I am trying to use the bundlers in a way they are not designed, since I explicitly want to use the entry point as a dummy code that will just import whatever I know I use in my JSP pages. So **I need clarity regarding if what I am trying to do is ok or if there is a better way of doing it.**\r\n\r\n\r\n     ","title":"Using a JS bundler with a dummy entry point just for bundling purposes","body":"<p>I have a legacy Java app using JS inside JSPs. We statically import JS dependencies from filesystem into our JSP files, some of them are old JS dependencies, some of them are newer and use the import/export JS feature.</p>\n<p><strong>For the module-based dependencies I'd like to bundle them.</strong> Most if not all bundlers I am familiar with, like webpack/esbuild uses an entry point to analyze the usage of dependencies and then bundles all dependencies and all app code used from entry-point onwards and puts them all in one big file</p>\n<p>My JSP page spit JS code like so</p>\n<pre><code>&lt;script type=&quot;module&quot;&gt;\n   // do some stuff...\n   import { RFB } from 'rfb.js' // dozen of js files \n                                // referenced, that is why\n                                // i want to bundle them \n                                // into just one js file...\n   // do some stuff with RFB\n&lt;/script&gt;\n</code></pre>\n<p>Then in the a dummy entrypoint I'd like to do that same import in a separate esbuild project for the purpose of bundling the module in one js file.</p>\n<p><strong>The idea is to use a dummy entry point that imports the elements I know I use in my JSP application and use that project (webpack/esbuild) for the purpose of using its bundling functionality.</strong> However, the bundle usually has this format</p>\n<pre><code>1. (() =&gt; {\n2. // - Dependencies 1, 2, N goes here\n3. // - import/export statements removed.\n4. //\n5. // - entry-point code\n6. // - app code\n7. })();\n</code></pre>\n<p>Of course if I import this file into my JSP file I can't access the dependencies. I was thinking of doing one of these 2 things:</p>\n<ol>\n<li>I could add in the entry-point something like: <code>window.ClassIAmInterested = ClassIAmInterested</code> then that class will be available in the global scope of my JSP page.</li>\n<li>I could remove the lines 1 and 7 of the bundle and then everything would be available in the global scope.</li>\n</ol>\n<p>And although either of the 2 options might work I don't fully understand the implications of doing it. I know I am trying to use the bundlers in a way they are not designed, since I explicitly want to use the entry point as a dummy code that will just import whatever I know I use in my JSP pages. So <strong>I need clarity regarding if what I am trying to do is ok or if there is a better way of doing it.</strong></p>\n"},{"tags":["java","file","gradle","intellij-idea","file-watcher"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673012167,"post_id":75031439,"comment_id":132407422,"body_markdown":"Do you want [Continuous Build](https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:continuous_build)?","body":"Do you want <a href=\"https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:continuous_build\" rel=\"nofollow noreferrer\">Continuous Build</a>?"},{"owner":{"account_id":236120,"reputation":21353,"user_id":503402,"accept_rate":84,"display_name":"Max"},"score":0,"creation_date":1673017187,"post_id":75031439,"comment_id":132409198,"body_markdown":"Do you need this in order to produce some artifact that another gradle task needs? Because the idiomatic way to do that is to just make gradle aware of the dependency and how to produce the artifact so that rather than being generated every time the file is modified it instead runs the task lazily at the moment it is actually needed.","body":"Do you need this in order to produce some artifact that another gradle task needs? Because the idiomatic way to do that is to just make gradle aware of the dependency and how to produce the artifact so that rather than being generated every time the file is modified it instead runs the task lazily at the moment it is actually needed."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1673252713,"post_id":75031439,"comment_id":132448013,"body_markdown":"In the Gradle tool window, you can assign a shortcut, e.g. Ctrl+S to a specific Gradle task.","body":"In the Gradle tool window, you can assign a shortcut, e.g. Ctrl+S to a specific Gradle task."},{"owner":{"account_id":9062629,"reputation":25,"user_id":6748681,"display_name":"Vahe Karamyan"},"score":0,"creation_date":1673445588,"post_id":75031439,"comment_id":132500688,"body_markdown":"Let me tell you the case so we are clear.\nI have XML data based on which an enum is generated by Gradle task using Javapoet lib. Basically, I want that enum code to be immediately generated after I make changes to the source file, so I can use the fields, otherwise, I will have to remember to run the Gradle script every time I change the XML.\nHope the case is clear.","body":"Let me tell you the case so we are clear. I have XML data based on which an enum is generated by Gradle task using Javapoet lib. Basically, I want that enum code to be immediately generated after I make changes to the source file, so I can use the fields, otherwise, I will have to remember to run the Gradle script every time I change the XML. Hope the case is clear."}],"owner":{"account_id":9062629,"reputation":25,"user_id":6748681,"display_name":"Vahe Karamyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673010970,"creation_date":1673010970,"question_id":75031439,"body_markdown":"The project I am working on is Java, Gradle based. So I want to create a plugin/script that will run a certain Gradle task whenever I made changes to one of the files from the project. \r\n\r\nFor example \r\n\r\nThere is A.xml file and a B Gradle task. Whenever I do changes to A.xml and save it I want the B Gradle task to be run.\r\n\r\nI am using IntelliJ IDEA, and my initial thoughts are that it could be solved through plugins/scripts.\r\n\r\nCan you suggest where to start? Should it be done through plugins? Maybe there are automatisation settings in IntelliJ that have file watchers or smth. Thanks.\r\n\r\nI tried to search similiar plugins, and didn&#39;t find any. Read documentation for plugin creation, I think I can reach the result, but isn&#39;t it overhead?","title":"How to automate Gradle task running","body":"<p>The project I am working on is Java, Gradle based. So I want to create a plugin/script that will run a certain Gradle task whenever I made changes to one of the files from the project.</p>\n<p>For example</p>\n<p>There is A.xml file and a B Gradle task. Whenever I do changes to A.xml and save it I want the B Gradle task to be run.</p>\n<p>I am using IntelliJ IDEA, and my initial thoughts are that it could be solved through plugins/scripts.</p>\n<p>Can you suggest where to start? Should it be done through plugins? Maybe there are automatisation settings in IntelliJ that have file watchers or smth. Thanks.</p>\n<p>I tried to search similiar plugins, and didn't find any. Read documentation for plugin creation, I think I can reach the result, but isn't it overhead?</p>\n"},{"tags":["java","android","payumoney","payu"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":1,"creation_date":1672925217,"post_id":75019112,"comment_id":132385627,"body_markdown":"what is your code? what is the error in the logcat? paste it with your question so anyone can help you","body":"what is your code? what is the error in the logcat? paste it with your question so anyone can help you"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672934102,"post_id":75019112,"comment_id":132389203,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11672847,"reputation":204,"user_id":8547372,"display_name":"Dharmeet Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672925543,"creation_date":1672925543,"answer_id":75019221,"question_id":75019112,"body_markdown":"This might help\r\n`public class PayUMoneyActivity extends AppCompatActivity {\r\n\r\n    /**\r\n     * Adding WebView as setContentView\r\n     */\r\n    WebView webView;\r\n\r\n    /**\r\n     * Context for Activity\r\n     */\r\n    Context activity;\r\n    /**\r\n     * Order Id\r\n     * To Request for Updating Payment Status if Payment Successfully Done\r\n     */\r\n    int mId; //Getting from Previous Activity\r\n    /**\r\n     * Required Fields\r\n     */\r\n    // Test Variables\r\n    /*\r\n    private String mMerchantKey = &quot;FCyqqZ&quot;;\r\n    private String mSalt = &quot;sfBpGA8E&quot;;\r\n    private String mBaseURL = &quot;https://test.payu.in&quot;;\r\n    */\r\n\r\n    // Final Variables\r\n    private String mMerchantKey = &quot;Your Merchant Key&quot;;\r\n    private String mSalt = &quot;Salt&quot;;\r\n    private String mBaseURL = &quot;https://secure.payu.in&quot;;\r\n\r\n\r\n    private String mAction = &quot;&quot;; // For Final URL\r\n    private String mTXNId; // This will create below randomly\r\n    private String mHash; // This will create below randomly\r\n    private String mProductInfo = &quot;Food Items&quot;; //Passing String only\r\n    private String mFirstName; // From Previous Activity\r\n    private String mEmailId; // From Previous Activity\r\n    private double mAmount; // From Previous Activity\r\n    private String mPhone; // From Previous Activity\r\n    private String mServiceProvider = &quot;payu_paisa&quot;;\r\n    private String mSuccessUrl = &quot;your success URL&quot;;\r\n    private String mFailedUrl = &quot;Your Failure URL&quot;;\r\n\r\n\r\n    boolean isFromOrder;\r\n    /**\r\n     * Handler\r\n     */\r\n    Handler mHandler = new Handler();\r\n\r\n    /**\r\n     * @param savedInstanceState\r\n     */\r\n    @SuppressLint({&quot;AddJavascriptInterface&quot;, &quot;SetJavaScriptEnabled&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        getWindow().requestFeature(Window.FEATURE_PROGRESS);\r\n        super.onCreate(savedInstanceState);\r\n\r\n        /**\r\n        * Setting WebView to Screen\r\n        */\r\n        setContentView(R.layout.activity_webview_for_payumoney);\r\n\r\n        /**\r\n         * Creating WebView\r\n         */\r\n        webView = (WebView) findViewById(R.id.payumoney_webview);\r\n\r\n        /**\r\n         * Context Variable\r\n         */\r\n        activity = getApplicationContext();\r\n\r\n        /**\r\n         * Actionbar Settings\r\n         */\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBar ab = getSupportActionBar();\r\n        ab.setDisplayHomeAsUpEnabled(true);\r\n        // enabling action bar app icon and behaving it as toggle button\r\n        ab.setHomeButtonEnabled(true);\r\n        ab.setTitle(getString(R.string.title_activity_online_payment));\r\n\r\n        /**\r\n         * Getting Intent Variables...\r\n         */\r\n        Bundle bundle = getIntent().getExtras();\r\n        if (bundle != null) {\r\n\r\n            mFirstName = bundle.getString(&quot;name&quot;);\r\n            mEmailId = bundle.getString(&quot;email&quot;);\r\n            mAmount = bundle.getDouble(&quot;amount&quot;);\r\n            mPhone = bundle.getString(&quot;phone&quot;);\r\n            mId = bundle.getInt(&quot;id&quot;);\r\n            isFromOrder = bundle.getBoolean(&quot;isFromOrder&quot;);\r\n\r\n            Log.i(TAG, &quot;&quot; + mFirstName + &quot; : &quot; + mEmailId + &quot; : &quot; + mAmount + &quot; : &quot; + mPhone);\r\n\r\n            /**\r\n             * Creating Transaction Id\r\n             */\r\n            Random rand = new Random();\r\n            String randomString = Integer.toString(rand.nextInt()) + (System.currentTimeMillis() / 1000L);\r\n            mTXNId = hashCal(&quot;SHA-256&quot;, randomString).substring(0, 20);\r\n\r\n            mAmount = new BigDecimal(mAmount).setScale(0, RoundingMode.UP).intValue();\r\n\r\n            /**\r\n             * Creating Hash Key\r\n             */\r\n            mHash = hashCal(&quot;SHA-512&quot;, mMerchantKey + &quot;|&quot; +\r\n                    mTXNId + &quot;|&quot; +\r\n                    mAmount + &quot;|&quot; +\r\n                    mProductInfo + &quot;|&quot; +\r\n                    mFirstName + &quot;|&quot; +\r\n                    mEmailId + &quot;|||||||||||&quot; +\r\n                    mSalt);\r\n\r\n            /**\r\n             * Final Action URL...\r\n             */\r\n            mAction = mBaseURL.concat(&quot;/_payment&quot;);\r\n\r\n            /**\r\n             * WebView Client\r\n             */\r\n            webView.setWebViewClient(new WebViewClient() {\r\n\r\n                @Override\r\n                public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\r\n                    super.onReceivedError(view, request, error);\r\n                    Toast.makeText(activity, &quot;Oh no! &quot; + error, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onReceivedSslError(WebView view,\r\n                                               SslErrorHandler handler, SslError error) {\r\n                    Toast.makeText(activity, &quot;SSL Error! &quot; + error, Toast.LENGTH_SHORT).show();\r\n                    handler.proceed();\r\n                }\r\n\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    return super.shouldOverrideUrlLoading(view, url);\r\n                }\r\n\r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n\r\n                    if (url.equals(mSuccessUrl)) {\r\n                        Intent intent = new Intent(PayUMoneyActivity.this, PaymentStatusActivity.class);\r\n                        intent.putExtra(&quot;status&quot;, true);\r\n                        intent.putExtra(&quot;transaction_id&quot;, mTXNId);\r\n                        intent.putExtra(&quot;id&quot;, mId);\r\n                        intent.putExtra(&quot;isFromOrder&quot;, isFromOrder);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n                    } else if (url.equals(mFailedUrl)) {\r\n                        Intent intent = new Intent(PayUMoneyActivity.this, PaymentStatusActivity.class);\r\n                        intent.putExtra(&quot;status&quot;, false);\r\n                        intent.putExtra(&quot;transaction_id&quot;, mTXNId);\r\n                        intent.putExtra(&quot;id&quot;, mId);\r\n                        intent.putExtra(&quot;isFromOrder&quot;, isFromOrder);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n                    }\r\n                    super.onPageFinished(view, url);\r\n                }\r\n            });\r\n\r\n            webView.setVisibility(View.VISIBLE);\r\n            webView.getSettings().setBuiltInZoomControls(true);\r\n            webView.getSettings().setCacheMode(2);\r\n            webView.getSettings().setDomStorageEnabled(true);\r\n            webView.clearHistory();\r\n            webView.clearCache(true);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.getSettings().setSupportZoom(true);\r\n            webView.getSettings().setUseWideViewPort(false);\r\n            webView.getSettings().setLoadWithOverviewMode(false);\r\n            webView.addJavascriptInterface(new PayUJavaScriptInterface(PayUMoneyActivity.this), &quot;PayUMoney&quot;);\r\n\r\n            /**\r\n             * Mapping Compulsory Key Value Pairs\r\n             */\r\n            Map&lt;String, String&gt; mapParams = new HashMap&lt;&gt;();\r\n\r\n            mapParams.put(&quot;key&quot;, mMerchantKey);\r\n            mapParams.put(&quot;txnid&quot;, mTXNId);\r\n            mapParams.put(&quot;amount&quot;, String.valueOf(mAmount));\r\n            mapParams.put(&quot;productinfo&quot;, mProductInfo);\r\n            mapParams.put(&quot;firstname&quot;, mFirstName);\r\n            mapParams.put(&quot;email&quot;, mEmailId);\r\n            mapParams.put(&quot;phone&quot;, mPhone);\r\n            mapParams.put(&quot;surl&quot;, mSuccessUrl);\r\n            mapParams.put(&quot;furl&quot;, mFailedUrl);\r\n            mapParams.put(&quot;hash&quot;, mHash);\r\n            mapParams.put(&quot;service_provider&quot;, mServiceProvider);\r\n\r\n            webViewClientPost(webView, mAction, mapParams.entrySet());\r\n        } else {\r\n            Toast.makeText(activity, &quot;Something went wrong, Try again.&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Posting Data on PayUMoney Site with Form\r\n     *\r\n     * @param webView\r\n     * @param url\r\n     * @param postData\r\n     */\r\n    public void webViewClientPost(WebView webView, String url,\r\n                                  Collection&lt;Map.Entry&lt;String, String&gt;&gt; postData) {\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&quot;);\r\n        sb.append(&quot;&lt;body onload=&#39;form1.submit()&#39;&gt;&quot;);\r\n        sb.append(String.format(&quot;&lt;form id=&#39;form1&#39; action=&#39;%s&#39; method=&#39;%s&#39;&gt;&quot;, url, &quot;post&quot;));\r\n\r\n        for (Map.Entry&lt;String, String&gt; item : postData) {\r\n            sb.append(String.format(&quot;&lt;input name=&#39;%s&#39; type=&#39;hidden&#39; value=&#39;%s&#39; /&gt;&quot;, item.getKey(), item.getValue()));\r\n        }\r\n        sb.append(&quot;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n        Log.d(&quot;TAG&quot;, &quot;webViewClientPost called: &quot; + sb.toString());\r\n        webView.loadData(sb.toString(), &quot;text/html&quot;, &quot;utf-8&quot;);\r\n    }\r\n\r\n    /**\r\n     * Hash Key Calculation\r\n     *\r\n     * @param type\r\n     * @param str\r\n     * @return\r\n     */\r\n    public String hashCal(String type, String str) {\r\n        byte[] hashSequence = str.getBytes();\r\n        StringBuffer hexString = new StringBuffer();\r\n        try {\r\n            MessageDigest algorithm = MessageDigest.getInstance(type);\r\n            algorithm.reset();\r\n            algorithm.update(hashSequence);\r\n            byte messageDigest[] = algorithm.digest();\r\n\r\n            for (int i = 0; i &lt; messageDigest.length; i++) {\r\n                String hex = Integer.toHexString(0xFF &amp; messageDigest[i]);\r\n                if (hex.length() == 1)\r\n                    hexString.append(&quot;0&quot;);\r\n                hexString.append(hex);\r\n            }\r\n        } catch (NoSuchAlgorithmException NSAE) {\r\n        }\r\n        return hexString.toString();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if(item.getItemId() == android.R.id.home) {\r\n            onPressingBack();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        onPressingBack();\r\n    }\r\n\r\n    /**\r\n     * On Pressing Back\r\n     * Giving Alert...\r\n     */\r\n    private void onPressingBack() {\r\n\r\n        final Intent intent;\r\n\r\n        if(isFromOrder)\r\n            intent = new Intent(PayUMoneyActivity.this, ProductInCartList.class);\r\n        else\r\n            intent = new Intent(PayUMoneyActivity.this, MainActivity.class);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        AlertDialog.Builder alertDialog = new AlertDialog.Builder(PayUMoneyActivity.this);\r\n\r\n        // Setting Dialog Title\r\n        alertDialog.setTitle(&quot;Warning&quot;);\r\n\r\n        // Setting Dialog Message\r\n        alertDialog.setMessage(&quot;Do you cancel this transaction?&quot;);\r\n\r\n        // On pressing Settings button\r\n        alertDialog.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                finish();\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        // on pressing cancel button\r\n        alertDialog.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        // Showing Alert Message\r\n        alertDialog.show();\r\n    }\r\n\r\n    public class PayUJavaScriptInterface {\r\n        Context mContext;\r\n\r\n        /**\r\n         * Instantiate the interface and set the context\r\n         */\r\n        PayUJavaScriptInterface(Context c) {\r\n            mContext = c;\r\n        }\r\n\r\n        public void success(long id, final String paymentId) {\r\n            mHandler.post(new Runnable() {\r\n\r\n                public void run() {\r\n                    mHandler = null;\r\n                    Toast.makeText(PayUMoneyActivity.this, &quot;Payment Successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}`","title":"PayU intigration in Android studio in java","body":"<p>This might help\n`public class PayUMoneyActivity extends AppCompatActivity {</p>\n<pre><code>/**\n * Adding WebView as setContentView\n */\nWebView webView;\n\n/**\n * Context for Activity\n */\nContext activity;\n/**\n * Order Id\n * To Request for Updating Payment Status if Payment Successfully Done\n */\nint mId; //Getting from Previous Activity\n/**\n * Required Fields\n */\n// Test Variables\n/*\nprivate String mMerchantKey = &quot;FCyqqZ&quot;;\nprivate String mSalt = &quot;sfBpGA8E&quot;;\nprivate String mBaseURL = &quot;https://test.payu.in&quot;;\n*/\n\n// Final Variables\nprivate String mMerchantKey = &quot;Your Merchant Key&quot;;\nprivate String mSalt = &quot;Salt&quot;;\nprivate String mBaseURL = &quot;https://secure.payu.in&quot;;\n\n\nprivate String mAction = &quot;&quot;; // For Final URL\nprivate String mTXNId; // This will create below randomly\nprivate String mHash; // This will create below randomly\nprivate String mProductInfo = &quot;Food Items&quot;; //Passing String only\nprivate String mFirstName; // From Previous Activity\nprivate String mEmailId; // From Previous Activity\nprivate double mAmount; // From Previous Activity\nprivate String mPhone; // From Previous Activity\nprivate String mServiceProvider = &quot;payu_paisa&quot;;\nprivate String mSuccessUrl = &quot;your success URL&quot;;\nprivate String mFailedUrl = &quot;Your Failure URL&quot;;\n\n\nboolean isFromOrder;\n/**\n * Handler\n */\nHandler mHandler = new Handler();\n\n/**\n * @param savedInstanceState\n */\n@SuppressLint({&quot;AddJavascriptInterface&quot;, &quot;SetJavaScriptEnabled&quot;})\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    getWindow().requestFeature(Window.FEATURE_PROGRESS);\n    super.onCreate(savedInstanceState);\n\n    /**\n    * Setting WebView to Screen\n    */\n    setContentView(R.layout.activity_webview_for_payumoney);\n\n    /**\n     * Creating WebView\n     */\n    webView = (WebView) findViewById(R.id.payumoney_webview);\n\n    /**\n     * Context Variable\n     */\n    activity = getApplicationContext();\n\n    /**\n     * Actionbar Settings\n     */\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    ActionBar ab = getSupportActionBar();\n    ab.setDisplayHomeAsUpEnabled(true);\n    // enabling action bar app icon and behaving it as toggle button\n    ab.setHomeButtonEnabled(true);\n    ab.setTitle(getString(R.string.title_activity_online_payment));\n\n    /**\n     * Getting Intent Variables...\n     */\n    Bundle bundle = getIntent().getExtras();\n    if (bundle != null) {\n\n        mFirstName = bundle.getString(&quot;name&quot;);\n        mEmailId = bundle.getString(&quot;email&quot;);\n        mAmount = bundle.getDouble(&quot;amount&quot;);\n        mPhone = bundle.getString(&quot;phone&quot;);\n        mId = bundle.getInt(&quot;id&quot;);\n        isFromOrder = bundle.getBoolean(&quot;isFromOrder&quot;);\n\n        Log.i(TAG, &quot;&quot; + mFirstName + &quot; : &quot; + mEmailId + &quot; : &quot; + mAmount + &quot; : &quot; + mPhone);\n\n        /**\n         * Creating Transaction Id\n         */\n        Random rand = new Random();\n        String randomString = Integer.toString(rand.nextInt()) + (System.currentTimeMillis() / 1000L);\n        mTXNId = hashCal(&quot;SHA-256&quot;, randomString).substring(0, 20);\n\n        mAmount = new BigDecimal(mAmount).setScale(0, RoundingMode.UP).intValue();\n\n        /**\n         * Creating Hash Key\n         */\n        mHash = hashCal(&quot;SHA-512&quot;, mMerchantKey + &quot;|&quot; +\n                mTXNId + &quot;|&quot; +\n                mAmount + &quot;|&quot; +\n                mProductInfo + &quot;|&quot; +\n                mFirstName + &quot;|&quot; +\n                mEmailId + &quot;|||||||||||&quot; +\n                mSalt);\n\n        /**\n         * Final Action URL...\n         */\n        mAction = mBaseURL.concat(&quot;/_payment&quot;);\n\n        /**\n         * WebView Client\n         */\n        webView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\n                super.onReceivedError(view, request, error);\n                Toast.makeText(activity, &quot;Oh no! &quot; + error, Toast.LENGTH_SHORT).show();\n            }\n\n            @Override\n            public void onReceivedSslError(WebView view,\n                                           SslErrorHandler handler, SslError error) {\n                Toast.makeText(activity, &quot;SSL Error! &quot; + error, Toast.LENGTH_SHORT).show();\n                handler.proceed();\n            }\n\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                return super.shouldOverrideUrlLoading(view, url);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n\n                if (url.equals(mSuccessUrl)) {\n                    Intent intent = new Intent(PayUMoneyActivity.this, PaymentStatusActivity.class);\n                    intent.putExtra(&quot;status&quot;, true);\n                    intent.putExtra(&quot;transaction_id&quot;, mTXNId);\n                    intent.putExtra(&quot;id&quot;, mId);\n                    intent.putExtra(&quot;isFromOrder&quot;, isFromOrder);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    startActivity(intent);\n                } else if (url.equals(mFailedUrl)) {\n                    Intent intent = new Intent(PayUMoneyActivity.this, PaymentStatusActivity.class);\n                    intent.putExtra(&quot;status&quot;, false);\n                    intent.putExtra(&quot;transaction_id&quot;, mTXNId);\n                    intent.putExtra(&quot;id&quot;, mId);\n                    intent.putExtra(&quot;isFromOrder&quot;, isFromOrder);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    startActivity(intent);\n                }\n                super.onPageFinished(view, url);\n            }\n        });\n\n        webView.setVisibility(View.VISIBLE);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setCacheMode(2);\n        webView.getSettings().setDomStorageEnabled(true);\n        webView.clearHistory();\n        webView.clearCache(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setUseWideViewPort(false);\n        webView.getSettings().setLoadWithOverviewMode(false);\n        webView.addJavascriptInterface(new PayUJavaScriptInterface(PayUMoneyActivity.this), &quot;PayUMoney&quot;);\n\n        /**\n         * Mapping Compulsory Key Value Pairs\n         */\n        Map&lt;String, String&gt; mapParams = new HashMap&lt;&gt;();\n\n        mapParams.put(&quot;key&quot;, mMerchantKey);\n        mapParams.put(&quot;txnid&quot;, mTXNId);\n        mapParams.put(&quot;amount&quot;, String.valueOf(mAmount));\n        mapParams.put(&quot;productinfo&quot;, mProductInfo);\n        mapParams.put(&quot;firstname&quot;, mFirstName);\n        mapParams.put(&quot;email&quot;, mEmailId);\n        mapParams.put(&quot;phone&quot;, mPhone);\n        mapParams.put(&quot;surl&quot;, mSuccessUrl);\n        mapParams.put(&quot;furl&quot;, mFailedUrl);\n        mapParams.put(&quot;hash&quot;, mHash);\n        mapParams.put(&quot;service_provider&quot;, mServiceProvider);\n\n        webViewClientPost(webView, mAction, mapParams.entrySet());\n    } else {\n        Toast.makeText(activity, &quot;Something went wrong, Try again.&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n\n/**\n * Posting Data on PayUMoney Site with Form\n *\n * @param webView\n * @param url\n * @param postData\n */\npublic void webViewClientPost(WebView webView, String url,\n                              Collection&lt;Map.Entry&lt;String, String&gt;&gt; postData) {\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&quot;);\n    sb.append(&quot;&lt;body onload='form1.submit()'&gt;&quot;);\n    sb.append(String.format(&quot;&lt;form id='form1' action='%s' method='%s'&gt;&quot;, url, &quot;post&quot;));\n\n    for (Map.Entry&lt;String, String&gt; item : postData) {\n        sb.append(String.format(&quot;&lt;input name='%s' type='hidden' value='%s' /&gt;&quot;, item.getKey(), item.getValue()));\n    }\n    sb.append(&quot;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n    Log.d(&quot;TAG&quot;, &quot;webViewClientPost called: &quot; + sb.toString());\n    webView.loadData(sb.toString(), &quot;text/html&quot;, &quot;utf-8&quot;);\n}\n\n/**\n * Hash Key Calculation\n *\n * @param type\n * @param str\n * @return\n */\npublic String hashCal(String type, String str) {\n    byte[] hashSequence = str.getBytes();\n    StringBuffer hexString = new StringBuffer();\n    try {\n        MessageDigest algorithm = MessageDigest.getInstance(type);\n        algorithm.reset();\n        algorithm.update(hashSequence);\n        byte messageDigest[] = algorithm.digest();\n\n        for (int i = 0; i &lt; messageDigest.length; i++) {\n            String hex = Integer.toHexString(0xFF &amp; messageDigest[i]);\n            if (hex.length() == 1)\n                hexString.append(&quot;0&quot;);\n            hexString.append(hex);\n        }\n    } catch (NoSuchAlgorithmException NSAE) {\n    }\n    return hexString.toString();\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    if(item.getItemId() == android.R.id.home) {\n        onPressingBack();\n    }\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic void onBackPressed() {\n    onPressingBack();\n}\n\n/**\n * On Pressing Back\n * Giving Alert...\n */\nprivate void onPressingBack() {\n\n    final Intent intent;\n\n    if(isFromOrder)\n        intent = new Intent(PayUMoneyActivity.this, ProductInCartList.class);\n    else\n        intent = new Intent(PayUMoneyActivity.this, MainActivity.class);\n\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    AlertDialog.Builder alertDialog = new AlertDialog.Builder(PayUMoneyActivity.this);\n\n    // Setting Dialog Title\n    alertDialog.setTitle(&quot;Warning&quot;);\n\n    // Setting Dialog Message\n    alertDialog.setMessage(&quot;Do you cancel this transaction?&quot;);\n\n    // On pressing Settings button\n    alertDialog.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) {\n            finish();\n            startActivity(intent);\n        }\n    });\n\n    // on pressing cancel button\n    alertDialog.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) {\n            dialog.dismiss();\n        }\n    });\n\n    // Showing Alert Message\n    alertDialog.show();\n}\n\npublic class PayUJavaScriptInterface {\n    Context mContext;\n\n    /**\n     * Instantiate the interface and set the context\n     */\n    PayUJavaScriptInterface(Context c) {\n        mContext = c;\n    }\n\n    public void success(long id, final String paymentId) {\n        mHandler.post(new Runnable() {\n\n            public void run() {\n                mHandler = null;\n                Toast.makeText(PayUMoneyActivity.this, &quot;Payment Successfully.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>}`</p>\n"}],"owner":{"account_id":27442205,"reputation":1,"user_id":20936811,"display_name":"abhi tt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673010965,"creation_date":1672924997,"question_id":75019112,"body_markdown":"I am trying to create an activity in the pay button and then trying to integrate the PayU gateway on this button...my request goes in response but does not payU page...","title":"PayU intigration in Android studio in java","body":"<p>I am trying to create an activity in the pay button and then trying to integrate the PayU gateway on this button...my request goes in response but does not payU page...</p>\n"},{"tags":["java","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673010109,"post_id":75031250,"comment_id":132406846,"body_markdown":"How do you install maven? Shouldn&#39;t it be a pom entry?","body":"How do you install maven? Shouldn&#39;t it be a pom entry?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673010467,"post_id":75031250,"comment_id":132406967,"body_markdown":"Java 19 is not supported yet. https://github.com/projectlombok/lombok/issues/3264","body":"Java 19 is not supported yet. <a href=\"https://github.com/projectlombok/lombok/issues/3264\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/3264</a>"},{"owner":{"display_name":"user20893783"},"score":0,"creation_date":1673013090,"post_id":75031250,"comment_id":132407762,"body_markdown":"@f1sh it comes with intellj","body":"@f1sh it comes with intellj"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673015917,"post_id":75031250,"comment_id":132408760,"body_markdown":"@PartickDawson the IDE plugin comes with intellij. You still need it in your pom if you are using maven to build your project.","body":"@PartickDawson the IDE plugin comes with intellij. You still need it in your pom if you are using maven to build your project."}],"answers":[{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1673010470,"creation_date":1673010470,"answer_id":75031338,"question_id":75031250,"body_markdown":"Try latest lombok version `v1.18.24` with JDK18. Their compatibility is listed in [changelog][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/changelog","title":"Unable to install Lombok 1.18.10","body":"<p>Try latest lombok version <code>v1.18.24</code> with JDK18. Their compatibility is listed in <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">changelog</a></p>\n"}],"owner":{"display_name":"user20893783"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673010470,"creation_date":1673009931,"question_id":75031250,"body_markdown":"I am running a spring boot application using jdk version 19 but am unable to install lombok. I am using maven 3.8.1\r\n\r\n\r\n```\r\n    class lombok.javac.apt.LombokProcessor (in unnamed module @0x58909d73) cannot access class   com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x58909d73\r\n```\r\n\r\n\r\nI have tried changing the jdk to lower versions","title":"Unable to install Lombok 1.18.10","body":"<p>I am running a spring boot application using jdk version 19 but am unable to install lombok. I am using maven 3.8.1</p>\n<pre><code>    class lombok.javac.apt.LombokProcessor (in unnamed module @0x58909d73) cannot access class   com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x58909d73\n</code></pre>\n<p>I have tried changing the jdk to lower versions</p>\n"},{"tags":["java","spring-boot","elasticsearch","kibana","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673004980,"creation_date":1673004980,"answer_id":75030426,"question_id":75029703,"body_markdown":"If you use the new Java Api Client try the code bellow:\r\n\r\n    Query nestedQuery = NestedQuery.of(nq -&gt;\r\n        nq.path(&quot;comment&quot;)\r\n            .innerHits(InnerHits.of(ih -&gt; ih))\r\n            .query(MatchQuery.of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(&quot;This is mateen&quot;))._toQuery())\r\n    )._toQuery();\r\n\r\n    Query termQueryTitle = TermQuery.of(\r\n        tq -&gt; tq.field(&quot;title.keyword&quot;).value(&quot;This is mateen&quot;)\r\n    )._toQuery();\r\n\r\n    Query termQueryBody = TermQuery.of(\r\n        tq -&gt; tq.field(&quot;body.keyword&quot;).value(&quot;This is mateen&quot;)\r\n    )._toQuery();\r\n\r\n    Query boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\r\n\r\n    SearchRequest searchRequest = SearchRequest.of(\r\n        s -&gt; s.index(&quot;idx_name&quot;).query(boolQuery)\r\n    );\r\n\r\n    var response = client.search(searchRequest, Feed.class);\r\n","title":"Convert elasticsearch bool query to Java","body":"<p>If you use the new Java Api Client try the code bellow:</p>\n<pre><code>Query nestedQuery = NestedQuery.of(nq -&gt;\n    nq.path(&quot;comment&quot;)\n        .innerHits(InnerHits.of(ih -&gt; ih))\n        .query(MatchQuery.of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(&quot;This is mateen&quot;))._toQuery())\n)._toQuery();\n\nQuery termQueryTitle = TermQuery.of(\n    tq -&gt; tq.field(&quot;title.keyword&quot;).value(&quot;This is mateen&quot;)\n)._toQuery();\n\nQuery termQueryBody = TermQuery.of(\n    tq -&gt; tq.field(&quot;body.keyword&quot;).value(&quot;This is mateen&quot;)\n)._toQuery();\n\nQuery boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\n\nSearchRequest searchRequest = SearchRequest.of(\n    s -&gt; s.index(&quot;idx_name&quot;).query(boolQuery)\n);\n\nvar response = client.search(searchRequest, Feed.class);\n</code></pre>\n"}],"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75030426,"answer_count":1,"score":0,"last_activity_date":1673010277,"creation_date":1673000702,"question_id":75029703,"body_markdown":"```\r\nGET feeds/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;should&quot;: [\r\n        {\r\n          &quot;nested&quot;: {\r\n            &quot;path&quot;: &quot;comment&quot;,\r\n            &quot;query&quot;: { \r\n              &quot;match&quot;: {\r\n                &quot;comment.c_text&quot;: &quot;This is mateen&quot;\r\n              }\r\n            },&quot;inner_hits&quot;: {}\r\n          }\r\n        },\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;title.keyword&quot;: {\r\n              &quot;value&quot;: &quot;This is mateen&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;body.keyword&quot;: {\r\n              &quot;value&quot;: &quot;This is mateen&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nMapping is as follows:\r\n```\r\nPUT feeds\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;comment&quot;:{\r\n        &quot;type&quot;: &quot;nested&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI am using Elasticsearch 7.17.3. For searching all documents of Elasticsearch in my springboot I have written the following code that gives me the exact output:\r\n\r\n```\r\npublic  List&lt;feed&gt; searchAllDocuments() throws IOException {\r\n        SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName));\r\n        SearchResponse searchResponse = elasticsearchClient.search(searchRequest, feed.class);\r\n        List&lt;Hit&gt; hits = searchResponse.hits().hits();\r\n        List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\r\n        feed f=null;\r\n        for (Hit object : hits) {\r\n        \tf = (feed) object.source();\r\n           \r\n            feeds.add(f);\r\n            }\r\n\r\n        return feeds;\r\n        }\r\n```\r\n\r\nCan anyone help me convert the query into springboot application? I am new to it and need your guidance","title":"Convert elasticsearch bool query to Java","body":"<pre><code>GET feeds/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;comment&quot;,\n            &quot;query&quot;: { \n              &quot;match&quot;: {\n                &quot;comment.c_text&quot;: &quot;This is mateen&quot;\n              }\n            },&quot;inner_hits&quot;: {}\n          }\n        },\n        {\n          &quot;term&quot;: {\n            &quot;title.keyword&quot;: {\n              &quot;value&quot;: &quot;This is mateen&quot;\n            }\n          }\n        },\n        {\n          &quot;term&quot;: {\n            &quot;body.keyword&quot;: {\n              &quot;value&quot;: &quot;This is mateen&quot;\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n</code></pre>\n<p>Mapping is as follows:</p>\n<pre><code>PUT feeds\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;comment&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am using Elasticsearch 7.17.3. For searching all documents of Elasticsearch in my springboot I have written the following code that gives me the exact output:</p>\n<pre><code>public  List&lt;feed&gt; searchAllDocuments() throws IOException {\n        SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName));\n        SearchResponse searchResponse = elasticsearchClient.search(searchRequest, feed.class);\n        List&lt;Hit&gt; hits = searchResponse.hits().hits();\n        List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\n        feed f=null;\n        for (Hit object : hits) {\n            f = (feed) object.source();\n           \n            feeds.add(f);\n            }\n\n        return feeds;\n        }\n</code></pre>\n<p>Can anyone help me convert the query into springboot application? I am new to it and need your guidance</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2255564,"reputation":4422,"user_id":1986826,"accept_rate":81,"display_name":"Gangaraju"},"score":0,"creation_date":1445324460,"post_id":33229793,"comment_id":54263962,"body_markdown":"Have you tried using maven modules by introducing a parent pom.xml?","body":"Have you tried using maven modules by introducing a parent pom.xml?"},{"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"score":0,"creation_date":1445324840,"post_id":33229793,"comment_id":54264144,"body_markdown":"Sure I have a parent pom","body":"Sure I have a parent pom"},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":0,"creation_date":1606168808,"post_id":33229793,"comment_id":114875732,"body_markdown":"This works https://stackoverflow.com/a/64977088/1352530, but I am not sure how nasty and prone to side-effects can be having a main configuration under config folder when running on different environments","body":"This works <a href=\"https://stackoverflow.com/a/64977088/1352530\">stackoverflow.com/a/64977088/1352530</a>, but I am not sure how nasty and prone to side-effects can be having a main configuration under config folder when running on different environments"},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":0,"creation_date":1606171678,"post_id":33229793,"comment_id":114876700,"body_markdown":"Perhaps not a good idea seeing this: https://github.com/spring-projects/spring-boot/issues/9128","body":"Perhaps not a good idea seeing this: <a href=\"https://github.com/spring-projects/spring-boot/issues/9128\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/9128</a>"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1445325024,"creation_date":1445324163,"answer_id":33229937,"question_id":33229793,"body_markdown":"What you are trying to do will not work when using Maven or Gradle. The reason is that when the artifact (jar most likely since you are using Spring Boot) is created, there will only be one `application.properties` file in the root.\r\n\r\nI suggest you either change the name of the properties file on the support module and then configure Spring Boot to look for that file as well (take a look at [this][1] or [this][2] answer for pointers), or use some kind of merging task for your build tool (something like [this][3] perhaps)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25862357/2504224\r\n  [3]: https://stackoverflow.com/a/30213550/2504224\r\n  [2]: https://stackoverflow.com/questions/5598314/merge-properties-files-with-maven-assembly","title":"How to add multiple application.properties files in spring-boot?","body":"<p>What you are trying to do will not work when using Maven or Gradle. The reason is that when the artifact (jar most likely since you are using Spring Boot) is created, there will only be one <code>application.properties</code> file in the root.</p>\n\n<p>I suggest you either change the name of the properties file on the support module and then configure Spring Boot to look for that file as well (take a look at <a href=\"https://stackoverflow.com/a/25862357/2504224\">this</a> or <a href=\"https://stackoverflow.com/questions/5598314/merge-properties-files-with-maven-assembly\">this</a> answer for pointers), or use some kind of merging task for your build tool (something like <a href=\"https://stackoverflow.com/a/30213550/2504224\">this</a> perhaps)</p>\n"},{"tags":[],"owner":{"account_id":3673303,"reputation":1737,"user_id":3059941,"display_name":"srsajid"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1509172646,"creation_date":1509172646,"answer_id":46986997,"question_id":33229793,"body_markdown":"You can also refer to an explicit location using the spring.config.location environment property (comma-separated list of directory locations, or file paths)\r\n\r\n    $ java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\r\n\r\nFor more information [click][1] here \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"How to add multiple application.properties files in spring-boot?","body":"<p>You can also refer to an explicit location using the spring.config.location environment property (comma-separated list of directory locations, or file paths)</p>\n\n<pre><code>$ java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\n</code></pre>\n\n<p>For more information <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">click</a> here </p>\n"},{"tags":[],"owner":{"account_id":1656399,"reputation":2961,"user_id":1525842,"accept_rate":90,"display_name":"zeronone"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1570977802,"creation_date":1523544091,"answer_id":49799482,"question_id":33229793,"body_markdown":"Spring Boot reads the property files in the following order. ([From Spring Boot in Action][1])\n\n&gt; 1. Externally, in a /config subdirectory of the directory from which the application is run\n&gt; 2. Externally, in the directory from which the application is run\n&gt; 3. Internally, in a package named “config”\n&gt; 4. Internally, at the root of the classpath\n&gt;\n&gt; The list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).\n\nSo placing `application.properties` in a `config` sub-directory will give it a higher priority. In the following configuration, the `application.properties` from `module_a` will take precedence. You can add common defaults in `application.properties` and override them in individual modules by placing the configuration file in `config/application.properties`.\n\n    +common_module\n      +src\n        +main\n          +java\n          +resources/application.properties\n    +module_a\n      +src\n        +main\n          +java\n            +my/package/Application.java\n          +resources/config/application.properties\n\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files","title":"How to add multiple application.properties files in spring-boot?","body":"<p>Spring Boot reads the property files in the following order. (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"noreferrer\">From Spring Boot in Action</a>)</p>\n<blockquote>\n<ol>\n<li>Externally, in a /config subdirectory of the directory from which the application is run</li>\n<li>Externally, in the directory from which the application is run</li>\n<li>Internally, in a package named “config”</li>\n<li>Internally, at the root of the classpath</li>\n</ol>\n<p>The list is ordered by precedence (properties defined in locations higher in the list override those defined in lower locations).</p>\n</blockquote>\n<p>So placing <code>application.properties</code> in a <code>config</code> sub-directory will give it a higher priority. In the following configuration, the <code>application.properties</code> from <code>module_a</code> will take precedence. You can add common defaults in <code>application.properties</code> and override them in individual modules by placing the configuration file in <code>config/application.properties</code>.</p>\n<pre><code>+common_module\n  +src\n    +main\n      +java\n      +resources/application.properties\n+module_a\n  +src\n    +main\n      +java\n        +my/package/Application.java\n      +resources/config/application.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7206157,"reputation":3851,"user_id":5501699,"display_name":"Imtiaz Shakil Siddique"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1570860696,"creation_date":1569408028,"answer_id":58096549,"question_id":33229793,"body_markdown":"The problem is exactly what @geoand describes. Spring boot loads top level `application.properties` and ignores any properties file with the exact name located in other jars. \r\n\r\nBut I didn&#39;t find any concrete implementation on how to fix this problem, so here it is for those who wants to know the implementation.\r\n\r\nConsider this project configuration:\r\n```\r\n+main_module\r\n  +src\r\n    +main\r\n      +java\r\n        +my/package/Application.java\r\n      +resources/application.properties\r\n+module_aa\r\n  +src\r\n    +main\r\n      +java\r\n        +my/package/config/ModuleAAConfig.java\r\n      +resources/module_aa.properties\r\n+module_bb\r\n  +src\r\n    +main\r\n      +java\r\n        +my/package/config/ModuleBBConfig.java\r\n      +resources/module_bb.properties\r\n```\r\n\r\nNow to load properties for each sub modules correctly we need to add `@PropertySource` annotation on the configs of each module i.e `ModuleAAConfig.java, ModuleBBConfig.java`. \r\n\r\nExample:\r\n\r\n`ModuleAAConfig.java`\r\n```java\r\npackage my.package.config;\r\n\r\n@Configuration\r\n@PropertySource(\r\n    ignoreResourceNotFound = false,\r\n    value = &quot;classpath:module_aa.properties&quot;)\r\npublic class ModuleAAConfig {}\r\n``` \r\n\r\n`ModuleBBConfig.java`\r\n```java\r\npackage my.package.config;\r\n\r\n@Configuration\r\n@PropertySource(\r\n    ignoreResourceNotFound = false,\r\n    value = &quot;classpath:module_bb.properties&quot;)\r\npublic class ModuleBBConfig {}\r\n``` \r\n----------\r\n\r\n**Bonus:**\r\n\r\n\r\nIf you want to load profile specific property, you can do so by utilizing spring variables e.g.\r\n\r\n```java\r\n@PropertySource(&quot;classpath:module_aa-${spring.profiles.active}.properties&quot;)\r\n```\r\n\r\n","title":"How to add multiple application.properties files in spring-boot?","body":"<p>The problem is exactly what @geoand describes. Spring boot loads top level <code>application.properties</code> and ignores any properties file with the exact name located in other jars. </p>\n\n<p>But I didn't find any concrete implementation on how to fix this problem, so here it is for those who wants to know the implementation.</p>\n\n<p>Consider this project configuration:</p>\n\n<pre><code>+main_module\n  +src\n    +main\n      +java\n        +my/package/Application.java\n      +resources/application.properties\n+module_aa\n  +src\n    +main\n      +java\n        +my/package/config/ModuleAAConfig.java\n      +resources/module_aa.properties\n+module_bb\n  +src\n    +main\n      +java\n        +my/package/config/ModuleBBConfig.java\n      +resources/module_bb.properties\n</code></pre>\n\n<p>Now to load properties for each sub modules correctly we need to add <code>@PropertySource</code> annotation on the configs of each module i.e <code>ModuleAAConfig.java, ModuleBBConfig.java</code>. </p>\n\n<p>Example:</p>\n\n<p><code>ModuleAAConfig.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package my.package.config;\n\n@Configuration\n@PropertySource(\n    ignoreResourceNotFound = false,\n    value = \"classpath:module_aa.properties\")\npublic class ModuleAAConfig {}\n</code></pre>\n\n<p><code>ModuleBBConfig.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package my.package.config;\n\n@Configuration\n@PropertySource(\n    ignoreResourceNotFound = false,\n    value = \"classpath:module_bb.properties\")\npublic class ModuleBBConfig {}\n</code></pre>\n\n<hr>\n\n<p><strong>Bonus:</strong></p>\n\n<p>If you want to load profile specific property, you can do so by utilizing spring variables e.g.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(\"classpath:module_aa-${spring.profiles.active}.properties\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656454603,"creation_date":1656454603,"answer_id":72793715,"question_id":33229793,"body_markdown":"As an option you can design your modules more properly and implement `EnvironmentPostProcessor` to load they personal properties files automatically.\r\n\r\nPlease see my detailed answer: https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring/72793561#72793561","title":"How to add multiple application.properties files in spring-boot?","body":"<p>As an option you can design your modules more properly and implement <code>EnvironmentPostProcessor</code> to load they personal properties files automatically.</p>\n<p>Please see my detailed answer: <a href=\"https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring/72793561#72793561\">How to inherit application.properties in Spring?</a></p>\n"},{"tags":[],"owner":{"account_id":3232747,"reputation":229,"user_id":2727610,"display_name":"Vivek Adhikari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671685933,"creation_date":1671685933,"answer_id":74884361,"question_id":33229793,"body_markdown":"Multiple `application.properties` is not possible in same artifacts but \r\nyou can have \r\n\r\n  \r\n     application.properties \r\n     application.yml\r\n\r\nin the same artifacts. This may help to separate concerns. ","title":"How to add multiple application.properties files in spring-boot?","body":"<p>Multiple <code>application.properties</code> is not possible in same artifacts but\nyou can have</p>\n<pre><code> application.properties \n application.yml\n</code></pre>\n<p>in the same artifacts. This may help to separate concerns.</p>\n"},{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673010147,"creation_date":1673010147,"answer_id":75031281,"question_id":33229793,"body_markdown":"I found that `spring.config.import` in my `application.properties` brought in the additional properties file.\r\n\r\n    spring.config.import=file:./src/main/resources/application-local.properties","title":"How to add multiple application.properties files in spring-boot?","body":"<p>I found that <code>spring.config.import</code> in my <code>application.properties</code> brought in the additional properties file.</p>\n<pre><code>spring.config.import=file:./src/main/resources/application-local.properties\n</code></pre>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96155,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":33229937,"answer_count":7,"score":61,"last_activity_date":1673010147,"creation_date":1445323667,"question_id":33229793,"body_markdown":"I have a Spring boot application that is divided in several modules.\r\nThe main module runs the application and has an `application.properties` file in the resources folder. I&#39;m wondering if I can add another properties file in a submodule to separate properties that are belonging to that module and how to make this working (because it is not).\r\n\r\n    +main_module\r\n      +src\r\n        +main\r\n          +java\r\n            +my/package/Application.java\r\n            +resources/application.properties\r\n    +support_module\r\n      +src\r\n        +main\r\n          +java\r\n            +resources/application.properties\r\n\r\nSo, this is the current situation. Clearly the properties file in the module `support_module` is not read causing a `NoSuchBeanDefinitionException`, while if I put the content in the other properties file everything works fine.","title":"How to add multiple application.properties files in spring-boot?","body":"<p>I have a Spring boot application that is divided in several modules.\nThe main module runs the application and has an <code>application.properties</code> file in the resources folder. I'm wondering if I can add another properties file in a submodule to separate properties that are belonging to that module and how to make this working (because it is not).</p>\n\n<pre><code>+main_module\n  +src\n    +main\n      +java\n        +my/package/Application.java\n        +resources/application.properties\n+support_module\n  +src\n    +main\n      +java\n        +resources/application.properties\n</code></pre>\n\n<p>So, this is the current situation. Clearly the properties file in the module <code>support_module</code> is not read causing a <code>NoSuchBeanDefinitionException</code>, while if I put the content in the other properties file everything works fine.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"score":0,"creation_date":1673013758,"post_id":75031236,"comment_id":132408013,"body_markdown":"Your first answer looks to me as a weird way to get the functionality that thymeleaf layout dialect already offers (https://www.baeldung.com/thymeleaf-spring-layouts). For the given options, personally i&#39;d say the second is better as &quot;fragments&quot; seem better to me as reusable code blocks. putting you main body into a fragment seems off to me","body":"Your first answer looks to me as a weird way to get the functionality that thymeleaf layout dialect already offers (<a href=\"https://www.baeldung.com/thymeleaf-spring-layouts\" rel=\"nofollow noreferrer\">baeldung.com/thymeleaf-spring-layouts</a>). For the given options, personally i&#39;d say the second is better as &quot;fragments&quot; seem better to me as reusable code blocks. putting you main body into a fragment seems off to me"},{"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"score":0,"creation_date":1673015226,"post_id":75031236,"comment_id":132408500,"body_markdown":"For me, the second method looks strange, because if we want to modify the main template, it will have to be changed for each view. What is the best practice? How do companies do it?","body":"For me, the second method looks strange, because if we want to modify the main template, it will have to be changed for each view. What is the best practice? How do companies do it?"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1673020069,"post_id":75031236,"comment_id":132410163,"body_markdown":"I would definitely recommend [layout dialect](https://www.thymeleaf.org/doc/articles/layouts.html#thymeleaf-layout-dialect) for this over those two options.","body":"I would definitely recommend <a href=\"https://www.thymeleaf.org/doc/articles/layouts.html#thymeleaf-layout-dialect\" rel=\"nofollow noreferrer\">layout dialect</a> for this over those two options."},{"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"score":0,"creation_date":1673082711,"post_id":75031236,"comment_id":132421321,"body_markdown":"In the same place, in paragraph 5, they offer my second option - [link](https://www.thymeleaf.org/doc/articles/layouts.html#thymeleaf-custom-layout)","body":"In the same place, in paragraph 5, they offer my second option - <a href=\"https://www.thymeleaf.org/doc/articles/layouts.html#thymeleaf-custom-layout\" rel=\"nofollow noreferrer\">link</a>"}],"owner":{"account_id":27247763,"reputation":1,"user_id":20772757,"display_name":"Tip.the.besT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673009874,"creation_date":1673009874,"question_id":75031236,"body_markdown":"What is the best way to build a template architecture? \r\n\r\nOption 1:\r\njava\r\n```\r\n    @GetMapping(&quot;/&quot;)\r\n    public String doGet(Model model) {\r\n        model.addAttribute(&quot;include&quot;, new Include(&quot;main&quot;,&quot;main&quot;));\r\n        return &quot;index&quot;;\r\n    }\r\n```\r\nhtml\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n  ...\r\n  header code\r\n  ...\r\n  \r\n  &lt;div th:replace=&quot;~{${include.path} :: ${include.name}}&quot;&gt;&lt;/div&gt;\r\n  \r\n  ...\r\n  footer code\r\n  ...\r\n  \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nOption 2:\r\njava\r\n```\r\n    @GetMapping(&quot;/&quot;)\r\n    public String doGet(Model model) {\r\n\r\n        model.addAttribute(&quot;data&quot;, data);\r\n        return &quot;index&quot;;\r\n    }\r\n```\r\nhtml\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div th:replace=&quot;~{header :: header}&quot;&gt;&lt;/div&gt;\r\n\r\n  ...\r\n  main code\r\n  ...\r\n\r\n  &lt;div th:replace=&quot;~{footer:: footer}&quot;&gt;&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI&#39;m using the first option, but I&#39;m not sure if it&#39;s the right one.\r\n\r\nWhich is better: load the target fragment into a ready-made index template, or load elements (footer, header, ...) around the target fragment?","title":"Thymeleaf - template architecture","body":"<p>What is the best way to build a template architecture?</p>\n<p>Option 1:\njava</p>\n<pre><code>    @GetMapping(&quot;/&quot;)\n    public String doGet(Model model) {\n        model.addAttribute(&quot;include&quot;, new Include(&quot;main&quot;,&quot;main&quot;));\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n  ...\n  header code\n  ...\n  \n  &lt;div th:replace=&quot;~{${include.path} :: ${include.name}}&quot;&gt;&lt;/div&gt;\n  \n  ...\n  footer code\n  ...\n  \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Option 2:\njava</p>\n<pre><code>    @GetMapping(&quot;/&quot;)\n    public String doGet(Model model) {\n\n        model.addAttribute(&quot;data&quot;, data);\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div th:replace=&quot;~{header :: header}&quot;&gt;&lt;/div&gt;\n\n  ...\n  main code\n  ...\n\n  &lt;div th:replace=&quot;~{footer:: footer}&quot;&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I'm using the first option, but I'm not sure if it's the right one.</p>\n<p>Which is better: load the target fragment into a ready-made index template, or load elements (footer, header, ...) around the target fragment?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1672668743,"post_id":74946456,"comment_id":132323345,"body_markdown":"What would you want to return a bean in the UDF, why not return a struct?","body":"What would you want to return a bean in the UDF, why not return a struct?"},{"owner":{"account_id":27378373,"reputation":1,"user_id":20883320,"display_name":"nagaga"},"score":0,"creation_date":1672970363,"post_id":74946456,"comment_id":132398679,"body_markdown":"I want to return multiple columns.\nHow can I return a struct in the UDF ?","body":"I want to return multiple columns. How can I return a struct in the UDF ?"}],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673009745,"creation_date":1673009745,"answer_id":75031215,"question_id":74946456,"body_markdown":"If the goal is to build a UDF that returns an object with several fields, you don&#39;t need a java bean. You can use tuples or even rows.\r\n\r\n```java\r\nStructType schema = new StructType(new StructField[] {\r\n    DataTypes.createStructField(&quot;id1&quot;, DataTypes.StringType, true),\r\n    DataTypes.createStructField(&quot;id2&quot;, DataTypes.StringType, true)\r\n});\r\n\r\n// A UDF that returns a tuple\r\nUDF1&lt;String, Tuple2&lt;String, String&gt;&gt; setIdUdf = new UDF1&lt;String, Tuple2&lt;String, String&gt;&gt;() {\r\n    public Tuple2&lt;String, String&gt; call (String familyName) {\r\n        return new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;);\r\n    }\r\n};\r\nspark.udf().register(&quot;setIdUdf&quot;, setIdUdf, schema);\r\n\r\nDataset&lt;Row&gt; dataset = csvds\r\n    .withColumn(&quot;newCol&quot;, functions.callUDF(&quot;setIdUdf&quot;, functions.col(&quot;familyName&quot;)));\r\ndataset.show();\r\n```\r\nNote that you can also use a Row object if you like like this:\r\n```java\r\nUDF1&lt;String, Row&gt; setIdUdf2 = new UDF1&lt;String, Row&gt;() {\r\n    public Row call (String familyName) {\r\n        return Row.fromTuple(new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;));\r\n    }\r\n};\r\n```\r\nAnd there is also a more concise way using lambda functions:\r\n```java\r\n// Same UDF as before but it returns a Row\r\nUDF1&lt;String, Tuple2&lt;String, String&gt;&gt; setIdUdf3 = (\r\n    (String familyName) -&gt; new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;)\r\n);\r\n```","title":"Apache Spark -- How to return java bean using spark UDFs","body":"<p>If the goal is to build a UDF that returns an object with several fields, you don't need a java bean. You can use tuples or even rows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StructType schema = new StructType(new StructField[] {\n    DataTypes.createStructField(&quot;id1&quot;, DataTypes.StringType, true),\n    DataTypes.createStructField(&quot;id2&quot;, DataTypes.StringType, true)\n});\n\n// A UDF that returns a tuple\nUDF1&lt;String, Tuple2&lt;String, String&gt;&gt; setIdUdf = new UDF1&lt;String, Tuple2&lt;String, String&gt;&gt;() {\n    public Tuple2&lt;String, String&gt; call (String familyName) {\n        return new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;);\n    }\n};\nspark.udf().register(&quot;setIdUdf&quot;, setIdUdf, schema);\n\nDataset&lt;Row&gt; dataset = csvds\n    .withColumn(&quot;newCol&quot;, functions.callUDF(&quot;setIdUdf&quot;, functions.col(&quot;familyName&quot;)));\ndataset.show();\n</code></pre>\n<p>Note that you can also use a Row object if you like like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UDF1&lt;String, Row&gt; setIdUdf2 = new UDF1&lt;String, Row&gt;() {\n    public Row call (String familyName) {\n        return Row.fromTuple(new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;));\n    }\n};\n</code></pre>\n<p>And there is also a more concise way using lambda functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Same UDF as before but it returns a Row\nUDF1&lt;String, Tuple2&lt;String, String&gt;&gt; setIdUdf3 = (\n    (String familyName) -&gt; new Tuple2&lt;&gt;(String.valueOf(familyName.length()), &quot;2&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":27378373,"reputation":1,"user_id":20883320,"display_name":"nagaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673009745,"creation_date":1672277240,"question_id":74946456,"body_markdown":"Hello and Thank you in advice.\r\n\r\nMy program is written in java.  \r\nI want to return java bean with spark UDFs but I failed.\r\n\r\nTrySpark.java\r\n\r\n```\r\nStructType nameSchema = new StructType(new StructField[] {\r\nnew StructField(&quot;familyName&quot;, DataTypes.StringType, true, Metadata.empty()),\r\nnew StructField(&quot;firstName&quot;, DataTypes.StringType, true, Metadata.empty())\r\n});\r\nEncoder&lt;NameBean&gt; nameEncoder = Encoders.bean(NameBean.class);\r\nDataset&lt;NameBean&gt; csvds = spark.read().format(&quot;csv&quot;)\r\n                          .schema(nameSchema).load(filePath).as(nameEncoder);\r\ncsvds.show();\r\n\t\t\t\r\nUDF1&lt;String, IdsBean&gt; setIdUdf = new UDF1&lt;String, IdsBean&gt;() {\r\n   public IdsBean call (String familyName) {\r\n\tIdsBean ids = new IdsBean(); \r\n\tids.setId1(String.valueOf(familyName.length()));\r\n\tids.setId2(&quot;2&quot;);\r\n        return ids;\r\n   }\r\n};\r\n\t\t\tspark.udf().register(&quot;setIdUdf&quot;,setIdUdf,Encoders.bean(IdsBean.class).schema());\r\nDataset&lt;Row&gt; dataset = csvds.withColumn(&quot;newCol&quot;,functions.callUDF(&quot;setIdUdf&quot;,functions.col(&quot;familyName&quot;)));\r\ndataset.show();\r\n```\r\n\r\nIdsBean.java\r\n\r\n```\t\r\npublic class IdsBean {\r\n    private String id1;\r\n    private String id2;\r\n    public String getId1() {\r\n\treturn id1;\r\n    }\r\n    public void setId1(String id1) {\r\n\tthis.id1 = id1;\r\n    }\r\n    public String getId2() {\r\n\treturn id2;\r\n    }\r\n    public void setId2(String id2) {\r\n\tthis.id2 = id2;\r\n    }\r\n}\r\n```\r\n\r\nException\r\n\r\n`Caused by: java.lang.IllegalArgumentException: The value (~.IdsBean@4cce0e94) of the type (~.IdsBean) cannot be converted to struct&lt;id1:string,id2:string&gt;`\r\n\r\nCan I return java bean? And if it is possible, how should I do it?","title":"Apache Spark -- How to return java bean using spark UDFs","body":"<p>Hello and Thank you in advice.</p>\n<p>My program is written in java.<br />\nI want to return java bean with spark UDFs but I failed.</p>\n<p>TrySpark.java</p>\n<pre><code>StructType nameSchema = new StructType(new StructField[] {\nnew StructField(&quot;familyName&quot;, DataTypes.StringType, true, Metadata.empty()),\nnew StructField(&quot;firstName&quot;, DataTypes.StringType, true, Metadata.empty())\n});\nEncoder&lt;NameBean&gt; nameEncoder = Encoders.bean(NameBean.class);\nDataset&lt;NameBean&gt; csvds = spark.read().format(&quot;csv&quot;)\n                          .schema(nameSchema).load(filePath).as(nameEncoder);\ncsvds.show();\n            \nUDF1&lt;String, IdsBean&gt; setIdUdf = new UDF1&lt;String, IdsBean&gt;() {\n   public IdsBean call (String familyName) {\n    IdsBean ids = new IdsBean(); \n    ids.setId1(String.valueOf(familyName.length()));\n    ids.setId2(&quot;2&quot;);\n        return ids;\n   }\n};\n            spark.udf().register(&quot;setIdUdf&quot;,setIdUdf,Encoders.bean(IdsBean.class).schema());\nDataset&lt;Row&gt; dataset = csvds.withColumn(&quot;newCol&quot;,functions.callUDF(&quot;setIdUdf&quot;,functions.col(&quot;familyName&quot;)));\ndataset.show();\n</code></pre>\n<p>IdsBean.java</p>\n<pre><code>public class IdsBean {\n    private String id1;\n    private String id2;\n    public String getId1() {\n    return id1;\n    }\n    public void setId1(String id1) {\n    this.id1 = id1;\n    }\n    public String getId2() {\n    return id2;\n    }\n    public void setId2(String id2) {\n    this.id2 = id2;\n    }\n}\n</code></pre>\n<p>Exception</p>\n<p><code>Caused by: java.lang.IllegalArgumentException: The value (~.IdsBean@4cce0e94) of the type (~.IdsBean) cannot be converted to struct&lt;id1:string,id2:string&gt;</code></p>\n<p>Can I return java bean? And if it is possible, how should I do it?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"score":0,"creation_date":1672998718,"post_id":75029249,"comment_id":132403588,"body_markdown":"Your `while(true)` and `break` statements are most likly the reason why it keeps running. Just rewrite your code and avoid cases where it may end in a endless loop","body":"Your <code>while(true)</code> and <code>break</code> statements are most likly the reason why it keeps running. Just rewrite your code and avoid cases where it may end in a endless loop"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672998916,"creation_date":1672998916,"answer_id":75029393,"question_id":75029249,"body_markdown":"The first loop ends, but the second one doesn&#39;t. That&#39;s because you&#39;re not sending a line separator for the mobile phone number. It&#39;s like you entered the phone number but didn&#39;t press enter.\r\n\r\nBoth of your loops need to improved to handle no-more input. If `scanner.hasNextLine()` starts returning `false` while still in the first loop, that loop will never end, because the entire loop body will be skipped for each iterator. Your second loop will instead throw an exception if `scanner.hasNextLine()` starts returning `false`. It&#39;s better to let both `while` conditions check for `scanner.hasNextLine()` instead of using `true`.","title":"JUnit5 test keeps on running and does not pass or fail","body":"<p>The first loop ends, but the second one doesn't. That's because you're not sending a line separator for the mobile phone number. It's like you entered the phone number but didn't press enter.</p>\n<p>Both of your loops need to improved to handle no-more input. If <code>scanner.hasNextLine()</code> starts returning <code>false</code> while still in the first loop, that loop will never end, because the entire loop body will be skipped for each iterator. Your second loop will instead throw an exception if <code>scanner.hasNextLine()</code> starts returning <code>false</code>. It's better to let both <code>while</code> conditions check for <code>scanner.hasNextLine()</code> instead of using <code>true</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user16143919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673000296,"creation_date":1673000296,"answer_id":75029625,"question_id":75029249,"body_markdown":"&gt; im a newcommer on stackoverflow, i want to add a comment but i haven&#39;t enough reputation\r\n\r\nI will try my best to ans your question.\r\n\r\nOn your describe `i just guess where it stuck on`.\r\n\r\nIn the first loop\r\n\r\n    while(true){\r\n        //  do something\r\n        if(){\r\n        \r\n       }else{}\r\n    }\r\n\r\nWhen you enter a empty value, it will choise else branch, so it contine to do-while \r\n\r\nYou can add `break;` on the else branch.\r\n","title":"JUnit5 test keeps on running and does not pass or fail","body":"<blockquote>\n<p>im a newcommer on stackoverflow, i want to add a comment but i haven't enough reputation</p>\n</blockquote>\n<p>I will try my best to ans your question.</p>\n<p>On your describe <code>i just guess where it stuck on</code>.</p>\n<p>In the first loop</p>\n<pre><code>while(true){\n    //  do something\n    if(){\n    \n   }else{}\n}\n</code></pre>\n<p>When you enter a empty value, it will choise else branch, so it contine to do-while</p>\n<p>You can add <code>break;</code> on the else branch.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673009657,"creation_date":1673009657,"answer_id":75031203,"question_id":75029249,"body_markdown":"The problem is that you create the `Scanner` when the `Manager` instance is created:\r\n\r\n    public class Manager {\r\n    \r\n        private ArrayList&lt;Student&gt; students;\r\n        Scanner scanner = new Scanner(System.in);\r\n    \r\n        //...\r\n    }\r\n\r\nBut in your test method you first create the `Manager` instance and only after that change `System.in`:\r\n\r\n    @Test\r\n    public void addStudentNameTest() {\r\n        Manager manager = new Manager();\r\n        String testName = &quot;Alice&quot;;\r\n        String testMobileNumber = &quot;07979931369&quot;;\r\n        System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\r\n        // ...\r\n    }\r\n\r\nYou need to change `System.in` before creating the `Manager` instance:\r\n\r\n    @Test\r\n    public void addStudentNameTest() {\r\n        String testName = &quot;Alice&quot;;\r\n        String testMobileNumber = &quot;07979931369&quot;;\r\n        System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\r\n        Manager manager = new Manager();\r\n        // ...\r\n    }\r\n\r\nOnly when doing things in this order can the `Scanner` in `Manager` read the changed `System.in`.","title":"JUnit5 test keeps on running and does not pass or fail","body":"<p>The problem is that you create the <code>Scanner</code> when the <code>Manager</code> instance is created:</p>\n<pre><code>public class Manager {\n\n    private ArrayList&lt;Student&gt; students;\n    Scanner scanner = new Scanner(System.in);\n\n    //...\n}\n</code></pre>\n<p>But in your test method you first create the <code>Manager</code> instance and only after that change <code>System.in</code>:</p>\n<pre><code>@Test\npublic void addStudentNameTest() {\n    Manager manager = new Manager();\n    String testName = &quot;Alice&quot;;\n    String testMobileNumber = &quot;07979931369&quot;;\n    System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\n    // ...\n}\n</code></pre>\n<p>You need to change <code>System.in</code> before creating the <code>Manager</code> instance:</p>\n<pre><code>@Test\npublic void addStudentNameTest() {\n    String testName = &quot;Alice&quot;;\n    String testMobileNumber = &quot;07979931369&quot;;\n    System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\n    Manager manager = new Manager();\n    // ...\n}\n</code></pre>\n<p>Only when doing things in this order can the <code>Scanner</code> in <code>Manager</code> read the changed <code>System.in</code>.</p>\n"}],"owner":{"display_name":"user14719716"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673009657,"creation_date":1672998103,"question_id":75029249,"body_markdown":"I have a class that has a method to add new student objects into an arraylist. The instance variables are passed through the console and the user input is validated (name should not be empty, phone number should be in the correct format).\r\n\r\nI want to test scenarios such as, entering a valid name, not entering any name, enterting a valid phone number etc, but I&#39;m not sure how to achieve this using JUnit 5. I have written a sample test for one scenario, but when I run it, it gets stuck in the running state so I am not sure what is happening as well. \r\n\r\nI want to know what I am doing wrong and how I can rectify it.\r\n\r\n\r\n**The Class that needs to be tested**\r\n```\r\nimport java.util.*;\r\n\r\npublic class Manager {\r\n\r\n    private ArrayList&lt;Student&gt; students;\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    public void addStudent(){\r\n        String name;\r\n        String mobileNumber;\r\n\r\n// Keep prompting the user to enter a value until a non-empty value is entered for the name\r\n        while(true) {\r\n            System.out.print(&quot;Enter student&#39;s name: &quot;);\r\n            if (scanner.hasNextLine()) {\r\n                // Trim leading and trailing whitespace from the value\r\n                name = scanner.nextLine().trim();\r\n                if (name.length() &gt; 0) {\r\n                    // A non-empty value was entered\r\n                    break;\r\n                } else {\r\n                    // An empty value was entered\r\n                    System.out.println(&quot;Error: Student name cannot be left blank&quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        String phoneRegEx = &quot;^(\\\\+44\\\\s?7\\\\d{3}|\\\\(?07\\\\d{3}\\\\)?)\\\\s?\\\\d{3}\\\\s?\\\\d{3}$&quot;;\r\n        while (true) {\r\n            System.out.print(&quot;Enter student&#39;s mobile number: &quot;);\r\n            mobileNumber = scanner.nextLine();\r\n\r\n            // Check if the user input matches the phone number format of UK mobile phone numbers\r\n            if (mobileNumber.matches(phoneRegEx)) {\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Invalid phone number. Please enter a valid phone number&quot;);\r\n            }\r\n        }\r\n\r\n        Student student = new Student(name,mobileNumber);\r\n        students.add(student);\r\n        System.out.println(&quot;Student added successfully.\\n&quot;);\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**Sample test written**\r\n```\r\n@Test\r\n    public void addStudentNameTest() {\r\n        Manager manager = new Manager();\r\n        String testName = &quot;Alice&quot;;\r\n        String testMobileNumber = &quot;07979931369&quot;;\r\n        System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\r\n\r\n        // Test adding a student with valid input\r\n        manager.addStudent();\r\n\r\n        // Verify that the student was added to the `students` list\r\n        assertTrue(manager.getDoctors().size() == 1);\r\n        assertEquals(testName, manager.getStudent().get(0).getName());\r\n        assertEquals(testMobileNumber, manager.getStudent().get(0).getMobileNumber());\r\n\r\n    }\r\n```","title":"JUnit5 test keeps on running and does not pass or fail","body":"<p>I have a class that has a method to add new student objects into an arraylist. The instance variables are passed through the console and the user input is validated (name should not be empty, phone number should be in the correct format).</p>\n<p>I want to test scenarios such as, entering a valid name, not entering any name, enterting a valid phone number etc, but I'm not sure how to achieve this using JUnit 5. I have written a sample test for one scenario, but when I run it, it gets stuck in the running state so I am not sure what is happening as well.</p>\n<p>I want to know what I am doing wrong and how I can rectify it.</p>\n<p><strong>The Class that needs to be tested</strong></p>\n<pre><code>import java.util.*;\n\npublic class Manager {\n\n    private ArrayList&lt;Student&gt; students;\n    Scanner scanner = new Scanner(System.in);\n\n    public void addStudent(){\n        String name;\n        String mobileNumber;\n\n// Keep prompting the user to enter a value until a non-empty value is entered for the name\n        while(true) {\n            System.out.print(&quot;Enter student's name: &quot;);\n            if (scanner.hasNextLine()) {\n                // Trim leading and trailing whitespace from the value\n                name = scanner.nextLine().trim();\n                if (name.length() &gt; 0) {\n                    // A non-empty value was entered\n                    break;\n                } else {\n                    // An empty value was entered\n                    System.out.println(&quot;Error: Student name cannot be left blank&quot;);\n                }\n\n            }\n        }\n\n        String phoneRegEx = &quot;^(\\\\+44\\\\s?7\\\\d{3}|\\\\(?07\\\\d{3}\\\\)?)\\\\s?\\\\d{3}\\\\s?\\\\d{3}$&quot;;\n        while (true) {\n            System.out.print(&quot;Enter student's mobile number: &quot;);\n            mobileNumber = scanner.nextLine();\n\n            // Check if the user input matches the phone number format of UK mobile phone numbers\n            if (mobileNumber.matches(phoneRegEx)) {\n                break;\n            } else {\n                System.out.println(&quot;Invalid phone number. Please enter a valid phone number&quot;);\n            }\n        }\n\n        Student student = new Student(name,mobileNumber);\n        students.add(student);\n        System.out.println(&quot;Student added successfully.\\n&quot;);\n\n\n    }\n\n}\n</code></pre>\n<p><strong>Sample test written</strong></p>\n<pre><code>@Test\n    public void addStudentNameTest() {\n        Manager manager = new Manager();\n        String testName = &quot;Alice&quot;;\n        String testMobileNumber = &quot;07979931369&quot;;\n        System.setIn(new ByteArrayInputStream((testName + System.lineSeparator() + testMobileNumber).getBytes()));\n\n        // Test adding a student with valid input\n        manager.addStudent();\n\n        // Verify that the student was added to the `students` list\n        assertTrue(manager.getDoctors().size() == 1);\n        assertEquals(testName, manager.getStudent().get(0).getName());\n        assertEquals(testMobileNumber, manager.getStudent().get(0).getMobileNumber());\n\n    }\n</code></pre>\n"},{"tags":["java","audio","lag"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1522568438,"post_id":49595727,"comment_id":86199107,"body_markdown":"*&quot;What can I do to solve this&quot;* - Pre-load the clip prior to wanting to play it...","body":"<i>&quot;What can I do to solve this&quot;</i> - Pre-load the clip prior to wanting to play it..."},{"owner":{"account_id":13142089,"reputation":11,"user_id":9493335,"display_name":"Cobalt _000"},"score":0,"creation_date":1522600059,"post_id":49595727,"comment_id":86207341,"body_markdown":"Do you mean just using my init method? I did do that, but do you mean there’s something else I should do to pre-load my clips?","body":"Do you mean just using my init method? I did do that, but do you mean there’s something else I should do to pre-load my clips?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1522619685,"post_id":49595727,"comment_id":86213202,"body_markdown":"I&#39;d use something like `SoundEffect.WALL` and set the `framePosition` to the last and then the first position to force the loading of the stream BEFORE you need to use it - so yes, do it in your init method","body":"I&#39;d use something like <code>SoundEffect.WALL</code> and set the <code>framePosition</code> to the last and then the first position to force the loading of the stream BEFORE you need to use it - so yes, do it in your init method"},{"owner":{"account_id":13142089,"reputation":11,"user_id":9493335,"display_name":"Cobalt _000"},"score":0,"creation_date":1522628187,"post_id":49595727,"comment_id":86214856,"body_markdown":"Okay, so I&#39;ve been trying `SoundEffect.WALL.clip.setFramePosition(SoundEffect.WALL.clip.getFrameLength());`\n\t\t`SoundEffect.WALL.clip.start();`\n\t\t`SoundEffect.WALL.clip.setFramePosition(0);` with no luck. The sound effect is preloaded successfully, but the preloading is still audible when I try this.","body":"Okay, so I&#39;ve been trying <code>SoundEffect.WALL.clip.setFramePosition(SoundEffect.WALL.clip&zwnj;&#8203;.getFrameLength());</code> \t\t<code>SoundEffect.WALL.clip.start();</code> \t\t<code>SoundEffect.WALL.clip.setFramePosition(0);</code> with no luck. The sound effect is preloaded successfully, but the preloading is still audible when I try this."}],"answers":[{"tags":[],"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522570078,"creation_date":1522570078,"answer_id":49596095,"question_id":49595727,"body_markdown":"Use a separate Thread\r\n\r\n    Thread music = new Thread(new Runnable() {\r\n        @Override public void run() { your code }\r\n    };\r\n    music.start();","title":"Java Clips Lag on First Play","body":"<p>Use a separate Thread</p>\n\n<pre><code>Thread music = new Thread(new Runnable() {\n    @Override public void run() { your code }\n};\nmusic.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27452810,"reputation":11,"user_id":20944766,"display_name":"tom HD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673009325,"creation_date":1673009325,"answer_id":75031143,"question_id":49595727,"body_markdown":"I had the same bug, the first play of a clip was about 1-2 sec delayed, no matter when the play()-method is called. What I did is I played a clip in the main() method which is a half seccond long and contains nothing (no sound). This means that the play() method of the actual sound isn&#39;t called the first time, and for me, it works. Hope it helped.","title":"Java Clips Lag on First Play","body":"<p>I had the same bug, the first play of a clip was about 1-2 sec delayed, no matter when the play()-method is called. What I did is I played a clip in the main() method which is a half seccond long and contains nothing (no sound). This means that the play() method of the actual sound isn't called the first time, and for me, it works. Hope it helped.</p>\n"}],"owner":{"account_id":13142089,"reputation":11,"user_id":9493335,"display_name":"Cobalt _000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673009325,"creation_date":1522566960,"question_id":49595727,"body_markdown":"I have sound effects for a game. Upon the game frame opening, the first sound lags behind. After that sound plays, no more lag is experienced.\r\nHere&#39;s my clip player:\r\n\r\n    public enum SoundEffect\r\n    {\r\n    \tWALL(&quot;ping_pong_8bit_plop&quot;),\r\n    \tPADDLE(&quot;ping_pong_8bit_beeep&quot;),\r\n    \tPOINT(&quot;ping_pong_8bit_peeeeeep&quot;);\r\n    \tpublic static enum Volume\r\n    \t{\r\n    \t\tMUTE, UNMUTE\r\n    \t}\r\n    \tpublic static Volume volume = Volume.MUTE;\r\n    \tprivate Clip clip;\r\n    \tSoundEffect (String file)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tAudioInputStream inputStream = AudioSystem.getAudioInputStream(this.getClass().getResource(file+&quot;.wav&quot;));\r\n    \t\t\tAudioFormat format = inputStream.getFormat();\r\n    \t\t\tDataLine.Info info = new DataLine.Info(Clip.class, format);\r\n    \t\t\tclip = (Clip)AudioSystem.getLine(info);\r\n    \t\t\tclip.open(inputStream);\r\n    \r\n    \t    }\r\n    \t\tcatch (UnsupportedAudioFileException uae)\r\n    \t\t{\r\n    \t\t\tuae.printStackTrace();\r\n    \t    }\r\n    \t\tcatch (IOException ioe)\r\n    \t\t{\r\n    \t\t\tioe.printStackTrace();\r\n    \t    }\r\n    \t\tcatch (LineUnavailableException lue)\r\n    \t\t{\r\n    \t\t\tlue.printStackTrace();\r\n    \t    }\r\n    \t}\t\r\n    \tpublic void play()\r\n    \t{\r\n    \t\tif (volume != Volume.MUTE)\r\n    \t\t{\r\n    \t\t\tif (clip.isRunning())\r\n    \t\t\t\tclip.stop();\r\n    \t\t\tclip.flush();\r\n    \t\t\tclip.setFramePosition(0);\r\n    \t\t\tclip.start();\r\n    \t\t}\r\n    \t}\r\n    \tstatic void init()\r\n    \t{\r\n    \t\tvalues();\r\n    \t} \r\n    }\r\n\r\nSo when I call SoundEffect.WALL.play() for example, it plays fine overall, but the very first time it plays there is a huge lag spike. What can I do to solve this, preferably still using Clips?","title":"Java Clips Lag on First Play","body":"<p>I have sound effects for a game. Upon the game frame opening, the first sound lags behind. After that sound plays, no more lag is experienced.\nHere's my clip player:</p>\n\n<pre><code>public enum SoundEffect\n{\n    WALL(\"ping_pong_8bit_plop\"),\n    PADDLE(\"ping_pong_8bit_beeep\"),\n    POINT(\"ping_pong_8bit_peeeeeep\");\n    public static enum Volume\n    {\n        MUTE, UNMUTE\n    }\n    public static Volume volume = Volume.MUTE;\n    private Clip clip;\n    SoundEffect (String file)\n    {\n        try\n        {\n            AudioInputStream inputStream = AudioSystem.getAudioInputStream(this.getClass().getResource(file+\".wav\"));\n            AudioFormat format = inputStream.getFormat();\n            DataLine.Info info = new DataLine.Info(Clip.class, format);\n            clip = (Clip)AudioSystem.getLine(info);\n            clip.open(inputStream);\n\n        }\n        catch (UnsupportedAudioFileException uae)\n        {\n            uae.printStackTrace();\n        }\n        catch (IOException ioe)\n        {\n            ioe.printStackTrace();\n        }\n        catch (LineUnavailableException lue)\n        {\n            lue.printStackTrace();\n        }\n    }   \n    public void play()\n    {\n        if (volume != Volume.MUTE)\n        {\n            if (clip.isRunning())\n                clip.stop();\n            clip.flush();\n            clip.setFramePosition(0);\n            clip.start();\n        }\n    }\n    static void init()\n    {\n        values();\n    } \n}\n</code></pre>\n\n<p>So when I call SoundEffect.WALL.play() for example, it plays fine overall, but the very first time it plays there is a huge lag spike. What can I do to solve this, preferably still using Clips?</p>\n"},{"tags":["java","android","mysql","server"],"answers":[{"tags":[],"owner":{"account_id":16634609,"reputation":1,"user_id":12021640,"display_name":"Ihsan Korkmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673009098,"creation_date":1673009098,"answer_id":75031109,"question_id":61819889,"body_markdown":"Your connection string is incorrect. Connection string is to be that:\r\nString connURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;databaseName=&quot; + db + &quot;;user=&quot; + un+ &quot;;password=&quot; + password;\r\n","title":"Android studio mysql server timed out/refused connection","body":"<p>Your connection string is incorrect. Connection string is to be that:\nString connURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;databaseName=&quot; + db + &quot;;user=&quot; + un+ &quot;;password=&quot; + password;</p>\n"}],"owner":{"account_id":18591970,"reputation":11,"user_id":13548972,"display_name":"Yonfroy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673009098,"creation_date":1589547709,"question_id":61819889,"body_markdown":"I&#39;m currently attempting to connect android studio to my sql server but had no luck, I then tried to connect to my local mysql database and I&#39;m getting the exact same error, this is what it looks like:\r\n\r\nE/Database: Network error IOException: failed to connect to /192.168.0.10 (port 1433) from /:: (port 54516): connect failed: ETIMEDOUT (Connection timed out)\r\n\r\nHere&#39;s a snippet of my code: \r\n\r\njdbc:jtds:mysql://localhost:3306/javabase,java,password\r\n\r\nWhen it comes to the ip string I&#39;ve tried just about everything such as 10.0.0.2 or using my actual ipv4 address but I still get the same error.\r\n\r\n       @SuppressLint(&quot;NewApi&quot;)\r\n    public Connection openConnection() {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\r\n                .permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        try {\r\n            String ip = &quot;localhost&quot;;\r\n            String db = &quot;javabase&quot;;\r\n            String un = &quot;java&quot;;\r\n            String password = &quot;password&quot;;\r\n            String connectionURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;/&quot; + db+ &quot;;user=&quot; + un + &quot;;password=&quot; + password + &quot;;&quot;;\r\n            Log.d(&quot;Database&quot;, &quot;Attempting to establish connection to database server...&quot;);\r\n            con = DriverManager.getConnection(connectionURL);\r\n            Log.d(&quot;Database&quot;, &quot;Connection to &quot; + con.getMetaData().getURL());\r\n            return con;\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;Database&quot;, ex.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n\r\nThanks in advance.\r\n","title":"Android studio mysql server timed out/refused connection","body":"<p>I'm currently attempting to connect android studio to my sql server but had no luck, I then tried to connect to my local mysql database and I'm getting the exact same error, this is what it looks like:</p>\n\n<p>E/Database: Network error IOException: failed to connect to /192.168.0.10 (port 1433) from /:: (port 54516): connect failed: ETIMEDOUT (Connection timed out)</p>\n\n<p>Here's a snippet of my code: </p>\n\n<p>jdbc:jtds:mysql://localhost:3306/javabase,java,password</p>\n\n<p>When it comes to the ip string I've tried just about everything such as 10.0.0.2 or using my actual ipv4 address but I still get the same error.</p>\n\n<pre><code>   @SuppressLint(\"NewApi\")\npublic Connection openConnection() {\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\n            .permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n    try {\n        String ip = \"localhost\";\n        String db = \"javabase\";\n        String un = \"java\";\n        String password = \"password\";\n        String connectionURL = \"jdbc:jtds:sqlserver://\" + ip + \"/\" + db+ \";user=\" + un + \";password=\" + password + \";\";\n        Log.d(\"Database\", \"Attempting to establish connection to database server...\");\n        con = DriverManager.getConnection(connectionURL);\n        Log.d(\"Database\", \"Connection to \" + con.getMetaData().getURL());\n        return con;\n    } catch (Exception ex) {\n        Log.e(\"Database\", ex.getMessage());\n    }\n    return null;\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sorting","collections","hashmap"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1672919145,"post_id":75017873,"comment_id":132383574,"body_markdown":"&quot;According to my understanding its just a collection&quot; - no, it&#39;s not. It&#39;s a `Map`. A `Map`, by default, has specification about any order of what it contains. To bring something orderable into play, you need to convert the `Set&lt;Map.Entry&gt; entrySet()` (which is also unordered) to a `List`.","body":"&quot;According to my understanding its just a collection&quot; - no, it&#39;s not. It&#39;s a <code>Map</code>. A <code>Map</code>, by default, has specification about any order of what it contains. To bring something orderable into play, you need to convert the <code>Set&lt;Map.Entry&gt; entrySet()</code> (which is also unordered) to a <code>List</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1672919294,"post_id":75017873,"comment_id":132383621,"body_markdown":"Why do you assume that being a collection automatically means that it can be sorted? Not to mention that `HashMap` isn&#39;t even a `Collection`.","body":"Why do you assume that being a collection automatically means that it can be sorted? Not to mention that <code>HashMap</code> isn&#39;t even a <code>Collection</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1672920196,"post_id":75017873,"comment_id":132383916,"body_markdown":"@f1sh &quot;has no* specification&quot;, too late to edit","body":"@f1sh &quot;has no* specification&quot;, too late to edit"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673009054,"creation_date":1672921490,"answer_id":75018353,"question_id":75017873,"body_markdown":"Instead of placing the values in a map and sorting, create a record or class to hold the data.  After populating with instances of the class, sort the list prior to placing in the map.  It is necessary to use a `LinkedHashMap` to preserve the sorted order.  Otherwise, the normal behavior of a `HashMap` will most likely disturb the sort.\r\n```\r\nrecord Rec(String getName, int getVal) {}\r\n\r\nList&lt;Rec&gt; list = List.of(\r\n        new Rec(&quot;Math&quot;, 98), new Rec(&quot;Data Structure&quot;, 85),\r\n        new Rec(&quot;Database&quot;, 91), new Rec(&quot;Java&quot;, 95),\r\n        new Rec(&quot;Operating System&quot;, 79), new Rec(&quot;Networking&quot;, 80));\r\n\r\nMap&lt;String, Integer&gt; result = list.stream()\r\n        .sorted(Comparator.comparing(Rec::getVal))\r\n        .collect(Collectors.toMap(Rec::getName, Rec::getVal,\r\n                (a, b) -&gt; a, LinkedHashMap::new));\r\n\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nOperating System=79\r\nNetworking=80\r\nData Structure=85\r\nDatabase=91\r\nJava=95\r\nMath=98\r\n```\r\nThe issue, imo, is that not just any map lends itself to be sorted on values.  Sorting a regular `HashMap` after the fact on values would be fruitless since inserting the keys would still perturb the order.  Sorting before wouldn&#39;t help.  A `TreeMap` won&#39;t work since it is designed to sort on `keys` and any supplied Comparator sorts using a `KeyExtractor`.  And I suspect that any `Map` that might allow this would still convert to another data structure to accomplish the sort and return some `LinkedHashMap` or equivalent.","title":"Why sorting a HashMap&lt;T, T&gt; requires converting and then sorting a List&lt;Map.Entry&lt;T, T&gt;&gt;?","body":"<p>Instead of placing the values in a map and sorting, create a record or class to hold the data.  After populating with instances of the class, sort the list prior to placing in the map.  It is necessary to use a <code>LinkedHashMap</code> to preserve the sorted order.  Otherwise, the normal behavior of a <code>HashMap</code> will most likely disturb the sort.</p>\n<pre><code>record Rec(String getName, int getVal) {}\n\nList&lt;Rec&gt; list = List.of(\n        new Rec(&quot;Math&quot;, 98), new Rec(&quot;Data Structure&quot;, 85),\n        new Rec(&quot;Database&quot;, 91), new Rec(&quot;Java&quot;, 95),\n        new Rec(&quot;Operating System&quot;, 79), new Rec(&quot;Networking&quot;, 80));\n\nMap&lt;String, Integer&gt; result = list.stream()\n        .sorted(Comparator.comparing(Rec::getVal))\n        .collect(Collectors.toMap(Rec::getName, Rec::getVal,\n                (a, b) -&gt; a, LinkedHashMap::new));\n\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Operating System=79\nNetworking=80\nData Structure=85\nDatabase=91\nJava=95\nMath=98\n</code></pre>\n<p>The issue, imo, is that not just any map lends itself to be sorted on values.  Sorting a regular <code>HashMap</code> after the fact on values would be fruitless since inserting the keys would still perturb the order.  Sorting before wouldn't help.  A <code>TreeMap</code> won't work since it is designed to sort on <code>keys</code> and any supplied Comparator sorts using a <code>KeyExtractor</code>.  And I suspect that any <code>Map</code> that might allow this would still convert to another data structure to accomplish the sort and return some <code>LinkedHashMap</code> or equivalent.</p>\n"}],"owner":{"account_id":22477607,"reputation":3,"user_id":16677119,"display_name":"Simran Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75018353,"answer_count":1,"score":-1,"last_activity_date":1673009054,"creation_date":1672918879,"question_id":75017873,"body_markdown":"I came across a problem of sorting a HashMap&lt;String, Integer&gt; based on values. But, I came across many articles over the internet which first created a linkedList/arraylist of Map.Entry&lt;String, Integer&gt; and then sorted it on the basis of value. \r\n\r\nBelow is the code snippet showing sorting of a hashmap on the basis of key.\r\n\r\n```\r\n// Java program to sort hashmap by values\r\nimport java.util.*;\r\nimport java.lang.*;\r\n \r\npublic class Main {\r\n \r\n    // function to sort hashmap by values\r\n    public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\r\n    {\r\n        // Create a list from elements of HashMap\r\n        List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\r\n               new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\r\n \r\n        // Sort the list\r\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\r\n            public int compare(Map.Entry&lt;String, Integer&gt; o1,\r\n                               Map.Entry&lt;String, Integer&gt; o2)\r\n            {\r\n                return (o1.getValue()).compareTo(o2.getValue());\r\n            }\r\n        });\r\n         \r\n        // put data from sorted list to hashmap\r\n        HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\r\n        for (Map.Entry&lt;String, Integer&gt; aa : list) {\r\n            temp.put(aa.getKey(), aa.getValue());\r\n        }\r\n        return temp;\r\n    }\r\n \r\n    // Driver Code\r\n    public static void main(String[] args)\r\n    {\r\n \r\n        HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\r\n \r\n        // enter data into hashmap\r\n        hm.put(&quot;Math&quot;, 98);\r\n        hm.put(&quot;Data Structure&quot;, 85);\r\n        hm.put(&quot;Database&quot;, 91);\r\n        hm.put(&quot;Java&quot;, 95);\r\n        hm.put(&quot;Operating System&quot;, 79);\r\n        hm.put(&quot;Networking&quot;, 80);\r\n        Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\r\n \r\n        // print the sorted hashmap\r\n        for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\r\n            System.out.println(&quot;Key = &quot; + en.getKey() +\r\n                          &quot;, Value = &quot; + en.getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy question is, why is there a need to convert hashmap to list of entrySet and then sort it?\r\n\r\nAccording to my understanding, we should be able to directly sort it based on the values just like any POJO class on a certain parameter. There shouldn&#39;t be any need to convert it into some collection and then sort it.","title":"Why sorting a HashMap&lt;T, T&gt; requires converting and then sorting a List&lt;Map.Entry&lt;T, T&gt;&gt;?","body":"<p>I came across a problem of sorting a HashMap&lt;String, Integer&gt; based on values. But, I came across many articles over the internet which first created a linkedList/arraylist of Map.Entry&lt;String, Integer&gt; and then sorted it on the basis of value.</p>\n<p>Below is the code snippet showing sorting of a hashmap on the basis of key.</p>\n<pre><code>// Java program to sort hashmap by values\nimport java.util.*;\nimport java.lang.*;\n \npublic class Main {\n \n    // function to sort hashmap by values\n    public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\n    {\n        // Create a list from elements of HashMap\n        List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\n               new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\n \n        // Sort the list\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\n            public int compare(Map.Entry&lt;String, Integer&gt; o1,\n                               Map.Entry&lt;String, Integer&gt; o2)\n            {\n                return (o1.getValue()).compareTo(o2.getValue());\n            }\n        });\n         \n        // put data from sorted list to hashmap\n        HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\n        for (Map.Entry&lt;String, Integer&gt; aa : list) {\n            temp.put(aa.getKey(), aa.getValue());\n        }\n        return temp;\n    }\n \n    // Driver Code\n    public static void main(String[] args)\n    {\n \n        HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\n \n        // enter data into hashmap\n        hm.put(&quot;Math&quot;, 98);\n        hm.put(&quot;Data Structure&quot;, 85);\n        hm.put(&quot;Database&quot;, 91);\n        hm.put(&quot;Java&quot;, 95);\n        hm.put(&quot;Operating System&quot;, 79);\n        hm.put(&quot;Networking&quot;, 80);\n        Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\n \n        // print the sorted hashmap\n        for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\n            System.out.println(&quot;Key = &quot; + en.getKey() +\n                          &quot;, Value = &quot; + en.getValue());\n        }\n    }\n}\n</code></pre>\n<p>My question is, why is there a need to convert hashmap to list of entrySet and then sort it?</p>\n<p>According to my understanding, we should be able to directly sort it based on the values just like any POJO class on a certain parameter. There shouldn't be any need to convert it into some collection and then sort it.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"score":0,"creation_date":1673000458,"post_id":75029324,"comment_id":132404152,"body_markdown":"99% sure that the problem is with the config. You need to explicitly define reader for `Step`. Did you do that in config? You can attach your config to the question, so it will be much easier for others to help you","body":"99% sure that the problem is with the config. You need to explicitly define reader for <code>Step</code>. Did you do that in config? You can attach your config to the question, so it will be much easier for others to help you"},{"owner":{"account_id":27451733,"reputation":1,"user_id":20943860,"display_name":"javatime"},"score":0,"creation_date":1673008485,"post_id":75029324,"comment_id":132406390,"body_markdown":"Thank you @DanilaZharenkov I have added the config too but the reader is getting called that I am sure of, from the logs.","body":"Thank you @DanilaZharenkov I have added the config too but the reader is getting called that I am sure of, from the logs."}],"owner":{"account_id":27451733,"reputation":1,"user_id":20943860,"display_name":"javatime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673008848,"creation_date":1672998532,"question_id":75029324,"body_markdown":"read method of ItemReader &amp; stepExecutionListner&#39;s custom implementation is not called. The basic code structure is as below - \r\n```\r\npublic class myCustomReader implements ItemReader&lt;List&lt;String&gt;&gt;, StepExecutionListener {\r\n\r\n\tLogger logger = LogManager.getLogger(this);\r\n\t\r\n\tprivate List&lt;String&gt; dataList;\r\n\t\r\n\t@Override\r\n\tsynchronized public List&lt;String&gt; read()\r\n\t\t\tthrows Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n\t\tlogger.info(&quot;read called&quot;);\r\n\t\t\r\n\t\tdataList.add(&quot;A&quot;);\r\n\t\tdataList.add(&quot;B&quot;);\r\n\t\tdataList.add(&quot;C&quot;);\r\n\t\tdataList.add(&quot;D&quot;);\r\n\t\tdataList.add(&quot;E&quot;);\r\n\t\t\r\n\t\treturn dataList;\r\n\t}\r\n\t@Override\r\n\tpublic void beforeStep(StepExecution stepExecution) {\r\n\t\tlogger.info(&quot;beforeStep called&quot;);\t\r\n\t\tdataList.add(&quot;A&quot;);\r\n\t\tdataList.add(&quot;B&quot;);\r\n\t\tdataList.add(&quot;C&quot;);\r\n\t\tdataList.add(&quot;D&quot;);\r\n\t\tdataList.add(&quot;E&quot;);\r\n\t}\r\n\t@Override\r\n\tpublic ExitStatus afterStep(StepExecution stepExecution) {\r\n\t\tlogger.info(&quot;afterStep called&quot;);\t\t\r\n\t\treturn ExitStatus.COMPLETED;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe appropriate configurations are done in the xml files. The reader is getting called and prints only beforeStep() &amp; afterStep() logs, no logs from read() method. Since there&#39;s no data passed to processor from reader, processor gets called but doesnt do anything.\r\nPlease help me identify the root cause and fix it. \r\n\r\n    &lt;batch:job id=&quot;jobId&quot; restartable=&quot;false&quot;\r\n\t\tjob-repository=&quot;jobRepository&quot;&gt;\r\n\t\t&lt;batch:step id=&quot;stepdId&quot;&gt;\r\n\t\t\t&lt;batch:tasklet task-executor=&quot;batchTaskExecuter&quot;&gt;\r\n\t\t\t\t&lt;batch:chunk reader=&quot;myCustomReader&quot;\r\n\t\t\t\t\t \r\n\t\t\t\t\twriter=&quot;myCustomWriter&quot;\r\n\t\t\t\t\tcommit-interval=&quot;10&quot; \r\n\t\t\t\t\t&gt;\r\n\t\t\t\t&lt;/batch:chunk&gt;\r\n\t\t\t&lt;/batch:tasklet&gt;\r\n\t\t&lt;/batch:step&gt;\r\n\t&lt;/batch:job&gt;\r\n\r\nEdit: added config.\r\n\r\nEdit2: I tried removing &amp; adding &#39;synchornized&#39; for read() method, without any change. When I remove stepExecutionListener and keep only ItemReader in the implementation, then only read method gets called. \r\n \r\nI am expecting read() method logs to get printed, i.e. read() method should get called. ","title":"read method of ItemReader &amp; stepExecutionListner&#39;s custom implementation is not called","body":"<p>read method of ItemReader &amp; stepExecutionListner's custom implementation is not called. The basic code structure is as below -</p>\n<pre><code>public class myCustomReader implements ItemReader&lt;List&lt;String&gt;&gt;, StepExecutionListener {\n\n    Logger logger = LogManager.getLogger(this);\n    \n    private List&lt;String&gt; dataList;\n    \n    @Override\n    synchronized public List&lt;String&gt; read()\n            throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        logger.info(&quot;read called&quot;);\n        \n        dataList.add(&quot;A&quot;);\n        dataList.add(&quot;B&quot;);\n        dataList.add(&quot;C&quot;);\n        dataList.add(&quot;D&quot;);\n        dataList.add(&quot;E&quot;);\n        \n        return dataList;\n    }\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        logger.info(&quot;beforeStep called&quot;);   \n        dataList.add(&quot;A&quot;);\n        dataList.add(&quot;B&quot;);\n        dataList.add(&quot;C&quot;);\n        dataList.add(&quot;D&quot;);\n        dataList.add(&quot;E&quot;);\n    }\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        logger.info(&quot;afterStep called&quot;);        \n        return ExitStatus.COMPLETED;\n    }\n\n}\n</code></pre>\n<p>The appropriate configurations are done in the xml files. The reader is getting called and prints only beforeStep() &amp; afterStep() logs, no logs from read() method. Since there's no data passed to processor from reader, processor gets called but doesnt do anything.\nPlease help me identify the root cause and fix it.</p>\n<pre><code>&lt;batch:job id=&quot;jobId&quot; restartable=&quot;false&quot;\n    job-repository=&quot;jobRepository&quot;&gt;\n    &lt;batch:step id=&quot;stepdId&quot;&gt;\n        &lt;batch:tasklet task-executor=&quot;batchTaskExecuter&quot;&gt;\n            &lt;batch:chunk reader=&quot;myCustomReader&quot;\n                 \n                writer=&quot;myCustomWriter&quot;\n                commit-interval=&quot;10&quot; \n                &gt;\n            &lt;/batch:chunk&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n</code></pre>\n<p>Edit: added config.</p>\n<p>Edit2: I tried removing &amp; adding 'synchornized' for read() method, without any change. When I remove stepExecutionListener and keep only ItemReader in the implementation, then only read method gets called.</p>\n<p>I am expecting read() method logs to get printed, i.e. read() method should get called.</p>\n"},{"tags":["java","spring-boot","elasticsearch","java-8","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672126904,"creation_date":1672126904,"answer_id":74926778,"question_id":74926422,"body_markdown":"You can create a `Comment` class like this:\r\n\r\n    public class Comment {\r\n\r\n        @JsonProperty(&quot;c_id&quot;)\r\n        private String cId;\r\n\r\n        @JsonProperty(&quot;feed_id&quot;)\r\n        private String feedId;\r\n\r\n        @JsonProperty(&quot;c_text&quot;)\r\n        private String cText;\r\n\r\n        // Getters, setters, ...\r\n    }\r\n\r\nand instead of using `private String[] comment`, you should use:\r\n\r\n    @Field(type= FieldType.Nested , name=&quot;comment&quot;)\r\n    private List&lt;Comment&gt; comment;","title":"Creating subfileds of nested array in java","body":"<p>You can create a <code>Comment</code> class like this:</p>\n<pre><code>public class Comment {\n\n    @JsonProperty(&quot;c_id&quot;)\n    private String cId;\n\n    @JsonProperty(&quot;feed_id&quot;)\n    private String feedId;\n\n    @JsonProperty(&quot;c_text&quot;)\n    private String cText;\n\n    // Getters, setters, ...\n}\n</code></pre>\n<p>and instead of using <code>private String[] comment</code>, you should use:</p>\n<pre><code>@Field(type= FieldType.Nested , name=&quot;comment&quot;)\nprivate List&lt;Comment&gt; comment;\n</code></pre>\n"}],"owner":{"account_id":24269568,"reputation":21,"user_id":18217883,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74926778,"answer_count":1,"score":1,"last_activity_date":1673008174,"creation_date":1672123793,"question_id":74926422,"body_markdown":"```\r\nPOST feeds/_doc\r\n{\r\n  \r\n  &quot;feed_id&quot;: &quot;3&quot;,\r\n  &quot;title&quot;: &quot;jose &quot;,\r\n  &quot;body&quot;: &quot;This is Jose allen&quot;,\r\n  &quot;comment&quot;: [\r\n    {\r\n      &quot;c_id&quot;: &quot;13&quot;,\r\n      &quot;feed_id&quot;: &quot;2&quot;,\r\n      &quot;c_text&quot;: &quot;hey&quot;\r\n    },\r\n    {\r\n      &quot;c_id&quot;: &quot;13&quot;,\r\n      &quot;feed_id&quot;: &quot;3&quot;,\r\n      &quot;c_text&quot;: &quot;  here&quot;\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\nthis is the mapping\r\n```\r\nPUT feeds\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;comment&quot;:{\r\n        &quot;type&quot;: &quot;nested&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nI want to create feed class with mentioned feilds the comment field has nested type fields with sub fileds of c_text,c_id .how can i create it\r\n```\r\n@Document(indexName = &quot;feeds&quot;)\r\npublic class Feed {\r\n\t@Id\r\n    private String feed_id;\r\n\t\r\n    @Field(type = FieldType.Text, name = &quot;title&quot;)\r\n    private String title;\r\n    \r\n    @Field(type = FieldType.Text, name = &quot;body&quot;)\r\n    private String body;\r\n    \r\n    @Field(type= FieldType.Nested , name=&quot;comment&quot;)\r\n     private String[] comment;\r\n\r\n}\r\n```\r\n how to intialize subfields of comment field as i am using elasticsearch 7.17.3","title":"Creating subfileds of nested array in java","body":"<pre><code>POST feeds/_doc\n{\n  \n  &quot;feed_id&quot;: &quot;3&quot;,\n  &quot;title&quot;: &quot;jose &quot;,\n  &quot;body&quot;: &quot;This is Jose allen&quot;,\n  &quot;comment&quot;: [\n    {\n      &quot;c_id&quot;: &quot;13&quot;,\n      &quot;feed_id&quot;: &quot;2&quot;,\n      &quot;c_text&quot;: &quot;hey&quot;\n    },\n    {\n      &quot;c_id&quot;: &quot;13&quot;,\n      &quot;feed_id&quot;: &quot;3&quot;,\n      &quot;c_text&quot;: &quot;  here&quot;\n    }\n  ]\n}\n\n</code></pre>\n<p>this is the mapping</p>\n<pre><code>PUT feeds\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;comment&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>I want to create feed class with mentioned feilds the comment field has nested type fields with sub fileds of c_text,c_id .how can i create it</p>\n<pre><code>@Document(indexName = &quot;feeds&quot;)\npublic class Feed {\n    @Id\n    private String feed_id;\n    \n    @Field(type = FieldType.Text, name = &quot;title&quot;)\n    private String title;\n    \n    @Field(type = FieldType.Text, name = &quot;body&quot;)\n    private String body;\n    \n    @Field(type= FieldType.Nested , name=&quot;comment&quot;)\n     private String[] comment;\n\n}\n</code></pre>\n<p>how to intialize subfields of comment field as i am using elasticsearch 7.17.3</p>\n"},{"tags":["java","jvm","heap-memory","jvm-arguments"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1672969059,"post_id":75025893,"comment_id":132398482,"body_markdown":"I&#39;m voting to close this question as opinion-based, since it&#39;s mostly a matter of individual preferences; there is no good objective guideline when to use this option or not. E.g. in my personal (though well-grounded) opinion, `-XX:MaxRAMPercentage` should never be used at all. At the same time, you may find many posts on the internet recommending this option over `-Xmx`.","body":"I&#39;m voting to close this question as opinion-based, since it&#39;s mostly a matter of individual preferences; there is no good objective guideline when to use this option or not. E.g. in my personal (though well-grounded) opinion, <code>-XX:MaxRAMPercentage</code> should never be used at all. At the same time, you may find many posts on the internet recommending this option over <code>-Xmx</code>."},{"owner":{"account_id":2194060,"reputation":1,"user_id":19312263,"display_name":"TestUser"},"score":0,"creation_date":1672969321,"post_id":75025893,"comment_id":132398522,"body_markdown":"@apangin : can you share link where it suggests to use this option? Atleast that will partially answer my question","body":"@apangin : can you share link where it suggests to use this option? Atleast that will partially answer my question"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672980465,"post_id":75025893,"comment_id":132400003,"body_markdown":"@Helena\n\nthat is very unfortunate you have deleted your [previous Q](https://chat.stackoverflow.com//transcript/message/55787504), cause you were asked about your ultimate goal and nobody did receive an answer.","body":"@Helena  that is very unfortunate you have deleted your <a href=\"https://chat.stackoverflow.com//transcript/message/55787504\">previous Q</a>, cause you were asked about your ultimate goal and nobody did receive an answer."},{"owner":{"account_id":2194060,"reputation":1,"user_id":19312263,"display_name":"TestUser"},"score":0,"creation_date":1672983532,"post_id":75025893,"comment_id":132400441,"body_markdown":"@AndreyB.Panfilov I didn&#39;t get any answer to my last comment in the chat  https://chat.stackoverflow.com//transcript/message/55787504 and hence it was kind of left dangling. I thought no one interested in answering last comment, so i deleted it (i can reopen that). As far as the discussion went it appeared from that  -XX:MaxRAMPercentage shouldn&#39;t be used if application is NOT running in a container? I thought if there is no container involved then also these options could be used (unsure wht it mean)? In non-dockerized situation won&#39;t these options would control the available RAM percentage?","body":"@AndreyB.Panfilov I didn&#39;t get any answer to my last comment in the chat  <a href=\"https://chat.stackoverflow.com//transcript/message/55787504\">chat.stackoverflow.com//transcript/message/55787504</a> and hence it was kind of left dangling. I thought no one interested in answering last comment, so i deleted it (i can reopen that). As far as the discussion went it appeared from that  -XX:MaxRAMPercentage shouldn&#39;t be used if application is NOT running in a container? I thought if there is no container involved then also these options could be used (unsure wht it mean)? In non-dockerized situation won&#39;t these options would control the available RAM percentage?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672985208,"post_id":75025893,"comment_id":132400702,"body_markdown":"@Helena `-XX:MaxRAMPercentage` option do not control `RAM` (please check https://stackoverflow.com/questions/53451103), it somehow tries to control `heap` in unreliable way","body":"@Helena <code>-XX:MaxRAMPercentage</code> option do not control <code>RAM</code> (please check <a href=\"https://stackoverflow.com/questions/53451103\">stackoverflow.com/questions/53451103</a>), it somehow tries to control <code>heap</code> in unreliable way"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673008145,"creation_date":1673008145,"answer_id":75030960,"question_id":75025893,"body_markdown":"There is no technical obstacle preventing you from using this option without containers. When I use the following program\r\n\r\n```java\r\nimport com.sun.management.OperatingSystemMXBean;\r\nimport static java.lang.management.ManagementFactory.*;\r\n\r\npublic class PrintMaxRAM {\r\n    public static void main(String[] args) {\r\n        long maxHeap = getMemoryMXBean().getHeapMemoryUsage().getMax();\r\n        long maxRAM = getPlatformMXBean(OperatingSystemMXBean.class)\r\n            .getTotalMemorySize();\r\n        System.out.println(maxHeap + &quot; (&quot; + maxHeap * 100 / maxRAM + &quot;%)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nlike\r\n\r\n```none\r\njdk-17\\bin\\java PrintMaxRAM.java\r\n```\r\n\r\nit prints\r\n\r\n```none\r\n3737124864 (25%)\r\n```\r\n\r\non my machine (Windows, no virtualization). When I use\r\n\r\n```none\r\njdk-17\\bin\\java -XX:MaxRAMPercentage=75 PrintMaxRAM.java\r\n```\r\n\r\ninstead, it prints as expected:\r\n\r\n```none\r\n11207180288 (75%)\r\n```\r\n(there’s obviously some rounding to block sizes going on, so the number of bytes is not exactly a triple)\r\n\r\nSo whether you “should” use this option, is about your own (our your customer’s) *intention*.\r\n\r\n - When you run the application on a non-virtualized system, together with unknown programs, you probably want to limit your absolute maximum memory consumption, e.g. via `-Xmx`, and leave the unknown remaining amount of memory for the unknown programs.\r\n\r\n - When you run the application in a dedicated container, together with a known set of programs or no other programs at all, you most probably want to specify the maximum amount of memory in relation to the container’s memory, so when you want to change the available memory, you only have to reconfigure the container instead of needing to adapt all programs’ start configurations.\r\n\r\nSo it’s not a question of right or wrong but about the actual use case. For example, to specify an absolute upper bound for the required memory, you have to know the actual application. That’s why the default configuration is a relative value (in some environments) even when not running inside a container, as the JVM can’t predict a useful absolute value for an arbitrary application.\r\n\r\nIf, for example, you are not using containers, but the entire hardware is dedicated to run a single program, it makes perfect sense to use, e.g. `-XX:MaxRAMPercentage=90`, for that program.\r\n","title":"Is jvm heap memory option `XX:MaxRAMPercentage` only valid for dockerized applications?","body":"<p>There is no technical obstacle preventing you from using this option without containers. When I use the following program</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.management.OperatingSystemMXBean;\nimport static java.lang.management.ManagementFactory.*;\n\npublic class PrintMaxRAM {\n    public static void main(String[] args) {\n        long maxHeap = getMemoryMXBean().getHeapMemoryUsage().getMax();\n        long maxRAM = getPlatformMXBean(OperatingSystemMXBean.class)\n            .getTotalMemorySize();\n        System.out.println(maxHeap + &quot; (&quot; + maxHeap * 100 / maxRAM + &quot;%)&quot;);\n    }\n}\n</code></pre>\n<p>like</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk-17\\bin\\java PrintMaxRAM.java\n</code></pre>\n<p>it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>3737124864 (25%)\n</code></pre>\n<p>on my machine (Windows, no virtualization). When I use</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk-17\\bin\\java -XX:MaxRAMPercentage=75 PrintMaxRAM.java\n</code></pre>\n<p>instead, it prints as expected:</p>\n<pre class=\"lang-none prettyprint-override\"><code>11207180288 (75%)\n</code></pre>\n<p>(there’s obviously some rounding to block sizes going on, so the number of bytes is not exactly a triple)</p>\n<p>So whether you “should” use this option, is about your own (our your customer’s) <em>intention</em>.</p>\n<ul>\n<li><p>When you run the application on a non-virtualized system, together with unknown programs, you probably want to limit your absolute maximum memory consumption, e.g. via <code>-Xmx</code>, and leave the unknown remaining amount of memory for the unknown programs.</p>\n</li>\n<li><p>When you run the application in a dedicated container, together with a known set of programs or no other programs at all, you most probably want to specify the maximum amount of memory in relation to the container’s memory, so when you want to change the available memory, you only have to reconfigure the container instead of needing to adapt all programs’ start configurations.</p>\n</li>\n</ul>\n<p>So it’s not a question of right or wrong but about the actual use case. For example, to specify an absolute upper bound for the required memory, you have to know the actual application. That’s why the default configuration is a relative value (in some environments) even when not running inside a container, as the JVM can’t predict a useful absolute value for an arbitrary application.</p>\n<p>If, for example, you are not using containers, but the entire hardware is dedicated to run a single program, it makes perfect sense to use, e.g. <code>-XX:MaxRAMPercentage=90</code>, for that program.</p>\n"}],"owner":{"account_id":2194060,"reputation":1,"user_id":19312263,"display_name":"TestUser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673008145,"creation_date":1672966260,"question_id":75025893,"body_markdown":"As per link https://bugs.openjdk.org/browse/JDK-8186248\r\n\r\nThe purpose of `XX:MaxRAMPercentage` is to Allow more flexibility in selecting Heap % of available RAM, i.e. we need to control the amount of memory consumed by java via limiting container memory, that in turn means following:\r\n\r\n1. for the vast majority of java applications the value of -XX:MaxRAMPercentage should be about 80-95 because we would like to consume all container memory. \r\n \r\nDoes that mean -XX:MaxRAMPercentage shouldn&#39;t be used if application is NOT running in a container? \r\nI thought if there is no container involved then also these options could be used.\r\n\r\nCan anyone clarify?\r\n","title":"Is jvm heap memory option `XX:MaxRAMPercentage` only valid for dockerized applications?","body":"<p>As per link <a href=\"https://bugs.openjdk.org/browse/JDK-8186248\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8186248</a></p>\n<p>The purpose of <code>XX:MaxRAMPercentage</code> is to Allow more flexibility in selecting Heap % of available RAM, i.e. we need to control the amount of memory consumed by java via limiting container memory, that in turn means following:</p>\n<ol>\n<li>for the vast majority of java applications the value of -XX:MaxRAMPercentage should be about 80-95 because we would like to consume all container memory.</li>\n</ol>\n<p>Does that mean -XX:MaxRAMPercentage shouldn't be used if application is NOT running in a container?\nI thought if there is no container involved then also these options could be used.</p>\n<p>Can anyone clarify?</p>\n"},{"tags":["java","struts2","weblogic","war","weblogic-10.x"],"answers":[{"tags":[],"owner":{"account_id":4911817,"reputation":13,"user_id":3956922,"display_name":"abhiroop goswami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558947080,"creation_date":1558947080,"answer_id":56322662,"question_id":56278794,"body_markdown":"Finally I was able to figure this out. The culprit has been the compiler compliance level in my eclipse project.  Although I was using jdk1.7 in my project buildpath, I should have also checked for the projects compiler compliance version in Eclipse which was 1.8 (proj right click&gt; JavaCompiler&gt; I set it to 1.7). \r\nAlso, I was using javax.servlet-api-3.0.1.jar - I switched to servlet2.5 as I read somewhere that weblogic10.3.x is only compliant upto servlet2.5. \r\n\r\nI hope this helps someone looking for a solution to similar problem. ","title":"Unable to load Action class while deploying struts2.5 war file on weblogic 10.3.6","body":"<p>Finally I was able to figure this out. The culprit has been the compiler compliance level in my eclipse project.  Although I was using jdk1.7 in my project buildpath, I should have also checked for the projects compiler compliance version in Eclipse which was 1.8 (proj right click> JavaCompiler> I set it to 1.7). \nAlso, I was using javax.servlet-api-3.0.1.jar - I switched to servlet2.5 as I read somewhere that weblogic10.3.x is only compliant upto servlet2.5. </p>\n\n<p>I hope this helps someone looking for a solution to similar problem. </p>\n"}],"owner":{"account_id":4911817,"reputation":13,"user_id":3956922,"display_name":"abhiroop goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56322662,"answer_count":1,"score":0,"last_activity_date":1673008051,"creation_date":1558626192,"question_id":56278794,"body_markdown":"   https://stackoverflow.com/questions/50812659/unable-to-load-action-error-while-deploying-struts2-war-file-on-weblogic-10-3-6 \r\n  \r\nThe above question is very similar to the issue I&#39;m facing but there is no solution provided. \r\n    I have an application in struts2.5 which I have exported to a *.war file and trying to deploy it to weblogic 10.3.6(running on java7). \r\n    During deployment I get an error that the Action class is not found (when I can see it present in the war file&#39;s WEB-INF/classes). \r\n    \r\nAs mentioned by user3898783 in above link- &quot;What weblogic does during\r\nWAR deployment(obviously it internally explodes) it puts all the files reside in web-inf/classes folder into jar called _wl_cls_gen.jar file and copies into web-inf/lib directory under domain stage folder.&quot; - similar is my problem.\r\nI am currently using the wls:prefer-web-inf-classes&quot;true&quot; /wls:prefer-web-inf-classes configuration in my weblogic.xml file which hasn&#39;t really solved my problem. \r\n    \r\n Weblogic.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n         &lt;wls:container-descriptor&gt;\r\n            &lt;wls:prefer-web-inf-classes&gt;true&lt;/wls:prefer-web-inf-classes&gt;\r\n         &lt;/wls:container-descriptor&gt;\r\n         \r\n         \t\r\n    \t&lt;wls:session-descriptor&gt; \r\n    \t\t&lt;wls:cookies-enabled&gt;true&lt;/wls:cookies-enabled&gt;\r\n         &lt;/wls:session-descriptor&gt;\r\n         \r\n    &lt;/wls:weblogic-web-app&gt;\r\n    \r\n    &lt;May 23, 2019 1:00:02 AM CDT&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;BEA-101165&gt; &lt;Could not load user defined filter in web.xml: org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.\r\n    Unable to load configuration. - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\r\n            at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:509)\r\n            at org.apache.struts2.dispatcher.InitOperations.initDispatcher(InitOperations.java:73)\r\n            at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:61)\r\n            at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:343)\r\n            at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n            Truncated. see log file for complete stacktrace\r\n    Caused By: Unable to load configuration. - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\r\n            at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:69)\r\n            at org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:957)\r\n            at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:463)\r\n            at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:496)\r\n            at org.apache.struts2.dispatcher.InitOperations.initDispatcher(InitOperations.java:73)\r\n            Truncated. see log file for complete stacktrace\r\n    Caused By: Action class [com.myapp.struts.actions.LoginAction] not found - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\r\n            at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.verifyAction(XmlConfigurationProvider.java:508)\r\n            at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addAction(XmlConfigurationProvider.java:457)\r\n            at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:572)\r\n            at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadPackages(XmlConfigurationProvider.java:326)\r\n            at org.apache.struts2.config.StrutsXmlConfigurationProvider.loadPackages(StrutsXmlConfigurationProvider.java:108)\r\n            Truncated. see log file for complete stacktrace\r\n    &gt;\r\n    \r\n    \r\nI checked my `struts.xml(struts.xml:16:97)` - and it is pointing to the LoginAction action class mapping, which obviously its not able to find under the weblogic `&quot;../domains/../mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/classes&quot;`\r\n\r\nThanking you in anticipation","title":"Unable to load Action class while deploying struts2.5 war file on weblogic 10.3.6","body":"<p><a href=\"https://stackoverflow.com/questions/50812659/unable-to-load-action-error-while-deploying-struts2-war-file-on-weblogic-10-3-6\">Unable to load Action error while deploying struts2 war file on weblogic 10.3.6</a></p>\n<p>The above question is very similar to the issue I'm facing but there is no solution provided.\nI have an application in struts2.5 which I have exported to a *.war file and trying to deploy it to weblogic 10.3.6(running on java7).\nDuring deployment I get an error that the Action class is not found (when I can see it present in the war file's WEB-INF/classes).</p>\n<p>As mentioned by user3898783 in above link- &quot;What weblogic does during\nWAR deployment(obviously it internally explodes) it puts all the files reside in web-inf/classes folder into jar called _wl_cls_gen.jar file and copies into web-inf/lib directory under domain stage folder.&quot; - similar is my problem.\nI am currently using the wls:prefer-web-inf-classes&quot;true&quot; /wls:prefer-web-inf-classes configuration in my weblogic.xml file which hasn't really solved my problem.</p>\n<p>Weblogic.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n     &lt;wls:container-descriptor&gt;\n        &lt;wls:prefer-web-inf-classes&gt;true&lt;/wls:prefer-web-inf-classes&gt;\n     &lt;/wls:container-descriptor&gt;\n     \n        \n    &lt;wls:session-descriptor&gt; \n        &lt;wls:cookies-enabled&gt;true&lt;/wls:cookies-enabled&gt;\n     &lt;/wls:session-descriptor&gt;\n     \n&lt;/wls:weblogic-web-app&gt;\n\n&lt;May 23, 2019 1:00:02 AM CDT&gt; &lt;Error&gt; &lt;HTTP&gt; &lt;BEA-101165&gt; &lt;Could not load user defined filter in web.xml: org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.\nUnable to load configuration. - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\n        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:509)\n        at org.apache.struts2.dispatcher.InitOperations.initDispatcher(InitOperations.java:73)\n        at org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:61)\n        at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:343)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        Truncated. see log file for complete stacktrace\nCaused By: Unable to load configuration. - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\n        at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:69)\n        at org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:957)\n        at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:463)\n        at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:496)\n        at org.apache.struts2.dispatcher.InitOperations.initDispatcher(InitOperations.java:73)\n        Truncated. see log file for complete stacktrace\nCaused By: Action class [com.myapp.struts.actions.LoginAction] not found - action - zip:/apps/bea/wls103/user_projects/domains/mydomain/servers/mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/lib/_wl_cls_gen.jar!/struts.xml:16:97\n        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.verifyAction(XmlConfigurationProvider.java:508)\n        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addAction(XmlConfigurationProvider.java:457)\n        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:572)\n        at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadPackages(XmlConfigurationProvider.java:326)\n        at org.apache.struts2.config.StrutsXmlConfigurationProvider.loadPackages(StrutsXmlConfigurationProvider.java:108)\n        Truncated. see log file for complete stacktrace\n&gt;\n</code></pre>\n<p>I checked my <code>struts.xml(struts.xml:16:97)</code> - and it is pointing to the LoginAction action class mapping, which obviously its not able to find under the weblogic <code>&quot;../domains/../mymanagedserver/tmp/_WL_user/myapp/4bdx7o/war/WEB-INF/classes&quot;</code></p>\n<p>Thanking you in anticipation</p>\n"},{"tags":["java","android","exception"],"answers":[{"tags":[],"owner":{"account_id":16097577,"reputation":85,"user_id":11619320,"display_name":"Hasbulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607036977,"creation_date":1607036977,"answer_id":65135551,"question_id":65135140,"body_markdown":"As the name suggests `classNotFoundException` in Java is a subclass of `java.lang.Exception` and comes when Java Virtual Machine tries to load a particular class and doesn&#39;t find the requested class in the classpath.\r\n\r\n**How to deal with the java.lang.ClassNotFoundException**\r\n\r\nVerify that the name of the requested class is correct and that the appropriate .jar file exists in your classpath. If not, you must explicitly add it to your application’s classpath.\r\n\r\nIn case the specified .jar file exists in your classpath then, your application’s classpath is getting overridden and you must find the exact classpath used by your application.\r\n\r\nIn case the exception is caused by a third party class, you must identify the class that throws the exception and then, add the missing .jar files in your classpath.","title":"java.lang.RuntimeException: Unable to instantiate application com.projec.App: java.lang.ClassNotFoundException","body":"<p>As the name suggests <code>classNotFoundException</code> in Java is a subclass of <code>java.lang.Exception</code> and comes when Java Virtual Machine tries to load a particular class and doesn't find the requested class in the classpath.</p>\n<p><strong>How to deal with the java.lang.ClassNotFoundException</strong></p>\n<p>Verify that the name of the requested class is correct and that the appropriate .jar file exists in your classpath. If not, you must explicitly add it to your application’s classpath.</p>\n<p>In case the specified .jar file exists in your classpath then, your application’s classpath is getting overridden and you must find the exact classpath used by your application.</p>\n<p>In case the exception is caused by a third party class, you must identify the class that throws the exception and then, add the missing .jar files in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":3452146,"reputation":701,"user_id":2891571,"accept_rate":67,"display_name":"BradG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673007864,"creation_date":1673007864,"answer_id":75030910,"question_id":65135140,"body_markdown":"I had the same problem. \r\n\r\nGot it resolved by removing this from `AndroidManifest.xml`\r\n\r\n    &lt;application\r\n        \r\n          android:name=&quot;com.project.gemastik.tugas.App&quot; &lt;- Remove this entire line\r\n\r\nAlternatively, use relative paths and try to rename it to:\r\n\r\n    &lt;application\r\n        \r\n          android:name=&quot;.App&quot;\r\nBefore that I tired invalidating caches, Project Clean, delete `build`, `.gradle` and `.idea` folders, upgraded everything to the latest versions. \r\nNothing else worked.","title":"java.lang.RuntimeException: Unable to instantiate application com.projec.App: java.lang.ClassNotFoundException","body":"<p>I had the same problem.</p>\n<p>Got it resolved by removing this from <code>AndroidManifest.xml</code></p>\n<pre><code>&lt;application\n    \n      android:name=&quot;com.project.gemastik.tugas.App&quot; &lt;- Remove this entire line\n</code></pre>\n<p>Alternatively, use relative paths and try to rename it to:</p>\n<pre><code>&lt;application\n    \n      android:name=&quot;.App&quot;\n</code></pre>\n<p>Before that I tired invalidating caches, Project Clean, delete <code>build</code>, <code>.gradle</code> and <code>.idea</code> folders, upgraded everything to the latest versions.\nNothing else worked.</p>\n"}],"owner":{"account_id":19857745,"reputation":49,"user_id":14546766,"display_name":"bbqapps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673007864,"creation_date":1607034554,"question_id":65135140,"body_markdown":"why an error like this appears, even though the error has never appeared before and app I created is just an app for trying `recyclerviewpool`. this is a logcat error:\r\n\r\n    java.lang.RuntimeException: Unable to instantiate application com.project.gemastik.tugas.App: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.project.gemastik.tugas.App&quot; on path: DexPathList[[zip file &quot;/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/lib/arm, /system/lib, /vendor/lib]]\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:1003)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5819)\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1708)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:176)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6662)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.project.gemastik.tugas.App&quot; on path: DexPathList[[zip file &quot;/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/lib/arm, /system/lib, /vendor/lib]]\r\n\r\nI&#39;ve tried to find solutions from other forums, and I&#39;ve added this in file `build.gradle (module: app)`\r\n\r\n   \r\n\r\n     android {\r\n        compileSdkVersion 29\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.project.gemastik.tugas&quot;\r\n            minSdkVersion 22\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        dexOptions {\r\n            preDexLibraries false\r\n        }\r\n    }\r\n    ...","title":"java.lang.RuntimeException: Unable to instantiate application com.projec.App: java.lang.ClassNotFoundException","body":"<p>why an error like this appears, even though the error has never appeared before and app I created is just an app for trying <code>recyclerviewpool</code>. this is a logcat error:</p>\n<pre><code>java.lang.RuntimeException: Unable to instantiate application com.project.gemastik.tugas.App: java.lang.ClassNotFoundException: Didn't find class &quot;com.project.gemastik.tugas.App&quot; on path: DexPathList[[zip file &quot;/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/lib/arm, /system/lib, /vendor/lib]]\n    at android.app.LoadedApk.makeApplication(LoadedApk.java:1003)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5819)\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1708)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:176)\n    at android.app.ActivityThread.main(ActivityThread.java:6662)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.project.gemastik.tugas.App&quot; on path: DexPathList[[zip file &quot;/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.project.gemastik.tugas-uVGTf_nK3aGr3gdwLH3zAA==/lib/arm, /system/lib, /vendor/lib]]\n</code></pre>\n<p>I've tried to find solutions from other forums, and I've added this in file <code>build.gradle (module: app)</code></p>\n<pre><code> android {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId &quot;com.project.gemastik.tugas&quot;\n        minSdkVersion 22\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dexOptions {\n        preDexLibraries false\n    }\n}\n...\n</code></pre>\n"},{"tags":["java","weblogic-10.x"],"answers":[{"tags":[],"owner":{"account_id":15068365,"reputation":15,"user_id":10874717,"display_name":"Theerapat 07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673007816,"creation_date":1613634030,"answer_id":66255555,"question_id":66238394,"body_markdown":"To solve this problem I just run terminal with `java -Dos.name=&quot;OS X&quot; -Dspace.detection=false -jar &lt;filename&gt;.jar`","title":"Invalid java home in weblogic installation macos","body":"<p>To solve this problem I just run terminal with <code>java -Dos.name=&quot;OS X&quot; -Dspace.detection=false -jar &lt;filename&gt;.jar</code></p>\n"}],"owner":{"account_id":15068365,"reputation":15,"user_id":10874717,"display_name":"Theerapat 07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66255555,"answer_count":1,"score":0,"last_activity_date":1673007816,"creation_date":1613551134,"question_id":66238394,"body_markdown":"The error appear when I select the jdk directory at the /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd this is my java version.\r\n\r\n![enter image description here](https://i.stack.imgur.com/RNfcZ.png)\r\n\r\nSo, I have to change the JAVA_HOME to 1.6.0.jdk or not?\r\n This version of weblogic installer is 10.3.6, I try to search and found that this weblogic version can support the java6, but why I cannot choose the 1.6.0.jdk directory? Or have something wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cmdDB.png\r\n  ","title":"Invalid java home in weblogic installation macos","body":"<p>The error appear when I select the jdk directory at the /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</p>\n<p><a href=\"https://i.stack.imgur.com/cmdDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cmdDB.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my java version.</p>\n<p><img src=\"https://i.stack.imgur.com/RNfcZ.png\" alt=\"enter image description here\" /></p>\n<p>So, I have to change the JAVA_HOME to 1.6.0.jdk or not?\nThis version of weblogic installer is 10.3.6, I try to search and found that this weblogic version can support the java6, but why I cannot choose the 1.6.0.jdk directory? Or have something wrong?</p>\n"},{"tags":["javascript","java","android","reverse-engineering","frida"],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673007189,"creation_date":1673007189,"question_id":75030803,"body_markdown":"it&#39;s two days that I am having a problem hooking and calling getPackageInfo using Frida.\r\nI have wrote this code:\r\n```\r\nJava.perform(()=&gt;{\r\n    const jPM=Java.use(&#39;android.app.ApplicationPackageManager&#39;);\r\n    const getPkgInfo=jPM.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;);\r\n\r\n    getPkgInfo.implementation=(pname,f)=&gt;{\r\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\r\n        return getPkgInfo(this,pname,f);\r\n    }\r\n});\r\n```\r\nAt the line that calls getPkgInfo (`return getPkgInfo(this,pname,f);`) i get this error:\r\n```\r\nCalled =&gt; getPackageInfo (Flag=0, Pkg=test.app)\r\n{&quot;type&quot;:&quot;error&quot;,&quot;description&quot;:&quot;TypeError: cannot read property &#39;$getHandle&#39; of undefined&quot;,&quot;stack&quot;:&quot;TypeError: cannot read property &#39;$getHandle&#39; of undefined\r\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:1052)\r\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:585)\r\n    at &lt;anonymous&gt; (/script.js:42)\r\n    at apply (native)\r\n    at ne (frida/node_modules/frida-java-bridge/lib/class-factory.js:619)\r\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/class-factory.js:597)&quot;,&quot;fileName&quot;:&quot;frida/node_modules/frida-java-bridge/lib/class-factory.js&quot;,&quot;lineNumber&quot;:1052,&quot;columnNumber&quot;:1}\r\n```\r\nSo the method is hooked, because i can see the `Called =&gt; getPackageInfo (Flag=0, Pkg=test.app)` string, but i can&#39;t call the original method.\r\n\r\nThis happens only when i try hooking methods that are normally called using the abstract variant (in this case `android.content.pm.PackageManager.getPackageInfo`, but i have also tried hooking getPackageManager).\r\n\r\nI have made different versions of this code, for example one that calls the function in this way: `this.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;).call(this,pname,f);` and i get an error saying that &quot;this&quot; is undefined, so i think that it is the problem.\r\n\r\nI have tried this script on different apps and devices but i always get the same result.\r\n\r\nI am using Frida Inject.\r\n\r\nPlease help me.","title":"Why is &quot;this&quot; undefined when hooking abstract methods using Frida?","body":"<p>it's two days that I am having a problem hooking and calling getPackageInfo using Frida.\nI have wrote this code:</p>\n<pre><code>Java.perform(()=&gt;{\n    const jPM=Java.use('android.app.ApplicationPackageManager');\n    const getPkgInfo=jPM.getPackageInfo.overload('java.lang.String','int');\n\n    getPkgInfo.implementation=(pname,f)=&gt;{\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\n        return getPkgInfo(this,pname,f);\n    }\n});\n</code></pre>\n<p>At the line that calls getPkgInfo (<code>return getPkgInfo(this,pname,f);</code>) i get this error:</p>\n<pre><code>Called =&gt; getPackageInfo (Flag=0, Pkg=test.app)\n{&quot;type&quot;:&quot;error&quot;,&quot;description&quot;:&quot;TypeError: cannot read property '$getHandle' of undefined&quot;,&quot;stack&quot;:&quot;TypeError: cannot read property '$getHandle' of undefined\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:1052)\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:585)\n    at &lt;anonymous&gt; (/script.js:42)\n    at apply (native)\n    at ne (frida/node_modules/frida-java-bridge/lib/class-factory.js:619)\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/class-factory.js:597)&quot;,&quot;fileName&quot;:&quot;frida/node_modules/frida-java-bridge/lib/class-factory.js&quot;,&quot;lineNumber&quot;:1052,&quot;columnNumber&quot;:1}\n</code></pre>\n<p>So the method is hooked, because i can see the <code>Called =&gt; getPackageInfo (Flag=0, Pkg=test.app)</code> string, but i can't call the original method.</p>\n<p>This happens only when i try hooking methods that are normally called using the abstract variant (in this case <code>android.content.pm.PackageManager.getPackageInfo</code>, but i have also tried hooking getPackageManager).</p>\n<p>I have made different versions of this code, for example one that calls the function in this way: <code>this.getPackageInfo.overload('java.lang.String','int').call(this,pname,f);</code> and i get an error saying that &quot;this&quot; is undefined, so i think that it is the problem.</p>\n<p>I have tried this script on different apps and devices but i always get the same result.</p>\n<p>I am using Frida Inject.</p>\n<p>Please help me.</p>\n"},{"tags":["java","angular","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672775812,"post_id":74997762,"comment_id":132349144,"body_markdown":"You can&#39;t disable CORS in your application. It is a browser feature, you have to disable it in your browser. `.cors().disable()` means that CORS is not allowing any Cross Origin Request.","body":"You can&#39;t disable CORS in your application. It is a browser feature, you have to disable it in your browser. <code>.cors().disable()</code> means that CORS is not allowing any Cross Origin Request."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672775929,"post_id":74997762,"comment_id":132349177,"body_markdown":"Log is clear: *Set SecurityContextHolder to anonymous SecurityContext*. You are not logged in. You are anonymous.","body":"Log is clear: <i>Set SecurityContextHolder to anonymous SecurityContext</i>. You are not logged in. You are anonymous."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672776245,"post_id":74997762,"comment_id":132349254,"body_markdown":"Why are you implementing your own custom login? Spring Security has a lot of built-in authentications like form login, basic auth, OAuth2 and JWT.","body":"Why are you implementing your own custom login? Spring Security has a lot of built-in authentications like form login, basic auth, OAuth2 and JWT."},{"owner":{"account_id":27423595,"reputation":21,"user_id":20921550,"display_name":"Popy"},"score":0,"creation_date":1672922070,"post_id":74997762,"comment_id":132384506,"body_markdown":"@dur Thank you for your comments, it helps me a lot. As I have explained it is the first time I am using Spring Security, so I made a lot of errors in the implementation. I didn&#39;t used login form and basic auth as I would like to use my login component in Angular Frontend. And indeed, I am not logged in. I am tryning a new implementation that works with Postman, but failed in Angular. I will edit my question with new implementation as soon as I can.","body":"@dur Thank you for your comments, it helps me a lot. As I have explained it is the first time I am using Spring Security, so I made a lot of errors in the implementation. I didn&#39;t used login form and basic auth as I would like to use my login component in Angular Frontend. And indeed, I am not logged in. I am tryning a new implementation that works with Postman, but failed in Angular. I will edit my question with new implementation as soon as I can."}],"answers":[{"tags":[],"owner":{"account_id":27423595,"reputation":21,"user_id":20921550,"display_name":"Popy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673007045,"creation_date":1673006986,"answer_id":75030764,"question_id":74997762,"body_markdown":"Finally, I found a solution to fix my issue.\r\n\r\nThe problem was that Spring Security responds with a cookie with key `jsessionid` and a random value when hitting `/login` endpoint and this cookie was sent back with same value by Postman when hitting the secured endpoint to authorize the request, but in Angular frontend, despite the fact that I added the HttpInterceptor with `whithCredentials: true`, the cookie was filtered out in the response with info message stating that the path of the secure cookie didn&#39;t match the exact request url.\r\n\r\nI have added to the `application.properties` the line:\r\n\r\n`server.servlet.session.cookie.path=/`\r\n\r\nand the cookie was sent back by Angular successfully to authorize my requests to the secured endpoint.","title":"How to persist Spring Security Authentication with Angular front-end","body":"<p>Finally, I found a solution to fix my issue.</p>\n<p>The problem was that Spring Security responds with a cookie with key <code>jsessionid</code> and a random value when hitting <code>/login</code> endpoint and this cookie was sent back with same value by Postman when hitting the secured endpoint to authorize the request, but in Angular frontend, despite the fact that I added the HttpInterceptor with <code>whithCredentials: true</code>, the cookie was filtered out in the response with info message stating that the path of the secure cookie didn't match the exact request url.</p>\n<p>I have added to the <code>application.properties</code> the line:</p>\n<p><code>server.servlet.session.cookie.path=/</code></p>\n<p>and the cookie was sent back by Angular successfully to authorize my requests to the secured endpoint.</p>\n"}],"owner":{"account_id":27423595,"reputation":21,"user_id":20921550,"display_name":"Popy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75030764,"answer_count":1,"score":0,"last_activity_date":1673007045,"creation_date":1672773406,"question_id":74997762,"body_markdown":"After the first comments on my question, I modified my Spring Security implementation and I managed to login and reach test endpoint with Postman. However, when Angular calls the same endpoint after successful login, the call fails and the authentication is gone, the call is anonymous according to logs.\r\n\r\nHere is the new Security Config configure method:\r\n\r\n```java\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n            .cors().and()\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/login&quot;, &quot;/users&quot;).permitAll()\r\n            .anyRequest().fullyAuthenticated()\r\n            .and()\r\n            .addFilter(getAuthenticationFilter())\r\n            .logout().logoutSuccessHandler(new HttpStatusReturningLogoutSuccessHandler());\r\n}\r\n```\r\n\r\nHere is the getAuthenticationFilter method: \r\n\r\n```java\r\nprivate UsernamePasswordAuthenticationFilter getAuthenticationFilter() {\r\n    UsernamePasswordAuthenticationFilter filter = new UsernamePasswordAuthenticationFilter(this.authenticationManager);\r\n    filter.setAuthenticationSuccessHandler(new HttpStatusReturningAuthenticationSuccessHandler());\r\n    filter.setAuthenticationFailureHandler(new HttpStatusReturningAuthenticationFailureHandler());\r\n\r\n    return filter;\r\n}\r\n```\r\n\r\nand my secured endpoint:\r\n\r\n```java\r\n@GetMapping(path = &quot;/test&quot;)\r\npublic ResponseEntity&lt;ExcelUploadResponse&gt; test() {\r\n    LOGGER.info(&quot;In test&quot;);\r\n    return new ResponseEntity&lt;&gt;(new ExcelUploadResponse(&quot;Test OK!&quot;), HttpStatus.OK);\r\n}\r\n```\r\n\r\nWith Postman, the login responds 200 OK and the test endpoint is reached and returns &quot;test OK!&quot;.\r\n\r\nPostman requests:\r\n\r\n\r\n`POST http://localhost:8080/api/login` (with user credentials as body)\r\nResponse: \r\nStatus 200 OK (with Cookie: JSESSIONID D3BBCC0BF4134909C83FAE45C72BC5F7 localhost /annuaire Session true false)\r\n\r\n`GET http://localhost:8080/api/test`\r\nResponse:\r\nStatus 200 OK (with &quot;Test OK!&quot; as body and with same Cookie)\r\n\r\nWith Angular, the login responds with 200 OK, but the next GET calls to test endpoint fails with 403 Forbidden and the debug logs of Spring Security are as below:\r\n\r\n```none\r\n2023-01-05 10:25:15.796 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /excel/test\r\n2023-01-05 10:25:15.796 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-01-05 10:25:15.798 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-01-05 10:25:15.802 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /excel/test] with attributes [fullyAuthenticated]\r\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n2023-01-05 10:25:15.862 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\r\n2023-01-05 10:25:15.865 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\r\n2023-01-05 10:25:15.865 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n```\r\n\r\nThe only difference I notice with the GET request is the JSESSIONID present in the Cookie key/value of the headers for Postman, but not present in the request headers of Angular.\r\n\r\nI have searched for this difference and added as suggested an HttpInterceptor in Angular:\r\n\r\n```typescript\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\r\n        const authRequest = req.clone({\r\n          withCredentials: true\r\n        });\r\n        return next.handle(authRequest);\r\n      }\r\n}\r\n```\r\n\r\nIf I understood wall, this HttpInterceptor with `withCredentials: true` is supposed to solve the cookie missing issue by intercepting all the requests made and adding the cookie to them.\r\n\r\nBut it&#39;s not working and I still have an error 403 when trying to reach the test endpoint after having logged in in Angular.\r\n\r\n","title":"How to persist Spring Security Authentication with Angular front-end","body":"<p>After the first comments on my question, I modified my Spring Security implementation and I managed to login and reach test endpoint with Postman. However, when Angular calls the same endpoint after successful login, the call fails and the authentication is gone, the call is anonymous according to logs.</p>\n<p>Here is the new Security Config configure method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .cors().and()\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/login&quot;, &quot;/users&quot;).permitAll()\n            .anyRequest().fullyAuthenticated()\n            .and()\n            .addFilter(getAuthenticationFilter())\n            .logout().logoutSuccessHandler(new HttpStatusReturningLogoutSuccessHandler());\n}\n</code></pre>\n<p>Here is the getAuthenticationFilter method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private UsernamePasswordAuthenticationFilter getAuthenticationFilter() {\n    UsernamePasswordAuthenticationFilter filter = new UsernamePasswordAuthenticationFilter(this.authenticationManager);\n    filter.setAuthenticationSuccessHandler(new HttpStatusReturningAuthenticationSuccessHandler());\n    filter.setAuthenticationFailureHandler(new HttpStatusReturningAuthenticationFailureHandler());\n\n    return filter;\n}\n</code></pre>\n<p>and my secured endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/test&quot;)\npublic ResponseEntity&lt;ExcelUploadResponse&gt; test() {\n    LOGGER.info(&quot;In test&quot;);\n    return new ResponseEntity&lt;&gt;(new ExcelUploadResponse(&quot;Test OK!&quot;), HttpStatus.OK);\n}\n</code></pre>\n<p>With Postman, the login responds 200 OK and the test endpoint is reached and returns &quot;test OK!&quot;.</p>\n<p>Postman requests:</p>\n<p><code>POST http://localhost:8080/api/login</code> (with user credentials as body)\nResponse:\nStatus 200 OK (with Cookie: JSESSIONID D3BBCC0BF4134909C83FAE45C72BC5F7 localhost /annuaire Session true false)</p>\n<p><code>GET http://localhost:8080/api/test</code>\nResponse:\nStatus 200 OK (with &quot;Test OK!&quot; as body and with same Cookie)</p>\n<p>With Angular, the login responds with 200 OK, but the next GET calls to test endpoint fails with 403 Forbidden and the debug logs of Spring Security are as below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-01-05 10:25:15.796 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /excel/test\n2023-01-05 10:25:15.796 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-01-05 10:25:15.798 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-01-05 10:25:15.802 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /excel/test] with attributes [fullyAuthenticated]\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2023-01-05 10:25:15.808 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-01-05 10:25:15.811 DEBUG 6516 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-01-05 10:25:15.862 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\n2023-01-05 10:25:15.865 DEBUG 6516 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\n2023-01-05 10:25:15.865 DEBUG 6516 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>The only difference I notice with the GET request is the JSESSIONID present in the Cookie key/value of the headers for Postman, but not present in the request headers of Angular.</p>\n<p>I have searched for this difference and added as suggested an HttpInterceptor in Angular:</p>\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n        const authRequest = req.clone({\n          withCredentials: true\n        });\n        return next.handle(authRequest);\n      }\n}\n</code></pre>\n<p>If I understood wall, this HttpInterceptor with <code>withCredentials: true</code> is supposed to solve the cookie missing issue by intercepting all the requests made and adding the cookie to them.</p>\n<p>But it's not working and I still have an error 403 when trying to reach the test endpoint after having logged in in Angular.</p>\n"},{"tags":["java","spring-boot","rest","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006819,"creation_date":1672949844,"answer_id":75023900,"question_id":75023838,"body_markdown":"Single quotes or double quotes should not matter. It&#39;s perfectly fine. Clients of this data will be able to parse it both ways.\r\n\r\nMost libraries generate double quotes AFAIK.","title":"How to get XML element attribute values in single quotes in REST API XML response?","body":"<p>Single quotes or double quotes should not matter. It's perfectly fine. Clients of this data will be able to parse it both ways.</p>\n<p>Most libraries generate double quotes AFAIK.</p>\n"}],"owner":{"account_id":27445417,"reputation":1,"user_id":20939301,"display_name":"Vamsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673006819,"creation_date":1672949412,"question_id":75023838,"body_markdown":"REST API produces the response in JSON and XML format. I am using Jackson to get XML elements as required but when I use @JacksonXmlProperty(isAttribute = true), values get in double quotes; how to get them in single quotes? Thank you.\r\n  \r\nPlease consider a getter and setter for each attribute. here we have a list of routepoints, to get longitude and latitude values in &lt;point&gt; element in XML format added JacksonxmlProperty.\r\n\r\n```java\r\n     public class Root implements Serializable {\r\n        private double distance;\r\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n        private double seca_distance;\r\n        @JacksonXmlElementWrapper (localName = &quot;routepoints&quot;)\r\n        @JacksonXmlProperty(localName = &quot;point&quot;)\r\n        private List&lt;RoutePoint&gt; routepoints;\r\n    }\r\n    \r\n    public class RoutePoint implements Serializable {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private double lon;\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private double lat;\r\n    }\r\n```\r\nJSON Response:\r\n```json\r\n                {\r\n                    &quot;distance&quot;: 10898.387781160134,\r\n                    &quot;seca_distance&quot;: 674.09075,\r\n                    &quot;routepoints&quot;: [\r\n                        {\r\n                            &quot;lon&quot;: 9.87,\r\n                            &quot;lat&quot;: 53.54\r\n                        },\r\n                        {\r\n                            &quot;lon&quot;: 9.87,\r\n                            &quot;lat&quot;: 53.54\r\n                        }\r\n                    ]\r\n                }\r\n```\r\nXML Response:\r\n```xml\r\n                &lt;route&gt;\r\n                  &lt;distance&gt;10898.387781160134&lt;/distance&gt;\r\n                  &lt;seca_distance&gt;674.09075&lt;/seca_distance&gt;\r\n                  &lt;routepoints&gt;\r\n                     &lt;point lon=&quot;9.87&quot; lat=&quot;53.54&quot;/&gt;\r\n                     &lt;point lon=&quot;9.87&quot; lat=&quot;53.54&quot;/&gt;\r\n                  &lt;routepoints&gt;\r\n                &lt;route&gt;\r\n```\r\n\r\nIn XML response longitude (lon) and latitude (lat) attribute values in &lt;point&gt; element coming in double quotes, Any idea how to get those values in single quotes like lon=&#39;9.87&#39; lat=&#39;53.54&#39;? Thank you","title":"How to get XML element attribute values in single quotes in REST API XML response?","body":"<p>REST API produces the response in JSON and XML format. I am using Jackson to get XML elements as required but when I use @JacksonXmlProperty(isAttribute = true), values get in double quotes; how to get them in single quotes? Thank you.</p>\n<p>Please consider a getter and setter for each attribute. here we have a list of routepoints, to get longitude and latitude values in  element in XML format added JacksonxmlProperty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     public class Root implements Serializable {\n        private double distance;\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n        private double seca_distance;\n        @JacksonXmlElementWrapper (localName = &quot;routepoints&quot;)\n        @JacksonXmlProperty(localName = &quot;point&quot;)\n        private List&lt;RoutePoint&gt; routepoints;\n    }\n    \n    public class RoutePoint implements Serializable {\n        @JacksonXmlProperty(isAttribute = true)\n        private double lon;\n        @JacksonXmlProperty(isAttribute = true)\n        private double lat;\n    }\n</code></pre>\n<p>JSON Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>                {\n                    &quot;distance&quot;: 10898.387781160134,\n                    &quot;seca_distance&quot;: 674.09075,\n                    &quot;routepoints&quot;: [\n                        {\n                            &quot;lon&quot;: 9.87,\n                            &quot;lat&quot;: 53.54\n                        },\n                        {\n                            &quot;lon&quot;: 9.87,\n                            &quot;lat&quot;: 53.54\n                        }\n                    ]\n                }\n</code></pre>\n<p>XML Response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>                &lt;route&gt;\n                  &lt;distance&gt;10898.387781160134&lt;/distance&gt;\n                  &lt;seca_distance&gt;674.09075&lt;/seca_distance&gt;\n                  &lt;routepoints&gt;\n                     &lt;point lon=&quot;9.87&quot; lat=&quot;53.54&quot;/&gt;\n                     &lt;point lon=&quot;9.87&quot; lat=&quot;53.54&quot;/&gt;\n                  &lt;routepoints&gt;\n                &lt;route&gt;\n</code></pre>\n<p>In XML response longitude (lon) and latitude (lat) attribute values in  element coming in double quotes, Any idea how to get those values in single quotes like lon='9.87' lat='53.54'? Thank you</p>\n"},{"tags":["java","spring-boot","integration-testing","resttemplate","junit5"],"answers":[{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1508507466,"creation_date":1508506587,"answer_id":46850299,"question_id":46849439,"body_markdown":"`@CsvSource` uses [implicit conversion][1] to convert CSV values to primitives, Enums or Dates. For other types like Arrays, you need [explicit conversion][2].\r\n\r\n\r\nAssuming you have a CSV annotation in a format like `@CsvSource(&quot;abc, 123, &#39;foo, bar&#39;&quot;)`, you can implement an argument converter like this to treat the last CSV column as an array:\r\n\r\n    import org.junit.jupiter.params.converter.ArgumentConversionException;\r\n    import org.junit.jupiter.params.converter.SimpleArgumentConverter;\r\n    \r\n    public class StringArrayConverter extends SimpleArgumentConverter {\r\n        \r\n        @Override\r\n        protected Object convert(Object source, Class&lt;?&gt; targetType) throws ArgumentConversionException {\r\n            if (source instanceof String &amp;&amp; String[].class.isAssignableFrom(targetType)) {\r\n                return ((String) source).split(&quot;\\\\s*,\\\\s*&quot;);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Conversion from &quot; + source.getClass() + &quot; to &quot;\r\n                                                   + targetType + &quot; not supported.&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen you can use that converter on the third argument:\r\n\r\n    @ParameterizedTest\r\n\t@CsvSource(&quot;abc, 123, &#39;foo, bar&#39;&quot;)\r\n\tvoid test(String column1, int column2, @ConvertWith(StringArrayConverter.class) String[] column3) {\r\n\t\tassertEquals(column1, &quot;abc&quot;);\r\n\t\tassertEquals(column2, 123);\r\n\t\tassertEquals(column3[0], &quot;foo&quot;);\r\n\t\tassertEquals(column3[1], &quot;bar&quot;);\r\n\t}\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-implicit\r\n  [2]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit","title":"Junit5 @ParameterizedTest How to pass array as one of parameter","body":"<p><code>@CsvSource</code> uses <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-implicit\" rel=\"noreferrer\">implicit conversion</a> to convert CSV values to primitives, Enums or Dates. For other types like Arrays, you need <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit\" rel=\"noreferrer\">explicit conversion</a>.</p>\n\n<p>Assuming you have a CSV annotation in a format like <code>@CsvSource(\"abc, 123, 'foo, bar'\")</code>, you can implement an argument converter like this to treat the last CSV column as an array:</p>\n\n<pre><code>import org.junit.jupiter.params.converter.ArgumentConversionException;\nimport org.junit.jupiter.params.converter.SimpleArgumentConverter;\n\npublic class StringArrayConverter extends SimpleArgumentConverter {\n\n    @Override\n    protected Object convert(Object source, Class&lt;?&gt; targetType) throws ArgumentConversionException {\n        if (source instanceof String &amp;&amp; String[].class.isAssignableFrom(targetType)) {\n            return ((String) source).split(\"\\\\s*,\\\\s*\");\n        } else {\n            throw new IllegalArgumentException(\"Conversion from \" + source.getClass() + \" to \"\n                                               + targetType + \" not supported.\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then you can use that converter on the third argument:</p>\n\n<pre><code>@ParameterizedTest\n@CsvSource(\"abc, 123, 'foo, bar'\")\nvoid test(String column1, int column2, @ConvertWith(StringArrayConverter.class) String[] column3) {\n    assertEquals(column1, \"abc\");\n    assertEquals(column2, 123);\n    assertEquals(column3[0], \"foo\");\n    assertEquals(column3[1], \"bar\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7967503,"reputation":902,"user_id":6013311,"display_name":"Volodymyr Nazarenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1508509716,"creation_date":1508509304,"answer_id":46851174,"question_id":46849439,"body_markdown":"Small correction, in\r\n\r\n    return ((String) source).split(&quot;\\\\s*,\\\\s*&quot;);\r\n\r\nshould be a different sign (e.g. &#39;;&#39;) instead of &#39;,&#39; \r\n\r\nThen in test should be\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(&quot;abc, 123, foo; bar&quot;)\r\n\r\n----------\r\n\r\nFinal version which works for me:\r\n\r\n    import org.junit.jupiter.params.converter.ArgumentConversionException;\r\n    import org.junit.jupiter.params.converter.SimpleArgumentConverter;\r\n    \r\n    public class StringArrayConverter extends SimpleArgumentConverter {\r\n    \r\n        @Override\r\n        protected Object convert(Object source, Class&lt;?&gt; targetType) throws ArgumentConversionException {\r\n            if (source instanceof String &amp;&amp; String[].class.isAssignableFrom(targetType)) {\r\n                return ((String) source).split(&quot;\\\\s*;\\\\s*&quot;);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Conversion from &quot; + source.getClass() + &quot; to &quot;\r\n                                                   + targetType + &quot; not supported.&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nTest:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(&quot;abc, 123, foo; bar&quot;)\r\n    void test(String column1, int column2, @ConvertWith(StringArrayConverter.class) String[] column3) {\r\n        assertEquals(column1, &quot;abc&quot;);\r\n        assertEquals(column2, 123);\r\n        assertEquals(column3[0], &quot;foo&quot;);\r\n        assertEquals(column3[1], &quot;bar&quot;);\r\n    }\r\n","title":"Junit5 @ParameterizedTest How to pass array as one of parameter","body":"<p>Small correction, in</p>\n\n<pre><code>return ((String) source).split(\"\\\\s*,\\\\s*\");\n</code></pre>\n\n<p>should be a different sign (e.g. ';') instead of ',' </p>\n\n<p>Then in test should be</p>\n\n<pre><code>@ParameterizedTest\n@CsvSource(\"abc, 123, foo; bar\")\n</code></pre>\n\n<hr>\n\n<p>Final version which works for me:</p>\n\n<pre><code>import org.junit.jupiter.params.converter.ArgumentConversionException;\nimport org.junit.jupiter.params.converter.SimpleArgumentConverter;\n\npublic class StringArrayConverter extends SimpleArgumentConverter {\n\n    @Override\n    protected Object convert(Object source, Class&lt;?&gt; targetType) throws ArgumentConversionException {\n        if (source instanceof String &amp;&amp; String[].class.isAssignableFrom(targetType)) {\n            return ((String) source).split(\"\\\\s*;\\\\s*\");\n        } else {\n            throw new IllegalArgumentException(\"Conversion from \" + source.getClass() + \" to \"\n                                               + targetType + \" not supported.\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>@ParameterizedTest\n@CsvSource(\"abc, 123, foo; bar\")\nvoid test(String column1, int column2, @ConvertWith(StringArrayConverter.class) String[] column3) {\n    assertEquals(column1, \"abc\");\n    assertEquals(column2, 123);\n    assertEquals(column3[0], \"foo\");\n    assertEquals(column3[1], \"bar\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4374322,"reputation":1214,"user_id":3567736,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673006753,"creation_date":1673006753,"answer_id":75030723,"question_id":46849439,"body_markdown":"You can easily do something like this:\r\n\r\n    @DisplayName(&quot;Should rotate successfully&quot;)\r\n\t@ParameterizedTest()\r\n\t@CsvSource({\r\n\t\t\t&quot;&#39;[0, 0, 0]&#39;, 5, &#39;[0, 0, 0]&#39;, false&quot;,\r\n    })\r\n    void givenAnArrayAndAShiftSize_ShouldSuccesfullyRotateOrReturnFalse(String arrayStr, int shiftSize,\r\n\t\t\tString expectedArrayStr, boolean expecetedRotated) {\r\n\r\n\t\tvar window = Arrays.asList(arrayStr.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;))\r\n\t\t\t\t.stream()\r\n\t\t\t\t.mapToLong(c -&gt; Long.parseLong(c.toString().trim()))\r\n\t\t\t\t.toArray();\r\n\r\n\t\tvar result = Arrays.asList(expectedArrayStr.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;))\r\n\t\t\t\t.stream()\r\n\t\t\t\t.mapToLong(c -&gt; Long.parseLong(c.toString().trim()))\r\n\t\t\t\t.toArray();\r\n\r\n\t\tvar rotated = Utils.shiftIfSizeIsValid(window, shiftSize);\r\n\r\n\t\tassertEquals(expecetedRotated, rotated);\r\n\r\n\t\tfor (int i = 0; i &lt; window.length; i++) {\r\n\t\t\tassertEquals(result[i], window[i]);\r\n\t\t}\r\n\t}\r\n\r\nIt is simpler and more readable.","title":"Junit5 @ParameterizedTest How to pass array as one of parameter","body":"<p>You can easily do something like this:</p>\n<pre><code>@DisplayName(&quot;Should rotate successfully&quot;)\n@ParameterizedTest()\n@CsvSource({\n        &quot;'[0, 0, 0]', 5, '[0, 0, 0]', false&quot;,\n})\nvoid givenAnArrayAndAShiftSize_ShouldSuccesfullyRotateOrReturnFalse(String arrayStr, int shiftSize,\n        String expectedArrayStr, boolean expecetedRotated) {\n\n    var window = Arrays.asList(arrayStr.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;))\n            .stream()\n            .mapToLong(c -&gt; Long.parseLong(c.toString().trim()))\n            .toArray();\n\n    var result = Arrays.asList(expectedArrayStr.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;))\n            .stream()\n            .mapToLong(c -&gt; Long.parseLong(c.toString().trim()))\n            .toArray();\n\n    var rotated = Utils.shiftIfSizeIsValid(window, shiftSize);\n\n    assertEquals(expecetedRotated, rotated);\n\n    for (int i = 0; i &lt; window.length; i++) {\n        assertEquals(result[i], window[i]);\n    }\n}\n</code></pre>\n<p>It is simpler and more readable.</p>\n"}],"owner":{"account_id":7967503,"reputation":902,"user_id":6013311,"display_name":"Volodymyr Nazarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14008,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":46851174,"answer_count":3,"score":13,"last_activity_date":1673006753,"creation_date":1508503752,"question_id":46849439,"body_markdown":"I have a test in which I want to pass three parameters:\r\n\r\n 1. String\r\n 2. Enum\r\n 3. Array of Strings\r\n\r\nExample:\r\n\r\n    @ParameterizedTest\r\n        @CsvSource({\r\n                &quot;/path/to/first/file.xlsx, FIRST, {THIRD PARAMETER SHOULD BE ARRAY OF STRINGS}&quot;,\r\n                &quot;/path/to/second/file.xlsx, SECOND, {THIRD PARAMETER SHOULD BE ARRAY OF STRINGS}&quot;})\r\n        void uploadFile(String path, FileType type, String[] errors) {\r\n            HttpEntity httpEntity = prepareFileUploadEntity(path, type);\r\n    \r\n            ResponseEntity&lt;ArrayList&gt; response = getRestTemplate(AppRole.USER).exchange(UPLOAD_URL, HttpMethod.POST, httpEntity, ArrayList.class);\r\n    \r\n            assertNotNull(response);\r\n            assertEquals(HttpStatus.BAD_REQUEST, response.getStatusCode());\r\n            assertEquals(errors.length, response.getBody().size());\r\n            for (String error : errors) {\r\n                assertTrue(response.getBody().contains(error));\r\n            }\r\n        }\r\n\r\nHow can I pass the third parameter as an array of strings, cause now I have the error that third parameter can`t be resolved:\r\n\r\n    org.junit.jupiter.api.extension.ParameterResolutionException: Error resolving parameter at index 2","title":"Junit5 @ParameterizedTest How to pass array as one of parameter","body":"<p>I have a test in which I want to pass three parameters:</p>\n\n<ol>\n<li>String</li>\n<li>Enum</li>\n<li>Array of Strings</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>@ParameterizedTest\n    @CsvSource({\n            \"/path/to/first/file.xlsx, FIRST, {THIRD PARAMETER SHOULD BE ARRAY OF STRINGS}\",\n            \"/path/to/second/file.xlsx, SECOND, {THIRD PARAMETER SHOULD BE ARRAY OF STRINGS}\"})\n    void uploadFile(String path, FileType type, String[] errors) {\n        HttpEntity httpEntity = prepareFileUploadEntity(path, type);\n\n        ResponseEntity&lt;ArrayList&gt; response = getRestTemplate(AppRole.USER).exchange(UPLOAD_URL, HttpMethod.POST, httpEntity, ArrayList.class);\n\n        assertNotNull(response);\n        assertEquals(HttpStatus.BAD_REQUEST, response.getStatusCode());\n        assertEquals(errors.length, response.getBody().size());\n        for (String error : errors) {\n            assertTrue(response.getBody().contains(error));\n        }\n    }\n</code></pre>\n\n<p>How can I pass the third parameter as an array of strings, cause now I have the error that third parameter can`t be resolved:</p>\n\n<pre><code>org.junit.jupiter.api.extension.ParameterResolutionException: Error resolving parameter at index 2\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673013004,"post_id":75030714,"comment_id":132407727,"body_markdown":"Does this answer your question? [Spring Boot : Getting @Scheduled cron value from database](https://stackoverflow.com/questions/37113327/spring-boot-getting-scheduled-cron-value-from-database)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37113327/spring-boot-getting-scheduled-cron-value-from-database\">Spring Boot : Getting @Scheduled cron value from database</a>"}],"owner":{"account_id":27452858,"reputation":1,"user_id":20944805,"display_name":"Victor R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673006702,"creation_date":1673006702,"question_id":75030714,"body_markdown":"I have an spring-boot app in kubernetes with some schedulers, I would like to be able to set the cron value of the schedulers with no need of re-compiling the project, is this possible?\r\n\r\nI currently have the cron values defined in the properties file, but this way I can&#39;t solve this problem.\r\n\r\nthanks for your help!!","title":"How can I manage schedulers in spring-boot from database?","body":"<p>I have an spring-boot app in kubernetes with some schedulers, I would like to be able to set the cron value of the schedulers with no need of re-compiling the project, is this possible?</p>\n<p>I currently have the cron values defined in the properties file, but this way I can't solve this problem.</p>\n<p>thanks for your help!!</p>\n"},{"tags":["java","hadoop","parquet","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1672857708,"post_id":75009659,"comment_id":132369582,"body_markdown":"See the comment from @trilogy on the first answer to [this question](https://stackoverflow.com/a/45208857/18157)","body":"See the comment from @trilogy on the first answer to <a href=\"https://stackoverflow.com/a/45208857/18157\">this question</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1672865845,"post_id":75009659,"comment_id":132372137,"body_markdown":"It could be a problem similar to https://stackoverflow.com/questions/48527958/docker-error-getting-username-from-password-database (i.e. the uid that your container uses has no uid-to-username mapping within the container).","body":"It could be a problem similar to <a href=\"https://stackoverflow.com/questions/48527958/docker-error-getting-username-from-password-database\" title=\"docker error getting username from password database\">stackoverflow.com/questions/48527958/&hellip;</a> (i.e. the uid that your container uses has no uid-to-username mapping within the container)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1672872490,"post_id":75009659,"comment_id":132373849,"body_markdown":"[Latest version](https://hadoop.apache.org/docs/r3.3.4/index.html) only supports Java 11 runtime","body":"<a href=\"https://hadoop.apache.org/docs/r3.3.4/index.html\" rel=\"nofollow noreferrer\">Latest version</a> only supports Java 11 runtime"},{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1672999448,"post_id":75009659,"comment_id":132403846,"body_markdown":"@ThomasKl&#228;ger it seems it is the case, adding ```RUN groupadd -g 1001 sysadmin   \nRUN useradd appadmin -u 1001 -g 1001 -m -s /bin/bash``` to Dockerfile helped","body":"@ThomasKl&#228;ger it seems it is the case, adding <code>RUN groupadd -g 1001 sysadmin    RUN useradd appadmin -u 1001 -g 1001 -m -s &#47;bin&#47;bash</code> to Dockerfile helped"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673001941,"post_id":75009659,"comment_id":132404598,"body_markdown":"This information might be useful for others too. May I suggest that you write down your findings as your own answer and then accept it?","body":"This information might be useful for others too. May I suggest that you write down your findings as your own answer and then accept it?"}],"answers":[{"tags":[],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673006670,"creation_date":1673006670,"answer_id":75030708,"question_id":75009659,"body_markdown":"adding to Dockerfile solves the issue \r\n```\r\nRUN groupadd -g 1001 sysadmin\r\nRUN useradd appadmin -u 1001 -g 1001 -m -s /bin/bash\r\n```","title":"Why UnixSystem().getUsername() is returning null ( OpenJDK 17 in Docker )","body":"<p>adding to Dockerfile solves the issue</p>\n<pre><code>RUN groupadd -g 1001 sysadmin\nRUN useradd appadmin -u 1001 -g 1001 -m -s /bin/bash\n</code></pre>\n"}],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673006670,"creation_date":1672856459,"question_id":75009659,"body_markdown":"Following code works on OSX \r\n\r\n```\r\nvar hadoopInputFile  = org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(parquetPath, new Configuration())\r\n```\r\n\r\nbut it doesn&#39;t on Linux:\r\n\r\n```\r\nfailure to login: javax.security.auth.login.LoginException: java.lang.NullPointerException: invalid null input: name\r\n\tat jdk.security.auth/com.sun.security.auth.UnixPrincipal.&lt;init&gt;(UnixPrincipal.java:67)\r\n\tat jdk.security.auth/com.sun.security.auth.module.UnixLoginModule.login(UnixLoginModule.java:134)\r\n\tat java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:726)\r\n\tat java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:665)\r\n\tat java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:663)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\r\n\tat java.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:663)\r\n\tat java.base/javax.security.auth.login.LoginContext.login(LoginContext.java:574)\r\n\tat org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2065)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1975)\r\n\tat org.apache.hadoop.security.UserGroupInformation.createLoginUser(UserGroupInformation.java:719)\r\n\tat org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:669)\r\n\tat org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:579)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache$Key.&lt;init&gt;(FileSystem.java:3746)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache$Key.&lt;init&gt;(FileSystem.java:3736)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3520)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:288)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:524)\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\r\n\tat org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:38)\r\n...\r\n``` \r\n\r\ni found that `new com.sun.security.auth.module.UnixSystem().getUsername()` returns `null` but it shouldn&#39;t   \r\n   \r\nany thoughts how to fix it or work around?\r\n\r\nUPD   \r\nSince this is happening inside docker container   \r\nDockerfile:   \r\n```\r\nFROM maven:3.8.5-openjdk-17 AS tests\r\nENV WORKDIR=&quot;/application&quot;\r\nWORKDIR ${WORKDIR}\r\nCOPY . $WORKDIR/\r\n```\r\nrun command:   \r\n```\r\n      docker run\r\n        --user 0:1001\r\n        --volume $(command -v docker):/usr/bin/docker\r\n        --volume /var/run/docker.sock:/var/run/docker.sock\r\n        --volume $(pwd):/path/to/project/application\r\n        app_tag bash -c\r\n        &quot;umask 002;\r\n        mvn --settings ./.m2-settings.xml package&quot;\r\n```\r\nUPD 2   \r\ni found thad `id` gives `uid=1001 gid=1001 groups=1001`   \r\nand `whoami` - `whoami: cannot find name for user ID 1001`   \r\n\r\nfor now workaround is to add to Dockerfile   \r\n```\r\nRUN groupadd -g 1001 sysadmin\r\nRUN useradd appadmin -u 1001 -g 1001 -m -s /bin/bash\r\n``` ","title":"Why UnixSystem().getUsername() is returning null ( OpenJDK 17 in Docker )","body":"<p>Following code works on OSX</p>\n<pre><code>var hadoopInputFile  = org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(parquetPath, new Configuration())\n</code></pre>\n<p>but it doesn't on Linux:</p>\n<pre><code>failure to login: javax.security.auth.login.LoginException: java.lang.NullPointerException: invalid null input: name\n    at jdk.security.auth/com.sun.security.auth.UnixPrincipal.&lt;init&gt;(UnixPrincipal.java:67)\n    at jdk.security.auth/com.sun.security.auth.module.UnixLoginModule.login(UnixLoginModule.java:134)\n    at java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:726)\n    at java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:665)\n    at java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:663)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n    at java.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:663)\n    at java.base/javax.security.auth.login.LoginContext.login(LoginContext.java:574)\n    at org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2065)\n    at org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1975)\n    at org.apache.hadoop.security.UserGroupInformation.createLoginUser(UserGroupInformation.java:719)\n    at org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:669)\n    at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:579)\n    at org.apache.hadoop.fs.FileSystem$Cache$Key.&lt;init&gt;(FileSystem.java:3746)\n    at org.apache.hadoop.fs.FileSystem$Cache$Key.&lt;init&gt;(FileSystem.java:3736)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3520)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:288)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:524)\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\n    at org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:38)\n...\n</code></pre>\n<p>i found that <code>new com.sun.security.auth.module.UnixSystem().getUsername()</code> returns <code>null</code> but it shouldn't</p>\n<p>any thoughts how to fix it or work around?</p>\n<p>UPD<br />\nSince this is happening inside docker container<br />\nDockerfile:</p>\n<pre><code>FROM maven:3.8.5-openjdk-17 AS tests\nENV WORKDIR=&quot;/application&quot;\nWORKDIR ${WORKDIR}\nCOPY . $WORKDIR/\n</code></pre>\n<p>run command:</p>\n<pre><code>      docker run\n        --user 0:1001\n        --volume $(command -v docker):/usr/bin/docker\n        --volume /var/run/docker.sock:/var/run/docker.sock\n        --volume $(pwd):/path/to/project/application\n        app_tag bash -c\n        &quot;umask 002;\n        mvn --settings ./.m2-settings.xml package&quot;\n</code></pre>\n<p>UPD 2<br />\ni found thad <code>id</code> gives <code>uid=1001 gid=1001 groups=1001</code><br />\nand <code>whoami</code> - <code>whoami: cannot find name for user ID 1001</code></p>\n<p>for now workaround is to add to Dockerfile</p>\n<pre><code>RUN groupadd -g 1001 sysadmin\nRUN useradd appadmin -u 1001 -g 1001 -m -s /bin/bash\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673005506,"post_id":75030485,"comment_id":132405600,"body_markdown":"*class Child implements Parent* doesn&#39;t compile, because you only can `implement` Interfaces not classes. You can only `extend` classes","body":"<i>class Child implements Parent</i> doesn&#39;t compile, because you only can <code>implement</code> Interfaces not classes. You can only <code>extend</code> classes"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673005584,"post_id":75030485,"comment_id":132405617,"body_markdown":"You need to do that manually. You cannot cast an instance of `Parent` to `Child`, because that instance simply is not a child. Create a factory method like `Child c = Child.fromParent(parent)` and set the values there.","body":"You need to do that manually. You cannot cast an instance of <code>Parent</code> to <code>Child</code>, because that instance simply is not a child. Create a factory method like <code>Child c = Child.fromParent(parent)</code> and set the values there."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673005618,"post_id":75030485,"comment_id":132405625,"body_markdown":"The only Idea I have is using reflection.","body":"The only Idea I have is using reflection."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673005672,"post_id":75030485,"comment_id":132405635,"body_markdown":"But where do you know that it is class`Child` not an other subclass of `Parent`","body":"But where do you know that it is class<code>Child</code> not an other subclass of <code>Parent</code>"}],"answers":[{"tags":[],"owner":{"account_id":20172546,"reputation":1,"user_id":14795041,"display_name":"Muhammad Rehan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673006636,"creation_date":1673006636,"answer_id":75030701,"question_id":75030485,"body_markdown":"you can use mapper class with the help of this class you can do this thing \r\nbelow is link you can read it\r\nhttps://reflectoring.io/autotmatic-refactoring-safe-java-mapping/","title":"How to map parent class values to child class in spring boot java","body":"<p>you can use mapper class with the help of this class you can do this thing\nbelow is link you can read it\n<a href=\"https://reflectoring.io/autotmatic-refactoring-safe-java-mapping/\" rel=\"nofollow noreferrer\">https://reflectoring.io/autotmatic-refactoring-safe-java-mapping/</a></p>\n"}],"owner":{"account_id":18241043,"reputation":259,"user_id":13278063,"display_name":"Susmitha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673006636,"creation_date":1673005332,"question_id":75030485,"body_markdown":"I have a Parent.class, which has 3 fields. And I have a Child.class, which has only one field and it requires the Parent class fields. So this is the following design implmentation I did.\r\n```\r\nclass Parent {\r\n    String firstName;\r\n    String lastName;\r\n    String surname;\r\n}\r\n```\r\n\r\n```\r\nclass Child extends Parent{\r\n    String childField;\r\n}\r\n```\r\n\r\nI am fetching the parent class fields from the external source, with the **type as Parent**. So now I wanted to map these fields to **Child**. I have tried the type casting as following:\r\n```\r\nParent parent = fetchAndSetTheDetails(); // Method which will give the parent details\r\nChild childInstance = (Child) parent;\r\n```\r\n\r\nI dont want to explict set the every field from parent to child instance. In future I might increase the fields in parent. So I dont want to set each field explicitly like following:\r\n```\r\nChild childInstance = new Child();\r\nchildInstance.setFirstName(parent.getFistName());\r\nchildInstance.setLastName(parent.getLastName());\r\nchildInstance.setSurname(parent.getSurname());\r\n```\r\n\r\nIs there any way that I can map in one go instead of explicitly setting them?\r\n\r\nThanks in Advance!","title":"How to map parent class values to child class in spring boot java","body":"<p>I have a Parent.class, which has 3 fields. And I have a Child.class, which has only one field and it requires the Parent class fields. So this is the following design implmentation I did.</p>\n<pre><code>class Parent {\n    String firstName;\n    String lastName;\n    String surname;\n}\n</code></pre>\n<pre><code>class Child extends Parent{\n    String childField;\n}\n</code></pre>\n<p>I am fetching the parent class fields from the external source, with the <strong>type as Parent</strong>. So now I wanted to map these fields to <strong>Child</strong>. I have tried the type casting as following:</p>\n<pre><code>Parent parent = fetchAndSetTheDetails(); // Method which will give the parent details\nChild childInstance = (Child) parent;\n</code></pre>\n<p>I dont want to explict set the every field from parent to child instance. In future I might increase the fields in parent. So I dont want to set each field explicitly like following:</p>\n<pre><code>Child childInstance = new Child();\nchildInstance.setFirstName(parent.getFistName());\nchildInstance.setLastName(parent.getLastName());\nchildInstance.setSurname(parent.getSurname());\n</code></pre>\n<p>Is there any way that I can map in one go instead of explicitly setting them?</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","swt","nattable","nebula"],"comments":[{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1673013822,"post_id":75030260,"comment_id":132408032,"body_markdown":"If the question really is how to show the &quot;grandchildren&quot; before the child nodes, well I suppose that is not possible because this is not how a tree works.","body":"If the question really is how to show the &quot;grandchildren&quot; before the child nodes, well I suppose that is not possible because this is not how a tree works."},{"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"score":0,"creation_date":1673062832,"post_id":75030260,"comment_id":132419464,"body_markdown":"I want to change the order in which the children are shown. Here Row 21 and Row 36,37 are same level children. I wish to change that order. The grandchild would be shown as the relevant parent&#39;s child, so the concern isn&#39;t about it.","body":"I want to change the order in which the children are shown. Here Row 21 and Row 36,37 are same level children. I wish to change that order. The grandchild would be shown as the relevant parent&#39;s child, so the concern isn&#39;t about it."},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1673074502,"post_id":75030260,"comment_id":132420465,"body_markdown":"Are you using GlazedLists TreeList? Then you need to use a tree comparator as shown in the examples.","body":"Are you using GlazedLists TreeList? Then you need to use a tree comparator as shown in the examples."},{"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"score":0,"creation_date":1673179084,"post_id":75030260,"comment_id":132435701,"body_markdown":"Yes, my code uses GlazedLists TreeList. The closest I could find as an example was 6041 `TreeGridExample` and 6042 `TreeStructureGridExample`. I am using a `SortableTreeComparator` in my `TreeDataFormat`. This comparator in turn uses a treeComparator which sorts alphabetically on the first column","body":"Yes, my code uses GlazedLists TreeList. The closest I could find as an example was 6041 <code>TreeGridExample</code> and 6042 <code>TreeStructureGridExample</code>. I am using a <code>SortableTreeComparator</code> in my <code>TreeDataFormat</code>. This comparator in turn uses a treeComparator which sorts alphabetically on the first column"},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1673201316,"post_id":75030260,"comment_id":132440182,"body_markdown":"Yes, if you want a different order you need to implement a custom comparator that is doing what you want","body":"Yes, if you want a different order you need to implement a custom comparator that is doing what you want"}],"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673006500,"creation_date":1673003896,"question_id":75030260,"body_markdown":"I want a particular desired behavior for my Nattable tree structure. In the following diagram, contents of Row no 36, 37 are children of content in Row 20. \r\n\r\nRow 21, 23, 23 … 34 are in turn children of Row 20.\r\n \r\nRow 22 is a child of Row 21. (you could say it is grandchild of 20)\r\n\r\nI want Row 36, 37 to be shown first ie. In place of Row 21 and so on, that is I want to change the order in which it is shown as a child of Row 20.\r\n\r\nI am currently using a treelist implementation to render my data in the Nattable.\r\n\r\nMy current nattable:\r\n![My current nattable](https://i.stack.imgur.com/MTayN.png)\r\n\r\n\r\n\r\n\r\n   ```java\r\n\tprivate List&lt;ISectionInfo&gt; getFlatList(List&lt;ISectionInfo&gt; inputList)\r\n\t{\r\n\t\tList&lt;ISectionInfo&gt; flatList = new ArrayList&lt;ISectionInfo&gt;();\r\n\r\n\t\tfor (ISectionInfo node : inputList)\r\n\t\t{\r\n\r\n\t\t\tif (node instanceof SectionInfo) \r\n\t\t\t{\r\n\t\t\t\tSectionInfo secNode = (SectionInfo) node;\r\n\r\n\t\t\t\tif (!hasChildren(secNode))\r\n\t\t\t\t{\r\n\t\t\t\t\tflatList.add(secNode);\r\n\t\t\t\t\tflatList.addAll(secNode.getModuleInfoList());\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (hasChildren(secNode))\r\n\t\t\t\t{\r\n\t\t\t\t\tflatList.addAll(secNode.getModuleInfoList());\r\n\t\t\t\t\tflatList.add(secNode);\r\n\r\n\t\t\t\t\tfor (ISectionInfo iternode : secNode.getChildren())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tflatList.addAll(((SectionInfo) iternode).getModuleInfoList());\r\n\t\t\t\t\t\tflatList.add(iternode);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn flatList;\r\n\r\n\t}\r\n```","title":"Nattable tree hierarchy change to show children modules first","body":"<p>I want a particular desired behavior for my Nattable tree structure. In the following diagram, contents of Row no 36, 37 are children of content in Row 20.</p>\n<p>Row 21, 23, 23 … 34 are in turn children of Row 20.</p>\n<p>Row 22 is a child of Row 21. (you could say it is grandchild of 20)</p>\n<p>I want Row 36, 37 to be shown first ie. In place of Row 21 and so on, that is I want to change the order in which it is shown as a child of Row 20.</p>\n<p>I am currently using a treelist implementation to render my data in the Nattable.</p>\n<p>My current nattable:\n<img src=\"https://i.stack.imgur.com/MTayN.png\" alt=\"My current nattable\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code> private List&lt;ISectionInfo&gt; getFlatList(List&lt;ISectionInfo&gt; inputList)\n {\n     List&lt;ISectionInfo&gt; flatList = new ArrayList&lt;ISectionInfo&gt;();\n\n     for (ISectionInfo node : inputList)\n     {\n\n         if (node instanceof SectionInfo) \n         {\n             SectionInfo secNode = (SectionInfo) node;\n\n             if (!hasChildren(secNode))\n             {\n                 flatList.add(secNode);\n                 flatList.addAll(secNode.getModuleInfoList());\n\n             }\n             if (hasChildren(secNode))\n             {\n                 flatList.addAll(secNode.getModuleInfoList());\n                 flatList.add(secNode);\n\n                 for (ISectionInfo iternode : secNode.getChildren())\n                 {\n                     flatList.addAll(((SectionInfo) iternode).getModuleInfoList());\n                     flatList.add(iternode);\n\n                 }\n\n             }\n         }\n\n     }\n\n     return flatList;\n\n }\n</code></pre>\n"},{"tags":["java","selenium","arraylist","junit","autotest"],"answers":[{"tags":[],"owner":{"account_id":27452591,"reputation":1,"user_id":20944572,"display_name":"Bright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673005665,"creation_date":1673005652,"answer_id":75030534,"question_id":75030421,"body_markdown":"It was simple -.-\r\nJust adding boolean bool;\r\nand change return false to bool = false\r\nand return true to return bool\r\n\r\n    public boolean blockElementsIsDisplay() {\r\n        boolean bool = true;\r\n        List&lt;WebElement&gt; blockElements = new ArrayList&lt;&gt;();\r\n        fourBlockElements.add(list1);\r\n        fourBlockElements.add(list2);\r\n        fourBlockElements.add(list3);\r\n        fourBlockElements.add(list1Description);\r\n        fourBlockElements.add(list2Description);\r\n        fourBlockElements.add(list3Description);\r\n        for (WebElement element : blockElements)\r\n            if (!element.isDisplayed()) {\r\n                System.out.println(element.getAccessibleName() + element.getLocation());\r\n                bool = false;\r\n            }\r\n        return bool;","title":"If WebElement in ArrayList dont display, how can i handle it and continue enumeration through the list? Selenium, Junit","body":"<p>It was simple -.-\nJust adding boolean bool;\nand change return false to bool = false\nand return true to return bool</p>\n<pre><code>public boolean blockElementsIsDisplay() {\n    boolean bool = true;\n    List&lt;WebElement&gt; blockElements = new ArrayList&lt;&gt;();\n    fourBlockElements.add(list1);\n    fourBlockElements.add(list2);\n    fourBlockElements.add(list3);\n    fourBlockElements.add(list1Description);\n    fourBlockElements.add(list2Description);\n    fourBlockElements.add(list3Description);\n    for (WebElement element : blockElements)\n        if (!element.isDisplayed()) {\n            System.out.println(element.getAccessibleName() + element.getLocation());\n            bool = false;\n        }\n    return bool;\n</code></pre>\n"}],"owner":{"account_id":27452591,"reputation":1,"user_id":20944572,"display_name":"Bright"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673005665,"creation_date":1673004938,"question_id":75030421,"body_markdown":"I have a list of WebElements that I check for visibility, but if I don&#39;t have one element in page, the check fails, how do I keep checking, but at the same time return false, that there is an error in the method?\r\n\r\n```\r\n    public boolean blockElementsIsDisplay() {\r\n        List&lt;WebElement&gt; blockElements = new ArrayList&lt;&gt;();\r\n        fourBlockElements.add(list1);\r\n        fourBlockElements.add(list2);\r\n        fourBlockElements.add(list3);\r\n        fourBlockElements.add(list1Description);\r\n        fourBlockElements.add(list2Description);\r\n        fourBlockElements.add(list3Description);\r\n        for (WebElement element : blockElements)\r\n            if (!element.isDisplayed()) {\r\n                System.out.println(element.getAccessibleName() + element.getLocation());\r\n                return false;\r\n            }\r\n        return true;\r\n```\r\n\r\n\r\n\r\nso if i remove &quot;return false&quot; in code, metod finish with true, but i dont need it\r\nI need to check all elements, and return false, if 1 or more is dosent displayed (and write names and locations of this elements)","title":"If WebElement in ArrayList dont display, how can i handle it and continue enumeration through the list? Selenium, Junit","body":"<p>I have a list of WebElements that I check for visibility, but if I don't have one element in page, the check fails, how do I keep checking, but at the same time return false, that there is an error in the method?</p>\n<pre><code>    public boolean blockElementsIsDisplay() {\n        List&lt;WebElement&gt; blockElements = new ArrayList&lt;&gt;();\n        fourBlockElements.add(list1);\n        fourBlockElements.add(list2);\n        fourBlockElements.add(list3);\n        fourBlockElements.add(list1Description);\n        fourBlockElements.add(list2Description);\n        fourBlockElements.add(list3Description);\n        for (WebElement element : blockElements)\n            if (!element.isDisplayed()) {\n                System.out.println(element.getAccessibleName() + element.getLocation());\n                return false;\n            }\n        return true;\n</code></pre>\n<p>so if i remove &quot;return false&quot; in code, metod finish with true, but i dont need it\nI need to check all elements, and return false, if 1 or more is dosent displayed (and write names and locations of this elements)</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1673002032,"post_id":75029863,"comment_id":132404632,"body_markdown":"you could do it differently, store the &quot;type&quot; (an enum for example) inside the `Event` (if it&#39;s an interface, force everyone to implement it), and store these in an EnumMap. So instead of `hooks.get(event.getClass())`, you could do `hooks.get(event.getType)`, where `getType` would return an enum instance","body":"you could do it differently, store the &quot;type&quot; (an enum for example) inside the <code>Event</code> (if it&#39;s an interface, force everyone to implement it), and store these in an EnumMap. So instead of <code>hooks.get(event.getClass())</code>, you could do <code>hooks.get(event.getType)</code>, where <code>getType</code> would return an enum instance"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673005407,"creation_date":1673005407,"answer_id":75030493,"question_id":75029863,"body_markdown":"You will need to abandon your nifty idea of registering multiple consumers at once, and register them one at a time, supplying the event class for each one of them. Here is how to do it in a type-safe way:\r\n\r\n    public static &lt;E extends Event&gt; void hook( Class&lt;E&gt; eventClass,\r\n            Consumer&lt;E&gt; consumer );\r\n\r\n","title":"How to find the class of the Object supplied to a Consumer in an argument?","body":"<p>You will need to abandon your nifty idea of registering multiple consumers at once, and register them one at a time, supplying the event class for each one of them. Here is how to do it in a type-safe way:</p>\n<pre><code>public static &lt;E extends Event&gt; void hook( Class&lt;E&gt; eventClass,\n        Consumer&lt;E&gt; consumer );\n</code></pre>\n"}],"owner":{"account_id":27451900,"reputation":1,"user_id":20943998,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673005407,"creation_date":1673001584,"question_id":75029863,"body_markdown":"I am making an event system with multiple types of events, eg `ExampleEvent extends Event`. I need to figure out which type of event I supplied to the hook function through a lambda/consumer, using the following syntax:\r\n\r\n```\r\nhook(\r\n    (ExampleEvent e) -&gt; e.example(),\r\n    (ExampleEvent2 e) -&gt; // code here\r\n);\r\n```\r\n\r\nThis is what I have so far, I need to add the consumers to a map so I can run them each time an event  is called. Is there any way I can make this work? Is there a better way I could do this?\r\n```\r\nstatic Map&lt;Class, ArrayList&lt;Consumer&lt;? extends Event&gt;&gt;&gt; hooks = new HashMap&lt;&gt;();\r\n\r\npublic static void hook(Consumer&lt;? extends Event&gt; ...consumers) {\r\n    for(Consumer&lt;? extends Event &gt; fn : consumers) {\r\n        final Class klass = // class supplied in lambda function\r\n\r\n        if(hooks.containsKey(klass)) {\r\n            hooks.get(klass).add(fn);\r\n        } else {\r\n            hooks.put(klass, new ArrayList&lt;&gt;(fn));\r\n            hooks.get(klass).add(fn);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void fire(Event event) {\r\n    ArrayList&lt;Consumer&lt;? extends Event&gt;&gt; classHooks = hooks.get(event.getClass());\r\n    if(classHooks == null) {\r\n        return;\r\n    }\r\n\r\n    for(Consumer c : classHooks) {\r\n        c.accept(event);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried a few things but couldn&#39;t find a way to make this work.","title":"How to find the class of the Object supplied to a Consumer in an argument?","body":"<p>I am making an event system with multiple types of events, eg <code>ExampleEvent extends Event</code>. I need to figure out which type of event I supplied to the hook function through a lambda/consumer, using the following syntax:</p>\n<pre><code>hook(\n    (ExampleEvent e) -&gt; e.example(),\n    (ExampleEvent2 e) -&gt; // code here\n);\n</code></pre>\n<p>This is what I have so far, I need to add the consumers to a map so I can run them each time an event  is called. Is there any way I can make this work? Is there a better way I could do this?</p>\n<pre><code>static Map&lt;Class, ArrayList&lt;Consumer&lt;? extends Event&gt;&gt;&gt; hooks = new HashMap&lt;&gt;();\n\npublic static void hook(Consumer&lt;? extends Event&gt; ...consumers) {\n    for(Consumer&lt;? extends Event &gt; fn : consumers) {\n        final Class klass = // class supplied in lambda function\n\n        if(hooks.containsKey(klass)) {\n            hooks.get(klass).add(fn);\n        } else {\n            hooks.put(klass, new ArrayList&lt;&gt;(fn));\n            hooks.get(klass).add(fn);\n        }\n    }\n}\n\npublic static void fire(Event event) {\n    ArrayList&lt;Consumer&lt;? extends Event&gt;&gt; classHooks = hooks.get(event.getClass());\n    if(classHooks == null) {\n        return;\n    }\n\n    for(Consumer c : classHooks) {\n        c.accept(event);\n    }\n}\n</code></pre>\n<p>I tried a few things but couldn't find a way to make this work.</p>\n"},{"tags":["java","spring","validation","jsr"],"answers":[{"tags":[],"owner":{"account_id":27452613,"reputation":11,"user_id":20944594,"display_name":"MalaLednica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673005349,"creation_date":1673005290,"answer_id":75030476,"question_id":75030345,"body_markdown":"I think your problem will be fixed by putting @Valid annotation in the NewUserDetailsPojo class over the basicDetailsPojo and doctorPojo atributes\r\nhttps://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=5.3#section-object-graph-validation","title":"How to programatically trigger javax validations in a POJO class","body":"<p>I think your problem will be fixed by putting @Valid annotation in the NewUserDetailsPojo class over the basicDetailsPojo and doctorPojo atributes\n<a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=5.3#section-object-graph-validation\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=5.3#section-object-graph-validation</a></p>\n"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673005349,"creation_date":1673004450,"question_id":75030345,"body_markdown":"I have a `spring boot project` in which I&#39;m facing a data validation issue while doing a `post request`.\r\n### Problem\r\nWhile doing a post request I&#39;m mapping the request body to a POJO which does not have any javax validations in itself, but the class has fields of another two POJOs which have data validations in them. How can I trigger data validations in the inner POJOs programmatically and throw relevant exceptions if required. I&#39;m using `Spring boot v2.5.2`.\r\n\r\nIn the `post request` I have:\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;String&gt; addNewUser(@RequestBody @Valid NewUserDetailsPojo newUserDetailsPojo) {\r\n        log.debug(&quot;Adding new User: {}&quot;, newUserDetailsPojo);\r\n        Integer userId = userService.addNewUser(newUserDetailsPojo);\r\n        if (userId == null) {\r\n            return ResponseEntity.badRequest().build();\r\n        } else {\r\n            URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(userId).toUri();\r\n            return ResponseEntity.created(location).build();\r\n        }\r\n    }\r\n\r\nWhere `NewUserDetailsPojo` is a simple POJO class having structure:\r\n\r\n    public class NewUserDetailsPojo {  \r\n    private BasicDetailsPojo basicDetailsPojo;   \r\n    private DoctorPojo doctorPojo;\r\n\r\n    // constructor\r\n    public NewUserDetailsPojo(BasicDetailsPojo basicDetailsPojo, DoctorPojo doctorPojo) {\r\n        /** before mapping the incoming data to the fields, I want to validate the data\r\n        * with my predefined javax.validations constraints declared in the respective \r\n        * classes\r\n        */\r\n        this.basicDetailsPojo = basicDetailsPojo;\r\n        this.doctorPojo = doctorPojo;\r\n      }\r\n    }\r\nSo, as I mentioned earlier, `NewUserDetailsPojo` does not have any data validations in itself, but its two fields which are of the class\r\n\r\n- BasicDetailsPojo\r\n- DoctorPojo\r\n\r\nhave data validations in them. I want to invoke javax validations in the constructor of `NewUserDetailsPojo` and throw suitable exceptions if nessecery.\r\n\r\nI&#39;m giving the structures of `BasicDetailsPojo` and `DoctorPojo` below:\r\n\r\n    public class BasicDetailsPojo {\r\n      @Size(min = 5, message = &quot;Name should be at least 5 characters long&quot;)\r\n      private String name;\r\n      @Email\r\n      private String email;\r\n      @Size(min = 10, message = &quot;Contact number must be of 10 digits&quot;)\r\n      private String contactNo;\r\n      private String role;\r\n      @NotNull\r\n      @Size(min = 8, message = &quot;Password must be 8 characters long&quot;)\r\n      private String password;\r\n    }\r\n\r\nThis is the structure of DoctorPojo:\r\n\r\n    public class DoctorPojo extends BasicDetailsPojo {\r\n      @NotNull\r\n      private String regNo;\r\n      @NotNull\r\n      private String degree;\r\n      @NotNull\r\n      private String specialization;\r\n      private String experience;\r\n    }","title":"How to programatically trigger javax validations in a POJO class","body":"<p>I have a <code>spring boot project</code> in which I'm facing a data validation issue while doing a <code>post request</code>.</p>\n<h3>Problem</h3>\n<p>While doing a post request I'm mapping the request body to a POJO which does not have any javax validations in itself, but the class has fields of another two POJOs which have data validations in them. How can I trigger data validations in the inner POJOs programmatically and throw relevant exceptions if required. I'm using <code>Spring boot v2.5.2</code>.</p>\n<p>In the <code>post request</code> I have:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\npublic ResponseEntity&lt;String&gt; addNewUser(@RequestBody @Valid NewUserDetailsPojo newUserDetailsPojo) {\n    log.debug(&quot;Adding new User: {}&quot;, newUserDetailsPojo);\n    Integer userId = userService.addNewUser(newUserDetailsPojo);\n    if (userId == null) {\n        return ResponseEntity.badRequest().build();\n    } else {\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(userId).toUri();\n        return ResponseEntity.created(location).build();\n    }\n}\n</code></pre>\n<p>Where <code>NewUserDetailsPojo</code> is a simple POJO class having structure:</p>\n<pre><code>public class NewUserDetailsPojo {  \nprivate BasicDetailsPojo basicDetailsPojo;   \nprivate DoctorPojo doctorPojo;\n\n// constructor\npublic NewUserDetailsPojo(BasicDetailsPojo basicDetailsPojo, DoctorPojo doctorPojo) {\n    /** before mapping the incoming data to the fields, I want to validate the data\n    * with my predefined javax.validations constraints declared in the respective \n    * classes\n    */\n    this.basicDetailsPojo = basicDetailsPojo;\n    this.doctorPojo = doctorPojo;\n  }\n}\n</code></pre>\n<p>So, as I mentioned earlier, <code>NewUserDetailsPojo</code> does not have any data validations in itself, but its two fields which are of the class</p>\n<ul>\n<li>BasicDetailsPojo</li>\n<li>DoctorPojo</li>\n</ul>\n<p>have data validations in them. I want to invoke javax validations in the constructor of <code>NewUserDetailsPojo</code> and throw suitable exceptions if nessecery.</p>\n<p>I'm giving the structures of <code>BasicDetailsPojo</code> and <code>DoctorPojo</code> below:</p>\n<pre><code>public class BasicDetailsPojo {\n  @Size(min = 5, message = &quot;Name should be at least 5 characters long&quot;)\n  private String name;\n  @Email\n  private String email;\n  @Size(min = 10, message = &quot;Contact number must be of 10 digits&quot;)\n  private String contactNo;\n  private String role;\n  @NotNull\n  @Size(min = 8, message = &quot;Password must be 8 characters long&quot;)\n  private String password;\n}\n</code></pre>\n<p>This is the structure of DoctorPojo:</p>\n<pre><code>public class DoctorPojo extends BasicDetailsPojo {\n  @NotNull\n  private String regNo;\n  @NotNull\n  private String degree;\n  @NotNull\n  private String specialization;\n  private String experience;\n}\n</code></pre>\n"},{"tags":["java","sockets","port","forwarding"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1673004721,"post_id":75030377,"comment_id":132405400,"body_markdown":"How you do the port forwarding?","body":"How you do the port forwarding?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673004730,"post_id":75030377,"comment_id":132405403,"body_markdown":"Are you sure that it works?","body":"Are you sure that it works?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673005021,"post_id":75030377,"comment_id":132405477,"body_markdown":"Port 113 is part of the [reserved ports](https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports), use a port &gt;1024. However your issue is somewhere else. Double check that the ip address you are using is actually your public IP address. Also check again that you forwarded your port to the machine where the server is running. Also make sure your server is actually running and that no firewall blocks the port.","body":"Port 113 is part of the <a href=\"https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports\" rel=\"nofollow noreferrer\">reserved ports</a>, use a port &gt;1024. However your issue is somewhere else. Double check that the ip address you are using is actually your public IP address. Also check again that you forwarded your port to the machine where the server is running. Also make sure your server is actually running and that no firewall blocks the port."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673005269,"post_id":75030377,"comment_id":132405533,"body_markdown":"I do not *feel insecure* But You answer a question of someone else to me","body":"I do not <i>feel insecure</i> But You answer a question of someone else to me"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673005741,"post_id":75030377,"comment_id":132405653,"body_markdown":"@providerZ there is no thread pool involved here. Also no thread executor is being interrupted. The only issue is a very simple `ConnectException` that happens because of the network topology. Your comment still has nothing to do with the question and there is nothing to support your claims. Bringing up the word &quot;insecure&quot; does not make you look more professional.","body":"@providerZ there is no thread pool involved here. Also no thread executor is being interrupted. The only issue is a very simple <code>ConnectException</code> that happens because of the network topology. Your comment still has nothing to do with the question and there is nothing to support your claims. Bringing up the word &quot;insecure&quot; does not make you look more professional."},{"owner":{"account_id":27085714,"reputation":1,"user_id":20634260,"display_name":"MASEH"},"score":0,"creation_date":1673009235,"post_id":75030377,"comment_id":132406600,"body_markdown":"@f1sh do i have to port forward on the server or Client? i have the server and client run in on one devise.","body":"@f1sh do i have to port forward on the server or Client? i have the server and client run in on one devise."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673009320,"post_id":75030377,"comment_id":132406621,"body_markdown":"@MASEH your server application is running on a machine is behind a router, right? The port forwarding needs to be done on the router so that requests to that port are forwarded to the server machine.","body":"@MASEH your server application is running on a machine is behind a router, right? The port forwarding needs to be done on the router so that requests to that port are forwarded to the server machine."},{"owner":{"account_id":27085714,"reputation":1,"user_id":20634260,"display_name":"MASEH"},"score":0,"creation_date":1673009534,"post_id":75030377,"comment_id":132406688,"body_markdown":"@f1sh i do&#39;nt get the &quot;server application is running on a machine is behind a router&quot; . the server is in my laptop and my laptop is connected to a wifi.","body":"@f1sh i do&#39;nt get the &quot;server application is running on a machine is behind a router&quot; . the server is in my laptop and my laptop is connected to a wifi."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673010284,"post_id":75030377,"comment_id":132406905,"body_markdown":"@MASEH there is a device that forwards your wifi signals to the internet and vice versa. That device is a router. That device needs to forward incoming requests on that port to your laptop. If you have no access to the management interface of that router, you cannot forward the port. Where else did you try port forwarding!?","body":"@MASEH there is a device that forwards your wifi signals to the internet and vice versa. That device is a router. That device needs to forward incoming requests on that port to your laptop. If you have no access to the management interface of that router, you cannot forward the port. Where else did you try port forwarding!?"},{"owner":{"account_id":27085714,"reputation":1,"user_id":20634260,"display_name":"MASEH"},"score":0,"creation_date":1673010436,"post_id":75030377,"comment_id":132406960,"body_markdown":"@f1sh i did that in router setting.","body":"@f1sh i did that in router setting."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673011772,"post_id":75030377,"comment_id":132407308,"body_markdown":"@MASEH , Before dealing with network or environmental issues, it is generally necessary to complete the Client App and Server App first. Then at least test the connection locally. After that is the Internet connection test.","body":"@MASEH , Before dealing with network or environmental issues, it is generally necessary to complete the Client App and Server App first. Then at least test the connection locally. After that is the Internet connection test."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673011871,"post_id":75030377,"comment_id":132407336,"body_markdown":"@MASEH , example code (https://stackoverflow.com/questions/74756501/why-docker-java-server-clients-doesnt-work/74759917#74759917) , Ignore Docker description.","body":"@MASEH , example code (<a href=\"https://stackoverflow.com/questions/74756501/why-docker-java-server-clients-doesnt-work/74759917#74759917\" title=\"why docker java server clients doesnt work\">stackoverflow.com/questions/74756501/&hellip;</a>) , Ignore Docker description."}],"owner":{"account_id":27085714,"reputation":1,"user_id":20634260,"display_name":"MASEH"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673005209,"creation_date":1673004647,"question_id":75030377,"body_markdown":"i&#39;m almost a new java programmer (started at 5 month ago) and i want to connect two program over internet but i get some error that&#39;s i can&#39;t fix.\r\n\r\ni&#39;ve tried alot. i told to my friend to ping my public ip in cmd and he did and it worked fine. with that the java client did&#39;nt work either.\r\n\r\nafter that, I looked for another answer on stackoverflow, then i found a comment that said you have to do **port forwarding** . i did port forwarding and it still gives an error.\r\n\r\nClient\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Client{\r\n    public static void main(String[] args) throws IOException{\r\n        \r\n        Socket s = new Socket(&quot;151.245.38.21&quot;,113);\r\n        \r\n          while (true){\r\n\r\n          } \r\n        }\r\n    }\r\n```\r\n\r\nSERVER\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class SERVER{\r\n    public static void main(String[] args) throws IOException{\r\n\r\n\r\n\r\n        ServerSocket ss = new ServerSocket(113); //the port that i used in port forwarding\r\n\r\n        Socket s = ss.accept();\r\n\r\n        System.out.println(&quot;Connected!&quot;);\r\n\r\n\tSystem.out.println(s);\r\n\tSystem.out.println(ss);\r\n\r\n        \r\n        while (true){\r\n        \r\n        } \r\n    }\r\n}\r\n```\r\n\r\nerror\r\n\r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/java.net.Socket.connect(Socket.java:583)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\r\n\tat java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\r\n\tat Client.main(Client.java:7)\r\n```","title":"java error connecting two devices with socket (public ip)","body":"<p>i'm almost a new java programmer (started at 5 month ago) and i want to connect two program over internet but i get some error that's i can't fix.</p>\n<p>i've tried alot. i told to my friend to ping my public ip in cmd and he did and it worked fine. with that the java client did'nt work either.</p>\n<p>after that, I looked for another answer on stackoverflow, then i found a comment that said you have to do <strong>port forwarding</strong> . i did port forwarding and it still gives an error.</p>\n<p>Client</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Client{\n    public static void main(String[] args) throws IOException{\n        \n        Socket s = new Socket(&quot;151.245.38.21&quot;,113);\n        \n          while (true){\n\n          } \n        }\n    }\n</code></pre>\n<p>SERVER</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class SERVER{\n    public static void main(String[] args) throws IOException{\n\n\n\n        ServerSocket ss = new ServerSocket(113); //the port that i used in port forwarding\n\n        Socket s = ss.accept();\n\n        System.out.println(&quot;Connected!&quot;);\n\n    System.out.println(s);\n    System.out.println(ss);\n\n        \n        while (true){\n        \n        } \n    }\n}\n</code></pre>\n<p>error</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\n    at Client.main(Client.java:7)\n</code></pre>\n"},{"tags":["java","html","spring-batch"],"comments":[{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":2,"creation_date":1672725057,"post_id":74989456,"comment_id":132334227,"body_markdown":"Please add more information to the question. How you are passing the value to the object. What values you are passing. Without this info it is difficult to answer the question.","body":"Please add more information to the question. How you are passing the value to the object. What values you are passing. Without this info it is difficult to answer the question."}],"answers":[{"tags":[],"owner":{"account_id":15256398,"reputation":51,"user_id":11007977,"display_name":"Michael Chuks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673005012,"creation_date":1673005012,"answer_id":75030434,"question_id":74989456,"body_markdown":"Firstly I figured out couple of codes that can cause serious performance issues and is not advised.\r\n\r\nHere&#39;s a few:\r\n\r\nTake off your Generated Getters and Setters and Leave the annotation `@Getter` and `@Setter` to do the work.\r\n\r\nTake off `&lt;input type=&quot;hidden&quot; th:field=&quot;*{add_id}&quot; /&gt;` as it will be auto-generated from your entity Address `private Long add_id`\r\n\r\nTake off `address.toString()` from your `saveAddress` controller as this is not needed to parse data to your Entity, your entity receives String already which will be parsed from your form, there is no need to convert with `toString` again.\r\n\r\nOne of your error states `Failed to convert from type [java.lang.String] to type [java.lang.Long]` which simply means you&#39;re trying to convert Long to String which should be auto generated by your Entity\r\n\r\nI hope this helps!!!","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;example.entity.Address&#39;","body":"<p>Firstly I figured out couple of codes that can cause serious performance issues and is not advised.</p>\n<p>Here's a few:</p>\n<p>Take off your Generated Getters and Setters and Leave the annotation <code>@Getter</code> and <code>@Setter</code> to do the work.</p>\n<p>Take off <code>&lt;input type=&quot;hidden&quot; th:field=&quot;*{add_id}&quot; /&gt;</code> as it will be auto-generated from your entity Address <code>private Long add_id</code></p>\n<p>Take off <code>address.toString()</code> from your <code>saveAddress</code> controller as this is not needed to parse data to your Entity, your entity receives String already which will be parsed from your form, there is no need to convert with <code>toString</code> again.</p>\n<p>One of your error states <code>Failed to convert from type [java.lang.String] to type [java.lang.Long]</code> which simply means you're trying to convert Long to String which should be auto generated by your Entity</p>\n<p>I hope this helps!!!</p>\n"}],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75030434,"answer_count":1,"score":0,"last_activity_date":1673005012,"creation_date":1672724861,"question_id":74989456,"body_markdown":"    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;addresses&quot;)\r\n    public class Address {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long add_id;\r\n\t\r\n\t@Column\r\n\tprivate String address;\r\n\t\r\n\t@Column\r\n\tprivate String postalcode;\r\n\t\r\n\t@Column\r\n\tprivate String city;\r\n\t\r\n\t@Column\r\n\tprivate String state;\r\n\t\r\n\t@Column\r\n\tprivate String country;\r\n\r\n\tpublic Long getAdd_id() {\r\n\t\treturn add_id;\r\n\t}\r\n\r\n\tpublic void setAdd_id(Long add_id) {\r\n\t\tthis.add_id = add_id;\r\n\t}\r\n\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\r\n\tpublic String getPostalcode() {\r\n\t\treturn postalcode;\r\n\t}\r\n\r\n\tpublic void setPostalcode(String postalcode) {\r\n\t\tthis.postalcode = postalcode;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\tpublic String getState() {\r\n\t\treturn state;\r\n\t}\r\n\r\n\tpublic void setState(String state) {\r\n\t\tthis.state = state;\r\n\t}\r\n\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\r\n\t\r\n    }\r\n\r\n    HTML Page :\r\n     &lt;form\r\n            method=&quot;post&quot;\r\n            role=&quot;form&quot;\r\n            th:action=&quot;@{/address/save}&quot;\r\n            th:object=&quot;${address}&quot;\r\n          &gt;\r\n        \r\n              &lt;input type=&quot;hidden&quot; th:field=&quot;*{add_id}&quot; /&gt; \r\n              \r\n            &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n              &lt;label class=&quot;form-label&quot;&gt;Address&lt;/label&gt;\r\n              &lt;input\r\n                      class=&quot;form-control&quot;\r\n                      id=&quot;address&quot;\r\n                      name=&quot;address&quot;\r\n                      placeholder=&quot;Enter Address&quot;\r\n                      th:field=&quot;*{address}&quot;\r\n                      type=&quot;text&quot;\r\n              /&gt;\r\n              &lt;p th:errors = &quot;*{address}&quot; class=&quot;text-danger&quot;\r\n              th:if=&quot;${#fields.hasErrors(&#39;address&#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            \r\n          &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n              &lt;label class=&quot;form-label&quot;&gt;Postal Code&lt;/label&gt;\r\n              &lt;input\r\n                      class=&quot;form-control&quot;\r\n                      id=&quot;postalcode&quot;\r\n                      name=&quot;postalcode&quot;\r\n                      placeholder=&quot;Enter Postal Code&quot;\r\n                      th:field=&quot;*{postalcode}&quot;\r\n                      type=&quot;text&quot;\r\n              /&gt;\r\n              &lt;p th:errors = &quot;*{postalcode}&quot; class=&quot;text-danger&quot;\r\n                 th:if=&quot;${#fields.hasErrors(&#39;postalcode&#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            \r\n            &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n              &lt;label class=&quot;form-label&quot;&gt;City&lt;/label&gt;\r\n              &lt;input\r\n                      class=&quot;form-control&quot;\r\n                      id=&quot;city&quot;\r\n                      name=&quot;city&quot;\r\n                      placeholder=&quot;Enter City&quot;\r\n                      th:field=&quot;*{city}&quot;\r\n                      type=&quot;text&quot;\r\n              /&gt;\r\n              &lt;p th:errors = &quot;*{city}&quot; class=&quot;text-danger&quot;\r\n                 th:if=&quot;${#fields.hasErrors(&#39;city&#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            \r\n            &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n              &lt;label class=&quot;form-label&quot;&gt;State&lt;/label&gt;\r\n              &lt;input\r\n                      class=&quot;form-control&quot;\r\n                      id=&quot;state&quot;\r\n                      name=&quot;state&quot;\r\n                      placeholder=&quot;Enter State&quot;\r\n                      th:field=&quot;*{state}&quot;\r\n                      type=&quot;text&quot;\r\n              /&gt;\r\n              &lt;p th:errors = &quot;*{state}&quot; class=&quot;text-danger&quot;\r\n                 th:if=&quot;${#fields.hasErrors(&#39;state&#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            \r\n                 &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n              &lt;label class=&quot;form-label&quot;&gt;Country&lt;/label&gt;\r\n              &lt;input\r\n                      class=&quot;form-control&quot;\r\n                      id=&quot;country&quot;\r\n                      name=&quot;country&quot;\r\n                      placeholder=&quot;Enter Country&quot;\r\n                      th:field=&quot;*{country}&quot;\r\n                      type=&quot;text&quot;\r\n              /&gt;\r\n              &lt;p th:errors = &quot;*{country}&quot; class=&quot;text-danger&quot;\r\n                 th:if=&quot;${#fields.hasErrors(&#39;country&#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            \r\n            &lt;div class=&quot;form-group&quot; style=&quot;text-align:center&quot;&gt;\r\n              &lt;button class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;Save&lt;/button&gt;\r\n            &lt;/div&gt;\r\n          &lt;/form&gt;\r\n\r\n    Controller:\r\n       @Autowired\r\n    private AddressRepository addressRepository;\r\n\r\n    @GetMapping(&quot;/address/{id}&quot;)\r\n    public String addAddress(@PathVariable(&quot;id&quot;) Long add_id, Model model){\r\n    \tSystem.out.println(&quot;\\nInside addressform :\\n&quot;);\r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tAddress address = addressRepository.getById(add_id);\r\n    \tSystem.out.println(address.getAdd_id());\r\n    \tSystem.out.println(&quot;add_id : &quot;+add_id);\r\n    \tmodel.addAttribute(&quot;address&quot;, address);\r\n    \treturn &quot;addressform&quot;;\r\n    }\r\n    \r\n    // handler method to handle post request to save address\r\n    @PostMapping(&quot;/address/save&quot;)\r\n    public String saveAddress(@Valid @ModelAttribute(&quot;address&quot;) Address address) {\r\n    \tSystem.out.println(&quot;\\nInside address save method.&quot;);\r\n    \tSystem.out.println(address.getAdd_id());\r\n    \tSystem.out.println(address.getAddress());\r\n    \tSystem.out.println(address.getPostalcode());\r\n    \tSystem.out.println(address.toString());\r\n    \taddressRepository.save(address);\r\n    \treturn &quot;redirect:/users&quot;;\r\n    }\r\n\r\n    ERROR :\r\n    There was an unexpected error (type=Bad Request, status=400).\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;example.entity.Address&#39;; Failed to convert from type [java.lang.String] to type [java.lang.Long] for value &#39;madhapur&#39;\r\norg.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;example.entity.Address&#39;; Failed to convert from type [java.lang.String] to type [java.lang.Long] for value &#39;madhapur&#39;\r\n\tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\r\n\tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\r\n\tat org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\r\n\tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:181)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:148)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;example.entity.Address&#39;","body":"<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;addresses&quot;)\npublic class Address {\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long add_id;\n\n@Column\nprivate String address;\n\n@Column\nprivate String postalcode;\n\n@Column\nprivate String city;\n\n@Column\nprivate String state;\n\n@Column\nprivate String country;\n\npublic Long getAdd_id() {\n    return add_id;\n}\n\npublic void setAdd_id(Long add_id) {\n    this.add_id = add_id;\n}\n\npublic String getAddress() {\n    return address;\n}\n\npublic void setAddress(String address) {\n    this.address = address;\n}\n\npublic String getPostalcode() {\n    return postalcode;\n}\n\npublic void setPostalcode(String postalcode) {\n    this.postalcode = postalcode;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n}\n\npublic String getState() {\n    return state;\n}\n\npublic void setState(String state) {\n    this.state = state;\n}\n\npublic String getCountry() {\n    return country;\n}\n\npublic void setCountry(String country) {\n    this.country = country;\n}\n\n\n}\n\nHTML Page :\n &lt;form\n        method=&quot;post&quot;\n        role=&quot;form&quot;\n        th:action=&quot;@{/address/save}&quot;\n        th:object=&quot;${address}&quot;\n      &gt;\n    \n          &lt;input type=&quot;hidden&quot; th:field=&quot;*{add_id}&quot; /&gt; \n          \n        &lt;div class=&quot;form-group mb-3&quot;&gt;\n          &lt;label class=&quot;form-label&quot;&gt;Address&lt;/label&gt;\n          &lt;input\n                  class=&quot;form-control&quot;\n                  id=&quot;address&quot;\n                  name=&quot;address&quot;\n                  placeholder=&quot;Enter Address&quot;\n                  th:field=&quot;*{address}&quot;\n                  type=&quot;text&quot;\n          /&gt;\n          &lt;p th:errors = &quot;*{address}&quot; class=&quot;text-danger&quot;\n          th:if=&quot;${#fields.hasErrors('address')}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        \n      &lt;div class=&quot;form-group mb-3&quot;&gt;\n          &lt;label class=&quot;form-label&quot;&gt;Postal Code&lt;/label&gt;\n          &lt;input\n                  class=&quot;form-control&quot;\n                  id=&quot;postalcode&quot;\n                  name=&quot;postalcode&quot;\n                  placeholder=&quot;Enter Postal Code&quot;\n                  th:field=&quot;*{postalcode}&quot;\n                  type=&quot;text&quot;\n          /&gt;\n          &lt;p th:errors = &quot;*{postalcode}&quot; class=&quot;text-danger&quot;\n             th:if=&quot;${#fields.hasErrors('postalcode')}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=&quot;form-group mb-3&quot;&gt;\n          &lt;label class=&quot;form-label&quot;&gt;City&lt;/label&gt;\n          &lt;input\n                  class=&quot;form-control&quot;\n                  id=&quot;city&quot;\n                  name=&quot;city&quot;\n                  placeholder=&quot;Enter City&quot;\n                  th:field=&quot;*{city}&quot;\n                  type=&quot;text&quot;\n          /&gt;\n          &lt;p th:errors = &quot;*{city}&quot; class=&quot;text-danger&quot;\n             th:if=&quot;${#fields.hasErrors('city')}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=&quot;form-group mb-3&quot;&gt;\n          &lt;label class=&quot;form-label&quot;&gt;State&lt;/label&gt;\n          &lt;input\n                  class=&quot;form-control&quot;\n                  id=&quot;state&quot;\n                  name=&quot;state&quot;\n                  placeholder=&quot;Enter State&quot;\n                  th:field=&quot;*{state}&quot;\n                  type=&quot;text&quot;\n          /&gt;\n          &lt;p th:errors = &quot;*{state}&quot; class=&quot;text-danger&quot;\n             th:if=&quot;${#fields.hasErrors('state')}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        \n             &lt;div class=&quot;form-group mb-3&quot;&gt;\n          &lt;label class=&quot;form-label&quot;&gt;Country&lt;/label&gt;\n          &lt;input\n                  class=&quot;form-control&quot;\n                  id=&quot;country&quot;\n                  name=&quot;country&quot;\n                  placeholder=&quot;Enter Country&quot;\n                  th:field=&quot;*{country}&quot;\n                  type=&quot;text&quot;\n          /&gt;\n          &lt;p th:errors = &quot;*{country}&quot; class=&quot;text-danger&quot;\n             th:if=&quot;${#fields.hasErrors('country')}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=&quot;form-group&quot; style=&quot;text-align:center&quot;&gt;\n          &lt;button class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;Save&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n\nController:\n   @Autowired\nprivate AddressRepository addressRepository;\n\n@GetMapping(&quot;/address/{id}&quot;)\npublic String addAddress(@PathVariable(&quot;id&quot;) Long add_id, Model model){\n    System.out.println(&quot;\\nInside addressform :\\n&quot;);\n    @SuppressWarnings(&quot;deprecation&quot;)\n    Address address = addressRepository.getById(add_id);\n    System.out.println(address.getAdd_id());\n    System.out.println(&quot;add_id : &quot;+add_id);\n    model.addAttribute(&quot;address&quot;, address);\n    return &quot;addressform&quot;;\n}\n\n// handler method to handle post request to save address\n@PostMapping(&quot;/address/save&quot;)\npublic String saveAddress(@Valid @ModelAttribute(&quot;address&quot;) Address address) {\n    System.out.println(&quot;\\nInside address save method.&quot;);\n    System.out.println(address.getAdd_id());\n    System.out.println(address.getAddress());\n    System.out.println(address.getPostalcode());\n    System.out.println(address.toString());\n    addressRepository.save(address);\n    return &quot;redirect:/users&quot;;\n}\n\nERROR :\nThere was an unexpected error (type=Bad Request, status=400).\n</code></pre>\n<p>Failed to convert value of type 'java.lang.String' to required type 'example.entity.Address'; Failed to convert from type [java.lang.String] to type [java.lang.Long] for value 'madhapur'\norg.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'example.entity.Address'; Failed to convert from type [java.lang.String] to type [java.lang.Long] for value 'madhapur'\nat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\nat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\nat org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)\nat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\nat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\nat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\nat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\nat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:181)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:148)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)</p>\n"},{"tags":["java","quarkus","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":18643295,"reputation":91,"user_id":15523520,"display_name":"Mohamed Ali"},"score":0,"creation_date":1697386570,"post_id":75004253,"comment_id":136270687,"body_markdown":"Use quarkus-poi extension instead of apache-poi\n\nsee : https://quarkus.io/extensions/io.quarkiverse.poi/quarkus-poi","body":"Use quarkus-poi extension instead of apache-poi  see : <a href=\"https://quarkus.io/extensions/io.quarkiverse.poi/quarkus-poi\" rel=\"nofollow noreferrer\">quarkus.io/extensions/io.quarkiverse.poi/quarkus-poi</a>"}],"owner":{"account_id":4945044,"reputation":21,"user_id":3980698,"display_name":"Mahdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673004724,"creation_date":1672829028,"question_id":75004253,"body_markdown":"Framework: Quarkus \\\r\nJVM: OpenJDK Runtime Environment GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08)\r\nOS: macOS Monterey, Chip: M2\r\n\r\nCommand to get this error: `mvn clean package -Pnative -DskipTests`\r\n\r\nWhen building a native image I faced this error:\r\n```none\r\nError: Discovered a type for which getDeclaringClass0 cannot be called:\r\norg.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\r\ncom.oracle.svm.core.util.UserError$UserException: Discovered a type for which getDeclaringClass0 cannot be called: org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FallbackFeature.reportAsFallback(FallbackFeature.java:248)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:776)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:578)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:535)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:403)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:580)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:128)\r\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Discovered a type for which getDeclaringClass0 cannot be called: org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.SVMHost.handleLinkageError(SVMHost.java:444)\r\n```\r\n\r\nMy problem is, when I&#39;m trying to find the implementation of this class, I did not find anything. I know if I find the implementation and I add it to pom and reflect-config.json my problem be solved.\r\n\r\n\r\nI tried to add \r\n`--initialize-at-run-time=org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass`\r\ninto pom and this line into reflect-config.json\r\n```JSON\r\n{\r\n    &quot;name&quot;: &quot;org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass&quot;\r\n  }\r\n``` \r\n\r\nUpdate:\r\n\r\nThe problem is solved this way:\r\n```\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.3&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n               &lt;/exclusion&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;poi-ooxml-lite&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```","title":"When building a native image I faced: Discovered a type for which getDeclaringClass0 cannot be called: x2006.sharedTypes.STConformanceClass","body":"<p>Framework: Quarkus <br />\nJVM: OpenJDK Runtime Environment GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08)\nOS: macOS Monterey, Chip: M2</p>\n<p>Command to get this error: <code>mvn clean package -Pnative -DskipTests</code></p>\n<p>When building a native image I faced this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: Discovered a type for which getDeclaringClass0 cannot be called:\norg.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\ncom.oracle.svm.core.util.UserError$UserException: Discovered a type for which getDeclaringClass0 cannot be called: org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FallbackFeature.reportAsFallback(FallbackFeature.java:248)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:776)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:578)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:535)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:403)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:580)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:128)\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Discovered a type for which getDeclaringClass0 cannot be called: org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum. This error is reported at image build time because class org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass$Enum is registered for linking at image build time by command line\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.SVMHost.handleLinkageError(SVMHost.java:444)\n</code></pre>\n<p>My problem is, when I'm trying to find the implementation of this class, I did not find anything. I know if I find the implementation and I add it to pom and reflect-config.json my problem be solved.</p>\n<p>I tried to add\n<code>--initialize-at-run-time=org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass</code>\ninto pom and this line into reflect-config.json</p>\n<pre><code>{\n    &quot;name&quot;: &quot;org.openxmlformats.schemas.officeDocument.x2006.sharedTypes.STConformanceClass&quot;\n  }\n</code></pre>\n<p>Update:</p>\n<p>The problem is solved this way:</p>\n<pre><code>    &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n          &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n          &lt;version&gt;5.2.3&lt;/version&gt;\n          &lt;exclusions&gt;\n              &lt;exclusion&gt;\n                  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                  &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n               &lt;/exclusion&gt;\n              &lt;exclusion&gt;\n                  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                  &lt;artifactId&gt;poi-ooxml-lite&lt;/artifactId&gt;\n              &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n           &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n              &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n          &lt;version&gt;5.2.3&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","xml","sorting"],"answers":[{"tags":[],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672950827,"creation_date":1672950827,"answer_id":75024060,"question_id":75022491,"body_markdown":"You can use the class (public class NodeTools) from your 2nd example ([link][1]) with the Integer class which is comparable.\r\n````\r\nNode[] ret = NodeTools.sortNodes(doc.getElementsByTagName(&quot;item&quot;), &quot;item-order&quot;, true, Integer.class);\r\n````\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32307527/how-to-sort-xml-elements-by-value-of-attributes-in-java","title":"sort xml elements based on their child node getTextContent value","body":"<p>You can use the class (public class NodeTools) from your 2nd example (<a href=\"https://stackoverflow.com/questions/32307527/how-to-sort-xml-elements-by-value-of-attributes-in-java\">link</a>) with the Integer class which is comparable.</p>\n<pre><code>Node[] ret = NodeTools.sortNodes(doc.getElementsByTagName(&quot;item&quot;), &quot;item-order&quot;, true, Integer.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4679912,"reputation":25,"user_id":3788903,"display_name":"user3788903"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673004566,"creation_date":1673004566,"answer_id":75030361,"question_id":75022491,"body_markdown":"Based on what @mazi suggested, I was able to achieve the ordering changing a little bit the method NodeTools.sortNodes.\r\n\r\nBasically, I have changed this part:\r\n\r\n                bda = (Comparable)bc.newInstance(((Element)a).getAttribute(attributeName));\r\n                bdb = (Comparable)bc.newInstance(((Element)b).getAttribute(attributeName));\r\n\r\n\r\nTo this:\r\n\r\n                bda = (Comparable)bc.newInstance(((Element)a).getElementsByTagName(attributeName).item(0).getTextContent());\r\n                bdb = (Comparable)bc.newInstance(((Element)b).getElementsByTagName(attributeName).item(0).getTextContent());\r\n\r\n\r\nHere goes the whole code:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    import java.lang.reflect.Constructor;\r\n    import java.util.*;\r\n    \r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    import org.xml.sax.InputSource;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import java.io.StringReader;\r\n    import org.w3c.dom.Document;\r\n    \r\n    public class NodeTools {\r\n    \r\n        public static Node[] sortNodes(NodeList nl, String attributeName, boolean asc, Class&lt;? extends Comparable&gt; B)\r\n        {\r\n            class NodeComparator&lt;T&gt; implements Comparator&lt;T&gt;\r\n            {\r\n                @Override\r\n                public int compare(T a, T b)\r\n                {\r\n                    int ret;\r\n                    Comparable bda = null, bdb = null;\r\n                    try{\r\n                        Constructor bc = B.getDeclaredConstructor(String.class);\r\n                        bda = (Comparable)bc.newInstance(((Element)a).getElementsByTagName(attributeName).item(0).getTextContent());\r\n                        bdb = (Comparable)bc.newInstance(((Element)b).getElementsByTagName(attributeName).item(0).getTextContent());\r\n                        //bda = (Comparable)bc.newInstance(((Element)a).getAttribute(attributeName));\r\n                        //bdb = (Comparable)bc.newInstance(((Element)b).getAttribute(attributeName));\r\n                    }\r\n                    catch(Exception e)\r\n                    {\r\n                        return 0; // yes, ugly, i know :)\r\n                    }\r\n                    ret = bda.compareTo(bdb);\r\n                    return asc ? ret : -ret;\r\n                }\r\n            }\r\n    \r\n            List&lt;Node&gt; x = new ArrayList&lt;&gt;();\r\n            for(int i = 0; i &lt; nl.getLength(); i++)\r\n            {\r\n                x.add(nl.item(i));\r\n            }\r\n            Node[] ret = new Node[x.size()];\r\n            ret = x.toArray(ret);\r\n            Arrays.sort(ret, new NodeComparator&lt;Node&gt;());\r\n            return ret;\r\n        }\r\n    \r\n        public static void main(String... args)\r\n        {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder;\r\n            String s = &quot;&lt;order&gt;\\n&quot; +\r\n                    &quot;    &lt;item&gt;\\n&quot; +\r\n                    &quot;        &lt;item-id&gt;d54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\\n&quot; +\r\n                    &quot;        &lt;item-order&gt;3&lt;/item-order&gt;\\n&quot; +\r\n                    &quot;    &lt;/item&gt;\\n&quot; +\r\n                    &quot;    &lt;item&gt;\\n&quot; +\r\n                    &quot;        &lt;item-id&gt;b54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\\n&quot; +\r\n                    &quot;        &lt;item-order&gt;1&lt;/item-order&gt;\\n&quot; +\r\n                    &quot;    &lt;/item&gt;\\n&quot; +\r\n                    &quot;    &lt;item&gt;\\n&quot; +\r\n                    &quot;        &lt;item-id&gt;f54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\\n&quot; +\r\n                    &quot;        &lt;item-order&gt;2&lt;/item-order&gt;\\n&quot; +\r\n                    &quot;    &lt;/item&gt;\\n&quot; +\r\n                    &quot;&lt;/order&gt;&quot;;\r\n    \r\n            Document doc = null;\r\n            try\r\n            {\r\n                builder = factory.newDocumentBuilder();\r\n                doc = builder.parse(new InputSource(new StringReader(s)));\r\n            }\r\n            catch(Exception e) { System.out.println(&quot;Alarm &quot;+e); return; }\r\n    \r\n            Node[] ret = NodeTools.sortNodes(doc.getElementsByTagName(&quot;item&quot;), &quot;item-order&quot;, true, Integer.class);\r\n            for(Node n: ret)\r\n            {\r\n                System.out.println(((Element)n).getTextContent());\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n\r\nHere is the output:\r\n\r\n        b54829d52c3f2810VgnVCM1000001af614ac\r\n        1\r\n    \r\n\r\n        f54829d52c3f2810VgnVCM1000001af614ac\r\n        2\r\n    \r\n\r\n        d54829d52c3f2810VgnVCM1000001af614ac\r\n        3\r\n    \r\n","title":"sort xml elements based on their child node getTextContent value","body":"<p>Based on what @mazi suggested, I was able to achieve the ordering changing a little bit the method NodeTools.sortNodes.</p>\n<p>Basically, I have changed this part:</p>\n<pre><code>            bda = (Comparable)bc.newInstance(((Element)a).getAttribute(attributeName));\n            bdb = (Comparable)bc.newInstance(((Element)b).getAttribute(attributeName));\n</code></pre>\n<p>To this:</p>\n<pre><code>            bda = (Comparable)bc.newInstance(((Element)a).getElementsByTagName(attributeName).item(0).getTextContent());\n            bdb = (Comparable)bc.newInstance(((Element)b).getElementsByTagName(attributeName).item(0).getTextContent());\n</code></pre>\n<p>Here goes the whole code:</p>\n<pre><code>\n\n    import java.lang.reflect.Constructor;\n    import java.util.*;\n    \n    import org.w3c.dom.Element;\n    import org.w3c.dom.Node;\n    import org.w3c.dom.NodeList;\n    \n    import org.xml.sax.InputSource;\n    import javax.xml.parsers.DocumentBuilder;\n    import javax.xml.parsers.DocumentBuilderFactory;\n    import java.io.StringReader;\n    import org.w3c.dom.Document;\n    \n    public class NodeTools {\n    \n        public static Node[] sortNodes(NodeList nl, String attributeName, boolean asc, Class B)\n        {\n            class NodeComparator implements Comparator\n            {\n                @Override\n                public int compare(T a, T b)\n                {\n                    int ret;\n                    Comparable bda = null, bdb = null;\n                    try{\n                        Constructor bc = B.getDeclaredConstructor(String.class);\n                        bda = (Comparable)bc.newInstance(((Element)a).getElementsByTagName(attributeName).item(0).getTextContent());\n                        bdb = (Comparable)bc.newInstance(((Element)b).getElementsByTagName(attributeName).item(0).getTextContent());\n                        //bda = (Comparable)bc.newInstance(((Element)a).getAttribute(attributeName));\n                        //bdb = (Comparable)bc.newInstance(((Element)b).getAttribute(attributeName));\n                    }\n                    catch(Exception e)\n                    {\n                        return 0; // yes, ugly, i know :)\n                    }\n                    ret = bda.compareTo(bdb);\n                    return asc ? ret : -ret;\n                }\n            }\n    \n            List x = new ArrayList();\n            for(int i = 0; i ());\n            return ret;\n        }\n    \n        public static void main(String... args)\n        {\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder builder;\n            String s = \"\\n\" +\n                    \"    \\n\" +\n                    \"        d54829d52c3f2810VgnVCM1000001af614ac\\n\" +\n                    \"        3\\n\" +\n                    \"    \\n\" +\n                    \"    \\n\" +\n                    \"        b54829d52c3f2810VgnVCM1000001af614ac\\n\" +\n                    \"        1\\n\" +\n                    \"    \\n\" +\n                    \"    \\n\" +\n                    \"        f54829d52c3f2810VgnVCM1000001af614ac\\n\" +\n                    \"        2\\n\" +\n                    \"    \\n\" +\n                    \"\";\n    \n            Document doc = null;\n            try\n            {\n                builder = factory.newDocumentBuilder();\n                doc = builder.parse(new InputSource(new StringReader(s)));\n            }\n            catch(Exception e) { System.out.println(\"Alarm \"+e); return; }\n    \n            Node[] ret = NodeTools.sortNodes(doc.getElementsByTagName(\"item\"), \"item-order\", true, Integer.class);\n            for(Node n: ret)\n            {\n                System.out.println(((Element)n).getTextContent());\n            }\n        }\n    }\n\n</pre></code>\n<p>Here is the output:</p>\n<pre><code>    b54829d52c3f2810VgnVCM1000001af614ac\n    1\n\n\n    f54829d52c3f2810VgnVCM1000001af614ac\n    2\n\n\n    d54829d52c3f2810VgnVCM1000001af614ac\n    3\n</code></pre>\n"}],"owner":{"account_id":4679912,"reputation":25,"user_id":3788903,"display_name":"user3788903"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673004566,"creation_date":1672941263,"question_id":75022491,"body_markdown":"I have been trying  to reorder xml elements based on their child getTextContent value, but everything that I tried only worked for siblings nodes\r\n\r\nBasically, I have this XML:\r\n```\r\n&lt;order&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;d54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;3&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;b54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;1&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;f54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;2&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n&lt;/order&gt;\r\n```\r\n\r\nAnd I would like to achive this result, ordering using &quot;item-order&quot;:\r\n```\r\n&lt;order&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;b54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;1&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;f54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;2&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;item-id&gt;d54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\r\n        &lt;item-order&gt;3&lt;/item-order&gt;\r\n    &lt;/item&gt;\r\n&lt;/order&gt;\r\n```\r\n\r\n\r\nI have been trying some implementations like this example based on the website below that I found on internet, but it does not work.\r\n\r\nhttp://programmatica.blogspot.com/2006/12/sorting-xml-in-java.html\r\nhttps://stackoverflow.com/questions/32307527/how-to-sort-xml-elements-by-value-of-attributes-in-java\r\n\r\n```\r\nstatic class MyComparator4 implements Comparator {\r\n\r\n        public int compare(Object arg0, Object arg1) {\r\n    \r\n            if (arg0 instanceof Element &amp;&amp; arg1 instanceof Element) {\r\n    \r\n                Element e0 = (Element) arg0;\r\n                Element e1 = (Element) arg0;\r\n\r\ne0.getChildNodes().item(e0.getChildNodes().getLength()-1).getTextContent().compareTo(e1.getChildNodes().item(e1.getChildNodes().getLength()-1).getTextContent());\r\n\r\n            } else {\r\n                return ((Node) arg0).getNodeName().compareTo(\r\n                        ((Node) arg1).getNodeName());\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n```\r\n\r\nAny help is appreciate. Thank you in advance","title":"sort xml elements based on their child node getTextContent value","body":"<p>I have been trying  to reorder xml elements based on their child getTextContent value, but everything that I tried only worked for siblings nodes</p>\n<p>Basically, I have this XML:</p>\n<pre><code>&lt;order&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;d54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;3&lt;/item-order&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;b54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;1&lt;/item-order&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;f54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;2&lt;/item-order&gt;\n    &lt;/item&gt;\n&lt;/order&gt;\n</code></pre>\n<p>And I would like to achive this result, ordering using &quot;item-order&quot;:</p>\n<pre><code>&lt;order&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;b54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;1&lt;/item-order&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;f54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;2&lt;/item-order&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;item-id&gt;d54829d52c3f2810VgnVCM1000001af614ac&lt;/item-id&gt;\n        &lt;item-order&gt;3&lt;/item-order&gt;\n    &lt;/item&gt;\n&lt;/order&gt;\n</code></pre>\n<p>I have been trying some implementations like this example based on the website below that I found on internet, but it does not work.</p>\n<p><a href=\"http://programmatica.blogspot.com/2006/12/sorting-xml-in-java.html\" rel=\"nofollow noreferrer\">http://programmatica.blogspot.com/2006/12/sorting-xml-in-java.html</a>\n<a href=\"https://stackoverflow.com/questions/32307527/how-to-sort-xml-elements-by-value-of-attributes-in-java\">How to sort XML elements by value of attributes in Java?</a></p>\n<pre><code>static class MyComparator4 implements Comparator {\n\n        public int compare(Object arg0, Object arg1) {\n    \n            if (arg0 instanceof Element &amp;&amp; arg1 instanceof Element) {\n    \n                Element e0 = (Element) arg0;\n                Element e1 = (Element) arg0;\n\ne0.getChildNodes().item(e0.getChildNodes().getLength()-1).getTextContent().compareTo(e1.getChildNodes().item(e1.getChildNodes().getLength()-1).getTextContent());\n\n            } else {\n                return ((Node) arg0).getNodeName().compareTo(\n                        ((Node) arg1).getNodeName());\n            }\n    \n        }\n    \n    }\n\n</code></pre>\n<p>Any help is appreciate. Thank you in advance</p>\n"},{"tags":["java","spring","api","security","boot"],"owner":{"account_id":16152367,"reputation":21,"user_id":11660450,"display_name":"canguness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673004172,"creation_date":1673004172,"question_id":75030305,"body_markdown":"I am making a project for Register and Login operations. I am using spring security and jwt. It always returns 401 unauthorized to any request I throw in Postman. I couldn&#39;t find the reason. Could you help? I am using spring boot new version. 3.0.0 version. \r\n\r\n```@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\tprivate final JwtAuthenticationFilter jwtAuthFilter;\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable()\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t.requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t.sessionManagement()\r\n\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\t\t\t.authenticationProvider(authenticationProvider)\r\n\t\t\t.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n  private final AuthenticationService service;\r\n\r\n  @PostMapping(&quot;/register&quot;)\r\n  public ResponseEntity&lt;AuthenticationResponse&gt; register(\r\n      @RequestBody RegisterRequest request\r\n  ) {\r\n    return ResponseEntity.ok(service.register(request));\r\n  }\r\n  @PostMapping(&quot;/authenticate&quot;)\r\n  public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\r\n      @RequestBody AuthenticationRequest request\r\n  ) {\r\n    return ResponseEntity.ok(service.authenticate(request));\r\n  }\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n  private final JwtService jwtService;\r\n  private final UserDetailsService userDetailsService;\r\n\r\n  @Override\r\n  protected void doFilterInternal(\r\n      @NonNull HttpServletRequest request,\r\n      @NonNull HttpServletResponse response,\r\n      @NonNull FilterChain filterChain\r\n  ) throws ServletException, IOException {\r\n    final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n    final String jwt;\r\n    final String userEmail;\r\n    if (authHeader == null ||!authHeader.startsWith(&quot;Bearer &quot;)) {\r\n      filterChain.doFilter(request, response);\r\n      return;\r\n    }\r\n    jwt = authHeader.substring(7);\r\n    userEmail = jwtService.extractUsername(jwt);\r\n    if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n      UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n      if (jwtService.isTokenValid(jwt, userDetails)) {\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n            userDetails,\r\n            null,\r\n            userDetails.getAuthorities()\r\n        );\r\n        authToken.setDetails(\r\n            new WebAuthenticationDetailsSource().buildDetails(request)\r\n        );\r\n        SecurityContextHolder.getContext().setAuthentication(authToken);\r\n      }\r\n    }\r\n    filterChain.doFilter(request, response);\r\n  }\r\n}\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n  private final CustomerRepository repository;\r\n\r\n  @Bean\r\n  public UserDetailsService userDetailsService() {\r\n    return username -&gt; repository.findByEmail(username)\r\n        .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationProvider authenticationProvider() {\r\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    authProvider.setUserDetailsService(userDetailsService());\r\n    authProvider.setPasswordEncoder(passwordEncoder());\r\n    return authProvider;\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n    return config.getAuthenticationManager();\r\n  }\r\n\r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n\r\n}\r\n```\r\n\r\nI want to register and then login. I want to access some controllers based on role.","title":"When I request a request, it returns 401 unauthorized for each request in the security section","body":"<p>I am making a project for Register and Login operations. I am using spring security and jwt. It always returns 401 unauthorized to any request I throw in Postman. I couldn't find the reason. Could you help? I am using spring boot new version. 3.0.0 version.</p>\n<pre><code>@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/auth/**&quot;).permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authenticationProvider(authenticationProvider)\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n  private final AuthenticationService service;\n\n  @PostMapping(&quot;/register&quot;)\n  public ResponseEntity&lt;AuthenticationResponse&gt; register(\n      @RequestBody RegisterRequest request\n  ) {\n    return ResponseEntity.ok(service.register(request));\n  }\n  @PostMapping(&quot;/authenticate&quot;)\n  public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\n      @RequestBody AuthenticationRequest request\n  ) {\n    return ResponseEntity.ok(service.authenticate(request));\n  }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n  private final JwtService jwtService;\n  private final UserDetailsService userDetailsService;\n\n  @Override\n  protected void doFilterInternal(\n      @NonNull HttpServletRequest request,\n      @NonNull HttpServletResponse response,\n      @NonNull FilterChain filterChain\n  ) throws ServletException, IOException {\n    final String authHeader = request.getHeader(&quot;Authorization&quot;);\n    final String jwt;\n    final String userEmail;\n    if (authHeader == null ||!authHeader.startsWith(&quot;Bearer &quot;)) {\n      filterChain.doFilter(request, response);\n      return;\n    }\n    jwt = authHeader.substring(7);\n    userEmail = jwtService.extractUsername(jwt);\n    if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n      UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n      if (jwtService.isTokenValid(jwt, userDetails)) {\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n            userDetails,\n            null,\n            userDetails.getAuthorities()\n        );\n        authToken.setDetails(\n            new WebAuthenticationDetailsSource().buildDetails(request)\n        );\n        SecurityContextHolder.getContext().setAuthentication(authToken);\n      }\n    }\n    filterChain.doFilter(request, response);\n  }\n}\n\n@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n  private final CustomerRepository repository;\n\n  @Bean\n  public UserDetailsService userDetailsService() {\n    return username -&gt; repository.findByEmail(username)\n        .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n  }\n\n  @Bean\n  public AuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService());\n    authProvider.setPasswordEncoder(passwordEncoder());\n    return authProvider;\n  }\n\n  @Bean\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n    return config.getAuthenticationManager();\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n\n}\n</code></pre>\n<p>I want to register and then login. I want to access some controllers based on role.</p>\n"},{"tags":["java","postgresql","spring-boot","sql-order-by"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672910703,"post_id":75016144,"comment_id":132380846,"body_markdown":"not sure if there is a JPA-compliant way to do this. We can, however, always write [native queries (`baeldung.com`)](https://www.baeldung.com/spring-data-jpa-query#2-native).","body":"not sure if there is a JPA-compliant way to do this. We can, however, always write <a href=\"https://www.baeldung.com/spring-data-jpa-query#2-native\" rel=\"nofollow noreferrer\">native queries (<code>baeldung.com</code>)</a>."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672913155,"post_id":75016144,"comment_id":132381607,"body_markdown":"order by `CASE WHEN role=&#39;viewer&#39; THEN 1 WHEN role=&#39;participant&#39; THEN 2 WHEN role=&#39;collaborator&#39; THEN 3  ELSE 4 END` asc","body":"order by <code>CASE WHEN role=&#39;viewer&#39; THEN 1 WHEN role=&#39;participant&#39; THEN 2 WHEN role=&#39;collaborator&#39; THEN 3  ELSE 4 END</code> asc"}],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672993214,"creation_date":1672917927,"answer_id":75017702,"question_id":75016144,"body_markdown":"You have to create this method in your service :\r\n\r\n```sql\r\npublic List&lt;ConcoursAdministratifRe&gt; getListByRole() {\r\nString queryRecherche = &quot;SELECT t FROM YourEntityName t ORDER BY (CASE role WHEN &#39;viewer&#39; THEN 1 WHEN &#39;participant&#39; THEN 2 WHEN &#39;lead&#39; THEN 3 WHEN &#39;collaborator&#39; THEN 4 ELSE 5 END) ASC&quot;;\r\nTypedQuery&lt;YourEntityName &gt; query = em.createQuery(queryRecherche, YourEntityName.class);\r\nList&lt;YourEntityName&gt; myList = query.getResultList();\r\nreturn myList;\r\n```","title":"I want to user orderBy by giving specific order of role","body":"<p>You have to create this method in your service :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>public List&lt;ConcoursAdministratifRe&gt; getListByRole() {\nString queryRecherche = &quot;SELECT t FROM YourEntityName t ORDER BY (CASE role WHEN 'viewer' THEN 1 WHEN 'participant' THEN 2 WHEN 'lead' THEN 3 WHEN 'collaborator' THEN 4 ELSE 5 END) ASC&quot;;\nTypedQuery&lt;YourEntityName &gt; query = em.createQuery(queryRecherche, YourEntityName.class);\nList&lt;YourEntityName&gt; myList = query.getResultList();\nreturn myList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672947579,"creation_date":1672947579,"answer_id":75023564,"question_id":75016144,"body_markdown":"If your roles are static (seldom if ever changes) then you can accomplish this by creating a `enum` ([Create Emun][1] and [Alter Type enum](https://www.postgresql.org/docs/current/sql-altertype.html) ) for them. (see [demo][2]) \r\n\r\n    create type role_enum as enum (&#39;collaborator&#39;, &#39;lead&#39;, &#39;participant&#39;, &#39;viewer&#39;);\r\n     \r\n    create table test ( id   integer  generated always as identity\r\n                                      primary key \r\n                      , name text\r\n                      , role role_enum\r\n                      ) ; \r\nI am not sure how to accomplish this in your obscurification manager (Spring Boot) so you will have to translate it or use raw sql. \r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/14/datatype-enum.html#id-1.5.7.15.5\r\n  [2]: https://dbfiddle.uk/h_fwuNrz","title":"I want to user orderBy by giving specific order of role","body":"<p>If your roles are static (seldom if ever changes) then you can accomplish this by creating a <code>enum</code> (<a href=\"https://www.postgresql.org/docs/14/datatype-enum.html#id-1.5.7.15.5\" rel=\"nofollow noreferrer\">Create Emun</a> and <a href=\"https://www.postgresql.org/docs/current/sql-altertype.html\" rel=\"nofollow noreferrer\">Alter Type enum</a> ) for them. (see <a href=\"https://dbfiddle.uk/h_fwuNrz\" rel=\"nofollow noreferrer\">demo</a>)</p>\n<pre><code>create type role_enum as enum ('collaborator', 'lead', 'participant', 'viewer');\n \ncreate table test ( id   integer  generated always as identity\n                                  primary key \n                  , name text\n                  , role role_enum\n                  ) ; \n</code></pre>\n<p>I am not sure how to accomplish this in your obscurification manager (Spring Boot) so you will have to translate it or use raw sql.</p>\n"},{"tags":[],"owner":{"account_id":23377374,"reputation":21,"user_id":17446164,"display_name":"Fazeel Usmani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673004143,"creation_date":1673004143,"answer_id":75030297,"question_id":75016144,"body_markdown":"I&#39;ve achieved this by specifying the order\r\n\r\n    .orderBy(field(&quot;role&quot;).sortAsc(&quot;lead&quot;, &quot;collaborator&quot;, &quot;participant&quot;, &quot;viewer&quot;))","title":"I want to user orderBy by giving specific order of role","body":"<p>I've achieved this by specifying the order</p>\n<pre><code>.orderBy(field(&quot;role&quot;).sortAsc(&quot;lead&quot;, &quot;collaborator&quot;, &quot;participant&quot;, &quot;viewer&quot;))\n</code></pre>\n"}],"owner":{"account_id":23377374,"reputation":21,"user_id":17446164,"display_name":"Fazeel Usmani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75030297,"answer_count":3,"score":2,"last_activity_date":1673004143,"creation_date":1672910157,"question_id":75016144,"body_markdown":"I&#39;ve roles like lead &gt; collaborator &gt; participant &gt; viewer. If I use\r\norderBy(role) then getting order as collaborator &gt; lead &gt; participant &gt; viewer\r\nIf I do DESC order then getting reverse.\r\n\r\n\r\nI tried specifying order in SQL and it&#39;s working as expected getting lead &gt; collaborator &gt; participant &gt; viewer\r\n\r\n`ORDER BY ROLE = &#39;viewer&#39;,\r\n\tROLE = &#39;participant&#39;,\r\n\tROLE = &#39;collaborator&#39;,\r\n\tROLE = &#39;lead&#39;;`\r\n\r\nThe same I want to achieve in Java Spring Boot. How can I?","title":"I want to user orderBy by giving specific order of role","body":"<p>I've roles like lead &gt; collaborator &gt; participant &gt; viewer. If I use\norderBy(role) then getting order as collaborator &gt; lead &gt; participant &gt; viewer\nIf I do DESC order then getting reverse.</p>\n<p>I tried specifying order in SQL and it's working as expected getting lead &gt; collaborator &gt; participant &gt; viewer</p>\n<p><code>ORDER BY ROLE = 'viewer', ROLE = 'participant', ROLE = 'collaborator', ROLE = 'lead';</code></p>\n<p>The same I want to achieve in Java Spring Boot. How can I?</p>\n"},{"tags":["java","spring","database","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673004219,"post_id":75030265,"comment_id":132405266,"body_markdown":"Add the complete stacktrace please","body":"Add the complete stacktrace please"}],"owner":{"account_id":27452431,"reputation":1,"user_id":20944450,"display_name":"Sam Pryce"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673004052,"creation_date":1673003920,"question_id":75030265,"body_markdown":"During the walkthrough I have added the specified model, controller and repo. I have added all the required dependencies through spring boot (I beleive) as well as creating the DB through the MySql shell.\r\n\r\nThe db is the same as the example as well as the basic root user until I can get this to work then will add another user.\r\n\r\nAny help would be appreciated as I have had this same issue every single time I have tried to set up a db.\r\n\r\n---\r\n\r\nMy model\r\n\r\n\r\n    package com.avorion.dndwiki.Model;\r\n    \r\n    import jakarta.persistence.Entity; import jakarta.persistence.GeneratedValue; import jakarta.persistence.GenerationType; import jakarta.persistence.Id;\r\n    \r\n    @Entity // This tells Hibernate to make a table out of this class public class User {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO) private Integer id;\r\n    \r\n    private String name;\r\n    \r\n    private String email;\r\n    \r\n    public Integer getId() { return id;\r\n        }\r\n    \r\n    public void setId(Integer id) { this.id = id;\r\n        }\r\n    \r\n    public String getName() { return name;\r\n        }\r\n    \r\n    public void setName(String name) { this.name = name;\r\n        }\r\n    \r\n    public String getEmail() { return email;\r\n        }\r\n    \r\n    public void setEmail(String email) { this.email = email;\r\n        } }\r\n\r\n\r\n\r\nMy Controller\r\n\r\n    package com.avorion.dndwiki.Controller;\r\n    \r\n    import com.avorion.dndwiki.Model.User; import com.avorion.dndwiki.Repository.UserRepository; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller // This means that this class is a Controller @RequestMapping(path=&quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path) public class MainController {\r\n        @Autowired // This means to get the bean called userRepository Which is auto-generated by Spring, we will use it to handle the data private UserRepository userRepository;\r\n    \r\n        @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests public @ResponseBody String addNewUser (@RequestParam String name\r\n                , @RequestParam String email) {\r\n            // @ResponseBody means the returned String is the response, not a view name\r\n            // @RequestParam means it is a parameter from the GET or POST request\r\n    \r\n    User n = new User(); n.setName(name); n.setEmail(email); userRepository.save(n); return &quot;Saved&quot;;\r\n        }\r\n    \r\n        @GetMapping(path=&quot;/all&quot;) public @ResponseBody Iterable&lt;User&gt; getAllUsers() { This returns a JSON or XML with the users return userRepository.findAll();\r\n        } }\r\n\r\nMy Repo\r\n\r\n    package com.avorion.dndwiki.Repository;\r\n    \r\n    import com.avorion.dndwiki.Model.User; import org.springframework.data.repository.CrudRepository;\r\n    \r\n    \r\n    \r\n    //This will be AUTO IMPLEMENTED by Spring into a Bean called userRepository CRUD refers Create, Read, Update, Delete\r\n    \r\n    public interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n\r\nMy application properties\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/db_example\r\n    spring.datasource.username=root@localhost\r\n    spring.datasource.password=thisIsntMyActualPassword\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    #spring.jpa.show-sql: true\r\n\r\n\r\nMy Pom(Theres a lot here,im just practicing)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.Avorion&lt;/groupId&gt;\r\n        &lt;artifactId&gt;DnDWiki&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;DnDWiki&lt;/name&gt;\r\n        &lt;description&gt;DnDWiki&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt; \r\n\r\n\r\n\r\nI have tried to set up a number of db with diffrent users and naming conventions. I have reset MySql as well as asking other software engineers. \r\n","title":"Im following the Spring MySql data access walkthrough and I keep getting &quot;Unable to determine Dialect without JDBC metadata.&quot;","body":"<p>During the walkthrough I have added the specified model, controller and repo. I have added all the required dependencies through spring boot (I beleive) as well as creating the DB through the MySql shell.</p>\n<p>The db is the same as the example as well as the basic root user until I can get this to work then will add another user.</p>\n<p>Any help would be appreciated as I have had this same issue every single time I have tried to set up a db.</p>\n<hr />\n<p>My model</p>\n<pre><code>package com.avorion.dndwiki.Model;\n\nimport jakarta.persistence.Entity; import jakarta.persistence.GeneratedValue; import jakarta.persistence.GenerationType; import jakarta.persistence.Id;\n\n@Entity // This tells Hibernate to make a table out of this class public class User {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO) private Integer id;\n\nprivate String name;\n\nprivate String email;\n\npublic Integer getId() { return id;\n    }\n\npublic void setId(Integer id) { this.id = id;\n    }\n\npublic String getName() { return name;\n    }\n\npublic void setName(String name) { this.name = name;\n    }\n\npublic String getEmail() { return email;\n    }\n\npublic void setEmail(String email) { this.email = email;\n    } }\n</code></pre>\n<p>My Controller</p>\n<pre><code>package com.avorion.dndwiki.Controller;\n\nimport com.avorion.dndwiki.Model.User; import com.avorion.dndwiki.Repository.UserRepository; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller // This means that this class is a Controller @RequestMapping(path=&quot;/demo&quot;) // This means URL's start with /demo (after Application path) public class MainController {\n    @Autowired // This means to get the bean called userRepository Which is auto-generated by Spring, we will use it to handle the data private UserRepository userRepository;\n\n    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests public @ResponseBody String addNewUser (@RequestParam String name\n            , @RequestParam String email) {\n        // @ResponseBody means the returned String is the response, not a view name\n        // @RequestParam means it is a parameter from the GET or POST request\n\nUser n = new User(); n.setName(name); n.setEmail(email); userRepository.save(n); return &quot;Saved&quot;;\n    }\n\n    @GetMapping(path=&quot;/all&quot;) public @ResponseBody Iterable&lt;User&gt; getAllUsers() { This returns a JSON or XML with the users return userRepository.findAll();\n    } }\n</code></pre>\n<p>My Repo</p>\n<pre><code>package com.avorion.dndwiki.Repository;\n\nimport com.avorion.dndwiki.Model.User; import org.springframework.data.repository.CrudRepository;\n\n\n\n//This will be AUTO IMPLEMENTED by Spring into a Bean called userRepository CRUD refers Create, Read, Update, Delete\n\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>My application properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/db_example\nspring.datasource.username=root@localhost\nspring.datasource.password=thisIsntMyActualPassword\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.show-sql: true\n</code></pre>\n<p>My Pom(Theres a lot here,im just practicing)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Avorion&lt;/groupId&gt;\n    &lt;artifactId&gt;DnDWiki&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DnDWiki&lt;/name&gt;\n    &lt;description&gt;DnDWiki&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt; \n</code></pre>\n<p>I have tried to set up a number of db with diffrent users and naming conventions. I have reset MySql as well as asking other software engineers.</p>\n"},{"tags":["java","ssl","spring-webflux"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":1,"creation_date":1612585291,"post_id":66071950,"comment_id":116819279,"body_markdown":"I would suggest using different WebClient for different downstream which need different certificates.","body":"I would suggest using different WebClient for different downstream which need different certificates."}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673003654,"creation_date":1612620853,"answer_id":66077827,"question_id":66071950,"body_markdown":"# Option 1\r\nThe most straightforward solution would be using a specific client for each downstream api. And having each client configured with their specific client key and trust material.\r\n\r\n# Option 2\r\nBut your question is: **how to use SslContext with multiple client certificates please?**\r\n\r\nSo I want to give you some code examples to have a working setup. But the  short answer is: **yes it is possible!**\r\n\r\nThe long answer is that you need some additional configuration to make it working. Basically what you need to do is create a `keymanagerfactory` from your keystore-1 and get the `keymanager` from the `keymanagerfactory` and repeat that for the other two keystores. Afterwords you will have 3 `keymanagers`. The next step is to have a special kind of keymanager which can be supplied to the Netty `SslContext`. This special kind of keymanager has the ability to iterate through the 3 keymanagers which you have created earlier and it will select the correct key material to communicate with the server. What you need is a `CompositeKeyManager` and `CompositeTrustManager` which is mentioned at the following stackoverflow answer here: [Registering multiple keystores in JVM][1]\r\n\r\nThe actual code snippet will be the below. I disregarded the loading file with inputstream and creating the keystore file and creating the keymanagerfactory as you already know how to do that. \r\n```\r\nKeyManager keyManagerOne = keyManagerFactoryOne.getKeyManagers()[0]\r\nKeyManager keyManagerTwo = keyManagerFactoryTwo.getKeyManagers()[0]\r\nKeyManager keyManagerThree = keyManagerFactoryThree.getKeyManagers()[0]\r\n\r\nList&lt;KeyManager&gt; keyManagers = new ArrayList&lt;&gt;();\r\nkeyManagers.add(keyManagerOne);\r\nkeyManagers.add(keyManagerTwo);\r\nkeyManagers.add(keyManagerThree);\r\n\r\nCompositeX509KeyManager baseKeyManager = new CompositeX509KeyManager(keyManagers);\r\n\r\n//repeat the same for the trust material\r\nTrustManager trustManagerOne = trustManagerFactoryOne.getTrustManagers()[0]\r\nTrustManager trustManagerTwo = trustManagerFactoryTwo.getTrustManagers()[0]\r\nTrustManager trustManagerThree = trustManagerFactoryThree.getTrustManagers()[0]\r\n\r\nList&lt;TrustManager&gt; trustManagers = new ArrayList&lt;&gt;();\r\ntrustManagers.add(trustManagerOne);\r\ntrustManagers.add(trustManagerTwo);\r\ntrustManagers.add(trustManagerThree);\r\n\r\nCompositeX509TrustManager baseTrustManager = new CompositeX509TrustManager(trustManagers);\r\n\r\nSslContext sslContext = SslContextBuilder.forClient()\r\n    .keyManager(baseKeyManager)\r\n    .trustManager(baseTrustManager)\r\n    .build();\r\n```\r\n\r\nAnd the above code should give you the capability of using multiple key and trust for a single client. This client will be able to communicate with the different downstream api&#39;s with the different key and trust material.\r\n\r\nThe downside of this setup is that you require to copy and paste the `CompositeKeyManager` and `CompositeTrustManager` into your code base and that the setup is a bit verbose. Java does not provide something out of the box for this use-case.\r\n\r\n# Option 3\r\nIf you want a a bit simpeler setup I would suggest you the code snippet below:\r\n```\r\nimport io.netty.handler.ssl.SslContext;\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.NettySslUtils;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyStorePathOne, password)\r\n                .withIdentityMaterial(keyStorePathTwo, password)\r\n                .withIdentityMaterial(keyStorePathThree, password)\r\n                .withTrustMaterial(trustStorePathOne, password)\r\n                .withTrustMaterial(trustStorePathTwo, password)\r\n                .withTrustMaterial(trustStorePathThree, password)\r\n                .build();\r\n\r\n        SslContext sslContext = NettySslUtils.forClient(sslFactory).build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI need to provide some disclaimer, **I am the maintainer of the library of the code snippet above**. The library is available here: [GitHub - SSLContext Kickstart][2] and it uses the same `CompositeKeyManager` and `CompositeTrustManager` under the covers which I mentioned earlier for option 2.\r\n\r\nAnd you can add it to your pom with the following snippet:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-netty&lt;/artifactId&gt;\r\n    &lt;version&gt;7.4.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16229909/6777695\r\n  [2]: https://github.com/Hakky54/sslcontext-kickstart","title":"Webflux + Webclient + Netty, how to use SslContext with multiple client certificates please?","body":"<h1>Option 1</h1>\n<p>The most straightforward solution would be using a specific client for each downstream api. And having each client configured with their specific client key and trust material.</p>\n<h1>Option 2</h1>\n<p>But your question is: <strong>how to use SslContext with multiple client certificates please?</strong></p>\n<p>So I want to give you some code examples to have a working setup. But the  short answer is: <strong>yes it is possible!</strong></p>\n<p>The long answer is that you need some additional configuration to make it working. Basically what you need to do is create a <code>keymanagerfactory</code> from your keystore-1 and get the <code>keymanager</code> from the <code>keymanagerfactory</code> and repeat that for the other two keystores. Afterwords you will have 3 <code>keymanagers</code>. The next step is to have a special kind of keymanager which can be supplied to the Netty <code>SslContext</code>. This special kind of keymanager has the ability to iterate through the 3 keymanagers which you have created earlier and it will select the correct key material to communicate with the server. What you need is a <code>CompositeKeyManager</code> and <code>CompositeTrustManager</code> which is mentioned at the following stackoverflow answer here: <a href=\"https://stackoverflow.com/a/16229909/6777695\">Registering multiple keystores in JVM</a></p>\n<p>The actual code snippet will be the below. I disregarded the loading file with inputstream and creating the keystore file and creating the keymanagerfactory as you already know how to do that.</p>\n<pre><code>KeyManager keyManagerOne = keyManagerFactoryOne.getKeyManagers()[0]\nKeyManager keyManagerTwo = keyManagerFactoryTwo.getKeyManagers()[0]\nKeyManager keyManagerThree = keyManagerFactoryThree.getKeyManagers()[0]\n\nList&lt;KeyManager&gt; keyManagers = new ArrayList&lt;&gt;();\nkeyManagers.add(keyManagerOne);\nkeyManagers.add(keyManagerTwo);\nkeyManagers.add(keyManagerThree);\n\nCompositeX509KeyManager baseKeyManager = new CompositeX509KeyManager(keyManagers);\n\n//repeat the same for the trust material\nTrustManager trustManagerOne = trustManagerFactoryOne.getTrustManagers()[0]\nTrustManager trustManagerTwo = trustManagerFactoryTwo.getTrustManagers()[0]\nTrustManager trustManagerThree = trustManagerFactoryThree.getTrustManagers()[0]\n\nList&lt;TrustManager&gt; trustManagers = new ArrayList&lt;&gt;();\ntrustManagers.add(trustManagerOne);\ntrustManagers.add(trustManagerTwo);\ntrustManagers.add(trustManagerThree);\n\nCompositeX509TrustManager baseTrustManager = new CompositeX509TrustManager(trustManagers);\n\nSslContext sslContext = SslContextBuilder.forClient()\n    .keyManager(baseKeyManager)\n    .trustManager(baseTrustManager)\n    .build();\n</code></pre>\n<p>And the above code should give you the capability of using multiple key and trust for a single client. This client will be able to communicate with the different downstream api's with the different key and trust material.</p>\n<p>The downside of this setup is that you require to copy and paste the <code>CompositeKeyManager</code> and <code>CompositeTrustManager</code> into your code base and that the setup is a bit verbose. Java does not provide something out of the box for this use-case.</p>\n<h1>Option 3</h1>\n<p>If you want a a bit simpeler setup I would suggest you the code snippet below:</p>\n<pre><code>import io.netty.handler.ssl.SslContext;\nimport nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.NettySslUtils;\n\npublic class App {\n\n    public static void main(String[] args) {\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyStorePathOne, password)\n                .withIdentityMaterial(keyStorePathTwo, password)\n                .withIdentityMaterial(keyStorePathThree, password)\n                .withTrustMaterial(trustStorePathOne, password)\n                .withTrustMaterial(trustStorePathTwo, password)\n                .withTrustMaterial(trustStorePathThree, password)\n                .build();\n\n        SslContext sslContext = NettySslUtils.forClient(sslFactory).build();\n    }\n\n}\n</code></pre>\n<p>I need to provide some disclaimer, <strong>I am the maintainer of the library of the code snippet above</strong>. The library is available here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a> and it uses the same <code>CompositeKeyManager</code> and <code>CompositeTrustManager</code> under the covers which I mentioned earlier for option 2.</p>\n<p>And you can add it to your pom with the following snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-netty&lt;/artifactId&gt;\n    &lt;version&gt;7.4.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66077827,"answer_count":1,"score":2,"last_activity_date":1673003654,"creation_date":1612567603,"question_id":66071950,"body_markdown":"Small question regarding Netty, Spring Webflux, and how to send http requests to multiples downstream systems, when each of the downstream require mTLS and a **different client certificate** is required to send requests to each please?\r\n\r\nWhat I have so far in my Java 11 Spring Webflux 2.4.2 app for sending request is:\r\n```\r\n@Bean\r\n    @Primary\r\n    public WebClient getWebClient() {\r\n        return WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext())))).build();\r\n    }\r\n```\r\n\r\nAnd for the Netty SslContext (it is not an apache SSLContext btw)\r\n```\r\n public SslContext getSslContext() {\r\n        try {\r\n            final KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            try (InputStream file = new FileInputStream(keyStorePath)) {\r\n                final KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n                keyStore.load(file, keyStorePassPhrase.toCharArray());\r\n                keyManagerFactory.init(keyStore, keyPassPhrase.toCharArray());\r\n            }\r\n\r\n            final TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            try (InputStream trustStoreFile = new FileInputStream(trustStorePath)) {\r\n                final KeyStore trustStore = KeyStore.getInstance(trustStoreType);\r\n                trustStore.load(trustStoreFile, trustStorePassPhrase.toCharArray());\r\n                trustManagerFactory.init(trustStore);\r\n            }\r\n\r\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(trustManagerFactory).build();\r\n        } catch (CertificateException | NoSuchAlgorithmException | IOException | KeyStoreException | UnrecoverableKeyException e) {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThis is even working perfectly fine when we only need to send request to only one downstream.\r\n\r\nThis is even working if there are multiple downstream, and they accept the same client certificate!\r\n\r\n\r\nBut problem arise when each downstream requires me to use their respective client certificate.\r\n\r\nMay I ask how to achieve this please?\r\n\r\nThank you","title":"Webflux + Webclient + Netty, how to use SslContext with multiple client certificates please?","body":"<p>Small question regarding Netty, Spring Webflux, and how to send http requests to multiples downstream systems, when each of the downstream require mTLS and a <strong>different client certificate</strong> is required to send requests to each please?</p>\n<p>What I have so far in my Java 11 Spring Webflux 2.4.2 app for sending request is:</p>\n<pre><code>@Bean\n    @Primary\n    public WebClient getWebClient() {\n        return WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext())))).build();\n    }\n</code></pre>\n<p>And for the Netty SslContext (it is not an apache SSLContext btw)</p>\n<pre><code> public SslContext getSslContext() {\n        try {\n            final KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            try (InputStream file = new FileInputStream(keyStorePath)) {\n                final KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n                keyStore.load(file, keyStorePassPhrase.toCharArray());\n                keyManagerFactory.init(keyStore, keyPassPhrase.toCharArray());\n            }\n\n            final TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            try (InputStream trustStoreFile = new FileInputStream(trustStorePath)) {\n                final KeyStore trustStore = KeyStore.getInstance(trustStoreType);\n                trustStore.load(trustStoreFile, trustStorePassPhrase.toCharArray());\n                trustManagerFactory.init(trustStore);\n            }\n\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(trustManagerFactory).build();\n        } catch (CertificateException | NoSuchAlgorithmException | IOException | KeyStoreException | UnrecoverableKeyException e) {\n            return null;\n        }\n    }\n</code></pre>\n<p>This is even working perfectly fine when we only need to send request to only one downstream.</p>\n<p>This is even working if there are multiple downstream, and they accept the same client certificate!</p>\n<p>But problem arise when each downstream requires me to use their respective client certificate.</p>\n<p>May I ask how to achieve this please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","elasticsearch","java-8","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1672040005,"post_id":74918123,"comment_id":132210564,"body_markdown":"what is version of elasticsearch and elasticsearch java client ?","body":"what is version of elasticsearch and elasticsearch java client ?"},{"owner":{"account_id":24269568,"reputation":21,"user_id":18217883,"display_name":"Ali"},"score":0,"creation_date":1672040731,"post_id":74918123,"comment_id":132210698,"body_markdown":"elasticsearch 7.17.3  @SagarPatel","body":"elasticsearch 7.17.3  @SagarPatel"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1672041928,"post_id":74918123,"comment_id":132210892,"body_markdown":"You can use rest client as rest high level client is deprecated.","body":"You can use rest client as rest high level client is deprecated."},{"owner":{"account_id":24269568,"reputation":21,"user_id":18217883,"display_name":"Ali"},"score":0,"creation_date":1672057521,"post_id":74918123,"comment_id":132213822,"body_markdown":"i have seen the documentation it says rest client is deprecated in favour of java api client can you guide me further- @SagarPatel","body":"i have seen the documentation it says rest client is deprecated in favour of java api client can you guide me further- @SagarPatel"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1672057771,"post_id":74918123,"comment_id":132213862,"body_markdown":"Yes, its means Java high level client is deprecated and you can use Java API Client for which i have posted answer below.","body":"Yes, its means Java high level client is deprecated and you can use Java API Client for which i have posted answer below."}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672720279,"creation_date":1672042812,"answer_id":74918452,"question_id":74918123,"body_markdown":"You can Java Rest client with ES 7.17.3 version using below dependancy\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n     &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n     &lt;version&gt;7.17.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n     &lt;version&gt;2.12.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBelow is Java code:\r\n\r\n```java\r\nQuery bodyTermQuery = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(&quot;hey&quot;))._toQuery();\r\nQuery titleTermQuery = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(&quot;hey&quot;))._toQuery();\r\n\r\nQuery matchQuery = MatchQuery.of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(&quot;hey&quot;))._toQuery();\r\n\r\nQuery nestedQuery = NestedQuery.of(nq -&gt; nq.path(&quot;comment&quot;).query(matchQuery)\r\n\t\t\t\t.innerHits(ih -&gt; ih.highlight(h -&gt; h.requireFieldMatch(true)).fields(&quot;comment.c_text&quot;)))._toQuery();\r\n\r\nSearchResponse&lt;Object&gt; response = client.search(\r\n\t\t\t\ts -&gt; s.index(&quot;feeds&quot;).query(q -&gt; q.bool(b -&gt; b.should(nestedQuery, titleTermQuery, bodyTermQuery))),\r\n\t\t\t\tObject.class);\r\n```","title":"Convert elasticsearch bool query into Java","body":"<p>You can Java Rest client with ES 7.17.3 version using below dependancy</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n     &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n     &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n     &lt;version&gt;7.17.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n     &lt;version&gt;2.12.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Below is Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query bodyTermQuery = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(&quot;hey&quot;))._toQuery();\nQuery titleTermQuery = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(&quot;hey&quot;))._toQuery();\n\nQuery matchQuery = MatchQuery.of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(&quot;hey&quot;))._toQuery();\n\nQuery nestedQuery = NestedQuery.of(nq -&gt; nq.path(&quot;comment&quot;).query(matchQuery)\n                .innerHits(ih -&gt; ih.highlight(h -&gt; h.requireFieldMatch(true)).fields(&quot;comment.c_text&quot;)))._toQuery();\n\nSearchResponse&lt;Object&gt; response = client.search(\n                s -&gt; s.index(&quot;feeds&quot;).query(q -&gt; q.bool(b -&gt; b.should(nestedQuery, titleTermQuery, bodyTermQuery))),\n                Object.class);\n</code></pre>\n"}],"owner":{"account_id":24269568,"reputation":21,"user_id":18217883,"display_name":"Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74918452,"answer_count":1,"score":0,"last_activity_date":1673003604,"creation_date":1672039859,"question_id":74918123,"body_markdown":"````\r\nGET feeds/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;should&quot;: [\r\n        {\r\n          &quot;nested&quot;: {\r\n            &quot;path&quot;: &quot;comment&quot;,\r\n            &quot;query&quot;: { \r\n              &quot;match&quot;: {\r\n                &quot;comment.c_text&quot;: &quot;This is mateen&quot;\r\n              }\r\n            },&quot;inner_hits&quot;: {}\r\n          }\r\n        },\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;title&quot;: {\r\n              &quot;value&quot;: &quot;This is mateen&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;body&quot;: {\r\n              &quot;value&quot;: &quot;This is mateen&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```` \r\nThis is my mappings\r\n```\r\nPUT feeds \r\n{\r\n  &quot;mappings&quot;:{\r\n    &quot;properties&quot;:{\r\n      &quot;comment&quot;:{\r\n        &quot;type&quot;:nested\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI am new to Elasticsearch, I get my desired result in kibana now I want to use this query in my Java application as I want to use this bool search query into my spring-boot application.\r\n\r\nCan anyone tell me how to convert this query into Java?","title":"Convert elasticsearch bool query into Java","body":"<pre><code>GET feeds/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;comment&quot;,\n            &quot;query&quot;: { \n              &quot;match&quot;: {\n                &quot;comment.c_text&quot;: &quot;This is mateen&quot;\n              }\n            },&quot;inner_hits&quot;: {}\n          }\n        },\n        {\n          &quot;term&quot;: {\n            &quot;title&quot;: {\n              &quot;value&quot;: &quot;This is mateen&quot;\n            }\n          }\n        },\n        {\n          &quot;term&quot;: {\n            &quot;body&quot;: {\n              &quot;value&quot;: &quot;This is mateen&quot;\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>This is my mappings</p>\n<pre><code>PUT feeds \n{\n  &quot;mappings&quot;:{\n    &quot;properties&quot;:{\n      &quot;comment&quot;:{\n        &quot;type&quot;:nested\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am new to Elasticsearch, I get my desired result in kibana now I want to use this query in my Java application as I want to use this bool search query into my spring-boot application.</p>\n<p>Can anyone tell me how to convert this query into Java?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"score":2,"creation_date":1276711897,"post_id":3055875,"comment_id":3128553,"body_markdown":"&quot;always on top and with always I really mean always.&quot; Even if there are two of them?","body":"&quot;always on top and with always I really mean always.&quot; Even if there are two of them?"},{"owner":{"display_name":"user238801"},"score":0,"creation_date":1276712132,"post_id":3055875,"comment_id":3128601,"body_markdown":"Well there will be just one instance of this application running. With always I just wanted to say that fullscreen applications like games shouldn&#39;t hide this window + the fullscreen window is supposed to be still visible (in the background)","body":"Well there will be just one instance of this application running. With always I just wanted to say that fullscreen applications like games shouldn&#39;t hide this window + the fullscreen window is supposed to be still visible (in the background)"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1276713054,"post_id":3055875,"comment_id":3128729,"body_markdown":"In a multi-windowed system only one window can be on top at any given time (Highlander: In the end there can be only one).  So a request to be always on top is at best just that, a *request* which can&#39;t be guaranteed.  A full screen application has taken always on top to the next level - &quot;I want to be always on top and to have full and exclusive control of the display&quot; - it&#39;s always on top trumps your always on top.","body":"In a multi-windowed system only one window can be on top at any given time (Highlander: In the end there can be only one).  So a request to be always on top is at best just that, a <i>request</i> which can&#39;t be guaranteed.  A full screen application has taken always on top to the next level - &quot;I want to be always on top and to have full and exclusive control of the display&quot; - it&#39;s always on top trumps your always on top."}],"answers":[{"tags":[],"owner":{"account_id":127032,"reputation":42749,"user_id":323924,"accept_rate":77,"display_name":"Cheng Chen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276711334,"creation_date":1276711334,"answer_id":3055914,"question_id":3055875,"body_markdown":"Start another process to check if the window is on top,if not, set it on top.","title":"ALWAYS on top window","body":"<p>Start another process to check if the window is on top,if not, set it on top.</p>\n"},{"tags":[],"owner":{"account_id":4693,"reputation":3642,"user_id":7178,"accept_rate":93,"display_name":"Jim Kiley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673003433,"creation_date":1276711349,"answer_id":3055916,"question_id":3055875,"body_markdown":"This sounds like the kind of question that Raymond Chen always has to answer over at [Link](https://devblogs.microsoft.com/oldnewthing/).  How can you really really forever and for true keep a window in the foreground?  You can&#39;t.  Because what happens if somebody ELSE&#39;s window uses the same trick to keep itself always always and forever in the foreground?  Which one wins?","title":"ALWAYS on top window","body":"<p>This sounds like the kind of question that Raymond Chen always has to answer over at <a href=\"https://devblogs.microsoft.com/oldnewthing/\" rel=\"nofollow noreferrer\">Link</a>.  How can you really really forever and for true keep a window in the foreground?  You can't.  Because what happens if somebody ELSE's window uses the same trick to keep itself always always and forever in the foreground?  Which one wins?</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276711392,"creation_date":1276711392,"answer_id":3055921,"question_id":3055875,"body_markdown":"If you mean fullscreen as in DirectX/OpenGL/whatever, I&#39;m not sure you can (or should) really pull it off. Most operating systems disable their native windowing during full screen to improve rendering performance. Swing works via the native windowing toolkit.\r\n\r\nYou could write something that uses a timer and in short intervals (e.g., 200ms) instructs your window to go to the top. Depending on your operating system this would be exactly what you need, or a horrible cause of performance trouble or flickering.\r\n\r\n","title":"ALWAYS on top window","body":"<p>If you mean fullscreen as in DirectX/OpenGL/whatever, I'm not sure you can (or should) really pull it off. Most operating systems disable their native windowing during full screen to improve rendering performance. Swing works via the native windowing toolkit.</p>\n\n<p>You could write something that uses a timer and in short intervals (e.g., 200ms) instructs your window to go to the top. Depending on your operating system this would be exactly what you need, or a horrible cause of performance trouble or flickering.</p>\n"},{"tags":[],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1276711398,"creation_date":1276711398,"answer_id":3055923,"question_id":3055875,"body_markdown":"**This can&#39;t be done.**\r\n\r\nFor example, the Windows Task Manager, even when set to Always on Top will get covered up by full-screen applications.\r\n\r\nThis is due to the fact that full-screen applications typically use a different graphics context and can&#39;t be overlayed.","title":"ALWAYS on top window","body":"<p><strong>This can't be done.</strong></p>\n\n<p>For example, the Windows Task Manager, even when set to Always on Top will get covered up by full-screen applications.</p>\n\n<p>This is due to the fact that full-screen applications typically use a different graphics context and can't be overlayed.</p>\n"},{"tags":[],"owner":{"account_id":117121,"reputation":6064,"user_id":306849,"accept_rate":84,"display_name":"Tasawer Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276711419,"creation_date":1276711419,"answer_id":3055925,"question_id":3055875,"body_markdown":"This is a sample code that should be helpful\r\n\r\n    public class AllWaysOnTop extends JFrame implements WindowListener {\r\n    \r\n        AllWaysOnTop() {\r\n            // Code to setup your frame\r\n            addWindowListener(this);\r\n            // Code to show your frame\r\n        }\r\n    \r\n        // The window event handlers. We use WindowDeactivated to\r\n        // try and keep the splash screen on top. Usually only keeps\r\n        // the splash screen on top of our own java windows.\r\n        public void windowOpened(WindowEvent event){};\r\n        public void windowActivated(WindowEvent event){};\r\n        public void windowDeactivated(WindowEvent event){\r\n            toFront();\r\n        }\r\n        public void windowIconified(WindowEvent event){};\r\n        public void windowDeiconified(WindowEvent event){};\r\n        public void windowClosed(WindowEvent event){};\r\n        public void windowClosing(WindowEvent event) {};\r\n    }\r\n\r\nReference\r\n[This forum post][1]\r\n\r\n\r\n  [1]: http://www.daniweb.com/forums/thread7840.html","title":"ALWAYS on top window","body":"<p>This is a sample code that should be helpful</p>\n\n<pre><code>public class AllWaysOnTop extends JFrame implements WindowListener {\n\n    AllWaysOnTop() {\n        // Code to setup your frame\n        addWindowListener(this);\n        // Code to show your frame\n    }\n\n    // The window event handlers. We use WindowDeactivated to\n    // try and keep the splash screen on top. Usually only keeps\n    // the splash screen on top of our own java windows.\n    public void windowOpened(WindowEvent event){};\n    public void windowActivated(WindowEvent event){};\n    public void windowDeactivated(WindowEvent event){\n        toFront();\n    }\n    public void windowIconified(WindowEvent event){};\n    public void windowDeiconified(WindowEvent event){};\n    public void windowClosed(WindowEvent event){};\n    public void windowClosing(WindowEvent event) {};\n}\n</code></pre>\n\n<p>Reference\n<a href=\"http://www.daniweb.com/forums/thread7840.html\" rel=\"nofollow noreferrer\">This forum post</a></p>\n"},{"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276711536,"creation_date":1276711536,"answer_id":3055935,"question_id":3055875,"body_markdown":"I&#39;m not sure but i would bet that the Fullscreen window also has Always On Top set  to true, and in that case you have stumbled into the realm of undefined behavior.  In general when two windows are set to always on top there is no guarantee about ordering.  I think in general though the order is just dependent on the order in which they were set to always on top.  So in that case i would just wait until the app has gone fullscreen to set it to always on top and see if that works.\r\n\r\nIn other cases ive seen people start threads and then occasionally reset the fram to always on top. \r\n\r\nAll these solutions are ugly, so just use the one that lets you sleep at night.","title":"ALWAYS on top window","body":"<p>I'm not sure but i would bet that the Fullscreen window also has Always On Top set  to true, and in that case you have stumbled into the realm of undefined behavior.  In general when two windows are set to always on top there is no guarantee about ordering.  I think in general though the order is just dependent on the order in which they were set to always on top.  So in that case i would just wait until the app has gone fullscreen to set it to always on top and see if that works.</p>\n\n<p>In other cases ive seen people start threads and then occasionally reset the fram to always on top. </p>\n\n<p>All these solutions are ugly, so just use the one that lets you sleep at night.</p>\n"},{"tags":[],"owner":{"account_id":3374267,"reputation":81,"user_id":2832760,"display_name":"bear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380577016,"creation_date":1380577016,"answer_id":19104301,"question_id":3055875,"body_markdown":"I know this post is old, but I encountered this problem and I found a satisfying solution. \r\nMy program has some notifications that I wish to be always on top, but when a movie entered full-screen, they disappeared. Fortunate, my program updates these notifications every 5 seconds, and if I call setVisible(true) on these JWindows, at each update, they regain the top position, if they have lost it.","title":"ALWAYS on top window","body":"<p>I know this post is old, but I encountered this problem and I found a satisfying solution. \nMy program has some notifications that I wish to be always on top, but when a movie entered full-screen, they disappeared. Fortunate, my program updates these notifications every 5 seconds, and if I call setVisible(true) on these JWindows, at each update, they regain the top position, if they have lost it.</p>\n"},{"tags":[],"owner":{"account_id":4304786,"reputation":233,"user_id":3517480,"accept_rate":67,"display_name":"JonnyDoeInWisco"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399753828,"creation_date":1399753828,"answer_id":23585993,"question_id":3055875,"body_markdown":"I was looking to do the same thing as OP, have my app running in the foreground while my game ran. It doesn&#39;t work in fullscreen but if you put the game into windowed mode and adjust the window settings to fit your tv it works. I only needed the frame.setAlwaysOnTop to make it work.","title":"ALWAYS on top window","body":"<p>I was looking to do the same thing as OP, have my app running in the foreground while my game ran. It doesn't work in fullscreen but if you put the game into windowed mode and adjust the window settings to fit your tv it works. I only needed the frame.setAlwaysOnTop to make it work.</p>\n"}],"owner":{"display_name":"user238801"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10074,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3055923,"answer_count":8,"score":10,"last_activity_date":1673003433,"creation_date":1276710962,"question_id":3055875,"body_markdown":"I&#39;m searching for a solution in order to keep a JFrame always on top and with always I really mean always. \r\n\r\n    setAlwaysOnTop( true );\r\n\r\nThis won&#39;t work when I&#39;m starting a game in fullscreen mode. I know you normally don&#39;t want your windows to stay on top but in this case it&#39;s required.","title":"ALWAYS on top window","body":"<p>I'm searching for a solution in order to keep a JFrame always on top and with always I really mean always. </p>\n\n<pre><code>setAlwaysOnTop( true );\n</code></pre>\n\n<p>This won't work when I'm starting a game in fullscreen mode. I know you normally don't want your windows to stay on top but in this case it's required.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":6175645,"reputation":1443,"user_id":4812613,"display_name":"Scott Sosna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1460682221,"creation_date":1460682221,"answer_id":36636606,"question_id":36636218,"body_markdown":"Personally have not used TableGenerator in a clustered environment, believe it should work but because you&#39;re hitting a single table there&#39;s always the possibility of concurrency or transactional issues.\r\n\r\nIMO table-generated keys are only relevant when you can&#39;t use sequence numbers - which most platforms support - and have plenty of advantages:\r\n\r\n - guaranteed uniqueness\r\n - operates outside any transaction, so no locking issues, no reuse of numbers caused by a rollback, whatever\r\n - supports cache values, so each thread or cluster element can get a range to work with that are guaranteed to be unique, if you cache groups of 25, thread 1 gets 1-25, thread 2 gets 26-50, etc., etc.\r\n - supported by hibernate\r\n\r\nIf sequences aren&#39;t an option, this might work but I not convinced there aren&#39;t holes to work around.","title":"JPA TableGenerator behaviour in clustered environment","body":"<p>Personally have not used TableGenerator in a clustered environment, believe it should work but because you're hitting a single table there's always the possibility of concurrency or transactional issues.</p>\n\n<p>IMO table-generated keys are only relevant when you can't use sequence numbers - which most platforms support - and have plenty of advantages:</p>\n\n<ul>\n<li>guaranteed uniqueness</li>\n<li>operates outside any transaction, so no locking issues, no reuse of numbers caused by a rollback, whatever</li>\n<li>supports cache values, so each thread or cluster element can get a range to work with that are guaranteed to be unique, if you cache groups of 25, thread 1 gets 1-25, thread 2 gets 26-50, etc., etc.</li>\n<li>supported by hibernate</li>\n</ul>\n\n<p>If sequences aren't an option, this might work but I not convinced there aren't holes to work around.</p>\n"}],"owner":{"account_id":5269848,"reputation":35,"user_id":4208481,"accept_rate":38,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36636606,"answer_count":1,"score":0,"last_activity_date":1673002896,"creation_date":1460679339,"question_id":36636218,"body_markdown":"I am using `TableGenerator` for my project, below is the snippet for the same.\r\n\r\n      @GeneratedValue(strategy = GenerationType.TABLE, generator =    &quot; TableGenerator&quot;)\r\n\t  @GenericGenerator(name = &quot;TableGenerator&quot;, strategy = &quot;org.hibernate.id.enhanced.TableGenerator&quot;, parameters = {\r\n\t  @Parameter(name = &quot;table_name&quot;, value = &quot;TABLE_GENERATOR&quot;)}\r\n\r\nI know that `hibernate` will cache min value and max value in the memory  for a given entity and update min and max value in `TABLE_GENERATOR` (Let&#39;s assume that value may be 50-100). \r\n\r\nBut I am not sure what will the be behaviour of JPA/Hibernate `TableGenerator` in a clustered environment, i.e. there will be multiple JVMs so what will be cached min/max value for same in each of JMV and what value will be updated in Table:TABLE_GENERATOR.\r\n","title":"JPA TableGenerator behaviour in clustered environment","body":"<p>I am using <code>TableGenerator</code> for my project, below is the snippet for the same.</p>\n<pre><code>  @GeneratedValue(strategy = GenerationType.TABLE, generator =    &quot; TableGenerator&quot;)\n  @GenericGenerator(name = &quot;TableGenerator&quot;, strategy = &quot;org.hibernate.id.enhanced.TableGenerator&quot;, parameters = {\n  @Parameter(name = &quot;table_name&quot;, value = &quot;TABLE_GENERATOR&quot;)}\n</code></pre>\n<p>I know that <code>hibernate</code> will cache min value and max value in the memory  for a given entity and update min and max value in <code>TABLE_GENERATOR</code> (Let's assume that value may be 50-100).</p>\n<p>But I am not sure what will the be behaviour of JPA/Hibernate <code>TableGenerator</code> in a clustered environment, i.e. there will be multiple JVMs so what will be cached min/max value for same in each of JMV and what value will be updated in Table:TABLE_GENERATOR.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672998263,"creation_date":1672998263,"answer_id":75029279,"question_id":75028809,"body_markdown":"You are setting request param variable value for page index 1 and total records 1 that&#39;s why it returns one record. You can set 5 or more after that you will get different result.\r\n\r\n    Your postman request : http://localhost:1111/repo/get?page=1&amp;size=1\r\n    Try this request     : http://localhost:1111/repo/get?page=1&amp;size=10","title":"Pagination with JPA projection in spring boot returns just one record","body":"<p>You are setting request param variable value for page index 1 and total records 1 that's why it returns one record. You can set 5 or more after that you will get different result.</p>\n<pre><code>Your postman request : http://localhost:1111/repo/get?page=1&amp;size=1\nTry this request     : http://localhost:1111/repo/get?page=1&amp;size=10\n</code></pre>\n"}],"owner":{"display_name":"user18349229"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673002372,"creation_date":1672995411,"question_id":75028809,"body_markdown":"I am using **pagination with native query**  on one of my sql table, because of aliases in my query I used JPA pojection and made an interface and get the fields from my DTO Class, but when I hit it using postman I get only one record instead of getting several records when I give the size more than one it results an empty object like \r\n   \r\n\r\n    `{\r\n         &quot;content&quot;: [],\r\n            &quot;pageable&quot;: {\r\n                &quot;sort&quot;: {\r\n                    &quot;empty&quot;: true,\r\n                    &quot;sorted&quot;: false,\r\n                    &quot;unsorted&quot;: true\r\n                },\r\n                &quot;offset&quot;: 10,\r\n                &quot;pageNumber&quot;: 1,\r\n                &quot;pageSize&quot;: 10,\r\n                &quot;paged&quot;: true,\r\n                &quot;unpaged&quot;: false\r\n            },\r\n            &quot;last&quot;: true,\r\n            &quot;totalPages&quot;: 1,\r\n            &quot;totalElements&quot;: 2,\r\n            &quot;size&quot;: 10,\r\n            &quot;number&quot;: 1,\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: true,\r\n                &quot;sorted&quot;: false,\r\n                &quot;unsorted&quot;: true\r\n            },\r\n            &quot;numberOfElements&quot;: 0,\r\n            &quot;first&quot;: false,\r\n            &quot;empty&quot;: true\r\n        }`\r\n\r\nbut when I give the size = 1 it returns one record , when I use the same query  in `mySql` it works fine and returns all the records as expected. can anyone tell me what is the problem with my code. My code  is stated below\r\n\r\n[Postman Request ](https://i.stack.imgur.com/ixrgi.png)\r\n\r\nPostman response After I provide size = 1\r\n\r\n\\`\r\n\r\n```\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;channel&quot;: &quot;B&quot;,\r\n            &quot;userName&quot;: &quot;asdas&quot;,\r\n            &quot;primaryKey&quot;: &quot;sadasd&quot;,\r\n            &quot;contactNumber&quot;: &quot;asdsa&quot;,\r\n            &quot;minRequestTime&quot;: &quot;2022-12-13 10:36:45.0&quot;,\r\n            &quot;maxRequestTime&quot;: &quot;2022-12-13 10:36:45.0&quot;,\r\n            &quot;success&quot;: &quot;0&quot;,\r\n            &quot;totalHits&quot;: &quot;4&quot;,\r\n            &quot;failed&quot;: &quot;4&quot;\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;empty&quot;: true,\r\n            &quot;sorted&quot;: false,\r\n            &quot;unsorted&quot;: true\r\n        },\r\n        &quot;offset&quot;: 1,\r\n        &quot;pageSize&quot;: 1,\r\n        &quot;pageNumber&quot;: 1,\r\n        &quot;unpaged&quot;: false,\r\n        &quot;paged&quot;: true\r\n    },\r\n    &quot;totalElements&quot;: 3,\r\n    &quot;totalPages&quot;: 3,\r\n    &quot;last&quot;: false,\r\n    &quot;size&quot;: 1,\r\n    &quot;number&quot;: 1,\r\n    &quot;sort&quot;: {\r\n        &quot;empty&quot;: true,\r\n        &quot;sorted&quot;: false,\r\n        &quot;unsorted&quot;: true\r\n    },\r\n    &quot;numberOfElements&quot;: 1,\r\n    &quot;first&quot;: false,\r\n    &quot;empty&quot;: false\r\n}\r\n```\r\n\r\n\\`\r\n\r\nHere is Mysql table, it has 28 Records\r\n\r\n[SQL Table](https://i.stack.imgur.com/bh7xq.png)\r\n\r\nEntity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;reporting_general&quot;)\r\n@Data\r\npublic class ReportingGeneral implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int id;\r\n    @Column(name = &quot;transaction_name&quot;)\r\n    public String transactionName;\r\n    public String username;\r\n    @Column(name = &quot;contact_number&quot;)\r\n    public String contactNumber;\r\n    public String segment;\r\n    @Column(name = &quot;user_type&quot;)\r\n    public String userType;\r\n    @Column(name = &quot;primary_key&quot;)\r\n    public String primaryKey;\r\n    public String channel;\r\n    @Column(name = &quot;response_code&quot;)\r\n    public String ResponseCode;\r\n    @Column(name = &quot;request_time&quot;)\r\n    public Date requestTime;\r\n    @Column(name = &quot;response_time&quot;)\r\n    public Date responseTime;\r\n\r\n}\r\n```\r\n\r\nInterface used  for projection\r\n\r\n```\r\npublic interface ActiveAccountReport {\r\n    String getUserName();\r\n    String getContactNumber();\r\n    String getPrimaryKey();\r\n    String getMinRequestTime();\r\n    String getMaxRequestTime();\r\n    String getSuccess();\r\n    String getFailed();\r\n    String getTotalHits();\r\n    String getChannel();\r\n}\r\n```\r\n\r\nRepository Class\r\n\r\n```\r\n@Repository\r\npublic interface ReportingGenRepo extends JpaRepository&lt;ReportingGeneral, Integer&gt; {\r\n\r\n    @Query(value = &quot;SELECT REPORTING_GENERAL.USERNAME AS userName, &quot; +\r\n            &quot;ANY_VALUE (REPORTING_GENERAL.CONTACT_NUMBER ) AS contactNumber,ANY_VALUE (REPORTING_GENERAL.PRIMARY_KEY) AS primaryKey,&quot; +\r\n            &quot;MIN( REQUEST_TIME ) AS minRequestTime ,MAX( REQUEST_TIME ) AS maxRequestTime, &quot; +\r\n            &quot;COUNT(IF ( RESPONSE_CODE = &#39;1&#39;, 1, NULL )) AS success,COUNT(IF &quot; +\r\n            &quot;( RESPONSE_CODE != &#39;1&#39;, 1, NULL )) AS failed,COUNT(*) AS totalHits,CHANNEL as channel&quot; +\r\n            &quot; FROM REPORTING_GENERAL WHERE &quot; +\r\n            &quot; REPORTING_GENERAL.ID &gt; 0 AND CHANNEL in ?3 AND (REPORTING_GENERAL.REQUEST_TIME  BETWEEN ?1 AND ?2)&quot; +\r\n            &quot;GROUP BY channel, username&quot;,\r\n\r\n            countQuery = &quot;SELECT count(*) FROM REPORTING_GENERAL WHERE &quot; +\r\n                    &quot; REPORTING_GENERAL.ID &gt; 0 AND CHANNEL in ?3 AND (REPORTING_GENERAL.REQUEST_TIME  BETWEEN ?1 AND ?2)&quot; +\r\n                    &quot;GROUP BY channel, username&quot;, nativeQuery = true)\r\n    public Page&lt;ActiveAccountReport&gt; getActiveAccountReportFilters(\r\n            LocalDateTime startDate,\r\n            LocalDateTime endDate,\r\n            List&lt;Character&gt; channel,\r\n            Pageable pageable);\r\n}\r\n```\r\n\r\nService Class\r\n\r\n```\r\n@Service\r\npublic class ReportingGenService {\r\n    @Autowired\r\n    private ReportingGenRepo reportingGenRepo;\r\n\r\n    public Page&lt;ActiveAccountReport&gt; paginatedActiveAccountReports(ActiveAccountRequest activeAccountRequest,\r\n                                                   Integer page,Integer size) {\r\n\r\n        Pageable pageable = PageRequest.of(page,size);\r\n        Page&lt;ActiveAccountReport&gt; activeAccountReports = reportingGenRepo\r\n          .getActiveAccountReportFilters(activeAccountRequest.getStartDate(),\r\n                activeAccountRequest.getEndDate(),activeAccountRequest.getChannel(),pageable);\r\n\r\n        return activeAccountReports;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nController Class\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/repo&quot;)\r\npublic class ReportingGenController {\r\n    @Autowired\r\n    private ReportingGenService reportingGenService;\r\n\r\n    @GetMapping(&quot;/get&quot;)\r\n    public Page&lt;ActiveAccountReport&gt; findAll(@RequestBody ActiveAccountRequest activeAccountRequest,\r\n                                   @RequestParam(value = &quot;page&quot;,defaultValue = &quot;0&quot;) Integer page, @RequestParam(value = &quot;size&quot;,defaultValue = &quot;1&quot;) Integer size){\r\n        return reportingGenService.paginatedActiveAccountReports(activeAccountRequest,page,size);\r\n\r\n    }\r\n}\r\n```\r\n\r\nCan Anyone Help please\r\n","title":"Pagination with JPA projection in spring boot returns just one record","body":"<p>I am using <strong>pagination with native query</strong>  on one of my sql table, because of aliases in my query I used JPA pojection and made an interface and get the fields from my DTO Class, but when I hit it using postman I get only one record instead of getting several records when I give the size more than one it results an empty object like</p>\n<pre><code>`{\n     &quot;content&quot;: [],\n        &quot;pageable&quot;: {\n            &quot;sort&quot;: {\n                &quot;empty&quot;: true,\n                &quot;sorted&quot;: false,\n                &quot;unsorted&quot;: true\n            },\n            &quot;offset&quot;: 10,\n            &quot;pageNumber&quot;: 1,\n            &quot;pageSize&quot;: 10,\n            &quot;paged&quot;: true,\n            &quot;unpaged&quot;: false\n        },\n        &quot;last&quot;: true,\n        &quot;totalPages&quot;: 1,\n        &quot;totalElements&quot;: 2,\n        &quot;size&quot;: 10,\n        &quot;number&quot;: 1,\n        &quot;sort&quot;: {\n            &quot;empty&quot;: true,\n            &quot;sorted&quot;: false,\n            &quot;unsorted&quot;: true\n        },\n        &quot;numberOfElements&quot;: 0,\n        &quot;first&quot;: false,\n        &quot;empty&quot;: true\n    }`\n</code></pre>\n<p>but when I give the size = 1 it returns one record , when I use the same query  in <code>mySql</code> it works fine and returns all the records as expected. can anyone tell me what is the problem with my code. My code  is stated below</p>\n<p><a href=\"https://i.stack.imgur.com/ixrgi.png\" rel=\"nofollow noreferrer\">Postman Request </a></p>\n<p>Postman response After I provide size = 1</p>\n<p>`</p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;channel&quot;: &quot;B&quot;,\n            &quot;userName&quot;: &quot;asdas&quot;,\n            &quot;primaryKey&quot;: &quot;sadasd&quot;,\n            &quot;contactNumber&quot;: &quot;asdsa&quot;,\n            &quot;minRequestTime&quot;: &quot;2022-12-13 10:36:45.0&quot;,\n            &quot;maxRequestTime&quot;: &quot;2022-12-13 10:36:45.0&quot;,\n            &quot;success&quot;: &quot;0&quot;,\n            &quot;totalHits&quot;: &quot;4&quot;,\n            &quot;failed&quot;: &quot;4&quot;\n        }\n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;empty&quot;: true,\n            &quot;sorted&quot;: false,\n            &quot;unsorted&quot;: true\n        },\n        &quot;offset&quot;: 1,\n        &quot;pageSize&quot;: 1,\n        &quot;pageNumber&quot;: 1,\n        &quot;unpaged&quot;: false,\n        &quot;paged&quot;: true\n    },\n    &quot;totalElements&quot;: 3,\n    &quot;totalPages&quot;: 3,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 1,\n    &quot;number&quot;: 1,\n    &quot;sort&quot;: {\n        &quot;empty&quot;: true,\n        &quot;sorted&quot;: false,\n        &quot;unsorted&quot;: true\n    },\n    &quot;numberOfElements&quot;: 1,\n    &quot;first&quot;: false,\n    &quot;empty&quot;: false\n}\n</code></pre>\n<p>`</p>\n<p>Here is Mysql table, it has 28 Records</p>\n<p><a href=\"https://i.stack.imgur.com/bh7xq.png\" rel=\"nofollow noreferrer\">SQL Table</a></p>\n<p>Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;reporting_general&quot;)\n@Data\npublic class ReportingGeneral implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int id;\n    @Column(name = &quot;transaction_name&quot;)\n    public String transactionName;\n    public String username;\n    @Column(name = &quot;contact_number&quot;)\n    public String contactNumber;\n    public String segment;\n    @Column(name = &quot;user_type&quot;)\n    public String userType;\n    @Column(name = &quot;primary_key&quot;)\n    public String primaryKey;\n    public String channel;\n    @Column(name = &quot;response_code&quot;)\n    public String ResponseCode;\n    @Column(name = &quot;request_time&quot;)\n    public Date requestTime;\n    @Column(name = &quot;response_time&quot;)\n    public Date responseTime;\n\n}\n</code></pre>\n<p>Interface used  for projection</p>\n<pre><code>public interface ActiveAccountReport {\n    String getUserName();\n    String getContactNumber();\n    String getPrimaryKey();\n    String getMinRequestTime();\n    String getMaxRequestTime();\n    String getSuccess();\n    String getFailed();\n    String getTotalHits();\n    String getChannel();\n}\n</code></pre>\n<p>Repository Class</p>\n<pre><code>@Repository\npublic interface ReportingGenRepo extends JpaRepository&lt;ReportingGeneral, Integer&gt; {\n\n    @Query(value = &quot;SELECT REPORTING_GENERAL.USERNAME AS userName, &quot; +\n            &quot;ANY_VALUE (REPORTING_GENERAL.CONTACT_NUMBER ) AS contactNumber,ANY_VALUE (REPORTING_GENERAL.PRIMARY_KEY) AS primaryKey,&quot; +\n            &quot;MIN( REQUEST_TIME ) AS minRequestTime ,MAX( REQUEST_TIME ) AS maxRequestTime, &quot; +\n            &quot;COUNT(IF ( RESPONSE_CODE = '1', 1, NULL )) AS success,COUNT(IF &quot; +\n            &quot;( RESPONSE_CODE != '1', 1, NULL )) AS failed,COUNT(*) AS totalHits,CHANNEL as channel&quot; +\n            &quot; FROM REPORTING_GENERAL WHERE &quot; +\n            &quot; REPORTING_GENERAL.ID &gt; 0 AND CHANNEL in ?3 AND (REPORTING_GENERAL.REQUEST_TIME  BETWEEN ?1 AND ?2)&quot; +\n            &quot;GROUP BY channel, username&quot;,\n\n            countQuery = &quot;SELECT count(*) FROM REPORTING_GENERAL WHERE &quot; +\n                    &quot; REPORTING_GENERAL.ID &gt; 0 AND CHANNEL in ?3 AND (REPORTING_GENERAL.REQUEST_TIME  BETWEEN ?1 AND ?2)&quot; +\n                    &quot;GROUP BY channel, username&quot;, nativeQuery = true)\n    public Page&lt;ActiveAccountReport&gt; getActiveAccountReportFilters(\n            LocalDateTime startDate,\n            LocalDateTime endDate,\n            List&lt;Character&gt; channel,\n            Pageable pageable);\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>@Service\npublic class ReportingGenService {\n    @Autowired\n    private ReportingGenRepo reportingGenRepo;\n\n    public Page&lt;ActiveAccountReport&gt; paginatedActiveAccountReports(ActiveAccountRequest activeAccountRequest,\n                                                   Integer page,Integer size) {\n\n        Pageable pageable = PageRequest.of(page,size);\n        Page&lt;ActiveAccountReport&gt; activeAccountReports = reportingGenRepo\n          .getActiveAccountReportFilters(activeAccountRequest.getStartDate(),\n                activeAccountRequest.getEndDate(),activeAccountRequest.getChannel(),pageable);\n\n        return activeAccountReports;\n    }\n\n\n}\n</code></pre>\n<p>Controller Class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/repo&quot;)\npublic class ReportingGenController {\n    @Autowired\n    private ReportingGenService reportingGenService;\n\n    @GetMapping(&quot;/get&quot;)\n    public Page&lt;ActiveAccountReport&gt; findAll(@RequestBody ActiveAccountRequest activeAccountRequest,\n                                   @RequestParam(value = &quot;page&quot;,defaultValue = &quot;0&quot;) Integer page, @RequestParam(value = &quot;size&quot;,defaultValue = &quot;1&quot;) Integer size){\n        return reportingGenService.paginatedActiveAccountReports(activeAccountRequest,page,size);\n\n    }\n}\n</code></pre>\n<p>Can Anyone Help please</p>\n"},{"tags":["java","android","apache"],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1671528603,"creation_date":1383332981,"answer_id":19733721,"question_id":19733612,"body_markdown":"well it is a simple task, you need the `WRITE_EXTERNAL_STORAGE` use permission.. then simply retrieve the `InputStream`\r\n\r\n    InputStream is = response.getEntity().getContent();\r\n\r\nCreate a FileOutputStream\r\n```\r\nFileOutputStream fos = new FileOutputStream(new File(Environment.getExternalStorageDirectory(), &quot;test.epub&quot;))\r\n```\r\nand read from is and write with fos\r\n\r\n    int read = 0;\r\n    byte[] buffer = new byte[32768];\r\n    while( (read = is.read(buffer)) &gt; 0) {\r\n      fos.write(buffer, 0, read);\r\n    }\r\n    \r\n    fos.close();\r\n    is.close();\r\n\r\nEdit, check for tyoo","title":"How to download an HttpResponse into a file?","body":"<p>well it is a simple task, you need the <code>WRITE_EXTERNAL_STORAGE</code> use permission.. then simply retrieve the <code>InputStream</code></p>\n<pre><code>InputStream is = response.getEntity().getContent();\n</code></pre>\n<p>Create a FileOutputStream</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(new File(Environment.getExternalStorageDirectory(), &quot;test.epub&quot;))\n</code></pre>\n<p>and read from is and write with fos</p>\n<pre><code>int read = 0;\nbyte[] buffer = new byte[32768];\nwhile( (read = is.read(buffer)) &gt; 0) {\n  fos.write(buffer, 0, read);\n}\n\nfos.close();\nis.close();\n</code></pre>\n<p>Edit, check for tyoo</p>\n"},{"tags":[],"owner":{"account_id":13816844,"reputation":21,"user_id":9973243,"display_name":"Raccoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538022700,"creation_date":1538022347,"answer_id":52529432,"question_id":19733612,"body_markdown":"&gt; First is the method:\r\n\r\n    public HttpResponse setHTTPConnection() throws IOException, NullPointerException, URISyntaxException {\r\n\t       HttpClient client = HttpClientBuilder.create().build();\r\n\t       HttpRequestBase requestMethod = new HttpGet();\r\n\t       requestMethod.setURI(new URI(&quot;***FileToDownlod***&quot;));\r\n\t       BasicHttpContext localContext = new BasicHttpContext();\r\n\t       \r\n\t      \r\n\t       return client.execute(requestMethod, localContext);\r\n\t   }\r\n\r\n&gt; Second is an actual code:\r\n\r\n    File downloadedFile = new File(&quot;filePathToSave&quot;);\r\n\t       HttpResponse fileToDownload = setHTTPConnection();\r\n\t       try {\r\n\t           FileUtils.copyInputStreamToFile(fileToDownload.getEntity().getContent(), downloadedFile);\r\n\t       } finally {\r\n\t           fileToDownload.getEntity().getContent().close();\r\n\t       }\r\n\r\n&gt; Please make sure to change &quot;***filePathToSave***&quot; to where to save the file and \r\n&quot;***FileToDownlod***&quot; to from where to download accordingly. \r\n\r\n&gt; &quot;***filePathToSave***&quot; is where you want to save the file, if you choose to save it locally then you can simply point to the desktop but don&#39;t forget to give a name to your file like &quot;/Users/admin/Desktop/downloaded.pdf&quot; (in Mac). \r\n\r\n&gt; &quot;***FileToDownlod***&quot; is in the form of URL e.g &quot;https://www.doesntexist.com/sample.pdf&quot;\r\n\r\n&gt; Don&#39;t panic as the second piece will ask to declare in throws clause or catch multiple exceptions. This piece of code was for a specific purpose please customize for your own need.","title":"How to download an HttpResponse into a file?","body":"<blockquote>\n  <p>First is the method:</p>\n</blockquote>\n\n<pre><code>public HttpResponse setHTTPConnection() throws IOException, NullPointerException, URISyntaxException {\n       HttpClient client = HttpClientBuilder.create().build();\n       HttpRequestBase requestMethod = new HttpGet();\n       requestMethod.setURI(new URI(\"***FileToDownlod***\"));\n       BasicHttpContext localContext = new BasicHttpContext();\n\n\n       return client.execute(requestMethod, localContext);\n   }\n</code></pre>\n\n<blockquote>\n  <p>Second is an actual code:</p>\n</blockquote>\n\n<pre><code>File downloadedFile = new File(\"filePathToSave\");\n       HttpResponse fileToDownload = setHTTPConnection();\n       try {\n           FileUtils.copyInputStreamToFile(fileToDownload.getEntity().getContent(), downloadedFile);\n       } finally {\n           fileToDownload.getEntity().getContent().close();\n       }\n</code></pre>\n\n<blockquote>\n  <p>Please make sure to change \"<strong><em>filePathToSave</em></strong>\" to where to save the file and \n  \"<strong><em>FileToDownlod</em></strong>\" to from where to download accordingly. </p>\n  \n  <p>\"<strong><em>filePathToSave</em></strong>\" is where you want to save the file, if you choose to save it locally then you can simply point to the desktop but don't forget to give a name to your file like \"/Users/admin/Desktop/downloaded.pdf\" (in Mac). </p>\n  \n  <p>\"<strong><em>FileToDownlod</em></strong>\" is in the form of URL e.g \"<a href=\"https://www.doesntexist.com/sample.pdf\" rel=\"nofollow noreferrer\">https://www.doesntexist.com/sample.pdf</a>\"</p>\n  \n  <p>Don't panic as the second piece will ask to declare in throws clause or catch multiple exceptions. This piece of code was for a specific purpose please customize for your own need.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11312965,"reputation":1,"user_id":8295603,"display_name":"Gaurav Gothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673002059,"creation_date":1673001537,"answer_id":75029849,"question_id":19733612,"body_markdown":"As you said response is content of book or simple meaning that **you are getting response as file but not able to save response as file**. \r\n\r\nUse this\r\n\r\n    HttpResponse&lt;Path&gt; response = client.send(request, HttpResponse.BodyHandlers.ofFile(Paths.get(&quot;/sdcard/test.epub&quot;));","title":"How to download an HttpResponse into a file?","body":"<p>As you said response is content of book or simple meaning that <strong>you are getting response as file but not able to save response as file</strong>.</p>\n<p>Use this</p>\n<pre><code>HttpResponse&lt;Path&gt; response = client.send(request, HttpResponse.BodyHandlers.ofFile(Paths.get(&quot;/sdcard/test.epub&quot;));\n</code></pre>\n"}],"owner":{"account_id":1010446,"reputation":2485,"user_id":1023127,"accept_rate":85,"display_name":"jvnbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29763,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19733721,"answer_count":3,"score":7,"last_activity_date":1673002059,"creation_date":1383332622,"question_id":19733612,"body_markdown":"My android app uses an API which sends a multipart HTTP request. I am successfully getting the response like so:\r\n\r\n    post.setEntity(multipartEntity.build());\r\n    HttpResponse response = client.execute(post);\r\n    \r\nThe response is the contents of an ebook file (usually an epub or mobi). I want to write this to a file with a specified path, lets says &quot;/sdcard/test.epub&quot;.\r\n\r\nFile could be up to 20MB, so it&#39;ll need to use some sort of stream, but I can just can&#39;t wrap my head around it. Thanks!","title":"How to download an HttpResponse into a file?","body":"<p>My android app uses an API which sends a multipart HTTP request. I am successfully getting the response like so:</p>\n\n<pre><code>post.setEntity(multipartEntity.build());\nHttpResponse response = client.execute(post);\n</code></pre>\n\n<p>The response is the contents of an ebook file (usually an epub or mobi). I want to write this to a file with a specified path, lets says \"/sdcard/test.epub\".</p>\n\n<p>File could be up to 20MB, so it'll need to use some sort of stream, but I can just can't wrap my head around it. Thanks!</p>\n"},{"tags":["java","macos","gradle","java-11","adoptopenjdk"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1620131490,"post_id":67384560,"comment_id":119105047,"body_markdown":"If it&#39;s building for others, the team should share the prerequisites somewhere.\nCould you update the question with what does the output of `gradle -q javaToolchains` look like for you? If autodetection is not set, do look into https://docs.gradle.org/6.8.2/userguide/toolchains.html#sec:custom_loc","body":"If it&#39;s building for others, the team should share the prerequisites somewhere. Could you update the question with what does the output of <code>gradle -q javaToolchains</code> look like for you? If autodetection is not set, do look into <a href=\"https://docs.gradle.org/6.8.2/userguide/toolchains.html#sec:custom_loc\" rel=\"nofollow noreferrer\">docs.gradle.org/6.8.2/userguide/toolchains.html#sec:custom_l&zwnj;&#8203;oc</a>"},{"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"score":0,"creation_date":1620131850,"post_id":67384560,"comment_id":119105232,"body_markdown":"@Naman normally the prerequisites is JDK11 installed, which it is here. Updated with additional info.","body":"@Naman normally the prerequisites is JDK11 installed, which it is here. Updated with additional info."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1620132930,"post_id":67384560,"comment_id":119105742,"body_markdown":"Alright, try out `--full-stacktrace` as you build and we can see the details possibly (whenever you face it again.)","body":"Alright, try out <code>--full-stacktrace</code> as you build and we can see the details possibly (whenever you face it again.)"}],"answers":[{"tags":[],"owner":{"account_id":8144363,"reputation":445,"user_id":10348047,"display_name":"Tim Baverstock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627642325,"creation_date":1627642325,"answer_id":68589724,"question_id":67384560,"body_markdown":"On a (Linux) machine with no Java on it at all, I installed Java 11 and got the same errors.\r\n\r\nThe interesting part of my stacktrace was this:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: error: release version 11 not supported\r\n       at jdk.compiler/com.sun.tools.javac.main.Arguments.reportDiag(Arguments.java:891)\r\n       at jdk.compiler/com.sun.tools.javac.main.Arguments.handleReleaseOptions(Arguments.java:311)\r\n       at jdk.compiler/com.sun.tools.javac.main.Arguments.processArgs(Arguments.java:350)\r\n       at jdk.compiler/com.sun.tools.javac.main.Arguments.init(Arguments.java:246)\r\n       at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:185)\r\n       at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:119)\r\n       at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:68)\r\n       at org.gradle.api.internal.tasks.compile.JdkTools$DefaultIncrementalAwareCompiler.getTask(JdkTools.java:131)\r\n\r\nand this part of the verbose output:\r\n\r\n    2021-07-30T10:29:27.874+0000 [INFO] [org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler] Compiling with toolchain &#39;/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el8_4.x86_64&#39;.\r\n    2021-07-30T10:29:27.882+0000 [DEBUG] [org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler] Compiler arguments: --release 11 -d /home/tim/git/bma_emubroker/bma-emubroker/build/classes/java/main -h /home/tim/git/bma_emubroker/bma-emubroker/build/generated/sources/headers/java/main -g -sourcepath  -proc:none -s /home/tim/git/bma_emubroker/bma-emubroker/build/generated/sources/annotationProcessor/java/main...huge.line.tuncated\r\n\r\nIn trying to reconstruct and run the toolchain command, filename completion pointed out to me that javac wasn&#39;t available!\r\n\r\nRunning &#39;sudo yum install java-devel-11&#39; to install the SDK in addition to the JDK, and running &#39;./gradlew --stop&#39; to kill the daemons fixed it for me.\r\n","title":"Release version 11 not supported while using Gradle on MacOS with AdoptOpenJDK 11","body":"<p>On a (Linux) machine with no Java on it at all, I installed Java 11 and got the same errors.</p>\n<p>The interesting part of my stacktrace was this:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: error: release version 11 not supported\n   at jdk.compiler/com.sun.tools.javac.main.Arguments.reportDiag(Arguments.java:891)\n   at jdk.compiler/com.sun.tools.javac.main.Arguments.handleReleaseOptions(Arguments.java:311)\n   at jdk.compiler/com.sun.tools.javac.main.Arguments.processArgs(Arguments.java:350)\n   at jdk.compiler/com.sun.tools.javac.main.Arguments.init(Arguments.java:246)\n   at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:185)\n   at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:119)\n   at jdk.compiler/com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:68)\n   at org.gradle.api.internal.tasks.compile.JdkTools$DefaultIncrementalAwareCompiler.getTask(JdkTools.java:131)\n</code></pre>\n<p>and this part of the verbose output:</p>\n<pre><code>2021-07-30T10:29:27.874+0000 [INFO] [org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler] Compiling with toolchain '/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el8_4.x86_64'.\n2021-07-30T10:29:27.882+0000 [DEBUG] [org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler] Compiler arguments: --release 11 -d /home/tim/git/bma_emubroker/bma-emubroker/build/classes/java/main -h /home/tim/git/bma_emubroker/bma-emubroker/build/generated/sources/headers/java/main -g -sourcepath  -proc:none -s /home/tim/git/bma_emubroker/bma-emubroker/build/generated/sources/annotationProcessor/java/main...huge.line.tuncated\n</code></pre>\n<p>In trying to reconstruct and run the toolchain command, filename completion pointed out to me that javac wasn't available!</p>\n<p>Running 'sudo yum install java-devel-11' to install the SDK in addition to the JDK, and running './gradlew --stop' to kill the daemons fixed it for me.</p>\n"}],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673001904,"creation_date":1620130454,"question_id":67384560,"body_markdown":"When running gradle build (that works for other developers in my team) I&#39;m getting:\r\n\r\n```\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; error: release version 11 not supported\r\n```\r\n\r\nThis is with installation of AdoptOpenJDK11 on MacOS.\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.11&quot; 2021-04-20\r\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n```\r\n\r\n```\r\n ./gradlew -version                    \r\n\r\n------------------------------------------------------------\r\nGradle 6.8.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-02-05 12:53:00 UTC\r\nRevision:     b9bd4a5c6026ac52f690eaf2829ee26563cad426\r\n\r\nKotlin:       1.4.20\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM:          11.0.11 (AdoptOpenJDK 11.0.11+9)\r\nOS:           Mac OS X 10.14.6 x86_64\r\n\r\n```\r\n```\r\necho $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n```\r\n\r\nRelevant part of `build.grade`\r\n```\r\n...\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(11))\r\n    }\r\n}\r\n...\r\n```\r\n\r\n```\r\ngradle -q javaToolchains\r\nexecuting gradlew instead of gradle\r\n\r\n + Options\r\n     | Auto-detection:     Enabled\r\n     | Auto-download:      Enabled\r\n\r\n + AdoptOpenJDK 11.0.11\r\n     | Location:           /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n     | Language Version:   11\r\n     | Vendor:             AdoptOpenJDK\r\n     | Is JDK:             true\r\n     | Detected by:        Current JVM\r\n```\r\nIt seems that java toolchain feature of gradle is causing issues. \r\n* If the java toolchains block is completely removed, project builds fine using current JVM. \r\n* If java toolchains is set to use java 12, gradle will download jdk12 and again it builds fine.\r\n* Running javac from existing JDK11 via command line to compile a dummy hello world file also works fine (e.g. `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/javac --release 11 HelloWorld.java`)\r\n\r\n\r\nI suspect reinstalling JDK would solve this but I would really appreciate any clues on how to debug this further and understand why it is happening.\r\n\r\n\r\n**UPDATE**\r\n\r\nAfter attempting several debugging steps, build now works, for reasons unknown to me. Unfortunately I do not know why it didn&#39;t work initially and can&#39;t reproduce the issues again to debug further. For future reference to people who may encounter this issue, here are some of the steps I did in the debugging process. One of these apparently fixed the issue, though I don&#39;t know how:\r\n\r\n* Removed java toolchains section and trying build that way, then adding back the java toolchains section\r\n* Trying the build setting java toolchains to use java 12 (this resulted in automatic provisioning of jdk12 by gradle)\r\n* Running `gradle -q javaToolchains`\r\n* Removing jdk12 (that was automatically provisioned by gradle) from `~/.gradle/jdks`\r\n\r\n","title":"Release version 11 not supported while using Gradle on MacOS with AdoptOpenJDK 11","body":"<p>When running gradle build (that works for other developers in my team) I'm getting:</p>\n<pre><code>Execution failed for task ':compileJava'.\n&gt; error: release version 11 not supported\n</code></pre>\n<p>This is with installation of AdoptOpenJDK11 on MacOS.</p>\n<pre><code>java -version\nopenjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n</code></pre>\n<pre><code> ./gradlew -version                    \n\n------------------------------------------------------------\nGradle 6.8.2\n------------------------------------------------------------\n\nBuild time:   2021-02-05 12:53:00 UTC\nRevision:     b9bd4a5c6026ac52f690eaf2829ee26563cad426\n\nKotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          11.0.11 (AdoptOpenJDK 11.0.11+9)\nOS:           Mac OS X 10.14.6 x86_64\n\n</code></pre>\n<pre><code>echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n</code></pre>\n<p>Relevant part of <code>build.grade</code></p>\n<pre><code>...\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(11))\n    }\n}\n...\n</code></pre>\n<pre><code>gradle -q javaToolchains\nexecuting gradlew instead of gradle\n\n + Options\n     | Auto-detection:     Enabled\n     | Auto-download:      Enabled\n\n + AdoptOpenJDK 11.0.11\n     | Location:           /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n     | Language Version:   11\n     | Vendor:             AdoptOpenJDK\n     | Is JDK:             true\n     | Detected by:        Current JVM\n</code></pre>\n<p>It seems that java toolchain feature of gradle is causing issues.</p>\n<ul>\n<li>If the java toolchains block is completely removed, project builds fine using current JVM.</li>\n<li>If java toolchains is set to use java 12, gradle will download jdk12 and again it builds fine.</li>\n<li>Running javac from existing JDK11 via command line to compile a dummy hello world file also works fine (e.g. <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/javac --release 11 HelloWorld.java</code>)</li>\n</ul>\n<p>I suspect reinstalling JDK would solve this but I would really appreciate any clues on how to debug this further and understand why it is happening.</p>\n<p><strong>UPDATE</strong></p>\n<p>After attempting several debugging steps, build now works, for reasons unknown to me. Unfortunately I do not know why it didn't work initially and can't reproduce the issues again to debug further. For future reference to people who may encounter this issue, here are some of the steps I did in the debugging process. One of these apparently fixed the issue, though I don't know how:</p>\n<ul>\n<li>Removed java toolchains section and trying build that way, then adding back the java toolchains section</li>\n<li>Trying the build setting java toolchains to use java 12 (this resulted in automatic provisioning of jdk12 by gradle)</li>\n<li>Running <code>gradle -q javaToolchains</code></li>\n<li>Removing jdk12 (that was automatically provisioned by gradle) from <code>~/.gradle/jdks</code></li>\n</ul>\n"},{"tags":["java","spring-webflux","rsocket","spring-rsocket"],"owner":{"account_id":13939282,"reputation":101,"user_id":10065622,"display_name":"Kaustubh Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673001687,"creation_date":1673001687,"question_id":75029879,"body_markdown":"Can someone please provide an example which illustrates how to send Multipart Data(form-data) over Rsocket.\r\n\r\nI tried using `MimeTypeUtils.parseMimeType(WellKnownMimeType.MULTIPART_MIXED.getString())`. But I always get No Encoder Found Exception for `MultiValueMapAdapter&lt;K,V&gt;` type data objects.","title":"How to send Multipart data over RSocket?","body":"<p>Can someone please provide an example which illustrates how to send Multipart Data(form-data) over Rsocket.</p>\n<p>I tried using <code>MimeTypeUtils.parseMimeType(WellKnownMimeType.MULTIPART_MIXED.getString())</code>. But I always get No Encoder Found Exception for <code>MultiValueMapAdapter&lt;K,V&gt;</code> type data objects.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672999844,"post_id":75029074,"comment_id":132403972,"body_markdown":"`convert the image path to bitmap then convert it to byte[] and pass` Not a good idea as the amount of bitmap bytes will be much larger then the file size of the .jpg file you started with. Just send the file.","body":"<code>convert the image path to bitmap then convert it to byte[] and pass</code> Not a good idea as the amount of bitmap bytes will be much larger then the file size of the .jpg file you started with. Just send the file."},{"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"score":0,"creation_date":1673000664,"post_id":75029074,"comment_id":132404221,"body_markdown":"@blackapps I&#39;ve used `File.readAllBytes(filePath)` when I send a txt file to the other device. It works. But, would it work on media files too?","body":"@blackapps I&#39;ve used <code>File.readAllBytes(filePath)</code> when I send a txt file to the other device. It works. But, would it work on media files too?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673001065,"post_id":75029074,"comment_id":132404331,"body_markdown":"You should first tell where this function stores the readed bytes. If it is in a byte array then send that array as you do now.","body":"You should first tell where this function stores the readed bytes. If it is in a byte array then send that array as you do now."},{"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"score":0,"creation_date":1673283993,"post_id":75029074,"comment_id":132459347,"body_markdown":"@blackapps, I&#39;ve tried doing that. I can send the byte array to the other device but I can&#39;t use that data to be used as an image source.","body":"@blackapps, I&#39;ve tried doing that. I can send the byte array to the other device but I can&#39;t use that data to be used as an image source."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673284377,"post_id":75029074,"comment_id":132459480,"body_markdown":"Why not????????","body":"Why not????????"},{"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"score":0,"creation_date":1673290437,"post_id":75029074,"comment_id":132461384,"body_markdown":"When I convert it to a bitmap, it returns null when getting the length of the byte array.","body":"When I convert it to a bitmap, it returns null when getting the length of the byte array."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673341119,"post_id":75029074,"comment_id":132471236,"body_markdown":"If the length of the byte array is null then why do you even try to convert it to bitmap?","body":"If the length of the byte array is null then why do you even try to convert it to bitmap?"},{"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"score":0,"creation_date":1673415830,"post_id":75029074,"comment_id":132491178,"body_markdown":"I can receive the byte array on the receiver side because I can see the converted string value of the bitmap. I don&#39;t know why it returns null.","body":"I can receive the byte array on the receiver side because I can see the converted string value of the bitmap. I don&#39;t know why it returns null."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673001186,"creation_date":1673001186,"answer_id":75029793,"question_id":75029074,"body_markdown":"As you said, you can pass strings. You can convert bitmap to `Base64` string format and sent it.\r\n\r\n    Bitmap bitmap = BitmapFactory.decodeFile(&quot;filePath&quot;);\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos); \r\n    byte[] bytes = baos.toByteArray();\r\n    String encodedImage = Base64.encodeToString(bytes, Base64.DEFAULT);\r\n\r\nOn receiving side, reverse it (String `Base64` to image)\r\n\r\n    byte[] decodedString = Base64.decode(encodedImage, Base64.DEFAULT);\r\n    Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length); ","title":"Received byte array containing bitmap returns null","body":"<p>As you said, you can pass strings. You can convert bitmap to <code>Base64</code> string format and sent it.</p>\n<pre><code>Bitmap bitmap = BitmapFactory.decodeFile(&quot;filePath&quot;);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos); \nbyte[] bytes = baos.toByteArray();\nString encodedImage = Base64.encodeToString(bytes, Base64.DEFAULT);\n</code></pre>\n<p>On receiving side, reverse it (String <code>Base64</code> to image)</p>\n<pre><code>byte[] decodedString = Base64.decode(encodedImage, Base64.DEFAULT);\nBitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length); \n</code></pre>\n"}],"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75029793,"answer_count":1,"score":2,"last_activity_date":1673001186,"creation_date":1672997180,"question_id":75029074,"body_markdown":"I&#39;ve been trying to send an image from one device to another using the BluetoothChat sample from Google. I can send string value from device to device but I&#39;m having problems sending images. I have two classes handling the receiving and sending of data.\r\n\r\nFor sending images, I convert the image path to bitmap then convert it to byte[] and pass that to the utility class, same as the BluetoothChat sample but with increased buffer size (1024 default, changed it to 8192). My code for the BluetoothSend class that sends data to the utility class is this,\r\n\r\n    send.setOnClickListener(view -&gt; {\r\n                Bitmap bitmap = BitmapFactory.decodeFile(filePath);\r\n\r\n                int width = bitmap.getRowBytes();\r\n                int height = bitmap.getHeight();\r\n                int bmpSize = width * height;\r\n\r\n                ByteBuffer byteBuffer = ByteBuffer.allocate(bmpSize);\r\n                bitmap.copyPixelsToBuffer(byteBuffer);\r\n\r\n                byte[] byteArray = byteBuffer.array();\r\n                sendUtils.write(byteArray);\r\n\r\n                bitmap.recycle();\r\n        });\r\n\r\nThis is the utility class that handles the sending and receiving of data,\r\n\r\n    /**\r\n     * This thread runs during a connection with a remote device.\r\n     * It handles all incoming and outgoing transmissions.\r\n     */\r\n    private class ConnectedThread extends Thread {\r\n        private final BluetoothSocket bluetoothsocket;\r\n        private final InputStream inputStream;\r\n        private final OutputStream outputStream;\r\n\r\n        public ConnectedThread(BluetoothSocket socket) {\r\n            bluetoothsocket = socket;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n\r\n            try {\r\n                tmpIn = bluetoothsocket.getInputStream();\r\n                tmpOut = bluetoothsocket.getOutputStream();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;ConnectedThrd-&gt;Cons&quot;, &quot;Socket not created.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            inputStream = tmpIn;\r\n            outputStream = tmpOut;\r\n        }\r\n\r\n        public void run() {\r\n            byte[] buffer = new byte[8192]; //1024 original\r\n            int bytes;\r\n\r\n            // Keep listening to the InputStream while connected\r\n            while (true) {\r\n                try {\r\n                    // Read from the InputStream\r\n                    try {\r\n                        bytes = inputStream.read(buffer);\r\n                        // Send the obtained bytes to the UI Activity\r\n                        handler.obtainMessage(BluetoothSend.MESSAGE_READ, bytes, -1, buffer).sendToTarget();\r\n                        handler.obtainMessage(BluetoothReceive.MESSAGE_READ, bytes, -1, buffer).sendToTarget();\r\n                    } catch (NullPointerException n) {\r\n                        Log.e(&quot;ConnectedThrd-&gt;Run&quot;, n.getMessage());\r\n                    }\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;ConnectedThrd-&gt;Run&quot;, &quot;Connection Lost.&quot;, e);\r\n                    e.printStackTrace();\r\n                    connectionLost();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public void write(byte[] buffer) {\r\n            try {\r\n                try {\r\n                    outputStream.write(buffer);\r\n                    handler.obtainMessage(BluetoothSend.MESSAGE_WRITE, -1, -1, buffer)\r\n                            .sendToTarget();\r\n                    handler.obtainMessage(BluetoothReceive.MESSAGE_WRITE, -1, -1, buffer)\r\n                            .sendToTarget();\r\n                } catch (NullPointerException n) {\r\n                    Log.e(&quot;ConnectedThrd-&gt;Write&quot;, &quot;Bluetooth Socket is null: &quot; + n.getMessage());\r\n                }\r\n            } catch (IOException e) {\r\n                Log.e(&quot;ConnectedThread-&gt;Write&quot;, &quot;Empty write stream.&quot;);\r\n            }\r\n        }\r\n\r\n        public void cancel() {\r\n            try {\r\n                bluetoothsocket.close();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;ConnectedThread-&gt;Cancel&quot;, &quot;Failed to close socket.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nLastly, on the BluetoothReceive class, I receive the data using a handler. Code for handler object is as follows, \r\n\r\n\r\n                case MESSAGE_READ:\r\n                    //Read message from sender\r\n                    byte[] bufferRead = (byte[]) message.obj;\r\n                    //bitmap decodedByte is null\r\n                    Bitmap decodedByte = BitmapFactory.decodeByteArray(bufferRead, 0, bufferRead.length);\r\n                    int height = decodedByte.getHeight();\r\n                    int width = decodedByte.getWidth();\r\n\r\n                    Bitmap.Config config = Bitmap.Config.valueOf(decodedByte.getConfig().name());\r\n                    Bitmap bitmap_tmp = Bitmap.createBitmap(width, height, config);\r\n                    ByteBuffer buffer = ByteBuffer.wrap(bufferRead);\r\n                    bitmap_tmp.copyPixelsFromBuffer(buffer);\r\n                    fileView.setImageBitmap(bitmap_tmp);\r\n                    break;\r\n\r\nI seem to always get a null value when I try to convert the byte array received from the other device when I convert it to a bitmap so I can use it to display it in an ImageView.\r\n\r\nWhat am I doing wrong?","title":"Received byte array containing bitmap returns null","body":"<p>I've been trying to send an image from one device to another using the BluetoothChat sample from Google. I can send string value from device to device but I'm having problems sending images. I have two classes handling the receiving and sending of data.</p>\n<p>For sending images, I convert the image path to bitmap then convert it to byte[] and pass that to the utility class, same as the BluetoothChat sample but with increased buffer size (1024 default, changed it to 8192). My code for the BluetoothSend class that sends data to the utility class is this,</p>\n<pre><code>send.setOnClickListener(view -&gt; {\n            Bitmap bitmap = BitmapFactory.decodeFile(filePath);\n\n            int width = bitmap.getRowBytes();\n            int height = bitmap.getHeight();\n            int bmpSize = width * height;\n\n            ByteBuffer byteBuffer = ByteBuffer.allocate(bmpSize);\n            bitmap.copyPixelsToBuffer(byteBuffer);\n\n            byte[] byteArray = byteBuffer.array();\n            sendUtils.write(byteArray);\n\n            bitmap.recycle();\n    });\n</code></pre>\n<p>This is the utility class that handles the sending and receiving of data,</p>\n<pre><code>/**\n * This thread runs during a connection with a remote device.\n * It handles all incoming and outgoing transmissions.\n */\nprivate class ConnectedThread extends Thread {\n    private final BluetoothSocket bluetoothsocket;\n    private final InputStream inputStream;\n    private final OutputStream outputStream;\n\n    public ConnectedThread(BluetoothSocket socket) {\n        bluetoothsocket = socket;\n        InputStream tmpIn = null;\n        OutputStream tmpOut = null;\n\n        try {\n            tmpIn = bluetoothsocket.getInputStream();\n            tmpOut = bluetoothsocket.getOutputStream();\n        } catch (IOException e) {\n            Log.e(&quot;ConnectedThrd-&gt;Cons&quot;, &quot;Socket not created.&quot;);\n            e.printStackTrace();\n        }\n        inputStream = tmpIn;\n        outputStream = tmpOut;\n    }\n\n    public void run() {\n        byte[] buffer = new byte[8192]; //1024 original\n        int bytes;\n\n        // Keep listening to the InputStream while connected\n        while (true) {\n            try {\n                // Read from the InputStream\n                try {\n                    bytes = inputStream.read(buffer);\n                    // Send the obtained bytes to the UI Activity\n                    handler.obtainMessage(BluetoothSend.MESSAGE_READ, bytes, -1, buffer).sendToTarget();\n                    handler.obtainMessage(BluetoothReceive.MESSAGE_READ, bytes, -1, buffer).sendToTarget();\n                } catch (NullPointerException n) {\n                    Log.e(&quot;ConnectedThrd-&gt;Run&quot;, n.getMessage());\n                }\n            } catch (IOException e) {\n                Log.e(&quot;ConnectedThrd-&gt;Run&quot;, &quot;Connection Lost.&quot;, e);\n                e.printStackTrace();\n                connectionLost();\n                break;\n            }\n        }\n    }\n\n    public void write(byte[] buffer) {\n        try {\n            try {\n                outputStream.write(buffer);\n                handler.obtainMessage(BluetoothSend.MESSAGE_WRITE, -1, -1, buffer)\n                        .sendToTarget();\n                handler.obtainMessage(BluetoothReceive.MESSAGE_WRITE, -1, -1, buffer)\n                        .sendToTarget();\n            } catch (NullPointerException n) {\n                Log.e(&quot;ConnectedThrd-&gt;Write&quot;, &quot;Bluetooth Socket is null: &quot; + n.getMessage());\n            }\n        } catch (IOException e) {\n            Log.e(&quot;ConnectedThread-&gt;Write&quot;, &quot;Empty write stream.&quot;);\n        }\n    }\n\n    public void cancel() {\n        try {\n            bluetoothsocket.close();\n        } catch (IOException e) {\n            Log.e(&quot;ConnectedThread-&gt;Cancel&quot;, &quot;Failed to close socket.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Lastly, on the BluetoothReceive class, I receive the data using a handler. Code for handler object is as follows,</p>\n<pre><code>            case MESSAGE_READ:\n                //Read message from sender\n                byte[] bufferRead = (byte[]) message.obj;\n                //bitmap decodedByte is null\n                Bitmap decodedByte = BitmapFactory.decodeByteArray(bufferRead, 0, bufferRead.length);\n                int height = decodedByte.getHeight();\n                int width = decodedByte.getWidth();\n\n                Bitmap.Config config = Bitmap.Config.valueOf(decodedByte.getConfig().name());\n                Bitmap bitmap_tmp = Bitmap.createBitmap(width, height, config);\n                ByteBuffer buffer = ByteBuffer.wrap(bufferRead);\n                bitmap_tmp.copyPixelsFromBuffer(buffer);\n                fileView.setImageBitmap(bitmap_tmp);\n                break;\n</code></pre>\n<p>I seem to always get a null value when I try to convert the byte array received from the other device when I convert it to a bitmap so I can use it to display it in an ImageView.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","observer-pattern","aws-iot"],"comments":[{"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"score":0,"creation_date":1673008972,"post_id":75029787,"comment_id":132406529,"body_markdown":"please share the code as well.","body":"please share the code as well."}],"owner":{"account_id":22089375,"reputation":41,"user_id":16347643,"display_name":"DEV_BOT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673001156,"creation_date":1673001156,"question_id":75029787,"body_markdown":"I am implementing a feature where at first service will send a request and depending on the asynchronous response service need to send another response. So I am using a onMessage Listner to listen from the AWS Topic, and depending on the response I need to send request in batch. \r\n\r\nfor example --&gt; 1st req is upper limit of a keys, then I will send the full data in group of that upper limit. \r\n\r\nSo I am using a observer class to make the other request. But while requesting second time service is getting stuck.\r\n\r\nWhat might be the cause of the function to stop suddenly? The debugging pointer is also suddenly disappearing after coming to that  awsIotClient.publish(topic, payload); function\r\n\r\nNeed help in approach, and please suggest what I might doing wrong.","title":"awsIotClient.publish(topic, payload); function taking so long to response and service getting stuck with no error msg","body":"<p>I am implementing a feature where at first service will send a request and depending on the asynchronous response service need to send another response. So I am using a onMessage Listner to listen from the AWS Topic, and depending on the response I need to send request in batch.</p>\n<p>for example --&gt; 1st req is upper limit of a keys, then I will send the full data in group of that upper limit.</p>\n<p>So I am using a observer class to make the other request. But while requesting second time service is getting stuck.</p>\n<p>What might be the cause of the function to stop suddenly? The debugging pointer is also suddenly disappearing after coming to that  awsIotClient.publish(topic, payload); function</p>\n<p>Need help in approach, and please suggest what I might doing wrong.</p>\n"},{"tags":["java","android","browser"],"answers":[{"tags":[],"owner":{"account_id":5173095,"reputation":6176,"user_id":4141049,"accept_rate":64,"display_name":"shmakova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666278159,"creation_date":1666085851,"answer_id":74108806,"question_id":74106526,"body_markdown":"For Android &gt;= Q use `RoleManager` with `ROLE_BROWSER` role.\r\n\r\nFor Android &lt; Q and &gt;= N navigate user to Android Default Apps Settings.\r\n\r\nFor Android &lt; N open help page to show user how to change default app.\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        private static final String SETTINGS_SELECT_OPTION_KEY = &quot;:settings:fragment_args_key&quot;;\r\n        private static final String SETTINGS_SHOW_FRAGMENT_ARGS = &quot;:settings:show_fragment_args&quot;;\r\n        private static final String DEFAULT_BROWSER_APP_OPTION = &quot;default_browser&quot;;\r\n    \r\n        private final ActivityResultLauncher&lt;Intent&gt; resultLauncher =\r\n                registerForActivityResult(\r\n                        new ActivityResultContracts.StartActivityForResult(),\r\n                        result -&gt; {\r\n                            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                                Toast.makeText(MainActivity.this, &quot;Role is granted&quot;, Toast.LENGTH_LONG).show();\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, &quot;Role is not granted&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }\r\n                );\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                RoleManager roleManager = (RoleManager) getSystemService(ROLE_SERVICE);\r\n                Intent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_BROWSER);\r\n                resultLauncher.launch(intent);\r\n            } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_DEFAULT_APPS_SETTINGS);\r\n                intent.putExtra(\r\n                        SETTINGS_SELECT_OPTION_KEY,\r\n                        DEFAULT_BROWSER_APP_OPTION\r\n                );\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(SETTINGS_SELECT_OPTION_KEY, DEFAULT_BROWSER_APP_OPTION);\r\n                intent.putExtra(\r\n                        SETTINGS_SHOW_FRAGMENT_ARGS,\r\n                        bundle\r\n                );\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(intent);\r\n            } else {\r\n                // Show some help page\r\n            }\r\n        }\r\n    }","title":"How to open Default Browser App dialog in my browser app","body":"<p>For Android &gt;= Q use <code>RoleManager</code> with <code>ROLE_BROWSER</code> role.</p>\n<p>For Android &lt; Q and &gt;= N navigate user to Android Default Apps Settings.</p>\n<p>For Android &lt; N open help page to show user how to change default app.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String SETTINGS_SELECT_OPTION_KEY = &quot;:settings:fragment_args_key&quot;;\n    private static final String SETTINGS_SHOW_FRAGMENT_ARGS = &quot;:settings:show_fragment_args&quot;;\n    private static final String DEFAULT_BROWSER_APP_OPTION = &quot;default_browser&quot;;\n\n    private final ActivityResultLauncher&lt;Intent&gt; resultLauncher =\n            registerForActivityResult(\n                    new ActivityResultContracts.StartActivityForResult(),\n                    result -&gt; {\n                        if (result.getResultCode() == Activity.RESULT_OK) {\n                            Toast.makeText(MainActivity.this, &quot;Role is granted&quot;, Toast.LENGTH_LONG).show();\n                        } else {\n                            Toast.makeText(MainActivity.this, &quot;Role is not granted&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }\n            );\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            RoleManager roleManager = (RoleManager) getSystemService(ROLE_SERVICE);\n            Intent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_BROWSER);\n            resultLauncher.launch(intent);\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_DEFAULT_APPS_SETTINGS);\n            intent.putExtra(\n                    SETTINGS_SELECT_OPTION_KEY,\n                    DEFAULT_BROWSER_APP_OPTION\n            );\n            Bundle bundle = new Bundle();\n            bundle.putString(SETTINGS_SELECT_OPTION_KEY, DEFAULT_BROWSER_APP_OPTION);\n            intent.putExtra(\n                    SETTINGS_SHOW_FRAGMENT_ARGS,\n                    bundle\n            );\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n        } else {\n            // Show some help page\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16277716,"reputation":13,"user_id":11754496,"display_name":"Pratik Dhoriyani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74108806,"answer_count":1,"score":1,"last_activity_date":1673001107,"creation_date":1666074057,"question_id":74106526,"body_markdown":"I am new to android development and have an issue with one problem.\r\n\r\nI want to show a Changing Default Browser App dialog to user. In that dialog all Browser Apps will be displayed and user can select one default browser app that he/she want to use.\r\n\r\nSo my question is, &quot;How to open Default Browser App dialog in my browser app?&quot;\r\n\r\nPlease see below attached screenshot of dialog for your reference.\r\n\r\n[Default Dialog Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tjwDg.png","title":"How to open Default Browser App dialog in my browser app","body":"<p>I am new to android development and have an issue with one problem.</p>\n<p>I want to show a Changing Default Browser App dialog to user. In that dialog all Browser Apps will be displayed and user can select one default browser app that he/she want to use.</p>\n<p>So my question is, &quot;How to open Default Browser App dialog in my browser app?&quot;</p>\n<p>Please see below attached screenshot of dialog for your reference.</p>\n<p><a href=\"https://i.stack.imgur.com/tjwDg.png\" rel=\"nofollow noreferrer\">Default Dialog Screenshot</a></p>\n"},{"tags":["java","maven","multi-module"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673000871,"creation_date":1673000871,"answer_id":75029742,"question_id":75028616,"body_markdown":"Usually, different related projects share the same groupId. There is no problem in that. The linked Maven page is misleading.","title":"How should I structure my maven projects of a grouped collection of modules?","body":"<p>Usually, different related projects share the same groupId. There is no problem in that. The linked Maven page is misleading.</p>\n"}],"owner":{"account_id":17348570,"reputation":79,"user_id":12567548,"display_name":"rheinert.leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75029742,"answer_count":1,"score":-1,"last_activity_date":1673000871,"creation_date":1672994076,"question_id":75028616,"body_markdown":"##### The general architecture\r\n\r\nWe have an internal java application (let&#39;s call it `com.example.framework`) acting as a kind of framework in the sense of being extensible through plugins. These plugins can serve various purposes. As an example, there will be a plugin for the support of the differnt database providers, e.g., MysqlPlugin, OraclePlugin and MssqlPlugin. On the other hand their might be support for exchange formats such as JSON or XML, etc.\r\n\r\n##### Code splitting\r\n\r\nThe framework application is developed as a seperate multi-module java project with the parent group id `com.example.framework` having the API/SPI as a distinct child module. Therefore, the plugins have this api-module as a dependecy called `com.example.framework.api`, which works perfectly fine. Idealy, each plugin will have its own artifact under a group called `com.example.framework.plugins` such that I will only have those plugins installed that are really needed.\r\n\r\n##### The problem to solve\r\n\r\nTo ease the developer experience, I would like to group plugins of similar functionality, which even might want to share a bit of code together to a git project while keeping some special ones alone. Now I wonder what the best way of structuring this in the maven system is.\r\n\r\n\r\n##### Current idea\r\n\r\nThe best solution I could find is to also use the multi-module approach for grouped plugin projects to achieve splitted artifacts while being able to share code between two plugins. However, I am still confused about the groupId and version of the parent:\r\n\r\nThe [naming convention of maven](https://maven.apache.org/guides/mini/guide-naming-conventions.html) suggests to use a unique groupId for each project. This would mean to introduce another depth of naming, e.g. `com.example.framework.plugins.sql.mysql`, which would be inconvenient, since the name of a plugin is no longer sufficient to derive the full module name (with the a-priori knowledge of the common package name `com.example.framework.plugins`). So I wonder, whether the purpose of the convention is soley to avoid possible duplicates by design? Since I control the namespace and all plugins, I would make sure that there are no conflicts.\r\n\r\n##### The actual question\r\n\r\nIf I were to remove the intermediate name layer and thus have multiple parent poms with the same groupId, what problems could arise? Since plugins would not even share versions, the parent has no real purpose and also no artifact on its own that could collide, or am I missing anything?\r\nOr is my entire structure not ideal and I should adopt some other form? During my research I could not find any similar use-case.","title":"How should I structure my maven projects of a grouped collection of modules?","body":"<h5>The general architecture</h5>\n<p>We have an internal java application (let's call it <code>com.example.framework</code>) acting as a kind of framework in the sense of being extensible through plugins. These plugins can serve various purposes. As an example, there will be a plugin for the support of the differnt database providers, e.g., MysqlPlugin, OraclePlugin and MssqlPlugin. On the other hand their might be support for exchange formats such as JSON or XML, etc.</p>\n<h5>Code splitting</h5>\n<p>The framework application is developed as a seperate multi-module java project with the parent group id <code>com.example.framework</code> having the API/SPI as a distinct child module. Therefore, the plugins have this api-module as a dependecy called <code>com.example.framework.api</code>, which works perfectly fine. Idealy, each plugin will have its own artifact under a group called <code>com.example.framework.plugins</code> such that I will only have those plugins installed that are really needed.</p>\n<h5>The problem to solve</h5>\n<p>To ease the developer experience, I would like to group plugins of similar functionality, which even might want to share a bit of code together to a git project while keeping some special ones alone. Now I wonder what the best way of structuring this in the maven system is.</p>\n<h5>Current idea</h5>\n<p>The best solution I could find is to also use the multi-module approach for grouped plugin projects to achieve splitted artifacts while being able to share code between two plugins. However, I am still confused about the groupId and version of the parent:</p>\n<p>The <a href=\"https://maven.apache.org/guides/mini/guide-naming-conventions.html\" rel=\"nofollow noreferrer\">naming convention of maven</a> suggests to use a unique groupId for each project. This would mean to introduce another depth of naming, e.g. <code>com.example.framework.plugins.sql.mysql</code>, which would be inconvenient, since the name of a plugin is no longer sufficient to derive the full module name (with the a-priori knowledge of the common package name <code>com.example.framework.plugins</code>). So I wonder, whether the purpose of the convention is soley to avoid possible duplicates by design? Since I control the namespace and all plugins, I would make sure that there are no conflicts.</p>\n<h5>The actual question</h5>\n<p>If I were to remove the intermediate name layer and thus have multiple parent poms with the same groupId, what problems could arise? Since plugins would not even share versions, the parent has no real purpose and also no artifact on its own that could collide, or am I missing anything?\nOr is my entire structure not ideal and I should adopt some other form? During my research I could not find any similar use-case.</p>\n"},{"tags":["java","intellij-idea","checkstyle"],"comments":[{"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":0,"creation_date":1673001109,"post_id":75029681,"comment_id":132404340,"body_markdown":"Did you reformat code?","body":"Did you reformat code?"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673001709,"post_id":75029681,"comment_id":132404516,"body_markdown":"you can configure the code formatting or use a different code formatter in Preferences -&gt; Editor -&gt; Code Style -&gt; Java","body":"you can configure the code formatting or use a different code formatter in Preferences -&gt; Editor -&gt; Code Style -&gt; Java"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":2,"creation_date":1673005731,"post_id":75029681,"comment_id":132405652,"body_markdown":"This cannot currently be done, probably because switch expressions follow expression formatting rules, and we usually configure idea to add extra indentation when an expression spans multiple lines. (Or it may be due to some other reason, I am not sure.) Go file a bug or feature request in the IntelliJ IDEA tracker: https://youtrack.jetbrains.com/issues/idea","body":"This cannot currently be done, probably because switch expressions follow expression formatting rules, and we usually configure idea to add extra indentation when an expression spans multiple lines. (Or it may be due to some other reason, I am not sure.) Go file a bug or feature request in the IntelliJ IDEA tracker: <a href=\"https://youtrack.jetbrains.com/issues/idea\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/idea</a>"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673000581,"creation_date":1673000581,"question_id":75029681,"body_markdown":"Intellij formats my switch expression this way:\r\n\r\n```\r\n        String foo = switch ( bar )\r\n            {\r\n                case &quot;one&quot; -&gt; &quot;Narf&quot;;\r\n                case &quot;two&quot; -&gt; &quot;Zort&quot;;\r\n                default -&gt; &quot;Poit&quot;;\r\n            }\r\n```\r\n\r\nAnd I want to be formatted in this way:\r\n\r\n```\r\n        String foo = switch(bar) \r\n        {\r\n            case &quot;one&quot; -&gt; &quot;Narf&quot;;\r\n            case &quot;two&quot; -&gt; &quot;Zort&quot;;\r\n            default -&gt; &quot;Poit&quot;;\r\n        }\r\n```\r\n\r\nI&#39;ve tried multiple settings but none of them did the trick.\r\n\r\nMy checkstyle tasks keep failing every time Intellij formats a switch expression.\r\n\r\nFor now I&#39;ve disabled the formatting on that lines but ideally, I would like to properly fix this.","title":"Intellij new switch expressions formatting","body":"<p>Intellij formats my switch expression this way:</p>\n<pre><code>        String foo = switch ( bar )\n            {\n                case &quot;one&quot; -&gt; &quot;Narf&quot;;\n                case &quot;two&quot; -&gt; &quot;Zort&quot;;\n                default -&gt; &quot;Poit&quot;;\n            }\n</code></pre>\n<p>And I want to be formatted in this way:</p>\n<pre><code>        String foo = switch(bar) \n        {\n            case &quot;one&quot; -&gt; &quot;Narf&quot;;\n            case &quot;two&quot; -&gt; &quot;Zort&quot;;\n            default -&gt; &quot;Poit&quot;;\n        }\n</code></pre>\n<p>I've tried multiple settings but none of them did the trick.</p>\n<p>My checkstyle tasks keep failing every time Intellij formats a switch expression.</p>\n<p>For now I've disabled the formatting on that lines but ideally, I would like to properly fix this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":2,"creation_date":1401472019,"post_id":23960542,"comment_id":36913004,"body_markdown":"http://gcc.gnu.org/java/","body":"<a href=\"http://gcc.gnu.org/java/\" rel=\"nofollow noreferrer\">gcc.gnu.org/java</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1401472133,"post_id":23960542,"comment_id":36913074,"body_markdown":"@arshajii Slightly better link might be - https://gcc.gnu.org/java/gcj2.html","body":"@arshajii Slightly better link might be - <a href=\"https://gcc.gnu.org/java/gcj2.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/java/gcj2.html</a>"},{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":0,"creation_date":1401623199,"post_id":23960542,"comment_id":36948110,"body_markdown":"Better or not, but certainly more enlightening: https://gcc.gnu.org/java/status.html","body":"Better or not, but certainly more enlightening: <a href=\"https://gcc.gnu.org/java/status.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/java/status.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1401472254,"creation_date":1401472254,"answer_id":23960624,"question_id":23960542,"body_markdown":"As it has been pointed out, [GCJ](http://gcc.gnu.org/java/) is the way to go:  \r\n\r\n&gt; GCJ is a portable, optimizing, ahead-of-time compiler for the Java\r\n&gt; Programming Language. It can compile Java source code to Java bytecode\r\n&gt; (class files) or directly to native machine code, and Java bytecode to\r\n&gt; native machine code.  \r\n\r\nThey do [have a manual](https://gcc.gnu.org/onlinedocs/gcc-4.9.0/gcc/) to get you started.","title":"Java bytecode to machine code","body":"<p>As it has been pointed out, <a href=\"http://gcc.gnu.org/java/\" rel=\"nofollow\">GCJ</a> is the way to go:  </p>\n\n<blockquote>\n  <p>GCJ is a portable, optimizing, ahead-of-time compiler for the Java\n  Programming Language. It can compile Java source code to Java bytecode\n  (class files) or directly to native machine code, and Java bytecode to\n  native machine code.  </p>\n</blockquote>\n\n<p>They do <a href=\"https://gcc.gnu.org/onlinedocs/gcc-4.9.0/gcc/\" rel=\"nofollow\">have a manual</a> to get you started.</p>\n"},{"tags":[],"owner":{"account_id":8718957,"reputation":900,"user_id":6522669,"display_name":"Wolfgang Grinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654775507,"creation_date":1654775507,"answer_id":72559775,"question_id":23960542,"body_markdown":"Without a JVM, running Java Programs can be achieved using GraalVM with alleged performance improvements. See https://www.graalvm.org/22.1/reference-manual/native-image/\r\n","title":"Java bytecode to machine code","body":"<p>Without a JVM, running Java Programs can be achieved using GraalVM with alleged performance improvements. See <a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/reference-manual/native-image/</a></p>\n"},{"tags":[],"owner":{"account_id":8718957,"reputation":900,"user_id":6522669,"display_name":"Wolfgang Grinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673000463,"creation_date":1673000463,"answer_id":75029659,"question_id":23960542,"body_markdown":"Another option is using IKVM and .NET6+. IKVM is converting Java to a .NET Application. Under .NET 6+, one can then turn this into a natively compiled application, so .NET does not need to exist on the target Windows system.\r\n\r\nNote that performance may suffer, if you go this route.","title":"Java bytecode to machine code","body":"<p>Another option is using IKVM and .NET6+. IKVM is converting Java to a .NET Application. Under .NET 6+, one can then turn this into a natively compiled application, so .NET does not need to exist on the target Windows system.</p>\n<p>Note that performance may suffer, if you go this route.</p>\n"}],"owner":{"account_id":1300126,"reputation":3092,"user_id":1250229,"display_name":"Mifmif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10030,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23960624,"answer_count":3,"score":2,"last_activity_date":1673000463,"creation_date":1401471930,"question_id":23960542,"body_markdown":"Can we convert Java byte-code to machine code in a Windows that will work without the JVM  ? there are many tools that wrap Jar application into an executable like [Launch4J][1]  but it&#39;s always an application that depend to JVM.\r\n\r\n\r\n  [1]: http://launch4j.sourceforge.net/","title":"Java bytecode to machine code","body":"<p>Can we convert Java byte-code to machine code in a Windows that will work without the JVM  ? there are many tools that wrap Jar application into an executable like <a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow\">Launch4J</a>  but it's always an application that depend to JVM.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673011259,"post_id":75029629,"comment_id":132407168,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27451779,"reputation":11,"user_id":20943898,"display_name":"Ragnar_viking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673000304,"creation_date":1673000304,"question_id":75029629,"body_markdown":"- \\`After updating Springboot version to 2.7.5, im getting error like this\r\n- **Error creating bean with name &#39;documentationPluginsBootstrapper&#39; defined in URL.**\r\n- \r\n- dependencies im using in my projects are\r\n- springfox-swagger2 -\\&gt; 2.6.1\r\n- springfox-swagger-ui -\\&gt; 2.6.1\r\n- springboot-starter-plugins -\\&gt; 2.7.5\r\n- \r\n- i have checked throughly there is no dependecies conflict...  I tried with latest springfox dependencies and  with latest springboot version 3.0.x  Tried by adding the property in app.prop file  **spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER**  I have added/removed @EnableWebMvc @EnableSwagger2 on configuration class.\\`","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;documentationPluginsBootstrapper&#39; defined in URL","body":"<ul>\n<li>`After updating Springboot version to 2.7.5, im getting error like this</li>\n<li><strong>Error creating bean with name 'documentationPluginsBootstrapper' defined in URL.</strong></li>\n<li></li>\n<li>dependencies im using in my projects are</li>\n<li>springfox-swagger2 -&gt; 2.6.1</li>\n<li>springfox-swagger-ui -&gt; 2.6.1</li>\n<li>springboot-starter-plugins -&gt; 2.7.5</li>\n<li></li>\n<li>i have checked throughly there is no dependecies conflict...  I tried with latest springfox dependencies and  with latest springboot version 3.0.x  Tried by adding the property in app.prop file  <strong>spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER</strong>  I have added/removed @EnableWebMvc @EnableSwagger2 on configuration class.`</li>\n</ul>\n"},{"tags":["java","json","serialization","jackson","customization"],"comments":[{"owner":{"account_id":2727305,"reputation":737,"user_id":2351996,"display_name":"Timur Milovanov"},"score":1,"creation_date":1488213701,"post_id":14714328,"comment_id":72121536,"body_markdown":"Since Jackson-2.5 JsonAppend annotation can solve this problem. See @Henrik [answer below](http://stackoverflow.com/a/42455398/2351996)","body":"Since Jackson-2.5 JsonAppend annotation can solve this problem. See @Henrik <a href=\"http://stackoverflow.com/a/42455398/2351996\">answer below</a>"}],"answers":[{"tags":[],"owner":{"account_id":34289,"reputation":6274,"user_id":96766,"accept_rate":88,"display_name":"Alex Vayda"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1360243730,"creation_date":1360243730,"answer_id":14752292,"question_id":14714328,"body_markdown":"After looking more on the _Jackson_ source code I concluded that it&#39;s simply impossible to achieve without writing my own `BeanSerializer`, `BeanSerializerBuilder` and `BeanSerializerFactory` and provide some extension points like:\r\n\r\n    /*\r\n    /**********************************************************\r\n    /* Extension points\r\n    /**********************************************************\r\n     */\r\n\r\n    protected void beforeEndObject(T bean, JsonGenerator jgen, SerializerProvider provider) throws IOException, JSONException {\r\n        // May be overridden\r\n    }\r\n\r\n    protected void afterStartObject(T bean, JsonGenerator jgen, SerializerProvider provider) throws IOException, JSONException {\r\n        // May be overridden\r\n    }\r\n\r\nUnfortunately I had to copy and paste entire _Jackson_&#39;s `BeanSerializer` source code to `MyCustomBeanSerializer` because the former is not developed for extensions declaring all the fields and some important methods (like `serialize(...)`) as `final`","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>After looking more on the <em>Jackson</em> source code I concluded that it's simply impossible to achieve without writing my own <code>BeanSerializer</code>, <code>BeanSerializerBuilder</code> and <code>BeanSerializerFactory</code> and provide some extension points like:</p>\n\n<pre><code>/*\n/**********************************************************\n/* Extension points\n/**********************************************************\n */\n\nprotected void beforeEndObject(T bean, JsonGenerator jgen, SerializerProvider provider) throws IOException, JSONException {\n    // May be overridden\n}\n\nprotected void afterStartObject(T bean, JsonGenerator jgen, SerializerProvider provider) throws IOException, JSONException {\n    // May be overridden\n}\n</code></pre>\n\n<p>Unfortunately I had to copy and paste entire <em>Jackson</em>'s <code>BeanSerializer</code> source code to <code>MyCustomBeanSerializer</code> because the former is not developed for extensions declaring all the fields and some important methods (like <code>serialize(...)</code>) as <code>final</code></p>\n"},{"tags":[],"owner":{"account_id":1164520,"reputation":4993,"user_id":1143427,"display_name":"ryanp"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1412961493,"creation_date":1363103738,"answer_id":15365957,"question_id":14714328,"body_markdown":"Since (I think) Jackson 1.7 you can do this with a `BeanSerializerModifier` and extending `BeanSerializerBase`. I&#39;ve tested the example below with Jackson 2.0.4.\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.BeanDescription;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationConfig;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\r\n    import com.fasterxml.jackson.databind.ser.impl.ObjectIdWriter;\r\n    import com.fasterxml.jackson.databind.ser.std.BeanSerializerBase;\r\n    \r\n    \r\n    public class JacksonSerializeWithExtraField {\r\n    \r\n    \t@Test\r\n    \tpublic void testAddExtraField() throws Exception\r\n    \t{\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\t\r\n    \t\tmapper.registerModule(new SimpleModule() {\r\n    \t\t\r\n    \t\t\tpublic void setupModule(SetupContext context) {\r\n    \t\t\t\tsuper.setupModule(context);\r\n    \t\t\t\r\n    \t\t\t\tcontext.addBeanSerializerModifier(new BeanSerializerModifier() {\r\n    \r\n    \t\t\t\t\tpublic JsonSerializer&lt;?&gt; modifySerializer(\r\n    \t\t\t\t\t\t\tSerializationConfig config,\r\n    \t\t\t\t\t\t\tBeanDescription beanDesc,\r\n    \t\t\t\t\t\t\tJsonSerializer&lt;?&gt; serializer) {\r\n                            if (serializer instanceof BeanSerializerBase) { \r\n    \t\t\t\t\t\t      return new ExtraFieldSerializer(\r\n    \t\t\t\t\t\t\t\t   (BeanSerializerBase) serializer);\r\n                            } \r\n                            return serializer; \r\n\r\n    \t\t\t\t\t}\t\t\t\t\t\r\n    \t\t\t\t});\r\n    \t\t\t}\t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tmapper.writeValue(System.out, new MyClass());\t\t\r\n    \t\t//prints {&quot;classField&quot;:&quot;classFieldValue&quot;,&quot;extraField&quot;:&quot;extraFieldValue&quot;}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tclass MyClass {\r\n    \t\t\r\n    \t\tprivate String classField = &quot;classFieldValue&quot;;\r\n    \t\t\r\n    \t\tpublic String getClassField() { \r\n    \t\t\treturn classField; \r\n    \t\t}\r\n    \t\tpublic void setClassField(String classField) { \r\n    \t\t\tthis.classField = classField; \r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tclass ExtraFieldSerializer extends BeanSerializerBase {\r\n    \t\t\r\n    \t\tExtraFieldSerializer(BeanSerializerBase source) {\r\n    \t\t\tsuper(source);\r\n    \t\t}\r\n    \t\t\r\n    \t\tExtraFieldSerializer(ExtraFieldSerializer source, \r\n    \t\t\t\tObjectIdWriter objectIdWriter) {\r\n    \t\t\tsuper(source, objectIdWriter);\r\n    \t\t}\r\n    \r\n    \t\tExtraFieldSerializer(ExtraFieldSerializer source, \r\n    \t\t\t\tString[] toIgnore) {\r\n    \t\t\tsuper(source, toIgnore);\r\n    \t\t}\r\n    \r\n    \t\tprotected BeanSerializerBase withObjectIdWriter(\r\n    \t\t\t\tObjectIdWriter objectIdWriter) {\r\n    \t\t\treturn new ExtraFieldSerializer(this, objectIdWriter);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprotected BeanSerializerBase withIgnorals(String[] toIgnore) {\r\n    \t\t\treturn new ExtraFieldSerializer(this, toIgnore);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void serialize(Object bean, JsonGenerator jgen,\r\n    \t\t\t\tSerializerProvider provider) throws IOException,\r\n    \t\t\t\tJsonGenerationException {\t\t\t\r\n    \t\t\tjgen.writeStartObject();\t\t\t\t\t\t\r\n    \t\t\tserializeFields(bean, jgen, provider);\r\n    \t\t\tjgen.writeStringField(&quot;extraField&quot;, &quot;extraFieldValue&quot;);\t\r\n    \t\t\tjgen.writeEndObject();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>Since (I think) Jackson 1.7 you can do this with a <code>BeanSerializerModifier</code> and extending <code>BeanSerializerBase</code>. I've tested the example below with Jackson 2.0.4.</p>\n\n<pre><code>import java.io.IOException;\n\nimport org.junit.Test;\n\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationConfig;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\nimport com.fasterxml.jackson.databind.ser.impl.ObjectIdWriter;\nimport com.fasterxml.jackson.databind.ser.std.BeanSerializerBase;\n\n\npublic class JacksonSerializeWithExtraField {\n\n    @Test\n    public void testAddExtraField() throws Exception\n    {\n        ObjectMapper mapper = new ObjectMapper();\n\n        mapper.registerModule(new SimpleModule() {\n\n            public void setupModule(SetupContext context) {\n                super.setupModule(context);\n\n                context.addBeanSerializerModifier(new BeanSerializerModifier() {\n\n                    public JsonSerializer&lt;?&gt; modifySerializer(\n                            SerializationConfig config,\n                            BeanDescription beanDesc,\n                            JsonSerializer&lt;?&gt; serializer) {\n                        if (serializer instanceof BeanSerializerBase) { \n                              return new ExtraFieldSerializer(\n                                   (BeanSerializerBase) serializer);\n                        } \n                        return serializer; \n\n                    }                   \n                });\n            }           \n        });\n\n        mapper.writeValue(System.out, new MyClass());       \n        //prints {\"classField\":\"classFieldValue\",\"extraField\":\"extraFieldValue\"}\n    }\n\n\n    class MyClass {\n\n        private String classField = \"classFieldValue\";\n\n        public String getClassField() { \n            return classField; \n        }\n        public void setClassField(String classField) { \n            this.classField = classField; \n        }\n    }\n\n\n    class ExtraFieldSerializer extends BeanSerializerBase {\n\n        ExtraFieldSerializer(BeanSerializerBase source) {\n            super(source);\n        }\n\n        ExtraFieldSerializer(ExtraFieldSerializer source, \n                ObjectIdWriter objectIdWriter) {\n            super(source, objectIdWriter);\n        }\n\n        ExtraFieldSerializer(ExtraFieldSerializer source, \n                String[] toIgnore) {\n            super(source, toIgnore);\n        }\n\n        protected BeanSerializerBase withObjectIdWriter(\n                ObjectIdWriter objectIdWriter) {\n            return new ExtraFieldSerializer(this, objectIdWriter);\n        }\n\n        protected BeanSerializerBase withIgnorals(String[] toIgnore) {\n            return new ExtraFieldSerializer(this, toIgnore);\n        }\n\n        public void serialize(Object bean, JsonGenerator jgen,\n                SerializerProvider provider) throws IOException,\n                JsonGenerationException {           \n            jgen.writeStartObject();                        \n            serializeFields(bean, jgen, provider);\n            jgen.writeStringField(\"extraField\", \"extraFieldValue\"); \n            jgen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1564791833,"creation_date":1408355929,"answer_id":25360636,"question_id":14714328,"body_markdown":"You can do this (previous version did not work with Jackson after 2.6, but this works with Jackson 2.7.3):\r\n\r\n    public static class CustomModule extends SimpleModule {\r\n        public CustomModule() {\r\n            addSerializer(CustomClass.class, new CustomClassSerializer());\r\n        }\r\n\r\n        private static class CustomClassSerializer extends JsonSerializer {\r\n            @Override\r\n            public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n                //Validate.isInstanceOf(CustomClass.class, value);\r\n                jgen.writeStartObject();\r\n                JavaType javaType = provider.constructType(CustomClass.class);\r\n                BeanDescription beanDesc = provider.getConfig().introspect(javaType);\r\n                JsonSerializer&lt;Object&gt; serializer = BeanSerializerFactory.instance.findBeanSerializer(provider,\r\n                        javaType,\r\n                        beanDesc);\r\n                // this is basically your &#39;writeAllFields()&#39;-method:\r\n                serializer.unwrappingSerializer(null).serialize(value, jgen, provider);\r\n                jgen.writeObjectField(&quot;my_extra_field&quot;, &quot;some data&quot;);\r\n                jgen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n### Update:\r\n\r\nI tried it out with Jackson 2.9.0 and 2.9.6 and it worked as expected with both. Perhaps try this out: http://jdoodle.com/a/z99 (run it locally - jdoodle apparently can&#39;t handle Jackson).","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>You can do this (previous version did not work with Jackson after 2.6, but this works with Jackson 2.7.3):</p>\n\n<pre><code>public static class CustomModule extends SimpleModule {\n    public CustomModule() {\n        addSerializer(CustomClass.class, new CustomClassSerializer());\n    }\n\n    private static class CustomClassSerializer extends JsonSerializer {\n        @Override\n        public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n            //Validate.isInstanceOf(CustomClass.class, value);\n            jgen.writeStartObject();\n            JavaType javaType = provider.constructType(CustomClass.class);\n            BeanDescription beanDesc = provider.getConfig().introspect(javaType);\n            JsonSerializer&lt;Object&gt; serializer = BeanSerializerFactory.instance.findBeanSerializer(provider,\n                    javaType,\n                    beanDesc);\n            // this is basically your 'writeAllFields()'-method:\n            serializer.unwrappingSerializer(null).serialize(value, jgen, provider);\n            jgen.writeObjectField(\"my_extra_field\", \"some data\");\n            jgen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n\n<h3>Update:</h3>\n\n<p>I tried it out with Jackson 2.9.0 and 2.9.6 and it worked as expected with both. Perhaps try this out: <a href=\"http://jdoodle.com/a/z99\" rel=\"noreferrer\">http://jdoodle.com/a/z99</a> (run it locally - jdoodle apparently can't handle Jackson).</p>\n"},{"tags":[],"owner":{"account_id":2911711,"reputation":1253,"user_id":2495752,"accept_rate":47,"display_name":"Sourabh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413459490,"creation_date":1413459490,"answer_id":26403440,"question_id":14714328,"body_markdown":"We can use reflection to get all the fields of the object you want to parse.\r\n\r\n    @JsonSerialize(using=CustomSerializer.class)\r\n    class Test{\r\n      int id;\r\n      String name;\r\n      String hash;\r\n    }    \r\n\r\n    \r\n \r\n\r\n   In custom serializer, we have our serialize method like this : \r\n\r\n        \r\n\r\n            @Override\r\n        \tpublic void serialize(Test value, JsonGenerator jgen,\r\n        \t\t\tSerializerProvider provider) throws IOException,\r\n        \t\t\tJsonProcessingException {\r\n        \t\t\r\n        \t\tjgen.writeStartObject();\r\n        \t\tField[] fields = value.getClass().getDeclaredFields();\r\n        \t\t\r\n        \t\tfor (Field field : fields) {\r\n        \t\t\ttry {\r\n        \t\t\t\tjgen.writeObjectField(field.getName(), field.get(value));\r\n        \t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n                jgen.writeObjectField(&quot;extra_field&quot;, &quot;whatever_value&quot;);\r\n        \t\tjgen.writeEndObject();\r\n        \t\t\r\n        \t}\r\n","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>We can use reflection to get all the fields of the object you want to parse.</p>\n\n<pre><code>@JsonSerialize(using=CustomSerializer.class)\nclass Test{\n  int id;\n  String name;\n  String hash;\n}    \n</code></pre>\n\n<p>In custom serializer, we have our serialize method like this : </p>\n\n<pre><code>        @Override\n        public void serialize(Test value, JsonGenerator jgen,\n                SerializerProvider provider) throws IOException,\n                JsonProcessingException {\n\n            jgen.writeStartObject();\n            Field[] fields = value.getClass().getDeclaredFields();\n\n            for (Field field : fields) {\n                try {\n                    jgen.writeObjectField(field.getName(), field.get(value));\n                } catch (IllegalArgumentException | IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n\n            }\n            jgen.writeObjectField(\"extra_field\", \"whatever_value\");\n            jgen.writeEndObject();\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2159157,"reputation":697,"user_id":1913722,"accept_rate":100,"display_name":"allenru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426541316,"creation_date":1426541316,"answer_id":29087258,"question_id":14714328,"body_markdown":"I needed this ability as well; in my case, to support field expansion on REST services.  I ended up developing a tiny framework to solve this problem, and it&#39;s open sourced on [github][1].  It&#39;s also available in the [maven central repository][2].\r\n\r\nIt takes care of all the work.  Simply wrap the POJO in a MorphedResult, and then add or remove properties at will.  When serialized, the MorphedResult wrapper disappears and any &#39;changes&#39; appear in the serialized JSON object.\r\n\r\n    MorphedResult&lt;?&gt; result = new MorphedResult&lt;&gt;(pojo);\r\n    result.addExpansionData(&quot;my_extra_field&quot;, &quot;some data&quot;);\r\n\r\nSee the github page for more details and examples.  Be sure to register the libraries &#39;filter&#39; with Jackson&#39;s object mapper like so:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setFilters(new FilteredResultProvider());\r\n\r\n  [1]: https://github.com/Russell-Allen/jackson-morphed-result\r\n  [2]: http://mvnrepository.com/artifact/com.allenru/jackson-morphed-result/1.0.0","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>I needed this ability as well; in my case, to support field expansion on REST services.  I ended up developing a tiny framework to solve this problem, and it's open sourced on <a href=\"https://github.com/Russell-Allen/jackson-morphed-result\" rel=\"nofollow\">github</a>.  It's also available in the <a href=\"http://mvnrepository.com/artifact/com.allenru/jackson-morphed-result/1.0.0\" rel=\"nofollow\">maven central repository</a>.</p>\n\n<p>It takes care of all the work.  Simply wrap the POJO in a MorphedResult, and then add or remove properties at will.  When serialized, the MorphedResult wrapper disappears and any 'changes' appear in the serialized JSON object.</p>\n\n<pre><code>MorphedResult&lt;?&gt; result = new MorphedResult&lt;&gt;(pojo);\nresult.addExpansionData(\"my_extra_field\", \"some data\");\n</code></pre>\n\n<p>See the github page for more details and examples.  Be sure to register the libraries 'filter' with Jackson's object mapper like so:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setFilters(new FilteredResultProvider());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2995072,"reputation":461,"user_id":2541764,"display_name":"Charlouze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445430130,"creation_date":1445382334,"answer_id":33248328,"question_id":14714328,"body_markdown":"Inspired from what wajda said and written in this [gist](https://gist.github.com/charlouze/6f093a313ca7d76f39d2):\r\n\r\nHere is how to add a listener for bean serialization in jackson 1.9.12. In this example, the listerner is considered as a Chain Of Command which interface is :\r\n\r\n    public interface BeanSerializerListener {\r\n        void postSerialization(Object value, JsonGenerator jgen) throws IOException;\r\n    }\r\n\r\nMyBeanSerializer.java:\r\n\r\n    public class MyBeanSerializer extends BeanSerializerBase {\r\n        private final BeanSerializerListener serializerListener;\r\n    \r\n        protected MyBeanSerializer(final BeanSerializerBase src, final BeanSerializerListener serializerListener) {\r\n            super(src);\r\n            this.serializerListener = serializerListener;\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(final Object bean, final JsonGenerator jgen, final SerializerProvider provider) throws IOException, JsonGenerationException {\r\n            jgen.writeStartObject();\r\n            if (_propertyFilterId != null) {\r\n                serializeFieldsFiltered(bean, jgen, provider);\r\n            } else {\r\n                serializeFields(bean, jgen, provider);\r\n            }\r\n    \r\n            serializerListener.postSerialization(bean, jgen);\r\n    \r\n            jgen.writeEndObject();\r\n        }\r\n    }\r\n\r\nMyBeanSerializerBuilder.java:\r\n\r\n    public class MyBeanSerializerBuilder extends BeanSerializerBuilder {\r\n        private final BeanSerializerListener serializerListener;\r\n    \r\n        public MyBeanSerializerBuilder(final BasicBeanDescription beanDesc, final BeanSerializerListener serializerListener) {\r\n            super(beanDesc);\r\n            this.serializerListener = serializerListener;\r\n        }\r\n    \r\n        @Override\r\n        public JsonSerializer&lt;?&gt; build() {\r\n            BeanSerializerBase src = (BeanSerializerBase) super.build();\r\n            return new MyBeanSerializer(src, serializerListener);\r\n        }\r\n    }\r\n\r\nMyBeanSerializerFactory.java:\r\n\r\n    public class MyBeanSerializerFactory extends BeanSerializerFactory {\r\n    \r\n        private final BeanSerializerListener serializerListener;\r\n    \r\n        public MyBeanSerializerFactory(final BeanSerializerListener serializerListener) {\r\n            super(null);\r\n            this.serializerListener = serializerListener;\r\n        }\r\n    \r\n        @Override\r\n        protected BeanSerializerBuilder constructBeanSerializerBuilder(final BasicBeanDescription beanDesc) {\r\n            return new MyBeanSerializerBuilder(beanDesc, serializerListener);\r\n        }\r\n    }\r\n\r\nThe last class below shows how to provide it using Resteasy 3.0.7:\r\n\r\n    @Provider\r\n    public class ObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\r\n        private final MapperConfigurator mapperCfg;\r\n    \r\n        public ObjectMapperProvider() {\r\n            mapperCfg = new MapperConfigurator(null, null);\r\n            mapperCfg.setAnnotationsToUse(new Annotations[]{Annotations.JACKSON, Annotations.JAXB});\r\n            mapperCfg.getConfiguredMapper().setSerializerFactory(serializerFactory);\r\n        }\r\n    \r\n        @Override\r\n        public ObjectMapper getContext(final Class&lt;?&gt; type) {\r\n            return mapperCfg.getConfiguredMapper();\r\n        }\r\n    }","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>Inspired from what wajda said and written in this <a href=\"https://gist.github.com/charlouze/6f093a313ca7d76f39d2\" rel=\"nofollow\">gist</a>:</p>\n\n<p>Here is how to add a listener for bean serialization in jackson 1.9.12. In this example, the listerner is considered as a Chain Of Command which interface is :</p>\n\n<pre><code>public interface BeanSerializerListener {\n    void postSerialization(Object value, JsonGenerator jgen) throws IOException;\n}\n</code></pre>\n\n<p>MyBeanSerializer.java:</p>\n\n<pre><code>public class MyBeanSerializer extends BeanSerializerBase {\n    private final BeanSerializerListener serializerListener;\n\n    protected MyBeanSerializer(final BeanSerializerBase src, final BeanSerializerListener serializerListener) {\n        super(src);\n        this.serializerListener = serializerListener;\n    }\n\n    @Override\n    public void serialize(final Object bean, final JsonGenerator jgen, final SerializerProvider provider) throws IOException, JsonGenerationException {\n        jgen.writeStartObject();\n        if (_propertyFilterId != null) {\n            serializeFieldsFiltered(bean, jgen, provider);\n        } else {\n            serializeFields(bean, jgen, provider);\n        }\n\n        serializerListener.postSerialization(bean, jgen);\n\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>MyBeanSerializerBuilder.java:</p>\n\n<pre><code>public class MyBeanSerializerBuilder extends BeanSerializerBuilder {\n    private final BeanSerializerListener serializerListener;\n\n    public MyBeanSerializerBuilder(final BasicBeanDescription beanDesc, final BeanSerializerListener serializerListener) {\n        super(beanDesc);\n        this.serializerListener = serializerListener;\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; build() {\n        BeanSerializerBase src = (BeanSerializerBase) super.build();\n        return new MyBeanSerializer(src, serializerListener);\n    }\n}\n</code></pre>\n\n<p>MyBeanSerializerFactory.java:</p>\n\n<pre><code>public class MyBeanSerializerFactory extends BeanSerializerFactory {\n\n    private final BeanSerializerListener serializerListener;\n\n    public MyBeanSerializerFactory(final BeanSerializerListener serializerListener) {\n        super(null);\n        this.serializerListener = serializerListener;\n    }\n\n    @Override\n    protected BeanSerializerBuilder constructBeanSerializerBuilder(final BasicBeanDescription beanDesc) {\n        return new MyBeanSerializerBuilder(beanDesc, serializerListener);\n    }\n}\n</code></pre>\n\n<p>The last class below shows how to provide it using Resteasy 3.0.7:</p>\n\n<pre><code>@Provider\npublic class ObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\n    private final MapperConfigurator mapperCfg;\n\n    public ObjectMapperProvider() {\n        mapperCfg = new MapperConfigurator(null, null);\n        mapperCfg.setAnnotationsToUse(new Annotations[]{Annotations.JACKSON, Annotations.JAXB});\n        mapperCfg.getConfiguredMapper().setSerializerFactory(serializerFactory);\n    }\n\n    @Override\n    public ObjectMapper getContext(final Class&lt;?&gt; type) {\n        return mapperCfg.getConfiguredMapper();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1542670,"reputation":4119,"user_id":1436932,"accept_rate":64,"display_name":"DieterDP"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1459428045,"creation_date":1459428045,"answer_id":36333797,"question_id":14714328,"body_markdown":"Though this question is already answered, I found another way that requires no special Jackson hooks.\r\n\r\n    static class JsonWrapper&lt;T&gt; {\r\n        @JsonUnwrapped\r\n        private T inner;\r\n        private String extraField;\r\n\r\n        public JsonWrapper(T inner, String field) {\r\n            this.inner = inner;\r\n            this.extraField = field;\r\n        }\r\n\r\n        public T getInner() {\r\n            return inner;\r\n        }\r\n\r\n        public String getExtraField() {\r\n            return extraField;\r\n        }\r\n    }\r\n\r\n    static class BaseClass {\r\n        private String baseField;\r\n\r\n        public BaseClass(String baseField) {\r\n            this.baseField = baseField;\r\n        }\r\n\r\n        public String getBaseField() {\r\n            return baseField;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Object input = new JsonWrapper&lt;&gt;(new BaseClass(&quot;inner&quot;), &quot;outer&quot;);\r\n        System.out.println(new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(input));\r\n    }\r\n\r\nOutputs:\r\n\r\n    {\r\n      &quot;baseField&quot; : &quot;inner&quot;,\r\n      &quot;extraField&quot; : &quot;outer&quot;\r\n    }\r\n\r\nFor writing collections, you can simply use a view:\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        List&lt;BaseClass&gt; inputs = Arrays.asList(new BaseClass(&quot;1&quot;), new BaseClass(&quot;2&quot;));\r\n        //Google Guava Library &lt;3\r\n        List&lt;JsonWrapper&lt;BaseClass&gt;&gt; modInputs = Lists.transform(inputs, base -&gt; new JsonWrapper&lt;&gt;(base, &quot;hello&quot;));\r\n        System.out.println(new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(modInputs));\r\n    }\r\n\r\nOutput:\r\n\r\n    [ {\r\n      &quot;baseField&quot; : &quot;1&quot;,\r\n      &quot;extraField&quot; : &quot;hello&quot;\r\n    }, {\r\n      &quot;baseField&quot; : &quot;2&quot;,\r\n      &quot;extraField&quot; : &quot;hello&quot;\r\n    } ]","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>Though this question is already answered, I found another way that requires no special Jackson hooks.</p>\n\n<pre><code>static class JsonWrapper&lt;T&gt; {\n    @JsonUnwrapped\n    private T inner;\n    private String extraField;\n\n    public JsonWrapper(T inner, String field) {\n        this.inner = inner;\n        this.extraField = field;\n    }\n\n    public T getInner() {\n        return inner;\n    }\n\n    public String getExtraField() {\n        return extraField;\n    }\n}\n\nstatic class BaseClass {\n    private String baseField;\n\n    public BaseClass(String baseField) {\n        this.baseField = baseField;\n    }\n\n    public String getBaseField() {\n        return baseField;\n    }\n}\n\npublic static void main(String[] args) throws JsonProcessingException {\n    Object input = new JsonWrapper&lt;&gt;(new BaseClass(\"inner\"), \"outer\");\n    System.out.println(new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(input));\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>{\n  \"baseField\" : \"inner\",\n  \"extraField\" : \"outer\"\n}\n</code></pre>\n\n<p>For writing collections, you can simply use a view:</p>\n\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    List&lt;BaseClass&gt; inputs = Arrays.asList(new BaseClass(\"1\"), new BaseClass(\"2\"));\n    //Google Guava Library &lt;3\n    List&lt;JsonWrapper&lt;BaseClass&gt;&gt; modInputs = Lists.transform(inputs, base -&gt; new JsonWrapper&lt;&gt;(base, \"hello\"));\n    System.out.println(new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(modInputs));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[ {\n  \"baseField\" : \"1\",\n  \"extraField\" : \"hello\"\n}, {\n  \"baseField\" : \"2\",\n  \"extraField\" : \"hello\"\n} ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3038516,"reputation":1744,"user_id":2576076,"display_name":"vr3C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462501111,"creation_date":1462500660,"answer_id":37063144,"question_id":14714328,"body_markdown":"We can extend `BeanSerializer`, but with little trick.\r\n\r\nFirst, define a java class to wrapper your POJO.\r\n\r\n    @JsonSerialize(using = MixinResultSerializer.class)\r\n    public class MixinResult {\r\n\r\n        private final Object origin;\r\n        private final Map&lt;String, String&gt; mixed = Maps.newHashMap();\r\n\r\n        @JsonCreator\r\n        public MixinResult(@JsonProperty(&quot;origin&quot;) Object origin) {\r\n            this.origin = origin;\r\n        }\r\n\r\n        public void add(String key, String value) {\r\n            this.mixed.put(key, value);\r\n        }\r\n\r\n        public Map&lt;String, String&gt; getMixed() {\r\n            return mixed;\r\n        }\r\n\r\n        public Object getOrigin() {\r\n            return origin;\r\n        }\r\n\r\n    }\r\n\r\nThen，implement your custom `serializer`.\r\n\r\n    public final class MixinResultSerializer extends BeanSerializer {\r\n\r\n        public MixinResultSerializer() {\r\n            super(SimpleType.construct(MixinResult.class), null, new BeanPropertyWriter[0], new BeanPropertyWriter[0]);\r\n        }\r\n\r\n        public MixinResultSerializer(BeanSerializerBase base) {\r\n            super(base);\r\n        }\r\n\r\n        @Override\r\n        protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            if (bean instanceof MixinResult) {\r\n                MixinResult mixin  = (MixinResult) bean;\r\n                Object      origin = mixin.getOrigin();\r\n\r\n                BeanSerializer serializer = (BeanSerializer) provider.findValueSerializer(SimpleType.construct(origin.getClass()));\r\n\r\n                new MixinResultSerializer(serializer).serializeFields(origin, gen, provider);\r\n\r\n                mixin.getMixed().entrySet()\r\n                        .stream()\r\n                        .filter(entry -&gt; entry.getValue() != null)\r\n                        .forEach((entry -&gt; {\r\n                            try {\r\n                                gen.writeFieldName(entry.getKey());\r\n                                gen.writeRawValue(entry.getValue());\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }));\r\n            } else {\r\n                super.serializeFields(bean, gen, provider);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nThis way, we can handle the case that origin object using jackson annotations to custom serialize behavior.","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>We can extend <code>BeanSerializer</code>, but with little trick.</p>\n\n<p>First, define a java class to wrapper your POJO.</p>\n\n<pre><code>@JsonSerialize(using = MixinResultSerializer.class)\npublic class MixinResult {\n\n    private final Object origin;\n    private final Map&lt;String, String&gt; mixed = Maps.newHashMap();\n\n    @JsonCreator\n    public MixinResult(@JsonProperty(\"origin\") Object origin) {\n        this.origin = origin;\n    }\n\n    public void add(String key, String value) {\n        this.mixed.put(key, value);\n    }\n\n    public Map&lt;String, String&gt; getMixed() {\n        return mixed;\n    }\n\n    public Object getOrigin() {\n        return origin;\n    }\n\n}\n</code></pre>\n\n<p>Then，implement your custom <code>serializer</code>.</p>\n\n<pre><code>public final class MixinResultSerializer extends BeanSerializer {\n\n    public MixinResultSerializer() {\n        super(SimpleType.construct(MixinResult.class), null, new BeanPropertyWriter[0], new BeanPropertyWriter[0]);\n    }\n\n    public MixinResultSerializer(BeanSerializerBase base) {\n        super(base);\n    }\n\n    @Override\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (bean instanceof MixinResult) {\n            MixinResult mixin  = (MixinResult) bean;\n            Object      origin = mixin.getOrigin();\n\n            BeanSerializer serializer = (BeanSerializer) provider.findValueSerializer(SimpleType.construct(origin.getClass()));\n\n            new MixinResultSerializer(serializer).serializeFields(origin, gen, provider);\n\n            mixin.getMixed().entrySet()\n                    .stream()\n                    .filter(entry -&gt; entry.getValue() != null)\n                    .forEach((entry -&gt; {\n                        try {\n                            gen.writeFieldName(entry.getKey());\n                            gen.writeRawValue(entry.getValue());\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }));\n        } else {\n            super.serializeFields(bean, gen, provider);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>This way, we can handle the case that origin object using jackson annotations to custom serialize behavior.</p>\n"},{"tags":[],"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1488022040,"creation_date":1488021732,"answer_id":42455398,"question_id":14714328,"body_markdown":"Jackson 2.5 introduced the [`@JsonAppend`][1] annotation, which can be used to add &quot;virtual&quot; properties during serialization. It can be used with the mixin functionality to avoid modifying the original POJO.\r\n\r\nThe following example adds an `ApprovalState` property during serialization:\r\n\r\n    @JsonAppend(\r\n        attrs = {\r\n            @JsonAppend.Attr(value = &quot;ApprovalState&quot;)\r\n        }\r\n    )\r\n    public static class ApprovalMixin {}\r\n\r\nRegister the mixin with the `ObjectMapper`:\r\n\r\n    mapper.addMixIn(POJO.class, ApprovalMixin.class);\r\n\r\nUse an `ObjectWriter` to set the attribute during serialization:\r\n\r\n    ObjectWriter writer = mapper.writerFor(POJO.class)\r\n                              .withAttribute(&quot;ApprovalState&quot;, &quot;Pending&quot;);\r\n\r\nUsing the writer for serialization will add the `ApprovalState` field to the ouput.\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonAppend.html","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>Jackson 2.5 introduced the <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonAppend.html\" rel=\"noreferrer\"><code>@JsonAppend</code></a> annotation, which can be used to add \"virtual\" properties during serialization. It can be used with the mixin functionality to avoid modifying the original POJO.</p>\n\n<p>The following example adds an <code>ApprovalState</code> property during serialization:</p>\n\n<pre><code>@JsonAppend(\n    attrs = {\n        @JsonAppend.Attr(value = \"ApprovalState\")\n    }\n)\npublic static class ApprovalMixin {}\n</code></pre>\n\n<p>Register the mixin with the <code>ObjectMapper</code>:</p>\n\n<pre><code>mapper.addMixIn(POJO.class, ApprovalMixin.class);\n</code></pre>\n\n<p>Use an <code>ObjectWriter</code> to set the attribute during serialization:</p>\n\n<pre><code>ObjectWriter writer = mapper.writerFor(POJO.class)\n                          .withAttribute(\"ApprovalState\", \"Pending\");\n</code></pre>\n\n<p>Using the writer for serialization will add the <code>ApprovalState</code> field to the ouput.</p>\n"},{"tags":[],"owner":{"account_id":1567087,"reputation":7993,"user_id":1455622,"accept_rate":65,"display_name":"Scheintod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519130658,"creation_date":1519130658,"answer_id":48885583,"question_id":14714328,"body_markdown":"Another and perhaps the most simple solution:\r\n\r\nMake serialisation a 2-step process. First create a `Map&lt;String,Object&gt;` like:\r\n\r\n    Map&lt;String,Object&gt; map = req.mapper().convertValue( result, new TypeReference&lt;Map&lt;String,Object&gt;&gt;() {} );\r\n\r\nthen add the properties you want like:\r\n\r\n    map.put( &quot;custom&quot;, &quot;value&quot; );\r\n\r\nthen serialise this to json:\r\n\r\n    String json = req.mapper().writeValueAsString( map );\r\n","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>Another and perhaps the most simple solution:</p>\n\n<p>Make serialisation a 2-step process. First create a <code>Map&lt;String,Object&gt;</code> like:</p>\n\n<pre><code>Map&lt;String,Object&gt; map = req.mapper().convertValue( result, new TypeReference&lt;Map&lt;String,Object&gt;&gt;() {} );\n</code></pre>\n\n<p>then add the properties you want like:</p>\n\n<pre><code>map.put( \"custom\", \"value\" );\n</code></pre>\n\n<p>then serialise this to json:</p>\n\n<pre><code>String json = req.mapper().writeValueAsString( map );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27996,"reputation":3020,"user_id":74343,"accept_rate":62,"display_name":"Brimstedt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526448630,"creation_date":1526448630,"answer_id":50363056,"question_id":14714328,"body_markdown":"For my use case, I could use a much simpler way. In a the base class I have for all my &quot;Jackson Pojos&quot; I add:\r\n\r\n    protected Map&lt;String,Object&gt; dynamicProperties = new HashMap&lt;String,Object&gt;();\r\n    \r\n    ...\r\n    \r\n    \r\n    public Object get(String name) {\r\n        return dynamicProperties.get(name);\r\n    }\r\n\r\n    // &quot;any getter&quot; needed for serialization    \r\n    @JsonAnyGetter\r\n    public Map&lt;String,Object&gt; any() {\r\n        return dynamicProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void set(String name, Object value) {\r\n    \tdynamicProperties.put(name, value);\r\n    }\r\n\r\nI can now deserialize to Pojo, work with fields and reserialize witjout losing any properties. I can also add/change non pojo properties:\r\n\r\n    // Pojo fields\r\n    person.setFirstName(&quot;Annna&quot;);\r\n    \r\n    // Dynamic field\r\n\tperson.set(&quot;ex&quot;, &quot;test&quot;);\r\n\r\n(Got it from [Cowtowncoder][1])\r\n\r\n\r\n  [1]: http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>For my use case, I could use a much simpler way. In a the base class I have for all my \"Jackson Pojos\" I add:</p>\n\n<pre><code>protected Map&lt;String,Object&gt; dynamicProperties = new HashMap&lt;String,Object&gt;();\n\n...\n\n\npublic Object get(String name) {\n    return dynamicProperties.get(name);\n}\n\n// \"any getter\" needed for serialization    \n@JsonAnyGetter\npublic Map&lt;String,Object&gt; any() {\n    return dynamicProperties;\n}\n\n@JsonAnySetter\npublic void set(String name, Object value) {\n    dynamicProperties.put(name, value);\n}\n</code></pre>\n\n<p>I can now deserialize to Pojo, work with fields and reserialize witjout losing any properties. I can also add/change non pojo properties:</p>\n\n<pre><code>// Pojo fields\nperson.setFirstName(\"Annna\");\n\n// Dynamic field\nperson.set(\"ex\", \"test\");\n</code></pre>\n\n<p>(Got it from <a href=\"http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\" rel=\"nofollow noreferrer\">Cowtowncoder</a>)</p>\n"},{"tags":[],"owner":{"account_id":85145,"reputation":51,"user_id":237597,"display_name":"flattin_machine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672999616,"creation_date":1672999616,"answer_id":75029516,"question_id":14714328,"body_markdown":"This google groups thread points to the BeanSerializerModifier.changeProperties method:\r\nhttps://groups.google.com/g/jackson-user/c/uYIxbRZhsIM/m/1QpLh7G72C0J\r\n\r\nIt looks like this method makes the least interference with the object serialization, which is very convenient if you have other serialization customizations.\r\n\r\nYou can add more objects to the given beanProperties list.\r\n\r\nSuppose, we have this bean to be serialized:\r\n\r\n    public class MyClass {\r\n\r\n        private final String name;\r\n        private final String description;\r\n\r\n        public MyClass(String name, String description) {\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    }\r\n\r\nThen you can add a SerializerModifier to your ObjectMapper instance.\r\nThe most interesting parts are the MyBeanSerializerModifier.changeProperties and the CustomPropertyWriter.value methods.\r\n\r\n    private void addSerializationCustomization(ObjectMapper objectMapper,\r\n                                               SomeAdditionalDataFactory dataFactory) {\r\n        SimpleModule module = new SimpleModule();\r\n        BeanSerializerModifier modifier = new MyBeanSerializerModifier(dataFactory);\r\n        module.setSerializerModifier(modifier);\r\n        objectMapper.registerModule(module);\r\n    }\r\n\r\n    private static class MyBeanSerializerModifier extends BeanSerializerModifier {\r\n\r\n        private final SomeAdditionalDataFactory dataFactory;\r\n\r\n        public MyBeanSerializerModifier(SomeAdditionalDataFactory dataFactory) {\r\n            this.dataFactory = dataFactory;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;BeanPropertyWriter&gt; changeProperties(SerializationConfig config,\r\n                                                         BeanDescription beanDesc,\r\n                                                         List&lt;BeanPropertyWriter&gt; beanProperties) {\r\n            if (MyClass.class.isAssignableFrom(beanDesc.getBeanClass())) {\r\n                Map&lt;String, Function&lt;MyClass, String&gt;&gt; additionalFields = Map.of(\r\n                        &quot;someData1&quot;,\r\n                        myObj -&gt; dataFactory.getSomeData1(myObj),\r\n                        &quot;someData2&quot;,\r\n                        myObj -&gt; dataFactory.getSomeData2(myObj),\r\n                        &quot;someData3&quot;,\r\n                        myObj -&gt; dataFactory.getSomeData3(myObj)\r\n                );\r\n                JavaType javaType = SimpleType.constructUnsafe(String.class);\r\n\r\n                for (Map.Entry&lt;String, Function&lt;MyClass, String&gt;&gt; entry : additionalFields.entrySet()) {\r\n                    VirtualAnnotatedMember member = new VirtualAnnotatedMember(\r\n                            null, beanDesc.getBeanClass(), entry.getKey(), javaType);\r\n                    BeanPropertyDefinition definition = SimpleBeanPropertyDefinition\r\n                        .construct(config, member, new PropertyName(entry.getKey()));\r\n                    BeanPropertyWriter writer = new CustomPropertyWriter&lt;&gt;(\r\n                        definition, javaType, entry.getValue());\r\n                    beanProperties.add(writer);\r\n                }\r\n            }\r\n            return super.changeProperties(config, beanDesc, beanProperties);\r\n        }\r\n    }\r\n\r\n    private static class CustomPropertyWriter&lt;T&gt; extends VirtualBeanPropertyWriter {\r\n\r\n        private final Function&lt;T, String&gt; getter;\r\n\r\n        public CustomPropertyWriter(BeanPropertyDefinition propDef,\r\n                                    JavaType declaredType,\r\n                                    Function&lt;T, String&gt; getter) {\r\n            super(propDef, null, declaredType);\r\n            this.getter = getter;\r\n        }\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        protected Object value(Object bean,\r\n                               JsonGenerator gen,\r\n                               SerializerProvider prov) throws Exception {\r\n            return getter.apply((T) bean);\r\n        }\r\n\r\n        @Override\r\n        public VirtualBeanPropertyWriter withConfig(MapperConfig&lt;?&gt; config,\r\n                                                    AnnotatedClass declaringClass,\r\n                                                    BeanPropertyDefinition propDef,\r\n                                                    JavaType type) {\r\n            throw new IllegalStateException(&quot;Should not be called on this type&quot;);\r\n        }\r\n    }","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>This google groups thread points to the BeanSerializerModifier.changeProperties method:\n<a href=\"https://groups.google.com/g/jackson-user/c/uYIxbRZhsIM/m/1QpLh7G72C0J\" rel=\"nofollow noreferrer\">https://groups.google.com/g/jackson-user/c/uYIxbRZhsIM/m/1QpLh7G72C0J</a></p>\n<p>It looks like this method makes the least interference with the object serialization, which is very convenient if you have other serialization customizations.</p>\n<p>You can add more objects to the given beanProperties list.</p>\n<p>Suppose, we have this bean to be serialized:</p>\n<pre><code>public class MyClass {\n\n    private final String name;\n    private final String description;\n\n    public MyClass(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public String getName() {\n        return name;\n    }\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public String getDescription() {\n        return description;\n    }\n}\n</code></pre>\n<p>Then you can add a SerializerModifier to your ObjectMapper instance.\nThe most interesting parts are the MyBeanSerializerModifier.changeProperties and the CustomPropertyWriter.value methods.</p>\n<pre><code>private void addSerializationCustomization(ObjectMapper objectMapper,\n                                           SomeAdditionalDataFactory dataFactory) {\n    SimpleModule module = new SimpleModule();\n    BeanSerializerModifier modifier = new MyBeanSerializerModifier(dataFactory);\n    module.setSerializerModifier(modifier);\n    objectMapper.registerModule(module);\n}\n\nprivate static class MyBeanSerializerModifier extends BeanSerializerModifier {\n\n    private final SomeAdditionalDataFactory dataFactory;\n\n    public MyBeanSerializerModifier(SomeAdditionalDataFactory dataFactory) {\n        this.dataFactory = dataFactory;\n    }\n\n    @Override\n    public List&lt;BeanPropertyWriter&gt; changeProperties(SerializationConfig config,\n                                                     BeanDescription beanDesc,\n                                                     List&lt;BeanPropertyWriter&gt; beanProperties) {\n        if (MyClass.class.isAssignableFrom(beanDesc.getBeanClass())) {\n            Map&lt;String, Function&lt;MyClass, String&gt;&gt; additionalFields = Map.of(\n                    &quot;someData1&quot;,\n                    myObj -&gt; dataFactory.getSomeData1(myObj),\n                    &quot;someData2&quot;,\n                    myObj -&gt; dataFactory.getSomeData2(myObj),\n                    &quot;someData3&quot;,\n                    myObj -&gt; dataFactory.getSomeData3(myObj)\n            );\n            JavaType javaType = SimpleType.constructUnsafe(String.class);\n\n            for (Map.Entry&lt;String, Function&lt;MyClass, String&gt;&gt; entry : additionalFields.entrySet()) {\n                VirtualAnnotatedMember member = new VirtualAnnotatedMember(\n                        null, beanDesc.getBeanClass(), entry.getKey(), javaType);\n                BeanPropertyDefinition definition = SimpleBeanPropertyDefinition\n                    .construct(config, member, new PropertyName(entry.getKey()));\n                BeanPropertyWriter writer = new CustomPropertyWriter&lt;&gt;(\n                    definition, javaType, entry.getValue());\n                beanProperties.add(writer);\n            }\n        }\n        return super.changeProperties(config, beanDesc, beanProperties);\n    }\n}\n\nprivate static class CustomPropertyWriter&lt;T&gt; extends VirtualBeanPropertyWriter {\n\n    private final Function&lt;T, String&gt; getter;\n\n    public CustomPropertyWriter(BeanPropertyDefinition propDef,\n                                JavaType declaredType,\n                                Function&lt;T, String&gt; getter) {\n        super(propDef, null, declaredType);\n        this.getter = getter;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected Object value(Object bean,\n                           JsonGenerator gen,\n                           SerializerProvider prov) throws Exception {\n        return getter.apply((T) bean);\n    }\n\n    @Override\n    public VirtualBeanPropertyWriter withConfig(MapperConfig&lt;?&gt; config,\n                                                AnnotatedClass declaringClass,\n                                                BeanPropertyDefinition propDef,\n                                                JavaType type) {\n        throw new IllegalStateException(&quot;Should not be called on this type&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":34289,"reputation":6274,"user_id":96766,"accept_rate":88,"display_name":"Alex Vayda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90626,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":14752292,"answer_count":12,"score":83,"last_activity_date":1672999616,"creation_date":1360088890,"question_id":14714328,"body_markdown":"I am developing a REST interface for my app using Jackson to serialize my POJO domain objects to JSON representation. I want to customize the serialization for some types to add additional properties to the JSON representation that do not exist in POJOs (e.g. add some metadata, reference data, etc). I know how to write my own `JsonSerializer`, but in that case I would need to explicitly call `JsonGenerator.writeXXX(..)` methods for __each__ property of my object while all I need is just to __add__ an additional property. In other words I would like to be able to write something like:\r\n\r\n    @Override\r\n    public void serialize(TaxonomyNode value, JsonGenerator jgen, SerializerProvider provider) {\r\n        jgen.writeStartObject();\r\n        jgen.writeAllFields(value); // &lt;-- The method I&#39;d like to have\r\n        jgen.writeObjectField(&quot;my_extra_field&quot;, &quot;some data&quot;);\r\n        jgen.writeEndObject();\r\n    }\r\n\r\nor (even better) to somehow intercept the serialization before the `jgen.writeEndObject()` call, e.g.:\r\n\r\n    @Override void beforeEndObject(....) {\r\n        jgen.writeObjectField(&quot;my_extra_field&quot;, &quot;some data&quot;);\r\n    }\r\n\r\nI thought I could extend `BeanSerializer` and override its `serialize(..)` method but it&#39;s declared `final` and also I couldn&#39;t find an easy way to create a new instance of `BeanSerializer` without providing it with all the type metadata details practically duplicating a good portion of Jackson. So I&#39;ve given up on doing that.\r\n\r\n__My question is__ - how to customize Jackson&#39;s serialization to add additional stuff to the JSON output for particular POJOs without introducing too much of the boilerplate code and reusing as much as possible of the default Jackson behaviour.","title":"Jackson: How to add custom property to the JSON without modifying the POJO","body":"<p>I am developing a REST interface for my app using Jackson to serialize my POJO domain objects to JSON representation. I want to customize the serialization for some types to add additional properties to the JSON representation that do not exist in POJOs (e.g. add some metadata, reference data, etc). I know how to write my own <code>JsonSerializer</code>, but in that case I would need to explicitly call <code>JsonGenerator.writeXXX(..)</code> methods for <strong>each</strong> property of my object while all I need is just to <strong>add</strong> an additional property. In other words I would like to be able to write something like:</p>\n\n<pre><code>@Override\npublic void serialize(TaxonomyNode value, JsonGenerator jgen, SerializerProvider provider) {\n    jgen.writeStartObject();\n    jgen.writeAllFields(value); // &lt;-- The method I'd like to have\n    jgen.writeObjectField(\"my_extra_field\", \"some data\");\n    jgen.writeEndObject();\n}\n</code></pre>\n\n<p>or (even better) to somehow intercept the serialization before the <code>jgen.writeEndObject()</code> call, e.g.:</p>\n\n<pre><code>@Override void beforeEndObject(....) {\n    jgen.writeObjectField(\"my_extra_field\", \"some data\");\n}\n</code></pre>\n\n<p>I thought I could extend <code>BeanSerializer</code> and override its <code>serialize(..)</code> method but it's declared <code>final</code> and also I couldn't find an easy way to create a new instance of <code>BeanSerializer</code> without providing it with all the type metadata details practically duplicating a good portion of Jackson. So I've given up on doing that.</p>\n\n<p><strong>My question is</strong> - how to customize Jackson's serialization to add additional stuff to the JSON output for particular POJOs without introducing too much of the boilerplate code and reusing as much as possible of the default Jackson behaviour.</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1603120691,"post_id":64430282,"comment_id":113929028,"body_markdown":"How is it defined in `pom.xml`? Do you use Maven profiles?","body":"How is it defined in <code>pom.xml</code>? Do you use Maven profiles?"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1603121016,"post_id":64430282,"comment_id":113929191,"body_markdown":"@NikolasCharalambidis no pofiles, straightforward conf, example added","body":"@NikolasCharalambidis no pofiles, straightforward conf, example added"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1603124313,"post_id":64430282,"comment_id":113930717,"body_markdown":"Do you have the binding class for Outputs and output list under it?","body":"Do you have the binding class for Outputs and output list under it?"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603202700,"creation_date":1603131839,"answer_id":64433143,"question_id":64430282,"body_markdown":"One things looks suspicious in your example:\r\n\r\n`@Parameter` annotation should usually have `property` (and `defaultValue`) and you set the `name` instead.\r\n\r\nAssuming you&#39;re using the correct annotation (it should be this one [the source code][1]),\r\nmake sure you use `property` link in [this example][2] for instance.\r\n\r\n**Update 1**\r\n\r\nTake a look at surefire plugin source code [here][3], for example see the parameter definition (line 544):\r\n\r\n~~~\r\n @Parameter( property = &quot;forkCount&quot;, defaultValue = &quot;1&quot; )\r\n private String forkCount;\r\n~~~\r\n\r\nNote, that they use `property` not the `name` like you did in the question.\r\n\r\nIn the `pom.xml` you&#39;ll be able to use it like this:\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;...&lt;/version&gt;\r\n       &lt;configuration&gt;              \r\n          &lt;forkCount&gt;12345&lt;/forkCount&gt;\r\n          ...\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n~~~\r\n\r\nIf you want more complex XML (with inner elements) I&#39;m not aware of the way to map it to the DTO like you did (I might be wrong though).\r\n\r\nFor example fabric8 maven plugin ([see the source code][4]) doesn&#39;t use compound objects (DTOs) and injects values directly:\r\n\r\n~~~\r\n@Parameter(property = &quot;fabric8.kubernetesManifest&quot;, defaultValue = &quot;${basedir}/target/classes/META-INF/fabric8/kubernetes.yml&quot;)\r\nprivate File kubernetesManifest;\r\n~~~\r\n\r\n\r\n  [1]: https://github.com/apache/maven-plugin-tools/blob/master/maven-plugin-annotations/src/main/java/org/apache/maven/plugins/annotations/Parameter.java\r\n  [2]: http://maven.apache.org/guides/plugin/guide-java-plugin-development.html#parameters\r\n  [3]: https://github.com/apache/maven-surefire/blob/4ded070ea82076441120ff1cf0baaae7f4a47554/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java#L160\r\n  [4]: https://github.com/fabric8io/fabric8-maven-plugin/blob/master/plugin/src/main/java/io/fabric8/maven/plugin/mojo/build/HelmMojo.java","title":"Maven plugin @Parameter defaultValue not injected","body":"<p>One things looks suspicious in your example:</p>\n<p><code>@Parameter</code> annotation should usually have <code>property</code> (and <code>defaultValue</code>) and you set the <code>name</code> instead.</p>\n<p>Assuming you're using the correct annotation (it should be this one <a href=\"https://github.com/apache/maven-plugin-tools/blob/master/maven-plugin-annotations/src/main/java/org/apache/maven/plugins/annotations/Parameter.java\" rel=\"nofollow noreferrer\">the source code</a>),\nmake sure you use <code>property</code> link in <a href=\"http://maven.apache.org/guides/plugin/guide-java-plugin-development.html#parameters\" rel=\"nofollow noreferrer\">this example</a> for instance.</p>\n<p><strong>Update 1</strong></p>\n<p>Take a look at surefire plugin source code <a href=\"https://github.com/apache/maven-surefire/blob/4ded070ea82076441120ff1cf0baaae7f4a47554/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java#L160\" rel=\"nofollow noreferrer\">here</a>, for example see the parameter definition (line 544):</p>\n<pre><code> @Parameter( property = &quot;forkCount&quot;, defaultValue = &quot;1&quot; )\n private String forkCount;\n</code></pre>\n<p>Note, that they use <code>property</code> not the <code>name</code> like you did in the question.</p>\n<p>In the <code>pom.xml</code> you'll be able to use it like this:</p>\n<pre><code>&lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;version&gt;...&lt;/version&gt;\n       &lt;configuration&gt;              \n          &lt;forkCount&gt;12345&lt;/forkCount&gt;\n          ...\n       &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>If you want more complex XML (with inner elements) I'm not aware of the way to map it to the DTO like you did (I might be wrong though).</p>\n<p>For example fabric8 maven plugin (<a href=\"https://github.com/fabric8io/fabric8-maven-plugin/blob/master/plugin/src/main/java/io/fabric8/maven/plugin/mojo/build/HelmMojo.java\" rel=\"nofollow noreferrer\">see the source code</a>) doesn't use compound objects (DTOs) and injects values directly:</p>\n<pre><code>@Parameter(property = &quot;fabric8.kubernetesManifest&quot;, defaultValue = &quot;${basedir}/target/classes/META-INF/fabric8/kubernetes.yml&quot;)\nprivate File kubernetesManifest;\n</code></pre>\n"}],"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672999607,"creation_date":1603120662,"question_id":64430282,"body_markdown":"I have a simple Mojo dto class:\r\n\r\n    public Output\r\n    {\r\n    \r\n      @Parameter(name=&quot;target&quot;, required=true)\r\n      private File location;\r\n      \r\n      @Parameter(name=&quot;encoding&quot;, defaultValue=&quot;UTF-8&quot;)\r\n      private String encoding;\r\n     \r\n    // getters and setters \r\n    }  \r\n\r\nI expect that the field `encoding` will contain `UTF-8` if not defined otherwise in `pom.xml`:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;!-- my plugin --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputs&gt;\r\n                        &lt;output&gt;\r\n                            &lt;target&gt;${basedir}/src/main/resources/target.json&lt;/target&gt;\r\n                        &lt;/output&gt;\r\n                    &lt;/outputs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nInstead I get null.\r\n\r\nIs my expectation wrong or I&#39;m missing something important?","title":"Maven plugin @Parameter defaultValue not injected","body":"<p>I have a simple Mojo dto class:</p>\n<pre><code>public Output\n{\n\n  @Parameter(name=&quot;target&quot;, required=true)\n  private File location;\n  \n  @Parameter(name=&quot;encoding&quot;, defaultValue=&quot;UTF-8&quot;)\n  private String encoding;\n \n// getters and setters \n}  \n</code></pre>\n<p>I expect that the field <code>encoding</code> will contain <code>UTF-8</code> if not defined otherwise in <code>pom.xml</code>:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!-- my plugin --&gt;\n            &lt;configuration&gt;\n                &lt;outputs&gt;\n                    &lt;output&gt;\n                        &lt;target&gt;${basedir}/src/main/resources/target.json&lt;/target&gt;\n                    &lt;/output&gt;\n                &lt;/outputs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Instead I get null.</p>\n<p>Is my expectation wrong or I'm missing something important?</p>\n"},{"tags":["java","spring-boot","google-cloud-vision"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1672998340,"post_id":75029263,"comment_id":132403473,"body_markdown":"As instructed in [ask], please describe your problem **_before_** showing code.","body":"As instructed in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please describe your problem <b><i>before</i></b> showing code."}],"owner":{"account_id":21056107,"reputation":1,"user_id":15475349,"display_name":"Himanshu Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672999280,"creation_date":1672998174,"question_id":75029263,"body_markdown":"\r\n```\r\n@SpringBootApplication\r\npublic class GooglecloudApplication {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSpringApplication.run(GooglecloudApplication.class, args);\r\n\r\n\t\t// Initialize client that will be used to send requests. This client only needs\r\n\t\t// to be created\r\n\t\t// once, and can be reused for multiple requests. After completing all of your\r\n\t\t// requests, call\r\n\t\t// the &quot;close&quot; method on the client to safely clean up any remaining background\r\n\t\t// resources.\r\n\t\ttry (ImageAnnotatorClient vision = ImageAnnotatorClient.create()) {\r\n\r\n\t\t\t// The path to the image file to annotate\r\n\t\t\tString fileName = &quot;./resources/mrz_passport_1.jpg&quot;;\r\n\r\n\t\t\t// Reads the image file into memory\r\n\t\t\tPath path = Paths.get(fileName);\r\n\t\t\tbyte[] data = Files.readAllBytes(path);\r\n\t\t\tByteString imgBytes = ByteString.copyFrom(data);\r\n\r\n\t\t\t// Builds the image annotation request\r\n\t\t\tList&lt;AnnotateImageRequest&gt; requests = new ArrayList&lt;&gt;();\r\n\t\t\tImage img = Image.newBuilder().setContent(imgBytes).build();\r\n\t\t\tFeature feat = Feature.newBuilder().setType(Type.LABEL_DETECTION).build();\r\n\t\t\tAnnotateImageRequest request = AnnotateImageRequest.newBuilder().addFeatures(feat).setImage(img).build();\r\n\t\t\trequests.add(request);\r\n\r\n\t\t\t// Performs label detection on the image file\r\n\t\t\tBatchAnnotateImagesResponse response = vision.batchAnnotateImages(requests);\r\n\t\t\tList&lt;AnnotateImageResponse&gt; responses = response.getResponsesList();\r\n\r\n\t\t\tfor (AnnotateImageResponse res : responses) {\r\n\t\t\t\tif (res.hasError()) {\r\n\t\t\t\t\tSystem.out.format(&quot;Error: %s%n&quot;, res.getError().getMessage());\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (EntityAnnotation annotation : res.getLabelAnnotationsList()) {\r\n\t\t\t\t\tannotation.getAllFields().forEach((k, v) -&gt; System.out.format(&quot;%s : %s%n&quot;, k, v.toString()));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nError:\r\n\r\n Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\tat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134)\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\r\n\tat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\r\n\tat com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:70)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:168)\r\n\tat com.google.cloud.vision.v1.stub.GrpcImageAnnotatorStub.create(GrpcImageAnnotatorStub.java:115)\r\n\tat com.google.cloud.vision.v1.stub.ImageAnnotatorStubSettings.createStub(ImageAnnotatorStubSettings.java:163)\r\n\tat com.google.cloud.vision.v1.ImageAnnotatorClient.&lt;init&gt;(ImageAnnotatorClient.java:160)\r\n\tat com.google.cloud.vision.v1.ImageAnnotatorClient.create(ImageAnnotatorClient.java:142)\r\n\tat com.google.cloud.vision.v1.ImageAnnotatorClient.create(ImageAnnotatorClient.java:133)\r\n\tat com.googlecloud.GooglecloudApplication.main(GooglecloudApplication.java:35)\r\n\t... 5 more\r\n\r\n\r\n\r\n\r\nI am facing this problem &quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine&quot;. I have also key json file but I dont know where to use this file","title":"The Application Default Credentials are not available. They are available if running in Google Compute Engine in spring boot","body":"<pre><code>@SpringBootApplication\npublic class GooglecloudApplication {\n\n    public static void main(String[] args) throws IOException {\n        SpringApplication.run(GooglecloudApplication.class, args);\n\n        // Initialize client that will be used to send requests. This client only needs\n        // to be created\n        // once, and can be reused for multiple requests. After completing all of your\n        // requests, call\n        // the &quot;close&quot; method on the client to safely clean up any remaining background\n        // resources.\n        try (ImageAnnotatorClient vision = ImageAnnotatorClient.create()) {\n\n            // The path to the image file to annotate\n            String fileName = &quot;./resources/mrz_passport_1.jpg&quot;;\n\n            // Reads the image file into memory\n            Path path = Paths.get(fileName);\n            byte[] data = Files.readAllBytes(path);\n            ByteString imgBytes = ByteString.copyFrom(data);\n\n            // Builds the image annotation request\n            List&lt;AnnotateImageRequest&gt; requests = new ArrayList&lt;&gt;();\n            Image img = Image.newBuilder().setContent(imgBytes).build();\n            Feature feat = Feature.newBuilder().setType(Type.LABEL_DETECTION).build();\n            AnnotateImageRequest request = AnnotateImageRequest.newBuilder().addFeatures(feat).setImage(img).build();\n            requests.add(request);\n\n            // Performs label detection on the image file\n            BatchAnnotateImagesResponse response = vision.batchAnnotateImages(requests);\n            List&lt;AnnotateImageResponse&gt; responses = response.getResponsesList();\n\n            for (AnnotateImageResponse res : responses) {\n                if (res.hasError()) {\n                    System.out.format(&quot;Error: %s%n&quot;, res.getError().getMessage());\n                    return;\n                }\n\n                for (EntityAnnotation annotation : res.getLabelAnnotationsList()) {\n                    annotation.getAllFields().forEach((k, v) -&gt; System.out.format(&quot;%s : %s%n&quot;, k, v.toString()));\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<p>Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See <a href=\"https://developers.google.com/accounts/docs/application-default-credentials\" rel=\"nofollow noreferrer\">https://developers.google.com/accounts/docs/application-default-credentials</a> for more information.\nat com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:134)\nat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\nat com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\nat com.google.api.gax.core.GoogleCredentialsProvider.getCredentials(GoogleCredentialsProvider.java:70)\nat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:168)\nat com.google.cloud.vision.v1.stub.GrpcImageAnnotatorStub.create(GrpcImageAnnotatorStub.java:115)\nat com.google.cloud.vision.v1.stub.ImageAnnotatorStubSettings.createStub(ImageAnnotatorStubSettings.java:163)\nat com.google.cloud.vision.v1.ImageAnnotatorClient.(ImageAnnotatorClient.java:160)\nat com.google.cloud.vision.v1.ImageAnnotatorClient.create(ImageAnnotatorClient.java:142)\nat com.google.cloud.vision.v1.ImageAnnotatorClient.create(ImageAnnotatorClient.java:133)\nat com.googlecloud.GooglecloudApplication.main(GooglecloudApplication.java:35)\n... 5 more</p>\n<p>I am facing this problem &quot; java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine&quot;. I have also key json file but I dont know where to use this file</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1672972058,"post_id":75025954,"comment_id":132398916,"body_markdown":"Don&#39;t throw away the exception (the `e` in your code). Print the exception&#39;s stack trace, which will tell you more about what is going wrong, and where in your code that is happening. Add the stack trace (as formatted text) to your question, if it does not solve the problem for you.","body":"Don&#39;t throw away the exception (the <code>e</code> in your code). Print the exception&#39;s stack trace, which will tell you more about what is going wrong, and where in your code that is happening. Add the stack trace (as formatted text) to your question, if it does not solve the problem for you."}],"owner":{"account_id":27422739,"reputation":1,"user_id":20920846,"display_name":"Wmdwmd7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672999171,"creation_date":1672966994,"question_id":75025954,"body_markdown":"I&#39;m using NetBeans 16 and I&#39;m trying to add the ability to edit a record from a text file I have saved separated by commas.\r\n\r\nIve tried this code here and I don&#39;t seem to get any errors (except the one produced as a result of the try catch) but I have no idea why this doesn&#39;t seem to work when I try to overwrite a record which I have selected ive tried everything I can think of I&#39;m pretty new to coding so forgive me if there&#39;s some obvious error but I have no idea why this doesn&#39;t work my text file has 5 entries in a row if that helps but yeah any help is greatly appreciated\r\n\r\n\r\n```\r\npublic class EditRecords {\r\n    \r\n    private static Scanner x;\r\n    \r\n    \r\n    public static void main(String[]args)\r\n    {\r\n        \r\n        String filepath = &quot;VehicleInforUpd.txt&quot;;\r\n        \r\n            System.out.println(&quot;Enter Registration of Entry You Wish To Edit&quot;);\r\n            Scanner scanner = new Scanner(System.in);\r\n            String editTerm = scanner.nextLine(); \r\n            \r\n            System.out.println(&quot;Enter new Registration: &quot;);\r\n            String newReg = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Enter new Make: &quot;);\r\n            String newMake = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Enter New Model: &quot;);\r\n            String newModel = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Enter New Year: &quot;);\r\n            String newYear = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Enter New Comments: &quot;);\r\n            String newComment = scanner.nextLine();\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            editRecord(filepath,editTerm,newReg,newMake,newModel,newYear,newComment);\r\n        }\r\n\r\n    \r\n    public static void editRecord(String filepath,String editTerm,String newReg,String newMake,String newModel, String newYear, String newComment)\r\n    {\r\n        String tempFile = &quot;temp.txt&quot;;\r\n        File oldFile = new File(filepath);\r\n        File newFile = new File(tempFile);\r\n        String reg = &quot;&quot;; String make = &quot;&quot;; String model = &quot;&quot;; String year = &quot;&quot;; String comment = &quot;&quot;;\r\n        \r\n        try\r\n        {\r\n            FileWriter fw = new FileWriter(tempFile,true);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            PrintWriter pw = new PrintWriter(bw);\r\n            \r\n            \r\n            while(x.hasNext())\r\n            {\r\n                reg = x.next();\r\n                make = x.next();\r\n                model = x.next();\r\n                year = x.next();\r\n                comment = x.next();\r\n                \r\n                if(reg.equals(editTerm))\r\n                {\r\n                    pw.println(newReg+&quot;,&quot;+newMake+&quot;,&quot;+newModel+&quot;,&quot;+ newYear+&quot;,&quot;+newComment);\r\n                }\r\n                else\r\n                {\r\n                    pw.println(reg+&quot;,&quot;+make+&quot;,&quot;+model+&quot;,&quot;+year+&quot;,&quot;+comment);\r\n                }\r\n                \r\n            }\r\n            x.close();\r\n            pw.flush();\r\n            pw.close();\r\n            oldFile.delete();\r\n            File dump = new File(filepath);\r\n            newFile.renameTo(dump);\r\n            JOptionPane.showMessageDialog(null, &quot;Changes Succesfully Saved&quot;);        \r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Print stack trace results but im not sure what would cause the NullPointerException im getting\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat com.mycompany.anprsystems.EditRecords.editRecord(EditRecords.java:70)\r\n\tat com.mycompany.anprsystems.EditRecords.main(EditRecords.java:52)\r\n```        \r\n   \r\n\r\n\r\n\r\n","title":"How do i Edit records in a .txt file in Java?","body":"<p>I'm using NetBeans 16 and I'm trying to add the ability to edit a record from a text file I have saved separated by commas.</p>\n<p>Ive tried this code here and I don't seem to get any errors (except the one produced as a result of the try catch) but I have no idea why this doesn't seem to work when I try to overwrite a record which I have selected ive tried everything I can think of I'm pretty new to coding so forgive me if there's some obvious error but I have no idea why this doesn't work my text file has 5 entries in a row if that helps but yeah any help is greatly appreciated</p>\n<pre><code>public class EditRecords {\n    \n    private static Scanner x;\n    \n    \n    public static void main(String[]args)\n    {\n        \n        String filepath = &quot;VehicleInforUpd.txt&quot;;\n        \n            System.out.println(&quot;Enter Registration of Entry You Wish To Edit&quot;);\n            Scanner scanner = new Scanner(System.in);\n            String editTerm = scanner.nextLine(); \n            \n            System.out.println(&quot;Enter new Registration: &quot;);\n            String newReg = scanner.nextLine();\n            \n            System.out.println(&quot;Enter new Make: &quot;);\n            String newMake = scanner.nextLine();\n            \n            System.out.println(&quot;Enter New Model: &quot;);\n            String newModel = scanner.nextLine();\n            \n            System.out.println(&quot;Enter New Year: &quot;);\n            String newYear = scanner.nextLine();\n            \n            System.out.println(&quot;Enter New Comments: &quot;);\n            String newComment = scanner.nextLine();\n            \n            \n            \n            \n            \n            editRecord(filepath,editTerm,newReg,newMake,newModel,newYear,newComment);\n        }\n\n    \n    public static void editRecord(String filepath,String editTerm,String newReg,String newMake,String newModel, String newYear, String newComment)\n    {\n        String tempFile = &quot;temp.txt&quot;;\n        File oldFile = new File(filepath);\n        File newFile = new File(tempFile);\n        String reg = &quot;&quot;; String make = &quot;&quot;; String model = &quot;&quot;; String year = &quot;&quot;; String comment = &quot;&quot;;\n        \n        try\n        {\n            FileWriter fw = new FileWriter(tempFile,true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter pw = new PrintWriter(bw);\n            \n            \n            while(x.hasNext())\n            {\n                reg = x.next();\n                make = x.next();\n                model = x.next();\n                year = x.next();\n                comment = x.next();\n                \n                if(reg.equals(editTerm))\n                {\n                    pw.println(newReg+&quot;,&quot;+newMake+&quot;,&quot;+newModel+&quot;,&quot;+ newYear+&quot;,&quot;+newComment);\n                }\n                else\n                {\n                    pw.println(reg+&quot;,&quot;+make+&quot;,&quot;+model+&quot;,&quot;+year+&quot;,&quot;+comment);\n                }\n                \n            }\n            x.close();\n            pw.flush();\n            pw.close();\n            oldFile.delete();\n            File dump = new File(filepath);\n            newFile.renameTo(dump);\n            JOptionPane.showMessageDialog(null, &quot;Changes Succesfully Saved&quot;);        \n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The Print stack trace results but im not sure what would cause the NullPointerException im getting</p>\n<pre><code>java.lang.NullPointerException\n    at com.mycompany.anprsystems.EditRecords.editRecord(EditRecords.java:70)\n    at com.mycompany.anprsystems.EditRecords.main(EditRecords.java:52)\n</code></pre>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1357380013,"creation_date":1357380013,"answer_id":14170663,"question_id":14170656,"body_markdown":"Try using an alias\r\n\r\n    rs = st.executeQuery(&quot;select last_insert_id() as last_id from schedule&quot;);\r\n    lastid = rs.getString(&quot;last_id&quot;);","title":"Get last inserted auto increment id in mysql","body":"<p>Try using an alias</p>\n\n<pre><code>rs = st.executeQuery(\"select last_insert_id() as last_id from schedule\");\nlastid = rs.getString(\"last_id\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1357381487,"creation_date":1357380069,"answer_id":14170671,"question_id":14170656,"body_markdown":"Why not\r\n\r\n    SELECT MAX(id) FROM schedule\r\n\r\nIf id your column has a different name than `id`, you need to replace it accordingly in the above query.\r\n\r\nYou can use it like:\r\n\r\n    rs = st.executeQuery(&quot;SELECT MAX(id) AS id FROM schedule&quot;);\r\n    int lastid = rs.getInt(&quot;id&quot;);","title":"Get last inserted auto increment id in mysql","body":"<p>Why not</p>\n\n<pre><code>SELECT MAX(id) FROM schedule\n</code></pre>\n\n<p>If id your column has a different name than <code>id</code>, you need to replace it accordingly in the above query.</p>\n\n<p>You can use it like:</p>\n\n<pre><code>rs = st.executeQuery(\"SELECT MAX(id) AS id FROM schedule\");\nint lastid = rs.getInt(\"id\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1357380294,"creation_date":1357380294,"answer_id":14170703,"question_id":14170656,"body_markdown":"Using JDBC, you can use **[Connection.PreparedStatement(query, int)][1]** method.\r\n\r\n    PreparedStatement pstmt = conn.prepareStatement(Query, Statement.RETURN_GENERATED_KEYS);  \r\n    pstmt.executeUpdate();  \r\n    ResultSet keys = pstmt.getGeneratedKeys();    \r\n    keys.next();  \r\n    key = keys.getInt(1);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String,%20int%29","title":"Get last inserted auto increment id in mysql","body":"<p>Using JDBC, you can use <strong><a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String,%20int%29\" rel=\"noreferrer\">Connection.PreparedStatement(query, int)</a></strong> method.</p>\n\n<pre><code>PreparedStatement pstmt = conn.prepareStatement(Query, Statement.RETURN_GENERATED_KEYS);  \npstmt.executeUpdate();  \nResultSet keys = pstmt.getGeneratedKeys();    \nkeys.next();  \nkey = keys.getInt(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628006,"reputation":1827,"user_id":1503080,"accept_rate":40,"display_name":"Asad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1371557770,"creation_date":1371557770,"answer_id":17168615,"question_id":14170656,"body_markdown":"see [this][1] post for answer &amp; explanation\r\n\r\n    Statement stmt = db.prepareStatement(query, Statement.RETURN_GENERATED_KEYS);\r\n    numero = stmt.executeUpdate();\r\n    \r\n    ResultSet rs = stmt.getGeneratedKeys();\r\n    if (rs.next()){\r\n        risultato=rs.getInt(1);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4246646/mysql-java-get-id-of-the-last-inserted-value-jdbc","title":"Get last inserted auto increment id in mysql","body":"<p>see <a href=\"https://stackoverflow.com/questions/4246646/mysql-java-get-id-of-the-last-inserted-value-jdbc\">this</a> post for answer &amp; explanation</p>\n\n<pre><code>Statement stmt = db.prepareStatement(query, Statement.RETURN_GENERATED_KEYS);\nnumero = stmt.executeUpdate();\n\nResultSet rs = stmt.getGeneratedKeys();\nif (rs.next()){\n    risultato=rs.getInt(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1954866,"reputation":731,"user_id":1921128,"display_name":"Chintan Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516103697,"creation_date":1516103697,"answer_id":48280678,"question_id":14170656,"body_markdown":"You can use following query to get last auto_incremented ID of last inserted row.\r\n\r\n    SELECT (max(auto_incr_id)) from table_name;","title":"Get last inserted auto increment id in mysql","body":"<p>You can use following query to get last auto_incremented ID of last inserted row.</p>\n\n<pre><code>SELECT (max(auto_incr_id)) from table_name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2862636,"reputation":21,"user_id":2457574,"display_name":"Dongato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597550233,"creation_date":1597550233,"answer_id":63432988,"question_id":14170656,"body_markdown":"Another option:\r\n\r\n `SELECT id FROM table_name ORDER BY id DESC LIMIT 1;`","title":"Get last inserted auto increment id in mysql","body":"<p>Another option:</p>\n<p><code>SELECT id FROM table_name ORDER BY id DESC LIMIT 1;</code></p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672999015,"creation_date":1672999015,"answer_id":75029416,"question_id":14170656,"body_markdown":"another way:\r\n\t\t\r\n    ResultSet rs = stmt.executeQuery(&quot;SELECT last_insert_id()&quot;);\r\n    \r\n    while(rs.next()){\r\n    \tSystem.out.println(&quot;id = &quot; + rs.getLong(1));\r\n    \r\n    }","title":"Get last inserted auto increment id in mysql","body":"<p>another way:</p>\n<pre><code>ResultSet rs = stmt.executeQuery(&quot;SELECT last_insert_id()&quot;);\n\nwhile(rs.next()){\n    System.out.println(&quot;id = &quot; + rs.getLong(1));\n\n}\n</code></pre>\n"}],"owner":{"account_id":1356192,"reputation":431,"user_id":1294539,"accept_rate":31,"display_name":"Maki92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63465,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":14170663,"answer_count":7,"score":16,"last_activity_date":1672999015,"creation_date":1357379921,"question_id":14170656,"body_markdown":"I am trying to get the mysql command like mysql_insert_id(); which retrieve the last inserted row&#39;s auto_increment id. What can I do to get it in Java?\r\n\r\n    rs = st.executeQuery(&quot;select last_insert_id() from schedule&quot;);\r\n    lastid = rs.getString(&quot;last_insert_id()&quot;);\r\n\r\nmy lastid was declared as INT. I dono what to use in rs.get and also the parameter..","title":"Get last inserted auto increment id in mysql","body":"<p>I am trying to get the mysql command like mysql_insert_id(); which retrieve the last inserted row's auto_increment id. What can I do to get it in Java?</p>\n\n<pre><code>rs = st.executeQuery(\"select last_insert_id() from schedule\");\nlastid = rs.getString(\"last_insert_id()\");\n</code></pre>\n\n<p>my lastid was declared as INT. I dono what to use in rs.get and also the parameter..</p>\n"},{"tags":["java","spring","spring-boot","java-8","java-17"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1665643097,"post_id":74051405,"comment_id":130748783,"body_markdown":"do yourself a favor, don&#39;t take that huge a step. first upgrade to a lower version, it &#39;ll be less changes. Step by step upgrade until you are at Java 17","body":"do yourself a favor, don&#39;t take that huge a step. first upgrade to a lower version, it &#39;ll be less changes. Step by step upgrade until you are at Java 17"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1665643329,"post_id":74051405,"comment_id":130748845,"body_markdown":"How are *we* supposed to know which components of *your* software may break?","body":"How are <i>we</i> supposed to know which components of <i>your</i> software may break?"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665643386,"post_id":74051405,"comment_id":130748850,"body_markdown":"Yes  share which components you are using. How will we be able to tell you","body":"Yes  share which components you are using. How will we be able to tell you"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1665643848,"post_id":74051405,"comment_id":130748985,"body_markdown":"Since each project is unique with its flow and dependencies the best way is to simply upgrade it to JDK17 and follow the exceptions which will lead you to which dependencies need to be updated in order to run on JDK17.","body":"Since each project is unique with its flow and dependencies the best way is to simply upgrade it to JDK17 and follow the exceptions which will lead you to which dependencies need to be updated in order to run on JDK17."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665653089,"post_id":74051405,"comment_id":130751912,"body_markdown":"read the Release Notes and Migration Guide that come with each Java version: [documentation](https://docs.oracle.com/en/java/javase/17/)","body":"read the Release Notes and Migration Guide that come with each Java version: <a href=\"https://docs.oracle.com/en/java/javase/17/\" rel=\"nofollow noreferrer\">documentation</a>"}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665643799,"creation_date":1665643318,"answer_id":74051450,"question_id":74051405,"body_markdown":"just create a dummy project of spring.io with java 17 and add the dependencies you want to add and download it import it and then look at the XML file you will get all compatible dependencies\r\n\r\nfor reference look this https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how","title":"Upgrade Java version in Java 1.8 project to Java 17","body":"<p>just create a dummy project of spring.io with java 17 and add the dependencies you want to add and download it import it and then look at the XML file you will get all compatible dependencies</p>\n<p>for reference look this <a href=\"https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how</a></p>\n"}],"owner":{"account_id":15015686,"reputation":139,"user_id":10838772,"display_name":"Pawan Verma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3723,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1672998927,"creation_date":1665643053,"question_id":74051405,"body_markdown":"I am planning to upgrade the java version in my project from 1.8 to 17.0.4.1, Hence I wanted to know which all component may break after upgradation. And which version of these component are compatible with Java 17. Anyone who  are using java 17 or upgraded to java 17 may share your findings.","title":"Upgrade Java version in Java 1.8 project to Java 17","body":"<p>I am planning to upgrade the java version in my project from 1.8 to 17.0.4.1, Hence I wanted to know which all component may break after upgradation. And which version of these component are compatible with Java 17. Anyone who  are using java 17 or upgraded to java 17 may share your findings.</p>\n"},{"tags":["java","groovy","junit","mockito","spock"],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1386797783,"creation_date":1386797462,"answer_id":20530307,"question_id":20528722,"body_markdown":"There is no real need for `@Mock` in Spock, because there is already `= Mock()`, which can be used everywhere an annotation can be used (and also in other places). There is an open pull request for `@InjectMocks`, but it hasn&#39;t been decided if such a feature will make it into spock-core or spock-guice. (Shipping this feature with spock-guice, or at least requiring Guice on the class path, would allow to delegate injection to Guice, rather than reinventing the wheel.) If not, `@InjectMocks` could always be shipped as a third-party Spock extension.","title":"@Mock/@InjectMocks for groovy - spock","body":"<p>There is no real need for <code>@Mock</code> in Spock, because there is already <code>= Mock()</code>, which can be used everywhere an annotation can be used (and also in other places). There is an open pull request for <code>@InjectMocks</code>, but it hasn't been decided if such a feature will make it into spock-core or spock-guice. (Shipping this feature with spock-guice, or at least requiring Guice on the class path, would allow to delegate injection to Guice, rather than reinventing the wheel.) If not, <code>@InjectMocks</code> could always be shipped as a third-party Spock extension.</p>\n"},{"tags":[],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634354086,"creation_date":1634354086,"answer_id":69592366,"question_id":20528722,"body_markdown":"Someone wrote an annotation two months ago: https://github.com/msid256/MockInjector4Spock.\r\n\r\n&gt; The bean you want to test doesn&#39;t need to be instantiated manually. All you need to do is to declare it as a field and annotate it with @InjectMocks. \r\n\r\n&lt;!-- lang:groovy --&gt;\r\n```\r\n@Service\r\nclass ServiceC {\r\n    @Autowired\r\n    public ServiceC(ServiceA a, ServiceB b) {}\r\n}\r\n\r\nclass DemoSpec extends Specification {\r\n    @Autowired\r\n    ServiceA serviceA;\r\n\r\n    ServiceB serviceB = Mock(ServiceB.class)\r\n\r\n    @InjectMocks // from MockInjector4Spock - de.github.spock.ext.annotation.InjectMocks\r\n    ServiceC serviceC;\r\n}\r\n```","title":"@Mock/@InjectMocks for groovy - spock","body":"<p>Someone wrote an annotation two months ago: <a href=\"https://github.com/msid256/MockInjector4Spock\" rel=\"nofollow noreferrer\">https://github.com/msid256/MockInjector4Spock</a>.</p>\n<blockquote>\n<p>The bean you want to test doesn't need to be instantiated manually. All you need to do is to declare it as a field and annotate it with @InjectMocks.</p>\n</blockquote>\n\n<pre><code>@Service\nclass ServiceC {\n    @Autowired\n    public ServiceC(ServiceA a, ServiceB b) {}\n}\n\nclass DemoSpec extends Specification {\n    @Autowired\n    ServiceA serviceA;\n\n    ServiceB serviceB = Mock(ServiceB.class)\n\n    @InjectMocks // from MockInjector4Spock - de.github.spock.ext.annotation.InjectMocks\n    ServiceC serviceC;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6529667,"reputation":1,"user_id":5051205,"display_name":"Jan Warlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670078448,"creation_date":1670078448,"answer_id":74667728,"question_id":20528722,"body_markdown":"https://github.com/marcingrzejszczak/spock-subjects-collaborators-extension\r\n\r\nyou can use  `@Collaborator` and `@Subject` instead `@Mock` and `@InjectMocks`\r\n\r\n","title":"@Mock/@InjectMocks for groovy - spock","body":"<p><a href=\"https://github.com/marcingrzejszczak/spock-subjects-collaborators-extension\" rel=\"nofollow noreferrer\">https://github.com/marcingrzejszczak/spock-subjects-collaborators-extension</a></p>\n<p>you can use  <code>@Collaborator</code> and <code>@Subject</code> instead <code>@Mock</code> and <code>@InjectMocks</code></p>\n"},{"tags":[],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672998557,"creation_date":1672998557,"answer_id":75029328,"question_id":20528722,"body_markdown":"In groovy there is no private scope, so we can modify the members of the class under test directly. So we can assign the member to our mocked value.","title":"@Mock/@InjectMocks for groovy - spock","body":"<p>In groovy there is no private scope, so we can modify the members of the class under test directly. So we can assign the member to our mocked value.</p>\n"}],"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6807,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":20530307,"answer_count":4,"score":13,"last_activity_date":1672998557,"creation_date":1386791805,"question_id":20528722,"body_markdown":"In JUnit / Mockito we have 2 extremly useful annotations: **@Mock** and **@InjectMocks**. \r\n\r\nIn my new project i started using groovy with spock for testing, I&#39;m wondering if there is a replacement for mentioned annotations?","title":"@Mock/@InjectMocks for groovy - spock","body":"<p>In JUnit / Mockito we have 2 extremly useful annotations: <strong>@Mock</strong> and <strong>@InjectMocks</strong>. </p>\n\n<p>In my new project i started using groovy with spock for testing, I'm wondering if there is a replacement for mentioned annotations?</p>\n"},{"tags":["java","openshift","ssh-keys"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1670854258,"post_id":74772278,"comment_id":131962795,"body_markdown":"Try to use     oc get secrets and check if your secret are properly loaded. After that you probably need pass your secret as env if you not using a framework like Spring","body":"Try to use     oc get secrets and check if your secret are properly loaded. After that you probably need pass your secret as env if you not using a framework like Spring"}],"answers":[{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672953138,"creation_date":1672953138,"answer_id":75024408,"question_id":74772278,"body_markdown":"If using Deployment to deploy your java app, you can mount volume from secret:\r\n \r\n```\r\n$ oc create secret ssh-secret \r\n    --from-file=id_rsa=&lt;path/to/ssh/private/key&gt; \r\n    --type=kubernetes.io/ssh-auth\r\n    -n &lt;projectName&gt;\r\n\r\n// &#39;kubernetes.io/ssh-auth&#39;: Credentials for SSH authentication\r\n\r\nvi java-app-deployment.yaml\r\n---\r\nkind: Deployment # Or DeploymentConfig\r\n...\r\n...\r\nspec:\r\n  containers:\r\n    - name: *****\r\n      image: ******\r\n      volumeMounts: \r\n        - name: ssh-volume\r\n          mountPath: /root/.ssh/\r\n          readOnly: true \r\n  volumes:\r\n    - name: ssh-volume\r\n      secret:\r\n        secretName: ssh-secret \r\n```","title":"Openshift: how to add ssh key to pod","body":"<p>If using Deployment to deploy your java app, you can mount volume from secret:</p>\n<pre><code>$ oc create secret ssh-secret \n    --from-file=id_rsa=&lt;path/to/ssh/private/key&gt; \n    --type=kubernetes.io/ssh-auth\n    -n &lt;projectName&gt;\n\n// 'kubernetes.io/ssh-auth': Credentials for SSH authentication\n\nvi java-app-deployment.yaml\n---\nkind: Deployment # Or DeploymentConfig\n...\n...\nspec:\n  containers:\n    - name: *****\n      image: ******\n      volumeMounts: \n        - name: ssh-volume\n          mountPath: /root/.ssh/\n          readOnly: true \n  volumes:\n    - name: ssh-volume\n      secret:\n        secretName: ssh-secret \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672997530,"creation_date":1672997530,"answer_id":75029141,"question_id":74772278,"body_markdown":"I finally found a solution! :)\r\n\r\n\r\nThere were two main problems that I had to solve:\r\n\r\n 1. Permissions were wrong - the app couldn&#39;t create folders or edit the file\r\n 2. The stdout and errors of a process aren&#39;t logged anywhere by default. Thus I didn&#39;t have any error logs that would have helped.\r\n\r\n**1. How to solve permissions**\r\n\r\nI added the directory and file inside my Dockerfile. Then I gave permissions to the newly created file. Security input: If you can, try not to give permissions to all users like I do (we have dynamic user ids...) but give it to least possible users.\r\n\r\n    RUN mkdir -p ~/.ssh/\r\n    RUN touch ~/.ssh/id_ed25519\r\n    RUN chmod a+rw ~/.ssh/id_ed25519\r\n\r\n**2. How to get proper output**\r\n\r\nI added a method that looks like this:\r\n\r\n    private void attachCommandOutputStreams(Process process) {\r\n        InputStream inputStream = process.getInputStream();\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n        BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n\r\n        InputStream errorStream = process.getErrorStream();\r\n        InputStreamReader errorStreamReader = new InputStreamReader(errorStream);\r\n        BufferedReader errorBufferedReader = new BufferedReader(errorStreamReader);\r\n\r\n        // Create a separate thread to read from the error stream\r\n        Thread errorThread = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    String line;\r\n                    while ((line = errorBufferedReader.readLine()) != null) {\r\n                        log.error(line);\r\n                    }\r\n                } catch (IOException e) {\r\n                    log.error(e.toString());\r\n                }\r\n            }\r\n        });\r\n        errorThread.start();\r\n\r\n        try {\r\n\r\n            // Read from the standard output stream in the current thread\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                log.info(&quot;Standard output: &quot; + line);\r\n            }\r\n\r\n            // Wait for the error thread to complete\r\n            errorThread.join();\r\n\r\n            // Close the readers\r\n            bufferedReader.close();\r\n            errorBufferedReader.close();\r\n        } catch (InterruptedException | IOException e) {\r\n            log.error(&quot;Error: &quot;, e);\r\n\r\n        }\r\n    }\r\n\r\nThen it is called like this:\r\n\r\n     Process process = Runtime.getRuntime().exec(new String[]{&quot;sh&quot;, &quot;-c&quot;, executeString});\r\n     this.attachCommandOutputStreams(process);\r\n    \r\n     int exitCode = process.waitFor();\r\n     assert exitCode == 0;","title":"Openshift: how to add ssh key to pod","body":"<p>I finally found a solution! :)</p>\n<p>There were two main problems that I had to solve:</p>\n<ol>\n<li>Permissions were wrong - the app couldn't create folders or edit the file</li>\n<li>The stdout and errors of a process aren't logged anywhere by default. Thus I didn't have any error logs that would have helped.</li>\n</ol>\n<p><strong>1. How to solve permissions</strong></p>\n<p>I added the directory and file inside my Dockerfile. Then I gave permissions to the newly created file. Security input: If you can, try not to give permissions to all users like I do (we have dynamic user ids...) but give it to least possible users.</p>\n<pre><code>RUN mkdir -p ~/.ssh/\nRUN touch ~/.ssh/id_ed25519\nRUN chmod a+rw ~/.ssh/id_ed25519\n</code></pre>\n<p><strong>2. How to get proper output</strong></p>\n<p>I added a method that looks like this:</p>\n<pre><code>private void attachCommandOutputStreams(Process process) {\n    InputStream inputStream = process.getInputStream();\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n\n    InputStream errorStream = process.getErrorStream();\n    InputStreamReader errorStreamReader = new InputStreamReader(errorStream);\n    BufferedReader errorBufferedReader = new BufferedReader(errorStreamReader);\n\n    // Create a separate thread to read from the error stream\n    Thread errorThread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                String line;\n                while ((line = errorBufferedReader.readLine()) != null) {\n                    log.error(line);\n                }\n            } catch (IOException e) {\n                log.error(e.toString());\n            }\n        }\n    });\n    errorThread.start();\n\n    try {\n\n        // Read from the standard output stream in the current thread\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            log.info(&quot;Standard output: &quot; + line);\n        }\n\n        // Wait for the error thread to complete\n        errorThread.join();\n\n        // Close the readers\n        bufferedReader.close();\n        errorBufferedReader.close();\n    } catch (InterruptedException | IOException e) {\n        log.error(&quot;Error: &quot;, e);\n\n    }\n}\n</code></pre>\n<p>Then it is called like this:</p>\n<pre><code> Process process = Runtime.getRuntime().exec(new String[]{&quot;sh&quot;, &quot;-c&quot;, executeString});\n this.attachCommandOutputStreams(process);\n\n int exitCode = process.waitFor();\n assert exitCode == 0;\n</code></pre>\n"}],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75029141,"answer_count":2,"score":0,"last_activity_date":1672997530,"creation_date":1670853920,"question_id":74772278,"body_markdown":"I need an ssh key in my Openshift pod to access a server from inside my application logic (Java).\r\nMy application tries to add a id_ed25519 file to the pod on startup:\r\n\r\n    String executeString = &quot;mkdir ~/.ssh &amp;&amp; echo $SSH_CERT &gt; ~/.ssh/id_ed25519&quot;;\r\n    Process process = Runtime.getRuntime().exec(executeString);\r\n    ...\r\n\r\n`$SSH_CERT` is a OS secret string value.\r\n\r\nThis doesn&#39;t throw an error but also doesn&#39;t seem to work (`ls ~/.ssh/` in the pods terminal doesn&#39;t list anything).\r\nIs ~/.ssh the right place for this file? Is there a different, easier way to add files to a pod?","title":"Openshift: how to add ssh key to pod","body":"<p>I need an ssh key in my Openshift pod to access a server from inside my application logic (Java).\nMy application tries to add a id_ed25519 file to the pod on startup:</p>\n<pre><code>String executeString = &quot;mkdir ~/.ssh &amp;&amp; echo $SSH_CERT &gt; ~/.ssh/id_ed25519&quot;;\nProcess process = Runtime.getRuntime().exec(executeString);\n...\n</code></pre>\n<p><code>$SSH_CERT</code> is a OS secret string value.</p>\n<p>This doesn't throw an error but also doesn't seem to work (<code>ls ~/.ssh/</code> in the pods terminal doesn't list anything).\nIs ~/.ssh the right place for this file? Is there a different, easier way to add files to a pod?</p>\n"},{"tags":["java","macos","java-8","java-home","knowage"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1651152743,"post_id":72044579,"comment_id":127299499,"body_markdown":"Looks like it&#39;s asking you to define INSTALL4J_JAVA_HOME to point the JVM, not JAVA_HOME.  I&#39;d be wary of any system that was still stuck on JDK 8, which has reached the end of its support life, and using JAVA_HOME environment variables to find the JVM.","body":"Looks like it&#39;s asking you to define INSTALL4J_JAVA_HOME to point the JVM, not JAVA_HOME.  I&#39;d be wary of any system that was still stuck on JDK 8, which has reached the end of its support life, and using JAVA_HOME environment variables to find the JVM."},{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1651154980,"post_id":72044579,"comment_id":127300504,"body_markdown":"As suggested in previous comment , set INSTALL4J_JAVA_HOME to Java home path.  Alternatively edit knowage.sh and set the path for  INSTALL4J_JAVA_HOME","body":"As suggested in previous comment , set INSTALL4J_JAVA_HOME to Java home path.  Alternatively edit knowage.sh and set the path for  INSTALL4J_JAVA_HOME"}],"answers":[{"tags":[],"owner":{"account_id":17821100,"reputation":162,"user_id":12943464,"display_name":"My IT GURU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672996832,"creation_date":1672996832,"answer_id":75029008,"question_id":72044579,"body_markdown":"Set INSTALL4J_JAVA_HOME on MAC like JAVA_HOME in .zshrc libe below\r\n\r\n    $  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n    \r\n    $  echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n    \r\n    $  echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/libexec/openjdk.jdk/Contents/Home/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n    \r\n    $  echo &#39;export JAVA_HOME=$(/usr/libexec/java_home)&#39; &gt;&gt; ~/.zshrc\r\n    \r\n    $  echo &#39;export INSTALL4J_JAVA_HOME=$(/usr/libexec/java_home)&#39; &gt;&gt; ~/.zshrc\r\n    \r\n    $  source ~/.zshrc","title":"No suitable Java Virtual Machine could be found on your system on Mac","body":"<p>Set INSTALL4J_JAVA_HOME on MAC like JAVA_HOME in .zshrc libe below</p>\n<pre><code>$  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n\n$  echo 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n\n$  echo 'export PATH=&quot;/opt/homebrew/opt/openjdk/libexec/openjdk.jdk/Contents/Home/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n\n$  echo 'export JAVA_HOME=$(/usr/libexec/java_home)' &gt;&gt; ~/.zshrc\n\n$  echo 'export INSTALL4J_JAVA_HOME=$(/usr/libexec/java_home)' &gt;&gt; ~/.zshrc\n\n$  source ~/.zshrc\n</code></pre>\n"}],"owner":{"account_id":24380773,"reputation":23,"user_id":18312367,"display_name":"Vincenzo Picarelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672996832,"creation_date":1651152656,"question_id":72044579,"body_markdown":"I&#39;m trying to open &quot;knowage.sh&quot; with terminal on Mac, but I have this problem:\r\n- No suitable Java Virtual Machine could be found on your system.\r\nThe version of the JVM must be at least 1.8 and at most 1.8.\r\nPlease define INSTALL4J_JAVA_HOME to point to a suitable JVM.\r\n\r\nI have installed idk 1.8 and I set up JAVA_HOME.\r\nHow can I fix? ","title":"No suitable Java Virtual Machine could be found on your system on Mac","body":"<p>I'm trying to open &quot;knowage.sh&quot; with terminal on Mac, but I have this problem:</p>\n<ul>\n<li>No suitable Java Virtual Machine could be found on your system.\nThe version of the JVM must be at least 1.8 and at most 1.8.\nPlease define INSTALL4J_JAVA_HOME to point to a suitable JVM.</li>\n</ul>\n<p>I have installed idk 1.8 and I set up JAVA_HOME.\nHow can I fix?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9242,"page":750,"page_size":100}
