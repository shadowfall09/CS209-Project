{"items":[{"tags":["java","android","api","mvvm","android-recyclerview"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1651150424,"post_id":72044023,"comment_id":127298451,"body_markdown":"Yes its possible . in fact that&#39;s the reason we have `ViewPager` widget .","body":"Yes its possible . in fact that&#39;s the reason we have <code>ViewPager</code> widget ."},{"owner":{"account_id":25128077,"reputation":1,"user_id":18975656,"display_name":"SzypkiAleWolnyIDK"},"score":0,"creation_date":1651158683,"post_id":72044023,"comment_id":127302160,"body_markdown":"@ADM So in order to use it, I have to implement own adapter for every fragment class?","body":"@ADM So in order to use it, I have to implement own adapter for every fragment class?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1651168161,"post_id":72044023,"comment_id":127305687,"body_markdown":"No. . just follow some ViewPager2 tutiri ..","body":"No. . just follow some ViewPager2 tutiri .."},{"owner":{"account_id":25128077,"reputation":1,"user_id":18975656,"display_name":"SzypkiAleWolnyIDK"},"score":0,"creation_date":1651171948,"post_id":72044023,"comment_id":127306944,"body_markdown":"@ADM such an informative response! thank you","body":"@ADM such an informative response! thank you"}],"owner":{"account_id":25128077,"reputation":1,"user_id":18975656,"display_name":"SzypkiAleWolnyIDK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651150261,"creation_date":1651150261,"question_id":72044023,"body_markdown":"In short - I&#39;d like to ask, if it is possible to use the FragmentStateAdapter for let&#39;s say 3 fragments, but every single one has it own RecyclerView, so every single one will need different data to display. For now, I&#39;ve just setup some basic TabLayout for these fragments, but Im not sure how would it work. ","title":"Is it possible to have as a adapter an FragmentStateAdapter, which will display different data for 3 different fragments?","body":"<p>In short - I'd like to ask, if it is possible to use the FragmentStateAdapter for let's say 3 fragments, but every single one has it own RecyclerView, so every single one will need different data to display. For now, I've just setup some basic TabLayout for these fragments, but Im not sure how would it work.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1600699296,"post_id":63994438,"comment_id":113162182,"body_markdown":"So, you are trying to print the values of your list between the entered `first` and `last` index? So in this case, you want to print `1, 4, 7`, is that correct?","body":"So, you are trying to print the values of your list between the entered <code>first</code> and <code>last</code> index? So in this case, you want to print <code>1, 4, 7</code>, is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":6223420,"reputation":332,"user_id":4842440,"display_name":"Afik Friedberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600701111,"creation_date":1600699725,"answer_id":63994724,"question_id":63994438,"body_markdown":"if you use java 8 and above:\r\n\r\n    System.out.println(IntStream.rangeClosed(first, last).mapToObj(number::get).collect(Collectors.toList()));\r\n\r\nif you dont want to use a stream:\r\n\r\n    for (int i = first; i &lt;= last; i++) {\r\n            System.out.println(numbers.get(i));\r\n        } ","title":"trouble printing a range of numbers in an array list with own inputs and indices - 3.8 MOOC JAVA","body":"<p>if you use java 8 and above:</p>\n<pre><code>System.out.println(IntStream.rangeClosed(first, last).mapToObj(number::get).collect(Collectors.toList()));\n</code></pre>\n<p>if you dont want to use a stream:</p>\n<pre><code>for (int i = first; i &lt;= last; i++) {\n        System.out.println(numbers.get(i));\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14809612,"reputation":1470,"user_id":10695663,"display_name":"MehranB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600700079,"creation_date":1600700079,"answer_id":63994812,"question_id":63994438,"body_markdown":"just replace your for loop with this:\r\n\r\n    for (int i = first; i &lt; last; i++) {\r\n          System.out.println(numbers.get(i));\r\n    }\r\n","title":"trouble printing a range of numbers in an array list with own inputs and indices - 3.8 MOOC JAVA","body":"<p>just replace your for loop with this:</p>\n<pre><code>for (int i = first; i &lt; last; i++) {\n      System.out.println(numbers.get(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25126690,"reputation":1,"user_id":18974408,"display_name":"Yash Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651150147,"creation_date":1651149744,"answer_id":72043911,"question_id":63994438,"body_markdown":"\r\nTry to  understand the code that you have written. Your for loop indicates that it initializes from the element 1  that is stored in index2 and will stop at element 7  that is stored in index4  \r\nnow that means\r\n    \r\n`    for (int i = numbers.get(first); i &lt;=numbers.get(last); i++) {\r\n                       System.out.println(numbers);\r\n        }`\r\nthis will indirectly say \r\n\r\n    for( int i =1;i&lt;=7;i++){\r\n    System.out.println(numbers);}\r\n\r\n\r\nthat is why your code is printing the array 7 times.\r\n\r\n            for (int i =first; i &lt;= last; i++) {\r\n            System.out.println(num.get(i));","title":"trouble printing a range of numbers in an array list with own inputs and indices - 3.8 MOOC JAVA","body":"<p>Try to  understand the code that you have written. Your for loop indicates that it initializes from the element 1  that is stored in index2 and will stop at element 7  that is stored in index4<br />\nnow that means</p>\n<p><code>    for (int i = numbers.get(first); i &lt;=numbers.get(last); i++) { System.out.println(numbers); }</code>\nthis will indirectly say</p>\n<pre><code>for( int i =1;i&lt;=7;i++){\nSystem.out.println(numbers);}\n</code></pre>\n<p>that is why your code is printing the array 7 times.</p>\n<pre><code>        for (int i =first; i &lt;= last; i++) {\n        System.out.println(num.get(i));\n</code></pre>\n"}],"owner":{"account_id":19562419,"reputation":5,"user_id":14315392,"display_name":"beginner1231"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63994724,"answer_count":3,"score":0,"last_activity_date":1651150147,"creation_date":1600698844,"question_id":63994438,"body_markdown":"I have an exercise problem from MOOC.fi that I am stuck on! We are learning about arrays and lists in Java, and here is the text for the problem: \r\n\r\n&quot;The exercise template contains a base that reads numbers from the user and adds them to a list. Reading is stopped once the user enters the number -1.\r\n\r\nExpand the program to ask for a start and end indices once it has finished asking for numbers. After this the program shall prints all the numbers in the list that fall in the specified range (between the indices given by the user, inclusive). You may assume that the user gives indices that match some numbers in the list.&quot;  The instructions also emphasize using lists and indices.\r\n\r\n\r\n**Here is my code:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class OnlyTheseNumbers {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n            while (true) {\r\n                int number = Integer.valueOf(scanner.nextLine());\r\n                if (number == -1) {\r\n                    break;\r\n                }\r\n    \r\n                numbers.add(number);\r\n            }\r\n            \r\n            System.out.println(&quot;From where? &quot;);\r\n            int first = Integer.valueOf(scanner.nextLine()); //first index input  to \r\n            System.out.println(&quot;To where? &quot;);\r\n            int last = Integer.valueOf(scanner.nextLine()); // last index input in a list\r\n            \r\n            \r\n            for (int i = numbers.get(first); i &lt;= numbers.get(last); i++) {\r\n                System.out.println(numbers);\r\n            }         \r\n            \r\n            /*int i = numbers.get(first);\r\n            while (i &lt;= numbers.get(last)) {\r\n                System.out.println(arr[numbers]);\r\n                i++;\r\n            }*/\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**Result** - If I use input numbers:\r\n3\r\n2\r\n1\r\n4\r\n7\r\n-1\r\n\r\nFrom where? \r\n2\r\n\r\nTo where? \r\n4\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\n[3, 2, 1, 4, 7]\r\n\r\nIt works up until it needs to print the range of inputs, between the first and last indices, I have tried using **i** instead of **numbers** in the **System.out.println(numbers);**, but that prints the first input number to the last input number. I&#39;ve tried both a **while loop** and a **for loop**, but am stuck.\r\n\r\nThis is my first post, I apologize if it is bad formatting or too much text!","title":"trouble printing a range of numbers in an array list with own inputs and indices - 3.8 MOOC JAVA","body":"<p>I have an exercise problem from MOOC.fi that I am stuck on! We are learning about arrays and lists in Java, and here is the text for the problem:</p>\n<p>&quot;The exercise template contains a base that reads numbers from the user and adds them to a list. Reading is stopped once the user enters the number -1.</p>\n<p>Expand the program to ask for a start and end indices once it has finished asking for numbers. After this the program shall prints all the numbers in the list that fall in the specified range (between the indices given by the user, inclusive). You may assume that the user gives indices that match some numbers in the list.&quot;  The instructions also emphasize using lists and indices.</p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class OnlyTheseNumbers {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        while (true) {\n            int number = Integer.valueOf(scanner.nextLine());\n            if (number == -1) {\n                break;\n            }\n\n            numbers.add(number);\n        }\n        \n        System.out.println(&quot;From where? &quot;);\n        int first = Integer.valueOf(scanner.nextLine()); //first index input  to \n        System.out.println(&quot;To where? &quot;);\n        int last = Integer.valueOf(scanner.nextLine()); // last index input in a list\n        \n        \n        for (int i = numbers.get(first); i &lt;= numbers.get(last); i++) {\n            System.out.println(numbers);\n        }         \n        \n        /*int i = numbers.get(first);\n        while (i &lt;= numbers.get(last)) {\n            System.out.println(arr[numbers]);\n            i++;\n        }*/\n\n    }\n}\n</code></pre>\n<h2><strong>Result</strong> - If I use input numbers:\n3\n2\n1\n4\n7</h2>\n<p>From where?\n2</p>\n<p>To where?\n4</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>[3, 2, 1, 4, 7]</p>\n<p>It works up until it needs to print the range of inputs, between the first and last indices, I have tried using <strong>i</strong> instead of <strong>numbers</strong> in the <strong>System.out.println(numbers);</strong>, but that prints the first input number to the last input number. I've tried both a <strong>while loop</strong> and a <strong>for loop</strong>, but am stuck.</p>\n<p>This is my first post, I apologize if it is bad formatting or too much text!</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":2619910,"reputation":1394,"user_id":2268179,"display_name":"conca"},"score":0,"creation_date":1379343707,"post_id":18830701,"comment_id":27779002,"body_markdown":"I think the private field of Class A may be protected instead of private, so you can access it from Class C without reflection.","body":"I think the private field of Class A may be protected instead of private, so you can access it from Class C without reflection."}],"answers":[{"tags":[],"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1379345865,"creation_date":1379342783,"answer_id":18830907,"question_id":18830701,"body_markdown":"The fact that you need to do this points to a flawed design.\r\n\r\nHowever, it can be done as follows:\r\n\r\n    class A\r\n    {\r\n      private int privateField = 3;\r\n    }\r\n    \r\n    class B extends A\r\n    {}\r\n    \r\n    class C extends B\r\n    {\r\n       void m() throws NoSuchFieldException, IllegalAccessException\r\n       {\r\n          Field f = getClass().getSuperclass().getSuperclass().getDeclaredField(&quot;privateField&quot;);\r\n          f.setAccessible(true); // enables access to private variables\r\n          System.out.println(f.get(this));\r\n       }\r\n    }\r\n\r\nCall with:\r\n\r\n    new C().m();\r\n\r\nOne way to do the **&#39;walking up the class hierarchy&#39;** that Andrzej Doyle was talking about is as follows:\r\n\r\n    Class c = getClass();\r\n    Field f = null;\r\n    while (f == null &amp;&amp; c != null) // stop when we got field or reached top of class hierarchy\r\n    {\r\n       try\r\n       {\r\n         f = c.getDeclaredField(&quot;privateField&quot;);\r\n       }\r\n       catch (NoSuchFieldException e)\r\n       {\r\n         // only get super-class when we couldn&#39;t find field\r\n         c = c.getSuperclass();\r\n       }\r\n    }\r\n    if (f == null) // walked to the top of class hierarchy without finding field\r\n    {\r\n       System.out.println(&quot;No such field found!&quot;);\r\n    }\r\n    else\r\n    {\r\n       f.setAccessible(true);\r\n       System.out.println(f.get(this));\r\n    }","title":"How to access a private field of the super class of the super class with reflection in Java?","body":"<p>The fact that you need to do this points to a flawed design.</p>\n\n<p>However, it can be done as follows:</p>\n\n<pre><code>class A\n{\n  private int privateField = 3;\n}\n\nclass B extends A\n{}\n\nclass C extends B\n{\n   void m() throws NoSuchFieldException, IllegalAccessException\n   {\n      Field f = getClass().getSuperclass().getSuperclass().getDeclaredField(\"privateField\");\n      f.setAccessible(true); // enables access to private variables\n      System.out.println(f.get(this));\n   }\n}\n</code></pre>\n\n<p>Call with:</p>\n\n<pre><code>new C().m();\n</code></pre>\n\n<p>One way to do the <strong>'walking up the class hierarchy'</strong> that Andrzej Doyle was talking about is as follows:</p>\n\n<pre><code>Class c = getClass();\nField f = null;\nwhile (f == null &amp;&amp; c != null) // stop when we got field or reached top of class hierarchy\n{\n   try\n   {\n     f = c.getDeclaredField(\"privateField\");\n   }\n   catch (NoSuchFieldException e)\n   {\n     // only get super-class when we couldn't find field\n     c = c.getSuperclass();\n   }\n}\nif (f == null) // walked to the top of class hierarchy without finding field\n{\n   System.out.println(\"No such field found!\");\n}\nelse\n{\n   f.setAccessible(true);\n   System.out.println(f.get(this));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11129917,"reputation":35,"user_id":8170187,"display_name":"masonshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651150032,"creation_date":1651150032,"answer_id":72043977,"question_id":18830701,"body_markdown":"An alternative way, if you&#39;re using springframework.\r\n```java\r\n// Attempt to find a field on the supplied Class with the supplied name. Searches all superclasses up to Object.\r\nField field = ReflectionUtils.findField(C.class, &quot;privateField&quot;);\r\n```","title":"How to access a private field of the super class of the super class with reflection in Java?","body":"<p>An alternative way, if you're using springframework.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Attempt to find a field on the supplied Class with the supplied name. Searches all superclasses up to Object.\nField field = ReflectionUtils.findField(C.class, &quot;privateField&quot;);\n</code></pre>\n"}],"owner":{"account_id":1427786,"reputation":3065,"user_id":1350880,"accept_rate":42,"display_name":"Andrea T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8265,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":18830907,"answer_count":2,"score":7,"last_activity_date":1651150032,"creation_date":1379342282,"question_id":18830701,"body_markdown":"In one API I am using I have an *Abstract Class* (**Class A**) that has a *private field* (**A.privateField**).\r\n  **Class B** *extends Class A* within the API.\r\nI need to extend Class B with my implementation of it, **Class C**, but I need privateField of class A. \r\nI should use reflection: How can I access a private field of a super super class?\r\n\r\n    Class A\r\n        - privateField\r\n    Class B extends A\r\n    Class C extends B\r\n        + method use A.privateField\r\n","title":"How to access a private field of the super class of the super class with reflection in Java?","body":"<p>In one API I am using I have an <em>Abstract Class</em> (<strong>Class A</strong>) that has a <em>private field</em> (<strong>A.privateField</strong>).\n  <strong>Class B</strong> <em>extends Class A</em> within the API.\nI need to extend Class B with my implementation of it, <strong>Class C</strong>, but I need privateField of class A. \nI should use reflection: How can I access a private field of a super super class?</p>\n\n<pre><code>Class A\n    - privateField\nClass B extends A\nClass C extends B\n    + method use A.privateField\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":2,"creation_date":1651148999,"post_id":72043563,"comment_id":127297784,"body_markdown":"What are you trying to accomplish? The error you get just means that you can&#39;t assign stuff to variables that are declared in a different scope than the lambda but used in any lambda.","body":"What are you trying to accomplish? The error you get just means that you can&#39;t assign stuff to variables that are declared in a different scope than the lambda but used in any lambda."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1651149508,"post_id":72043563,"comment_id":127298000,"body_markdown":"Please [edit] your question to show a [mcve].","body":"Please <a href=\"https://stackoverflow.com/posts/72043563/edit\">edit</a> your question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651149308,"creation_date":1651149308,"answer_id":72043820,"question_id":72043563,"body_markdown":"Inside lambda function all variable have to be final.\r\n\r\nyou can create your collect variable as Atomic and then you can assign on it your list:\r\n\r\n     AtomicReference&lt;List&lt;FinalAssessment&gt;&gt; collect = null;","title":"Local variable collect defined in an enclosing scope must be final or effectively final","body":"<p>Inside lambda function all variable have to be final.</p>\n<p>you can create your collect variable as Atomic and then you can assign on it your list:</p>\n<pre><code> AtomicReference&lt;List&lt;FinalAssessment&gt;&gt; collect = null;\n</code></pre>\n"}],"owner":{"account_id":24514765,"reputation":1,"user_id":18428686,"display_name":"Stormbreaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72043820,"answer_count":1,"score":-1,"last_activity_date":1651149909,"creation_date":1651148298,"question_id":72043563,"body_markdown":"I&#39;m getting an error *Local variable collect defined in an enclosing scope must be final or effectively final* at collect. I tried declaring the **collect** at class level surrouning with final but still I&#39;m getting same error.\r\n \r\n\r\nAny help is appreciated. Thanks!!\r\n\r\nmy code\r\n\r\n```\r\n@Override\r\n\tpublic List&lt;FinalAssessment&gt; getFactorsChild(String pid) {\r\n\t\t\r\n\t\t//probationer fa performance \r\n\t\tList&lt;FinalAssessment&gt; probationerFa = faAssessment.getProbationerFa(pid);\r\n\t\t\r\n\t\t//master factors\r\n\t\tList&lt;FinalAssessment&gt; factorsChild = faAssessment.getFactorsChild();\r\n\t\t/*\r\n\t\t * Setting marked performance grades to the factorschild list to show marked\r\n\t\t * performance grades in list\r\n\t\t */ \r\n\t\t\r\n\t\tprobationerFa.forEach(fa-&gt; {\r\n\t\t\tif(fa.getGradecode()!=null) {\r\n\t\t\t\tcollect = factorsChild.stream().\r\n\t\t\t\tfilter(l-&gt;l.getGradecode().equals(fa.getItemcode())).\r\n\t\t\t\tpeek(pfa-&gt; pfa.setGradecode(fa.getGradecode())).collect(Collectors.toList());\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tcollect.forEach( x-&gt; System.out.println(&quot;G code &quot; + x.getGradecode()));\r\n\t\t\r\n\t\treturn faAssessment.getFactorsChild();\r\n\t}\r\n\r\n```","title":"Local variable collect defined in an enclosing scope must be final or effectively final","body":"<p>I'm getting an error <em>Local variable collect defined in an enclosing scope must be final or effectively final</em> at collect. I tried declaring the <strong>collect</strong> at class level surrouning with final but still I'm getting same error.</p>\n<p>Any help is appreciated. Thanks!!</p>\n<p>my code</p>\n<pre><code>@Override\n    public List&lt;FinalAssessment&gt; getFactorsChild(String pid) {\n        \n        //probationer fa performance \n        List&lt;FinalAssessment&gt; probationerFa = faAssessment.getProbationerFa(pid);\n        \n        //master factors\n        List&lt;FinalAssessment&gt; factorsChild = faAssessment.getFactorsChild();\n        /*\n         * Setting marked performance grades to the factorschild list to show marked\n         * performance grades in list\n         */ \n        \n        probationerFa.forEach(fa-&gt; {\n            if(fa.getGradecode()!=null) {\n                collect = factorsChild.stream().\n                filter(l-&gt;l.getGradecode().equals(fa.getItemcode())).\n                peek(pfa-&gt; pfa.setGradecode(fa.getGradecode())).collect(Collectors.toList());\n            }\n        });\n        \n        collect.forEach( x-&gt; System.out.println(&quot;G code &quot; + x.getGradecode()));\n        \n        return faAssessment.getFactorsChild();\n    }\n\n</code></pre>\n"},{"tags":["java","printing","binary-tree","levels"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1341197368,"post_id":11287289,"comment_id":14847431,"body_markdown":"Use a queue to enqueue the child node and pop out the next node to print.","body":"Use a queue to enqueue the child node and pop out the next node to print."},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1341197709,"post_id":11287289,"comment_id":14847466,"body_markdown":"@nhahtdh I can&#39;t use any other data structure rather than the binary tree","body":"@nhahtdh I can&#39;t use any other data structure rather than the binary tree"},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1341197790,"post_id":11287289,"comment_id":14847469,"body_markdown":"@alfasin No, I don&#39;t know what is BFS, how can I use that in this method?","body":"@alfasin No, I don&#39;t know what is BFS, how can I use that in this method?"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1341197856,"post_id":11287289,"comment_id":14847481,"body_markdown":"If you&#39;ll google it you&#39;ll find thousands of implementations, for example: http://www.divms.uiowa.edu/~sriram/21/fall05/ExamplePrograms/ReaderFiles/Chap13/bfs/bfs.java\nyou can read more about BFS here: http://en.wikipedia.org/wiki/Breadth-first_search","body":"If you&#39;ll google it you&#39;ll find thousands of implementations, for example: <a href=\"http://www.divms.uiowa.edu/~sriram/21/fall05/ExamplePrograms/ReaderFiles/Chap13/bfs/bfs.java\" rel=\"nofollow noreferrer\">divms.uiowa.edu/~sriram/21/fall05/ExamplePrograms/ReaderFile&zwnj;&#8203;s/&hellip;</a> you can read more about BFS here: <a href=\"http://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Breadth-first_search</a>"},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1341197994,"post_id":11287289,"comment_id":14847496,"body_markdown":"@nhahtdh EDIT: it&#39;s for homework","body":"@nhahtdh EDIT: it&#39;s for homework"},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1341198241,"post_id":11287289,"comment_id":14847514,"body_markdown":"@alfasin That may work but I cannot use queues. The only thing I know is that I have to do a &quot;for&quot; or &quot;while&quot; loop that starts in 0 and finish in tree depth.","body":"@alfasin That may work but I cannot use queues. The only thing I know is that I have to do a &quot;for&quot; or &quot;while&quot; loop that starts in 0 and finish in tree depth."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1341198445,"post_id":11287289,"comment_id":14847543,"body_markdown":"@JohnnyDahdah: You can implement your own queue - the teacher should not prevent you from doing so.","body":"@JohnnyDahdah: You can implement your own queue - the teacher should not prevent you from doing so."},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1341198549,"post_id":11287289,"comment_id":14847557,"body_markdown":"@nhahtdh: Actually she did, she said &quot;You cannot use any data structure rather than the binary tree you have&quot;","body":"@nhahtdh: Actually she did, she said &quot;You cannot use any data structure rather than the binary tree you have&quot;"}],"answers":[{"tags":[],"owner":{"account_id":483794,"reputation":767,"user_id":899064,"accept_rate":67,"display_name":"konjac"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1341198436,"creation_date":1341197756,"answer_id":11287334,"question_id":11287289,"body_markdown":"You can use the level traversal algorithm to print them.\n\nThe algorithm works as follows:\n\n&gt;queue := &lt; root &gt;\n&gt;\n&gt;while queue is not empty\n&gt;\n&gt;      v := queue.front\n&gt;\n&gt;      print v\n&gt;\n&gt;      foreach s : s is a son of v\n&gt;\n&gt;         queue.enqueue(s)\n&gt;\n&gt;      queue.dequeue\n","title":"Printing binary tree by levels in java","body":"<p>You can use the level traversal algorithm to print them.</p>\n<p>The algorithm works as follows:</p>\n<blockquote>\n<p>queue := &lt; root &gt;</p>\n<p>while queue is not empty</p>\n<pre><code> v := queue.front\n\n print v\n\n foreach s : s is a son of v\n\n    queue.enqueue(s)\n\n queue.dequeue\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1341199828,"creation_date":1341199828,"answer_id":11287494,"question_id":11287289,"body_markdown":"Okay, I think I figured it out:&lt;br&gt;\r\n1. extend the class Node and add a property called height (int)&lt;br&gt;\r\n2. Calculate the height of each node of the tree (easy recursive function  - no data-structure is needed)&lt;br&gt;\r\n3. use a for-loop, and run in-order traversal, for each height (level) and print the nodes of that level","title":"Printing binary tree by levels in java","body":"<p>Okay, I think I figured it out:<br>\n1. extend the class Node and add a property called height (int)<br>\n2. Calculate the height of each node of the tree (easy recursive function  - no data-structure is needed)<br>\n3. use a for-loop, and run in-order traversal, for each height (level) and print the nodes of that level</p>\n"},{"tags":[],"owner":{"account_id":25076325,"reputation":1,"user_id":18929714,"display_name":"Ahmed Derradji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651149534,"creation_date":1651149534,"answer_id":72043862,"question_id":11287289,"body_markdown":"    public void displayByLevel(){\r\n        ArrayList&lt;Node&gt; ar = new ArrayList&lt;&gt;();\r\n        ar.add(root);\r\n        displayByLevelHelper(ar);\r\n    }\r\n    private void displayByLevelHelper(ArrayList&lt;Node&gt; ar){\r\n        if(ar.isEmpty()){\r\n            return;\r\n        }\r\n        ArrayList&lt;Node&gt; nextAr= new ArrayList&lt;&gt;();\r\n        for(Node n:ar){\r\n            System.out.print(n.data + &quot; &quot;);\r\n            if(n.left!=null){\r\n                nextAr.add(n.left);\r\n            }\r\n            if(n.right!=null){\r\n                nextAr.add(n.right);\r\n            }\r\n        }\r\n        System.out.println();\r\n        displayByLevelHelper(nextAr);\r\n    }","title":"Printing binary tree by levels in java","body":"<pre><code>public void displayByLevel(){\n    ArrayList&lt;Node&gt; ar = new ArrayList&lt;&gt;();\n    ar.add(root);\n    displayByLevelHelper(ar);\n}\nprivate void displayByLevelHelper(ArrayList&lt;Node&gt; ar){\n    if(ar.isEmpty()){\n        return;\n    }\n    ArrayList&lt;Node&gt; nextAr= new ArrayList&lt;&gt;();\n    for(Node n:ar){\n        System.out.print(n.data + &quot; &quot;);\n        if(n.left!=null){\n            nextAr.add(n.left);\n        }\n        if(n.right!=null){\n            nextAr.add(n.right);\n        }\n    }\n    System.out.println();\n    displayByLevelHelper(nextAr);\n}\n</code></pre>\n"}],"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651149534,"creation_date":1341197246,"question_id":11287289,"body_markdown":"I want to know the code to print a binary tree level by level, I mean, if I have this tree:\r\n\r\n        5\r\n       / \\\r\n      3   2\r\n     /     \\\r\n    4       6\r\n\r\nI want to print it like: `5 3 2 4 6`.\r\n\r\nI know I need to do the tree depth method and I already did it, but I don&#39;t know what else to do.\r\n","title":"Printing binary tree by levels in java","body":"<p>I want to know the code to print a binary tree level by level, I mean, if I have this tree:</p>\n\n<pre><code>    5\n   / \\\n  3   2\n /     \\\n4       6\n</code></pre>\n\n<p>I want to print it like: <code>5 3 2 4 6</code>.</p>\n\n<p>I know I need to do the tree depth method and I already did it, but I don't know what else to do.</p>\n"},{"tags":["java","mongodb","mongo-java-driver"],"comments":[{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1651154167,"post_id":72043786,"comment_id":127300118,"body_markdown":"The driver may have not recognized the `_id` field as the document id, for which you may need to annotate it using [@BsonId](https://mongodb.github.io/mongo-java-driver/4.6/apidocs/bson/org/bson/codecs/pojo/annotations/BsonId.html). Also the driver may require std POJO style getters/setters. Not sure, therefore posted as a comment ;)","body":"The driver may have not recognized the <code>_id</code> field as the document id, for which you may need to annotate it using <a href=\"https://mongodb.github.io/mongo-java-driver/4.6/apidocs/bson/org/bson/codecs/pojo/annotations/BsonId.html\" rel=\"nofollow noreferrer\">@BsonId</a>. Also the driver may require std POJO style getters/setters. Not sure, therefore posted as a comment ;)"},{"owner":{"account_id":4132740,"reputation":1332,"user_id":3390154,"accept_rate":38,"display_name":"BrownTownCoder"},"score":0,"creation_date":1651158006,"post_id":72043786,"comment_id":127301849,"body_markdown":"@murtiko yeah that did not work :(","body":"@murtiko yeah that did not work :("}],"owner":{"account_id":4132740,"reputation":1332,"user_id":3390154,"accept_rate":38,"display_name":"BrownTownCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651149198,"creation_date":1651149198,"question_id":72043786,"body_markdown":"I am trying to store `_id` as a String in Mongo, but for some reason, mongo is still overriding and storing it as an `ObjectId.` Below is my Java class\r\n\r\n        public class Subscription {\r\n        @JsonProperty(&quot;subscriptionId&quot;)\r\n            private String _id;\r\n            private List&lt;FilterAttribute&gt; filterAttributes;\r\n        }\r\n\r\nHere is my code that saves the object.\r\n\r\n     private final MongoCollection&lt;Subscription&gt; mongoCollection;\r\n     mongoCollection.insertOne(subscription);\r\n\r\nI tried a few methods but had no luck","title":"Not able to store &quot;_id&quot; as a UUID string in Mongo java","body":"<p>I am trying to store <code>_id</code> as a String in Mongo, but for some reason, mongo is still overriding and storing it as an <code>ObjectId.</code> Below is my Java class</p>\n<pre><code>    public class Subscription {\n    @JsonProperty(&quot;subscriptionId&quot;)\n        private String _id;\n        private List&lt;FilterAttribute&gt; filterAttributes;\n    }\n</code></pre>\n<p>Here is my code that saves the object.</p>\n<pre><code> private final MongoCollection&lt;Subscription&gt; mongoCollection;\n mongoCollection.insertOne(subscription);\n</code></pre>\n<p>I tried a few methods but had no luck</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6341752,"reputation":1,"user_id":4923424,"display_name":"Mohamed Elsawy"},"score":0,"creation_date":1469643159,"post_id":20744610,"comment_id":64626385,"body_markdown":"This is Best answer and solv. http://stackoverflow.com/a/33094171/4923424","body":"This is Best answer and solv. <a href=\"http://stackoverflow.com/a/33094171/4923424\">stackoverflow.com/a/33094171/4923424</a>"}],"answers":[{"tags":[],"owner":{"account_id":3625063,"reputation":415,"user_id":3208964,"display_name":"Euclides"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1390019354,"creation_date":1390019354,"answer_id":21199989,"question_id":20744610,"body_markdown":"You need to edit your vmoptions file (in my case it was in C:\\Program Files\\Android\\android-studio\\bin\\studio.exe.vmoptions), open it with a text editor and reduce the values of -Xmx and -XX:PermSize (change -Xmx512m to -Xmx256m and -XX:MaxPermSize=250m to -XX:MaxPermSize=128m).  Save it and restart the IDE.","title":"Android Studio - Java JVM","body":"<p>You need to edit your vmoptions file (in my case it was in C:\\Program Files\\Android\\android-studio\\bin\\studio.exe.vmoptions), open it with a text editor and reduce the values of -Xmx and -XX:PermSize (change -Xmx512m to -Xmx256m and -XX:MaxPermSize=250m to -XX:MaxPermSize=128m).  Save it and restart the IDE.</p>\n"},{"tags":[],"owner":{"account_id":5130932,"reputation":617,"user_id":4111151,"accept_rate":22,"display_name":"prasanthMurugan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496385162,"creation_date":1496385162,"answer_id":44322285,"question_id":20744610,"body_markdown":"****Worked solution for me*****\r\n\r\nIf you have recently modified Custom VM Options using Help menu, then you should undo your changes or if you have created a new VM options file, remove it. The file can be found on this path:\r\n\r\nC:\\Users\\.AndroidStudio2.1\r\nhttps://stackoverflow.com/a/42858136/4111151\r\n\r\n","title":"Android Studio - Java JVM","body":"<p>****Worked solution for me*****</p>\n\n<p>If you have recently modified Custom VM Options using Help menu, then you should undo your changes or if you have created a new VM options file, remove it. The file can be found on this path:</p>\n\n<p>C:\\Users.AndroidStudio2.1\n<a href=\"https://stackoverflow.com/a/42858136/4111151\">https://stackoverflow.com/a/42858136/4111151</a></p>\n"},{"tags":[],"owner":{"account_id":6280174,"reputation":477,"user_id":4881476,"display_name":"Ravindra Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651149138,"creation_date":1651149138,"answer_id":72043763,"question_id":20744610,"body_markdown":"Please follow below steps to resolve this issue.\r\nGo to C:\\Program Files\\Android\\Android Studio\\bin\\studio.exe.vmoptions\r\n\r\nOpen it in notepad and change the following attributes:.\r\n\r\n-Xmx512m to -Xmx256m\r\n-XX:MaxPermSize=250m to -XX:MaxPermSize=128m\r\n\r\nOr change:\r\n\r\n-Xmx750m to -Xmx512m\r\n-XX:MaxPermSize=350m to -XX:MaxPermSize=250m","title":"Android Studio - Java JVM","body":"<p>Please follow below steps to resolve this issue.\nGo to C:\\Program Files\\Android\\Android Studio\\bin\\studio.exe.vmoptions</p>\n<p>Open it in notepad and change the following attributes:.</p>\n<p>-Xmx512m to -Xmx256m\n-XX:MaxPermSize=250m to -XX:MaxPermSize=128m</p>\n<p>Or change:</p>\n<p>-Xmx750m to -Xmx512m\n-XX:MaxPermSize=350m to -XX:MaxPermSize=250m</p>\n"}],"owner":{"account_id":3502713,"reputation":33,"user_id":2929083,"display_name":"Mr Mago"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9004,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1651149138,"creation_date":1387805433,"question_id":20744610,"body_markdown":"I downloaded the latest version of Android Studio, but I can not use it.\nThe following message appears:\n\n&gt; Failed to create JVM: error code -4\n&gt;\n&gt; JVM Path: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\n&gt;\n&gt; If you already have a 32-bit JDK installed, define a JAVA_HOME variable in Computer &gt; System Properties &gt; System Settings &gt; Environment Variables.\n\n\nBut I&#39;ve set the JAVA_HOME to \n&gt; C:\\Program Files\\Java\\jdk1.7.0_45\n\nAdded to the end of the **Path**:\n&gt; ;C:\\Program Files\\Java\\jdk1.7.0_45\\bin\n\njavaDebug\n&gt;java version &quot;1.7.0_45&quot;\n&gt;\n&gt;Java(TM) SE Runtime Environment (build 1.7.0_45-b18)\n&gt;\n&gt;Java HotSpot(TM) Client VM (build 24.45-b08, mixed mode, sharing)\n\nWhat is wrong?","title":"Android Studio - Java JVM","body":"<p>I downloaded the latest version of Android Studio, but I can not use it.\nThe following message appears:</p>\n<blockquote>\n<p>Failed to create JVM: error code -4</p>\n<p>JVM Path: C:\\Program Files\\Java\\jdk1.7.0_45\\jre</p>\n<p>If you already have a 32-bit JDK installed, define a JAVA_HOME variable in Computer &gt; System Properties &gt; System Settings &gt; Environment Variables.</p>\n</blockquote>\n<p>But I've set the JAVA_HOME to</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.7.0_45</p>\n</blockquote>\n<p>Added to the end of the <strong>Path</strong>:</p>\n<blockquote>\n<p>;C:\\Program Files\\Java\\jdk1.7.0_45\\bin</p>\n</blockquote>\n<p>javaDebug</p>\n<blockquote>\n<p>java version &quot;1.7.0_45&quot;</p>\n<p>Java(TM) SE Runtime Environment (build 1.7.0_45-b18)</p>\n<p>Java HotSpot(TM) Client VM (build 24.45-b08, mixed mode, sharing)</p>\n</blockquote>\n<p>What is wrong?</p>\n"},{"tags":["java","datetime","java-8"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1651142239,"post_id":72042067,"comment_id":127295414,"body_markdown":"Do you really want to change the time zone but not the time itself?","body":"Do you really want to change the time zone but not the time itself?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1651143443,"post_id":72042067,"comment_id":127295831,"body_markdown":"Why would it involve springboot?","body":"Why would it involve springboot?"},{"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"score":0,"creation_date":1651143635,"post_id":72042067,"comment_id":127295931,"body_markdown":"@deHaar I want to change the time as well in the desired format","body":"@deHaar I want to change the time as well in the desired format"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1651144017,"post_id":72042067,"comment_id":127296064,"body_markdown":"You just removed the `Z` from your desired output. That would not change the time but drop the zone / offset. What exactly are you trying to achieve? Show time only in a different format?","body":"You just removed the <code>Z</code> from your desired output. That would not change the time but drop the zone / offset. What exactly are you trying to achieve? Show time only in a different format?"},{"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"score":0,"creation_date":1651144143,"post_id":72042067,"comment_id":127296108,"body_markdown":"Yes, just to change the format.(sorry for the confusion as I am not sure of the exact value of Z here)","body":"Yes, just to change the format.(sorry for the confusion as I am not sure of the exact value of Z here)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651146224,"post_id":72042067,"comment_id":127296820,"body_markdown":"Does this answer your question? [DateTimeParse Exception](https://stackoverflow.com/questions/62105691/datetimeparse-exception). And/or [this](https://stackoverflow.com/questions/65856109/how-to-convert-java-string-eee-mmm-dd-hhmmss-zzz-yyyydate-type-to-java-util)?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62105691/datetimeparse-exception\">DateTimeParse Exception</a>. And/or <a href=\"https://stackoverflow.com/questions/65856109/how-to-convert-java-string-eee-mmm-dd-hhmmss-zzz-yyyydate-type-to-java-util\">this</a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651146575,"post_id":72042067,"comment_id":127296950,"body_markdown":"Beware when parsing three letter time zone abbreviations. `CET` may be uniquely defined, but most of the most common abbreviations are ambiguous, and when parsing one that is, you don’t know what you get.","body":"Beware when parsing three letter time zone abbreviations. <code>CET</code> may be uniquely defined, but most of the most common abbreviations are ambiguous, and when parsing one that is, you don’t know what you get."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651148810,"creation_date":1651144169,"answer_id":72042631,"question_id":72042067,"body_markdown":"You can use Java 8&#39;s date/time API, and more precisely the [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME).\r\n\r\nThere&#39;s no pre-defined formatter that matches your initial input. The closest is `DateTimeFormatter.RFC_1123_DATE_TIME`, but it requires a comma after the day of the week.\r\n\r\nTo solve that, you can write your own pattern:\r\n\r\n```java\r\nDateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;, Locale.ROOT));\r\nString input = &quot;Mon Apr 25 04:50:00 CET 2022&quot;;\r\nZonedDateTime date = ZonedDateTime.parse(input, inputFormatter);\r\n```\r\n\r\nThe best way to represent your initial date is a `ZonedDateTime`, since your date contains zone-related information.\r\n\r\nFor your output, you can use the `DateTimeFormatter.ISO_LOCAL_DATE_TIME` formatter. For example:\r\n\r\n```java\r\nString output = DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(date);\r\n```","title":"Convert date format in springboot using java8","body":"<p>You can use Java 8's date/time API, and more precisely the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<p>There's no pre-defined formatter that matches your initial input. The closest is <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>, but it requires a comma after the day of the week.</p>\n<p>To solve that, you can write your own pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;, Locale.ROOT));\nString input = &quot;Mon Apr 25 04:50:00 CET 2022&quot;;\nZonedDateTime date = ZonedDateTime.parse(input, inputFormatter);\n</code></pre>\n<p>The best way to represent your initial date is a <code>ZonedDateTime</code>, since your date contains zone-related information.</p>\n<p>For your output, you can use the <code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code> formatter. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651146200,"creation_date":1651145560,"answer_id":72042933,"question_id":72042067,"body_markdown":"Almost the same answer is already given.\r\nThe given input format looks like `Date.toSTring()`, especially as weekday and month seem to be English, but might be German too. Below with `Locale.ENGLISH` (as suggested by &quot;CET&quot;) but `Locale.GERMAN` might be better.\r\n\r\n        String newDate = &quot;Mon Apr 25 04:50:00 CET 2022&quot;;\r\n        DateTimeFormatter formatter =\r\n            DateTimeFormatter.ofPattern(&quot;eee MMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH);\r\n        ZonedDateTime t = ZonedDateTime.parse(newDate, formatter);\r\n        System.out.println(t);\r\n        System.out.println(Date.from(t.toInstant()));\r\n        System.out.println(t.format(DateTimeFormatter.ISO_DATE_TIME));\r\n        System.out.println(t.toLocalDateTime().format(DateTimeFormatter.ISO_DATE_TIME));\r\n        System.out.println(t.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime()\r\n            .format(DateTimeFormatter.ISO_DATE_TIME));\r\n\r\nThe output variants are:\r\n\r\n    Mon Apr 25 04:50:00 CEST 2022\r\n    2022-04-25T04:50+02:00[Europe/Paris]\r\n    2022-04-25T04:50:00+02:00[Europe/Paris]\r\n    2022-04-25T04:50:00\r\n    2022-04-25T02:50:00\r\n\r\nIt is indeed best to start with a `ZonedDateTime`.\r\n\r\nIf you get input all over Europe, it would be best to use Universal Time Coordinated, Greenwich time. (But it often depends on the existing database data.)","title":"Convert date format in springboot using java8","body":"<p>Almost the same answer is already given.\nThe given input format looks like <code>Date.toSTring()</code>, especially as weekday and month seem to be English, but might be German too. Below with <code>Locale.ENGLISH</code> (as suggested by &quot;CET&quot;) but <code>Locale.GERMAN</code> might be better.</p>\n<pre><code>    String newDate = &quot;Mon Apr 25 04:50:00 CET 2022&quot;;\n    DateTimeFormatter formatter =\n        DateTimeFormatter.ofPattern(&quot;eee MMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH);\n    ZonedDateTime t = ZonedDateTime.parse(newDate, formatter);\n    System.out.println(t);\n    System.out.println(Date.from(t.toInstant()));\n    System.out.println(t.format(DateTimeFormatter.ISO_DATE_TIME));\n    System.out.println(t.toLocalDateTime().format(DateTimeFormatter.ISO_DATE_TIME));\n    System.out.println(t.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime()\n        .format(DateTimeFormatter.ISO_DATE_TIME));\n</code></pre>\n<p>The output variants are:</p>\n<pre><code>Mon Apr 25 04:50:00 CEST 2022\n2022-04-25T04:50+02:00[Europe/Paris]\n2022-04-25T04:50:00+02:00[Europe/Paris]\n2022-04-25T04:50:00\n2022-04-25T02:50:00\n</code></pre>\n<p>It is indeed best to start with a <code>ZonedDateTime</code>.</p>\n<p>If you get input all over Europe, it would be best to use Universal Time Coordinated, Greenwich time. (But it often depends on the existing database data.)</p>\n"}],"owner":{"account_id":25087139,"reputation":7,"user_id":18939211,"display_name":"Karin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72042631,"answer_count":2,"score":-2,"last_activity_date":1651148810,"creation_date":1651141609,"question_id":72042067,"body_markdown":"I receive the following date format\r\n\r\n    private String newDate = &quot;Mon Apr 25 04:50:00 CET 2022&quot;\r\n\r\nHow can I convert it into the following format in java 8\r\n\r\n    2022-04-25T04:50:00","title":"Convert date format in springboot using java8","body":"<p>I receive the following date format</p>\n<pre><code>private String newDate = &quot;Mon Apr 25 04:50:00 CET 2022&quot;\n</code></pre>\n<p>How can I convert it into the following format in java 8</p>\n<pre><code>2022-04-25T04:50:00\n</code></pre>\n"},{"tags":["java","hazelcast","hazelcast-jet"],"comments":[{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":0,"creation_date":1651488270,"post_id":72042948,"comment_id":127368645,"body_markdown":"I&#39;m not sure what you&#39;re trying to achieve, but perhaps you confused `groupingKey` and `groupedBy`. This comment might be useful to you: https://github.com/hazelcast/hazelcast/blob/74132cefd0c6f77e63d96c666fb5864481079815/hazelcast/src/main/java/com/hazelcast/jet/aggregate/AggregateOperations.java#L991-L1015","body":"I&#39;m not sure what you&#39;re trying to achieve, but perhaps you confused <code>groupingKey</code> and <code>groupedBy</code>. This comment might be useful to you: <a href=\"https://github.com/hazelcast/hazelcast/blob/74132cefd0c6f77e63d96c666fb5864481079815/hazelcast/src/main/java/com/hazelcast/jet/aggregate/AggregateOperations.java#L991-L1015\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast/blob/&hellip;</a>"},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1651555015,"post_id":72042948,"comment_id":127385435,"body_markdown":"@Oliv Thank you for the response, what I am trying to do, I have a csv with size of 200mb  and there is two field on which I am doing aggregation sum and count, and grouping it by 3 other fields/column. Now what&#39;s happen csv is get read in 500ms but aggregation and grouping taking nearly 4 seconds which is too high I want to reduce it in 1 second only. And my machine is quiet powerful with 16gb ram","body":"@Oliv Thank you for the response, what I am trying to do, I have a csv with size of 200mb  and there is two field on which I am doing aggregation sum and count, and grouping it by 3 other fields/column. Now what&#39;s happen csv is get read in 500ms but aggregation and grouping taking nearly 4 seconds which is too high I want to reduce it in 1 second only. And my machine is quiet powerful with 16gb ram"},{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":0,"creation_date":1651652201,"post_id":72042948,"comment_id":127411504,"body_markdown":"So your question is about how to do aggregation, or about how to speed it up. For optimization you need to send some code we can run. But not in this question, this one is about _how_ to do aggregation.","body":"So your question is about how to do aggregation, or about how to speed it up. For optimization you need to send some code we can run. But not in this question, this one is about <i>how</i> to do aggregation."},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1651725520,"post_id":72042948,"comment_id":127432415,"body_markdown":"Question is about how to do aggregation in more optimized and faster way with grouping.","body":"Question is about how to do aggregation in more optimized and faster way with grouping."}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651148741,"creation_date":1651145607,"question_id":72042948,"body_markdown":"I am trying to do grouping and aggregation using Hazelcast Jet but it is getting little bit slow as I have to loop through data twice one for creating groupingKey and after that aggregating all data so is there any better and feasible way to it, Please help\r\n\r\nHere is my code first I am creating a groupingKey from using my data as grouping is done by multiple keys:\r\n \r\n    // Fields with which I want to do grouping.\r\n    List&lt;String&gt; fields1 = {&quot;Field1&quot;, &quot;Field4&quot;};\r\n    List&lt;String&gt; cAggCount = {&quot;CountFiled&quot;};\r\n    List&lt;String&gt; sumField = {&quot;SumFiled&quot;}; \r\n    BatchStage&lt;Map&lt;Object, List&lt;Object&gt;&gt;&gt; aggBatchStageDataGroupBy = batchStage\r\n                .aggregate(AggregateOperations.groupingBy(jdbcData -&gt; {\r\n                \t\r\n                \tMap&lt;String, Object&gt; m = ((Map&lt;String, Object&gt;)jdbcData);\r\n                \tSet&lt;String&gt; jset = m.keySet();\r\n                \t\r\n\r\n                \tStringBuilder stringBuilder = new StringBuilder(&quot;&quot;);\r\n                \tfields1.stream().forEach(dataValue -&gt; { \t\r\n                \t\t\r\n                \t\tif (!jset.contains(dataValue.toString())) {\r\n                \t\t\t\r\n                \t\t\tstringBuilder.append(null+&quot;&quot;).append(&quot;,&quot;);\r\n                \t\t} else {\r\n                \t\t\tObject k = m.get(dataValue.toString());\r\n                \t\t\t\r\n                \t\t\tif (k == null) {\r\n                \t\t\t\tstringBuilder.append(&quot;&quot;).append(&quot;,&quot;);\r\n                \t\t\t} else {\r\n                \t\t\t\tstringBuilder.append(k).append(&quot;,&quot;);\r\n                \t\t\t}\r\n                \t\t}\r\n  \r\n                \t});\r\n                    return stringBuilder.substring(0, stringBuilder.length() - 1);\r\n                }));\r\n\r\n And after that I am doing aggregation on it as below:\r\n\r\n    BatchStage&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; aggBatchStageData = aggBatchStageDataGroupBy\r\n        \t            .map(data -&gt; {\r\n                      \r\n                      data.entrySet().stream().forEach(v -&gt; {\r\n        \t                    Map&lt;String, Object&gt; objectMap = new HashMap&lt;&gt;();\r\n                                IntStream.range(0, cAggCount).forEach(k -&gt; {\r\n            \t                        objectMap.put(countAlias.get(k), v.getValue().stream().mapToLong(dataMap -&gt; {\r\n            \t                        \treturn new BigDecimal(1).intValue();\r\n            \t                        }).count());\r\n        \t                    \t});\r\n                  }\r\n          return mapList;\r\n    });\r\n\r\nSo can we do this whole process in one go instead of doing loop twice like groupigByKey first and than aggregating it.\r\n","title":"Aggregation and grouping using Hazelcast jet","body":"<p>I am trying to do grouping and aggregation using Hazelcast Jet but it is getting little bit slow as I have to loop through data twice one for creating groupingKey and after that aggregating all data so is there any better and feasible way to it, Please help</p>\n<p>Here is my code first I am creating a groupingKey from using my data as grouping is done by multiple keys:</p>\n<pre><code>// Fields with which I want to do grouping.\nList&lt;String&gt; fields1 = {&quot;Field1&quot;, &quot;Field4&quot;};\nList&lt;String&gt; cAggCount = {&quot;CountFiled&quot;};\nList&lt;String&gt; sumField = {&quot;SumFiled&quot;}; \nBatchStage&lt;Map&lt;Object, List&lt;Object&gt;&gt;&gt; aggBatchStageDataGroupBy = batchStage\n            .aggregate(AggregateOperations.groupingBy(jdbcData -&gt; {\n                \n                Map&lt;String, Object&gt; m = ((Map&lt;String, Object&gt;)jdbcData);\n                Set&lt;String&gt; jset = m.keySet();\n                \n\n                StringBuilder stringBuilder = new StringBuilder(&quot;&quot;);\n                fields1.stream().forEach(dataValue -&gt; {     \n                    \n                    if (!jset.contains(dataValue.toString())) {\n                        \n                        stringBuilder.append(null+&quot;&quot;).append(&quot;,&quot;);\n                    } else {\n                        Object k = m.get(dataValue.toString());\n                        \n                        if (k == null) {\n                            stringBuilder.append(&quot;&quot;).append(&quot;,&quot;);\n                        } else {\n                            stringBuilder.append(k).append(&quot;,&quot;);\n                        }\n                    }\n\n                });\n                return stringBuilder.substring(0, stringBuilder.length() - 1);\n            }));\n</code></pre>\n<p>And after that I am doing aggregation on it as below:</p>\n<pre><code>BatchStage&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; aggBatchStageData = aggBatchStageDataGroupBy\n                    .map(data -&gt; {\n                  \n                  data.entrySet().stream().forEach(v -&gt; {\n                            Map&lt;String, Object&gt; objectMap = new HashMap&lt;&gt;();\n                            IntStream.range(0, cAggCount).forEach(k -&gt; {\n                                    objectMap.put(countAlias.get(k), v.getValue().stream().mapToLong(dataMap -&gt; {\n                                        return new BigDecimal(1).intValue();\n                                    }).count());\n                                });\n              }\n      return mapList;\n});\n</code></pre>\n<p>So can we do this whole process in one go instead of doing loop twice like groupigByKey first and than aggregating it.</p>\n"},{"tags":["java","multithreading","java-9","threadpoolexecutor","completable-future"],"comments":[{"owner":{"account_id":3717475,"reputation":329,"user_id":3093310,"display_name":"Cowboy Farnz"},"score":0,"creation_date":1522149973,"post_id":49510704,"comment_id":86027433,"body_markdown":"the use of `setRemoveOnCancelPolicy(true);` prevents bottleneck, no? By default is false. You are expecting majority of futures to complete, then if not handled by the timeout of course and any cancellations to be dealt with by this call?","body":"the use of <code>setRemoveOnCancelPolicy(true);</code> prevents bottleneck, no? By default is false. You are expecting majority of futures to complete, then if not handled by the timeout of course and any cancellations to be dealt with by this call?"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1522150044,"post_id":49510704,"comment_id":86027478,"body_markdown":"I am not sure how is `setRemoveOnCancelPolicy` related to the bottleneck problem.","body":"I am not sure how is <code>setRemoveOnCancelPolicy</code> related to the bottleneck problem."},{"owner":{"account_id":3717475,"reputation":329,"user_id":3093310,"display_name":"Cowboy Farnz"},"score":0,"creation_date":1522150196,"post_id":49510704,"comment_id":86027582,"body_markdown":"Think because by default, cancelled tasks are not automatically removed from the work queue until delay elapses.","body":"Think because by default, cancelled tasks are not automatically removed from the work queue until delay elapses."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1522150242,"post_id":49510704,"comment_id":86027610,"body_markdown":"But it is about canceled tasks, this is a specific case. I am talking about regular usage","body":"But it is about canceled tasks, this is a specific case. I am talking about regular usage"},{"owner":{"account_id":3717475,"reputation":329,"user_id":3093310,"display_name":"Cowboy Farnz"},"score":0,"creation_date":1522150358,"post_id":49510704,"comment_id":86027693,"body_markdown":"but wouldnt that be the point of using the static `ScheduledThreadPoolExecutor` inside it&#39;s implementation -to handle such specific cases as it extends `ThreadPoolExecutor`?","body":"but wouldnt that be the point of using the static <code>ScheduledThreadPoolExecutor</code> inside it&#39;s implementation -to handle such specific cases as it extends <code>ThreadPoolExecutor</code>?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1522150701,"post_id":49510704,"comment_id":86027960,"body_markdown":"By *..the only one ScheduledThreadPoolExecutor with the only one thread keeping inside the pool..* are you saying that only one daemon thread created by the `DaemonThreadFactory` would exist? Maybe I am not getting the exact point put forward there, but could you please explain a little better? Esp. what do you mean by *...for all possible CompletableFuture tasks..*","body":"By <i>..the only one ScheduledThreadPoolExecutor with the only one thread keeping inside the pool..</i> are you saying that only one daemon thread created by the <code>DaemonThreadFactory</code> would exist? Maybe I am not getting the exact point put forward there, but could you please explain a little better? Esp. what do you mean by <i>...for all possible CompletableFuture tasks..</i>"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1522150824,"post_id":49510704,"comment_id":86028058,"body_markdown":"@nullpointer I am talking about `corePoolSize` which equals `1` here","body":"@nullpointer I am talking about <code>corePoolSize</code> which equals <code>1</code> here"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1522150913,"post_id":49510704,"comment_id":86028121,"body_markdown":"I guess they measured this solution could already support a high load – especially if we assume that most tasks will not reach the timeout. I suppose this is mainly provided for convenience, as it is rather easy to implement a custom solution if this one does not satisfy your needs. I&#39;m afraid this will be primarily opinion based though…","body":"I guess they measured this solution could already support a high load – especially if we assume that most tasks will not reach the timeout. I suppose this is mainly provided for convenience, as it is rather easy to implement a custom solution if this one does not satisfy your needs. I&#39;m afraid this will be primarily opinion based though…"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1522152776,"post_id":49510704,"comment_id":86029565,"body_markdown":"@DidierL that&#39;s a good point. Also I am thinking that they were lazy or reluctant to implement the delaying logic without SchedulerExecutor, and this leaded to need of the static executor, because apparently it is very inefficient to create executor for each CompletableFuture instance.","body":"@DidierL that&#39;s a good point. Also I am thinking that they were lazy or reluctant to implement the delaying logic without SchedulerExecutor, and this leaded to need of the static executor, because apparently it is very inefficient to create executor for each CompletableFuture instance."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":3,"creation_date":1522154216,"post_id":49510704,"comment_id":86030652,"body_markdown":"Using a `ScheduledThreadPoolExecutor` avoids the need to keep threads sleeping while waiting for the timeout, so I believe that is an appropriate solution. The problem that I&#160;hadn&#39;t noticed previously is that the `DelayedCompleter` will trigger the execution of dependent stages on the same thread. This means your dependent stages should always use the `*Async()` variants to avoid using that executor. They should have provided variants where you give your own executor instead…","body":"Using a <code>ScheduledThreadPoolExecutor</code> avoids the need to keep threads sleeping while waiting for the timeout, so I believe that is an appropriate solution. The problem that I hadn&#39;t noticed previously is that the <code>DelayedCompleter</code> will trigger the execution of dependent stages on the same thread. This means your dependent stages should always use the <code>*Async()</code> variants to avoid using that executor. They should have provided variants where you give your own executor instead…"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522167953,"creation_date":1522167953,"answer_id":49518017,"question_id":49510704,"body_markdown":"You are right, this could become a bottleneck, but not for the completion itself, which is merely setting a variable in the `CompletableFuture`. That single thread could complete millions of futures in a second. The critical aspect is that the completion could trigger the evaluation of dependent stages within the completing thread.\r\n\r\nSo\r\n\r\n    Executor neverDone = r -&gt; {};\r\n    long t0 = System.nanoTime();\r\n    CompletableFuture&lt;String&gt; c11 =\r\n        CompletableFuture.supplyAsync(() -&gt; &quot;foo&quot;, neverDone)\r\n            .completeOnTimeout(&quot;timeout&quot;, 2, TimeUnit.SECONDS)\r\n            .thenApply(s -&gt; {\r\n                System.out.println(&quot;long dependent action 1 &quot;+Thread.currentThread());\r\n                LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n                return s;\r\n            });\r\n    CompletableFuture&lt;String&gt; c12 =\r\n        CompletableFuture.supplyAsync(() -&gt; &quot;bar&quot;, neverDone)\r\n            .completeOnTimeout(&quot;timeout&quot;, 2, TimeUnit.SECONDS)\r\n            .thenApply(s -&gt; {\r\n                System.out.println(&quot;long dependent action 2 &quot;+Thread.currentThread());\r\n                LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n                return s;\r\n            });\r\n    System.out.println(&quot;set up&quot;);\r\n    CompletableFuture.allOf(\r\n        c11.thenAccept(System.out::println),\r\n        c12.thenAccept(System.out::println)\r\n    ).join();\r\n    System.out.println(Math.round((System.nanoTime()-t0)*1e-9)+&quot; s&quot;);\r\nwill print\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    set up\r\n    long dependent action 1 Thread[CompletableFutureDelayScheduler,5,main]\r\n    timeout\r\n    long dependent action 2 Thread[CompletableFutureDelayScheduler,5,main]\r\n    timeout\r\n    12 s\r\n\r\nUsing the `…Async` chaining methods will eliminate the issue\r\n\r\n    Executor neverDone = r -&gt; {};\r\n    long t0 = System.nanoTime();\r\n    CompletableFuture&lt;String&gt; c11 =\r\n        CompletableFuture.supplyAsync(() -&gt; &quot;foo&quot;, neverDone)\r\n            .completeOnTimeout(&quot;timeout&quot;, 2, TimeUnit.SECONDS)\r\n            .thenApplyAsync(s -&gt; {\r\n                System.out.println(&quot;long dependent action 1 &quot;+Thread.currentThread());\r\n                LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n                return s;\r\n            });\r\n    CompletableFuture&lt;String&gt; c12 =\r\n        CompletableFuture.supplyAsync(() -&gt; &quot;bar&quot;, neverDone)\r\n            .completeOnTimeout(&quot;timeout&quot;, 2, TimeUnit.SECONDS)\r\n            .thenApplyAsync(s -&gt; {\r\n                System.out.println(&quot;long dependent action 2 &quot;+Thread.currentThread());\r\n                LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n                return s;\r\n            });\r\n    System.out.println(&quot;set up&quot;);\r\n    CompletableFuture.allOf(\r\n        c11.thenAccept(System.out::println),\r\n        c12.thenAccept(System.out::println)\r\n    ).join();\r\n    System.out.println(Math.round((System.nanoTime()-t0)*1e-9)+&quot; s&quot;);\r\nwill print\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    set up\r\n    long dependent action 2 Thread[ForkJoinPool.commonPool-worker-2,5,main]\r\n    long dependent action 1 Thread[ForkJoinPool.commonPool-worker-9,5,main]\r\n    timeout\r\n    timeout\r\n    7 s\r\n\r\n---\r\n\r\nThe conclusion is that when you have a potentially lengthy evaluation, you should always chain is via one of the `…Async` methods. Given the absence of control over the executing thread when using the methods without the “…Async” suffix (it could also be the thread calling the chaining method or any other thread calling a “completion method”, see also [this answer](https://stackoverflow.com/a/46062939/2711488)), this is what you always should do.","title":"static ScheduledThreadPoolExecutor in CompletableFuture.Delayer","body":"<p>You are right, this could become a bottleneck, but not for the completion itself, which is merely setting a variable in the <code>CompletableFuture</code>. That single thread could complete millions of futures in a second. The critical aspect is that the completion could trigger the evaluation of dependent stages within the completing thread.</p>\n\n<p>So</p>\n\n<pre><code>Executor neverDone = r -&gt; {};\nlong t0 = System.nanoTime();\nCompletableFuture&lt;String&gt; c11 =\n    CompletableFuture.supplyAsync(() -&gt; \"foo\", neverDone)\n        .completeOnTimeout(\"timeout\", 2, TimeUnit.SECONDS)\n        .thenApply(s -&gt; {\n            System.out.println(\"long dependent action 1 \"+Thread.currentThread());\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n            return s;\n        });\nCompletableFuture&lt;String&gt; c12 =\n    CompletableFuture.supplyAsync(() -&gt; \"bar\", neverDone)\n        .completeOnTimeout(\"timeout\", 2, TimeUnit.SECONDS)\n        .thenApply(s -&gt; {\n            System.out.println(\"long dependent action 2 \"+Thread.currentThread());\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n            return s;\n        });\nSystem.out.println(\"set up\");\nCompletableFuture.allOf(\n    c11.thenAccept(System.out::println),\n    c12.thenAccept(System.out::println)\n).join();\nSystem.out.println(Math.round((System.nanoTime()-t0)*1e-9)+\" s\");\n</code></pre>\n\n<p>will print</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>set up\nlong dependent action 1 Thread[CompletableFutureDelayScheduler,5,main]\ntimeout\nlong dependent action 2 Thread[CompletableFutureDelayScheduler,5,main]\ntimeout\n12 s\n</code></pre>\n\n<p>Using the <code>…Async</code> chaining methods will eliminate the issue</p>\n\n<pre><code>Executor neverDone = r -&gt; {};\nlong t0 = System.nanoTime();\nCompletableFuture&lt;String&gt; c11 =\n    CompletableFuture.supplyAsync(() -&gt; \"foo\", neverDone)\n        .completeOnTimeout(\"timeout\", 2, TimeUnit.SECONDS)\n        .thenApplyAsync(s -&gt; {\n            System.out.println(\"long dependent action 1 \"+Thread.currentThread());\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n            return s;\n        });\nCompletableFuture&lt;String&gt; c12 =\n    CompletableFuture.supplyAsync(() -&gt; \"bar\", neverDone)\n        .completeOnTimeout(\"timeout\", 2, TimeUnit.SECONDS)\n        .thenApplyAsync(s -&gt; {\n            System.out.println(\"long dependent action 2 \"+Thread.currentThread());\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n            return s;\n        });\nSystem.out.println(\"set up\");\nCompletableFuture.allOf(\n    c11.thenAccept(System.out::println),\n    c12.thenAccept(System.out::println)\n).join();\nSystem.out.println(Math.round((System.nanoTime()-t0)*1e-9)+\" s\");\n</code></pre>\n\n<p>will print</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>set up\nlong dependent action 2 Thread[ForkJoinPool.commonPool-worker-2,5,main]\nlong dependent action 1 Thread[ForkJoinPool.commonPool-worker-9,5,main]\ntimeout\ntimeout\n7 s\n</code></pre>\n\n<hr>\n\n<p>The conclusion is that when you have a potentially lengthy evaluation, you should always chain is via one of the <code>…Async</code> methods. Given the absence of control over the executing thread when using the methods without the “…Async” suffix (it could also be the thread calling the chaining method or any other thread calling a “completion method”, see also <a href=\"https://stackoverflow.com/a/46062939/2711488\">this answer</a>), this is what you always should do.</p>\n"},{"tags":[],"owner":{"account_id":421993,"reputation":8015,"user_id":800524,"display_name":"acelent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522168034,"creation_date":1522168034,"answer_id":49518049,"question_id":49510704,"body_markdown":"For sure, this is a question to be answered by the authors.  Anyway, here&#39;s my opinion on the matter.\r\n\r\n&gt; What I do not understand is why does it use the **static** `ScheduledThreadPoolExecutor` inside its implementation:\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; For me it is a very strange approach, as it can become a bottleneck for the whole application: the only one `ScheduledThreadPoolExecutor` with the only one thread keeping inside the pool for all possible `CompletableFuture` tasks?\r\n\r\nYou&#39;re right.  The `ScheduledThreadPoolExecutor` can run arbitrary code.  Specifically, `orTimeout()` and `completeOnTimeout()` will call `completeExceptionally()` and `complete()`, which, by default, call dependents synchronously.\r\n\r\nTo avoid this behavior, you must use your own `CompletionStage` or subclass of `CompletableFuture` which makes non-`*Async` methods always call `*Async` methods.  This is much easier since Java 9 by overriding `newIncompleteFuture()`.\r\n\r\n&gt; It looks like:\r\n&gt; \r\n&gt; 1) authors of this code were reluctant to extract this logic and preferred to reuse the `ScheduledThreadPoolExecutor`,\r\n\r\nWhen `ForkJoinPool` appeared in Java 7, it lacked a common thread pool.  Java 8 introduced the static `commonPool()`, used by default (among others) in the introduced `CompletableFuture` and `Stream` classes.\r\n\r\nIt seems they were reluctant to expose a common scheduled executor.  This would be just as useful as the common thread pool to avoid having many rarely used scheduled executors spread out.\r\n\r\nIf you need delayed tasks with static intervals, then `CompletableFuture.delayedExecutor()` is probably good enough, given a small overhead of wrapping objects.\r\n\r\nFor variable intervals, there&#39;s the extra overhead of creating a wrapper `Executor` each time, but there are already a few created objects along the way, such as new instances of the internal `Canceller`, `Timeout`, `DelayedCompleter` and `TaskSubmitter` classes.\r\n\r\nHow often do we need to delay many tasks in variable intervals?  Pure asynchronous code may do it all the time for varying timeouts, but since we don&#39;t have the scheduled executor itself exposed, either we assume this overhead or we use yet another static scheduler.\r\n\r\n&gt; 2) and this apparently leaded to such a solution with the static variable, because it is very inefficient to create a new executor for each `CompletableFuture`.\r\n\r\nExactly.","title":"static ScheduledThreadPoolExecutor in CompletableFuture.Delayer","body":"<p>For sure, this is a question to be answered by the authors.  Anyway, here's my opinion on the matter.</p>\n\n<blockquote>\n  <p>What I do not understand is why does it use the <strong>static</strong> <code>ScheduledThreadPoolExecutor</code> inside its implementation:</p>\n  \n  <p>...</p>\n  \n  <p>For me it is a very strange approach, as it can become a bottleneck for the whole application: the only one <code>ScheduledThreadPoolExecutor</code> with the only one thread keeping inside the pool for all possible <code>CompletableFuture</code> tasks?</p>\n</blockquote>\n\n<p>You're right.  The <code>ScheduledThreadPoolExecutor</code> can run arbitrary code.  Specifically, <code>orTimeout()</code> and <code>completeOnTimeout()</code> will call <code>completeExceptionally()</code> and <code>complete()</code>, which, by default, call dependents synchronously.</p>\n\n<p>To avoid this behavior, you must use your own <code>CompletionStage</code> or subclass of <code>CompletableFuture</code> which makes non-<code>*Async</code> methods always call <code>*Async</code> methods.  This is much easier since Java 9 by overriding <code>newIncompleteFuture()</code>.</p>\n\n<blockquote>\n  <p>It looks like:</p>\n  \n  <p>1) authors of this code were reluctant to extract this logic and preferred to reuse the <code>ScheduledThreadPoolExecutor</code>,</p>\n</blockquote>\n\n<p>When <code>ForkJoinPool</code> appeared in Java 7, it lacked a common thread pool.  Java 8 introduced the static <code>commonPool()</code>, used by default (among others) in the introduced <code>CompletableFuture</code> and <code>Stream</code> classes.</p>\n\n<p>It seems they were reluctant to expose a common scheduled executor.  This would be just as useful as the common thread pool to avoid having many rarely used scheduled executors spread out.</p>\n\n<p>If you need delayed tasks with static intervals, then <code>CompletableFuture.delayedExecutor()</code> is probably good enough, given a small overhead of wrapping objects.</p>\n\n<p>For variable intervals, there's the extra overhead of creating a wrapper <code>Executor</code> each time, but there are already a few created objects along the way, such as new instances of the internal <code>Canceller</code>, <code>Timeout</code>, <code>DelayedCompleter</code> and <code>TaskSubmitter</code> classes.</p>\n\n<p>How often do we need to delay many tasks in variable intervals?  Pure asynchronous code may do it all the time for varying timeouts, but since we don't have the scheduled executor itself exposed, either we assume this overhead or we use yet another static scheduler.</p>\n\n<blockquote>\n  <p>2) and this apparently leaded to such a solution with the static variable, because it is very inefficient to create a new executor for each <code>CompletableFuture</code>.</p>\n</blockquote>\n\n<p>Exactly.</p>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2160,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1651147794,"creation_date":1522147103,"question_id":49510704,"body_markdown":"In java-9 the [new method `completeOnTimeout`][1] in the `CompletableFuture` class was introduced:\r\n\r\n    public CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,\r\n                                                  TimeUnit unit) {\r\n        if (unit == null)\r\n            throw new NullPointerException();\r\n        if (result == null)\r\n            whenComplete(new Canceller(Delayer.delay(\r\n                                           new DelayedCompleter&lt;T&gt;(this, value),\r\n                                           timeout, unit)));\r\n        return this;\r\n    }\r\n\r\nWhat I do not understand is why it uses the **static** `ScheduledThreadPoolExecutor` inside its implementation:\r\n\r\n        static ScheduledFuture&lt;?&gt; delay(Runnable command, long delay,\r\n                                        TimeUnit unit) {\r\n            return delayer.schedule(command, delay, unit);\r\n        }\r\n\r\nWhere \r\n\r\n        static final ScheduledThreadPoolExecutor delayer;\r\n        static {\r\n            (delayer = new ScheduledThreadPoolExecutor(\r\n                1, new DaemonThreadFactory())).\r\n                setRemoveOnCancelPolicy(true);\r\n        }\r\n\r\nFor me it is a very strange approach, as it can become a bottleneck for the  whole application: the only one `ScheduledThreadPoolExecutor` with the only one thread keeping inside the pool for all possible `CompletableFuture` tasks?\r\n\r\nWhat am I missing here?\r\n\r\n**P.S.** It looks like:\r\n\r\n1) authors of this code were reluctant to extract this logic and preferred to reuse the `ScheduledThreadPoolExecutor`,\r\n\r\n2) and this apparently leaded to a such solution with a static variable, because it is very inefficient to create a new executor for each `CompletableFuture`. \r\n\r\nBut my doubt still remains, as I find general approach strange.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/CompletableFuture.html#completeOnTimeout-T-long-java.util.concurrent.TimeUnit-","title":"static ScheduledThreadPoolExecutor in CompletableFuture.Delayer","body":"<p>In java-9 the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/CompletableFuture.html#completeOnTimeout-T-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">new method <code>completeOnTimeout</code></a> in the <code>CompletableFuture</code> class was introduced:</p>\n<pre><code>public CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,\n                                              TimeUnit unit) {\n    if (unit == null)\n        throw new NullPointerException();\n    if (result == null)\n        whenComplete(new Canceller(Delayer.delay(\n                                       new DelayedCompleter&lt;T&gt;(this, value),\n                                       timeout, unit)));\n    return this;\n}\n</code></pre>\n<p>What I do not understand is why it uses the <strong>static</strong> <code>ScheduledThreadPoolExecutor</code> inside its implementation:</p>\n<pre><code>    static ScheduledFuture&lt;?&gt; delay(Runnable command, long delay,\n                                    TimeUnit unit) {\n        return delayer.schedule(command, delay, unit);\n    }\n</code></pre>\n<p>Where</p>\n<pre><code>    static final ScheduledThreadPoolExecutor delayer;\n    static {\n        (delayer = new ScheduledThreadPoolExecutor(\n            1, new DaemonThreadFactory())).\n            setRemoveOnCancelPolicy(true);\n    }\n</code></pre>\n<p>For me it is a very strange approach, as it can become a bottleneck for the  whole application: the only one <code>ScheduledThreadPoolExecutor</code> with the only one thread keeping inside the pool for all possible <code>CompletableFuture</code> tasks?</p>\n<p>What am I missing here?</p>\n<p><strong>P.S.</strong> It looks like:</p>\n<ol>\n<li><p>authors of this code were reluctant to extract this logic and preferred to reuse the <code>ScheduledThreadPoolExecutor</code>,</p>\n</li>\n<li><p>and this apparently leaded to a such solution with a static variable, because it is very inefficient to create a new executor for each <code>CompletableFuture</code>.</p>\n</li>\n</ol>\n<p>But my doubt still remains, as I find general approach strange.</p>\n"},{"tags":["java","png","pdfbox","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650969060,"creation_date":1650965874,"answer_id":72011675,"question_id":72010977,"body_markdown":"In 1.8.* the classes to be used are `PDJpeg` for jpg and `PDPixelMap` for png. They are instanciated with `new`. But you should really update, not just to 1.8.16, but migrate to 2.0.26.","title":"JFreeChart and PDFbox","body":"<p>In 1.8.* the classes to be used are <code>PDJpeg</code> for jpg and <code>PDPixelMap</code> for png. They are instanciated with <code>new</code>. But you should really update, not just to 1.8.16, but migrate to 2.0.26.</p>\n"}],"owner":{"account_id":21192788,"reputation":11,"user_id":15584948,"display_name":"user15584948"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651147419,"creation_date":1650962815,"question_id":72010977,"body_markdown":"How to add `JFreeChart` as png/jpeg in PDFBox? I tried using PDXObject image, but its not available in version 1.8.11 which is currently used in the project. Kindly help me with the sample code and version.","title":"JFreeChart and PDFbox","body":"<p>How to add <code>JFreeChart</code> as png/jpeg in PDFBox? I tried using PDXObject image, but its not available in version 1.8.11 which is currently used in the project. Kindly help me with the sample code and version.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":6197705,"reputation":4720,"user_id":4828524,"display_name":"Alen.Toma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651147353,"creation_date":1650054243,"question_id":71888626,"body_markdown":"I have been using a `react-native` library `react-native-selectable-text` that I forked and made small changes to it.\r\n\r\nNow I want to be able to add some icons to the `Menu` and after some research on google, I found `JMenu` but I am really not sure how I should change it in the android part.\r\n\r\nHere is the android Plugins \r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package com.alentoma.selectabletext;\r\n\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.ActionMode;\r\n    import android.view.ActionMode.Callback;\r\n\r\n    import java.util.Map;\r\n\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReadableArray;\r\n    import com.facebook.react.uimanager.ThemedReactContext;\r\n    import com.facebook.react.bridge.Arguments;\r\n    import com.facebook.react.bridge.WritableMap;\r\n    import com.facebook.react.common.MapBuilder;\r\n    import com.facebook.react.uimanager.events.RCTEventEmitter;\r\n\r\n    import com.facebook.react.uimanager.annotations.ReactProp;\r\n    import com.facebook.react.views.text.ReactTextView;\r\n    import com.facebook.react.views.text.ReactTextViewManager;\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class RNSelectableTextManager extends ReactTextViewManager {\r\n        public static final String REACT_CLASS = &quot;RNSelectableText&quot;;\r\n\r\n\r\n        @Override\r\n        public String getName() {\r\n            return REACT_CLASS;\r\n        }\r\n\r\n        @Override\r\n        public ReactTextView createViewInstance(ThemedReactContext context) {\r\n            return new ReactTextView(context);\r\n        }\r\n\r\n        // make change here so it support addings Icons\r\n        @ReactProp(name = &quot;menuItems&quot;)\r\n        public void setMenuItems(ReactTextView textView, ReadableArray items) {\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;(items.size());\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                result.add(items.getString(i));\r\n            }\r\n\r\n            registerSelectionListener(result.toArray(new String[items.size()]), textView);\r\n        }\r\n\r\n        public void registerSelectionListener(final String[] menuItems, final ReactTextView view) {\r\n            view.setCustomSelectionActionModeCallback(new Callback() {\r\n                @Override\r\n                public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\r\n                    // Called when action mode is first created. The menu supplied\r\n                    // will be used to generate action buttons for the action mode\r\n                    // Android Smart Linkify feature pushes extra options into the menu\r\n                    // and would override the generated menu items\r\n                    menu.clear();\r\n                    for (int i = 0; i &lt; menuItems.length; i++) {\r\n                      menu.add(0, i, 0, menuItems[i]);\r\n                    }\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean onCreateActionMode(ActionMode mode, Menu menu) {\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public void onDestroyActionMode(ActionMode mode) {\r\n                    // Called when an action mode is about to be exited and\r\n                }\r\n\r\n                @Override\r\n                public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\r\n                    int selectionStart = view.getSelectionStart();\r\n                    int selectionEnd = view.getSelectionEnd();\r\n                    String selectedText = view.getText().toString().substring(selectionStart, selectionEnd);\r\n\r\n                    // Dispatch event\r\n                    onSelectNativeEvent(view, menuItems[item.getItemId()], selectedText, selectionStart, selectionEnd);\r\n\r\n                    mode.finish();\r\n\r\n                    return true;\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        public void onSelectNativeEvent(ReactTextView view, String eventType, String content, int selectionStart, int selectionEnd) {\r\n            WritableMap event = Arguments.createMap();\r\n            event.putString(&quot;eventType&quot;, eventType);\r\n            event.putString(&quot;content&quot;, content);\r\n            event.putInt(&quot;selectionStart&quot;, selectionStart);\r\n            event.putInt(&quot;selectionEnd&quot;, selectionEnd);\r\n\r\n            // Dispatch\r\n            ReactContext reactContext = (ReactContext) view.getContext();\r\n            reactContext.getJSModule(RCTEventEmitter.class).receiveEvent(\r\n                    view.getId(),\r\n                    &quot;topSelection&quot;,\r\n                    event\r\n            );\r\n        }\r\n\r\n        @Override\r\n        public Map getExportedCustomDirectEventTypeConstants() {\r\n            return MapBuilder.builder().put(&quot;topSelection&quot;,MapBuilder.of(&quot;registrationName&quot;,&quot;onSelection&quot;)).build();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  ","title":"Convert android.view.Menu to JMenu","body":"<p>I have been using a <code>react-native</code> library <code>react-native-selectable-text</code> that I forked and made small changes to it.</p>\n<p>Now I want to be able to add some icons to the <code>Menu</code> and after some research on google, I found <code>JMenu</code> but I am really not sure how I should change it in the android part.</p>\n<p>Here is the android Plugins</p>\n<pre class=\"lang-js prettyprint-override\"><code>package com.alentoma.selectabletext;\n\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.ActionMode;\nimport android.view.ActionMode.Callback;\n\nimport java.util.Map;\n\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReadableArray;\nimport com.facebook.react.uimanager.ThemedReactContext;\nimport com.facebook.react.bridge.Arguments;\nimport com.facebook.react.bridge.WritableMap;\nimport com.facebook.react.common.MapBuilder;\nimport com.facebook.react.uimanager.events.RCTEventEmitter;\n\nimport com.facebook.react.uimanager.annotations.ReactProp;\nimport com.facebook.react.views.text.ReactTextView;\nimport com.facebook.react.views.text.ReactTextViewManager;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\n\npublic class RNSelectableTextManager extends ReactTextViewManager {\n    public static final String REACT_CLASS = &quot;RNSelectableText&quot;;\n\n\n    @Override\n    public String getName() {\n        return REACT_CLASS;\n    }\n\n    @Override\n    public ReactTextView createViewInstance(ThemedReactContext context) {\n        return new ReactTextView(context);\n    }\n\n    // make change here so it support addings Icons\n    @ReactProp(name = &quot;menuItems&quot;)\n    public void setMenuItems(ReactTextView textView, ReadableArray items) {\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;(items.size());\n        for (int i = 0; i &lt; items.size(); i++) {\n            result.add(items.getString(i));\n        }\n\n        registerSelectionListener(result.toArray(new String[items.size()]), textView);\n    }\n\n    public void registerSelectionListener(final String[] menuItems, final ReactTextView view) {\n        view.setCustomSelectionActionModeCallback(new Callback() {\n            @Override\n            public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n                // Called when action mode is first created. The menu supplied\n                // will be used to generate action buttons for the action mode\n                // Android Smart Linkify feature pushes extra options into the menu\n                // and would override the generated menu items\n                menu.clear();\n                for (int i = 0; i &lt; menuItems.length; i++) {\n                  menu.add(0, i, 0, menuItems[i]);\n                }\n                return true;\n            }\n\n            @Override\n            public boolean onCreateActionMode(ActionMode mode, Menu menu) {\n                return true;\n            }\n\n            @Override\n            public void onDestroyActionMode(ActionMode mode) {\n                // Called when an action mode is about to be exited and\n            }\n\n            @Override\n            public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\n                int selectionStart = view.getSelectionStart();\n                int selectionEnd = view.getSelectionEnd();\n                String selectedText = view.getText().toString().substring(selectionStart, selectionEnd);\n\n                // Dispatch event\n                onSelectNativeEvent(view, menuItems[item.getItemId()], selectedText, selectionStart, selectionEnd);\n\n                mode.finish();\n\n                return true;\n            }\n\n        });\n    }\n\n    public void onSelectNativeEvent(ReactTextView view, String eventType, String content, int selectionStart, int selectionEnd) {\n        WritableMap event = Arguments.createMap();\n        event.putString(&quot;eventType&quot;, eventType);\n        event.putString(&quot;content&quot;, content);\n        event.putInt(&quot;selectionStart&quot;, selectionStart);\n        event.putInt(&quot;selectionEnd&quot;, selectionEnd);\n\n        // Dispatch\n        ReactContext reactContext = (ReactContext) view.getContext();\n        reactContext.getJSModule(RCTEventEmitter.class).receiveEvent(\n                view.getId(),\n                &quot;topSelection&quot;,\n                event\n        );\n    }\n\n    @Override\n    public Map getExportedCustomDirectEventTypeConstants() {\n        return MapBuilder.builder().put(&quot;topSelection&quot;,MapBuilder.of(&quot;registrationName&quot;,&quot;onSelection&quot;)).build();\n    }\n}\n</code></pre>\n\n"},{"tags":["java","javafx","maps","gluon"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1651148086,"post_id":72043320,"comment_id":127297442,"body_markdown":"`JMapViewer` _et al._, use `int MIN_ZOOM = 0` and `int MAX_ZOOM = 22`.","body":"<code>JMapViewer</code> <i>et al.</i>, use <code>int MIN_ZOOM = 0</code> and <code>int MAX_ZOOM = 22</code>."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1651162947,"post_id":72043320,"comment_id":127303871,"body_markdown":"First of all, what Gluon Maps version are you using? Latest is 2.0.0-ea+5. Max level is 20 and internally a [hashMap array](https://github.com/gluonhq/maps/blob/master/maps/src/main/java/com/gluonhq/impl/maps/BaseMap.java#L72) is used, that allows zoom values between 0-19. Using negative zoom values doesn&#39;t make sense. Double values get rounded to integer.","body":"First of all, what Gluon Maps version are you using? Latest is 2.0.0-ea+5. Max level is 20 and internally a <a href=\"https://github.com/gluonhq/maps/blob/master/maps/src/main/java/com/gluonhq/impl/maps/BaseMap.java#L72\" rel=\"nofollow noreferrer\">hashMap array</a> is used, that allows zoom values between 0-19. Using negative zoom values doesn&#39;t make sense. Double values get rounded to integer."}],"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651147305,"creation_date":1651147305,"question_id":72043320,"body_markdown":"I am trying out Gluon maps.  As I understand it, Gluon maps uses OpenStreetMap which has a zoom range of 0 to 20 (but this value is not mentioned in the MapView javadoc).  I create this code:\r\n```\r\npublic class MapTest2 extends Application\r\n{\r\n    MapView mapView = new MapView();\r\n    MapPoint mapPoint = new MapPoint(51.509865d,-0.118092d);    // London, England\r\n        \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        StackPane sp = new StackPane();\r\n        sp.getChildren().add(mapView);\r\n        \r\n        mapView.setCenter(mapPoint);\r\n        mapView.setZoom(42.8);          // ? and -1.1 works but -1.3 fails\r\n        \r\n        Scene  scene = new Scene(sp, 500, 300);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        MapTest2.launch(MapTest2.class, args);\r\n    }\r\n}\r\n```\r\nwhere I can set the positive zoom value far higher than 20.  Some considerable zooming out on the mouse wheel returns me to a reasonable view.  A zoom value of -1.1 works but -1.3 fails with:\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n:\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index -2 out of bounds for length 20\r\n\tat com.gluonhq.impl.maps.BaseMap.loadTiles(BaseMap.java:347)\r\n\tat com.gluonhq.impl.maps.BaseMap.layoutChildren(BaseMap.java:490)\r\n:\r\n```\r\nWhat are the real minimum and maximum zoom ranges, and should I use only integer values for zoom as there seems to be some rounding going on?","title":"What are the correct min and max values for Gluon maps zooming?","body":"<p>I am trying out Gluon maps.  As I understand it, Gluon maps uses OpenStreetMap which has a zoom range of 0 to 20 (but this value is not mentioned in the MapView javadoc).  I create this code:</p>\n<pre><code>public class MapTest2 extends Application\n{\n    MapView mapView = new MapView();\n    MapPoint mapPoint = new MapPoint(51.509865d,-0.118092d);    // London, England\n        \n    @Override\n    public void start(Stage stage) throws Exception {\n        StackPane sp = new StackPane();\n        sp.getChildren().add(mapView);\n        \n        mapView.setCenter(mapPoint);\n        mapView.setZoom(42.8);          // ? and -1.1 works but -1.3 fails\n        \n        Scene  scene = new Scene(sp, 500, 300);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        MapTest2.launch(MapTest2.class, args);\n    }\n}\n</code></pre>\n<p>where I can set the positive zoom value far higher than 20.  Some considerable zooming out on the mouse wheel returns me to a reasonable view.  A zoom value of -1.1 works but -1.3 fails with:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\n:\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index -2 out of bounds for length 20\n    at com.gluonhq.impl.maps.BaseMap.loadTiles(BaseMap.java:347)\n    at com.gluonhq.impl.maps.BaseMap.layoutChildren(BaseMap.java:490)\n:\n</code></pre>\n<p>What are the real minimum and maximum zoom ranges, and should I use only integer values for zoom as there seems to be some rounding going on?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18060880,"reputation":56,"user_id":13128037,"display_name":"Dave Sessional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651123596,"creation_date":1651123082,"answer_id":72038351,"question_id":72038186,"body_markdown":"This is happening because you are trying to run a for loop on a String, comp, where as a for loop is meant only for an array or an iterable.. Try with below code, it should work\r\n```\r\npackage com.practice;\r\n\r\npublic class TestCompany {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew TestCompany().starta();\r\n\r\n\t}\r\n\r\n\tpublic void comparecompany() {\r\n\t\tCompany[] com = save();\r\n\r\n\t\tString a = &quot;lmn&quot;;\r\n\t\tboolean found = false;\r\n\t\tfor (int i = 0; i &lt; com.length; i++) {\r\n\t\t\tString b = a.toLowerCase();\r\n\r\n\t\t\tif (com[i].getcompanyName().equals(b)) {\r\n\t\t\t\tSystem.out.println(&quot;company exist&quot;);\r\n\t\t\t\tfound = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (found == false)\r\n\t\t\tSystem.out.println(&quot;company doesnt exist&quot;);\r\n\r\n\t}\r\n\t// code to find the string company_name which starts with a\r\n\r\n\tprivate Company[] save() {\r\n\t\tCompany[] companies = new Company[5];\r\n\t\tcompanies[0] = new Company(&quot;abc&quot;);\r\n\t\tcompanies[1] = new Company(&quot;def&quot;);\r\n\t\tcompanies[2] = new Company(&quot;ghi&quot;);\r\n\t\tcompanies[3] = new Company(&quot;jkl&quot;);\r\n\t\tcompanies[4] = new Company(&quot;ijk&quot;);\r\n\t\treturn companies;\r\n\r\n\t}\r\n\r\n\tpublic void starta() {\r\n\t\tCompany[] com = save();\r\n\t\t// show names containing the letter starting as the first letter\r\n\r\n\t\tfor (int i = 0; i &lt; com.length; i++) {\r\n\t\t\tString comp = (String) com[i].getcompanyName();\r\n\t\t\tif (comp.startsWith(&quot;a&quot;))\r\n\t\t\t\tSystem.out.println(comp);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"how to print company_name starting with letter a if the company_name function is getcompanyname()","body":"<p>This is happening because you are trying to run a for loop on a String, comp, where as a for loop is meant only for an array or an iterable.. Try with below code, it should work</p>\n<pre><code>package com.practice;\n\npublic class TestCompany {\n\n    public static void main(String[] args) {\n        new TestCompany().starta();\n\n    }\n\n    public void comparecompany() {\n        Company[] com = save();\n\n        String a = &quot;lmn&quot;;\n        boolean found = false;\n        for (int i = 0; i &lt; com.length; i++) {\n            String b = a.toLowerCase();\n\n            if (com[i].getcompanyName().equals(b)) {\n                System.out.println(&quot;company exist&quot;);\n                found = true;\n                break;\n            }\n        }\n        if (found == false)\n            System.out.println(&quot;company doesnt exist&quot;);\n\n    }\n    // code to find the string company_name which starts with a\n\n    private Company[] save() {\n        Company[] companies = new Company[5];\n        companies[0] = new Company(&quot;abc&quot;);\n        companies[1] = new Company(&quot;def&quot;);\n        companies[2] = new Company(&quot;ghi&quot;);\n        companies[3] = new Company(&quot;jkl&quot;);\n        companies[4] = new Company(&quot;ijk&quot;);\n        return companies;\n\n    }\n\n    public void starta() {\n        Company[] com = save();\n        // show names containing the letter starting as the first letter\n\n        for (int i = 0; i &lt; com.length; i++) {\n            String comp = (String) com[i].getcompanyName();\n            if (comp.startsWith(&quot;a&quot;))\n                System.out.println(comp);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22409897,"reputation":23,"user_id":16618826,"display_name":"Abikrishna k r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72038351,"answer_count":1,"score":0,"last_activity_date":1651146932,"creation_date":1651121473,"question_id":72038186,"body_markdown":"```java\r\npublic class YellowPages {\r\n  //company array\r\n\r\n  public Company[] save() {\r\n    Company[] com = new Company[5];\r\n    com[0] = new Company(&quot;abc&quot;, 123, &quot;abc@gmail.com&quot;, 57839174, &quot;abc.com&quot;, City.THRISSUR);\r\n    com[1] = new Company(&quot;cde&quot;, 456, &quot;cde@gmail.com&quot;, 47578317, &quot;cde.com&quot;, City.TRIVANDRUM);\r\n    com[2] = new Company(&quot;fgh&quot;, 789, &quot;fgh@gmail.com&quot;, 82239129, &quot;fgh.com&quot;, City.KOCHI);\r\n    com[3] = new Company(&quot;ijk&quot;, 127, &quot;ijk@gmail.com&quot;, 45758379, &quot;ijk.com&quot;, City.KOZHIKODE);\r\n    com[4] = new Company(&quot;lmn&quot;, 845, &quot;lmn@gmail.com&quot;, 65893948, &quot;lmn.com&quot;, City.KODUNGALLUR);\r\n\r\n    return com;\r\n\r\n  }\r\n  //code to print all companies\r\n  public void showData() {\r\n    save();\r\n    Company[] com = save();\r\n\r\n    for (int i = 0; i &lt; com.length; i++) {\r\n      System.out.println(com[i].toString());\r\n    }\r\n  }\r\n  //code to compare company_name\r\n\r\n  public void comparecompany() {\r\n    save();\r\n    Company[] com = save();\r\n\r\n    String a = &quot;lmn&quot;;\r\n    boolean found = false;\r\n    for (int i = 0; i &lt; com.length; i++) {\r\n      String b = a.toLowerCase();\r\n\r\n      if (com[i].getcompanyname().equals(b)) {\r\n        System.out.println(&quot;company exist&quot;);\r\n        found = true;\r\n        break;\r\n      }\r\n    }\r\n    if (found == false)\r\n      System.out.println(&quot;company doesnt exist&quot;);\r\n\r\n  }\r\n  //code to find the string company_name which starts with a\r\n\r\n  public void starta() {\r\n    save();\r\n    Company[] com = save();\r\n    //show names containing the letter starting as the first letter\r\n\r\n    for (int i = 0; i &lt; com.length; i++) {\r\n      String comp = com[i].getcompanyname();\r\n      for (String i1: comp) {\r\n        if (i1.startsWith(&quot;a&quot;)) System.out.println(i1);\r\n      }\r\n    }\r\n  }\r\n//to print employees in a company\r\npublic void empcompany() {\r\n\t\tsave();\r\n\t\tCompany[] com = save();\r\n\t\tsaves();\r\n\t\tEmployee[]emp=saves();\r\n\t\tString comp=&quot;abc&quot;;\r\n\t\tboolean found=false;\r\n\t\tfor(int i=0;i&lt;com.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;emp.length;j++) {\r\n\t\t\tString coms=com[i].getcompanyname();\r\n\t\t\tString empd=emp[j].getempName();\r\n\t\t\tCompany cos=emp[j].getcompany();\r\n\t\t\tif(com[i].getcompanyname().equals(empd)) {\r\n\t\t\t\tSystem.out.println(comp+&quot; has &quot;+empd+&quot; as employees&quot;);\r\n\t\t}\r\n\t\t\t}\r\n\t\t}}\r\n    //employee array\r\n\tpublic Employee[] saves() {\r\n\t\tsave();\r\n\t\tCompany[] com=save();\r\n\t\tEmployee []emp=new Employee[5];\r\n\t\temp[0]=new Employee(321,&quot;rahul&quot;,&quot;manager&quot;,&quot;Male&quot;,907374383,City.KODUNGALLUR,com[0]);\r\n\t\temp[1]=new Employee(654,&quot;akhil&quot;,&quot;assistant manager&quot;,&quot;Male&quot;,703845983,City.KOZHIKODE,com[1]);\r\n\t\temp[2]=new Employee(987,&quot;mithun&quot;,&quot;supervisor&quot;,&quot;Male&quot;,598339834,City.KOCHI,com[2]);\r\n\t\temp[3]=new Employee(721,&quot;visakh&quot;,&quot;assistant supervisor&quot;,&quot;Male&quot;,339835300,City.TRIVANDRUM,com[3]);\r\n\t\temp[4]=new Employee(548,&quot;sharma&quot;,&quot;trainee&quot;,&quot;Male&quot;,545348945,City.THRISSUR,com[4]);\r\n\t\treturn emp;\r\n\t}\r\n    //to print all employees\r\n\tpublic void showDatas() {\r\n\t\tsaves();\r\n\t\tEmployee[] emp=saves();\r\n\t\tfor(int i=0;i&lt;emp.length;i++) {\r\n\t\t\tSystem.out.println(emp[i].toString());\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nthe last function starta() should print the company_name starting with a.I have given com[i].getcompanynamefunction as a string to a variable comp.\r\n\r\n\r\n\r\nIts should print the output as the companyname.\r\nthis is the error shown\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tCan only iterate over an array or an instance of java.lang.Iterable\r\n\r\n\tat com.aitrich.yellowpages.YellowPages.starta(YellowPages.java:53)\r\n\tat com.aitrich.yellowpages.Main.main(Main.java:14)","title":"how to print company_name starting with letter a if the company_name function is getcompanyname()","body":"<pre class=\"lang-java prettyprint-override\"><code>public class YellowPages {\n  //company array\n\n  public Company[] save() {\n    Company[] com = new Company[5];\n    com[0] = new Company(&quot;abc&quot;, 123, &quot;abc@gmail.com&quot;, 57839174, &quot;abc.com&quot;, City.THRISSUR);\n    com[1] = new Company(&quot;cde&quot;, 456, &quot;cde@gmail.com&quot;, 47578317, &quot;cde.com&quot;, City.TRIVANDRUM);\n    com[2] = new Company(&quot;fgh&quot;, 789, &quot;fgh@gmail.com&quot;, 82239129, &quot;fgh.com&quot;, City.KOCHI);\n    com[3] = new Company(&quot;ijk&quot;, 127, &quot;ijk@gmail.com&quot;, 45758379, &quot;ijk.com&quot;, City.KOZHIKODE);\n    com[4] = new Company(&quot;lmn&quot;, 845, &quot;lmn@gmail.com&quot;, 65893948, &quot;lmn.com&quot;, City.KODUNGALLUR);\n\n    return com;\n\n  }\n  //code to print all companies\n  public void showData() {\n    save();\n    Company[] com = save();\n\n    for (int i = 0; i &lt; com.length; i++) {\n      System.out.println(com[i].toString());\n    }\n  }\n  //code to compare company_name\n\n  public void comparecompany() {\n    save();\n    Company[] com = save();\n\n    String a = &quot;lmn&quot;;\n    boolean found = false;\n    for (int i = 0; i &lt; com.length; i++) {\n      String b = a.toLowerCase();\n\n      if (com[i].getcompanyname().equals(b)) {\n        System.out.println(&quot;company exist&quot;);\n        found = true;\n        break;\n      }\n    }\n    if (found == false)\n      System.out.println(&quot;company doesnt exist&quot;);\n\n  }\n  //code to find the string company_name which starts with a\n\n  public void starta() {\n    save();\n    Company[] com = save();\n    //show names containing the letter starting as the first letter\n\n    for (int i = 0; i &lt; com.length; i++) {\n      String comp = com[i].getcompanyname();\n      for (String i1: comp) {\n        if (i1.startsWith(&quot;a&quot;)) System.out.println(i1);\n      }\n    }\n  }\n//to print employees in a company\npublic void empcompany() {\n        save();\n        Company[] com = save();\n        saves();\n        Employee[]emp=saves();\n        String comp=&quot;abc&quot;;\n        boolean found=false;\n        for(int i=0;i&lt;com.length;i++) {\n            for(int j=0;j&lt;emp.length;j++) {\n            String coms=com[i].getcompanyname();\n            String empd=emp[j].getempName();\n            Company cos=emp[j].getcompany();\n            if(com[i].getcompanyname().equals(empd)) {\n                System.out.println(comp+&quot; has &quot;+empd+&quot; as employees&quot;);\n        }\n            }\n        }}\n    //employee array\n    public Employee[] saves() {\n        save();\n        Company[] com=save();\n        Employee []emp=new Employee[5];\n        emp[0]=new Employee(321,&quot;rahul&quot;,&quot;manager&quot;,&quot;Male&quot;,907374383,City.KODUNGALLUR,com[0]);\n        emp[1]=new Employee(654,&quot;akhil&quot;,&quot;assistant manager&quot;,&quot;Male&quot;,703845983,City.KOZHIKODE,com[1]);\n        emp[2]=new Employee(987,&quot;mithun&quot;,&quot;supervisor&quot;,&quot;Male&quot;,598339834,City.KOCHI,com[2]);\n        emp[3]=new Employee(721,&quot;visakh&quot;,&quot;assistant supervisor&quot;,&quot;Male&quot;,339835300,City.TRIVANDRUM,com[3]);\n        emp[4]=new Employee(548,&quot;sharma&quot;,&quot;trainee&quot;,&quot;Male&quot;,545348945,City.THRISSUR,com[4]);\n        return emp;\n    }\n    //to print all employees\n    public void showDatas() {\n        saves();\n        Employee[] emp=saves();\n        for(int i=0;i&lt;emp.length;i++) {\n            System.out.println(emp[i].toString());\n        }\n        \n    }\n}\n</code></pre>\n<p>the last function starta() should print the company_name starting with a.I have given com[i].getcompanynamefunction as a string to a variable comp.</p>\n<p>Its should print the output as the companyname.\nthis is the error shown</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nCan only iterate over an array or an instance of java.lang.Iterable</p>\n<pre><code>at com.aitrich.yellowpages.YellowPages.starta(YellowPages.java:53)\nat com.aitrich.yellowpages.Main.main(Main.java:14)\n</code></pre>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1651136902,"post_id":72040311,"comment_id":127293322,"body_markdown":"hmm .. this seems to be unrelated to javafx, or how is it?","body":"hmm .. this seems to be unrelated to javafx, or how is it?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651135428,"creation_date":1651134780,"answer_id":72040451,"question_id":72040311,"body_markdown":"According to your requirements the class `Translator` should not belong to `Spring-context` and it should not be a `spring-bean`. Instead it seems that this class should be instantiated manually by you in the code each time you need it so that you can pass dynamically the fields `from`, `to`, `text`. \r\n\r\nIn the class where you will manually instantiate `Translator` instances, you could have autowired `strUrl` and `textPreprocessor` as fields, so that they are always available for you to pass in the new instance of `Translator` that you will create.\r\n\r\nThere is 1 case where I would see it as a `spring-bean` and this would be if you moved `from`, `to`, `text` from been fields of this class into been parameters of method `call`. This way you could have `Translator` as a singleton retrieved from `Spring-context` and you could use dynamic values for `from`, `to`, `text` any time you would like to invoke call method.\r\n\r\nThe whole picture of your question seems like a design problem.","title":"How to pass parameter to a @Component class which can&#39;t be autowired in Spring Boot","body":"<p>According to your requirements the class <code>Translator</code> should not belong to <code>Spring-context</code> and it should not be a <code>spring-bean</code>. Instead it seems that this class should be instantiated manually by you in the code each time you need it so that you can pass dynamically the fields <code>from</code>, <code>to</code>, <code>text</code>.</p>\n<p>In the class where you will manually instantiate <code>Translator</code> instances, you could have autowired <code>strUrl</code> and <code>textPreprocessor</code> as fields, so that they are always available for you to pass in the new instance of <code>Translator</code> that you will create.</p>\n<p>There is 1 case where I would see it as a <code>spring-bean</code> and this would be if you moved <code>from</code>, <code>to</code>, <code>text</code> from been fields of this class into been parameters of method <code>call</code>. This way you could have <code>Translator</code> as a singleton retrieved from <code>Spring-context</code> and you could use dynamic values for <code>from</code>, <code>to</code>, <code>text</code> any time you would like to invoke call method.</p>\n<p>The whole picture of your question seems like a design problem.</p>\n"}],"owner":{"account_id":19642463,"reputation":125,"user_id":14378221,"display_name":"Yaphet17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72040451,"answer_count":1,"score":0,"last_activity_date":1651146652,"creation_date":1651134168,"question_id":72040311,"body_markdown":"I am building a desktop application using JavaFx and Spring Boot and I am stuck at some problem\r\n\r\nI have ```@Component``` class ```Translator``` which extends ```Task&lt;String&gt;``` and makes an api call to google translation api and I want to pass an autowired bean class and some string parameters such as source and target language to the ```Translator``` constructor.\r\n\r\n``` \r\n@Component\r\nclass Translator extends Task&lt;String&gt;{\r\n\r\n   private TextPreprocessor textPreprocessor;\r\n   private Stirng strUrl;\r\n   private String from;\r\n   private String to;\r\n   private String text;\r\n\r\n   public Translator(@Value(&quot;${translator.api.url}&quot; strUrl,TextPreprocessor textPreprocessor)){\r\n      this.strUrl=strUrl;\r\n      this.textPreprocessor=textPreprocessor;\r\n   }\r\n\r\n   protected String call() throws Exception{\r\n    //some code \r\n   }\r\n\r\n\r\n}\r\n@Component\r\nclass TextPreprocessor{\r\n //some code\r\n}\r\n\r\n```\r\nSo my problem is I need to pass parameters ```from```,```to``` and ```text``` to Translator constructor but I can&#39;t do that here because these varibles can&#39;t be autowired. How can I fix this?","title":"How to pass parameter to a @Component class which can&#39;t be autowired in Spring Boot","body":"<p>I am building a desktop application using JavaFx and Spring Boot and I am stuck at some problem</p>\n<p>I have <code>@Component</code> class <code>Translator</code> which extends <code>Task&lt;String&gt;</code> and makes an api call to google translation api and I want to pass an autowired bean class and some string parameters such as source and target language to the <code>Translator</code> constructor.</p>\n<pre><code>@Component\nclass Translator extends Task&lt;String&gt;{\n\n   private TextPreprocessor textPreprocessor;\n   private Stirng strUrl;\n   private String from;\n   private String to;\n   private String text;\n\n   public Translator(@Value(&quot;${translator.api.url}&quot; strUrl,TextPreprocessor textPreprocessor)){\n      this.strUrl=strUrl;\n      this.textPreprocessor=textPreprocessor;\n   }\n\n   protected String call() throws Exception{\n    //some code \n   }\n\n\n}\n@Component\nclass TextPreprocessor{\n //some code\n}\n\n</code></pre>\n<p>So my problem is I need to pass parameters <code>from</code>,<code>to</code> and <code>text</code> to Translator constructor but I can't do that here because these varibles can't be autowired. How can I fix this?</p>\n"},{"tags":["java","jpa","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1651142100,"post_id":72040713,"comment_id":127295365,"body_markdown":"Does it help if you point the cursor at the error in the editor, press Alt + Enter, and apply a suggested fix for your module-info.java?","body":"Does it help if you point the cursor at the error in the editor, press Alt + Enter, and apply a suggested fix for your module-info.java?"},{"owner":{"account_id":16166077,"reputation":617,"user_id":12219726,"display_name":"HenriDev"},"score":0,"creation_date":1651145393,"post_id":72040713,"comment_id":127296518,"body_markdown":"then i get the error that the module is trying to read javax.persistence from two different packages \n\n`java: module project2 reads package javax.persistence from both java.persistence and org.eclipse.persistence.asm`\n\nbecause it puts `requires org.eclipse.persistence.asm` in my module.info along with `java.persistence`","body":"then i get the error that the module is trying to read javax.persistence from two different packages   <code>java: module project2 reads package javax.persistence from both java.persistence and org.eclipse.persistence.asm</code>  because it puts <code>requires org.eclipse.persistence.asm</code> in my module.info along with <code>java.persistence</code>"}],"owner":{"account_id":16166077,"reputation":617,"user_id":12219726,"display_name":"HenriDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651146475,"creation_date":1651135900,"question_id":72040713,"body_markdown":"I&#39;m working on a local project where i&#39;m using JPA, so far my configuration worked but i&#39;m encountering the following error while importing the javax.persistence named query. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have no idea why this one import is giving an error, besides the code also works when i run the project. \r\n\r\nThis is my module-info file, which seems to be working fine too\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\nand here are my used JARs for JPA \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7nTu.png\r\n  [2]: https://i.stack.imgur.com/DMy0F.png\r\n  [3]: https://i.stack.imgur.com/dN2Rm.png\r\n\r\ni&#39;m at a loss as to what is cousing this error, does anyone have any ideas on how to solve this ? ","title":"Intelij Java persistence imports work except for namedquery","body":"<p>I'm working on a local project where i'm using JPA, so far my configuration worked but i'm encountering the following error while importing the javax.persistence named query.</p>\n<p><a href=\"https://i.stack.imgur.com/I7nTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7nTu.png\" alt=\"enter image description here\" /></a></p>\n<p>I have no idea why this one import is giving an error, besides the code also works when i run the project.</p>\n<p>This is my module-info file, which seems to be working fine too</p>\n<p><a href=\"https://i.stack.imgur.com/DMy0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DMy0F.png\" alt=\"enter image description here\" /></a></p>\n<p>and here are my used JARs for JPA</p>\n<p><a href=\"https://i.stack.imgur.com/dN2Rm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dN2Rm.png\" alt=\"enter image description here\" /></a></p>\n<p>i'm at a loss as to what is cousing this error, does anyone have any ideas on how to solve this ?</p>\n"},{"tags":["java","android","android-diffutils"],"answers":[{"tags":[],"owner":{"account_id":478975,"reputation":18077,"user_id":891373,"accept_rate":81,"display_name":"Froyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560957368,"creation_date":1560956351,"answer_id":56670707,"question_id":56670162,"body_markdown":"    for (int i = position; i &lt; position + count; i++) {\r\n        Log.d(TAG, &quot;onInserted: newAnswer.text = &quot; + newAnswers.get(i).getText());\r\n    }\r\n\r\nThis loop will definitely throw `IndexOutOfBoundError`. `count` is number of items that have been added. and `position` is the position of the new item. When you do `position + count` that would be definitely more than the size of your list at some point. And hence the error.\r\n\r\n&gt; The problem that if the old list has size of 2 items; and I removed the item at index 0, then added 3 items to the end of the list\r\n\r\nDo you call `dispatchUpdates` after removing and before adding the new items?\r\n\r\nI think first it&#39;s calculating items that are inserted and then item that is removed and hence the position is 2 in `onInserted`.\r\n\r\nYou can wrap your `ListUpdateCallback` in `BatchingListUpdateCallback` if you want batched updates.","title":"How to fix incorrect position I get when dispatching an update to ListUpdateCallback using DiffUtil","body":"<pre><code>for (int i = position; i &lt; position + count; i++) {\n    Log.d(TAG, \"onInserted: newAnswer.text = \" + newAnswers.get(i).getText());\n}\n</code></pre>\n\n<p>This loop will definitely throw <code>IndexOutOfBoundError</code>. <code>count</code> is number of items that have been added. and <code>position</code> is the position of the new item. When you do <code>position + count</code> that would be definitely more than the size of your list at some point. And hence the error.</p>\n\n<blockquote>\n  <p>The problem that if the old list has size of 2 items; and I removed the item at index 0, then added 3 items to the end of the list</p>\n</blockquote>\n\n<p>Do you call <code>dispatchUpdates</code> after removing and before adding the new items?</p>\n\n<p>I think first it's calculating items that are inserted and then item that is removed and hence the position is 2 in <code>onInserted</code>.</p>\n\n<p>You can wrap your <code>ListUpdateCallback</code> in <code>BatchingListUpdateCallback</code> if you want batched updates.</p>\n"},{"tags":[],"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651146461,"creation_date":1651146461,"answer_id":72043132,"question_id":56670162,"body_markdown":"It seems to be a known issue for ListUpdateCallback. It is not possible within `onInserted` for the inserted oldList item to identify its related position in the newList.\r\n\r\nhttps://issuetracker.google.com/issues/115701827\r\n\r\nMy solution for this is: Insert a null-dummy list item in the oldList, and after `diffResult.dispatchUpdatesTo` is done, replace the null-dummies with the newList items at same positions.\r\n\r\nExample, I have left some debugging code and logs to identify the problem:\r\n\r\n        public static final class ListUpdate&lt;T extends BaseIdentifier&gt; implements ListUpdateCallback {\r\n\r\n        private final List&lt;T&gt; oldList;\r\n        private final List&lt;T&gt; newList;\r\n\r\n        public ListUpdate(@NonNull List&lt;T&gt; oldList, @NonNull List&lt;T&gt; newList) {\r\n            //logger.trace(&quot;ListUpdate&quot; + System.lineSeparator()  + &quot;old={}&quot; + System.lineSeparator() + &quot;new={}&quot;, BaseIdentifier.toString(oldList), BaseIdentifier.toString(newList));\r\n\r\n            this.oldList = oldList;\r\n            this.newList = newList;\r\n        }\r\n\r\n        public int inserts = 0;\r\n\r\n        public boolean hasInserts() {\r\n            return inserts &gt; 0;\r\n        }\r\n\r\n        public void finishInserts() {\r\n            if (inserts &lt;= 0) {\r\n                return;\r\n            }\r\n\r\n            //logger.trace(&quot;finishInserts inserts={}&quot;, inserts);\r\n\r\n            ListIterator&lt;T&gt; oldListIterator = oldList.listIterator();\r\n            ListIterator&lt;T&gt; newListIterator = newList.listIterator();\r\n\r\n            while (inserts &gt; 0 &amp;&amp; oldListIterator.hasNext() &amp;&amp; newListIterator.hasNext()) {\r\n                T oldItem = oldListIterator.next();\r\n                T newItem = newListIterator.next();\r\n\r\n                if (oldItem == null) {\r\n                    //Replaces the last element returned by next()\r\n                    oldListIterator.set((T) newItem.copy());\r\n                    inserts--;\r\n                }\r\n            }\r\n\r\n            if (inserts &gt; 0 || oldList.contains(null)) {\r\n                //There must be something wrong\r\n                logger.error(&quot;finishInserts inserts={} remaining&quot;, inserts);\r\n            }\r\n        }\r\n\r\n        /** {@inheritDoc} */\r\n        @Override\r\n        public void onInserted(int position, int count) {\r\n            //logger.trace(&quot;onInserted position={} count={}&quot;, position, count);\r\n\r\n            for (int i = 0; i &lt; count; i++) {\r\n                /*\r\n                T item = newList.get(position + i);\r\n                oldList.add(position + i, (T) item.copy());\r\n                 */\r\n                //We don&#39;t know the related position of the newList, so we add null\r\n                oldList.add(position + i, null);\r\n                inserts++;\r\n            }\r\n        }\r\n\r\n        /** {@inheritDoc} */\r\n        @Override\r\n        public void onRemoved(int position, int count) {\r\n            //logger.trace(&quot;onRemoved position={} count={}&quot;, position, count);\r\n\r\n            for (int i = 0; i &lt; count; i++) {\r\n                oldList.remove(position);\r\n            }\r\n        }\r\n\r\n        /** {@inheritDoc} */\r\n        @Override\r\n        public void onMoved(int fromPosition, int toPosition) {\r\n            //logger.trace(&quot;onMoved fromPosition={} toPosition={}&quot;, fromPosition, toPosition);\r\n\r\n            T item = oldList.remove(fromPosition);\r\n            oldList.add(toPosition, item);\r\n        }\r\n\r\n        /** {@inheritDoc} */\r\n        @Override\r\n        public void onChanged(int position, int count, Object payload) {\r\n            logger.trace(&quot;onChanged position={} count={}&quot;, position, count);\r\n\r\n            for (int i = 0; i &lt; count; i++) {\r\n                T item = newList.get(position + i);\r\n                //noinspection unchecked\r\n                oldList.set(position + i, (T) item.copy());\r\n            }\r\n        }\r\n    }\r\n\r\nCall like\r\n\r\n            DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(new BaseIdentifier.BaseIdentifierDiffUtilCallback(oldProcessEvents, processEvents));\r\n            BaseIdentifier.ListUpdate&lt;ProcessEvent&gt; updater = new BaseIdentifier.ListUpdate&lt;&gt;(oldProcessEvents, processEvents);\r\n            diffResult.dispatchUpdatesTo(updater);\r\n            updater.finishInserts();\r\n\r\n\r\n","title":"How to fix incorrect position I get when dispatching an update to ListUpdateCallback using DiffUtil","body":"<p>It seems to be a known issue for ListUpdateCallback. It is not possible within <code>onInserted</code> for the inserted oldList item to identify its related position in the newList.</p>\n<p><a href=\"https://issuetracker.google.com/issues/115701827\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/115701827</a></p>\n<p>My solution for this is: Insert a null-dummy list item in the oldList, and after <code>diffResult.dispatchUpdatesTo</code> is done, replace the null-dummies with the newList items at same positions.</p>\n<p>Example, I have left some debugging code and logs to identify the problem:</p>\n<pre><code>    public static final class ListUpdate&lt;T extends BaseIdentifier&gt; implements ListUpdateCallback {\n\n    private final List&lt;T&gt; oldList;\n    private final List&lt;T&gt; newList;\n\n    public ListUpdate(@NonNull List&lt;T&gt; oldList, @NonNull List&lt;T&gt; newList) {\n        //logger.trace(&quot;ListUpdate&quot; + System.lineSeparator()  + &quot;old={}&quot; + System.lineSeparator() + &quot;new={}&quot;, BaseIdentifier.toString(oldList), BaseIdentifier.toString(newList));\n\n        this.oldList = oldList;\n        this.newList = newList;\n    }\n\n    public int inserts = 0;\n\n    public boolean hasInserts() {\n        return inserts &gt; 0;\n    }\n\n    public void finishInserts() {\n        if (inserts &lt;= 0) {\n            return;\n        }\n\n        //logger.trace(&quot;finishInserts inserts={}&quot;, inserts);\n\n        ListIterator&lt;T&gt; oldListIterator = oldList.listIterator();\n        ListIterator&lt;T&gt; newListIterator = newList.listIterator();\n\n        while (inserts &gt; 0 &amp;&amp; oldListIterator.hasNext() &amp;&amp; newListIterator.hasNext()) {\n            T oldItem = oldListIterator.next();\n            T newItem = newListIterator.next();\n\n            if (oldItem == null) {\n                //Replaces the last element returned by next()\n                oldListIterator.set((T) newItem.copy());\n                inserts--;\n            }\n        }\n\n        if (inserts &gt; 0 || oldList.contains(null)) {\n            //There must be something wrong\n            logger.error(&quot;finishInserts inserts={} remaining&quot;, inserts);\n        }\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    public void onInserted(int position, int count) {\n        //logger.trace(&quot;onInserted position={} count={}&quot;, position, count);\n\n        for (int i = 0; i &lt; count; i++) {\n            /*\n            T item = newList.get(position + i);\n            oldList.add(position + i, (T) item.copy());\n             */\n            //We don't know the related position of the newList, so we add null\n            oldList.add(position + i, null);\n            inserts++;\n        }\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    public void onRemoved(int position, int count) {\n        //logger.trace(&quot;onRemoved position={} count={}&quot;, position, count);\n\n        for (int i = 0; i &lt; count; i++) {\n            oldList.remove(position);\n        }\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    public void onMoved(int fromPosition, int toPosition) {\n        //logger.trace(&quot;onMoved fromPosition={} toPosition={}&quot;, fromPosition, toPosition);\n\n        T item = oldList.remove(fromPosition);\n        oldList.add(toPosition, item);\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    public void onChanged(int position, int count, Object payload) {\n        logger.trace(&quot;onChanged position={} count={}&quot;, position, count);\n\n        for (int i = 0; i &lt; count; i++) {\n            T item = newList.get(position + i);\n            //noinspection unchecked\n            oldList.set(position + i, (T) item.copy());\n        }\n    }\n}\n</code></pre>\n<p>Call like</p>\n<pre><code>        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(new BaseIdentifier.BaseIdentifierDiffUtilCallback(oldProcessEvents, processEvents));\n        BaseIdentifier.ListUpdate&lt;ProcessEvent&gt; updater = new BaseIdentifier.ListUpdate&lt;&gt;(oldProcessEvents, processEvents);\n        diffResult.dispatchUpdatesTo(updater);\n        updater.finishInserts();\n</code></pre>\n"}],"owner":{"account_id":8623164,"reputation":326,"user_id":6457272,"accept_rate":80,"display_name":"O-BL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72043132,"answer_count":2,"score":6,"last_activity_date":1651146461,"creation_date":1560954666,"question_id":56670162,"body_markdown":"I have an Android application where the user can modify multiple `String` items using `EditText` at the same time, so I need to figure out what have changed in order to notify the server about the changes (create new item, update existing item or delete the latter), that is why I am using `DiffUtil` with `ListUpdateCallback` to do that. The problem that if the old list has size of 2 items; and I removed the item at index 0, then added 3 items to the end of the list, I get a callback to `onInserted` with incorrect position paramter which leads to `IndexOutOfBoundsException`, *(and it is the behavior of removing any item in the old list except for the last one)* please take a look at this [GIF that shows the problem][1].\r\n\r\nI have tried the following code with other changes made to the new list like removing at index 1 and then adding 3 items to end of the list and it works fine!\r\n\r\nThe array I am working with is of type Answer which is a class:\r\n```\r\npublic class Answer {\r\n    private String id;\r\n    private String questionId;\r\n    private String text;\r\n    private Integer count;\r\n}\r\n```\r\n\r\nPlease note that 2 different objects could be identified by the id, if two items the same; then the content could be identified by the text.\r\n\r\nDiffUtil.Callback\r\n```\r\npublic class AnswersDiffCallback extends DiffUtil.Callback {\r\n\r\n    List&lt;Answer&gt; newAnswers;\r\n    List&lt;Answer&gt; oldAnswers;\r\n\r\n    public AnswersDiffCallback(List&lt;Answer&gt; newAnswers, List&lt;Answer&gt; oldAnswers) {\r\n        this.newAnswers = newAnswers;\r\n        this.oldAnswers = oldAnswers;\r\n    }\r\n\r\n    @Override\r\n    public int getOldListSize() {\r\n        return oldAnswers == null ? 0 : oldAnswers.size();\r\n    }\r\n\r\n    @Override\r\n    public int getNewListSize() {\r\n        return newAnswers == null ? 0 : newAnswers.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) {\r\n        Answer oldAnswer = oldAnswers.get(oldItemPosition);\r\n        Answer newAnswer = newAnswers.get(newItemPosition);\r\n        return Objects.equals(oldAnswer.getId(), newAnswer.getId());\r\n    }\r\n\r\n    @Override\r\n    public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) {\r\n        Answer oldAnswer = oldAnswers.get(oldItemPosition);\r\n        Answer newAnswer = newAnswers.get(newItemPosition);\r\n        return Objects.equals(oldAnswer.getText(), newAnswer.getText());\r\n    }\r\n}\r\n```\r\n\r\nin ListUpdateCallback I am trying to log the callbacks I get in order to test if it is working before I talk to the server.\r\n```\r\nLog.d(TAG, &quot;answers: oldAnswers = &quot; + Utils.serializeObject(oldAnswers));\r\nLog.d(TAG, &quot;answers: newAnswers = &quot; + Utils.serializeObject(newAnswers));\r\nLog.d(TAG, &quot;-----------------------------------------------------------------------------&quot;);\r\nDiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(new AnswersDiffCallback(newAnswers, oldAnswers), true);\r\ndiffResult.dispatchUpdatesTo(new ListUpdateCallback() {\r\n    @Override\r\n    public void onInserted(int position, int count) {\r\n        try {\r\n            Log.d(TAG, String.format(&quot;onInserted: (position, count) = (%d, %d)&quot;, position, count));\r\n            for (int i = position; i &lt; position + count; i++) {\r\n                Log.d(TAG, &quot;onInserted: newAnswer.text = &quot; + newAnswers.get(i).getText());\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, &quot;onInserted: Exception&quot;, ex);\r\n        }\r\n        Log.d(TAG, &quot;-----------------------------------------------------------------------------&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onRemoved(int position, int count) {\r\n        try {\r\n            Log.d(TAG, &quot;onRemoved: (position, count) = (&quot; + position + &quot;, &quot; + count + &quot;)&quot;);\r\n            for (int i = position; i &lt; position + count; i++) {\r\n                Log.d(TAG, String.format(&quot;onRemoved: (oldAnswer.id, oldAnswer.text) = (%s, %s)&quot;, oldAnswers.get(i).getId(), oldAnswers.get(i).getText()));\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, &quot;onRemoved: Exception&quot;, ex);\r\n        }\r\n        Log.d(TAG, &quot;-----------------------------------------------------------------------------&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onMoved(int fromPosition, int toPosition) {\r\n        try {\r\n            Log.d(TAG, &quot;onMoved: (fromPosition, toPosition) = (&quot; + fromPosition + &quot;, &quot; + toPosition + &quot;)&quot;);\r\n            Log.d(TAG, String.format(&quot;onMoved: (oldAnswer.id, oldAnswer.text) = (%s, %s)&quot;, oldAnswers.get(fromPosition).getId(), oldAnswers.get(fromPosition).getText()));\r\n            Log.d(TAG, String.format(&quot;onMoved: (newAnswer.id, newAnswer.text) = (%s, %s)&quot;, newAnswers.get(toPosition).getId(), newAnswers.get(toPosition).getText()));\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, &quot;onMoved: Exception&quot;, ex);\r\n        }\r\n        Log.d(TAG, &quot;-----------------------------------------------------------------------------&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onChanged(int position, int count, @Nullable Object payload) {\r\n        try {\r\n            Log.d(TAG, &quot;onChanged: (position, count) = (&quot; + position + &quot;, &quot; + count + &quot;)&quot;);\r\n            for (int i = position; i &lt; position + count; i++) {\r\n                Log.d(TAG, String.format(&quot;onChanged: (oldAnswer.id, oldAnswer.text) = (%s, %s)&quot;, oldAnswers.get(i).getId(), oldAnswers.get(i).getText()));\r\n                Log.d(TAG, String.format(&quot;onChanged: (newAnswer.id, newAnswer.text) = (%s, %s)&quot;, newAnswers.get(i).getId(), newAnswers.get(i).getText()));\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, &quot;onChanged: Exception&quot;, ex);\r\n        }\r\n        Log.d(TAG, &quot;-----------------------------------------------------------------------------&quot;);\r\n    }\r\n});\r\n```\r\n\r\nand here is the logcat with the exception I have got:\r\n```\r\n2019-06-19 16:32:00.461 24515-24515/com.example.myApp D/AdminQuestionsFragment: answers: oldAnswers = [{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e96&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 0&quot;},{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e97&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 1&quot;}]\r\n2019-06-19 16:32:00.501 24515-24515/com.example.myApp D/AdminQuestionsFragment: answers: newAnswers = [{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e97&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 1&quot;},{&quot;text&quot;:&quot;new answer 0&quot;},{&quot;text&quot;:&quot;new answer 1&quot;},{&quot;text&quot;:&quot;new answer 2&quot;}]\r\n2019-06-19 16:32:00.501 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (2, 3)\r\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 1\r\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 2\r\n2019-06-19 16:35:19.599 24515-24515/com.example.myApp E/AdminQuestionsFragment: onInserted: Exception\r\n    java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\r\n        at java.util.ArrayList.get(ArrayList.java:437)\r\n        at com.example.myApp.views.AdminQuestionsFragment$5.onInserted(AdminQuestionsFragment.java:333)\r\n        at androidx.recyclerview.widget.BatchingListUpdateCallback.dispatchLastEvent(BatchingListUpdateCallback.java:61)\r\n        at androidx.recyclerview.widget.BatchingListUpdateCallback.onRemoved(BatchingListUpdateCallback.java:96)\r\n        at androidx.recyclerview.widget.DiffUtil$DiffResult.dispatchRemovals(DiffUtil.java:921)\r\n        at androidx.recyclerview.widget.DiffUtil$DiffResult.dispatchUpdatesTo(DiffUtil.java:836)\r\n        at com.example.myApp.views.AdminQuestionsFragment.lambda$onActivityResult$8$AdminQuestionsFragment(AdminQuestionsFragment.java:320)\r\n        at com.example.myApp.views.-$$Lambda$AdminQuestionsFragment$KZmQo8gdnjCYX1JsaACEVkjSd1s.onChanged(Unknown Source:8)\r\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\r\n        at androidx.lifecycle.LiveData.dispatchingValue(LiveData.java:126)\r\n        at androidx.lifecycle.LiveData$ObserverWrapper.activeStateChanged(LiveData.java:424)\r\n        at androidx.lifecycle.LiveData$LifecycleBoundObserver.onStateChanged(LiveData.java:376)\r\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:361)\r\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:188)\r\n        at androidx.lifecycle.LiveData.observe(LiveData.java:185)\r\n        at com.example.myApp.views.AdminQuestionsFragment.onActivityResult(AdminQuestionsFragment.java:387)\r\n        at androidx.fragment.app.FragmentActivity.onActivityResult(FragmentActivity.java:170)\r\n        at android.app.Activity.dispatchActivityResult(Activity.java:7454)\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4353)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4402)\r\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n2019-06-19 16:35:19.599 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n2019-06-19 16:35:19.600 24515-24515/com.example.myApp D/AdminQuestionsFragment: onRemoved: (position, count) = (0, 1)\r\n2019-06-19 16:35:19.603 24515-24515/com.example.myApp D/AdminQuestionsFragment: onRemoved: (oldAnswer.id, oldAnswer.text) = (5d09a1236969e249cca42e96, old answer 0)\r\n2019-06-19 16:35:19.603 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n```\r\n\r\nthe problem is with this line:\r\n```\r\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (2, 3)\r\n```\r\nwhy the position is not 1?\r\n\r\n**Update 1**\r\nhere is the logcat if I have old list of 2 items and I removed the item at index 1 then added 3 items to the end of the list:\r\n```\r\n2019-06-19 18:25:24.368 28118-28118/com.example.myApp D/AdminQuestionsFragment: answers: oldAnswers = [{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e96&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 0&quot;},{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e97&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 1&quot;}]\r\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: answers: newAnswers = [{&quot;count&quot;:0,&quot;id&quot;:&quot;5d09a1236969e249cca42e96&quot;,&quot;questionId&quot;:&quot;5d09a1236969e249cca42e95&quot;,&quot;text&quot;:&quot;old answer 0&quot;},{&quot;text&quot;:&quot;new answer 0&quot;},{&quot;text&quot;:&quot;new answer 1&quot;},{&quot;text&quot;:&quot;new answer 2&quot;}]\r\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: onRemoved: (position, count) = (1, 1)\r\n2019-06-19 18:25:24.371 28118-28118/com.example.myApp D/AdminQuestionsFragment: onRemoved: (oldAnswer.id, oldAnswer.text) = (5d09a1236969e249cca42e97, old answer 1)\r\n2019-06-19 18:25:24.371 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (1, 3)\r\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 0\r\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 1\r\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 2\r\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\r\n```\r\n\r\n\r\n  [1]: https://ibb.co/TRbfGsQ","title":"How to fix incorrect position I get when dispatching an update to ListUpdateCallback using DiffUtil","body":"<p>I have an Android application where the user can modify multiple <code>String</code> items using <code>EditText</code> at the same time, so I need to figure out what have changed in order to notify the server about the changes (create new item, update existing item or delete the latter), that is why I am using <code>DiffUtil</code> with <code>ListUpdateCallback</code> to do that. The problem that if the old list has size of 2 items; and I removed the item at index 0, then added 3 items to the end of the list, I get a callback to <code>onInserted</code> with incorrect position paramter which leads to <code>IndexOutOfBoundsException</code>, <em>(and it is the behavior of removing any item in the old list except for the last one)</em> please take a look at this <a href=\"https://ibb.co/TRbfGsQ\" rel=\"noreferrer\">GIF that shows the problem</a>.</p>\n\n<p>I have tried the following code with other changes made to the new list like removing at index 1 and then adding 3 items to end of the list and it works fine!</p>\n\n<p>The array I am working with is of type Answer which is a class:</p>\n\n<pre><code>public class Answer {\n    private String id;\n    private String questionId;\n    private String text;\n    private Integer count;\n}\n</code></pre>\n\n<p>Please note that 2 different objects could be identified by the id, if two items the same; then the content could be identified by the text.</p>\n\n<p>DiffUtil.Callback</p>\n\n<pre><code>public class AnswersDiffCallback extends DiffUtil.Callback {\n\n    List&lt;Answer&gt; newAnswers;\n    List&lt;Answer&gt; oldAnswers;\n\n    public AnswersDiffCallback(List&lt;Answer&gt; newAnswers, List&lt;Answer&gt; oldAnswers) {\n        this.newAnswers = newAnswers;\n        this.oldAnswers = oldAnswers;\n    }\n\n    @Override\n    public int getOldListSize() {\n        return oldAnswers == null ? 0 : oldAnswers.size();\n    }\n\n    @Override\n    public int getNewListSize() {\n        return newAnswers == null ? 0 : newAnswers.size();\n    }\n\n    @Override\n    public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) {\n        Answer oldAnswer = oldAnswers.get(oldItemPosition);\n        Answer newAnswer = newAnswers.get(newItemPosition);\n        return Objects.equals(oldAnswer.getId(), newAnswer.getId());\n    }\n\n    @Override\n    public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) {\n        Answer oldAnswer = oldAnswers.get(oldItemPosition);\n        Answer newAnswer = newAnswers.get(newItemPosition);\n        return Objects.equals(oldAnswer.getText(), newAnswer.getText());\n    }\n}\n</code></pre>\n\n<p>in ListUpdateCallback I am trying to log the callbacks I get in order to test if it is working before I talk to the server.</p>\n\n<pre><code>Log.d(TAG, \"answers: oldAnswers = \" + Utils.serializeObject(oldAnswers));\nLog.d(TAG, \"answers: newAnswers = \" + Utils.serializeObject(newAnswers));\nLog.d(TAG, \"-----------------------------------------------------------------------------\");\nDiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(new AnswersDiffCallback(newAnswers, oldAnswers), true);\ndiffResult.dispatchUpdatesTo(new ListUpdateCallback() {\n    @Override\n    public void onInserted(int position, int count) {\n        try {\n            Log.d(TAG, String.format(\"onInserted: (position, count) = (%d, %d)\", position, count));\n            for (int i = position; i &lt; position + count; i++) {\n                Log.d(TAG, \"onInserted: newAnswer.text = \" + newAnswers.get(i).getText());\n            }\n        } catch (Exception ex) {\n            Log.e(TAG, \"onInserted: Exception\", ex);\n        }\n        Log.d(TAG, \"-----------------------------------------------------------------------------\");\n    }\n\n    @Override\n    public void onRemoved(int position, int count) {\n        try {\n            Log.d(TAG, \"onRemoved: (position, count) = (\" + position + \", \" + count + \")\");\n            for (int i = position; i &lt; position + count; i++) {\n                Log.d(TAG, String.format(\"onRemoved: (oldAnswer.id, oldAnswer.text) = (%s, %s)\", oldAnswers.get(i).getId(), oldAnswers.get(i).getText()));\n            }\n        } catch (Exception ex) {\n            Log.e(TAG, \"onRemoved: Exception\", ex);\n        }\n        Log.d(TAG, \"-----------------------------------------------------------------------------\");\n    }\n\n    @Override\n    public void onMoved(int fromPosition, int toPosition) {\n        try {\n            Log.d(TAG, \"onMoved: (fromPosition, toPosition) = (\" + fromPosition + \", \" + toPosition + \")\");\n            Log.d(TAG, String.format(\"onMoved: (oldAnswer.id, oldAnswer.text) = (%s, %s)\", oldAnswers.get(fromPosition).getId(), oldAnswers.get(fromPosition).getText()));\n            Log.d(TAG, String.format(\"onMoved: (newAnswer.id, newAnswer.text) = (%s, %s)\", newAnswers.get(toPosition).getId(), newAnswers.get(toPosition).getText()));\n        } catch (Exception ex) {\n            Log.e(TAG, \"onMoved: Exception\", ex);\n        }\n        Log.d(TAG, \"-----------------------------------------------------------------------------\");\n    }\n\n    @Override\n    public void onChanged(int position, int count, @Nullable Object payload) {\n        try {\n            Log.d(TAG, \"onChanged: (position, count) = (\" + position + \", \" + count + \")\");\n            for (int i = position; i &lt; position + count; i++) {\n                Log.d(TAG, String.format(\"onChanged: (oldAnswer.id, oldAnswer.text) = (%s, %s)\", oldAnswers.get(i).getId(), oldAnswers.get(i).getText()));\n                Log.d(TAG, String.format(\"onChanged: (newAnswer.id, newAnswer.text) = (%s, %s)\", newAnswers.get(i).getId(), newAnswers.get(i).getText()));\n            }\n        } catch (Exception ex) {\n            Log.e(TAG, \"onChanged: Exception\", ex);\n        }\n        Log.d(TAG, \"-----------------------------------------------------------------------------\");\n    }\n});\n</code></pre>\n\n<p>and here is the logcat with the exception I have got:</p>\n\n<pre><code>2019-06-19 16:32:00.461 24515-24515/com.example.myApp D/AdminQuestionsFragment: answers: oldAnswers = [{\"count\":0,\"id\":\"5d09a1236969e249cca42e96\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 0\"},{\"count\":0,\"id\":\"5d09a1236969e249cca42e97\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 1\"}]\n2019-06-19 16:32:00.501 24515-24515/com.example.myApp D/AdminQuestionsFragment: answers: newAnswers = [{\"count\":0,\"id\":\"5d09a1236969e249cca42e97\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 1\"},{\"text\":\"new answer 0\"},{\"text\":\"new answer 1\"},{\"text\":\"new answer 2\"}]\n2019-06-19 16:32:00.501 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (2, 3)\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 1\n2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 2\n2019-06-19 16:35:19.599 24515-24515/com.example.myApp E/AdminQuestionsFragment: onInserted: Exception\n    java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.example.myApp.views.AdminQuestionsFragment$5.onInserted(AdminQuestionsFragment.java:333)\n        at androidx.recyclerview.widget.BatchingListUpdateCallback.dispatchLastEvent(BatchingListUpdateCallback.java:61)\n        at androidx.recyclerview.widget.BatchingListUpdateCallback.onRemoved(BatchingListUpdateCallback.java:96)\n        at androidx.recyclerview.widget.DiffUtil$DiffResult.dispatchRemovals(DiffUtil.java:921)\n        at androidx.recyclerview.widget.DiffUtil$DiffResult.dispatchUpdatesTo(DiffUtil.java:836)\n        at com.example.myApp.views.AdminQuestionsFragment.lambda$onActivityResult$8$AdminQuestionsFragment(AdminQuestionsFragment.java:320)\n        at com.example.myApp.views.-$$Lambda$AdminQuestionsFragment$KZmQo8gdnjCYX1JsaACEVkjSd1s.onChanged(Unknown Source:8)\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\n        at androidx.lifecycle.LiveData.dispatchingValue(LiveData.java:126)\n        at androidx.lifecycle.LiveData$ObserverWrapper.activeStateChanged(LiveData.java:424)\n        at androidx.lifecycle.LiveData$LifecycleBoundObserver.onStateChanged(LiveData.java:376)\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:361)\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:188)\n        at androidx.lifecycle.LiveData.observe(LiveData.java:185)\n        at com.example.myApp.views.AdminQuestionsFragment.onActivityResult(AdminQuestionsFragment.java:387)\n        at androidx.fragment.app.FragmentActivity.onActivityResult(FragmentActivity.java:170)\n        at android.app.Activity.dispatchActivityResult(Activity.java:7454)\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4353)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4402)\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-06-19 16:35:19.599 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n2019-06-19 16:35:19.600 24515-24515/com.example.myApp D/AdminQuestionsFragment: onRemoved: (position, count) = (0, 1)\n2019-06-19 16:35:19.603 24515-24515/com.example.myApp D/AdminQuestionsFragment: onRemoved: (oldAnswer.id, oldAnswer.text) = (5d09a1236969e249cca42e96, old answer 0)\n2019-06-19 16:35:19.603 24515-24515/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n</code></pre>\n\n<p>the problem is with this line:</p>\n\n<pre><code>2019-06-19 16:35:19.550 24515-24515/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (2, 3)\n</code></pre>\n\n<p>why the position is not 1?</p>\n\n<p><strong>Update 1</strong>\nhere is the logcat if I have old list of 2 items and I removed the item at index 1 then added 3 items to the end of the list:</p>\n\n<pre><code>2019-06-19 18:25:24.368 28118-28118/com.example.myApp D/AdminQuestionsFragment: answers: oldAnswers = [{\"count\":0,\"id\":\"5d09a1236969e249cca42e96\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 0\"},{\"count\":0,\"id\":\"5d09a1236969e249cca42e97\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 1\"}]\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: answers: newAnswers = [{\"count\":0,\"id\":\"5d09a1236969e249cca42e96\",\"questionId\":\"5d09a1236969e249cca42e95\",\"text\":\"old answer 0\"},{\"text\":\"new answer 0\"},{\"text\":\"new answer 1\"},{\"text\":\"new answer 2\"}]\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n2019-06-19 18:25:24.370 28118-28118/com.example.myApp D/AdminQuestionsFragment: onRemoved: (position, count) = (1, 1)\n2019-06-19 18:25:24.371 28118-28118/com.example.myApp D/AdminQuestionsFragment: onRemoved: (oldAnswer.id, oldAnswer.text) = (5d09a1236969e249cca42e97, old answer 1)\n2019-06-19 18:25:24.371 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: (position, count) = (1, 3)\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 0\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 1\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: onInserted: newAnswer.text = new answer 2\n2019-06-19 18:25:24.372 28118-28118/com.example.myApp D/AdminQuestionsFragment: -----------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","eclipse","selenium","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1651016166,"post_id":72018780,"comment_id":127260314,"body_markdown":"Did you try maven clean and then build?","body":"Did you try maven clean and then build?"},{"owner":{"account_id":24465484,"reputation":1,"user_id":18385923,"display_name":"airwin67"},"score":0,"creation_date":1651088289,"post_id":72018780,"comment_id":127282135,"body_markdown":"yes, it doen&#39;t work","body":"yes, it doen&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":25090636,"reputation":204,"user_id":18942308,"display_name":"Software Tester at ExpandCart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651100459,"creation_date":1651100459,"answer_id":72036166,"question_id":72018780,"body_markdown":"Try following steps:\r\n\r\n-Either keep only selenium-server-standalone-3.141.59.jar as an external JAR\r\n-keep only selenium-java-3.141.59\r\n-Clean your project and update maven\r\n\r\nYou can update these versuon through maven. ","title":"can&#39;t install selenium in eclipse with maven &#39;module not accessible&#39;","body":"<p>Try following steps:</p>\n<p>-Either keep only selenium-server-standalone-3.141.59.jar as an external JAR\n-keep only selenium-java-3.141.59\n-Clean your project and update maven</p>\n<p>You can update these versuon through maven.</p>\n"}],"owner":{"account_id":24465484,"reputation":1,"user_id":18385923,"display_name":"airwin67"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651145682,"creation_date":1650997377,"question_id":72018780,"body_markdown":"I&#39;m trying to install selenium 4 librery in eclipse with maven in an existing modular project but ,I have an error after putting selenium-java dependency\\\r\nall errors are like this:\r\n\r\n``The type org.openqa.selenium.By is not accessible``\r\neven after adding them in the module info file\\\r\nsome selenium modules has this errors :\\\r\n ``org.openqa.selenium.chrome cannot be resolved to a module``\\\r\nI have this problem just with selenium dependency other libs are working fine .\\\r\ni tried to install it manually but i got same errors .\\\r\n[this is project hierarchy][1]\r\n\r\n  [1]: https://i.stack.imgur.com/F2a2m.png","title":"can&#39;t install selenium in eclipse with maven &#39;module not accessible&#39;","body":"<p>I'm trying to install selenium 4 librery in eclipse with maven in an existing modular project but ,I have an error after putting selenium-java dependency<br />\nall errors are like this:</p>\n<p><code>The type org.openqa.selenium.By is not accessible</code>\neven after adding them in the module info file<br />\nsome selenium modules has this errors :<br />\n<code>org.openqa.selenium.chrome cannot be resolved to a module</code><br />\nI have this problem just with selenium dependency other libs are working fine .<br />\ni tried to install it manually but i got same errors .<br />\n<a href=\"https://i.stack.imgur.com/F2a2m.png\" rel=\"nofollow noreferrer\">this is project hierarchy</a></p>\n"},{"tags":["java","security","request-headers","response-headers"],"answers":[{"tags":[],"owner":{"account_id":4698999,"reputation":79,"user_id":11317802,"display_name":"user11317802"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651145320,"creation_date":1651145320,"answer_id":72042878,"question_id":71277302,"body_markdown":"This issue was resolved by updating an old library that needed this update: https://mvnrepository.com/artifact/org.directwebremoting/dwr/3.0.2-RELEASE","title":"How to fix net::ERR_INCOMPLETE_CHUNKED_ENCODING 200 java web app?","body":"<p>This issue was resolved by updating an old library that needed this update: <a href=\"https://mvnrepository.com/artifact/org.directwebremoting/dwr/3.0.2-RELEASE\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.directwebremoting/dwr/3.0.2-RELEASE</a></p>\n"}],"owner":{"account_id":4698999,"reputation":79,"user_id":11317802,"display_name":"user11317802"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72042878,"answer_count":1,"score":0,"last_activity_date":1651145320,"creation_date":1645884466,"question_id":71277302,"body_markdown":"I am working on a java web app and I am setting the **jsessionid** attributes: HttpOnly, Secure and SameSite in the doFilter() method of InitSession class. I have this set as such:\r\n\r\n```\r\npublic void doFilter(ServletRequest request, ServletResponse response,\r\n\t\tFilterChain filterChain) throws IOException, ServletException {\r\n\r\n    Cookie jsessionCookie = RequestHelper.getCookie(request, SESSION_COOKIE_NAME);\r\n\t\t\t\tSecurityWrapperResponse\r\n\t\t\t\t\t\tsecurityWrapperResponse = new SecurityWrapperResponse(response, &quot;sanitize&quot;);\r\n\t\t\t\tString contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\r\n\t\t\t\tESAPI.httpUtilities().setHeader(&quot;Set-Cookie&quot;, jsessionCookie.getName() + &quot;=&quot; + jsessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\r\n\t\t\t\tfilterChain.doFilter(request, response);\r\n    .\r\n    .\r\n    .\r\n}\r\n\r\n```\r\n\r\nWhen navigating to the 3rd page in the app I get the error: \r\n**net::ERR_INCOMPLETE_CHUNKED_ENCODING 200**\r\nThis only started happening after I setHeader with the code above. Any ideas would be much appreciated!\r\n\r\nThanks","title":"How to fix net::ERR_INCOMPLETE_CHUNKED_ENCODING 200 java web app?","body":"<p>I am working on a java web app and I am setting the <strong>jsessionid</strong> attributes: HttpOnly, Secure and SameSite in the doFilter() method of InitSession class. I have this set as such:</p>\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain filterChain) throws IOException, ServletException {\n\n    Cookie jsessionCookie = RequestHelper.getCookie(request, SESSION_COOKIE_NAME);\n                SecurityWrapperResponse\n                        securityWrapperResponse = new SecurityWrapperResponse(response, &quot;sanitize&quot;);\n                String contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\n                ESAPI.httpUtilities().setHeader(&quot;Set-Cookie&quot;, jsessionCookie.getName() + &quot;=&quot; + jsessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\n                filterChain.doFilter(request, response);\n    .\n    .\n    .\n}\n\n</code></pre>\n<p>When navigating to the 3rd page in the app I get the error:\n<strong>net::ERR_INCOMPLETE_CHUNKED_ENCODING 200</strong>\nThis only started happening after I setHeader with the code above. Any ideas would be much appreciated!</p>\n<p>Thanks</p>\n"},{"tags":["java","caching","ehcache"],"comments":[{"owner":{"account_id":12679757,"reputation":739,"user_id":9213957,"display_name":"Soheil Rahsaz"},"score":0,"creation_date":1635686662,"post_id":63872971,"comment_id":123356868,"body_markdown":"Make sure you have the latest EhCache jar files in your project","body":"Make sure you have the latest EhCache jar files in your project"}],"answers":[{"tags":[],"owner":{"account_id":25127216,"reputation":1,"user_id":18974878,"display_name":"tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651145006,"creation_date":1651145006,"answer_id":72042804,"question_id":63872971,"body_markdown":"In my case, there are multiple EhCache imported by different modules.After useing the same version of EhCache. The problem solved.","title":"DependencyException: Failed to find provider with satisfied dependency set for interface org.ehcache.core.spi.store.Store","body":"<p>In my case, there are multiple EhCache imported by different modules.After useing the same version of EhCache. The problem solved.</p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1651145006,"creation_date":1600014161,"question_id":63872971,"body_markdown":"I have an app that uses EHCache, it worked when using *Payara Application server* version `1.0.5` but after upgrading to `1.1.0` it started breaking. \r\n\r\nHere&#39;s a snippet of the code:\r\n\r\n    persistentEntityStoreCacheManager \r\n        = CacheManagerBuilder.newCacheManagerBuilder().withCache(&quot;defaultPersistentEntityStoreCache&quot;,\r\n                          CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, PersistentEntityStore.class, ResourcePoolsBuilder.heap(100)).build()).build(true);\r\n\r\nAnd it is throwing this error:\r\n\r\n    java.lang.IllegalStateException: org.ehcache.core.spi.ServiceLocator$DependencyException: Failed to find provider with satisfied dependency set for interface org.ehcache.core.spi.store.Store$Provider [ca\r\n    ndidates []]\r\n            at org.ehcache.core.spi.ServiceLocator$DependencySet.build(ServiceLocator.java:350)\r\n            at org.ehcache.core.EhcacheManager.resolveServices(EhcacheManager.java:154)\r\n            at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:125)\r\n            at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:115)\r\n            at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:111)\r\n            at org.ehcache.config.builders.CacheManagerBuilder.newCacheManager(CacheManagerBuilder.java:117)\r\n            at org.ehcache.config.builders.CacheManagerBuilder.build(CacheManagerBuilder.java:73)\r\n\r\n\r\nWhat&#39;s this EHCache and and what could be missing here? \r\n","title":"DependencyException: Failed to find provider with satisfied dependency set for interface org.ehcache.core.spi.store.Store","body":"<p>I have an app that uses EHCache, it worked when using <em>Payara Application server</em> version <code>1.0.5</code> but after upgrading to <code>1.1.0</code> it started breaking.</p>\n<p>Here's a snippet of the code:</p>\n<pre><code>persistentEntityStoreCacheManager \n    = CacheManagerBuilder.newCacheManagerBuilder().withCache(&quot;defaultPersistentEntityStoreCache&quot;,\n                      CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, PersistentEntityStore.class, ResourcePoolsBuilder.heap(100)).build()).build(true);\n</code></pre>\n<p>And it is throwing this error:</p>\n<pre><code>java.lang.IllegalStateException: org.ehcache.core.spi.ServiceLocator$DependencyException: Failed to find provider with satisfied dependency set for interface org.ehcache.core.spi.store.Store$Provider [ca\nndidates []]\n        at org.ehcache.core.spi.ServiceLocator$DependencySet.build(ServiceLocator.java:350)\n        at org.ehcache.core.EhcacheManager.resolveServices(EhcacheManager.java:154)\n        at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:125)\n        at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:115)\n        at org.ehcache.core.EhcacheManager.&lt;init&gt;(EhcacheManager.java:111)\n        at org.ehcache.config.builders.CacheManagerBuilder.newCacheManager(CacheManagerBuilder.java:117)\n        at org.ehcache.config.builders.CacheManagerBuilder.build(CacheManagerBuilder.java:73)\n</code></pre>\n<p>What's this EHCache and and what could be missing here?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11229262,"reputation":46,"user_id":8237887,"display_name":"Vinal Lathiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651061898,"creation_date":1651055664,"answer_id":72027275,"question_id":72018822,"body_markdown":"follow this code snippet.\r\n\r\n      WebSettings webSettings = webView.getSettings();\r\n      webSettings.setJavaScriptEnabled(true);\r\n      webView.addJavascriptInterface(new WebAppInterface(), &quot;Android&quot;);\r\n      webView.setWebViewClient(new WebViewClient());\r\n      webView.loadDataWithBaseURL(null, YOUR_URL, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n\r\nhere, webView will be replaced with your view object. \r\n\r\nNote: addJavascriptInterface is optional. It will be used in the case when you want a callback from webChromeClient. also, for more details about addJavascriptInterface, you can refer to https://stackoverflow.com/a/11572941/8237887 ","title":"Webview don&#39;t load page","body":"<p>follow this code snippet.</p>\n<pre><code>  WebSettings webSettings = webView.getSettings();\n  webSettings.setJavaScriptEnabled(true);\n  webView.addJavascriptInterface(new WebAppInterface(), &quot;Android&quot;);\n  webView.setWebViewClient(new WebViewClient());\n  webView.loadDataWithBaseURL(null, YOUR_URL, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n</code></pre>\n<p>here, webView will be replaced with your view object.</p>\n<p>Note: addJavascriptInterface is optional. It will be used in the case when you want a callback from webChromeClient. also, for more details about addJavascriptInterface, you can refer to <a href=\"https://stackoverflow.com/a/11572941/8237887\">https://stackoverflow.com/a/11572941/8237887</a></p>\n"}],"owner":{"account_id":20634358,"reputation":55,"user_id":15148439,"display_name":"igaro4ak337"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651144360,"creation_date":1650997598,"question_id":72018822,"body_markdown":"I trying add webview in `fragment1.java`. The problem is the code runs but for every website it shows me a white screen, no crashing or error messages. This how it looks before add WebView:\r\n\r\n    package com.example.bottomnavigationview;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    public class Fragment1 extends Fragment {\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment1,container,false);\r\n            return rootView;\r\n        }\r\n    \r\n    }\r\n\r\nAnd after:\r\n\r\n    package com.example.bottomnavigationview;\r\n    \r\n    import android.app.AlertDialog;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n    \r\n    public class Fragment1 extends Fragment {\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment1,container,false);\r\n            return rootView;\r\n        }\r\n    \r\n        public class MainActivity extends AppCompatActivity {\r\n            String websiteURL = &quot;https://www.example.com&quot;; // sets web url\r\n            private WebView webview;\r\n            SwipeRefreshLayout mySwipeRefreshLayout;\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n    \r\n                if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\r\n                {\r\n                    //if there is no internet do this\r\n                    setContentView(R.layout.activity_main);\r\n                    //Toast.makeText(this,&quot;No Internet Connection, Chris&quot;,Toast.LENGTH_LONG).show();\r\n    \r\n                    new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                            .setTitle(&quot;No internet connection available&quot;)\r\n                            .setMessage(&quot;Please Check you&#39;re Mobile data or Wifi network.&quot;)\r\n                            .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    finish();\r\n                                }\r\n                            })\r\n                            //.setNegativeButton(&quot;No&quot;, null)\r\n                            .show();\r\n    \r\n                }\r\n                else\r\n                {\r\n    \r\n                    //Webview stuff\r\n                    webview = findViewById(R.id.webView);\r\n                    webview.getSettings().setJavaScriptEnabled(true);\r\n                    webview.getSettings().setDomStorageEnabled(true);\r\n                    webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n                    webview.loadUrl(websiteURL);\r\n                    webview.setWebViewClient(new WebViewClientDemo());\r\n    \r\n                }\r\n    \r\n                //Swipe to refresh functionality\r\n                mySwipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipeContainer);\r\n    \r\n                mySwipeRefreshLayout.setOnRefreshListener(\r\n                        new SwipeRefreshLayout.OnRefreshListener() {\r\n                            @Override\r\n                            public void onRefresh() {\r\n                                webview.reload();\r\n                            }\r\n                        }\r\n    \r\n                );\r\n    \r\n            }\r\n    \r\n            private class WebViewClientDemo extends WebViewClient {\r\n                @Override\r\n                //Keep webview in app when clicking links\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    view.loadUrl(url);\r\n                    return true;\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    mySwipeRefreshLayout.setRefreshing(false);\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n            //set back button functionality\r\n            @Override\r\n            public void onBackPressed() { //if user presses the back button do this\r\n                if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\r\n                    webview.goBack(); //go back in webview\r\n                } else { //do this if the webview cannot go back any further\r\n                    new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                            .setTitle(&quot;EXIT&quot;)\r\n                            .setMessage(&quot;Are you sure. You want to close this app?&quot;)\r\n                            .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    finish();\r\n                                }\r\n                            })\r\n                            .setNegativeButton(&quot;No&quot;, null)\r\n                            .show();\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        class CheckNetwork {\r\n    \r\n            private static final String TAG = CheckNetwork.class.getSimpleName();\r\n    \r\n            public static boolean isInternetAvailable(Context context)\r\n    \r\n            {\r\n                NetworkInfo info = (NetworkInfo) ((ConnectivityManager)\r\n    \r\n                        context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\r\n    \r\n                if (info == null)\r\n    \r\n                {\r\n                    Log.d(TAG,&quot;no internet connection&quot;);\r\n    \r\n                    return false;\r\n    \r\n                }\r\n                else\r\n                {\r\n    \r\n                    if(info.isConnected())\r\n    \r\n                    {\r\n    \r\n                        Log.d(TAG,&quot; internet connection available...&quot;);\r\n    \r\n                        return true;\r\n    \r\n                    }\r\n    \r\n                    else\r\n    \r\n                    {\r\n    \r\n                        Log.d(TAG,&quot; internet connection&quot;);\r\n    \r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n    \r\n    }\r\n\r\n\r\nI think it needs to be put in some other way. Can somebody help? Because page in app don&#39;t downloading.***************************************************************************                                                                                                                     \r\n                                                                                                            ","title":"Webview don&#39;t load page","body":"<p>I trying add webview in <code>fragment1.java</code>. The problem is the code runs but for every website it shows me a white screen, no crashing or error messages. This how it looks before add WebView:</p>\n<pre><code>package com.example.bottomnavigationview;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class Fragment1 extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment1,container,false);\n        return rootView;\n    }\n\n}\n</code></pre>\n<p>And after:</p>\n<pre><code>package com.example.bottomnavigationview;\n\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\n\npublic class Fragment1 extends Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment1,container,false);\n        return rootView;\n    }\n\n    public class MainActivity extends AppCompatActivity {\n        String websiteURL = &quot;https://www.example.com&quot;; // sets web url\n        private WebView webview;\n        SwipeRefreshLayout mySwipeRefreshLayout;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\n            {\n                //if there is no internet do this\n                setContentView(R.layout.activity_main);\n                //Toast.makeText(this,&quot;No Internet Connection, Chris&quot;,Toast.LENGTH_LONG).show();\n\n                new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                        .setTitle(&quot;No internet connection available&quot;)\n                        .setMessage(&quot;Please Check you're Mobile data or Wifi network.&quot;)\n                        .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                finish();\n                            }\n                        })\n                        //.setNegativeButton(&quot;No&quot;, null)\n                        .show();\n\n            }\n            else\n            {\n\n                //Webview stuff\n                webview = findViewById(R.id.webView);\n                webview.getSettings().setJavaScriptEnabled(true);\n                webview.getSettings().setDomStorageEnabled(true);\n                webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n                webview.loadUrl(websiteURL);\n                webview.setWebViewClient(new WebViewClientDemo());\n\n            }\n\n            //Swipe to refresh functionality\n            mySwipeRefreshLayout = (SwipeRefreshLayout)this.findViewById(R.id.swipeContainer);\n\n            mySwipeRefreshLayout.setOnRefreshListener(\n                    new SwipeRefreshLayout.OnRefreshListener() {\n                        @Override\n                        public void onRefresh() {\n                            webview.reload();\n                        }\n                    }\n\n            );\n\n        }\n\n        private class WebViewClientDemo extends WebViewClient {\n            @Override\n            //Keep webview in app when clicking links\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                view.loadUrl(url);\n                return true;\n\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                mySwipeRefreshLayout.setRefreshing(false);\n\n            }\n\n        }\n\n        //set back button functionality\n        @Override\n        public void onBackPressed() { //if user presses the back button do this\n            if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\n                webview.goBack(); //go back in webview\n            } else { //do this if the webview cannot go back any further\n                new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                        .setTitle(&quot;EXIT&quot;)\n                        .setMessage(&quot;Are you sure. You want to close this app?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                finish();\n                            }\n                        })\n                        .setNegativeButton(&quot;No&quot;, null)\n                        .show();\n            }\n\n        }\n\n    }\n\n    class CheckNetwork {\n\n        private static final String TAG = CheckNetwork.class.getSimpleName();\n\n        public static boolean isInternetAvailable(Context context)\n\n        {\n            NetworkInfo info = (NetworkInfo) ((ConnectivityManager)\n\n                    context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\n\n            if (info == null)\n\n            {\n                Log.d(TAG,&quot;no internet connection&quot;);\n\n                return false;\n\n            }\n            else\n            {\n\n                if(info.isConnected())\n\n                {\n\n                    Log.d(TAG,&quot; internet connection available...&quot;);\n\n                    return true;\n\n                }\n\n                else\n\n                {\n\n                    Log.d(TAG,&quot; internet connection&quot;);\n\n                    return true;\n                }\n            }\n        }\n\n}\n</code></pre>\n<p>I think it needs to be put in some other way. Can somebody help? Because page in app don't downloading.***************************************************************************</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1651049200,"post_id":72025010,"comment_id":127267208,"body_markdown":"What does the effective POM say? I guess that profiles cannot be &quot;amended&quot; in the way you try to do it.","body":"What does the effective POM say? I guess that profiles cannot be &quot;amended&quot; in the way you try to do it."},{"owner":{"account_id":169673,"reputation":3150,"user_id":395879,"accept_rate":82,"display_name":"fishbone"},"score":0,"creation_date":1651126136,"post_id":72025010,"comment_id":127289467,"body_markdown":"The effective POM contains the local profile section with its dependecies as defined in in the child pom.xml","body":"The effective POM contains the local profile section with its dependecies as defined in in the child pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651144269,"creation_date":1651144269,"answer_id":72042649,"question_id":72025010,"body_markdown":"It is likely that profiles are not merged with the one in the parent, but that a profile with the same name completely overrides the profile from the parent.\r\n\r\nSo your construction will probably not work.","title":"Inheriting Maven profiles and activation","body":"<p>It is likely that profiles are not merged with the one in the parent, but that a profile with the same name completely overrides the profile from the parent.</p>\n<p>So your construction will probably not work.</p>\n"}],"owner":{"account_id":169673,"reputation":3150,"user_id":395879,"accept_rate":82,"display_name":"fishbone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651144269,"creation_date":1651045297,"question_id":72025010,"body_markdown":"My maven project defines a profile with activation condition and has a child module. The activation condition of the parent project is ignored and I have to copy it to the child.\r\n\r\nParent:\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;container&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;spring.profiles.active&lt;/name&gt;\r\n                    &lt;value&gt;local&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nChild:\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n\r\n            &lt;!-- Remove comments and it will work: --&gt;\r\n            &lt;!--\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;spring.profiles.active&lt;/name&gt;\r\n                    &lt;value&gt;local&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            --&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;!-- (...) ---&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nThen I run\r\n```\r\nmvn package -Dspring.profiles.active=local -P !container\r\n```\r\nand the dependecies of profile &quot;local&quot; are missing in the artifacts. If I remove the comments around the activation, the dependencies are available. The result equal when I run `mvn package` from the parent and from the child project&#39;s directory.\r\n\r\nStrange thing is that `help:active-profiles` says the profile is avaiable if the activation is commented out in the child, as expected:\r\n```\r\nC:\\myproject&gt; cd child\r\nC:\\myproject\\child&gt; mvn help:active-profiles -Dspring.profiles.active=local -P !container\r\n\r\n(...)\r\n\r\nThe following profiles are active:\r\n\r\n - local (source: org.example:myproject:1.0.0-SNAPSHOT)\r\n```\r\n\r\nWhat is wrong here?","title":"Inheriting Maven profiles and activation","body":"<p>My maven project defines a profile with activation condition and has a child module. The activation condition of the parent project is ignored and I have to copy it to the child.</p>\n<p>Parent:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;container&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;spring.profiles.active&lt;/name&gt;\n                    &lt;value&gt;local&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Child:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n\n            &lt;!-- Remove comments and it will work: --&gt;\n            &lt;!--\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;spring.profiles.active&lt;/name&gt;\n                    &lt;value&gt;local&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            --&gt;\n\n            &lt;dependencies&gt;\n                &lt;!-- (...) ---&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Then I run</p>\n<pre><code>mvn package -Dspring.profiles.active=local -P !container\n</code></pre>\n<p>and the dependecies of profile &quot;local&quot; are missing in the artifacts. If I remove the comments around the activation, the dependencies are available. The result equal when I run <code>mvn package</code> from the parent and from the child project's directory.</p>\n<p>Strange thing is that <code>help:active-profiles</code> says the profile is avaiable if the activation is commented out in the child, as expected:</p>\n<pre><code>C:\\myproject&gt; cd child\nC:\\myproject\\child&gt; mvn help:active-profiles -Dspring.profiles.active=local -P !container\n\n(...)\n\nThe following profiles are active:\n\n - local (source: org.example:myproject:1.0.0-SNAPSHOT)\n</code></pre>\n<p>What is wrong here?</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":20757795,"reputation":134,"user_id":15243804,"display_name":"cooleee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651116099,"creation_date":1651116099,"answer_id":72037650,"question_id":72037518,"body_markdown":"You can use normal `for-loops`, i.e.\r\n\r\n    int getIndexOfLastStringStartingWith2(List&lt;String&gt; list) {\r\n       for (int i = list.size() - 1; i &gt; 0; i--) {\r\n          if (list.get(i).startsWith(&quot;2&quot;)) {\r\n            return i;\r\n          }\r\n       }\r\n\r\n      return -1; \r\n    }\r\n\r\nThis will return the index of the last string in the list starting with `2`. ","title":"Find the position of lastIndexOf a List that start with a certain character in kotlin/Java","body":"<p>You can use normal <code>for-loops</code>, i.e.</p>\n<pre><code>int getIndexOfLastStringStartingWith2(List&lt;String&gt; list) {\n   for (int i = list.size() - 1; i &gt; 0; i--) {\n      if (list.get(i).startsWith(&quot;2&quot;)) {\n        return i;\n      }\n   }\n\n  return -1; \n}\n</code></pre>\n<p>This will return the index of the last string in the list starting with <code>2</code>.</p>\n"},{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651144019,"creation_date":1651135005,"answer_id":72040495,"question_id":72037518,"body_markdown":"To find the last matching index of an item for any condition, use `indexOfLast` extension function of the list.\r\n\r\n    list_b.indexOfLast {\r\n        it.startsWith(&quot;2&quot;)\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nTo find the last item in the list, a more idiomatic approach would be to use methods provided by Kotlin, rather than making a new method. \r\n\r\n    list_b.findLast {\r\n        it.startsWith(&quot;2&quot;)\r\n    }\r\n\r\nThis would return the last item that starts with `2` or null if it&#39;s not in the list. If you don&#39;t want it to return `null`, you can use the `Elvis` operator.\r\n\r\n    list_b.findLast {\r\n        it.startsWith(&quot;2&quot;)\r\n    } ?: &quot;&quot;\r\n    \r\nThis would return an empty `string` if no item is found.","title":"Find the position of lastIndexOf a List that start with a certain character in kotlin/Java","body":"<p>To find the last matching index of an item for any condition, use <code>indexOfLast</code> extension function of the list.</p>\n<pre><code>list_b.indexOfLast {\n    it.startsWith(&quot;2&quot;)\n}\n</code></pre>\n<hr />\n<p>To find the last item in the list, a more idiomatic approach would be to use methods provided by Kotlin, rather than making a new method.</p>\n<pre><code>list_b.findLast {\n    it.startsWith(&quot;2&quot;)\n}\n</code></pre>\n<p>This would return the last item that starts with <code>2</code> or null if it's not in the list. If you don't want it to return <code>null</code>, you can use the <code>Elvis</code> operator.</p>\n<pre><code>list_b.findLast {\n    it.startsWith(&quot;2&quot;)\n} ?: &quot;&quot;\n</code></pre>\n<p>This would return an empty <code>string</code> if no item is found.</p>\n"},{"tags":[],"owner":{"account_id":21029358,"reputation":77,"user_id":15454090,"display_name":"skorpilvaclav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651138967,"creation_date":1651138967,"answer_id":72041456,"question_id":72037518,"body_markdown":"In Kotlin u can use `indexOfLast` function which returns index of the last element matching the given predicate, or -1 if the array does not contain such element.\r\n\r\n\r\n    list.indexOfLast {  \r\n      it.startsWith(&quot;2&quot;)\r\n    }","title":"Find the position of lastIndexOf a List that start with a certain character in kotlin/Java","body":"<p>In Kotlin u can use <code>indexOfLast</code> function which returns index of the last element matching the given predicate, or -1 if the array does not contain such element.</p>\n<pre><code>list.indexOfLast {  \n  it.startsWith(&quot;2&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":7177135,"reputation":588,"user_id":5482619,"accept_rate":87,"display_name":"Simon Ho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72037650,"answer_count":3,"score":0,"last_activity_date":1651144019,"creation_date":1651114851,"question_id":72037518,"body_markdown":"    var list_a = listOf(&quot;00:00&quot;,  &quot;09:00&quot;, &quot;20:00&quot;, &quot;23:00&quot;, &quot;01:00&quot;, &quot;03:00&quot;) \r\n    \r\n    // i want to return the position of &quot;23:00&quot; in list_a\r\n    \r\n    var list_b = listOf(&quot;00:10&quot;,  &quot;00:30&quot;, &quot;09:00&quot;, &quot;21:10&quot;) \r\n    \r\n    // i want to return the position of &quot;21:10&quot; in list_b\r\n\r\n\r\nHow do I write a function to get the position of starting with 2X:XX?\r\n\r\nHow can I mix `lastIndexOf()` and `startsWith()`?","title":"Find the position of lastIndexOf a List that start with a certain character in kotlin/Java","body":"<pre><code>var list_a = listOf(&quot;00:00&quot;,  &quot;09:00&quot;, &quot;20:00&quot;, &quot;23:00&quot;, &quot;01:00&quot;, &quot;03:00&quot;) \n\n// i want to return the position of &quot;23:00&quot; in list_a\n\nvar list_b = listOf(&quot;00:10&quot;,  &quot;00:30&quot;, &quot;09:00&quot;, &quot;21:10&quot;) \n\n// i want to return the position of &quot;21:10&quot; in list_b\n</code></pre>\n<p>How do I write a function to get the position of starting with 2X:XX?</p>\n<p>How can I mix <code>lastIndexOf()</code> and <code>startsWith()</code>?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":26496,"reputation":27876,"user_id":68972,"accept_rate":93,"display_name":"Jcl"},"score":0,"creation_date":1651143245,"post_id":72042310,"comment_id":127295753,"body_markdown":"I don&#39;t know the answer to your question because I don&#39;t use Spring (or Java), but in my experience, unless you are going with a &quot;by-the-book&quot; REST API, I&#39;d rather return 200 on the http status code and whatever error code inside the object: that way you can distinguish that &quot;at least the error is coming from your API&quot; (this is controversial, but many big names do it like that on their web APIs)","body":"I don&#39;t know the answer to your question because I don&#39;t use Spring (or Java), but in my experience, unless you are going with a &quot;by-the-book&quot; REST API, I&#39;d rather return 200 on the http status code and whatever error code inside the object: that way you can distinguish that &quot;at least the error is coming from your API&quot; (this is controversial, but many big names do it like that on their web APIs)"},{"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"score":0,"creation_date":1651143819,"post_id":72042310,"comment_id":127295997,"body_markdown":"@Jcl, With this approach, I find it a bit unintuitive to be checking for status code and this response code on the UI. Is that a standard practice?","body":"@Jcl, With this approach, I find it a bit unintuitive to be checking for status code and this response code on the UI. Is that a standard practice?"},{"owner":{"account_id":26496,"reputation":27876,"user_id":68972,"accept_rate":93,"display_name":"Jcl"},"score":2,"creation_date":1651144038,"post_id":72042310,"comment_id":127296072,"body_markdown":"not really &quot;standard&quot;, although some do (I belive for example Facebook Graph API always returns 200, you check error codes in the payload, not in http)...  I&#39;ve had problems where the infrastructure in the middle of my API (load balancers, reverse proxies, etc.) could give error codes and I couldn&#39;t know if they came from my API or not, specially for http status codes that don&#39;t include a payload... for example, a 404: does it come from my API not finding my resource or the reverse proxy not finding my API? I ended up using 200 for anything on my API and checking errors on the payload","body":"not really &quot;standard&quot;, although some do (I belive for example Facebook Graph API always returns 200, you check error codes in the payload, not in http)...  I&#39;ve had problems where the infrastructure in the middle of my API (load balancers, reverse proxies, etc.) could give error codes and I couldn&#39;t know if they came from my API or not, specially for http status codes that don&#39;t include a payload... for example, a 404: does it come from my API not finding my resource or the reverse proxy not finding my API? I ended up using 200 for anything on my API and checking errors on the payload"},{"owner":{"account_id":26496,"reputation":27876,"user_id":68972,"accept_rate":93,"display_name":"Jcl"},"score":1,"creation_date":1651160559,"post_id":72042310,"comment_id":127302975,"body_markdown":"Btw, that has the benefit of also not restricting yourself to standard http-status codes (which are limited and not always very clear)... there are however instances where browser-recognized http status codes are unavoidable (for example, 304 for `If-None-Match` cache hits if you want the browser to load the cached data, etc.), but apart from those","body":"Btw, that has the benefit of also not restricting yourself to standard http-status codes (which are limited and not always very clear)... there are however instances where browser-recognized http status codes are unavoidable (for example, 304 for <code>If-None-Match</code> cache hits if you want the browser to load the cached data, etc.), but apart from those"}],"answers":[{"tags":[],"owner":{"account_id":14330558,"reputation":89,"user_id":10351393,"display_name":"Anubhav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651143979,"creation_date":1651143979,"answer_id":72042591,"question_id":72042310,"body_markdown":"Why you are not using Spring&#39;s inbuilt class `ResponseEntity` like below\r\n\r\n    @PostMapping\r\n    @ApiOperation(value = &quot;Register&quot;, notes = &quot;Register&quot;)\r\n    public ResponseEntity&lt;Object&gt; register(@RequestBody DTO request) {\r\n        try {\r\n            return new ResponseEntity&lt;Object&gt;(Service.create(request),HttpStatus.CREATED);\r\n        } catch (ImproperDataException e) {\r\n            return new ResponseEntity&lt;Object&gt;(Arrays.asList(e.getMessage()),HttpStatus.BAD_REQUEST);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;Object&gt;(Arrays.asList(e.getMessage()),HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }","title":"Recommended way of sending response object in body for errors","body":"<p>Why you are not using Spring's inbuilt class <code>ResponseEntity</code> like below</p>\n<pre><code>@PostMapping\n@ApiOperation(value = &quot;Register&quot;, notes = &quot;Register&quot;)\npublic ResponseEntity&lt;Object&gt; register(@RequestBody DTO request) {\n    try {\n        return new ResponseEntity&lt;Object&gt;(Service.create(request),HttpStatus.CREATED);\n    } catch (ImproperDataException e) {\n        return new ResponseEntity&lt;Object&gt;(Arrays.asList(e.getMessage()),HttpStatus.BAD_REQUEST);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;Object&gt;(Arrays.asList(e.getMessage()),HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651143979,"creation_date":1651142787,"question_id":72042310,"body_markdown":"I have a Custom response class \r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n@Getter @Setter @ToString @Builder @AllArgsConstructor @NoArgsConstructor\r\npublic class WrapperRestResponse {\r\n\r\n    @ApiModelProperty(name=&quot;responseCode&quot;,notes = &quot;http status response codes&quot;)\r\n    private Integer responseCode;\r\n    @ApiModelProperty(name=&quot;status&quot;,notes = &quot;Success|Failure&quot;)\r\n    private String status;\r\n    @ApiModelProperty(name=&quot;errors&quot;,notes = &quot;In case of Failure, it will contains error messages&quot;)\r\n    private List&lt;String&gt; errors;\r\n    @ApiModelProperty(name=&quot;body&quot;,notes = &quot;In case of Success, it will return object&quot;)\r\n    private Object body;\r\n}\r\n```\r\nA Util function for errors that uses this response class:\r\n```java\r\npublic static WrapperRestResponse getErrorResponse(HttpStatus statusCode, String ... errors){\r\n        return WrapperRestResponse.builder()\r\n                .status(WrapperConstant.FAILURE)\r\n                .responseCode(statusCode.value())\r\n                .errors(Arrays.asList(errors))\r\n                .build();\r\n    }\r\n```\r\nAnd my controller sends response like this:\r\n```java\r\n@PostMapping\r\n@ApiOperation(value = &quot;Register&quot;, notes = &quot;Register&quot;)\r\npublic WrapperRestResponse register(@RequestBody DTO request) {\r\n        try {\r\n            return Util.getSuccessResponse(HttpStatus.CREATED, Service.create(request));\r\n        } catch (ImproperDataException e) {\r\n           return Util.getErrorResponse(HttpStatus.BAD_REQUEST, e.getMessage());\r\n        } catch (Exception e) {\r\n            return Util.getErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\r\n        }\r\n    }\r\n```\r\n**The problem:** \r\nWhen the code raises a bad request error response, the status code is still 200. The response looks like the following ( NOTE: responseCode is 400 but statusCode is 200:\r\n```\r\n{\r\n    &quot;text&quot;: &quot;{\\&quot;responseCode\\&quot;:400,\\&quot;status\\&quot;:\\&quot;Failure\\&quot;,\\&quot;errors\\&quot;:[\\&quot;The following need to be registered before logging usage against them:[data1]\\&quot;]}&quot;,\r\n    &quot;statusText&quot;: &quot;OK&quot;,\r\n    &quot;statusCode&quot;: 200,\r\n    &quot;status&quot;: 200,\r\n    &quot;statusType&quot;: 2,\r\n    \r\n    \r\n    &quot;type&quot;: &quot;application/json&quot;,\r\n    &quot;charset&quot;: &quot;utf-8&quot;,\r\n    &quot;links&quot;: {},\r\n    &quot;body&quot;: {\r\n        &quot;responseCode&quot;: 400,\r\n        &quot;status&quot;: &quot;Failure&quot;,\r\n        &quot;errors&quot;: [\r\n            &quot;The following need to be registered before logging usage against them:[data1]&quot;\r\n        ]\r\n    }\r\n}\r\n```\r\nWhat would be an elegant Spring way to handle such exceptions and match the `statusCode` and `responseCode`?","title":"Recommended way of sending response object in body for errors","body":"<p>I have a Custom response class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@Getter @Setter @ToString @Builder @AllArgsConstructor @NoArgsConstructor\npublic class WrapperRestResponse {\n\n    @ApiModelProperty(name=&quot;responseCode&quot;,notes = &quot;http status response codes&quot;)\n    private Integer responseCode;\n    @ApiModelProperty(name=&quot;status&quot;,notes = &quot;Success|Failure&quot;)\n    private String status;\n    @ApiModelProperty(name=&quot;errors&quot;,notes = &quot;In case of Failure, it will contains error messages&quot;)\n    private List&lt;String&gt; errors;\n    @ApiModelProperty(name=&quot;body&quot;,notes = &quot;In case of Success, it will return object&quot;)\n    private Object body;\n}\n</code></pre>\n<p>A Util function for errors that uses this response class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static WrapperRestResponse getErrorResponse(HttpStatus statusCode, String ... errors){\n        return WrapperRestResponse.builder()\n                .status(WrapperConstant.FAILURE)\n                .responseCode(statusCode.value())\n                .errors(Arrays.asList(errors))\n                .build();\n    }\n</code></pre>\n<p>And my controller sends response like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@ApiOperation(value = &quot;Register&quot;, notes = &quot;Register&quot;)\npublic WrapperRestResponse register(@RequestBody DTO request) {\n        try {\n            return Util.getSuccessResponse(HttpStatus.CREATED, Service.create(request));\n        } catch (ImproperDataException e) {\n           return Util.getErrorResponse(HttpStatus.BAD_REQUEST, e.getMessage());\n        } catch (Exception e) {\n            return Util.getErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>The problem:</strong>\nWhen the code raises a bad request error response, the status code is still 200. The response looks like the following ( NOTE: responseCode is 400 but statusCode is 200:</p>\n<pre><code>{\n    &quot;text&quot;: &quot;{\\&quot;responseCode\\&quot;:400,\\&quot;status\\&quot;:\\&quot;Failure\\&quot;,\\&quot;errors\\&quot;:[\\&quot;The following need to be registered before logging usage against them:[data1]\\&quot;]}&quot;,\n    &quot;statusText&quot;: &quot;OK&quot;,\n    &quot;statusCode&quot;: 200,\n    &quot;status&quot;: 200,\n    &quot;statusType&quot;: 2,\n    \n    \n    &quot;type&quot;: &quot;application/json&quot;,\n    &quot;charset&quot;: &quot;utf-8&quot;,\n    &quot;links&quot;: {},\n    &quot;body&quot;: {\n        &quot;responseCode&quot;: 400,\n        &quot;status&quot;: &quot;Failure&quot;,\n        &quot;errors&quot;: [\n            &quot;The following need to be registered before logging usage against them:[data1]&quot;\n        ]\n    }\n}\n</code></pre>\n<p>What would be an elegant Spring way to handle such exceptions and match the <code>statusCode</code> and <code>responseCode</code>?</p>\n"},{"tags":["java","android","react-native","opencv"],"comments":[{"owner":{"account_id":5457822,"reputation":515,"user_id":4340733,"accept_rate":100,"display_name":"Valentin Blokhin"},"score":0,"creation_date":1596268513,"post_id":62623994,"comment_id":111762830,"body_markdown":"I&#39;m having the same issue, regardless I call it inside java or jni layer. Did you find the solution?","body":"I&#39;m having the same issue, regardless I call it inside java or jni layer. Did you find the solution?"},{"owner":{"account_id":7712579,"reputation":73,"user_id":5841420,"display_name":"7tupel"},"score":0,"creation_date":1596552707,"post_id":62623994,"comment_id":111844220,"body_markdown":"Unfortunately not. The only solution was to step back to OpenCV 3.4.10","body":"Unfortunately not. The only solution was to step back to OpenCV 3.4.10"}],"answers":[{"tags":[],"owner":{"account_id":17653718,"reputation":98,"user_id":12813726,"display_name":"Angel Jerry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593439576,"creation_date":1593439576,"answer_id":62639932,"question_id":62623994,"body_markdown":"At last time, I faced this problem, so I chose Open CV API instead of this.\r\nI hope this help you a bit.","title":"OpenCV Android React Native unknown exception on some functions in imgproc module","body":"<p>At last time, I faced this problem, so I chose Open CV API instead of this.\nI hope this help you a bit.</p>\n"},{"tags":[],"owner":{"account_id":19126013,"reputation":1,"user_id":13968979,"display_name":"Canberk Atbinici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651143713,"creation_date":1651143713,"answer_id":72042525,"question_id":62623994,"body_markdown":"I have been working without error on opencv 4.5.2, android and react native. Than i have tried another project with same opencv version but I got same error as you mentioned. Than i realized differences between gradle version. So, i upgraded gradle version from &quot;com.android.tools.build:gradle:3.5.2&quot; to &quot;com.android.tools.build:gradle:4.2.2&quot; in app gradle.build file. Than problem solved.\r\nLong story short, update gradle version.\r\n\r\nI hope that helps you too.","title":"OpenCV Android React Native unknown exception on some functions in imgproc module","body":"<p>I have been working without error on opencv 4.5.2, android and react native. Than i have tried another project with same opencv version but I got same error as you mentioned. Than i realized differences between gradle version. So, i upgraded gradle version from &quot;com.android.tools.build:gradle:3.5.2&quot; to &quot;com.android.tools.build:gradle:4.2.2&quot; in app gradle.build file. Than problem solved.\nLong story short, update gradle version.</p>\n<p>I hope that helps you too.</p>\n"}],"owner":{"account_id":7712579,"reputation":73,"user_id":5841420,"display_name":"7tupel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651143713,"creation_date":1593355097,"question_id":62623994,"body_markdown":"I&#39;m trying to use OpenCV in an mobile app written with React Native. For now i only focus on the Android part. I use the official OpenCV for Android release. I did add the sdk, modified my `MainApplication.java` and wrote some wrapping methods that can be called from React Native. So far this compiles and works as expected.\r\n\r\nNow the problem is that if get an `unknown exception` from some OpenCV functions, others work fine. E.g. when I call the `blur()`, `medianBlur()` or `warpAffine()` functions from the `Imgproc` module everything is well. When i try to call e.g. the `gaussianBlur()` or `Canny()` functions i get an `unknown exception` thrown from OpenCV.\r\n\r\nI really have no idea what the problem is. The sdk seems to be linked correctly as i can booth compile the app and run several functions.\r\n\r\nMy Setup:\r\n* Development on Arch Linux\r\n* OpenCV 4.3.0 for Android\r\n* React Native 0.62.2\r\n* Compiled with gradle/react-native from terminal\r\n* Android 10\r\n\r\n\r\nExample error when i try to run the `Canny()` function:\r\n\r\n```\r\norg.opencv.imgproc: imgproc::Canny_12() caught unknown exception\r\nunknown exception\r\njava.lang.Exception: unknown exception\r\n    at org.opencv.imgproc.Imgproc.Canny_2(Native Method)\r\n    at org.opencv.imgproc.Imgproc.Canny(Imgproc.java:2662)\r\n    at com.rnopencv.RNOpenCvLibraryModule.cannyEdges(RNOpenCvLibraryModule.java:110)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.facebook.react.bridge.JavaMethodWrapper.invoke(JavaMethodWrapper.java:372)\r\n    at com.facebook.react.bridge.JavaModuleWrapper.invoke(JavaModuleWrapper.java:151)\r\n    at com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)\r\n    at android.os.Handler.handleCallback(Handler.java:883)\r\n    at android.os.Handler.dispatchMessage(Handler.java:100)\r\n    at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:27)\r\n    at android.os.Looper.loop(Looper.java:214)\r\n    at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\r\n    at java.lang.Thread.run(Thread.java:919)\r\n```\r\n\r\ncalling the following wrapper:\r\n```java\r\n@ReactMethod\r\n    public void cannyEdges(String imageAsBase64, int treshold, Promise promise) {\r\n        try {\r\n            // Constants\r\n            Size BLUR_SIZE = new Size(3,3);\r\n            int KERNEL_SIZE = 3;\r\n            int RATIO = 3;\r\n            int MAX_LOW_THRESHOLD = 100;\r\n\r\n            int lowTreshold = (treshold &lt;= MAX_LOW_THRESHOLD) ? treshold : MAX_LOW_THRESHOLD;\r\n\r\n            // decode base64 string to matrix\r\n            Bitmap srcImage = base64ImageToBitmap(imageAsBase64);\r\n            Mat srcMat = new Mat();\r\n            Utils.bitmapToMat(srcImage, srcMat);\r\n\r\n            // rotate image to be portrait\r\n            Mat orientedMat = rotateBoxed(srcMat, -90);\r\n\r\n            // blur the image\r\n            Mat bluredMat = new Mat();\r\n            Mat cannyMat = new Mat();\r\n            Imgproc.blur(orientedMat, bluredMat, BLUR_SIZE);\r\n            // NEXT LINE THROWS THE ERROR\r\n            Imgproc.Canny(bluredMat, cannyMat, lowTreshold, lowTreshold * RATIO, KERNEL_SIZE, false);\r\n\r\n            // return blured image wrapped in promise\r\n            Bitmap dstImage = Bitmap.createBitmap(cannyMat.cols(), cannyMat.rows(), srcImage.getConfig());\r\n            Utils.matToBitmap(cannyMat, dstImage);\r\n            promise.resolve(bitmapToBase64(dstImage));\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Oh snap, some Exception occured!&quot;);\r\n            System.out.println(e.getMessage());\r\n            e.printStackTrace(System.out);\r\n            promise.reject(&quot;Could not perform canny edge detection on image!&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nThe wrapper gets the image as base64 encoded String (don&#39;t have a better solution yet) and returns the result in a js Promise. I also rotate the image to correct orientation using an affine transformation (this part works like described above). I tried various values for threshold, same goes for the gaussianBlur() method. The result is always either an assertion failure for invalid parameters (which is expected) or the mysterious unknown exception.\r\n\r\nAny clues on what the problem might be?\r\n\r\n**Update**: When i use an older version of openCV e.g. 3.4.10 for Android it will work.","title":"OpenCV Android React Native unknown exception on some functions in imgproc module","body":"<p>I'm trying to use OpenCV in an mobile app written with React Native. For now i only focus on the Android part. I use the official OpenCV for Android release. I did add the sdk, modified my <code>MainApplication.java</code> and wrote some wrapping methods that can be called from React Native. So far this compiles and works as expected.</p>\n<p>Now the problem is that if get an <code>unknown exception</code> from some OpenCV functions, others work fine. E.g. when I call the <code>blur()</code>, <code>medianBlur()</code> or <code>warpAffine()</code> functions from the <code>Imgproc</code> module everything is well. When i try to call e.g. the <code>gaussianBlur()</code> or <code>Canny()</code> functions i get an <code>unknown exception</code> thrown from OpenCV.</p>\n<p>I really have no idea what the problem is. The sdk seems to be linked correctly as i can booth compile the app and run several functions.</p>\n<p>My Setup:</p>\n<ul>\n<li>Development on Arch Linux</li>\n<li>OpenCV 4.3.0 for Android</li>\n<li>React Native 0.62.2</li>\n<li>Compiled with gradle/react-native from terminal</li>\n<li>Android 10</li>\n</ul>\n<p>Example error when i try to run the <code>Canny()</code> function:</p>\n<pre><code>org.opencv.imgproc: imgproc::Canny_12() caught unknown exception\nunknown exception\njava.lang.Exception: unknown exception\n    at org.opencv.imgproc.Imgproc.Canny_2(Native Method)\n    at org.opencv.imgproc.Imgproc.Canny(Imgproc.java:2662)\n    at com.rnopencv.RNOpenCvLibraryModule.cannyEdges(RNOpenCvLibraryModule.java:110)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.facebook.react.bridge.JavaMethodWrapper.invoke(JavaMethodWrapper.java:372)\n    at com.facebook.react.bridge.JavaModuleWrapper.invoke(JavaModuleWrapper.java:151)\n    at com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:27)\n    at android.os.Looper.loop(Looper.java:214)\n    at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\n    at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>calling the following wrapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ReactMethod\n    public void cannyEdges(String imageAsBase64, int treshold, Promise promise) {\n        try {\n            // Constants\n            Size BLUR_SIZE = new Size(3,3);\n            int KERNEL_SIZE = 3;\n            int RATIO = 3;\n            int MAX_LOW_THRESHOLD = 100;\n\n            int lowTreshold = (treshold &lt;= MAX_LOW_THRESHOLD) ? treshold : MAX_LOW_THRESHOLD;\n\n            // decode base64 string to matrix\n            Bitmap srcImage = base64ImageToBitmap(imageAsBase64);\n            Mat srcMat = new Mat();\n            Utils.bitmapToMat(srcImage, srcMat);\n\n            // rotate image to be portrait\n            Mat orientedMat = rotateBoxed(srcMat, -90);\n\n            // blur the image\n            Mat bluredMat = new Mat();\n            Mat cannyMat = new Mat();\n            Imgproc.blur(orientedMat, bluredMat, BLUR_SIZE);\n            // NEXT LINE THROWS THE ERROR\n            Imgproc.Canny(bluredMat, cannyMat, lowTreshold, lowTreshold * RATIO, KERNEL_SIZE, false);\n\n            // return blured image wrapped in promise\n            Bitmap dstImage = Bitmap.createBitmap(cannyMat.cols(), cannyMat.rows(), srcImage.getConfig());\n            Utils.matToBitmap(cannyMat, dstImage);\n            promise.resolve(bitmapToBase64(dstImage));\n        } catch (Exception e) {\n            System.out.println(&quot;Oh snap, some Exception occured!&quot;);\n            System.out.println(e.getMessage());\n            e.printStackTrace(System.out);\n            promise.reject(&quot;Could not perform canny edge detection on image!&quot;, e);\n        }\n    }\n</code></pre>\n<p>The wrapper gets the image as base64 encoded String (don't have a better solution yet) and returns the result in a js Promise. I also rotate the image to correct orientation using an affine transformation (this part works like described above). I tried various values for threshold, same goes for the gaussianBlur() method. The result is always either an assertion failure for invalid parameters (which is expected) or the mysterious unknown exception.</p>\n<p>Any clues on what the problem might be?</p>\n<p><strong>Update</strong>: When i use an older version of openCV e.g. 3.4.10 for Android it will work.</p>\n"},{"tags":["java","openssl"],"comments":[{"owner":{"account_id":9792529,"reputation":61,"user_id":7256685,"display_name":"Przemyslaw Iwanczak"},"score":1,"creation_date":1651049879,"post_id":72025697,"comment_id":127267469,"body_markdown":"@GhostCat thanks for your response! Probably could have mentioned that - I&#39;m using java 18. There is actually a write(byte[] buf) method, have a look at: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html","body":"@GhostCat thanks for your response! Probably could have mentioned that - I&#39;m using java 18. There is actually a write(byte[] buf) method, have a look at: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1651062247,"post_id":72025697,"comment_id":127272060,"body_markdown":"(1) you can&#39;t actually be doing `$(test_doc)` etc; that&#39;s not valid syntax in any shell ever (2) do `od -c test_doc` (or whatever the file really is) and make sure it contains exactly the characters h-e-l-l-o-space-w-o-r-l-d and NOTHING ELSE (3) PKCS8 is a standard for privatekeys only, there is no such thing as a PKCS8 publickey (although OpenSSH got this wrong and makes people think there is)","body":"(1) you can&#39;t actually be doing <code>$(test_doc)</code> etc; that&#39;s not valid syntax in any shell ever (2) do <code>od -c test_doc</code> (or whatever the file really is) and make sure it contains exactly the characters h-e-l-l-o-space-w-o-r-l-d and NOTHING ELSE (3) PKCS8 is a standard for privatekeys only, there is no such thing as a PKCS8 publickey (although OpenSSH got this wrong and makes people think there is)"},{"owner":{"account_id":9792529,"reputation":61,"user_id":7256685,"display_name":"Przemyslaw Iwanczak"},"score":0,"creation_date":1651075427,"post_id":72025697,"comment_id":127277579,"body_markdown":"@dave_thompson_085 Thanks for the response! Ack&#39;ing the public_key not really being a PKCS#8, TIL, thanks!  Reg. variables passed in shell - those should be understood as a variable, supplied in a way you&#39;d like - ie Makefile or bash script or even env variable. I&#39;ll retry if the input file did not include any NUL chars or similar sillyness - thanks for the idea!","body":"@dave_thompson_085 Thanks for the response! Ack&#39;ing the public_key not really being a PKCS#8, TIL, thanks!  Reg. variables passed in shell - those should be understood as a variable, supplied in a way you&#39;d like - ie Makefile or bash script or even env variable. I&#39;ll retry if the input file did not include any NUL chars or similar sillyness - thanks for the idea!"},{"owner":{"account_id":9792529,"reputation":61,"user_id":7256685,"display_name":"Przemyslaw Iwanczak"},"score":0,"creation_date":1651090877,"post_id":72025697,"comment_id":127282936,"body_markdown":"^ as far as I can tell - the message to be signed is the same for both cases. No specia/weird chars as far as I can tell","body":"^ as far as I can tell - the message to be signed is the same for both cases. No specia/weird chars as far as I can tell"}],"answers":[{"tags":[],"owner":{"account_id":9792529,"reputation":61,"user_id":7256685,"display_name":"Przemyslaw Iwanczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651143603,"creation_date":1651143603,"answer_id":72042499,"question_id":72025697,"body_markdown":"Tldr: both work. Problem was between my chair and the keyboard :-) \r\n\r\n@dave_thompson_085 was on point, to be precise: \r\n\r\n1. I&#39;ve been creating cleartext message &quot;by hand&quot;, in VIM. Byte-structure looks like this:\r\n&lt;pre&gt;&lt;code&gt;$ hexdump -C message.txt \r\n00000000  68 65 6c 6c 6f 20 77 6f  72 6c 64 0a              |hello world.|\r\n0000000c\r\n&lt;/code&gt;&lt;/pre&gt;\r\n2. In java, there is a simple String w/ seemingly identical contents:\r\n&lt;pre&gt;&lt;code&gt;String MESSAGE = &quot;hello world&quot;;&lt;/code&gt;&lt;/pre&gt;\r\n... but it is not. Dumped from java to file:\r\n\r\n    ByteSink byteSink = MoreFiles.asByteSink(Path.of(&quot;/cleartext_message.txt&quot;));\r\n    byteSink.write(MESSAGE.getBytes(StandardCharsets.UTF_8));\r\n\r\ninternally looks like this:\r\n\r\n    $ hexdump -C message_java.txt \r\n    00000000  68 65 6c 6c 6f 20 77 6f  72 6c 64                 |hello world|\r\n    0000000b\r\n","title":"Java-produced signature does not verify with openssl","body":"<p>Tldr: both work. Problem was between my chair and the keyboard :-)</p>\n<p>@dave_thompson_085 was on point, to be precise:</p>\n<ol>\n<li>I've been creating cleartext message &quot;by hand&quot;, in VIM. Byte-structure looks like this:</li>\n</ol>\n<pre><code>$ hexdump -C message.txt \n00000000  68 65 6c 6c 6f 20 77 6f  72 6c 64 0a              |hello world.|\n0000000c\n</code></pre>\n<ol start=\"2\">\n<li>In java, there is a simple String w/ seemingly identical contents:</li>\n</ol>\n<pre><code>String MESSAGE = \"hello world\";</code></pre>\n<p>... but it is not. Dumped from java to file:</p>\n<pre><code>ByteSink byteSink = MoreFiles.asByteSink(Path.of(&quot;/cleartext_message.txt&quot;));\nbyteSink.write(MESSAGE.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>internally looks like this:</p>\n<pre><code>$ hexdump -C message_java.txt \n00000000  68 65 6c 6c 6f 20 77 6f  72 6c 64                 |hello world|\n0000000b\n</code></pre>\n"}],"owner":{"account_id":9792529,"reputation":61,"user_id":7256685,"display_name":"Przemyslaw Iwanczak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651143603,"creation_date":1651048531,"question_id":72025697,"body_markdown":"I am probably missing something very simple and stupid - I&#39;d greatly appreciate any and all hints.\r\n\r\nWhat I am trying to achieve is to produce a signature as per [Apple&#39;s doc][1]\r\n\r\n1. &quot;CLI-like&quot; setup \r\n\r\nSign.java contents:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.security.KeyFactory;\r\n    import java.security.PrivateKey;\r\n    import java.security.Signature;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    \r\n    public class Sign {\r\n        public static final String SKAD_SIGNING_ALGORITHM = &quot;SHA256withECDSA&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            byte[] keyBytes = Files.readAllBytes(Path.of(args[0]));\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n            PKCS8EncodedKeySpec pkcs8EncodedKey = new PKCS8EncodedKeySpec(keyBytes);\r\n            PrivateKey key = kf.generatePrivate(pkcs8EncodedKey);\r\n    \r\n            Signature ecdsa = Signature.getInstance(SKAD_SIGNING_ALGORITHM);\r\n            ecdsa.initSign(key);\r\n            ecdsa.update(System.in.readAllBytes());\r\n    \r\n            byte[] realSig = ecdsa.sign();\r\n            System.out.write(realSig);\r\n        }\r\n    }\r\n\r\n\r\nProduce the signature w/ openssl:\r\n\r\n    $ cat $(test_doc) | java -cp src Sign &lt;(openssl pkcs8 -in $(private_key) -inform PEM outform DER -nocrypt -topk8) &gt;$(java_signature)\r\n\r\n... and verify the sig:\r\n\r\n    $ openssl dgst -sha256 -verify $(public_key) -signature $(java_signature) $(test_doc)\r\n\r\n    $(test_doc) - being simple message to be signed\\\r\n    $(private_key) - pkcs#8 private key\\\r\n    $(public_key) - pkcs#8 public key\r\n\r\nWorks fine! \r\n\r\n2. Java without CLI setup\r\n\r\nWhen I try to produce a signature like this:\r\n\r\n    @Test\r\n    public void SimplestSkadSignTest()\r\n                throws IOException, SignatureException, NoSuchAlgorithmException, InvalidKeySpecException,\r\n                InvalidKeyException {\r\n            String SKAD_SIGNING_ALGORITHM = &quot;SHA256withECDSA&quot;;\r\n            String MESSAGE = &quot;hello world&quot;;\r\n    \r\n            byte[] keyBytes = SKAdHelper.class\r\n                    .getResourceAsStream(&quot;/private_key_in_der_format.der&quot;).readAllBytes();\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n            PKCS8EncodedKeySpec pkcs8EncodedKey = new PKCS8EncodedKeySpec(keyBytes);\r\n            PrivateKey key = kf.generatePrivate(pkcs8EncodedKey);\r\n    \r\n            Signature ecdsa = Signature.getInstance(SKAD_SIGNING_ALGORITHM);\r\n            ecdsa.initSign(key);\r\n            ecdsa.update(MESSAGE.getBytes(StandardCharsets.UTF_8));\r\n    \r\n            byte[] realSig = ecdsa.sign();\r\n    \r\n            System.out.print(Base64.getEncoder().encodeToString(realSig));\r\n            \r\n            ByteSink byteSink = MoreFiles.asByteSink(Path.of(&quot;/dump/anywhere/sig.bin&quot;));\r\n            byteSink.write(realSig);\r\n        }\r\n\r\n\r\nOpenSSL won&#39;t validate the produced sig.bin\r\n\r\n    $ openssl dgst -sha256 -verify $(public_key) -signature sig.bin $(test_doc)\r\n    Verification Failure\r\n\r\n\r\nBoth ways seem the same to me - what am I missing here folks? \r\n\r\n  [1]: https://developer.apple.com/documentation/storekit/skadnetwork/generating_the_signature_to_validate_storekit-rendered_ads\r\n\r\n\r\n\r\n\r\n","title":"Java-produced signature does not verify with openssl","body":"<p>I am probably missing something very simple and stupid - I'd greatly appreciate any and all hints.</p>\n<p>What I am trying to achieve is to produce a signature as per <a href=\"https://developer.apple.com/documentation/storekit/skadnetwork/generating_the_signature_to_validate_storekit-rendered_ads\" rel=\"nofollow noreferrer\">Apple's doc</a></p>\n<ol>\n<li>&quot;CLI-like&quot; setup</li>\n</ol>\n<p>Sign.java contents:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.Signature;\nimport java.security.spec.PKCS8EncodedKeySpec;\n\npublic class Sign {\n    public static final String SKAD_SIGNING_ALGORITHM = &quot;SHA256withECDSA&quot;;\n\n    public static void main(String[] args) throws Exception {\n        byte[] keyBytes = Files.readAllBytes(Path.of(args[0]));\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n        PKCS8EncodedKeySpec pkcs8EncodedKey = new PKCS8EncodedKeySpec(keyBytes);\n        PrivateKey key = kf.generatePrivate(pkcs8EncodedKey);\n\n        Signature ecdsa = Signature.getInstance(SKAD_SIGNING_ALGORITHM);\n        ecdsa.initSign(key);\n        ecdsa.update(System.in.readAllBytes());\n\n        byte[] realSig = ecdsa.sign();\n        System.out.write(realSig);\n    }\n}\n</code></pre>\n<p>Produce the signature w/ openssl:</p>\n<pre><code>$ cat $(test_doc) | java -cp src Sign &lt;(openssl pkcs8 -in $(private_key) -inform PEM outform DER -nocrypt -topk8) &gt;$(java_signature)\n</code></pre>\n<p>... and verify the sig:</p>\n<pre><code>$ openssl dgst -sha256 -verify $(public_key) -signature $(java_signature) $(test_doc)\n\n$(test_doc) - being simple message to be signed\\\n$(private_key) - pkcs#8 private key\\\n$(public_key) - pkcs#8 public key\n</code></pre>\n<p>Works fine!</p>\n<ol start=\"2\">\n<li>Java without CLI setup</li>\n</ol>\n<p>When I try to produce a signature like this:</p>\n<pre><code>@Test\npublic void SimplestSkadSignTest()\n            throws IOException, SignatureException, NoSuchAlgorithmException, InvalidKeySpecException,\n            InvalidKeyException {\n        String SKAD_SIGNING_ALGORITHM = &quot;SHA256withECDSA&quot;;\n        String MESSAGE = &quot;hello world&quot;;\n\n        byte[] keyBytes = SKAdHelper.class\n                .getResourceAsStream(&quot;/private_key_in_der_format.der&quot;).readAllBytes();\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n        PKCS8EncodedKeySpec pkcs8EncodedKey = new PKCS8EncodedKeySpec(keyBytes);\n        PrivateKey key = kf.generatePrivate(pkcs8EncodedKey);\n\n        Signature ecdsa = Signature.getInstance(SKAD_SIGNING_ALGORITHM);\n        ecdsa.initSign(key);\n        ecdsa.update(MESSAGE.getBytes(StandardCharsets.UTF_8));\n\n        byte[] realSig = ecdsa.sign();\n\n        System.out.print(Base64.getEncoder().encodeToString(realSig));\n        \n        ByteSink byteSink = MoreFiles.asByteSink(Path.of(&quot;/dump/anywhere/sig.bin&quot;));\n        byteSink.write(realSig);\n    }\n</code></pre>\n<p>OpenSSL won't validate the produced sig.bin</p>\n<pre><code>$ openssl dgst -sha256 -verify $(public_key) -signature sig.bin $(test_doc)\nVerification Failure\n</code></pre>\n<p>Both ways seem the same to me - what am I missing here folks?</p>\n"},{"tags":["java","string","object","collections","hashmap"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650640139,"post_id":71970926,"comment_id":127174418,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":17729087,"reputation":11,"user_id":12872131,"display_name":"Misbha Afreen"},"score":0,"creation_date":1650641048,"post_id":71970926,"comment_id":127174807,"body_markdown":"Probably because of this disclaimer while typing a question &quot; Many similarly phrased questions have received feedback like downvotes or requests for improvements.\nConsider updating your question title and body to be more descriptive.&quot;","body":"Probably because of this disclaimer while typing a question &quot; Many similarly phrased questions have received feedback like downvotes or requests for improvements. Consider updating your question title and body to be more descriptive.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651143455,"creation_date":1651143455,"answer_id":72042467,"question_id":71970926,"body_markdown":"You should get a reference to `Response.ResponseBuilder` and then iterate the map of the headers to populate the header values.\r\n\r\nPossible solution below (not tested):\r\n\r\n```java\r\npublic Response foo(RequestData reqData) {\r\n    Response.ResponseBuilder builder = Response\r\n        .status(reqData.getStatuscode())\r\n        .entity(reqData)\r\n        .type(MediaType.APPLICATION_JSON_TYPE);\r\n\r\n    headerMap.forEach(builder::header);\r\n\r\n    return builder.build();\r\n}\r\n```","title":"I have a Map&lt;String, Object&gt; which contains all the headers, but in response I am not able to feed it all","body":"<p>You should get a reference to <code>Response.ResponseBuilder</code> and then iterate the map of the headers to populate the header values.</p>\n<p>Possible solution below (not tested):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response foo(RequestData reqData) {\n    Response.ResponseBuilder builder = Response\n        .status(reqData.getStatuscode())\n        .entity(reqData)\n        .type(MediaType.APPLICATION_JSON_TYPE);\n\n    headerMap.forEach(builder::header);\n\n    return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":17729087,"reputation":11,"user_id":12872131,"display_name":"Misbha Afreen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651143455,"creation_date":1650640086,"question_id":71970926,"body_markdown":"``` Map&lt;String, Object&gt; headerMap = JSON_MAPPER.convertValue(reqData.getHeaders(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}); ```\r\n\r\nI have a headerMap which contains headers in a key-value pair.\r\n\r\nI need to return these headers in a response builder statement of my controller.\r\nHeader accepts (String name, Object value) as parameters\r\n  \r\n          ``` return Response\r\n\t\t\t.status(reqData.getStatuscode())\r\n\t\t\t.entity(reqData)\r\n\t\t\t.header()\r\n\t\t\t.type(MediaType.APPLICATION_JSON_TYPE)\r\n\t\t\t.build(); ```\r\n\r\nPlease help me out!\r\n\r\n","title":"I have a Map&lt;String, Object&gt; which contains all the headers, but in response I am not able to feed it all","body":"<p><code>Map&lt;String, Object&gt; headerMap = JSON_MAPPER.convertValue(reqData.getHeaders(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});</code></p>\n<p>I have a headerMap which contains headers in a key-value pair.</p>\n<p>I need to return these headers in a response builder statement of my controller.\nHeader accepts (String name, Object value) as parameters</p>\n<pre><code>      ``` return Response\n        .status(reqData.getStatuscode())\n        .entity(reqData)\n        .header()\n        .type(MediaType.APPLICATION_JSON_TYPE)\n        .build(); ```\n</code></pre>\n<p>Please help me out!</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-transactions","spring-autoconfiguration"],"answers":[{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651093097,"creation_date":1651093097,"answer_id":72035211,"question_id":72034539,"body_markdown":"Because the @Transactional doesn&#39;t work backwards ,it can be propagated to the subclasses but not the opposite,you either redefine the method in the subclass or add @Transactional on the parent class or method itself.","title":"Spring @Transactional not working with @NoRepository hierarchy","body":"<p>Because the @Transactional doesn't work backwards ,it can be propagated to the subclasses but not the opposite,you either redefine the method in the subclass or add @Transactional on the parent class or method itself.</p>\n"},{"tags":[],"owner":{"account_id":1586117,"reputation":3972,"user_id":1470436,"accept_rate":72,"display_name":"Beto Neto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651143226,"creation_date":1651143226,"answer_id":72042420,"question_id":72034539,"body_markdown":"After some tests, I got it working.\r\n\r\nI just had to contract the @Transactional (without any transactionManager) in the base interface method. After that, at the child repository I had to contract the new transactionManager at my final interface via `@Transactional(transactionManager = &quot;sharedTransactionManager&quot;)`.\r\n\r\nHere is the code:\r\n\r\n```java\r\n@NoRepository\r\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n\r\n   @Transactional // this contracts the base method as transactional\r\n   @Query(&quot;update ....&quot;)\r\n   @Modifying\r\n   void updateSomething();\r\n\r\n}\r\n\r\n@Repository(&quot;myEntityRepository&quot;)\r\n@Transactional(transactionManager = &quot;sharedTransactionManager&quot;) // override the transactionManager\r\n@ConditionalOnBean(name = &quot;sharedTransactionManager&quot;)\r\ninterface SharedMyEntityRepository extends MyEntityRepository {\r\n}\r\n\r\n@Repository(&quot;myEntityRepository&quot;)\r\n@ConditionalOnMissingBean(name = &quot;sharedTransactionManager&quot;)\r\ninterface DefaultMyEntityRepository extends MyEntityRepository {\r\n}\r\n\r\n```\r\nSo, when the `SharedMyEntityRepository.updateSomething` runs, it starts a transaction using the `sharedTransactionManager` contracted via interface level annotation.\r\n","title":"Spring @Transactional not working with @NoRepository hierarchy","body":"<p>After some tests, I got it working.</p>\n<p>I just had to contract the @Transactional (without any transactionManager) in the base interface method. After that, at the child repository I had to contract the new transactionManager at my final interface via <code>@Transactional(transactionManager = &quot;sharedTransactionManager&quot;)</code>.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepository\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n   @Transactional // this contracts the base method as transactional\n   @Query(&quot;update ....&quot;)\n   @Modifying\n   void updateSomething();\n\n}\n\n@Repository(&quot;myEntityRepository&quot;)\n@Transactional(transactionManager = &quot;sharedTransactionManager&quot;) // override the transactionManager\n@ConditionalOnBean(name = &quot;sharedTransactionManager&quot;)\ninterface SharedMyEntityRepository extends MyEntityRepository {\n}\n\n@Repository(&quot;myEntityRepository&quot;)\n@ConditionalOnMissingBean(name = &quot;sharedTransactionManager&quot;)\ninterface DefaultMyEntityRepository extends MyEntityRepository {\n}\n\n</code></pre>\n<p>So, when the <code>SharedMyEntityRepository.updateSomething</code> runs, it starts a transaction using the <code>sharedTransactionManager</code> contracted via interface level annotation.</p>\n"}],"owner":{"account_id":1586117,"reputation":3972,"user_id":1470436,"accept_rate":72,"display_name":"Beto Neto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72042420,"answer_count":2,"score":0,"last_activity_date":1651143226,"creation_date":1651089121,"question_id":72034539,"body_markdown":"I have a base interface to contract a query for custom update. This is a library used in other spring applications, and in some enviroments I have a secondary &quot;transactionManager&quot; and also a secondary &quot;entityManager&quot;. If this secondary transactionManager exists in spring context, my repository must to use it.\r\n\r\nSo here is the code of this base repository interface:\r\n\r\n```java\r\n@NoRepository\r\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n\r\n   @Query(&quot;update ....&quot;)\r\n   @Modifying\r\n   void updateSomething();\r\n\r\n}\r\n```\r\n\r\nI have then two other interfaces to be defined with conditionals:\r\n\r\n```java\r\n@Repository(&quot;myEntityRepository&quot;)\r\n@Transactional(transactionManager = &quot;sharedTransactionManager&quot;)\r\n@ConditionalOnBean(name = &quot;sharedTransactionManager&quot;)\r\ninterface SharedMyEntityRepository extends MyEntityRepository {\r\n}\r\n\r\n@Repository(&quot;myEntityRepository&quot;)\r\n@Transactional\r\n@ConditionalOnMissingBean(name = &quot;sharedTransactionManager&quot;)\r\ninterface DefaultMyEntityRepository extends MyEntityRepository {\r\n}\r\n\r\n```\r\n\r\nBut when I run the `MyEntityRepository.updateSomething` method, I&#39;m getting this error:\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n```\r\n\r\nHow can I solve this? Why spring isn&#39;t applying the transaction based on the two @Repository (SharedMyEntityRepository or DefaultMyEntityRepository) ?","title":"Spring @Transactional not working with @NoRepository hierarchy","body":"<p>I have a base interface to contract a query for custom update. This is a library used in other spring applications, and in some enviroments I have a secondary &quot;transactionManager&quot; and also a secondary &quot;entityManager&quot;. If this secondary transactionManager exists in spring context, my repository must to use it.</p>\n<p>So here is the code of this base repository interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepository\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n   @Query(&quot;update ....&quot;)\n   @Modifying\n   void updateSomething();\n\n}\n</code></pre>\n<p>I have then two other interfaces to be defined with conditionals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;myEntityRepository&quot;)\n@Transactional(transactionManager = &quot;sharedTransactionManager&quot;)\n@ConditionalOnBean(name = &quot;sharedTransactionManager&quot;)\ninterface SharedMyEntityRepository extends MyEntityRepository {\n}\n\n@Repository(&quot;myEntityRepository&quot;)\n@Transactional\n@ConditionalOnMissingBean(name = &quot;sharedTransactionManager&quot;)\ninterface DefaultMyEntityRepository extends MyEntityRepository {\n}\n\n</code></pre>\n<p>But when I run the <code>MyEntityRepository.updateSomething</code> method, I'm getting this error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n</code></pre>\n<p>How can I solve this? Why spring isn't applying the transaction based on the two @Repository (SharedMyEntityRepository or DefaultMyEntityRepository) ?</p>\n"},{"tags":["java","spring","spring-security","spring-oauth2"],"comments":[{"owner":{"account_id":21103466,"reputation":287,"user_id":15512931,"display_name":"Yuchen Ren"},"score":2,"creation_date":1651132286,"post_id":72039908,"comment_id":127291571,"body_markdown":"It is extremely unsafe to put the private key in the code.","body":"It is extremely unsafe to put the private key in the code."},{"owner":{"account_id":9353617,"reputation":13,"user_id":6942440,"display_name":"Giannis Ipsiladis"},"score":0,"creation_date":1651132458,"post_id":72039908,"comment_id":127291641,"body_markdown":"I am new to Spring and OAuth2 and I was following a tutorial that was made this way. Thank you, I will try to improve it in the future.","body":"I am new to Spring and OAuth2 and I was following a tutorial that was made this way. Thank you, I will try to improve it in the future."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651132576,"post_id":72039908,"comment_id":127291686,"body_markdown":"You can try accepted answer from here https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost","body":"You can try accepted answer from here <a href=\"https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost\" title=\"spring boot security how to skip login for localhost\">stackoverflow.com/questions/65958780/&hellip;</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1651132779,"post_id":72039908,"comment_id":127291767,"body_markdown":"if you have beans, then you dont need to set the tokenEnhancer and the tokenStore manually. Thats the whole point of using annotations. That you dont need to set them manually","body":"if you have beans, then you dont need to set the tokenEnhancer and the tokenStore manually. Thats the whole point of using annotations. That you dont need to set them manually"},{"owner":{"account_id":9353617,"reputation":13,"user_id":6942440,"display_name":"Giannis Ipsiladis"},"score":0,"creation_date":1651132860,"post_id":72039908,"comment_id":127291795,"body_markdown":"@Morph21 I have already tried this solution but unfortunately it did not work for me.","body":"@Morph21 I have already tried this solution but unfortunately it did not work for me."},{"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"score":0,"creation_date":1651133327,"post_id":72039908,"comment_id":127291936,"body_markdown":"Does this answer your question? [Spring Boot Security: How to skip login for localhost?](https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost\">Spring Boot Security: How to skip login for localhost?</a>"},{"owner":{"account_id":9353617,"reputation":13,"user_id":6942440,"display_name":"Giannis Ipsiladis"},"score":0,"creation_date":1651134114,"post_id":72039908,"comment_id":127292195,"body_markdown":"@ChristianBaumann same with Morph21 answer, unfortunately this solution did not work for me.","body":"@ChristianBaumann same with Morph21 answer, unfortunately this solution did not work for me."},{"owner":{"account_id":9353617,"reputation":13,"user_id":6942440,"display_name":"Giannis Ipsiladis"},"score":0,"creation_date":1651143309,"post_id":72039908,"comment_id":127295778,"body_markdown":"@Toerktumlare I updated the logs again, I hope those are the ones you are asking me for.","body":"@Toerktumlare I updated the logs again, I hope those are the ones you are asking me for."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1651697161,"post_id":72039908,"comment_id":127427727,"body_markdown":"@GiannisIpsiladis Your application is a authorization server and a resource server. Do you really want this? Also you are using the old and deprecated version of the authorization server framework. Why? However, you have at least two security chains and you have to order these chains.","body":"@GiannisIpsiladis Your application is a authorization server and a resource server. Do you really want this? Also you are using the old and deprecated version of the authorization server framework. Why? However, you have at least two security chains and you have to order these chains."}],"owner":{"account_id":9353617,"reputation":13,"user_id":6942440,"display_name":"Giannis Ipsiladis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3033,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651143203,"creation_date":1651132175,"question_id":72039908,"body_markdown":"I am trying to set set an OAuth2 security system with client_credentials and a JWT token for a Spring boot api. I am using postman to test its functionality. So, there is a controller that does some basic things like GET Status request or GET tables of an entity request. The API works as intented when there is no security at all. It works perfectly when I am using a GET request with OAuth2 authentication through Postman as well. \r\n\r\nNow, I am trying to whitelist some IPs so when I am using the API from the localhost IP there is no need for authentication and all the resources are public but when somebody with a different IP tries to access it, then he needs to authenticate. The problem is, no matter what I do in the **WebSecurityConfiguration.java** on ***HttpSecurity*** configuration, Postman returns that I am unauthorized unless I authenticate with client_credentials.\r\n\r\nWhat I have tried:\r\n\r\n - http.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();\r\n - http.authorizeRequests().antMatchers(&quot;/**&quot;).hasIpAddress(&quot;::1&quot;).anyRequest().permitAll();\r\n - http.authorizeRequests().antMatchers(&quot;/**&quot;).hasIpAddress(&quot;127.0.0.1&quot;).anyRequest().permitAll();\r\n - http.authorizeRequests().anyRequest().access(&quot;hasIpAddress(&#39;127.0.0.1&#39;) or isAuthenticated()&quot;);\r\n - http.authorizeRequests().anyRequest().permitAll();\r\n\r\nand some more combinations. Nothing works of the above. What do I do wrong and how can I grant public access to localhost but make other/external IPs to require authentication? Maybe I am testing it wrong from Postman?(I am changing Authentication from OAuth2 to NoAuth or Inherit from parent).\r\n\r\nI would like to note that *web.ignoring().antMatchers(&quot;/**&quot;);* on **WebSecurity** configuration works fine and removes authentication from all my resources.\r\n\r\n**WebSecurityConfiguration.java**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UsersService usersService;\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    @Autowired\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(usersService).passwordEncoder(encoder());\r\n    }\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring();\r\n    }\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;)\r\n                .hasIpAddress(&quot;127.0.0.1&quot;)\r\n                .anyRequest().permitAll()\r\n            .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);\r\n    }\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n    }\r\n\r\n**ConfigOAuth2.java**\r\n\r\n    @Configuration\r\n    public class ConfigOAuth2 extends AuthorizationServerConfigurerAdapter{\r\n\r\n    @Value(&quot;test&quot;)\r\n    private String clientId;\r\n    @Value(&quot;test-key&quot;)\r\n    private String clientSecret;\r\n\r\n    private String privateKey = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; +\r\n            &quot;MIIEogIBAAKCAQEArOyEna4QGVfHs2uLkspnvg990DoG8LsTRVWUln6PNnzHdciU\\n&quot; +\r\n            &quot;wbTWa3Mmvnas3fH+ryAB+w3hgcRHH5D0SQzZG8JgcSnUDi4nxdjhcrdxeAMeeEKP\\n&quot; +\r\n            &quot;mWZPhUzmuNS5j1ZjRoLo/ih4PNssXdjy1w35h5qtrBTI3JrEkBMBQMkfHuWeK1EV\\n&quot; +\r\n            &quot;CCdP5krHl2Nf0vKG0MQVnU+FKbLzZtM3hryHTFMWHUAAijJ///nlimfU3Xdju4Nw\\n&quot; +\r\n            &quot;TIktaP1FWhUhSoNy0xVGYQVx3XlT2AG9mQeZWTmC8Vbw2X5BMXg1A0H/Rt55Vpf0\\n&quot; +\r\n            &quot;+HB4ZsMxRzvYWe6Xgf1+SCWH8O0mIS5DFohgfQIDAQABAoIBAENGjV2vL5I8hXQ3\\n&quot; +\r\n            &quot;XgjQ+EWIT2FogfS8Q4YRAor+WAdRymP3knA+Q8Fv/l3RW/XJRVWqtTqQLvDGhQkx\\n&quot; +\r\n            &quot;4uhcuEbFe7HrHRYbPNwLQcLYvat8Qyl0c9uxYzSwM38rO7oZWOxA2Baxdf3vIzar\\n&quot; +\r\n            &quot;xeaHCFKKihDN0UuKZvjKfA1RcesZtH9U4kZFJGZsAOvFkqvXKDA5G0CGqJJbDHuA\\n&quot; +\r\n            &quot;uBNIk7ggy+wsyLaGEWkj49IdYZhhMbkWaNKbYPi5zK7Wz54N/qi+HQl0tVQKXw4e\\n&quot; +\r\n            &quot;oJl24ua1IIhoHIS+ipX1pJVy4MKGh6gZizzl+9MvOzgp81APVPa6obpE2oT5XPAe\\n&quot; +\r\n            &quot;ovIRMh0CgYEA2WPwRSiHv0Sc/9g9dpK4M7tk+njoqdcn5oYMikWtMcqlGNhZbh2s\\n&quot; +\r\n            &quot;sQmB03354BArE5KQ4KA8tGzWVNXnf2k+8klNdlz+Q/GxS0G1E4aqkl4Dq/EfVif+\\n&quot; +\r\n            &quot;mb2gUccpXQ4ygFDmjP5tx7cqHNytYMYJ6rKPOA0GfqWS5XkPTMIZDB8CgYEAy6LT\\n&quot; +\r\n            &quot;yd4py19MNtsgLwR4F8A+/ffvCy9TRHnpAlYgzeTVW3LHN4j/3DQ25g/AOFsrx/1A\\n&quot; +\r\n            &quot;GBTq6g8SDSe4qDoRmaRPPVmVtwuVE9uH/F83vlz5LvMJqQCbOMMcJZc/lApP9fGM\\n&quot; +\r\n            &quot;yRKlvSyrrjialMFHiFU5HasyRArdQCE48jTJP+MCgYAuSHHCN6PXHAOVEPPdB9XB\\n&quot; +\r\n            &quot;5dbU4OMgLden48hNtBHwtOU7iexYXmcC9jQ20+5cPvT84MqJmHP0Mevb+gKkhMLL\\n&quot; +\r\n            &quot;EMI2PgxAaPfHPwEPXC96pBuCAv8Z97/j+ZRldNKgpkIoQZEkWZMD30JPDMi4/tDj\\n&quot; +\r\n            &quot;sAp/8337fsLsqj6QqA5vHwKBgHAUW6sk+y3zcrhSnQEj3ZF8/267Urd+Qb9TthrS\\n&quot; +\r\n            &quot;GtYYGBJwNxPq9KBXoMu5aZvbGlrFmcxnXvCagN36udjltSAyXmau8wc/ebrnPo56\\n&quot; +\r\n            &quot;Pe0psQDVRcDeE5EHWmuaNqUdk+sTGuDkwZJAjvGiN/qd8ugnt/sLaewnaqVMY9Jz\\n&quot; +\r\n            &quot;mTzvAoGAUKMucO57do5xYFezmCvrzaLhlQZi+3fBHlrribUEkdmJNC4Q4FGPcysS\\n&quot; +\r\n            &quot;TkcgVs0m7xgbubkn+yjuEVFsojWAPeJBIUnCbpDTIUDRARpbOCxgdVTdzIl3ACxc\\n&quot; +\r\n            &quot;r9q0DV3XIQ4SKYIUmgc2sFSrTEjEaisDLpZVMLZZaJQldXQfeFM=\\n&quot; +\r\n            &quot;-----END RSA PRIVATE KEY-----&quot;;\r\n\r\n\r\n    private String publicKey = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; +\r\n            &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArOyEna4QGVfHs2uLkspn\\n&quot; +\r\n            &quot;vg990DoG8LsTRVWUln6PNnzHdciUwbTWa3Mmvnas3fH+ryAB+w3hgcRHH5D0SQzZ\\n&quot; +\r\n            &quot;G8JgcSnUDi4nxdjhcrdxeAMeeEKPmWZPhUzmuNS5j1ZjRoLo/ih4PNssXdjy1w35\\n&quot; +\r\n            &quot;h5qtrBTI3JrEkBMBQMkfHuWeK1EVCCdP5krHl2Nf0vKG0MQVnU+FKbLzZtM3hryH\\n&quot; +\r\n            &quot;TFMWHUAAijJ///nlimfU3Xdju4NwTIktaP1FWhUhSoNy0xVGYQVx3XlT2AG9mQeZ\\n&quot; +\r\n            &quot;WTmC8Vbw2X5BMXg1A0H/Rt55Vpf0+HB4ZsMxRzvYWe6Xgf1+SCWH8O0mIS5DFohg\\n&quot; +\r\n            &quot;fQIDAQAB\\n&quot; +\r\n            &quot;-----END PUBLIC KEY-----&quot;;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;authenticationManagerBean&quot;)\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public JwtAccessTokenConverter tokenEnhancer() {\r\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\r\n        converter.setSigningKey(privateKey);\r\n        converter.setVerifierKey(publicKey);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public JwtTokenStore tokenStore() {\r\n        return new JwtTokenStore(tokenEnhancer());\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n        endpoints.authenticationManager(authenticationManager).tokenStore(tokenStore())\r\n                .accessTokenConverter(tokenEnhancer());\r\n    }\r\n    @Override\r\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n        security.tokenKeyAccess(&quot;permitAll()&quot;).checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n    }\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients.inMemory()\r\n                .withClient(clientId)\r\n                    .secret(passwordEncoder.encode(clientSecret))\r\n                    .scopes(&quot;read&quot;, &quot;write&quot;)\r\n                    .authorizedGrantTypes(&quot;client_credentials&quot;)\r\n                    .accessTokenValiditySeconds(2000)\r\n                    .refreshTokenValiditySeconds(200000);\r\n    }\r\n    }\r\n\r\n\r\n\r\n**DEBUG logs**\r\n```\r\n13:57:13.024 INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn() @132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n13:57:13.034 INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn() @201 - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n13:57:13.523 INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize() @108 - Tomcat initialized with port(s): 9090 (http)\r\n13:57:13.618 INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext() @290 - Root WebApplicationContext: initialization completed in 1195 ms\r\n13:57:13.958 INFO  org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources() @89 - H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:mysql://172.16.69.19:3306/SpringRestApi&#39;\r\n13:57:14.568 INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory() @437 - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n13:57:14.668 WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor() @219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n13:57:14.883 INFO  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter.setSigningKey() @178 - Configured with RSA signing key\r\n13:57:14.893 INFO  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter.afterPropertiesSet() @309 - Signing and verification RSA keys match\r\n13:57:15.003 DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$2.performBuild() @225 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.\r\n13:57:15.083 DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping.handlerMethodsInitialized() @367 - 8 mappings in &#39;oauth2EndpointHandlerMapping&#39;\r\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [fullyAuthenticated] for Ant [pattern=&#39;/oauth/token&#39;]\r\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [permitAll()] for Ant [pattern=&#39;/oauth/token_key&#39;]\r\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [isAuthenticated()] for Ant [pattern=&#39;/oauth/check_token&#39;]\r\n13:57:15.165 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure Or [Ant [pattern=&#39;/oauth/token&#39;], Ant [pattern=&#39;/oauth/token_key&#39;], Ant [pattern=&#39;/oauth/check_token&#39;]] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1715471a, org.springframework.security.web.context.SecurityContextPersistenceFilter@39c4ff6a, org.springframework.security.web.header.HeaderWriterFilter@1dd2b124, org.springframework.security.web.authentication.logout.LogoutFilter@276931c8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@25ac2e09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b3977b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a22601a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9e81ea, org.springframework.security.web.session.SessionManagementFilter@65b44c8, org.springframework.security.web.access.ExceptionTranslationFilter@1202c487, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1884a702]\r\n13:57:15.175 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [authenticated] for any request\r\n13:57:15.175 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4405cf2c with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47946ba1, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f1bd95b, org.springframework.security.web.header.HeaderWriterFilter@c603be5, org.springframework.security.web.authentication.logout.LogoutFilter@21acfb59, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@a2e077c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bdde833, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36ef43be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a642abc, org.springframework.security.web.session.SessionManagementFilter@79fdff10, org.springframework.security.web.access.ExceptionTranslationFilter@54a61083, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f9718de]\r\n13:57:15.195 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [hasIpAddress(&#39;127.0.0.1&#39;) or hasIpAddress(&#39;::1&#39;) or isAuthenticated()] for Ant [pattern=&#39;/**&#39;]\r\n13:57:15.195 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [authenticated] for any request\r\n13:57:15.195 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d8aabe8, org.springframework.security.web.context.SecurityContextPersistenceFilter@f20d544, org.springframework.security.web.header.HeaderWriterFilter@5cbdfc31, org.springframework.security.web.csrf.CsrfFilter@7e8a74cc, org.springframework.security.web.authentication.logout.LogoutFilter@cf83769, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d584e6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eb77585, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20e8f0e6, org.springframework.security.web.session.SessionManagementFilter@6b5817fb, org.springframework.security.web.access.ExceptionTranslationFilter@4fabb82b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@facdff6]\r\n13:57:15.195 WARN  org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild() @322 - \r\n\r\n********************************************************************\r\n**********        Security debugging is enabled.       *************\r\n**********    This may include sensitive information.  *************\r\n**********      Do not use in a production system!     *************\r\n********************************************************************\r\n\r\n\r\n13:57:16.196 INFO  org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer.startServer() @58 - LiveReload server is running on port 35729\r\n13:57:16.206 INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver.&lt;init&gt;() @58 - Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n13:57:16.282 INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start() @220 - Tomcat started on port(s): 9090 (http) with context path &#39;/api/v1.0&#39;\r\n13:57:16.292 INFO  gr.daem.springrestgeneric.SpringRestGenericApplication.logStarted() @61 - Started SpringRestGenericApplication in 4.092 seconds (JVM running for 4.675)\r\n13:57:16.411 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean() @525 - Initializing Servlet &#39;dispatcherServlet&#39;\r\n13:57:16.411 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean() @547 - Completed initialization in 0 ms\r\n13:57:18.390 INFO  Spring Security Debugger.info() @56 - \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/generic/status&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@57ece8c5\r\n\r\nservletPath:/generic/status\r\npathInfo:null\r\nheaders: \r\nuser-agent: PostmanRuntime/7.29.0\r\naccept: */*\r\ncache-control: no-cache\r\npostman-token: 5cf5e7b5-a4fe-4fb7-b420-91bec32d580c\r\nhost: localhost:9090\r\naccept-encoding: gzip, deflate, br\r\nconnection: keep-alive\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  OAuth2AuthenticationProcessingFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n13:57:18.393 DEBUG org.springframework.security.web.FilterChainProxy.doFilterInternal() @208 - Securing GET /generic/status\r\n13:57:18.394 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter() @102 - Set SecurityContextHolder to empty SecurityContext\r\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.BearerTokenExtractor.extractToken() @54 - Token not found in headers. Trying request parameters.\r\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.BearerTokenExtractor.extractToken() @57 - Token not found in request parameters.  Not an OAuth2 request.\r\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter() @141 - No token in request, will continue chain.\r\n13:57:18.396 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter() @100 - Set SecurityContextHolder to anonymous SecurityContext\r\n13:57:18.398 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor.attemptAuthorization() @247 - Failed to authorize filter invocation [GET /generic/status] with attributes [#oauth2.throwOnError(authenticated)]\r\n13:57:18.414 DEBUG org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.writeWithMessageConverters() @101 - Written [error=&quot;unauthorized&quot;, error_description=&quot;Full authentication is required to access this resource&quot;] as &quot;application/json&quot; using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7b42bf94]\r\n13:57:18.415 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter() @118 - Cleared SecurityContextHolder to complete request\r\n```","title":"Spring security - How to whitelist localhost?","body":"<p>I am trying to set set an OAuth2 security system with client_credentials and a JWT token for a Spring boot api. I am using postman to test its functionality. So, there is a controller that does some basic things like GET Status request or GET tables of an entity request. The API works as intented when there is no security at all. It works perfectly when I am using a GET request with OAuth2 authentication through Postman as well.</p>\n<p>Now, I am trying to whitelist some IPs so when I am using the API from the localhost IP there is no need for authentication and all the resources are public but when somebody with a different IP tries to access it, then he needs to authenticate. The problem is, no matter what I do in the <strong>WebSecurityConfiguration.java</strong> on <em><strong>HttpSecurity</strong></em> configuration, Postman returns that I am unauthorized unless I authenticate with client_credentials.</p>\n<p>What I have tried:</p>\n<ul>\n<li>http.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();</li>\n<li>http.authorizeRequests().antMatchers(&quot;/**&quot;).hasIpAddress(&quot;::1&quot;).anyRequest().permitAll();</li>\n<li>http.authorizeRequests().antMatchers(&quot;/**&quot;).hasIpAddress(&quot;127.0.0.1&quot;).anyRequest().permitAll();</li>\n<li>http.authorizeRequests().anyRequest().access(&quot;hasIpAddress('127.0.0.1') or isAuthenticated()&quot;);</li>\n<li>http.authorizeRequests().anyRequest().permitAll();</li>\n</ul>\n<p>and some more combinations. Nothing works of the above. What do I do wrong and how can I grant public access to localhost but make other/external IPs to require authentication? Maybe I am testing it wrong from Postman?(I am changing Authentication from OAuth2 to NoAuth or Inherit from parent).</p>\n<p>I would like to note that <em>web.ignoring().antMatchers(&quot;/**&quot;);</em> on <strong>WebSecurity</strong> configuration works fine and removes authentication from all my resources.</p>\n<p><strong>WebSecurityConfiguration.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate UsersService usersService;\n\n@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Override\n@Autowired\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(usersService).passwordEncoder(encoder());\n}\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring();\n}\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/**&quot;)\n            .hasIpAddress(&quot;127.0.0.1&quot;)\n            .anyRequest().permitAll()\n        .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);\n}\n@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n}\n</code></pre>\n<p><strong>ConfigOAuth2.java</strong></p>\n<pre><code>@Configuration\npublic class ConfigOAuth2 extends AuthorizationServerConfigurerAdapter{\n\n@Value(&quot;test&quot;)\nprivate String clientId;\n@Value(&quot;test-key&quot;)\nprivate String clientSecret;\n\nprivate String privateKey = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; +\n        &quot;MIIEogIBAAKCAQEArOyEna4QGVfHs2uLkspnvg990DoG8LsTRVWUln6PNnzHdciU\\n&quot; +\n        &quot;wbTWa3Mmvnas3fH+ryAB+w3hgcRHH5D0SQzZG8JgcSnUDi4nxdjhcrdxeAMeeEKP\\n&quot; +\n        &quot;mWZPhUzmuNS5j1ZjRoLo/ih4PNssXdjy1w35h5qtrBTI3JrEkBMBQMkfHuWeK1EV\\n&quot; +\n        &quot;CCdP5krHl2Nf0vKG0MQVnU+FKbLzZtM3hryHTFMWHUAAijJ///nlimfU3Xdju4Nw\\n&quot; +\n        &quot;TIktaP1FWhUhSoNy0xVGYQVx3XlT2AG9mQeZWTmC8Vbw2X5BMXg1A0H/Rt55Vpf0\\n&quot; +\n        &quot;+HB4ZsMxRzvYWe6Xgf1+SCWH8O0mIS5DFohgfQIDAQABAoIBAENGjV2vL5I8hXQ3\\n&quot; +\n        &quot;XgjQ+EWIT2FogfS8Q4YRAor+WAdRymP3knA+Q8Fv/l3RW/XJRVWqtTqQLvDGhQkx\\n&quot; +\n        &quot;4uhcuEbFe7HrHRYbPNwLQcLYvat8Qyl0c9uxYzSwM38rO7oZWOxA2Baxdf3vIzar\\n&quot; +\n        &quot;xeaHCFKKihDN0UuKZvjKfA1RcesZtH9U4kZFJGZsAOvFkqvXKDA5G0CGqJJbDHuA\\n&quot; +\n        &quot;uBNIk7ggy+wsyLaGEWkj49IdYZhhMbkWaNKbYPi5zK7Wz54N/qi+HQl0tVQKXw4e\\n&quot; +\n        &quot;oJl24ua1IIhoHIS+ipX1pJVy4MKGh6gZizzl+9MvOzgp81APVPa6obpE2oT5XPAe\\n&quot; +\n        &quot;ovIRMh0CgYEA2WPwRSiHv0Sc/9g9dpK4M7tk+njoqdcn5oYMikWtMcqlGNhZbh2s\\n&quot; +\n        &quot;sQmB03354BArE5KQ4KA8tGzWVNXnf2k+8klNdlz+Q/GxS0G1E4aqkl4Dq/EfVif+\\n&quot; +\n        &quot;mb2gUccpXQ4ygFDmjP5tx7cqHNytYMYJ6rKPOA0GfqWS5XkPTMIZDB8CgYEAy6LT\\n&quot; +\n        &quot;yd4py19MNtsgLwR4F8A+/ffvCy9TRHnpAlYgzeTVW3LHN4j/3DQ25g/AOFsrx/1A\\n&quot; +\n        &quot;GBTq6g8SDSe4qDoRmaRPPVmVtwuVE9uH/F83vlz5LvMJqQCbOMMcJZc/lApP9fGM\\n&quot; +\n        &quot;yRKlvSyrrjialMFHiFU5HasyRArdQCE48jTJP+MCgYAuSHHCN6PXHAOVEPPdB9XB\\n&quot; +\n        &quot;5dbU4OMgLden48hNtBHwtOU7iexYXmcC9jQ20+5cPvT84MqJmHP0Mevb+gKkhMLL\\n&quot; +\n        &quot;EMI2PgxAaPfHPwEPXC96pBuCAv8Z97/j+ZRldNKgpkIoQZEkWZMD30JPDMi4/tDj\\n&quot; +\n        &quot;sAp/8337fsLsqj6QqA5vHwKBgHAUW6sk+y3zcrhSnQEj3ZF8/267Urd+Qb9TthrS\\n&quot; +\n        &quot;GtYYGBJwNxPq9KBXoMu5aZvbGlrFmcxnXvCagN36udjltSAyXmau8wc/ebrnPo56\\n&quot; +\n        &quot;Pe0psQDVRcDeE5EHWmuaNqUdk+sTGuDkwZJAjvGiN/qd8ugnt/sLaewnaqVMY9Jz\\n&quot; +\n        &quot;mTzvAoGAUKMucO57do5xYFezmCvrzaLhlQZi+3fBHlrribUEkdmJNC4Q4FGPcysS\\n&quot; +\n        &quot;TkcgVs0m7xgbubkn+yjuEVFsojWAPeJBIUnCbpDTIUDRARpbOCxgdVTdzIl3ACxc\\n&quot; +\n        &quot;r9q0DV3XIQ4SKYIUmgc2sFSrTEjEaisDLpZVMLZZaJQldXQfeFM=\\n&quot; +\n        &quot;-----END RSA PRIVATE KEY-----&quot;;\n\n\nprivate String publicKey = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; +\n        &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArOyEna4QGVfHs2uLkspn\\n&quot; +\n        &quot;vg990DoG8LsTRVWUln6PNnzHdciUwbTWa3Mmvnas3fH+ryAB+w3hgcRHH5D0SQzZ\\n&quot; +\n        &quot;G8JgcSnUDi4nxdjhcrdxeAMeeEKPmWZPhUzmuNS5j1ZjRoLo/ih4PNssXdjy1w35\\n&quot; +\n        &quot;h5qtrBTI3JrEkBMBQMkfHuWeK1EVCCdP5krHl2Nf0vKG0MQVnU+FKbLzZtM3hryH\\n&quot; +\n        &quot;TFMWHUAAijJ///nlimfU3Xdju4NwTIktaP1FWhUhSoNy0xVGYQVx3XlT2AG9mQeZ\\n&quot; +\n        &quot;WTmC8Vbw2X5BMXg1A0H/Rt55Vpf0+HB4ZsMxRzvYWe6Xgf1+SCWH8O0mIS5DFohg\\n&quot; +\n        &quot;fQIDAQAB\\n&quot; +\n        &quot;-----END PUBLIC KEY-----&quot;;\n\n@Autowired\n@Qualifier(&quot;authenticationManagerBean&quot;)\nprivate AuthenticationManager authenticationManager;\n\n@Autowired\nPasswordEncoder passwordEncoder;\n\n@Bean\npublic JwtAccessTokenConverter tokenEnhancer() {\n    JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n    converter.setSigningKey(privateKey);\n    converter.setVerifierKey(publicKey);\n    return converter;\n}\n\n@Bean\npublic JwtTokenStore tokenStore() {\n    return new JwtTokenStore(tokenEnhancer());\n}\n\n@Override\npublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n    endpoints.authenticationManager(authenticationManager).tokenStore(tokenStore())\n            .accessTokenConverter(tokenEnhancer());\n}\n@Override\npublic void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n    security.tokenKeyAccess(&quot;permitAll()&quot;).checkTokenAccess(&quot;isAuthenticated()&quot;);\n}\n@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients.inMemory()\n            .withClient(clientId)\n                .secret(passwordEncoder.encode(clientSecret))\n                .scopes(&quot;read&quot;, &quot;write&quot;)\n                .authorizedGrantTypes(&quot;client_credentials&quot;)\n                .accessTokenValiditySeconds(2000)\n                .refreshTokenValiditySeconds(200000);\n}\n}\n</code></pre>\n<p><strong>DEBUG logs</strong></p>\n<pre><code>13:57:13.024 INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn() @132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n13:57:13.034 INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn() @201 - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n13:57:13.523 INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize() @108 - Tomcat initialized with port(s): 9090 (http)\n13:57:13.618 INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext() @290 - Root WebApplicationContext: initialization completed in 1195 ms\n13:57:13.958 INFO  org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.logDataSources() @89 - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://172.16.69.19:3306/SpringRestApi'\n13:57:14.568 INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory() @437 - Initialized JPA EntityManagerFactory for persistence unit 'default'\n13:57:14.668 WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor() @219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n13:57:14.883 INFO  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter.setSigningKey() @178 - Configured with RSA signing key\n13:57:14.893 INFO  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter.afterPropertiesSet() @309 - Signing and verification RSA keys match\n13:57:15.003 DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$2.performBuild() @225 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.\n13:57:15.083 DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping.handlerMethodsInitialized() @367 - 8 mappings in 'oauth2EndpointHandlerMapping'\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [fullyAuthenticated] for Ant [pattern='/oauth/token']\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [permitAll()] for Ant [pattern='/oauth/token_key']\n13:57:15.155 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [isAuthenticated()] for Ant [pattern='/oauth/check_token']\n13:57:15.165 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure Or [Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1715471a, org.springframework.security.web.context.SecurityContextPersistenceFilter@39c4ff6a, org.springframework.security.web.header.HeaderWriterFilter@1dd2b124, org.springframework.security.web.authentication.logout.LogoutFilter@276931c8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@25ac2e09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b3977b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a22601a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9e81ea, org.springframework.security.web.session.SessionManagementFilter@65b44c8, org.springframework.security.web.access.ExceptionTranslationFilter@1202c487, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1884a702]\n13:57:15.175 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [authenticated] for any request\n13:57:15.175 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4405cf2c with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47946ba1, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f1bd95b, org.springframework.security.web.header.HeaderWriterFilter@c603be5, org.springframework.security.web.authentication.logout.LogoutFilter@21acfb59, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@a2e077c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bdde833, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36ef43be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a642abc, org.springframework.security.web.session.SessionManagementFilter@79fdff10, org.springframework.security.web.access.ExceptionTranslationFilter@54a61083, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f9718de]\n13:57:15.195 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [hasIpAddress('127.0.0.1') or hasIpAddress('::1') or isAuthenticated()] for Ant [pattern='/**']\n13:57:15.195 DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource.process() @72 - Adding web access control expression [authenticated] for any request\n13:57:15.195 INFO  org.springframework.security.web.DefaultSecurityFilterChain.&lt;init&gt;() @55 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d8aabe8, org.springframework.security.web.context.SecurityContextPersistenceFilter@f20d544, org.springframework.security.web.header.HeaderWriterFilter@5cbdfc31, org.springframework.security.web.csrf.CsrfFilter@7e8a74cc, org.springframework.security.web.authentication.logout.LogoutFilter@cf83769, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d584e6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eb77585, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20e8f0e6, org.springframework.security.web.session.SessionManagementFilter@6b5817fb, org.springframework.security.web.access.ExceptionTranslationFilter@4fabb82b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@facdff6]\n13:57:15.195 WARN  org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild() @322 - \n\n********************************************************************\n**********        Security debugging is enabled.       *************\n**********    This may include sensitive information.  *************\n**********      Do not use in a production system!     *************\n********************************************************************\n\n\n13:57:16.196 INFO  org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer.startServer() @58 - LiveReload server is running on port 35729\n13:57:16.206 INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver.&lt;init&gt;() @58 - Exposing 1 endpoint(s) beneath base path '/actuator'\n13:57:16.282 INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start() @220 - Tomcat started on port(s): 9090 (http) with context path '/api/v1.0'\n13:57:16.292 INFO  gr.daem.springrestgeneric.SpringRestGenericApplication.logStarted() @61 - Started SpringRestGenericApplication in 4.092 seconds (JVM running for 4.675)\n13:57:16.411 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean() @525 - Initializing Servlet 'dispatcherServlet'\n13:57:16.411 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean() @547 - Completed initialization in 0 ms\n13:57:18.390 INFO  Spring Security Debugger.info() @56 - \n\n************************************************************\n\nRequest received for GET '/generic/status':\n\norg.apache.catalina.connector.RequestFacade@57ece8c5\n\nservletPath:/generic/status\npathInfo:null\nheaders: \nuser-agent: PostmanRuntime/7.29.0\naccept: */*\ncache-control: no-cache\npostman-token: 5cf5e7b5-a4fe-4fb7-b420-91bec32d580c\nhost: localhost:9090\naccept-encoding: gzip, deflate, br\nconnection: keep-alive\n\n\nSecurity filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  LogoutFilter\n  OAuth2AuthenticationProcessingFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n]\n\n\n************************************************************\n\n\n13:57:18.393 DEBUG org.springframework.security.web.FilterChainProxy.doFilterInternal() @208 - Securing GET /generic/status\n13:57:18.394 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter() @102 - Set SecurityContextHolder to empty SecurityContext\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.BearerTokenExtractor.extractToken() @54 - Token not found in headers. Trying request parameters.\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.BearerTokenExtractor.extractToken() @57 - Token not found in request parameters.  Not an OAuth2 request.\n13:57:18.395 DEBUG org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter() @141 - No token in request, will continue chain.\n13:57:18.396 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter() @100 - Set SecurityContextHolder to anonymous SecurityContext\n13:57:18.398 DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor.attemptAuthorization() @247 - Failed to authorize filter invocation [GET /generic/status] with attributes [#oauth2.throwOnError(authenticated)]\n13:57:18.414 DEBUG org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.writeWithMessageConverters() @101 - Written [error=&quot;unauthorized&quot;, error_description=&quot;Full authentication is required to access this resource&quot;] as &quot;application/json&quot; using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7b42bf94]\n13:57:18.415 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter() @118 - Cleared SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":14330558,"reputation":89,"user_id":10351393,"display_name":"Anubhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651142814,"creation_date":1651141142,"answer_id":72041970,"question_id":72041910,"body_markdown":"You can add if condition like this inside `afterCompletion` method.\r\n\r\n    if(ex!=null){\r\n       Stream.of(\r\n                new String[]{&quot;/book&quot;, &quot;POST&quot;},\r\n                new String[]{&quot;/order&quot;, &quot;GET&quot;})\r\n                .filter((p)-&gt; Objects.equals(request.getServletPath(),p[0])&amp;&amp;Objects.equals(request.getMethod(),p[1]))\r\n                .findAny().ifPresent(r-&gt;{\r\n                System.out.println(&quot;//log oprations&quot;);\r\n        });\r\n    }","title":"Adding interceptor for success API response","body":"<p>You can add if condition like this inside <code>afterCompletion</code> method.</p>\n<pre><code>if(ex!=null){\n   Stream.of(\n            new String[]{&quot;/book&quot;, &quot;POST&quot;},\n            new String[]{&quot;/order&quot;, &quot;GET&quot;})\n            .filter((p)-&gt; Objects.equals(request.getServletPath(),p[0])&amp;&amp;Objects.equals(request.getMethod(),p[1]))\n            .findAny().ifPresent(r-&gt;{\n            System.out.println(&quot;//log oprations&quot;);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":16466407,"reputation":584,"user_id":11896414,"display_name":"once"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72041970,"answer_count":1,"score":0,"last_activity_date":1651142814,"creation_date":1651140877,"question_id":72041910,"body_markdown":"I have a Spring application where I want to log the user operation into a database table. E.g. if the user has called a POST createBook API, then I want to log this create action into a table.\r\n\r\nI intend to use the Spring `HandlerInterceptorAdapter` and to override the `afterCompletion` method. \r\n\r\nMy questions:\r\n1) If exception is thrown inside the API, will the `afterCompletion` method also be called? Is there any way to intercept only if no exception is thrown and it is a success response.\r\n\r\n2) There are only some specific set of APIs I want to intercept. Is there any elegant way to do other than checking the API path inside the method ?\r\n\r\n\r\n```\r\npublic class OperationInterceptor extends HandlerInterceptorAdapter {\r\n    \r\n    @Override\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response,\r\n            Object handler, Exception ex) {\r\n        if (&quot;/book&quot;.equals(request.getServletPath() &amp;&amp; &quot;POST&quot;.equals(request.getMethod())) {\r\n            //log the operation into db\r\n        }\r\n\r\n        if (&quot;/order&quot;.equals(request.getServletPath() &amp;&amp; &quot;POST&quot;.equals(request.getMethod())) {\r\n            //log the operation into db\r\n        }\r\n    }\r\n}","title":"Adding interceptor for success API response","body":"<p>I have a Spring application where I want to log the user operation into a database table. E.g. if the user has called a POST createBook API, then I want to log this create action into a table.</p>\n<p>I intend to use the Spring <code>HandlerInterceptorAdapter</code> and to override the <code>afterCompletion</code> method.</p>\n<p>My questions:</p>\n<ol>\n<li><p>If exception is thrown inside the API, will the <code>afterCompletion</code> method also be called? Is there any way to intercept only if no exception is thrown and it is a success response.</p>\n</li>\n<li><p>There are only some specific set of APIs I want to intercept. Is there any elegant way to do other than checking the API path inside the method ?</p>\n</li>\n</ol>\n<pre><code>public class OperationInterceptor extends HandlerInterceptorAdapter {\n    \n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response,\n            Object handler, Exception ex) {\n        if (&quot;/book&quot;.equals(request.getServletPath() &amp;&amp; &quot;POST&quot;.equals(request.getMethod())) {\n            //log the operation into db\n        }\n\n        if (&quot;/order&quot;.equals(request.getServletPath() &amp;&amp; &quot;POST&quot;.equals(request.getMethod())) {\n            //log the operation into db\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","variables"],"answers":[{"tags":[],"owner":{"account_id":24995148,"reputation":19,"user_id":18855953,"display_name":"0rb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651139407,"creation_date":1650331118,"answer_id":71918652,"question_id":71917830,"body_markdown":"If I&#39;ve understood well, here&#39;s how you should do it.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int score = 0; // the main activity thing\r\n\r\n            int displayScore = score; // the thing to use the same value as score\r\n\r\n            System.out.println(&quot;Score : &quot; + displayScore); // to simulate the setText\r\n       }\r\n    }\r\n","title":"How can i use a variable from an Activity to another Activty?","body":"<p>If I've understood well, here's how you should do it.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int score = 0; // the main activity thing\n\n        int displayScore = score; // the thing to use the same value as score\n\n        System.out.println(&quot;Score : &quot; + displayScore); // to simulate the setText\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651142340,"creation_date":1651142340,"answer_id":72042218,"question_id":71917830,"body_markdown":"[This question][1] explains perfectly how to use `putExtra()` and `getExtra()` methods for the **Intent** in Android, because I think that&#39;s what you need.\r\n\r\nAlso, if you find this difficult, you can store the score value into a sharedPreference and retrieve it from another activity. You can see the docs [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5265913/how-to-use-putextra-and-getextra-for-string-data\r\n  [2]: https://developer.android.com/reference/android/content/SharedPreferences","title":"How can i use a variable from an Activity to another Activty?","body":"<p><a href=\"https://stackoverflow.com/questions/5265913/how-to-use-putextra-and-getextra-for-string-data\">This question</a> explains perfectly how to use <code>putExtra()</code> and <code>getExtra()</code> methods for the <strong>Intent</strong> in Android, because I think that's what you need.</p>\n<p>Also, if you find this difficult, you can store the score value into a sharedPreference and retrieve it from another activity. You can see the docs <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24908186,"reputation":41,"user_id":18778011,"display_name":"DEV-rakibul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651142340,"creation_date":1650322202,"question_id":71917830,"body_markdown":"In my `MainActivity` i have a score variable, \r\n```int score = 0;```\r\n\r\nhowever  i have another activity which is the `DisplayScore` activity (which displays the score) ```txtFinalScore.setText(&quot;Score: &quot; + score);```\r\n\r\nhow can i use that same variable form my `MainActivity` to my `DisplayScore` activity so that i can display the score?","title":"How can i use a variable from an Activity to another Activty?","body":"<p>In my <code>MainActivity</code> i have a score variable,\n<code>int score = 0;</code></p>\n<p>however  i have another activity which is the <code>DisplayScore</code> activity (which displays the score) <code>txtFinalScore.setText(&quot;Score: &quot; + score);</code></p>\n<p>how can i use that same variable form my <code>MainActivity</code> to my <code>DisplayScore</code> activity so that i can display the score?</p>\n"},{"tags":["java","redis","reactive-programming","project-reactor","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651142336,"creation_date":1651142336,"answer_id":72042217,"question_id":72035029,"body_markdown":"The main idea of reactive is to work in stream so you should avoid subscribing everywhere you should just return the Flux, Mono Stream.\r\n\r\nTHe first example is not working as you dont subscribe the mono that redis gives you.\r\n\r\nAs you are using reactive why you mix it with java stream.\r\n\r\none solution would be like \r\n\r\n      public Mono&lt; YOUR_OBJECT &gt; save(Object YOUR_OBJECT) {\r\n    return template.opsForValue().set(YOUR_OBJECT.key, YOUR_OBJECT)\r\n        .filter(aBoolean -&gt; aBoolean)\r\n        .map(aBoolean -&gt; YOUR_OBJECT)\r\n        .switchIfEmpty(Mono.error(new RuntimeException(&quot;Could not save data to redis&quot;)));\r\n\r\n  }\r\n\r\nAnd you should be continuing the stream till the end when it will be subscribed by a controller or you","title":"How do you add elements to a Redis Hash and set the expiration using ReactiveRedisTemplate without block?","body":"<p>The main idea of reactive is to work in stream so you should avoid subscribing everywhere you should just return the Flux, Mono Stream.</p>\n<p>THe first example is not working as you dont subscribe the mono that redis gives you.</p>\n<p>As you are using reactive why you mix it with java stream.</p>\n<p>one solution would be like</p>\n<pre><code>  public Mono&lt; YOUR_OBJECT &gt; save(Object YOUR_OBJECT) {\nreturn template.opsForValue().set(YOUR_OBJECT.key, YOUR_OBJECT)\n    .filter(aBoolean -&gt; aBoolean)\n    .map(aBoolean -&gt; YOUR_OBJECT)\n    .switchIfEmpty(Mono.error(new RuntimeException(&quot;Could not save data to redis&quot;)));\n</code></pre>\n<p>}</p>\n<p>And you should be continuing the stream till the end when it will be subscribed by a controller or you</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72042217,"answer_count":1,"score":0,"last_activity_date":1651142336,"creation_date":1651091918,"question_id":72035029,"body_markdown":"If it wasn&#39;t reactive I&#39;d do something like.\r\n\r\n```java\r\n/**\r\n * Given a refresh token and the user name, create a &quot;payload&quot; to represent\r\n * secret data and store it into Redis as a hash and set it to expire in 30 seconds.\r\n */\r\nMap&lt;String, String&gt; provideAuthenticatedData(String refreshTokenMono, String username) {\r\n  var ops = redisTemplate.opsForHash();\r\n  var payload = Map.of(\r\n    &quot;username&quot;, username,\r\n    &quot;secret&quot;, UUID.randomUUID().toString()\r\n  );\r\n  var puts = payload.entrySet()\r\n    .stream()\r\n    .map(e-&gt;ops.putIfAbsent(refreshToken, e.key(), e.value())\r\n    .filter(success -&gt; !success) // finds those that have failed\r\n    .toList();\r\n  if (!puts.isEmpty()) {\r\n    throw new IllegalStateException(&quot;some elements failed to save&quot;);\r\n  }\r\n  var expireCheck = redisTemplate.expireAt(refreshToken, Instant.now().plusSeconds(30));\r\n  if (!expireCheck) {\r\n    throw new IllegalStateException(&quot;unable to expire&quot;);\r\n  }\r\n  return payload;\r\n}\r\n```\r\n\r\nTrying to do it with Reactive it looks to get a bit messier and I got stuck after a point\r\n\r\n```java\r\n/**\r\n * Given a refresh token mono and the user name, create a &quot;payload&quot; to represent\r\n * secret data and store it into Redis as a hash and set it to expire in 30 seconds.\r\n */\r\nMono&lt;Map&lt;String, String&gt;&gt; provideAuthenticatedData(Mono&lt;String&gt; refreshTokenMono, String username) {\r\n  var ops = reactiveRedisTemplate.opsForHash();\r\n  var payload = Map.of(\r\n    &quot;username&quot;, username,\r\n    &quot;secret&quot;, UUID.randomUUID().toString()\r\n  );\r\n  return refreshTokenMono\r\n    .flatMapIterable(\r\n      refreshToken -&gt; payload.entrySet()\r\n        .stream()\r\n        .map(\r\n          e -&gt; ops.putIfAbsent(refreshToken, e.getKey(), e.getValue())\r\n        )\r\n        .toList() // can&#39;t find an operator that would take a stream\r\n    )\r\n    // at this point I have a Flux&lt;Mono&lt;Boolean&gt;&gt;\r\n    // somehow I have to find out if any of them are false then return a Mono.error()\r\n    // then once all of it is done, set the key to expire\r\n    // finally return the payload I originally created\r\n}\r\n\r\n```\r\n\r\nAnother approach I did was this but it does not do any error handling.\r\n\r\n```\r\nMono&lt;Map&lt;String, String&gt;&gt; provideAuthenticatedDataMono(\r\n      Mono&lt;String&gt; refreshTokenMono, String username) {\r\n\r\n  var ops = reactiveRedisTemplate.opsForHash();\r\n  var payload = Map.of(\r\n    &quot;username&quot;, username,\r\n    &quot;secret&quot;, UUID.randomUUID().toString()\r\n  );\r\n\r\n  return refreshTokenMono\r\n    .doOnNext(\r\n        refreshToken -&gt;\r\n          payload\r\n            .entrySet()\r\n            .stream()\r\n            .map(\r\n              e -&gt;  ops.putIfAbsent(\r\n                refreshToken,\r\n                e.getKey(),\r\n                e.getValue())\r\n             )\r\n            .forEach(Mono::subscribe)\r\n    )\r\n    .doOnNext(\r\n       refreshToken -&gt;\r\n         redisTemplate\r\n           .expireAt(\r\n             refreshToken,\r\n             Instant.now().plusSeconds(30)\r\n           )\r\n           .subscribe()\r\n    )\r\n    .flatMap((x) -&gt; just(payload));\r\n  }\r\n}\r\n```","title":"How do you add elements to a Redis Hash and set the expiration using ReactiveRedisTemplate without block?","body":"<p>If it wasn't reactive I'd do something like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Given a refresh token and the user name, create a &quot;payload&quot; to represent\n * secret data and store it into Redis as a hash and set it to expire in 30 seconds.\n */\nMap&lt;String, String&gt; provideAuthenticatedData(String refreshTokenMono, String username) {\n  var ops = redisTemplate.opsForHash();\n  var payload = Map.of(\n    &quot;username&quot;, username,\n    &quot;secret&quot;, UUID.randomUUID().toString()\n  );\n  var puts = payload.entrySet()\n    .stream()\n    .map(e-&gt;ops.putIfAbsent(refreshToken, e.key(), e.value())\n    .filter(success -&gt; !success) // finds those that have failed\n    .toList();\n  if (!puts.isEmpty()) {\n    throw new IllegalStateException(&quot;some elements failed to save&quot;);\n  }\n  var expireCheck = redisTemplate.expireAt(refreshToken, Instant.now().plusSeconds(30));\n  if (!expireCheck) {\n    throw new IllegalStateException(&quot;unable to expire&quot;);\n  }\n  return payload;\n}\n</code></pre>\n<p>Trying to do it with Reactive it looks to get a bit messier and I got stuck after a point</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Given a refresh token mono and the user name, create a &quot;payload&quot; to represent\n * secret data and store it into Redis as a hash and set it to expire in 30 seconds.\n */\nMono&lt;Map&lt;String, String&gt;&gt; provideAuthenticatedData(Mono&lt;String&gt; refreshTokenMono, String username) {\n  var ops = reactiveRedisTemplate.opsForHash();\n  var payload = Map.of(\n    &quot;username&quot;, username,\n    &quot;secret&quot;, UUID.randomUUID().toString()\n  );\n  return refreshTokenMono\n    .flatMapIterable(\n      refreshToken -&gt; payload.entrySet()\n        .stream()\n        .map(\n          e -&gt; ops.putIfAbsent(refreshToken, e.getKey(), e.getValue())\n        )\n        .toList() // can't find an operator that would take a stream\n    )\n    // at this point I have a Flux&lt;Mono&lt;Boolean&gt;&gt;\n    // somehow I have to find out if any of them are false then return a Mono.error()\n    // then once all of it is done, set the key to expire\n    // finally return the payload I originally created\n}\n\n</code></pre>\n<p>Another approach I did was this but it does not do any error handling.</p>\n<pre><code>Mono&lt;Map&lt;String, String&gt;&gt; provideAuthenticatedDataMono(\n      Mono&lt;String&gt; refreshTokenMono, String username) {\n\n  var ops = reactiveRedisTemplate.opsForHash();\n  var payload = Map.of(\n    &quot;username&quot;, username,\n    &quot;secret&quot;, UUID.randomUUID().toString()\n  );\n\n  return refreshTokenMono\n    .doOnNext(\n        refreshToken -&gt;\n          payload\n            .entrySet()\n            .stream()\n            .map(\n              e -&gt;  ops.putIfAbsent(\n                refreshToken,\n                e.getKey(),\n                e.getValue())\n             )\n            .forEach(Mono::subscribe)\n    )\n    .doOnNext(\n       refreshToken -&gt;\n         redisTemplate\n           .expireAt(\n             refreshToken,\n             Instant.now().plusSeconds(30)\n           )\n           .subscribe()\n    )\n    .flatMap((x) -&gt; just(payload));\n  }\n}\n</code></pre>\n"},{"tags":["java","hashmap","containskey"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1651141361,"post_id":72042008,"comment_id":127295115,"body_markdown":"use IdentityHashMap instead","body":"use IdentityHashMap instead"}],"answers":[{"tags":[],"owner":{"account_id":19357099,"reputation":41,"user_id":16293155,"display_name":"twynb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651141949,"creation_date":1651141949,"answer_id":72042140,"question_id":72042008,"body_markdown":"Java has a class called [IdentityHashMap][1], which does exactly what you want - it compares the reference rather than using equals().\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/IdentityHashMap.html","title":"Get an element from a hashmap by == operator, rather than .equal in java","body":"<p>Java has a class called <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/IdentityHashMap.html\" rel=\"nofollow noreferrer\">IdentityHashMap</a>, which does exactly what you want - it compares the reference rather than using equals().</p>\n"}],"owner":{"account_id":18084692,"reputation":15,"user_id":13145909,"display_name":"nsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72042140,"answer_count":1,"score":1,"last_activity_date":1651141949,"creation_date":1651141324,"question_id":72042008,"body_markdown":"I have a hashmap and I want to find a key by reference. I found out that the `get(key)` method uses `.equal()` to find a key. But I need it to use `==` to find it by reference. \r\nFor example in the below code:\r\n\r\n    HashMap&lt;List, String&gt; myMap = new HashMap&lt;List, String&gt;();\r\n\tList&lt;String&gt; pets = new ArrayList&lt;&gt;();\r\n\tpets.add(&quot;cat&quot;);\r\n\tpets.add(&quot;dog&quot;);\r\n\t\t\r\n\tmyMap.put(pets, &quot;pets&quot;);\r\n\t\t\r\n\tList&lt;String&gt; animals = new ArrayList&lt;&gt;();\r\n\tanimals.add(&quot;cat&quot;);\r\n\tanimals.add(&quot;dog&quot;);\r\n\t\t\r\n\tvar alreadyExists = myMap.containsKey(animals); //I want this to return false\r\n\tif(!alreadyExists) {\r\n\t\tmyMap.put(animals, &quot;pets&quot;);\r\n\t}\r\n\t\t\r\n\tSystem.out.println(myMap.size());  //and therefore, I want this to print 2!\r\nAs I have commented, I need the `alreadyExists` to be `false`.\r\n\r\nI am new to java but in c# you could easily do such things with something like:\r\n\r\n``` var alreadyExists = myMap.containsKey(a =&gt; a == animals); ```\r\n\r\nIs there any way to do such things in Java, as I do **not** want to override the `equal()` method!","title":"Get an element from a hashmap by == operator, rather than .equal in java","body":"<p>I have a hashmap and I want to find a key by reference. I found out that the <code>get(key)</code> method uses <code>.equal()</code> to find a key. But I need it to use <code>==</code> to find it by reference.\nFor example in the below code:</p>\n<pre><code>HashMap&lt;List, String&gt; myMap = new HashMap&lt;List, String&gt;();\nList&lt;String&gt; pets = new ArrayList&lt;&gt;();\npets.add(&quot;cat&quot;);\npets.add(&quot;dog&quot;);\n    \nmyMap.put(pets, &quot;pets&quot;);\n    \nList&lt;String&gt; animals = new ArrayList&lt;&gt;();\nanimals.add(&quot;cat&quot;);\nanimals.add(&quot;dog&quot;);\n    \nvar alreadyExists = myMap.containsKey(animals); //I want this to return false\nif(!alreadyExists) {\n    myMap.put(animals, &quot;pets&quot;);\n}\n    \nSystem.out.println(myMap.size());  //and therefore, I want this to print 2!\n</code></pre>\n<p>As I have commented, I need the <code>alreadyExists</code> to be <code>false</code>.</p>\n<p>I am new to java but in c# you could easily do such things with something like:</p>\n<p><code>var alreadyExists = myMap.containsKey(a =&gt; a == animals);</code></p>\n<p>Is there any way to do such things in Java, as I do <strong>not</strong> want to override the <code>equal()</code> method!</p>\n"},{"tags":["java","android","simpledateformat","time-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651137513,"post_id":72041073,"comment_id":127293579,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It is so much nicer to work with."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1651137655,"post_id":72041073,"comment_id":127293648,"body_markdown":"`DateTimeFormatter.ofLocalizedTime(FormatStyle.SHORT)` will give you the short time pattern repsecting usage of 12 or 24 hours clock for the default locale. Similar for `FormatStyle.LONG`. Use that formatter for formatting a `LocalTime` or other java.time class that holds a time of day (such as for example `ZonedDateTime`).","body":"<code>DateTimeFormatter.ofLocalizedTime(FormatStyle.SHORT)</code> will give you the short time pattern repsecting usage of 12 or 24 hours clock for the default locale. Similar for <code>FormatStyle.LONG</code>. Use that formatter for formatting a <code>LocalTime</code> or other java.time class that holds a time of day (such as for example <code>ZonedDateTime</code>)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651137883,"post_id":72041073,"comment_id":127293752,"body_markdown":"*Is there a reason*? This is because they were not in Sun’s and Oracle’s design for Java and Goggle did not add them later for Android. I also believe that `t` and `T` are not in the Unicode standard that inspired the design.","body":"<i>Is there a reason</i>? This is because they were not in Sun’s and Oracle’s design for Java and Goggle did not add them later for Android. I also believe that <code>t</code> and <code>T</code> are not in the Unicode standard that inspired the design."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651141984,"post_id":72041073,"comment_id":127295343,"body_markdown":"It may also be part of the story that C# was designed later than Java and `SimpleDateFormat`.","body":"It may also be part of the story that C# was designed later than Java and <code>SimpleDateFormat</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651556051,"post_id":72041073,"comment_id":127385610,"body_markdown":"I don’t think it makes any sense to compare the format pattern letters of [Micorsoft](https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-date-and-time-format-strings) with those of Java that you link to. The two sets are built from completely different philosophies, and I don’t see any similarity.","body":"I don’t think it makes any sense to compare the format pattern letters of <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-date-and-time-format-strings\" rel=\"nofollow noreferrer\">Micorsoft</a> with those of Java that you link to. The two sets are built from completely different philosophies, and I don’t see any similarity."},{"owner":{"account_id":1825074,"reputation":1804,"user_id":1658110,"accept_rate":68,"display_name":"Dživo Jelić"},"score":0,"creation_date":1651670716,"post_id":72041073,"comment_id":127418053,"body_markdown":"@OleV.V. i see differences ms one is better :D","body":"@OleV.V. i see differences ms one is better :D"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651671250,"post_id":72041073,"comment_id":127418300,"body_markdown":"It depends on your purpose. If MS is better for your purpose, then it is so.","body":"It depends on your purpose. If MS is better for your purpose, then it is so."},{"owner":{"account_id":1825074,"reputation":1804,"user_id":1658110,"accept_rate":68,"display_name":"Dživo Jelić"},"score":1,"creation_date":1651681278,"post_id":72041073,"comment_id":127422483,"body_markdown":"@OleV.V. It depend on purpose its just better SDF is not as advanced period. But thats the discussion for forum not stack overflow","body":"@OleV.V. It depend on purpose its just better SDF is not as advanced period. But thats the discussion for forum not stack overflow"}],"owner":{"account_id":1825074,"reputation":1804,"user_id":1658110,"accept_rate":68,"display_name":"Dživo Jelić"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651141918,"creation_date":1651137316,"question_id":72041073,"body_markdown":"Is there a reason why `SimpleDateFormat` has no &quot;t&quot; and &quot;T&quot; similar to c#?\r\nFor example if you want to have a custom format and not worry about 24hour or 12am/pm formats; also Egypt has its own format\r\n\r\nhttps://developer.android.com/reference/java/text/SimpleDateFormat\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V6VP9.png","title":"SimpleDateFormat is missing short and long time patterns","body":"<p>Is there a reason why <code>SimpleDateFormat</code> has no &quot;t&quot; and &quot;T&quot; similar to c#?\nFor example if you want to have a custom format and not worry about 24hour or 12am/pm formats; also Egypt has its own format</p>\n<p><a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/text/SimpleDateFormat</a></p>\n<p><a href=\"https://i.stack.imgur.com/V6VP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6VP9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","gwtbootstrap3"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651121144,"post_id":72035160,"comment_id":127288471,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":1,"creation_date":1651126924,"post_id":72035160,"comment_id":127289699,"body_markdown":"You&#39;re using relative paths in your jsp which is usually not a good idea. There&#39;s a explanation of that [here](https://stackoverflow.com/questions/17621324/relative-path-to-css-file) which may help you with your problem.","body":"You&#39;re using relative paths in your jsp which is usually not a good idea. There&#39;s a explanation of that <a href=\"https://stackoverflow.com/questions/17621324/relative-path-to-css-file\">here</a> which may help you with your problem."}],"answers":[{"tags":[],"owner":{"account_id":23302581,"reputation":91,"user_id":17383009,"display_name":"Grim Ranger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651141686,"creation_date":1651141686,"answer_id":72042080,"question_id":72035160,"body_markdown":"it was because im using a relative path, my solution was to add&quot;../&quot; to the start of the link and it fixed it !\r\n       href=&quot;../webjars/bootstrap/5.0.2/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\r\nthanks to @HopeyOne","title":"bootstrap not loading on a specific url in my spring boot project","body":"<p>it was because im using a relative path, my solution was to add&quot;../&quot; to the start of the link and it fixed it !\nhref=&quot;../webjars/bootstrap/5.0.2/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\nthanks to @HopeyOne</p>\n"}],"owner":{"account_id":23302581,"reputation":91,"user_id":17383009,"display_name":"Grim Ranger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651141686,"creation_date":1651092825,"question_id":72035160,"body_markdown":"iam using bootstrap in my project,&lt;br&gt;\r\nto do that iam including it and jquery in my pom.xml, and i add \r\n\r\n     href=&quot;webjars/bootstrap/3.3.6/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; \r\n     src=&quot;webjars/jquery/1.9.1/jquery.min.js&quot;\r\n     script src=&quot;webjars/bootstrap/3.3.6/js/bootstrap.min.js&quot;\r\nin my jsp, and all of them seem to run bootstrap fine, only one, which is at directory &quot;/student/{Cid}&quot;, just wont load bootstrap, it looks like plane html with no css.\r\n\r\nhere is my student controller:\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/student&quot;)\r\n    public class StudentController {\r\n\r\n    @Autowired\r\n    private StudentDao dao;\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public String showStudentPage(ModelMap model, HttpServletRequest request) {\r\n        String UserID = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\n        Student currentStudent = dao.getStudent(Integer.parseInt(UserID));\r\n        model.put(&quot;name&quot;, currentStudent.getName());\r\n        ArrayList&lt;CourseMark&gt; list =  dao.getStudentCourses(currentStudent.getId());\r\n        model.put(&quot;StudentCourse&quot;,list);\r\n\r\n        return &quot;studentPage&quot;;\r\n    }\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public String test(@RequestParam String Cid) {\r\n        return &quot;redirect:/student/&quot;+Cid;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/{Cid}&quot;, method = RequestMethod.GET)\r\n    public String showMarkDetails(ModelMap model,@PathVariable String Cid) {\r\n        String UserID = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\n        List&lt;Float&gt; marks = dao.getCourseMarks(Cid);\r\n        CourseMark CM=dao.getStudentCourse(Integer.parseInt(UserID),Cid);\r\n\r\n        double max = Collections.max(marks);\r\n        double min = Collections.min(marks);\r\n        double avg = marks.stream().mapToDouble(d -&gt; d).sum() / marks.size();\r\n        Collections.sort(marks);\r\n        double mid = marks.size() % 2 != 0 ? marks.get(marks.size() / 2) :\r\n                (marks.get(marks.size() / 2) + marks.get(marks.size() / 2 - 1)) / 2;\r\n        model.put(&quot;ID&quot;,Cid);\r\n        model.put(&quot;Mark&quot;,CM.getMark());\r\n        model.put(&quot;min&quot;,String.format(&quot;%.1f&quot;,min));\r\n        model.put(&quot;max&quot;,String.format(&quot;%.1f&quot;,max));\r\n        model.put(&quot;avg&quot;,String.format(&quot;%.1f&quot;,avg));\r\n        model.put(&quot;mid&quot;,String.format(&quot;%.1f&quot;,mid));\r\n        model.put(&quot;Cname&quot;,CM.getCourseName());\r\n\r\n        return &quot;markDetails&quot;;\r\n    }\r\n\r\n    }\r\n\r\nmy pom :\r\n\r\n\t   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n     4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.gradingSystem&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-grading-system&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\t&lt;name&gt;spring-grading-system&lt;/name&gt;\r\n\t\t&lt;description&gt;part 3 of the webApp assignment&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;8.0.25&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;taglibs-standard-spec&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.6&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.9.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t\r\n\t&lt;/project&gt;\r\n\r\nthe jsp im trying to use bootstrap on :\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Details of ${Cname}&lt;/title&gt;\r\n        &lt;link href=&quot;webjars/bootstrap/3.3.6/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;h1 style=&quot;margin:50px;margin-top:30px;&quot;&gt;Details of ${Cname}&lt;/h1&gt;\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                      &lt;th&gt;ID&lt;/th&gt;\r\n                      &lt;th&gt;Your Mark&lt;/th&gt;\r\n                      &lt;th&gt;Course Minimum&lt;/th&gt;\r\n                      &lt;th&gt;Course Maximum&lt;/th&gt;\r\n                      &lt;th&gt;Course average&lt;/th&gt;\r\n                      &lt;th&gt;Course median&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td &gt;${ID}&lt;/td&gt;\r\n                    &lt;td &gt;${Mark}&lt;/td&gt;\r\n                    &lt;td &gt;${min}&lt;/td&gt;\r\n                    &lt;td &gt;${max}&lt;/td&gt;\r\n                    &lt;td &gt;${avg}&lt;/td&gt;\r\n                    &lt;td &gt;${mid}&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n        &lt;form action=&quot;/student&quot; method=&quot;GET&quot;&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Back&quot; class=&quot;btn btn-primary&quot; style=&quot;width: 100px;&quot;&gt;\r\n        &lt;/form&gt;\r\n        &lt;/div&gt;\r\n        &lt;script src=&quot;webjars/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;webjars/bootstrap/3.3.6/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\ni cant figure out what the problem is \r\nive tried turning off security and it didnt work.\r\nthe bootstrap seems to run everywhere else. but when i get into that url, it just wont load.","title":"bootstrap not loading on a specific url in my spring boot project","body":"<p>iam using bootstrap in my project,<br>\nto do that iam including it and jquery in my pom.xml, and i add</p>\n<pre><code> href=&quot;webjars/bootstrap/3.3.6/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; \n src=&quot;webjars/jquery/1.9.1/jquery.min.js&quot;\n script src=&quot;webjars/bootstrap/3.3.6/js/bootstrap.min.js&quot;\n</code></pre>\n<p>in my jsp, and all of them seem to run bootstrap fine, only one, which is at directory &quot;/student/{Cid}&quot;, just wont load bootstrap, it looks like plane html with no css.</p>\n<p>here is my student controller:</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/student&quot;)\npublic class StudentController {\n\n@Autowired\nprivate StudentDao dao;\n\n@RequestMapping(method = RequestMethod.GET)\npublic String showStudentPage(ModelMap model, HttpServletRequest request) {\n    String UserID = SecurityContextHolder.getContext().getAuthentication().getName();\n\n    Student currentStudent = dao.getStudent(Integer.parseInt(UserID));\n    model.put(&quot;name&quot;, currentStudent.getName());\n    ArrayList&lt;CourseMark&gt; list =  dao.getStudentCourses(currentStudent.getId());\n    model.put(&quot;StudentCourse&quot;,list);\n\n    return &quot;studentPage&quot;;\n}\n@RequestMapping(method = RequestMethod.POST)\npublic String test(@RequestParam String Cid) {\n    return &quot;redirect:/student/&quot;+Cid;\n}\n\n@RequestMapping(value = &quot;/{Cid}&quot;, method = RequestMethod.GET)\npublic String showMarkDetails(ModelMap model,@PathVariable String Cid) {\n    String UserID = SecurityContextHolder.getContext().getAuthentication().getName();\n\n    List&lt;Float&gt; marks = dao.getCourseMarks(Cid);\n    CourseMark CM=dao.getStudentCourse(Integer.parseInt(UserID),Cid);\n\n    double max = Collections.max(marks);\n    double min = Collections.min(marks);\n    double avg = marks.stream().mapToDouble(d -&gt; d).sum() / marks.size();\n    Collections.sort(marks);\n    double mid = marks.size() % 2 != 0 ? marks.get(marks.size() / 2) :\n            (marks.get(marks.size() / 2) + marks.get(marks.size() / 2 - 1)) / 2;\n    model.put(&quot;ID&quot;,Cid);\n    model.put(&quot;Mark&quot;,CM.getMark());\n    model.put(&quot;min&quot;,String.format(&quot;%.1f&quot;,min));\n    model.put(&quot;max&quot;,String.format(&quot;%.1f&quot;,max));\n    model.put(&quot;avg&quot;,String.format(&quot;%.1f&quot;,avg));\n    model.put(&quot;mid&quot;,String.format(&quot;%.1f&quot;,mid));\n    model.put(&quot;Cname&quot;,CM.getCourseName());\n\n    return &quot;markDetails&quot;;\n}\n\n}\n</code></pre>\n<p>my pom :</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n 4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.gradingSystem&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-grading-system&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;spring-grading-system&lt;/name&gt;\n    &lt;description&gt;part 3 of the webApp assignment&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;taglibs-standard-spec&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>the jsp im trying to use bootstrap on :</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Details of ${Cname}&lt;/title&gt;\n    &lt;link href=&quot;webjars/bootstrap/3.3.6/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;h1 style=&quot;margin:50px;margin-top:30px;&quot;&gt;Details of ${Cname}&lt;/h1&gt;\n    &lt;table class=&quot;table&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                  &lt;th&gt;ID&lt;/th&gt;\n                  &lt;th&gt;Your Mark&lt;/th&gt;\n                  &lt;th&gt;Course Minimum&lt;/th&gt;\n                  &lt;th&gt;Course Maximum&lt;/th&gt;\n                  &lt;th&gt;Course average&lt;/th&gt;\n                  &lt;th&gt;Course median&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr&gt;\n                &lt;td &gt;${ID}&lt;/td&gt;\n                &lt;td &gt;${Mark}&lt;/td&gt;\n                &lt;td &gt;${min}&lt;/td&gt;\n                &lt;td &gt;${max}&lt;/td&gt;\n                &lt;td &gt;${avg}&lt;/td&gt;\n                &lt;td &gt;${mid}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;form action=&quot;/student&quot; method=&quot;GET&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Back&quot; class=&quot;btn btn-primary&quot; style=&quot;width: 100px;&quot;&gt;\n    &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;script src=&quot;webjars/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;webjars/bootstrap/3.3.6/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>i cant figure out what the problem is\nive tried turning off security and it didnt work.\nthe bootstrap seems to run everywhere else. but when i get into that url, it just wont load.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1505690255,"creation_date":1505613709,"answer_id":46260004,"question_id":46259878,"body_markdown":"Well, I found the answer from this post https://stackoverflow.com/a/38690930/5266568\r\n\r\n\r\n\r\nAdding the config below in application.properties fixed the issue :\r\n\r\n\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n\r\n\r\n\r\n**Another solution that worked for me, but please note that I still need to understand more on how it really fixed the issue**\r\n\r\n@Transactional ensures that all of the method calls in that test method happens within same boundary.\r\n\r\n    \t@Test\r\n\t\t@Transactional\r\n\t\tpublic void testFindByRegionIdEquals() {\r\n\t\t\tRegion region = regionService.findByRegionIdEquals(1L);\r\n\t\t\tRegion expectedRegion = new Region(1L, &quot;Europe&quot;);\r\n\t\t\tassertThat(region).isNotNull().isEqualTo(expectedRegion);\r\n\t\t\tassertThat(region.getCountries()).isNotEmpty().doesNotContainNull().size().isEqualTo(8);\r\n\t\t}\r\n\r\n\r\n","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: FQPropretyName, could not initialize proxy - no Session","body":"<p>Well, I found the answer from this post <a href=\"https://stackoverflow.com/a/38690930/5266568\">https://stackoverflow.com/a/38690930/5266568</a></p>\n\n<p>Adding the config below in application.properties fixed the issue :</p>\n\n<pre><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n\n<p><strong>Another solution that worked for me, but please note that I still need to understand more on how it really fixed the issue</strong></p>\n\n<p>@Transactional ensures that all of the method calls in that test method happens within same boundary.</p>\n\n<pre><code>    @Test\n    @Transactional\n    public void testFindByRegionIdEquals() {\n        Region region = regionService.findByRegionIdEquals(1L);\n        Region expectedRegion = new Region(1L, \"Europe\");\n        assertThat(region).isNotNull().isEqualTo(expectedRegion);\n        assertThat(region.getCountries()).isNotEmpty().doesNotContainNull().size().isEqualTo(8);\n    }\n</code></pre>\n"}],"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21451,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1651141600,"creation_date":1505611742,"question_id":46259878,"body_markdown":"I am trying a ManyToOne Bi-Directional Association using SpringBoot, SpringDataJpa along with a unit test using SpringBootTest. However the test fails with the stacktrace shown below. However I am Unable to find the reason. Any pointers will be helpful\r\n\r\nBelow Spring Boot JUnit Test for ManyToOne Bi-Directional Association fails. \r\n\r\n\t\t@Test\r\n\t\tpublic void testFindByRegionIdEquals() {\r\n\t\t\tRegion region = regionService.findByRegionIdEquals(1L);\r\n\t\t\tRegion expectedRegion = new Region(1L, &quot;Europe&quot;);\r\n\t\t\tassertThat(region).isNotNull().isEqualTo(expectedRegion);\r\n\t\t\tassertThat(region.getCountries()).isNotEmpty().doesNotContainNull().size().isEqualTo(8);\r\n\t\t}\r\n\r\n***Exception StackTrace***\r\n\r\n    \torg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: zikzakjack.domain.Region.countries, could not initialize proxy - no Session\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:587)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:204)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)\r\n\t\tat org.hibernate.collection.internal.PersistentSet.isEmpty(PersistentSet.java:149)\r\n\t\tat org.assertj.core.util.IterableUtil.isNullOrEmpty(IterableUtil.java:35)\r\n\t\tat org.assertj.core.internal.Iterables.assertNotEmpty(Iterables.java:152)\r\n\t\tat org.assertj.core.api.AbstractIterableAssert.isNotEmpty(AbstractIterableAssert.java:145)\r\n\t\tat zikzakjack.service.RegionServiceTests.testFindByRegionIdEquals(RegionServiceTests.java:68)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\r\n***Owning Entity ManyToOne***\r\n\r\n\r\n\t@Data\r\n\t@Entity\r\n\t@Table(name = &quot;COUNTRIES&quot;)\r\n\tpublic class Country implements Serializable, Comparable&lt;Country&gt; {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t@Id\r\n\t\t@Column(name = &quot;COUNTRY_ID&quot;)\r\n\t\tprivate String countryId;\r\n\r\n\t\t@Column(name = &quot;COUNTRY_NAME&quot;)\r\n\t\tprivate String countryName;\r\n\r\n\t\t@ManyToOne\r\n\t\t@JoinColumn(name = &quot;REGION_ID&quot;)\r\n\t\tprivate Region region;\r\n\r\n\t\tpublic Country() {\r\n\r\n\t\t}\r\n\r\n\t\tpublic Country(String countryId, String countryName, Region region) {\r\n\t\t\tsuper();\r\n\t\t\tthis.countryId = countryId;\r\n\t\t\tthis.countryName = countryName;\r\n\t\t\tthis.region = region;\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\r\n\r\n\r\n***Non - Owning Entity OneToMany with mappedBy ***\r\n\r\n    \t\t\r\n\t@Data\r\n\t@Entity\r\n\t@Table(name = &quot;REGIONS&quot;)\r\n\tpublic class Region implements Serializable, Comparable&lt;Region&gt; {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;REGION_ID&quot;)\r\n\t\tprivate Long regionId;\r\n\r\n\t\t@Column(name = &quot;REGION_NAME&quot;)\r\n\t\tprivate String regionName;\r\n\r\n\t\t@OneToMany(mappedBy = &quot;region&quot;, fetch = FetchType.LAZY)\r\n\t\tprivate Set&lt;Country&gt; countries = new HashSet&lt;Country&gt;();\r\n\r\n\t\tpublic Region() {\r\n\t\t}\r\n\r\n\t\tpublic Region(Long regionId, String regionName) {\r\n\t\t\tthis.regionId = regionId;\r\n\t\t\tthis.regionName = regionName;\r\n\t\t}\r\n\r\n\t\tpublic Region(String regionName) {\r\n\t\t\tthis.regionName = regionName;\r\n\t\t}\r\n\r\n\t\tpublic void addCountry(Country country) {\r\n\t\t\tcountries.add(country);\r\n\t\t\tcountry.setRegion(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: FQPropretyName, could not initialize proxy - no Session","body":"<p>I am trying a ManyToOne Bi-Directional Association using SpringBoot, SpringDataJpa along with a unit test using SpringBootTest. However the test fails with the stacktrace shown below. However I am Unable to find the reason. Any pointers will be helpful</p>\n\n<p>Below Spring Boot JUnit Test for ManyToOne Bi-Directional Association fails. </p>\n\n<pre><code>    @Test\n    public void testFindByRegionIdEquals() {\n        Region region = regionService.findByRegionIdEquals(1L);\n        Region expectedRegion = new Region(1L, \"Europe\");\n        assertThat(region).isNotNull().isEqualTo(expectedRegion);\n        assertThat(region.getCountries()).isNotEmpty().doesNotContainNull().size().isEqualTo(8);\n    }\n</code></pre>\n\n<p><strong><em>Exception StackTrace</em></strong></p>\n\n<pre><code>    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: zikzakjack.domain.Region.countries, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:587)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:204)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)\n    at org.hibernate.collection.internal.PersistentSet.isEmpty(PersistentSet.java:149)\n    at org.assertj.core.util.IterableUtil.isNullOrEmpty(IterableUtil.java:35)\n    at org.assertj.core.internal.Iterables.assertNotEmpty(Iterables.java:152)\n    at org.assertj.core.api.AbstractIterableAssert.isNotEmpty(AbstractIterableAssert.java:145)\n    at zikzakjack.service.RegionServiceTests.testFindByRegionIdEquals(RegionServiceTests.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n\n<p><strong><em>Owning Entity ManyToOne</em></strong></p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"COUNTRIES\")\npublic class Country implements Serializable, Comparable&lt;Country&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = \"COUNTRY_ID\")\n    private String countryId;\n\n    @Column(name = \"COUNTRY_NAME\")\n    private String countryName;\n\n    @ManyToOne\n    @JoinColumn(name = \"REGION_ID\")\n    private Region region;\n\n    public Country() {\n\n    }\n\n    public Country(String countryId, String countryName, Region region) {\n        super();\n        this.countryId = countryId;\n        this.countryName = countryName;\n        this.region = region;\n    }\n\n}\n</code></pre>\n\n<p><strong>*Non - Owning Entity OneToMany with mappedBy *</strong></p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"REGIONS\")\npublic class Region implements Serializable, Comparable&lt;Region&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"REGION_ID\")\n    private Long regionId;\n\n    @Column(name = \"REGION_NAME\")\n    private String regionName;\n\n    @OneToMany(mappedBy = \"region\", fetch = FetchType.LAZY)\n    private Set&lt;Country&gt; countries = new HashSet&lt;Country&gt;();\n\n    public Region() {\n    }\n\n    public Region(Long regionId, String regionName) {\n        this.regionId = regionId;\n        this.regionName = regionName;\n    }\n\n    public Region(String regionName) {\n        this.regionName = regionName;\n    }\n\n    public void addCountry(Country country) {\n        countries.add(country);\n        country.setRegion(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","transactional-database"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1587996084,"post_id":61460187,"comment_id":108721233,"body_markdown":"In this particular case (when operating existing entity within same Session) it&#39;s not necessary, since `@Transactional` under the hood saves and flushes all changes to managed entities to DB","body":"In this particular case (when operating existing entity within same Session) it&#39;s not necessary, since <code>@Transactional</code> under the hood saves and flushes all changes to managed entities to DB"}],"answers":[{"tags":[],"owner":{"account_id":4676448,"reputation":1020,"user_id":3786622,"display_name":"InsertKnowledge"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1587996987,"creation_date":1587995907,"answer_id":61460601,"question_id":61460187,"body_markdown":"It works like following:\r\n\r\n- `save()` attaches the entity to the session and at the end of the transaction as long as there were no exceptions it will all be persisted to the database. \r\n\r\n- Now if you get the object from the DB (e.g. `ObjectEntity objectEntity = objectRepository.find();`) then **that object is already attached and you don&#39;t need to call the save() method**. \r\n\r\n- If the object, however, is detached (e.g. `ObjectEntity objectEntity = new ObjectEntity();`) then **you must use the save() method** in order to attach it to the session so that changes made to it are persisted to the DB.","title":"@Transactional spring JPA .save() not necessary?","body":"<p>It works like following:</p>\n\n<ul>\n<li><p><code>save()</code> attaches the entity to the session and at the end of the transaction as long as there were no exceptions it will all be persisted to the database. </p></li>\n<li><p>Now if you get the object from the DB (e.g. <code>ObjectEntity objectEntity = objectRepository.find();</code>) then <strong>that object is already attached and you don't need to call the save() method</strong>. </p></li>\n<li><p>If the object, however, is detached (e.g. <code>ObjectEntity objectEntity = new ObjectEntity();</code>) then <strong>you must use the save() method</strong> in order to attach it to the session so that changes made to it are persisted to the DB.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651141588,"creation_date":1651141588,"answer_id":72042063,"question_id":61460187,"body_markdown":"*[It is a little too late, but I hope it would be helpful to future readers]*:\r\n\r\nWithin a transaction context, an update to a managed instance is reflected in the persistence storage at the commit/flush time, i.e., in your case at the end of `methodB()`. However, calling `save()` comes with a cost in scenarios like yours, as stated in [Spring Boot Persistence Best Practices][1]:\r\n\r\n&gt; The presence or absence of save() doesn’t affect the number or type of\r\n&gt; queries, but it still has a performance penalty, because the save()\r\n&gt; method fires a MergeEvent behind the scenes, which will execute a\r\n&gt; bunch of Hibernate-specific internal operations that are useless in\r\n&gt; this case. So, in scenarios such as these, avoid the explicit call of\r\n&gt; the save() method.\r\n\r\n\r\n  [1]: https://www.amazon.de/-/en/Anghel-Leonard/dp/1484256255","title":"@Transactional spring JPA .save() not necessary?","body":"<p><em>[It is a little too late, but I hope it would be helpful to future readers]</em>:</p>\n<p>Within a transaction context, an update to a managed instance is reflected in the persistence storage at the commit/flush time, i.e., in your case at the end of <code>methodB()</code>. However, calling <code>save()</code> comes with a cost in scenarios like yours, as stated in <a href=\"https://www.amazon.de/-/en/Anghel-Leonard/dp/1484256255\" rel=\"nofollow noreferrer\">Spring Boot Persistence Best Practices</a>:</p>\n<blockquote>\n<p>The presence or absence of save() doesn’t affect the number or type of\nqueries, but it still has a performance penalty, because the save()\nmethod fires a MergeEvent behind the scenes, which will execute a\nbunch of Hibernate-specific internal operations that are useless in\nthis case. So, in scenarios such as these, avoid the explicit call of\nthe save() method.</p>\n</blockquote>\n"}],"owner":{"account_id":4665914,"reputation":105,"user_id":3778975,"accept_rate":40,"display_name":"YannaY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4347,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61460601,"answer_count":2,"score":6,"last_activity_date":1651141588,"creation_date":1587994649,"question_id":61460187,"body_markdown":"I understand that if we use annotation @Transactional. &quot;save()&quot; method is not necessary. Is it exact?\r\n\r\nAnd for my example:\r\n\r\n    @Transactional\r\n    void methodA() {\r\n       ...\r\n       ObjectEntity objectEntity = objectRepository.find(); \r\n       methodB(objectEntity);\r\n    }\r\n    \r\n    void methodB(ObjectEntity obj) {\r\n       ...\r\n       obj.setName(&quot;toto&quot;);\r\n       objectRepository.save(obj);    &lt;-- is it necessary?\r\n    }\r\n\r\nThanks for your help\r\n","title":"@Transactional spring JPA .save() not necessary?","body":"<p>I understand that if we use annotation @Transactional. \"save()\" method is not necessary. Is it exact?</p>\n\n<p>And for my example:</p>\n\n<pre><code>@Transactional\nvoid methodA() {\n   ...\n   ObjectEntity objectEntity = objectRepository.find(); \n   methodB(objectEntity);\n}\n\nvoid methodB(ObjectEntity obj) {\n   ...\n   obj.setName(\"toto\");\n   objectRepository.save(obj);    &lt;-- is it necessary?\n}\n</code></pre>\n\n<p>Thanks for your help</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1458240731,"post_id":36063434,"comment_id":59784710,"body_markdown":"You probably need to add  @Transactional on top of your test to fix it. But I would probably move your code to service and add annotation to service method.","body":"You probably need to add  @Transactional on top of your test to fix it. But I would probably move your code to service and add annotation to service method."},{"owner":{"account_id":4361717,"reputation":71,"user_id":3558580,"display_name":"Slim"},"score":0,"creation_date":1458285347,"post_id":36063434,"comment_id":59801445,"body_markdown":"I have tried to add @Transactional on test, it didn&#39;t work. Do I need to add some configuration to enable @Transactional?","body":"I have tried to add @Transactional on test, it didn&#39;t work. Do I need to add some configuration to enable @Transactional?"},{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1458296040,"post_id":36063434,"comment_id":59807646,"body_markdown":"Do you have a `SpringJUnit4ClassRunner` for your test?","body":"Do you have a <code>SpringJUnit4ClassRunner</code> for your test?"}],"answers":[{"tags":[],"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458241731,"creation_date":1458241731,"answer_id":36069597,"question_id":36063434,"body_markdown":"Hibernate Session has been closed after following line `productRepository.findOne(1L)`. \r\n\r\nYou can try to do `Hibernate.initialize(product.getGalleryImages())` \r\n\r\n&gt;     public static void initialize(Object proxy)\r\n                       throws HibernateException\r\nForce initialization of a proxy or persistent collection.\r\nNote: This only ensures intialization of a proxy object or collection; it is not guaranteed that the elements INSIDE the collection will be initialized/materialized.\r\n  \r\n\r\nTo avoid `Hibernate.initialize` you can create a service.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ProductService {\r\n\r\n        @Transactional(readOnly = true)\r\n        public List&lt;GalleryImage&gt; getImages(final long producId) throws Exception {\r\n          Product product = productRepository.findOne(producId);\r\n          return product.getGalleryImages();\r\n      }\r\n    }\r\n\r\nIf you do use `Spring Data JPA` in you application then dynamic finder is a good alternative.","title":"Get org.hibernate.LazyInitializationException in spring boot integration test","body":"<p>Hibernate Session has been closed after following line <code>productRepository.findOne(1L)</code>. </p>\n\n<p>You can try to do <code>Hibernate.initialize(product.getGalleryImages())</code> </p>\n\n<blockquote>\n<pre><code>public static void initialize(Object proxy)\n                   throws HibernateException\n</code></pre>\n  \n  <p>Force initialization of a proxy or persistent collection.\n  Note: This only ensures intialization of a proxy object or collection; it is not guaranteed that the elements INSIDE the collection will be initialized/materialized.</p>\n</blockquote>\n\n<p>To avoid <code>Hibernate.initialize</code> you can create a service.</p>\n\n<pre><code>@Service\n@Transactional\npublic class ProductService {\n\n    @Transactional(readOnly = true)\n    public List&lt;GalleryImage&gt; getImages(final long producId) throws Exception {\n      Product product = productRepository.findOne(producId);\n      return product.getGalleryImages();\n  }\n}\n</code></pre>\n\n<p>If you do use <code>Spring Data JPA</code> in you application then dynamic finder is a good alternative.</p>\n"},{"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651141434,"creation_date":1651141434,"answer_id":72042031,"question_id":36063434,"body_markdown":"I had similar issues in the past and the solution was indeed adding the `@Transactional` annotation, but contrarily to what is proposed by @Anton M answer I believe that in this case we should annotate the test instead as proposed [here][1].\r\n\r\nIt works both ways but the annotation should be placed if and where necessary, i.e. add it on the service if you need it there and not just for testing purposes. \r\n\r\nFor example, keep this as it was:\r\n\r\n    public class Product {\r\n        ...\r\n    \r\n        @OneToMany(mappedBy = &quot;product&quot;)\r\n        private List&lt;GalleryImage&gt; galleryImages;\r\n    }\r\n\r\nAnd add the annotation here:\r\n\r\n    @Test\r\n    @Transactional\r\n    public void testProductAndGalleryImageRelationShip() throws Exception {\r\n        Product product = productRepository.findOne(1L);\r\n        List&lt;GalleryImage&gt; galleryImages = product.getGalleryImages();\r\n        assertEquals(1, galleryImages.size());\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/20985746/4828060","title":"Get org.hibernate.LazyInitializationException in spring boot integration test","body":"<p>I had similar issues in the past and the solution was indeed adding the <code>@Transactional</code> annotation, but contrarily to what is proposed by @Anton M answer I believe that in this case we should annotate the test instead as proposed <a href=\"https://stackoverflow.com/a/20985746/4828060\">here</a>.</p>\n<p>It works both ways but the annotation should be placed if and where necessary, i.e. add it on the service if you need it there and not just for testing purposes.</p>\n<p>For example, keep this as it was:</p>\n<pre><code>public class Product {\n    ...\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;GalleryImage&gt; galleryImages;\n}\n</code></pre>\n<p>And add the annotation here:</p>\n<pre><code>@Test\n@Transactional\npublic void testProductAndGalleryImageRelationShip() throws Exception {\n    Product product = productRepository.findOne(1L);\n    List&lt;GalleryImage&gt; galleryImages = product.getGalleryImages();\n    assertEquals(1, galleryImages.size());\n}\n</code></pre>\n"}],"owner":{"account_id":4361717,"reputation":71,"user_id":3558580,"display_name":"Slim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4809,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1651141434,"creation_date":1458224843,"question_id":36063434,"body_markdown":"I&#39;m trying to write integration test for Spring Boot application. I have Product and GalleryImage domain model. They are in one-to-many relationship.\r\n\r\n    public class Product {\r\n        ...\r\n\r\n        @OneToMany(mappedBy = &quot;product&quot;)\r\n        private List&lt;GalleryImage&gt; galleryImages;\r\n    }\r\nI have a integration test as below:\r\n\r\n    @Test\r\n    public void testProductAndGalleryImageRelationShip() throws Exception {\r\n        Product product = productRepository.findOne(1L);\r\n        List&lt;GalleryImage&gt; galleryImages = product.getGalleryImages();\r\n        assertEquals(1, galleryImages.size());\r\n    }\r\nHowever, this test gives me a LazyInitializationException. I searched on Google and StackOverFlow, it says that the session is closed after productRepository.findOne(1L), since galleryImages are lazily loaded, so galleryImages.size() gives me this exception.\r\n\r\nI have tried to add a @Transactional annotation on the test, but it&#39;s still not working.\r\n","title":"Get org.hibernate.LazyInitializationException in spring boot integration test","body":"<p>I'm trying to write integration test for Spring Boot application. I have Product and GalleryImage domain model. They are in one-to-many relationship.</p>\n\n<pre><code>public class Product {\n    ...\n\n    @OneToMany(mappedBy = \"product\")\n    private List&lt;GalleryImage&gt; galleryImages;\n}\n</code></pre>\n\n<p>I have a integration test as below:</p>\n\n<pre><code>@Test\npublic void testProductAndGalleryImageRelationShip() throws Exception {\n    Product product = productRepository.findOne(1L);\n    List&lt;GalleryImage&gt; galleryImages = product.getGalleryImages();\n    assertEquals(1, galleryImages.size());\n}\n</code></pre>\n\n<p>However, this test gives me a LazyInitializationException. I searched on Google and StackOverFlow, it says that the session is closed after productRepository.findOne(1L), since galleryImages are lazily loaded, so galleryImages.size() gives me this exception.</p>\n\n<p>I have tried to add a @Transactional annotation on the test, but it's still not working.</p>\n"},{"tags":["java","excel","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1651150087,"post_id":72042016,"comment_id":127298268,"body_markdown":"This seems to be related to your implementation of `ItemReader`. The processing should stop when the reader returns `null` for the first time.","body":"This seems to be related to your implementation of <code>ItemReader</code>. The processing should stop when the reader returns <code>null</code> for the first time."},{"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"score":0,"creation_date":1651150918,"post_id":72042016,"comment_id":127298665,"body_markdown":"@MahmoudBenHassine but what is the `ItemREader` lacking? I thought that the Spring Batch after noticing `null` stops the processing. And all the suggested implementations of custom `ItemReader` look like mine.","body":"@MahmoudBenHassine but what is the <code>ItemREader</code> lacking? I thought that the Spring Batch after noticing <code>null</code> stops the processing. And all the suggested implementations of custom <code>ItemReader</code> look like mine."}],"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651141359,"creation_date":1651141359,"question_id":72042016,"body_markdown":"I am developing application that processes excel files and creates database queries from them.\r\n\r\nBatchConfigBase.java\r\n```\r\n@RequiredArgsConstructor\r\npublic class BatchConfigBase {\r\n    protected final JobBuilderFactory jobBuilderFactory;\r\n    protected final StepBuilderFactory stepBuilderFactory;\r\n    protected final ApiWriter apiWriter;\r\n\r\n    @Value(&quot;${app.queries-batch-size}&quot;)\r\n    protected int queriesBatchSize;\r\n    @Value(&quot;${spring.batch.job.concurrency.limit}&quot;)\r\n    protected int concurrencyLimit;\r\n\r\n    @Bean\r\n    public SimpleAsyncTaskExecutor excelTaskExecutor() {\r\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\n        simpleAsyncTaskExecutor.setConcurrencyLimit(concurrencyLimit);\r\n        return simpleAsyncTaskExecutor;\r\n    }\r\n}\r\n```\r\nExcelBatchConfig.java\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class ExcelBatchConfig extends BatchConfigBase {\r\n\r\n    private final AmfDataProcessor amfDataProcessor;\r\n\r\n    public ExcelBatchConfig(JobBuilderFactory jobBuilderFactory, StepBuilderFactory stepBuilderFactory, ApiWriter apiWriter, AmfDataProcessor amfDataProcessor) {\r\n        super(jobBuilderFactory, stepBuilderFactory, apiWriter);\r\n        this.amfDataProcessor = amfDataProcessor;\r\n    }\r\n\r\n    @Bean\r\n    public ItemReader&lt;AmfData&gt; amfReader() { return new AmfExcelItemReader();}\r\n\r\n    @Bean\r\n    @Qualifier(&quot;handleExcelAmfJob&quot;)\r\n    public Job handleExcelAmfJob() {\r\n        return jobBuilderFactory.get(&quot;handleExcelAmfJob&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .flow(handleExcelAmfStep())\r\n                .end()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step handleExcelAmfStep() {\r\n        return stepBuilderFactory.get(&quot;handleExcelAmfStep&quot;)\r\n                .&lt;AmfData, String&gt;chunk(queriesBatchSize)\r\n                .reader(amfReader())\r\n                .processor(amfDataProcessor)\r\n                .writer(apiWriter)\r\n                .taskExecutor(excelTaskExecutor())\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\nAmfExcelItemReader.java\r\n```\r\n@Component\r\npublic class AmfExcelItemReader extends AbstractExcelPoi&lt;AmfData&gt; implements ItemReader&lt;AmfData&gt;, StepExecutionListener {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AmfExcelItemReader.class);\r\n\r\n    private int amfDataIndex = 0;\r\n\r\n    private String excelFilePath;\r\n\r\n    List&lt;AmfData&gt; amfDataList;\r\n\r\n    @Override\r\n    public AmfData read() {\r\n\r\n        AmfData amfData = null;\r\n\r\n        if(!amfDataList.isEmpty()) {\r\n\r\n            if (amfDataIndex &lt; amfDataList.size()) {\r\n                amfData = amfDataList.get(amfDataIndex);\r\n                LOGGER.info(amfData.toString());\r\n                amfDataIndex++;\r\n            } else {\r\n                amfDataIndex = 0;\r\n            }\r\n        }\r\n\r\n        return amfData;\r\n    }\r\n\r\n    @Override\r\n    public void write(String filePath , List&lt;AmfData&gt; aList) {\r\n        throw new NotImplementedException(&quot;No need to implement this method in the context&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void beforeStep(StepExecution stepExecution) {\r\n        excelFilePath = stepExecution.getJobParameters().getString(&quot;excelPath&quot;);\r\n        String path = new FileSystemResource(excelFilePath).getFile().getPath();\r\n        try {\r\n            amfDataList = read(path, new AmfDataItemRowMapper());\r\n        } catch (Exception e) {\r\n            LOGGER.warn(&quot;Cannot read the excel file: {}&quot;, e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public ExitStatus afterStep(StepExecution stepExecution) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI expected that when the `AmfExcelItemReader` will return `null` the processig will be over, but it repeats from the beginning, only the second `null` stops the processing for good.\r\n\r\nI am sure that there has to be 2 `null` returned because when I always `return null` in the `AmfExcelItemReader` only 2 rows are being processed.\r\n\r\nIs there a configuration i should seek to make it work properly (only one `null` to stop the processing)?","title":"Spring Batch repeats job on null returned","body":"<p>I am developing application that processes excel files and creates database queries from them.</p>\n<p>BatchConfigBase.java</p>\n<pre><code>@RequiredArgsConstructor\npublic class BatchConfigBase {\n    protected final JobBuilderFactory jobBuilderFactory;\n    protected final StepBuilderFactory stepBuilderFactory;\n    protected final ApiWriter apiWriter;\n\n    @Value(&quot;${app.queries-batch-size}&quot;)\n    protected int queriesBatchSize;\n    @Value(&quot;${spring.batch.job.concurrency.limit}&quot;)\n    protected int concurrencyLimit;\n\n    @Bean\n    public SimpleAsyncTaskExecutor excelTaskExecutor() {\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\n        simpleAsyncTaskExecutor.setConcurrencyLimit(concurrencyLimit);\n        return simpleAsyncTaskExecutor;\n    }\n}\n</code></pre>\n<p>ExcelBatchConfig.java</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class ExcelBatchConfig extends BatchConfigBase {\n\n    private final AmfDataProcessor amfDataProcessor;\n\n    public ExcelBatchConfig(JobBuilderFactory jobBuilderFactory, StepBuilderFactory stepBuilderFactory, ApiWriter apiWriter, AmfDataProcessor amfDataProcessor) {\n        super(jobBuilderFactory, stepBuilderFactory, apiWriter);\n        this.amfDataProcessor = amfDataProcessor;\n    }\n\n    @Bean\n    public ItemReader&lt;AmfData&gt; amfReader() { return new AmfExcelItemReader();}\n\n    @Bean\n    @Qualifier(&quot;handleExcelAmfJob&quot;)\n    public Job handleExcelAmfJob() {\n        return jobBuilderFactory.get(&quot;handleExcelAmfJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .flow(handleExcelAmfStep())\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step handleExcelAmfStep() {\n        return stepBuilderFactory.get(&quot;handleExcelAmfStep&quot;)\n                .&lt;AmfData, String&gt;chunk(queriesBatchSize)\n                .reader(amfReader())\n                .processor(amfDataProcessor)\n                .writer(apiWriter)\n                .taskExecutor(excelTaskExecutor())\n                .build();\n    }\n\n}\n</code></pre>\n<p>AmfExcelItemReader.java</p>\n<pre><code>@Component\npublic class AmfExcelItemReader extends AbstractExcelPoi&lt;AmfData&gt; implements ItemReader&lt;AmfData&gt;, StepExecutionListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AmfExcelItemReader.class);\n\n    private int amfDataIndex = 0;\n\n    private String excelFilePath;\n\n    List&lt;AmfData&gt; amfDataList;\n\n    @Override\n    public AmfData read() {\n\n        AmfData amfData = null;\n\n        if(!amfDataList.isEmpty()) {\n\n            if (amfDataIndex &lt; amfDataList.size()) {\n                amfData = amfDataList.get(amfDataIndex);\n                LOGGER.info(amfData.toString());\n                amfDataIndex++;\n            } else {\n                amfDataIndex = 0;\n            }\n        }\n\n        return amfData;\n    }\n\n    @Override\n    public void write(String filePath , List&lt;AmfData&gt; aList) {\n        throw new NotImplementedException(&quot;No need to implement this method in the context&quot;);\n    }\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        excelFilePath = stepExecution.getJobParameters().getString(&quot;excelPath&quot;);\n        String path = new FileSystemResource(excelFilePath).getFile().getPath();\n        try {\n            amfDataList = read(path, new AmfDataItemRowMapper());\n        } catch (Exception e) {\n            LOGGER.warn(&quot;Cannot read the excel file: {}&quot;, e.getMessage());\n        }\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        return null;\n    }\n}\n</code></pre>\n<p>I expected that when the <code>AmfExcelItemReader</code> will return <code>null</code> the processig will be over, but it repeats from the beginning, only the second <code>null</code> stops the processing for good.</p>\n<p>I am sure that there has to be 2 <code>null</code> returned because when I always <code>return null</code> in the <code>AmfExcelItemReader</code> only 2 rows are being processed.</p>\n<p>Is there a configuration i should seek to make it work properly (only one <code>null</code> to stop the processing)?</p>\n"},{"tags":["java","spring","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"score":0,"creation_date":1651142196,"post_id":72042007,"comment_id":127295397,"body_markdown":"I think it might be just `method=&quot;post&quot;` (without the th): `&lt;form action=&quot;#&quot; th:action=&quot;@{/register}&quot; th:object=&quot;${user}&quot;\n method=&quot;post&quot;&gt;`","body":"I think it might be just <code>method=&quot;post&quot;</code> (without the th): <code>&lt;form action=&quot;#&quot; th:action=&quot;@{&#47;register}&quot; th:object=&quot;${user}&quot;  method=&quot;post&quot;&gt;</code>"},{"owner":{"account_id":20500393,"reputation":40,"user_id":15044444,"display_name":"Elvin Aliyev"},"score":1,"creation_date":1651143424,"post_id":72042007,"comment_id":127295823,"body_markdown":"I solved by adding new @PostMapping Controller","body":"I solved by adding new @PostMapping Controller"},{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1651153737,"post_id":72042007,"comment_id":127299913,"body_markdown":"What do you mean by `adding new @PostMapping Controller`","body":"What do you mean by <code>adding new @PostMapping Controller</code>"}],"owner":{"account_id":20500393,"reputation":40,"user_id":15044444,"display_name":"Elvin Aliyev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651141323,"creation_date":1651141323,"question_id":72042007,"body_markdown":"Why am I getting exception &#39;method Get not supported&#39;? I dont write any get method in controller or thymeleaf\r\n  Controller is:\r\n\r\n  \r\n\r\n      @Controller\r\n    public class UserController {\r\n    \r\n        @PostMapping(&quot;/register&quot;)\r\n        public String showForm(Model model){\r\n            User user=new User();\r\n            model.addAttribute(&quot;user&quot;,user);\r\n            return &quot;register_form&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nthymeleaf code:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Spring Boot Registration Form&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n        &lt;h1&gt;Spring Boot Registration Form&lt;/h1&gt;\r\n    \r\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/register}&quot; th:object=&quot;${user}&quot;\r\n     th:method=&quot;post&quot;&gt;\r\n            &lt;label&gt;Full Name:&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"Request Method &#39;Get&#39; Not Supported exception on Spring MVC","body":"<p>Why am I getting exception 'method Get not supported'? I dont write any get method in controller or thymeleaf\nController is:</p>\n<pre><code>  @Controller\npublic class UserController {\n\n    @PostMapping(&quot;/register&quot;)\n    public String showForm(Model model){\n        User user=new User();\n        model.addAttribute(&quot;user&quot;,user);\n        return &quot;register_form&quot;;\n    }\n\n}\n</code></pre>\n<p>thymeleaf code:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Spring Boot Registration Form&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=&quot;center&quot;&gt;\n    &lt;h1&gt;Spring Boot Registration Form&lt;/h1&gt;\n\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/register}&quot; th:object=&quot;${user}&quot;\n th:method=&quot;post&quot;&gt;\n        &lt;label&gt;Full Name:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","interceptor"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651136519,"post_id":72040796,"comment_id":127293185,"body_markdown":"I believe that all your services should have an interceptor which will call AuthService to validateToken (AuthService shouldn&#39;t be visible outside of inner network)","body":"I believe that all your services should have an interceptor which will call AuthService to validateToken (AuthService shouldn&#39;t be visible outside of inner network)"},{"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"score":0,"creation_date":1651137521,"post_id":72040796,"comment_id":127293583,"body_markdown":"ok so in that case you suggesting that in every microservice I will have to write validateToken method??","body":"ok so in that case you suggesting that in every microservice I will have to write validateToken method??"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651137638,"post_id":72040796,"comment_id":127293637,"body_markdown":"well you can just write it in some utils library which will be included in every microservice and just invoke it from your interceptor. There are probably other solutions to your problem. It&#39;s just first one which I know about","body":"well you can just write it in some utils library which will be included in every microservice and just invoke it from your interceptor. There are probably other solutions to your problem. It&#39;s just first one which I know about"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651137823,"post_id":72040796,"comment_id":127293728,"body_markdown":"Other one would be to just create some gateway before accessing any Service so it would be like having a redirect to authservice (it checks validity of token) then redirects or calls your service and return result to user. Here you assume that your auth service is always first in line for each call.","body":"Other one would be to just create some gateway before accessing any Service so it would be like having a redirect to authservice (it checks validity of token) then redirects or calls your service and return result to user. Here you assume that your auth service is always first in line for each call."},{"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"score":0,"creation_date":1651137896,"post_id":72040796,"comment_id":127293761,"body_markdown":"yes so anyways we will have to create one Util Class in every microservice and write that validate token method.I wanted to avoid that writing the same code in every microservice","body":"yes so anyways we will have to create one Util Class in every microservice and write that validate token method.I wanted to avoid that writing the same code in every microservice"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651137947,"post_id":72040796,"comment_id":127293775,"body_markdown":"nope you wouldn&#39;t","body":"nope you wouldn&#39;t"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651138096,"post_id":72040796,"comment_id":127293854,"body_markdown":"You can create project called for example validate, it will have one class ValidateToken with method which calls your AuthService then from each microservice you just do ValidateToken.isValid(token); (from interceptor) and that would be it. The only thing duplicated here would be interceptor itself and isValid call inside interceptor. You load library in pom.xml","body":"You can create project called for example validate, it will have one class ValidateToken with method which calls your AuthService then from each microservice you just do ValidateToken.isValid(token); (from interceptor) and that would be it. The only thing duplicated here would be interceptor itself and isValid call inside interceptor. You load library in pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651141316,"creation_date":1651141316,"answer_id":72042003,"question_id":72040796,"body_markdown":"If I understand your question &amp; comments you can try below :\r\n1. Create Configuration bean which implements [WebMvcConfigurer][1]\r\n2. Use your `ServiceInterceptor` inside `addInteceptor` &amp; mention endpoints or root context if all endpoints needed this config :\r\n\r\n \r\n\r\n       @Configuration\r\n        public class ConfigClass implements WebMvcConfigurer{\r\n        @Override\r\n        \tpublic void addInterceptors(InterceptorRegistry registry) {\r\n        \t\tregistry.addInterceptor(new ServiceInterceptor ()).addPathPatterns(&quot;/contextroot/**&quot;); \r\n        \t}\r\n        }\r\n\r\n\r\nAlso you may directly use your `ServiceInterceptor` without annotating it with `Component`.\r\n  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html?msclkid=3d563dcac6dc11ecbd24ceb5c423ea30","title":"Invoke Same Method for Multiple Services in Application","body":"<p>If I understand your question &amp; comments you can try below :</p>\n<ol>\n<li><p>Create Configuration bean which implements <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html?msclkid=3d563dcac6dc11ecbd24ceb5c423ea30\" rel=\"nofollow noreferrer\">WebMvcConfigurer</a></p>\n</li>\n<li><p>Use your <code>ServiceInterceptor</code> inside <code>addInteceptor</code> &amp; mention endpoints or root context if all endpoints needed this config :</p>\n<pre><code>@Configuration\n public class ConfigClass implements WebMvcConfigurer{\n @Override\n     public void addInterceptors(InterceptorRegistry registry) {\n         registry.addInterceptor(new ServiceInterceptor ()).addPathPatterns(&quot;/contextroot/**&quot;); \n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>Also you may directly use your <code>ServiceInterceptor</code> without annotating it with <code>Component</code>.</p>\n"}],"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651141316,"creation_date":1651136191,"question_id":72040796,"body_markdown":"My application consists of multiple services.We had a requirement now that for every request coming in to our application we need to validate the token.\r\n\r\nCurrent architecture of my application is such that every microservice has its own ServiceInterceptor class and in that class I am writing the logic in prehandle method to validate token recieved in request.\r\n\r\nService Interceptor Class.\r\n\r\n     @Component\r\n     public class ServiceInterceptor implements HandlerInterceptor {\r\n\t private static final ApplicationLogger logger = ApplicationLogger.getInstance();\r\n\r\n\t @Autowired\r\n\t TokenInfoServiceImpl tokenInfoServiceImpl;\r\n\t\r\n\t@Override\r\n\t@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\t\t\r\n\t\tString requestPath = request.getRequestURL().toString();\r\n\t\tString authToken = request.getHeader(&quot;authToken&quot;);\r\n\t\tString bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n\t\tString userId = request.getHeader(&quot;userId&quot;);\r\n\t\t\r\n\t\tif (deviceId.equals(&quot;web&quot;)) {\r\n\t\t\tif (bearerToken.startsWith(&quot;Bearer &quot;)){\r\n\t\t\t\tbearerToken = bearerToken.substring(7, bearerToken.length());\r\n\t\t\t} else {\r\n\t\t\t   response.sendError(400, &quot;Expected bearer prefix to Authorization header value.&quot;);\r\n\t\t\t}\r\n\t\t\tboolean isTokenValid = tokenInfoServiceImpl.validateToken(bearerToken);\r\n\t\t\treturn isTokenValid;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\t\tSystem.out.println(&quot;Post Handle method is Calling&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tException exception) throws Exception {\r\n\t\tSystem.out.println(&quot;Request and Response is completed&quot;);\r\n\t}\r\n    }\r\n\r\nMy concern is since we have different services,every service has its interceptor class , so in every service will I have to create method validateToken(to validate the token when a request comes to that service) which is obviously not at all an ideal approach.\r\nIs there a way that I could write validateToken method in one place and that could be accessed by all the services(like UserService,PaymentService,etc..) or rather one Interceptor could be used to intercept request for all the individual microservices instead of having separate interceptor for each service .\r\n\r\nI know this can be done using API Gateway but right now our team want a quick solution to this .API Gateway will implement later.\r\n","title":"Invoke Same Method for Multiple Services in Application","body":"<p>My application consists of multiple services.We had a requirement now that for every request coming in to our application we need to validate the token.</p>\n<p>Current architecture of my application is such that every microservice has its own ServiceInterceptor class and in that class I am writing the logic in prehandle method to validate token recieved in request.</p>\n<p>Service Interceptor Class.</p>\n<pre><code> @Component\n public class ServiceInterceptor implements HandlerInterceptor {\n private static final ApplicationLogger logger = ApplicationLogger.getInstance();\n\n @Autowired\n TokenInfoServiceImpl tokenInfoServiceImpl;\n\n@Override\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {      \n    String requestPath = request.getRequestURL().toString();\n    String authToken = request.getHeader(&quot;authToken&quot;);\n    String bearerToken = request.getHeader(&quot;Authorization&quot;);\n    String userId = request.getHeader(&quot;userId&quot;);\n    \n    if (deviceId.equals(&quot;web&quot;)) {\n        if (bearerToken.startsWith(&quot;Bearer &quot;)){\n            bearerToken = bearerToken.substring(7, bearerToken.length());\n        } else {\n           response.sendError(400, &quot;Expected bearer prefix to Authorization header value.&quot;);\n        }\n        boolean isTokenValid = tokenInfoServiceImpl.validateToken(bearerToken);\n        return isTokenValid;\n        \n    }\n    return true;\n}\n\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n        ModelAndView modelAndView) throws Exception {\n    System.out.println(&quot;Post Handle method is Calling&quot;);\n}\n\n@Override\npublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,\n        Exception exception) throws Exception {\n    System.out.println(&quot;Request and Response is completed&quot;);\n}\n}\n</code></pre>\n<p>My concern is since we have different services,every service has its interceptor class , so in every service will I have to create method validateToken(to validate the token when a request comes to that service) which is obviously not at all an ideal approach.\nIs there a way that I could write validateToken method in one place and that could be accessed by all the services(like UserService,PaymentService,etc..) or rather one Interceptor could be used to intercept request for all the individual microservices instead of having separate interceptor for each service .</p>\n<p>I know this can be done using API Gateway but right now our team want a quick solution to this .API Gateway will implement later.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":19,"creation_date":1298896734,"post_id":5142070,"comment_id":5770365,"body_markdown":"Your question&#39;s title and body don&#39;t match - are you interested in global vs local, or static vs global?","body":"Your question&#39;s title and body don&#39;t match - are you interested in global vs local, or static vs global?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":5,"creation_date":1298896872,"post_id":5142070,"comment_id":5770413,"body_markdown":"The more effort you put into your questions, the better both the quality and quantity of the answers you&#39;ll receive.","body":"The more effort you put into your questions, the better both the quality and quantity of the answers you&#39;ll receive."},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":4,"creation_date":1298896926,"post_id":5142070,"comment_id":5770427,"body_markdown":"You probably need to see this - http://tinyurl.com/6h753dy","body":"You probably need to see this - <a href=\"http://tinyurl.com/6h753dy\" rel=\"nofollow noreferrer\">tinyurl.com/6h753dy</a>"},{"owner":{"account_id":80063,"reputation":1983,"user_id":226630,"accept_rate":60,"display_name":"dSebastien"},"score":1,"creation_date":1298897566,"post_id":5142070,"comment_id":5770562,"body_markdown":"I answered, but I love your comment ;-)","body":"I answered, but I love your comment ;-)"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1298897605,"post_id":5142070,"comment_id":5770573,"body_markdown":"Java doesn&#39;t have global variables. It has fields (which can be static) and local variables.","body":"Java doesn&#39;t have global variables. It has fields (which can be static) and local variables."},{"owner":{"account_id":197387,"reputation":17814,"user_id":443244,"accept_rate":90,"display_name":"Sangram Nandkhile"},"score":1,"creation_date":1298897939,"post_id":5142070,"comment_id":5770646,"body_markdown":"He is so new n confused to java ..that his heading and Question differs !! :-)","body":"He is so new n confused to java ..that his heading and Question differs !! :-)"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":2,"creation_date":1298928974,"post_id":5142070,"comment_id":5778048,"body_markdown":"Some time ago I answered a similar question with a [list of all types of variables](http://stackoverflow.com/questions/4909901/java-only-allowing-global-variables-to-be-static/4910050#4910050) in Java, with some explanation.","body":"Some time ago I answered a similar question with a <a href=\"http://stackoverflow.com/questions/4909901/java-only-allowing-global-variables-to-be-static/4910050#4910050\">list of all types of variables</a> in Java, with some explanation."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1298896838,"creation_date":1298896838,"answer_id":5142118,"question_id":5142070,"body_markdown":"Your question is a little confused since you refer to static/global in the title, and global/local in your question.\r\n\r\n`static` variables are tied to a *class*, and you will have *one instance per class*.\r\n\r\nclasses can have member variables, and you will have *one instance per instance* of that class.\r\n\r\nNote that this is complicated further if you have multiple classloaders. In this scenario you can have multiple class definitions loaded, and consequently, possible multiple static variables.","title":"Difference between static and global variable in Java","body":"<p>Your question is a little confused since you refer to static/global in the title, and global/local in your question.</p>\n\n<p><code>static</code> variables are tied to a <em>class</em>, and you will have <em>one instance per class</em>.</p>\n\n<p>classes can have member variables, and you will have <em>one instance per instance</em> of that class.</p>\n\n<p>Note that this is complicated further if you have multiple classloaders. In this scenario you can have multiple class definitions loaded, and consequently, possible multiple static variables.</p>\n"},{"tags":[],"owner":{"account_id":80063,"reputation":1983,"user_id":226630,"accept_rate":60,"display_name":"dSebastien"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1298897068,"creation_date":1298897068,"answer_id":5142143,"question_id":5142070,"body_markdown":"There is no concept of global variable in the Java programming language. Instead, there are class and member attributes. Class attributes are marked with the static keyword, meaning that they can be accessed without instanciation, while member attributes are tied to an instance of a class.\r\n\r\nLittle example:\r\n\r\n    public class Person{\r\n        public static final int TOTAL_PERSONS;\r\n\r\n        private String firstname;\r\n        private String lastname;\r\n\r\n        public void setFirstname(String firstname){ ... }\r\n        ...\r\n    }\r\n\r\nWith this class, I can use Person.TOTAL_PERSONS, but not Person.firstname. To get/set the first name (without mentionning getters/setters which you&#39;ll probably soon discover), you first need to create an instance of that class: \r\n\r\n    Person p = new Person();\r\n    p.setFirstname(&quot;foo&quot;);\r\n\r\nFinally, note that it&#39;s possible to create what other languages refer to as global variables. For instance, you can use the Singleton pattern, but anyway, global variables shouldn&#39;t be used without valid reasons: [check this page][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/484635/are-global-variables-bad","title":"Difference between static and global variable in Java","body":"<p>There is no concept of global variable in the Java programming language. Instead, there are class and member attributes. Class attributes are marked with the static keyword, meaning that they can be accessed without instanciation, while member attributes are tied to an instance of a class.</p>\n\n<p>Little example:</p>\n\n<pre><code>public class Person{\n    public static final int TOTAL_PERSONS;\n\n    private String firstname;\n    private String lastname;\n\n    public void setFirstname(String firstname){ ... }\n    ...\n}\n</code></pre>\n\n<p>With this class, I can use Person.TOTAL_PERSONS, but not Person.firstname. To get/set the first name (without mentionning getters/setters which you'll probably soon discover), you first need to create an instance of that class: </p>\n\n<pre><code>Person p = new Person();\np.setFirstname(\"foo\");\n</code></pre>\n\n<p>Finally, note that it's possible to create what other languages refer to as global variables. For instance, you can use the Singleton pattern, but anyway, global variables shouldn't be used without valid reasons: <a href=\"https://stackoverflow.com/questions/484635/are-global-variables-bad\">check this page</a></p>\n"},{"tags":[],"owner":{"account_id":308110,"reputation":1740,"user_id":619789,"accept_rate":80,"display_name":"Danilo Tommasina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298899549,"creation_date":1298899549,"answer_id":5142553,"question_id":5142070,"body_markdown":"In addition to the other (good) answers:\r\n\r\n    public class Person{\r\n        public static final int TOTAL_PERSONS = 100;\r\n        public static int numberOfLegs = 2;\r\n    \r\n        private String firstname;\r\n        private String lastname;\r\n    \r\n        public void setFirstname(String firstname){ ... }\r\n        ...\r\n    }\r\n\r\nWriting the following code:\r\n\r\n    Person foo = new Person();\r\n    foo.setFirstname(&quot;foo&quot;);\r\n\r\n    Person bar = new Person();\r\n    bar.setFirstname(&quot;bar&quot;);\r\n\r\n    // At this point foo and bar have different firstname, and both have 2 legs\r\n\r\n    Person.numberOfLegs = 4;\r\n\r\n    // At this point foo and bar have different firstname, and they both got a pair of 2 extra (bionic) legs\r\n\r\n    // Person.TOTAL_PERSONS is a &#39;constant&#39; and has an unmodifiable value of 100\r\n\r\n\r\nNote this is example code and should not be taken as good practice nor to have any sense. ;)\r\n","title":"Difference between static and global variable in Java","body":"<p>In addition to the other (good) answers:</p>\n\n<pre><code>public class Person{\n    public static final int TOTAL_PERSONS = 100;\n    public static int numberOfLegs = 2;\n\n    private String firstname;\n    private String lastname;\n\n    public void setFirstname(String firstname){ ... }\n    ...\n}\n</code></pre>\n\n<p>Writing the following code:</p>\n\n<pre><code>Person foo = new Person();\nfoo.setFirstname(\"foo\");\n\nPerson bar = new Person();\nbar.setFirstname(\"bar\");\n\n// At this point foo and bar have different firstname, and both have 2 legs\n\nPerson.numberOfLegs = 4;\n\n// At this point foo and bar have different firstname, and they both got a pair of 2 extra (bionic) legs\n\n// Person.TOTAL_PERSONS is a 'constant' and has an unmodifiable value of 100\n</code></pre>\n\n<p>Note this is example code and should not be taken as good practice nor to have any sense. ;)</p>\n"},{"tags":[],"owner":{"account_id":4485761,"reputation":1,"user_id":3648462,"display_name":"zainie"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1400360142,"creation_date":1400358810,"answer_id":23715826,"question_id":5142070,"body_markdown":"There are two types of methods. They are `class methods` and `object methods`. `Class methods` are identified with the key word `static`. Any method that does not have a key word `static` is  called an `object method`.  Either can be applied &lt;i&gt;to a method&lt;/i&gt; or &lt;i&gt;to a variable&lt;/i&gt;. ","title":"Difference between static and global variable in Java","body":"<p>There are two types of methods. They are <code>class methods</code> and <code>object methods</code>. <code>Class methods</code> are identified with the key word <code>static</code>. Any method that does not have a key word <code>static</code> is  called an <code>object method</code>.  Either can be applied <i>to a method</i> or <i>to a variable</i>. </p>\n"},{"tags":[],"owner":{"account_id":9716691,"reputation":3697,"user_id":7206830,"accept_rate":80,"display_name":"Divyang Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480051991,"creation_date":1480051991,"answer_id":40798322,"question_id":5142070,"body_markdown":"Global and static variables are very similar . The only difference being static \r\nvariables may be public or private . A public static variable is a global variable in java .\r\n\r\nLocal variables are specific to a method or a class.Their scope is restricted to the specified method or class.","title":"Difference between static and global variable in Java","body":"<p>Global and static variables are very similar . The only difference being static \nvariables may be public or private . A public static variable is a global variable in java .</p>\n\n<p>Local variables are specific to a method or a class.Their scope is restricted to the specified method or class.</p>\n"}],"owner":{"account_id":218824,"reputation":5907,"user_id":475349,"accept_rate":51,"display_name":"Tushar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34923,"favorite_count":0,"down_vote_count":9,"up_vote_count":7,"accepted_answer_id":5142118,"answer_count":5,"score":-2,"last_activity_date":1651141235,"creation_date":1298896607,"question_id":5142070,"body_markdown":"I am new to Java programming. Can anyone tell what is the difference between  global and local variable in Java?\r\n","title":"Difference between static and global variable in Java","body":"<p>I am new to Java programming. Can anyone tell what is the difference between  global and local variable in Java?</p>\n"},{"tags":["java","android","keyboard"],"answers":[{"tags":[],"owner":{"account_id":10666555,"reputation":270,"user_id":7852957,"display_name":"morteza jafari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523777278,"creation_date":1523777278,"answer_id":49839486,"question_id":49839375,"body_markdown":"      android:singleLine=&quot;true&quot;\r\n      android:maxLines=&quot;1&quot;\r\n\r\n&gt; https://stackoverflow.com/questions/7271586/android-disable-enter-key-in-soft-keyboard","title":"how to have close option in android keyboard","body":"<pre><code>  android:singleLine=\"true\"\n  android:maxLines=\"1\"\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/7271586/android-disable-enter-key-in-soft-keyboard\">Android disable Enter key in soft keyboard</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8839517,"reputation":453,"user_id":6602399,"display_name":"The MJ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651141120,"creation_date":1523777961,"answer_id":49839568,"question_id":49839375,"body_markdown":"I have found my answer,\r\nthe answer is : \r\n\r\n    android:imeOptions=&quot;actionDone&quot;","title":"how to have close option in android keyboard","body":"<p>I have found my answer,\nthe answer is :</p>\n<pre><code>android:imeOptions=&quot;actionDone&quot;\n</code></pre>\n"}],"owner":{"account_id":8839517,"reputation":453,"user_id":6602399,"display_name":"The MJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49839568,"answer_count":2,"score":0,"last_activity_date":1651141120,"creation_date":1523776305,"question_id":49839375,"body_markdown":" \r\nI don&#39;t wanna see the `Enter` option on my keyboard. showing `close` instead of `Enter` option. what should I do?\r\n\r\nThe screenshot of my layout:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQ3EH.png\r\n\r\n\r\n my xml code :\r\n\r\n            &lt;EditText\r\n                    android:id=&quot;@+id/value_charge&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:background=&quot;@drawable/edittext&quot;\r\n                    android:maxLength=&quot;8&quot;\r\n                    android:layout_marginLeft=&quot;@dimen/_10sdp&quot;\r\n                    android:layout_marginRight=&quot;@dimen/_10sdp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:padding=&quot;5dp&quot;\r\n                    android:textSize=&quot;15sp&quot; /&gt;","title":"how to have close option in android keyboard","body":"<p>I don't wanna see the <code>Enter</code> option on my keyboard. showing <code>close</code> instead of <code>Enter</code> option. what should I do?</p>\n<p>The screenshot of my layout:</p>\n<p><a href=\"https://i.stack.imgur.com/QQ3EH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQ3EH.png\" alt=\"enter image description here\" /></a></p>\n<p>my xml code :</p>\n<pre><code>        &lt;EditText\n                android:id=&quot;@+id/value_charge&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:background=&quot;@drawable/edittext&quot;\n                android:maxLength=&quot;8&quot;\n                android:layout_marginLeft=&quot;@dimen/_10sdp&quot;\n                android:layout_marginRight=&quot;@dimen/_10sdp&quot;\n                android:gravity=&quot;center&quot;\n                android:padding=&quot;5dp&quot;\n                android:textSize=&quot;15sp&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"score":0,"creation_date":1651137205,"post_id":72040438,"comment_id":127293448,"body_markdown":"How are ${KEY1:val1} and ${KEY2:val2} resolved in your YML file ? Is it only the correct value associated with the key ?","body":"How are ${KEY1:val1} and ${KEY2:val2} resolved in your YML file ? Is it only the correct value associated with the key ?"},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1651140134,"post_id":72040438,"comment_id":127294697,"body_markdown":"${KEY1:val1} will evaluate to &#39;val1&#39; if there is no environment variable with the name KEY1 set. I removed this as it is not relevant for the question and is only confusing.","body":"${KEY1:val1} will evaluate to &#39;val1&#39; if there is no environment variable with the name KEY1 set. I removed this as it is not relevant for the question and is only confusing."}],"answers":[{"tags":[],"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651138148,"creation_date":1651138148,"answer_id":72041267,"question_id":72040438,"body_markdown":"The following yaml format (1) using the @Value parsing structure (2) is the way to go\r\n\r\n(1)\r\n\r\n    it:\r\n      env:\r\n        key1: &#39;value1&#39;\r\n        key2: &#39;value2&#39;\r\n\r\n(2)\r\n\r\n    @Value(&quot;#{${it.env}}&quot;)\r\n    private Map&lt;String, String&gt; envConfig;\r\n\r\nMy guess is that the resolution of ${KEY1:val1} **is not** &#39;value1&#39; and same thing with the resolution of ${KEY2:val2}","title":"Spring Boot: Map a map from application.yaml to a map with @Value annotation","body":"<p>The following yaml format (1) using the @Value parsing structure (2) is the way to go</p>\n<p>(1)</p>\n<pre><code>it:\n  env:\n    key1: 'value1'\n    key2: 'value2'\n</code></pre>\n<p>(2)</p>\n<pre><code>@Value(&quot;#{${it.env}}&quot;)\nprivate Map&lt;String, String&gt; envConfig;\n</code></pre>\n<p>My guess is that the resolution of ${KEY1:val1} <strong>is not</strong> 'value1' and same thing with the resolution of ${KEY2:val2}</p>\n"},{"tags":[],"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651140833,"creation_date":1651140833,"answer_id":72041898,"question_id":72040438,"body_markdown":"It works if you don&#39;t use @Value but use @ConfigurationProperties. For that you need add a new class.\r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;it&quot;)\r\npublic class TestEnvProperties {\r\n\r\n    Map&lt;String, String&gt; env;\r\n\r\n    // Getters and setter...\r\n\r\n}\r\n```","title":"Spring Boot: Map a map from application.yaml to a map with @Value annotation","body":"<p>It works if you don't use @Value but use @ConfigurationProperties. For that you need add a new class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;it&quot;)\npublic class TestEnvProperties {\n\n    Map&lt;String, String&gt; env;\n\n    // Getters and setter...\n\n}\n</code></pre>\n"}],"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2847,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651140833,"creation_date":1651134738,"question_id":72040438,"body_markdown":"I have a yaml file application.yaml in src/main/resources/:\r\n\r\n```yaml\r\nit:\r\n  env:\r\n    key1: &#39;val1&#39;\r\n    key2: &#39;val2&#39;\r\n\r\n```\r\n\r\nnow I want the values in it.env mapped to a map in java. And I tried the following approaches:\r\n\r\n```java\r\n@SpringBootTest\r\npublic class Test {\r\n   \r\n    @Value(&quot;${it.env.key1:&#39;unknown&#39;}&quot;)\r\n    private String key1;\r\n\r\n    @Value(&quot;${it.env}&quot;)\r\n    private Map&lt;String, String&gt; envConfig;\r\n\r\n    @Value(&quot;#{${it.env}}&quot;)\r\n    private Map&lt;String, String&gt; envConfig;\r\n\r\n}\r\n```\r\n\r\nBut all I get is an error:\r\n@Value(&quot;${it.env}&quot;) gives me:\r\n```\r\nCaused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39;: no matching editors or conversion strategy found\r\n```\r\n\r\n@Value(&quot;#{${it.env}}&quot;) gives me:\r\n```\r\nCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n```\r\n\r\nAny ideas why this isn&#39;t working?","title":"Spring Boot: Map a map from application.yaml to a map with @Value annotation","body":"<p>I have a yaml file application.yaml in src/main/resources/:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>it:\n  env:\n    key1: 'val1'\n    key2: 'val2'\n\n</code></pre>\n<p>now I want the values in it.env mapped to a map in java. And I tried the following approaches:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class Test {\n   \n    @Value(&quot;${it.env.key1:'unknown'}&quot;)\n    private String key1;\n\n    @Value(&quot;${it.env}&quot;)\n    private Map&lt;String, String&gt; envConfig;\n\n    @Value(&quot;#{${it.env}}&quot;)\n    private Map&lt;String, String&gt; envConfig;\n\n}\n</code></pre>\n<p>But all I get is an error:\n@Value(&quot;${it.env}&quot;) gives me:</p>\n<pre><code>Caused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'java.util.Map'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'java.util.Map': no matching editors or conversion strategy found\n</code></pre>\n<p>@Value(&quot;#{${it.env}}&quot;) gives me:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n<p>Any ideas why this isn't working?</p>\n"},{"tags":["java","hibernate","wildfly","jboss-arquillian"],"answers":[{"tags":[],"owner":{"account_id":5181106,"reputation":77,"user_id":4146792,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651140655,"creation_date":1651140655,"answer_id":72041849,"question_id":67324299,"body_markdown":"Setting `JAVA_OPTS` as an env-var with the value of `-DANTLR_USE_DIRECT_CLASS_LOADING=true` helped me to solve this issue. Leaving here as well a screenshot for config in IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bWJ2c.png","title":"How to resolve: antlr.CommonToken cannot be cast to antlr.Token?","body":"<p>Setting <code>JAVA_OPTS</code> as an env-var with the value of <code>-DANTLR_USE_DIRECT_CLASS_LOADING=true</code> helped me to solve this issue. Leaving here as well a screenshot for config in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/bWJ2c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWJ2c.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651140655,"creation_date":1619726473,"question_id":67324299,"body_markdown":"I have just finished an update from wildfly 9 to 23 and am now re-working my arquillian implementation to work with the new application server version.\r\n\r\nDependency management:\r\n```\r\n &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.1.Final&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;version&gt;21.0.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nDependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wildfly-arquillian-container-embedded&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1.Final&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\r\n            &lt;version&gt;${arquillian.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nWhen I run the tests I get this error:\r\n```\r\n[ERROR] org.&lt;company name&gt;.crs.auth.CrsUserServiceTest  Time elapsed: 71.828 s  &lt;&lt;&lt; ERROR!\r\norg.jboss.arquillian.container.spi.client.container.DeploymentException: \r\nCannot deploy ert-tests.war: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.persistenceunit.\\&quot;ert-tests.war#ertDatasource\\&quot;&quot; =&gt; &quot;javax.persistence.PersistenceException: [PersistenceUnit: ertDatasource] Unable to build Hibernate SessionFactory\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: ertDatasource] Unable to build Hibernate SessionFactory\r\n    Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.collection.OneToManyPersister\r\n    Caused by: org.hibernate.HibernateException: Unable to parse order-by fragment\r\n    Caused by: java.lang.ClassCastException: antlr.CommonToken cannot be cast to antlr.Token&quot;}}}}\r\n```\r\nAfter researching online, many people have said this is due to conflicting versions of antlr (frequently a manually imported one and one shipped with hibernate). Here is my hibernate import:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;antlr&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nWhich explicitly does not bring antlr with. In fact, if I run `mvn dependency:tree` and search for `antlr` i get no results. So, not sure how I have conflicting versions if I don&#39;t have any in the class path or imported at all.\r\n\r\nI was able to find [This][1] article mentioning that It could be due to multiple application&#39;s running. But not sure if this applies since I only have a single app running and only one instance of it(i think). While launching arquillian i get this message from Wildfly `15:50:35,940 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-4) No shutdown hook registered: Please call close() manually on application shutdown.` But I get that message twice when I run the tests. Wondering if this could be causing the issue and if not, what else could be?\r\n\r\n\r\n  [1]: https://java.wekeepcoding.com/article/14177681/%23OrderBy+causes+java.lang.ClassCastException%3A+antlr.CommonToken+cannot+be+cast+to+antlr.Token\r\n","title":"How to resolve: antlr.CommonToken cannot be cast to antlr.Token?","body":"<p>I have just finished an update from wildfly 9 to 23 and am now re-working my arquillian implementation to work with the new application server version.</p>\n<p>Dependency management:</p>\n<pre><code> &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;\n                &lt;artifactId&gt;arquillian-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.4.1.Final&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;version&gt;21.0.2.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-arquillian-container-embedded&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\n            &lt;version&gt;${arquillian.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I run the tests I get this error:</p>\n<pre><code>[ERROR] org.&lt;company name&gt;.crs.auth.CrsUserServiceTest  Time elapsed: 71.828 s  &lt;&lt;&lt; ERROR!\norg.jboss.arquillian.container.spi.client.container.DeploymentException: \nCannot deploy ert-tests.war: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.persistenceunit.\\&quot;ert-tests.war#ertDatasource\\&quot;&quot; =&gt; &quot;javax.persistence.PersistenceException: [PersistenceUnit: ertDatasource] Unable to build Hibernate SessionFactory\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: ertDatasource] Unable to build Hibernate SessionFactory\n    Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.collection.OneToManyPersister\n    Caused by: org.hibernate.HibernateException: Unable to parse order-by fragment\n    Caused by: java.lang.ClassCastException: antlr.CommonToken cannot be cast to antlr.Token&quot;}}}}\n</code></pre>\n<p>After researching online, many people have said this is due to conflicting versions of antlr (frequently a manually imported one and one shipped with hibernate). Here is my hibernate import:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;antlr&lt;/groupId&gt;\n                    &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Which explicitly does not bring antlr with. In fact, if I run <code>mvn dependency:tree</code> and search for <code>antlr</code> i get no results. So, not sure how I have conflicting versions if I don't have any in the class path or imported at all.</p>\n<p>I was able to find <a href=\"https://java.wekeepcoding.com/article/14177681/%23OrderBy+causes+java.lang.ClassCastException%3A+antlr.CommonToken+cannot+be+cast+to+antlr.Token\" rel=\"nofollow noreferrer\">This</a> article mentioning that It could be due to multiple application's running. But not sure if this applies since I only have a single app running and only one instance of it(i think). While launching arquillian i get this message from Wildfly <code>15:50:35,940 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-4) No shutdown hook registered: Please call close() manually on application shutdown.</code> But I get that message twice when I run the tests. Wondering if this could be causing the issue and if not, what else could be?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1651731944,"post_id":72041808,"comment_id":127433632,"body_markdown":"Please add your configuration for pom.xml or gradle","body":"Please add your configuration for pom.xml or gradle"}],"owner":{"account_id":25125558,"reputation":11,"user_id":18973400,"display_name":"pranay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651140441,"creation_date":1651140441,"question_id":72041808,"body_markdown":"As per my project requirement I am upgrading spring-boot version from &quot;2.1.2.RELEASE&quot; to &quot;2.6.6&quot; and spring-security-oauth2 version from &quot;2.3.4.RELEASE&quot; to &quot;2.5.1.RELEASE&quot;. While running my application I am facing below error.\r\n\r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    at com.auth.application.main(application.java:29) ~[clas\r\n\r\n\r\n\r\nBased on few suggestions, I have tried &quot;shell:interactive:enabled:false&quot;, &quot;management:security:enabled:false&quot; added in my yaml properties file.But still facing same error.\r\n\r\nPlease let me know any changes i need to do to solve this issue.\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting java.lang.IllegalStateException: Failed to execute ApplicationRunner","body":"<p>As per my project requirement I am upgrading spring-boot version from &quot;2.1.2.RELEASE&quot; to &quot;2.6.6&quot; and spring-security-oauth2 version from &quot;2.3.4.RELEASE&quot; to &quot;2.5.1.RELEASE&quot;. While running my application I am facing below error.</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute ApplicationRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.6.6.jar:2.6.6]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-2.6.6.jar:2.6.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.6.jar:2.6.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\nat com.auth.application.main(application.java:29) ~[clas\n</code></pre>\n<p>Based on few suggestions, I have tried &quot;shell:interactive:enabled:false&quot;, &quot;management:security:enabled:false&quot; added in my yaml properties file.But still facing same error.</p>\n<p>Please let me know any changes i need to do to solve this issue.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"score":1,"creation_date":1561454493,"post_id":46648783,"comment_id":100059210,"body_markdown":"`&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;`","body":"<code>&lt;dependency&gt;     &lt;groupId&gt;org.springframework.security&lt;&#47;groupId&gt;     &lt;artifactId&gt;spring-security-crypto&lt;&#47;artifactId&gt;     &lt;version&gt;3.1.0.RELEASE&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":6344626,"reputation":86,"user_id":4925562,"display_name":"Diego Fern&#225;ndez Peces-Barba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507635974,"creation_date":1507635974,"answer_id":46665965,"question_id":46648783,"body_markdown":"If you wan&#39;t to use `BCryptPasswordEncoder()` you must add to your dependencies (POM if your are using Maven) this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen, you can use it in your Class with this import.\r\n`import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;`\r\n","title":"how can i make BCryptPasswordEncoder() work in spring because in my application can&#39;t find that classes","body":"<p>If you wan't to use <code>BCryptPasswordEncoder()</code> you must add to your dependencies (POM if your are using Maven) this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then, you can use it in your Class with this import.\n<code>import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</code></p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534172397,"creation_date":1534172397,"answer_id":51825261,"question_id":46648783,"body_markdown":"As Diego said you need you need [this.][1]\r\n\r\nHere is a quick snippet to show you how to use it.\r\n\r\n\r\n    public static void main(String[] args) {\r\n            String password = &quot;admin@admin&quot;;\r\n            BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            System.out.println(&quot;Encoded password is &quot; + passwordEncoder.encode(password));\r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-core/5.0.7.RELEASE","title":"how can i make BCryptPasswordEncoder() work in spring because in my application can&#39;t find that classes","body":"<p>As Diego said you need you need <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-core/5.0.7.RELEASE\" rel=\"nofollow noreferrer\">this.</a></p>\n\n<p>Here is a quick snippet to show you how to use it.</p>\n\n<pre><code>public static void main(String[] args) {\n        String password = \"admin@admin\";\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        System.out.println(\"Encoded password is \" + passwordEncoder.encode(password));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12241242,"reputation":1072,"user_id":8934265,"display_name":"Tinashe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619445210,"creation_date":1619445210,"answer_id":67267970,"question_id":46648783,"body_markdown":"Add this dependency\r\n```\r\n&lt;dependency&gt;     \r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;     \r\n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt; \r\n    &lt;version&gt;3.1.0.RELEASE&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```","title":"how can i make BCryptPasswordEncoder() work in spring because in my application can&#39;t find that classes","body":"<p>Add this dependency</p>\n<pre><code>&lt;dependency&gt;     \n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;     \n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt; \n    &lt;version&gt;3.1.0.RELEASE&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18699279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651140274,"creation_date":1651140274,"answer_id":72041775,"question_id":46648783,"body_markdown":"Add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"how can i make BCryptPasswordEncoder() work in spring because in my application can&#39;t find that classes","body":"<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14810,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1651140274,"creation_date":1507559148,"question_id":46648783,"body_markdown":"how can i make  BCryptPasswordEncoder() work in spring because in my application can&#39;t find that class about that and the message is not matching for dependencies i can&#39;t find another solve with mongodb  .\r\n","title":"how can i make BCryptPasswordEncoder() work in spring because in my application can&#39;t find that classes","body":"<p>how can i make  BCryptPasswordEncoder() work in spring because in my application can't find that class about that and the message is not matching for dependencies i can't find another solve with mongodb  .</p>\n"},{"tags":["java","arrays","if-statement","excel-formula","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651140184,"creation_date":1651137611,"answer_id":72041145,"question_id":72040937,"body_markdown":"You&#39;ve to iterate over the array and create an &#39;entry&#39; (NX=Value) for each value within the array.\r\nThis can be done in multiple ways.\r\n\r\n```\r\nString joined = Arrays.stream( arr )\r\n          .mapToObj( val -&gt; String.format( &quot;N%d=%d&quot;, current, val ) )\r\n          .collect( Collectors.joining(&quot;,&quot;) );\r\n```\r\nIn this example I am using a stream which does exactly that and joins all resulting parts by the &quot;,&quot; character. The resulting String would be something like &quot;N6=500,N6=201,N6=501,N6=211&quot; which then can comfortably formatted into the formular:\r\n\r\n```\r\nString result = String.format( &quot;IF(OR(%s),0,F%d)&quot;, joined, b );\r\n```\r\n\r\nAnd done. Now you&#39;ve a formular for an arbitrary amount of values in you array.\r\n\r\n\r\nMy complete codeblock used for testing:\r\n\r\n```\r\nint[] arr = { 500, 201, 501, 211 };\r\nint b = 2;\r\n\r\nwhile( b &lt; 10 )\r\n{\r\n    int current = b;\r\n    String joined = Arrays.stream( arr )\r\n        .mapToObj( val -&gt; String.format( &quot;N%d=%d&quot;, current, val ) )\r\n        .collect( Collectors.joining(&quot;,&quot;) );\r\n    String result = String.format( &quot;IF(OR(%s),0,F%d)&quot;, joined, b );\r\n    b++;\r\n    System.out.println(result);\r\n}\r\n```\r\n\r\nIn case you&#39;re unfamilar with Java-streams yet you can simply replace the stream with this foreach-loop:\r\n\r\n```\r\nStringJoiner joiner = new StringJoiner( &quot;,&quot; );\r\nfor( int val : arr )\r\n{\r\n    String format = String.format( &quot;N%d=%d&quot;, current, val );\r\n    joiner.add( format );\r\n}\r\nString joined = joiner.toString();\r\n```","title":"Java - IF Function with OR using an array - Apache POI","body":"<p>You've to iterate over the array and create an 'entry' (NX=Value) for each value within the array.\nThis can be done in multiple ways.</p>\n<pre><code>String joined = Arrays.stream( arr )\n          .mapToObj( val -&gt; String.format( &quot;N%d=%d&quot;, current, val ) )\n          .collect( Collectors.joining(&quot;,&quot;) );\n</code></pre>\n<p>In this example I am using a stream which does exactly that and joins all resulting parts by the &quot;,&quot; character. The resulting String would be something like &quot;N6=500,N6=201,N6=501,N6=211&quot; which then can comfortably formatted into the formular:</p>\n<pre><code>String result = String.format( &quot;IF(OR(%s),0,F%d)&quot;, joined, b );\n</code></pre>\n<p>And done. Now you've a formular for an arbitrary amount of values in you array.</p>\n<p>My complete codeblock used for testing:</p>\n<pre><code>int[] arr = { 500, 201, 501, 211 };\nint b = 2;\n\nwhile( b &lt; 10 )\n{\n    int current = b;\n    String joined = Arrays.stream( arr )\n        .mapToObj( val -&gt; String.format( &quot;N%d=%d&quot;, current, val ) )\n        .collect( Collectors.joining(&quot;,&quot;) );\n    String result = String.format( &quot;IF(OR(%s),0,F%d)&quot;, joined, b );\n    b++;\n    System.out.println(result);\n}\n</code></pre>\n<p>In case you're unfamilar with Java-streams yet you can simply replace the stream with this foreach-loop:</p>\n<pre><code>StringJoiner joiner = new StringJoiner( &quot;,&quot; );\nfor( int val : arr )\n{\n    String format = String.format( &quot;N%d=%d&quot;, current, val );\n    joiner.add( format );\n}\nString joined = joiner.toString();\n</code></pre>\n"}],"owner":{"account_id":25073406,"reputation":25,"user_id":18927058,"display_name":"aksjdhad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72041145,"answer_count":1,"score":1,"last_activity_date":1651140184,"creation_date":1651136736,"question_id":72040937,"body_markdown":"I have an array which length will change as the user enters new numbers, and I need the cell&#39;s value to be 0 when the condition is TRUE. For example the user enters: &quot;201&quot; and &quot;500&quot; into the array so the formula would be =IF(OR(N2=500, N2=201),0,F2), then =IF(OR(N3=500, N3=201),0,F3) till the final row. I came up with this code but the second OR condition it&#39;s the same because the i it&#39;s still the same\r\n\r\n        int arr[] = {500,201};\r\n        int i;\r\n             \r\n            for (i = 0; i &lt; arr.length; i++){\r\n    \r\n    int cRow2 = 1;\r\n            int b = 2;\r\n            Row newRow2 = firstSheet.getRow(cRow2);\r\n    \r\n    while (newRow2 != null) {\r\n                Cell cell3 = newRow2.createCell(12);\r\n                cell3.setCellFormula(&quot;IF(OR(N&quot;+b+&quot;=&quot;+arr[i]+&quot;, N&quot;+b+&quot;=&quot;+arr[i]+&quot;),0,F&quot;+b+&quot;)&quot;);\r\n                b++;\r\n                cRow2++;\r\n                newRow2 = firstSheet.getRow(cRow2);\r\n            }\r\n        }\r\n\r\n Is there a way of doing it with the two spaces arr[0] and arr[1] but automatically as many times as the user enters numbers?","title":"Java - IF Function with OR using an array - Apache POI","body":"<p>I have an array which length will change as the user enters new numbers, and I need the cell's value to be 0 when the condition is TRUE. For example the user enters: &quot;201&quot; and &quot;500&quot; into the array so the formula would be =IF(OR(N2=500, N2=201),0,F2), then =IF(OR(N3=500, N3=201),0,F3) till the final row. I came up with this code but the second OR condition it's the same because the i it's still the same</p>\n<pre><code>    int arr[] = {500,201};\n    int i;\n         \n        for (i = 0; i &lt; arr.length; i++){\n\nint cRow2 = 1;\n        int b = 2;\n        Row newRow2 = firstSheet.getRow(cRow2);\n\nwhile (newRow2 != null) {\n            Cell cell3 = newRow2.createCell(12);\n            cell3.setCellFormula(&quot;IF(OR(N&quot;+b+&quot;=&quot;+arr[i]+&quot;, N&quot;+b+&quot;=&quot;+arr[i]+&quot;),0,F&quot;+b+&quot;)&quot;);\n            b++;\n            cRow2++;\n            newRow2 = firstSheet.getRow(cRow2);\n        }\n    }\n</code></pre>\n<p>Is there a way of doing it with the two spaces arr[0] and arr[1] but automatically as many times as the user enters numbers?</p>\n"},{"tags":["java","spring-boot","package","dependencies"],"answers":[{"tags":[],"owner":{"account_id":18824026,"reputation":219,"user_id":13729386,"display_name":"Navneet agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651140090,"creation_date":1651140090,"answer_id":72041724,"question_id":72041607,"body_markdown":"A better design :-\r\n 1. Pull out the common code you have in APP1 and place it in a new LIB, or the same LIB you already have.\r\n 2. Add the new/old LIB as a dependency of Both Apps, and consume the common code from there.\r\n\r\n-OR-\r\n\r\nRun both the services independently and add a http call between the 2 services.\r\n\r\n\r\nUsually when you want to have libs in a micro service architecture, they are supposed to be plain Java Classes so that they can be consumed anywhere.\r\n\r\nOne reason the current setup might not be working is the services in APP1 might not be getting the required dependencies injected as it is supposed to.\r\n\r\n","title":"Springboot application packaged as a library to be used in another springboot application","body":"<p>A better design :-</p>\n<ol>\n<li>Pull out the common code you have in APP1 and place it in a new LIB, or the same LIB you already have.</li>\n<li>Add the new/old LIB as a dependency of Both Apps, and consume the common code from there.</li>\n</ol>\n<p>-OR-</p>\n<p>Run both the services independently and add a http call between the 2 services.</p>\n<p>Usually when you want to have libs in a micro service architecture, they are supposed to be plain Java Classes so that they can be consumed anywhere.</p>\n<p>One reason the current setup might not be working is the services in APP1 might not be getting the required dependencies injected as it is supposed to.</p>\n"}],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651140090,"creation_date":1651139610,"question_id":72041607,"body_markdown":"The scenario I have is as follows:\r\n1. I have a libraryFile say &quot;LIB&quot; which has some business logic\r\n2. I have a springboot application(APP1) that uses this LIB as a dependency \r\n3. I have another springboot application(APP2) which needs to use code from both APP1 and LIB so I refer to LIB and a jar created from classes in APP1\r\n\r\nWhen I Launch the APP2, It launches fine. But when I test using an http request I get a NoClassDefFoundError for some classes in LIB.\r\n\r\nIs there an approach that would be a good implementation for this scenario.\r\n\r\nCode flow:\r\nController(APP2)-&gt;Service(APP@)-&gt;Service(APP1)-&gt;Business logic classes(LIB)","title":"Springboot application packaged as a library to be used in another springboot application","body":"<p>The scenario I have is as follows:</p>\n<ol>\n<li>I have a libraryFile say &quot;LIB&quot; which has some business logic</li>\n<li>I have a springboot application(APP1) that uses this LIB as a dependency</li>\n<li>I have another springboot application(APP2) which needs to use code from both APP1 and LIB so I refer to LIB and a jar created from classes in APP1</li>\n</ol>\n<p>When I Launch the APP2, It launches fine. But when I test using an http request I get a NoClassDefFoundError for some classes in LIB.</p>\n<p>Is there an approach that would be a good implementation for this scenario.</p>\n<p>Code flow:\nController(APP2)-&gt;Service(APP@)-&gt;Service(APP1)-&gt;Business logic classes(LIB)</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":76828,"reputation":5266,"user_id":219658,"accept_rate":25,"display_name":"David Medinets"},"score":2,"creation_date":1530906557,"post_id":285177,"comment_id":89414794,"body_markdown":"I believe the premise of your question is wrong. Instead of calling a constructor within a constructor, use the Factory pattern. A static factory method first creates all lower-level objects. Then it constructs the higher-level objects which gets returns from the factory call. This technique removes complexity from the model which aids maintenance, clarity, and testing.","body":"I believe the premise of your question is wrong. Instead of calling a constructor within a constructor, use the Factory pattern. A static factory method first creates all lower-level objects. Then it constructs the higher-level objects which gets returns from the factory call. This technique removes complexity from the model which aids maintenance, clarity, and testing."},{"owner":{"account_id":4418634,"reputation":1573,"user_id":3599399,"display_name":"Richard"},"score":1,"creation_date":1548073665,"post_id":285177,"comment_id":95400544,"body_markdown":"I generally switched to private constructors and factory methods, since constructors, because of their limitations, are violating the open-closed principle. I think this comment should be the correct answer, everything else will confuse the hell out of your team mates.","body":"I generally switched to private constructors and factory methods, since constructors, because of their limitations, are violating the open-closed principle. I think this comment should be the correct answer, everything else will confuse the hell out of your team mates."},{"owner":{"account_id":8841219,"reputation":89,"user_id":6603613,"display_name":"Augusto"},"score":0,"creation_date":1563995776,"post_id":285177,"comment_id":100889511,"body_markdown":"Sroy but that&#39;s not a good practice if you want to do something like that, overcharge the constructor. If you want to wrap a content, that could be done, but for another pourpuse. Not the constructor\n\npublic class Foo {\n    private int x;\n\n    public Foo() {\n    }\n\n    public Foo(int x) {\n        this.x = x;\n    }\n    public Foo(int x, int y) {\n        this.x = x;\n       this.y = y\n    }","body":"Sroy but that&#39;s not a good practice if you want to do something like that, overcharge the constructor. If you want to wrap a content, that could be done, but for another pourpuse. Not the constructor  public class Foo {     private int x;      public Foo() {     }      public Foo(int x) {         this.x = x;     }     public Foo(int x, int y) {         this.x = x;        this.y = y     }"},{"owner":{"account_id":1755671,"reputation":773,"user_id":1603791,"accept_rate":85,"display_name":"Stuporman"},"score":1,"creation_date":1616085395,"post_id":285177,"comment_id":117898922,"body_markdown":"Calling a constructor from another constructor in Java is primarily a means of providing default values for parameters to the one constructor that should actually construct your object, and then it should be enough to just assign values in the constructor&#39;s body. If your object requires complex construction, that&#39;s a code smell indicating that your class lacks cohesion. If a constructor is not enough for you, you&#39;ve probably done a poor job of designing your classes which you will discover when it&#39;s time to make changes down the road.","body":"Calling a constructor from another constructor in Java is primarily a means of providing default values for parameters to the one constructor that should actually construct your object, and then it should be enough to just assign values in the constructor&#39;s body. If your object requires complex construction, that&#39;s a code smell indicating that your class lacks cohesion. If a constructor is not enough for you, you&#39;ve probably done a poor job of designing your classes which you will discover when it&#39;s time to make changes down the road."},{"owner":{"account_id":16690500,"reputation":139,"user_id":12063243,"display_name":"abc123"},"score":0,"creation_date":1633369658,"post_id":285177,"comment_id":122736557,"body_markdown":"Instead of using &quot;this&quot; why cant we just use new, for eg inside no-arg constructor call new Foo(5); is this correct? if not  why so? @peter","body":"Instead of using &quot;this&quot; why cant we just use new, for eg inside no-arg constructor call new Foo(5); is this correct? if not  why so? @peter"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":3384,"is_accepted":true,"score":3383,"last_activity_date":1465426940,"creation_date":1226520734,"answer_id":285184,"question_id":285177,"body_markdown":"Yes, it is possible:\r\n\r\n    public class Foo {\r\n        private int x;\r\n    \r\n        public Foo() {\r\n            this(1);\r\n        }\r\n    \r\n        public Foo(int x) {\r\n            this.x = x;\r\n        }\r\n    }\r\n\r\nTo chain to a particular superclass constructor instead of one in the same class, use `super` instead of `this`. Note that **you can only chain to one constructor**, and **it has to be the first statement in your constructor body**.\r\n\r\nSee also [this related question][1], which is about C# but where the same principles apply.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/284896","title":"How do I call one constructor from another in Java?","body":"<p>Yes, it is possible:</p>\n\n<pre><code>public class Foo {\n    private int x;\n\n    public Foo() {\n        this(1);\n    }\n\n    public Foo(int x) {\n        this.x = x;\n    }\n}\n</code></pre>\n\n<p>To chain to a particular superclass constructor instead of one in the same class, use <code>super</code> instead of <code>this</code>. Note that <strong>you can only chain to one constructor</strong>, and <strong>it has to be the first statement in your constructor body</strong>.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/284896\">this related question</a>, which is about C# but where the same principles apply.</p>\n"},{"tags":[],"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"down_vote_count":1,"up_vote_count":300,"is_accepted":false,"score":299,"last_activity_date":1566812148,"creation_date":1226520802,"answer_id":285187,"question_id":285177,"body_markdown":"Using `this(args)`. The preferred pattern is to work from the smallest constructor to the largest.\r\n\r\n    public class Cons {\r\n\r\n        public Cons() {\r\n            // A no arguments constructor that sends default values to the largest\r\n            this(madeUpArg1Value,madeUpArg2Value,madeUpArg3Value);\r\n        }\r\n\r\n        public Cons(int arg1, int arg2) {\r\n           // An example of a partial constructor that uses the passed in arguments\r\n            // and sends a hidden default value to the largest\r\n            this(arg1,arg2, madeUpArg3Value);\r\n        }\r\n\r\n        // Largest constructor that does the work\r\n        public Cons(int arg1, int arg2, int arg3) {\r\n            this.arg1 = arg1;\r\n            this.arg2 = arg2;\r\n            this.arg3 = arg3;\r\n        }\r\n    }\r\n\r\nYou can also use a more recently advocated approach of valueOf or just &quot;of&quot;:\r\n\r\n    public class Cons {\r\n        public static Cons newCons(int arg1,...) {\r\n            // This function is commonly called valueOf, like Integer.valueOf(..)\r\n            // More recently called &quot;of&quot;, like EnumSet.of(..)\r\n            Cons c = new Cons(...);\r\n            c.setArg1(....);\r\n            return c;\r\n        }\r\n    } \r\n\r\nTo call a super class, use `super(someValue)`. The call to super must be the first call in the constructor or you will get a compiler error.\r\n","title":"How do I call one constructor from another in Java?","body":"<p>Using <code>this(args)</code>. The preferred pattern is to work from the smallest constructor to the largest.</p>\n\n<pre><code>public class Cons {\n\n    public Cons() {\n        // A no arguments constructor that sends default values to the largest\n        this(madeUpArg1Value,madeUpArg2Value,madeUpArg3Value);\n    }\n\n    public Cons(int arg1, int arg2) {\n       // An example of a partial constructor that uses the passed in arguments\n        // and sends a hidden default value to the largest\n        this(arg1,arg2, madeUpArg3Value);\n    }\n\n    // Largest constructor that does the work\n    public Cons(int arg1, int arg2, int arg3) {\n        this.arg1 = arg1;\n        this.arg2 = arg2;\n        this.arg3 = arg3;\n    }\n}\n</code></pre>\n\n<p>You can also use a more recently advocated approach of valueOf or just \"of\":</p>\n\n<pre><code>public class Cons {\n    public static Cons newCons(int arg1,...) {\n        // This function is commonly called valueOf, like Integer.valueOf(..)\n        // More recently called \"of\", like EnumSet.of(..)\n        Cons c = new Cons(...);\n        c.setArg1(....);\n        return c;\n    }\n} \n</code></pre>\n\n<p>To call a super class, use <code>super(someValue)</code>. The call to super must be the first call in the constructor or you will get a compiler error.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":1,"up_vote_count":243,"is_accepted":false,"score":242,"last_activity_date":1455072785,"creation_date":1363033992,"answer_id":15348070,"question_id":285177,"body_markdown":"[*Note: I just want to add one aspect, which I did not see in the other answers: how to overcome limitations of the requirement that this() has to be on the first line).*]\r\n\r\nIn Java another constructor of the same class can be called from a constructor via `this()`. Note however that `this` has to be on the first line.\r\n\r\n    public class MyClass {\r\n\r\n      public MyClass(double argument1, double argument2) {\r\n        this(argument1, argument2, 0.0);\r\n      }\r\n\r\n      public MyClass(double argument1, double argument2, double argument3) {\r\n        this.argument1 = argument1;\r\n        this.argument2 = argument2;\r\n        this.argument3 = argument3;\r\n      }\r\n    }\r\n\r\nThat `this` has to appear on the first line looks like a big limitation, but you can construct the arguments of other constructors via static methods. For example:\r\n\r\n    public class MyClass {\r\n\r\n      public MyClass(double argument1, double argument2) {\r\n        this(argument1, argument2, getDefaultArg3(argument1, argument2));\r\n      }\r\n\r\n      public MyClass(double argument1, double argument2, double argument3) {\r\n        this.argument1 = argument1;\r\n        this.argument2 = argument2;\r\n        this.argument3 = argument3;\r\n      }\r\n\r\n      private static double getDefaultArg3(double argument1, double argument2) {\r\n        double argument3 = 0;\r\n\r\n        // Calculate argument3 here if you like.\r\n\r\n        return argument3;\r\n\r\n      }\r\n\r\n    }","title":"How do I call one constructor from another in Java?","body":"<p>[<em>Note: I just want to add one aspect, which I did not see in the other answers: how to overcome limitations of the requirement that this() has to be on the first line).</em>]</p>\n\n<p>In Java another constructor of the same class can be called from a constructor via <code>this()</code>. Note however that <code>this</code> has to be on the first line.</p>\n\n<pre><code>public class MyClass {\n\n  public MyClass(double argument1, double argument2) {\n    this(argument1, argument2, 0.0);\n  }\n\n  public MyClass(double argument1, double argument2, double argument3) {\n    this.argument1 = argument1;\n    this.argument2 = argument2;\n    this.argument3 = argument3;\n  }\n}\n</code></pre>\n\n<p>That <code>this</code> has to appear on the first line looks like a big limitation, but you can construct the arguments of other constructors via static methods. For example:</p>\n\n<pre><code>public class MyClass {\n\n  public MyClass(double argument1, double argument2) {\n    this(argument1, argument2, getDefaultArg3(argument1, argument2));\n  }\n\n  public MyClass(double argument1, double argument2, double argument3) {\n    this.argument1 = argument1;\n    this.argument2 = argument2;\n    this.argument3 = argument3;\n  }\n\n  private static double getDefaultArg3(double argument1, double argument2) {\n    double argument3 = 0;\n\n    // Calculate argument3 here if you like.\n\n    return argument3;\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2655079,"reputation":1862,"user_id":2295938,"display_name":"Kaamel"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1366758744,"creation_date":1366758744,"answer_id":16180692,"question_id":285177,"body_markdown":"When I need to call another constructor from inside the code (not on the first line), I usually use a helper method like this:\r\n\r\n    class MyClass {\r\n       int field;\r\n\r\n \r\n       MyClass() {\r\n          init(0);\r\n       } \r\n       MyClass(int value) {\r\n          if (value&lt;0) {\r\n              init(0);\r\n          } \r\n          else { \r\n              init(value);\r\n          }\r\n       }\r\n       void init(int x) {\r\n          field = x;\r\n       }\r\n    }\r\n\r\n \r\nBut most often I try to do it the other way around by calling the more complex constructors from the simpler ones on the first line, to the extent possible. For the above example\r\n\r\n    class MyClass {\r\n       int field;\r\n     \r\n       MyClass(int value) {\r\n          if (value&lt;0)\r\n             field = 0;\r\n          else\r\n             field = value;\r\n       }\r\n       MyClass() {\r\n          this(0);\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How do I call one constructor from another in Java?","body":"<p>When I need to call another constructor from inside the code (not on the first line), I usually use a helper method like this:</p>\n\n<pre><code>class MyClass {\n   int field;\n\n\n   MyClass() {\n      init(0);\n   } \n   MyClass(int value) {\n      if (value&lt;0) {\n          init(0);\n      } \n      else { \n          init(value);\n      }\n   }\n   void init(int x) {\n      field = x;\n   }\n}\n</code></pre>\n\n<p>But most often I try to do it the other way around by calling the more complex constructors from the simpler ones on the first line, to the extent possible. For the above example</p>\n\n<pre><code>class MyClass {\n   int field;\n\n   MyClass(int value) {\n      if (value&lt;0)\n         field = 0;\n      else\n         field = value;\n   }\n   MyClass() {\n      this(0);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49618,"reputation":2174,"user_id":147808,"accept_rate":100,"display_name":"olovb"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1431039123,"creation_date":1431039123,"answer_id":30112975,"question_id":285177,"body_markdown":"As everybody already have said, you use `this(…)`, which is called an *explicit constructor invocation*.\r\n\r\n**However, keep in mind that** within such an explicit constructor invocation statement **you may not refer to**\r\n\r\n- any *instance variables* or \r\n- any *instance methods* or \r\n- any *inner classes* declared in this class or any superclass, or \r\n- `this` or \r\n- `super`.\r\n\r\nAs stated in JLS (&#167;8.8.7.1).","title":"How do I call one constructor from another in Java?","body":"<p>As everybody already have said, you use <code>this(…)</code>, which is called an <em>explicit constructor invocation</em>.</p>\n\n<p><strong>However, keep in mind that</strong> within such an explicit constructor invocation statement <strong>you may not refer to</strong></p>\n\n<ul>\n<li>any <em>instance variables</em> or </li>\n<li>any <em>instance methods</em> or </li>\n<li>any <em>inner classes</em> declared in this class or any superclass, or </li>\n<li><code>this</code> or </li>\n<li><code>super</code>.</li>\n</ul>\n\n<p>As stated in JLS (§8.8.7.1).</p>\n"},{"tags":[],"owner":{"account_id":5537338,"reputation":1060,"user_id":4395148,"accept_rate":100,"display_name":"amila isura"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1455241832,"creation_date":1432652957,"answer_id":30462394,"question_id":285177,"body_markdown":"Within a constructor, you can use the `this` keyword to invoke another constructor in the same class. Doing so is called an **explicit constructor invocation**. \r\n\r\nHere&#39;s another Rectangle class, with a different implementation from the one in the Objects section.\r\n\r\n    public class Rectangle {\r\n        private int x, y;\r\n        private int width, height;\r\n            \r\n        public Rectangle() {\r\n            this(1, 1);\r\n        }\r\n        public Rectangle(int width, int height) {\r\n            this( 0,0,width, height);\r\n        }\r\n        public Rectangle(int x, int y, int width, int height) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n        \r\n    }\r\nThis class contains a set of constructors. Each constructor initializes some or all of the rectangle&#39;s member variables.","title":"How do I call one constructor from another in Java?","body":"<p>Within a constructor, you can use the <code>this</code> keyword to invoke another constructor in the same class. Doing so is called an <strong>explicit constructor invocation</strong>. </p>\n\n<p>Here's another Rectangle class, with a different implementation from the one in the Objects section.</p>\n\n<pre><code>public class Rectangle {\n    private int x, y;\n    private int width, height;\n\n    public Rectangle() {\n        this(1, 1);\n    }\n    public Rectangle(int width, int height) {\n        this( 0,0,width, height);\n    }\n    public Rectangle(int x, int y, int width, int height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n\n}\n</code></pre>\n\n<p>This class contains a set of constructors. Each constructor initializes some or all of the rectangle's member variables.</p>\n"},{"tags":[],"owner":{"account_id":6723210,"reputation":333,"user_id":5182313,"accept_rate":0,"display_name":"ABHISHEK RANA"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1448650884,"creation_date":1448650884,"answer_id":33963435,"question_id":285177,"body_markdown":"You can a constructor from another constructor of same class by using &quot;this&quot; keyword.\r\nExample -\r\n\r\n    class This1\r\n    {\r\n    \tThis1()\r\n    \t{\r\n    \t\tthis(&quot;Hello&quot;);\r\n    \t\tSystem.out.println(&quot;Default constructor..&quot;);\r\n    \t}\r\n    \tThis1(int a)\r\n    \t{\r\n    \t\tthis();\r\n    \t\tSystem.out.println(&quot;int as arg constructor..&quot;);\t\r\n    \t}\r\n    \tThis1(String s)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;string as arg constructor..&quot;);\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tnew This1(100);\r\n    \t}\r\n    }\r\n\r\nOutput -\r\nstring as arg constructor..\r\nDefault constructor..\r\nint as arg constructor..","title":"How do I call one constructor from another in Java?","body":"<p>You can a constructor from another constructor of same class by using \"this\" keyword.\nExample -</p>\n\n<pre><code>class This1\n{\n    This1()\n    {\n        this(\"Hello\");\n        System.out.println(\"Default constructor..\");\n    }\n    This1(int a)\n    {\n        this();\n        System.out.println(\"int as arg constructor..\"); \n    }\n    This1(String s)\n    {\n        System.out.println(\"string as arg constructor..\");  \n    }\n\n    public static void main(String args[])\n    {\n        new This1(100);\n    }\n}\n</code></pre>\n\n<p>Output -\nstring as arg constructor..\nDefault constructor..\nint as arg constructor..</p>\n"},{"tags":[],"owner":{"account_id":6586984,"reputation":181,"user_id":5089473,"accept_rate":0,"display_name":"Akash Manngroliya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523413250,"creation_date":1473745706,"answer_id":39462961,"question_id":285177,"body_markdown":"Yes it is possible to call one constructor from another with use of `this()`\r\n\r\n    class Example{\r\n       private int a = 1;\r\n       Example(){\r\n            this(5); //here another constructor called based on constructor argument\r\n            System.out.println(&quot;number a is &quot;+a);   \r\n       }\r\n       Example(int b){\r\n            System.out.println(&quot;number b is &quot;+b);\r\n       }\r\n\r\n ","title":"How do I call one constructor from another in Java?","body":"<p>Yes it is possible to call one constructor from another with use of <code>this()</code></p>\n\n<pre><code>class Example{\n   private int a = 1;\n   Example(){\n        this(5); //here another constructor called based on constructor argument\n        System.out.println(\"number a is \"+a);   \n   }\n   Example(int b){\n        System.out.println(\"number b is \"+b);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2412073,"reputation":5698,"user_id":2106934,"accept_rate":89,"display_name":"Utsav"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1529559966,"creation_date":1479312857,"answer_id":40637000,"question_id":285177,"body_markdown":"Yes, any number of constructors can be present in a class and they can be called by another constructor using `this()` [Please do not confuse `this()` constructor call with `this` keyword]. `this()` or `this(args)` should be the first line in the constructor.\r\n\r\nExample:\r\n\r\n    Class Test {\r\n        Test() {\r\n            this(10); // calls the constructor with integer args, Test(int a)\r\n        }\r\n        Test(int a) {\r\n            this(10.5); // call the constructor with double arg, Test(double a)\r\n        }\r\n        Test(double a) {\r\n            System.out.println(&quot;I am a double arg constructor&quot;);\r\n        }\r\n    }\r\n\r\n \r\nThis is known as constructor overloading.  \r\nPlease note that for constructor, only overloading concept is applicable and not inheritance or overriding.","title":"How do I call one constructor from another in Java?","body":"<p>Yes, any number of constructors can be present in a class and they can be called by another constructor using <code>this()</code> [Please do not confuse <code>this()</code> constructor call with <code>this</code> keyword]. <code>this()</code> or <code>this(args)</code> should be the first line in the constructor.</p>\n\n<p>Example:</p>\n\n<pre><code>Class Test {\n    Test() {\n        this(10); // calls the constructor with integer args, Test(int a)\n    }\n    Test(int a) {\n        this(10.5); // call the constructor with double arg, Test(double a)\n    }\n    Test(double a) {\n        System.out.println(\"I am a double arg constructor\");\n    }\n}\n</code></pre>\n\n<p>This is known as constructor overloading.<br>\nPlease note that for constructor, only overloading concept is applicable and not inheritance or overriding.</p>\n"},{"tags":[],"owner":{"account_id":6961607,"reputation":2054,"user_id":5340833,"display_name":"Py-Coder"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1513662952,"creation_date":1479734074,"answer_id":40721089,"question_id":285177,"body_markdown":"**I will tell you an easy way**\r\n\r\nThere are **two** types of constructors:\r\n\r\n 1. **Default constructor**\r\n 2. **Parameterized constructor**\r\n\r\nI will explain in one Example\r\n\r\n    class ConstructorDemo \r\n    {\r\n          ConstructorDemo()//Default Constructor\r\n          {\r\n             System.out.println(&quot;D.constructor &quot;);\r\n          }\r\n         \r\n          ConstructorDemo(int k)//Parameterized constructor\r\n          {\r\n\t         this();//-------------(1)\r\n             System.out.println(&quot;P.Constructor =&quot;+k);       \r\n          }\r\n\r\n\t      public static void main(String[] args) \r\n\t      {\r\n             //this(); error because &quot;must be first statement in constructor\r\n\t\t     new ConstructorDemo();//-------(2)\r\n             ConstructorDemo g=new ConstructorDemo(3);---(3)\t\r\n\t       }\r\n       }                  \r\n\r\nIn the above example I showed 3 types of calling\r\n\r\n 1. this() call to this must be first statement in constructor\r\n 2. This is Name less Object. this automatically calls the default constructor.\r\n 3.This calls the Parameterized constructor.\r\n\r\nNote:\r\n**this must be the first statement in the constructor.**","title":"How do I call one constructor from another in Java?","body":"<p><strong>I will tell you an easy way</strong></p>\n\n<p>There are <strong>two</strong> types of constructors:</p>\n\n<ol>\n<li><strong>Default constructor</strong></li>\n<li><strong>Parameterized constructor</strong></li>\n</ol>\n\n<p>I will explain in one Example</p>\n\n<pre><code>class ConstructorDemo \n{\n      ConstructorDemo()//Default Constructor\n      {\n         System.out.println(\"D.constructor \");\n      }\n\n      ConstructorDemo(int k)//Parameterized constructor\n      {\n         this();//-------------(1)\n         System.out.println(\"P.Constructor =\"+k);       \n      }\n\n      public static void main(String[] args) \n      {\n         //this(); error because \"must be first statement in constructor\n         new ConstructorDemo();//-------(2)\n         ConstructorDemo g=new ConstructorDemo(3);---(3)    \n       }\n   }                  \n</code></pre>\n\n<p>In the above example I showed 3 types of calling</p>\n\n<ol>\n<li>this() call to this must be first statement in constructor</li>\n<li>This is Name less Object. this automatically calls the default constructor.\n3.This calls the Parameterized constructor.</li>\n</ol>\n\n<p>Note:\n<strong>this must be the first statement in the constructor.</strong></p>\n"},{"tags":[],"owner":{"account_id":5755708,"reputation":738,"user_id":4543733,"display_name":"S R Chaitanya"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1534959059,"creation_date":1483795278,"answer_id":41521892,"question_id":285177,"body_markdown":"Yes it is possible to call one constructor from another. But there is a rule to it. If a call is made from one constructor to another, then \r\n\r\n&gt; _that new constructor call must be the first statement in the current constructor_\r\n\r\n    public class Product {\r\n\t     private int productId;\r\n\t     private String productName;\r\n         private double productPrice;\r\n      \t private String category;\r\n\t \r\n     \tpublic Product(int id, String name) {\r\n\t     \tthis(id,name,1.0);\r\n\t    }\r\n\t\r\n      \tpublic Product(int id, String name, double price) {\r\n\t    \tthis(id,name,price,&quot;DEFAULT&quot;);\r\n\t    }\r\n\t\r\n      \tpublic Product(int id,String name,double price, String category){\r\n\t\t    this.productId=id;\r\n\t\t    this.productName=name;\r\n\t    \tthis.productPrice=price;\r\n\t    \tthis.category=category;\r\n    \t}\r\n    }\r\n\r\n\r\nSo, something like below will not work.\r\n\r\n    public Product(int id, String name, double price) {\r\n        System.out.println(&quot;Calling constructor with price&quot;);\r\n        this(id,name,price,&quot;DEFAULT&quot;);\r\n    }\r\n\r\nAlso, in the case of inheritance, when sub-class&#39;s object is created, the super class constructor is first called.\r\n\r\n    public class SuperClass {\r\n     \tpublic SuperClass() {\r\n           System.out.println(&quot;Inside super class constructor&quot;);\r\n\t    }\r\n\t}\r\n    public class SubClass extends SuperClass {\r\n     \tpublic SubClass () {\r\n           //Even if we do not add, Java adds the call to super class&#39;s constructor like \r\n           // super();\r\n           System.out.println(&quot;Inside sub class constructor&quot;);\r\n\t    }\r\n\t}\r\n   \r\nThus, in this case also another constructor call is first declared before any other statements.\r\n","title":"How do I call one constructor from another in Java?","body":"<p>Yes it is possible to call one constructor from another. But there is a rule to it. If a call is made from one constructor to another, then </p>\n\n<blockquote>\n  <p><em>that new constructor call must be the first statement in the current constructor</em></p>\n</blockquote>\n\n<pre><code>public class Product {\n     private int productId;\n     private String productName;\n     private double productPrice;\n     private String category;\n\n    public Product(int id, String name) {\n        this(id,name,1.0);\n    }\n\n    public Product(int id, String name, double price) {\n        this(id,name,price,\"DEFAULT\");\n    }\n\n    public Product(int id,String name,double price, String category){\n        this.productId=id;\n        this.productName=name;\n        this.productPrice=price;\n        this.category=category;\n    }\n}\n</code></pre>\n\n<p>So, something like below will not work.</p>\n\n<pre><code>public Product(int id, String name, double price) {\n    System.out.println(\"Calling constructor with price\");\n    this(id,name,price,\"DEFAULT\");\n}\n</code></pre>\n\n<p>Also, in the case of inheritance, when sub-class's object is created, the super class constructor is first called.</p>\n\n<pre><code>public class SuperClass {\n    public SuperClass() {\n       System.out.println(\"Inside super class constructor\");\n    }\n}\npublic class SubClass extends SuperClass {\n    public SubClass () {\n       //Even if we do not add, Java adds the call to super class's constructor like \n       // super();\n       System.out.println(\"Inside sub class constructor\");\n    }\n}\n</code></pre>\n\n<p>Thus, in this case also another constructor call is first declared before any other statements.</p>\n"},{"tags":[],"owner":{"account_id":8051367,"reputation":430,"user_id":6069781,"accept_rate":71,"display_name":"Akshay Gaikwad"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1488534618,"creation_date":1488533250,"answer_id":42575098,"question_id":285177,"body_markdown":"Calling constructor from another constructor\r\n\r\n\r\n\r\n    class MyConstructorDemo extends ConstructorDemo\r\n    {\r\n        MyConstructorDemo()\r\n        {\r\n            this(&quot;calling another constructor&quot;);\r\n        }\r\n        MyConstructorDemo(String arg)\r\n        {\r\n            System.out.print(&quot;This is passed String by another constructor :&quot;+arg);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAlso you can call parent constructor by using `super()` call","title":"How do I call one constructor from another in Java?","body":"<p>Calling constructor from another constructor</p>\n\n<pre><code>class MyConstructorDemo extends ConstructorDemo\n{\n    MyConstructorDemo()\n    {\n        this(\"calling another constructor\");\n    }\n    MyConstructorDemo(String arg)\n    {\n        System.out.print(\"This is passed String by another constructor :\"+arg);\n    }\n}\n</code></pre>\n\n<p>Also you can call parent constructor by using <code>super()</code> call</p>\n"},{"tags":[],"owner":{"account_id":5066829,"reputation":2585,"user_id":4066742,"accept_rate":0,"display_name":"S. Mayol"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489535596,"creation_date":1489535596,"answer_id":42798699,"question_id":285177,"body_markdown":"The keyword ***this*** can be used to call a constructor from a constructor, when writing several constructor for a class, there are times when you&#39;d like to call one constructor from another to avoid duplicate code.\r\n\r\nBellow is a link that I explain other topic about constructor and getters() and setters() and I used a class with two constructors. I hope the explanations and examples help you.\r\n\r\n[Setter methods or constructors][1]\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19359548/setter-methods-or-constructors/42798426#42798426","title":"How do I call one constructor from another in Java?","body":"<p>The keyword <strong><em>this</em></strong> can be used to call a constructor from a constructor, when writing several constructor for a class, there are times when you'd like to call one constructor from another to avoid duplicate code.</p>\n\n<p>Bellow is a link that I explain other topic about constructor and getters() and setters() and I used a class with two constructors. I hope the explanations and examples help you.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19359548/setter-methods-or-constructors/42798426#42798426\">Setter methods or constructors</a></p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1510614082,"creation_date":1510614082,"answer_id":47274985,"question_id":285177,"body_markdown":"There are design patterns that cover the need for complex construction - if it can&#39;t be done succinctly, create a factory method or a factory class.\r\n\r\nWith the latest java and the addition of lambdas, it is easy to create a constructor which can accept any initialization code you desire.\r\n\r\n    class LambdaInitedClass {\r\n    \r\n       public LamdaInitedClass(Consumer&lt;LambdaInitedClass&gt; init) {\r\n           init.accept(this);\r\n       }\r\n    }\r\n\r\nCall it with...\r\n\r\n   \r\n\r\n     new LambdaInitedClass(l -&gt; { // init l any way you want });\r\n","title":"How do I call one constructor from another in Java?","body":"<p>There are design patterns that cover the need for complex construction - if it can't be done succinctly, create a factory method or a factory class.</p>\n\n<p>With the latest java and the addition of lambdas, it is easy to create a constructor which can accept any initialization code you desire.</p>\n\n<pre><code>class LambdaInitedClass {\n\n   public LamdaInitedClass(Consumer&lt;LambdaInitedClass&gt; init) {\n       init.accept(this);\n   }\n}\n</code></pre>\n\n<p>Call it with...</p>\n\n<pre><code> new LambdaInitedClass(l -&gt; { // init l any way you want });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3039297,"reputation":449,"user_id":2576702,"accept_rate":50,"display_name":"GetBackerZ"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1548258819,"creation_date":1511273031,"answer_id":47414995,"question_id":285177,"body_markdown":"Pretty simple \r\n\r\n    public class SomeClass{\r\n\r\n        private int number;\r\n        private String someString;\r\n        \r\n        public SomeClass(){\r\n            number = 0;\r\n            someString = new String();\r\n        }\r\n        \r\n        public SomeClass(int number){\r\n            this(); //set the class to 0\r\n            this.setNumber(number); \r\n        }\r\n\r\n        public SomeClass(int number, String someString){\r\n            this(number); //call public SomeClass( int number )\r\n            this.setString(someString);\r\n        }\r\n\r\n        public void setNumber(int number){\r\n            this.number = number;\r\n        }\r\n        public void setString(String someString){\r\n            this.someString = someString;\r\n        }\r\n        //.... add some accessors\r\n    }\r\n\r\n\r\nnow here is some small extra credit:\r\n\r\n    public SomeOtherClass extends SomeClass {\r\n        public SomeOtherClass(int number, String someString){\r\n             super(number, someString); //calls public SomeClass(int number, String someString)\r\n        }\r\n        //.... Some other code.\r\n    }\r\n\r\nHope this helps.","title":"How do I call one constructor from another in Java?","body":"<p>Pretty simple </p>\n\n<pre><code>public class SomeClass{\n\n    private int number;\n    private String someString;\n\n    public SomeClass(){\n        number = 0;\n        someString = new String();\n    }\n\n    public SomeClass(int number){\n        this(); //set the class to 0\n        this.setNumber(number); \n    }\n\n    public SomeClass(int number, String someString){\n        this(number); //call public SomeClass( int number )\n        this.setString(someString);\n    }\n\n    public void setNumber(int number){\n        this.number = number;\n    }\n    public void setString(String someString){\n        this.someString = someString;\n    }\n    //.... add some accessors\n}\n</code></pre>\n\n<p>now here is some small extra credit:</p>\n\n<pre><code>public SomeOtherClass extends SomeClass {\n    public SomeOtherClass(int number, String someString){\n         super(number, someString); //calls public SomeClass(int number, String someString)\n    }\n    //.... Some other code.\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7178727,"reputation":3886,"user_id":5483580,"display_name":"Negi Rox"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1518530723,"creation_date":1516772757,"answer_id":48415573,"question_id":285177,"body_markdown":"I know there are so many examples of this question but what I found I am putting here to share my Idea. there are two ways to chain constructor. In Same class you can use this keyword. in Inheritance, you need to use super keyword.\r\n\r\n        import java.util.*;\r\n\t\timport java.lang.*;\r\n\r\n\t\tclass Test\r\n\t\t{  \r\n\t\t\tpublic static void main(String args[])\r\n\t\t\t{\r\n\t\t\t\tDog d = new Dog(); // Both Calling Same Constructor of Parent Class i.e. 0 args Constructor.\r\n\t\t\t\tDog cs = new Dog(&quot;Bite&quot;); // Both Calling Same Constructor of Parent Class i.e. 0 args Constructor.\r\n\r\n\t\t\t\t// You need to Explicitly tell the java compiler to use Argument constructor so you need to use &quot;super&quot; key word\r\n\t\t\t\tSystem.out.println(&quot;------------------------------&quot;);\r\n\t\t\t\tCat c = new Cat();\r\n\t\t\t\tCat caty = new Cat(&quot;10&quot;);\r\n\r\n\t\t\t\tSystem.out.println(&quot;------------------------------&quot;);\r\n\t\t\t\t// Self s = new Self();\r\n\t\t\t\tSelf ss = new Self(&quot;self&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Animal\r\n\t\t{\r\n\t\t\tString i;\r\n\r\n\t\t\tpublic Animal()\r\n\t\t\t{\r\n\t\t\t\ti = &quot;10&quot;;\r\n\t\t\t\tSystem.out.println(&quot;Animal Constructor :&quot; +i);\r\n\t\t\t}\r\n\t\t\tpublic Animal(String h)\r\n\t\t\t{\r\n\t\t\t\ti = &quot;20&quot;;\r\n\t\t\t\tSystem.out.println(&quot;Animal Constructor Habit :&quot;+ i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Dog extends Animal\r\n\t\t{\r\n\t\t\tpublic Dog()\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Dog Constructor&quot;);\r\n\t\t\t}\r\n\t\t\tpublic Dog(String h)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Dog Constructor with habit&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Cat extends Animal\r\n\t\t{\r\n\t\t\tpublic Cat()\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Cat Constructor&quot;);\r\n\t\t\t}\r\n\t\t\tpublic Cat(String i)\r\n\t\t\t{\r\n\t\t\t\tsuper(i); // Calling Super Class Paremetrize Constructor.\r\n\t\t\t\tSystem.out.println(&quot;Cat Constructor with habit&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Self\r\n\t\t{\r\n\t\t\tpublic Self()\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Self Constructor&quot;);\r\n\t\t\t}\r\n\t\t\tpublic Self(String h)\r\n\t\t\t{\r\n\t\t\t\tthis(); // Explicitly calling 0 args constructor. \r\n\t\t\t\tSystem.out.println(&quot;Slef Constructor with value&quot;);\r\n\t\t\t}\r\n\t\t}","title":"How do I call one constructor from another in Java?","body":"<p>I know there are so many examples of this question but what I found I am putting here to share my Idea. there are two ways to chain constructor. In Same class you can use this keyword. in Inheritance, you need to use super keyword.</p>\n\n<pre><code>    import java.util.*;\n    import java.lang.*;\n\n    class Test\n    {  \n        public static void main(String args[])\n        {\n            Dog d = new Dog(); // Both Calling Same Constructor of Parent Class i.e. 0 args Constructor.\n            Dog cs = new Dog(\"Bite\"); // Both Calling Same Constructor of Parent Class i.e. 0 args Constructor.\n\n            // You need to Explicitly tell the java compiler to use Argument constructor so you need to use \"super\" key word\n            System.out.println(\"------------------------------\");\n            Cat c = new Cat();\n            Cat caty = new Cat(\"10\");\n\n            System.out.println(\"------------------------------\");\n            // Self s = new Self();\n            Self ss = new Self(\"self\");\n        }\n    }\n\n    class Animal\n    {\n        String i;\n\n        public Animal()\n        {\n            i = \"10\";\n            System.out.println(\"Animal Constructor :\" +i);\n        }\n        public Animal(String h)\n        {\n            i = \"20\";\n            System.out.println(\"Animal Constructor Habit :\"+ i);\n        }\n    }\n\n    class Dog extends Animal\n    {\n        public Dog()\n        {\n            System.out.println(\"Dog Constructor\");\n        }\n        public Dog(String h)\n        {\n            System.out.println(\"Dog Constructor with habit\");\n        }\n    }\n\n    class Cat extends Animal\n    {\n        public Cat()\n        {\n            System.out.println(\"Cat Constructor\");\n        }\n        public Cat(String i)\n        {\n            super(i); // Calling Super Class Paremetrize Constructor.\n            System.out.println(\"Cat Constructor with habit\");\n        }\n    }\n\n    class Self\n    {\n        public Self()\n        {\n            System.out.println(\"Self Constructor\");\n        }\n        public Self(String h)\n        {\n            this(); // Explicitly calling 0 args constructor. \n            System.out.println(\"Slef Constructor with value\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939784,"reputation":2549,"user_id":3254692,"accept_rate":83,"display_name":"Omar Faroque Anik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528313792,"creation_date":1528313792,"answer_id":50728250,"question_id":285177,"body_markdown":"It is called Telescoping Constructor anti-pattern or constructor chaining. Yes, you can definitely do. I see many examples above and I want to add by saying that if you know that you need only two or three constructor, it might be ok. But if you need more, please try to use different design pattern like Builder pattern. As for example: \r\n\r\n\r\n     public Omar(){};\r\n     public Omar(a){};\r\n     public Omar(a,b){};\r\n     public Omar(a,b,c){};\r\n     public Omar(a,b,c,d){};\r\n     ...\r\nYou may need more. Builder pattern would be a great solution in this case. Here is an article, it might be helpful\r\nhttps://medium.com/@modestofiguereo/design-patterns-2-the-builder-pattern-and-the-telescoping-constructor-anti-pattern-60a33de7522e\r\n\r\n","title":"How do I call one constructor from another in Java?","body":"<p>It is called Telescoping Constructor anti-pattern or constructor chaining. Yes, you can definitely do. I see many examples above and I want to add by saying that if you know that you need only two or three constructor, it might be ok. But if you need more, please try to use different design pattern like Builder pattern. As for example: </p>\n\n<pre><code> public Omar(){};\n public Omar(a){};\n public Omar(a,b){};\n public Omar(a,b,c){};\n public Omar(a,b,c,d){};\n ...\n</code></pre>\n\n<p>You may need more. Builder pattern would be a great solution in this case. Here is an article, it might be helpful\n<a href=\"https://medium.com/@modestofiguereo/design-patterns-2-the-builder-pattern-and-the-telescoping-constructor-anti-pattern-60a33de7522e\" rel=\"nofollow noreferrer\">https://medium.com/@modestofiguereo/design-patterns-2-the-builder-pattern-and-the-telescoping-constructor-anti-pattern-60a33de7522e</a></p>\n"},{"tags":[],"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532826844,"creation_date":1532826844,"answer_id":51576459,"question_id":285177,"body_markdown":"You can call another constructor via the [`this(...)`](https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html) keyword (when you need to call a constructor from the same class) or the [`super(...)`](https://docs.oracle.com/javase/tutorial/java/IandI/super.html) keyword\r\n(when you need to call a constructor from a superclass).\r\n\r\nHowever, such a call must be the **first** statement of your constructor. To **overcome** this limitation, use [this answer](https://stackoverflow.com/a/51571736/9772691).","title":"How do I call one constructor from another in Java?","body":"<p>You can call another constructor via the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"noreferrer\"><code>this(...)</code></a> keyword (when you need to call a constructor from the same class) or the <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"noreferrer\"><code>super(...)</code></a> keyword\n(when you need to call a constructor from a superclass).</p>\n\n<p>However, such a call must be the <strong>first</strong> statement of your constructor. To <strong>overcome</strong> this limitation, use <a href=\"https://stackoverflow.com/a/51571736/9772691\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558717074,"creation_date":1554769859,"answer_id":55583536,"question_id":285177,"body_markdown":"Originally from an anser by Mirko Klemm, slightly modified to address the question:\r\n\r\nJust for completeness: There is also the [Instance initialization block][1] that gets executed always and before any other constructor is called. It consists simply of a block of statements &quot;{ ... }&quot; somewhere in the body of your class definition.  You can even have more than one.  You can&#39;t call them, but they&#39;re like &quot;shared constructor&quot; code if you want to reuse some code across constructors, similar to calling methods.\r\n\r\nSo in your case\r\n\r\n\r\n    { \r\n      System.out.println(&quot;this is shared constructor code executed before the constructor&quot;);\r\n      field1 = 3;\r\n    }\r\n\r\n\r\nThere is also a &quot;static&quot; version of this to initialize static members: &quot;static { ... }&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3987428/what-is-an-initialization-block","title":"How do I call one constructor from another in Java?","body":"<p>Originally from an anser by Mirko Klemm, slightly modified to address the question:</p>\n\n<p>Just for completeness: There is also the <a href=\"https://stackoverflow.com/questions/3987428/what-is-an-initialization-block\">Instance initialization block</a> that gets executed always and before any other constructor is called. It consists simply of a block of statements \"{ ... }\" somewhere in the body of your class definition.  You can even have more than one.  You can't call them, but they're like \"shared constructor\" code if you want to reuse some code across constructors, similar to calling methods.</p>\n\n<p>So in your case</p>\n\n<pre><code>{ \n  System.out.println(\"this is shared constructor code executed before the constructor\");\n  field1 = 3;\n}\n</code></pre>\n\n<p>There is also a \"static\" version of this to initialize static members: \"static { ... }\"</p>\n"},{"tags":[],"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1560933516,"creation_date":1560933516,"answer_id":56663443,"question_id":285177,"body_markdown":"I prefer this way:  \r\n\r\n        class User {\r\n            private long id;\r\n            private String username;\r\n            private int imageRes;\r\n\r\n        public User() {\r\n            init(defaultID,defaultUsername,defaultRes);\r\n        }\r\n        public User(String username) {\r\n            init(defaultID,username, defaultRes());\r\n        }\r\n\r\n        public User(String username, int imageRes) {\r\n            init(defaultID,username, imageRes);\r\n        }\r\n\r\n        public User(long id, String username, int imageRes) {\r\n            init(id,username, imageRes);\r\n\r\n        }\r\n\r\n        private void init(long id, String username, int imageRes) {\r\n            this.id=id;\r\n            this.username = username;\r\n            this.imageRes = imageRes;\r\n        }\r\n    }","title":"How do I call one constructor from another in Java?","body":"<p>I prefer this way:  </p>\n\n<pre><code>    class User {\n        private long id;\n        private String username;\n        private int imageRes;\n\n    public User() {\n        init(defaultID,defaultUsername,defaultRes);\n    }\n    public User(String username) {\n        init(defaultID,username, defaultRes());\n    }\n\n    public User(String username, int imageRes) {\n        init(defaultID,username, imageRes);\n    }\n\n    public User(long id, String username, int imageRes) {\n        init(id,username, imageRes);\n\n    }\n\n    private void init(long id, String username, int imageRes) {\n        this.id=id;\n        this.username = username;\n        this.imageRes = imageRes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8693451,"reputation":156,"user_id":6505685,"display_name":"Soni K"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1589022973,"creation_date":1564680925,"answer_id":57314267,"question_id":285177,"body_markdown":"Yes, you can call constructors from another constructor. For example:\n\n    public class Animal {\n        private int animalType;\n    \n        public Animal() {\n            this(1); //here this(1) internally make call to Animal(1);\n        }\n    \n        public Animal(int animalType) {\n            this.animalType = animalType;\n        }\n    }\n\nyou can also read in details from \n[Constructor Chaining in Java][1]  \n\n  [1]: https://beginnersbook.com/2013/12/java-constructor-chaining-with-example/\n","title":"How do I call one constructor from another in Java?","body":"<p>Yes, you can call constructors from another constructor. For example:</p>\n<pre><code>public class Animal {\n    private int animalType;\n\n    public Animal() {\n        this(1); //here this(1) internally make call to Animal(1);\n    }\n\n    public Animal(int animalType) {\n        this.animalType = animalType;\n    }\n}\n</code></pre>\n<p>you can also read in details from\n<a href=\"https://beginnersbook.com/2013/12/java-constructor-chaining-with-example/\" rel=\"nofollow noreferrer\">Constructor Chaining in Java</a></p>\n"},{"tags":[],"owner":{"account_id":4554063,"reputation":1525,"user_id":8450064,"display_name":"Anil Nivargi"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1610763175,"creation_date":1610763175,"answer_id":65745848,"question_id":285177,"body_markdown":"Using this keyword we can call one constructor in another constructor within same class.\r\n\r\nExample :-\r\n\r\n     public class Example {\r\n       \r\n          private String name;\r\n       \r\n          public Example() {\r\n              this(&quot;Mahesh&quot;);\r\n          }\r\n\r\n          public Example(String name) {\r\n              this.name = name;\r\n          }\r\n\r\n     }","title":"How do I call one constructor from another in Java?","body":"<p>Using this keyword we can call one constructor in another constructor within same class.</p>\n<p>Example :-</p>\n<pre><code> public class Example {\n   \n      private String name;\n   \n      public Example() {\n          this(&quot;Mahesh&quot;);\n      }\n\n      public Example(String name) {\n          this.name = name;\n      }\n\n }\n</code></pre>\n"}],"owner":{"account_id":15622,"reputation":80382,"user_id":33203,"accept_rate":81,"display_name":"ashokgelal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137060,"favorite_count":0,"down_vote_count":7,"up_vote_count":2671,"accepted_answer_id":285184,"answer_count":22,"score":2664,"last_activity_date":1651139904,"creation_date":1226520619,"question_id":285177,"body_markdown":"Is it possible to call a constructor from another (within the same class, not from a subclass)? If yes how? And what could be the best way to call another constructor (if there are several ways to do it)?","title":"How do I call one constructor from another in Java?","body":"<p>Is it possible to call a constructor from another (within the same class, not from a subclass)? If yes how? And what could be the best way to call another constructor (if there are several ways to do it)?</p>\n"},{"tags":["java","arrays","numbers","integer"],"comments":[{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1420928790,"post_id":27881527,"comment_id":44165373,"body_markdown":"the question is written totally wrong!!!","body":"the question is written totally wrong!!!"}],"answers":[{"tags":[],"owner":{"account_id":5166424,"reputation":1147,"user_id":4136240,"accept_rate":83,"display_name":"fill͡pant͡"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420927835,"creation_date":1420927835,"answer_id":27881755,"question_id":27881527,"body_markdown":"Have a for loop to loop like:\r\n\r\n    int sum =0:\r\n    for(int I=0; I&lt;num.length/2; I++){\r\n    System.out.println(num[i]);\r\n    sum=sum+num[i];\r\n    }\r\n    System.out.println(sum);\r\n\r\n(Written on ipad excuse any mistakes plz.","title":"How to separate range of integers into two equal parts","body":"<p>Have a for loop to loop like:</p>\n\n<pre><code>int sum =0:\nfor(int I=0; I&lt;num.length/2; I++){\nSystem.out.println(num[i]);\nsum=sum+num[i];\n}\nSystem.out.println(sum);\n</code></pre>\n\n<p>(Written on ipad excuse any mistakes plz.</p>\n"},{"tags":[],"owner":{"account_id":1574897,"reputation":308,"user_id":1461631,"accept_rate":73,"display_name":"mhfff32"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1420930870,"creation_date":1420930870,"answer_id":27882076,"question_id":27881527,"body_markdown":"If the array is not too long, try a lazy solution: brute-force. Since all you need is to separate it into two sets, you&#39;ll need to check 2^n possibilities, because a number is either in the first set or not (i.e. in the second set).\r\n\r\nHere&#39;s a sample code I just wrote:\r\n\r\n    public static int[][] bruteForce(int[] input) {\r\n        int n = input.length;\r\n        int[][] res = new int[2][n];\r\n        int minVal = Integer.MAX_VALUE;\r\n        int iMinVal = 0;\r\n        int limit = (int) Math.pow(2, n);\r\n\r\n        for (int i = 0; i &lt; limit; i++) {\r\n            int v = i;\r\n            int diff = 0;\r\n            for (int j = 0; j &lt; n; j++) {\r\n                diff = diff + ((v &amp; 1) == 0 ? +1 : -1) * input[j];\r\n                v = v &gt;&gt; 1;\r\n            }\r\n            if (Math.abs(diff) &lt; minVal) {\r\n                iMinVal = i;\r\n                minVal = Math.abs(diff);\r\n            }\r\n        }\r\n\r\n        int a = 0, b = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if ((iMinVal &amp; 1) == 0) {\r\n                res[0][a++] = input[i];\r\n            } else {\r\n                res[1][b++] = input[i];\r\n            }\r\n            iMinVal = iMinVal &gt;&gt; 1;\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] num = {5 ,8 ,1 ,1 ,2 ,3 ,2};\r\n        int[] num2 = {4, 6, 1, 2, 3, 3, 4};\r\n\r\n        int[][] r = bruteForce(num);\r\n        System.out.println(&quot;First example:&quot;);\r\n        System.out.println(Arrays.toString(r[0])+ &quot;, sum = &quot;+Arrays.stream(r[0]).sum());\r\n        System.out.println(Arrays.toString(r[1])+ &quot;, sum = &quot;+Arrays.stream(r[1]).sum());\r\n\r\n        r = bruteForce(num2);\r\n        System.out.println(&quot;Second example:&quot;);\r\n        System.out.println(Arrays.toString(r[0])+ &quot;, sum = &quot;+Arrays.stream(r[0]).sum());\r\n        System.out.println(Arrays.toString(r[1])+ &quot;, sum = &quot;+Arrays.stream(r[1]).sum());\r\n    }\r\n\r\noutput:\r\n\r\n    First example:\r\n    [5, 1, 3, 2, 0, 0, 0], sum = 11\r\n    [8, 1, 2, 0, 0, 0, 0], sum = 11\r\n    Second example:\r\n    [2, 3, 3, 4, 0, 0, 0], sum = 12\r\n    [4, 6, 1, 0, 0, 0, 0], sum = 11\r\n\r\nIf the length of the array is big, then I guess try some smart brute-force, or other methods. Like, sorting the array into non-ascending order, then starting from the biggest value, put each value into the array with less sum, which in the current case give the right answer:\r\n\r\n\r\n    public static int[][] alternative(int[] input) {\r\n        int n = input.length;\r\n        int[][] res = new int[2][n];\r\n\r\n        int[] input0 = Arrays.copyOf(input, n);\r\n\r\n        Arrays.sort(input0);\r\n\r\n        System.out.println(&quot;Input: &quot;+Arrays.toString(input)+&quot;, ordered: &quot;+Arrays.toString(input0));\r\n\r\n        int sum1 = 0, sum2 = 0;\r\n        int a = 0, b = 0;\r\n\r\n        for (int i = n-1; i &gt;= 0; i--) {\r\n            if (sum1 &lt;= sum2) {\r\n                res[0][a++] = input0[i];\r\n                sum1 = sum1 + input0[i];\r\n                System.out.println(&quot;Adding &quot;+input0[i]+&quot; into set 1 ==&gt; Sum1 = &quot;+sum1);\r\n            } else {\r\n                res[1][b++] = input0[i];\r\n                sum2 = sum2 + input0[i];\r\n                System.out.println(&quot;Adding &quot;+input0[i]+&quot; into set 2 ==&gt; Sum2 = &quot;+sum2);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\noutput:\r\n\r\n    First example:\r\n    Input: [5, 8, 1, 1, 2, 3, 2], ordered: [1, 1, 2, 2, 3, 5, 8]\r\n    Adding 8 into set 1 ==&gt; Sum1 = 8\r\n    Adding 5 into set 2 ==&gt; Sum2 = 5\r\n    Adding 3 into set 2 ==&gt; Sum2 = 8\r\n    Adding 2 into set 1 ==&gt; Sum1 = 10\r\n    Adding 2 into set 2 ==&gt; Sum2 = 10\r\n    Adding 1 into set 1 ==&gt; Sum1 = 11\r\n    Adding 1 into set 2 ==&gt; Sum2 = 11\r\n    [8, 2, 1, 0, 0, 0, 0], sum = 11\r\n    [5, 3, 2, 1, 0, 0, 0], sum = 11\r\n\r\n    Second example:\r\n    Input: [4, 6, 1, 2, 3, 3, 4], ordered: [1, 2, 3, 3, 4, 4, 6]\r\n    Adding 6 into set 1 ==&gt; Sum1 = 6\r\n    Adding 4 into set 2 ==&gt; Sum2 = 4\r\n    Adding 4 into set 2 ==&gt; Sum2 = 8\r\n    Adding 3 into set 1 ==&gt; Sum1 = 9\r\n    Adding 3 into set 2 ==&gt; Sum2 = 11\r\n    Adding 2 into set 1 ==&gt; Sum1 = 11\r\n    Adding 1 into set 1 ==&gt; Sum1 = 12\r\n    [6, 3, 2, 1, 0, 0, 0], sum = 12\r\n    [4, 4, 3, 0, 0, 0, 0], sum = 11\r\n\r\nFor the 0s in the output, you can just write a simple function that create a new arrays without the 0s.","title":"How to separate range of integers into two equal parts","body":"<p>If the array is not too long, try a lazy solution: brute-force. Since all you need is to separate it into two sets, you'll need to check 2^n possibilities, because a number is either in the first set or not (i.e. in the second set).</p>\n\n<p>Here's a sample code I just wrote:</p>\n\n<pre><code>public static int[][] bruteForce(int[] input) {\n    int n = input.length;\n    int[][] res = new int[2][n];\n    int minVal = Integer.MAX_VALUE;\n    int iMinVal = 0;\n    int limit = (int) Math.pow(2, n);\n\n    for (int i = 0; i &lt; limit; i++) {\n        int v = i;\n        int diff = 0;\n        for (int j = 0; j &lt; n; j++) {\n            diff = diff + ((v &amp; 1) == 0 ? +1 : -1) * input[j];\n            v = v &gt;&gt; 1;\n        }\n        if (Math.abs(diff) &lt; minVal) {\n            iMinVal = i;\n            minVal = Math.abs(diff);\n        }\n    }\n\n    int a = 0, b = 0;\n    for (int i = 0; i &lt; n; i++) {\n        if ((iMinVal &amp; 1) == 0) {\n            res[0][a++] = input[i];\n        } else {\n            res[1][b++] = input[i];\n        }\n        iMinVal = iMinVal &gt;&gt; 1;\n    }\n\n    return res;\n}\n\npublic static void main(String[] args) {\n    int[] num = {5 ,8 ,1 ,1 ,2 ,3 ,2};\n    int[] num2 = {4, 6, 1, 2, 3, 3, 4};\n\n    int[][] r = bruteForce(num);\n    System.out.println(\"First example:\");\n    System.out.println(Arrays.toString(r[0])+ \", sum = \"+Arrays.stream(r[0]).sum());\n    System.out.println(Arrays.toString(r[1])+ \", sum = \"+Arrays.stream(r[1]).sum());\n\n    r = bruteForce(num2);\n    System.out.println(\"Second example:\");\n    System.out.println(Arrays.toString(r[0])+ \", sum = \"+Arrays.stream(r[0]).sum());\n    System.out.println(Arrays.toString(r[1])+ \", sum = \"+Arrays.stream(r[1]).sum());\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>First example:\n[5, 1, 3, 2, 0, 0, 0], sum = 11\n[8, 1, 2, 0, 0, 0, 0], sum = 11\nSecond example:\n[2, 3, 3, 4, 0, 0, 0], sum = 12\n[4, 6, 1, 0, 0, 0, 0], sum = 11\n</code></pre>\n\n<p>If the length of the array is big, then I guess try some smart brute-force, or other methods. Like, sorting the array into non-ascending order, then starting from the biggest value, put each value into the array with less sum, which in the current case give the right answer:</p>\n\n<pre><code>public static int[][] alternative(int[] input) {\n    int n = input.length;\n    int[][] res = new int[2][n];\n\n    int[] input0 = Arrays.copyOf(input, n);\n\n    Arrays.sort(input0);\n\n    System.out.println(\"Input: \"+Arrays.toString(input)+\", ordered: \"+Arrays.toString(input0));\n\n    int sum1 = 0, sum2 = 0;\n    int a = 0, b = 0;\n\n    for (int i = n-1; i &gt;= 0; i--) {\n        if (sum1 &lt;= sum2) {\n            res[0][a++] = input0[i];\n            sum1 = sum1 + input0[i];\n            System.out.println(\"Adding \"+input0[i]+\" into set 1 ==&gt; Sum1 = \"+sum1);\n        } else {\n            res[1][b++] = input0[i];\n            sum2 = sum2 + input0[i];\n            System.out.println(\"Adding \"+input0[i]+\" into set 2 ==&gt; Sum2 = \"+sum2);\n        }\n    }\n    return res;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>First example:\nInput: [5, 8, 1, 1, 2, 3, 2], ordered: [1, 1, 2, 2, 3, 5, 8]\nAdding 8 into set 1 ==&gt; Sum1 = 8\nAdding 5 into set 2 ==&gt; Sum2 = 5\nAdding 3 into set 2 ==&gt; Sum2 = 8\nAdding 2 into set 1 ==&gt; Sum1 = 10\nAdding 2 into set 2 ==&gt; Sum2 = 10\nAdding 1 into set 1 ==&gt; Sum1 = 11\nAdding 1 into set 2 ==&gt; Sum2 = 11\n[8, 2, 1, 0, 0, 0, 0], sum = 11\n[5, 3, 2, 1, 0, 0, 0], sum = 11\n\nSecond example:\nInput: [4, 6, 1, 2, 3, 3, 4], ordered: [1, 2, 3, 3, 4, 4, 6]\nAdding 6 into set 1 ==&gt; Sum1 = 6\nAdding 4 into set 2 ==&gt; Sum2 = 4\nAdding 4 into set 2 ==&gt; Sum2 = 8\nAdding 3 into set 1 ==&gt; Sum1 = 9\nAdding 3 into set 2 ==&gt; Sum2 = 11\nAdding 2 into set 1 ==&gt; Sum1 = 11\nAdding 1 into set 1 ==&gt; Sum1 = 12\n[6, 3, 2, 1, 0, 0, 0], sum = 12\n[4, 4, 3, 0, 0, 0, 0], sum = 11\n</code></pre>\n\n<p>For the 0s in the output, you can just write a simple function that create a new arrays without the 0s.</p>\n"},{"tags":[],"owner":{"account_id":25126273,"reputation":1,"user_id":18974039,"display_name":"Saugata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651139763,"creation_date":1651139763,"answer_id":72041647,"question_id":27881527,"body_markdown":"We should try with all combinations. For example, if the array is (1,1,100,100), then answer is (100,1) (100,1). If the array is (1,1,50,100) then answer is (1,1,50) (100). I don&#39;t think there is any short cut to this. If the array has N elements, then we shall try all combinations (Nc1, NcN01), (Nc2, NcN-2) .. and so on. Then find which of their difference is least.","title":"How to separate range of integers into two equal parts","body":"<p>We should try with all combinations. For example, if the array is (1,1,100,100), then answer is (100,1) (100,1). If the array is (1,1,50,100) then answer is (1,1,50) (100). I don't think there is any short cut to this. If the array has N elements, then we shall try all combinations (Nc1, NcN01), (Nc2, NcN-2) .. and so on. Then find which of their difference is least.</p>\n"}],"owner":{"account_id":3394950,"reputation":35,"user_id":2848832,"accept_rate":50,"display_name":"john17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":27882076,"answer_count":3,"score":-4,"last_activity_date":1651139763,"creation_date":1420926298,"question_id":27881527,"body_markdown":"I have an array of integers like this one\r\n\r\n    int [] num = {5, 8, 1, 1, 2, 3, 2}\r\n\r\nand I want to divide it into 2 parts, so that the total of 2 sets will be as equal as possible: (output)\r\n\r\n    SET 1: 5 Piece(s)\r\n    1\r\n    1\r\n    2\r\n    2\r\n    5\r\n    Total: 11\r\n    \r\n    SET 2: 2 Piece(s)\r\n    8\r\n    3\r\n    Total: 11\r\n\r\nanother example is\r\n\r\n    int [] num = {4, 6, 1, 2, 3, 3, 4}\r\n\r\nwith output like this:\r\n\r\n    SET 1: 3 Piece(s)\r\n    3\r\n    4\r\n    4\r\n    Total: 11\r\n    \r\n    SET 2: 4 Piece(s) \r\n    6\r\n    1\r\n    2\r\n    3\r\n    Total: 12\r\n\r\nany help? =) thanks","title":"How to separate range of integers into two equal parts","body":"<p>I have an array of integers like this one</p>\n\n<pre><code>int [] num = {5, 8, 1, 1, 2, 3, 2}\n</code></pre>\n\n<p>and I want to divide it into 2 parts, so that the total of 2 sets will be as equal as possible: (output)</p>\n\n<pre><code>SET 1: 5 Piece(s)\n1\n1\n2\n2\n5\nTotal: 11\n\nSET 2: 2 Piece(s)\n8\n3\nTotal: 11\n</code></pre>\n\n<p>another example is</p>\n\n<pre><code>int [] num = {4, 6, 1, 2, 3, 3, 4}\n</code></pre>\n\n<p>with output like this:</p>\n\n<pre><code>SET 1: 3 Piece(s)\n3\n4\n4\nTotal: 11\n\nSET 2: 4 Piece(s) \n6\n1\n2\n3\nTotal: 12\n</code></pre>\n\n<p>any help? =) thanks</p>\n"},{"tags":["java","db2"],"answers":[{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651139684,"creation_date":1651139684,"answer_id":72041622,"question_id":72040599,"body_markdown":"Wrong parameter name reference in the `setJccXXXAtName` method.  \r\nTry:  \r\n`ps.setJccStringAtName(&quot;machineIdsParam&quot;, machineIds);`  \r\ninstead of:  \r\n`ps.setJccStringAtName(&quot;:machineIdsParam&quot;, machineIds);`","title":"DB2/JAVA: dbjcc doesn&#39;t detect parameter marker at my SQL","body":"<p>Wrong parameter name reference in the <code>setJccXXXAtName</code> method.<br />\nTry:<br />\n<code>ps.setJccStringAtName(&quot;machineIdsParam&quot;, machineIds);</code><br />\ninstead of:<br />\n<code>ps.setJccStringAtName(&quot;:machineIdsParam&quot;, machineIds);</code></p>\n"}],"owner":{"account_id":1289313,"reputation":1479,"user_id":1241715,"accept_rate":86,"display_name":"madtyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651139684,"creation_date":1651135410,"question_id":72040599,"body_markdown":"I&#39;m using Java against a DB2 database and I&#39;m having this error message:\r\n\r\n     Error: com.ibm.db2.jcc.am.SqlSyntaxErrorException: [jcc][10448][12695][4.19.66]  Invalid argument: Parameter marker &#39;:machineIdsParam&#39; was not present in the SQL String ERRORCODE=-4461, SQLSTATE=42815\r\n\r\nwith the code here below:\r\n\r\n            String ENABLED_NAMED_PARAMS_YES = &quot;1&quot;;\r\n\t\t\tint DB2_DRIVER_TYPE = 4;\r\n\t\t\t\r\n\t\t\tProperties properties = new Properties(); // Create Properties object\r\n\t\t\tproperties.put(&quot;user&quot;, config.getDbUser());         // Set user ID for connection\r\n\t\t\tproperties.put(&quot;password&quot;, config.getDbPassword());     // Set password for connection\r\n\t\t\tproperties.put(&quot;enableNamedParameterMarkers&quot;, ENABLED_NAMED_PARAMS_YES);\r\n\t\t\tproperties.put(&quot;driverType&quot;, DB2_DRIVER_TYPE);\r\n\t\t\t// Load the driver\r\n\t\t\tClass.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\r\n\t\t\t\r\n\t\t\t//Establish connection\t\t\t\r\n\t\t\tDB2Connection currentConnection = (DB2Connection) DriverManager.getConnection(config.getDbUrl(), properties);\r\n\t\t\t\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tsb.append(&quot;WITH mymachines AS (SELECT machineId&quot;);\r\n\t\t\tsb.append(&quot; FROM XMLTABLE(&#39;for $id in tokenize($s, \\&quot;,\\&quot;) return &lt;i&gt;{string($id)}&lt;/i&gt;&#39; &quot;);\r\n\t\t\tsb.append(&quot; PASSING CAST (:machineIdsParam AS VARCHAR (100)) AS \\&quot;s\\&quot; COLUMNS&quot;);\r\n\t\t\tsb.append(&quot; machineId INT PATH &#39;.&#39;)) &quot;);\r\n\t\t\tsb.append(&quot; SELECT machineId from mymachines &quot;);\r\n\t\t\tString sqlString = sb.toString();\r\n\t\t\t\r\n\t\t\tString machineIds = &quot;930,603&quot;;  // This is an input I receive as a parameter;\r\n\t\t\tDB2PreparedStatement ps = (DB2PreparedStatement) currentConnection.prepareStatement(sqlString);\r\n\t\t\t\r\n\t\t\tps.setJccStringAtName(&quot;:machineIdsParam&quot;, machineIds);\r\n\t\t\t\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs.toString());\r\n\t\t\t}\r\n\r\nThe strange thing is that this is code working in another Java class and I can&#39;t find the difference other than the very SQL string, which is somehow different, except for the XML table part. I suspect something is going on with the db2 driver for Java.\r\n\r\n**Additional data**:\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.19.66&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nIBM Data Server Driver for JDBC and SQLJ: **4.19.66**\r\n\r\nSELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS\r\n\r\n|VERSIONNUMBER| \r\n|-------------| \r\n|-10050900 | \r\n|9070900 | \r\n|10050800 | \r\n|10051000 |\r\n|11010405 | \r\n|11010406 | \r\n|11050700 |","title":"DB2/JAVA: dbjcc doesn&#39;t detect parameter marker at my SQL","body":"<p>I'm using Java against a DB2 database and I'm having this error message:</p>\n<pre><code> Error: com.ibm.db2.jcc.am.SqlSyntaxErrorException: [jcc][10448][12695][4.19.66]  Invalid argument: Parameter marker ':machineIdsParam' was not present in the SQL String ERRORCODE=-4461, SQLSTATE=42815\n</code></pre>\n<p>with the code here below:</p>\n<pre><code>        String ENABLED_NAMED_PARAMS_YES = &quot;1&quot;;\n        int DB2_DRIVER_TYPE = 4;\n        \n        Properties properties = new Properties(); // Create Properties object\n        properties.put(&quot;user&quot;, config.getDbUser());         // Set user ID for connection\n        properties.put(&quot;password&quot;, config.getDbPassword());     // Set password for connection\n        properties.put(&quot;enableNamedParameterMarkers&quot;, ENABLED_NAMED_PARAMS_YES);\n        properties.put(&quot;driverType&quot;, DB2_DRIVER_TYPE);\n        // Load the driver\n        Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\n        \n        //Establish connection          \n        DB2Connection currentConnection = (DB2Connection) DriverManager.getConnection(config.getDbUrl(), properties);\n        \n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;WITH mymachines AS (SELECT machineId&quot;);\n        sb.append(&quot; FROM XMLTABLE('for $id in tokenize($s, \\&quot;,\\&quot;) return &lt;i&gt;{string($id)}&lt;/i&gt;' &quot;);\n        sb.append(&quot; PASSING CAST (:machineIdsParam AS VARCHAR (100)) AS \\&quot;s\\&quot; COLUMNS&quot;);\n        sb.append(&quot; machineId INT PATH '.')) &quot;);\n        sb.append(&quot; SELECT machineId from mymachines &quot;);\n        String sqlString = sb.toString();\n        \n        String machineIds = &quot;930,603&quot;;  // This is an input I receive as a parameter;\n        DB2PreparedStatement ps = (DB2PreparedStatement) currentConnection.prepareStatement(sqlString);\n        \n        ps.setJccStringAtName(&quot;:machineIdsParam&quot;, machineIds);\n        \n        ResultSet rs = ps.executeQuery();\n        while(rs.next()) {\n            System.out.println(rs.toString());\n        }\n</code></pre>\n<p>The strange thing is that this is code working in another Java class and I can't find the difference other than the very SQL string, which is somehow different, except for the XML table part. I suspect something is going on with the db2 driver for Java.</p>\n<p><strong>Additional data</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n        &lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\n        &lt;version&gt;4.19.66&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>IBM Data Server Driver for JDBC and SQLJ: <strong>4.19.66</strong></p>\n<p>SELECT VERSIONNUMBER FROM SYSIBM.SYSVERSIONS</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>VERSIONNUMBER</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-10050900</td>\n</tr>\n<tr>\n<td>9070900</td>\n</tr>\n<tr>\n<td>10050800</td>\n</tr>\n<tr>\n<td>10051000</td>\n</tr>\n<tr>\n<td>11010405</td>\n</tr>\n<tr>\n<td>11010406</td>\n</tr>\n<tr>\n<td>11050700</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","process","inputstreamreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651063504,"post_id":72028950,"comment_id":127272665,"body_markdown":"*this much code is prinitng the names of folders ending with MS, but i want to store the values in a List*. This doesn&#39;t really make sense. You&#39;re not trying to read stdout twice are you? If so, that obviously won&#39;t work","body":"<i>this much code is prinitng the names of folders ending with MS, but i want to store the values in a List</i>. This doesn&#39;t really make sense. You&#39;re not trying to read stdout twice are you? If so, that obviously won&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651063918,"creation_date":1651063918,"answer_id":72029123,"question_id":72028950,"body_markdown":"Why are you starting an external program to list files when there&#39;s a much better alternative?\r\n\r\n    List&lt;String&gt; msList;\r\n    try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(PROJECT_LOCATION), 1)) {\r\n        msList = stream.filter(Files::isRegularFile) // also filters out PROJECT_LOCATION itself\r\n                .map(f -&gt; f.getFileName().toString())\r\n                .filter(f -&gt; f.endsWith(&quot;MS&quot;))\r\n                .toList(); // for older Java versions: .collect(Collectors.toList())\r\n    }\r\n\r\nOr without streams:\r\n\r\n    List&lt;String&gt; msList = new ArrayList&lt;&gt;();\r\n    try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(Paths.get(PROJECT_LOCATION), &quot;*MB&quot;)) {\r\n        for (Path file : stream) {\r\n            msList.add(file.getFileName().toString());\r\n        }\r\n    }","title":"Process Builder printing the output without any sysout, i want to store the output in List&lt;String&gt;","body":"<p>Why are you starting an external program to list files when there's a much better alternative?</p>\n<pre><code>List&lt;String&gt; msList;\ntry (Stream&lt;Path&gt; stream = Files.walk(Paths.get(PROJECT_LOCATION), 1)) {\n    msList = stream.filter(Files::isRegularFile) // also filters out PROJECT_LOCATION itself\n            .map(f -&gt; f.getFileName().toString())\n            .filter(f -&gt; f.endsWith(&quot;MS&quot;))\n            .toList(); // for older Java versions: .collect(Collectors.toList())\n}\n</code></pre>\n<p>Or without streams:</p>\n<pre><code>List&lt;String&gt; msList = new ArrayList&lt;&gt;();\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(Paths.get(PROJECT_LOCATION), &quot;*MB&quot;)) {\n    for (Path file : stream) {\n        msList.add(file.getFileName().toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25115562,"reputation":3,"user_id":18964644,"display_name":"Akshat Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72029123,"answer_count":1,"score":0,"last_activity_date":1651139336,"creation_date":1651063239,"question_id":72028950,"body_markdown":"I want to store the list of folders with name ending with MS present at PROJECT_LOCATION in a List&lt;String&gt; ===&gt;\r\n \r\n\r\n```java\r\n  ProcessBuilder processBuilder = new ProcessBuilder().directory(Paths.get(PROJECT_LOCATION)\r\n\t\t.toFile())\r\n\t\t.command(&quot;cmd.exe&quot;,\r\n\t\t\t &quot;/c&quot;,\r\n\t\t\t &quot;dir /b *MS;&quot;)\r\n\t\t.inheritIO()\r\n\t\t.redirectErrorStream(true);\r\n  Process process = processBuilder.start();\r\n```\r\n\r\nthis much code is prinitng the names of folders ending with MS, but i want to store the values in a List&lt;String&gt;\r\n\r\nI tried =&gt;\r\n      \r\n```java\r\n        List&lt;String&gt; msList=new ArrayList&lt;&gt;();\t\r\n\t    BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t    String line;\r\n\t    while ((line = in.readLine()) != null) {  \r\n\t        msList.add(line);\r\n\t    }\r\n\t    process.waitFor();\r\n\t    System.out.println(&quot;ok!    &quot;+  msList.size());\r\n```\r\n\r\n\r\n\r\nbut the list size is printing to be 0. It is not reading the InputStream Lines.\r\nDoes it not support for these kind of commands.....?\r\n\r\n\r\n\r\n\r\nConsole output===&gt; \r\n\r\n```\r\nCartMS\r\nCustomerMS\r\nPaymentMS\r\nProductMS\r\nok!    0\r\n```","title":"Process Builder printing the output without any sysout, i want to store the output in List&lt;String&gt;","body":"<p>I want to store the list of folders with name ending with MS present at PROJECT_LOCATION in a List ===&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ProcessBuilder processBuilder = new ProcessBuilder().directory(Paths.get(PROJECT_LOCATION)\n        .toFile())\n        .command(&quot;cmd.exe&quot;,\n             &quot;/c&quot;,\n             &quot;dir /b *MS;&quot;)\n        .inheritIO()\n        .redirectErrorStream(true);\n  Process process = processBuilder.start();\n</code></pre>\n<p>this much code is prinitng the names of folders ending with MS, but i want to store the values in a List</p>\n<p>I tried =&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;String&gt; msList=new ArrayList&lt;&gt;();  \n        BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = in.readLine()) != null) {  \n            msList.add(line);\n        }\n        process.waitFor();\n        System.out.println(&quot;ok!    &quot;+  msList.size());\n</code></pre>\n<p>but the list size is printing to be 0. It is not reading the InputStream Lines.\nDoes it not support for these kind of commands.....?</p>\n<p>Console output===&gt;</p>\n<pre><code>CartMS\nCustomerMS\nPaymentMS\nProductMS\nok!    0\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":197761,"reputation":1249,"user_id":442034,"accept_rate":100,"display_name":"SNR"},"score":2,"creation_date":1299476931,"post_id":5216272,"comment_id":5867314,"body_markdown":"So you want only the last word?","body":"So you want only the last word?"}],"answers":[{"tags":[],"owner":{"account_id":325865,"reputation":996,"user_id":647308,"accept_rate":50,"display_name":"ProNeticas"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1552738321,"creation_date":1299476888,"answer_id":5216289,"question_id":5216272,"body_markdown":"**Try this:**\r\nhttps://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\r\n\r\n    String a = &quot;HelloBrother How are you!&quot;;\r\n    String r = a.replace(&quot;HelloBrother&quot;,&quot;Brother&quot;);\r\n    \r\n    System.out.println(r);\r\n\r\n**This would print out &quot;Brother How are you!&quot;**\r\n\r\n","title":"replace String with another in java","body":"<p><strong>Try this:</strong>\n<a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29</a></p>\n\n<pre><code>String a = \"HelloBrother How are you!\";\nString r = a.replace(\"HelloBrother\",\"Brother\");\n\nSystem.out.println(r);\n</code></pre>\n\n<p><strong>This would print out \"Brother How are you!\"</strong></p>\n"},{"tags":[],"owner":{"account_id":240831,"reputation":7043,"user_id":511287,"display_name":"pwc"},"down_vote_count":1,"up_vote_count":156,"is_accepted":false,"score":155,"last_activity_date":1443166820,"creation_date":1299476892,"answer_id":5216290,"question_id":5216272,"body_markdown":"The [`replace`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)) method is what you&#39;re looking for.\r\n\r\nFor example: \r\n\r\n    String replacedString = someString.replace(&quot;HelloBrother&quot;, &quot;Brother&quot;);","title":"replace String with another in java","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\"><code>replace</code></a> method is what you're looking for.</p>\n\n<p>For example: </p>\n\n<pre><code>String replacedString = someString.replace(\"HelloBrother\", \"Brother\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1299477345,"creation_date":1299477345,"answer_id":5216341,"question_id":5216272,"body_markdown":"\t\t String s1 = &quot;HelloSuresh&quot;;\r\n\t\t String m = s1.replace(&quot;Hello&quot;,&quot;&quot;);\r\n\t\t System.out.println(m);","title":"replace String with another in java","body":"<pre><code>     String s1 = \"HelloSuresh\";\n     String m = s1.replace(\"Hello\",\"\");\n     System.out.println(m);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4270142,"reputation":9864,"user_id":3492139,"display_name":"ngrashia"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1407833239,"creation_date":1407833239,"answer_id":25259923,"question_id":5216272,"body_markdown":"Replacing one string with another can be done in the below methods\r\n\r\n**Method 1:**  Using String `replaceAll`\r\n\r\n     String myInput = &quot;HelloBrother&quot;;\r\n     String myOutput = myInput.replaceAll(&quot;HelloBrother&quot;, &quot;Brother&quot;); // Replace hellobrother with brother\r\n     ---OR---\r\n     String myOutput = myInput.replaceAll(&quot;Hello&quot;, &quot;&quot;); // Replace hello with empty\r\n     System.out.println(&quot;My Output is : &quot; +myOutput);\t\t\r\n\r\n\r\n**Method 2**: Using `Pattern.compile`\r\n\r\n     import java.util.regex.Pattern;\r\n     String myInput = &quot;JAVAISBEST&quot;;\r\n     String myOutputWithRegEX = Pattern.compile(&quot;JAVAISBEST&quot;).matcher(myInput).replaceAll(&quot;BEST&quot;);\r\n     ---OR -----\r\n     String myOutputWithRegEX = Pattern.compile(&quot;JAVAIS&quot;).matcher(myInput).replaceAll(&quot;&quot;);\r\n     System.out.println(&quot;My Output is : &quot; +myOutputWithRegEX);\t\t     \r\n\r\n**Method 3**: Using `Apache Commons` as defined in the link below:\r\n\r\n    http://commons.apache.org/proper/commons-lang/javadocs/api-z.1/org/apache/commons/lang3/StringUtils.html#replace(java.lang.String, java.lang.String, java.lang.String)\r\n\r\n\r\n**[REFERENCE][1]** \r\n[1]:&lt;https://stackoverflow.com/a/25258335/3492139&gt;","title":"replace String with another in java","body":"<p>Replacing one string with another can be done in the below methods</p>\n\n<p><strong>Method 1:</strong>  Using String <code>replaceAll</code></p>\n\n<pre><code> String myInput = \"HelloBrother\";\n String myOutput = myInput.replaceAll(\"HelloBrother\", \"Brother\"); // Replace hellobrother with brother\n ---OR---\n String myOutput = myInput.replaceAll(\"Hello\", \"\"); // Replace hello with empty\n System.out.println(\"My Output is : \" +myOutput);       \n</code></pre>\n\n<p><strong>Method 2</strong>: Using <code>Pattern.compile</code></p>\n\n<pre><code> import java.util.regex.Pattern;\n String myInput = \"JAVAISBEST\";\n String myOutputWithRegEX = Pattern.compile(\"JAVAISBEST\").matcher(myInput).replaceAll(\"BEST\");\n ---OR -----\n String myOutputWithRegEX = Pattern.compile(\"JAVAIS\").matcher(myInput).replaceAll(\"\");\n System.out.println(\"My Output is : \" +myOutputWithRegEX);           \n</code></pre>\n\n<p><strong>Method 3</strong>: Using <code>Apache Commons</code> as defined in the link below:</p>\n\n<pre><code>http://commons.apache.org/proper/commons-lang/javadocs/api-z.1/org/apache/commons/lang3/StringUtils.html#replace(java.lang.String, java.lang.String, java.lang.String)\n</code></pre>\n\n<p><strong><a href=\"https://stackoverflow.com/a/25258335/3492139\">REFERENCE</a></strong> </p>\n"},{"tags":[],"owner":{"account_id":10466186,"reputation":443,"user_id":7715547,"display_name":"Oleg SH"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1494426483,"creation_date":1494426483,"answer_id":43895392,"question_id":5216272,"body_markdown":"There is a possibility not to use extra variables\r\n\r\n    String s = &quot;HelloSuresh&quot;;\r\n    s = s.replace(&quot;Hello&quot;,&quot;&quot;);\r\n    System.out.println(s);","title":"replace String with another in java","body":"<p>There is a possibility not to use extra variables</p>\n\n<pre><code>String s = \"HelloSuresh\";\ns = s.replace(\"Hello\",\"\");\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11603643,"reputation":410,"user_id":8500049,"display_name":"User8500049"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585400690,"creation_date":1585400690,"answer_id":60901524,"question_id":5216272,"body_markdown":"Another suggestion,\r\nLet&#39;s say you have two same words in the String\r\n\r\n    String s1 = &quot;who is my brother, who is your brother&quot;; // I don&#39;t mind the meaning of the sentence.\r\nreplace function will change every string is given in the first parameter to the second parameter\r\n\r\n    System.out.println(s1.replace(&quot;brother&quot;, &quot;sister&quot;)); // who is my sister, who is your sister\r\nand you can use also replaceAll method for the same result\r\n\r\n    \r\n\r\n    System.out.println(s1.replace(&quot;brother&quot;, &quot;sister&quot;)); // who is my sister, who is your sister\r\n\r\nif you want to change just the first string which is positioned earlier,\r\n\r\n    System.out.println(s1.replaceFirst(&quot;brother&quot;, &quot;sister&quot;)); // whos is my sister, who is your brother.","title":"replace String with another in java","body":"<p>Another suggestion,\nLet's say you have two same words in the String</p>\n\n<pre><code>String s1 = \"who is my brother, who is your brother\"; // I don't mind the meaning of the sentence.\n</code></pre>\n\n<p>replace function will change every string is given in the first parameter to the second parameter</p>\n\n<pre><code>System.out.println(s1.replace(\"brother\", \"sister\")); // who is my sister, who is your sister\n</code></pre>\n\n<p>and you can use also replaceAll method for the same result</p>\n\n<pre><code>System.out.println(s1.replace(\"brother\", \"sister\")); // who is my sister, who is your sister\n</code></pre>\n\n<p>if you want to change just the first string which is positioned earlier,</p>\n\n<pre><code>System.out.println(s1.replaceFirst(\"brother\", \"sister\")); // whos is my sister, who is your brother.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11864131,"reputation":381,"user_id":8682062,"display_name":"Aman Kumayu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651139331,"creation_date":1651139331,"answer_id":72041551,"question_id":5216272,"body_markdown":"You can use [replace][1] method to achieve this:\r\n\r\n    String outputString1 = inputString.replace(&quot;HelloBrother&quot;, &quot;Brother&quot;);\r\n    String outputString2 = inputString.replace(&quot;JAVAISBEST&quot;, &quot;BEST&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)","title":"replace String with another in java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\">replace</a> method to achieve this:</p>\n<pre><code>String outputString1 = inputString.replace(&quot;HelloBrother&quot;, &quot;Brother&quot;);\nString outputString2 = inputString.replace(&quot;JAVAISBEST&quot;, &quot;BEST&quot;);\n</code></pre>\n"}],"owner":{"account_id":246726,"reputation":5010,"user_id":521015,"accept_rate":68,"display_name":"Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372445,"favorite_count":0,"down_vote_count":2,"up_vote_count":108,"answer_count":7,"score":106,"last_activity_date":1651139331,"creation_date":1299476668,"question_id":5216272,"body_markdown":"What function can replace a string with another string?\r\n\r\nExample #1: What will replace `&quot;HelloBrother&quot;` with `&quot;Brother&quot;`?\r\n\r\nExample #2: What will replace `&quot;JAVAISBEST&quot;` with `&quot;BEST&quot;`?","title":"replace String with another in java","body":"<p>What function can replace a string with another string?</p>\n\n<p>Example #1: What will replace <code>\"HelloBrother\"</code> with <code>\"Brother\"</code>?</p>\n\n<p>Example #2: What will replace <code>\"JAVAISBEST\"</code> with <code>\"BEST\"</code>?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1650922977,"post_id":72005964,"comment_id":127234047,"body_markdown":"Would you say that modelId and serviceId are the &quot;key&quot; for the list, i.e. each list element has a unique modelId and serviceId combination and possibly multiple vehicleId&#39;s?","body":"Would you say that modelId and serviceId are the &quot;key&quot; for the list, i.e. each list element has a unique modelId and serviceId combination and possibly multiple vehicleId&#39;s?"},{"owner":{"account_id":1838688,"reputation":1028,"user_id":1668554,"display_name":"Antonio"},"score":0,"creation_date":1650923944,"post_id":72005964,"comment_id":127234277,"body_markdown":"Yes I think it&#39;s safe to say so","body":"Yes I think it&#39;s safe to say so"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1650924304,"post_id":72005964,"comment_id":127234347,"body_markdown":"From which query comes the result? Any chance you are using hibernate?","body":"From which query comes the result? Any chance you are using hibernate?"},{"owner":{"account_id":1838688,"reputation":1028,"user_id":1668554,"display_name":"Antonio"},"score":0,"creation_date":1650924424,"post_id":72005964,"comment_id":127234368,"body_markdown":"It&#39;s Hibernate but a native query and jpa 1.x. No way to do an elegant solution creating the Dto on the fly.","body":"It&#39;s Hibernate but a native query and jpa 1.x. No way to do an elegant solution creating the Dto on the fly."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1650925100,"post_id":72005964,"comment_id":127234501,"body_markdown":"Does the listOfObjectArrays always has only one distinct modelId and only one distinct serviceId?","body":"Does the listOfObjectArrays always has only one distinct modelId and only one distinct serviceId?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1650928891,"post_id":72005964,"comment_id":127235138,"body_markdown":"What DB are you using?","body":"What DB are you using?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650975279,"creation_date":1650923927,"answer_id":72006135,"question_id":72005964,"body_markdown":"You can create a nested intermediate map by grouping your data by `modelId` and then `serviceId` using `groupingBy()` and `mapping()` collectors.\r\n\r\nAnd then create a stream over entry set. And flatten each inner map creating `new MyDTO` based on every combination of `modelId` and `serviceId`.\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; vehicleIdByModelIdAndServiceId =\r\n    listOfObjectArrays.stream()\r\n        .collect(Collectors.groupingBy(objects -&gt; (String) objects[1],\r\n            Collectors.groupingBy(objects -&gt; (String) objects[2],\r\n                Collectors.mapping(objects -&gt; (String) objects[0],\r\n                    Collectors.toList()))));\r\n        \r\nList&lt;MyDTO&gt; result = vehicleIdByModelIdAndServiceId.entrySet().stream()\r\n        .flatMap(baseEntry -&gt; baseEntry.getValue().entrySet().stream()\r\n                    .map(entry -&gt; new MyDTO(baseEntry.getKey(), entry.getKey(), entry.getValue())))\r\n        .collect(Collectors.toList());\r\n```\r\nAnother option is to use a `Map.Entry` as a key in the intermediate map, and a value will be a list of `vehicleId`.\r\n```\r\nList&lt;MyDTO&gt; result = listOfObjectArrays.stream()\r\n        .collect(Collectors.groupingBy(objects -&gt; new AbstractMap.SimpleEntry&lt;&gt;((String) objects[1], (String) objects[2]),\r\n                Collectors.mapping(objects -&gt; (String) objects[0],\r\n                    Collectors.toList())))\r\n        .entrySet().stream()\r\n        .map(entry -&gt; new MyDTO(entry.getKey().getKey(),\r\n                                entry.getKey().getValue(),\r\n                                entry.getValue()))\r\n        .collect(Collectors.toList());\r\n```","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<p>You can create a nested intermediate map by grouping your data by <code>modelId</code> and then <code>serviceId</code> using <code>groupingBy()</code> and <code>mapping()</code> collectors.</p>\n<p>And then create a stream over entry set. And flatten each inner map creating <code>new MyDTO</code> based on every combination of <code>modelId</code> and <code>serviceId</code>.</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; vehicleIdByModelIdAndServiceId =\n    listOfObjectArrays.stream()\n        .collect(Collectors.groupingBy(objects -&gt; (String) objects[1],\n            Collectors.groupingBy(objects -&gt; (String) objects[2],\n                Collectors.mapping(objects -&gt; (String) objects[0],\n                    Collectors.toList()))));\n        \nList&lt;MyDTO&gt; result = vehicleIdByModelIdAndServiceId.entrySet().stream()\n        .flatMap(baseEntry -&gt; baseEntry.getValue().entrySet().stream()\n                    .map(entry -&gt; new MyDTO(baseEntry.getKey(), entry.getKey(), entry.getValue())))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Another option is to use a <code>Map.Entry</code> as a key in the intermediate map, and a value will be a list of <code>vehicleId</code>.</p>\n<pre><code>List&lt;MyDTO&gt; result = listOfObjectArrays.stream()\n        .collect(Collectors.groupingBy(objects -&gt; new AbstractMap.SimpleEntry&lt;&gt;((String) objects[1], (String) objects[2]),\n                Collectors.mapping(objects -&gt; (String) objects[0],\n                    Collectors.toList())))\n        .entrySet().stream()\n        .map(entry -&gt; new MyDTO(entry.getKey().getKey(),\n                                entry.getKey().getValue(),\n                                entry.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650927299,"creation_date":1650925956,"answer_id":72006381,"question_id":72005964,"body_markdown":"This needs a Collectors.groupBy() function since you&#39;re taking a stream and grouping them together.\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nclass F {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        var in = List.of(new Object[]{&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\r\n                new Object[]{&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\r\n                new Object[]{&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;, &quot;215&quot;, &quot;80a7-ce5640b18879&quot;}\r\n        );\r\n\r\n\r\n        Map&lt;Key, List&lt;MyDTOOne&gt;&gt; p1 =\r\n                in.stream()\r\n                        .map(objs -&gt; new String[]{(String) objs[0], (String) objs[1], (String) objs[2]})\r\n                        .map(objs -&gt; new MyDTOOne(objs[1], objs[2], objs[0]))\r\n                        .collect(Collectors.groupingBy(myDTO -&gt; new Key(myDTO.modelId, myDTO.serviceId)));\r\n        List&lt;MyDTO&gt; p2 = p1.entrySet()\r\n                .stream()\r\n                .map(e -&gt; new MyDTO(e.getKey().modelId, e.getKey().serviceId, e.getValue().stream().map(MyDTOOne::vehicleId).toList()))\r\n                .toList();\r\n\r\n        System.out.println(p2);\r\n    }\r\n\r\n    static record Key(String modelId, String serviceId) {\r\n\r\n    }\r\n\r\n    static record MyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds) {\r\n\r\n    }\r\n\r\n    static record MyDTOOne(String modelId, String serviceId, String vehicleId) {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nhttps://replit.com/@ArchimedesTraja/Grouping","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<p>This needs a Collectors.groupBy() function since you're taking a stream and grouping them together.</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nclass F {\n\n    public static void main(String[] args) {\n\n        var in = List.of(new Object[]{&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\n                new Object[]{&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\n                new Object[]{&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;, &quot;215&quot;, &quot;80a7-ce5640b18879&quot;}\n        );\n\n\n        Map&lt;Key, List&lt;MyDTOOne&gt;&gt; p1 =\n                in.stream()\n                        .map(objs -&gt; new String[]{(String) objs[0], (String) objs[1], (String) objs[2]})\n                        .map(objs -&gt; new MyDTOOne(objs[1], objs[2], objs[0]))\n                        .collect(Collectors.groupingBy(myDTO -&gt; new Key(myDTO.modelId, myDTO.serviceId)));\n        List&lt;MyDTO&gt; p2 = p1.entrySet()\n                .stream()\n                .map(e -&gt; new MyDTO(e.getKey().modelId, e.getKey().serviceId, e.getValue().stream().map(MyDTOOne::vehicleId).toList()))\n                .toList();\n\n        System.out.println(p2);\n    }\n\n    static record Key(String modelId, String serviceId) {\n\n    }\n\n    static record MyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds) {\n\n    }\n\n    static record MyDTOOne(String modelId, String serviceId, String vehicleId) {\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://replit.com/@ArchimedesTraja/Grouping\" rel=\"nofollow noreferrer\">https://replit.com/@ArchimedesTraja/Grouping</a></p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651139311,"creation_date":1650925957,"answer_id":72006382,"question_id":72005964,"body_markdown":"# Java 8\r\nYou could map them all to Strings first and then group by the tuple (modelId, serviceId) and only then map the results of the grouping to the dtos.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\nList&lt;MyDto&gt; myDtos = queryResult.stream()\r\n        // cast all to String and put into tuple\r\n        .map(objects -&gt; Arrays.asList((String) objects[0], (String) objects[1], (String) objects[2]))\r\n         // group by tuple (modelid, serviceId)\r\n        .collect(Collectors.groupingBy(r -&gt; Arrays.asList(r.get(1), r.get(2)),\r\n                Collectors.mapping(r -&gt; r.get(0), Collectors.toList())))\r\n        .entrySet().stream()\r\n        .map(entry -&gt; new MyDto(entry.getKey().get(0), entry.getKey().get(1), entry.getValue()))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\n## Bonus points for Java 14+\r\nTo increase readability instead of using lists we introduce records\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nrecord MyDto(String vehicleId, String modelId, List&lt;String&gt; serviceIds) {\r\n    public MyDto(Map.Entry&lt;AggregateKey, List&lt;String&gt;&gt; vehiclesAggregate) {\r\n        this(vehiclesAggregate.getKey().modelId(), vehiclesAggregate.getKey().serviceId(),vehiclesAggregate.getValue());\r\n    }\r\n}\r\n\r\nrecord ResultRow(String vehicleId, String modelId, String serviceId) {\r\n    public ResultRow(Object[] entries) {\r\n        this((String) entries[0], (String) entries[1], (String) entries[2]);\r\n    }\r\n\r\n    public AggregateKey getKey() {\r\n        return new AggregateKey(modelId, serviceId);\r\n    }\r\n}\r\n\r\nrecord AggregateKey(String modelId, String serviceId) {}\r\n```\r\n\r\nResulting in a much shorter and very readable streaming pipeline\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nList&lt;MyDto&gt; myDtos = queryResult.stream()\r\n    .map(ResultRow::new)\r\n    .collect(Collectors.groupingBy(ResultRow::getKey,\r\n            Collectors.mapping(ResultRow::vehicleId, Collectors.toList())))\r\n    .entrySet().stream()\r\n    .map(MyDto::new)\r\n    .toList(); // shorthand for collect(Collectors.toList) since Java 16\r\n```","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<h1>Java 8</h1>\n<p>You could map them all to Strings first and then group by the tuple (modelId, serviceId) and only then map the results of the grouping to the dtos.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\nList&lt;MyDto&gt; myDtos = queryResult.stream()\n        // cast all to String and put into tuple\n        .map(objects -&gt; Arrays.asList((String) objects[0], (String) objects[1], (String) objects[2]))\n         // group by tuple (modelid, serviceId)\n        .collect(Collectors.groupingBy(r -&gt; Arrays.asList(r.get(1), r.get(2)),\n                Collectors.mapping(r -&gt; r.get(0), Collectors.toList())))\n        .entrySet().stream()\n        .map(entry -&gt; new MyDto(entry.getKey().get(0), entry.getKey().get(1), entry.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n<h2>Bonus points for Java 14+</h2>\n<p>To increase readability instead of using lists we introduce records</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\n\nrecord MyDto(String vehicleId, String modelId, List&lt;String&gt; serviceIds) {\n    public MyDto(Map.Entry&lt;AggregateKey, List&lt;String&gt;&gt; vehiclesAggregate) {\n        this(vehiclesAggregate.getKey().modelId(), vehiclesAggregate.getKey().serviceId(),vehiclesAggregate.getValue());\n    }\n}\n\nrecord ResultRow(String vehicleId, String modelId, String serviceId) {\n    public ResultRow(Object[] entries) {\n        this((String) entries[0], (String) entries[1], (String) entries[2]);\n    }\n\n    public AggregateKey getKey() {\n        return new AggregateKey(modelId, serviceId);\n    }\n}\n\nrecord AggregateKey(String modelId, String serviceId) {}\n</code></pre>\n<p>Resulting in a much shorter and very readable streaming pipeline</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.stream.Collectors;\n\nList&lt;MyDto&gt; myDtos = queryResult.stream()\n    .map(ResultRow::new)\n    .collect(Collectors.groupingBy(ResultRow::getKey,\n            Collectors.mapping(ResultRow::vehicleId, Collectors.toList())))\n    .entrySet().stream()\n    .map(MyDto::new)\n    .toList(); // shorthand for collect(Collectors.toList) since Java 16\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650927499,"creation_date":1650927499,"answer_id":72006548,"question_id":72005964,"body_markdown":"If you don&#39;t necessarily need to use `stream`, you can always use a standard cycle, for example:\r\n\r\n    Map&lt;String, MyDTO&gt; myDTOs = new HashMap&lt;&gt;();\r\n    for(Object[] a : listOfObjectArrays) {\r\n        String key = a[1] + &quot; - &quot; + a[2];\r\n        MyDTO myDTO = myDTOs.get(key);\r\n        if(myDTO == null) {\r\n            List&lt;String&gt; vehicleIds = new ArrayList&lt;&gt;();\r\n            vehicleIds.add((String) a[0]);\r\n            myDTO = new MyDTO((String) a[1], (String) a[2], vehicleIds);\r\n            myDTOs.put(key, myDTO);\r\n        } else {\r\n            myDTO.getVehicleIds().add((String) a[0]);\r\n        }\r\n    }\r\n\r\n    List&lt;MyDTO&gt; myDTOList = new ArrayList&lt;&gt;(myDTOs.values());","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<p>If you don't necessarily need to use <code>stream</code>, you can always use a standard cycle, for example:</p>\n<pre><code>Map&lt;String, MyDTO&gt; myDTOs = new HashMap&lt;&gt;();\nfor(Object[] a : listOfObjectArrays) {\n    String key = a[1] + &quot; - &quot; + a[2];\n    MyDTO myDTO = myDTOs.get(key);\n    if(myDTO == null) {\n        List&lt;String&gt; vehicleIds = new ArrayList&lt;&gt;();\n        vehicleIds.add((String) a[0]);\n        myDTO = new MyDTO((String) a[1], (String) a[2], vehicleIds);\n        myDTOs.put(key, myDTO);\n    } else {\n        myDTO.getVehicleIds().add((String) a[0]);\n    }\n}\n\nList&lt;MyDTO&gt; myDTOList = new ArrayList&lt;&gt;(myDTOs.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651002561,"creation_date":1650929774,"answer_id":72006773,"question_id":72005964,"body_markdown":"The idea is to\r\n\r\n* Stream `Object[]` as `{String,Long,String}` \r\n* Group By `{Object[1],Object[2]}`; Collect(Distinct `Object[0]`)  \r\n* `Map&lt;List&lt;Object[0]&gt;,{Object[1],Object[2]}&gt;` --&gt; `List&lt;MyDto&gt;`\r\n\r\nFor this, I setup two supporting classes, one of which you provided, the other one needed as a Key for the `groupingBuy` to work:\r\n\r\n```\r\n  class MyDTO{\r\n    String modelId;\r\n    String serviceId;\r\n    List&lt;String&gt; vehicleIds;\r\n\r\n    MyDTO(String modelId, String serviceId, String vehicleId) {\r\n      // Need to put in a Modifiable ArrayList so the reduce can happen\r\n      this(modelId,serviceId,new ArrayList&lt;&gt;(List.of(vehicleId)));\r\n    }\r\n    \r\n    MyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds){\r\n      this.modelId = modelId;\r\n      this.serviceId = serviceId;\r\n      this.vehicleIds = vehicleIds;\r\n    }\r\n    \r\n    public MyDTOKey getKey() {\r\n      return new MyDTOKey(modelId, serviceId);\r\n    }\r\n    \r\n    public MyDTO reduce(MyDTO other) {\r\n      this.vehicleIds.addAll(other.vehicleIds);\r\n      return this;\r\n    }\r\n    \r\n    public void dump() {\r\n      System.out.println(&quot;modelId: &quot;+modelId+&quot;; serviceId: &quot;+serviceId+&quot;; vehicleIds: &quot;+vehicleIds.toString());\r\n    }\r\n  }\r\n```\r\n\r\n``` \r\n  private class MyDTOKey&lt;T1,T2&gt; {\r\n    T1 v1;\r\n    T2 v2;\r\n    \r\n    public MyDTOKey(T1 v1,T2 v2) {\r\n      this.v1 = v1;\r\n      this.v2 = v2;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n      return Objects.hash(v1,v2);\r\n    }\r\n\r\n    /*\r\n     * Required for the groupby to work correctly as it\r\n     * doesnt automatically on an Object[]\r\n     */\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n      if (this == obj) {\r\n        return true;\r\n      }\r\n      if (obj == null) {\r\n        return false;\r\n      }\r\n      if (getClass() != obj.getClass()) {\r\n        return false;\r\n      }\r\n      final MyDTOKey &lt;?, ?&gt; other = (MyDTOKey &lt;?, ?&gt;) obj;\r\n      if (!Objects.equals(this.v1, other.v1)) {\r\n        return false;\r\n      }\r\n      return Objects.equals(this.v2, other.v2);\r\n    }\r\n    \r\n  }\r\n```\r\n\r\nAnd with a heads-on approach, I can build something like this:\r\n\r\n```\r\n  List&lt;Object []&gt; data = List.of(\r\n    new Object[]{&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\r\n    new Object[]{&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\r\n    new Object[]{&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;, &quot;215&quot;, &quot;80a7-ce5640b18879&quot;}\r\n    );\r\n\r\n  public static void main(String [] pars) {\r\n    Map&lt;Pair&lt;String,String&gt;,List&lt;String&gt;&gt; map = data\r\n      .stream()\r\n      .collect(groupingBy(\r\n         o-&gt;new MyDTOKey((String)o[1],(String)o[2]), // group by last two only\r\n         mapping(\r\n           o-&gt;(String)o[0],  // Collapse the vehicle id&#39;s to a list \r\n           toList()          // Using set to take out duplicate vehicle id&#39;s\r\n         )\r\n       ));\r\n\r\n    // Convert the map to a List.\r\n    List&lt;MyDTO&gt; dtos = map.entrySet().stream()\r\n      .map(e-&gt;new MyDTO(e.getKey().v1,e.getKey().v2,e.getValue()))\r\n      .collect(toList());\r\n    \r\n    for (MyDTO dto:dtos) {\r\n      dto.dump();\r\n    }\r\n  }\r\n\r\n```\r\n\r\nThe whole effort of creating a class to represent a Tuple (`MyDTOKey`) can be avoided by setting it up as a `List&lt;String&gt;` as done in @Valerij Doblers answer.\r\n\r\nBut with some minor tweaking already done to the `MyDTO` class, we can rewrite this also neatly as follows:\r\n\r\n```\r\n  public static void main(String [] pars) {\r\n    List&lt;MyDTO&gt; data = List.of(\r\n      new MyDTO(&quot;214&quot;, &quot;80a7-ce5640b18879&quot;,&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;),\r\n      new MyDTO(&quot;214&quot;, &quot;80a7-ce5640b18879&quot;,&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;),\r\n      new MyDTO(&quot;215&quot;, &quot;80a7-ce5640b18879&quot;,&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;)\r\n      );\r\n  \r\n    List&lt;MyDTO&gt; dtos = data.stream()\r\n            .collect(\r\n              groupingBy(\r\n                MyDTO::getKey,\r\n                reducing(MyDTO::reduce)\r\n              )\r\n            ) // Produces a Map&lt;MyDTOKey,MyDTO&gt;\r\n            .values().stream() // Streams Optional&lt;MyDTO&gt;\r\n            .flatMap(o-&gt;o.stream()) // expand to contained MyDTO\r\n            .collect(toList())\r\n            ;\r\n    \r\n\r\n    for (MyDTO dto:dtos) {\r\n      dto.dump();\r\n    }\r\n  }\r\n```\r\n\r\nMaybe with a little more effort we can collect directly in a List without going through the Map first.","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<p>The idea is to</p>\n<ul>\n<li>Stream <code>Object[]</code> as <code>{String,Long,String}</code></li>\n<li>Group By <code>{Object[1],Object[2]}</code>; Collect(Distinct <code>Object[0]</code>)</li>\n<li><code>Map&lt;List&lt;Object[0]&gt;,{Object[1],Object[2]}&gt;</code> --&gt; <code>List&lt;MyDto&gt;</code></li>\n</ul>\n<p>For this, I setup two supporting classes, one of which you provided, the other one needed as a Key for the <code>groupingBuy</code> to work:</p>\n<pre><code>  class MyDTO{\n    String modelId;\n    String serviceId;\n    List&lt;String&gt; vehicleIds;\n\n    MyDTO(String modelId, String serviceId, String vehicleId) {\n      // Need to put in a Modifiable ArrayList so the reduce can happen\n      this(modelId,serviceId,new ArrayList&lt;&gt;(List.of(vehicleId)));\n    }\n    \n    MyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds){\n      this.modelId = modelId;\n      this.serviceId = serviceId;\n      this.vehicleIds = vehicleIds;\n    }\n    \n    public MyDTOKey getKey() {\n      return new MyDTOKey(modelId, serviceId);\n    }\n    \n    public MyDTO reduce(MyDTO other) {\n      this.vehicleIds.addAll(other.vehicleIds);\n      return this;\n    }\n    \n    public void dump() {\n      System.out.println(&quot;modelId: &quot;+modelId+&quot;; serviceId: &quot;+serviceId+&quot;; vehicleIds: &quot;+vehicleIds.toString());\n    }\n  }\n</code></pre>\n<pre><code>  private class MyDTOKey&lt;T1,T2&gt; {\n    T1 v1;\n    T2 v2;\n    \n    public MyDTOKey(T1 v1,T2 v2) {\n      this.v1 = v1;\n      this.v2 = v2;\n    }\n\n    @Override\n    public int hashCode() {\n      return Objects.hash(v1,v2);\n    }\n\n    /*\n     * Required for the groupby to work correctly as it\n     * doesnt automatically on an Object[]\n     */\n    @Override\n    public boolean equals(Object obj) {\n      if (this == obj) {\n        return true;\n      }\n      if (obj == null) {\n        return false;\n      }\n      if (getClass() != obj.getClass()) {\n        return false;\n      }\n      final MyDTOKey &lt;?, ?&gt; other = (MyDTOKey &lt;?, ?&gt;) obj;\n      if (!Objects.equals(this.v1, other.v1)) {\n        return false;\n      }\n      return Objects.equals(this.v2, other.v2);\n    }\n    \n  }\n</code></pre>\n<p>And with a heads-on approach, I can build something like this:</p>\n<pre><code>  List&lt;Object []&gt; data = List.of(\n    new Object[]{&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\n    new Object[]{&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;, &quot;214&quot;, &quot;80a7-ce5640b18879&quot;},\n    new Object[]{&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;, &quot;215&quot;, &quot;80a7-ce5640b18879&quot;}\n    );\n\n  public static void main(String [] pars) {\n    Map&lt;Pair&lt;String,String&gt;,List&lt;String&gt;&gt; map = data\n      .stream()\n      .collect(groupingBy(\n         o-&gt;new MyDTOKey((String)o[1],(String)o[2]), // group by last two only\n         mapping(\n           o-&gt;(String)o[0],  // Collapse the vehicle id's to a list \n           toList()          // Using set to take out duplicate vehicle id's\n         )\n       ));\n\n    // Convert the map to a List.\n    List&lt;MyDTO&gt; dtos = map.entrySet().stream()\n      .map(e-&gt;new MyDTO(e.getKey().v1,e.getKey().v2,e.getValue()))\n      .collect(toList());\n    \n    for (MyDTO dto:dtos) {\n      dto.dump();\n    }\n  }\n\n</code></pre>\n<p>The whole effort of creating a class to represent a Tuple (<code>MyDTOKey</code>) can be avoided by setting it up as a <code>List&lt;String&gt;</code> as done in @Valerij Doblers answer.</p>\n<p>But with some minor tweaking already done to the <code>MyDTO</code> class, we can rewrite this also neatly as follows:</p>\n<pre><code>  public static void main(String [] pars) {\n    List&lt;MyDTO&gt; data = List.of(\n      new MyDTO(&quot;214&quot;, &quot;80a7-ce5640b18879&quot;,&quot;93bf3e92-7a37-4e23-836d-eed5a104341f&quot;),\n      new MyDTO(&quot;214&quot;, &quot;80a7-ce5640b18879&quot;,&quot;b4066520-e127-44b7-bcc0-1d1187de559c&quot;),\n      new MyDTO(&quot;215&quot;, &quot;80a7-ce5640b18879&quot;,&quot;b4066520-e127-44b7-bcc0-dddddddddddd&quot;)\n      );\n  \n    List&lt;MyDTO&gt; dtos = data.stream()\n            .collect(\n              groupingBy(\n                MyDTO::getKey,\n                reducing(MyDTO::reduce)\n              )\n            ) // Produces a Map&lt;MyDTOKey,MyDTO&gt;\n            .values().stream() // Streams Optional&lt;MyDTO&gt;\n            .flatMap(o-&gt;o.stream()) // expand to contained MyDTO\n            .collect(toList())\n            ;\n    \n\n    for (MyDTO dto:dtos) {\n      dto.dump();\n    }\n  }\n</code></pre>\n<p>Maybe with a little more effort we can collect directly in a List without going through the Map first.</p>\n"}],"owner":{"account_id":1838688,"reputation":1028,"user_id":1668554,"display_name":"Antonio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72006382,"answer_count":5,"score":2,"last_activity_date":1651139311,"creation_date":1650922376,"question_id":72005964,"body_markdown":"I have a `List&lt;Object[]&gt;` where the `Object[]` has the size of `3` and comes from a query. The result of the query is as follows:\r\n\r\n    | vehicleId                          | modelId | serviceId       |\r\n    |------------------------------------|---------|-----------------|\r\n    |93bf3e92-7a37-4e23-836d-eed5a104341f|\t    214|80a7-ce5640b18879|    \r\n    |b4066520-e127-44b7-bcc0-1d1187de559c|\t    214|80a7-ce5640b18879|\r\n    |ae6cb0fe-1501-4311-a2b4-cfb8b4f51ca4|\t    214|80a7-ce5640b18879|\r\n    |cf80ff11-6e23-4c19-8b6d-55d34d131566|\t    214|80a7-ce5640b18879|\r\n\r\nIt should be mapped in the List&lt;MyDTO&gt; below. The second and last columns will be mapped to modelId and serviceId whilst the first column should become a list of vehicleIds.\r\n\r\nI need to map it into a `List&lt;MyDTO&gt;` where `MyDTO` is as follows:\r\n\r\n    MyDTO{\r\n\r\n    // constructor    \r\n    MyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds){...}\r\n\r\n    String modelId;\r\n    String serviceId;\r\n    List&lt;String&gt; vehicleIds;\r\n    }\r\n\r\nI am trying to figure out how to group by in a stream but nothing seems to come out. That&#39;s where I&#39;m blocked...\r\n\r\n    listOfObjectArrays.stream()\r\n                .map(objects -&gt; new MyDTO((String) objects[0], (String) objects[1], null));\r\n\r\nCan&#39;t figure out how to apply a reduce operation that does the job, any help really appreciated!\r\n\r\n**Edit:**\r\nSorry I forgot to mention that I&#39;m stuck with Java 8. Thank you all for the great answers.\r\n\r\n","title":"Java Stream from List&lt;Object[]&gt; to a List&lt;MyDTO&gt;","body":"<p>I have a <code>List&lt;Object[]&gt;</code> where the <code>Object[]</code> has the size of <code>3</code> and comes from a query. The result of the query is as follows:</p>\n<pre><code>| vehicleId                          | modelId | serviceId       |\n|------------------------------------|---------|-----------------|\n|93bf3e92-7a37-4e23-836d-eed5a104341f|      214|80a7-ce5640b18879|    \n|b4066520-e127-44b7-bcc0-1d1187de559c|      214|80a7-ce5640b18879|\n|ae6cb0fe-1501-4311-a2b4-cfb8b4f51ca4|      214|80a7-ce5640b18879|\n|cf80ff11-6e23-4c19-8b6d-55d34d131566|      214|80a7-ce5640b18879|\n</code></pre>\n<p>It should be mapped in the List below. The second and last columns will be mapped to modelId and serviceId whilst the first column should become a list of vehicleIds.</p>\n<p>I need to map it into a <code>List&lt;MyDTO&gt;</code> where <code>MyDTO</code> is as follows:</p>\n<pre><code>MyDTO{\n\n// constructor    \nMyDTO(String modelId, String serviceId, List&lt;String&gt; vehicleIds){...}\n\nString modelId;\nString serviceId;\nList&lt;String&gt; vehicleIds;\n}\n</code></pre>\n<p>I am trying to figure out how to group by in a stream but nothing seems to come out. That's where I'm blocked...</p>\n<pre><code>listOfObjectArrays.stream()\n            .map(objects -&gt; new MyDTO((String) objects[0], (String) objects[1], null));\n</code></pre>\n<p>Can't figure out how to apply a reduce operation that does the job, any help really appreciated!</p>\n<p><strong>Edit:</strong>\nSorry I forgot to mention that I'm stuck with Java 8. Thank you all for the great answers.</p>\n"},{"tags":["java","loops","static","volatile","jit"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1651463120,"post_id":72041121,"comment_id":127363128,"body_markdown":"There are many problems here. I would use JMH for benchmarking because it deals with a bunch of typical benchmark related problems like warmup. \n\nDoes your machine have 128 cores? If not, what is the purpose of testing with 128 threads. Lot of time wasted on context switching.\n\nDo not believe jstack. Get some proper profiling like the perf (which is a part of JMH). \n\n&#39;tag&#39; needs to be volatile. Currently you have a data race and your code might be doing something else than you expect it is doing.","body":"There are many problems here. I would use JMH for benchmarking because it deals with a bunch of typical benchmark related problems like warmup.   Does your machine have 128 cores? If not, what is the purpose of testing with 128 threads. Lot of time wasted on context switching.  Do not believe jstack. Get some proper profiling like the perf (which is a part of JMH).   &#39;tag&#39; needs to be volatile. Currently you have a data race and your code might be doing something else than you expect it is doing."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651139191,"creation_date":1651139191,"answer_id":72041518,"question_id":72041121,"body_markdown":"Correct benchmarking comes a bit short here, it seems.\r\n\r\nThe slow-down could very well be the `set.contains(i)` call, but it might also be a case  of deoptimization. Besides `volatile` you might consider one of the following.\r\n\r\nI assume optimized usage is not the primary goal of the question, but one should nevertheless consider the data structures.\r\n\r\n    static BitSet set = new BitSet(225 * 225 * 4);\r\n\r\n                    BitSet iMap = BitSet(225 * 225 * 4);\r\n                    for (int j = 0; j &lt; 225 * 225 * 4; j++) {\r\n                        iMap.set(j, getTag(j);\r\n                    }\r\n\r\nOr maybe best, if the result is not tri-state (false, true, null), or whether null can be reconstructed:\r\n\r\n                    Set&lt;Integer&gt; iNot = new HashSet&lt;&gt;();\r\n                    for (int j = 0; j &lt; 225 * 225 * 4; j++) {\r\n                        if (!getTag(j)) { // Most unlikely\r\n                            iNot.add(j);\r\n                        }\r\n                    }\r\n","title":"Java JIT a static non-volatile value changed , the access loop becomes a hundred times longer","body":"<p>Correct benchmarking comes a bit short here, it seems.</p>\n<p>The slow-down could very well be the <code>set.contains(i)</code> call, but it might also be a case  of deoptimization. Besides <code>volatile</code> you might consider one of the following.</p>\n<p>I assume optimized usage is not the primary goal of the question, but one should nevertheless consider the data structures.</p>\n<pre><code>static BitSet set = new BitSet(225 * 225 * 4);\n\n                BitSet iMap = BitSet(225 * 225 * 4);\n                for (int j = 0; j &lt; 225 * 225 * 4; j++) {\n                    iMap.set(j, getTag(j);\n                }\n</code></pre>\n<p>Or maybe best, if the result is not tri-state (false, true, null), or whether null can be reconstructed:</p>\n<pre><code>                Set&lt;Integer&gt; iNot = new HashSet&lt;&gt;();\n                for (int j = 0; j &lt; 225 * 225 * 4; j++) {\n                    if (!getTag(j)) { // Most unlikely\n                        iNot.add(j);\n                    }\n                }\n</code></pre>\n"}],"owner":{"account_id":19368500,"reputation":1,"user_id":14162257,"display_name":"moonsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651139191,"creation_date":1651137475,"question_id":72041121,"body_markdown":"There is a branch judgment on a non volatile static bool value in the loop. When the bool value is modified by other threads, the execution time of the whole loop becomes a hundred times longer, and jstack shows that the thread runs on the line acces\r\n\r\nsample:\r\n```\r\npackage test;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class StaticTest {\r\n\r\n    static boolean tag = true;\r\n\r\n    static HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n\r\n    static boolean getTag(int i) {\r\n        if (!tag) {\r\n            return set.contains(i);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        for (int i = 0; i &lt; 225 * 225 * 4; i++) {\r\n            set.add(ThreadLocalRandom.current().nextInt(0, 225 * 225 * 4));\r\n        }\r\n\r\n        Thread.sleep(5000);\r\n        for (int i = 0; i &lt; 128; i++) {\r\n            Thread t = new Thread(() -&gt; {\r\n                while (true) {\r\n                    long start = System.currentTimeMillis();\r\n                    HashMap&lt;Integer, Boolean&gt; iMap = new HashMap&lt;&gt;();\r\n                    for (int j = 0; j &lt; 225 * 225 * 4; j++) {\r\n                        if (getTag(j)) {\r\n                            iMap.put(j, true);\r\n                        } else {\r\n                            iMap.put(j, false);\r\n                        }\r\n                    }\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            t.start();\r\n        }\r\n\r\n        Thread.sleep(TimeUnit.MINUTES.toMillis(3));\r\n        tag = true;\r\n        System.out.println(new Date(System.currentTimeMillis()));\r\n        while (true) {\r\n            Thread.sleep(10000);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Java JIT a static non-volatile value changed , the access loop becomes a hundred times longer","body":"<p>There is a branch judgment on a non volatile static bool value in the loop. When the bool value is modified by other threads, the execution time of the whole loop becomes a hundred times longer, and jstack shows that the thread runs on the line acces</p>\n<p>sample:</p>\n<pre><code>package test;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.TimeUnit;\n\npublic class StaticTest {\n\n    static boolean tag = true;\n\n    static HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\n\n    static boolean getTag(int i) {\n        if (!tag) {\n            return set.contains(i);\n        }\n        return true;\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 0; i &lt; 225 * 225 * 4; i++) {\n            set.add(ThreadLocalRandom.current().nextInt(0, 225 * 225 * 4));\n        }\n\n        Thread.sleep(5000);\n        for (int i = 0; i &lt; 128; i++) {\n            Thread t = new Thread(() -&gt; {\n                while (true) {\n                    long start = System.currentTimeMillis();\n                    HashMap&lt;Integer, Boolean&gt; iMap = new HashMap&lt;&gt;();\n                    for (int j = 0; j &lt; 225 * 225 * 4; j++) {\n                        if (getTag(j)) {\n                            iMap.put(j, true);\n                        } else {\n                            iMap.put(j, false);\n                        }\n                    }\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n            t.start();\n        }\n\n        Thread.sleep(TimeUnit.MINUTES.toMillis(3));\n        tag = true;\n        System.out.println(new Date(System.currentTimeMillis()));\n        while (true) {\n            Thread.sleep(10000);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jar"],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1347819422,"creation_date":1347819422,"answer_id":12449420,"question_id":12449074,"body_markdown":"First, find out which cglib version is compatible with asm-3.1. Second, use only compatible version. Now you use 2 cglib jars of different versions (which is always bad).","title":"Spring Framework - java.lang.IncompatibleClassChangeError: class net.sf.cglib.core.DebuggingClassWriter has interface org.objectweb.asm.ClassVisitor","body":"<p>First, find out which cglib version is compatible with asm-3.1. Second, use only compatible version. Now you use 2 cglib jars of different versions (which is always bad).</p>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651138945,"creation_date":1651138945,"answer_id":72041451,"question_id":12449074,"body_markdown":"Adding a compatible version mentioned here, helped to resolve this issue.\r\n\r\nhttps://howtodoinjava.com/java/exception-handling/solved-java-lang-incompatibleclasschangeerror-implementing-class\r\n","title":"Spring Framework - java.lang.IncompatibleClassChangeError: class net.sf.cglib.core.DebuggingClassWriter has interface org.objectweb.asm.ClassVisitor","body":"<p>Adding a compatible version mentioned here, helped to resolve this issue.</p>\n<p><a href=\"https://howtodoinjava.com/java/exception-handling/solved-java-lang-incompatibleclasschangeerror-implementing-class\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/exception-handling/solved-java-lang-incompatibleclasschangeerror-implementing-class</a></p>\n"}],"owner":{"account_id":1803663,"reputation":177,"user_id":1641298,"accept_rate":83,"display_name":"Daemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14078,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1651138945,"creation_date":1347816606,"question_id":12449074,"body_markdown":"While I was trying to run a simple static pointcut example in Spring on Eclipse, I came across this error message :-\r\n\r\n\r\n&gt; java.lang.IncompatibleClassChangeError: class\r\n&gt; net.sf.cglib.core.DebuggingClassWriter has interface\r\n&gt; org.objectweb.asm.ClassVisitor\r\n\r\n\r\n","title":"Spring Framework - java.lang.IncompatibleClassChangeError: class net.sf.cglib.core.DebuggingClassWriter has interface org.objectweb.asm.ClassVisitor","body":"<p>While I was trying to run a simple static pointcut example in Spring on Eclipse, I came across this error message :-</p>\n\n<blockquote>\n  <p>java.lang.IncompatibleClassChangeError: class\n  net.sf.cglib.core.DebuggingClassWriter has interface\n  org.objectweb.asm.ClassVisitor</p>\n</blockquote>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1651138812,"post_id":72041396,"comment_id":127294175,"body_markdown":"Can you share the input string?","body":"Can you share the input string?"},{"owner":{"account_id":25126032,"reputation":1,"user_id":18973820,"display_name":"Reet gupta"},"score":0,"creation_date":1651139089,"post_id":72041396,"comment_id":127294307,"body_markdown":"its a normal string","body":"its a normal string"},{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1651139233,"post_id":72041396,"comment_id":127294359,"body_markdown":"I mean it&#39;s content, it seems there is a duplicate key in your string content.","body":"I mean it&#39;s content, it seems there is a duplicate key in your string content."},{"owner":{"account_id":25126032,"reputation":1,"user_id":18973820,"display_name":"Reet gupta"},"score":0,"creation_date":1651139743,"post_id":72041396,"comment_id":127294560,"body_markdown":"what to do to resolve this?","body":"what to do to resolve this?"}],"owner":{"account_id":25126032,"reputation":1,"user_id":18973820,"display_name":"Reet gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651138662,"creation_date":1651138662,"question_id":72041396,"body_markdown":" public boolean isBookingForNonRegisteredEmpBySpocConfigEnabled(String buid) {\r\n\r\n    TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    };\r\n    Optional&lt;String&gt; result = consul.keyValueClient().getValueAsString(String.format(&quot;%s%s%s&quot;,BASE_CONFIG_URL,buid,CONFIGURATION_CONSTANT));\r\n    Map&lt;String, Object&gt; config = result.&lt;Map&lt;String, Object&gt;&gt; map(s -&gt; gson.fromJson(s, typeRef.getType())).orElse(null);\r\n    if(config != null) {\r\n      logger.info(&quot;Getting config for {} : {}&quot;,BOOKING_FOR_NON_REG_EMP_BY_SPOC,\r\n              config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC));\r\n      return config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC) != null &amp;&amp; (boolean) config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC);\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n\r\nthis is throwing this exception,,,how to resolve?","title":"Message: JsonSyntaxException: duplicate key: AUDIT_HISTORY","body":"<p>public boolean isBookingForNonRegisteredEmpBySpocConfigEnabled(String buid) {</p>\n<pre><code>TypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n};\nOptional&lt;String&gt; result = consul.keyValueClient().getValueAsString(String.format(&quot;%s%s%s&quot;,BASE_CONFIG_URL,buid,CONFIGURATION_CONSTANT));\nMap&lt;String, Object&gt; config = result.&lt;Map&lt;String, Object&gt;&gt; map(s -&gt; gson.fromJson(s, typeRef.getType())).orElse(null);\nif(config != null) {\n  logger.info(&quot;Getting config for {} : {}&quot;,BOOKING_FOR_NON_REG_EMP_BY_SPOC,\n          config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC));\n  return config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC) != null &amp;&amp; (boolean) config.get(BOOKING_FOR_NON_REG_EMP_BY_SPOC);\n}\nreturn false;\n</code></pre>\n<p>}</p>\n<p>this is throwing this exception,,,how to resolve?</p>\n"},{"tags":["java","scala","jar","configuration","akka"],"comments":[{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1651180706,"post_id":72040639,"comment_id":127309567,"body_markdown":"Do you specify a key `default` in `reference.conf`?","body":"Do you specify a key <code>default</code> in <code>reference.conf</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3408439,"reputation":1400,"user_id":2858970,"display_name":"FrancescoM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651138432,"creation_date":1651138432,"answer_id":72041340,"question_id":72040639,"body_markdown":"This kind of error happens when the application is unable to found the `reference.conf` configuration file in the classpath.\r\n\r\nMake sure such file is present in the jar you&#39;ve built.","title":"com.typesafe.config.ConfigException$Missing: reference.conf: No configuration setting found for key &#39;default&#39;","body":"<p>This kind of error happens when the application is unable to found the <code>reference.conf</code> configuration file in the classpath.</p>\n<p>Make sure such file is present in the jar you've built.</p>\n"}],"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72041340,"answer_count":1,"score":1,"last_activity_date":1651138432,"creation_date":1651135557,"question_id":72040639,"body_markdown":"I created a jar file of my Akka application. When I run the jar file by the command \r\n\r\n&gt; java -jar file.jar\r\n\r\nthen I see this error. What could be possibly wrong and how can I fix this?\r\n\r\n    [ERROR] [04/28/2022 14:11:03.296] [main] [KnowledgePortalRest(akka://knowledge-portal-actor-system)] Error starting application:\r\n    com.typesafe.config.ConfigException$Missing: reference.conf @ jar:file:/home/knoldus/knolx-service/target/scala-2.12/sbt-1.0/knowledge-portal-rest-assembly-2.2.1.jar!/reference.conf: 13-1466: No configuration setting found for key &#39;default&#39;\r\n    \tat com.typesafe.config.impl.SimpleConfig.findKeyOrNull(SimpleConfig.java:156)\r\n    \tat com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:174)\r\n    \tat com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:188)\r\n    \tat com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:193)\r\n    \tat com.typesafe.config.impl.SimpleConfig.getBoolean(SimpleConfig.java:218)\r\n    \tat com.typesafe.sslconfig.util.ConfigLoader$.$anonfun$booleanLoader$2(Configuration.scala:186)\r\n    \tat com.typesafe.sslconfig.util.ConfigLoader$.$anonfun$booleanLoader$2$adapted(Configuration.scala:186)\r\n    \tat com.typesafe.sslconfig.util.ConfigLoader$$anon$2.load(Configuration.scala:173)\r\n    \tat com.typesafe.sslconfig.util.EnrichedConfig.get(Configuration.scala:22)\r\n    \tat com.typesafe.sslconfig.ssl.SSLConfigParser.parse(Config.scala:498)\r\n    \tat com.typesafe.sslconfig.ssl.SSLConfigFactory$.parse(Config.scala:486)\r\n    \tat com.typesafe.sslconfig.akka.AkkaSSLConfig$.defaultSSLConfigSettings(AkkaSSLConfig.scala:34)\r\n    \tat com.typesafe.sslconfig.akka.AkkaSSLConfig$.createExtension(AkkaSSLConfig.scala:29)\r\n    \tat com.typesafe.sslconfig.akka.AkkaSSLConfig$.createExtension(AkkaSSLConfig.scala:19)\r\n    \tat akka.actor.ActorSystemImpl.registerExtension(ActorSystem.scala:1006)\r\n    \tat akka.actor.ExtensionId.apply(Extension.scala:79)\r\n    \tat akka.actor.ExtensionId.apply$(Extension.scala:78)\r\n    \tat com.typesafe.sslconfig.akka.AkkaSSLConfig$.apply(AkkaSSLConfig.scala:24)\r\n    \tat com.typesafe.sslconfig.akka.AkkaSSLConfig$.apply(AkkaSSLConfig.scala:19)\r\n    \tat akka.http.scaladsl.HttpExt.&lt;init&gt;(Http.scala:82)\r\n    \tat akka.http.scaladsl.Http$.createExtension(Http.scala:1132)\r\n    \tat akka.http.scaladsl.Http$.createExtension(Http.scala:901)\r\n    \tat akka.actor.ActorSystemImpl.registerExtension(ActorSystem.scala:1006)\r\n    \tat akka.actor.ExtensionId.apply(Extension.scala:79)\r\n    \tat akka.actor.ExtensionId.apply$(Extension.scala:78)\r\n    \tat akka.http.scaladsl.Http$.apply(Http.scala:1127)\r\n    \tat com.knoldus.HttpServer.start(HttpServer.scala:28)\r\n    \tat com.knoldus.HttpServerApp$.delayedEndpoint$com$knoldus$HttpServerApp$1(HttpServerApp.scala:70)\r\n    \tat com.knoldus.HttpServerApp$delayedInit$body.apply(HttpServerApp.scala:24)\r\n    \tat scala.Function0.apply$mcV$sp(Function0.scala:39)\r\n    \tat scala.Function0.apply$mcV$sp$(Function0.scala:39)\r\n    \tat scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\r\n    \tat scala.App.$anonfun$main$1$adapted(App.scala:80)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:392)\r\n    \tat scala.App.main(App.scala:80)\r\n    \tat scala.App.main$(App.scala:78)\r\n    \tat com.knoldus.HttpServerApp$.main(HttpServerApp.scala:24)\r\n    \tat com.knoldus.HttpServerApp.main(HttpServerApp.scala)\r\n\r\n","title":"com.typesafe.config.ConfigException$Missing: reference.conf: No configuration setting found for key &#39;default&#39;","body":"<p>I created a jar file of my Akka application. When I run the jar file by the command</p>\n<blockquote>\n<p>java -jar file.jar</p>\n</blockquote>\n<p>then I see this error. What could be possibly wrong and how can I fix this?</p>\n<pre><code>[ERROR] [04/28/2022 14:11:03.296] [main] [KnowledgePortalRest(akka://knowledge-portal-actor-system)] Error starting application:\ncom.typesafe.config.ConfigException$Missing: reference.conf @ jar:file:/home/knoldus/knolx-service/target/scala-2.12/sbt-1.0/knowledge-portal-rest-assembly-2.2.1.jar!/reference.conf: 13-1466: No configuration setting found for key 'default'\n    at com.typesafe.config.impl.SimpleConfig.findKeyOrNull(SimpleConfig.java:156)\n    at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:174)\n    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:188)\n    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:193)\n    at com.typesafe.config.impl.SimpleConfig.getBoolean(SimpleConfig.java:218)\n    at com.typesafe.sslconfig.util.ConfigLoader$.$anonfun$booleanLoader$2(Configuration.scala:186)\n    at com.typesafe.sslconfig.util.ConfigLoader$.$anonfun$booleanLoader$2$adapted(Configuration.scala:186)\n    at com.typesafe.sslconfig.util.ConfigLoader$$anon$2.load(Configuration.scala:173)\n    at com.typesafe.sslconfig.util.EnrichedConfig.get(Configuration.scala:22)\n    at com.typesafe.sslconfig.ssl.SSLConfigParser.parse(Config.scala:498)\n    at com.typesafe.sslconfig.ssl.SSLConfigFactory$.parse(Config.scala:486)\n    at com.typesafe.sslconfig.akka.AkkaSSLConfig$.defaultSSLConfigSettings(AkkaSSLConfig.scala:34)\n    at com.typesafe.sslconfig.akka.AkkaSSLConfig$.createExtension(AkkaSSLConfig.scala:29)\n    at com.typesafe.sslconfig.akka.AkkaSSLConfig$.createExtension(AkkaSSLConfig.scala:19)\n    at akka.actor.ActorSystemImpl.registerExtension(ActorSystem.scala:1006)\n    at akka.actor.ExtensionId.apply(Extension.scala:79)\n    at akka.actor.ExtensionId.apply$(Extension.scala:78)\n    at com.typesafe.sslconfig.akka.AkkaSSLConfig$.apply(AkkaSSLConfig.scala:24)\n    at com.typesafe.sslconfig.akka.AkkaSSLConfig$.apply(AkkaSSLConfig.scala:19)\n    at akka.http.scaladsl.HttpExt.&lt;init&gt;(Http.scala:82)\n    at akka.http.scaladsl.Http$.createExtension(Http.scala:1132)\n    at akka.http.scaladsl.Http$.createExtension(Http.scala:901)\n    at akka.actor.ActorSystemImpl.registerExtension(ActorSystem.scala:1006)\n    at akka.actor.ExtensionId.apply(Extension.scala:79)\n    at akka.actor.ExtensionId.apply$(Extension.scala:78)\n    at akka.http.scaladsl.Http$.apply(Http.scala:1127)\n    at com.knoldus.HttpServer.start(HttpServer.scala:28)\n    at com.knoldus.HttpServerApp$.delayedEndpoint$com$knoldus$HttpServerApp$1(HttpServerApp.scala:70)\n    at com.knoldus.HttpServerApp$delayedInit$body.apply(HttpServerApp.scala:24)\n    at scala.Function0.apply$mcV$sp(Function0.scala:39)\n    at scala.Function0.apply$mcV$sp$(Function0.scala:39)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\n    at scala.App.$anonfun$main$1$adapted(App.scala:80)\n    at scala.collection.immutable.List.foreach(List.scala:392)\n    at scala.App.main(App.scala:80)\n    at scala.App.main$(App.scala:78)\n    at com.knoldus.HttpServerApp$.main(HttpServerApp.scala:24)\n    at com.knoldus.HttpServerApp.main(HttpServerApp.scala)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651135605,"post_id":72040490,"comment_id":127292818,"body_markdown":"`userRepository.saveAll(List.of(userEntity))` returns a list of type `UserEntity` and not `User`. You would need to map `UserEntity` to `User`, or just not care about the result. This depends on what you want to do with the data after saving","body":"<code>userRepository.saveAll(List.of(userEntity))</code> returns a list of type <code>UserEntity</code> and not <code>User</code>. You would need to map <code>UserEntity</code> to <code>User</code>, or just not care about the result. This depends on what you want to do with the data after saving"},{"owner":{"account_id":13619775,"reputation":533,"user_id":9824674,"display_name":"user9824674"},"score":0,"creation_date":1651136743,"post_id":72040490,"comment_id":127293263,"body_markdown":"@XtremeBaumer Actually I just want to save this list to DB and return just a string &quot;ok&quot; as a response. Can you please please tell me how to save this list to db? I have no idea as of now :&#39;(","body":"@XtremeBaumer Actually I just want to save this list to DB and return just a string &quot;ok&quot; as a response. Can you please please tell me how to save this list to db? I have no idea as of now :&#39;("},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651136822,"post_id":72040490,"comment_id":127293297,"body_markdown":"Remove `List&lt;User&gt; persistedUser =` and you are good to go. For the response, wrap the `saveAll` call in a `try-catch`. If you catch any exception, then the save failed, otherwise it was successful","body":"Remove <code>List&lt;User&gt; persistedUser =</code> and you are good to go. For the response, wrap the <code>saveAll</code> call in a <code>try-catch</code>. If you catch any exception, then the save failed, otherwise it was successful"},{"owner":{"account_id":13619775,"reputation":533,"user_id":9824674,"display_name":"user9824674"},"score":0,"creation_date":1651137043,"post_id":72040490,"comment_id":127293374,"body_markdown":"@XtremeBaumer Hi I just tried as you suggested but it&#39;s giving me an error ```Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.example.testbatch.Entities.UserEntity&#39;```  Am I still missing something?","body":"@XtremeBaumer Hi I just tried as you suggested but it&#39;s giving me an error <code>Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.example.testbatch.Entities.UserEntity&#39;</code>  Am I still missing something?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651137606,"post_id":72040490,"comment_id":127293622,"body_markdown":"Are you sure it happens on the `userRepository.saveAll(List.of(userEntity));` call? I found this which has the same error as you:\n\nhttps://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend","body":"Are you sure it happens on the <code>userRepository.saveAll(List.of(userEntity));</code> call? I found this which has the same error as you:  <a href=\"https://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend\" title=\"inferred type s for type parameter s is not within its bound should extend\">stackoverflow.com/questions/52634362/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651135650,"creation_date":1651135650,"answer_id":72040658,"question_id":72040490,"body_markdown":"The user_repo is returning a List of type UserEntity \r\nwhile in yout controller you are asking for a   List of type User\r\n\r\nThere is not mapping between UserEntity and User.","title":"How to save array of object in sprig boot with crudrepository?","body":"<p>The user_repo is returning a List of type UserEntity\nwhile in yout controller you are asking for a   List of type User</p>\n<p>There is not mapping between UserEntity and User.</p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651138299,"creation_date":1651138299,"answer_id":72041306,"question_id":72040490,"body_markdown":"You have some problems about your code:\r\n\r\nAt first you have a *DTO* (`User` class), so, you should use this *DTO* inside your controller in `saveUsers` method and more importantly **you pass an array of objects in your JSON, so you have to use a `List` not an `Object` as the parameter**:\r\n\r\n    public void saveUsers(@RequestBody List&lt;User&gt; users) {...}\r\n\r\nAnother problem is you don&#39;t have any `getters` and `setters` inside you DTO (`public class User`) and Entity (`public class UserEntity`) classes and also you have to add a method inside your *DTO* class for **mapping** *DTO* to *Entity*:\r\n\r\n    public class User {\r\n        ...\r\n        public static UserEntity dtoToEntity(User user){\r\n            UserEntity userEntity = new UserEntity();\r\n            userEntity.setEmail(user.getEmail());\r\n            userEntity.setPassword(user.getPassword());\r\n            userEntity.setFirst_name(user.getFirstName());\r\n            userEntity.setLast_name(user.getLastName());\r\n            return userEntity;\r\n        }\r\n    }\r\n\r\nAlso you must change your JSON properties to match your DTO&#39;s properties:\r\n\r\n    [\r\n        {\r\n            &quot;firstName&quot;: &quot;Jack&quot;,\r\n            &quot;lastName&quot;: &quot;Jill&quot;,\r\n            ...\r\n        },\r\n        ...\r\n    ]\r\n\r\nAs the last one, change your controller `saveUsers` method as (saveAll method return `Iterable` not `List`):\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public void saveUsers(@RequestBody List&lt;User&gt; users) {\r\n    \r\n        List&lt;UserEntity&gt; userEntities = new ArrayList&lt;&gt;();\r\n    \r\n        for (User user : users) {\r\n            userEntities.add(dtoToEntity(user));\r\n        }\r\n    \r\n        Iterable&lt;UserEntity&gt; persistedUser = userRepository.saveAll(userEntities);\r\n    }\r\n\r\n***Notice:*** As a point remember that because you have auto-generated id inside your *Entity*, so you don&#39;t need id property for your *DTO*, obviously because it&#39;s auto-generated and you don&#39;t need to get it from input;\r\n","title":"How to save array of object in sprig boot with crudrepository?","body":"<p>You have some problems about your code:</p>\n<p>At first you have a <em>DTO</em> (<code>User</code> class), so, you should use this <em>DTO</em> inside your controller in <code>saveUsers</code> method and more importantly <strong>you pass an array of objects in your JSON, so you have to use a <code>List</code> not an <code>Object</code> as the parameter</strong>:</p>\n<pre><code>public void saveUsers(@RequestBody List&lt;User&gt; users) {...}\n</code></pre>\n<p>Another problem is you don't have any <code>getters</code> and <code>setters</code> inside you DTO (<code>public class User</code>) and Entity (<code>public class UserEntity</code>) classes and also you have to add a method inside your <em>DTO</em> class for <strong>mapping</strong> <em>DTO</em> to <em>Entity</em>:</p>\n<pre><code>public class User {\n    ...\n    public static UserEntity dtoToEntity(User user){\n        UserEntity userEntity = new UserEntity();\n        userEntity.setEmail(user.getEmail());\n        userEntity.setPassword(user.getPassword());\n        userEntity.setFirst_name(user.getFirstName());\n        userEntity.setLast_name(user.getLastName());\n        return userEntity;\n    }\n}\n</code></pre>\n<p>Also you must change your JSON properties to match your DTO's properties:</p>\n<pre><code>[\n    {\n        &quot;firstName&quot;: &quot;Jack&quot;,\n        &quot;lastName&quot;: &quot;Jill&quot;,\n        ...\n    },\n    ...\n]\n</code></pre>\n<p>As the last one, change your controller <code>saveUsers</code> method as (saveAll method return <code>Iterable</code> not <code>List</code>):</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\npublic void saveUsers(@RequestBody List&lt;User&gt; users) {\n\n    List&lt;UserEntity&gt; userEntities = new ArrayList&lt;&gt;();\n\n    for (User user : users) {\n        userEntities.add(dtoToEntity(user));\n    }\n\n    Iterable&lt;UserEntity&gt; persistedUser = userRepository.saveAll(userEntities);\n}\n</code></pre>\n<p><em><strong>Notice:</strong></em> As a point remember that because you have auto-generated id inside your <em>Entity</em>, so you don't need id property for your <em>DTO</em>, obviously because it's auto-generated and you don't need to get it from input;</p>\n"}],"owner":{"account_id":13619775,"reputation":533,"user_id":9824674,"display_name":"user9824674"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72041306,"answer_count":2,"score":0,"last_activity_date":1651138299,"creation_date":1651134977,"question_id":72040490,"body_markdown":"I am very new to Spring boot and this is my first spring dummy project where I&#39;m trying to learn to save an array of objects in mysql-db.\r\n\r\nActually, I am trying to use the saveAll method from the crudRepository in my controller. But it&#39;s giving me an error ```no instance(s) of type variable(s) S exist so that Iterable&lt;S&gt; conforms to List&lt;User&gt;```\r\n\r\nMy JSON looks like this:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;first_name&quot;: &quot;Jack&quot;,\r\n        &quot;last_name&quot;: &quot;Jill&quot;,\r\n        &quot;email&quot;: &quot;jacjill@gmail.com&quot;,\r\n        &quot;password&quot;: &quot;passq3623&quot;\r\n    },\r\n    {\r\n        &quot;first_name&quot;: &quot;John&quot;,\r\n        &quot;last_name&quot;: &quot;Doe&quot;,\r\n        &quot;email&quot;: &quot;john@gmail.com&quot;,\r\n        &quot;password&quot;: &quot;pass23&quot;\r\n    }\r\n]\r\n```\r\n\r\nThis is my entity class\r\n```\r\npackage com.example.testbatch.Entities;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int id;\r\n    public String first_name;\r\n    public String last_name;\r\n    public String email;\r\n    public String password;\r\n}\r\n```\r\nHere is my User Model Class\r\n```\r\npackage com.example.testbatch.Models;\r\n\r\npublic class User {\r\n    public int id;\r\n    public String firstName;\r\n    public String lastName;\r\n    public String email;\r\n    public String password;\r\n}\r\n```\r\n\r\nHere is my repository\r\n```\r\npackage com.example.testbatch.Repositories;\r\n\r\nimport com.example.testbatch.Entities.UserEntity;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface UserRepository extends CrudRepository&lt;UserEntity, Integer&gt; {\r\n    @Override\r\n    List&lt;UserEntity&gt; findAll();\r\n\r\n}\r\n\r\n```\r\n\r\nand here is my rest controller\r\n```\r\npackage com.example.testbatch.Controllers;\r\n\r\nimport com.example.testbatch.Entities.UserEntity;\r\nimport com.example.testbatch.Models.User;\r\nimport com.example.testbatch.Repositories.UserRepository;\r\nimport org.apache.poi.ss.formula.functions.T;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public void saveUsers(@RequestBody UserEntity userEntity) {\r\n        List&lt;User&gt; persistedUser = userRepository.saveAll(List.of(userEntity));\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nCan anyone please help me? This is ery first time I am usig spring boot ","title":"How to save array of object in sprig boot with crudrepository?","body":"<p>I am very new to Spring boot and this is my first spring dummy project where I'm trying to learn to save an array of objects in mysql-db.</p>\n<p>Actually, I am trying to use the saveAll method from the crudRepository in my controller. But it's giving me an error <code>no instance(s) of type variable(s) S exist so that Iterable&lt;S&gt; conforms to List&lt;User&gt;</code></p>\n<p>My JSON looks like this:</p>\n<pre><code>[\n    {\n        &quot;first_name&quot;: &quot;Jack&quot;,\n        &quot;last_name&quot;: &quot;Jill&quot;,\n        &quot;email&quot;: &quot;jacjill@gmail.com&quot;,\n        &quot;password&quot;: &quot;passq3623&quot;\n    },\n    {\n        &quot;first_name&quot;: &quot;John&quot;,\n        &quot;last_name&quot;: &quot;Doe&quot;,\n        &quot;email&quot;: &quot;john@gmail.com&quot;,\n        &quot;password&quot;: &quot;pass23&quot;\n    }\n]\n</code></pre>\n<p>This is my entity class</p>\n<pre><code>package com.example.testbatch.Entities;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int id;\n    public String first_name;\n    public String last_name;\n    public String email;\n    public String password;\n}\n</code></pre>\n<p>Here is my User Model Class</p>\n<pre><code>package com.example.testbatch.Models;\n\npublic class User {\n    public int id;\n    public String firstName;\n    public String lastName;\n    public String email;\n    public String password;\n}\n</code></pre>\n<p>Here is my repository</p>\n<pre><code>package com.example.testbatch.Repositories;\n\nimport com.example.testbatch.Entities.UserEntity;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.List;\n\npublic interface UserRepository extends CrudRepository&lt;UserEntity, Integer&gt; {\n    @Override\n    List&lt;UserEntity&gt; findAll();\n\n}\n\n</code></pre>\n<p>and here is my rest controller</p>\n<pre><code>package com.example.testbatch.Controllers;\n\nimport com.example.testbatch.Entities.UserEntity;\nimport com.example.testbatch.Models.User;\nimport com.example.testbatch.Repositories.UserRepository;\nimport org.apache.poi.ss.formula.functions.T;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.transaction.Transactional;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1/user&quot;)\npublic class UserController {\n\n    @Autowired\n    UserRepository userRepository;\n\n\n\n    @PostMapping(&quot;/register&quot;)\n    public void saveUsers(@RequestBody UserEntity userEntity) {\n        List&lt;User&gt; persistedUser = userRepository.saveAll(List.of(userEntity));\n    }\n\n\n}\n\n</code></pre>\n<p>Can anyone please help me? This is ery first time I am usig spring boot</p>\n"},{"tags":["java","android","firebase","firebase-storage","android-download-manager"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651139418,"post_id":72041295,"comment_id":127294443,"body_markdown":"`want to put the downloaded file into a download folder inside android ` ? What do you mean?","body":"<code>want to put the downloaded file into a download folder inside android </code> ? What do you mean?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651139640,"post_id":72041295,"comment_id":127294533,"body_markdown":"`request.setDestinationInExternalFilesDir(context,....` Do you know where the downloaded file would be saved? Have a look at getExternalFilesDir(null).getAbsolutePath().","body":"<code>request.setDestinationInExternalFilesDir(context,....</code> Do you know where the downloaded file would be saved? Have a look at getExternalFilesDir(null).getAbsolutePath()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651140487,"post_id":72041295,"comment_id":127294812,"body_markdown":"Further i have no idea what you mean with MediaStore.download.","body":"Further i have no idea what you mean with MediaStore.download."},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1651213594,"post_id":72041295,"comment_id":127314921,"body_markdown":"set download directory to public download directory You can use `request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;nameOfFile&quot;);`","body":"set download directory to public download directory You can use <code>request.setDestinationInExternalPublicDir(Environment.DIRECT&zwnj;&#8203;ORY_DOWNLOADS, &quot;nameOfFile&quot;);</code>"}],"owner":{"account_id":25067431,"reputation":1,"user_id":18921591,"display_name":"Zulfan Ahmadi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651138250,"creation_date":1651138250,"question_id":72041295,"body_markdown":"i&#39;m creating an app to fetch and download file from Firebase&#160;Cloud&#160;Storage, the download part is using downloadManager, but i cant seems to open the file, and i want to put the downloaded file into a download folder inside android after downloadmanager do the job. its said to use MediaStore download for that, is that true? if thats true how you should approach it and apply mediastore download from myApp, if its not true, is there a better way to download the file and put the file accordingly for the user?\r\n\r\n    private void download() {\r\n        //        ref = storageReference.child(&quot;User1/&quot;+currentNrp+&quot;_1.pdf&quot;);\r\n        ref = storageReference.child(&quot;2023&quot;+&quot;/&quot;+currentNrp+&quot;_lab.pdf&quot;);\r\n\r\n        ref.getDownloadUrl()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Uri uri) {\r\n                        String url = uri.toString();\r\n                        downloadFiles(getActivity(), &quot;2023&quot;+&quot;/&quot;,currentNrp+&quot;_lab&quot;, DIRECTORY_DOWNLOADS, url);\r\n                        Toast.makeText(getActivity(), &quot;PDF Berhasil di download&quot;, Toast.LENGTH_SHORT)\r\n                                .show();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast toast = Toast.makeText(getActivity(),\r\n                                &quot;PDF Gagal di Download, Silahkan Cek Kembali NRP anda atau &quot; +\r\n                                        &quot;hubungi admin&quot;, Toast.LENGTH_LONG);\r\n                        //kondisi if ini membantu mengecek apa versi SDK/API cocok dengan codingan didalamnya atau tidak, dalam kasus ini apa setBackgroundResources itu cocok atau tidak\r\n                        // atau mungkin artinya sedikit beda\r\n                        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.R) {\r\n                            View toastView = toast.getView();\r\n                            toastView.setBackgroundResource(R.drawable.toast_drawable);\r\n                            toastView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n                        }\r\n                        toast.show();\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    private void downloadFiles(Context context, String folderName, String fileName, String destinationDirectory, String url) {\r\n\r\n        DownloadManager downloadManager = (DownloadManager)\r\n                context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n        Uri uri = Uri.parse(url);\r\n        DownloadManager.Request request = new DownloadManager.Request(uri);\r\n\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n        request.setDestinationInExternalFilesDir(context, destinationDirectory, folderName+fileName+ &quot;.pdf&quot;);\r\n        request.setTitle(folderName);\r\n        request.setDescription(fileName);\r\n\r\n\r\n        downloadManager.enqueue(request);\r\n\r\n    }\r\n\r\n","title":"how to use MediaStore.download","body":"<p>i'm creating an app to fetch and download file from Firebase Cloud Storage, the download part is using downloadManager, but i cant seems to open the file, and i want to put the downloaded file into a download folder inside android after downloadmanager do the job. its said to use MediaStore download for that, is that true? if thats true how you should approach it and apply mediastore download from myApp, if its not true, is there a better way to download the file and put the file accordingly for the user?</p>\n<pre><code>private void download() {\n    //        ref = storageReference.child(&quot;User1/&quot;+currentNrp+&quot;_1.pdf&quot;);\n    ref = storageReference.child(&quot;2023&quot;+&quot;/&quot;+currentNrp+&quot;_lab.pdf&quot;);\n\n    ref.getDownloadUrl()\n            .addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                @Override\n                public void onSuccess(Uri uri) {\n                    String url = uri.toString();\n                    downloadFiles(getActivity(), &quot;2023&quot;+&quot;/&quot;,currentNrp+&quot;_lab&quot;, DIRECTORY_DOWNLOADS, url);\n                    Toast.makeText(getActivity(), &quot;PDF Berhasil di download&quot;, Toast.LENGTH_SHORT)\n                            .show();\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast toast = Toast.makeText(getActivity(),\n                            &quot;PDF Gagal di Download, Silahkan Cek Kembali NRP anda atau &quot; +\n                                    &quot;hubungi admin&quot;, Toast.LENGTH_LONG);\n                    //kondisi if ini membantu mengecek apa versi SDK/API cocok dengan codingan didalamnya atau tidak, dalam kasus ini apa setBackgroundResources itu cocok atau tidak\n                    // atau mungkin artinya sedikit beda\n                    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.R) {\n                        View toastView = toast.getView();\n                        toastView.setBackgroundResource(R.drawable.toast_drawable);\n                        toastView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n                    }\n                    toast.show();\n                }\n            });\n\n}\n\nprivate void downloadFiles(Context context, String folderName, String fileName, String destinationDirectory, String url) {\n\n    DownloadManager downloadManager = (DownloadManager)\n            context.getSystemService(Context.DOWNLOAD_SERVICE);\n    Uri uri = Uri.parse(url);\n    DownloadManager.Request request = new DownloadManager.Request(uri);\n\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.setDestinationInExternalFilesDir(context, destinationDirectory, folderName+fileName+ &quot;.pdf&quot;);\n    request.setTitle(folderName);\n    request.setDescription(fileName);\n\n\n    downloadManager.enqueue(request);\n\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651141232,"post_id":72040876,"comment_id":127295061,"body_markdown":"Nothing wrong with approach if you want to draw previous lines. Method names begin lower case in Java btw: https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions","body":"Nothing wrong with approach if you want to draw previous lines. Method names begin lower case in Java btw: <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1651142333,"post_id":72040876,"comment_id":127295439,"body_markdown":"You have to redraw all the lines each time you repaint.  That&#39;s how Swing painting works.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"You have to redraw all the lines each time you repaint.  That&#39;s how Swing painting works.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1651158624,"post_id":72040876,"comment_id":127302140,"body_markdown":"*Is there a better way to draw the lines?* - there is nothing wrong with your current approach, however, check out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for the two common ways to do this. You are currently using one of the approaches. Read the information and decide which approach is best for your requirement.","body":"<i>Is there a better way to draw the lines?</i> - there is nothing wrong with your current approach, however, check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for the two common ways to do this. You are currently using one of the approaches. Read the information and decide which approach is best for your requirement."}],"owner":{"account_id":20037117,"reputation":33,"user_id":14688588,"display_name":"Michael Neumair"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651138210,"creation_date":1651136483,"question_id":72040876,"body_markdown":"I&#39;m currently trying to build a Java Application (using Swing) to simply draw some lines on the Main-Window by clicking on the window.\r\n\r\nI currently managed to write a program that works. The following code leads to the expected result, but I don&#39;t like the way it is working.\r\n\r\nIn my code the program is redrawing all the lines. Also the ones that were already existing (and shown up). I assume this is not a good practice because this leads to a lot of unnecessary work in the case the lineArray contains a lot of elements.\r\n\r\nIs there a better way to draw the lines? Can I keep the already displayed lines somehow and add only the new one?\r\n\r\n    public class DrawPlane extends JLabel {\r\n\r\n\tpublic ArrayList&lt;myLine&gt; lineArray;\r\n\t\r\n\tpublic DrawPlane() {\r\n\t\tthis.setOpaque(false);\r\n\t\t\r\n\t\tlineArray = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tthis.addMouseListener(new MouseAdapter() {\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\tlineArray.add(new myLine(e.getX(), e.getY(), 0, 0));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\tmyLine last = lineArray.get( lineArray.size() - 1 );\r\n\t\t\t\tlast.x2 = e.getX();\r\n\t\t\t\tlast.y2 = e.getY();\r\n\t\t\t\tlineArray.set(lineArray.size() - 1, last);\r\n\t\t\t\trepaint();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic void DrawLines(Graphics g) {\r\n\t\tlineArray.forEach(lineItem -&gt; g.drawLine(lineItem.x1, lineItem.y1, lineItem.x2, lineItem.y2));\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tDrawLines(g);\r\n\t\tg.setColor(Color.red);\r\n\t\t}\r\n\t}\r\n\r\nNote: myLine is defined in an additional file and is a basic class with only four properties (int) x1, y1, x2 and y2.\r\n\r\nRegards Michael","title":"Drawing Geometric Shapes in Java using Swing","body":"<p>I'm currently trying to build a Java Application (using Swing) to simply draw some lines on the Main-Window by clicking on the window.</p>\n<p>I currently managed to write a program that works. The following code leads to the expected result, but I don't like the way it is working.</p>\n<p>In my code the program is redrawing all the lines. Also the ones that were already existing (and shown up). I assume this is not a good practice because this leads to a lot of unnecessary work in the case the lineArray contains a lot of elements.</p>\n<p>Is there a better way to draw the lines? Can I keep the already displayed lines somehow and add only the new one?</p>\n<pre><code>public class DrawPlane extends JLabel {\n\npublic ArrayList&lt;myLine&gt; lineArray;\n\npublic DrawPlane() {\n    this.setOpaque(false);\n    \n    lineArray = new ArrayList&lt;&gt;();\n    \n    this.addMouseListener(new MouseAdapter() {\n        public void mousePressed(MouseEvent e) {\n            lineArray.add(new myLine(e.getX(), e.getY(), 0, 0));\n        }\n        \n        public void mouseReleased(MouseEvent e) {\n            myLine last = lineArray.get( lineArray.size() - 1 );\n            last.x2 = e.getX();\n            last.y2 = e.getY();\n            lineArray.set(lineArray.size() - 1, last);\n            repaint();\n        }\n    });\n}\n\npublic void DrawLines(Graphics g) {\n    lineArray.forEach(lineItem -&gt; g.drawLine(lineItem.x1, lineItem.y1, lineItem.x2, lineItem.y2));\n}\n\npublic void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    DrawLines(g);\n    g.setColor(Color.red);\n    }\n}\n</code></pre>\n<p>Note: myLine is defined in an additional file and is a basic class with only four properties (int) x1, y1, x2 and y2.</p>\n<p>Regards Michael</p>\n"},{"tags":["java","junit","mocking","powermock"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1651132461,"post_id":72039900,"comment_id":127291644,"body_markdown":"Is there any particular reason to why the method has to be private? If not simply make it `protected` and overwrite it in your test so you can  return your desired TestDAO(-Mock).","body":"Is there any particular reason to why the method has to be private? If not simply make it <code>protected</code> and overwrite it in your test so you can  return your desired TestDAO(-Mock)."},{"owner":{"account_id":15789411,"reputation":31,"user_id":11393085,"display_name":"jasleen1109"},"score":0,"creation_date":1651133785,"post_id":72039900,"comment_id":127292077,"body_markdown":"If I make the method protected/default, can you tell me how can I get mocked TestDao object @L.Spillner","body":"If I make the method protected/default, can you tell me how can I get mocked TestDao object @L.Spillner"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651138015,"creation_date":1651134146,"answer_id":72040304,"question_id":72039900,"body_markdown":"You could slightly modify the `getDaoObject` from `private` to `package-private` like below:\r\n\r\n```java\r\nTestDao getDaoObject() {\r\n   return new TestDao();\r\n}\r\n```\r\n\r\nThen use `Mockito.spy(new TestService())` to stub the `getDaoObject()` and return your mocked `testDao`.\r\n\r\n```java\r\n public class JUnitServiceTestExample {\r\n   @Test\r\n   public void test() {\r\n     TestDao testDao = Mockito.mock(TestDao.class);\r\n     TestService test = Mockito.spy(new TestService());\r\n     when(testDao.getData()).thenReturn(20);\r\n     doReturn(testDao).when(test).getDaoObject();\r\n\r\n     String result = test.test();\r\n\r\n     assertEquals(&quot;hey you win&quot;, result);\r\n   }\r\n }   \r\n```\r\n\r\nAnd a tip for you: the correct usage of `assertEquals` is `assertEquals(expected, actual)` not `assertEquals(actual, expected)`","title":"Mocking an object returned from private method in java","body":"<p>You could slightly modify the <code>getDaoObject</code> from <code>private</code> to <code>package-private</code> like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestDao getDaoObject() {\n   return new TestDao();\n}\n</code></pre>\n<p>Then use <code>Mockito.spy(new TestService())</code> to stub the <code>getDaoObject()</code> and return your mocked <code>testDao</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code> public class JUnitServiceTestExample {\n   @Test\n   public void test() {\n     TestDao testDao = Mockito.mock(TestDao.class);\n     TestService test = Mockito.spy(new TestService());\n     when(testDao.getData()).thenReturn(20);\n     doReturn(testDao).when(test).getDaoObject();\n\n     String result = test.test();\n\n     assertEquals(&quot;hey you win&quot;, result);\n   }\n }   \n</code></pre>\n<p>And a tip for you: the correct usage of <code>assertEquals</code> is <code>assertEquals(expected, actual)</code> not <code>assertEquals(actual, expected)</code></p>\n"}],"owner":{"account_id":15789411,"reputation":31,"user_id":11393085,"display_name":"jasleen1109"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72040304,"answer_count":1,"score":1,"last_activity_date":1651138015,"creation_date":1651132142,"question_id":72039900,"body_markdown":"I have a requirement where i want to mock an object that is return from private method. I am working with junit and mockito in my project. I can not paste the actual code here but sample code will look like this. Limitation here is that the code is legacy one and I can not refactor as of now \r\n \r\n**Class to test**\r\n\r\n```java\r\n public class TestService {\r\n\r\n   public String test() {\r\n     TestDao testDao = getDaoObject();\r\n     int num = testDao.getData();\r\n     if (num &lt; 10) {\r\n       return &quot;hey you loose&quot;;\r\n     } else {\r\n       return &quot;hey you win&quot;;\r\n     }\r\n   }\r\n\r\n   private TestDao getDaoObject() {\r\n     return new TestDao();\r\n   }\r\n }\r\n```\r\n\r\n**Dao Class**\r\n\r\n```java\r\npublic class TestDao {\r\n\r\n  public int getData() {\r\n    return 5;\r\n  }\r\n}\r\n```\r\n \r\n**Test class**\r\n```java\r\n public class JUnitServiceTestExample {\r\n   @Test\r\n   public void test() {\r\n     TestDao testDao = Mockito.mock(TestDao.class);\r\n     TestService test = new TestService();\r\n     when(testDao.getData()).thenReturn(20);\r\n     assertEquals(test.test(), &quot;hey you win&quot;);\r\n   }\r\n }   \r\n```\r\nPlease help","title":"Mocking an object returned from private method in java","body":"<p>I have a requirement where i want to mock an object that is return from private method. I am working with junit and mockito in my project. I can not paste the actual code here but sample code will look like this. Limitation here is that the code is legacy one and I can not refactor as of now</p>\n<p><strong>Class to test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> public class TestService {\n\n   public String test() {\n     TestDao testDao = getDaoObject();\n     int num = testDao.getData();\n     if (num &lt; 10) {\n       return &quot;hey you loose&quot;;\n     } else {\n       return &quot;hey you win&quot;;\n     }\n   }\n\n   private TestDao getDaoObject() {\n     return new TestDao();\n   }\n }\n</code></pre>\n<p><strong>Dao Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestDao {\n\n  public int getData() {\n    return 5;\n  }\n}\n</code></pre>\n<p><strong>Test class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> public class JUnitServiceTestExample {\n   @Test\n   public void test() {\n     TestDao testDao = Mockito.mock(TestDao.class);\n     TestService test = new TestService();\n     when(testDao.getData()).thenReturn(20);\n     assertEquals(test.test(), &quot;hey you win&quot;);\n   }\n }   \n</code></pre>\n<p>Please help</p>\n"},{"tags":["java","multithreading","daemon","java-threads"],"comments":[{"owner":{"account_id":21458600,"reputation":1,"user_id":15809796,"display_name":"Workaholic"},"score":0,"creation_date":1651126825,"post_id":72038868,"comment_id":127289666,"body_markdown":"it is pretty simple but I do not really get why nullPointerException occurs","body":"it is pretty simple but I do not really get why nullPointerException occurs"},{"owner":{"account_id":18945385,"reputation":506,"user_id":13824407,"display_name":"Dominik Lovetinsky"},"score":0,"creation_date":1651127641,"post_id":72038868,"comment_id":127289931,"body_markdown":"Try to add default constructor with `super()` call","body":"Try to add default constructor with <code>super()</code> call"},{"owner":{"account_id":18945385,"reputation":506,"user_id":13824407,"display_name":"Dominik Lovetinsky"},"score":0,"creation_date":1651128034,"post_id":72038868,"comment_id":127290059,"body_markdown":"I also think, that at the point of calling `Thread.getAllStackTraces()` the thread might have already terminated and is no longer available at this point, or in the for-loop","body":"I also think, that at the point of calling <code>Thread.getAllStackTraces()</code> the thread might have already terminated and is no longer available at this point, or in the for-loop"},{"owner":{"account_id":21458600,"reputation":1,"user_id":15809796,"display_name":"Workaholic"},"score":0,"creation_date":1651641465,"post_id":72038868,"comment_id":127408619,"body_markdown":"Thank you Dominik Loventinsky. This thread is a little bit hard to study. but will not give up. I found out that if AST class does not contain any running codes, it will be created and terminated at the same time. yup, Thank you for your comment","body":"Thank you Dominik Loventinsky. This thread is a little bit hard to study. but will not give up. I found out that if AST class does not contain any running codes, it will be created and terminated at the same time. yup, Thank you for your comment"}],"answers":[{"tags":[],"owner":{"account_id":23140571,"reputation":9,"user_id":17244086,"display_name":"Tabish Mohammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651137565,"creation_date":1651128207,"answer_id":72039143,"question_id":72038868,"body_markdown":"There is a typo instead of `thread.isDaemon` it should be `thread.isDaemon()` as it is a function not a member variable. After fixing the code when `Thread.getAllStackTraces()` is called and if AST thread is still active the map will contain its object, after that the thread becomes dead and in the api doc it is mentioned that \r\n\r\n    public final ThreadGroup getThreadGroup()\r\n    Returns the thread group to which this thread belongs. This \r\n    method returns null if this thread has died (been stopped).\r\n\r\nreference:-\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#getThreadGroup--\r\n\r\nSo when calling the `getThreadGroup().getName()` method in the for loop when thread object is of AST it is giving you a null pointer exception. Below is the code to recreate this scenario in a more concrete way:-\r\n\r\n\r\n    class ThreadInfoEx {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            AST ast = new AST();\r\n            ast.setName(&quot;AST&quot;);\r\n            ast.setDaemon(true);\r\n            ast.start();\r\n    \r\n            Map&lt;Thread, StackTraceElement[]&gt; map = Thread.getAllStackTraces();\r\n            Set&lt;Thread&gt; threads = map.keySet();\r\n            ast.join();\r\n            for(Thread thread : threads) {\r\n                System.out.println(&quot;name : &quot; + thread.getName() + ((thread.isDaemon()?&quot;daemon&quot;:&quot;main&quot;)));\r\n                System.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    class AST extends Thread {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;^&quot;); //to check whether works or not\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"In java, I want to check daemon thread&#39;s thread group but it occurs an error","body":"<p>There is a typo instead of <code>thread.isDaemon</code> it should be <code>thread.isDaemon()</code> as it is a function not a member variable. After fixing the code when <code>Thread.getAllStackTraces()</code> is called and if AST thread is still active the map will contain its object, after that the thread becomes dead and in the api doc it is mentioned that</p>\n<pre><code>public final ThreadGroup getThreadGroup()\nReturns the thread group to which this thread belongs. This \nmethod returns null if this thread has died (been stopped).\n</code></pre>\n<p>reference:-\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#getThreadGroup--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#getThreadGroup--</a></p>\n<p>So when calling the <code>getThreadGroup().getName()</code> method in the for loop when thread object is of AST it is giving you a null pointer exception. Below is the code to recreate this scenario in a more concrete way:-</p>\n<pre><code>class ThreadInfoEx {\n\n    public static void main(String[] args) throws InterruptedException {\n        AST ast = new AST();\n        ast.setName(&quot;AST&quot;);\n        ast.setDaemon(true);\n        ast.start();\n\n        Map&lt;Thread, StackTraceElement[]&gt; map = Thread.getAllStackTraces();\n        Set&lt;Thread&gt; threads = map.keySet();\n        ast.join();\n        for(Thread thread : threads) {\n            System.out.println(&quot;name : &quot; + thread.getName() + ((thread.isDaemon()?&quot;daemon&quot;:&quot;main&quot;)));\n            System.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());\n            System.out.println();\n        }\n    }\n\n}\n\nclass AST extends Thread {\n    @Override\n    public void run() {\n        System.out.println(&quot;^&quot;); //to check whether works or not\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21458600,"reputation":1,"user_id":15809796,"display_name":"Workaholic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651137565,"creation_date":1651126769,"question_id":72038868,"body_markdown":"I want to check the thread group. \r\nSo I made some codes but occurred a nullPointerException Error.\r\n\r\nI made two classes, main and daemon thread class.\r\n\r\nthis is main class.\r\n\r\n----\r\nmain code\r\n----\r\n\r\n    public class ThreadInfoEx {\r\n    public static void main(String[] args){\r\n    AST ast = new AST();\r\n    ast.setName(&quot;AST&quot;);\r\n    ast.setDaemon(true);\r\n    ast.start();\r\n        \r\n    Map&lt;Thread, StackTraceElement[]&gt; map = Thread.getAllStackTraces();\r\n    Set&lt;Thread&gt; threads = map.keySet();\r\n        \r\n    for(Thread thread : threads) {\r\n    System.out.println(&quot;name : &quot; + thread.getName() + ((thread.isDaemon?&quot;daemon&quot;:&quot;main&quot;)));\r\n    System.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());\r\n    System.out.println();\r\n    }\r\n    }\r\n    }\r\n\r\n----\r\n\r\nand this is AST(daemon class). actually just made an empty class to create daemon thread.\r\n\r\n----\r\nAST code\r\n----\r\n   \r\n\r\n    public class AST extends Thread {\r\n    @Override\r\n    public void run() {\r\n    System.out.println(&quot;^&quot;); //to check whether works or not          \r\n    }\r\n    }\r\n\r\n----\r\n\r\nand the error comes with nullpointerException error.\r\nit says the blow main code has an error when it goes through AST (daemon) class. \r\nSystem.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());\r\n\r\nAST class is nothing but it is working because I set it up as daemon.\r\n\r\nIn my knowledge, the error occurs when showing the reference variable which has null. but, the AST class must be in the main thread group because in main class, I coded &quot;ast.setDaemon(true);&quot;.\r\ndoesn&#39;t it mean that now its belong to main class?\r\n\r\nbut why do i get that error?","title":"In java, I want to check daemon thread&#39;s thread group but it occurs an error","body":"<p>I want to check the thread group.\nSo I made some codes but occurred a nullPointerException Error.</p>\n<p>I made two classes, main and daemon thread class.</p>\n<p>this is main class.</p>\n<hr />\n<h2>main code</h2>\n<pre><code>public class ThreadInfoEx {\npublic static void main(String[] args){\nAST ast = new AST();\nast.setName(&quot;AST&quot;);\nast.setDaemon(true);\nast.start();\n    \nMap&lt;Thread, StackTraceElement[]&gt; map = Thread.getAllStackTraces();\nSet&lt;Thread&gt; threads = map.keySet();\n    \nfor(Thread thread : threads) {\nSystem.out.println(&quot;name : &quot; + thread.getName() + ((thread.isDaemon?&quot;daemon&quot;:&quot;main&quot;)));\nSystem.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());\nSystem.out.println();\n}\n}\n}\n</code></pre>\n<hr />\n<p>and this is AST(daemon class). actually just made an empty class to create daemon thread.</p>\n<hr />\n<h2>AST code</h2>\n<pre><code>public class AST extends Thread {\n@Override\npublic void run() {\nSystem.out.println(&quot;^&quot;); //to check whether works or not          \n}\n}\n</code></pre>\n<hr />\n<p>and the error comes with nullpointerException error.\nit says the blow main code has an error when it goes through AST (daemon) class.\nSystem.out.println(&quot;\\t&quot; + &quot;group name : &quot; + thread.getThreadGroup().getName());</p>\n<p>AST class is nothing but it is working because I set it up as daemon.</p>\n<p>In my knowledge, the error occurs when showing the reference variable which has null. but, the AST class must be in the main thread group because in main class, I coded &quot;ast.setDaemon(true);&quot;.\ndoesn't it mean that now its belong to main class?</p>\n<p>but why do i get that error?</p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651137534,"creation_date":1502982441,"answer_id":45738775,"question_id":45737977,"body_markdown":"Because the `forkedProcessTimeoutInSeconds` is a primitive int it will default to 0 itself. Any value &gt; 0 set via the properties will cause the `ForkClient` to set a timeout of that value in seconds. \r\n\r\n\r\n&gt; `&lt;forkedProcessTimeoutInSeconds&gt;`  \r\n&gt; Kill the forked test process after a certain number of seconds. If set to 0, wait forever for the process, never timing out.\r\n\r\nSource: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds","title":"What&#39;s the default value for maven-surefire-plugin&#39;s forkedProcessTimeoutInSeconds?","body":"<p>Because the <code>forkedProcessTimeoutInSeconds</code> is a primitive int it will default to 0 itself. Any value &gt; 0 set via the properties will cause the <code>ForkClient</code> to set a timeout of that value in seconds.</p>\n<blockquote>\n<p><code>&lt;forkedProcessTimeoutInSeconds&gt;</code><br />\nKill the forked test process after a certain number of seconds. If set to 0, wait forever for the process, never timing out.</p>\n</blockquote>\n<p>Source: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds</a></p>\n"}],"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45738775,"answer_count":1,"score":2,"last_activity_date":1651137534,"creation_date":1502980350,"question_id":45737977,"body_markdown":"`forkedProcessTimeoutInSeconds` can be set to `0` in order to prevent forked test VMs from being assumed dead after the specified time. What&#39;s the default value for this property?\r\n\r\n[The documentation doesn&#39;t specify it](http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds), the XML autocompletion in NetBeans says `undefined` which doesn&#39;t make sense because only setting it to a specified value or `0` does. [A superficial look in the code](https://github.com/apache/maven-surefire/blob/master/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java) shows that the value must be set outside the class where it&#39;s defined.\r\n\r\nIt&#39;s not overly important to figure this out, I more want to make sure that I&#39;m getting the forking process right and can suggest improvement.","title":"What&#39;s the default value for maven-surefire-plugin&#39;s forkedProcessTimeoutInSeconds?","body":"<p><code>forkedProcessTimeoutInSeconds</code> can be set to <code>0</code> in order to prevent forked test VMs from being assumed dead after the specified time. What's the default value for this property?</p>\n\n<p><a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds\" rel=\"nofollow noreferrer\">The documentation doesn't specify it</a>, the XML autocompletion in NetBeans says <code>undefined</code> which doesn't make sense because only setting it to a specified value or <code>0</code> does. <a href=\"https://github.com/apache/maven-surefire/blob/master/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java\" rel=\"nofollow noreferrer\">A superficial look in the code</a> shows that the value must be set outside the class where it's defined.</p>\n\n<p>It's not overly important to figure this out, I more want to make sure that I'm getting the forking process right and can suggest improvement.</p>\n"},{"tags":["java","text","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651074374,"creation_date":1651074374,"answer_id":72031740,"question_id":72029173,"body_markdown":"By default text is drawn in rendering mode &quot;fill&quot;. You want &quot;fill &amp; stroke&quot;, so you have to add\r\n```\r\ncontentStream.setRenderingMode(RenderingMode.FILL_STROKE);\r\n```\r\nto your text object.","title":"How can I do Text Outlines with PDFBox?","body":"<p>By default text is drawn in rendering mode &quot;fill&quot;. You want &quot;fill &amp; stroke&quot;, so you have to add</p>\n<pre><code>contentStream.setRenderingMode(RenderingMode.FILL_STROKE);\n</code></pre>\n<p>to your text object.</p>\n"},{"tags":[],"owner":{"account_id":18599952,"reputation":11,"user_id":13555012,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651137052,"creation_date":1651137052,"answer_id":72041003,"question_id":72029173,"body_markdown":"If anyone needs it, here is a working example for text outlines with PDFBox.\r\n\r\n    \r\n    package text_outline;\r\n    \r\n    import java.awt.Color;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType0Font;\r\n    import org.apache.pdfbox.pdmodel.graphics.state.RenderingMode;\r\n    \r\n    public class Text_Outline {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n        // Create PDF Document\r\n        PDDocument MAIN_DOC = new PDDocument();\r\n        \r\n        try {\r\n            // Create page\r\n            PDPage PAGE = new PDPage();\r\n            \r\n            // Create PDPageContentStream for the page\r\n            PDPageContentStream contentStream = new PDPageContentStream(MAIN_DOC, PAGE);\r\n            \r\n            // Set contentStream Rendering Mode to Fill &amp; Stroke\r\n            contentStream.setRenderingMode(RenderingMode.FILL_STROKE);\r\n            \r\n            // Set outline width (Must be before beginText)\r\n            contentStream.setLineWidth(3);\r\n            \r\n            // Set non stroking color to grey\r\n            contentStream.setNonStrokingColor(179, 179, 179);\r\n            \r\n            // Set stroking color to black\r\n            contentStream.setStrokingColor(Color.BLACK);\r\n    \r\n            // Begin text\r\n            contentStream.beginText(); \r\n            \r\n            // Set text position\r\n            contentStream.newLineAtOffset(25, 700);\r\n            \r\n            // Select font\r\n            File fontFile = new File(&quot;C:\\\\WINDOWS\\\\FONTS\\\\ARIALBD.TTF&quot;);\r\n            PDFont TTFFnt= PDType0Font.load(MAIN_DOC, fontFile);\r\n            contentStream.setFont(TTFFnt, 100);\r\n                                   \r\n            // Set text content to HELLO and show\r\n            contentStream.showText(&quot;HELLO&quot;);\r\n                            \r\n            // End text\r\n            contentStream.endText();\r\n            \r\n            // Close PDPageContentStream\r\n            contentStream.close();\r\n            \r\n            // Add page to document\r\n            MAIN_DOC.addPage(PAGE);\r\n            \r\n            //Saving the document\r\n            MAIN_DOC.save(&quot;c:\\\\temp\\\\Text_Outline.pdf&quot;);\r\n                            \r\n            //Closing the document\r\n            MAIN_DOC.close();\r\n                \r\n                \r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Text_Outline.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n\r\n\r\nFor this result :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RDL5A.png","title":"How can I do Text Outlines with PDFBox?","body":"<p>If anyone needs it, here is a working example for text outlines with PDFBox.</p>\n<pre><code>package text_outline;\n\nimport java.awt.Color;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType0Font;\nimport org.apache.pdfbox.pdmodel.graphics.state.RenderingMode;\n\npublic class Text_Outline {\n\n    public static void main(String[] args) {\n\n    // Create PDF Document\n    PDDocument MAIN_DOC = new PDDocument();\n    \n    try {\n        // Create page\n        PDPage PAGE = new PDPage();\n        \n        // Create PDPageContentStream for the page\n        PDPageContentStream contentStream = new PDPageContentStream(MAIN_DOC, PAGE);\n        \n        // Set contentStream Rendering Mode to Fill &amp; Stroke\n        contentStream.setRenderingMode(RenderingMode.FILL_STROKE);\n        \n        // Set outline width (Must be before beginText)\n        contentStream.setLineWidth(3);\n        \n        // Set non stroking color to grey\n        contentStream.setNonStrokingColor(179, 179, 179);\n        \n        // Set stroking color to black\n        contentStream.setStrokingColor(Color.BLACK);\n\n        // Begin text\n        contentStream.beginText(); \n        \n        // Set text position\n        contentStream.newLineAtOffset(25, 700);\n        \n        // Select font\n        File fontFile = new File(&quot;C:\\\\WINDOWS\\\\FONTS\\\\ARIALBD.TTF&quot;);\n        PDFont TTFFnt= PDType0Font.load(MAIN_DOC, fontFile);\n        contentStream.setFont(TTFFnt, 100);\n                               \n        // Set text content to HELLO and show\n        contentStream.showText(&quot;HELLO&quot;);\n                        \n        // End text\n        contentStream.endText();\n        \n        // Close PDPageContentStream\n        contentStream.close();\n        \n        // Add page to document\n        MAIN_DOC.addPage(PAGE);\n        \n        //Saving the document\n        MAIN_DOC.save(&quot;c:\\\\temp\\\\Text_Outline.pdf&quot;);\n                        \n        //Closing the document\n        MAIN_DOC.close();\n            \n            \n        } catch (IOException ex) {\n            Logger.getLogger(Text_Outline.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    \n    }\n    \n}\n</code></pre>\n<p>For this result :</p>\n<p><a href=\"https://i.stack.imgur.com/RDL5A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDL5A.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18599952,"reputation":11,"user_id":13555012,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651137476,"creation_date":1651064144,"question_id":72029173,"body_markdown":"My goal is to be able to manage text outlines with PDFBox.\r\n\r\nI have been trying to draw a grey text with a black outline. \r\n\r\nLike so :\r\n\r\n![Like so][1]\r\n\r\nI&#39;ve been looking for a few days and I can&#39;t seem to find a solution.\r\n\r\nI&#39;ve tried playing with the fill and stroke functions without any success.\r\n\r\nDoes anyone know how to get the result I&#39;m looking for with PDFBox ?\r\n\r\nHere a simple code to illustrate what I&#39;m trying to do.\r\n\r\nIn this case I set the non stroking color (fill) to grey and the stroking color (outline) to black.\r\n\r\nHowever, when I try to specify a line width for the outline of the text or the stroke command, I get error messages saying it&#39;s not allowed with texts.\r\n\r\nI would really appreciate any help.\r\n\r\n```\r\npackage text_outline;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\r\nimport org.apache.pdfbox.pdmodel.font.PDFont;\r\nimport org.apache.pdfbox.pdmodel.font.PDType0Font;\r\n\r\n/**\r\n *\r\n * @author User\r\n */\r\npublic class Text_Outline {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    // Create PDF Document\r\n    PDDocument MAIN_DOC = new PDDocument();\r\n    \r\n    try {\r\n        // Create page\r\n        PDPage PAGE = new PDPage();\r\n        \r\n        // Create PDPageContentStream for the page\r\n        PDPageContentStream contentStream = new PDPageContentStream(MAIN_DOC, PAGE);\r\n        \r\n        // Begin text\r\n        contentStream.beginText(); \r\n        contentStream.newLineAtOffset(25, 700);\r\n        \r\n        // Select font\r\n        File fontFile = new File(&quot;C:\\\\WINDOWS\\\\FONTS\\\\ARIALBD.TTF&quot;);\r\n        PDFont TTFFnt= PDType0Font.load(MAIN_DOC, fontFile);\r\n        contentStream.setFont(TTFFnt, 100);\r\n        \r\n        // Set non stroking color to grey\r\n        contentStream.setNonStrokingColor(179, 179, 179);\r\n        \r\n        // Set stroking color to black\r\n        contentStream.setStrokingColor(Color.BLACK);\r\n                \r\n        // Set text content to HELLO and show\r\n        contentStream.showText(&quot;HELLO&quot;);\r\n        \r\n        /* setLineWidth not allowed with texts. I get this error :\r\n        Exception in thread &quot;main&quot; java.lang.IllegalStateException: Error: setLineWidth is not allowed within a text block.   */\r\n        contentStream.setLineWidth(10);\r\n        \r\n        /* Stroke not allowed with texts. I get this error :\r\n        Exception in thread &quot;main&quot; java.lang.IllegalStateException: Error: stroke is not allowed within a text block.        */\r\n        contentStream.stroke();\r\n                \r\n        // End text\r\n        contentStream.endText();\r\n        // Close PDPageContentStream\r\n        contentStream.close();\r\n        // Add page to document\r\n        MAIN_DOC.addPage(PAGE);\r\n        \r\n        //Saving the document\r\n        MAIN_DOC.save(&quot;c:\\\\temp\\\\Text_Outline.pdf&quot;);\r\n                        \r\n        //Closing the document\r\n        MAIN_DOC.close();\r\n            \r\n            \r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Text_Outline.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v96tW.png","title":"How can I do Text Outlines with PDFBox?","body":"<p>My goal is to be able to manage text outlines with PDFBox.</p>\n<p>I have been trying to draw a grey text with a black outline.</p>\n<p>Like so :</p>\n<p><img src=\"https://i.stack.imgur.com/v96tW.png\" alt=\"Like so\" /></p>\n<p>I've been looking for a few days and I can't seem to find a solution.</p>\n<p>I've tried playing with the fill and stroke functions without any success.</p>\n<p>Does anyone know how to get the result I'm looking for with PDFBox ?</p>\n<p>Here a simple code to illustrate what I'm trying to do.</p>\n<p>In this case I set the non stroking color (fill) to grey and the stroking color (outline) to black.</p>\n<p>However, when I try to specify a line width for the outline of the text or the stroke command, I get error messages saying it's not allowed with texts.</p>\n<p>I would really appreciate any help.</p>\n<pre><code>package text_outline;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType0Font;\n\n/**\n *\n * @author User\n */\npublic class Text_Outline {\n\n    public static void main(String[] args) {\n\n    // Create PDF Document\n    PDDocument MAIN_DOC = new PDDocument();\n    \n    try {\n        // Create page\n        PDPage PAGE = new PDPage();\n        \n        // Create PDPageContentStream for the page\n        PDPageContentStream contentStream = new PDPageContentStream(MAIN_DOC, PAGE);\n        \n        // Begin text\n        contentStream.beginText(); \n        contentStream.newLineAtOffset(25, 700);\n        \n        // Select font\n        File fontFile = new File(&quot;C:\\\\WINDOWS\\\\FONTS\\\\ARIALBD.TTF&quot;);\n        PDFont TTFFnt= PDType0Font.load(MAIN_DOC, fontFile);\n        contentStream.setFont(TTFFnt, 100);\n        \n        // Set non stroking color to grey\n        contentStream.setNonStrokingColor(179, 179, 179);\n        \n        // Set stroking color to black\n        contentStream.setStrokingColor(Color.BLACK);\n                \n        // Set text content to HELLO and show\n        contentStream.showText(&quot;HELLO&quot;);\n        \n        /* setLineWidth not allowed with texts. I get this error :\n        Exception in thread &quot;main&quot; java.lang.IllegalStateException: Error: setLineWidth is not allowed within a text block.   */\n        contentStream.setLineWidth(10);\n        \n        /* Stroke not allowed with texts. I get this error :\n        Exception in thread &quot;main&quot; java.lang.IllegalStateException: Error: stroke is not allowed within a text block.        */\n        contentStream.stroke();\n                \n        // End text\n        contentStream.endText();\n        // Close PDPageContentStream\n        contentStream.close();\n        // Add page to document\n        MAIN_DOC.addPage(PAGE);\n        \n        //Saving the document\n        MAIN_DOC.save(&quot;c:\\\\temp\\\\Text_Outline.pdf&quot;);\n                        \n        //Closing the document\n        MAIN_DOC.close();\n            \n            \n        } catch (IOException ex) {\n            Logger.getLogger(Text_Outline.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","http","spring-security","amazon-elb"],"answers":[{"tags":[],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651137415,"creation_date":1651137415,"answer_id":72041102,"question_id":72040950,"body_markdown":"You should configure the ALB to terminate SSL (i.e. register certificate etc). If this is configured correctly, the ALB will automatically add a header (X-Forwarded-Proto) that tells Spring Security that it needs to use HTTPS for its redirects.","title":"Spring Boot Security using http instead of https when forwarding to login page","body":"<p>You should configure the ALB to terminate SSL (i.e. register certificate etc). If this is configured correctly, the ALB will automatically add a header (X-Forwarded-Proto) that tells Spring Security that it needs to use HTTPS for its redirects.</p>\n"}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72041102,"answer_count":1,"score":1,"last_activity_date":1651137415,"creation_date":1651136804,"question_id":72040950,"body_markdown":"I am using Spring Boot Security with a custom AuthenticationProvider to secure a Java Spring Boot application. Attempts to access the application via a browser are directed to a custom login page. The body of my security config class is pasted below:-\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        return new DocumentumAuthenticationProvider();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/content/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/content/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/content/logout&quot;)\r\n                .permitAll();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/retrieve/**&quot;, &quot;/upload/**&quot;, &quot;/content/css/**&quot;, &quot;/content/scripts/**&quot;, &quot;/content/images/**&quot;, &quot;/content/images/**&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder encodePWD() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nThis all works fine when I run my services locally within my IDE. For the next step, I containerised my application and deployed it to an AWS EC2 server. I have configured a custom HTTPS port for the app and have added a corresponding listener to the Application Load Balancer.\r\n\r\nThe issue is that when a user attempts to access the app in a browser over https, Spring Security is forwarding the user to a login page using http instead of https as the protocol e.g. user enters the following address in the browser: -\r\n```\r\nhttps://my-app:22223/content/documents\r\n```\r\n\r\n..and is forwarded here..\r\n\r\n```\r\nhttp://my-app:22223/content/login\r\n```\r\n\r\nBecause this is an https port, the user sees this error page:-\r\n\r\n[![http instead of https error message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S7WRX.png\r\n\r\nIf the user manually changes the protocol to https in the browser address bar, it then works fine.\r\n\r\nI would be very grateful if anyone would be able to advise me why Spring Boot Security is behaving this way and what steps I can take to force it to use https in the login URL. Many thanks for reading my post!","title":"Spring Boot Security using http instead of https when forwarding to login page","body":"<p>I am using Spring Boot Security with a custom AuthenticationProvider to secure a Java Spring Boot application. Attempts to access the application via a browser are directed to a custom login page. The body of my security config class is pasted below:-</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        return new DocumentumAuthenticationProvider();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/content/login&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/content/logout&quot;)\n                .logoutSuccessUrl(&quot;/content/logout&quot;)\n                .permitAll();\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/retrieve/**&quot;, &quot;/upload/**&quot;, &quot;/content/css/**&quot;, &quot;/content/scripts/**&quot;, &quot;/content/images/**&quot;, &quot;/content/images/**&quot;);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder encodePWD() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>This all works fine when I run my services locally within my IDE. For the next step, I containerised my application and deployed it to an AWS EC2 server. I have configured a custom HTTPS port for the app and have added a corresponding listener to the Application Load Balancer.</p>\n<p>The issue is that when a user attempts to access the app in a browser over https, Spring Security is forwarding the user to a login page using http instead of https as the protocol e.g. user enters the following address in the browser: -</p>\n<pre><code>https://my-app:22223/content/documents\n</code></pre>\n<p>..and is forwarded here..</p>\n<pre><code>http://my-app:22223/content/login\n</code></pre>\n<p>Because this is an https port, the user sees this error page:-</p>\n<p><a href=\"https://i.stack.imgur.com/S7WRX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7WRX.png\" alt=\"http instead of https error message\" /></a></p>\n<p>If the user manually changes the protocol to https in the browser address bar, it then works fine.</p>\n<p>I would be very grateful if anyone would be able to advise me why Spring Boot Security is behaving this way and what steps I can take to force it to use https in the login URL. Many thanks for reading my post!</p>\n"},{"tags":["java","java-stream","groupingby"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1651127731,"post_id":72038822,"comment_id":127289962,"body_markdown":"how would aggregate result be `List&lt;Employee&gt;`?","body":"how would aggregate result be <code>List&lt;Employee&gt;</code>?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1651128706,"post_id":72038822,"comment_id":127290285,"body_markdown":"@HariHaravelan A `List&lt;Emplyee&gt;` with empty names","body":"@HariHaravelan A <code>List&lt;Emplyee&gt;</code> with empty names"},{"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"score":0,"creation_date":1651129262,"post_id":72038822,"comment_id":127290484,"body_markdown":"I am confused. Which one should be the result, average data or aggregated employee data? If you want to get the average data. Should be return Double and ignore the employee detail data. If you want to get aggregated employee data, you will have List&lt;Employee&gt; only without average data.","body":"I am confused. Which one should be the result, average data or aggregated employee data? If you want to get the average data. Should be return Double and ignore the employee detail data. If you want to get aggregated employee data, you will have List&lt;Employee&gt; only without average data."}],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651135120,"creation_date":1651134320,"answer_id":72040345,"question_id":72038822,"body_markdown":"You can do this by creating a class for the grouping key and writing a collector:\r\n\r\nI&#39;m simply ading the values per key and count the occurances in a map. In the finisher I devide the sums through the count.\r\n\r\nYou could get rid of the countMap by sublassing Employee, adding the count and using this class for the supplier/subtotal and using some casting...\r\n\r\n\r\nYou could also make to groupBys one for the sum and another for the count and computing the avarages with the two created maps...\r\n\r\n    public class Employee {\r\n    \r\n        private String name;\r\n    \r\n        private String department;\r\n    \r\n        private String gender;\r\n    \r\n        private String designation;\r\n    \r\n        private Integer salary;\r\n    \r\n        private Integer bonus;\r\n    \r\n        private Integer perks;\r\n    \r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDepartment()\r\n        {\r\n            return department;\r\n        }\r\n    \r\n        public void setDepartment(String department)\r\n        {\r\n            this.department = department;\r\n        }\r\n    \r\n        public String getGender()\r\n        {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender)\r\n        {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public String getDesignation()\r\n        {\r\n            return designation;\r\n        }\r\n    \r\n        public void setDesignation(String designation)\r\n        {\r\n            this.designation = designation;\r\n        }\r\n    \r\n        public Integer getSalary()\r\n        {\r\n            return salary;\r\n        }\r\n    \r\n        public void setSalary(Integer salary)\r\n        {\r\n            this.salary = salary;\r\n        }\r\n    \r\n        public Integer getBonus()\r\n        {\r\n            return bonus;\r\n        }\r\n    \r\n        public void setBonus(Integer bonus)\r\n        {\r\n            this.bonus = bonus;\r\n        }\r\n    \r\n        public Integer getPerks()\r\n        {\r\n            return perks;\r\n        }\r\n    \r\n        public void setPerks(Integer perks)\r\n        {\r\n            this.perks = perks;\r\n        }\r\n    \r\n        public Employee(String name, String department, String gender, String designation, Integer salary, Integer bonus,\r\n                Integer perks)\r\n        {\r\n            super();\r\n            this.name = name;\r\n            this.department = department;\r\n            this.gender = gender;\r\n            this.designation = designation;\r\n            this.salary = salary;\r\n            this.bonus = bonus;\r\n            this.perks = perks;\r\n        }\r\n    \r\n    \r\n    \r\n        public Employee()\r\n        {\r\n            super();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Employee&gt; values = new ArrayList&lt;&gt;();\r\n            values.add(new Employee(&quot;bill&quot;, &quot;dep1&quot;, &quot;male&quot;, &quot;des1&quot;, 100000, 5000, 20));\r\n            values.add(new Employee(&quot;john&quot;, &quot;dep1&quot;, &quot;male&quot;, &quot;des1&quot;, 80000, 4000, 10));\r\n            values.add(new Employee(&quot;lisa&quot;, &quot;dep1&quot;, &quot;female&quot;, &quot;des1&quot;, 80000, 4000, 10));\r\n            values.add(new Employee(&quot;rosie&quot;, &quot;dep1&quot;, &quot;female&quot;, &quot;des2&quot;, 70000, 3000, 15));\r\n            values.add(new Employee(&quot;will&quot;, &quot;dep2&quot;, &quot;male&quot;, &quot;des1&quot;, 60000, 3500, 18));\r\n            values.add(new Employee(&quot;murray&quot;, &quot;dep2&quot;, &quot;male&quot;, &quot;des1&quot;, 70000, 3000, 13));\r\n    \r\n            Map&lt;EmployeeGroup, Employee&gt; resultMap = values.stream().collect(Collectors.groupingBy(e-&gt; new EmployeeGroup(e) , new EmployeeCollector()));\r\n    \r\n            System.out.println(new ArrayList(resultMap.values()));\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;Employee [name=&quot; + name + &quot;, department=&quot; + department + &quot;, gender=&quot; + gender + &quot;, designation=&quot; + designation + &quot;, salary=&quot; + salary + &quot;, bonus=&quot; + bonus + &quot;, perks=&quot; + perks + &quot;]&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n**Class for the aggregating key**\r\n\r\n    public class EmployeeGroup\r\n    {\r\n    \r\n        private String department;\r\n    \r\n        private String gender;\r\n    \r\n        private String designation;\r\n    \r\n        public String getDepartment()\r\n        {\r\n            return department;\r\n        }\r\n    \r\n        public void setDepartment(String department)\r\n        {\r\n            this.department = department;\r\n        }\r\n    \r\n        public String getGender()\r\n        {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender)\r\n        {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public String getDesignation()\r\n        {\r\n            return designation;\r\n        }\r\n    \r\n        public void setDesignation(String designation)\r\n        {\r\n            this.designation = designation;\r\n        }\r\n    \r\n        public EmployeeGroup(Employee employee) {\r\n            this.department = employee.getDepartment();\r\n            this.gender = employee.getGender();\r\n            this.designation = employee.getDesignation();\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode()\r\n        {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((department == null) ? 0 : department.hashCode());\r\n            result = prime * result + ((designation == null) ? 0 : designation.hashCode());\r\n            result = prime * result + ((gender == null) ? 0 : gender.hashCode());\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj)\r\n        {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null)\r\n                return false;\r\n            if (getClass() != obj.getClass())\r\n                return false;\r\n            EmployeeGroup other = (EmployeeGroup) obj;\r\n            if (department == null)\r\n            {\r\n                if (other.department != null)\r\n                    return false;\r\n            } else if (!department.equals(other.department))\r\n                return false;\r\n            if (designation == null)\r\n            {\r\n                if (other.designation != null)\r\n                    return false;\r\n            } else if (!designation.equals(other.designation))\r\n                return false;\r\n            if (gender == null)\r\n            {\r\n                if (other.gender != null)\r\n                    return false;\r\n            } else if (!gender.equals(other.gender))\r\n                return false;\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Collector**\r\n\r\n    public class EmployeeCollector implements Collector&lt;Employee, Employee, Employee&gt; {\r\n    \r\n        private Map&lt;EmployeeGroup,Integer&gt; countMap = new HashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public Supplier&lt;Employee&gt; supplier() {\r\n            return () -&gt; new Employee();\r\n        }\r\n    \r\n        @Override\r\n        public BiConsumer&lt;Employee, Employee&gt; accumulator() {\r\n            return this::accumulator;\r\n        }\r\n    \r\n        @Override\r\n        public BinaryOperator&lt;Employee&gt; combiner() {\r\n            return this::accumulator;\r\n        }\r\n    \r\n        @Override\r\n        public Function&lt;Employee, Employee&gt; finisher() {\r\n            return e -&gt; {\r\n                Integer count = countMap.get(new EmployeeGroup(e));\r\n                e.setBonus(e.getBonus()/count);\r\n                e.setPerks(e.getPerks()/count);\r\n                e.setSalary(e.getSalary()/count);\r\n                return e;\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return Stream.of(Characteristics.UNORDERED)\r\n                    .collect(Collectors.toCollection(HashSet::new));\r\n        }\r\n    \r\n        public Employee accumulator(Employee subtotal, Employee element) {\r\n            if (subtotal.getDepartment() == null) {\r\n                subtotal.setDepartment(element.getDepartment());\r\n                subtotal.setGender(element.getGender());\r\n                subtotal.setDesignation(element.getDesignation());\r\n                subtotal.setPerks(element.getPerks());\r\n                subtotal.setSalary(element.getSalary());\r\n                subtotal.setBonus(element.getBonus());\r\n                countMap.put(new EmployeeGroup(subtotal), 1);\r\n            } else {\r\n                subtotal.setPerks(subtotal.getPerks() + element.getPerks());\r\n                subtotal.setSalary(subtotal.getSalary() + element.getSalary());\r\n                subtotal.setBonus(subtotal.getBonus() + element.getBonus());\r\n                EmployeeGroup group = new EmployeeGroup(subtotal);\r\n                countMap.put(group, countMap.get(group)+1);\r\n            }\r\n            return subtotal;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Aggregate multiple fields grouping by multiple fields in Java 8","body":"<p>You can do this by creating a class for the grouping key and writing a collector:</p>\n<p>I'm simply ading the values per key and count the occurances in a map. In the finisher I devide the sums through the count.</p>\n<p>You could get rid of the countMap by sublassing Employee, adding the count and using this class for the supplier/subtotal and using some casting...</p>\n<p>You could also make to groupBys one for the sum and another for the count and computing the avarages with the two created maps...</p>\n<pre><code>public class Employee {\n\n    private String name;\n\n    private String department;\n\n    private String gender;\n\n    private String designation;\n\n    private Integer salary;\n\n    private Integer bonus;\n\n    private Integer perks;\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    public String getDepartment()\n    {\n        return department;\n    }\n\n    public void setDepartment(String department)\n    {\n        this.department = department;\n    }\n\n    public String getGender()\n    {\n        return gender;\n    }\n\n    public void setGender(String gender)\n    {\n        this.gender = gender;\n    }\n\n    public String getDesignation()\n    {\n        return designation;\n    }\n\n    public void setDesignation(String designation)\n    {\n        this.designation = designation;\n    }\n\n    public Integer getSalary()\n    {\n        return salary;\n    }\n\n    public void setSalary(Integer salary)\n    {\n        this.salary = salary;\n    }\n\n    public Integer getBonus()\n    {\n        return bonus;\n    }\n\n    public void setBonus(Integer bonus)\n    {\n        this.bonus = bonus;\n    }\n\n    public Integer getPerks()\n    {\n        return perks;\n    }\n\n    public void setPerks(Integer perks)\n    {\n        this.perks = perks;\n    }\n\n    public Employee(String name, String department, String gender, String designation, Integer salary, Integer bonus,\n            Integer perks)\n    {\n        super();\n        this.name = name;\n        this.department = department;\n        this.gender = gender;\n        this.designation = designation;\n        this.salary = salary;\n        this.bonus = bonus;\n        this.perks = perks;\n    }\n\n\n\n    public Employee()\n    {\n        super();\n    }\n\n    public static void main(String[] args) {\n        List&lt;Employee&gt; values = new ArrayList&lt;&gt;();\n        values.add(new Employee(&quot;bill&quot;, &quot;dep1&quot;, &quot;male&quot;, &quot;des1&quot;, 100000, 5000, 20));\n        values.add(new Employee(&quot;john&quot;, &quot;dep1&quot;, &quot;male&quot;, &quot;des1&quot;, 80000, 4000, 10));\n        values.add(new Employee(&quot;lisa&quot;, &quot;dep1&quot;, &quot;female&quot;, &quot;des1&quot;, 80000, 4000, 10));\n        values.add(new Employee(&quot;rosie&quot;, &quot;dep1&quot;, &quot;female&quot;, &quot;des2&quot;, 70000, 3000, 15));\n        values.add(new Employee(&quot;will&quot;, &quot;dep2&quot;, &quot;male&quot;, &quot;des1&quot;, 60000, 3500, 18));\n        values.add(new Employee(&quot;murray&quot;, &quot;dep2&quot;, &quot;male&quot;, &quot;des1&quot;, 70000, 3000, 13));\n\n        Map&lt;EmployeeGroup, Employee&gt; resultMap = values.stream().collect(Collectors.groupingBy(e-&gt; new EmployeeGroup(e) , new EmployeeCollector()));\n\n        System.out.println(new ArrayList(resultMap.values()));\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;Employee [name=&quot; + name + &quot;, department=&quot; + department + &quot;, gender=&quot; + gender + &quot;, designation=&quot; + designation + &quot;, salary=&quot; + salary + &quot;, bonus=&quot; + bonus + &quot;, perks=&quot; + perks + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>Class for the aggregating key</strong></p>\n<pre><code>public class EmployeeGroup\n{\n\n    private String department;\n\n    private String gender;\n\n    private String designation;\n\n    public String getDepartment()\n    {\n        return department;\n    }\n\n    public void setDepartment(String department)\n    {\n        this.department = department;\n    }\n\n    public String getGender()\n    {\n        return gender;\n    }\n\n    public void setGender(String gender)\n    {\n        this.gender = gender;\n    }\n\n    public String getDesignation()\n    {\n        return designation;\n    }\n\n    public void setDesignation(String designation)\n    {\n        this.designation = designation;\n    }\n\n    public EmployeeGroup(Employee employee) {\n        this.department = employee.getDepartment();\n        this.gender = employee.getGender();\n        this.designation = employee.getDesignation();\n    }\n\n    @Override\n    public int hashCode()\n    {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((department == null) ? 0 : department.hashCode());\n        result = prime * result + ((designation == null) ? 0 : designation.hashCode());\n        result = prime * result + ((gender == null) ? 0 : gender.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj)\n    {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        EmployeeGroup other = (EmployeeGroup) obj;\n        if (department == null)\n        {\n            if (other.department != null)\n                return false;\n        } else if (!department.equals(other.department))\n            return false;\n        if (designation == null)\n        {\n            if (other.designation != null)\n                return false;\n        } else if (!designation.equals(other.designation))\n            return false;\n        if (gender == null)\n        {\n            if (other.gender != null)\n                return false;\n        } else if (!gender.equals(other.gender))\n            return false;\n        return true;\n    }\n\n}\n</code></pre>\n<p><strong>Collector</strong></p>\n<pre><code>public class EmployeeCollector implements Collector&lt;Employee, Employee, Employee&gt; {\n\n    private Map&lt;EmployeeGroup,Integer&gt; countMap = new HashMap&lt;&gt;();\n\n    @Override\n    public Supplier&lt;Employee&gt; supplier() {\n        return () -&gt; new Employee();\n    }\n\n    @Override\n    public BiConsumer&lt;Employee, Employee&gt; accumulator() {\n        return this::accumulator;\n    }\n\n    @Override\n    public BinaryOperator&lt;Employee&gt; combiner() {\n        return this::accumulator;\n    }\n\n    @Override\n    public Function&lt;Employee, Employee&gt; finisher() {\n        return e -&gt; {\n            Integer count = countMap.get(new EmployeeGroup(e));\n            e.setBonus(e.getBonus()/count);\n            e.setPerks(e.getPerks()/count);\n            e.setSalary(e.getSalary()/count);\n            return e;\n        };\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Stream.of(Characteristics.UNORDERED)\n                .collect(Collectors.toCollection(HashSet::new));\n    }\n\n    public Employee accumulator(Employee subtotal, Employee element) {\n        if (subtotal.getDepartment() == null) {\n            subtotal.setDepartment(element.getDepartment());\n            subtotal.setGender(element.getGender());\n            subtotal.setDesignation(element.getDesignation());\n            subtotal.setPerks(element.getPerks());\n            subtotal.setSalary(element.getSalary());\n            subtotal.setBonus(element.getBonus());\n            countMap.put(new EmployeeGroup(subtotal), 1);\n        } else {\n            subtotal.setPerks(subtotal.getPerks() + element.getPerks());\n            subtotal.setSalary(subtotal.getSalary() + element.getSalary());\n            subtotal.setBonus(subtotal.getBonus() + element.getBonus());\n            EmployeeGroup group = new EmployeeGroup(subtotal);\n            countMap.put(group, countMap.get(group)+1);\n        }\n        return subtotal;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651137397,"creation_date":1651137397,"answer_id":72041094,"question_id":72038822,"body_markdown":"&lt;h4&gt;To group by multiple values you could:&lt;/h4&gt;\r\n\r\n- Create a class representing the grouped values, map each employee to a grouped instance and then group by it. \r\n\r\n- Use nested downstreams within the `groupingby` operation. However, as a result you would get nested maps to deal with. \r\n\r\n- Use a `List` initialized with the values you want to group by (easy and quick workaround).\r\n\r\nHere&#39;s also a link with more in depth solutions on how to group by multiple values:\r\n\r\nhttps://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8\r\n\r\n&lt;h4&gt;Solution with List of Default Employees (what you requested)&lt;/h4&gt;\r\n\r\n```\r\n//Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\r\nMap&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\r\n        .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\r\n\r\n//Returning an ArrayList with the average values\r\nList&lt;Employee&gt; listEmployeesResult = mapGroupedBy.values().stream()\r\n        .collect(ArrayList::new,\r\n                (listCollect, listGrouped) -&gt; listCollect.add(new Employee(null, null, null, null,\r\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\r\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\r\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))),\r\n                (list1, list2) -&gt; list1.addAll(list2));\r\n```\r\n\r\nThe problem I see with what you requested is that you won&#39;t be able to tell from which group of values each averaged employee comes from.\r\n\r\n&lt;h4&gt;Solution with Map of Default Employees (my recommendation)&lt;/h4&gt;\r\n\r\n```\r\n//Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\r\nMap&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\r\n        .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\r\n\r\n//Map of known keys for each n-upla (list) of values\r\nMap&lt;List, Employee&gt; mapResult = new HashMap&lt;&gt;();\r\n\r\n//For each entry of the grouped map we generate a new entry for the result map by &quot;mapping&quot; each grouped list into a default Employee with no information and average values\r\nmapGroupedBy.entrySet().stream()\r\n        .forEach(entry -&gt; mapResult.put(entry.getKey(), new Employee(null, null, null, null,\r\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\r\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\r\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))));\r\n```\r\n\r\nIn this scenario, you&#39;re more likely to discern your output and work with it.\r\n\r\n&lt;h4&gt;Test Main&lt;/h4&gt;\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\r\n                new Employee(&quot;Mark Hoppus&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2200, 200, 1),\r\n                new Employee(&quot;Tom DeLonge&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2800, 0, 1),\r\n                new Employee(&quot;Travis Barker&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 3850, 800, 6),\r\n                new Employee(&quot;Aretha Franklin&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 2900, 300, 3),\r\n                new Employee(&quot;Diana Ross&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900, 0, 1),\r\n                new Employee(&quot;Keith Flint&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 4000, 600, 0),\r\n                new Employee(&quot;Liam Howlett&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200, 250, 2),\r\n                new Employee(&quot;Whitney Houston&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 6000, 1000, 8),\r\n                new Employee(&quot;Tina Turner&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500, 450, 9)\r\n        ));\r\n\r\n        //Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\r\n        Map&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\r\n                .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\r\n\r\n        //Returning an ArrayList with the average values\r\n        List&lt;Employee&gt; listEmployeesResult = mapGroupedBy.values().stream()\r\n                .collect(ArrayList::new,\r\n                        (listCollect, listGrouped) -&gt; listCollect.add(new Employee(null, null, null, null,\r\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\r\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\r\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))),\r\n                        (list1, list2) -&gt; list1.addAll(list2));\r\n\r\n        //Printing the ArrayList with no indication of where those average values come from\r\n        System.out.println(&quot;Printing list results&quot;);\r\n        for (Employee e : listEmployeesResult) {\r\n            System.out.printf(&quot;Salary: %d - Bonus: %d - Perks: %d%n&quot;, e.getSalary(), e.getBonus(), e.getPerks());\r\n        }\r\n\r\n        //Map of known keys for each n-upla (list) of values\r\n        Map&lt;List, Employee&gt; mapResult = new HashMap&lt;&gt;();\r\n\r\n        //For each entry of the grouped map we generate a new entry for the result map by &quot;mapping&quot; each grouped list into a default Employee with no information and average values\r\n        mapGroupedBy.entrySet().stream()\r\n                .forEach(entry -&gt; mapResult.put(entry.getKey(), new Employee(null, null, null, null,\r\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\r\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\r\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))));\r\n\r\n        System.out.println(&quot;\\nPrinting map results&quot;);\r\n        for (List keyList : mapResult.keySet()) {\r\n            System.out.printf(&quot;%s =&gt; Salary: %d - Bonus: %d - Perks: %d%n&quot;, keyList, mapResult.get(keyList).getSalary(), mapResult.get(keyList).getBonus(), mapResult.get(keyList).getPerks());\r\n        }\r\n    }\r\n}\r\n```\r\nHere, I&#39;ve implemented both solutions and showed their differences.\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\nFor some reasons, the output is not displayed and I had to paste the link.\r\n\r\nhttps://i.stack.imgur.com/fHDun.png\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHDun.png","title":"Aggregate multiple fields grouping by multiple fields in Java 8","body":"<h4>To group by multiple values you could:</h4>\n<ul>\n<li><p>Create a class representing the grouped values, map each employee to a grouped instance and then group by it.</p>\n</li>\n<li><p>Use nested downstreams within the <code>groupingby</code> operation. However, as a result you would get nested maps to deal with.</p>\n</li>\n<li><p>Use a <code>List</code> initialized with the values you want to group by (easy and quick workaround).</p>\n</li>\n</ul>\n<p>Here's also a link with more in depth solutions on how to group by multiple values:</p>\n<p><a href=\"https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8\">Group by multiple field names in java 8</a></p>\n<h4>Solution with List of Default Employees (what you requested)</h4>\n<pre><code>//Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\nMap&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\n        .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\n\n//Returning an ArrayList with the average values\nList&lt;Employee&gt; listEmployeesResult = mapGroupedBy.values().stream()\n        .collect(ArrayList::new,\n                (listCollect, listGrouped) -&gt; listCollect.add(new Employee(null, null, null, null,\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\n                        (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))),\n                (list1, list2) -&gt; list1.addAll(list2));\n</code></pre>\n<p>The problem I see with what you requested is that you won't be able to tell from which group of values each averaged employee comes from.</p>\n<h4>Solution with Map of Default Employees (my recommendation)</h4>\n<pre><code>//Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\nMap&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\n        .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\n\n//Map of known keys for each n-upla (list) of values\nMap&lt;List, Employee&gt; mapResult = new HashMap&lt;&gt;();\n\n//For each entry of the grouped map we generate a new entry for the result map by &quot;mapping&quot; each grouped list into a default Employee with no information and average values\nmapGroupedBy.entrySet().stream()\n        .forEach(entry -&gt; mapResult.put(entry.getKey(), new Employee(null, null, null, null,\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\n                (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))));\n</code></pre>\n<p>In this scenario, you're more likely to discern your output and work with it.</p>\n<h4>Test Main</h4>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        List&lt;Employee&gt; listEmployees = new ArrayList&lt;&gt;(List.of(\n                new Employee(&quot;Mark Hoppus&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2200, 200, 1),\n                new Employee(&quot;Tom DeLonge&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 2800, 0, 1),\n                new Employee(&quot;Travis Barker&quot;, &quot;Marketing&quot;, &quot;male&quot;, &quot;Sales Manager&quot;, 3850, 800, 6),\n                new Employee(&quot;Aretha Franklin&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 2900, 300, 3),\n                new Employee(&quot;Diana Ross&quot;, &quot;Marketing&quot;, &quot;female&quot;, &quot;Sales Manager&quot;, 1900, 0, 1),\n                new Employee(&quot;Keith Flint&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 4000, 600, 0),\n                new Employee(&quot;Liam Howlett&quot;, &quot;R&amp;D&quot;, &quot;male&quot;, &quot;Software Engineer&quot;, 5200, 250, 2),\n                new Employee(&quot;Whitney Houston&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 6000, 1000, 8),\n                new Employee(&quot;Tina Turner&quot;, &quot;R&amp;D&quot;, &quot;female&quot;, &quot;Software Engineer&quot;, 7500, 450, 9)\n        ));\n\n        //Grouping by multiple fields with a List workaround instead of using nested groupingBy downstreams that would return nested Maps\n        Map&lt;List, List&lt;Employee&gt;&gt; mapGroupedBy = listEmployees.stream()\n                .collect(Collectors.groupingBy(e -&gt; Arrays.asList(e.getDepartment(), e.getDesignation(), e.getGender())));\n\n        //Returning an ArrayList with the average values\n        List&lt;Employee&gt; listEmployeesResult = mapGroupedBy.values().stream()\n                .collect(ArrayList::new,\n                        (listCollect, listGrouped) -&gt; listCollect.add(new Employee(null, null, null, null,\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\n                                (int) Math.round(listGrouped.stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))),\n                        (list1, list2) -&gt; list1.addAll(list2));\n\n        //Printing the ArrayList with no indication of where those average values come from\n        System.out.println(&quot;Printing list results&quot;);\n        for (Employee e : listEmployeesResult) {\n            System.out.printf(&quot;Salary: %d - Bonus: %d - Perks: %d%n&quot;, e.getSalary(), e.getBonus(), e.getPerks());\n        }\n\n        //Map of known keys for each n-upla (list) of values\n        Map&lt;List, Employee&gt; mapResult = new HashMap&lt;&gt;();\n\n        //For each entry of the grouped map we generate a new entry for the result map by &quot;mapping&quot; each grouped list into a default Employee with no information and average values\n        mapGroupedBy.entrySet().stream()\n                .forEach(entry -&gt; mapResult.put(entry.getKey(), new Employee(null, null, null, null,\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getSalary)).doubleValue()),\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getBonus)).doubleValue()),\n                        (int) Math.round(entry.getValue().stream().collect(Collectors.averagingDouble(Employee::getPerks)).doubleValue()))));\n\n        System.out.println(&quot;\\nPrinting map results&quot;);\n        for (List keyList : mapResult.keySet()) {\n            System.out.printf(&quot;%s =&gt; Salary: %d - Bonus: %d - Perks: %d%n&quot;, keyList, mapResult.get(keyList).getSalary(), mapResult.get(keyList).getBonus(), mapResult.get(keyList).getPerks());\n        }\n    }\n}\n</code></pre>\n<p>Here, I've implemented both solutions and showed their differences.</p>\n<h4>Output</h4>\n<p>For some reasons, the output is not displayed and I had to paste the link.</p>\n<p><a href=\"https://i.stack.imgur.com/fHDun.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fHDun.png</a></p>\n"}],"owner":{"account_id":24768652,"reputation":13,"user_id":18652393,"display_name":"afx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72040345,"answer_count":2,"score":1,"last_activity_date":1651137397,"creation_date":1651126471,"question_id":72038822,"body_markdown":"In the `Employee` class below, I would like to get average `salary`, average `bonus` and average `perks` for all employees grouping by `department`, `designation` and `gender` and would like the result to be a `List&lt;Employee&gt;` with the aggregated values for `salary`, `bonus` and `perks`.\r\n\r\n```\r\npublic class Employee {\r\n\r\n\tprivate String name;\r\n\r\n\tprivte String department;\r\n\r\n\tprivate String gender;\r\n\r\n\tprivate String designation;\r\n\r\n\tprivate Integer salary;\r\n\r\n\tprivate Integer bonus;\r\n\r\n\tprivate Integer perks;\r\n\t\r\n}\r\n```\r\n\r\nWhat would be a clean way of doing that?\r\n\r\n","title":"Aggregate multiple fields grouping by multiple fields in Java 8","body":"<p>In the <code>Employee</code> class below, I would like to get average <code>salary</code>, average <code>bonus</code> and average <code>perks</code> for all employees grouping by <code>department</code>, <code>designation</code> and <code>gender</code> and would like the result to be a <code>List&lt;Employee&gt;</code> with the aggregated values for <code>salary</code>, <code>bonus</code> and <code>perks</code>.</p>\n<pre><code>public class Employee {\n\n    private String name;\n\n    privte String department;\n\n    private String gender;\n\n    private String designation;\n\n    private Integer salary;\n\n    private Integer bonus;\n\n    private Integer perks;\n    \n}\n</code></pre>\n<p>What would be a clean way of doing that?</p>\n"},{"tags":["java","api","twitter","oauth","streaming"],"answers":[{"tags":[],"owner":{"account_id":5594503,"reputation":198,"user_id":4432663,"accept_rate":100,"display_name":"Santosh Tulasiram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442400987,"creation_date":1442400987,"answer_id":32606657,"question_id":13907719,"body_markdown":"I tried to simulate the code and found that the error was very simple. You should use https instead of http in the url :)","title":"Simple (Twitter + Streaming API + Java + OAuth) example","body":"<p>I tried to simulate the code and found that the error was very simple. You should use https instead of http in the url :)</p>\n"}],"owner":{"account_id":1608933,"reputation":738,"user_id":1488429,"accept_rate":50,"display_name":"AHL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11985,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32606657,"answer_count":1,"score":2,"last_activity_date":1651137368,"creation_date":1355713019,"question_id":13907719,"body_markdown":"In my quest to create a simple Java program to extract tweets from Twitter&#39;s streaming API, I have modified this ([http://cotdp.com/dl/TwitterConsumer.java][1]) code snippet to work with the OAuth method. The result is the below code, which when executed, throws a Connection Refused Exception.\r\n\r\nI am aware of [Twitter4J][2] however I want to create a program that relies least on other APIs.\r\n\r\nI have done my research and it looks like the oauth.signpost library is suitable for Twitter&#39;s streaming API. I have also ensured my authentication details are correct. My Twitter Access level is &#39;Read-only&#39;.\r\n\r\nI couldn&#39;t find a simple Java example that shows how to use the streaming API without relying on e.g. Twitter4j.\r\n\r\n```java\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    import oauth.signpost.OAuthConsumer;\r\n    import oauth.signpost.commonshttp.CommonsHttpOAuthConsumer;\r\n    \r\n    /**\r\n     * A hacky little class illustrating how to receive and store Twitter streams\r\n     * for later analysis, requires Apache Commons HTTP Client 4+. Stores the data\r\n     * in 64MB long JSON files.\r\n     * \r\n     * Usage:\r\n     * \r\n     * TwitterConsumer t = new TwitterConsumer(&quot;username&quot;, &quot;password&quot;,\r\n     * \t\t&quot;http://stream.twitter.com/1/statuses/sample.json&quot;, &quot;sample&quot;);\r\n     * t.start();\r\n     */\r\n    public class TwitterConsumer extends Thread {\r\n    \t//\r\n    \tstatic String STORAGE_DIR = &quot;/tmp&quot;;\r\n    \tstatic long BYTES_PER_FILE = 64 * 1024 * 1024;\r\n    \t//\r\n    \tpublic long Messages = 0;\r\n    \tpublic long Bytes = 0;\r\n    \tpublic long Timestamp = 0;\r\n    \t\r\n    \tprivate String accessToken = &quot;&quot;;\r\n    \tprivate String accessSecret = &quot;&quot;;\r\n    \tprivate String consumerKey = &quot;&quot;;\r\n    \tprivate String consumerSecret = &quot;&quot;;\t\r\n    \t  \r\n    \tprivate String feedUrl;\r\n    \tprivate String filePrefix;\r\n    \tboolean isRunning = true;\r\n    \tFile file = null;\r\n    \tFileWriter fw = null;\r\n    \tlong bytesWritten = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTwitterConsumer t = new TwitterConsumer(\r\n    \t\t\t&quot;XXX&quot;, \r\n    \t\t\t&quot;XXX&quot;,\r\n    \t\t\t&quot;XXX&quot;,\r\n    \t\t\t&quot;XXX&quot;,\r\n    \t\t\t&quot;http://stream.twitter.com/1/statuses/sample.json&quot;, &quot;sample&quot;);\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \tpublic TwitterConsumer(String accessToken, String accessSecret, String consumerKey, String consumerSecret, String url, String prefix) {\r\n    \t\tthis.accessToken = accessToken;\r\n    \t\tthis.accessSecret = accessSecret;\r\n    \t\tthis.consumerKey = consumerKey;\r\n    \t\tthis.consumerSecret = consumerSecret;\r\n    \t\tfeedUrl = url;\r\n    \t\tfilePrefix = prefix;\r\n    \t\tTimestamp = System.currentTimeMillis();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @throws IOException\r\n    \t */\r\n    \tprivate void rotateFile() throws IOException {\r\n    \t\t// Handle the existing file\r\n    \t\tif (fw != null)\r\n    \t\t\tfw.close();\r\n    \t\t// Create the next file\r\n    \t\tfile = new File(STORAGE_DIR, filePrefix + &quot;-&quot;\r\n    \t\t\t\t+ System.currentTimeMillis() + &quot;.json&quot;);\r\n    \t\tbytesWritten = 0;\r\n    \t\tfw = new FileWriter(file);\r\n    \t\tSystem.out.println(&quot;Writing to &quot; + file.getAbsolutePath());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see java.lang.Thread#run()\r\n    \t */\r\n    \tpublic void run() {\r\n    \t\t// Open the initial file\r\n    \t\ttry { rotateFile(); } catch (IOException e) { e.printStackTrace(); return; }\r\n    \t\t// Run loop\r\n    \t\twhile (isRunning) {\r\n    \t\t\ttry {\r\n    \t\t\t\r\n    \t\t\t\tOAuthConsumer consumer = new CommonsHttpOAuthConsumer(consumerKey, consumerSecret);\r\n    \t\t\t\tconsumer.setTokenWithSecret(accessToken, accessSecret);\r\n    \t\t\t\tHttpGet request = new HttpGet(feedUrl);\r\n    \t\t\t\tconsumer.sign(request);\r\n    \t\t\t\r\n    \t\t\t\tDefaultHttpClient client = new DefaultHttpClient();\r\n    \t\t\t\tHttpResponse response = client.execute(request);\r\n    \t\t\t\tBufferedReader reader = new BufferedReader(\r\n    \t\t\t\t\t\tnew InputStreamReader(response.getEntity().getContent()));\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tString line = reader.readLine();\r\n    \t\t\t\t\tif (line == null)\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tif (line.length() &gt; 0) {\r\n    \t\t\t\t\t\tif (bytesWritten + line.length() + 1 &gt; BYTES_PER_FILE)\r\n    \t\t\t\t\t\t\trotateFile();\r\n    \t\t\t\t\t\tfw.write(line + &quot;\\n&quot;);\r\n    \t\t\t\t\t\tbytesWritten += line.length() + 1;\r\n    \t\t\t\t\t\tMessages++;\r\n    \t\t\t\t\t\tBytes += line.length() + 1;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Sleeping before reconnect...&quot;);\r\n    \t\t\ttry { Thread.sleep(15000); } catch (Exception e) { }\r\n    \t\t}\r\n    \t}\r\n    }\r\n    }\r\n```\r\n\r\n\r\n  [1]: http://cotdp.com/dl/TwitterConsumer.java\r\n  [2]: http://twitter4j.org/en/index.html\r\n  [3]: http://i.stack.imgur.com/NvqXM.png","title":"Simple (Twitter + Streaming API + Java + OAuth) example","body":"<p>In my quest to create a simple Java program to extract tweets from Twitter's streaming API, I have modified this (<a href=\"http://cotdp.com/dl/TwitterConsumer.java\" rel=\"nofollow noreferrer\">http://cotdp.com/dl/TwitterConsumer.java</a>) code snippet to work with the OAuth method. The result is the below code, which when executed, throws a Connection Refused Exception.</p>\n<p>I am aware of <a href=\"http://twitter4j.org/en/index.html\" rel=\"nofollow noreferrer\">Twitter4J</a> however I want to create a program that relies least on other APIs.</p>\n<p>I have done my research and it looks like the oauth.signpost library is suitable for Twitter's streaming API. I have also ensured my authentication details are correct. My Twitter Access level is 'Read-only'.</p>\n<p>I couldn't find a simple Java example that shows how to use the streaming API without relying on e.g. Twitter4j.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.io.BufferedReader;\n    import java.io.File;\n    import java.io.FileWriter;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    \n    import org.apache.http.HttpResponse;\n    import org.apache.http.auth.AuthScope;\n    import org.apache.http.auth.UsernamePasswordCredentials;\n    import org.apache.http.client.methods.HttpGet;\n    import org.apache.http.impl.client.DefaultHttpClient;\n    \n    import oauth.signpost.OAuthConsumer;\n    import oauth.signpost.commonshttp.CommonsHttpOAuthConsumer;\n    \n    /**\n     * A hacky little class illustrating how to receive and store Twitter streams\n     * for later analysis, requires Apache Commons HTTP Client 4+. Stores the data\n     * in 64MB long JSON files.\n     * \n     * Usage:\n     * \n     * TwitterConsumer t = new TwitterConsumer(&quot;username&quot;, &quot;password&quot;,\n     *      &quot;http://stream.twitter.com/1/statuses/sample.json&quot;, &quot;sample&quot;);\n     * t.start();\n     */\n    public class TwitterConsumer extends Thread {\n        //\n        static String STORAGE_DIR = &quot;/tmp&quot;;\n        static long BYTES_PER_FILE = 64 * 1024 * 1024;\n        //\n        public long Messages = 0;\n        public long Bytes = 0;\n        public long Timestamp = 0;\n        \n        private String accessToken = &quot;&quot;;\n        private String accessSecret = &quot;&quot;;\n        private String consumerKey = &quot;&quot;;\n        private String consumerSecret = &quot;&quot;; \n          \n        private String feedUrl;\n        private String filePrefix;\n        boolean isRunning = true;\n        File file = null;\n        FileWriter fw = null;\n        long bytesWritten = 0;\n        \n        public static void main(String[] args) {\n            TwitterConsumer t = new TwitterConsumer(\n                &quot;XXX&quot;, \n                &quot;XXX&quot;,\n                &quot;XXX&quot;,\n                &quot;XXX&quot;,\n                &quot;http://stream.twitter.com/1/statuses/sample.json&quot;, &quot;sample&quot;);\n            t.start();\n        }\n    \n        public TwitterConsumer(String accessToken, String accessSecret, String consumerKey, String consumerSecret, String url, String prefix) {\n            this.accessToken = accessToken;\n            this.accessSecret = accessSecret;\n            this.consumerKey = consumerKey;\n            this.consumerSecret = consumerSecret;\n            feedUrl = url;\n            filePrefix = prefix;\n            Timestamp = System.currentTimeMillis();\n        }\n    \n        /**\n         * @throws IOException\n         */\n        private void rotateFile() throws IOException {\n            // Handle the existing file\n            if (fw != null)\n                fw.close();\n            // Create the next file\n            file = new File(STORAGE_DIR, filePrefix + &quot;-&quot;\n                    + System.currentTimeMillis() + &quot;.json&quot;);\n            bytesWritten = 0;\n            fw = new FileWriter(file);\n            System.out.println(&quot;Writing to &quot; + file.getAbsolutePath());\n        }\n    \n        /**\n         * @see java.lang.Thread#run()\n         */\n        public void run() {\n            // Open the initial file\n            try { rotateFile(); } catch (IOException e) { e.printStackTrace(); return; }\n            // Run loop\n            while (isRunning) {\n                try {\n                \n                    OAuthConsumer consumer = new CommonsHttpOAuthConsumer(consumerKey, consumerSecret);\n                    consumer.setTokenWithSecret(accessToken, accessSecret);\n                    HttpGet request = new HttpGet(feedUrl);\n                    consumer.sign(request);\n                \n                    DefaultHttpClient client = new DefaultHttpClient();\n                    HttpResponse response = client.execute(request);\n                    BufferedReader reader = new BufferedReader(\n                            new InputStreamReader(response.getEntity().getContent()));\n                    while (true) {\n                        String line = reader.readLine();\n                        if (line == null)\n                            break;\n                        if (line.length() &gt; 0) {\n                            if (bytesWritten + line.length() + 1 &gt; BYTES_PER_FILE)\n                                rotateFile();\n                            fw.write(line + &quot;\\n&quot;);\n                            bytesWritten += line.length() + 1;\n                            Messages++;\n                            Bytes += line.length() + 1;\n                        }\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;Sleeping before reconnect...&quot;);\n                try { Thread.sleep(15000); } catch (Exception e) { }\n            }\n        }\n    }\n    }\n</code></pre>\n"},{"tags":["java","android-studio","cordova","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10932617,"reputation":1298,"user_id":8035260,"display_name":"jose praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1583751171,"creation_date":1583751171,"answer_id":60599039,"question_id":60598227,"body_markdown":"Need to change Bundle into &quot;Bundle?&quot; in MainActivity.kt.\r\n\r\n    override fun onCreate(savedInstanceState:Bundle?) {\r\n","title":"How to build cordova project with Kotlin","body":"<p>Need to change Bundle into \"Bundle?\" in MainActivity.kt.</p>\n\n<pre><code>override fun onCreate(savedInstanceState:Bundle?) {\n</code></pre>\n"}],"owner":{"account_id":10313432,"reputation":647,"user_id":7608463,"accept_rate":0,"display_name":"msm082919"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60599039,"answer_count":1,"score":0,"last_activity_date":1651137273,"creation_date":1583748108,"question_id":60598227,"body_markdown":"I have a cordova project folder `www` already in progress.\r\n\r\nBuild this and you will have an Android project.\r\n\r\nThis will create a `MainActivity.java` file.\r\n\r\nI don&#39;t know Java so I changed the file to `MainActivity.kt` and converted the internal code.\r\n\r\nBut when I run it, it doesn&#39;t run as error.\r\n\r\nBuild cordova:\r\n```\r\ncordova build android\r\n```\r\nCreated MainActivity.java:\r\n```java\r\npackage com.example.gamename;\r\nimport android.os.Bundle;\r\nimport org.apache.cordova.*;\r\npublic class MainActivity extends CordovaActivity {\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\r\n            moveTaskToBack(true);\r\n        }\r\n        loadUrl(launchUrl);\r\n    }\r\n}\r\n```\r\nconverted MainActivity.kt:\r\n```kt\r\npackage com.example.gamename\r\nimport android.content.Intent.getIntent\r\nimport android.os.Bundle\r\nimport org.apache.cordova.*\r\nclass MainActivity:CordovaActivity() {\r\n  override fun onCreate(savedInstanceState:Bundle) {\r\n    super.onCreate(savedInstanceState)\r\n    val extras = getIntent().getExtras()\r\n    if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\r\n      moveTaskToBack(true)\r\n    }\r\n    loadUrl(launchUrl)\r\n  }\r\n}\r\n```\r\nGet error....:\r\n&gt;2020-03-09 18:56:57.159 7625-7625/com.example.gamename E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.gamename, PID: 7625\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.gamename/com.example.gamename.MainActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\r\n\r\nIs there a solution? Or is there no way?\r\n\r\nIt must be resolved to use authentication, payment, and db (unfortunately I don&#39;t know Java).","title":"How to build cordova project with Kotlin","body":"<p>I have a cordova project folder <code>www</code> already in progress.</p>\n\n<p>Build this and you will have an Android project.</p>\n\n<p>This will create a <code>MainActivity.java</code> file.</p>\n\n<p>I don't know Java so I changed the file to <code>MainActivity.kt</code> and converted the internal code.</p>\n\n<p>But when I run it, it doesn't run as error.</p>\n\n<p>Build cordova:</p>\n\n<pre><code>cordova build android\n</code></pre>\n\n<p>Created MainActivity.java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gamename;\nimport android.os.Bundle;\nimport org.apache.cordova.*;\npublic class MainActivity extends CordovaActivity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Bundle extras = getIntent().getExtras();\n        if (extras != null &amp;&amp; extras.getBoolean(\"cdvStartInBackground\", false)) {\n            moveTaskToBack(true);\n        }\n        loadUrl(launchUrl);\n    }\n}\n</code></pre>\n\n<p>converted MainActivity.kt:</p>\n\n<pre><code>package com.example.gamename\nimport android.content.Intent.getIntent\nimport android.os.Bundle\nimport org.apache.cordova.*\nclass MainActivity:CordovaActivity() {\n  override fun onCreate(savedInstanceState:Bundle) {\n    super.onCreate(savedInstanceState)\n    val extras = getIntent().getExtras()\n    if (extras != null &amp;&amp; extras.getBoolean(\"cdvStartInBackground\", false)) {\n      moveTaskToBack(true)\n    }\n    loadUrl(launchUrl)\n  }\n}\n</code></pre>\n\n<p>Get error....:</p>\n\n<blockquote>\n  <p>2020-03-09 18:56:57.159 7625-7625/com.example.gamename E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.gamename, PID: 7625\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.gamename/com.example.gamename.MainActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState</p>\n</blockquote>\n\n<p>Is there a solution? Or is there no way?</p>\n\n<p>It must be resolved to use authentication, payment, and db (unfortunately I don't know Java).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651137985,"post_id":72041039,"comment_id":127293798,"body_markdown":"In this case, Foo, FooA and FooB should implement an interface SomeInterface with getters for a,b and c. Then your fill method only receives SomeInterface.","body":"In this case, Foo, FooA and FooB should implement an interface SomeInterface with getters for a,b and c. Then your fill method only receives SomeInterface."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651138371,"post_id":72041039,"comment_id":127293988,"body_markdown":"you should have a look at [MapStruct](https://mapstruct.org/), a lib especially made for mapping beans like you do. (It doesn&#39;t seem that you have any class inheritance involved in your question, right?)","body":"you should have a look at <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>, a lib especially made for mapping beans like you do. (It doesn&#39;t seem that you have any class inheritance involved in your question, right?)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651138922,"post_id":72041039,"comment_id":127294228,"body_markdown":"Another option for automatic mapping would be [ModelMapper](http://modelmapper.org/)","body":"Another option for automatic mapping would be <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a>"}],"owner":{"account_id":13327832,"reputation":64,"user_id":9620239,"display_name":"andrestascon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651137196,"creation_date":1651137196,"question_id":72041039,"body_markdown":"I have the following classes structure:\r\n\r\n    class Foo{\r\n      private String a;\r\n      private String b;\r\n      private String c;\r\n      \r\n      // getters, setters and stuff\r\n    }\r\n\r\n    class A{\r\n      public Foo fill(FooA fooA){\r\n        Foo foo = new Foo();\r\n        foo.setA(fooA.getA());\r\n        foo.setB(fooA.getB());\r\n        foo.setC(fooA.getC());\r\n        return foo;\r\n      }\r\n\r\n      public Foo fill(FooB fooB){\r\n        Foo foo = new Foo();\r\n        foo.setA(fooB.getX().getA());\r\n        foo.setB(fooB.getX().getB());\r\n        foo.setC(fooB.getC());\r\n        return foo;\r\n      }\r\n    }\r\n\r\nWhats the best way to do this? As u can see, FooA and FooB are kind of DTO classes that have different fields which fill the Foo class fields.\r\nHowever, fill(FooA fooa) and fill(FooB fooB) have really similar code.","title":"How to generify a class&#39; fields setters coming from different objects","body":"<p>I have the following classes structure:</p>\n<pre><code>class Foo{\n  private String a;\n  private String b;\n  private String c;\n  \n  // getters, setters and stuff\n}\n\nclass A{\n  public Foo fill(FooA fooA){\n    Foo foo = new Foo();\n    foo.setA(fooA.getA());\n    foo.setB(fooA.getB());\n    foo.setC(fooA.getC());\n    return foo;\n  }\n\n  public Foo fill(FooB fooB){\n    Foo foo = new Foo();\n    foo.setA(fooB.getX().getA());\n    foo.setB(fooB.getX().getB());\n    foo.setC(fooB.getC());\n    return foo;\n  }\n}\n</code></pre>\n<p>Whats the best way to do this? As u can see, FooA and FooB are kind of DTO classes that have different fields which fill the Foo class fields.\nHowever, fill(FooA fooa) and fill(FooB fooB) have really similar code.</p>\n"},{"tags":["java","selenium","extentreports","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1663756702,"post_id":72017562,"comment_id":130312862,"body_markdown":"check htis: https://github.com/nitinsmartsense/smartsense-cucumber-testng","body":"check htis: <a href=\"https://github.com/nitinsmartsense/smartsense-cucumber-testng\" rel=\"nofollow noreferrer\">github.com/nitinsmartsense/smartsense-cucumber-testng</a>"}],"owner":{"account_id":25104909,"reputation":1,"user_id":18955192,"display_name":"leocarp1990"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651137157,"creation_date":1650991050,"question_id":72017562,"body_markdown":"I have the following problem, I can&#39;t generate reports with cucumber and rest assured, I have a similar project with UI selenium and the same configuration works perfectly. Any ideas? Thank you so much.\r\n\r\nMy main doubt is that I am having a version conflict between cucucumber and the reports\r\n\r\n\r\nArchivo pom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TheMovieDB&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20210307&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.4.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nClase Runner.java\r\n\r\n        package Runner;\r\n    \r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources/features&quot;,\r\n            glue = &quot;Steps&quot;,\r\n            plugin = {&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;, &quot;json:target/cucumber-reports.json&quot;},\r\n            monochrome = true\r\n    )\r\n    \r\n    public class Runner {\r\n    \r\n    }\r\n\r\nextent.properties\r\n\r\n    extent.reporter.avent.start=false\r\n    extent.reporter.bdd.start=false\r\n    extent.reporter.cards.start=false\r\n    extent.reporter.email.start=true\r\n    extent.reporter.html.start=true\r\n    extent.reporter.klov.start=false\r\n    extent.reporter.logger.start=true\r\n    extent.reporter.tabular.start=false\r\n    \r\n    extent.reporter.avent.config=\r\n    extent.reporter.bdd.config=\r\n    extent.reporter.cards.config=\r\n    extent.reporter.email.config=\r\n    extent.reporter.html.config=\r\n    extent.reporter.klov.config=\r\n    extent.reporter.logger.config=\r\n    extent.reporter.tabular.config=\r\n    \r\n    extent.reporter.avent.out=test-output/AventReport/\r\n    extent.reporter.bdd.out=test-output/BddReport/\r\n    extent.reporter.cards.out=test-output/CardsReport/\r\n    extent.reporter.email.out=test-output/EmailReport/ExtentEmail.html\r\n    extent.reporter.html.out=test-output/HtmlReport/ExtentHtml.html\r\n    extent.reporter.logger.out=test-output/LoggerReport/\r\n    extent.reporter.tabular.out=test-output/TabularReport/","title":"Extent Reports with Cucumber and Rest-Assured","body":"<p>I have the following problem, I can't generate reports with cucumber and rest assured, I have a similar project with UI selenium and the same configuration works perfectly. Any ideas? Thank you so much.</p>\n<p>My main doubt is that I am having a version conflict between cucucumber and the reports</p>\n<p>Archivo pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;TheMovieDB&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\n        &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20210307&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.4.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Clase Runner.java</p>\n<pre><code>    package Runner;\n\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = &quot;Steps&quot;,\n        plugin = {&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;, &quot;json:target/cucumber-reports.json&quot;},\n        monochrome = true\n)\n\npublic class Runner {\n\n}\n</code></pre>\n<p>extent.properties</p>\n<pre><code>extent.reporter.avent.start=false\nextent.reporter.bdd.start=false\nextent.reporter.cards.start=false\nextent.reporter.email.start=true\nextent.reporter.html.start=true\nextent.reporter.klov.start=false\nextent.reporter.logger.start=true\nextent.reporter.tabular.start=false\n\nextent.reporter.avent.config=\nextent.reporter.bdd.config=\nextent.reporter.cards.config=\nextent.reporter.email.config=\nextent.reporter.html.config=\nextent.reporter.klov.config=\nextent.reporter.logger.config=\nextent.reporter.tabular.config=\n\nextent.reporter.avent.out=test-output/AventReport/\nextent.reporter.bdd.out=test-output/BddReport/\nextent.reporter.cards.out=test-output/CardsReport/\nextent.reporter.email.out=test-output/EmailReport/ExtentEmail.html\nextent.reporter.html.out=test-output/HtmlReport/ExtentHtml.html\nextent.reporter.logger.out=test-output/LoggerReport/\nextent.reporter.tabular.out=test-output/TabularReport/\n</code></pre>\n"},{"tags":["java","sockets","netbeans","server","client"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651137543,"post_id":72041016,"comment_id":127293595,"body_markdown":"It isn&#39;t  in the classpath. You need to make sure it is","body":"It isn&#39;t  in the classpath. You need to make sure it is"},{"owner":{"account_id":25117217,"reputation":13,"user_id":18966087,"display_name":"Mario Pascolat"},"score":0,"creation_date":1651139601,"post_id":72041016,"comment_id":127294512,"body_markdown":"how can i do it?","body":"how can i do it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651140762,"post_id":72041016,"comment_id":127294910,"body_markdown":"I can&#39;t say as I don&#39;t know how you developed or are running. Both sides of the comms need to be able to load the necessary classes","body":"I can&#39;t say as I don&#39;t know how you developed or are running. Both sides of the comms need to be able to load the necessary classes"},{"owner":{"account_id":25117217,"reputation":13,"user_id":18966087,"display_name":"Mario Pascolat"},"score":0,"creation_date":1651140873,"post_id":72041016,"comment_id":127294945,"body_markdown":"ok thanks now i know what to search","body":"ok thanks now i know what to search"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1651146482,"post_id":72041016,"comment_id":127296914,"body_markdown":"Does the class exist on the server?","body":"Does the class exist on the server?"},{"owner":{"account_id":25117217,"reputation":13,"user_id":18966087,"display_name":"Mario Pascolat"},"score":0,"creation_date":1651822284,"post_id":72041016,"comment_id":127459355,"body_markdown":"@user253751 I&#39; using netbeans, how can i have the same class in two differents projects?","body":"@user253751 I&#39; using netbeans, how can i have the same class in two differents projects?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1651838321,"post_id":72041016,"comment_id":127464947,"body_markdown":"@MarioPascolat probably can&#39;t, but you can make a library used in two other projects.","body":"@MarioPascolat probably can&#39;t, but you can make a library used in two other projects."},{"owner":{"account_id":25117217,"reputation":13,"user_id":18966087,"display_name":"Mario Pascolat"},"score":0,"creation_date":1651904861,"post_id":72041016,"comment_id":127480196,"body_markdown":"@user253751 how can i do it?","body":"@user253751 how can i do it?"}],"owner":{"account_id":25117217,"reputation":13,"user_id":18966087,"display_name":"Mario Pascolat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651137106,"creation_date":1651137106,"question_id":72041016,"body_markdown":"i&#39;m trying to pass a class object between client and server in two differents java projects, but i get this error:\r\n\r\n\r\n   \r\n\r\n     apr 28, 2022 10:57:46 AM com.giulio.serverdatabase.ServerGestion run\r\n        GRAVE: null\r\n        java.lang.ClassNotFoundException: com.giulio.client.UtentePass\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        \tat java.lang.Class.forName0(Native Method)\r\n        \tat java.lang.Class.forName(Class.java:348)\r\n        \tat java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:756)\r\n        \tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1984)\r\n        \tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1848)\r\n        \tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2158)\r\n        \tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1665)\r\n        \tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\r\n        \tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:459)\r\n        \tat \r\n    com.giulio.serverdatabase.ServerGestion.run(ServerGestion.java:51)\r\n    \r\n    \r\n    \r\nI&#39;ve alerady make sure that the connection between client and server is created and works fine.\r\n\r\nThis is the class of the object i want to pass, i&#39;ve created the class in both programms: \r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     *\r\n     * @author giuli\r\n     */\r\n    public class UtentePass implements Serializable{\r\n           private String Utente, Password;\r\n    \r\n        public UtentePass(String Utente, String Password) {\r\n            this.Utente = Utente;\r\n            this.Password = Password;\r\n        }\r\n    \r\n        public UtentePass() {\r\n        }\r\n        \r\n        public String getUtente() {\r\n            return Utente;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return Password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;UtentePass{&quot; + &quot;Utente=&quot; + Utente + &quot;, Password=&quot; + Password + &#39;}&#39;;\r\n        }\r\n        \r\n        \r\n    \r\n    }\r\n     \r\n     \r\nnow those are the client and server classes:\r\n\r\n\r\n\r\n    public class Client_Class {\r\n        \r\n        public Client_Class(){\r\n        }\r\n        \r\n        public void Client(UtentePass utentePass) {\r\n            \r\n     \r\n            String hostname = &quot;localhost&quot;;\r\n            int port = 42768;\r\n     \r\n            try (Socket socket = new Socket(hostname, port)) {\r\n     \r\n                OutputStream output = socket.getOutputStream();\r\n                          \r\n                \r\n                    ObjectOutputStream objectOutputStream = new \r\n                               ObjectOutputStream(output);\r\n                \r\n                    objectOutputStream.writeObject(utentePass);\r\n                     socket.close();\r\n     \r\n            } catch (UnknownHostException ex) {\r\n     \r\n                System.out.println(&quot;Server not found: &quot; + ex.getMessage());\r\n     \r\n            } catch (IOException ex) {\r\n     \r\n                System.out.println(&quot;I/O error: &quot; + ex.getMessage());\r\n            }\r\n        } \r\n    }\r\n\r\n\r\n\r\nAnd this is the server class: \r\n\r\n     class ServerGestion extends Thread {\r\n            \r\n            private ServerSocket serverSocket;\r\n    \r\n            public ServerGestion(ServerSocket serverSocket) {\r\n                this.serverSocket = serverSocket;\r\n            }\r\n    \r\n        ServerGestion() {}\r\n        \r\n        \r\n        \r\n            @Override\r\n            public void run() {\r\n                \r\n                 try {\r\n                     \r\n                 while (true) { // una volta servito un client si rimette in attesa         \r\n                      \r\n                        Socket socket = serverSocket.accept();\r\n                       System.out.println(&quot;New client connected&quot;);\r\n                        System.out.println(Thread.currentThread().getName());\r\n                        System.out.println(&quot;IP: &quot; + socket.getInetAddress().toString());\r\n                        System.out.println(&quot;port: &quot; + socket.getPort());\r\n     \r\n                        InputStream input = socket.getInputStream();    \r\n                        ObjectInputStream output = new ObjectInputStream(input);\r\n                      \r\n                        \r\n                        UtentePass utp = new UtentePass(); \r\n                         utp = (UtentePass) output.readObject();\r\n                            socket.close();\r\n                    }\r\n     \r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n                    ex.printStackTrace();\r\n                } catch (ClassNotFoundException ex) {\r\n                   Logger.getLogger(ServerGestion.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n            \r\n          public void avvia(int port) {\r\n             try  {\r\n                ServerSocket serverSocket = new ServerSocket(port);\r\n                \r\n                System.out.println(&quot;Server is listening on port &quot; + port);\r\n    \r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    \r\n                    (new ServerGestion(serverSocket)).start();\r\n                    \r\n                }\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n                ex.printStackTrace();\r\n            }\r\n        }    \r\n        \r\n        }\r\n\r\n\r\nI have alerady made the UtentePass class serizable.\r\n\r\n","title":"java.lang.ClassNotFoundException: com.giulio.client.UtentePass while passing an object between client and server in java","body":"<p>i'm trying to pass a class object between client and server in two differents java projects, but i get this error:</p>\n<pre><code> apr 28, 2022 10:57:46 AM com.giulio.serverdatabase.ServerGestion run\n    GRAVE: null\n    java.lang.ClassNotFoundException: com.giulio.client.UtentePass\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:756)\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1984)\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1848)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2158)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1665)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:459)\n        at \ncom.giulio.serverdatabase.ServerGestion.run(ServerGestion.java:51)\n</code></pre>\n<p>I've alerady make sure that the connection between client and server is created and works fine.</p>\n<p>This is the class of the object i want to pass, i've created the class in both programms:</p>\n<pre><code>import java.io.Serializable;\n\n/**\n *\n * @author giuli\n */\npublic class UtentePass implements Serializable{\n       private String Utente, Password;\n\n    public UtentePass(String Utente, String Password) {\n        this.Utente = Utente;\n        this.Password = Password;\n    }\n\n    public UtentePass() {\n    }\n    \n    public String getUtente() {\n        return Utente;\n    }\n\n    public String getPassword() {\n        return Password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;UtentePass{&quot; + &quot;Utente=&quot; + Utente + &quot;, Password=&quot; + Password + '}';\n    }\n    \n    \n\n}\n \n \n</code></pre>\n<p>now those are the client and server classes:</p>\n<pre><code>public class Client_Class {\n    \n    public Client_Class(){\n    }\n    \n    public void Client(UtentePass utentePass) {\n        \n \n        String hostname = &quot;localhost&quot;;\n        int port = 42768;\n \n        try (Socket socket = new Socket(hostname, port)) {\n \n            OutputStream output = socket.getOutputStream();\n                      \n            \n                ObjectOutputStream objectOutputStream = new \n                           ObjectOutputStream(output);\n            \n                objectOutputStream.writeObject(utentePass);\n                 socket.close();\n \n        } catch (UnknownHostException ex) {\n \n            System.out.println(&quot;Server not found: &quot; + ex.getMessage());\n \n        } catch (IOException ex) {\n \n            System.out.println(&quot;I/O error: &quot; + ex.getMessage());\n        }\n    } \n}\n</code></pre>\n<p>And this is the server class:</p>\n<pre><code> class ServerGestion extends Thread {\n        \n        private ServerSocket serverSocket;\n\n        public ServerGestion(ServerSocket serverSocket) {\n            this.serverSocket = serverSocket;\n        }\n\n    ServerGestion() {}\n    \n    \n    \n        @Override\n        public void run() {\n            \n             try {\n                 \n             while (true) { // una volta servito un client si rimette in attesa         \n                  \n                    Socket socket = serverSocket.accept();\n                   System.out.println(&quot;New client connected&quot;);\n                    System.out.println(Thread.currentThread().getName());\n                    System.out.println(&quot;IP: &quot; + socket.getInetAddress().toString());\n                    System.out.println(&quot;port: &quot; + socket.getPort());\n \n                    InputStream input = socket.getInputStream();    \n                    ObjectInputStream output = new ObjectInputStream(input);\n                  \n                    \n                    UtentePass utp = new UtentePass(); \n                     utp = (UtentePass) output.readObject();\n                        socket.close();\n                }\n \n            } catch (IOException ex) {\n                System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n                ex.printStackTrace();\n            } catch (ClassNotFoundException ex) {\n               Logger.getLogger(ServerGestion.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n        \n      public void avvia(int port) {\n         try  {\n            ServerSocket serverSocket = new ServerSocket(port);\n            \n            System.out.println(&quot;Server is listening on port &quot; + port);\n\n            for (int i = 0; i &lt; 10; i++) {\n                \n                (new ServerGestion(serverSocket)).start();\n                \n            }\n        } catch (IOException ex) {\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        }\n    }    \n    \n    }\n</code></pre>\n<p>I have alerady made the UtentePass class serizable.</p>\n"},{"tags":["java","typescript"],"comments":[{"owner":{"account_id":3355716,"reputation":661,"user_id":2818693,"display_name":"JustCode"},"score":0,"creation_date":1651141470,"post_id":72040956,"comment_id":127295155,"body_markdown":"it&#39;s a good approach if you share what you have tried to address this issue. The details which you have provided is not enough to give precise answer .","body":"it&#39;s a good approach if you share what you have tried to address this issue. The details which you have provided is not enough to give precise answer ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651150802,"post_id":72040956,"comment_id":127298625,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":13491852,"reputation":1,"user_id":9733777,"display_name":"Gaurav Chute"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651136822,"creation_date":1651136822,"question_id":72040956,"body_markdown":"I want to send continuous responses getting from device to Ionic 4 plugin from android side.\r\nHow can I perform this?","title":"Send continuous response to ionic 4 plugin from Wifi device","body":"<p>I want to send continuous responses getting from device to Ionic 4 plugin from android side.\nHow can I perform this?</p>\n"},{"tags":["java","unreachable-code"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":5,"creation_date":1651135616,"post_id":72040625,"comment_id":127292824,"body_markdown":"Because you always exit the method via `return startEngine` in the second example. So the `if` statement will never be executed. This is what the &quot;Unreachable code&quot; is supposed to mean.","body":"Because you always exit the method via <code>return startEngine</code> in the second example. So the <code>if</code> statement will never be executed. This is what the &quot;Unreachable code&quot; is supposed to mean."},{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1651135700,"post_id":72040625,"comment_id":127292858,"body_markdown":"Does this answer your question ?  https://www.javatpoint.com/return-statement-in-java","body":"Does this answer your question ?  <a href=\"https://www.javatpoint.com/return-statement-in-java\" rel=\"nofollow noreferrer\">javatpoint.com/return-statement-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651136599,"creation_date":1651136137,"answer_id":72040778,"question_id":72040625,"body_markdown":"Because in the first example, if you take all possible paths through the method, all statements will be executed.\r\n\r\nHowever, in your second example, the `if` statement can never be executed:\r\n\r\n```\r\npublic String motorNoise() {\r\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\r\n    engineNoise=(int)(Math.random()*3);\r\n    startEngine=ignition[engineNoise];\r\n    \r\n    return startEngine; // &lt;-- EXECUTED UNCONDITIONALLY, FUNCTION TERMINATES\r\n    \r\n    if (engineNoise==2)\r\n        System.out.println(&quot;This car needs a service&quot;);        \r\n}\r\n```\r\n\r\n`return startEngine` is always executed unconditionally and immediately terminates execution of the function. There&#39;s no way for `if (engineNoise == 2)` to be executed.\r\n\r\nNB. It _always_ pays off to properly format and indent your code and to use braces. Your first example\r\n\r\n```\r\npublic String motorNoise() {\r\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\r\n    engineNoise=(int)(Math.random()*3);\r\n    startEngine=ignition[engineNoise];\r\n    if (engineNoise==2)\r\n        System.out.println(&quot;This car needs a service&quot;);\r\n    return startEngine;\r\n}\r\n```\r\n\r\nIs actually:\r\n\r\n\r\n```\r\npublic String motorNoise() {\r\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\r\n    engineNoise=(int)(Math.random()*3);\r\n    startEngine=ignition[engineNoise];\r\n    if (engineNoise==2) {\r\n        System.out.println(&quot;This car needs a service&quot;);\r\n    }\r\n    return startEngine;\r\n}\r\n```\r\n\r\nso it is not only the order of lines, but the nesting of your code blocks that affects execution. Anything inside the body of an if-statement is only executed conditionally.","title":"Why is an Unreachable code error in this sequence of code and not the latter?","body":"<p>Because in the first example, if you take all possible paths through the method, all statements will be executed.</p>\n<p>However, in your second example, the <code>if</code> statement can never be executed:</p>\n<pre><code>public String motorNoise() {\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\n    engineNoise=(int)(Math.random()*3);\n    startEngine=ignition[engineNoise];\n    \n    return startEngine; // &lt;-- EXECUTED UNCONDITIONALLY, FUNCTION TERMINATES\n    \n    if (engineNoise==2)\n        System.out.println(&quot;This car needs a service&quot;);        \n}\n</code></pre>\n<p><code>return startEngine</code> is always executed unconditionally and immediately terminates execution of the function. There's no way for <code>if (engineNoise == 2)</code> to be executed.</p>\n<p>NB. It <em>always</em> pays off to properly format and indent your code and to use braces. Your first example</p>\n<pre><code>public String motorNoise() {\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\n    engineNoise=(int)(Math.random()*3);\n    startEngine=ignition[engineNoise];\n    if (engineNoise==2)\n        System.out.println(&quot;This car needs a service&quot;);\n    return startEngine;\n}\n</code></pre>\n<p>Is actually:</p>\n<pre><code>public String motorNoise() {\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\n    engineNoise=(int)(Math.random()*3);\n    startEngine=ignition[engineNoise];\n    if (engineNoise==2) {\n        System.out.println(&quot;This car needs a service&quot;);\n    }\n    return startEngine;\n}\n</code></pre>\n<p>so it is not only the order of lines, but the nesting of your code blocks that affects execution. Anything inside the body of an if-statement is only executed conditionally.</p>\n"}],"owner":{"account_id":24086105,"reputation":1,"user_id":18060078,"display_name":"daithi112"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651136599,"creation_date":1651135492,"question_id":72040625,"body_markdown":"\tpublic String motorNoise() {\r\n\t\tString[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\r\n\t\tengineNoise=(int)(Math.random()*3);\r\n\t\tstartEngine=ignition[engineNoise];\r\n\t\tif (engineNoise==2)\r\n\t\t\tSystem.out.println(&quot;This car needs a service&quot;);\r\n\t\treturn startEngine;\r\n\t\t\r\n\t\t\t\r\n\t\t}\r\nBut this sequence causes an Unreachable code error. Why is the location of the If statement causing the method to fail?\r\n\r\n\tpublic String motorNoise() {\r\n\t\tString[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\r\n\t\tengineNoise=(int)(Math.random()*3);\r\n\t\tstartEngine=ignition[engineNoise];\r\n\t\t\r\n\t\treturn startEngine;\r\n\t\t\r\n\t\tif (engineNoise==2)\r\n\t\t\tSystem.out.println(&quot;This car needs a service&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\t\r\n","title":"Why is an Unreachable code error in this sequence of code and not the latter?","body":"<pre><code>public String motorNoise() {\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\n    engineNoise=(int)(Math.random()*3);\n    startEngine=ignition[engineNoise];\n    if (engineNoise==2)\n        System.out.println(&quot;This car needs a service&quot;);\n    return startEngine;\n    \n        \n    }\n</code></pre>\n<p>But this sequence causes an Unreachable code error. Why is the location of the If statement causing the method to fail?</p>\n<pre><code>public String motorNoise() {\n    String[] ignition={&quot;vroom&quot;,&quot;pop&quot;,&quot;bang&quot;};\n    engineNoise=(int)(Math.random()*3);\n    startEngine=ignition[engineNoise];\n    \n    return startEngine;\n    \n    if (engineNoise==2)\n        System.out.println(&quot;This car needs a service&quot;);\n        \n    }\n    \n        \n</code></pre>\n"},{"tags":["java","spring-boot","graph"],"answers":[{"tags":[],"owner":{"account_id":3195480,"reputation":49,"user_id":2698737,"display_name":"Gopinath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651136436,"creation_date":1651062002,"answer_id":72028592,"question_id":71413083,"body_markdown":"It looks like Resolver is missing.\r\nCheck if you have TicketingEmail and TicketingComment classes (Should be spelled the same as the type name as per the doc) Or you should have a resolver (refer to below doc for sample resolver).\r\nhttps://netflix.github.io/dgs/advanced/type-resolvers-for-abstract-types/","title":"The default type resolver could not find a suitable Java type for GraphQL type `ArrayList. Provide a @DgsTypeResolver.`","body":"<p>It looks like Resolver is missing.\nCheck if you have TicketingEmail and TicketingComment classes (Should be spelled the same as the type name as per the doc) Or you should have a resolver (refer to below doc for sample resolver).\n<a href=\"https://netflix.github.io/dgs/advanced/type-resolvers-for-abstract-types/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/advanced/type-resolvers-for-abstract-types/</a></p>\n"}],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651136436,"creation_date":1646844752,"question_id":71413083,"body_markdown":"I have a java - Spring Boot project using graphql and DGS from netflix. I have the following query:\r\n\r\n    type Query {\r\n    ticketingHistory(ticketId: String): TicketingHistory\r\n    }\r\n\r\n    interface TicketingHistory {\r\n    ticketId: String\r\n    createdOn: String\r\n    }\r\n    type TicketingEmail implements TicketingHistory {\r\n    ticketId: String\r\n    createdOn: String\r\n    emailId: String\r\n    processInstanceId: String\r\n    createdBy: EmailCreatedBy\r\n    mailFrom: String\r\n    to: String\r\n    cc: String\r\n    bcc: String\r\n    messageId: String\r\n    messageInReplyTo: String\r\n    messageReferences: String\r\n    subject: String\r\n    messagePlain: String\r\n    messageHtml: String\r\n    }\r\n    type TicketingComment implements TicketingHistory {\r\n    ticketId: String\r\n    commentId: String\r\n    userId: String\r\n    createdOn: String\r\n    taskId: String\r\n    message: String\r\n    }\r\n\r\nand the data fetcher:\r\n\r\n    @DgsComponent\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class TicketingHistoryDataFetcher {\r\n    \r\n        private final EmailService emailService;\r\n        private final ProcessInstanceService processInstanceService;\r\n    \r\n        @DgsQuery\r\n        public List&lt;? extends TicketingHistory&gt; ticketingHistory(@InputArgument String ticketId) {\r\n            List&lt;TicketingHistory&gt; ticketingHistories = new ArrayList&lt;&gt;();\r\n            final Set&lt;Email&gt; emails = emailService.findAll(ticketId);\r\n            final List&lt;CommentDTO&gt; comments = processInstanceService.getComments(ticketId);\r\n    \r\n            emails.stream()\r\n                    .filter(Objects::nonNull)\r\n                    .forEach(email -&gt; ticketingHistories.add(ticketingEmail(email)));\r\n            comments.stream()\r\n                    .filter(Objects::nonNull)\r\n                    .forEach(comment -&gt; ticketingHistories.add(ticketingComment(comment, ticketId)));\r\n            ticketingHistories.sort(Comparator.comparing(TicketingHistory::getCreatedOn));\r\n    \r\n            return ticketingHistories;\r\n        }\r\n    }\r\n\r\nwhen calling it from postman and debugging it I can see that this query is called and I am getting the data but at the moment when it tries to return the list it is failing with:\r\n\r\n    com.netflix.graphql.dgs.exceptions.InvalidTypeResolverException: The default type resolver could not find a suitable Java type for GraphQL type `ArrayList. Provide a @DgsTypeResolver.`","title":"The default type resolver could not find a suitable Java type for GraphQL type `ArrayList. Provide a @DgsTypeResolver.`","body":"<p>I have a java - Spring Boot project using graphql and DGS from netflix. I have the following query:</p>\n<pre><code>type Query {\nticketingHistory(ticketId: String): TicketingHistory\n}\n\ninterface TicketingHistory {\nticketId: String\ncreatedOn: String\n}\ntype TicketingEmail implements TicketingHistory {\nticketId: String\ncreatedOn: String\nemailId: String\nprocessInstanceId: String\ncreatedBy: EmailCreatedBy\nmailFrom: String\nto: String\ncc: String\nbcc: String\nmessageId: String\nmessageInReplyTo: String\nmessageReferences: String\nsubject: String\nmessagePlain: String\nmessageHtml: String\n}\ntype TicketingComment implements TicketingHistory {\nticketId: String\ncommentId: String\nuserId: String\ncreatedOn: String\ntaskId: String\nmessage: String\n}\n</code></pre>\n<p>and the data fetcher:</p>\n<pre><code>@DgsComponent\n@RequiredArgsConstructor\n@Slf4j\npublic class TicketingHistoryDataFetcher {\n\n    private final EmailService emailService;\n    private final ProcessInstanceService processInstanceService;\n\n    @DgsQuery\n    public List&lt;? extends TicketingHistory&gt; ticketingHistory(@InputArgument String ticketId) {\n        List&lt;TicketingHistory&gt; ticketingHistories = new ArrayList&lt;&gt;();\n        final Set&lt;Email&gt; emails = emailService.findAll(ticketId);\n        final List&lt;CommentDTO&gt; comments = processInstanceService.getComments(ticketId);\n\n        emails.stream()\n                .filter(Objects::nonNull)\n                .forEach(email -&gt; ticketingHistories.add(ticketingEmail(email)));\n        comments.stream()\n                .filter(Objects::nonNull)\n                .forEach(comment -&gt; ticketingHistories.add(ticketingComment(comment, ticketId)));\n        ticketingHistories.sort(Comparator.comparing(TicketingHistory::getCreatedOn));\n\n        return ticketingHistories;\n    }\n}\n</code></pre>\n<p>when calling it from postman and debugging it I can see that this query is called and I am getting the data but at the moment when it tries to return the list it is failing with:</p>\n<pre><code>com.netflix.graphql.dgs.exceptions.InvalidTypeResolverException: The default type resolver could not find a suitable Java type for GraphQL type `ArrayList. Provide a @DgsTypeResolver.`\n</code></pre>\n"},{"tags":["java","push-notification","system-tray"],"answers":[{"tags":[],"owner":{"account_id":24912212,"reputation":39,"user_id":18781638,"display_name":"Noname"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651054902,"creation_date":1651054188,"answer_id":72026958,"question_id":72026229,"body_markdown":"A solution for this would be a bit complicated...\r\n\r\nYou can accomplish this by setting up a server with the java ServerSocket. You can then connect to that server with Sockets and send and recieve messges. Then you can show push notifications when receiving specific commands. \r\n\r\nYou could also set up a server on every device that should be able to recieve notifications which would make a single always running server obsolete. But I would not recommend doing it that way.\r\n\r\nYou can learn something about such network communication in Java on for example this [Page][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/a-guide-to-java-sockets","title":"How to make a notification sent to certain window 10 PC","body":"<p>A solution for this would be a bit complicated...</p>\n<p>You can accomplish this by setting up a server with the java ServerSocket. You can then connect to that server with Sockets and send and recieve messges. Then you can show push notifications when receiving specific commands.</p>\n<p>You could also set up a server on every device that should be able to recieve notifications which would make a single always running server obsolete. But I would not recommend doing it that way.</p>\n<p>You can learn something about such network communication in Java on for example this <a href=\"https://www.baeldung.com/a-guide-to-java-sockets\" rel=\"nofollow noreferrer\">Page</a>.</p>\n"}],"owner":{"account_id":24729227,"reputation":1,"user_id":18617393,"display_name":"Alice Tan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651136385,"creation_date":1651050913,"question_id":72026229,"body_markdown":"I had done the system tray to send the notification to the PC and run the java program. \r\nHow can I modify it to be able to send to certain PC using an IP address? \r\n\r\nBelow is the code that I had done. \r\n\r\n        import java.awt.*;\r\n        import java.awt.TrayIcon.MessageType;\r\n    \r\n        public class MemoSample {\r\n    \r\n        public static void main(String[] args) throws AWTException {\r\n            if (SystemTray.isSupported()) {\r\n                MemoSample td = new MemoSample();\r\n                td.displayTray();\r\n                System.exit(0);\r\n            } else {\r\n                System.err.println(&quot;System tray not supported!&quot;);\r\n            }\r\n        }\r\n    \r\n        public void displayTray() throws AWTException {\r\n            //Obtain only one instance of the SystemTray object\r\n            SystemTray tray = SystemTray.getSystemTray();\r\n    \r\n            //Get image\r\n        Image trayIconImage = Toolkit.getDefaultToolkit().createImage(&quot;icon.png&quot;);\r\n        int trayIconWidth = new TrayIcon(trayIconImage).getSize().width;\r\n        TrayIcon trayIcon = new TrayIcon(trayIconImage.getScaledInstance(trayIconWidth, -1, Image.SCALE_SMOOTH));\r\n        //Let the system resizes the image if needed\r\n        trayIcon.setImageAutoSize(true);\r\n    \r\n        trayIcon.setToolTip(&quot;Notification from system&quot;);\r\n        tray.add(trayIcon);\r\n        trayIcon.displayMessage(&quot;You Have a pending job&quot;, &quot;Notification from system&quot; ,MessageType.INFO);\r\n        }\r\n    }\r\n\r\n","title":"How to make a notification sent to certain window 10 PC","body":"<p>I had done the system tray to send the notification to the PC and run the java program.\nHow can I modify it to be able to send to certain PC using an IP address?</p>\n<p>Below is the code that I had done.</p>\n<pre><code>    import java.awt.*;\n    import java.awt.TrayIcon.MessageType;\n\n    public class MemoSample {\n\n    public static void main(String[] args) throws AWTException {\n        if (SystemTray.isSupported()) {\n            MemoSample td = new MemoSample();\n            td.displayTray();\n            System.exit(0);\n        } else {\n            System.err.println(&quot;System tray not supported!&quot;);\n        }\n    }\n\n    public void displayTray() throws AWTException {\n        //Obtain only one instance of the SystemTray object\n        SystemTray tray = SystemTray.getSystemTray();\n\n        //Get image\n    Image trayIconImage = Toolkit.getDefaultToolkit().createImage(&quot;icon.png&quot;);\n    int trayIconWidth = new TrayIcon(trayIconImage).getSize().width;\n    TrayIcon trayIcon = new TrayIcon(trayIconImage.getScaledInstance(trayIconWidth, -1, Image.SCALE_SMOOTH));\n    //Let the system resizes the image if needed\n    trayIcon.setImageAutoSize(true);\n\n    trayIcon.setToolTip(&quot;Notification from system&quot;);\n    tray.add(trayIcon);\n    trayIcon.displayMessage(&quot;You Have a pending job&quot;, &quot;Notification from system&quot; ,MessageType.INFO);\n    }\n}\n</code></pre>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433416375,"creation_date":1399631875,"answer_id":23562500,"question_id":23542610,"body_markdown":"In Drools 6, your rules packages are deployed to Maven. A KieScanner is provided, which you can attach to your KieContainer. This polls your repository at a defined interval to see whether a package has been updated and downloads the latest if that&#39;s the case.\r\n\r\nA full explanation of how to define a KieScanner (including code samples) is provided in the Drools documentation here: \r\n\r\nhttps://docs.jboss.org/drools/release/latest/drools-docs/html/ch04.html\r\n","title":"Drools 6.0 dynamically load rules at runtime","body":"<p>In Drools 6, your rules packages are deployed to Maven. A KieScanner is provided, which you can attach to your KieContainer. This polls your repository at a defined interval to see whether a package has been updated and downloads the latest if that's the case.</p>\n\n<p>A full explanation of how to define a KieScanner (including code samples) is provided in the Drools documentation here: </p>\n\n<p><a href=\"https://docs.jboss.org/drools/release/latest/drools-docs/html/ch04.html\" rel=\"nofollow\">https://docs.jboss.org/drools/release/latest/drools-docs/html/ch04.html</a></p>\n"},{"tags":[],"owner":{"account_id":1161070,"reputation":4494,"user_id":1631510,"accept_rate":86,"display_name":"danidemi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1433423586,"creation_date":1433423586,"answer_id":30644764,"question_id":23542610,"body_markdown":"I used info taken from those two docs:\r\n\r\n - [https://docs.jboss.org/drools/release/6.0.1.Final/drools-docs/html_single/#d0e109][1]\r\n - [https://github.com/droolsjbpm/drools/blob/master/drools-compiler/src/test/java/org/drools/compiler/CommonTestMethodBase.java][2]\r\n\r\nI&#39;ve came out with this snippet that loads rules defined in the `/drl/file/path` file into the stateful session you obtain at the last line.\r\n\r\n    \tFile path = new File(&quot;/drl/file/path&quot;);\r\n\t\tKnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();\r\n\t\tkbuilder.add(ResourceFactory.newFileResource(path), ResourceType.DRL);\r\n\t\tif (kbuilder.hasErrors()) {\r\n\t\t\tthrow new RuntimeException(&quot;Errors: &quot; + kbuilder.getErrors());\r\n\t\t}\r\n\t\tkbase = KnowledgeBaseFactory.newKnowledgeBase();\r\n\t\tkbase.addKnowledgePackages(kbuilder.getKnowledgePackages());\r\n\t\tStatefulKnowledgeSession ksession = kbase.newStatefulKnowledgeSession();\r\n\r\nSome methods are deprecated, so, don&#39;t expect this solution to be valid in the following releases.\r\n\r\nPlease, double check the imports, they are all from `org.kie`, not from `drools` packages. I admit those imports are too much, but I&#39;m pasting the code from an example I&#39;m trying to develop, so I have more things on my code, sorry for that.\r\n\r\nimport java.io.File;\r\n\r\n    import org.kie.api.KieServices;\r\n    import org.kie.api.builder.KieBuilder;\r\n    import org.kie.api.builder.KieFileSystem;\r\n    import org.kie.api.builder.KieScanner;\r\n    import org.kie.api.builder.ReleaseId;\r\n    import org.kie.api.builder.model.KieBaseModel;\r\n    import org.kie.api.builder.model.KieModuleModel;\r\n    import org.kie.api.builder.model.KieSessionModel;\r\n    import org.kie.api.conf.EqualityBehaviorOption;\r\n    import org.kie.api.conf.EventProcessingOption;\r\n    import org.kie.api.io.Resource;\r\n    import org.kie.api.io.ResourceType;\r\n    import org.kie.api.runtime.KieContainer;\r\n    import org.kie.api.runtime.conf.ClockTypeOption;\r\n    import org.kie.internal.KnowledgeBase;\r\n    import org.kie.internal.KnowledgeBaseFactory;\r\n    import org.kie.internal.builder.KnowledgeBuilder;\r\n    import org.kie.internal.builder.KnowledgeBuilderFactory;\r\n    import org.kie.internal.io.ResourceFactory;\r\n    import org.kie.internal.runtime.StatefulKnowledgeSession;\r\n\r\nHope it helps.\r\n\r\n  [1]: https://docs.jboss.org/drools/release/6.0.1.Final/drools-docs/html_single/#d0e109\r\n  [2]: https://github.com/droolsjbpm/drools/blob/master/drools-compiler/src/test/java/org/drools/compiler/CommonTestMethodBase.java","title":"Drools 6.0 dynamically load rules at runtime","body":"<p>I used info taken from those two docs:</p>\n\n<ul>\n<li><a href=\"https://docs.jboss.org/drools/release/6.0.1.Final/drools-docs/html_single/#d0e109\" rel=\"nofollow\">https://docs.jboss.org/drools/release/6.0.1.Final/drools-docs/html_single/#d0e109</a></li>\n<li><a href=\"https://github.com/droolsjbpm/drools/blob/master/drools-compiler/src/test/java/org/drools/compiler/CommonTestMethodBase.java\" rel=\"nofollow\">https://github.com/droolsjbpm/drools/blob/master/drools-compiler/src/test/java/org/drools/compiler/CommonTestMethodBase.java</a></li>\n</ul>\n\n<p>I've came out with this snippet that loads rules defined in the <code>/drl/file/path</code> file into the stateful session you obtain at the last line.</p>\n\n<pre><code>    File path = new File(\"/drl/file/path\");\n    KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();\n    kbuilder.add(ResourceFactory.newFileResource(path), ResourceType.DRL);\n    if (kbuilder.hasErrors()) {\n        throw new RuntimeException(\"Errors: \" + kbuilder.getErrors());\n    }\n    kbase = KnowledgeBaseFactory.newKnowledgeBase();\n    kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());\n    StatefulKnowledgeSession ksession = kbase.newStatefulKnowledgeSession();\n</code></pre>\n\n<p>Some methods are deprecated, so, don't expect this solution to be valid in the following releases.</p>\n\n<p>Please, double check the imports, they are all from <code>org.kie</code>, not from <code>drools</code> packages. I admit those imports are too much, but I'm pasting the code from an example I'm trying to develop, so I have more things on my code, sorry for that.</p>\n\n<p>import java.io.File;</p>\n\n<pre><code>import org.kie.api.KieServices;\nimport org.kie.api.builder.KieBuilder;\nimport org.kie.api.builder.KieFileSystem;\nimport org.kie.api.builder.KieScanner;\nimport org.kie.api.builder.ReleaseId;\nimport org.kie.api.builder.model.KieBaseModel;\nimport org.kie.api.builder.model.KieModuleModel;\nimport org.kie.api.builder.model.KieSessionModel;\nimport org.kie.api.conf.EqualityBehaviorOption;\nimport org.kie.api.conf.EventProcessingOption;\nimport org.kie.api.io.Resource;\nimport org.kie.api.io.ResourceType;\nimport org.kie.api.runtime.KieContainer;\nimport org.kie.api.runtime.conf.ClockTypeOption;\nimport org.kie.internal.KnowledgeBase;\nimport org.kie.internal.KnowledgeBaseFactory;\nimport org.kie.internal.builder.KnowledgeBuilder;\nimport org.kie.internal.builder.KnowledgeBuilderFactory;\nimport org.kie.internal.io.ResourceFactory;\nimport org.kie.internal.runtime.StatefulKnowledgeSession;\n</code></pre>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":4130587,"reputation":1570,"user_id":3388631,"display_name":"Aidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13838,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651136329,"creation_date":1399554312,"question_id":23542610,"body_markdown":"I want to load a drl file at runtime.  The posts I&#39;ve found including this [one][1] work for version 5.0 but I can&#39;t figure out how to do it for drools version 6.0.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9422106/drools-ability-to-define-rules-at-runtime","title":"Drools 6.0 dynamically load rules at runtime","body":"<p>I want to load a drl file at runtime.  The posts I've found including this <a href=\"https://stackoverflow.com/questions/9422106/drools-ability-to-define-rules-at-runtime\">one</a> work for version 5.0 but I can't figure out how to do it for drools version 6.0.</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1651136372,"post_id":72040808,"comment_id":127293123,"body_markdown":"Cheap shot suggestion: implement your own ThreadPool, or extend an existing one. This way you can easily keep track of your Threads.","body":"Cheap shot suggestion: implement your own ThreadPool, or extend an existing one. This way you can easily keep track of your Threads."},{"owner":{"account_id":18047475,"reputation":1,"user_id":13118066,"display_name":"Java Cat"},"score":0,"creation_date":1651137651,"post_id":72040808,"comment_id":127293646,"body_markdown":"Sounds like a great idea. Thank you!","body":"Sounds like a great idea. Thank you!"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1651174609,"post_id":72040808,"comment_id":127307742,"body_markdown":"Even with your own thread pool, how will you know how many percent a given thread has done? The obvious solution would be to expose it somehow in a metrics class or with a method, but if you do you don&#39;t need the custom thread pool. You can just check the exposed metrics directly for all threads.","body":"Even with your own thread pool, how will you know how many percent a given thread has done? The obvious solution would be to expose it somehow in a metrics class or with a method, but if you do you don&#39;t need the custom thread pool. You can just check the exposed metrics directly for all threads."}],"owner":{"account_id":18047475,"reputation":1,"user_id":13118066,"display_name":"Java Cat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651136241,"creation_date":1651136241,"question_id":72040808,"body_markdown":"I&#39;m currecntly working on a method that prints thread pool metrics. I count overall progress using thread pool methods.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n                int progress = Math.round((executor.getCompletedTaskCount() * 100) /\r\n                        executor.getTaskCount());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe output looks like this: \r\n**Total progress: 26%; time remained: 3 s; number of threads: 8**\r\n\r\nIs it possible to print information about each active thread in a pool? For example, &quot;*thread - 1: 20%, thread - 2: 10%*&quot;","title":"Is it possible to display information about each active thread in a threadpool in Java?","body":"<p>I'm currecntly working on a method that prints thread pool metrics. I count overall progress using thread pool methods.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>            int progress = Math.round((executor.getCompletedTaskCount() * 100) /\n                    executor.getTaskCount());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The output looks like this:\n<strong>Total progress: 26%; time remained: 3 s; number of threads: 8</strong></p>\n<p>Is it possible to print information about each active thread in a pool? For example, &quot;<em>thread - 1: 20%, thread - 2: 10%</em>&quot;</p>\n"},{"tags":["java","android","android-studio","arraylist","service"],"answers":[{"tags":[],"owner":{"account_id":24003394,"reputation":166,"user_id":17987933,"display_name":"Dylon Jaynes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650996224,"creation_date":1650996224,"answer_id":72018570,"question_id":72016475,"body_markdown":"Try removing `(ArrayList&lt;String&gt;)` type cast. It should give you the option to import `getIntent` after that. If you need to type cast it, you can do it after you have the value.","title":"How to correctly pass Arraylist to background service?","body":"<p>Try removing <code>(ArrayList&lt;String&gt;)</code> type cast. It should give you the option to import <code>getIntent</code> after that. If you need to type cast it, you can do it after you have the value.</p>\n"},{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651136039,"creation_date":1651136039,"answer_id":72040751,"question_id":72016475,"body_markdown":"You need two things:\r\n\r\n 1. call &quot;intent.putExtra(...)&quot; BEFORE use that intent on startService()\r\n 2. implement &quot;onStartCommand(Intent intent...) { ... } in your Service and use &quot;intent&quot; parameter (this method is called from MainThread/UiThread)","title":"How to correctly pass Arraylist to background service?","body":"<p>You need two things:</p>\n<ol>\n<li>call &quot;intent.putExtra(...)&quot; BEFORE use that intent on startService()</li>\n<li>implement &quot;onStartCommand(Intent intent...) { ... } in your Service and use &quot;intent&quot; parameter (this method is called from MainThread/UiThread)</li>\n</ol>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651136039,"creation_date":1650986338,"question_id":72016475,"body_markdown":"I want to pass the arraylist of all the phonenumbers created into the background service so that I can message them all at once when a shake gesture is triggered.\r\n\r\nThis is the `MainActivity` snippet where I use the `intent.putExtra()` method to pass my arraylist into the service.\r\n\r\n    SensorService sensorService = new SensorService();\r\n                Intent intent = new Intent(this, sensorService.getClass());\r\n                if(!isMyServiceRunning(sensorService.getClass())){\r\n                    startService(intent);\r\n                    intent.putExtra(&quot;ContactNumberList&quot;, Contact_Number);\r\n                    Toast.makeText(this, &quot;Starting Service&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\nand  this is the snippet for assigning the passed arraylist. in the `SensorService` \r\n\r\n           DatabaseHelper db = new DatabaseHelper(SensorService.this);\r\n           ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n           ArrayList&lt;String&gt; phonenumber = new ArrayList&lt;String&gt;();\r\n           phonenumber = (ArrayList&lt;String&gt;)getIntent().getSerializableExtra(&quot;ContactNumberList&quot;);\r\n\r\nI get the compiler error `Cannot resolve method &#39;getIntent()&#39;` \r\n\r\nI wanted to know if there is a better way to pass the created arraylist from the `MainActivity` to my background service ?","title":"How to correctly pass Arraylist to background service?","body":"<p>I want to pass the arraylist of all the phonenumbers created into the background service so that I can message them all at once when a shake gesture is triggered.</p>\n<p>This is the <code>MainActivity</code> snippet where I use the <code>intent.putExtra()</code> method to pass my arraylist into the service.</p>\n<pre><code>SensorService sensorService = new SensorService();\n            Intent intent = new Intent(this, sensorService.getClass());\n            if(!isMyServiceRunning(sensorService.getClass())){\n                startService(intent);\n                intent.putExtra(&quot;ContactNumberList&quot;, Contact_Number);\n                Toast.makeText(this, &quot;Starting Service&quot;, Toast.LENGTH_SHORT).show();\n            }\n</code></pre>\n<p>and  this is the snippet for assigning the passed arraylist. in the <code>SensorService</code></p>\n<pre><code>       DatabaseHelper db = new DatabaseHelper(SensorService.this);\n       ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\n       ArrayList&lt;String&gt; phonenumber = new ArrayList&lt;String&gt;();\n       phonenumber = (ArrayList&lt;String&gt;)getIntent().getSerializableExtra(&quot;ContactNumberList&quot;);\n</code></pre>\n<p>I get the compiler error <code>Cannot resolve method 'getIntent()'</code></p>\n<p>I wanted to know if there is a better way to pass the created arraylist from the <code>MainActivity</code> to my background service ?</p>\n"},{"tags":["java","jboss","jboss6.x"],"answers":[{"tags":[],"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405899238,"creation_date":1405899238,"answer_id":24855935,"question_id":24749742,"body_markdown":"Under the **Profiles** tab in the console, there is a *&quot;System Properties&quot;* section where you can add key/value pairs.  Click the &quot;Add&quot; button and enter in your VM arguments as a key/value pair, save them, then restart the server for your new properties to take effect.\r\n\r\nFor example:\r\n\r\n    key:   javax.net.ssl.trustStore \r\n    value: C:\\mydirectory\\keystore\\cacerts \r\n\r\nYou can also [add JNDI properties][1] and Maven commands in your pom.xml to do the same thing.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html","title":"How to Add Java VM Arguments in JBoss EAP 6.1.1 Management Console","body":"<p>Under the <strong>Profiles</strong> tab in the console, there is a <em>\"System Properties\"</em> section where you can add key/value pairs.  Click the \"Add\" button and enter in your VM arguments as a key/value pair, save them, then restart the server for your new properties to take effect.</p>\n\n<p>For example:</p>\n\n<pre><code>key:   javax.net.ssl.trustStore \nvalue: C:\\mydirectory\\keystore\\cacerts \n</code></pre>\n\n<p>You can also <a href=\"http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html\" rel=\"nofollow\">add JNDI properties</a> and Maven commands in your pom.xml to do the same thing.</p>\n"},{"tags":[],"owner":{"account_id":5771266,"reputation":492,"user_id":4554652,"display_name":"pradip garala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651135491,"creation_date":1651135491,"answer_id":72040624,"question_id":24749742,"body_markdown":"Add below line in `jboss-server-folder/bin/standalone.bat`\r\n\r\n\r\n    set &quot;JAVA_OPTS=-Djavax.net.ssl.trustStore=c:/truststore/truststore.jks %JAVA_OPTS%&quot;","title":"How to Add Java VM Arguments in JBoss EAP 6.1.1 Management Console","body":"<p>Add below line in <code>jboss-server-folder/bin/standalone.bat</code></p>\n<pre><code>set &quot;JAVA_OPTS=-Djavax.net.ssl.trustStore=c:/truststore/truststore.jks %JAVA_OPTS%&quot;\n</code></pre>\n"}],"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24855935,"answer_count":2,"score":2,"last_activity_date":1651135491,"creation_date":1405397524,"question_id":24749742,"body_markdown":"Does anyone know how to add Java VM arguments for a web application (*.war file) via the JBoss EAP 6.1.1 Management Console? \r\n\r\nFor example, I want to specify the location of a truststore at C:\\truststore\\truststore.jks, which is used in my web application for SSL.  The java options I would normally run with a Java application would be:\r\n\r\n    -Djavax.net.ssl.trustStore=c:/truststore/truststore.jks\r\n\r\nIs there a specific field that I can enter this into in the console for web apps running in JBoss EAP?  Or a setting somewhere in standalone.xml (or some other configuration file, which in theory should get picked up and displayed in the console like all the other settings)?\r\n\r\nThanks in advance.","title":"How to Add Java VM Arguments in JBoss EAP 6.1.1 Management Console","body":"<p>Does anyone know how to add Java VM arguments for a web application (*.war file) via the JBoss EAP 6.1.1 Management Console? </p>\n\n<p>For example, I want to specify the location of a truststore at C:\\truststore\\truststore.jks, which is used in my web application for SSL.  The java options I would normally run with a Java application would be:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=c:/truststore/truststore.jks\n</code></pre>\n\n<p>Is there a specific field that I can enter this into in the console for web apps running in JBoss EAP?  Or a setting somewhere in standalone.xml (or some other configuration file, which in theory should get picked up and displayed in the console like all the other settings)?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","c","jvm","java-native-interface"],"comments":[{"owner":{"account_id":9115493,"reputation":11798,"user_id":6782754,"display_name":"Gerhardh"},"score":1,"creation_date":1651136428,"post_id":72040611,"comment_id":127293146,"body_markdown":"I have no idea about Java interaction but your calls to `fscanf` don&#39;t contain any length limiter. That means you might scan more characters than fit into the destination buffers which could cause your crash. Also I would suggest to check the return value of `fscanf` to match the expected number of parameters,  not just `!= EOF`.","body":"I have no idea about Java interaction but your calls to <code>fscanf</code> don&#39;t contain any length limiter. That means you might scan more characters than fit into the destination buffers which could cause your crash. Also I would suggest to check the return value of <code>fscanf</code> to match the expected number of parameters,  not just <code>!= EOF</code>."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1651138082,"post_id":72040611,"comment_id":127293845,"body_markdown":"You could try running with `-Xcheck:jni` to see if that finds something.","body":"You could try running with <code>-Xcheck:jni</code> to see if that finds something."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1651141064,"post_id":72040611,"comment_id":127295012,"body_markdown":"Do you expect us to debug the code for you? First, find which line exactly results in a crash. Keep in mind that any JNI call can potentially throw an exception (which you don&#39;t check anywhere).","body":"Do you expect us to debug the code for you? First, find which line exactly results in a crash. Keep in mind that any JNI call can potentially throw an exception (which you don&#39;t check anywhere)."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1651156066,"post_id":72040611,"comment_id":127300975,"body_markdown":"The complete lack of any error checking is almost certainly contributing to your inability to determine why you&#39;re getting crashes.  JNI calls can fail, and if you continue, you will usually see crashes.  JNI calls can also throw Java exceptions, and if you continue to make JNI calls with a pending Java exception, you will usually see crashes.","body":"The complete lack of any error checking is almost certainly contributing to your inability to determine why you&#39;re getting crashes.  JNI calls can fail, and if you continue, you will usually see crashes.  JNI calls can also throw Java exceptions, and if you continue to make JNI calls with a pending Java exception, you will usually see crashes."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651173464,"post_id":72040611,"comment_id":127307368,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1652441922,"post_id":72040611,"comment_id":127613020,"body_markdown":"In addition to other comments, you never rewind your filehandle, so the first loop (with `m++` in the body) eats the entire file and the second loop never executes.","body":"In addition to other comments, you never rewind your filehandle, so the first loop (with <code>m++</code> in the body) eats the entire file and the second loop never executes."}],"owner":{"account_id":18532392,"reputation":19,"user_id":13502839,"display_name":"Dinesh kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651135462,"creation_date":1651135462,"question_id":72040611,"body_markdown":"i want to read file and pass file contents from c to java using properties collection.\r\nI got \r\n&quot; A fatal error has been detected by the Java Runtime Environment:&quot;\r\nwhat would be the problem  \r\n\r\n**C code**\r\n```\r\n\r\nJNIEXPORT jobjectArray JNICALL Java_jniex2_view\r\n  (JNIEnv *env, jobject this){\r\n    fr=fopen(&quot;lmf.txt&quot;,&quot;r&quot;);  \r\n    jclass cls_Properties = (*env)-&gt;FindClass(env,&quot;java/util/Properties&quot;);\r\n    jmethodID mid_Properties_ctor = (*env)-&gt;GetMethodID(env,cls_Properties, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n    jmethodID mid_Properties_put = (*env)-&gt;GetMethodID(env,cls_Properties, &quot;put&quot;, &quot;(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;);\r\n    jstring title = (*env)-&gt;NewStringUTF(env,&quot;title&quot;);\r\n    jstring author = (*env)-&gt;NewStringUTF(env,&quot;searchtag&quot;);\r\n    jstring year = (*env)-&gt;NewStringUTF(env,&quot;year&quot;);\r\n    jstring genre = (*env)-&gt;NewStringUTF(env,&quot;genre&quot;);\r\n    jstring rating = (*env)-&gt;NewStringUTF(env,&quot;rating&quot;);\r\n    jstring searchtag =(*env)-&gt;NewStringUTF(env,&quot;searchtag&quot;);\r\n    int i=0,m=0;\r\n    while(fscanf(fr,&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1)!=EOF){\r\n        m++;\r\n    }\r\n    jobjectArray ret = (*env)-&gt;NewObjectArray(env,m, cls_Properties, 0);\r\n    while(fscanf(fr,&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1)!=EOF){\r\n        printf(&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1);\r\n        jobject prop = (*env)-&gt;NewObject(env,cls_Properties, mid_Properties_ctor);\r\n        (*env)-&gt;PushLocalFrame(env,6);\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, title, (*env)-&gt;NewStringUTF(env,t1));\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, author, (*env)-&gt;NewStringUTF(env,a1));\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, year, (*env)-&gt;NewStringUTF(env,&quot;2000&quot;));\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, genre, (*env)-&gt;NewStringUTF(env,g1));\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, rating, (*env)-&gt;NewStringUTF(env,&quot;4.5&quot;));\r\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, searchtag, (*env)-&gt;NewStringUTF(env,s1));\r\n        prop = (*env)-&gt;PopLocalFrame(env,prop);\r\n        (*env)-&gt;SetObjectArrayElement(env,ret, i, prop);\r\n        i++;\r\n    }\r\n    fclose(fr);\r\n    return ret;    \r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThe java code that invokes view() funtion.\r\n\r\n***Java Code***\r\n\r\n```\r\npublic class jniex2{\r\n\tpublic native  Properties[] view();\r\n\tstatic{\r\n    \tSystem.loadLibrary(&quot;hello1&quot;);\r\n\t}\r\n\tpublic static void main(String ar[])throws IOException,FileNotFoundException{  \r\n\t    Properties[] records = jn.view();      \r\n\t    for(Properties record:records){\r\n\t        System.out.println(&quot;title:&quot;+record.getProperty(&quot;title&quot;));\r\n\t        System.out.println(&quot;author:&quot;+record.getProperty(&quot;author&quot;));\r\n\t        System.out.println(&quot;year:&quot;+record.getProperty(&quot;year&quot;));\r\n\t        System.out.println(&quot;genre:&quot;+record.getProperty(&quot;genre&quot;));\r\n\t        System.out.println(&quot;rating:&quot;+record.getProperty(&quot;rating&quot;));\r\n\t        System.out.println(&quot;searchtag:&quot;+record.getProperty(&quot;searchtag&quot;));\r\n\t        System.out.println(&quot;&quot;);\r\n\t    }\r\n\t}\r\n}\r\n```\r\n","title":"fatal error (JVM Crashed) while passing array of properties from c to java using jni","body":"<p>i want to read file and pass file contents from c to java using properties collection.\nI got\n&quot; A fatal error has been detected by the Java Runtime Environment:&quot;\nwhat would be the problem</p>\n<p><strong>C code</strong></p>\n<pre><code>\nJNIEXPORT jobjectArray JNICALL Java_jniex2_view\n  (JNIEnv *env, jobject this){\n    fr=fopen(&quot;lmf.txt&quot;,&quot;r&quot;);  \n    jclass cls_Properties = (*env)-&gt;FindClass(env,&quot;java/util/Properties&quot;);\n    jmethodID mid_Properties_ctor = (*env)-&gt;GetMethodID(env,cls_Properties, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n    jmethodID mid_Properties_put = (*env)-&gt;GetMethodID(env,cls_Properties, &quot;put&quot;, &quot;(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;&quot;);\n    jstring title = (*env)-&gt;NewStringUTF(env,&quot;title&quot;);\n    jstring author = (*env)-&gt;NewStringUTF(env,&quot;searchtag&quot;);\n    jstring year = (*env)-&gt;NewStringUTF(env,&quot;year&quot;);\n    jstring genre = (*env)-&gt;NewStringUTF(env,&quot;genre&quot;);\n    jstring rating = (*env)-&gt;NewStringUTF(env,&quot;rating&quot;);\n    jstring searchtag =(*env)-&gt;NewStringUTF(env,&quot;searchtag&quot;);\n    int i=0,m=0;\n    while(fscanf(fr,&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1)!=EOF){\n        m++;\n    }\n    jobjectArray ret = (*env)-&gt;NewObjectArray(env,m, cls_Properties, 0);\n    while(fscanf(fr,&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1)!=EOF){\n        printf(&quot;%[^:]:%s %s %s %s %s\\n&quot;,s1,t1,a1,y2,g1,r1);\n        jobject prop = (*env)-&gt;NewObject(env,cls_Properties, mid_Properties_ctor);\n        (*env)-&gt;PushLocalFrame(env,6);\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, title, (*env)-&gt;NewStringUTF(env,t1));\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, author, (*env)-&gt;NewStringUTF(env,a1));\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, year, (*env)-&gt;NewStringUTF(env,&quot;2000&quot;));\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, genre, (*env)-&gt;NewStringUTF(env,g1));\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, rating, (*env)-&gt;NewStringUTF(env,&quot;4.5&quot;));\n        (*env)-&gt;CallObjectMethod(env,prop, mid_Properties_put, searchtag, (*env)-&gt;NewStringUTF(env,s1));\n        prop = (*env)-&gt;PopLocalFrame(env,prop);\n        (*env)-&gt;SetObjectArrayElement(env,ret, i, prop);\n        i++;\n    }\n    fclose(fr);\n    return ret;    \n}\n\n\n</code></pre>\n<p>The java code that invokes view() funtion.</p>\n<p><em><strong>Java Code</strong></em></p>\n<pre><code>public class jniex2{\n    public native  Properties[] view();\n    static{\n        System.loadLibrary(&quot;hello1&quot;);\n    }\n    public static void main(String ar[])throws IOException,FileNotFoundException{  \n        Properties[] records = jn.view();      \n        for(Properties record:records){\n            System.out.println(&quot;title:&quot;+record.getProperty(&quot;title&quot;));\n            System.out.println(&quot;author:&quot;+record.getProperty(&quot;author&quot;));\n            System.out.println(&quot;year:&quot;+record.getProperty(&quot;year&quot;));\n            System.out.println(&quot;genre:&quot;+record.getProperty(&quot;genre&quot;));\n            System.out.println(&quot;rating:&quot;+record.getProperty(&quot;rating&quot;));\n            System.out.println(&quot;searchtag:&quot;+record.getProperty(&quot;searchtag&quot;));\n            System.out.println(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1619763605,"post_id":67313529,"comment_id":119007789,"body_markdown":"I think the question lacks details or clarity. What are you trying to achieve?","body":"I think the question lacks details or clarity. What are you trying to achieve?"},{"owner":{"account_id":9013600,"reputation":909,"user_id":6717287,"accept_rate":62,"display_name":"Amir Choubani"},"score":0,"creation_date":1641809799,"post_id":67313529,"comment_id":124894802,"body_markdown":"Did you solve this problem ?","body":"Did you solve this problem ?"}],"answers":[{"tags":[],"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651135197,"creation_date":1647600914,"answer_id":71525982,"question_id":67313529,"body_markdown":"I had the same problem ( Received fatal alert: protocol_version) with \r\n* org.apache.httpcomponents.client5:httpclient5:5.0.3 and \r\n* org.apache.httpcomponents.core5:httpcore5-reactive:5.1\r\n* OpenJDK 15.0.2\r\n\r\nTurns out that updating dependencies to 5.1.3 (latest at the time of writing) solves the problem\r\n\r\nSearching a bit further, I found this\r\nhttps://issues.apache.org/jira/browse/HTTPASYNC-164\r\n\r\nThe suggestion to `HttpAsyncClients.custom().setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)` solved the problem (it re-emerged after updating to 5.1.3)\r\n\r\n","title":"httpclient5 jdk8(1.8.0_292) CloseableHttpAsyncClient Received fatal alert: protocol_version but CloseableHttpClient works well","body":"<p>I had the same problem ( Received fatal alert: protocol_version) with</p>\n<ul>\n<li>org.apache.httpcomponents.client5:httpclient5:5.0.3 and</li>\n<li>org.apache.httpcomponents.core5:httpcore5-reactive:5.1</li>\n<li>OpenJDK 15.0.2</li>\n</ul>\n<p>Turns out that updating dependencies to 5.1.3 (latest at the time of writing) solves the problem</p>\n<p>Searching a bit further, I found this\n<a href=\"https://issues.apache.org/jira/browse/HTTPASYNC-164\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HTTPASYNC-164</a></p>\n<p>The suggestion to <code>HttpAsyncClients.custom().setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)</code> solved the problem (it re-emerged after updating to 5.1.3)</p>\n"}],"owner":{"account_id":6246493,"reputation":71,"user_id":4858194,"display_name":"yinwoods"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651135197,"creation_date":1619684169,"question_id":67313529,"body_markdown":"httpclient5 async code:\r\n\r\n```\r\nHttpContext httpContext = new BasicHttpContext();\r\nBasicCookieStore cookie = new BasicCookieStore();\r\nhttpContext.setAttribute(HttpClientContext.COOKIE_STORE, cookie);\r\nSimpleHttpRequest request = SimpleHttpRequest.copy(new HttpPost(&quot;http://www.baidu.com&quot;));\r\n\r\nfinal SSLContext sslcontext = CipherSuitesUtil.createSslContext();\r\nfinal TlsStrategy tlsStrategy = new DefaultClientTlsStrategy(sslcontext);\r\nfinal PoolingAsyncClientConnectionManager connectionManager = \r\nPoolingAsyncClientConnectionManagerBuilder\r\n    .create()\r\n    .setTlsStrategy(tlsStrategy)\r\n    .build();\r\n\r\nIOReactorConfig ioConfig = IOReactorConfig.custom()\r\n    .setSoKeepAlive(true)\r\n    .setSoTimeout(Timeout.ofMilliseconds(5000))\r\n    .setIoThreadCount(4)\r\n    .setSelectInterval(TimeValue.ofMilliseconds(500))\r\n    .build();\r\n\r\nRequestConfig requestConfig = RequestConfig.custom()\r\n    .setCookieSpec(StandardCookieSpec.RELAXED)\r\n    .setConnectTimeout(Timeout.ofMilliseconds(5000))\r\n    .setResponseTimeout(Timeout.ofMilliseconds(5000))\r\n    .setRedirectsEnabled(true)\r\n    .setMaxRedirects(10)\r\n    .build();\r\n\r\nHttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\r\n    .setDefaultRequestConfig(requestConfig)\r\n    .setRedirectStrategy(CustomRedirectStrategy.INSTANCE)\r\n    .setConnectionManager(connectionManager)\r\n    .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\r\n    .setIOReactorConfig(ioConfig);\r\n\r\nCloseableHttpAsyncClient client = clientBuilder.build();\r\n\r\nclient.start();\r\n\r\nclient.execute(request, httpContext, new FutureCallback&lt;SimpleHttpResponse&gt;() {\r\n    @Override\r\n    public void completed(SimpleHttpResponse result) {\r\n        System.out.println(result.getCode());\r\n    }\r\n\r\n    @Override\r\n    public void failed(Exception ex) {\r\n        ex.printStackTrace();\r\n        logger.info(&quot;{}&quot;, httpContext.getProtocolVersion());\r\n    }\r\n\r\n    @Override\r\n    public void cancelled() {\r\n        System.out.println(&quot;cancelled&quot;);\r\n    }\r\n});\r\n\r\n```\r\n\r\n\r\nhttp5 async log:\r\n```\r\n2021-04-29 16:01:07.688 DEBUG   --- [           main] .c.h.i.a.InternalAbstractHttpAsyncClient : ex-00000001: preparing request execution\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;User-Agent: Aliyun-PTS-Async/5.0.3 (Java/1.8.0_292)[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.700 DEBUG   --- [           main] o.a.h.c.http.protocol.RequestAddCookies  : Cookie spec selected: relaxed\r\n2021-04-29 16:01:07.706 DEBUG   --- [           main] o.a.h.c.http.protocol.RequestAuthCache   : Auth cache not set in the context\r\n2021-04-29 16:01:07.706 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: target auth state: UNCHALLENGED\r\n2021-04-29 16:01:07.707 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: proxy auth state: UNCHALLENGED\r\n2021-04-29 16:01:07.708 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: acquiring connection with route {}-&gt;http://www.baidu.com:80\r\n2021-04-29 16:01:07.709 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquiring endpoint (3 MINUTES)\r\n2021-04-29 16:01:07.710 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint lease request (3 MINUTES) [route: {}-&gt;http://www.baidu.com:80][total available: 0; route allocated: 0 of 5; total allocated: 0 of 25]\r\n2021-04-29 16:01:07.715 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint leased [route: {}-&gt;http://www.baidu.com:80][total available: 0; route allocated: 1 of 5; total allocated: 1 of 25]\r\n2021-04-29 16:01:07.716 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: acquired ep-00000000\r\n2021-04-29 16:01:07.716 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquired endpoint ep-00000000\r\n2021-04-29 16:01:07.717 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: connecting endpoint (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.717 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connecting endpoint to http://www.baidu.com:80 (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.718 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: resolving remote address\r\n2021-04-29 16:01:07.720 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: resolved to [www.baidu.com/180.101.49.11, www.baidu.com/180.101.49.12]\r\n2021-04-29 16:01:07.721 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: connecting null to www.baidu.com/180.101.49.11:80 (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.794 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: connected c-0000000000 /30.225.16.84:52320-&gt;www.baidu.com/180.101.49.11:80\r\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connected c-0000000000\r\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: endpoint connected\r\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: connected to target\r\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: route fully established\r\n2021-04-29 16:01:07.796 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: executing POST / HTTP/1.1\r\n2021-04-29 16:01:07.798 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: start execution ex-00000001\r\n2021-04-29 16:01:07.798 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: executing exchange ex-00000001 over c-0000000000\r\n2021-04-29 16:01:07.800 DEBUG   --- [ient-dispatch-1] .i.n.DefaultManagedAsyncClientConnection : c-0000000000: RequestExecutionCommand with NORMAL priority\r\n2021-04-29 16:01:07.800 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000[ACTIVE][rwc:c] Enqueued RequestExecutionCommand with priority IMMEDIATE\r\n2021-04-29 16:01:07.801 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: Event cleared [c]\r\n2021-04-29 16:01:07.813 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: send request POST / HTTP/1.1, null entity\r\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; POST / HTTP/1.1\r\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; Host: www.baidu.com\r\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; Connection: keep-alive\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: 117 bytes written\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;POST / HTTP/1.1[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;Host: www.baidu.com[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;Connection: keep-alive[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: Event set [w]\r\n2021-04-29 16:01:07.817 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:c]: Event cleared [w]\r\n2021-04-29 16:01:07.830 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:r]: 482 bytes read\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;HTTP/1.1 302 Found[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Bdpagetype: 3[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Connection: keep-alive[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Content-Length: 154[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Content-Type: text/html[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Date: Thu, 29 Apr 2021 08:01:07 GMT[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Location: https://www.baidu.com/search/error.html[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Server: BWS/1.1[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Set-Cookie: BDSVRTM=0; path=/[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Traceid: 161968326706131343469958385445872604417[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;X-Ua-Compatible: IE=Edge,chrome=1[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;html&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;head&gt;&lt;title&gt;302 Found&lt;/title&gt;&lt;/head&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;body bgcolor=&quot;white&quot;&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;center&gt;&lt;h1&gt;302 Found&lt;/h1&gt;&lt;/center&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;/body&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;/html&gt;[\\r][\\n]&quot;\r\n2021-04-29 16:01:07.835 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; HTTP/1.1 302 Found\r\n2021-04-29 16:01:07.835 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Bdpagetype: 3\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Connection: keep-alive\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Content-Length: 154\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Content-Type: text/html\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Date: Thu, 29 Apr 2021 08:01:07 GMT\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Location: https://www.baidu.com/search/error.html\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Server: BWS/1.1\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Set-Cookie: BDSVRTM=0; path=/\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Traceid: 161968326706131343469958385445872604417\r\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; X-Ua-Compatible: IE=Edge,chrome=1\r\n2021-04-29 16:01:07.837 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: consume response HTTP/1.1 302 Found, entity len 154\r\n2021-04-29 16:01:07.838 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.p.ResponseProcessCookies       : Cookie accepted [BDSVRTM=&quot;0&quot;, domain:www.baidu.com, path:/, expiry:null]\r\n2021-04-29 16:01:07.841 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: redirect requested to location &#39;https://www.baidu.com/search/error.html&#39;\r\n2021-04-29 16:01:07.842 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: resetting target auth state\r\n2021-04-29 16:01:07.842 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: redirecting to &#39;https://www.baidu.com/search/error.html&#39; via {}-&gt;http://www.baidu.com:80\r\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: consume response data, len 154 bytes\r\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: end of response data\r\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: releasing valid endpoint\r\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: releasing endpoint\r\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connection c-0000000000 can be kept alive for 3 MINUTES\r\n2021-04-29 16:01:07.845 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connection released [route: {}-&gt;http://www.baidu.com:80][total available: 1; route allocated: 1 of 5; total allocated: 1 of 25]\r\n2021-04-29 16:01:07.845 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAddCookies  : Cookie spec selected: relaxed\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAddCookies  : Cookie [name: BDSVRTM; value: 0; domain: www.baidu.com; path: /; expiry: null] match [(secure)www.baidu.com:443/search/error.html]\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAuthCache   : Auth cache not set in the context\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: target auth state: UNCHALLENGED\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: proxy auth state: UNCHALLENGED\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: acquiring connection with route {s}-&gt;https://www.baidu.com:443\r\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquiring endpoint (3 MINUTES)\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint lease request (3 MINUTES) [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 25]\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint leased [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 1 of 5; total allocated: 2 of 25]\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: acquired ep-00000001\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquired endpoint ep-00000001\r\n\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: connecting endpoint (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connecting endpoint to https://www.baidu.com:443 (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: resolving remote address\r\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: resolved to [www.baidu.com/180.101.49.11, www.baidu.com/180.101.49.12]\r\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: connecting null to www.baidu.com/180.101.49.11:443 (5000 MILLISECONDS)\r\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:r]: Event set [r]\r\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : c-0000000000 Connection is kept alive\r\n2021-04-29 16:01:07.868 DEBUG   --- [ient-dispatch-2] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: connected c-0000000001 /30.225.16.84:52321-&gt;www.baidu.com/180.101.49.11:443\r\n2021-04-29 16:01:07.869 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: start TLS\r\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connected c-0000000001\r\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: endpoint connected\r\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: connected to target\r\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: route fully established\r\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: executing GET /search/error.html HTTP/1.1\r\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: start execution ex-00000001\r\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: executing exchange ex-00000001 over c-0000000001\r\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: RequestExecutionCommand with NORMAL priority\r\n2021-04-29 16:01:07.883 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001[ACTIVE][rwc:c][ACTIVE][rw][NOT_HANDSHAKING][0][0][0] Enqueued RequestExecutionCommand with priority IMMEDIATE\r\n2021-04-29 16:01:07.883 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][rw:c][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: Event cleared [c]\r\n2021-04-29 16:01:07.886 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Enabled protocols: [TLSv1.2]\r\n2021-04-29 16:01:07.886 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n2021-04-29 16:01:08.009 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Secure session established\r\n2021-04-29 16:01:08.009 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  negotiated protocol: TLSv1.2\r\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  peer principal: CN=baidu.com, O=&quot;Beijing Baidu Netcom Science Technology Co., Ltd&quot;, OU=service operation department, L=beijing, ST=beijing, C=CN\r\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  peer alternative names: [baidu.com, baifubao.com, www.baidu.cn, www.baidu.com.cn, mct.y.nuomi.com, apollo.auto, dwz.cn, *.baidu.com, *.baifubao.com, *.baidustatic.com, *.bdstatic.com, *.bdimg.com, *.hao123.com, *.nuomi.com, *.chuanke.com, *.trustgo.com, *.bce.baidu.com, *.eyun.baidu.com, *.map.baidu.com, *.mbd.baidu.com, *.fanyi.baidu.com, *.baidubce.com, *.mipcdn.com, *.news.baidu.com, *.baidupcs.com, *.aipage.com, *.aipage.cn, *.bcehost.com, *.safe.baidu.com, *.im.baidu.com, *.baiducontent.com, *.dlnel.com, *.dlnel.org, *.dueros.baidu.com, *.su.baidu.com, *.91.com, *.hao123.baidu.com, *.apollo.auto, *.xueshu.baidu.com, *.bj.baidubce.com, *.gz.baidubce.com, *.smartapps.cn, *.bdtjrcv.com, *.hao222.com, *.haokan.com, *.pae.baidu.com, *.vd.bdstatic.com, click.hm.baidu.com, log.hm.baidu.com, cm.pos.baidu.com, wn.pos.baidu.com, update.pan.baidu.com]\r\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  issuer principal: CN=GlobalSign Organization Validation CA - SHA256 - G2, O=GlobalSign nv-sa, C=BE\r\n2021-04-29 16:01:08.013 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: send request GET /search/error.html HTTP/1.1, null entity\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; GET /search/error.html HTTP/1.1\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Cookie: BDSVRTM=0\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Host: www.baidu.com\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Connection: keep-alive\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][r:r][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: 152 bytes written\r\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;GET /search/error.html HTTP/1.1[\\r][\\n]&quot;\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Cookie: BDSVRTM=0[\\r][\\n]&quot;\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Host: www.baidu.com[\\r][\\n]&quot;\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Connection: keep-alive[\\r][\\n]&quot;\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][rw:r][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: Event set [w]\r\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][r:r][ACTIVE][r][NOT_HANDSHAKING][0][0][0]: Event cleared [w]\r\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: execution failed: Received fatal alert: protocol_version\r\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .c.h.i.a.InternalAbstractHttpAsyncClient : ex-00000001: request failed: Received fatal alert: protocol_version\r\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: close IMMEDIATE\r\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: Shutdown connection IMMEDIATE\r\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[CLOSED][][CLOSED][r][NOT_HANDSHAKING][inbound done][][outbound done][][31][0][0]: Close IMMEDIATE\r\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: endpoint closed\r\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: discarding endpoint\r\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: releasing endpoint\r\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connection released [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 25]\r\n2021-04-29 16:01:08.036  INFO   --- [ient-dispatch-2] c.t.a.allspark.agent.util.HttpUtilTest   : HTTP/1.1\r\n2021-04-29 16:01:08.036 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[CLOSED][][CLOSED][r][NOT_HANDSHAKING][inbound done][][outbound done][][31][0][0]: Close IMMEDIATE\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:311)\r\n\tat sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n\tat sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:575)\r\n\tat sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:531)\r\n\tat sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:398)\r\n\tat sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:377)\r\n\tat javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:626)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession.doUnwrap(SSLIOSession.java:288)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession.decryptData(SSLIOSession.java:543)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession.access$400(SSLIOSession.java:72)\r\n\tat org.apache.hc.core5.reactor.ssl.SSLIOSession$1.inputReady(SSLIOSession.java:172)\r\n\tat org.apache.hc.core5.reactor.InternalDataChannel.onIOEvent(InternalDataChannel.java:131)\r\n\tat org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51)\r\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:179)\r\n\tat org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:128)\r\n\tat org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:85)\r\n\tat org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\nI&#39;ve tried https://stackoverflow.com/questions/66496112/apache-http-client-5-0-http-2-post-example-needed this, upgrade jdk8 to jdk8(1.8.0_292), and install jce, but still not work. really need some help.\r\n\r\nAnd also I checked this, seems TLSV1.2 and TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 is ok.","title":"httpclient5 jdk8(1.8.0_292) CloseableHttpAsyncClient Received fatal alert: protocol_version but CloseableHttpClient works well","body":"<p>httpclient5 async code:</p>\n<pre><code>HttpContext httpContext = new BasicHttpContext();\nBasicCookieStore cookie = new BasicCookieStore();\nhttpContext.setAttribute(HttpClientContext.COOKIE_STORE, cookie);\nSimpleHttpRequest request = SimpleHttpRequest.copy(new HttpPost(&quot;http://www.baidu.com&quot;));\n\nfinal SSLContext sslcontext = CipherSuitesUtil.createSslContext();\nfinal TlsStrategy tlsStrategy = new DefaultClientTlsStrategy(sslcontext);\nfinal PoolingAsyncClientConnectionManager connectionManager = \nPoolingAsyncClientConnectionManagerBuilder\n    .create()\n    .setTlsStrategy(tlsStrategy)\n    .build();\n\nIOReactorConfig ioConfig = IOReactorConfig.custom()\n    .setSoKeepAlive(true)\n    .setSoTimeout(Timeout.ofMilliseconds(5000))\n    .setIoThreadCount(4)\n    .setSelectInterval(TimeValue.ofMilliseconds(500))\n    .build();\n\nRequestConfig requestConfig = RequestConfig.custom()\n    .setCookieSpec(StandardCookieSpec.RELAXED)\n    .setConnectTimeout(Timeout.ofMilliseconds(5000))\n    .setResponseTimeout(Timeout.ofMilliseconds(5000))\n    .setRedirectsEnabled(true)\n    .setMaxRedirects(10)\n    .build();\n\nHttpAsyncClientBuilder clientBuilder = HttpAsyncClients.custom()\n    .setDefaultRequestConfig(requestConfig)\n    .setRedirectStrategy(CustomRedirectStrategy.INSTANCE)\n    .setConnectionManager(connectionManager)\n    .setVersionPolicy(HttpVersionPolicy.FORCE_HTTP_1)\n    .setIOReactorConfig(ioConfig);\n\nCloseableHttpAsyncClient client = clientBuilder.build();\n\nclient.start();\n\nclient.execute(request, httpContext, new FutureCallback&lt;SimpleHttpResponse&gt;() {\n    @Override\n    public void completed(SimpleHttpResponse result) {\n        System.out.println(result.getCode());\n    }\n\n    @Override\n    public void failed(Exception ex) {\n        ex.printStackTrace();\n        logger.info(&quot;{}&quot;, httpContext.getProtocolVersion());\n    }\n\n    @Override\n    public void cancelled() {\n        System.out.println(&quot;cancelled&quot;);\n    }\n});\n\n</code></pre>\n<p>http5 async log:</p>\n<pre><code>2021-04-29 16:01:07.688 DEBUG   --- [           main] .c.h.i.a.InternalAbstractHttpAsyncClient : ex-00000001: preparing request execution\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;User-Agent: Aliyun-PTS-Async/5.0.3 (Java/1.8.0_292)[\\r][\\n]&quot;\n2021-04-29 16:01:07.700 DEBUG   --- [           main] o.a.h.c.http.protocol.RequestAddCookies  : Cookie spec selected: relaxed\n2021-04-29 16:01:07.706 DEBUG   --- [           main] o.a.h.c.http.protocol.RequestAuthCache   : Auth cache not set in the context\n2021-04-29 16:01:07.706 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: target auth state: UNCHALLENGED\n2021-04-29 16:01:07.707 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: proxy auth state: UNCHALLENGED\n2021-04-29 16:01:07.708 DEBUG   --- [           main] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: acquiring connection with route {}-&gt;http://www.baidu.com:80\n2021-04-29 16:01:07.709 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquiring endpoint (3 MINUTES)\n2021-04-29 16:01:07.710 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint lease request (3 MINUTES) [route: {}-&gt;http://www.baidu.com:80][total available: 0; route allocated: 0 of 5; total allocated: 0 of 25]\n2021-04-29 16:01:07.715 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint leased [route: {}-&gt;http://www.baidu.com:80][total available: 0; route allocated: 1 of 5; total allocated: 1 of 25]\n2021-04-29 16:01:07.716 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: acquired ep-00000000\n2021-04-29 16:01:07.716 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquired endpoint ep-00000000\n2021-04-29 16:01:07.717 DEBUG   --- [           main] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: connecting endpoint (5000 MILLISECONDS)\n2021-04-29 16:01:07.717 DEBUG   --- [           main] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connecting endpoint to http://www.baidu.com:80 (5000 MILLISECONDS)\n2021-04-29 16:01:07.718 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: resolving remote address\n2021-04-29 16:01:07.720 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: resolved to [www.baidu.com/180.101.49.11, www.baidu.com/180.101.49.12]\n2021-04-29 16:01:07.721 DEBUG   --- [           main] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: connecting null to www.baidu.com/180.101.49.11:80 (5000 MILLISECONDS)\n2021-04-29 16:01:07.794 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : http://www.baidu.com:80: connected c-0000000000 /30.225.16.84:52320-&gt;www.baidu.com/180.101.49.11:80\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connected c-0000000000\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: endpoint connected\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: connected to target\n2021-04-29 16:01:07.795 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: route fully established\n2021-04-29 16:01:07.796 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: executing POST / HTTP/1.1\n2021-04-29 16:01:07.798 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: start execution ex-00000001\n2021-04-29 16:01:07.798 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: executing exchange ex-00000001 over c-0000000000\n2021-04-29 16:01:07.800 DEBUG   --- [ient-dispatch-1] .i.n.DefaultManagedAsyncClientConnection : c-0000000000: RequestExecutionCommand with NORMAL priority\n2021-04-29 16:01:07.800 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000[ACTIVE][rwc:c] Enqueued RequestExecutionCommand with priority IMMEDIATE\n2021-04-29 16:01:07.801 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: Event cleared [c]\n2021-04-29 16:01:07.813 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: send request POST / HTTP/1.1, null entity\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; POST / HTTP/1.1\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; Host: www.baidu.com\n2021-04-29 16:01:07.814 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &gt;&gt; Connection: keep-alive\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: 117 bytes written\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;POST / HTTP/1.1[\\r][\\n]&quot;\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;Host: www.baidu.com[\\r][\\n]&quot;\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;Connection: keep-alive[\\r][\\n]&quot;\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &gt;&gt; &quot;[\\r][\\n]&quot;\n2021-04-29 16:01:07.816 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][rw:c]: Event set [w]\n2021-04-29 16:01:07.817 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:c]: Event cleared [w]\n2021-04-29 16:01:07.830 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:r]: 482 bytes read\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;HTTP/1.1 302 Found[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Bdpagetype: 3[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Connection: keep-alive[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Content-Length: 154[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Content-Type: text/html[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Date: Thu, 29 Apr 2021 08:01:07 GMT[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Location: https://www.baidu.com/search/error.html[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Server: BWS/1.1[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Set-Cookie: BDSVRTM=0; path=/[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;Traceid: 161968326706131343469958385445872604417[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;X-Ua-Compatible: IE=Edge,chrome=1[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;html&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.831 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;head&gt;&lt;title&gt;302 Found&lt;/title&gt;&lt;/head&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;body bgcolor=&quot;white&quot;&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;center&gt;&lt;h1&gt;302 Found&lt;/h1&gt;&lt;/center&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;/body&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.832 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.wire          : c-0000000000 &lt;&lt; &quot;&lt;/html&gt;[\\r][\\n]&quot;\n2021-04-29 16:01:07.835 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; HTTP/1.1 302 Found\n2021-04-29 16:01:07.835 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Bdpagetype: 3\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Connection: keep-alive\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Content-Length: 154\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Content-Type: text/html\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Date: Thu, 29 Apr 2021 08:01:07 GMT\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Location: https://www.baidu.com/search/error.html\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Server: BWS/1.1\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Set-Cookie: BDSVRTM=0; path=/\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; Traceid: 161968326706131343469958385445872604417\n2021-04-29 16:01:07.836 DEBUG   --- [ient-dispatch-1] org.apache.hc.client5.http.headers       : c-0000000000 &lt;&lt; X-Ua-Compatible: IE=Edge,chrome=1\n2021-04-29 16:01:07.837 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: consume response HTTP/1.1 302 Found, entity len 154\n2021-04-29 16:01:07.838 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.p.ResponseProcessCookies       : Cookie accepted [BDSVRTM=&quot;0&quot;, domain:www.baidu.com, path:/, expiry:null]\n2021-04-29 16:01:07.841 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: redirect requested to location 'https://www.baidu.com/search/error.html'\n2021-04-29 16:01:07.842 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: resetting target auth state\n2021-04-29 16:01:07.842 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncRedirectExec   : ex-00000001: redirecting to 'https://www.baidu.com/search/error.html' via {}-&gt;http://www.baidu.com:80\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: consume response data, len 154 bytes\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: end of response data\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000000: releasing valid endpoint\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: releasing endpoint\n2021-04-29 16:01:07.844 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connection c-0000000000 can be kept alive for 3 MINUTES\n2021-04-29 16:01:07.845 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000000: connection released [route: {}-&gt;http://www.baidu.com:80][total available: 1; route allocated: 1 of 5; total allocated: 1 of 25]\n2021-04-29 16:01:07.845 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAddCookies  : Cookie spec selected: relaxed\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAddCookies  : Cookie [name: BDSVRTM; value: 0; domain: www.baidu.com; path: /; expiry: null] match [(secure)www.baidu.com:443/search/error.html]\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.http.protocol.RequestAuthCache   : Auth cache not set in the context\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: target auth state: UNCHALLENGED\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncProtocolExec   : ex-00000001: proxy auth state: UNCHALLENGED\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: acquiring connection with route {s}-&gt;https://www.baidu.com:443\n2021-04-29 16:01:07.851 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquiring endpoint (3 MINUTES)\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint lease request (3 MINUTES) [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 25]\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: endpoint leased [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 1 of 5; total allocated: 2 of 25]\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ex-00000001: acquired ep-00000001\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ex-00000001: acquired endpoint ep-00000001\n\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: connecting endpoint (5000 MILLISECONDS)\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connecting endpoint to https://www.baidu.com:443 (5000 MILLISECONDS)\n2021-04-29 16:01:07.852 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: resolving remote address\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: resolved to [www.baidu.com/180.101.49.11, www.baidu.com/180.101.49.12]\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: connecting null to www.baidu.com/180.101.49.11:443 (5000 MILLISECONDS)\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] o.apache.hc.core5.reactor.IOSessionImpl  : c-0000000000 c-0000000000[ACTIVE][r:r]: Event set [r]\n2021-04-29 16:01:07.853 DEBUG   --- [ient-dispatch-1] o.a.h.c.h.i.a.InternalHttpAsyncClient    : c-0000000000 Connection is kept alive\n2021-04-29 16:01:07.868 DEBUG   --- [ient-dispatch-2] .a.h.c.h.i.n.MultihomeIOSessionRequester : https://www.baidu.com:443: connected c-0000000001 /30.225.16.84:52321-&gt;www.baidu.com/180.101.49.11:443\n2021-04-29 16:01:07.869 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: start TLS\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connected c-0000000001\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: endpoint connected\n2021-04-29 16:01:07.881 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: connected to target\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.impl.async.AsyncConnectExec    : ex-00000001: route fully established\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: executing GET /search/error.html HTTP/1.1\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: start execution ex-00000001\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: executing exchange ex-00000001 over c-0000000001\n2021-04-29 16:01:07.882 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: RequestExecutionCommand with NORMAL priority\n2021-04-29 16:01:07.883 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001[ACTIVE][rwc:c][ACTIVE][rw][NOT_HANDSHAKING][0][0][0] Enqueued RequestExecutionCommand with priority IMMEDIATE\n2021-04-29 16:01:07.883 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][rw:c][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: Event cleared [c]\n2021-04-29 16:01:07.886 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Enabled protocols: [TLSv1.2]\n2021-04-29 16:01:07.886 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n2021-04-29 16:01:08.009 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  : Secure session established\n2021-04-29 16:01:08.009 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  negotiated protocol: TLSv1.2\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  peer principal: CN=baidu.com, O=&quot;Beijing Baidu Netcom Science Technology Co., Ltd&quot;, OU=service operation department, L=beijing, ST=beijing, C=CN\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  peer alternative names: [baidu.com, baifubao.com, www.baidu.cn, www.baidu.com.cn, mct.y.nuomi.com, apollo.auto, dwz.cn, *.baidu.com, *.baifubao.com, *.baidustatic.com, *.bdstatic.com, *.bdimg.com, *.hao123.com, *.nuomi.com, *.chuanke.com, *.trustgo.com, *.bce.baidu.com, *.eyun.baidu.com, *.map.baidu.com, *.mbd.baidu.com, *.fanyi.baidu.com, *.baidubce.com, *.mipcdn.com, *.news.baidu.com, *.baidupcs.com, *.aipage.com, *.aipage.cn, *.bcehost.com, *.safe.baidu.com, *.im.baidu.com, *.baiducontent.com, *.dlnel.com, *.dlnel.org, *.dueros.baidu.com, *.su.baidu.com, *.91.com, *.hao123.baidu.com, *.apollo.auto, *.xueshu.baidu.com, *.bj.baidubce.com, *.gz.baidubce.com, *.smartapps.cn, *.bdtjrcv.com, *.hao222.com, *.haokan.com, *.pae.baidu.com, *.vd.bdstatic.com, click.hm.baidu.com, log.hm.baidu.com, cm.pos.baidu.com, wn.pos.baidu.com, update.pan.baidu.com]\n2021-04-29 16:01:08.010 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.ssl.AbstractClientTlsStrategy  :  issuer principal: CN=GlobalSign Organization Validation CA - SHA256 - G2, O=GlobalSign nv-sa, C=BE\n2021-04-29 16:01:08.013 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: send request GET /search/error.html HTTP/1.1, null entity\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; GET /search/error.html HTTP/1.1\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Cookie: BDSVRTM=0\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Host: www.baidu.com\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.headers       : c-0000000001 &gt;&gt; Connection: keep-alive\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][r:r][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: 152 bytes written\n2021-04-29 16:01:08.014 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;GET /search/error.html HTTP/1.1[\\r][\\n]&quot;\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Cookie: BDSVRTM=0[\\r][\\n]&quot;\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Host: www.baidu.com[\\r][\\n]&quot;\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;Connection: keep-alive[\\r][\\n]&quot;\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] org.apache.hc.client5.http.wire          : c-0000000001 &gt;&gt; &quot;[\\r][\\n]&quot;\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][rw:r][ACTIVE][rw][NOT_HANDSHAKING][0][0][0]: Event set [w]\n2021-04-29 16:01:08.015 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[ACTIVE][r:r][ACTIVE][r][NOT_HANDSHAKING][0][0][0]: Event cleared [w]\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.HttpAsyncMainClientExec    : ex-00000001: execution failed: Received fatal alert: protocol_version\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .c.h.i.a.InternalAbstractHttpAsyncClient : ex-00000001: request failed: Received fatal alert: protocol_version\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: close IMMEDIATE\n2021-04-29 16:01:08.034 DEBUG   --- [ient-dispatch-2] .i.n.DefaultManagedAsyncClientConnection : c-0000000001: Shutdown connection IMMEDIATE\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[CLOSED][][CLOSED][r][NOT_HANDSHAKING][inbound done][][outbound done][][31][0][0]: Close IMMEDIATE\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: endpoint closed\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] o.a.h.c.h.i.a.InternalHttpAsyncClient    : ep-00000001: discarding endpoint\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: releasing endpoint\n2021-04-29 16:01:08.035 DEBUG   --- [ient-dispatch-2] .i.n.PoolingAsyncClientConnectionManager : ep-00000001: connection released [route: {s}-&gt;https://www.baidu.com:443][total available: 1; route allocated: 0 of 5; total allocated: 1 of 25]\n2021-04-29 16:01:08.036  INFO   --- [ient-dispatch-2] c.t.a.allspark.agent.util.HttpUtilTest   : HTTP/1.1\n2021-04-29 16:01:08.036 DEBUG   --- [ient-dispatch-2] o.a.hc.core5.reactor.ssl.SSLIOSession    : c-0000000001 c-0000000001[CLOSED][][CLOSED][r][NOT_HANDSHAKING][inbound done][][outbound done][][31][0][0]: Close IMMEDIATE\njavax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\n    at sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:311)\n    at sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n    at sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:575)\n    at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:531)\n    at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:398)\n    at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:377)\n    at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:626)\n    at org.apache.hc.core5.reactor.ssl.SSLIOSession.doUnwrap(SSLIOSession.java:288)\n    at org.apache.hc.core5.reactor.ssl.SSLIOSession.decryptData(SSLIOSession.java:543)\n    at org.apache.hc.core5.reactor.ssl.SSLIOSession.access$400(SSLIOSession.java:72)\n    at org.apache.hc.core5.reactor.ssl.SSLIOSession$1.inputReady(SSLIOSession.java:172)\n    at org.apache.hc.core5.reactor.InternalDataChannel.onIOEvent(InternalDataChannel.java:131)\n    at org.apache.hc.core5.reactor.InternalChannel.handleIOEvent(InternalChannel.java:51)\n    at org.apache.hc.core5.reactor.SingleCoreIOReactor.processEvents(SingleCoreIOReactor.java:179)\n    at org.apache.hc.core5.reactor.SingleCoreIOReactor.doExecute(SingleCoreIOReactor.java:128)\n    at org.apache.hc.core5.reactor.AbstractSingleCoreIOReactor.execute(AbstractSingleCoreIOReactor.java:85)\n    at org.apache.hc.core5.reactor.IOReactorWorker.run(IOReactorWorker.java:44)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>I've tried <a href=\"https://stackoverflow.com/questions/66496112/apache-http-client-5-0-http-2-post-example-needed\">Apache HTTP Client 5.0 HTTP/2 POST Example needed</a> this, upgrade jdk8 to jdk8(1.8.0_292), and install jce, but still not work. really need some help.</p>\n<p>And also I checked this, seems TLSV1.2 and TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 is ok.</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6350435,"reputation":151,"user_id":4929673,"display_name":"Ishani Samaraweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651135019,"creation_date":1651135019,"answer_id":72040498,"question_id":72038153,"body_markdown":"Add a gradle.properties file that contains the following properties\r\n\r\n    GitHubPackagesUsername=yourUsername\r\n    GitHubPackagesPassword=tokenId\r\n\r\nand save it in the .gradle folder\r\n","title":"Gradle properties are missing for &#39;GitHubPackages&#39; credentials","body":"<p>Add a gradle.properties file that contains the following properties</p>\n<pre><code>GitHubPackagesUsername=yourUsername\nGitHubPackagesPassword=tokenId\n</code></pre>\n<p>and save it in the .gradle folder</p>\n"}],"owner":{"account_id":6350435,"reputation":151,"user_id":4929673,"display_name":"Ishani Samaraweera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72040498,"answer_count":1,"score":0,"last_activity_date":1651135019,"creation_date":1651121166,"question_id":72038153,"body_markdown":"I am trying to build my spring boot project in IntelliJ idea but it gives the following error. I am using Gradle to build the project. \r\n\r\n    Caused by: org.gradle.api.internal.provider.MissingValueException: The following Gradle properties are missing for &#39;GitHubPackages&#39; credentials:\r\n      - GitHubPackagesUsername\r\n      - GitHubPackagesPassword\r\n    \tat org.gradle.api.internal.provider.CredentialsProviderFactory$CredentialsProvider.assertRequiredValuesPresent(CredentialsProviderFactory.java:119)\r\n    \tat org.gradle.api.internal.provider.CredentialsProviderFactory$PasswordCredentialsProvider.call(CredentialsProviderFactory.java:138)","title":"Gradle properties are missing for &#39;GitHubPackages&#39; credentials","body":"<p>I am trying to build my spring boot project in IntelliJ idea but it gives the following error. I am using Gradle to build the project.</p>\n<pre><code>Caused by: org.gradle.api.internal.provider.MissingValueException: The following Gradle properties are missing for 'GitHubPackages' credentials:\n  - GitHubPackagesUsername\n  - GitHubPackagesPassword\n    at org.gradle.api.internal.provider.CredentialsProviderFactory$CredentialsProvider.assertRequiredValuesPresent(CredentialsProviderFactory.java:119)\n    at org.gradle.api.internal.provider.CredentialsProviderFactory$PasswordCredentialsProvider.call(CredentialsProviderFactory.java:138)\n</code></pre>\n"},{"tags":["java","spring-boot","selenium","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":25125097,"reputation":21,"user_id":18972980,"display_name":"Ra&#250;l Torrecilla Moreno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651135008,"creation_date":1651135008,"question_id":72040496,"body_markdown":"I have used different options, which do work for me with headlessmode enabled, but not inactive.\r\n```java\r\nprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\nprefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\r\nprefs.put(&quot;download.prompt_for_download&quot;, false);\r\nprefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\r\n```\r\nAnd when setting the download directory by default, it ignores the previous configurations, and the popup keeps popping up, thus failing me the tests that have some implication in downloading some type of file.","title":"I&#39;m trying to remove the option of where to save a file to download from chrome, and I can&#39;t get it with this configuration","body":"<p>I have used different options, which do work for me with headlessmode enabled, but not inactive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\nprefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\nprefs.put(&quot;download.prompt_for_download&quot;, false);\nprefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\n</code></pre>\n<p>And when setting the download directory by default, it ignores the previous configurations, and the popup keeps popping up, thus failing me the tests that have some implication in downloading some type of file.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":3,"creation_date":1651133712,"post_id":72040182,"comment_id":127292054,"body_markdown":"What is the logic behind this?","body":"What is the logic behind this?"},{"owner":{"account_id":25125003,"reputation":3,"user_id":18972898,"display_name":"kaarolakus.krawwwczakus"},"score":0,"creation_date":1651133970,"post_id":72040182,"comment_id":127292139,"body_markdown":"take successive elements from the first list, search for the same element (key2) in the second list, and save key1 of this found element to the result list","body":"take successive elements from the first list, search for the same element (key2) in the second list, and save key1 of this found element to the result list"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1651134060,"post_id":72040182,"comment_id":127292181,"body_markdown":"That explanation is needed in the actual question","body":"That explanation is needed in the actual question"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1651134081,"post_id":72040182,"comment_id":127292186,"body_markdown":"@LinFelix List two contains objects based on K/V. List one contains V from these objects. The user wants the keys depends on elements in list one. Your are right, the post is in poor quality.","body":"@LinFelix List two contains objects based on K/V. List one contains V from these objects. The user wants the keys depends on elements in list one. Your are right, the post is in poor quality."}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651134126,"creation_date":1651134126,"answer_id":72040299,"question_id":72040182,"body_markdown":"There are many possible approaches to this. The following basic solution has a quadratic time complexity, so it&#39;s not good if List2 is large:\r\n```java\r\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\nfor (Integer key : List1) {\r\n   for (MyObject obj : List2) {\r\n      if (obj.getSecondElement().equals(key)) {\r\n         result.add(obj.getFirstElement());\r\n      }\r\n   }\r\n}\r\n```\r\nIf the List2 is large than you better construct a map from it&#39;s second element to the first one first, and then make search in this map.\r\n","title":"How to make a list based on two other lists in java","body":"<p>There are many possible approaches to this. The following basic solution has a quadratic time complexity, so it's not good if List2 is large:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nfor (Integer key : List1) {\n   for (MyObject obj : List2) {\n      if (obj.getSecondElement().equals(key)) {\n         result.add(obj.getFirstElement());\n      }\n   }\n}\n</code></pre>\n<p>If the List2 is large than you better construct a map from it's second element to the first one first, and then make search in this map.</p>\n"}],"owner":{"account_id":25125003,"reputation":3,"user_id":18972898,"display_name":"kaarolakus.krawwwczakus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651134173,"accepted_answer_id":72040299,"answer_count":1,"score":0,"last_activity_date":1651134126,"creation_date":1651133593,"question_id":72040182,"body_markdown":"I want to make a new list which is based on the values ​​of two lists and has as many elements as the first list, e.g.\r\n\r\nInput:\r\n\r\n    MyOjbect: int key1, int key2;\r\n    \r\n    List1&lt;Integer&gt;: {1,2,3,3,2}\r\n    \r\n    \r\n    \r\n    List2&lt;MyObject&gt;: {{20,5},\r\n    \t\t {21,4},\r\n    \t\t {22,3},\r\n    \t\t {23,2},\r\n    \t\t {24,1},\r\n    \t\t {25,0},\r\n    \t\t {26,-1}}\r\n\r\nOutput(a list with the same number of elements as the first list):\r\n\r\n    List3&lt;Integer&gt;: {24,23,22,22,23}","title":"How to make a list based on two other lists in java","body":"<p>I want to make a new list which is based on the values ​​of two lists and has as many elements as the first list, e.g.</p>\n<p>Input:</p>\n<pre><code>MyOjbect: int key1, int key2;\n\nList1&lt;Integer&gt;: {1,2,3,3,2}\n\n\n\nList2&lt;MyObject&gt;: {{20,5},\n         {21,4},\n         {22,3},\n         {23,2},\n         {24,1},\n         {25,0},\n         {26,-1}}\n</code></pre>\n<p>Output(a list with the same number of elements as the first list):</p>\n<pre><code>List3&lt;Integer&gt;: {24,23,22,22,23}\n</code></pre>\n"},{"tags":["java","arrays","json","comparator"],"comments":[{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":0,"creation_date":1651130035,"post_id":72039446,"comment_id":127290765,"body_markdown":"Your code is not valid Java, can you show some example code that compiles and runs?","body":"Your code is not valid Java, can you show some example code that compiles and runs?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1651130045,"post_id":72039446,"comment_id":127290774,"body_markdown":"*&quot;Tried with Java comparator, but couldn&#39;t make it work.&quot;* please [edit] your question to include your attempt, so we can start from that.","body":"<i>&quot;Tried with Java comparator, but couldn&#39;t make it work.&quot;</i> please <a href=\"https://stackoverflow.com/posts/72039446/edit\">edit</a> your question to include your attempt, so we can start from that."}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651132688,"creation_date":1651130481,"answer_id":72039563,"question_id":72039446,"body_markdown":"A simpler approach here: \r\n\r\nYou could convert your JSON string to `List&lt;YourObject&gt;` by using Jackson&#39;s `ObjectMapper`\r\n\r\n```java\r\nList&lt;YourObject&gt; list = objectMapper.readValue(json, new TypeReference&lt;List&lt;YourObject&gt;&gt;(){});\r\n```\r\n\r\nThen use `Collections.sort`  and `Comparator` to sort this list. You can also implement a custom `Comparator` to sort a list by multiple attributes depending on your situation.\r\n\r\n```java\r\nlist.sort(Comparator.comparing(YourObject::getRow)\r\n    .thenComparing(YourObject::getValue));\r\n```","title":"Java - sort JSONArray based on two attribute values","body":"<p>A simpler approach here:</p>\n<p>You could convert your JSON string to <code>List&lt;YourObject&gt;</code> by using Jackson's <code>ObjectMapper</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;YourObject&gt; list = objectMapper.readValue(json, new TypeReference&lt;List&lt;YourObject&gt;&gt;(){});\n</code></pre>\n<p>Then use <code>Collections.sort</code>  and <code>Comparator</code> to sort this list. You can also implement a custom <code>Comparator</code> to sort a list by multiple attributes depending on your situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.sort(Comparator.comparing(YourObject::getRow)\n    .thenComparing(YourObject::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651131219,"creation_date":1651130742,"answer_id":72039612,"question_id":72039446,"body_markdown":"It  would be easy to extend [this answer][1] to match your scenario\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19546513/7237884\r\n\r\nBut instead of\r\n\r\n     return valA.compareTo(valB);\r\n\r\nyou should do\r\n\r\n   \r\n\r\n         int comp = valA.compareTo(valB);\r\n            if (comp == 0){\r\n                String valC = (String) a.get(KEY_NAME2);\r\n                String valD = (String) b.get(KEY_NAME2);\r\n                return valC.compareTo(valD);\r\n            } else {\r\n                return comp;\r\n            }\r\n\r\n\r\nSo it should be the following.\r\n\r\n        JSONArray sortedJsonArray = new JSONArray();\r\n        List&lt;JSONObject&gt; jsonValues = new ArrayList&lt;JSONObject&gt;();\r\n        for (int i = 0; i &lt; dataArray.length(); i++) {   // &lt;---- dataArray is the input that you have\r\n            jsonValues.add(dataArray.getJSONObject(i));\r\n        }\r\n        Collections.sort( jsonValues, new Comparator&lt;JSONObject&gt;() {\r\n            //You can change &quot;Name&quot; with &quot;ID&quot; if you want to sort by ID\r\n            private static final String KEY_NAME1 = &quot;row&quot;;\r\n            private static final String KEY_NAME2 = &quot;value&quot;;\r\n    \r\n            @Override\r\n            public int compare(JSONObject a, JSONObject b) {\r\n                String valA = new String();\r\n                String valB = new String();\r\n    \r\n                try {\r\n                    valA = (String) a.get(KEY_NAME1);\r\n                    valB = (String) b.get(KEY_NAME1);\r\n                }\r\n                catch (JSONException e) {\r\n                    //do something\r\n                }\r\n    \r\n                int comp = valA.compareTo(valB);\r\n                if (comp == 0){\r\n                    String valC = (String) a.get(KEY_NAME2);\r\n                    String valD = (String) b.get(KEY_NAME2);\r\n                    return valC.compareTo(valD);\r\n                } else {\r\n                    return comp;\r\n                }\r\n            }\r\n        });\r\n\r\n**Edit**: changed into `KEY_NAME1 = &quot;row&quot;;` to match the new question requirement","title":"Java - sort JSONArray based on two attribute values","body":"<p>It  would be easy to extend <a href=\"https://stackoverflow.com/a/19546513/7237884\">this answer</a> to match your scenario</p>\n<p>But instead of</p>\n<pre><code> return valA.compareTo(valB);\n</code></pre>\n<p>you should do</p>\n<pre><code>     int comp = valA.compareTo(valB);\n        if (comp == 0){\n            String valC = (String) a.get(KEY_NAME2);\n            String valD = (String) b.get(KEY_NAME2);\n            return valC.compareTo(valD);\n        } else {\n            return comp;\n        }\n</code></pre>\n<p>So it should be the following.</p>\n<pre><code>    JSONArray sortedJsonArray = new JSONArray();\n    List&lt;JSONObject&gt; jsonValues = new ArrayList&lt;JSONObject&gt;();\n    for (int i = 0; i &lt; dataArray.length(); i++) {   // &lt;---- dataArray is the input that you have\n        jsonValues.add(dataArray.getJSONObject(i));\n    }\n    Collections.sort( jsonValues, new Comparator&lt;JSONObject&gt;() {\n        //You can change &quot;Name&quot; with &quot;ID&quot; if you want to sort by ID\n        private static final String KEY_NAME1 = &quot;row&quot;;\n        private static final String KEY_NAME2 = &quot;value&quot;;\n\n        @Override\n        public int compare(JSONObject a, JSONObject b) {\n            String valA = new String();\n            String valB = new String();\n\n            try {\n                valA = (String) a.get(KEY_NAME1);\n                valB = (String) b.get(KEY_NAME1);\n            }\n            catch (JSONException e) {\n                //do something\n            }\n\n            int comp = valA.compareTo(valB);\n            if (comp == 0){\n                String valC = (String) a.get(KEY_NAME2);\n                String valD = (String) b.get(KEY_NAME2);\n                return valC.compareTo(valD);\n            } else {\n                return comp;\n            }\n        }\n    });\n</code></pre>\n<p><strong>Edit</strong>: changed into <code>KEY_NAME1 = &quot;row&quot;;</code> to match the new question requirement</p>\n"},{"tags":[],"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651131472,"creation_date":1651131472,"answer_id":72039751,"question_id":72039446,"body_markdown":"Let&#39;s assume you deserialize your json data into objects like\r\n```java\r\npublic class DataRow {\r\n    private String name;\r\n    private int row;\r\n    private int value;\r\n    // Getter, Setter, Constructor what ever needed\r\n}\r\n```\r\nThen you can work with a list and stream like:\r\n\r\n```java\r\nList&lt;DataRow&gt; datarows = //... read data from json\r\n\r\nList&lt;DataRow&gt; sorted = datarows.stream()\r\n    .sorted(Comparator.comparing(DataRow::getRow).thenComparingInt(DataRow::getValue)).toList();\r\n```","title":"Java - sort JSONArray based on two attribute values","body":"<p>Let's assume you deserialize your json data into objects like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataRow {\n    private String name;\n    private int row;\n    private int value;\n    // Getter, Setter, Constructor what ever needed\n}\n</code></pre>\n<p>Then you can work with a list and stream like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DataRow&gt; datarows = //... read data from json\n\nList&lt;DataRow&gt; sorted = datarows.stream()\n    .sorted(Comparator.comparing(DataRow::getRow).thenComparingInt(DataRow::getValue)).toList();\n</code></pre>\n"}],"owner":{"account_id":14541342,"reputation":33,"user_id":10502953,"display_name":"Sunil C N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72039612,"answer_count":3,"score":2,"last_activity_date":1651134032,"creation_date":1651129915,"question_id":72039446,"body_markdown":"I have a JSONArray as below,\r\n```\r\nJSONArray dataArray = new JSONArray();\r\ndataArray = [\r\n\t{\r\n\t\t&quot;name&quot;: &quot;name1&quot;,\r\n\t\t&quot;row&quot;: 1,\r\n\t\t&quot;value&quot;: 20\r\n\t},\r\n\t{\r\n\t\t&quot;name&quot;: &quot;name2&quot;,\r\n\t\t&quot;row&quot;: 1,\r\n\t\t&quot;value&quot;: 10\r\n\t},\r\n\t{\r\n\t\t&quot;name&quot;: &quot;name3&quot;,\r\n\t\t&quot;row&quot;: 2,\r\n\t\t&quot;value&quot;: 10\r\n\t},\r\n\t{\r\n\t\t&quot;name&quot;: &quot;name4&quot;,\r\n\t\t&quot;row&quot;: 3,\r\n\t\t&quot;value&quot;: 30\r\n\t},\r\n\t{\r\n\t\t&quot;name&quot;: &quot;name5&quot;,\r\n\t\t&quot;row&quot;: 3,\r\n\t\t&quot;value&quot;: 10\r\n\t}\r\n]\r\n```\r\n\r\nI need to compare the ```row``` attribute, if same, need to compare ```value``` attribute and sort the object in the array.\r\n\r\nTried with Java comparator, but couldn&#39;t make it work. Can somebody please help?\r\n\r\n```ArrayList&lt;JSONObject&gt; elementList = new ArrayList&lt;&gt;();\r\n\t\t  \t\r\n   for(int i = 0; i &lt; dataArray.size(); i++) {\r\n\t   elementList.add((JSONObject) dataArray.get(i));\r\n   }\r\n   Long row1 = null;\r\n   for (JSONObject obj : elementList) {\r\n\t   if(row1 == null) {\r\n\t       row1 = (Long) ((JSONObject) obj.get(&quot;row&quot;));\r\n\t   }\r\n\t   else {\r\n\t        Long row2 = (Long) ((JSONObject) obj.get(&quot;row&quot;));\r\n\t        if(row2 == row1) {\r\n\t\t\t\t//call the comparator, but how to pass two objects?\r\n\t        }\r\n\t        row1 = row2;\r\n\t   }\r\n   }","title":"Java - sort JSONArray based on two attribute values","body":"<p>I have a JSONArray as below,</p>\n<pre><code>JSONArray dataArray = new JSONArray();\ndataArray = [\n    {\n        &quot;name&quot;: &quot;name1&quot;,\n        &quot;row&quot;: 1,\n        &quot;value&quot;: 20\n    },\n    {\n        &quot;name&quot;: &quot;name2&quot;,\n        &quot;row&quot;: 1,\n        &quot;value&quot;: 10\n    },\n    {\n        &quot;name&quot;: &quot;name3&quot;,\n        &quot;row&quot;: 2,\n        &quot;value&quot;: 10\n    },\n    {\n        &quot;name&quot;: &quot;name4&quot;,\n        &quot;row&quot;: 3,\n        &quot;value&quot;: 30\n    },\n    {\n        &quot;name&quot;: &quot;name5&quot;,\n        &quot;row&quot;: 3,\n        &quot;value&quot;: 10\n    }\n]\n</code></pre>\n<p>I need to compare the <code>row</code> attribute, if same, need to compare <code>value</code> attribute and sort the object in the array.</p>\n<p>Tried with Java comparator, but couldn't make it work. Can somebody please help?</p>\n<pre><code>            \n   for(int i = 0; i &lt; dataArray.size(); i++) {\n       elementList.add((JSONObject) dataArray.get(i));\n   }\n   Long row1 = null;\n   for (JSONObject obj : elementList) {\n       if(row1 == null) {\n           row1 = (Long) ((JSONObject) obj.get(&quot;row&quot;));\n       }\n       else {\n            Long row2 = (Long) ((JSONObject) obj.get(&quot;row&quot;));\n            if(row2 == row1) {\n                //call the comparator, but how to pass two objects?\n            }\n            row1 = row2;\n       }\n   }\n</code></pre>\n"},{"tags":["java","android","android-livedata","android-viewmodel"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1651135817,"post_id":72040258,"comment_id":127292892,"body_markdown":"you should extend `AndroidViewModel`","body":"you should extend <code>AndroidViewModel</code>"}],"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1651133897,"creation_date":1651133897,"question_id":72040258,"body_markdown":"I am trying to use android viewmodel , livedata with room database. although room database is working finely , when i try to create a instance of viewmodel class i always got following error\r\n\r\nCannot create an instance of class com.ceylonlinux.apwsdelivery.viewmodel.UnproductiveActivityViewModel\r\n\r\nthese are my viewmodel , activity , entity and dao classes\r\n\r\ndatabase class\r\n\r\n    @Database(entities = { Reason.class}, version = 1)\r\n    public abstract class APWSDatabase extends RoomDatabase {\r\n        public abstract UnproductiveVisitDao unproductiveVisitDao();\r\n        public abstract ReasonDao reasonDao();\r\n        public abstract CustomerDao customerDao();\r\n    }\r\n\r\nentity class\r\n\r\n    @Entity\r\n    public class Reason {\r\n    \r\n        @PrimaryKey\r\n        private int reasonId;\r\n        private int reasonType;\r\n        private String reasonName;\r\n    \r\n        public Reason() {\r\n        }\r\n    \r\n        public Reason(int reasonId, int reasonType, String reasonName) {\r\n            this.reasonId = reasonId;\r\n            this.reasonType = reasonType;\r\n            this.reasonName = reasonName;\r\n        }\r\n    \r\n        public int getReasonId() {\r\n            return reasonId;\r\n        }\r\n    \r\n        public void setReasonId(int reasonId) {\r\n            this.reasonId = reasonId;\r\n        }\r\n    \r\n        public int getReasonType() {\r\n            return reasonType;\r\n        }\r\n    \r\n        public void setReasonType(int reasonType) {\r\n            this.reasonType = reasonType;\r\n        }\r\n    \r\n        public String getReasonName() {\r\n            return reasonName;\r\n        }\r\n    \r\n        public void setReasonName(String reasonName) {\r\n            this.reasonName = reasonName;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nDao class\r\n\r\n    public interface ReasonDao {\r\n    \r\n        @Insert\r\n        void insertAll(Reason... reasons);\r\n    \r\n        @Insert\r\n        void insert(Reason reason);\r\n    \r\n        @Query(&quot;SELECT * FROM reason&quot;)\r\n        List&lt;Reason&gt; loadAll();\r\n    \r\n    \r\n    \r\n        @Query(&quot;SELECT * FROM reason where reasonType = (:reasonType)&quot;)\r\n        List&lt;Reason&gt; getReasonsByType(Integer reasonType);\r\n    \r\n        @Query(&quot;SELECT * FROM reason where reasonType = (:reasonType)&quot;)\r\n        LiveData&lt;List&lt;Reason&gt;&gt; getReasonsByTypeLive(Integer reasonType);\r\n    \r\n        @Delete\r\n        void delete(Reason reason);\r\n    \r\n    \r\n    }\r\n\r\nviewmodel class\r\n\r\n    public class UnproductiveActivityViewModel extends ViewModel {\r\n    \r\n        private LiveData&lt;List&lt;Reason&gt;&gt; unproductiveReasons;\r\n        private Application application;\r\n        private ReasonRepository repository;\r\n    \r\n        public UnproductiveActivityViewModel(Application application) {\r\n            this.application = application;\r\n    \r\n            try {\r\n    \r\n                repository = new ReasonRepository(application);\r\n                unproductiveReasons = repository.getUnproductiveReasons();\r\n            }catch (Exception e)\r\n            {\r\n                Log.e(&quot;ERROR&quot;,e.toString());\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public LiveData&lt;List&lt;Reason&gt;&gt; getUnproductiveReasons() {\r\n    \r\n            return unproductiveReasons;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nin my activity class i used it like as follows\r\n\r\n \r\n\r\n     viewModel = new ViewModelProvider(UnproductiveActivity.this).get(UnproductiveActivityViewModel.class);\r\n    \r\n            viewModel.getUnproductiveReasons().observe(this, reasonsz -&gt; {\r\n    \r\n                reasons = (ArrayList&lt;Reason&gt;) reasonsz;\r\n                adapter_reason = new ArrayAdapter&lt;Reason&gt;(UnproductiveActivity.this, android.R.layout.simple_spinner_item, reasons);\r\n                adapter_reason.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                un_reason_spinner.setAdapter(adapter_reason);\r\n                un_reason_spinner.setPaddingSafe(0, 0, 0, 0);\r\n            });","title":"cannot create an instance of class - viewmodel ( java )","body":"<p>I am trying to use android viewmodel , livedata with room database. although room database is working finely , when i try to create a instance of viewmodel class i always got following error</p>\n<p>Cannot create an instance of class com.ceylonlinux.apwsdelivery.viewmodel.UnproductiveActivityViewModel</p>\n<p>these are my viewmodel , activity , entity and dao classes</p>\n<p>database class</p>\n<pre><code>@Database(entities = { Reason.class}, version = 1)\npublic abstract class APWSDatabase extends RoomDatabase {\n    public abstract UnproductiveVisitDao unproductiveVisitDao();\n    public abstract ReasonDao reasonDao();\n    public abstract CustomerDao customerDao();\n}\n</code></pre>\n<p>entity class</p>\n<pre><code>@Entity\npublic class Reason {\n\n    @PrimaryKey\n    private int reasonId;\n    private int reasonType;\n    private String reasonName;\n\n    public Reason() {\n    }\n\n    public Reason(int reasonId, int reasonType, String reasonName) {\n        this.reasonId = reasonId;\n        this.reasonType = reasonType;\n        this.reasonName = reasonName;\n    }\n\n    public int getReasonId() {\n        return reasonId;\n    }\n\n    public void setReasonId(int reasonId) {\n        this.reasonId = reasonId;\n    }\n\n    public int getReasonType() {\n        return reasonType;\n    }\n\n    public void setReasonType(int reasonType) {\n        this.reasonType = reasonType;\n    }\n\n    public String getReasonName() {\n        return reasonName;\n    }\n\n    public void setReasonName(String reasonName) {\n        this.reasonName = reasonName;\n    }\n\n\n\n}\n</code></pre>\n<p>Dao class</p>\n<pre><code>public interface ReasonDao {\n\n    @Insert\n    void insertAll(Reason... reasons);\n\n    @Insert\n    void insert(Reason reason);\n\n    @Query(&quot;SELECT * FROM reason&quot;)\n    List&lt;Reason&gt; loadAll();\n\n\n\n    @Query(&quot;SELECT * FROM reason where reasonType = (:reasonType)&quot;)\n    List&lt;Reason&gt; getReasonsByType(Integer reasonType);\n\n    @Query(&quot;SELECT * FROM reason where reasonType = (:reasonType)&quot;)\n    LiveData&lt;List&lt;Reason&gt;&gt; getReasonsByTypeLive(Integer reasonType);\n\n    @Delete\n    void delete(Reason reason);\n\n\n}\n</code></pre>\n<p>viewmodel class</p>\n<pre><code>public class UnproductiveActivityViewModel extends ViewModel {\n\n    private LiveData&lt;List&lt;Reason&gt;&gt; unproductiveReasons;\n    private Application application;\n    private ReasonRepository repository;\n\n    public UnproductiveActivityViewModel(Application application) {\n        this.application = application;\n\n        try {\n\n            repository = new ReasonRepository(application);\n            unproductiveReasons = repository.getUnproductiveReasons();\n        }catch (Exception e)\n        {\n            Log.e(&quot;ERROR&quot;,e.toString());\n        }\n\n    }\n\n\n    public LiveData&lt;List&lt;Reason&gt;&gt; getUnproductiveReasons() {\n\n        return unproductiveReasons;\n    }\n\n\n}\n</code></pre>\n<p>in my activity class i used it like as follows</p>\n<pre><code> viewModel = new ViewModelProvider(UnproductiveActivity.this).get(UnproductiveActivityViewModel.class);\n\n        viewModel.getUnproductiveReasons().observe(this, reasonsz -&gt; {\n\n            reasons = (ArrayList&lt;Reason&gt;) reasonsz;\n            adapter_reason = new ArrayAdapter&lt;Reason&gt;(UnproductiveActivity.this, android.R.layout.simple_spinner_item, reasons);\n            adapter_reason.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n            un_reason_spinner.setAdapter(adapter_reason);\n            un_reason_spinner.setPaddingSafe(0, 0, 0, 0);\n        });\n</code></pre>\n"},{"tags":["java","web-applications","jboss","struts"],"comments":[{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1403582373,"post_id":2772701,"comment_id":37701114,"body_markdown":"Sometimes the port ownership lingers and sticks to your Java program even after you close it. However, with Eclipse Java EE, the port binding is removed the moment you except your program","body":"Sometimes the port ownership lingers and sticks to your Java program even after you close it. However, with Eclipse Java EE, the port binding is removed the moment you except your program"}],"answers":[{"tags":[],"owner":{"account_id":119133,"reputation":1993,"user_id":310630,"accept_rate":50,"display_name":"Jarle Hansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273059769,"creation_date":1273058932,"answer_id":2772721,"question_id":2772701,"body_markdown":"The quick answer on how to prevent it is that you most likely need to stop JBoss before starting it again.\r\n\r\nYou should be able to call the &quot;Terminate&quot; button in the Console view to shutdown the server.","title":"Address already in use: JVM_Bind java","body":"<p>The quick answer on how to prevent it is that you most likely need to stop JBoss before starting it again.</p>\n\n<p>You should be able to call the \"Terminate\" button in the Console view to shutdown the server.</p>\n"},{"tags":[],"owner":{"account_id":22932,"reputation":2082,"user_id":57040,"accept_rate":29,"display_name":"phoenix24"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1542230439,"creation_date":1273059243,"answer_id":2772758,"question_id":2772701,"body_markdown":"&gt; Address already in use: JVM_Bind\r\n\r\nmeans that some other application is already listening on the port your current application is trying to bind.\r\n\r\nwhat you need to do is, either change the port for your current application or better; just find out the already running application and kill it.\r\n\r\non Linux you can find the application pid by using, \r\n\r\n    netstat -tulpn","title":"Address already in use: JVM_Bind java","body":"<blockquote>\n  <p>Address already in use: JVM_Bind</p>\n</blockquote>\n\n<p>means that some other application is already listening on the port your current application is trying to bind.</p>\n\n<p>what you need to do is, either change the port for your current application or better; just find out the already running application and kill it.</p>\n\n<p>on Linux you can find the application pid by using, </p>\n\n<pre><code>netstat -tulpn\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1273060134,"creation_date":1273060134,"answer_id":2772860,"question_id":2772701,"body_markdown":"Is it possible that MySql listening on the same port as JBoss?\r\n\r\nIs there a port number given in the error message - something like `Address already in use: JVM_Bind:8080`\r\n\r\nYou can change the port in JBoss server.xml to test this.","title":"Address already in use: JVM_Bind java","body":"<p>Is it possible that MySql listening on the same port as JBoss?</p>\n\n<p>Is there a port number given in the error message - something like <code>Address already in use: JVM_Bind:8080</code></p>\n\n<p>You can change the port in JBoss server.xml to test this.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273063237,"creation_date":1273063237,"answer_id":2773212,"question_id":2772701,"body_markdown":"That error means that the you are trying to create a new `ServerSocket` on a port already in use by another `ServerSocket`. So try to make your application closing all sockets and connections you know about and be sure your application is completely terminated. Also check if there is another proces you launched by your program.","title":"Address already in use: JVM_Bind java","body":"<p>That error means that the you are trying to create a new <code>ServerSocket</code> on a port already in use by another <code>ServerSocket</code>. So try to make your application closing all sockets and connections you know about and be sure your application is completely terminated. Also check if there is another proces you launched by your program.</p>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1273072257,"creation_date":1273072257,"answer_id":2774442,"question_id":2772701,"body_markdown":"I usually come across this when the port which the server (I use JBoss) is already in use\r\n\r\nUsual suspects\r\n\r\n 1. Apache Http Server   =&gt; turn down the service if working in windows.\r\n 2. IIS   =&gt; stop the ISS using \r\n 3. Skype =&gt;yea I got skype attaching itself to port 80\r\n\r\nTo change the port to which JBoss 4.2.x binds itself go to:\r\n\r\n&gt; &quot;C:\\jboss4.2.2\\server\\default\\deploy\\jboss-web.deployer\\server.xml&quot;\r\n\r\nhere default is the instance of the server\r\nchange the port here :\r\n\r\n&gt; &amp;lt;Connector port=&quot;8080&quot;\r\n&gt; address=&quot;${jboss.bind.address}&quot;   &amp;gt;\r\n\r\nIn the above example the port is bound to 8080","title":"Address already in use: JVM_Bind java","body":"<p>I usually come across this when the port which the server (I use JBoss) is already in use</p>\n\n<p>Usual suspects</p>\n\n<ol>\n<li>Apache Http Server   => turn down the service if working in windows.</li>\n<li>IIS   => stop the ISS using </li>\n<li>Skype =>yea I got skype attaching itself to port 80</li>\n</ol>\n\n<p>To change the port to which JBoss 4.2.x binds itself go to:</p>\n\n<blockquote>\n  <p>\"C:\\jboss4.2.2\\server\\default\\deploy\\jboss-web.deployer\\server.xml\"</p>\n</blockquote>\n\n<p>here default is the instance of the server\nchange the port here :</p>\n\n<blockquote>\n  <p>&lt;Connector port=\"8080\"\n  address=\"${jboss.bind.address}\"   &gt;</p>\n</blockquote>\n\n<p>In the above example the port is bound to 8080</p>\n"},{"tags":[],"owner":{"account_id":1135761,"reputation":1,"user_id":1120848,"display_name":"aarifmkhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350782918,"creation_date":1336727247,"answer_id":10548532,"question_id":2772701,"body_markdown":"please try following options for JVM binding exception:\r\n\r\n 1. start and stop the server. and check the server process ids and kill and stop the server.\r\n 2. go to control panel-&gt;administrative tool-&gt; service-&gt; check all server and stop all the servers and then start your own server.\r\n 3. change the Browser which your using. for example if \r\nyour using IE ,change it to Mozilla firefox.\r\n","title":"Address already in use: JVM_Bind java","body":"<p>please try following options for JVM binding exception:</p>\n\n<ol>\n<li>start and stop the server. and check the server process ids and kill and stop the server.</li>\n<li>go to control panel->administrative tool-> service-> check all server and stop all the servers and then start your own server.</li>\n<li>change the Browser which your using. for example if \nyour using IE ,change it to Mozilla firefox.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":543686,"reputation":733,"user_id":912900,"accept_rate":100,"display_name":"busytraining"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371230439,"creation_date":1371230439,"answer_id":17113983,"question_id":2772701,"body_markdown":"I was having this problem too. For me, I couldn&#39;t start/stop openfire (it said it was stopped, but everything was still running)\r\n\r\n    sudo /etc/init.d/openfire stop\r\n    sudo /etc/init.d/openfire start\r\n\r\nAlso, restarting apache did not help either\r\n\r\n    sudo /etc/init.d/apache2 restart\r\n\r\nThe errors were inside:\r\n\r\n    /opt/openfire/logs/stderror.log\r\n    Error creating server listener on port 5269: Address already in use\r\n    Error creating server listener on port 5222: Address already in use\r\n\r\nThe way I fixed this, I had to actually turn off the server inside the admin area for my host. ","title":"Address already in use: JVM_Bind java","body":"<p>I was having this problem too. For me, I couldn't start/stop openfire (it said it was stopped, but everything was still running)</p>\n\n<pre><code>sudo /etc/init.d/openfire stop\nsudo /etc/init.d/openfire start\n</code></pre>\n\n<p>Also, restarting apache did not help either</p>\n\n<pre><code>sudo /etc/init.d/apache2 restart\n</code></pre>\n\n<p>The errors were inside:</p>\n\n<pre><code>/opt/openfire/logs/stderror.log\nError creating server listener on port 5269: Address already in use\nError creating server listener on port 5222: Address already in use\n</code></pre>\n\n<p>The way I fixed this, I had to actually turn off the server inside the admin area for my host. </p>\n"},{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390992770,"creation_date":1390992770,"answer_id":21428847,"question_id":2772701,"body_markdown":"It can be also caused by double definition of port 8080 in ..\\tomcat\\conf\\server.xml :\r\n\r\n    &lt;Connector port=&quot;8080&quot;\r\n               enableLookups=&quot;false&quot; redirectPort=&quot;8443&quot; debug=&quot;0&quot;/&gt;\r\n    &lt;Connector port=&quot;8080&quot;\r\n               enableLookups=&quot;false&quot; address=&quot;127.0.0.1&quot; maxParameterCount=&quot;30000&quot;/&gt;\r\n","title":"Address already in use: JVM_Bind java","body":"<p>It can be also caused by double definition of port 8080 in ..\\tomcat\\conf\\server.xml :</p>\n\n<pre><code>&lt;Connector port=\"8080\"\n           enableLookups=\"false\" redirectPort=\"8443\" debug=\"0\"/&gt;\n&lt;Connector port=\"8080\"\n           enableLookups=\"false\" address=\"127.0.0.1\" maxParameterCount=\"30000\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4849827,"reputation":453,"user_id":3912432,"display_name":"CodeQ"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1424389053,"creation_date":1424389053,"answer_id":28619132,"question_id":2772701,"body_markdown":"In windows this scenario happens when Eclipse crashes without a clean shutdown it will have the local Jetty or Tomcat server keep running.\r\nWhen you reopen Eclipse and try to start server again this will lead to the &quot;Address already in use: JVM_Bind&quot;\r\n\r\nYou can solve this by opening Task Manager and find the javaw.exe process and ending it.\r\n\r\nThen you can restart the server on Eclipse.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZkT6W.png","title":"Address already in use: JVM_Bind java","body":"<p>In windows this scenario happens when Eclipse crashes without a clean shutdown it will have the local Jetty or Tomcat server keep running.\nWhen you reopen Eclipse and try to start server again this will lead to the \"Address already in use: JVM_Bind\"</p>\n\n<p>You can solve this by opening Task Manager and find the javaw.exe process and ending it.</p>\n\n<p>Then you can restart the server on Eclipse.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZkT6W.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5696978,"reputation":4019,"user_id":4503189,"display_name":"BlondCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461153947,"creation_date":1461153947,"answer_id":36743262,"question_id":2772701,"body_markdown":"I had the same on Windows. My solution was to get which port the debug wants to connect to. (In IntelliJ a red rectangle already giving the info: &quot;Error running Tomcat: Unable to open debugger port (127.0.0.1:XXXXX): ... Already in use...&quot;)\r\nLet&#39;s say XXXXX is the port number.\r\nThen i searched for the problem and the PID in a cmd window:\r\n\r\n    netstat -ano | find &quot;CLOSE_WAIT&quot; | find &quot;:XXXXX&quot;\r\n\r\nI got the PID number as the last number in the result line. (Let&#39;s say YYYY)\r\nFinally:\r\n\r\n    TASKKILL /PID YYYY\r\n\r\nAn extra info: Winscp logged out meanwhile, probably it was causing my problem. :)","title":"Address already in use: JVM_Bind java","body":"<p>I had the same on Windows. My solution was to get which port the debug wants to connect to. (In IntelliJ a red rectangle already giving the info: \"Error running Tomcat: Unable to open debugger port (127.0.0.1:XXXXX): ... Already in use...\")\nLet's say XXXXX is the port number.\nThen i searched for the problem and the PID in a cmd window:</p>\n\n<pre><code>netstat -ano | find \"CLOSE_WAIT\" | find \":XXXXX\"\n</code></pre>\n\n<p>I got the PID number as the last number in the result line. (Let's say YYYY)\nFinally:</p>\n\n<pre><code>TASKKILL /PID YYYY\n</code></pre>\n\n<p>An extra info: Winscp logged out meanwhile, probably it was causing my problem. :)</p>\n"},{"tags":[],"owner":{"account_id":156901,"reputation":1816,"user_id":374480,"accept_rate":50,"display_name":"steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496248458,"creation_date":1496248458,"answer_id":44290225,"question_id":2772701,"body_markdown":"This recently happen to me when enabling JMX on two running tomcat service within Eclipse. I mistakenly put the same port for each server.\r\n\r\nSimply give each jmx remote a different port\r\n\r\n \r\nServer 1\r\n\r\n    -Dcom.sun.management.jmxremote.port=9000\r\n\r\nServer 2\r\n\r\n    -Dcom.sun.management.jmxremote.port=9001","title":"Address already in use: JVM_Bind java","body":"<p>This recently happen to me when enabling JMX on two running tomcat service within Eclipse. I mistakenly put the same port for each server.</p>\n\n<p>Simply give each jmx remote a different port</p>\n\n<p>Server 1</p>\n\n<pre><code>-Dcom.sun.management.jmxremote.port=9000\n</code></pre>\n\n<p>Server 2</p>\n\n<pre><code>-Dcom.sun.management.jmxremote.port=9001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524581551,"creation_date":1523892388,"answer_id":49860984,"question_id":2772701,"body_markdown":"Open command line and type: `netstat -a -o -n` or `tasklist` to see currently running processes.\r\nFind port that related to Java and type: `taskkill /F /PID &lt;your PID number&gt;`.\r\nClick Enter.","title":"Address already in use: JVM_Bind java","body":"<p>Open command line and type: <code>netstat -a -o -n</code> or <code>tasklist</code> to see currently running processes.\nFind port that related to Java and type: <code>taskkill /F /PID &lt;your PID number&gt;</code>.\nClick Enter.</p>\n"},{"tags":[],"owner":{"account_id":12663861,"reputation":1,"user_id":9203842,"display_name":"user9203842"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532603628,"creation_date":1532603628,"answer_id":51537495,"question_id":2772701,"body_markdown":"You can try deleting the Team Server credentials, most likely those will include some kind of port in the server column.\r\nLike https://wathever.visualstudio.com:443\r\n\r\nGo to Windows/Preferences\r\nexpand Team then Team Foundation Server\r\ngo to Credentials and remove whichever is there.\r\n ","title":"Address already in use: JVM_Bind java","body":"<p>You can try deleting the Team Server credentials, most likely those will include some kind of port in the server column.\nLike <a href=\"https://wathever.visualstudio.com:443\" rel=\"nofollow noreferrer\">https://wathever.visualstudio.com:443</a></p>\n\n<p>Go to Windows/Preferences\nexpand Team then Team Foundation Server\ngo to Credentials and remove whichever is there.</p>\n"},{"tags":[],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618990841,"creation_date":1618990841,"answer_id":67191339,"question_id":2772701,"body_markdown":"On Mac, even when I&#39;d search with `netstat`, no processes were binding to that port, but I&#39;d still get the &quot;Address already in use&quot; Bind exception.\r\n\r\nIn this case, going into\r\n\r\nSafari -&gt; Preferences -&gt; Privacy -&gt; Manage Website Data... -&gt; finding &quot;localhost&quot; -&gt; Remove\r\n\r\nfixes the problem, if there really is no process running with that port. It seems Safari&#39;s web cache maintains a reference to the port somehow, and removing that cache frees up the port.","title":"Address already in use: JVM_Bind java","body":"<p>On Mac, even when I'd search with <code>netstat</code>, no processes were binding to that port, but I'd still get the &quot;Address already in use&quot; Bind exception.</p>\n<p>In this case, going into</p>\n<p>Safari -&gt; Preferences -&gt; Privacy -&gt; Manage Website Data... -&gt; finding &quot;localhost&quot; -&gt; Remove</p>\n<p>fixes the problem, if there really is no process running with that port. It seems Safari's web cache maintains a reference to the port somehow, and removing that cache frees up the port.</p>\n"},{"tags":[],"owner":{"account_id":21822696,"reputation":95,"user_id":16118693,"display_name":"LaptopProfile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626360220,"creation_date":1626356668,"answer_id":68395026,"question_id":2772701,"body_markdown":"Sometimes, I use `lsof -i:8080` and I get nothing back, no pid.  Well something has to be taking place.  If this is your case, it could be docker.  By using `docker ps` you can check if you have any old dockers lying around and kill them.  This could be the culprit for a port already in use error.","title":"Address already in use: JVM_Bind java","body":"<p>Sometimes, I use <code>lsof -i:8080</code> and I get nothing back, no pid.  Well something has to be taking place.  If this is your case, it could be docker.  By using <code>docker ps</code> you can check if you have any old dockers lying around and kill them.  This could be the culprit for a port already in use error.</p>\n"},{"tags":[],"owner":{"account_id":12537785,"reputation":489,"user_id":13036358,"display_name":"cryo"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1641728737,"creation_date":1641728737,"answer_id":70640950,"question_id":2772701,"body_markdown":"On windows, in an elevated cmd/ps\r\n\r\n    net stop winnat\r\n\r\nthen \r\n\r\n    net start winnat\r\n\r\nResets the windows&#39; NAT service and that removes faulty listeners. \r\nThis method works for most &#39;cannot listen on this port&#39; errors, like as in Docker, JVM etc.","title":"Address already in use: JVM_Bind java","body":"<p>On windows, in an elevated cmd/ps</p>\n<pre><code>net stop winnat\n</code></pre>\n<p>then</p>\n<pre><code>net start winnat\n</code></pre>\n<p>Resets the windows' NAT service and that removes faulty listeners.\nThis method works for most 'cannot listen on this port' errors, like as in Docker, JVM etc.</p>\n"},{"tags":[],"owner":{"account_id":1591496,"reputation":1127,"user_id":1474729,"display_name":"Ghurdyl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651133892,"creation_date":1651133892,"answer_id":72040254,"question_id":2772701,"body_markdown":"For the sake of completeness as many may fall in this SO for other reasons than OP&#39;s question, here is another info that saved my day :\r\n\r\n**TL;DR;**  \r\nCheck that the port you want to open is not reserved (even though no application has opened it)  \r\nOn windows :  \r\n`netsh interface ipv4 show excludedportrange protocol=tcp`\r\n\r\n**Explanation :**  \r\nAt least on windows, another possible cause for the `java.net.BindException: Address already in use: JVM_Bind` is that the operating system has &quot;reserved&quot; the port.  \r\nIf you use the commands from other answer in this topic, they will tell you that no application is listening to the port, yet you cannot open it.\r\n\r\nSome windows update [like this one][1] reserves range port that can then no longer be claimed by processes.  \r\nThough not explicit on the port that can no longer be opened, the update note mentions a command that can help troubleshooting the issue :\r\n\r\n`netsh interface ipv4 show excludedportrange protocol=tcp`\r\n\r\nthis will yield a list of port range that are blocked :\r\n\r\n```\r\nProtocol tcp Port Exclusion Ranges\r\n\r\nStart Port    End Port\r\n----------    --------\r\n5357        5357\r\n49709       49808\r\n49809       49908\r\n49909       50008\r\n50009       50108\r\n50109       50208\r\n50280       50379\r\n\r\n* - Administered port exclusions.\r\n```\r\n\r\n  [1]: https://support.microsoft.com/en-us/topic/february-13-2018-kb4074588-os-build-16299-248-b4e2ca66-dd7a-6fd5-a8f3-dc6683d4922b","title":"Address already in use: JVM_Bind java","body":"<p>For the sake of completeness as many may fall in this SO for other reasons than OP's question, here is another info that saved my day :</p>\n<p><strong>TL;DR;</strong><br />\nCheck that the port you want to open is not reserved (even though no application has opened it)<br />\nOn windows :<br />\n<code>netsh interface ipv4 show excludedportrange protocol=tcp</code></p>\n<p><strong>Explanation :</strong><br />\nAt least on windows, another possible cause for the <code>java.net.BindException: Address already in use: JVM_Bind</code> is that the operating system has &quot;reserved&quot; the port.<br />\nIf you use the commands from other answer in this topic, they will tell you that no application is listening to the port, yet you cannot open it.</p>\n<p>Some windows update <a href=\"https://support.microsoft.com/en-us/topic/february-13-2018-kb4074588-os-build-16299-248-b4e2ca66-dd7a-6fd5-a8f3-dc6683d4922b\" rel=\"nofollow noreferrer\">like this one</a> reserves range port that can then no longer be claimed by processes.<br />\nThough not explicit on the port that can no longer be opened, the update note mentions a command that can help troubleshooting the issue :</p>\n<p><code>netsh interface ipv4 show excludedportrange protocol=tcp</code></p>\n<p>this will yield a list of port range that are blocked :</p>\n<pre><code>Protocol tcp Port Exclusion Ranges\n\nStart Port    End Port\n----------    --------\n5357        5357\n49709       49808\n49809       49908\n49909       50008\n50009       50108\n50109       50208\n50280       50379\n\n* - Administered port exclusions.\n</code></pre>\n"}],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316615,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":2772758,"answer_count":17,"score":62,"last_activity_date":1651133892,"creation_date":1273058719,"question_id":2772701,"body_markdown":"Some times whenever I restart the application, which is built on \r\nJava\r\nStruts\r\nMysql and Jboss 4.05 Version\r\nI get the error as **Address already in use: JVM_Bind**\r\n\r\nOnly fix that i know is to restart the machine and try again, it will work.\r\nElse Some times I do Ctrl-Alt-Del and Stop all the process related to Java, some times this also works.\r\n\r\nBut what is the exact reason and how can we prevent this problem ?\r\n","title":"Address already in use: JVM_Bind java","body":"<p>Some times whenever I restart the application, which is built on \nJava\nStruts\nMysql and Jboss 4.05 Version\nI get the error as <strong>Address already in use: JVM_Bind</strong></p>\n\n<p>Only fix that i know is to restart the machine and try again, it will work.\nElse Some times I do Ctrl-Alt-Del and Stop all the process related to Java, some times this also works.</p>\n\n<p>But what is the exact reason and how can we prevent this problem ?</p>\n"},{"tags":["java","spring","postgresql","spring-data-jpa","utc"],"owner":{"account_id":15396038,"reputation":161,"user_id":11107128,"display_name":"syydi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651133726,"creation_date":1650964530,"question_id":72011360,"body_markdown":"I have entities with a `validTill` field of type `Instant`, that is a datetime value in utc, to indicate whether the entity has been soft deleted. I would like to query for all entities, but exclude the soft deleted ones from the result. I tried something like this:   \r\n```\r\n@Query(\r\n    &quot;SELECT e &quot; +\r\n    &quot;FROM MyEntity e &quot; +\r\n    &quot;WHERE e.validTill IS NULL OR e.validTill &gt; CURRENT_TIMESTAMP&quot;\r\n)\r\nSet&lt;MyEntity&gt; findValidMyEntities();\r\n```\r\nHowever, if my local time is `2022-04-26 10:00:00.000000+03` (meaning utc time is `2022-04-26 07:00:00.000000+00`) and `e.validTill` value is `2022-04-26 08:00:00.000000+00`, the entity is not included in the result, even though `e.validTill` value is after the utc time. Entities with `validTill` after my local time are included in the result. So, I&#39;m quite sure the issue is with the CURRENT_TIMESTAMP being transformed. How can I fix this so that the `e.validTill &gt; CURRENT_TIMESTAMP` only uses the utc format values?    \r\nI also know I could give the `Instant.now()` value as a parameter to be used instead of current_timestamp, but I would really like to avoid that.\r\n\r\n**EDIT a day later**    \r\nI have not figured out the solution, but I feel I have come closer, and thought the things I have learned might help somebody.    \r\nThe problem definetly is with using CURRENT_TIMESTAMP. I made sure that in my Spring Boot project application.yml file contains `spring.jpa.hibernate.jdbc.time_zone: UTC`. Additionally, I added a script to my version control, so that when the database is created, the db server uses UTC timezone:\r\n\r\n    ALTER DATABASE myDatabase SET TIME ZONE TO &#39;UTC&#39;\r\n\r\nI was sure that these changes would solve my problem, but I was wrong. If I make a query for the timezone of my database using `SHOW timezone`, I get the response `UTC`. However, if I make the same query through my API, I get my local timezone as a response. So, I suspect JDBC is the culprit here, and I have not been able to find the solution.","title":"How to filter query by current timestamp in a Spring Data repository using PostgreSQL?","body":"<p>I have entities with a <code>validTill</code> field of type <code>Instant</code>, that is a datetime value in utc, to indicate whether the entity has been soft deleted. I would like to query for all entities, but exclude the soft deleted ones from the result. I tried something like this:</p>\n<pre><code>@Query(\n    &quot;SELECT e &quot; +\n    &quot;FROM MyEntity e &quot; +\n    &quot;WHERE e.validTill IS NULL OR e.validTill &gt; CURRENT_TIMESTAMP&quot;\n)\nSet&lt;MyEntity&gt; findValidMyEntities();\n</code></pre>\n<p>However, if my local time is <code>2022-04-26 10:00:00.000000+03</code> (meaning utc time is <code>2022-04-26 07:00:00.000000+00</code>) and <code>e.validTill</code> value is <code>2022-04-26 08:00:00.000000+00</code>, the entity is not included in the result, even though <code>e.validTill</code> value is after the utc time. Entities with <code>validTill</code> after my local time are included in the result. So, I'm quite sure the issue is with the CURRENT_TIMESTAMP being transformed. How can I fix this so that the <code>e.validTill &gt; CURRENT_TIMESTAMP</code> only uses the utc format values?<br />\nI also know I could give the <code>Instant.now()</code> value as a parameter to be used instead of current_timestamp, but I would really like to avoid that.</p>\n<p><strong>EDIT a day later</strong><br />\nI have not figured out the solution, but I feel I have come closer, and thought the things I have learned might help somebody.<br />\nThe problem definetly is with using CURRENT_TIMESTAMP. I made sure that in my Spring Boot project application.yml file contains <code>spring.jpa.hibernate.jdbc.time_zone: UTC</code>. Additionally, I added a script to my version control, so that when the database is created, the db server uses UTC timezone:</p>\n<pre><code>ALTER DATABASE myDatabase SET TIME ZONE TO 'UTC'\n</code></pre>\n<p>I was sure that these changes would solve my problem, but I was wrong. If I make a query for the timezone of my database using <code>SHOW timezone</code>, I get the response <code>UTC</code>. However, if I make the same query through my API, I get my local timezone as a response. So, I suspect JDBC is the culprit here, and I have not been able to find the solution.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1648711579,"post_id":71687380,"comment_id":126695175,"body_markdown":"What is the expected behavior of the refresh action?","body":"What is the expected behavior of the refresh action?"},{"owner":{"account_id":13963446,"reputation":9,"user_id":10083947,"display_name":"AFAQ ULLAH"},"score":0,"creation_date":1648714657,"post_id":71687380,"comment_id":126696229,"body_markdown":"when refreshing the page it add the 5 more items in the list","body":"when refreshing the page it add the 5 more items in the list"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651133691,"creation_date":1651133691,"answer_id":72040202,"question_id":71687380,"body_markdown":"Question 1:\r\n\r\nThe documentation is kinda unclear, but I guess using `setRefreshing(false)` is not enough.\r\n\r\n&gt; Notify the widget that refresh state has changed. Do not call this when refresh is triggered by a swipe gesture. \r\n\r\n&gt; @param refreshing Whether or not the view should show refresh progress.\r\n\r\nSo try adding `setEnabled(false)`.\r\n\r\nQuestion 2:\r\n\r\nUse the method `set(int index, String element)` of `ArrayList&lt;String&gt;`.\r\n\r\nIf you want to ask your user for a new string to insert there, you could use an [AlertDialog][1] (*popup*) and pass an [EditText][2] to `setView`. When the user clicks the *OK-button*, you can obtain the text using `EditText#getText().toString()`.\r\n\r\nUse `recyclerAdapter.notifyDataSetChanged()` to refresh.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/android/android_alert_dialoges.htm\r\n  [2]: https://developer.android.com/reference/android/widget/EditText","title":"Add the edit data function in recycler view using interfaces","body":"<p>Question 1:</p>\n<p>The documentation is kinda unclear, but I guess using <code>setRefreshing(false)</code> is not enough.</p>\n<blockquote>\n<p>Notify the widget that refresh state has changed. Do not call this when refresh is triggered by a swipe gesture.</p>\n</blockquote>\n<blockquote>\n<p>@param refreshing Whether or not the view should show refresh progress.</p>\n</blockquote>\n<p>So try adding <code>setEnabled(false)</code>.</p>\n<p>Question 2:</p>\n<p>Use the method <code>set(int index, String element)</code> of <code>ArrayList&lt;String&gt;</code>.</p>\n<p>If you want to ask your user for a new string to insert there, you could use an <a href=\"https://www.tutorialspoint.com/android/android_alert_dialoges.htm\" rel=\"nofollow noreferrer\">AlertDialog</a> (<em>popup</em>) and pass an <a href=\"https://developer.android.com/reference/android/widget/EditText\" rel=\"nofollow noreferrer\">EditText</a> to <code>setView</code>. When the user clicks the <em>OK-button</em>, you can obtain the text using <code>EditText#getText().toString()</code>.</p>\n<p>Use <code>recyclerAdapter.notifyDataSetChanged()</code> to refresh.</p>\n"}],"owner":{"account_id":13963446,"reputation":9,"user_id":10083947,"display_name":"AFAQ ULLAH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651133691,"creation_date":1648705229,"question_id":71687380,"body_markdown":"My code is working fine, it adds the data when refresh the page and it deletes the data on long press, but when I refresh the page duplicates the same data that was added before secondly I want to add the edit function in edit data button but I have no idea how to do this. Geeks help me to sort this issue.\r\n\r\n**MAIN ACTIVITY:**\r\n\r\n    \r\n    public class MainActivity extends AppCompatActivity implements ExampleInterface{\r\n    RecyclerView recyclerView;\r\n    RecyclerAdapter recyclerAdapter;\r\n    \r\n    List&lt;String&gt; moviesList;\r\n    \r\n    SwipeRefreshLayout swipeRefreshLayout;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        moviesList=new ArrayList&lt;&gt;();\r\n    \r\n        recyclerView= findViewById(R.id.recyclerView);\r\n        recyclerAdapter=new RecyclerAdapter(moviesList,this);\r\n    \r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n        recyclerView.setAdapter(recyclerAdapter);\r\n    \r\n        DividerItemDecoration dividerItemDecoration=new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\r\n        recyclerView.addItemDecoration(dividerItemDecoration);\r\n    \r\n    \r\n        moviesList.add(&quot;Iron Man&quot;);\r\n        moviesList.add(&quot;Iron men&quot;);\r\n        moviesList.add(&quot;Iron Mann&quot;);\r\n        moviesList.add(&quot;Iron Many&quot;);\r\n        moviesList.add(&quot;Iron Manv&quot;);\r\n        moviesList.add(&quot;Iron Mane&quot;);\r\n        moviesList.add(&quot;Iron Manr&quot;);\r\n        moviesList.add(&quot;Iron Manee&quot;);\r\n        moviesList.add(&quot;Iron Manw&quot;);\r\n        moviesList.add(&quot;Iron Mana&quot;);\r\n        moviesList.add(&quot;Iron Mana&quot;);\r\n        moviesList.add(&quot;Iron Manc&quot;);\r\n        moviesList.add(&quot;Iron Manx&quot;);\r\n        moviesList.add(&quot;Iron Manz&quot;);\r\n        moviesList.add(&quot;Iron Mann&quot;);\r\n    \r\n        swipeRefreshLayout =findViewById(R.id.swiperefreshlayout);\r\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n    \r\n            @Override\r\n            public void onRefresh() {\r\n                moviesList.add(&quot;Black widows(2022)&quot;);\r\n                moviesList.add(&quot;Black widow(2022)&quot;);\r\n                moviesList.add(&quot;Black widow(2020)&quot;);\r\n                moviesList.add(&quot;Black widow(2019)&quot;);\r\n                moviesList.add(&quot;Black widow(2018)&quot;);\r\n                recyclerAdapter.notifyDataSetChanged();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n        });\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onItemClick(int position) {\r\n    \r\n        Toast.makeText(this,moviesList.get(position),Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onLongItemClick(int position) {\r\n    \r\n        moviesList.remove(position);\r\n        recyclerAdapter.notifyItemRemoved(position);\r\n    \r\n    }\r\n    @Override\r\n    public void editData(int position){\r\n    \r\n        moviesList.remove(position);\r\n        recyclerAdapter.notifyItemRemoved(position);\r\n    \r\n    }}\r\n\r\n**Adapter class:**\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.viewHolder&gt;{\r\n    private static final String TAG=&quot;RecyclerAdapter&quot;;\r\n    \r\n    List&lt;String&gt; moviesList;\r\n    private ExampleInterface exampleInterface;\r\n    \r\n    public RecyclerAdapter(List&lt;String&gt; moviesList,ExampleInterface exampleInterface) {\r\n        this.moviesList = moviesList;\r\n        this.exampleInterface=exampleInterface;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    \r\n    \r\n    \r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater=LayoutInflater.from(parent.getContext());\r\n        View view=layoutInflater.inflate(R.layout.row_item, parent,false);\r\n    \r\n        viewHolder viewHolder= new viewHolder(view);\r\n    \r\n        return viewHolder;\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\r\n    holder.rowCountTextview.setText(String.valueOf(position));\r\n    holder.textView.setText(moviesList.get(position));\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return moviesList.size();\r\n    }\r\n    \r\n    class viewHolder extends RecyclerView.ViewHolder{\r\n    \r\n        ImageView imageview;\r\n        TextView textView,rowCountTextview;\r\n        Button btn;\r\n    \r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n    \r\n            imageview=itemView.findViewById(R.id.imageView);\r\n            textView=itemView.findViewById(R.id.textView);\r\n            rowCountTextview=itemView.findViewById(R.id.rowcounttextview);\r\n            btn=itemView.findViewById(R.id.button);\r\n    \r\n    \r\n    \r\n    \r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    exampleInterface.onItemClick(getAdapterPosition());\r\n                }\r\n            });\r\n    \r\n    \r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    exampleInterface.onLongItemClick(getAdapterPosition());\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n            itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n    \r\n                   /* moviesList.remove(getAdapterPosition());\r\n                    notifyItemRemoved(getAdapterPosition());*/\r\n    \r\n                    exampleInterface.onLongItemClick(getAdapterPosition());\r\n                    return true;\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }}\r\n\r\n**INTERFACE CLASS**\r\n\r\n    public interface ExampleInterface {void  onItemClick( int position);\r\n\r\n    void onLongItemClick(int position);void editData(int position);}\r\n\r\n**MAINACTIVITY.XML**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/swiperefreshlayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\r\n    \r\n    \r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    \r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**ROW_ITEM.XML**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;90dp&quot;\r\n            android:layout_height=&quot;82dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:layout_marginBottom=&quot;16dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\r\n    \r\n    \r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;12dp&quot;\r\n            android:text=&quot;TextView&quot;\r\n            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/rowcounttextview&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageView&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/rowcounttextview&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot;\r\n            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Small&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/textView&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;EDIT DATA&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rowcounttextview&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            tools:layout_editor_absoluteX=&quot;196dp&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Add the edit data function in recycler view using interfaces","body":"<p>My code is working fine, it adds the data when refresh the page and it deletes the data on long press, but when I refresh the page duplicates the same data that was added before secondly I want to add the edit function in edit data button but I have no idea how to do this. Geeks help me to sort this issue.</p>\n<p><strong>MAIN ACTIVITY:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements ExampleInterface{\nRecyclerView recyclerView;\nRecyclerAdapter recyclerAdapter;\n\nList&lt;String&gt; moviesList;\n\nSwipeRefreshLayout swipeRefreshLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    moviesList=new ArrayList&lt;&gt;();\n\n    recyclerView= findViewById(R.id.recyclerView);\n    recyclerAdapter=new RecyclerAdapter(moviesList,this);\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    recyclerView.setAdapter(recyclerAdapter);\n\n    DividerItemDecoration dividerItemDecoration=new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\n    recyclerView.addItemDecoration(dividerItemDecoration);\n\n\n    moviesList.add(&quot;Iron Man&quot;);\n    moviesList.add(&quot;Iron men&quot;);\n    moviesList.add(&quot;Iron Mann&quot;);\n    moviesList.add(&quot;Iron Many&quot;);\n    moviesList.add(&quot;Iron Manv&quot;);\n    moviesList.add(&quot;Iron Mane&quot;);\n    moviesList.add(&quot;Iron Manr&quot;);\n    moviesList.add(&quot;Iron Manee&quot;);\n    moviesList.add(&quot;Iron Manw&quot;);\n    moviesList.add(&quot;Iron Mana&quot;);\n    moviesList.add(&quot;Iron Mana&quot;);\n    moviesList.add(&quot;Iron Manc&quot;);\n    moviesList.add(&quot;Iron Manx&quot;);\n    moviesList.add(&quot;Iron Manz&quot;);\n    moviesList.add(&quot;Iron Mann&quot;);\n\n    swipeRefreshLayout =findViewById(R.id.swiperefreshlayout);\n    swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n\n        @Override\n        public void onRefresh() {\n            moviesList.add(&quot;Black widows(2022)&quot;);\n            moviesList.add(&quot;Black widow(2022)&quot;);\n            moviesList.add(&quot;Black widow(2020)&quot;);\n            moviesList.add(&quot;Black widow(2019)&quot;);\n            moviesList.add(&quot;Black widow(2018)&quot;);\n            recyclerAdapter.notifyDataSetChanged();\n            swipeRefreshLayout.setRefreshing(false);\n        }\n    });\n\n\n\n}\n\n@Override\npublic void onItemClick(int position) {\n\n    Toast.makeText(this,moviesList.get(position),Toast.LENGTH_SHORT).show();\n\n\n}\n\n@Override\npublic void onLongItemClick(int position) {\n\n    moviesList.remove(position);\n    recyclerAdapter.notifyItemRemoved(position);\n\n}\n@Override\npublic void editData(int position){\n\n    moviesList.remove(position);\n    recyclerAdapter.notifyItemRemoved(position);\n\n}}\n</code></pre>\n<p><strong>Adapter class:</strong></p>\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.viewHolder&gt;{\nprivate static final String TAG=&quot;RecyclerAdapter&quot;;\n\nList&lt;String&gt; moviesList;\nprivate ExampleInterface exampleInterface;\n\npublic RecyclerAdapter(List&lt;String&gt; moviesList,ExampleInterface exampleInterface) {\n    this.moviesList = moviesList;\n    this.exampleInterface=exampleInterface;\n}\n\n@NonNull\n@Override\n\n\n\npublic viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater layoutInflater=LayoutInflater.from(parent.getContext());\n    View view=layoutInflater.inflate(R.layout.row_item, parent,false);\n\n    viewHolder viewHolder= new viewHolder(view);\n\n    return viewHolder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull viewHolder holder, int position) {\nholder.rowCountTextview.setText(String.valueOf(position));\nholder.textView.setText(moviesList.get(position));\n\n}\n\n@Override\npublic int getItemCount() {\n    return moviesList.size();\n}\n\nclass viewHolder extends RecyclerView.ViewHolder{\n\n    ImageView imageview;\n    TextView textView,rowCountTextview;\n    Button btn;\n\n    public viewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        imageview=itemView.findViewById(R.id.imageView);\n        textView=itemView.findViewById(R.id.textView);\n        rowCountTextview=itemView.findViewById(R.id.rowcounttextview);\n        btn=itemView.findViewById(R.id.button);\n\n\n\n\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                exampleInterface.onItemClick(getAdapterPosition());\n            }\n        });\n\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                exampleInterface.onLongItemClick(getAdapterPosition());\n\n            }\n        });\n\n\n\n\n        itemView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n\n               /* moviesList.remove(getAdapterPosition());\n                notifyItemRemoved(getAdapterPosition());*/\n\n                exampleInterface.onLongItemClick(getAdapterPosition());\n                return true;\n\n\n            }\n        });\n\n\n    }\n\n\n}}\n</code></pre>\n<p><strong>INTERFACE CLASS</strong></p>\n<pre><code>public interface ExampleInterface {void  onItemClick( int position);\n\nvoid onLongItemClick(int position);void editData(int position);}\n</code></pre>\n<p><strong>MAINACTIVITY.XML</strong></p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt;\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    android:id=&quot;@+id/swiperefreshlayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\n\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>ROW_ITEM.XML</strong></p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;90dp&quot;\n        android:layout_height=&quot;82dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:background=&quot;@color/black&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\n\n\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rowcounttextview&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/imageView&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/rowcounttextview&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;TextView&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Small&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/textView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;EDIT DATA&quot;\n        android:textSize=&quot;20dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/rowcounttextview&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        tools:layout_editor_absoluteX=&quot;196dp&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1651133600,"post_id":72040156,"comment_id":127292013,"body_markdown":"You are using JDK 1.8 and trying to use language level 18, go to the project settings and change it to 8.","body":"You are using JDK 1.8 and trying to use language level 18, go to the project settings and change it to 8."}],"answers":[{"tags":[],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651133656,"creation_date":1651133656,"answer_id":72040192,"question_id":72040156,"body_markdown":"Your project uses java 8 (denoted by 1.8) but your IDE is having Java 18.\r\nUpgrade your project to java 18 or change settings in your IDE to Java 8","title":"IntelliJ IDEA - java: error: invalid source release: 18","body":"<p>Your project uses java 8 (denoted by 1.8) but your IDE is having Java 18.\nUpgrade your project to java 18 or change settings in your IDE to Java 8</p>\n"}],"owner":{"account_id":3865713,"reputation":99,"user_id":3202308,"display_name":"Nguyen Duc Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10650,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1651133656,"creation_date":1651133487,"question_id":72040156,"body_markdown":"I got the error while building.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lyt0p.png","title":"IntelliJ IDEA - java: error: invalid source release: 18","body":"<p>I got the error while building.</p>\n<p><a href=\"https://i.stack.imgur.com/lyt0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyt0p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","oop","firebase-realtime-database"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651126002,"post_id":72038610,"comment_id":127289437,"body_markdown":"It&#39;s not correct way in kotlin. Read more about it here https://www.baeldung.com/kotlin/getters-setters\nIt looks like that class was simply rewritten from java to kotlin by an automatic tool or by someone who didn&#39;t know how kotlin works","body":"It&#39;s not correct way in kotlin. Read more about it here <a href=\"https://www.baeldung.com/kotlin/getters-setters\" rel=\"nofollow noreferrer\">baeldung.com/kotlin/getters-setters</a> It looks like that class was simply rewritten from java to kotlin by an automatic tool or by someone who didn&#39;t know how kotlin works"},{"owner":{"account_id":22699867,"reputation":85,"user_id":16867455,"display_name":"Sam Kabiru"},"score":0,"creation_date":1651128922,"post_id":72038610,"comment_id":127290353,"body_markdown":"I don&#39;t get how I will be able to get the data as modelled from my database and display it in a recyclerview","body":"I don&#39;t get how I will be able to get the data as modelled from my database and display it in a recyclerview"}],"answers":[{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651127143,"creation_date":1651127143,"answer_id":72038950,"question_id":72038610,"body_markdown":"**You just simple do this. Remove the functions, it&#39;s not usable**\r\n\r\n    class HousePost {\r\n        private var uid: String = &quot;&quot;\r\n        private var postImage: String = &quot;&quot;\r\n        private var rent: String = &quot;&quot;\r\n        private var description: String = &quot;&quot;\r\n        private var publisher: String = &quot;&quot;\r\n        private var location: String = &quot;&quot;\r\n        private var postId: String? = &quot;&quot;\r\n        private var rooms: String = &quot;&quot;\r\n        private var caption: String = &quot;&quot;\r\n        private var dateTime: String = &quot;&quot;\r\n        var expandable: Boolean = false\r\n    \r\n        constructor()\r\n        constructor(uid: String,\r\n                    postImage: String,\r\n                    rent: String,\r\n                    description: String,\r\n                    location: String,\r\n                    postId: String,\r\n                    publisher: String,\r\n                    rooms: String,\r\n                    caption: String,\r\n                    dateTime: String) {\r\n            this.uid = uid\r\n            this.postImage = postImage\r\n            this.rent = rent\r\n            this.description = description\r\n            this.location = location\r\n            this.postId = postId\r\n            this.publisher = publisher\r\n            this.rooms = rooms\r\n            this.caption = caption\r\n            this.dateTime = dateTime\r\n            this.expandable = false\r\n        }\r\n    }\r\n\r\n  ","title":"Should Getters and Setters in Kotlin be the same as Java in Android","body":"<p><strong>You just simple do this. Remove the functions, it's not usable</strong></p>\n<pre><code>class HousePost {\n    private var uid: String = &quot;&quot;\n    private var postImage: String = &quot;&quot;\n    private var rent: String = &quot;&quot;\n    private var description: String = &quot;&quot;\n    private var publisher: String = &quot;&quot;\n    private var location: String = &quot;&quot;\n    private var postId: String? = &quot;&quot;\n    private var rooms: String = &quot;&quot;\n    private var caption: String = &quot;&quot;\n    private var dateTime: String = &quot;&quot;\n    var expandable: Boolean = false\n\n    constructor()\n    constructor(uid: String,\n                postImage: String,\n                rent: String,\n                description: String,\n                location: String,\n                postId: String,\n                publisher: String,\n                rooms: String,\n                caption: String,\n                dateTime: String) {\n        this.uid = uid\n        this.postImage = postImage\n        this.rent = rent\n        this.description = description\n        this.location = location\n        this.postId = postId\n        this.publisher = publisher\n        this.rooms = rooms\n        this.caption = caption\n        this.dateTime = dateTime\n        this.expandable = false\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7707982,"reputation":434,"user_id":9418794,"display_name":"Sovathna Hong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651130548,"creation_date":1651129490,"answer_id":72039388,"question_id":72038610,"body_markdown":"In Kotlin, a property doesn’t require explicit getter or setter methods.\r\n\r\n[Properties][1] in Kotlin classes can be declared either as mutable, using the `var` keyword, or as read-only, using the `val` keyword.\r\n\r\nA class whose main purpose is to hold data in Kotlin these are called [data classes][2] and are marked with `data`.\r\nFor example in your case the class can be define as below:\r\n\r\n    data class HousePost(\r\n        val uid: String = &quot;&quot;\r\n        val postImage: String = &quot;&quot;\r\n        val rent: String = &quot;&quot;\r\n        val description: String = &quot;&quot;\r\n        val publisher: String = &quot;&quot;\r\n        val location: String = &quot;&quot;\r\n        val postId: String? = &quot;&quot;\r\n        val rooms: String = &quot;&quot;\r\n        val caption: String = &quot;&quot;\r\n        val dateTime: String = &quot;&quot;\r\n        val expandable: Boolean = false\r\n    )\r\n\r\nThe `val` keyword make the properties of this data class immutable. It means that you cannot change its properties after initialized.\r\n\r\nTo make a property mutable you can use `var`.\r\n\r\nFor example:\r\n\r\n    val housePost = HousePost() // This will use all the default value\r\n    housePost.expandable = true // Val cannot be reassigned\r\n\r\nTo make expandable mutable use `var` like so:\r\n\r\n    data class HousePost(\r\n        .\r\n        .\r\n        .\r\n        var expandable: Boolean = false\r\n    )\r\n\r\n    val housePost = HousePost()\r\n    housePost.expandable = true // Can be reassigned\r\n\r\n**Edit**\r\n\r\nYou got the error(No setter/field for class found error) because you mark the class property private. You can simply fix it by removing private, the constructor, getters and setters in your current class.\r\n\r\nThere are other ways to define a property in a class. You will get to know how to use them as you learn.\r\n\r\n    class HousePost {\r\n        var uid: String = &quot;&quot;\r\n        var postImage: String = &quot;&quot;\r\n        var rent: String = &quot;&quot;\r\n        var description: String = &quot;&quot;\r\n        var publisher: String = &quot;&quot;\r\n        var location: String = &quot;&quot;\r\n        var postId: String? = &quot;&quot;\r\n        var rooms: String = &quot;&quot;\r\n        var caption: String = &quot;&quot;\r\n        var dateTime: String = &quot;&quot;\r\n        var expandable: Boolean = false\r\n    }\r\n\r\nOr this:\r\n\r\n    class HousePost (\r\n        var uid: String = &quot;&quot;\r\n        var postImage: String = &quot;&quot;\r\n        var rent: String = &quot;&quot;\r\n        var description: String = &quot;&quot;\r\n        var publisher: String = &quot;&quot;\r\n        var location: String = &quot;&quot;\r\n        var postId: String? = &quot;&quot;\r\n        var rooms: String = &quot;&quot;\r\n        var caption: String = &quot;&quot;\r\n        var dateTime: String = &quot;&quot;\r\n        var expandable: Boolean = false\r\n    )\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/properties.html\r\n  [2]: https://kotlinlang.org/docs/data-classes.html","title":"Should Getters and Setters in Kotlin be the same as Java in Android","body":"<p>In Kotlin, a property doesn’t require explicit getter or setter methods.</p>\n<p><a href=\"https://kotlinlang.org/docs/properties.html\" rel=\"nofollow noreferrer\">Properties</a> in Kotlin classes can be declared either as mutable, using the <code>var</code> keyword, or as read-only, using the <code>val</code> keyword.</p>\n<p>A class whose main purpose is to hold data in Kotlin these are called <a href=\"https://kotlinlang.org/docs/data-classes.html\" rel=\"nofollow noreferrer\">data classes</a> and are marked with <code>data</code>.\nFor example in your case the class can be define as below:</p>\n<pre><code>data class HousePost(\n    val uid: String = &quot;&quot;\n    val postImage: String = &quot;&quot;\n    val rent: String = &quot;&quot;\n    val description: String = &quot;&quot;\n    val publisher: String = &quot;&quot;\n    val location: String = &quot;&quot;\n    val postId: String? = &quot;&quot;\n    val rooms: String = &quot;&quot;\n    val caption: String = &quot;&quot;\n    val dateTime: String = &quot;&quot;\n    val expandable: Boolean = false\n)\n</code></pre>\n<p>The <code>val</code> keyword make the properties of this data class immutable. It means that you cannot change its properties after initialized.</p>\n<p>To make a property mutable you can use <code>var</code>.</p>\n<p>For example:</p>\n<pre><code>val housePost = HousePost() // This will use all the default value\nhousePost.expandable = true // Val cannot be reassigned\n</code></pre>\n<p>To make expandable mutable use <code>var</code> like so:</p>\n<pre><code>data class HousePost(\n    .\n    .\n    .\n    var expandable: Boolean = false\n)\n\nval housePost = HousePost()\nhousePost.expandable = true // Can be reassigned\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>You got the error(No setter/field for class found error) because you mark the class property private. You can simply fix it by removing private, the constructor, getters and setters in your current class.</p>\n<p>There are other ways to define a property in a class. You will get to know how to use them as you learn.</p>\n<pre><code>class HousePost {\n    var uid: String = &quot;&quot;\n    var postImage: String = &quot;&quot;\n    var rent: String = &quot;&quot;\n    var description: String = &quot;&quot;\n    var publisher: String = &quot;&quot;\n    var location: String = &quot;&quot;\n    var postId: String? = &quot;&quot;\n    var rooms: String = &quot;&quot;\n    var caption: String = &quot;&quot;\n    var dateTime: String = &quot;&quot;\n    var expandable: Boolean = false\n}\n</code></pre>\n<p>Or this:</p>\n<pre><code>class HousePost (\n    var uid: String = &quot;&quot;\n    var postImage: String = &quot;&quot;\n    var rent: String = &quot;&quot;\n    var description: String = &quot;&quot;\n    var publisher: String = &quot;&quot;\n    var location: String = &quot;&quot;\n    var postId: String? = &quot;&quot;\n    var rooms: String = &quot;&quot;\n    var caption: String = &quot;&quot;\n    var dateTime: String = &quot;&quot;\n    var expandable: Boolean = false\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651133544,"creation_date":1651133544,"answer_id":72040172,"question_id":72038610,"body_markdown":"Kotlin provides default `getters` and `setters` for `properties`, you don&#39;t have to manually define them.\r\n\r\nIn Kotlin\r\n\r\n    var data: String = &quot;&quot;\r\n    \r\nis equivalent as \r\n\r\n    var data: String = &quot;&quot;\r\n        get() = field\r\n        set(value) {\r\n            field = value\r\n        }\r\nbecause Kotlin compiler generates it for you. But if you only want to make your `getter` `public` but not `setter`, then you can override `setter`\r\n\r\n    var data: String = &quot;&quot;\r\n        private set\r\n        \r\nYou can do the same for the `getter` too.\r\n\r\n\r\n----------\r\n\r\n&gt; This class is supposed to model data from my database. Is that the\r\n&gt; correct way in Kotlin?\r\n\r\nNo, that is not the correct way to define a model class in Kotlin. Kotlin provides `data` classes, whose main function is to hold data. `Data class` primary constructor needs at least one parameter.\r\n\r\nSo, your model class can be refactored like this\r\n\r\n    data class HousePost(\r\n        var uid: String = &quot;&quot;,\r\n        var postImage: String = &quot;&quot;,\r\n        var rent: String = &quot;&quot;,\r\n        var description: String = &quot;&quot;,\r\n        var publisher: String = &quot;&quot;,\r\n        var location: String = &quot;&quot;,\r\n        var postId: String? = &quot;&quot;,\r\n        var rooms: String = &quot;&quot;,\r\n        var caption: String = &quot;&quot;,\r\n        var dateTime: String = &quot;&quot;,\r\n        var expandable: Boolean = false\r\n    )\r\n\r\nIn any case, if you need only private setters for any field, you can make that `constructor` property `private`, and then make a public property that delegates to this private field.\r\n\r\n    data class HousePost(\r\n        private var _uid: String = &quot;&quot;,\r\n        var postImage: String = &quot;&quot;,\r\n        var rent: String = &quot;&quot;,\r\n        var description: String = &quot;&quot;,\r\n        var publisher: String = &quot;&quot;,\r\n        var location: String = &quot;&quot;,\r\n        var postId: String? = &quot;&quot;,\r\n        var rooms: String = &quot;&quot;,\r\n        var caption: String = &quot;&quot;,\r\n        var dateTime: String = &quot;&quot;,\r\n        var expandable: Boolean = false\r\n    ) {\r\n        val uid: String get() = _uid\r\n    }","title":"Should Getters and Setters in Kotlin be the same as Java in Android","body":"<p>Kotlin provides default <code>getters</code> and <code>setters</code> for <code>properties</code>, you don't have to manually define them.</p>\n<p>In Kotlin</p>\n<pre><code>var data: String = &quot;&quot;\n</code></pre>\n<p>is equivalent as</p>\n<pre><code>var data: String = &quot;&quot;\n    get() = field\n    set(value) {\n        field = value\n    }\n</code></pre>\n<p>because Kotlin compiler generates it for you. But if you only want to make your <code>getter</code> <code>public</code> but not <code>setter</code>, then you can override <code>setter</code></p>\n<pre><code>var data: String = &quot;&quot;\n    private set\n    \n</code></pre>\n<p>You can do the same for the <code>getter</code> too.</p>\n<hr />\n<blockquote>\n<p>This class is supposed to model data from my database. Is that the\ncorrect way in Kotlin?</p>\n</blockquote>\n<p>No, that is not the correct way to define a model class in Kotlin. Kotlin provides <code>data</code> classes, whose main function is to hold data. <code>Data class</code> primary constructor needs at least one parameter.</p>\n<p>So, your model class can be refactored like this</p>\n<pre><code>data class HousePost(\n    var uid: String = &quot;&quot;,\n    var postImage: String = &quot;&quot;,\n    var rent: String = &quot;&quot;,\n    var description: String = &quot;&quot;,\n    var publisher: String = &quot;&quot;,\n    var location: String = &quot;&quot;,\n    var postId: String? = &quot;&quot;,\n    var rooms: String = &quot;&quot;,\n    var caption: String = &quot;&quot;,\n    var dateTime: String = &quot;&quot;,\n    var expandable: Boolean = false\n)\n</code></pre>\n<p>In any case, if you need only private setters for any field, you can make that <code>constructor</code> property <code>private</code>, and then make a public property that delegates to this private field.</p>\n<pre><code>data class HousePost(\n    private var _uid: String = &quot;&quot;,\n    var postImage: String = &quot;&quot;,\n    var rent: String = &quot;&quot;,\n    var description: String = &quot;&quot;,\n    var publisher: String = &quot;&quot;,\n    var location: String = &quot;&quot;,\n    var postId: String? = &quot;&quot;,\n    var rooms: String = &quot;&quot;,\n    var caption: String = &quot;&quot;,\n    var dateTime: String = &quot;&quot;,\n    var expandable: Boolean = false\n) {\n    val uid: String get() = _uid\n}\n</code></pre>\n"}],"owner":{"account_id":22699867,"reputation":85,"user_id":16867455,"display_name":"Sam Kabiru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72039388,"answer_count":3,"score":0,"last_activity_date":1651133544,"creation_date":1651125042,"question_id":72038610,"body_markdown":"This Model class has getters and setters implemented the same as in Java but now written in Kotlin\r\n\r\n     class HousePost{\r\n    private var uid: String = &quot;&quot;\r\n    private var postImage: String = &quot;&quot;\r\n    private var rent: String = &quot;&quot;\r\n    private var description: String = &quot;&quot;\r\n    private var publisher: String = &quot;&quot;\r\n    private var location: String = &quot;&quot;\r\n    private var postId: String? = &quot;&quot;\r\n    private var rooms: String = &quot;&quot;\r\n    private var caption: String = &quot;&quot;\r\n    private var dateTime: String = &quot;&quot;\r\n    var expandable: Boolean = false\r\n\r\n    constructor()\r\n    constructor(\r\n       uid: String,\r\n       postImage: String,\r\n       rent: String,\r\n       description: String,\r\n       location: String,\r\n       postId: String,\r\n       publisher: String,\r\n       rooms: String,\r\n       caption: String,\r\n       dateTime : String\r\n    ) {\r\n       this.uid = uid\r\n       this.postImage = postImage\r\n       this.rent = rent\r\n       this.description = description\r\n       this.location = location\r\n       this.postId = postId\r\n       this.publisher = publisher\r\n       this.rooms = rooms\r\n       this.caption = caption\r\n       this.dateTime = dateTime\r\n       this.expandable = false\r\n    }\r\n    //Post Details getters\r\n    fun getUid() : String {\r\n       return uid\r\n    }\r\n    fun getPostId (): String? {\r\n       return postId\r\n    }\r\n    fun getPostImage():String {\r\n       return postImage\r\n    }\r\n    fun getDescription():String {\r\n       return description\r\n    }\r\n    fun getLocation():String {\r\n       return location\r\n    }\r\n    fun getRent():String {\r\n       return rent\r\n    }\r\n    fun getPublisher(): String {\r\n       return publisher\r\n    }\r\n\r\n    fun getRooms(): String {\r\n       return rooms\r\n    }\r\n    fun getCaption() : String {\r\n       return caption\r\n    }\r\n    fun getDateTime() : String {\r\n       return dateTime\r\n    }\r\n\r\n    //Post Details setters\r\n    fun setUid (uid: String) {\r\n       this.uid = uid\r\n    }\r\n    fun setPostId(postId: String) {\r\n       this.postId = postId\r\n    }\r\n    fun setPostImage(postImage: String) {\r\n       this.postImage = postImage\r\n    }\r\n    fun setLocation(location: String) {\r\n       this.location = location\r\n    }\r\n    fun setDescription(description: String) {\r\n       this.description = description\r\n    }\r\n    fun setRent(rent: String) {\r\n       this.rent = rent\r\n    }\r\n    fun setPublisher(publisher: String) {\r\n       this.publisher = publisher\r\n    }\r\n    fun setCaption(caption: String) {\r\n       this.caption = caption\r\n    }\r\n    fun setDateTime(dateTime: String) {\r\n       this.dateTime = dateTime\r\n    }\r\n\r\n }\r\n\r\nThis class is supposed to model data from my [database][1]. Is that the correct way in Kotlin? \r\nThere is a *No setter/field for class found* error I&#39;m getting. My recyclerview does not show the data at all, I assume is due to the error. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e7fxV.png","title":"Should Getters and Setters in Kotlin be the same as Java in Android","body":"<p>This Model class has getters and setters implemented the same as in Java but now written in Kotlin</p>\n<pre><code> class HousePost{\nprivate var uid: String = &quot;&quot;\nprivate var postImage: String = &quot;&quot;\nprivate var rent: String = &quot;&quot;\nprivate var description: String = &quot;&quot;\nprivate var publisher: String = &quot;&quot;\nprivate var location: String = &quot;&quot;\nprivate var postId: String? = &quot;&quot;\nprivate var rooms: String = &quot;&quot;\nprivate var caption: String = &quot;&quot;\nprivate var dateTime: String = &quot;&quot;\nvar expandable: Boolean = false\n\nconstructor()\nconstructor(\n   uid: String,\n   postImage: String,\n   rent: String,\n   description: String,\n   location: String,\n   postId: String,\n   publisher: String,\n   rooms: String,\n   caption: String,\n   dateTime : String\n) {\n   this.uid = uid\n   this.postImage = postImage\n   this.rent = rent\n   this.description = description\n   this.location = location\n   this.postId = postId\n   this.publisher = publisher\n   this.rooms = rooms\n   this.caption = caption\n   this.dateTime = dateTime\n   this.expandable = false\n}\n//Post Details getters\nfun getUid() : String {\n   return uid\n}\nfun getPostId (): String? {\n   return postId\n}\nfun getPostImage():String {\n   return postImage\n}\nfun getDescription():String {\n   return description\n}\nfun getLocation():String {\n   return location\n}\nfun getRent():String {\n   return rent\n}\nfun getPublisher(): String {\n   return publisher\n}\n\nfun getRooms(): String {\n   return rooms\n}\nfun getCaption() : String {\n   return caption\n}\nfun getDateTime() : String {\n   return dateTime\n}\n\n//Post Details setters\nfun setUid (uid: String) {\n   this.uid = uid\n}\nfun setPostId(postId: String) {\n   this.postId = postId\n}\nfun setPostImage(postImage: String) {\n   this.postImage = postImage\n}\nfun setLocation(location: String) {\n   this.location = location\n}\nfun setDescription(description: String) {\n   this.description = description\n}\nfun setRent(rent: String) {\n   this.rent = rent\n}\nfun setPublisher(publisher: String) {\n   this.publisher = publisher\n}\nfun setCaption(caption: String) {\n   this.caption = caption\n}\nfun setDateTime(dateTime: String) {\n   this.dateTime = dateTime\n}\n</code></pre>\n<p>}</p>\n<p>This class is supposed to model data from my <a href=\"https://i.stack.imgur.com/e7fxV.png\" rel=\"nofollow noreferrer\">database</a>. Is that the correct way in Kotlin?\nThere is a <em>No setter/field for class found</em> error I'm getting. My recyclerview does not show the data at all, I assume is due to the error.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":4921960,"reputation":8599,"user_id":4554883,"accept_rate":90,"display_name":"Parzh from Ukraine"},"score":2,"creation_date":1651080680,"post_id":72032835,"comment_id":127279535,"body_markdown":"Please, post an example (excerpt) of the result","body":"Please, post an example (excerpt) of the result"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1651081763,"post_id":72032835,"comment_id":127279944,"body_markdown":"Which library for parsing json are you using?","body":"Which library for parsing json are you using?"},{"owner":{"account_id":13373185,"reputation":9,"user_id":9650839,"display_name":"NikJava"},"score":0,"creation_date":1651085364,"post_id":72032835,"comment_id":127281103,"body_markdown":"@Chaosfire I use Jackson 2.6.6 for parsing","body":"@Chaosfire I use Jackson 2.6.6 for parsing"},{"owner":{"account_id":13373185,"reputation":9,"user_id":9650839,"display_name":"NikJava"},"score":0,"creation_date":1651085748,"post_id":72032835,"comment_id":127281224,"body_markdown":"@DimaParzhitsky added an example of the result\nI am also ok if I can directly parse it into a POJO","body":"@DimaParzhitsky added an example of the result I am also ok if I can directly parse it into a POJO"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651128699,"creation_date":1651093616,"answer_id":72035291,"question_id":72032835,"body_markdown":"You need to map column names from second array to values from first array using indexes. First let&#39;s create POJO structure.\r\n```\r\npublic class DataObject {\r\n\r\n  private LocalDate marketDate;\r\n  private int secKey;\r\n  private int securityId;\r\n  private String ticker;\r\n  private String cusip;\r\n  private String sedol;\r\n  private String isin;\r\n  private String mic;\r\n  private String securityName;\r\n  private String companyName;\r\n  private String uslisted;\r\n  private String innqgi;\r\n\r\n  //getters and setters\r\n}\r\n```\r\nThen:\r\n```\r\npublic class DataWrapper {\r\n\r\n  private List&lt;DataObject&gt; data;\r\n\r\n  //getters setters\r\n}\r\n```\r\nResponse:\r\n```\r\npublic class Response {\r\n\r\n  private DataWrapper datatable;\r\n\r\n  //getters setters\r\n\r\n  //omitting meta\r\n}\r\n```\r\nThen create deserializer to map column names to corresponding values:\r\n```\r\npublic class ResponseDeserializer extends StdDeserializer&lt;Response&gt; {\r\n\r\n  private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n  private final Map&lt;String, BiConsumer&lt;JsonNode, DataObject&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n  public ResponseDeserializer() {\r\n    super(Response.class);\r\n    this.initMap();\r\n  }\r\n\r\n  private void initMap() {\r\n    map.put(&quot;marketdate&quot;, (jsonNode, dataObject) -&gt; dataObject.setMarketDate(LocalDate.parse(jsonNode.asText(), FORMATTER)));\r\n    map.put(&quot;seckey&quot;, (jsonNode, dataObject) -&gt; dataObject.setSecKey(jsonNode.asInt()));\r\n    map.put(&quot;cusip&quot;, (jsonNode, dataObject) -&gt; dataObject.setCusip(jsonNode.asText()));\r\n    //do the same for rest\r\n  }\r\n\r\n  @Override\r\n  public Response deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n    JsonNode root = parser.getCodec().readTree(parser);\r\n    ArrayNode dataArray = (ArrayNode) root.get(&quot;datatable&quot;).get(&quot;data&quot;);\r\n    ArrayNode columnsArray = (ArrayNode) root.get(&quot;datatable&quot;).get(&quot;columns&quot;);\r\n    List&lt;DataObject&gt; objects = new ArrayList&lt;&gt;(dataArray.size());\r\n    for (int index = 0; index &lt; dataArray.size(); index++) {\r\n      ArrayNode data = (ArrayNode) dataArray.get(index);\r\n      DataObject dataObject = new DataObject();\r\n      for (int dadaIndex = 0; dadaIndex &lt; data.size(); dadaIndex++) {\r\n        JsonNode node = data.get(dadaIndex);\r\n        String columnName = columnsArray.get(dadaIndex).get(&quot;name&quot;).asText();\r\n        this.map.getOrDefault(columnName, (jsonNode, dataObject1) -&gt; {}).accept(node, dataObject);\r\n      }\r\n      objects.add(dataObject);\r\n    }\r\n    DataWrapper wrapper = new DataWrapper();\r\n    wrapper.setData(objects);\r\n    Response response = new Response();\r\n    response.setDatatable(wrapper);\r\n    return response;\r\n  }\r\n}\r\n```\r\nHere i am using a `Map` to map column name to operation setting the value, but you could do it with reflection as well, for example.\r\n\r\nA serializer to parse local date to the same format as in input:\r\n```\r\npublic class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\r\n\r\n  private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n  public LocalDateSerializer() {\r\n    super(LocalDate.class);\r\n  }\r\n\r\n  @Override\r\n  public void serialize(LocalDate value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n    gen.writeString(FORMATTER.format(value));\r\n  }\r\n}\r\n```\r\nRegister serializers/deserializers and test result:\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(Response.class, new ResponseDeserializer());\r\n    module.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n    mapper.registerModule(module);\r\n\r\n    Response response = mapper.readValue(inputJson, Response.class);\r\n    String json = mapper.writeValueAsString(response);\r\n    System.out.println(json);\r\n  }\r\n}\r\n```","title":"JSON Structure without Keys","body":"<p>You need to map column names from second array to values from first array using indexes. First let's create POJO structure.</p>\n<pre><code>public class DataObject {\n\n  private LocalDate marketDate;\n  private int secKey;\n  private int securityId;\n  private String ticker;\n  private String cusip;\n  private String sedol;\n  private String isin;\n  private String mic;\n  private String securityName;\n  private String companyName;\n  private String uslisted;\n  private String innqgi;\n\n  //getters and setters\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>public class DataWrapper {\n\n  private List&lt;DataObject&gt; data;\n\n  //getters setters\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>public class Response {\n\n  private DataWrapper datatable;\n\n  //getters setters\n\n  //omitting meta\n}\n</code></pre>\n<p>Then create deserializer to map column names to corresponding values:</p>\n<pre><code>public class ResponseDeserializer extends StdDeserializer&lt;Response&gt; {\n\n  private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n  private final Map&lt;String, BiConsumer&lt;JsonNode, DataObject&gt;&gt; map = new HashMap&lt;&gt;();\n\n  public ResponseDeserializer() {\n    super(Response.class);\n    this.initMap();\n  }\n\n  private void initMap() {\n    map.put(&quot;marketdate&quot;, (jsonNode, dataObject) -&gt; dataObject.setMarketDate(LocalDate.parse(jsonNode.asText(), FORMATTER)));\n    map.put(&quot;seckey&quot;, (jsonNode, dataObject) -&gt; dataObject.setSecKey(jsonNode.asInt()));\n    map.put(&quot;cusip&quot;, (jsonNode, dataObject) -&gt; dataObject.setCusip(jsonNode.asText()));\n    //do the same for rest\n  }\n\n  @Override\n  public Response deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n    JsonNode root = parser.getCodec().readTree(parser);\n    ArrayNode dataArray = (ArrayNode) root.get(&quot;datatable&quot;).get(&quot;data&quot;);\n    ArrayNode columnsArray = (ArrayNode) root.get(&quot;datatable&quot;).get(&quot;columns&quot;);\n    List&lt;DataObject&gt; objects = new ArrayList&lt;&gt;(dataArray.size());\n    for (int index = 0; index &lt; dataArray.size(); index++) {\n      ArrayNode data = (ArrayNode) dataArray.get(index);\n      DataObject dataObject = new DataObject();\n      for (int dadaIndex = 0; dadaIndex &lt; data.size(); dadaIndex++) {\n        JsonNode node = data.get(dadaIndex);\n        String columnName = columnsArray.get(dadaIndex).get(&quot;name&quot;).asText();\n        this.map.getOrDefault(columnName, (jsonNode, dataObject1) -&gt; {}).accept(node, dataObject);\n      }\n      objects.add(dataObject);\n    }\n    DataWrapper wrapper = new DataWrapper();\n    wrapper.setData(objects);\n    Response response = new Response();\n    response.setDatatable(wrapper);\n    return response;\n  }\n}\n</code></pre>\n<p>Here i am using a <code>Map</code> to map column name to operation setting the value, but you could do it with reflection as well, for example.</p>\n<p>A serializer to parse local date to the same format as in input:</p>\n<pre><code>public class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\n\n  private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n  public LocalDateSerializer() {\n    super(LocalDate.class);\n  }\n\n  @Override\n  public void serialize(LocalDate value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n    gen.writeString(FORMATTER.format(value));\n  }\n}\n</code></pre>\n<p>Register serializers/deserializers and test result:</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(Response.class, new ResponseDeserializer());\n    module.addSerializer(LocalDate.class, new LocalDateSerializer());\n    mapper.registerModule(module);\n\n    Response response = mapper.readValue(inputJson, Response.class);\n    String json = mapper.writeValueAsString(response);\n    System.out.println(json);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651133101,"creation_date":1651133101,"answer_id":72040084,"question_id":72032835,"body_markdown":"    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n\r\n\r\n    class HashMapExample {\r\n\r\n\t    private static HashMap&lt;String, Integer&gt; bigHashMap;\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t    try {\r\n\r\n\t\t\t    JSONObject jsonObject = getJsonFromSource();\r\n\r\n\t\t\t    // Get datatable object from JSONObject\r\n\t\t\t    JSONObject dataTable = (JSONObject) jsonObject.get(&quot;datatable&quot;);\r\n    \r\n\t\t\t    if (dataTable != null) {\r\n\r\n\t\t\t\t    // Get JSONArray from JSONObject datatable\r\n\t\t\t\t    JSONArray data = dataTable.getJSONArray(&quot;data&quot;);\r\n\t\t\t\t    JSONArray columns = dataTable.getJSONArray(&quot;columns&quot;);\r\n\r\n\t\t\t\t    mapToKeyValuePair(data, columns); // Map key to value\r\n\t\t\t    }\r\n\t\t    } catch (Exception exception) {\r\n\t\t\t    exception.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private static void mapToKeyValuePair(final JSONArray dataArray, final JSONArray columnsArray) {\r\n\r\n\t\t    // Check for equal lengths\r\n\t\t    if ((dataArray != null) &amp;&amp; (columnsArray != null)) {\r\n\r\n\t\t\t    ArrayList&lt;String&gt; fieldNames = new ArrayList&lt;&gt;(); // ArrayList with field names\r\n\t\t\t    ArrayList&lt;String&gt; dataValuesArrays = new ArrayList&lt;&gt;(); // ArrayList with the data values\r\n\t\t\t    ArrayList&lt;HashMap&gt; wholeFinalArray = new ArrayList&lt;&gt;(); // The whole array with key pair value\r\n\r\n\t\t\t    // Loop to get a JSONObject with all the column names\r\n\t\t\t    for (int i = 0; i &lt; columnsArray.length(); i++) {\r\n\t\t\t\t    JSONObject jsonObjectColumn = (JSONObject) columnsArray.get(i); // Get JSONObject with column names\r\n\t\t\t\t    fieldNames.add(jsonObjectColumn.get(&quot;name&quot;).toString()); // Get fieldNames from JSONObject above\r\n\t\t\t    }\r\n\r\n\t\t\t    for (int i = 0; i &lt; dataArray.length(); i++) {\r\n\t\t\t\t    JSONArray jsonArrayData = (JSONArray) dataArray.get(i); // Get JSONArray with data\r\n\t\t\t\t    dataValuesArrays.add(jsonArrayData.toString()); // Add the data to an ArrayList\r\n\t\t\t    }\r\n\r\n\t\t\t    // Loop through the data values combined arrays\r\n\t\t\t    for (String dataValuesArray : dataValuesArrays) {\r\n\r\n\t\t\t\t    JSONArray singleDataArray = new JSONArray(dataValuesArray); // Get single data array\r\n\r\n\t\t\t\t    for (int a = 0; a &lt; singleDataArray.length(); a++) {\r\n\t\t\t\t\t    HashMap&lt;String, String&gt; item = new HashMap&lt;&gt;();\r\n\t\t\t\t\t    item.put(fieldNames.get(a), singleDataArray.get(a).toString());\r\n\t\t\t\t\t    wholeFinalArray.add(item);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t\t\r\n\t\t\t    System.out.println(wholeFinalArray);\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private static JSONObject getJsonFromSource() {\r\n\r\n\t\t    String jsonResponse = &quot;{&#39;datatable&#39;:{&#39;data&#39;: [[&#39;2022-04-26&#39;, 118313, 0, &#39;QQQ&#39;, null, &quot; +\r\n\t\t\t\t&quot;&#39;BL6CD96&#39;, &quot; +\r\n\t\t\t\t&quot;&#39;ARCAVA4600V8&#39;, &#39;XBUE&#39;, &#39;INVESCO QQQ TRUST SE1-CEDEAR&#39;, &#39;Invesco QQQ Trust Series 1&#39;, &#39;False&#39;, &#39;False&#39;],[&#39;2022-04-26&#39;, 56360, 22669, &#39;QQQ&#39;, &#39;46090E103&#39;, &#39;BDQYP67&#39;, &#39;US46090E1038&#39;, &#39;XNAS&#39;, &#39;INVESCO QQQ TRUST SERIES 1&#39;, &#39;Invesco QQQ Trust Series 1&#39;, &#39;True&#39;, &#39;False&#39;],[&#39;2022-04-26&#39;, 44307, 25533, &#39;IBM&#39;, &#39;459200101&#39;, &#39;2005973&#39;, &#39;US4592001014&#39;, &#39;XNYS&#39;, &#39;INTL BUSINESS MACHINES CORP&#39;, &#39;International Business Machines Corp&#39;, &#39;True&#39;, &#39;True&#39;]],&#39;columns&#39;: [{&#39;name&#39;:&#39;marketdate&#39;, &#39;type&#39;:&#39;Date&#39;},{&#39;name&#39;:&#39;seckey&#39;, &#39;type&#39;:&#39;Integer&#39;},{&#39;name&#39;:&#39;securityid&#39;, &#39;type&#39;:&#39;Integer&#39;},{&#39;name&#39;:&#39;ticker&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;cusip&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;sedol&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;isin&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;mic&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;securityname&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;companyname&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;uslisted&#39;, &#39;type&#39;:&#39;text&#39;},{&#39;name&#39;:&#39;innqgi&#39;, &#39;type&#39;:&#39;text&#39;}]}, &#39;meta&#39;:{&#39;next_cursor_id&#39;:null}}&quot;;\r\n\r\n\t\t    return new JSONObject(jsonResponse);\r\n\t    }\r\n    }","title":"JSON Structure without Keys","body":"<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\n\nclass HashMapExample {\n\n    private static HashMap&lt;String, Integer&gt; bigHashMap;\n\n    public static void main(String[] args) {\n\n        try {\n\n            JSONObject jsonObject = getJsonFromSource();\n\n            // Get datatable object from JSONObject\n            JSONObject dataTable = (JSONObject) jsonObject.get(&quot;datatable&quot;);\n\n            if (dataTable != null) {\n\n                // Get JSONArray from JSONObject datatable\n                JSONArray data = dataTable.getJSONArray(&quot;data&quot;);\n                JSONArray columns = dataTable.getJSONArray(&quot;columns&quot;);\n\n                mapToKeyValuePair(data, columns); // Map key to value\n            }\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    private static void mapToKeyValuePair(final JSONArray dataArray, final JSONArray columnsArray) {\n\n        // Check for equal lengths\n        if ((dataArray != null) &amp;&amp; (columnsArray != null)) {\n\n            ArrayList&lt;String&gt; fieldNames = new ArrayList&lt;&gt;(); // ArrayList with field names\n            ArrayList&lt;String&gt; dataValuesArrays = new ArrayList&lt;&gt;(); // ArrayList with the data values\n            ArrayList&lt;HashMap&gt; wholeFinalArray = new ArrayList&lt;&gt;(); // The whole array with key pair value\n\n            // Loop to get a JSONObject with all the column names\n            for (int i = 0; i &lt; columnsArray.length(); i++) {\n                JSONObject jsonObjectColumn = (JSONObject) columnsArray.get(i); // Get JSONObject with column names\n                fieldNames.add(jsonObjectColumn.get(&quot;name&quot;).toString()); // Get fieldNames from JSONObject above\n            }\n\n            for (int i = 0; i &lt; dataArray.length(); i++) {\n                JSONArray jsonArrayData = (JSONArray) dataArray.get(i); // Get JSONArray with data\n                dataValuesArrays.add(jsonArrayData.toString()); // Add the data to an ArrayList\n            }\n\n            // Loop through the data values combined arrays\n            for (String dataValuesArray : dataValuesArrays) {\n\n                JSONArray singleDataArray = new JSONArray(dataValuesArray); // Get single data array\n\n                for (int a = 0; a &lt; singleDataArray.length(); a++) {\n                    HashMap&lt;String, String&gt; item = new HashMap&lt;&gt;();\n                    item.put(fieldNames.get(a), singleDataArray.get(a).toString());\n                    wholeFinalArray.add(item);\n                }\n            }\n        \n            System.out.println(wholeFinalArray);\n        }\n    }\n\n    private static JSONObject getJsonFromSource() {\n\n        String jsonResponse = &quot;{'datatable':{'data': [['2022-04-26', 118313, 0, 'QQQ', null, &quot; +\n            &quot;'BL6CD96', &quot; +\n            &quot;'ARCAVA4600V8', 'XBUE', 'INVESCO QQQ TRUST SE1-CEDEAR', 'Invesco QQQ Trust Series 1', 'False', 'False'],['2022-04-26', 56360, 22669, 'QQQ', '46090E103', 'BDQYP67', 'US46090E1038', 'XNAS', 'INVESCO QQQ TRUST SERIES 1', 'Invesco QQQ Trust Series 1', 'True', 'False'],['2022-04-26', 44307, 25533, 'IBM', '459200101', '2005973', 'US4592001014', 'XNYS', 'INTL BUSINESS MACHINES CORP', 'International Business Machines Corp', 'True', 'True']],'columns': [{'name':'marketdate', 'type':'Date'},{'name':'seckey', 'type':'Integer'},{'name':'securityid', 'type':'Integer'},{'name':'ticker', 'type':'text'},{'name':'cusip', 'type':'text'},{'name':'sedol', 'type':'text'},{'name':'isin', 'type':'text'},{'name':'mic', 'type':'text'},{'name':'securityname', 'type':'text'},{'name':'companyname', 'type':'text'},{'name':'uslisted', 'type':'text'},{'name':'innqgi', 'type':'text'}]}, 'meta':{'next_cursor_id':null}}&quot;;\n\n        return new JSONObject(jsonResponse);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13373185,"reputation":9,"user_id":9650839,"display_name":"NikJava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651133101,"creation_date":1651079608,"question_id":72032835,"body_markdown":"I downloaded some information in json format, but it looks different from what I am regularly used to.\r\nThe basic structures consists of two objects: an array of arrays without keys and an array of objects with key:value pairs, indicating the &quot;keys&quot; for the first array and their type.\r\n\r\n```\r\n{\r\n  &quot;datatable&quot;: {\r\n    &quot;data&quot;: [\r\n      [\r\n        &quot;2022-04-26&quot;,\r\n        118313,\r\n        0,\r\n        &quot;QQQ&quot;,\r\n        null,\r\n        &quot;BL6CD96&quot;,\r\n        &quot;ARCAVA4600V8&quot;,\r\n        &quot;XBUE&quot;,\r\n        &quot;INVESCO QQQ TRUST SE1-CEDEAR&quot;,\r\n        &quot;Invesco QQQ Trust Series 1&quot;,\r\n        &quot;False&quot;,\r\n        &quot;False&quot;\r\n      ],\r\n      [\r\n        &quot;2022-04-26&quot;,\r\n        56360,\r\n        22669,\r\n        &quot;QQQ&quot;,\r\n        &quot;46090E103&quot;,\r\n        &quot;BDQYP67&quot;,\r\n        &quot;US46090E1038&quot;,\r\n        &quot;XNAS&quot;,\r\n        &quot;INVESCO QQQ TRUST SERIES 1&quot;,\r\n        &quot;Invesco QQQ Trust Series 1&quot;,\r\n        &quot;True&quot;,\r\n        &quot;False&quot;\r\n      ],\r\n      [\r\n        &quot;2022-04-26&quot;,\r\n        44307,\r\n        25533,\r\n        &quot;IBM&quot;,\r\n        &quot;459200101&quot;,\r\n        &quot;2005973&quot;,\r\n        &quot;US4592001014&quot;,\r\n        &quot;XNYS&quot;,\r\n        &quot;INTL BUSINESS MACHINES CORP&quot;,\r\n        &quot;International Business Machines Corp&quot;,\r\n        &quot;True&quot;,\r\n        &quot;True&quot;\r\n      ]\r\n    ],\r\n    &quot;columns&quot;: [{\r\n        &quot;name&quot;: &quot;marketdate&quot;,\r\n        &quot;type&quot;: &quot;Date&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;seckey&quot;,\r\n        &quot;type&quot;: &quot;Integer&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;securityid&quot;,\r\n        &quot;type&quot;: &quot;Integer&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;ticker&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;cusip&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;sedol&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;isin&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;mic&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;securityname&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;companyname&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;uslisted&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;innqgi&quot;,\r\n        &quot;type&quot;: &quot;text&quot;\r\n      }\r\n    ]\r\n  },\r\n  &quot;meta&quot;: {\r\n    &quot;next_cursor_id&quot;: null\r\n  }\r\n}\r\n```\r\n\r\nResult I am trying to achieve: \r\n\r\n    {\r\n      &quot;datatable&quot;: {\r\n        &quot;data&quot;: [\r\n          [\r\n            &quot;marketdate&quot;:&quot;2022-04-26&quot;,\r\n            &quot;seckey&quot;:118313,\r\n            &quot;securityid&quot;:0,\r\n            &quot;ticker&quot;:&quot;QQQ&quot;,\r\n            &quot;cusip&quot;:&quot;null&quot;,\r\n            &quot;sedol&quot;:&quot;BL6CD96&quot;,\r\n            &quot;isin&quot;:&quot;ARCAVA4600V8&quot;,\r\n            &quot;mic&quot;:&quot;XBUE&quot;,\r\n            &quot;securityname&quot;:&quot;INVESCO QQQ TRUST SE1-CEDEAR&quot;,\r\n            &quot;companyname&quot;:&quot;Invesco QQQ Trust Series 1&quot;,\r\n            &quot;uslisted&quot;:&quot;False&quot;,\r\n            &quot;innqgi&quot;:&quot;False&quot;\r\n          ],\r\n    ...\r\n      },\r\n      &quot;meta&quot;: {\r\n        &quot;next_cursor_id&quot;: null\r\n      }\r\n    }\r\n\r\nHow can I convert this into a regular key=value JSON OR\r\nHow do I parse this in Java so that I have a POJO where the variable names = &quot;colName&quot;?\r\n\r\nThanks a lot!\r\nNikhil","title":"JSON Structure without Keys","body":"<p>I downloaded some information in json format, but it looks different from what I am regularly used to.\nThe basic structures consists of two objects: an array of arrays without keys and an array of objects with key:value pairs, indicating the &quot;keys&quot; for the first array and their type.</p>\n<pre><code>{\n  &quot;datatable&quot;: {\n    &quot;data&quot;: [\n      [\n        &quot;2022-04-26&quot;,\n        118313,\n        0,\n        &quot;QQQ&quot;,\n        null,\n        &quot;BL6CD96&quot;,\n        &quot;ARCAVA4600V8&quot;,\n        &quot;XBUE&quot;,\n        &quot;INVESCO QQQ TRUST SE1-CEDEAR&quot;,\n        &quot;Invesco QQQ Trust Series 1&quot;,\n        &quot;False&quot;,\n        &quot;False&quot;\n      ],\n      [\n        &quot;2022-04-26&quot;,\n        56360,\n        22669,\n        &quot;QQQ&quot;,\n        &quot;46090E103&quot;,\n        &quot;BDQYP67&quot;,\n        &quot;US46090E1038&quot;,\n        &quot;XNAS&quot;,\n        &quot;INVESCO QQQ TRUST SERIES 1&quot;,\n        &quot;Invesco QQQ Trust Series 1&quot;,\n        &quot;True&quot;,\n        &quot;False&quot;\n      ],\n      [\n        &quot;2022-04-26&quot;,\n        44307,\n        25533,\n        &quot;IBM&quot;,\n        &quot;459200101&quot;,\n        &quot;2005973&quot;,\n        &quot;US4592001014&quot;,\n        &quot;XNYS&quot;,\n        &quot;INTL BUSINESS MACHINES CORP&quot;,\n        &quot;International Business Machines Corp&quot;,\n        &quot;True&quot;,\n        &quot;True&quot;\n      ]\n    ],\n    &quot;columns&quot;: [{\n        &quot;name&quot;: &quot;marketdate&quot;,\n        &quot;type&quot;: &quot;Date&quot;\n      },\n      {\n        &quot;name&quot;: &quot;seckey&quot;,\n        &quot;type&quot;: &quot;Integer&quot;\n      },\n      {\n        &quot;name&quot;: &quot;securityid&quot;,\n        &quot;type&quot;: &quot;Integer&quot;\n      },\n      {\n        &quot;name&quot;: &quot;ticker&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;cusip&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;sedol&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;isin&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;mic&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;securityname&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;companyname&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;uslisted&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      },\n      {\n        &quot;name&quot;: &quot;innqgi&quot;,\n        &quot;type&quot;: &quot;text&quot;\n      }\n    ]\n  },\n  &quot;meta&quot;: {\n    &quot;next_cursor_id&quot;: null\n  }\n}\n</code></pre>\n<p>Result I am trying to achieve:</p>\n<pre><code>{\n  &quot;datatable&quot;: {\n    &quot;data&quot;: [\n      [\n        &quot;marketdate&quot;:&quot;2022-04-26&quot;,\n        &quot;seckey&quot;:118313,\n        &quot;securityid&quot;:0,\n        &quot;ticker&quot;:&quot;QQQ&quot;,\n        &quot;cusip&quot;:&quot;null&quot;,\n        &quot;sedol&quot;:&quot;BL6CD96&quot;,\n        &quot;isin&quot;:&quot;ARCAVA4600V8&quot;,\n        &quot;mic&quot;:&quot;XBUE&quot;,\n        &quot;securityname&quot;:&quot;INVESCO QQQ TRUST SE1-CEDEAR&quot;,\n        &quot;companyname&quot;:&quot;Invesco QQQ Trust Series 1&quot;,\n        &quot;uslisted&quot;:&quot;False&quot;,\n        &quot;innqgi&quot;:&quot;False&quot;\n      ],\n...\n  },\n  &quot;meta&quot;: {\n    &quot;next_cursor_id&quot;: null\n  }\n}\n</code></pre>\n<p>How can I convert this into a regular key=value JSON OR\nHow do I parse this in Java so that I have a POJO where the variable names = &quot;colName&quot;?</p>\n<p>Thanks a lot!\nNikhil</p>\n"},{"tags":["java","maven-2","groovy","dependencies","gmaven-plugin"],"answers":[{"tags":[],"owner":{"account_id":12848,"reputation":989,"user_id":25502,"accept_rate":40,"display_name":"rich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245533002,"creation_date":1245533002,"answer_id":1022589,"question_id":1022567,"body_markdown":"You can partition your code in layers and have lower layers call upper layers but never vice versa. For example, in a Web app you can have a view layer, a service layer, and a persistence layer. The view layer calls the service layer and the service layer calls the persistence layer, but the persistence layer will never call the service layer or the view layer. If you want groovy/java code to exist in the same layer then make sure one calls the other but they don&#39;t both call each other.  The bottom line is that you should avoid bi-directional dependencies.","title":"maven compile groovy","body":"<p>You can partition your code in layers and have lower layers call upper layers but never vice versa. For example, in a Web app you can have a view layer, a service layer, and a persistence layer. The view layer calls the service layer and the service layer calls the persistence layer, but the persistence layer will never call the service layer or the view layer. If you want groovy/java code to exist in the same layer then make sure one calls the other but they don't both call each other.  The bottom line is that you should avoid bi-directional dependencies.</p>\n"},{"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1651133024,"creation_date":1245533245,"answer_id":1022600,"question_id":1022567,"body_markdown":"Yes, just use [GMaven][1]. Since it&#39;s a joint compiler, it automatically manages your java to groovy and groovy to java dependencies.\r\n\r\nBriefly, you will need to:\r\n\r\n- include the `gmaven-plugin` in your `pom.xml`;\r\n- keep your groovy classes under `src/main/groovy` or `src/test/groovy`;\r\n- bind the gmaven plugin to the relevant lifecycle phases.\r\n\r\nFor more details see chapter [Maven Integration][2] on the groovy homepage.\r\n\r\n [1]: https://groovy.github.io/gmaven/\r\n [2]: https://docs.groovy-lang.org/latest/html/documentation/tools-groovyc.html#_maven_integration","title":"maven compile groovy","body":"<p>Yes, just use <a href=\"https://groovy.github.io/gmaven/\" rel=\"nofollow noreferrer\">GMaven</a>. Since it's a joint compiler, it automatically manages your java to groovy and groovy to java dependencies.</p>\n<p>Briefly, you will need to:</p>\n<ul>\n<li>include the <code>gmaven-plugin</code> in your <code>pom.xml</code>;</li>\n<li>keep your groovy classes under <code>src/main/groovy</code> or <code>src/test/groovy</code>;</li>\n<li>bind the gmaven plugin to the relevant lifecycle phases.</li>\n</ul>\n<p>For more details see chapter <a href=\"https://docs.groovy-lang.org/latest/html/documentation/tools-groovyc.html#_maven_integration\" rel=\"nofollow noreferrer\">Maven Integration</a> on the groovy homepage.</p>\n"},{"tags":[],"owner":{"account_id":19407,"reputation":1974,"user_id":45483,"display_name":"hohonuuli"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1245533310,"creation_date":1245533310,"answer_id":1022602,"question_id":1022567,"body_markdown":"You should be able to compile your code by adding the [gmaven][1] plugin to your maven pom.xml. It generates Java stubs of your groovy code to deal with the type of inter-language referencing you&#39;re dealing with. I use it quite a bit and it works very well.\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/GMaven","title":"maven compile groovy","body":"<p>You should be able to compile your code by adding the <a href=\"http://groovy.codehaus.org/GMaven\" rel=\"noreferrer\">gmaven</a> plugin to your maven pom.xml. It generates Java stubs of your groovy code to deal with the type of inter-language referencing you're dealing with. I use it quite a bit and it works very well.</p>\n"}],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9699,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":1022602,"answer_count":3,"score":12,"last_activity_date":1651133024,"creation_date":1245532423,"question_id":1022567,"body_markdown":"I have a situation where some of my groovy code references my java files, but I also have different java files that reference the same groovy code. When trying to compile in maven, I either need to compile the groovy before or after the java, and that won&#39;t really work since the groovy code depends on some java files, and different java files depend on the groovy code. Is there a way to handle this sort of dependency?","title":"maven compile groovy","body":"<p>I have a situation where some of my groovy code references my java files, but I also have different java files that reference the same groovy code. When trying to compile in maven, I either need to compile the groovy before or after the java, and that won't really work since the groovy code depends on some java files, and different java files depend on the groovy code. Is there a way to handle this sort of dependency?</p>\n"},{"tags":["java","rest","wildfly","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1651096429,"post_id":72031177,"comment_id":127284452,"body_markdown":"Can you post the stack trace? It&#39;s hard to tell where the issue might be without that. There was an upgrade from 3.15 to 4.7 in WildFly 25.","body":"Can you post the stack trace? It&#39;s hard to tell where the issue might be without that. There was an upgrade from 3.15 to 4.7 in WildFly 25."},{"owner":{"account_id":13287105,"reputation":375,"user_id":9592834,"display_name":"bambula"},"score":0,"creation_date":1651132699,"post_id":72031177,"comment_id":127291743,"body_markdown":"@JamesR.Perkins stack trace added","body":"@JamesR.Perkins stack trace added"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1651160146,"post_id":72031177,"comment_id":127302791,"body_markdown":"This looks every strange. I don&#39;t see how it could be `null`. It&#39;s always assigned a value. Do you by chance have some kind of reproducer?","body":"This looks every strange. I don&#39;t see how it could be <code>null</code>. It&#39;s always assigned a value. Do you by chance have some kind of reproducer?"}],"owner":{"account_id":13287105,"reputation":375,"user_id":9592834,"display_name":"bambula"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651132655,"creation_date":1651072329,"question_id":72031177,"body_markdown":"Since Wildfly 25.0.0 my app has stopped working and cannot get it to work with latest WF versions. Last version my app worked properly on is 24.0.1.Final. \r\n\r\nI have RESTful interface with POST endpoints but anytime I send POST request (with json body) the flow throws `NullPointerException` from class `org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl` method:\r\n\r\n```\r\nprotected MediaTypeMap&lt;SortedKey&lt;MessageBodyReader&gt;&gt; getServerMessageBodyReaders()\r\n   {\r\n      return serverHelper.getMessageBodyReaders();\r\n   }\r\n``` \r\n\r\nbecause the `serverHelper` is null. This is internal class of Resteasy lib implementation of rest api that Wildfly utilises. It seems like an issue with initialisation inside of WF and I can&#39;t identify what is missing. I have custom `Provider` implementation that worked properly for json unmarshaling. But now the flow breaks even sooner before it reaches the provider class. \r\n\r\n```\r\n@Provider\r\n@Dependent\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class GsonProvider&lt;T&gt; implements MessageBodyWriter&lt;T&gt;, MessageBodyReader&lt;T&gt; {\r\n\r\n    @Inject\r\n    @Api\r\n    private Gson gson;\r\n\r\n    @Override\r\n    public boolean isWriteable(Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\r\n        return MediaType.APPLICATION_JSON_TYPE.isCompatible(mediaType);\r\n    }\r\n\r\n    @Override\r\n    public long getSize(T t, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\r\n        return -1;\r\n    }\r\n\r\n    @Override\r\n    public void writeTo(T t, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream) throws IOException, WebApplicationException {\r\n        try (Writer writer = new OutputStreamWriter(entityStream)) {\r\n            gson.toJson(t, writer);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isReadable(Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\r\n        return MediaType.APPLICATION_JSON_TYPE.isCompatible(mediaType);\r\n    }\r\n\r\n    @Override\r\n    public T readFrom(Class&lt;T&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream) throws IOException, WebApplicationException {\r\n        try (Reader reader = new InputStreamReader(entityStream)) {\r\n            return gson.fromJson(reader, type);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nGET requests that produce json work with the custom provider without any problem. Just the POST requests with body when the correct message body reader must be identified and used end with this NPE.\r\n\r\n\r\ndeps in my root pom\r\n```\r\n&lt;dependencyManagement&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n        &lt;version&gt;26.1.0.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\ndeps in war pom\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nthis issue applies from WF version 25.0.0.Final and later (currently 26.1.0.Final). There was a change between 24 and 25 in resteasy deps when `resteasy-jaxrs` got replaced by `resteasy-core`, `resteasy-core-spi` etc. in WF boms. I haven&#39;t been able to figure out how to fix the NPE since then. \r\n\r\nexception stack trace:\r\n```\r\norg.jboss.resteasy.spi.ReaderException: java.lang.NullPointerException\r\n\tat org.jboss.resteasy.core.MessageBodyParameterInjector.inject(MessageBodyParameterInjector.java:250)\r\n\tat org.jboss.resteasy.core.PropertyInjectorImpl.inject(PropertyInjectorImpl.java:145)\r\n\tat org.jboss.resteasy.cdi.JaxrsInjectionTarget.inject(JaxrsInjectionTarget.java:74)\r\n\tat org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:161)\r\n\tat org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)\r\n\tat org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\r\n\tat org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.get(ContextualInstanceStrategy.java:177)\r\n\tat org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\r\n\tat org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)\r\n\tat org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:131)\r\n\tat io.whalebone.publicapi.rest.endpoint.event.EventsScrollSearchEndpoint$Proxy$_$$_WeldClientProxy.search(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249)\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60)\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n\tat org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n\tat org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n\tat org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.getServerMessageBodyReaders(ResteasyProviderFactoryImpl.java:294)\r\n\tat org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.getServerMessageBodyReader(ResteasyProviderFactoryImpl.java:532)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.ServerReaderInterceptorContext.resolveReader(ServerReaderInterceptorContext.java:46)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.getReader(AbstractReaderInterceptorContext.java:130)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.proceed(AbstractReaderInterceptorContext.java:75)\r\n\tat org.jboss.resteasy.security.doseta.DigitalVerificationInterceptor.aroundReadFrom(DigitalVerificationInterceptor.java:36)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.proceed(AbstractReaderInterceptorContext.java:88)\r\n\tat org.jboss.resteasy.core.MessageBodyParameterInjector.inject(MessageBodyParameterInjector.java:213)\r\n\t... 83 more\r\n```\r\n\r\n\r\n","title":"Can&#39;t process REST POST requests to Wildfly 25 (and newer)","body":"<p>Since Wildfly 25.0.0 my app has stopped working and cannot get it to work with latest WF versions. Last version my app worked properly on is 24.0.1.Final.</p>\n<p>I have RESTful interface with POST endpoints but anytime I send POST request (with json body) the flow throws <code>NullPointerException</code> from class <code>org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl</code> method:</p>\n<pre><code>protected MediaTypeMap&lt;SortedKey&lt;MessageBodyReader&gt;&gt; getServerMessageBodyReaders()\n   {\n      return serverHelper.getMessageBodyReaders();\n   }\n</code></pre>\n<p>because the <code>serverHelper</code> is null. This is internal class of Resteasy lib implementation of rest api that Wildfly utilises. It seems like an issue with initialisation inside of WF and I can't identify what is missing. I have custom <code>Provider</code> implementation that worked properly for json unmarshaling. But now the flow breaks even sooner before it reaches the provider class.</p>\n<pre><code>@Provider\n@Dependent\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class GsonProvider&lt;T&gt; implements MessageBodyWriter&lt;T&gt;, MessageBodyReader&lt;T&gt; {\n\n    @Inject\n    @Api\n    private Gson gson;\n\n    @Override\n    public boolean isWriteable(Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\n        return MediaType.APPLICATION_JSON_TYPE.isCompatible(mediaType);\n    }\n\n    @Override\n    public long getSize(T t, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\n        return -1;\n    }\n\n    @Override\n    public void writeTo(T t, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream) throws IOException, WebApplicationException {\n        try (Writer writer = new OutputStreamWriter(entityStream)) {\n            gson.toJson(t, writer);\n        }\n    }\n\n    @Override\n    public boolean isReadable(Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType) {\n        return MediaType.APPLICATION_JSON_TYPE.isCompatible(mediaType);\n    }\n\n    @Override\n    public T readFrom(Class&lt;T&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream) throws IOException, WebApplicationException {\n        try (Reader reader = new InputStreamReader(entityStream)) {\n            return gson.fromJson(reader, type);\n        }\n    }\n}\n</code></pre>\n<p>GET requests that produce json work with the custom provider without any problem. Just the POST requests with body when the correct message body reader must be identified and used end with this NPE.</p>\n<p>deps in my root pom</p>\n<pre><code>&lt;dependencyManagement&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n        &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n        &lt;version&gt;26.1.0.Final&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>deps in war pom</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n    &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>this issue applies from WF version 25.0.0.Final and later (currently 26.1.0.Final). There was a change between 24 and 25 in resteasy deps when <code>resteasy-jaxrs</code> got replaced by <code>resteasy-core</code>, <code>resteasy-core-spi</code> etc. in WF boms. I haven't been able to figure out how to fix the NPE since then.</p>\n<p>exception stack trace:</p>\n<pre><code>org.jboss.resteasy.spi.ReaderException: java.lang.NullPointerException\n    at org.jboss.resteasy.core.MessageBodyParameterInjector.inject(MessageBodyParameterInjector.java:250)\n    at org.jboss.resteasy.core.PropertyInjectorImpl.inject(PropertyInjectorImpl.java:145)\n    at org.jboss.resteasy.cdi.JaxrsInjectionTarget.inject(JaxrsInjectionTarget.java:74)\n    at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:161)\n    at org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.get(ContextualInstanceStrategy.java:177)\n    at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\n    at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)\n    at org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:131)\n    at io.whalebone.publicapi.rest.endpoint.event.EventsScrollSearchEndpoint$Proxy$_$$_WeldClientProxy.search(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n    at org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n    at org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException\n    at org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.getServerMessageBodyReaders(ResteasyProviderFactoryImpl.java:294)\n    at org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.getServerMessageBodyReader(ResteasyProviderFactoryImpl.java:532)\n    at org.jboss.resteasy.core.interception.jaxrs.ServerReaderInterceptorContext.resolveReader(ServerReaderInterceptorContext.java:46)\n    at org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.getReader(AbstractReaderInterceptorContext.java:130)\n    at org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.proceed(AbstractReaderInterceptorContext.java:75)\n    at org.jboss.resteasy.security.doseta.DigitalVerificationInterceptor.aroundReadFrom(DigitalVerificationInterceptor.java:36)\n    at org.jboss.resteasy.core.interception.jaxrs.AbstractReaderInterceptorContext.proceed(AbstractReaderInterceptorContext.java:88)\n    at org.jboss.resteasy.core.MessageBodyParameterInjector.inject(MessageBodyParameterInjector.java:213)\n    ... 83 more\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1651132590,"post_id":72039897,"comment_id":127291695,"body_markdown":"Must you use a spliterator? Do you really just want a new Map with all keys modified by adding a string? How about `Map&lt;String, String&gt; myMap = map.entrySet().stream().collect(toMap(e -&gt; myString + separator + e.getKey(), Map.Entry::getValue));`","body":"Must you use a spliterator? Do you really just want a new Map with all keys modified by adding a string? How about <code>Map&lt;String, String&gt; myMap = map.entrySet().stream().collect(toMap(e -&gt; myString + separator + e.getKey(), Map.Entry::getValue));</code>"}],"answers":[{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651132556,"creation_date":1651132556,"answer_id":72039983,"question_id":72039897,"body_markdown":"You can&#39;t use `myString+separator+Map.Entry::getKey` because `Map.Entry::getKey` is not a string but a method reference. You should instead use a lambda:\r\n\r\n    entry -&gt; myString + separator + entry.getKey()","title":"Concatenate a String to all elements of a Java stream","body":"<p>You can't use <code>myString+separator+Map.Entry::getKey</code> because <code>Map.Entry::getKey</code> is not a string but a method reference. You should instead use a lambda:</p>\n<pre><code>entry -&gt; myString + separator + entry.getKey()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651132561,"creation_date":1651132561,"answer_id":72039984,"question_id":72039897,"body_markdown":"Use an explicit lambda function instead of a method reference:\r\n\r\n```\r\n.collect(toMap(\r\n    e -&gt; myString + separator + e.getKey(),\r\n    Map.Entry::getValue\r\n))\r\n```","title":"Concatenate a String to all elements of a Java stream","body":"<p>Use an explicit lambda function instead of a method reference:</p>\n<pre><code>.collect(toMap(\n    e -&gt; myString + separator + e.getKey(),\n    Map.Entry::getValue\n))\n</code></pre>\n"}],"owner":{"account_id":10539562,"reputation":1769,"user_id":7766158,"display_name":"Nakeuh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72039983,"answer_count":2,"score":0,"last_activity_date":1651132561,"creation_date":1651132135,"question_id":72039897,"body_markdown":"I have the following code that parses a `Spliterator&lt;Map.Entry&gt;` to a `Map`: \r\n\r\n    Spliterator&lt;Map.Entry&lt;String, String&gt;&gt; spliterator = ///;\r\n\r\n    Map&lt;String, String&gt; myMap = (StreamSupport\r\n      .stream(spliterator, false)\r\n      .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)));\r\n\r\nI want to change the code such as in my `myMap`, every key is concatenated with a constant String. Something like that : \r\n\r\n\r\n    Spliterator&lt;Map.Entry&lt;String, String&gt;&gt; spliterator = ///;\r\n    String myString = &quot;hello&quot;;\r\n    String separator = &quot;_&quot;;\r\n\r\n    Map&lt;String, String&gt; myMap = (StreamSupport\r\n      .stream(spliterator, false)\r\n      .collect(Collectors.toMap(myString+separator+Map.Entry::getKey, Map.Entry::getValue)));\r\n\r\nI understand why this is not working but I don&#39;t find the good way to do that (without iterating over `myMap` after the stream). I am not familiar with Streams in Java so I probably missed something obvious.  ","title":"Concatenate a String to all elements of a Java stream","body":"<p>I have the following code that parses a <code>Spliterator&lt;Map.Entry&gt;</code> to a <code>Map</code>:</p>\n<pre><code>Spliterator&lt;Map.Entry&lt;String, String&gt;&gt; spliterator = ///;\n\nMap&lt;String, String&gt; myMap = (StreamSupport\n  .stream(spliterator, false)\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)));\n</code></pre>\n<p>I want to change the code such as in my <code>myMap</code>, every key is concatenated with a constant String. Something like that :</p>\n<pre><code>Spliterator&lt;Map.Entry&lt;String, String&gt;&gt; spliterator = ///;\nString myString = &quot;hello&quot;;\nString separator = &quot;_&quot;;\n\nMap&lt;String, String&gt; myMap = (StreamSupport\n  .stream(spliterator, false)\n  .collect(Collectors.toMap(myString+separator+Map.Entry::getKey, Map.Entry::getValue)));\n</code></pre>\n<p>I understand why this is not working but I don't find the good way to do that (without iterating over <code>myMap</code> after the stream). I am not familiar with Streams in Java so I probably missed something obvious.</p>\n"},{"tags":["java","pojo","dmn","kogito"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651132474,"creation_date":1651132474,"answer_id":72039964,"question_id":72032685,"body_markdown":"The functionality of **one-time import** of Pojo as an automatic definition of ItemDefinition is only available in Business Central / Workbench.\r\n\r\nYou could use something like https://dmn-cli.com alternatively.\r\n\r\nFinally, it&#39;s important to keep in mind that DMN is based on structural typing (and not nominal typing) so you don&#39;t need to define all &quot;100 fields&quot; in your DMN model ItemDefinition necessarily, but say you could only define the `user` and `weather` structure if those are only the fields in a ~JSON Schema that you make plan to use.","title":"Importing and Using POJO in DMN in Kogito","body":"<p>The functionality of <strong>one-time import</strong> of Pojo as an automatic definition of ItemDefinition is only available in Business Central / Workbench.</p>\n<p>You could use something like <a href=\"https://dmn-cli.com\" rel=\"nofollow noreferrer\">https://dmn-cli.com</a> alternatively.</p>\n<p>Finally, it's important to keep in mind that DMN is based on structural typing (and not nominal typing) so you don't need to define all &quot;100 fields&quot; in your DMN model ItemDefinition necessarily, but say you could only define the <code>user</code> and <code>weather</code> structure if those are only the fields in a ~JSON Schema that you make plan to use.</p>\n"}],"owner":{"account_id":3466910,"reputation":2437,"user_id":2902209,"accept_rate":82,"display_name":"Donvino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72039964,"answer_count":1,"score":0,"last_activity_date":1651132474,"creation_date":1651078799,"question_id":72032685,"body_markdown":"is it possible to import Java class to DMN in all the guides you have to make your own custom data object, but I have very complex class Application with more than 100 fields. Is there any way I can import this object to dmn for usage?\r\n\r\nF.e. I have class Application and in dmn I want to change Application.user.data.value depending on Application.weather.hasSun condition?\r\n","title":"Importing and Using POJO in DMN in Kogito","body":"<p>is it possible to import Java class to DMN in all the guides you have to make your own custom data object, but I have very complex class Application with more than 100 fields. Is there any way I can import this object to dmn for usage?</p>\n<p>F.e. I have class Application and in dmn I want to change Application.user.data.value depending on Application.weather.hasSun condition?</p>\n"},{"tags":["java","rest","client-server","auto-update"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1651130731,"post_id":72039525,"comment_id":127291002,"body_markdown":"Can this not be done by the bat script?","body":"Can this not be done by the bat script?"},{"owner":{"account_id":19270727,"reputation":127,"user_id":14084696,"display_name":"jenigen"},"score":0,"creation_date":1651131206,"post_id":72039525,"comment_id":127291172,"body_markdown":"@Slaw When I wrote the question, this thought came to mind. But I want to know other options.","body":"@Slaw When I wrote the question, this thought came to mind. But I want to know other options."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1651131874,"post_id":72039525,"comment_id":127291423,"body_markdown":"whatever the solution, it looks unrelated to javafx","body":"whatever the solution, it looks unrelated to javafx"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1651136481,"post_id":72039525,"comment_id":127293163,"body_markdown":"you could provide a **configuration server** where each client can download its configuration","body":"you could provide a <b>configuration server</b> where each client can download its configuration"}],"owner":{"account_id":19270727,"reputation":127,"user_id":14084696,"display_name":"jenigen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651132384,"creation_date":1651130308,"question_id":72039525,"body_markdown":"I have a javafx client/server application in which the client has a config.ini file where the URL is stored. \r\nI configured the update for Windows in such a way that if there is an update, the program downloads a new jar of the application from the server and then runs the bat script and closes, and bat replaces the jar file. I also need to replace the URL address in config when updating, and all I came up with is just checking and replacing the URL every time I start application. \r\n\r\nBut this is a very bad decision. \r\n\r\nHow can I replace the URL only when updating, and at what point is it better to do it?","title":"What is the best way change the URL in config file, when updating the application?","body":"<p>I have a javafx client/server application in which the client has a config.ini file where the URL is stored.\nI configured the update for Windows in such a way that if there is an update, the program downloads a new jar of the application from the server and then runs the bat script and closes, and bat replaces the jar file. I also need to replace the URL address in config when updating, and all I came up with is just checking and replacing the URL every time I start application.</p>\n<p>But this is a very bad decision.</p>\n<p>How can I replace the URL only when updating, and at what point is it better to do it?</p>\n"},{"tags":["java","oracle","jdbc","nullpointerexception"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1651123397,"post_id":72038330,"comment_id":127288855,"body_markdown":"Does `Context#lookup` throw an exception?","body":"Does <code>Context#lookup</code> throw an exception?"},{"owner":{"account_id":24034351,"reputation":19,"user_id":18014807,"display_name":"Iskooolar2 iskoolar2"},"score":0,"creation_date":1651123930,"post_id":72038330,"comment_id":127288965,"body_markdown":"@dan1st, no, only on this line conn = this.jdbcFactory.getConnection();","body":"@dan1st, no, only on this line conn = this.jdbcFactory.getConnection();"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1651123977,"post_id":72038330,"comment_id":127288976,"body_markdown":"Yes but did an exception occur before that? Was there an exception in `Context#lookup` that you caught?","body":"Yes but did an exception occur before that? Was there an exception in <code>Context#lookup</code> that you caught?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1651124985,"post_id":72038330,"comment_id":127289192,"body_markdown":"It would be easier to increase java version to 8 and increase ojdbc driver version to one that will support java 8 and your database version. Also tomcat version should be upgraded to at least 9","body":"It would be easier to increase java version to 8 and increase ojdbc driver version to one that will support java 8 and your database version. Also tomcat version should be upgraded to at least 9"},{"owner":{"account_id":24034351,"reputation":19,"user_id":18014807,"display_name":"Iskooolar2 iskoolar2"},"score":0,"creation_date":1651125092,"post_id":72038330,"comment_id":127289218,"body_markdown":"@dan1st it is not going inside the catch, I also added catch for Exception but it still did not go there. But it did go to the &quot;catch (Exception e) {&quot; when encountered conn = this.jdbcFactory.getConnection();","body":"@dan1st it is not going inside the catch, I also added catch for Exception but it still did not go there. But it did go to the &quot;catch (Exception e) {&quot; when encountered conn = this.jdbcFactory.getConnection();"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651128534,"post_id":72038330,"comment_id":127290226,"body_markdown":"Java 1.4 has been out of public support for 14(!) years (and out of extended support for 9), you really should stop using it. You cannot use ojdbc7 with Java 1.4. The **7** in ojdbc7 means it was compiled for Java 7, and Java 1.4 cannot read classes compiled for Java 7.","body":"Java 1.4 has been out of public support for 14(!) years (and out of extended support for 9), you really should stop using it. You cannot use ojdbc7 with Java 1.4. The <b>7</b> in ojdbc7 means it was compiled for Java 7, and Java 1.4 cannot read classes compiled for Java 7."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1651128755,"post_id":72038330,"comment_id":127290305,"body_markdown":"In any case, the `NullPointerException` is the wrong thing to focus on. Clearly your JNDI lookup fails (probably due to an UnsupportedClassVersionError because of using ojdbc7). And otherwise, we need to full exception stacktrace of that failure, and also check your logs for other exceptions.","body":"In any case, the <code>NullPointerException</code> is the wrong thing to focus on. Clearly your JNDI lookup fails (probably due to an UnsupportedClassVersionError because of using ojdbc7). And otherwise, we need to full exception stacktrace of that failure, and also check your logs for other exceptions."},{"owner":{"account_id":24034351,"reputation":19,"user_id":18014807,"display_name":"Iskooolar2 iskoolar2"},"score":0,"creation_date":1651129636,"post_id":72038330,"comment_id":127290612,"body_markdown":"I have now upgraded to java 8 and tomcat 7 and used ojdbc7-12.1.0.2.jar.\nBut I am still getting the NPE. I updated the descript","body":"I have now upgraded to java 8 and tomcat 7 and used ojdbc7-12.1.0.2.jar. But I am still getting the NPE. I updated the descript"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651133370,"post_id":72038330,"comment_id":127291946,"body_markdown":"Where did you put the ojdbc7 library? The exception indicates it isn&#39;t on the classpath of Tomcat.","body":"Where did you put the ojdbc7 library? The exception indicates it isn&#39;t on the classpath of Tomcat."},{"owner":{"account_id":24034351,"reputation":19,"user_id":18014807,"display_name":"Iskooolar2 iskoolar2"},"score":0,"creation_date":1651133984,"post_id":72038330,"comment_id":127292146,"body_markdown":"Hi, @MarkRotteveel I already resolved the issue thanks to u guys.","body":"Hi, @MarkRotteveel I already resolved the issue thanks to u guys."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651125233,"creation_date":1651124321,"answer_id":72038509,"question_id":72038330,"body_markdown":"Assuming that that is the only constructor ...\r\n\r\nIf `jdbcFactory` is `null`, that means that in the following code: \r\n\r\n    try {\r\n        c = new InitialContext();\r\n        Context envCtx = (Context) c.lookup(&quot;java:comp/env&quot;);\r\n        this.jdbcFactory = (DataSource) envCtx.lookup(&quot;jdbc/mydb&quot;);     \r\n    } catch (NamingException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\neither the second `lookup` call returned `null` or you threw and caught a `NamingException`.  According to the `Context` javadocs, a `lookup` call may return `null`, it your application bound `null` to the name.\r\n\r\n-------------------------\r\n\r\nHowever ... on rereading your question, I noticed this:\r\n\r\n&gt; I am using Java 1.4 and Tomcat v4.0.\r\n\r\nThese are truly ancient versions.  Both are end-of-life.  Tomcat 4 was end-of-life prior to 2012&lt;sup&gt;1&lt;/sup&gt;, and Java 1.4.2 in 2013.   You are missing nearly 10 years worth of security patches.\r\n\r\nAnd this:  \r\n\r\n&gt; I am using ojdbc7-12.1.0.2.jar\r\n\r\nThat is a driver for Java 7.  I doubt that it will work with Java 1.4.\r\n\r\nAccording to what I have read, you should be using an ojdbc.14 driver with Java 1.4.  It is highly unlikely that you can find one that is compatible with a recent Oracle database.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - 2012 is when Tomcat 5 was officially end-of-life.  The end-of-life for earlier versions was not formally announced.  But the last patch release of Tomcat 4 was in 2009.&lt;/sup&gt;","title":"NullPointerException in conn = this.jdbcFactory.getConnection();","body":"<p>Assuming that that is the only constructor ...</p>\n<p>If <code>jdbcFactory</code> is <code>null</code>, that means that in the following code:</p>\n<pre><code>try {\n    c = new InitialContext();\n    Context envCtx = (Context) c.lookup(&quot;java:comp/env&quot;);\n    this.jdbcFactory = (DataSource) envCtx.lookup(&quot;jdbc/mydb&quot;);     \n} catch (NamingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>either the second <code>lookup</code> call returned <code>null</code> or you threw and caught a <code>NamingException</code>.  According to the <code>Context</code> javadocs, a <code>lookup</code> call may return <code>null</code>, it your application bound <code>null</code> to the name.</p>\n<hr />\n<p>However ... on rereading your question, I noticed this:</p>\n<blockquote>\n<p>I am using Java 1.4 and Tomcat v4.0.</p>\n</blockquote>\n<p>These are truly ancient versions.  Both are end-of-life.  Tomcat 4 was end-of-life prior to 2012<sup>1</sup>, and Java 1.4.2 in 2013.   You are missing nearly 10 years worth of security patches.</p>\n<p>And this:</p>\n<blockquote>\n<p>I am using ojdbc7-12.1.0.2.jar</p>\n</blockquote>\n<p>That is a driver for Java 7.  I doubt that it will work with Java 1.4.</p>\n<p>According to what I have read, you should be using an ojdbc.14 driver with Java 1.4.  It is highly unlikely that you can find one that is compatible with a recent Oracle database.</p>\n<hr />\n<p><sup>1 - 2012 is when Tomcat 5 was officially end-of-life.  The end-of-life for earlier versions was not formally announced.  But the last patch release of Tomcat 4 was in 2009.</sup></p>\n"}],"owner":{"account_id":24034351,"reputation":19,"user_id":18014807,"display_name":"Iskooolar2 iskoolar2"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651132300,"creation_date":1651122882,"question_id":72038330,"body_markdown":"I am using Java 1.4 and tomcat v4.0. \r\n\r\nThis is the code in my Dao:\r\n\r\n    private DataSource jdbcFactory;\r\n    \t\r\n    \t\r\n    \r\n        public CommonDao() {\r\n        \t\tContext c = null;\r\n        \t\tif (this.jdbcFactory == null) {\r\n        \t\t\ttry {\r\n        \t\t\t\tc= new InitialContext();\r\n        \t\t\t\tContext envCtx = (Context)c.lookup(&quot;java:comp/env&quot;);\r\n        \t\t\t\tthis.jdbcFactory = (DataSource)envCtx.lookup(&quot;jdbc/mydb&quot;);     \r\n        \t\t\t} catch (NamingException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n        \t\t} \r\n        \t}\r\n        \r\n        public String getParamValue(String param_name) throws SQLException, TestException {\r\n        \t\tConnection conn = null;\r\n        \t\tPreparedStatement ps = null;\r\n        \t\tResultSet rs = null;\r\n        \t\tString sqlString=null;\r\n        \t\tString param_value = null;\r\n        \t\tTestException fe = new TestException();\r\n        \t\t\r\n        \t\tsqlString = &quot;SELECT PARAM_VALUE &quot; +\r\n        \t\t\t\t\t&quot;FROM SAMPLE_TBL &quot; +\r\n        \t\t\t\t\t&quot;WHERE PARAM_NAME = &#39;&quot; + param_name + &quot;&#39; &quot; ;\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\tconn = this.jdbcFactory.getConnection();\r\n        \t\t\tps = conn.prepareStatement(sqlString);\r\n        \t\t\trs = ps.executeQuery();\r\n        \t\t\t\r\n        \t\t\t while (rs.next()) {\r\n        \t\t\t param_value = rs.getString(&quot;PARAM_VALUE&quot;);\r\n        \t\t\t}\r\n        \t\t} catch(SQLException e){\r\n        \t\t\tfe.setCallingObj(&quot;CommonDao.getParamValue&quot;);\r\n        \t\t\tfe.setErrorCode(e.getErrorCode());\r\n        \t\t\tfe.setErrorMessage(e.getMessage()); \r\n        \t\t\tfe.setStackTrace(e.getStackTrace());\r\n        \t\t\tthrow fe;\r\n        \t\t} catch (Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t} finally {\r\n        \t\t\trs.close();\r\n        \t\t\tps.close();\r\n        \t\t\tconn.close();\r\n        \t\t}\r\n        \r\n        \t\treturn param_value;\r\n        \t\t\r\n        \t}\r\n\r\ncontext.xml under META-INF:\r\n\r\n    &lt;Context&gt;\r\n    \t&lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n    \t&lt;Resource name=&quot;jdbc/mydb&quot; global=&quot;jdbc/mydb&quot; auth=&quot;Container&quot;\r\n    \ttype=&quot;javax.sql.DataSource&quot;\r\n    \tdriverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;\r\n    \tfactory=&quot;org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory&quot;\r\n    \turl=&quot;jdbc:oracle:thin:@somesitexxx:xxxx:XXXXXX&quot;\r\n    \tusername=&quot;someusername&quot; password=&quot;somepass&quot; maxActive=&quot;1000&quot;\r\n    \tmaxIdle=&quot;1000&quot; maxWait=&quot;500&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\nweb.xml under WEB-INF:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN&quot; &quot;http://java.sun.com/j2ee/dtds/web-app_2_2.dtd&quot;&gt;\r\n    &lt;web-app id=&quot;WebApp_ID&quot;&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;LoginController&lt;/servlet-name&gt;\r\n    \t\t&lt;display-name&gt;LoginController&lt;/display-name&gt;\r\n    \t\t&lt;description&gt;&lt;/description&gt;\r\n    \t\t&lt;servlet-class&gt;com.Controller.LoginController&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;LoginController&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/LoginController&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;resource-ref&gt;\r\n    \t\t&lt;res-ref-name&gt;jdbc/rdcdb&lt;/res-ref-name&gt;\r\n    \t\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n    \t\t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    \t&lt;/resource-ref&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI am using ojdbc7-12.1.0.2.jar as well but included or not I am still getting the NPE in conn = this.jdbcFactory.getConnection();\r\n\r\nthis.jdbcFactory -&gt; is also null when debugging.\r\n\r\nCan you help me which part I miss?\r\n\r\nEDIT: I have now upgraded to java 8 and tomcat 7 and used ojdbc7-12.1.0.2.jar.\r\nBut I am still getting the NPE exception\r\nupdated error stacktrace:\r\n\r\n    \r\n    org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver class &#39;oracle.jdbc.driver.driver.OracleDriver&#39;\r\n    \tat org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1429)\r\n    \tat org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)\r\n    \tat org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n    \tat com.Dao.CommonDao.getParamValue(CommonDao.java:72)\r\n    \tat com.Dao.CommonDao.checkAvailability(CommonDao.java:411)\r\n    \tat com.Controller.LoginController.processRequest(LoginController.java:114)\r\n    \tat com.Controller.LoginController.doGet(LoginController.java:64)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: oracle.jdbc.driver.driver.OracleDriver\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\r\n    \tat org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)\r\n    \t... 27 more\r\n    Apr 28, 2022 3:16:40 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [LoginController] in context with path [/BV_PROBE] threw exception\r\n    java.lang.NullPointerException\r\n    \tat com.Dao.CommonDao.getParamValue(CommonDao.java:89)\r\n    \tat com.Dao.CommonDao.checkAvailability(CommonDao.java:411)\r\n    \tat com.Controller.LoginController.processRequest(LoginController.java:114)\r\n    \tat com.Controller.LoginController.doGet(LoginController.java:64)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\nIt catches SQLException: Cannot load JDBC driver class &#39;oracle.jdbc.driver.driver.OracleDriver&#39;\r\n\r\n","title":"NullPointerException in conn = this.jdbcFactory.getConnection();","body":"<p>I am using Java 1.4 and tomcat v4.0.</p>\n<p>This is the code in my Dao:</p>\n<pre><code>private DataSource jdbcFactory;\n    \n    \n\n    public CommonDao() {\n            Context c = null;\n            if (this.jdbcFactory == null) {\n                try {\n                    c= new InitialContext();\n                    Context envCtx = (Context)c.lookup(&quot;java:comp/env&quot;);\n                    this.jdbcFactory = (DataSource)envCtx.lookup(&quot;jdbc/mydb&quot;);     \n                } catch (NamingException e) {\n                    e.printStackTrace();\n                }\n            } \n        }\n    \n    public String getParamValue(String param_name) throws SQLException, TestException {\n            Connection conn = null;\n            PreparedStatement ps = null;\n            ResultSet rs = null;\n            String sqlString=null;\n            String param_value = null;\n            TestException fe = new TestException();\n            \n            sqlString = &quot;SELECT PARAM_VALUE &quot; +\n                        &quot;FROM SAMPLE_TBL &quot; +\n                        &quot;WHERE PARAM_NAME = '&quot; + param_name + &quot;' &quot; ;\n            \n            try {\n                conn = this.jdbcFactory.getConnection();\n                ps = conn.prepareStatement(sqlString);\n                rs = ps.executeQuery();\n                \n                 while (rs.next()) {\n                 param_value = rs.getString(&quot;PARAM_VALUE&quot;);\n                }\n            } catch(SQLException e){\n                fe.setCallingObj(&quot;CommonDao.getParamValue&quot;);\n                fe.setErrorCode(e.getErrorCode());\n                fe.setErrorMessage(e.getMessage()); \n                fe.setStackTrace(e.getStackTrace());\n                throw fe;\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                rs.close();\n                ps.close();\n                conn.close();\n            }\n    \n            return param_value;\n            \n        }\n</code></pre>\n<p>context.xml under META-INF:</p>\n<pre><code>&lt;Context&gt;\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n    &lt;Resource name=&quot;jdbc/mydb&quot; global=&quot;jdbc/mydb&quot; auth=&quot;Container&quot;\n    type=&quot;javax.sql.DataSource&quot;\n    driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;\n    factory=&quot;org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory&quot;\n    url=&quot;jdbc:oracle:thin:@somesitexxx:xxxx:XXXXXX&quot;\n    username=&quot;someusername&quot; password=&quot;somepass&quot; maxActive=&quot;1000&quot;\n    maxIdle=&quot;1000&quot; maxWait=&quot;500&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>web.xml under WEB-INF:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN&quot; &quot;http://java.sun.com/j2ee/dtds/web-app_2_2.dtd&quot;&gt;\n&lt;web-app id=&quot;WebApp_ID&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LoginController&lt;/servlet-name&gt;\n        &lt;display-name&gt;LoginController&lt;/display-name&gt;\n        &lt;description&gt;&lt;/description&gt;\n        &lt;servlet-class&gt;com.Controller.LoginController&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginController&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/LoginController&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;resource-ref&gt;\n        &lt;res-ref-name&gt;jdbc/rdcdb&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I am using ojdbc7-12.1.0.2.jar as well but included or not I am still getting the NPE in conn = this.jdbcFactory.getConnection();</p>\n<p>this.jdbcFactory -&gt; is also null when debugging.</p>\n<p>Can you help me which part I miss?</p>\n<p>EDIT: I have now upgraded to java 8 and tomcat 7 and used ojdbc7-12.1.0.2.jar.\nBut I am still getting the NPE exception\nupdated error stacktrace:</p>\n<pre><code>org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver class 'oracle.jdbc.driver.driver.OracleDriver'\n    at org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1429)\n    at org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)\n    at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n    at com.Dao.CommonDao.getParamValue(CommonDao.java:72)\n    at com.Dao.CommonDao.checkAvailability(CommonDao.java:411)\n    at com.Controller.LoginController.processRequest(LoginController.java:114)\n    at com.Controller.LoginController.doGet(LoginController.java:64)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: oracle.jdbc.driver.driver.OracleDriver\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n    at org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)\n    ... 27 more\nApr 28, 2022 3:16:40 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [LoginController] in context with path [/BV_PROBE] threw exception\njava.lang.NullPointerException\n    at com.Dao.CommonDao.getParamValue(CommonDao.java:89)\n    at com.Dao.CommonDao.checkAvailability(CommonDao.java:411)\n    at com.Controller.LoginController.processRequest(LoginController.java:114)\n    at com.Controller.LoginController.doGet(LoginController.java:64)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>It catches SQLException: Cannot load JDBC driver class 'oracle.jdbc.driver.driver.OracleDriver'</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8599,"page":1393,"page_size":100}
