{"items":[{"tags":["java","unit-testing","mockito","grpc","grpc-java"],"comments":[{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1662814528,"post_id":73648589,"comment_id":130095758,"body_markdown":"The problem is the static builder methods that you are invoking to create stub and channel. Either you can externalize that code to other class and use dependency injection OR you can use [Powermock](https://github.com/powermock/powermock) to mock static method calls.","body":"The problem is the static builder methods that you are invoking to create stub and channel. Either you can externalize that code to other class and use dependency injection OR you can use <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">Powermock</a> to mock static method calls."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1663060822,"post_id":73648589,"comment_id":130144647,"body_markdown":"Where did you create myProto ?","body":"Where did you create myProto ?"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662827187,"creation_date":1662827187,"answer_id":73673430,"question_id":73648589,"body_markdown":"For cases like this, I tend to add a second, package private constructor:\r\n\r\n```java\r\npublic class MyProtoClient {\r\n    private final ManagedChannel channel;\r\n\r\n    public MyProtoClient() {\r\n        this(ManagedChannelBuilder.forAddress(&quot;{remote_url}&quot;, remote_port)\r\n                .usePlaintext()\r\n                .build());\r\n    }\r\n\r\n    MyProtoClient(ManagedChannel channel) {\r\n        this.channel = channel;\r\n    }\r\n\r\n    ...\r\n```\r\nThis allows you to call the second constructor with the mocked `ManagedChannel`. I prefer not to use `@InjectMocks` at all for cases like this, and create the object myself:\r\n\r\n```java\r\n    @BeforeEach\r\n    void setUp() throws Exception {\r\n        // managedChannel can still be annotated with @Mock\r\n        myProtoClient = new MyProtoClient(managedChannel);\r\n    }\r\n```\r\n\r\nNote that the stub is still not mocked, but its backing channel is. You may have to do some more low-level mocking to get your test to work.","title":"Using mockito to mock server for client unit tests","body":"<p>For cases like this, I tend to add a second, package private constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyProtoClient {\n    private final ManagedChannel channel;\n\n    public MyProtoClient() {\n        this(ManagedChannelBuilder.forAddress(&quot;{remote_url}&quot;, remote_port)\n                .usePlaintext()\n                .build());\n    }\n\n    MyProtoClient(ManagedChannel channel) {\n        this.channel = channel;\n    }\n\n    ...\n</code></pre>\n<p>This allows you to call the second constructor with the mocked <code>ManagedChannel</code>. I prefer not to use <code>@InjectMocks</code> at all for cases like this, and create the object myself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeEach\n    void setUp() throws Exception {\n        // managedChannel can still be annotated with @Mock\n        myProtoClient = new MyProtoClient(managedChannel);\n    }\n</code></pre>\n<p>Note that the stub is still not mocked, but its backing channel is. You may have to do some more low-level mocking to get your test to work.</p>\n"},{"tags":[],"owner":{"account_id":13641857,"reputation":763,"user_id":9841751,"display_name":"pismy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662981083,"creation_date":1662981083,"answer_id":73688357,"question_id":73648589,"body_markdown":"I&#39;m not an expert with gRPC, but my guess is the following:\r\n\r\nIn your test you&#39;re using a mocked `ManagedChannel`, but at some point gRPC must be trying to instantiate a `ClientCall` object from it.\r\nAs it&#39;s a basic mock, it&#39;s simply returning `null`, which causes a `java.lang.NullPointerException` when gRPC is executing [`io.grpc.stub.ClientCalls.startCall(ClientCalls.java:341)`](https://github.com/grpc/grpc-java/blob/master/stub/src/main/java/io/grpc/stub/ClientCalls.java#L341) (from your stacktrace)\r\n\r\nI have 2 suggestions:\r\n\r\n1. try using a non-mocked `ManagedChannel` in your tests, or mock the required methods to provide a non-null `ClientCall` to gRPC\r\n2. try to adapt your tests to mimic the official gRPC example project ([the client class](https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldClient.java) / [the test class](https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldClientTest.java))","title":"Using mockito to mock server for client unit tests","body":"<p>I'm not an expert with gRPC, but my guess is the following:</p>\n<p>In your test you're using a mocked <code>ManagedChannel</code>, but at some point gRPC must be trying to instantiate a <code>ClientCall</code> object from it.\nAs it's a basic mock, it's simply returning <code>null</code>, which causes a <code>java.lang.NullPointerException</code> when gRPC is executing <a href=\"https://github.com/grpc/grpc-java/blob/master/stub/src/main/java/io/grpc/stub/ClientCalls.java#L341\" rel=\"nofollow noreferrer\"><code>io.grpc.stub.ClientCalls.startCall(ClientCalls.java:341)</code></a> (from your stacktrace)</p>\n<p>I have 2 suggestions:</p>\n<ol>\n<li>try using a non-mocked <code>ManagedChannel</code> in your tests, or mock the required methods to provide a non-null <code>ClientCall</code> to gRPC</li>\n<li>try to adapt your tests to mimic the official gRPC example project (<a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldClient.java\" rel=\"nofollow noreferrer\">the client class</a> / <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldClientTest.java\" rel=\"nofollow noreferrer\">the test class</a>)</li>\n</ol>\n"}],"owner":{"account_id":1520243,"reputation":4680,"user_id":1443702,"accept_rate":55,"display_name":"xan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662981083,"creation_date":1662637630,"question_id":73648589,"body_markdown":"I&#39;m trying to write unit tests for Java based gRPC client where the server is remote.\r\n\r\nAll the examples I&#39;ve seen use a local gRPC server for writing client unit test cases.\r\n\r\nHow can I mock the server so my client unit test cases are able to run.\r\n\r\n\r\n```\r\npublic class MyProtoClient {\r\n    private final ManagedChannel channel;\r\n\r\n    public MyProtoClient() {\r\n        this(ManagedChannelBuilder.forAddress(&quot;{remote_url}&quot;, remote_port)\r\n                .usePlaintext()\r\n                .build());\r\n    }\r\n\r\n    MyProtoClient(ManagedChannel channel) {\r\n        this.channel = channel;\r\n    }\r\n\r\n\r\n    public Boolean getResult(int a, int b) {\r\n        MyProtoGrpc.MyProtoBlockingStub stub = MyProtoGrpc.newBlockingStub(this.channel);\r\n\r\n        MyProtoResponse response = stub.myProtoRequest(ReqPayload.newBuilder()\r\n                .setNum1(a)\r\n                .setNum2(b)\r\n                .build());\r\n\r\n        this.channel.shutdown();\r\n        return response.getSum();\r\n    }\r\n}\r\n```\r\n\r\n\r\n&lt;strike&gt;Here is the code of my test class. But it throws an error saying it&#39;s trying to connect to the `remote_url`.&lt;/strike&gt;\r\n\r\n\r\nThe below code throws `java.lang.NullPointerException`.\r\n\r\n```\r\npublic class MyProtoClientTest {\r\n    @InjectMocks\r\n    MyProtoClient myProtoClient;    \r\n\r\n    @Mock\r\n    private ManagedChannel managedChannel;\r\n\r\n    @BeforeEach\r\n    void setUp() throws Exception {\r\n       myProtoClient = new MyProtoClient(managedChannel);\r\n    }\r\n\r\n    @Test\r\n    void getResult() {\r\n        int a = 1;\r\n        int b = 2;\r\n\r\n        \r\n        MyProtoGrpc.MyProtoGrpcBlockingStub mockMyProtoBlockingStub = \r\n        MyProtoGrpc.newBlockingStub(managedChannel);\r\n        MyProtoResponse mockResponse = mock(MyProtoResponse.class);\r\n        ReqPayload req = ReqPayload.newBuilder()\r\n                .setNum1(a)\r\n                .setNum2(b)\r\n                .build());\r\n\r\n        when(mockMyProtoBlockingStub.myProtoRequest(req)).thenReturn(mockResponse);\r\n        assertTrue(myProto.getResult(a, b));\r\n    }\r\n```\r\n\r\n**EDIT** following is the latest stacktrace which I&#39;m getting:\r\n```\r\nSep 12, 2022 1:44:12 PM io.grpc.stub.ClientCalls cancelThrow\r\nSEVERE: RuntimeException encountered while closing call\r\njava.lang.NullPointerException\r\n\tat io.grpc.stub.ClientCalls.cancelThrow(ClientCalls.java:286)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:168)\r\n\tat io.grpc.my_package.my_proto.MyProtoGrpc$MyProtoBlockingStub.myProtoRequest(MyProtoGrpc.java:187)\r\n\tat com.alawa.helpers.service.impl.MyProtoTest.getResult(MyProtoTest.java:70)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\njava.lang.NullPointerException\r\n\tat io.grpc.stub.ClientCalls.startCall(ClientCalls.java:341)\r\n\tat io.grpc.stub.ClientCalls.asyncUnaryRequestCall(ClientCalls.java:315)\r\n\tat io.grpc.stub.ClientCalls.futureUnaryCall(ClientCalls.java:227)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:154)\r\n\tat io.grpc.my_package.my_proto.MyProtoGrpc$MyProtoBlockingStub.myProtoRequest(MyProtoGrpc.java:187)\r\n\tat com.alawa.helpers.service.impl.MyProtoTest.getResult(MyProtoTest.java:70)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\n```","title":"Using mockito to mock server for client unit tests","body":"<p>I'm trying to write unit tests for Java based gRPC client where the server is remote.</p>\n<p>All the examples I've seen use a local gRPC server for writing client unit test cases.</p>\n<p>How can I mock the server so my client unit test cases are able to run.</p>\n<pre><code>public class MyProtoClient {\n    private final ManagedChannel channel;\n\n    public MyProtoClient() {\n        this(ManagedChannelBuilder.forAddress(&quot;{remote_url}&quot;, remote_port)\n                .usePlaintext()\n                .build());\n    }\n\n    MyProtoClient(ManagedChannel channel) {\n        this.channel = channel;\n    }\n\n\n    public Boolean getResult(int a, int b) {\n        MyProtoGrpc.MyProtoBlockingStub stub = MyProtoGrpc.newBlockingStub(this.channel);\n\n        MyProtoResponse response = stub.myProtoRequest(ReqPayload.newBuilder()\n                .setNum1(a)\n                .setNum2(b)\n                .build());\n\n        this.channel.shutdown();\n        return response.getSum();\n    }\n}\n</code></pre>\n<p><strike>Here is the code of my test class. But it throws an error saying it's trying to connect to the <code>remote_url</code>.</strike></p>\n<p>The below code throws <code>java.lang.NullPointerException</code>.</p>\n<pre><code>public class MyProtoClientTest {\n    @InjectMocks\n    MyProtoClient myProtoClient;    \n\n    @Mock\n    private ManagedChannel managedChannel;\n\n    @BeforeEach\n    void setUp() throws Exception {\n       myProtoClient = new MyProtoClient(managedChannel);\n    }\n\n    @Test\n    void getResult() {\n        int a = 1;\n        int b = 2;\n\n        \n        MyProtoGrpc.MyProtoGrpcBlockingStub mockMyProtoBlockingStub = \n        MyProtoGrpc.newBlockingStub(managedChannel);\n        MyProtoResponse mockResponse = mock(MyProtoResponse.class);\n        ReqPayload req = ReqPayload.newBuilder()\n                .setNum1(a)\n                .setNum2(b)\n                .build());\n\n        when(mockMyProtoBlockingStub.myProtoRequest(req)).thenReturn(mockResponse);\n        assertTrue(myProto.getResult(a, b));\n    }\n</code></pre>\n<p><strong>EDIT</strong> following is the latest stacktrace which I'm getting:</p>\n<pre><code>Sep 12, 2022 1:44:12 PM io.grpc.stub.ClientCalls cancelThrow\nSEVERE: RuntimeException encountered while closing call\njava.lang.NullPointerException\n    at io.grpc.stub.ClientCalls.cancelThrow(ClientCalls.java:286)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:168)\n    at io.grpc.my_package.my_proto.MyProtoGrpc$MyProtoBlockingStub.myProtoRequest(MyProtoGrpc.java:187)\n    at com.alawa.helpers.service.impl.MyProtoTest.getResult(MyProtoTest.java:70)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\njava.lang.NullPointerException\n    at io.grpc.stub.ClientCalls.startCall(ClientCalls.java:341)\n    at io.grpc.stub.ClientCalls.asyncUnaryRequestCall(ClientCalls.java:315)\n    at io.grpc.stub.ClientCalls.futureUnaryCall(ClientCalls.java:227)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:154)\n    at io.grpc.my_package.my_proto.MyProtoGrpc$MyProtoBlockingStub.myProtoRequest(MyProtoGrpc.java:187)\n    at com.alawa.helpers.service.impl.MyProtoTest.getResult(MyProtoTest.java:70)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\n</code></pre>\n"},{"tags":["java","android","kotlin","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10209378,"reputation":369,"user_id":7537048,"display_name":"Vaclav Stengl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662980904,"creation_date":1662737130,"answer_id":73664388,"question_id":73664227,"body_markdown":"In this case  [extension function][1] function may come handy. Let&#39;s assume, that `WriteBatch.builder(MyClass::class.java)` has type `WriteBatch.Builder` maybe with some generics, which is hard to say for example.\r\n```\r\nval writeBatch = WriteBatch.builder(MyClass::class.java)\r\n    .mappedTableResource(myMappedTable)\r\n    .addItems(putItemRequests)\r\n    .build()\r\n// I did use Any for items type, change it according to your need\r\nfun WriteBatch.Builder.addItems(items: List&lt;Any&gt;): WriteBatch.Builder {\r\n    items.forEach { item -&gt; addPutItem(item) }\r\n    // in case addPutItem(item) returns a new builder instance just store it in the variable and return it at the end.\r\n    return this\r\n}\r\n```\r\n\r\n  [1]: https://kotlinlang.org/docs/extensions.html","title":"Kotlin/Java: Add multiple items to a Builder class that only allows one .add() at a time","body":"<p>In this case  <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension function</a> function may come handy. Let's assume, that <code>WriteBatch.builder(MyClass::class.java)</code> has type <code>WriteBatch.Builder</code> maybe with some generics, which is hard to say for example.</p>\n<pre><code>val writeBatch = WriteBatch.builder(MyClass::class.java)\n    .mappedTableResource(myMappedTable)\n    .addItems(putItemRequests)\n    .build()\n// I did use Any for items type, change it according to your need\nfun WriteBatch.Builder.addItems(items: List&lt;Any&gt;): WriteBatch.Builder {\n    items.forEach { item -&gt; addPutItem(item) }\n    // in case addPutItem(item) returns a new builder instance just store it in the variable and return it at the end.\n    return this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662750041,"creation_date":1662739014,"answer_id":73664719,"question_id":73664227,"body_markdown":"Given an instance of `WriteBatch.Builder`, there&#39;s no explicit need to chain the DSL, so your `writeBatchBuilder` can be a `val`. Each builder function mutates the internal state of the `WriteBatch.Builder` instance, and the returned value is just for convenience - [source code](https://github.com/aws/aws-sdk-java-v2/blob/e377518b08ccc2cd9cc32be74345064b2fadee64/services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/model/WriteBatch.java#L228-L232). \r\n\r\n\r\nYou can therefore simplify your for-loop and make `writeBatchBuilder` a `val`:\r\n\r\n```kotlin\r\nval writeBatchBuilder = WriteBatch.builder(MyClass::class.java)\r\n    .mappedTableResource(myMappedTable)\r\n\r\nfor (request in putItemRequests){\r\n    writeBatchBuilder.addPutItem(request)\r\n}\r\n\r\nval writeBatch = writeBatchBuilder.build()\r\n```\r\n\r\n#### Scope function\r\n\r\nGoing one step further, [scope functions](https://kotlinlang.org/docs/scope-functions.html) are a nice way of converting Java DSLs into something more Kotlin-esque.\r\n\r\n(For a more visual guide to scope functions, and Kotlin in general, check out https://typealias.com/start/kotlin-scopes-and-scope-functions/)\r\n\r\n[`apply {}`](https://kotlinlang.org/docs/scope-functions.html#apply) will turn the created `WriteBatch.Builder` into the receiver, meaning you don&#39;t need to have a variable for the builder, you can just use `this`.\r\n\r\n```kotlin\r\nval writeBatch = WriteBatch.builder(MyClass::class.java).apply {\r\n  mappedTableResource(myMappedTable)\r\n\r\n  putItemRequests.forEach { request -&gt; \r\n    addPutItem(request)\r\n  }\r\n}.build()\r\n```\r\n\r\n(I also changed the for loop into a `forEach {}` - which is more Kotlin-ey.)\r\n\r\n\r\n#### Custom helper function\r\n\r\nThe next improvement is to encapsulate the `apply {}` logic inside of a helper function, `writeBatchBuilder()`, so the boilerplate is hidden away, which makes re-using the function easier.\r\n\r\nUsing `inline` and `reified T` means there&#39;s no need to define `::class.java` every time - instead the class can be defined as a type-parameter, and the class can be omitted if Kotlin can infer the type.\r\n\r\nNote that the receiver of the `builder` arg is `WriteBatch.Builder`, just like how the `apply {}` scope function changes the receiver to be the builder.\r\n\r\n\r\n```kotlin\r\ninline fun &lt;reified T&gt; buildWriteBatch(\r\n  builder: WriteBatch.Builder&lt;T&gt;.() -&gt; Unit\r\n) : WriteBatch&lt;T&gt; {\r\n  return WriteBatch.builder(T::class.java).apply(builder).build()\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```kotlin\r\nval writeBatch = buildWriteBatch&lt;MyClass&gt; {\r\n  mappedTableResource(myMappedTable)\r\n\r\n  putItemRequests.forEach { request -&gt; \r\n    addPutItem(request)\r\n  }\r\n}\r\n\r\n\r\n// no need for explicit typing on buildWriteBatch - Kotlin can infer the type\r\nval writeBatch2: WriteBatch&lt;MyClass&gt; = buildWriteBatch {}\r\n```\r\n\r\n(For examples of this approach in Kotlin stdlib, see [the collection builder functions](https://kotlinlang.org/docs/constructing-collections.html#create-with-collection-builder-functions))","title":"Kotlin/Java: Add multiple items to a Builder class that only allows one .add() at a time","body":"<p>Given an instance of <code>WriteBatch.Builder</code>, there's no explicit need to chain the DSL, so your <code>writeBatchBuilder</code> can be a <code>val</code>. Each builder function mutates the internal state of the <code>WriteBatch.Builder</code> instance, and the returned value is just for convenience - <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/e377518b08ccc2cd9cc32be74345064b2fadee64/services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/model/WriteBatch.java#L228-L232\" rel=\"nofollow noreferrer\">source code</a>.</p>\n<p>You can therefore simplify your for-loop and make <code>writeBatchBuilder</code> a <code>val</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val writeBatchBuilder = WriteBatch.builder(MyClass::class.java)\n    .mappedTableResource(myMappedTable)\n\nfor (request in putItemRequests){\n    writeBatchBuilder.addPutItem(request)\n}\n\nval writeBatch = writeBatchBuilder.build()\n</code></pre>\n<h4>Scope function</h4>\n<p>Going one step further, <a href=\"https://kotlinlang.org/docs/scope-functions.html\" rel=\"nofollow noreferrer\">scope functions</a> are a nice way of converting Java DSLs into something more Kotlin-esque.</p>\n<p>(For a more visual guide to scope functions, and Kotlin in general, check out <a href=\"https://typealias.com/start/kotlin-scopes-and-scope-functions/\" rel=\"nofollow noreferrer\">https://typealias.com/start/kotlin-scopes-and-scope-functions/</a>)</p>\n<p><a href=\"https://kotlinlang.org/docs/scope-functions.html#apply\" rel=\"nofollow noreferrer\"><code>apply {}</code></a> will turn the created <code>WriteBatch.Builder</code> into the receiver, meaning you don't need to have a variable for the builder, you can just use <code>this</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val writeBatch = WriteBatch.builder(MyClass::class.java).apply {\n  mappedTableResource(myMappedTable)\n\n  putItemRequests.forEach { request -&gt; \n    addPutItem(request)\n  }\n}.build()\n</code></pre>\n<p>(I also changed the for loop into a <code>forEach {}</code> - which is more Kotlin-ey.)</p>\n<h4>Custom helper function</h4>\n<p>The next improvement is to encapsulate the <code>apply {}</code> logic inside of a helper function, <code>writeBatchBuilder()</code>, so the boilerplate is hidden away, which makes re-using the function easier.</p>\n<p>Using <code>inline</code> and <code>reified T</code> means there's no need to define <code>::class.java</code> every time - instead the class can be defined as a type-parameter, and the class can be omitted if Kotlin can infer the type.</p>\n<p>Note that the receiver of the <code>builder</code> arg is <code>WriteBatch.Builder</code>, just like how the <code>apply {}</code> scope function changes the receiver to be the builder.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;reified T&gt; buildWriteBatch(\n  builder: WriteBatch.Builder&lt;T&gt;.() -&gt; Unit\n) : WriteBatch&lt;T&gt; {\n  return WriteBatch.builder(T::class.java).apply(builder).build()\n}\n</code></pre>\n<p>Example usage:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val writeBatch = buildWriteBatch&lt;MyClass&gt; {\n  mappedTableResource(myMappedTable)\n\n  putItemRequests.forEach { request -&gt; \n    addPutItem(request)\n  }\n}\n\n\n// no need for explicit typing on buildWriteBatch - Kotlin can infer the type\nval writeBatch2: WriteBatch&lt;MyClass&gt; = buildWriteBatch {}\n</code></pre>\n<p>(For examples of this approach in Kotlin stdlib, see <a href=\"https://kotlinlang.org/docs/constructing-collections.html#create-with-collection-builder-functions\" rel=\"nofollow noreferrer\">the collection builder functions</a>)</p>\n"}],"owner":{"account_id":25486667,"reputation":61,"user_id":19282171,"display_name":"Paul Eaten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73664719,"answer_count":2,"score":2,"last_activity_date":1662980996,"creation_date":1662736270,"question_id":73664227,"body_markdown":"Problem: I&#39;m using an AWS DynamoDb Enhanced Java client V2 in Kotlin (the details of the client might not be important), where I want to make a `BatchWriteItemEnhancedRequest` containing a bunch of requests. The standard usage according to the [docs][1] goes:\r\n```\r\nval batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\r\n    .addWriteBatch(\r\n        WriteBatch.builder(MyClass::class.java)\r\n            .mappedTableResource(myMappedTable)\r\n            .addPutItem(putRequest1)\r\n            .addPutItem(putRequest2)\r\n            .addPutItem(putRequest3)\r\n            .build()\r\n    )\r\n    .build()\r\n```\r\nObviously this can&#39;t handle an anonymous list of `putRequest` items, only some known discrete values like `putRequest1` and `putRequest2`.\r\n\r\nThe builder for `WriteBatch` doesn&#39;t seem to allow adding lists of requests: [doc][2]\r\n\r\nThe only way to do this, as I can see, is to make a for-loop that goes:\r\n```\r\nvar writeBatchBuilder = WriteBatch.builder(MyClass::class.java)\r\n    .mappedTableResource(myMappedTable)\r\n\r\nfor (request in putItemRequests){\r\n    writeBatchBuilder = writeBatchBuilder.addPutItem(request)\r\n}\r\n\r\nval writeBatch = writeBatchBuilder.build()\r\n```\r\nWhich seems horrible to me. There&#39;s got to be a more idiomatic way to do this right?\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-enhanced.html#dynamodb-enhanced-mapper-batchitems\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/WriteBatch.Builder.html","title":"Kotlin/Java: Add multiple items to a Builder class that only allows one .add() at a time","body":"<p>Problem: I'm using an AWS DynamoDb Enhanced Java client V2 in Kotlin (the details of the client might not be important), where I want to make a <code>BatchWriteItemEnhancedRequest</code> containing a bunch of requests. The standard usage according to the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-enhanced.html#dynamodb-enhanced-mapper-batchitems\" rel=\"nofollow noreferrer\">docs</a> goes:</p>\n<pre><code>val batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\n    .addWriteBatch(\n        WriteBatch.builder(MyClass::class.java)\n            .mappedTableResource(myMappedTable)\n            .addPutItem(putRequest1)\n            .addPutItem(putRequest2)\n            .addPutItem(putRequest3)\n            .build()\n    )\n    .build()\n</code></pre>\n<p>Obviously this can't handle an anonymous list of <code>putRequest</code> items, only some known discrete values like <code>putRequest1</code> and <code>putRequest2</code>.</p>\n<p>The builder for <code>WriteBatch</code> doesn't seem to allow adding lists of requests: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/WriteBatch.Builder.html\" rel=\"nofollow noreferrer\">doc</a></p>\n<p>The only way to do this, as I can see, is to make a for-loop that goes:</p>\n<pre><code>var writeBatchBuilder = WriteBatch.builder(MyClass::class.java)\n    .mappedTableResource(myMappedTable)\n\nfor (request in putItemRequests){\n    writeBatchBuilder = writeBatchBuilder.addPutItem(request)\n}\n\nval writeBatch = writeBatchBuilder.build()\n</code></pre>\n<p>Which seems horrible to me. There's got to be a more idiomatic way to do this right?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662800504,"creation_date":1662799955,"answer_id":73670514,"question_id":73670432,"body_markdown":"There is no way to prove that this casting is safe and would succeed. You&#39;re performing casting of `Class&lt;?&gt;` (of *unknown type*) returned by `Class.forName()` into the `Class&lt;X&gt;` (of something), the compiler can&#39;t verify if what you&#39;re doing is correct.\r\n\r\nThe only thing you can do is to suppress the warning by placing annotation `@SuppressWarnings(&quot;unchecked&quot;)` on the method on the problematic statement:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn) {\r\n        Class&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\r\n        ...\r\n    }\r\n\r\nOr \r\n\r\n    private &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Class&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\r\n        ...\r\n    }","title":"How to avoid type safety warning with generic interfaces and Class.forName","body":"<p>There is no way to prove that this casting is safe and would succeed. You're performing casting of <code>Class&lt;?&gt;</code> (of <em>unknown type</em>) returned by <code>Class.forName()</code> into the <code>Class&lt;X&gt;</code> (of something), the compiler can't verify if what you're doing is correct.</p>\n<p>The only thing you can do is to suppress the warning by placing annotation <code>@SuppressWarnings(&quot;unchecked&quot;)</code> on the method on the problematic statement:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nprivate &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn) {\n    Class&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\n    ...\n}\n</code></pre>\n<p>Or</p>\n<pre><code>private &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn) {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Class&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662980568,"creation_date":1662808513,"answer_id":73671356,"question_id":73670432,"body_markdown":"Read the reflection java.lang.Class&lt;T&gt; &quot;api docs&quot; for forName method, it should be wrapped in  java.lang.ClassNotFoundException and java.lang.ClassCastException.\r\nThe correct Exception(s) should remove that warning.\r\n\r\n**use isInstance(theCreatedClassReference) from java.lang.Class**\r\n\r\ndon&#39;t want to try without code and compiler , take too long for me.\r\n\r\nisInstance() returns a boolean and is the correct to use for Class.forName(stringnametoload) check alike the *instanceof* operator\r\nwhen creating a Class check its constructed reference in an if test\r\nthe multi argument Class.forName allows class loading usage designation of whether it is &quot;initialized&quot;.\r\n\r\n*sorry about the botched code attempt.*\r\n\r\nIf you are actually making a usable reference then maybe check with instanceof but the actions DO require the exception wrappers (not a bad idea when they can be interfaces and other types in one).\r\n\r\nI can only presume from your code you are loading a class that will be returned &quot;something like (and as the byte code compiler sees it)&quot; a &amp;lt;T&amp;gt; type by genericsthat could be any type, so the runtime would have no idea what resource of byte code would be loaded. \r\nNot knowing what the T type will be is extremely dangerous.\r\nIf you flag Class.forName with initialize false using its multi argument method version you can load an uninstantiated class as a test to see that the dynamic resource is true for the compiled code before it is able to be loaded live.\r\nIt would then tested the resource class loaded.","title":"How to avoid type safety warning with generic interfaces and Class.forName","body":"<p>Read the reflection java.lang.Class &quot;api docs&quot; for forName method, it should be wrapped in  java.lang.ClassNotFoundException and java.lang.ClassCastException.\nThe correct Exception(s) should remove that warning.</p>\n<p><strong>use isInstance(theCreatedClassReference) from java.lang.Class</strong></p>\n<p>don't want to try without code and compiler , take too long for me.</p>\n<p>isInstance() returns a boolean and is the correct to use for Class.forName(stringnametoload) check alike the <em>instanceof</em> operator\nwhen creating a Class check its constructed reference in an if test\nthe multi argument Class.forName allows class loading usage designation of whether it is &quot;initialized&quot;.</p>\n<p><em>sorry about the botched code attempt.</em></p>\n<p>If you are actually making a usable reference then maybe check with instanceof but the actions DO require the exception wrappers (not a bad idea when they can be interfaces and other types in one).</p>\n<p>I can only presume from your code you are loading a class that will be returned &quot;something like (and as the byte code compiler sees it)&quot; a &lt;T&gt; type by genericsthat could be any type, so the runtime would have no idea what resource of byte code would be loaded.\nNot knowing what the T type will be is extremely dangerous.\nIf you flag Class.forName with initialize false using its multi argument method version you can load an uninstantiated class as a test to see that the dynamic resource is true for the compiled code before it is able to be loaded live.\nIt would then tested the resource class loaded.</p>\n"}],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662980568,"creation_date":1662799242,"question_id":73670432,"body_markdown":"I have the following code which is forking fine:\r\n\r\n```\r\nprivate &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn)\r\n{\r\n\tClass&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\r\n\t...\r\n}\r\n```\r\nHowever, I get a type safety warning\r\n```\r\nType safety: Unchecked cast from Class&lt;capture#2-of ? extends SomeInterface&gt; to Class&lt;X&gt;\r\n```\r\nand wondering how to fix it?\r\n","title":"How to avoid type safety warning with generic interfaces and Class.forName","body":"<p>I have the following code which is forking fine:</p>\n<pre><code>private &lt;X extends SomeInterface&lt;MyImplementation&gt;&gt; void test(String fqcn)\n{\n    Class&lt;X&gt; c = (Class&lt;X&gt;)Class.forName(fqcn).asSubclass(SomeInterface.class);\n    ...\n}\n</code></pre>\n<p>However, I get a type safety warning</p>\n<pre><code>Type safety: Unchecked cast from Class&lt;capture#2-of ? extends SomeInterface&gt; to Class&lt;X&gt;\n</code></pre>\n<p>and wondering how to fix it?</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1358327858,"post_id":14354712,"comment_id":19957229,"body_markdown":"http://stackoverflow.com/questions/7708130/reduce-pdf-file-size-in-itext-java?rq=1 ... i gone through this thread but i dont find useful info.","body":"<a href=\"http://stackoverflow.com/questions/7708130/reduce-pdf-file-size-in-itext-java?rq=1\" title=\"reduce pdf file size in itext java\">stackoverflow.com/questions/7708130/&hellip;</a> ... i gone through this thread but i dont find useful info."}],"answers":[{"tags":[],"owner":{"account_id":395910,"reputation":14044,"user_id":759126,"accept_rate":100,"display_name":"partlov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1358328368,"creation_date":1358328368,"answer_id":14354975,"question_id":14354712,"body_markdown":"With `writer.setFullCompression()` you already compressed file as much as possible. With iText you can&#39;t do anything more.","title":"How to reduce PDF file size programmatically in Java?","body":"<p>With <code>writer.setFullCompression()</code> you already compressed file as much as possible. With iText you can't do anything more.</p>\n"},{"tags":[],"owner":{"account_id":113355,"reputation":18625,"user_id":298573,"display_name":"VahidN"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562563560,"creation_date":1358355875,"answer_id":14363777,"question_id":14354712,"body_markdown":"Also change the `PdfCopy` to `PdfSmartCopy`. It will eliminate duplicate streams which have the same hash (md5).","title":"How to reduce PDF file size programmatically in Java?","body":"<p>Also change the <code>PdfCopy</code> to <code>PdfSmartCopy</code>. It will eliminate duplicate streams which have the same hash (md5).</p>\n"},{"tags":[],"owner":{"account_id":1506926,"reputation":2144,"user_id":1410097,"display_name":"Morcilla de Arroz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383689600,"creation_date":1383689600,"answer_id":19800111,"question_id":14354712,"body_markdown":"You can use ghostscript, invoking the exe with specific parameters for print your pdf with the ghostscript&#39;s pdfwriter (example: sDEVICE=pdfwrite -sOutputFile=myfile.pdf). There are several accepted parameters, for compression or quality levels, etc.\r\nIt may result and optimized and smaller file. ","title":"How to reduce PDF file size programmatically in Java?","body":"<p>You can use ghostscript, invoking the exe with specific parameters for print your pdf with the ghostscript's pdfwriter (example: sDEVICE=pdfwrite -sOutputFile=myfile.pdf). There are several accepted parameters, for compression or quality levels, etc.\nIt may result and optimized and smaller file. </p>\n"},{"tags":[],"owner":{"account_id":246127,"reputation":326,"user_id":520068,"display_name":"Mauro Braggio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1389283372,"creation_date":1389283372,"answer_id":21025162,"question_id":14354712,"body_markdown":"use iText\r\n\r\n    PdfReader reader = new PdfReader(new FileInputStream(&quot;input.pdf&quot;));\r\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;output.pdf&quot;));\r\n    int total = reader.getNumberOfPages() + 1;\r\n    for ( int i=1; i&lt;total; i++) {\r\n       reader.setPageContent(i + 1, reader.getPageContent(i + 1));\r\n    }\r\n    stamper.setFullCompression();\r\n    stamper.close();\r\n","title":"How to reduce PDF file size programmatically in Java?","body":"<p>use iText</p>\n\n<pre><code>PdfReader reader = new PdfReader(new FileInputStream(\"input.pdf\"));\nPdfStamper stamper = new PdfStamper(reader, new FileOutputStream(\"output.pdf\"));\nint total = reader.getNumberOfPages() + 1;\nfor ( int i=1; i&lt;total; i++) {\n   reader.setPageContent(i + 1, reader.getPageContent(i + 1));\n}\nstamper.setFullCompression();\nstamper.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26114819,"reputation":16,"user_id":19808133,"display_name":"Dhananjay Kumar Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662980266,"creation_date":1662980205,"answer_id":73688185,"question_id":14354712,"body_markdown":"**Multiple Bitmap Image to pdf converter --&gt; Compressed Pdf**\r\n\r\n    public static String  createPDFWithMultipleImage(Bitmap[] bitmaps, String pdf_name){\r\n        String directoryPath = Environment.getExternalStorageDirectory() + &quot;/OpPath/&quot;;\r\n\r\n        File file = new File(directoryPath,pdf_name);\r\n        try {\r\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n            PdfDocument pdfDocument = new PdfDocument();\r\n            for (int i = 0; i &lt; bitmaps.length; i++){\r\n                Bitmap original = bitmaps[i];\r\n                int nh = (int) ( original.getHeight() * (512.0 / original.getWidth()) );\r\n                Bitmap bitmap = Bitmap.createScaledBitmap(original, 512, nh, true);\r\n\r\n                PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), bitmap.getHeight(), (i + 1)).create();\r\n                PdfDocument.Page page = pdfDocument.startPage(pageInfo);\r\n                Canvas canvas = page.getCanvas();\r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.BLUE);\r\n                canvas.drawPaint(paint);\r\n                canvas.drawBitmap(bitmap, 0f, 0f, null);\r\n                pdfDocument.finishPage(page);\r\n                bitmap.recycle();\r\n            }\r\n            pdfDocument.writeTo(fileOutputStream);\r\n            pdfDocument.close();\r\n            return file.toString();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return file.toString();\r\n        }\r\n    }","title":"How to reduce PDF file size programmatically in Java?","body":"<p><strong>Multiple Bitmap Image to pdf converter --&gt; Compressed Pdf</strong></p>\n<pre><code>public static String  createPDFWithMultipleImage(Bitmap[] bitmaps, String pdf_name){\n    String directoryPath = Environment.getExternalStorageDirectory() + &quot;/OpPath/&quot;;\n\n    File file = new File(directoryPath,pdf_name);\n    try {\n        FileOutputStream fileOutputStream = new FileOutputStream(file);\n        PdfDocument pdfDocument = new PdfDocument();\n        for (int i = 0; i &lt; bitmaps.length; i++){\n            Bitmap original = bitmaps[i];\n            int nh = (int) ( original.getHeight() * (512.0 / original.getWidth()) );\n            Bitmap bitmap = Bitmap.createScaledBitmap(original, 512, nh, true);\n\n            PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), bitmap.getHeight(), (i + 1)).create();\n            PdfDocument.Page page = pdfDocument.startPage(pageInfo);\n            Canvas canvas = page.getCanvas();\n            Paint paint = new Paint();\n            paint.setColor(Color.BLUE);\n            canvas.drawPaint(paint);\n            canvas.drawBitmap(bitmap, 0f, 0f, null);\n            pdfDocument.finishPage(page);\n            bitmap.recycle();\n        }\n        pdfDocument.writeTo(fileOutputStream);\n        pdfDocument.close();\n        return file.toString();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        return file.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40076,"favorite_count":0,"down_vote_count":3,"up_vote_count":14,"accepted_answer_id":14354975,"answer_count":5,"score":11,"last_activity_date":1662980266,"creation_date":1358327433,"question_id":14354712,"body_markdown":"    Document document = new Document(reader.getPageSizeWithRotation(1));\r\n    PdfCopy writer = new PdfCopy(document, new FileOutputStream(outFile));\r\n    document.open();\r\n    PdfImportedPage page = writer.getImportedPage(reader, ++i);\r\n    writer.setFullCompression();\r\n    writer.addPage(page);\r\n    document.close();\r\n    writer.close();\r\n\r\n\r\nI am using iText to split and merger the PDF, I need your help to reduce (compress) the output PDF size programmatically. Please let me know the steps to achieve the same.\r\n\r\n   ","title":"How to reduce PDF file size programmatically in Java?","body":"<pre><code>Document document = new Document(reader.getPageSizeWithRotation(1));\nPdfCopy writer = new PdfCopy(document, new FileOutputStream(outFile));\ndocument.open();\nPdfImportedPage page = writer.getImportedPage(reader, ++i);\nwriter.setFullCompression();\nwriter.addPage(page);\ndocument.close();\nwriter.close();\n</code></pre>\n\n<p>I am using iText to split and merger the PDF, I need your help to reduce (compress) the output PDF size programmatically. Please let me know the steps to achieve the same.</p>\n"},{"tags":["java","spring-boot","asynchronous","async-await","interactive-brokers"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1655630772,"post_id":72675604,"comment_id":128373400,"body_markdown":"Maybe implement `IBEventWrapper` in `TraderService` and try to keep state in that class? A `Map&lt;Integer, CompatibleFuture&lt;?&gt;&gt;` where the key is request id or something suitable, and the `CompatibleFuture` is completed by the TWS callback with any relevant data. The calling thread can then wait on the future.","body":"Maybe implement <code>IBEventWrapper</code> in <code>TraderService</code> and try to keep state in that class? A <code>Map&lt;Integer, CompatibleFuture&lt;?&gt;&gt;</code> where the key is request id or something suitable, and the <code>CompatibleFuture</code> is completed by the TWS callback with any relevant data. The calling thread can then wait on the future."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662980390,"post_id":72675604,"comment_id":130123623,"body_markdown":"I don&#39;t get why you do this in a constructor? I would also expect the `this.eventWrapper` to be injected and not constructed (just like the socket). Why don&#39;t you handle the results in the wrapper? Not sure why you need to pass them to the service? What is it you are trying to do?","body":"I don&#39;t get why you do this in a constructor? I would also expect the <code>this.eventWrapper</code> to be injected and not constructed (just like the socket). Why don&#39;t you handle the results in the wrapper? Not sure why you need to pass them to the service? What is it you are trying to do?"},{"owner":{"account_id":9445685,"reputation":138,"user_id":7024535,"accept_rate":100,"display_name":"LSampath"},"score":0,"creation_date":1664032370,"post_id":72675604,"comment_id":130380920,"body_markdown":"Thanks @Kayaman I implemented the IBEventWrapper in TraderService. It was a simple and efficient solution, I was blind enough not to see that.","body":"Thanks @Kayaman I implemented the IBEventWrapper in TraderService. It was a simple and efficient solution, I was blind enough not to see that."}],"answers":[{"tags":[],"owner":{"account_id":16401969,"reputation":129,"user_id":11847630,"display_name":"algonell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662980136,"creation_date":1662932906,"answer_id":73682843,"question_id":72675604,"body_markdown":"IB TWS API is publish–subscribe based, you will have to make requests and await the data to return. I have been using [CountDownLatch][1] like this (in your handler class):\r\n\r\n      private CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n      public String getGenericTick() {\r\n        return genericTick;\r\n      }\r\n    \r\n      public CountDownLatch getLatch() {\r\n        return latch;\r\n      }\r\n    \r\n      @Override\r\n      public void tickString(TickType tickType, String value) {\r\n        if (tickType == TickType.FUNDAMENTAL_RATIOS) {\r\n          genericTick = value;\r\n          latch.countDown();\r\n        }\r\n      }\r\n\r\nWhich allows you to know if the data is available or explicitly await for some time (3s is usually enough for anything within a single request):\r\n\r\n      var handler = new FundamentalsRatiosDataHandler();\r\n\r\n      controller.reqTopMktData(contract, &quot;258&quot;, false, false, handler);\r\n        if (!handler\r\n            .getLatch()\r\n            .await(3, TimeUnit.SECONDS)) {\r\n          // failure\r\n        }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"How to make my service object to wait till it receives respond from external resource in Spring boot","body":"<p>IB TWS API is publish–subscribe based, you will have to make requests and await the data to return. I have been using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a> like this (in your handler class):</p>\n<pre><code>  private CountDownLatch latch = new CountDownLatch(1);\n\n  public String getGenericTick() {\n    return genericTick;\n  }\n\n  public CountDownLatch getLatch() {\n    return latch;\n  }\n\n  @Override\n  public void tickString(TickType tickType, String value) {\n    if (tickType == TickType.FUNDAMENTAL_RATIOS) {\n      genericTick = value;\n      latch.countDown();\n    }\n  }\n</code></pre>\n<p>Which allows you to know if the data is available or explicitly await for some time (3s is usually enough for anything within a single request):</p>\n<pre><code>  var handler = new FundamentalsRatiosDataHandler();\n\n  controller.reqTopMktData(contract, &quot;258&quot;, false, false, handler);\n    if (!handler\n        .getLatch()\n        .await(3, TimeUnit.SECONDS)) {\n      // failure\n    }\n</code></pre>\n"}],"owner":{"account_id":9445685,"reputation":138,"user_id":7024535,"accept_rate":100,"display_name":"LSampath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662980136,"creation_date":1655629818,"question_id":72675604,"body_markdown":"I am implementing a client application to automate trading tasks in InteractiveBroker(IB) platform. They are providing us with standalone application called TradingWorkStation(TWS) and a library to implement our own client applications. But our client application cannot directly communicate with IB platform on its own, client app has to pass our message to TWS application and TWS handles the communication with the actual IB platform.\r\n\r\nIB library provides us with EClientSocket interface, which has methods to communicate with TWS application. But they are asynchronous calls with no responses. When TWS needs to send back responses, it calls EWrapper interface of client application.\r\n\r\nRefer to following diagram,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am using Spring Boot to develop this client application. I have TraderService class which has eClient object as a attribute to communicate with TWS app. And I need to ask for contract details from TWS to initiate the trading process. I need TraderService constructor to continue only of these requested contract details are available.\r\n\r\nRefer to TraderService below,\r\n\r\n```\r\n@Service\r\npublic class TraderService {\r\n    private final IBEventWrapper eventWrapper;\r\n    private final EClientSocket socket;\r\n\r\n    public TraderService() {\r\n\t\t\r\n        this.eventWrapper = new IBEventWrapper();\r\n\r\n        this.socket = new EClientSocket(eventWrapper);\r\n        socket.eConnect(&#39;localhost&#39;, 7497, 1);\r\n\r\n        if (socket.isConnected()) {\r\n            logger.info(&quot;connected..&quot;);\r\n\t\t\t\r\n\t\t\t// requesting contract details, but return type is void\r\n\t\t\tsocket.reqContractDetails();\r\n\r\n           // continue only if contract results are available ...\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nNotice here, *reqContractDetails* method does not have a return type, and actual results are received to EWrapper interface implementation.\r\n\r\nRefer to EWrapper implementatin below,\r\n\r\n```\r\npublic class IBEventWrapper implements EWrapper {\r\n    private final TraderService traderService;\r\n\r\n    public IBEventWrapper(TraderService traderService) {\r\n\t\t// trying to pass results back to trader service\r\n        this.traderService = traderService;\r\n    }\r\n\t\r\n\t// this method is invoked by TWS to return contract results\r\n\t@Override\r\n    public void contractDetails(int reqId, ContractDetails contractDetails) {\r\n        logger.info(&quot;contractDetails {}&quot;, reqId);\r\n    }\r\n}\r\n```\r\n\r\nAs seen above, EWrapper methods are invoked by TWS app, when results are available. But I need to pass them back to TraderService constructor. \r\n\r\nIs there any approach (may be from Spring boot) to make this happen.\r\n\r\n  [1]: https://i.stack.imgur.com/LIvjo.png","title":"How to make my service object to wait till it receives respond from external resource in Spring boot","body":"<p>I am implementing a client application to automate trading tasks in InteractiveBroker(IB) platform. They are providing us with standalone application called TradingWorkStation(TWS) and a library to implement our own client applications. But our client application cannot directly communicate with IB platform on its own, client app has to pass our message to TWS application and TWS handles the communication with the actual IB platform.</p>\n<p>IB library provides us with EClientSocket interface, which has methods to communicate with TWS application. But they are asynchronous calls with no responses. When TWS needs to send back responses, it calls EWrapper interface of client application.</p>\n<p>Refer to following diagram,</p>\n<p><a href=\"https://i.stack.imgur.com/LIvjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIvjo.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using Spring Boot to develop this client application. I have TraderService class which has eClient object as a attribute to communicate with TWS app. And I need to ask for contract details from TWS to initiate the trading process. I need TraderService constructor to continue only of these requested contract details are available.</p>\n<p>Refer to TraderService below,</p>\n<pre><code>@Service\npublic class TraderService {\n    private final IBEventWrapper eventWrapper;\n    private final EClientSocket socket;\n\n    public TraderService() {\n        \n        this.eventWrapper = new IBEventWrapper();\n\n        this.socket = new EClientSocket(eventWrapper);\n        socket.eConnect('localhost', 7497, 1);\n\n        if (socket.isConnected()) {\n            logger.info(&quot;connected..&quot;);\n            \n            // requesting contract details, but return type is void\n            socket.reqContractDetails();\n\n           // continue only if contract results are available ...\n        }\n    }\n}\n</code></pre>\n<p>Notice here, <em>reqContractDetails</em> method does not have a return type, and actual results are received to EWrapper interface implementation.</p>\n<p>Refer to EWrapper implementatin below,</p>\n<pre><code>public class IBEventWrapper implements EWrapper {\n    private final TraderService traderService;\n\n    public IBEventWrapper(TraderService traderService) {\n        // trying to pass results back to trader service\n        this.traderService = traderService;\n    }\n    \n    // this method is invoked by TWS to return contract results\n    @Override\n    public void contractDetails(int reqId, ContractDetails contractDetails) {\n        logger.info(&quot;contractDetails {}&quot;, reqId);\n    }\n}\n</code></pre>\n<p>As seen above, EWrapper methods are invoked by TWS app, when results are available. But I need to pass them back to TraderService constructor.</p>\n<p>Is there any approach (may be from Spring boot) to make this happen.</p>\n"},{"tags":["java","kotlin","gradle","transitive-dependency","conflicting-libraries"],"comments":[{"owner":{"account_id":10209378,"reputation":369,"user_id":7537048,"display_name":"Vaclav Stengl"},"score":0,"creation_date":1662986016,"post_id":73688169,"comment_id":130125657,"body_markdown":"I don&#39;t think this is possible. If it would be possible, then it would lead to class collisions as libraries in multiple versions would bring classes in same packages, with different implementations. \n\nUsually you have to upgrade/downgrade all libs using lib X to state without breaking changes.","body":"I don&#39;t think this is possible. If it would be possible, then it would lead to class collisions as libraries in multiple versions would bring classes in same packages, with different implementations.   Usually you have to upgrade/downgrade all libs using lib X to state without breaking changes."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1663019409,"post_id":73688169,"comment_id":130136628,"body_markdown":"I don&#39;t really understand your example (it&#39;s very abstract; proper names and a diagram might help) but I think you can create Gradle subprojects to isolate incompatible dependencies, and expose an API that provides the functionality of the dependencies that you require. The &#39;core&#39; subproject can depend on the &#39;client&#39; subprojects.","body":"I don&#39;t really understand your example (it&#39;s very abstract; proper names and a diagram might help) but I think you can create Gradle subprojects to isolate incompatible dependencies, and expose an API that provides the functionality of the dependencies that you require. The &#39;core&#39; subproject can depend on the &#39;client&#39; subprojects."}],"owner":{"account_id":277289,"reputation":936,"user_id":1146513,"accept_rate":38,"display_name":"Pinco Pallino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662980100,"creation_date":1662980100,"question_id":73688169,"body_markdown":"Say I have a two direct dependencies A and B to my project, where one of the direct dependencies (say A) depends on package X version 3, and the other (say B) depends on package X version 4 and package X 4 has breaking changes compared to package X version 3, therefore it is not possible to apply a resolution strategy to transitive dependencies to force one or the other version.\r\n\r\nIs it possible to isolate/hide the transitive to package X below package A and B so that the project does not see X, and package B does not see X version 3 and package A does not see X version 4 ?\r\n","title":"Use of incompatible conflicting transitive dependency in gradle","body":"<p>Say I have a two direct dependencies A and B to my project, where one of the direct dependencies (say A) depends on package X version 3, and the other (say B) depends on package X version 4 and package X 4 has breaking changes compared to package X version 3, therefore it is not possible to apply a resolution strategy to transitive dependencies to force one or the other version.</p>\n<p>Is it possible to isolate/hide the transitive to package X below package A and B so that the project does not see X, and package B does not see X version 3 and package A does not see X version 4 ?</p>\n"},{"tags":["java","android","agora.io"],"comments":[{"owner":{"account_id":17962444,"reputation":312,"user_id":13053118,"display_name":"Shaocheng Yang"},"score":0,"creation_date":1606959409,"post_id":65112493,"comment_id":115124525,"body_markdown":"Are you testing on the emulators, which could cause this error? Meanwhile, this error should not cause any performance issue of the SDK.","body":"Are you testing on the emulators, which could cause this error? Meanwhile, this error should not cause any performance issue of the SDK."},{"owner":{"account_id":11226516,"reputation":1868,"user_id":8235983,"accept_rate":81,"display_name":"Peter"},"score":0,"creation_date":1606975666,"post_id":65112493,"comment_id":115127710,"body_markdown":"No am testing it on a real device, I didn&#39;t make any changes on the example code from GitHub, just added my `app_id` and `token`","body":"No am testing it on a real device, I didn&#39;t make any changes on the example code from GitHub, just added my <code>app_id</code> and <code>token</code>"},{"owner":{"account_id":17962444,"reputation":312,"user_id":13053118,"display_name":"Shaocheng Yang"},"score":0,"creation_date":1607366905,"post_id":65112493,"comment_id":115245034,"body_markdown":"After copying your token and pasting it to the String.xml file, please double check if the token is actually used when joining the channel.","body":"After copying your token and pasting it to the String.xml file, please double check if the token is actually used when joining the channel."}],"answers":[{"tags":[],"owner":{"account_id":11226516,"reputation":1868,"user_id":8235983,"accept_rate":81,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1662980085,"creation_date":1607444587,"answer_id":65202794,"question_id":65112493,"body_markdown":"After a long research I found out that why the live isn&#39;t starting and the screen is blank was because i created a token in agora dashboard with a `channel name` `test1`, but in my app while opening live I passed the `channel name` with user id.\r\n\r\nSo in other to make agora work you need to create a token with same channel name which you will pass while starting live.\r\n\r\nBut this fix still didn&#39;t stop the error `Access denied finding property &quot;net.dns1&quot;` in log, but now I can go live.\r\n\r\n\r\n","title":"agora.io Error Access denied finding property net.dns2","body":"<p>After a long research I found out that why the live isn't starting and the screen is blank was because i created a token in agora dashboard with a <code>channel name</code> <code>test1</code>, but in my app while opening live I passed the <code>channel name</code> with user id.</p>\n<p>So in other to make agora work you need to create a token with same channel name which you will pass while starting live.</p>\n<p>But this fix still didn't stop the error <code>Access denied finding property &quot;net.dns1&quot;</code> in log, but now I can go live.</p>\n"}],"owner":{"account_id":11226516,"reputation":1868,"user_id":8235983,"accept_rate":81,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10761,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65202794,"answer_count":1,"score":6,"last_activity_date":1662980085,"creation_date":1606927766,"question_id":65112493,"body_markdown":"Am trying to implement a live streaming app using `agora.io`, on test vision. When i click on start streaming I get error below and camera will be blank.\r\n\r\n    W/GENP.0: type=1400 audit(0.0:74945): avc: denied { read } for name=&quot;u:object_r:net_dns_prop:s0&quot; dev=&quot;tmpfs&quot; ino=3282 scontext=u:r:untrusted_app:s0:c512,c768 tcontext=u:object_r:net_dns_prop:s0 tclass=file permissive=0\r\n    E/libc: Access denied finding property &quot;net.dns1&quot;\r\n    E/libc: Access denied finding property &quot;net.dns2&quot;\r\n        Access denied finding property &quot;net.dns3&quot;\r\n    E/libc: Access denied finding property &quot;net.dns4&quot;\r\n\r\n\r\nPlease any idea what is causing the issue.","title":"agora.io Error Access denied finding property net.dns2","body":"<p>Am trying to implement a live streaming app using <code>agora.io</code>, on test vision. When i click on start streaming I get error below and camera will be blank.</p>\n<pre><code>W/GENP.0: type=1400 audit(0.0:74945): avc: denied { read } for name=&quot;u:object_r:net_dns_prop:s0&quot; dev=&quot;tmpfs&quot; ino=3282 scontext=u:r:untrusted_app:s0:c512,c768 tcontext=u:object_r:net_dns_prop:s0 tclass=file permissive=0\nE/libc: Access denied finding property &quot;net.dns1&quot;\nE/libc: Access denied finding property &quot;net.dns2&quot;\n    Access denied finding property &quot;net.dns3&quot;\nE/libc: Access denied finding property &quot;net.dns4&quot;\n</code></pre>\n<p>Please any idea what is causing the issue.</p>\n"},{"tags":["java","spring","mongodb","hibernate","mongodb-query"],"answers":[{"tags":[],"owner":{"account_id":5243437,"reputation":98,"user_id":4189875,"display_name":"BigO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662980078,"creation_date":1662980078,"answer_id":73688164,"question_id":73687956,"body_markdown":"    import java.util.Arrays;\r\n    import org.bson.Document;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.MongoClientURI;\r\n    import com.mongodb.client.FindIterable;\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.MongoDatabase;\r\n    import org.bson.conversions.Bson;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.bson.Document;\r\n    \r\n    /*\r\n     * Requires the MongoDB Java Driver.\r\n     * https://mongodb.github.io/mongo-java-driver\r\n     */\r\n    \r\n    Bson filter = new Document(&quot;$and&quot;, Arrays.asList(new Document(&quot;timeStamp&quot;, \r\n            new Document(&quot;$gt&quot;, &quot;now-24 epoch&quot;)), \r\n            new Document(&quot;$lt&quot;, &quot;now epoch&quot;)));\r\n    \r\n    MongoClient mongoClient = new MongoClient(\r\n        new MongoClientURI(\r\n            &quot;[YOUR_MONGO_URI]&quot;\r\n        )\r\n    );\r\n    MongoDatabase database = mongoClient.getDatabase(&quot;[YOUR_DB]&quot;);\r\n    MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;[YOUR_COLLECTION]&quot;);\r\n    FindIterable&lt;Document&gt; result = collection.find(filter);","title":"how to delete records in mongo collection based on epoch?","body":"<pre><code>import java.util.Arrays;\nimport org.bson.Document;\nimport com.mongodb.MongoClient;\nimport com.mongodb.MongoClientURI;\nimport com.mongodb.client.FindIterable;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport org.bson.conversions.Bson;\nimport java.util.concurrent.TimeUnit;\nimport org.bson.Document;\n\n/*\n * Requires the MongoDB Java Driver.\n * https://mongodb.github.io/mongo-java-driver\n */\n\nBson filter = new Document(&quot;$and&quot;, Arrays.asList(new Document(&quot;timeStamp&quot;, \n        new Document(&quot;$gt&quot;, &quot;now-24 epoch&quot;)), \n        new Document(&quot;$lt&quot;, &quot;now epoch&quot;)));\n\nMongoClient mongoClient = new MongoClient(\n    new MongoClientURI(\n        &quot;[YOUR_MONGO_URI]&quot;\n    )\n);\nMongoDatabase database = mongoClient.getDatabase(&quot;[YOUR_DB]&quot;);\nMongoCollection&lt;Document&gt; collection = database.getCollection(&quot;[YOUR_COLLECTION]&quot;);\nFindIterable&lt;Document&gt; result = collection.find(filter);\n</code></pre>\n"}],"owner":{"account_id":20111723,"reputation":17,"user_id":15268247,"display_name":"Searching For Solutions"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1662980078,"creation_date":1662979050,"question_id":73687956,"body_markdown":"below is my mongo db collection:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nso here i need to query in mongo db through java,\r\n\r\n    to remove the records of (current epoch-24 hours), basically i need last 24 hours records\r\n\r\nlike in this :\r\ndb data, the first row is last 24 hours\r\nso after removal the db should be like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\ncan you pls help how to do this in java with mongo?\r\n\r\nassuming i have the DAO and POJO available .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sZBVs.png\r\n  [2]: https://i.stack.imgur.com/etlAQ.png","title":"how to delete records in mongo collection based on epoch?","body":"<p>below is my mongo db collection:</p>\n<p><a href=\"https://i.stack.imgur.com/sZBVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZBVs.png\" alt=\"enter image description here\" /></a></p>\n<p>so here i need to query in mongo db through java,</p>\n<pre><code>to remove the records of (current epoch-24 hours), basically i need last 24 hours records\n</code></pre>\n<p>like in this :\ndb data, the first row is last 24 hours\nso after removal the db should be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/etlAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/etlAQ.png\" alt=\"enter image description here\" /></a></p>\n<p>can you pls help how to do this in java with mongo?</p>\n<p>assuming i have the DAO and POJO available .</p>\n"},{"tags":["java","reactjs","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662979897,"creation_date":1662979897,"answer_id":73688120,"question_id":73686078,"body_markdown":"Use this &quot;**WebSecurityConfig**&quot;\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n        private final UserDetailsService userDetailsService;\r\n        private final JwtRequestFilter jwtRequestFilter;\r\n    \r\n        public WebSecurityConfig(JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint, UserDetailsService userDetailsService, JwtRequestFilter jwtRequestFilter) {\r\n            this.jwtAuthenticationEntryPoint = jwtAuthenticationEntryPoint;\r\n            this.userDetailsService = userDetailsService;\r\n            this.jwtRequestFilter = jwtRequestFilter;\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            // configure AuthenticationManager so that it knows from where to load\r\n            // user for matching credentials\r\n            // Use BCryptPasswordEncoder\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    /*.and()\r\n                    .cors()*/\r\n                    .disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/authenticate&quot;,&quot;/notification/*&quot;,&quot;/actuator/*&quot;,&quot;/actuator&quot;)\r\n                    .permitAll()\r\n                    .antMatchers(&quot;/app/*&quot;,&quot;/topic/*&quot;,&quot;/exchange/*&quot;)\r\n                    .authenticated()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n\r\n","title":"request doesn&#39;t pass access control check: It does not have HTTP ok status. on Spring Boot","body":"<p>Use this &quot;<strong>WebSecurityConfig</strong>&quot;</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    private final UserDetailsService userDetailsService;\n    private final JwtRequestFilter jwtRequestFilter;\n\n    public WebSecurityConfig(JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint, UserDetailsService userDetailsService, JwtRequestFilter jwtRequestFilter) {\n        this.jwtAuthenticationEntryPoint = jwtAuthenticationEntryPoint;\n        this.userDetailsService = userDetailsService;\n        this.jwtRequestFilter = jwtRequestFilter;\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                /*.and()\n                .cors()*/\n                .disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/authenticate&quot;,&quot;/notification/*&quot;,&quot;/actuator/*&quot;,&quot;/actuator&quot;)\n                .permitAll()\n                .antMatchers(&quot;/app/*&quot;,&quot;/topic/*&quot;,&quot;/exchange/*&quot;)\n                .authenticated()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n"}],"owner":{"account_id":6241524,"reputation":1808,"user_id":4854993,"accept_rate":55,"display_name":"Kevin Bryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662979897,"creation_date":1662969217,"question_id":73686078,"body_markdown":"I having blocked by CORS on the client side, so I added these configuration on spring boot to allow api calls on my react app:\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:3000&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThen this is my api call on my React app:\r\n\r\n      const res = await axios({\r\n        method: &quot;POST&quot;,\r\n        url: &quot;http://localhost:8080/login&quot;,\r\n        headers: {\r\n          &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n          &quot;content-type&quot;: &quot;application/x-www-form-urlencoded&quot;,\r\n        },\r\n        data: {\r\n          username,\r\n          password,\r\n        },\r\n      });\r\n\r\n\r\nHowever I&#39;m still getting blocked by CORS error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eBPR0.png","title":"request doesn&#39;t pass access control check: It does not have HTTP ok status. on Spring Boot","body":"<p>I having blocked by CORS on the client side, so I added these configuration on spring boot to allow api calls on my react app:</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:3000&quot;);\n    }\n}\n</code></pre>\n<p>Then this is my api call on my React app:</p>\n<pre><code>  const res = await axios({\n    method: &quot;POST&quot;,\n    url: &quot;http://localhost:8080/login&quot;,\n    headers: {\n      &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\n      &quot;content-type&quot;: &quot;application/x-www-form-urlencoded&quot;,\n    },\n    data: {\n      username,\n      password,\n    },\n  });\n</code></pre>\n<p>However I'm still getting blocked by CORS error</p>\n<p><a href=\"https://i.stack.imgur.com/eBPR0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBPR0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hl7-fhir","hapi-fhir","smart-on-fhir"],"answers":[{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662739512,"creation_date":1661283618,"answer_id":73464309,"question_id":73334765,"body_markdown":"\r\nhttp://hapi.fhir.org/baseR4/metadata\r\n\r\nhttp://wildfhir4.aegis.net/fhir4-0-1/metadata\r\n\r\nhttps://vonk.fire.ly/R4/metadata\r\n\r\nI think you&#39;re asking this.\r\n\r\nIf you examine any of the reference implementations above: you&#39;ll retrieve the CapabilityStatement.\r\n\r\nEVERY FHIR server must supply a CapabilityStatement.\r\n\r\nYou look at the CapabilityStatement, find the Fhir-Resource (&quot;Patient&quot; here), and then any includes and rev-includes.\r\n\r\n\r\n\r\n\r\n                    &quot;type&quot;: &quot;Patient&quot;,\r\n\r\n                    &quot;searchInclude&quot;: [\r\n                        &quot;Patient:general-practitioner&quot;,\r\n                        &quot;Patient:link&quot;,\r\n                        &quot;Patient:organization&quot;\r\n                    ],\r\n                    &quot;searchRevInclude&quot;: [\r\n                        &quot;Account:patient&quot;,\r\n                        &quot;Account:subject&quot;,\r\n\r\n\r\nalso see:\r\n\r\nhttps://www.hl7.org/fhir/search.html#include\r\n\r\n","title":"Is there any way to fetch the list of resource types available for a patient id from FHIR Server?","body":"<p><a href=\"http://hapi.fhir.org/baseR4/metadata\" rel=\"nofollow noreferrer\">http://hapi.fhir.org/baseR4/metadata</a></p>\n<p><a href=\"http://wildfhir4.aegis.net/fhir4-0-1/metadata\" rel=\"nofollow noreferrer\">http://wildfhir4.aegis.net/fhir4-0-1/metadata</a></p>\n<p><a href=\"https://vonk.fire.ly/R4/metadata\" rel=\"nofollow noreferrer\">https://vonk.fire.ly/R4/metadata</a></p>\n<p>I think you're asking this.</p>\n<p>If you examine any of the reference implementations above: you'll retrieve the CapabilityStatement.</p>\n<p>EVERY FHIR server must supply a CapabilityStatement.</p>\n<p>You look at the CapabilityStatement, find the Fhir-Resource (&quot;Patient&quot; here), and then any includes and rev-includes.</p>\n<pre><code>                &quot;type&quot;: &quot;Patient&quot;,\n\n                &quot;searchInclude&quot;: [\n                    &quot;Patient:general-practitioner&quot;,\n                    &quot;Patient:link&quot;,\n                    &quot;Patient:organization&quot;\n                ],\n                &quot;searchRevInclude&quot;: [\n                    &quot;Account:patient&quot;,\n                    &quot;Account:subject&quot;,\n</code></pre>\n<p>also see:</p>\n<p><a href=\"https://www.hl7.org/fhir/search.html#include\" rel=\"nofollow noreferrer\">https://www.hl7.org/fhir/search.html#include</a></p>\n"},{"tags":[],"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661656614,"creation_date":1661656614,"answer_id":73515760,"question_id":73334765,"body_markdown":"I think what your asking is resources types linked to a Patient. In this case you can do a http://base/fhir/Patient/[id]/$everything\r\n\r\nhttps://hl7.org/fhir/operation-patient-everything.html\r\n","title":"Is there any way to fetch the list of resource types available for a patient id from FHIR Server?","body":"<p>I think what your asking is resources types linked to a Patient. In this case you can do a http://base/fhir/Patient/[id]/$everything</p>\n<p><a href=\"https://hl7.org/fhir/operation-patient-everything.html\" rel=\"nofollow noreferrer\">https://hl7.org/fhir/operation-patient-everything.html</a></p>\n"},{"tags":[],"owner":{"account_id":508183,"reputation":510,"user_id":1250568,"display_name":"Jason S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662239583,"creation_date":1662239583,"answer_id":73595443,"question_id":73334765,"body_markdown":"When you say &quot;the list of resource types available for a patient from the FHIR server&quot;, I think what you mean is the resource types that can be searched by patient on the FHIR server.\r\n\r\nTo build such a list, read the FHIR server&#39;s `CapabilityStatement`.  Iterate through the CapabilityStatement&#39;s `resource` array, checking each item&#39;s `searchParam` array for an element where `name` = &#39;patient&#39; and `type` = &#39;reference&#39;. If you find it, add that item&#39;s `type` value (i.e. the resource type) to the list.","title":"Is there any way to fetch the list of resource types available for a patient id from FHIR Server?","body":"<p>When you say &quot;the list of resource types available for a patient from the FHIR server&quot;, I think what you mean is the resource types that can be searched by patient on the FHIR server.</p>\n<p>To build such a list, read the FHIR server's <code>CapabilityStatement</code>.  Iterate through the CapabilityStatement's <code>resource</code> array, checking each item's <code>searchParam</code> array for an element where <code>name</code> = 'patient' and <code>type</code> = 'reference'. If you find it, add that item's <code>type</code> value (i.e. the resource type) to the list.</p>\n"},{"tags":[],"owner":{"account_id":1879653,"reputation":80,"user_id":1700138,"display_name":"Rajesh Rajendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662979786,"creation_date":1662979786,"answer_id":73688099,"question_id":73334765,"body_markdown":"Thank you all for posting your answers. I have achieved this by making a batch request like the below,\r\n\r\n        Bundle bundle = new Bundle();\r\n\r\n\t\tbundle.setType(Bundle.BundleType.TRANSACTION);\r\n\r\n\t\t// Adding bundle entries to make the batch request\r\n\r\n\t\t// To fetch the resource count for each resource type\r\n\r\n\t\tfor (String resource : resources) {\r\n\r\n\t\t\tString url = String.format(MyConstants.URLs.FETCH_SUMMARY_COUNT, \r\n            resource, patientId);\r\n\r\n\t bundle.addEntry().getRequest().setUrl(url).setMethod(Bundle.HTTPVerb.GET);\r\n\r\n\t\t}\r\n\r\n\t\ttry {\r\n\r\n\t\t\t// Create a client\r\n\r\n\t\t\tIGenericClient client = fhirContext.newRestfulGenericClient(fhirServerUrl);\r\n\r\n\t\t\tBearerTokenAuthInterceptor bearerTokenAuthInterceptor = new BearerTokenAuthInterceptor(accessToken);\r\n\r\n\t\t\tclient.registerInterceptor(bearerTokenAuthInterceptor);\r\n\r\n\r\n\r\n\t\t\tbundle = client.transaction().withBundle(bundle).execute();\r\n\r\n\t\t\tIFhirPath iFhirPath = fhirContext.newFhirPath();\r\n\r\n\t\t\tList&lt;IntegerType&gt; counts = iFhirPath.evaluate(bundle, MyConstants.FHIRPATH.SUMMARY_COUNT_FROM_BUNDLE,\r\n\r\n\t\t\t\t\tIntegerType.class);\r\n\r\n\t\t\tResourceTypesResponse resourceTypesResponse = ResourceParser.getResourceTypes(counts, resources);\r\n\r\n\t\t\tif (resourceTypesResponse == null) {\r\n\r\n\t\t\t\tthrow new PatientNotFoundException(&quot;Resource Not Found&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn resourceTypesResponse;\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\tif (e.getMessage().equalsIgnoreCase(&quot;HTTP 401 Unauthorized&quot;)) {\r\n\r\n\t\t\t\treturn getResourceBundleForPatient(patientId, resources);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthrow new PatientNotFoundException(&quot;Patient Id Not Found&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t}","title":"Is there any way to fetch the list of resource types available for a patient id from FHIR Server?","body":"<p>Thank you all for posting your answers. I have achieved this by making a batch request like the below,</p>\n<pre><code>    Bundle bundle = new Bundle();\n\n    bundle.setType(Bundle.BundleType.TRANSACTION);\n\n    // Adding bundle entries to make the batch request\n\n    // To fetch the resource count for each resource type\n\n    for (String resource : resources) {\n\n        String url = String.format(MyConstants.URLs.FETCH_SUMMARY_COUNT, \n        resource, patientId);\n\n bundle.addEntry().getRequest().setUrl(url).setMethod(Bundle.HTTPVerb.GET);\n\n    }\n\n    try {\n\n        // Create a client\n\n        IGenericClient client = fhirContext.newRestfulGenericClient(fhirServerUrl);\n\n        BearerTokenAuthInterceptor bearerTokenAuthInterceptor = new BearerTokenAuthInterceptor(accessToken);\n\n        client.registerInterceptor(bearerTokenAuthInterceptor);\n\n\n\n        bundle = client.transaction().withBundle(bundle).execute();\n\n        IFhirPath iFhirPath = fhirContext.newFhirPath();\n\n        List&lt;IntegerType&gt; counts = iFhirPath.evaluate(bundle, MyConstants.FHIRPATH.SUMMARY_COUNT_FROM_BUNDLE,\n\n                IntegerType.class);\n\n        ResourceTypesResponse resourceTypesResponse = ResourceParser.getResourceTypes(counts, resources);\n\n        if (resourceTypesResponse == null) {\n\n            throw new PatientNotFoundException(&quot;Resource Not Found&quot;);\n\n        }\n\n        return resourceTypesResponse;\n\n    } catch (Exception e) {\n\n        if (e.getMessage().equalsIgnoreCase(&quot;HTTP 401 Unauthorized&quot;)) {\n\n            return getResourceBundleForPatient(patientId, resources);\n\n        } else {\n\n            throw new PatientNotFoundException(&quot;Patient Id Not Found&quot;);\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":1879653,"reputation":80,"user_id":1700138,"display_name":"Rajesh Rajendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73595443,"answer_count":4,"score":1,"last_activity_date":1662979786,"creation_date":1660310026,"question_id":73334765,"body_markdown":"I want the fetch the list of resource types available for a patient from the FHIR server. I tried to fetch the List of items from the Patient. But it doesn&#39;t contain all the resource types available for that particular patient. ","title":"Is there any way to fetch the list of resource types available for a patient id from FHIR Server?","body":"<p>I want the fetch the list of resource types available for a patient from the FHIR server. I tried to fetch the List of items from the Patient. But it doesn't contain all the resource types available for that particular patient.</p>\n"},{"tags":["java","spring","spring-security","spring-webflux","spring-session"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1662649995,"post_id":73650886,"comment_id":130059630,"body_markdown":"What version of spring?","body":"What version of spring?"},{"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"score":0,"creation_date":1662650634,"post_id":73650886,"comment_id":130059901,"body_markdown":"In Spring boot 2.3.12.RELEASE Project @K.Nicholas","body":"In Spring boot 2.3.12.RELEASE Project @K.Nicholas"},{"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"score":0,"creation_date":1662650692,"post_id":73650886,"comment_id":130059930,"body_markdown":"I can also upgrade to a higher version","body":"I can also upgrade to a higher version"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1662653246,"post_id":73650886,"comment_id":130061028,"body_markdown":"Stable release5.3.19 / 13 April 2022","body":"Stable release5.3.19 / 13 April 2022"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1662653279,"post_id":73650886,"comment_id":130061041,"body_markdown":"https://spring.io/guides/gs/reactive-rest-service/","body":"<a href=\"https://spring.io/guides/gs/reactive-rest-service/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/reactive-rest-service</a>"}],"answers":[{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662979227,"creation_date":1662979227,"answer_id":73687983,"question_id":73650886,"body_markdown":"Spring Session provides transparent integration with Spring WebFlux’s `WebSession`.\r\n\r\nThis is documented under &quot;WebSession Integration&quot; in the Spring Session [reference docs][1].\r\n\r\nYou can see an example provided by the Spring Session team [here][2].\r\n\r\nIf you are using Spring Boot and a single Spring Session module is present on the classpath, Spring Boot uses that store implementation automatically. There is no need for further configuration. You can find additional information in the Spring Boot [reference docs](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.spring-session).\r\n\r\nIf you are not using Spring Boot, you can use the annotation `@EnableRedisWebSession` to enable WebSession with Redis. \r\n\r\n  [1]: https://docs.spring.io/spring-session/reference/web-session.html\r\n  [2]: https://github.com/spring-projects/spring-session/tree/main/spring-session-samples/spring-session-sample-boot-webflux","title":"Does Spring Session REST support WebFlux Reactor applications?","body":"<p>Spring Session provides transparent integration with Spring WebFlux’s <code>WebSession</code>.</p>\n<p>This is documented under &quot;WebSession Integration&quot; in the Spring Session <a href=\"https://docs.spring.io/spring-session/reference/web-session.html\" rel=\"nofollow noreferrer\">reference docs</a>.</p>\n<p>You can see an example provided by the Spring Session team <a href=\"https://github.com/spring-projects/spring-session/tree/main/spring-session-samples/spring-session-sample-boot-webflux\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>If you are using Spring Boot and a single Spring Session module is present on the classpath, Spring Boot uses that store implementation automatically. There is no need for further configuration. You can find additional information in the Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.spring-session\" rel=\"nofollow noreferrer\">reference docs</a>.</p>\n<p>If you are not using Spring Boot, you can use the annotation <code>@EnableRedisWebSession</code> to enable WebSession with Redis.</p>\n"}],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73687983,"answer_count":1,"score":0,"last_activity_date":1662979227,"creation_date":1662647836,"question_id":73650886,"body_markdown":"\r\n**I&#39;m planning to integrate Spring Session Redis + Spring Security in WebFlux Project.**\r\n\r\nAnd I am looking for some official documentation and references\\Sample.But The Document only have Servlet Container Initialization.\r\n\r\nI`m not quite sure the Spring Session REST support WebFlux Reactor applications.\r\nIn my limited experience with Spring,Thanks in advance.\r\n\r\nSpring Session and Spring Security:\r\nhttps://docs.spring.io/spring-session/docs/2.5.3/reference/html5/guides/java-security.html#servlet-container-initialization\r\n\r\nSpring Session - REST:\r\nhttps://docs.spring.io/spring-session/docs/2.4.6/reference/html5/guides/java-rest.html#servlet-container-initialization\r\n\r\n\r\n","title":"Does Spring Session REST support WebFlux Reactor applications?","body":"<p><strong>I'm planning to integrate Spring Session Redis + Spring Security in WebFlux Project.</strong></p>\n<p>And I am looking for some official documentation and references\\Sample.But The Document only have Servlet Container Initialization.</p>\n<p>I`m not quite sure the Spring Session REST support WebFlux Reactor applications.\nIn my limited experience with Spring,Thanks in advance.</p>\n<p>Spring Session and Spring Security:\n<a href=\"https://docs.spring.io/spring-session/docs/2.5.3/reference/html5/guides/java-security.html#servlet-container-initialization\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/docs/2.5.3/reference/html5/guides/java-security.html#servlet-container-initialization</a></p>\n<p>Spring Session - REST:\n<a href=\"https://docs.spring.io/spring-session/docs/2.4.6/reference/html5/guides/java-rest.html#servlet-container-initialization\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/docs/2.4.6/reference/html5/guides/java-rest.html#servlet-container-initialization</a></p>\n"},{"tags":["java","nio"],"answers":[{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662979072,"creation_date":1490012163,"answer_id":42903374,"question_id":42903373,"body_markdown":"What I came up with is the following:\r\n\r\n    boolean containsSubPath(Path someRealPath, Path subPathToCheck) {\r\n      return someRealPath.normalize()\r\n                         .toString()\r\n                         .contains(subPathToCheck.normalize()\r\n                                                 .toString());\r\n    }\r\n\r\nThis way I am able to just call:\r\n\r\n    containsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;some/path&quot;));\r\n\r\nAs Thomas Kl&#228;ger pointed out, this solution matches also paths, that are only substrings of a real path (which for my use case would also be ok).\r\n\r\nHere is another solution that is probably more correct (for complete matching subpaths), but still not as short as I would like it to be (now corrected due to Kabhals input):\r\n\r\n```\r\nstatic boolean containsSubPath(Path realPath, Path subPath) {\r\n  for (Path realPathSegment : realPath.normalize()) {\r\n    if (containsSubPath(realPathSegment.iterator(), subPath.normalize().iterator())) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nprivate static boolean containsSubPath(Iterator&lt;Path&gt; realPathIterator, Iterator&lt;Path&gt; subPathIterator) {\r\n  var hasEntries = realPathIterator.hasNext() &amp;&amp; subPathIterator.hasNext();\r\n  while (realPathIterator.hasNext() &amp;&amp; subPathIterator.hasNext()) {\r\n    Path realPathSegment = realPathIterator.next();\r\n    Path subPathSegment = subPathIterator.next();\r\n    if (!Objects.equals(realPathSegment, subPathSegment))\r\n      return false;\r\n  }\r\n  return hasEntries;\r\n}\r\n```\r\n\r\nExample calls with expected output:\r\n\r\n    containsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;some/path&quot;)) // true\r\n    containsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;me/pa&quot;)) // false\r\n\r\n\r\nIf you need to use it as `BinaryOperator` just use the method reference instead, i.e. `YourClass::containsSubPath`.","title":"java.nio.file.Path.contains(subPath)?","body":"<p>What I came up with is the following:</p>\n<pre><code>boolean containsSubPath(Path someRealPath, Path subPathToCheck) {\n  return someRealPath.normalize()\n                     .toString()\n                     .contains(subPathToCheck.normalize()\n                                             .toString());\n}\n</code></pre>\n<p>This way I am able to just call:</p>\n<pre><code>containsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;some/path&quot;));\n</code></pre>\n<p>As Thomas Kläger pointed out, this solution matches also paths, that are only substrings of a real path (which for my use case would also be ok).</p>\n<p>Here is another solution that is probably more correct (for complete matching subpaths), but still not as short as I would like it to be (now corrected due to Kabhals input):</p>\n<pre><code>static boolean containsSubPath(Path realPath, Path subPath) {\n  for (Path realPathSegment : realPath.normalize()) {\n    if (containsSubPath(realPathSegment.iterator(), subPath.normalize().iterator())) {\n      return true;\n    }\n  }\n  return false;\n}\nprivate static boolean containsSubPath(Iterator&lt;Path&gt; realPathIterator, Iterator&lt;Path&gt; subPathIterator) {\n  var hasEntries = realPathIterator.hasNext() &amp;&amp; subPathIterator.hasNext();\n  while (realPathIterator.hasNext() &amp;&amp; subPathIterator.hasNext()) {\n    Path realPathSegment = realPathIterator.next();\n    Path subPathSegment = subPathIterator.next();\n    if (!Objects.equals(realPathSegment, subPathSegment))\n      return false;\n  }\n  return hasEntries;\n}\n</code></pre>\n<p>Example calls with expected output:</p>\n<pre><code>containsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;some/path&quot;)) // true\ncontainsSubPath(Paths.get(&quot;/tmp/some/path/to/somewhere&quot;), Paths.get(&quot;me/pa&quot;)) // false\n</code></pre>\n<p>If you need to use it as <code>BinaryOperator</code> just use the method reference instead, i.e. <code>YourClass::containsSubPath</code>.</p>\n"}],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3788,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1662979072,"creation_date":1490012163,"question_id":42903373,"body_markdown":"I need to check whether a given path is a subpath anywhere within another path and was wondering whether there exists such a method already before writing my own.\r\n\r\nHere is some code that may help to understand the problem:\r\n\r\n    Path someRealPath = Paths.get(&quot;/tmp/some/path/to/somewhere&quot;);\r\n    Path subpathToCheck = Paths.get(&quot;some/path&quot;);\r\n\r\n    // I am expecting something similar as follows:\r\n    someRealPath.contains(subPathToCheck) // should return true in this case\r\n    someRealPath.contains(Paths.get(&quot;some/to&quot;)) // should return false\r\n\r\nI already saw `relativize`, but I don&#39;t think that&#39;s the easiest way to solve the problem. The simplest I came up with was `normalize().toString().contains(/* other normalized string path */)`. But maybe there is an easier way? Lots of methods inside `Paths` look as if this functionality must already be in there. Maybe I am just not seeing it.","title":"java.nio.file.Path.contains(subPath)?","body":"<p>I need to check whether a given path is a subpath anywhere within another path and was wondering whether there exists such a method already before writing my own.</p>\n\n<p>Here is some code that may help to understand the problem:</p>\n\n<pre><code>Path someRealPath = Paths.get(\"/tmp/some/path/to/somewhere\");\nPath subpathToCheck = Paths.get(\"some/path\");\n\n// I am expecting something similar as follows:\nsomeRealPath.contains(subPathToCheck) // should return true in this case\nsomeRealPath.contains(Paths.get(\"some/to\")) // should return false\n</code></pre>\n\n<p>I already saw <code>relativize</code>, but I don't think that's the easiest way to solve the problem. The simplest I came up with was <code>normalize().toString().contains(/* other normalized string path */)</code>. But maybe there is an easier way? Lots of methods inside <code>Paths</code> look as if this functionality must already be in there. Maybe I am just not seeing it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662972775,"post_id":73686452,"comment_id":130121154,"body_markdown":"The unit test fails not the app :). But that is maybe nitpicking. But you enabled JWT/oauth2 so yuou need to add some beans tot he context. You haven&#39;t thus it fails when the test is trying to start the application.","body":"The unit test fails not the app :). But that is maybe nitpicking. But you enabled JWT/oauth2 so yuou need to add some beans tot he context. You haven&#39;t thus it fails when the test is trying to start the application."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662973528,"creation_date":1662973528,"answer_id":73686867,"question_id":73686452,"body_markdown":"The following is written in the [documentation][1]:\r\n\r\n&gt; If the application doesn’t expose a JwtDecoder bean, then Spring Boot\r\n&gt; will expose the above default one.\r\n\r\n\r\nHere is how default JwtDecoder implementation looks like:\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return JwtDecoders.fromIssuerLocation(issuerUri);\r\n    }\r\n\r\n\r\nMy guess is that you didn&#39;t specify `issuer-uri` in your property file, so Spring fails to autoconfigure bean above.\r\n\r\nIn a Spring Boot application, to specify which authorization server to use, simply do:\r\n \r\n\r\n     spring:\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: https://idp.example.com/issuer\r\n\r\nWhere `idp.example.com/issuer` is the value contained in the iss claim for JWT tokens that the authorization server will issue. Resource Server will use this property to further self-configure, discover the authorization server’s public keys, and subsequently validate incoming JWTs\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","title":"Spring boot application fails to start when adding junit tests","body":"<p>The following is written in the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>If the application doesn’t expose a JwtDecoder bean, then Spring Boot\nwill expose the above default one.</p>\n</blockquote>\n<p>Here is how default JwtDecoder implementation looks like:</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder() {\n    return JwtDecoders.fromIssuerLocation(issuerUri);\n}\n</code></pre>\n<p>My guess is that you didn't specify <code>issuer-uri</code> in your property file, so Spring fails to autoconfigure bean above.</p>\n<p>In a Spring Boot application, to specify which authorization server to use, simply do:</p>\n<pre><code> spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://idp.example.com/issuer\n</code></pre>\n<p>Where <code>idp.example.com/issuer</code> is the value contained in the iss claim for JWT tokens that the authorization server will issue. Resource Server will use this property to further self-configure, discover the authorization server’s public keys, and subsequently validate incoming JWTs</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662978991,"creation_date":1662978991,"answer_id":73687944,"question_id":73686452,"body_markdown":"If your test is a ctroller unit-test, maybe should you just `@MockBean JwtDecoder jwtDecoder;`\r\n\r\n## PS\r\nFor roles checking instead of your custom JWT validator, maybe could you configure an authorities converter (from Keycloak roles rather than scopes) and have Authentication converter use this authorities converter.\r\n\r\nThis would enable you to:\r\n- write security expressions like `@PreAuthorize(&quot;hasAuthority(&#39;foo&#39;)&quot;)` or equivalents in security config\r\n- unit test access control\r\n\r\nSample in [this article][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/spring-oauth2-resource-servers","title":"Spring boot application fails to start when adding junit tests","body":"<p>If your test is a ctroller unit-test, maybe should you just <code>@MockBean JwtDecoder jwtDecoder;</code></p>\n<h2>PS</h2>\n<p>For roles checking instead of your custom JWT validator, maybe could you configure an authorities converter (from Keycloak roles rather than scopes) and have Authentication converter use this authorities converter.</p>\n<p>This would enable you to:</p>\n<ul>\n<li>write security expressions like <code>@PreAuthorize(&quot;hasAuthority('foo')&quot;)</code> or equivalents in security config</li>\n<li>unit test access control</li>\n</ul>\n<p>Sample in <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">this article</a></p>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73687944,"answer_count":2,"score":0,"last_activity_date":1662978991,"creation_date":1662971455,"question_id":73686452,"body_markdown":"I am trying to add tests to my Spring boot app, but when I do, the application fails to start.\r\n\r\nI have a custom jwt authorazation class to validate jwt, I am not sure if this causes any issue?\r\n\r\n``` \r\n\r\n@Component\r\npublic class JwtCustomValidator {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(LogDeletionJob.class);\r\n\r\n    private static final String TAG = &quot;JwtCustomValidator&quot;;\r\n\r\n    public void validateAudience(Jwt jwt) throws Exception {\r\n        //System.out.println(&quot;validate audience JWT AUDIENCE: &quot; + jwt.getAudience().toString());\r\n        if (!jwt.getAudience().contains(System.getenv(&quot;oauthAudience&quot;))) {\r\n            //System.out.println(&quot;\\nAUDIENCE NOT AUTHORIZED!\\n&quot;);\r\n            logger.warn(TAG, &quot;AUDIENCE NOT AUTHORIZED!&quot; + jwt.getAudience());\r\n            throw new Exception(&quot;wrong audience&quot;);\r\n        }\r\n        logger.info(TAG, &quot;audience validated&quot;);\r\n    }\r\n\r\n    public void validateRole(final Jwt jwt, final String role) throws Exception {\r\n        //System.out.println(&quot;validate roles JWT ROLES: &quot; + jwt.getClaim(&quot;roles&quot;).toString());\r\n        if (!((List&lt;String&gt;) jwt.getClaim(&quot;roles&quot;)).contains(role)) {\r\n            //System.out.println(&quot;\\nROLE NOT AUTHORIZED!\\n&quot;);\r\n            logger.warn(TAG, &quot;ROLE NOT AUTHORIZED!&quot; + jwt.getClaim(&quot;roles&quot;).toString());\r\n            throw new Exception(&quot;Not sufficient role, UnAuthorized&quot;);\r\n        }\r\n        logger.info(TAG, &quot;role validated&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nHere is my security configuration class with the antmatchers:\r\n``` \r\n@EnableWebSecurity(debug = false)\r\n@Configuration\r\npublic class ResourceServerSecurityConfigs extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests(authz -&gt; authz\r\n                .antMatchers(HttpMethod.GET, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.POST, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.PUT, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.DELETE, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.GET, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.POST, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.PUT, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .antMatchers(HttpMethod.DELETE, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\r\n                .anyRequest().authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s the stacktrace:\r\n\r\n\r\n``` \r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nMethod springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; in your configuration.\r\n\r\n2022-09-12 10:05:57,294 ERROR [main] org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55787112] to prepare test instance [backend.controllers.MyAppListControllerTest@5488b5c5]\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; available\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 70 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; available\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 91 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\r\n\tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$JwtConfigurer.getJwtDecoder(OAuth2ResourceServerConfigurer.java:419)\r\n\tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$JwtConfigurer.getAuthenticationProvider(OAuth2ResourceServerConfigurer.java:428)\r\n\tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.getAuthenticationProvider(OAuth2ResourceServerConfigurer.java:335)\r\n\tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.init(OAuth2ResourceServerConfigurer.java:254)\r\n\tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.init(OAuth2ResourceServerConfigurer.java:147)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\r\n\tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:315)\r\n\tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:90)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:305)\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:126)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 92 common frames omitted\r\nDisconnected from the target VM, address: &#39;127.0.0.1:54592&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code -1\r\n```\r\n\r\nNot sure where to start, I didn&#39;t find any thread here that solved yet. Please explain this to me, would really appreciate!\r\n\r\nEdits:\r\nI have one regular app.properties:\r\n```\r\nlogging.level.org.springframework.jdbc.core=${logLvl}\r\nspring.datasource.url=${dbConnStr}\r\nspring.datasource.username=${dbUser}\r\nspring.datasource.password=${dbPw}\r\n\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=com.backend.hibernat.CustSQLServerDialect\r\nspring.jpa.hibernate.ddl-auto = none\r\nserver.port=8081\r\n\r\nmyAppPath=${myAppPath}\r\n\r\ntenantId=123-tenant-id-456\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://issues-uri\r\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://keys\r\n```\r\n\r\nAnd one under test/resources:\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n# spring.datasource.x\r\n#spring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\r\nspring.datasource.username=sa\r\nspring.datasource.password=sa\r\n#settings\r\nspring.h2.console.enabled=false\r\n#app settings\r\n```","title":"Spring boot application fails to start when adding junit tests","body":"<p>I am trying to add tests to my Spring boot app, but when I do, the application fails to start.</p>\n<p>I have a custom jwt authorazation class to validate jwt, I am not sure if this causes any issue?</p>\n<pre><code>\n@Component\npublic class JwtCustomValidator {\n\n    private static final Logger logger = LoggerFactory.getLogger(LogDeletionJob.class);\n\n    private static final String TAG = &quot;JwtCustomValidator&quot;;\n\n    public void validateAudience(Jwt jwt) throws Exception {\n        //System.out.println(&quot;validate audience JWT AUDIENCE: &quot; + jwt.getAudience().toString());\n        if (!jwt.getAudience().contains(System.getenv(&quot;oauthAudience&quot;))) {\n            //System.out.println(&quot;\\nAUDIENCE NOT AUTHORIZED!\\n&quot;);\n            logger.warn(TAG, &quot;AUDIENCE NOT AUTHORIZED!&quot; + jwt.getAudience());\n            throw new Exception(&quot;wrong audience&quot;);\n        }\n        logger.info(TAG, &quot;audience validated&quot;);\n    }\n\n    public void validateRole(final Jwt jwt, final String role) throws Exception {\n        //System.out.println(&quot;validate roles JWT ROLES: &quot; + jwt.getClaim(&quot;roles&quot;).toString());\n        if (!((List&lt;String&gt;) jwt.getClaim(&quot;roles&quot;)).contains(role)) {\n            //System.out.println(&quot;\\nROLE NOT AUTHORIZED!\\n&quot;);\n            logger.warn(TAG, &quot;ROLE NOT AUTHORIZED!&quot; + jwt.getClaim(&quot;roles&quot;).toString());\n            throw new Exception(&quot;Not sufficient role, UnAuthorized&quot;);\n        }\n        logger.info(TAG, &quot;role validated&quot;);\n    }\n}\n\n</code></pre>\n<p>Here is my security configuration class with the antmatchers:</p>\n<pre><code>@EnableWebSecurity(debug = false)\n@Configuration\npublic class ResourceServerSecurityConfigs extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests(authz -&gt; authz\n                .antMatchers(HttpMethod.GET, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.POST, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.PUT, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.DELETE, &quot;api/v1/books/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.GET, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.POST, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.PUT, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .antMatchers(HttpMethod.DELETE, &quot;api/v1/lending/**&quot;).hasAuthority(&quot;ALLOW-allowedtraffic&quot;)\n                .anyRequest().authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n    }\n}\n</code></pre>\n<p>Here's the stacktrace:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nMethod springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' in your configuration.\n\n2022-09-12 10:05:57,294 ERROR [main] org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55787112] to prepare test instance [backend.controllers.MyAppListControllerTest@5488b5c5]\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 70 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 91 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)\n    at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$JwtConfigurer.getJwtDecoder(OAuth2ResourceServerConfigurer.java:419)\n    at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$JwtConfigurer.getAuthenticationProvider(OAuth2ResourceServerConfigurer.java:428)\n    at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.getAuthenticationProvider(OAuth2ResourceServerConfigurer.java:335)\n    at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.init(OAuth2ResourceServerConfigurer.java:254)\n    at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.init(OAuth2ResourceServerConfigurer.java:147)\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:315)\n    at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:90)\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:305)\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:126)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 92 common frames omitted\nDisconnected from the target VM, address: '127.0.0.1:54592', transport: 'socket'\n\nProcess finished with exit code -1\n</code></pre>\n<p>Not sure where to start, I didn't find any thread here that solved yet. Please explain this to me, would really appreciate!</p>\n<p>Edits:\nI have one regular app.properties:</p>\n<pre><code>logging.level.org.springframework.jdbc.core=${logLvl}\nspring.datasource.url=${dbConnStr}\nspring.datasource.username=${dbUser}\nspring.datasource.password=${dbPw}\n\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=com.backend.hibernat.CustSQLServerDialect\nspring.jpa.hibernate.ddl-auto = none\nserver.port=8081\n\nmyAppPath=${myAppPath}\n\ntenantId=123-tenant-id-456\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://issues-uri\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://keys\n</code></pre>\n<p>And one under test/resources:</p>\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n# spring.datasource.x\n#spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=sa\n#settings\nspring.h2.console.enabled=false\n#app settings\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":26279773,"reputation":31,"user_id":19948408,"display_name":"Lovish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662978985,"creation_date":1662630333,"question_id":73646979,"body_markdown":"I am looking for a program that can produce routes based on distance criteria. For example, I give a start point and an endpoint that are the same and I want 5-10 different routes which start and end there but are about 5 miles long. Is there anything out there that can do that?\r\n\r\nI know that Google Maps can do that with just a start and end but no distance parameter. I just want to have distance be a parameter and have the start and end points be the same.\r\n\r\nPlease check this link for reference: [routeshuffle](https://routeshuffle.com/planner)","title":"How do I generate route based on distance in android","body":"<p>I am looking for a program that can produce routes based on distance criteria. For example, I give a start point and an endpoint that are the same and I want 5-10 different routes which start and end there but are about 5 miles long. Is there anything out there that can do that?</p>\n<p>I know that Google Maps can do that with just a start and end but no distance parameter. I just want to have distance be a parameter and have the start and end points be the same.</p>\n<p>Please check this link for reference: <a href=\"https://routeshuffle.com/planner\" rel=\"nofollow noreferrer\">routeshuffle</a></p>\n"},{"tags":["java","multithreading","tomcat","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1608054299,"post_id":65303451,"comment_id":115463041,"body_markdown":"What does it mean that a thread starts a new request while it is processing another request; how can a thread be executing two pieces of code simultaneously? Can you explain more about the thread-unsafety you were noticing?","body":"What does it mean that a thread starts a new request while it is processing another request; how can a thread be executing two pieces of code simultaneously? Can you explain more about the thread-unsafety you were noticing?"},{"owner":{"account_id":20219174,"reputation":3,"user_id":14829145,"display_name":"Chung"},"score":0,"creation_date":1608103387,"post_id":65303451,"comment_id":115476981,"body_markdown":"@EricAnderson From the log, I see that the thread started processing request A for a few steps then it started to process request B. Some cases can handle both request A and B at the end, but other cases just like request B take over request A.","body":"@EricAnderson From the log, I see that the thread started processing request A for a few steps then it started to process request B. Some cases can handle both request A and B at the end, but other cases just like request B take over request A."}],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608148708,"creation_date":1608148708,"answer_id":65330323,"question_id":65303451,"body_markdown":"In [`StreamObserver`&#39;s documentation](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/StreamObserver.html):\r\n\r\n&gt; Implementations are not required to be thread-safe (but should be thread-compatible).\r\n\r\nThe &quot;thread-compatible&quot; is the important part for your question. It means you can&#39;t assume that every call to your instance will happen on the same Thread. This is true for virtually all of the gRPC API that is not-thread-safe. That doesn&#39;t matter to most code, but would impact things like `ThreadLocal`s.\r\n\r\nBasically, a thread is not &quot;owned&quot; by an RPC. Instead, the RPCs share all the threads and when a callback needs to be delivered it just finds _a_ thread to run the callback on. This an async model that allows greater scaling compared to the mostly-blocking model used with servlets, as you can service more RPCs with fewer threads. But it means as soon as you return from a callback that same thread may be used for some other RPC callback.","title":"Multiple requests go into same thread of Java gRPC Server","body":"<p>In <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/StreamObserver.html\" rel=\"nofollow noreferrer\"><code>StreamObserver</code>'s documentation</a>:</p>\n<blockquote>\n<p>Implementations are not required to be thread-safe (but should be thread-compatible).</p>\n</blockquote>\n<p>The &quot;thread-compatible&quot; is the important part for your question. It means you can't assume that every call to your instance will happen on the same Thread. This is true for virtually all of the gRPC API that is not-thread-safe. That doesn't matter to most code, but would impact things like <code>ThreadLocal</code>s.</p>\n<p>Basically, a thread is not &quot;owned&quot; by an RPC. Instead, the RPCs share all the threads and when a callback needs to be delivered it just finds <em>a</em> thread to run the callback on. This an async model that allows greater scaling compared to the mostly-blocking model used with servlets, as you can service more RPCs with fewer threads. But it means as soon as you return from a callback that same thread may be used for some other RPC callback.</p>\n"}],"owner":{"account_id":20219174,"reputation":3,"user_id":14829145,"display_name":"Chung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65330323,"answer_count":1,"score":0,"last_activity_date":1662978973,"creation_date":1608025701,"question_id":65303451,"body_markdown":"I have some micro services written by java, communicating with each other by gRPC, and are put into AWS ECS for running.\r\nWhen I run the service and use a client program to call these services, I have noticed a very strange thing.\r\n\r\nNormally, Tomcat&#39;s thread pool setting will make sure multiple requests will be handled by same amount of threads. But when I run my program sometimes it will happen a thread start handling a new request when it is already handling a previous request. It makes the process thread-unsafe and thus errors were happened.\r\nIt happens very rare on normal services, and must happens when I send 10 requests into same service at the same time.\r\n\r\nMay I ask is there any setting that I have missed? What I can search on the internet is I can only increase thread pool size.\r\n\r\n\r\n----------2020/12/22 Edited----------\r\n\r\nBy entering debug mode, I have seen that one RPC request will be split to two tasks. One for message itself and another for listener returned from the first task. 90% of my previous errors were happened between the time gap of these two tasks.\r\nMoreover, when running listener, ServerImpl class will use context to handle each RPC message, and each step in unit of methods that covers all written codes within over-rided listeners.\r\nTherefore it will happen thread-switching during listener&#39;s run.","title":"Multiple requests go into same thread of Java gRPC Server","body":"<p>I have some micro services written by java, communicating with each other by gRPC, and are put into AWS ECS for running.\nWhen I run the service and use a client program to call these services, I have noticed a very strange thing.</p>\n<p>Normally, Tomcat's thread pool setting will make sure multiple requests will be handled by same amount of threads. But when I run my program sometimes it will happen a thread start handling a new request when it is already handling a previous request. It makes the process thread-unsafe and thus errors were happened.\nIt happens very rare on normal services, and must happens when I send 10 requests into same service at the same time.</p>\n<p>May I ask is there any setting that I have missed? What I can search on the internet is I can only increase thread pool size.</p>\n<p>----------2020/12/22 Edited----------</p>\n<p>By entering debug mode, I have seen that one RPC request will be split to two tasks. One for message itself and another for listener returned from the first task. 90% of my previous errors were happened between the time gap of these two tasks.\nMoreover, when running listener, ServerImpl class will use context to handle each RPC message, and each step in unit of methods that covers all written codes within over-rided listeners.\nTherefore it will happen thread-switching during listener's run.</p>\n"},{"tags":["java","android","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662975149,"creation_date":1662975149,"answer_id":73687182,"question_id":73686141,"body_markdown":"Try to use OKHttp, it&#39;s more robust, here a link that can help you:\r\n[OKHttp][1]\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial","title":"Image Not uploading in base64 format using retrofit","body":"<p>Try to use OKHttp, it's more robust, here a link that can help you:\n<a href=\"https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\" rel=\"nofollow noreferrer\">OKHttp</a></p>\n"},{"tags":[],"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662978686,"creation_date":1662978686,"answer_id":73687884,"question_id":73686141,"body_markdown":"The description you gave is a little bit vague. Could you share more info? What type of file are you trying to upload? The size of the files that are failing vs the ones that are succeeding the upload. Mind that if you base64 encode the contents of an mage it ends up being about 33% bigger and server might be closing connections that last longer than say 5 seconds ending up in timeouts. Please share some logs and stack-traces alongisde the metadata of the files you&#39;re uploading :) Probably you can fix this problem server-side by extending the TTL before a timeout&#39;s thrown","title":"Image Not uploading in base64 format using retrofit","body":"<p>The description you gave is a little bit vague. Could you share more info? What type of file are you trying to upload? The size of the files that are failing vs the ones that are succeeding the upload. Mind that if you base64 encode the contents of an mage it ends up being about 33% bigger and server might be closing connections that last longer than say 5 seconds ending up in timeouts. Please share some logs and stack-traces alongisde the metadata of the files you're uploading :) Probably you can fix this problem server-side by extending the TTL before a timeout's thrown</p>\n"}],"owner":{"account_id":10684991,"reputation":111,"user_id":7865790,"display_name":"Choudhary Robin Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662978686,"creation_date":1662969492,"question_id":73686141,"body_markdown":"I Am uploading an image which I convert into base64 , and try to send image into server, using Retrofit Library, but problem is that, Sometime Image Are Uploading successfully but sometime its going on on Failure() method in Retrofit , and throwing the error is **timeout**  , I don&#39;t know what is the problem with that , sometime its working or sometime its not working, I am also trying to increase the time using http but still having the Same problem.\r\n\r\n","title":"Image Not uploading in base64 format using retrofit","body":"<p>I Am uploading an image which I convert into base64 , and try to send image into server, using Retrofit Library, but problem is that, Sometime Image Are Uploading successfully but sometime its going on on Failure() method in Retrofit , and throwing the error is <strong>timeout</strong>  , I don't know what is the problem with that , sometime its working or sometime its not working, I am also trying to increase the time using http but still having the Same problem.</p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1224349975,"creation_date":1224349257,"answer_id":215280,"question_id":215271,"body_markdown":"Your implementation (the one in the question) is faster than e.g. wrapping with `toList()` and using a comparator-based method.  Auto-boxing and running through comparator methods or wrapped Collections objects is far slower than just reversing.\r\n\r\nOf course you could write your own sort.  That might not be the answer you&#39;re looking for, *but* note that if your comment about &quot;if the array is already sorted quite well&quot; happens frequently, you might do well to choose a sorting algorithm that handles that case well (e.g. insertion) rather than use `Arrays.sort()` (which is mergesort, or insertion if the number of elements is small).","title":"Sort large arrays of primitive types in descending order","body":"<p>Your implementation (the one in the question) is faster than e.g. wrapping with <code>toList()</code> and using a comparator-based method.  Auto-boxing and running through comparator methods or wrapped Collections objects is far slower than just reversing.</p>\n\n<p>Of course you could write your own sort.  That might not be the answer you're looking for, <em>but</em> note that if your comment about \"if the array is already sorted quite well\" happens frequently, you might do well to choose a sorting algorithm that handles that case well (e.g. insertion) rather than use <code>Arrays.sort()</code> (which is mergesort, or insertion if the number of elements is small).</p>\n"},{"tags":[],"owner":{"account_id":1273,"reputation":187668,"user_id":1694,"accept_rate":95,"display_name":"Eli Courtwright"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1224351220,"creation_date":1224349364,"answer_id":215283,"question_id":215271,"body_markdown":"There&#39;s been some confusion about `Arrays.asList` in the other answers.  If you say\r\n\r\n    double[] arr = new double[]{6.0, 5.0, 11.0, 7.0};\r\n    List xs = Arrays.asList(arr);\r\n    System.out.println(xs.size());  // prints 1\r\n\r\nthen you&#39;ll have a List with 1 element.  The resulting List has the double[] array as its own element.  What you want is to have a `List&lt;Double&gt;` whose elements are the elements of the `double[]`.\r\n\r\nUnfortunately, no solution involving Comparators will work for a primitive array.  `Arrays.sort` only accepts a Comparator when being passed an `Object[]`.  And for the reasons describe above, `Arrays.asList` won&#39;t let you make a List out of the elements of your array.\r\n\r\nSo despite my earlier answer which the comments below reference, there&#39;s no better way than manually reversing the array after sorting.  Any other approach (such as copying the elements into a `Double[]` and reverse-sorting and copying them back) would be more code and slower.","title":"Sort large arrays of primitive types in descending order","body":"<p>There's been some confusion about <code>Arrays.asList</code> in the other answers.  If you say</p>\n\n<pre><code>double[] arr = new double[]{6.0, 5.0, 11.0, 7.0};\nList xs = Arrays.asList(arr);\nSystem.out.println(xs.size());  // prints 1\n</code></pre>\n\n<p>then you'll have a List with 1 element.  The resulting List has the double[] array as its own element.  What you want is to have a <code>List&lt;Double&gt;</code> whose elements are the elements of the <code>double[]</code>.</p>\n\n<p>Unfortunately, no solution involving Comparators will work for a primitive array.  <code>Arrays.sort</code> only accepts a Comparator when being passed an <code>Object[]</code>.  And for the reasons describe above, <code>Arrays.asList</code> won't let you make a List out of the elements of your array.</p>\n\n<p>So despite my earlier answer which the comments below reference, there's no better way than manually reversing the array after sorting.  Any other approach (such as copying the elements into a <code>Double[]</code> and reverse-sorting and copying them back) would be more code and slower.</p>\n"},{"tags":[],"owner":{"account_id":10855,"reputation":2870,"user_id":20689,"accept_rate":40,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1224355385,"creation_date":1224355385,"answer_id":215405,"question_id":215271,"body_markdown":"I am not aware of any primitive sorting facilities within the Java core API.\r\n\r\nFrom my experimentations with the [D programming language][1] (a sort of C on steroids), I&#39;ve found that the merge sort algorithm is arguably the fastest general-purpose sorting algorithm around (it&#39;s what the D language itself uses to implement its sort function).\r\n\r\n- [One implementation in Java][2]\r\n- [Another implementation][3]\r\n- [One more implementation][4]\r\n\r\n\r\n  [1]: http://shootout.alioth.debian.org/gp4/benchmark.php?test=all&amp;lang=dlang&amp;lang2=java\r\n  [2]: http://www.koders.com/java/fid33A9899502EA6621A9E4CD88C33C600F0602C211.aspx?s=cdef:tree\r\n  [3]: http://www.cs.colorado.edu/~main/applications/Mergesort.java\r\n  [4]: http://users.dickinson.edu/~braught/courses/cs132f02/code/MergeSort.src.html","title":"Sort large arrays of primitive types in descending order","body":"<p>I am not aware of any primitive sorting facilities within the Java core API.</p>\n\n<p>From my experimentations with the <a href=\"http://shootout.alioth.debian.org/gp4/benchmark.php?test=all&amp;lang=dlang&amp;lang2=java\" rel=\"nofollow noreferrer\">D programming language</a> (a sort of C on steroids), I've found that the merge sort algorithm is arguably the fastest general-purpose sorting algorithm around (it's what the D language itself uses to implement its sort function).</p>\n\n<ul>\n<li><a href=\"http://www.koders.com/java/fid33A9899502EA6621A9E4CD88C33C600F0602C211.aspx?s=cdef:tree\" rel=\"nofollow noreferrer\">One implementation in Java</a></li>\n<li><a href=\"http://www.cs.colorado.edu/~main/applications/Mergesort.java\" rel=\"nofollow noreferrer\">Another implementation</a></li>\n<li><a href=\"http://users.dickinson.edu/~braught/courses/cs132f02/code/MergeSort.src.html\" rel=\"nofollow noreferrer\">One more implementation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14362,"reputation":367,"user_id":29480,"display_name":"user29480"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1479409392,"creation_date":1224474451,"answer_id":217477,"question_id":215271,"body_markdown":"I think it would be best not to re-invent the wheel and use Arrays.sort().\r\n\r\nYes, I saw the &quot;descending&quot; part. The sorting is the hard part, and you want to benefit from the simplicity and speed of Java&#39;s library code. Once that&#39;s done, you simply reverse the array, which is a relatively cheap O(n) operation. [Here&#39;s some code][1] I found to do this in as little as 4 lines:\r\n\r\n    for (int left=0, right=b.length-1; left&lt;right; left++, right--) {\r\n        // exchange the first and last\r\n        int temp = b[left]; b[left]  = b[right]; b[right] = temp;\r\n    }\r\n\r\n [1]: http://www.leepoint.net/data/arrays/arrays-ex-reverse.html","title":"Sort large arrays of primitive types in descending order","body":"<p>I think it would be best not to re-invent the wheel and use Arrays.sort().</p>\n\n<p>Yes, I saw the \"descending\" part. The sorting is the hard part, and you want to benefit from the simplicity and speed of Java's library code. Once that's done, you simply reverse the array, which is a relatively cheap O(n) operation. <a href=\"http://www.leepoint.net/data/arrays/arrays-ex-reverse.html\" rel=\"noreferrer\">Here's some code</a> I found to do this in as little as 4 lines:</p>\n\n<pre><code>for (int left=0, right=b.length-1; left&lt;right; left++, right--) {\n    // exchange the first and last\n    int temp = b[left]; b[left]  = b[right]; b[right] = temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19337,"reputation":10858,"user_id":45226,"accept_rate":76,"display_name":"Krystian Cybulski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1228969826,"creation_date":1228969826,"answer_id":358451,"question_id":215271,"body_markdown":"You cannot use Comparators for sorting primitive arrays.\r\n\r\nYour best bet is to implement (or borrow an implementation) of a sorting algorithm that is [appropriate ][1] for your use case to sort the array (in reverse order in your case).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Sorting_algorithm#Summaries_of_popular_sorting_algorithms","title":"Sort large arrays of primitive types in descending order","body":"<p>You cannot use Comparators for sorting primitive arrays.</p>\n\n<p>Your best bet is to implement (or borrow an implementation) of a sorting algorithm that is <a href=\"http://en.wikipedia.org/wiki/Sorting_algorithm#Summaries_of_popular_sorting_algorithms\" rel=\"nofollow noreferrer\">appropriate </a> for your use case to sort the array (in reverse order in your case).</p>\n"},{"tags":[],"owner":{"account_id":19124,"reputation":4155,"user_id":44541,"display_name":"lakshmanaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475705647,"creation_date":1228974637,"answer_id":358528,"question_id":215271,"body_markdown":"Your algorithm is correct. But we can do optimization as follows:\r\nWhile reversing, You may try keeping another variable to reduce backward counter since computing of array.length-(i+1) may take time!\r\nAnd also move declaration of temp outside so that everytime it needs not to be allocated \r\n\r\n    double temp;\r\n    \r\n    for(int i=0,j=array.length-1; i &lt; (array.length/2); i++, j--) {\r\n    \r\n         // swap the elements\r\n         temp = array[i];\r\n         array[i] = array[j];\r\n         array[j] = temp;\r\n    }\r\n\r\n","title":"Sort large arrays of primitive types in descending order","body":"<p>Your algorithm is correct. But we can do optimization as follows:\nWhile reversing, You may try keeping another variable to reduce backward counter since computing of array.length-(i+1) may take time!\nAnd also move declaration of temp outside so that everytime it needs not to be allocated </p>\n\n<pre><code>double temp;\n\nfor(int i=0,j=array.length-1; i &lt; (array.length/2); i++, j--) {\n\n     // swap the elements\n     temp = array[i];\n     array[i] = array[j];\n     array[j] = temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Piyush Doifode"},"down_vote_count":37,"up_vote_count":35,"is_accepted":false,"score":-2,"last_activity_date":1409009851,"creation_date":1231404225,"answer_id":423602,"question_id":215271,"body_markdown":"\r\n    double[] array = new double[1048576];\r\n\r\n...\r\n\r\nBy default order is ascending \r\n\r\nTo reverse the order \r\n\r\n    Arrays.sort(array,Collections.reverseOrder());\r\n\r\n","title":"Sort large arrays of primitive types in descending order","body":"<pre><code>double[] array = new double[1048576];\n</code></pre>\n\n<p>...</p>\n\n<p>By default order is ascending </p>\n\n<p>To reverse the order </p>\n\n<pre><code>Arrays.sort(array,Collections.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14095,"reputation":1554,"user_id":28683,"accept_rate":50,"display_name":"myplacedk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231407112,"creation_date":1231407112,"answer_id":423686,"question_id":215271,"body_markdown":"If performance is important, and the list usually already is sorted quite well.\r\n\r\nBubble sort should be one of the slowest ways of sorting, but I have seen cases where the best performance was a simple bi-directional bubble sort.\r\n\r\nSo this may be one of the few cases where you can benefit from coding it yourself. But you really need to do it right (make sure at least somebody else confirms your code, make a proof that it works etc.)\r\n\r\nAs somebody else pointed out, it may be even better to start with a sorted array, and keep it sorted while you change the contents. That may perform even better.","title":"Sort large arrays of primitive types in descending order","body":"<p>If performance is important, and the list usually already is sorted quite well.</p>\n\n<p>Bubble sort should be one of the slowest ways of sorting, but I have seen cases where the best performance was a simple bi-directional bubble sort.</p>\n\n<p>So this may be one of the few cases where you can benefit from coding it yourself. But you really need to do it right (make sure at least somebody else confirms your code, make a proof that it works etc.)</p>\n\n<p>As somebody else pointed out, it may be even better to start with a sorted array, and keep it sorted while you change the contents. That may perform even better.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1315996380,"creation_date":1315996380,"answer_id":7414867,"question_id":215271,"body_markdown":"[Guava][1] has methods for converting primitive arrays to Lists of wrapper types. The nice part is that these lists are live views, so operations on them work on the underlying arrays as well (similar to `Arrays.asList()`, but for primitives).\r\n\r\nAnyway, each of these Lists can be passed to `Collections.reverse()`:\r\n\r\n\r\n    int[] intArr = { 1, 2, 3, 4, 5 };\r\n    float[] floatArr = { 1.0f, 2.0f, 3.0f, 4.0f, 5.0f };\r\n    double[] doubleArr = { 1.0d, 2.0d, 3.0d, 4.0d, 5.0d };\r\n    byte[] byteArr = { 1, 2, 3, 4, 5 };\r\n    short[] shortArr = { 1, 2, 3, 4, 5 };\r\n    Collections.reverse(Ints.asList(intArr));\r\n    Collections.reverse(Floats.asList(floatArr));\r\n    Collections.reverse(Doubles.asList(doubleArr));\r\n    Collections.reverse(Bytes.asList(byteArr));\r\n    Collections.reverse(Shorts.asList(shortArr));\r\n    System.out.println(Arrays.toString(intArr));\r\n    System.out.println(Arrays.toString(floatArr));\r\n    System.out.println(Arrays.toString(doubleArr));\r\n    System.out.println(Arrays.toString(byteArr));\r\n    System.out.println(Arrays.toString(shortArr));\r\n\r\nOutput:\r\n\r\n\r\n&gt; [5, 4, 3, 2, 1]  \r\n&gt; [5.0, 4.0, 3.0, 2.0, 1.0]  \r\n&gt; [5.0, 4.0, 3.0, 2.0, 1.0]  \r\n&gt; [5, 4, 3, 2, 1]  \r\n&gt; [5, 4, 3, 2, 1]  \r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/","title":"Sort large arrays of primitive types in descending order","body":"<p><a href=\"http://guava-libraries.googlecode.com/\">Guava</a> has methods for converting primitive arrays to Lists of wrapper types. The nice part is that these lists are live views, so operations on them work on the underlying arrays as well (similar to <code>Arrays.asList()</code>, but for primitives).</p>\n\n<p>Anyway, each of these Lists can be passed to <code>Collections.reverse()</code>:</p>\n\n<pre><code>int[] intArr = { 1, 2, 3, 4, 5 };\nfloat[] floatArr = { 1.0f, 2.0f, 3.0f, 4.0f, 5.0f };\ndouble[] doubleArr = { 1.0d, 2.0d, 3.0d, 4.0d, 5.0d };\nbyte[] byteArr = { 1, 2, 3, 4, 5 };\nshort[] shortArr = { 1, 2, 3, 4, 5 };\nCollections.reverse(Ints.asList(intArr));\nCollections.reverse(Floats.asList(floatArr));\nCollections.reverse(Doubles.asList(doubleArr));\nCollections.reverse(Bytes.asList(byteArr));\nCollections.reverse(Shorts.asList(shortArr));\nSystem.out.println(Arrays.toString(intArr));\nSystem.out.println(Arrays.toString(floatArr));\nSystem.out.println(Arrays.toString(doubleArr));\nSystem.out.println(Arrays.toString(byteArr));\nSystem.out.println(Arrays.toString(shortArr));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[5, 4, 3, 2, 1]<br>\n  [5.0, 4.0, 3.0, 2.0, 1.0]<br>\n  [5.0, 4.0, 3.0, 2.0, 1.0]<br>\n  [5, 4, 3, 2, 1]<br>\n  [5, 4, 3, 2, 1]  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":467987,"reputation":39,"user_id":873708,"display_name":"Green Beret"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406849042,"creation_date":1406849042,"answer_id":25070560,"question_id":215271,"body_markdown":"    Double[] d = {5.5, 1.3, 8.8};\r\n    Arrays.sort(d, Collections.reverseOrder());\r\n    System.out.println(Arrays.toString(d));\r\n\r\nCollections.reverseOrder() doesn&#39;t work on primitives, but Double, Integer etc works with Collections.reverseOrder()","title":"Sort large arrays of primitive types in descending order","body":"<pre><code>Double[] d = {5.5, 1.3, 8.8};\nArrays.sort(d, Collections.reverseOrder());\nSystem.out.println(Arrays.toString(d));\n</code></pre>\n\n<p>Collections.reverseOrder() doesn't work on primitives, but Double, Integer etc works with Collections.reverseOrder()</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413961321,"creation_date":1413961321,"answer_id":26501956,"question_id":215271,"body_markdown":"With numerical types, negating the elements before and after sort seems an option. Speed relative to a single reverse after sort depends on cache, and if reverse is not faster, any difference may well be lost in noise.","title":"Sort large arrays of primitive types in descending order","body":"<p>With numerical types, negating the elements before and after sort seems an option. Speed relative to a single reverse after sort depends on cache, and if reverse is not faster, any difference may well be lost in noise.</p>\n"},{"tags":[],"owner":{"account_id":1283505,"reputation":2377,"user_id":1237044,"accept_rate":100,"display_name":"Brandon"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1433780661,"creation_date":1416787398,"answer_id":27095994,"question_id":215271,"body_markdown":"[Java Primitive](https://github.com/mintern-java/primitive#java-primitive) includes functionality for sorting primitive arrays based on a custom comparator. Using it, and Java 8, your sample could be written as:\r\n\r\n    double[] array = new double[1048576];\r\n    ...\r\n    Primitive.sort(array, (d1, d2) -&gt; Double.compare(d2, d1), false);\r\n\r\nIf you&#39;re using Maven, you can include it with:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.mintern&lt;/groupId&gt;\r\n        &lt;artifactId&gt;primitive&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen you pass `false` as the third argument to `sort`, it uses an unstable sort, a simple edit of Java&#39;s built-in [dual-pivot quicksort](https://en.wikipedia.org/wiki/Quicksort#Variants). This means that the speed should be close to that of built-in sorting.\r\n\r\nFull disclosure: I wrote the Java Primitive library.","title":"Sort large arrays of primitive types in descending order","body":"<p><a href=\"https://github.com/mintern-java/primitive#java-primitive\" rel=\"noreferrer\">Java Primitive</a> includes functionality for sorting primitive arrays based on a custom comparator. Using it, and Java 8, your sample could be written as:</p>\n\n<pre><code>double[] array = new double[1048576];\n...\nPrimitive.sort(array, (d1, d2) -&gt; Double.compare(d2, d1), false);\n</code></pre>\n\n<p>If you're using Maven, you can include it with:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.mintern&lt;/groupId&gt;\n    &lt;artifactId&gt;primitive&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When you pass <code>false</code> as the third argument to <code>sort</code>, it uses an unstable sort, a simple edit of Java's built-in <a href=\"https://en.wikipedia.org/wiki/Quicksort#Variants\" rel=\"noreferrer\">dual-pivot quicksort</a>. This means that the speed should be close to that of built-in sorting.</p>\n\n<p>Full disclosure: I wrote the Java Primitive library.</p>\n"},{"tags":[],"owner":{"account_id":7973830,"reputation":141,"user_id":6017611,"display_name":"madfree"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460714007,"creation_date":1460714007,"answer_id":36643885,"question_id":215271,"body_markdown":"I think the easiest solution is still:\r\n\r\n 1. Getting the natural order of the array \r\n 2. Finding the maximum within that sorted array which is then the last item \r\n 3. Using a for-loop with decrement operator\r\n\r\nAs said by others before: using toList is additional effort, Arrays.sort(array,Collections.reverseOrder()) doesn&#39;t work with primitives and using an extra framework seems too complicated when all you need is already inbuild and therefore probably faster as well...\r\n\r\nSample code:\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class SimpleDescending {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            // unsorted array\r\n            int[] integerList = {55, 44, 33, 88, 99};\r\n\r\n            // Getting the natural (ascending) order of the array\r\n            Arrays.sort(integerList);\r\n\r\n            // Getting the last item of the now sorted array (which represents the maximum, in other words: highest number)\r\n            int max = integerList.length-1;\r\n\r\n            // reversing the order with a simple for-loop\r\n            System.out.println(&quot;Array in descending order:&quot;);\r\n            for(int i=max; i&gt;=0; i--) {\r\n                System.out.println(integerList[i]);\r\n            }\r\n\r\n            // You could make the code even shorter skipping the variable max and use\r\n            // &quot;int i=integerList.length-1&quot; instead of int &quot;i=max&quot; in the parentheses of the for-loop\r\n        }\r\n    }","title":"Sort large arrays of primitive types in descending order","body":"<p>I think the easiest solution is still:</p>\n\n<ol>\n<li>Getting the natural order of the array </li>\n<li>Finding the maximum within that sorted array which is then the last item </li>\n<li>Using a for-loop with decrement operator</li>\n</ol>\n\n<p>As said by others before: using toList is additional effort, Arrays.sort(array,Collections.reverseOrder()) doesn't work with primitives and using an extra framework seems too complicated when all you need is already inbuild and therefore probably faster as well...</p>\n\n<p>Sample code:</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class SimpleDescending {\n\n    public static void main(String[] args) {\n\n        // unsorted array\n        int[] integerList = {55, 44, 33, 88, 99};\n\n        // Getting the natural (ascending) order of the array\n        Arrays.sort(integerList);\n\n        // Getting the last item of the now sorted array (which represents the maximum, in other words: highest number)\n        int max = integerList.length-1;\n\n        // reversing the order with a simple for-loop\n        System.out.println(\"Array in descending order:\");\n        for(int i=max; i&gt;=0; i--) {\n            System.out.println(integerList[i]);\n        }\n\n        // You could make the code even shorter skipping the variable max and use\n        // \"int i=integerList.length-1\" instead of int \"i=max\" in the parentheses of the for-loop\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211040,"reputation":5482,"user_id":462990,"accept_rate":38,"display_name":"user462990"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475705630,"creation_date":1471959811,"answer_id":39102936,"question_id":215271,"body_markdown":"for small arrays this may work.\r\n\r\n    int getOrder (double num, double[] array){\r\n        double[] b = new double[array.length];\r\n        for (int i = 0; i &lt; array.length; i++){\r\n            b[i] = array[i];\r\n        }\r\n        Arrays.sort(b);\r\n        for (int i = 0; i &lt; b.length; i++){\r\n            if ( num &lt; b[i]) return i;\r\n        }\r\n        return b.length;\r\n    }\r\n\r\nI was surprised that the initial loading of array b was necessary\r\n\r\n    double[] b = array; // makes b point to array. so beware!\r\n\r\n","title":"Sort large arrays of primitive types in descending order","body":"<p>for small arrays this may work.</p>\n\n<pre><code>int getOrder (double num, double[] array){\n    double[] b = new double[array.length];\n    for (int i = 0; i &lt; array.length; i++){\n        b[i] = array[i];\n    }\n    Arrays.sort(b);\n    for (int i = 0; i &lt; b.length; i++){\n        if ( num &lt; b[i]) return i;\n    }\n    return b.length;\n}\n</code></pre>\n\n<p>I was surprised that the initial loading of array b was necessary</p>\n\n<pre><code>double[] b = array; // makes b point to array. so beware!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8533520,"reputation":251,"user_id":6396218,"display_name":"Shravan Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1478510619,"creation_date":1478510619,"answer_id":40461663,"question_id":215271,"body_markdown":"    Before sorting the given array multiply each element by -1 \r\nthen use Arrays.sort(arr) then again multiply each element by -1\r\n\r\n    for(int i=0;i&lt;arr.length;i++)\r\n        arr[i]=-arr[i];\r\n    Arrays.sort(arr);\r\n    for(int i=0;i&lt;arr.length;i++)\r\n        arr[i]=-arr[i];\r\n\r\n","title":"Sort large arrays of primitive types in descending order","body":"<pre><code>Before sorting the given array multiply each element by -1 \n</code></pre>\n\n<p>then use Arrays.sort(arr) then again multiply each element by -1</p>\n\n<pre><code>for(int i=0;i&lt;arr.length;i++)\n    arr[i]=-arr[i];\nArrays.sort(arr);\nfor(int i=0;i&lt;arr.length;i++)\n    arr[i]=-arr[i];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188557,"reputation":4221,"user_id":2693476,"accept_rate":75,"display_name":"tanghao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485573658,"creation_date":1485573658,"answer_id":41906001,"question_id":215271,"body_markdown":"If using java8, just convert array to stream, sort and convert back.\r\nAll of the tasks can be done just in one line, so I feel this way is not too bad.\r\n\r\n    double[] nums = Arrays.stream(nums).boxed().\r\n            .sorted((i1, i2) -&gt; Double.compare(i2, i1))\r\n            .mapToDouble(Double::doubleValue)\r\n            .toArray();","title":"Sort large arrays of primitive types in descending order","body":"<p>If using java8, just convert array to stream, sort and convert back.\nAll of the tasks can be done just in one line, so I feel this way is not too bad.</p>\n\n<pre><code>double[] nums = Arrays.stream(nums).boxed().\n        .sorted((i1, i2) -&gt; Double.compare(i2, i1))\n        .mapToDouble(Double::doubleValue)\n        .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11500131,"reputation":1,"user_id":8428191,"display_name":"Catalin Pit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507665491,"creation_date":1507665491,"answer_id":46674965,"question_id":215271,"body_markdown":"Below is my solution, you can adapt it to your needs. \r\n\r\nHow does it work? It takes an array of integers as arguments. After that it will create a new array which will contain the same values as the array from the arguments. The reason of doing this is to leave the original array intact.\r\n\r\nOnce the new array contains the copied data, we sort it by swapping the values until the condition *if(newArr[i] &lt; newArr[i+1])* evaluates to false. That means the array is sorted in descending order.\r\n\r\nFor a thorough explanation check my blog post [here][1].\r\n\r\n\tpublic static int[] sortDescending(int[] array)\r\n\t{\r\n\t\tint[] newArr = new int[array.length];\r\n\r\n\t\tfor(int i = 0; i &lt; array.length; i++)\r\n\t\t{\r\n\t\t\tnewArr[i] = array[i];\r\n\t\t}\r\n\r\n\t\tboolean flag = true;\r\n\t\tint tempValue;\r\n\r\n\t\twhile(flag) \r\n\t\t{\r\n\t\t\tflag = false;\r\n\r\n\t\t\tfor(int i = 0; i &lt; newArr.length - 1; i++) \r\n\t\t\t{\r\n\t\t\t\tif(newArr[i] &lt; newArr[i+1])\r\n\t\t\t\t{\r\n\t\t\t\t\ttempValue = newArr[i];\r\n\t\t\t\t\tnewArr[i] = newArr[i+1];\r\n\t\t\t\t\tnewArr[i+1] = tempValue;\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newArr;\r\n\t}\r\n\r\n\r\n  [1]: http://csforfun.com/llsn-sort-array-descending-order","title":"Sort large arrays of primitive types in descending order","body":"<p>Below is my solution, you can adapt it to your needs. </p>\n\n<p>How does it work? It takes an array of integers as arguments. After that it will create a new array which will contain the same values as the array from the arguments. The reason of doing this is to leave the original array intact.</p>\n\n<p>Once the new array contains the copied data, we sort it by swapping the values until the condition <em>if(newArr[i] &lt; newArr[i+1])</em> evaluates to false. That means the array is sorted in descending order.</p>\n\n<p>For a thorough explanation check my blog post <a href=\"http://csforfun.com/llsn-sort-array-descending-order\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>public static int[] sortDescending(int[] array)\n{\n    int[] newArr = new int[array.length];\n\n    for(int i = 0; i &lt; array.length; i++)\n    {\n        newArr[i] = array[i];\n    }\n\n    boolean flag = true;\n    int tempValue;\n\n    while(flag) \n    {\n        flag = false;\n\n        for(int i = 0; i &lt; newArr.length - 1; i++) \n        {\n            if(newArr[i] &lt; newArr[i+1])\n            {\n                tempValue = newArr[i];\n                newArr[i] = newArr[i+1];\n                newArr[i+1] = tempValue;\n                flag = true;\n            }\n        }\n    }\n\n    return newArr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473811,"reputation":139,"user_id":9080948,"display_name":"alamshahbaz16497"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533879450,"creation_date":1519678608,"answer_id":48996951,"question_id":215271,"body_markdown":"In Java 8, a better and more concise approach could be:\r\n\r\n    double[] arr = {13.6, 7.2, 6.02, 45.8, 21.09, 9.12, 2.53, 100.4};\r\n\r\n    Double[] boxedarr = Arrays.stream( arr ).boxed().toArray( Double[]::new );\r\n    Arrays.sort(boxedarr, Collections.reverseOrder());\r\n    System.out.println(Arrays.toString(boxedarr));\r\n\r\nThis would give the reversed array and is more presentable.\r\n\r\nInput: [13.6, 7.2, 6.02, 45.8, 21.09, 9.12, 2.53, 100.4]\r\n\r\nOutput: [100.4, 45.8, 21.09, 13.6, 9.12, 7.2, 6.02, 2.53]","title":"Sort large arrays of primitive types in descending order","body":"<p>In Java 8, a better and more concise approach could be:</p>\n\n<pre><code>double[] arr = {13.6, 7.2, 6.02, 45.8, 21.09, 9.12, 2.53, 100.4};\n\nDouble[] boxedarr = Arrays.stream( arr ).boxed().toArray( Double[]::new );\nArrays.sort(boxedarr, Collections.reverseOrder());\nSystem.out.println(Arrays.toString(boxedarr));\n</code></pre>\n\n<p>This would give the reversed array and is more presentable.</p>\n\n<p>Input: [13.6, 7.2, 6.02, 45.8, 21.09, 9.12, 2.53, 100.4]</p>\n\n<p>Output: [100.4, 45.8, 21.09, 13.6, 9.12, 7.2, 6.02, 2.53]</p>\n"},{"tags":[],"owner":{"account_id":2620532,"reputation":1,"user_id":2268647,"display_name":"MJA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539164722,"creation_date":1539164722,"answer_id":52737272,"question_id":215271,"body_markdown":"Understand it&#39;s a very old post but I stumbled upon a similar problem trying to sort primitive int arrays, so posting my solution. Suggestions/comments welcome -\r\n\r\n    int[] arr = {3,2,1,3};\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    Arrays.stream(arr).forEach(i -&gt; list.add(i));\r\n    list.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println);","title":"Sort large arrays of primitive types in descending order","body":"<p>Understand it's a very old post but I stumbled upon a similar problem trying to sort primitive int arrays, so posting my solution. Suggestions/comments welcome -</p>\n\n<pre><code>int[] arr = {3,2,1,3};\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nArrays.stream(arr).forEach(i -&gt; list.add(i));\nlist.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6767703,"reputation":1,"user_id":5212179,"display_name":"Shubham Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542703695,"creation_date":1542648782,"answer_id":53379879,"question_id":215271,"body_markdown":"\t\r\n\tdouble s =-1;\r\n\t   double[] n = {111.5, 111.2, 110.5, 101.3, 101.9, 102.1, 115.2, 112.1};\r\n\t   for(int i = n.length-1;i&gt;=0;--i){\r\n\t\t  int k = i-1;\r\n\t\t  while(k &gt;= 0){\r\n\t\t\t  if(n[i]&gt;n[k]){\r\n\t\t\t\t  s = n[k];\r\n\t\t\t\t  n[k] = n[i];\r\n\t\t\t\t  n[i] = s;\r\n\t\t\t  }\r\n\t\t\t  k --;\r\n\t\t  }\r\n\t   }\r\n\t   System.out.println(Arrays.toString(n));\r\n     it gives time complexity O(n^2) but i hope its work","title":"Sort large arrays of primitive types in descending order","body":"<pre><code>double s =-1;\n   double[] n = {111.5, 111.2, 110.5, 101.3, 101.9, 102.1, 115.2, 112.1};\n   for(int i = n.length-1;i&gt;=0;--i){\n      int k = i-1;\n      while(k &gt;= 0){\n          if(n[i]&gt;n[k]){\n              s = n[k];\n              n[k] = n[i];\n              n[i] = s;\n          }\n          k --;\n      }\n   }\n   System.out.println(Arrays.toString(n));\n it gives time complexity O(n^2) but i hope its work\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13151196,"reputation":161,"user_id":9499784,"display_name":"Murtaza Patrawala"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1571670214,"creation_date":1571670214,"answer_id":58489083,"question_id":215271,"body_markdown":"Heres a one-liner, using streams in Java 8\r\n\r\n    \r\n    \r\n\r\n    int arr = new int[]{1,2,3,4,5};\r\n    Arrays.stream(arr).boxed().sorted(Collections.reverseOrder()).mapToInt(Integer::intValue).toArray();","title":"Sort large arrays of primitive types in descending order","body":"<p>Heres a one-liner, using streams in Java 8</p>\n\n<pre><code>int arr = new int[]{1,2,3,4,5};\nArrays.stream(arr).boxed().sorted(Collections.reverseOrder()).mapToInt(Integer::intValue).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4435037,"reputation":985,"user_id":3611104,"display_name":"Ankit Marothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601627536,"creation_date":1601627536,"answer_id":64168465,"question_id":215271,"body_markdown":"Here&#39;s a full program that sorts objects based on a inner field.\r\n\r\n    package Algorithms.BranchAndBound;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class KnapSack01 {\r\n        private class ItemVals {\r\n            double weight;\r\n            double cost;\r\n            double ratio;\r\n    \r\n            public ItemVals(double weight, double cost) {\r\n                this.weight = weight;\r\n                this.cost = cost;\r\n                this.ratio = weight/cost;\r\n            }\r\n        }\r\n    \r\n        public ItemVals[] createSortedItemVals(double[] weight, double[] cost) {\r\n            ItemVals[] itemVals = new ItemVals[weight.length];\r\n            for(int i = 0; i &lt; weight.length; i++) {\r\n                ItemVals itemval = new ItemVals(weight[i], cost[i]);\r\n                itemVals[i] = itemval;\r\n            }\r\n            Arrays.sort(itemVals, new Comparator&lt;ItemVals&gt;() {\r\n                @Override\r\n                public int compare(ItemVals o1, ItemVals o2) {\r\n                    return Double.compare(o2.ratio, o1.ratio);\r\n                }\r\n            });\r\n            return itemVals;\r\n        }\r\n    \r\n        public void printItemVals(ItemVals[] itemVals) {\r\n            for (int i = 0; i &lt; itemVals.length; i++) {\r\n                System.out.println(itemVals[i].ratio);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            KnapSack01 knapSack01 = new KnapSack01();\r\n            double[] weight = {2, 3.14, 1.98, 5, 3};\r\n            double[] cost = {40, 50, 100, 95, 30};\r\n            ItemVals[] itemVals = knapSack01.createSortedItemVals(weight, cost);\r\n            knapSack01.printItemVals(itemVals);\r\n        }\r\n    }\r\n\r\n","title":"Sort large arrays of primitive types in descending order","body":"<p>Here's a full program that sorts objects based on a inner field.</p>\n<pre><code>package Algorithms.BranchAndBound;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\npublic class KnapSack01 {\n    private class ItemVals {\n        double weight;\n        double cost;\n        double ratio;\n\n        public ItemVals(double weight, double cost) {\n            this.weight = weight;\n            this.cost = cost;\n            this.ratio = weight/cost;\n        }\n    }\n\n    public ItemVals[] createSortedItemVals(double[] weight, double[] cost) {\n        ItemVals[] itemVals = new ItemVals[weight.length];\n        for(int i = 0; i &lt; weight.length; i++) {\n            ItemVals itemval = new ItemVals(weight[i], cost[i]);\n            itemVals[i] = itemval;\n        }\n        Arrays.sort(itemVals, new Comparator&lt;ItemVals&gt;() {\n            @Override\n            public int compare(ItemVals o1, ItemVals o2) {\n                return Double.compare(o2.ratio, o1.ratio);\n            }\n        });\n        return itemVals;\n    }\n\n    public void printItemVals(ItemVals[] itemVals) {\n        for (int i = 0; i &lt; itemVals.length; i++) {\n            System.out.println(itemVals[i].ratio);\n        }\n    }\n\n    public static void main(String[] args) {\n        KnapSack01 knapSack01 = new KnapSack01();\n        double[] weight = {2, 3.14, 1.98, 5, 3};\n        double[] cost = {40, 50, 100, 95, 30};\n        ItemVals[] itemVals = knapSack01.createSortedItemVals(weight, cost);\n        knapSack01.printItemVals(itemVals);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3044,"reputation":12476,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126985,"favorite_count":0,"down_vote_count":1,"up_vote_count":65,"accepted_answer_id":27095994,"answer_count":22,"score":64,"last_activity_date":1662978106,"creation_date":1224348790,"question_id":215271,"body_markdown":"I&#39;ve got a **large** array of primitive types (double).\r\nHow do I sort the elements in **descending order**?\r\n\r\nUnfortunately the Java API doesn&#39;t support sorting of **primitive** types with a Comparator.\r\n\r\nThe first approach that probably comes to mind is to convert it to a list of objects (boxing):\r\n\r\n    double[] array = new double[1048576];    \r\n    Arrays.stream(array).boxed().sorted(Collections.reverseOrder())…\r\n\r\nThis solution is probably good enough for many (or even most) use cases but **boxing** each primitive in the array is **too slow and causes a lot of GC pressure** if the array is large!\r\n\r\nAnother approach would be to sort and then reverse:\r\n\r\n    double[] array = new double[1048576];\r\n    ...\r\n    Arrays.sort(array);\r\n    // reverse the array\r\n    for (int i = 0; i &lt; array.length / 2; i++) {\r\n         // swap the elements\r\n         double temp = array[i];\r\n         array[i] = array[array.length - (i + 1)];\r\n         array[array.length - (i + 1)] = temp;\r\n    }\r\n       \r\n**This approach can also be too slow** if the array is already sorted quite well.\r\n\r\nWhat&#39;s a better alternative if the arrays are large and performance is the major optimization goal?","title":"Sort large arrays of primitive types in descending order","body":"<p>I've got a <strong>large</strong> array of primitive types (double).\nHow do I sort the elements in <strong>descending order</strong>?</p>\n<p>Unfortunately the Java API doesn't support sorting of <strong>primitive</strong> types with a Comparator.</p>\n<p>The first approach that probably comes to mind is to convert it to a list of objects (boxing):</p>\n<pre><code>double[] array = new double[1048576];    \nArrays.stream(array).boxed().sorted(Collections.reverseOrder())…\n</code></pre>\n<p>This solution is probably good enough for many (or even most) use cases but <strong>boxing</strong> each primitive in the array is <strong>too slow and causes a lot of GC pressure</strong> if the array is large!</p>\n<p>Another approach would be to sort and then reverse:</p>\n<pre><code>double[] array = new double[1048576];\n...\nArrays.sort(array);\n// reverse the array\nfor (int i = 0; i &lt; array.length / 2; i++) {\n     // swap the elements\n     double temp = array[i];\n     array[i] = array[array.length - (i + 1)];\n     array[array.length - (i + 1)] = temp;\n}\n   \n</code></pre>\n<p><strong>This approach can also be too slow</strong> if the array is already sorted quite well.</p>\n<p>What's a better alternative if the arrays are large and performance is the major optimization goal?</p>\n"},{"tags":["java","amazon-web-services","lambda","jackson","jackson2"],"answers":[{"tags":[],"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478964192,"creation_date":1478963465,"answer_id":40564222,"question_id":40564031,"body_markdown":"Provided that &quot;model&quot; and &quot;field&quot; will always be objects, and not arrays, you could use a `Map&lt;String, Object&gt;` for them. For child objects, simply add other maps as the value.\r\n\r\n    private String name;\r\n    private Map&lt;String, Object&gt; model;\r\n    private Map&lt;String, Object&gt; field;","title":"Jackson JsonNode Serialization","body":"<p>Provided that \"model\" and \"field\" will always be objects, and not arrays, you could use a <code>Map&lt;String, Object&gt;</code> for them. For child objects, simply add other maps as the value.</p>\n\n<pre><code>private String name;\nprivate Map&lt;String, Object&gt; model;\nprivate Map&lt;String, Object&gt; field;\n</code></pre>\n"}],"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2729,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1662977573,"creation_date":1478962212,"question_id":40564031,"body_markdown":"I&#39;m using [AWS Lambda][1] with a Java 8 function. Lambda has a builtin Jackson Serializer so when your method returns an object it serializes it to a JSON representation.\r\n\r\nI have an object that is made up of the following properties:\r\n\r\n    private String name;\r\n    private JsonNode model;\r\n    private JsonNode field;\r\n\r\n&gt; I&#39;ve omitted all the rest of the class for simplicity but it has getters / setters etc.\r\n\r\nNormally when I run this in my native application it works perfectly. The `JsonNode` Tree structure is rendered as a JSON. For example:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;example&quot;,\r\n        &quot;model&quot;: {\r\n            &quot;key&quot;: &quot;ipAddress&quot;,\r\n            &quot;type&quot;: &quot;input&quot;,\r\n            &quot;templateOptions&quot;: {\r\n                &quot;label&quot;: &quot;IP&quot;,\r\n                &quot;placeholder&quot;: &quot;Something&quot;,\r\n                &quot;description&quot;: &quot;The IP address.&quot;,\r\n                &quot;required&quot;: true\r\n            }\r\n        },\r\n        &quot;field&quot;: {\r\n            &quot;key&quot;: &quot;pro&quot;,\r\n            &quot;type&quot;: &quot;input&quot;,\r\n            &quot;templateOptions&quot;: {\r\n                &quot;label&quot;: &quot;Pro&quot;,\r\n                &quot;placeholder&quot;: &quot;Something&quot;,\r\n                &quot;description&quot;: &quot;Pro Example&quot;,\r\n                &quot;required&quot;: false\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, for some unknown reason when I run this in Lambda the actual JsonNode object itself (not the tree but the wrapper object) is serialized. So I&#39;m getting this instead:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;example&quot;,\r\n      &quot;model&quot;: {\r\n        &quot;nodeType&quot;: &quot;NULL&quot;,\r\n        &quot;array&quot;: false,\r\n        &quot;null&quot;: true,\r\n        &quot;valueNode&quot;: true,\r\n        &quot;containerNode&quot;: false,\r\n        &quot;missingNode&quot;: false,\r\n        &quot;object&quot;: false,\r\n        &quot;pojo&quot;: false,\r\n        &quot;number&quot;: false,\r\n        &quot;integralNumber&quot;: false,\r\n        &quot;floatingPointNumber&quot;: false,\r\n        &quot;short&quot;: false,\r\n        &quot;int&quot;: false,\r\n        &quot;long&quot;: false,\r\n        &quot;float&quot;: false,\r\n        &quot;double&quot;: false,\r\n        &quot;bigDecimal&quot;: false,\r\n        &quot;bigInteger&quot;: false,\r\n        &quot;textual&quot;: false,\r\n        &quot;boolean&quot;: false,\r\n        &quot;binary&quot;: false\r\n      },\r\n      &quot;fields&quot;: {\r\n        &quot;nodeType&quot;: &quot;ARRAY&quot;,\r\n        &quot;array&quot;: true,\r\n        &quot;null&quot;: false,\r\n        &quot;valueNode&quot;: false,\r\n        &quot;containerNode&quot;: true,\r\n        &quot;missingNode&quot;: false,\r\n        &quot;object&quot;: false,\r\n        &quot;pojo&quot;: false,\r\n        &quot;number&quot;: false,\r\n        &quot;integralNumber&quot;: false,\r\n        &quot;floatingPointNumber&quot;: false,\r\n        &quot;short&quot;: false,\r\n        &quot;int&quot;: false,\r\n        &quot;long&quot;: false,\r\n        &quot;float&quot;: false,\r\n        &quot;double&quot;: false,\r\n        &quot;bigDecimal&quot;: false,\r\n        &quot;bigInteger&quot;: false,\r\n        &quot;textual&quot;: false,\r\n        &quot;boolean&quot;: false,\r\n        &quot;binary&quot;: false\r\n      },\r\n      &quot;schedule&quot;: &quot;0 0/1 * 1/1 * ? *&quot;\r\n    }\r\n\r\nDoes anybody have any insight as to why this is happening and any suggestions for solutions / workarounds?\r\n\r\nUPDATE:\r\n\r\nI&#39;m specifically using a JsonNode because the `model` and `field` are dynamic and are provided at runtime. So I wont know the structure ahead of time.\r\n\r\n  [1]: http://docs.aws.amazon.com/lambda/latest/dg/welcome.html","title":"Jackson JsonNode Serialization","body":"<p>I'm using <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/welcome.html\" rel=\"nofollow noreferrer\">AWS Lambda</a> with a Java 8 function. Lambda has a builtin Jackson Serializer so when your method returns an object it serializes it to a JSON representation.</p>\n<p>I have an object that is made up of the following properties:</p>\n<pre><code>private String name;\nprivate JsonNode model;\nprivate JsonNode field;\n</code></pre>\n<blockquote>\n<p>I've omitted all the rest of the class for simplicity but it has getters / setters etc.</p>\n</blockquote>\n<p>Normally when I run this in my native application it works perfectly. The <code>JsonNode</code> Tree structure is rendered as a JSON. For example:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;example&quot;,\n    &quot;model&quot;: {\n        &quot;key&quot;: &quot;ipAddress&quot;,\n        &quot;type&quot;: &quot;input&quot;,\n        &quot;templateOptions&quot;: {\n            &quot;label&quot;: &quot;IP&quot;,\n            &quot;placeholder&quot;: &quot;Something&quot;,\n            &quot;description&quot;: &quot;The IP address.&quot;,\n            &quot;required&quot;: true\n        }\n    },\n    &quot;field&quot;: {\n        &quot;key&quot;: &quot;pro&quot;,\n        &quot;type&quot;: &quot;input&quot;,\n        &quot;templateOptions&quot;: {\n            &quot;label&quot;: &quot;Pro&quot;,\n            &quot;placeholder&quot;: &quot;Something&quot;,\n            &quot;description&quot;: &quot;Pro Example&quot;,\n            &quot;required&quot;: false\n        }\n    }\n}\n</code></pre>\n<p>However, for some unknown reason when I run this in Lambda the actual JsonNode object itself (not the tree but the wrapper object) is serialized. So I'm getting this instead:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;example&quot;,\n  &quot;model&quot;: {\n    &quot;nodeType&quot;: &quot;NULL&quot;,\n    &quot;array&quot;: false,\n    &quot;null&quot;: true,\n    &quot;valueNode&quot;: true,\n    &quot;containerNode&quot;: false,\n    &quot;missingNode&quot;: false,\n    &quot;object&quot;: false,\n    &quot;pojo&quot;: false,\n    &quot;number&quot;: false,\n    &quot;integralNumber&quot;: false,\n    &quot;floatingPointNumber&quot;: false,\n    &quot;short&quot;: false,\n    &quot;int&quot;: false,\n    &quot;long&quot;: false,\n    &quot;float&quot;: false,\n    &quot;double&quot;: false,\n    &quot;bigDecimal&quot;: false,\n    &quot;bigInteger&quot;: false,\n    &quot;textual&quot;: false,\n    &quot;boolean&quot;: false,\n    &quot;binary&quot;: false\n  },\n  &quot;fields&quot;: {\n    &quot;nodeType&quot;: &quot;ARRAY&quot;,\n    &quot;array&quot;: true,\n    &quot;null&quot;: false,\n    &quot;valueNode&quot;: false,\n    &quot;containerNode&quot;: true,\n    &quot;missingNode&quot;: false,\n    &quot;object&quot;: false,\n    &quot;pojo&quot;: false,\n    &quot;number&quot;: false,\n    &quot;integralNumber&quot;: false,\n    &quot;floatingPointNumber&quot;: false,\n    &quot;short&quot;: false,\n    &quot;int&quot;: false,\n    &quot;long&quot;: false,\n    &quot;float&quot;: false,\n    &quot;double&quot;: false,\n    &quot;bigDecimal&quot;: false,\n    &quot;bigInteger&quot;: false,\n    &quot;textual&quot;: false,\n    &quot;boolean&quot;: false,\n    &quot;binary&quot;: false\n  },\n  &quot;schedule&quot;: &quot;0 0/1 * 1/1 * ? *&quot;\n}\n</code></pre>\n<p>Does anybody have any insight as to why this is happening and any suggestions for solutions / workarounds?</p>\n<p>UPDATE:</p>\n<p>I'm specifically using a JsonNode because the <code>model</code> and <code>field</code> are dynamic and are provided at runtime. So I wont know the structure ahead of time.</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1662974458,"post_id":73686940,"comment_id":130121693,"body_markdown":"Locale in this instance means &quot;parse the text according to the language conventions of that country&quot;, not &quot;parse the text according to the timezone of that country&quot;. The zone in all 3 cases is BST - British Summer Time. You might, for example, want to parse a date written in French (Monday = Lundi) representing a date in a British timezone.","body":"Locale in this instance means &quot;parse the text according to the language conventions of that country&quot;, not &quot;parse the text according to the timezone of that country&quot;. The zone in all 3 cases is BST - British Summer Time. You might, for example, want to parse a date written in French (Monday = Lundi) representing a date in a British timezone."},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1662974526,"post_id":73686940,"comment_id":130121713,"body_markdown":"@Michael The US and EN outputs show a *different* time (1pm instead of 11pm).","body":"@Michael The US and EN outputs show a <i>different</i> time (1pm instead of 11pm)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662974577,"post_id":73686940,"comment_id":130121734,"body_markdown":"What is the &quot;correct&quot; time zone of US?? ;) ..And what is the &quot;correct&quot; time zone of &quot;English&quot;?","body":"What is the &quot;correct&quot; time zone of US?? ;) ..And what is the &quot;correct&quot; time zone of &quot;English&quot;?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1662974584,"post_id":73686940,"comment_id":130121738,"body_markdown":"@KonradRudolph Missed it, but cannot reproduce. On my machine, jdk8.0.275, the output is the same in all 3 cases.","body":"@KonradRudolph Missed it, but cannot reproduce. On my machine, jdk8.0.275, the output is the same in all 3 cases."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662974595,"post_id":73686940,"comment_id":130121743,"body_markdown":"..answer: it is ambiguous","body":"..answer: it is ambiguous"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662974663,"post_id":73686940,"comment_id":130121759,"body_markdown":"..whereas &quot;UK&quot; covers one single time zone!(?)","body":"..whereas &quot;UK&quot; covers one single time zone!(?)"},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1662974702,"post_id":73686940,"comment_id":130121770,"body_markdown":"@xerx593 See my comment further up.","body":"@xerx593 See my comment further up."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1662974746,"post_id":73686940,"comment_id":130121784,"body_markdown":"Strange: if I run this on JDK 17, the first case fails with a parse exception. For UK, the parser for some reason expects &quot;Sept&quot; instead of &quot;Sep&quot; (apparently that is how the British abbreviate September). But when I fix that, it returns the same result for all three cases.","body":"Strange: if I run this on JDK 17, the first case fails with a parse exception. For UK, the parser for some reason expects &quot;Sept&quot; instead of &quot;Sep&quot; (apparently that is how the British abbreviate September). But when I fix that, it returns the same result for all three cases."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1662974894,"post_id":73686940,"comment_id":130121852,"body_markdown":"@Jesper https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale/69268271#69268271","body":"@Jesper <a href=\"https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale/69268271#69268271\" title=\"septembers short form sep no longer parses in java 17 in en gb locale\">stackoverflow.com/questions/69267710/&hellip;</a>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1662975327,"post_id":73686940,"comment_id":130122019,"body_markdown":"Suspect your problem is that BST is parsing to Bourgainville Standard Time, not British Standard Time. &quot;BST&quot; is ambiguous. Cannot account for the output being different between the 3 cases. I&#39;m assuming a transcription error or something. Doesn&#39;t seem possible. `ZonedDateTime.from(formatter.parse(s)).getZone() = Pacific/Bougainville`","body":"Suspect your problem is that BST is parsing to Bourgainville Standard Time, not British Standard Time. &quot;BST&quot; is ambiguous. Cannot account for the output being different between the 3 cases. I&#39;m assuming a transcription error or something. Doesn&#39;t seem possible. <code>ZonedDateTime.from(formatter.parse(s)).getZone() = Pacific&#47;Bougainville</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663083236,"post_id":73686940,"comment_id":130153578,"body_markdown":"BST may, as a third possibility, be parsed as Bangladesh Standard Time. I don’t know whether there are still more possibilities.","body":"BST may, as a third possibility, be parsed as Bangladesh Standard Time. I don’t know whether there are still more possibilities."}],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1662975225,"answer_count":0,"score":1,"last_activity_date":1662977108,"creation_date":1662973908,"question_id":73686940,"body_markdown":"I&#39;m trying to parse a date with three Locales: UK, US, ENGLISH.\r\n\r\n\t String s = &quot;Mon Sep 12 00:02:16 BST 2022&quot;;\r\n\t DateTimeFormatter formatter = null;\r\n\t String pattern = &quot;E MMM dd H:m:s z yyyy&quot;;\r\n\t formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.UK);\r\n\t System.out.println(&quot;UK: &quot; + Instant.from(formatter.parse(s)));\r\n\t formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.US);\r\n\t System.out.println(&quot;US: &quot; + Instant.from(formatter.parse(s)));\r\n\t formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.ENGLISH);\r\n\t System.out.println(&quot;EN: &quot; + Instant.from(formatter.parse(s)));\r\n\r\nResult:\r\n\r\n    UK: 2022-09-11T23:02:16Z\r\n    US: 2022-09-11T13:02:16Z\r\n    EN: 2022-09-11T13:02:16Z\r\n\r\nUK is correct. Both US and ENGLISH are wrong. Why?\r\n\r\nEdit : test was made on Windows 10. openjdk 11.","title":"Parsing DateTime with different Locales gives two different Instants","body":"<p>I'm trying to parse a date with three Locales: UK, US, ENGLISH.</p>\n<pre><code> String s = &quot;Mon Sep 12 00:02:16 BST 2022&quot;;\n DateTimeFormatter formatter = null;\n String pattern = &quot;E MMM dd H:m:s z yyyy&quot;;\n formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.UK);\n System.out.println(&quot;UK: &quot; + Instant.from(formatter.parse(s)));\n formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.US);\n System.out.println(&quot;US: &quot; + Instant.from(formatter.parse(s)));\n formatter = DateTimeFormatter.ofPattern(pattern).withLocale(Locale.ENGLISH);\n System.out.println(&quot;EN: &quot; + Instant.from(formatter.parse(s)));\n</code></pre>\n<p>Result:</p>\n<pre><code>UK: 2022-09-11T23:02:16Z\nUS: 2022-09-11T13:02:16Z\nEN: 2022-09-11T13:02:16Z\n</code></pre>\n<p>UK is correct. Both US and ENGLISH are wrong. Why?</p>\n<p>Edit : test was made on Windows 10. openjdk 11.</p>\n"},{"tags":["java","java-8","datetime-format","java-time","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1560714073,"post_id":56602665,"comment_id":99817032,"body_markdown":"It’s not a duplicate. That other question is about `ZoneId.SHORT_IDS`, while this one is about `DateTimeFormatter`. They don’t interpret BST in the same way, and the way to persuade each to interpret it as British Summer Time is quite different.","body":"It’s not a duplicate. That other question is about <code>ZoneId.SHORT_IDS</code>, while this one is about <code>DateTimeFormatter</code>. They don’t interpret BST in the same way, and the way to persuade each to interpret it as British Summer Time is quite different."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1560714216,"post_id":56602665,"comment_id":99817070,"body_markdown":"Are you sure you want `kk` for hour from 01 through 24 in your format pattern string? `HH` for hour from 00 through 23 would be more conventional.","body":"Are you sure you want <code>kk</code> for hour from 01 through 24 in your format pattern string? <code>HH</code> for hour from 00 through 23 would be more conventional."}],"answers":[{"tags":[],"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560533070,"creation_date":1560533070,"answer_id":56602739,"question_id":56602665,"body_markdown":"According to https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html#SHORT_IDS:\r\n \r\n&gt; BST - Asia/Dhaka\r\n\r\nSo I guess you should not use that abbreviation. \r\n\r\nEDIT: Just found this [question][1], which answers it. \r\n\r\nSo don&#39;t use Bangladesh Standard Time ;) Instead use `ZoneId.of(&quot;Europe/London&quot;)`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44570166/what-does-javas-bst-zoneid-represent","title":"Java8 time library does not interpret BST timezone correctly","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html#SHORT_IDS\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html#SHORT_IDS</a>:</p>\n\n<blockquote>\n  <p>BST - Asia/Dhaka</p>\n</blockquote>\n\n<p>So I guess you should not use that abbreviation. </p>\n\n<p>EDIT: Just found this <a href=\"https://stackoverflow.com/questions/44570166/what-does-javas-bst-zoneid-represent\">question</a>, which answers it. </p>\n\n<p>So don't use Bangladesh Standard Time ;) Instead use <code>ZoneId.of(\"Europe/London\")</code></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560787563,"creation_date":1560715026,"answer_id":56622189,"question_id":56602665,"body_markdown":"First, you’re trying to solve a task that cannot be solved. Three letter time zone abbreviations are ambiguous, I think more often than not. So if you solve the issue for Europe/London, you will have it again when you meet EST, IST, CST, CDT, PST, WST, and so on and so forth. Or when you meet a string where BST was intended to mean Brazil Summer Time, Bangladesh Standard Time or Bougainville Standard Time. Still more interpretations exist. Instead get an unambiguous string like one with a UTC offset rather than a time zone abbreviation, best a string in ISO 8601 format like `2019-06-07T14:07:07+01:00`.\r\n\r\nBut if you’re sure that BST will always mean British Summer Time in your world, the short-sighted solution may be to tell the `DateTimeFormatter` which time zone/s you prefer:\r\n\r\n\t\tString sTime = &quot;Fri Jun 07 14:07:07 BST 2019&quot;;\r\n\t    ZoneId preferredZone = ZoneId.of(&quot;Europe/London&quot;);\r\n\t\tDateTimeFormatter FORMATTER = new DateTimeFormatterBuilder()\r\n\t    \t\t.appendPattern(&quot;EEE MMM dd HH:mm:ss &quot;)\r\n\t    \t\t.appendZoneText(TextStyle.SHORT, Collections.singleton(preferredZone))\r\n\t    \t\t.appendPattern(&quot; yyyy&quot;)\r\n\t    \t\t.toFormatter(Locale.ROOT);\r\n\t    ZonedDateTime zd = ZonedDateTime.parse(sTime, FORMATTER);\r\n\t    System.out.println(&quot;The time zone: &quot; + zd.getZone());\r\n\t    FileTime ftReturn = FileTime.from(zd.toEpochSecond(), TimeUnit.SECONDS);\r\n\t    System.out.println(&quot;File time is: &quot; + ftReturn);\r\n\r\nOutput is:\r\n\r\n&gt;     The time zone: Europe/London\r\n&gt;     File time is: 2019-06-07T13:07:07Z\r\n\r\n**Links**\r\n\r\n - [Time Zone Abbreviations – Worldwide List](https://www.timeanddate.com/time/zones/)\r\n - [Documentation of the two-arg `DateTimeFormatterBuilder.appendZoneText`](https://docs.oracle.com/javase/9/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendZoneText-java.time.format.TextStyle-java.util.Set-)\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)","title":"Java8 time library does not interpret BST timezone correctly","body":"<p>First, you’re trying to solve a task that cannot be solved. Three letter time zone abbreviations are ambiguous, I think more often than not. So if you solve the issue for Europe/London, you will have it again when you meet EST, IST, CST, CDT, PST, WST, and so on and so forth. Or when you meet a string where BST was intended to mean Brazil Summer Time, Bangladesh Standard Time or Bougainville Standard Time. Still more interpretations exist. Instead get an unambiguous string like one with a UTC offset rather than a time zone abbreviation, best a string in ISO 8601 format like <code>2019-06-07T14:07:07+01:00</code>.</p>\n\n<p>But if you’re sure that BST will always mean British Summer Time in your world, the short-sighted solution may be to tell the <code>DateTimeFormatter</code> which time zone/s you prefer:</p>\n\n<pre><code>    String sTime = \"Fri Jun 07 14:07:07 BST 2019\";\n    ZoneId preferredZone = ZoneId.of(\"Europe/London\");\n    DateTimeFormatter FORMATTER = new DateTimeFormatterBuilder()\n            .appendPattern(\"EEE MMM dd HH:mm:ss \")\n            .appendZoneText(TextStyle.SHORT, Collections.singleton(preferredZone))\n            .appendPattern(\" yyyy\")\n            .toFormatter(Locale.ROOT);\n    ZonedDateTime zd = ZonedDateTime.parse(sTime, FORMATTER);\n    System.out.println(\"The time zone: \" + zd.getZone());\n    FileTime ftReturn = FileTime.from(zd.toEpochSecond(), TimeUnit.SECONDS);\n    System.out.println(\"File time is: \" + ftReturn);\n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n<pre><code>The time zone: Europe/London\nFile time is: 2019-06-07T13:07:07Z\n</code></pre>\n</blockquote>\n\n<p><strong>Links</strong></p>\n\n<ul>\n<li><a href=\"https://www.timeanddate.com/time/zones/\" rel=\"nofollow noreferrer\">Time Zone Abbreviations – Worldwide List</a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendZoneText-java.time.format.TextStyle-java.util.Set-\" rel=\"nofollow noreferrer\">Documentation of the two-arg <code>DateTimeFormatterBuilder.appendZoneText</code></a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662976498,"creation_date":1662976498,"answer_id":73687460,"question_id":56602665,"body_markdown":"BST is ambiguous, as are many such abbreviations for timezones.\r\n\r\nThis solution is not great, but if you absolutely *have* to give precedence to BST to mean British Summer Time then you could just check whether the string contains that zone, and if it does, remove the zone and apply it manually.\r\n\r\n    String s = &quot;Fri Jun 07 14:07:07 BST 2019&quot;;\r\n    if (s.contains(&quot; BST &quot;)) { // Check could be improved\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss yyyy&quot;);\r\n        s = s.replace(&quot; BST &quot;, &quot; &quot;);\r\n        ZonedDateTime dateTime = LocalDateTime.parse(s, formatter).atZone(ZoneOffset.ofHours(1));\r\n    }\r\n    else {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\r\n        // Normal parsing\r\n    }\r\n\r\n\r\nIn future, consider representing your dates (either on-disk, or across an API) as offset strings instead, for example `+01:00`","title":"Java8 time library does not interpret BST timezone correctly","body":"<p>BST is ambiguous, as are many such abbreviations for timezones.</p>\n<p>This solution is not great, but if you absolutely <em>have</em> to give precedence to BST to mean British Summer Time then you could just check whether the string contains that zone, and if it does, remove the zone and apply it manually.</p>\n<pre><code>String s = &quot;Fri Jun 07 14:07:07 BST 2019&quot;;\nif (s.contains(&quot; BST &quot;)) { // Check could be improved\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss yyyy&quot;);\n    s = s.replace(&quot; BST &quot;, &quot; &quot;);\n    ZonedDateTime dateTime = LocalDateTime.parse(s, formatter).atZone(ZoneOffset.ofHours(1));\n}\nelse {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\n    // Normal parsing\n}\n</code></pre>\n<p>In future, consider representing your dates (either on-disk, or across an API) as offset strings instead, for example <code>+01:00</code></p>\n"}],"owner":{"account_id":5343423,"reputation":65,"user_id":4259656,"display_name":"Libby Shen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56602739,"answer_count":3,"score":3,"last_activity_date":1662976498,"creation_date":1560532715,"question_id":56602665,"body_markdown":"I am in the process of migrating my code to use the `java.time` package but I found that `DateTimeFormatter` does not interpret the time zone &quot;BST&quot; (British Summer Time) correctly.\r\n\r\nInstead of making it `UTC+0100`, it converted it to Pacific/Bougainville timezone.\r\n\r\nDoes anybody know how I can fix this without going back to the old SimpleDateFormat, or use an explicit timezone? My code needs to run in multiple regions in the world.\r\n\r\nThis timestamp format is obtained by querying another system so I won&#39;t be able to change it. It seems `SimpleDateFormat` can recognize the timezone properly. My test code is below:\r\n\r\n\tString sTime = &quot;Fri Jun 07 14:07:07 BST 2019&quot;;\r\n\tDateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\r\n\tZonedDateTime zd = ZonedDateTime.parse(sTime, FORMATTER);\r\n\tSystem.out.println(&quot;The time zone: &quot; + zd.getZone());\r\n\tFileTime ftReturn = FileTime.from(zd.toEpochSecond(), TimeUnit.SECONDS);\r\n\tSystem.out.println(&quot;File time is: &quot; + ftReturn);\r\n\t\r\n\tDateFormat df = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;, Locale.ENGLISH);\r\n\tDate dtDD = df.parse(sTime);\r\n\tCalendar calendar = Calendar.getInstance();\r\n\tcalendar.setTime(dtDD);\r\n\tFileTime ftReturn1 = FileTime.fromMillis(calendar.getTimeInMillis());\r\n\tSystem.out.println(&quot;File time1 is:  &quot; + ftReturn1);\r\n\r\n\r\nTest result:&lt;br /&gt;\r\nThe time zone: Pacific/Bougainville&lt;br /&gt;\r\nFile time is: 2019-06-07T03:07:07Z&lt;br /&gt;\r\nFile time1 is:  2019-06-07T13:07:07Z&lt;br /&gt;","title":"Java8 time library does not interpret BST timezone correctly","body":"<p>I am in the process of migrating my code to use the <code>java.time</code> package but I found that <code>DateTimeFormatter</code> does not interpret the time zone &quot;BST&quot; (British Summer Time) correctly.</p>\n<p>Instead of making it <code>UTC+0100</code>, it converted it to Pacific/Bougainville timezone.</p>\n<p>Does anybody know how I can fix this without going back to the old SimpleDateFormat, or use an explicit timezone? My code needs to run in multiple regions in the world.</p>\n<p>This timestamp format is obtained by querying another system so I won't be able to change it. It seems <code>SimpleDateFormat</code> can recognize the timezone properly. My test code is below:</p>\n<pre><code>String sTime = &quot;Fri Jun 07 14:07:07 BST 2019&quot;;\nDateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\nZonedDateTime zd = ZonedDateTime.parse(sTime, FORMATTER);\nSystem.out.println(&quot;The time zone: &quot; + zd.getZone());\nFileTime ftReturn = FileTime.from(zd.toEpochSecond(), TimeUnit.SECONDS);\nSystem.out.println(&quot;File time is: &quot; + ftReturn);\n\nDateFormat df = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;, Locale.ENGLISH);\nDate dtDD = df.parse(sTime);\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(dtDD);\nFileTime ftReturn1 = FileTime.fromMillis(calendar.getTimeInMillis());\nSystem.out.println(&quot;File time1 is:  &quot; + ftReturn1);\n</code></pre>\n<p>Test result:<br />\nThe time zone: Pacific/Bougainville<br />\nFile time is: 2019-06-07T03:07:07Z<br />\nFile time1 is:  2019-06-07T13:07:07Z<br /></p>\n"},{"tags":["java","android","android-studio","statusbar","disable"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1662943275,"post_id":73683479,"comment_id":130115975,"body_markdown":"There is no way to do that in a standard Android app.  That&#39;s a part of the system you can&#39;t mess with.  You can do it on a custom AOSP build if its your own hardware.  You used to be able to do it in a system app (which can&#39;t go in the play store), you may still be able to.  But not in a normal app.","body":"There is no way to do that in a standard Android app.  That&#39;s a part of the system you can&#39;t mess with.  You can do it on a custom AOSP build if its your own hardware.  You used to be able to do it in a system app (which can&#39;t go in the play store), you may still be able to.  But not in a normal app."}],"answers":[{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662952746,"creation_date":1662952746,"answer_id":73684156,"question_id":73683479,"body_markdown":"Hello bro use This one!\r\n\r\nUse this code for hiding the status bar in your app and easy to use\r\n\r\n    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);","title":"Disable status bar android","body":"<p>Hello bro use This one!</p>\n<p>Use this code for hiding the status bar in your app and easy to use</p>\n<pre><code>this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662962000,"creation_date":1662962000,"answer_id":73684999,"question_id":73683479,"body_markdown":"If what u want is full screen activity, use this\r\n\r\n```java\r\npublic class sample extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setFullScreen();\r\n\r\n        //add your code\r\n\r\n    }\r\n\r\n    private void setFullScreen() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n            getWindow().getInsetsController().hide(WindowInsets.Type.statusBars() | WindowInsets.Type.statusBars());\r\n            getWindow().getInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n        }else {\r\n            getWindow().setFlags(LayoutParams.FLAG_FULLSCREEN,LayoutParams.FLAG_FULLSCREEN);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you&#39;re saying that u don&#39;t status bar to open, then that isn&#39;t possible.","title":"Disable status bar android","body":"<p>If what u want is full screen activity, use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class sample extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setFullScreen();\n\n        //add your code\n\n    }\n\n    private void setFullScreen() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n            getWindow().getInsetsController().hide(WindowInsets.Type.statusBars() | WindowInsets.Type.statusBars());\n            getWindow().getInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n        }else {\n            getWindow().setFlags(LayoutParams.FLAG_FULLSCREEN,LayoutParams.FLAG_FULLSCREEN);\n        }\n    }\n}\n</code></pre>\n<p>If you're saying that u don't status bar to open, then that isn't possible.</p>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662976344,"creation_date":1662976344,"answer_id":73687429,"question_id":73683479,"body_markdown":"You can&#39;t show and hide native status bar of android, the system doesn&#39;t allow you to do that. But  you can create your own customized status, then you can show it and hide it as you want.\r\nHere and example:\r\ncustom_status.xml\r\n\r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:id=&quot;@+id/mToolbar_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            app:cardCornerRadius=&quot;0dp&quot;\r\n            app:cardElevation=&quot;0dp&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView2&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;\r\n                    android:layout_marginHorizontal=&quot;15dp&quot;\r\n                    android:layout_marginVertical=&quot;15dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:paddingBottom=&quot;2dp&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;32sp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;@+id/backButton&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toEndOf=&quot;@+id/backButton&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;@+id/backButton&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/backButton&quot;\r\n                    android:layout_width=&quot;40dp&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_marginStart=&quot;15dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/ic_circle_solid&quot;\r\n                    android:backgroundTint=&quot;@color/quantum_grey100&quot;\r\n                    android:padding=&quot;7dp&quot;\r\n                    android:src=&quot;@drawable/ic_baseline_arrow_back_24&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\nin java code\r\n\r\n    public void onScrollStateChanged(AbsListView view, int scrollState) {\r\n    final ListView lw = getListView();\r\n\r\n    if (view.getId() == lw.getId()) {\r\n        final int currentFirstVisibleItem = lw.getFirstVisiblePosition();\r\n\r\n        if (currentFirstVisibleItem &gt; mLastFirstVisibleItem) {\r\n            mIsScrollingUp = false;\r\n            //mToolbar_container visible\r\n        } else if (currentFirstVisibleItem &lt; mLastFirstVisibleItem) {\r\n            mIsScrollingUp = true;\r\n            //mToolbar_container gone\r\n        }\r\n    } \r\n}\r\n          \r\n","title":"Disable status bar android","body":"<p>You can't show and hide native status bar of android, the system doesn't allow you to do that. But  you can create your own customized status, then you can show it and hide it as you want.\nHere and example:\ncustom_status.xml</p>\n<pre><code>    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/mToolbar_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        app:cardCornerRadius=&quot;0dp&quot;\n        app:cardElevation=&quot;0dp&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView2&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:layout_marginHorizontal=&quot;15dp&quot;\n                android:layout_marginVertical=&quot;15dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:ellipsize=&quot;end&quot;\n                android:maxLines=&quot;1&quot;\n                android:paddingBottom=&quot;2dp&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;32sp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/backButton&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/backButton&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/backButton&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/backButton&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;15dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/ic_circle_solid&quot;\n                android:backgroundTint=&quot;@color/quantum_grey100&quot;\n                android:padding=&quot;7dp&quot;\n                android:src=&quot;@drawable/ic_baseline_arrow_back_24&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n<p>in java code</p>\n<pre><code>public void onScrollStateChanged(AbsListView view, int scrollState) {\nfinal ListView lw = getListView();\n\nif (view.getId() == lw.getId()) {\n    final int currentFirstVisibleItem = lw.getFirstVisiblePosition();\n\n    if (currentFirstVisibleItem &gt; mLastFirstVisibleItem) {\n        mIsScrollingUp = false;\n        //mToolbar_container visible\n    } else if (currentFirstVisibleItem &lt; mLastFirstVisibleItem) {\n        mIsScrollingUp = true;\n        //mToolbar_container gone\n    }\n} \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1662976344,"creation_date":1662942505,"question_id":73683479,"body_markdown":"Hi i want disable the status bar in an java app android, like when the user pull down the bar doesnt go down","title":"Disable status bar android","body":"<p>Hi i want disable the status bar in an java app android, like when the user pull down the bar doesnt go down</p>\n"},{"tags":["java","spring-boot","kubernetes","swagger","openapi"],"comments":[{"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"score":0,"creation_date":1662974235,"post_id":73679154,"comment_id":130121616,"body_markdown":"Can anyone please have a look?","body":"Can anyone please have a look?"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1662976582,"post_id":73679154,"comment_id":130122437,"body_markdown":"What parser do you use? Doesn&#39;t seem to be [this one](https://github.com/swagger-api/swagger-parser#usage). Most likely, the parser doesn&#39;t support reading resources inside JAR files and requires either a regular file (in the file system or at an HTTP/S URL) or the text contents of a file.","body":"What parser do you use? Doesn&#39;t seem to be <a href=\"https://github.com/swagger-api/swagger-parser#usage\" rel=\"nofollow noreferrer\">this one</a>. Most likely, the parser doesn&#39;t support reading resources inside JAR files and requires either a regular file (in the file system or at an HTTP/S URL) or the text contents of a file."},{"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"score":0,"creation_date":1662998520,"post_id":73679154,"comment_id":130130619,"body_markdown":"Thanks @Helen for taking a look. I am using  this com.networknt.oas.OpenApiParser.\nAlso heard that there are also lots of security vulnerabilities with swagger parser.What do you suggest?","body":"Thanks @Helen for taking a look. I am using  this com.networknt.oas.OpenApiParser. Also heard that there are also lots of security vulnerabilities with swagger parser.What do you suggest?"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1663000316,"post_id":73679154,"comment_id":130131178,"body_markdown":"[Read the resource file contents as a string](https://stackoverflow.com/q/6068197/113116) and then use the `.parse(String spec, URL resolutionBase)` version of the parse method.","body":"<a href=\"https://stackoverflow.com/q/6068197/113116\">Read the resource file contents as a string</a> and then use the <code>.parse(String spec, URL resolutionBase)</code> version of the parse method."},{"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"score":0,"creation_date":1663512563,"post_id":73679154,"comment_id":130252493,"body_markdown":"Thanks you @Helen. I am able to parse using :\nOpenAPI openAPI = new OpenAPIV3Parser().read(&quot;/&quot; + file.yaml, null, options);\n\nand its not introducing new vulnerabilities in my project.","body":"Thanks you @Helen. I am able to parse using : OpenAPI openAPI = new OpenAPIV3Parser().read(&quot;/&quot; + file.yaml, null, options);  and its not introducing new vulnerabilities in my project."},{"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"score":0,"creation_date":1663516077,"post_id":73679154,"comment_id":130253350,"body_markdown":"@Helen: can you please have a look at this : https://stackoverflow.com/questions/73764145/unable-to-validate-query-parameters-against-predefined-yaml-file-using-json-sche\n\nNeed your expert advise here!","body":"@Helen: can you please have a look at this : <a href=\"https://stackoverflow.com/questions/73764145/unable-to-validate-query-parameters-against-predefined-yaml-file-using-json-sche\" title=\"unable to validate query parameters against predefined yaml file using json sche\">stackoverflow.com/questions/73764145/&hellip;</a>  Need your expert advise here!"}],"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662976342,"creation_date":1662898253,"question_id":73679154,"body_markdown":"I have a Spring Boot project and I have an OpenAPI 3.0.0 YAML file in the resource folder.\r\n\t\r\nTo parse my YAML file, I am constructing a URL and using OpenApiParser as follows: \r\n\r\n```java\r\nURL url = Resources.getResource(MyFile.yaml) //from com.google.common.io\r\n \r\nOpenApi3 openApi3 = (OpenApi3) new OpenApiParser().parse(url);\r\n```\r\n\r\nWhen running from my local IntelliJ IDEA, `url` comes as follows and parsing is working fine:\r\n\r\n```\r\n&quot;file:/C:/git/top_level_project/my_folder/my_project/build/resources/main/MyFile.yaml&quot;\r\n```\r\n \r\nbut when my project is being deployed at k8 setup, `url` comes as follows and parsing is getting failed:\r\n```\r\n&quot;jar:file:some_image_name.jar!/BOOT-INF/lib/my_folder-0.1.0-beta.0.149+20220910T185040Z-plain.jar!/MyFile.yaml&quot;\r\n```\r\n\r\nI also tried the following ways to construct the URL but getting the same URL on k8 setup and OpenAPI parsing getting failed due to the incorrect path.\r\n\r\n```java\r\nURL url1 =  this.getClass().getResource(&quot;/&quot; + MyFile.yaml); //from java.lang\r\n \r\nURL url2 = this.getClass().getClassLoader().getResource(MyFile.yaml));\r\n```","title":"Not able to parse an OpenAPI 3.0.0 specification file using on k8 setup using OpenApiParser","body":"<p>I have a Spring Boot project and I have an OpenAPI 3.0.0 YAML file in the resource folder.</p>\n<p>To parse my YAML file, I am constructing a URL and using OpenApiParser as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = Resources.getResource(MyFile.yaml) //from com.google.common.io\n \nOpenApi3 openApi3 = (OpenApi3) new OpenApiParser().parse(url);\n</code></pre>\n<p>When running from my local IntelliJ IDEA, <code>url</code> comes as follows and parsing is working fine:</p>\n<pre><code>&quot;file:/C:/git/top_level_project/my_folder/my_project/build/resources/main/MyFile.yaml&quot;\n</code></pre>\n<p>but when my project is being deployed at k8 setup, <code>url</code> comes as follows and parsing is getting failed:</p>\n<pre><code>&quot;jar:file:some_image_name.jar!/BOOT-INF/lib/my_folder-0.1.0-beta.0.149+20220910T185040Z-plain.jar!/MyFile.yaml&quot;\n</code></pre>\n<p>I also tried the following ways to construct the URL but getting the same URL on k8 setup and OpenAPI parsing getting failed due to the incorrect path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url1 =  this.getClass().getResource(&quot;/&quot; + MyFile.yaml); //from java.lang\n \nURL url2 = this.getClass().getClassLoader().getResource(MyFile.yaml));\n</code></pre>\n"},{"tags":["java","jvm","garbage-collection","java-11","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":10837897,"reputation":667,"user_id":7970245,"display_name":"Turac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662976229,"creation_date":1662892437,"answer_id":73678540,"question_id":73659721,"body_markdown":"`-Xlog:gc*:log.txt:time,uptime` will resolve your problem. `time` provide timestamp and `uptime` will provide GC operation uptime. \r\n\r\nTesting with below arguments\r\n\r\n&gt; -Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -Xlog:gc*:log.txt:time,uptime\r\n\r\nOS: Windows 11\r\n\r\nJava: openjdk-11.0.4+11\r\n\r\nResult\r\n\r\n```\r\n[2022-09-11T13:14:24.808+0300][0.023s] Using Parallel\r\n[2022-09-11T13:14:24.809+0300][0.024s] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit\r\n[2022-09-11T13:14:25.326+0300][0.541s] GC(0) Pause Young (Allocation Failure)\r\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) PSYoungGen: 524800K-&gt;87024K(611840K)\r\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) ParOldGen: 0K-&gt;409320K(1398272K)\r\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) Metaspace: 6712K-&gt;6712K(131072K)\r\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) Pause Young (Allocation Failure) 512M-&gt;484M(1963M) 318.035ms\r\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) User=0.58s Sys=0.08s Real=0.32s\r\n[2022-09-11T13:14:25.721+0300][0.936s] Heap\r\n[2022-09-11T13:14:25.721+0300][0.936s]  PSYoungGen      total 611840K, used 304322K [0x00000000d5580000, 0x0000000100000000, 0x0000000100000000)\r\n```","title":"In OpenJDK 11 Windows OS Need solution for print timestamps in GC logs using JVM arguments","body":"<p><code>-Xlog:gc*:log.txt:time,uptime</code> will resolve your problem. <code>time</code> provide timestamp and <code>uptime</code> will provide GC operation uptime.</p>\n<p>Testing with below arguments</p>\n<blockquote>\n<p>-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -Xlog:gc*:log.txt:time,uptime</p>\n</blockquote>\n<p>OS: Windows 11</p>\n<p>Java: openjdk-11.0.4+11</p>\n<p>Result</p>\n<pre><code>[2022-09-11T13:14:24.808+0300][0.023s] Using Parallel\n[2022-09-11T13:14:24.809+0300][0.024s] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit\n[2022-09-11T13:14:25.326+0300][0.541s] GC(0) Pause Young (Allocation Failure)\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) PSYoungGen: 524800K-&gt;87024K(611840K)\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) ParOldGen: 0K-&gt;409320K(1398272K)\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) Metaspace: 6712K-&gt;6712K(131072K)\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) Pause Young (Allocation Failure) 512M-&gt;484M(1963M) 318.035ms\n[2022-09-11T13:14:25.644+0300][0.859s] GC(0) User=0.58s Sys=0.08s Real=0.32s\n[2022-09-11T13:14:25.721+0300][0.936s] Heap\n[2022-09-11T13:14:25.721+0300][0.936s]  PSYoungGen      total 611840K, used 304322K [0x00000000d5580000, 0x0000000100000000, 0x0000000100000000)\n</code></pre>\n"}],"owner":{"account_id":6867446,"reputation":1,"user_id":5279295,"display_name":"Praveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662976229,"creation_date":1662714097,"question_id":73659721,"body_markdown":"Below is the JVM argument used.\r\n\r\n&gt; JVMARGS=-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m\r\n&gt; -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -XX:+PrintGCDetails -XX:+PrintGCCause -Xloggc:C:\\temp.txt\r\n\r\nGenerated log file \r\n\r\n    [0.092s][info][gc] Using Parallel [0.092s][info][gc,heap,coops] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit [2.542s][info][gc,start     ] GC(0) Pause Young (Allocation Failure) [2.558s][info][gc,heap      ] GC(0) PSYoungGen: 524800K-&gt;7709K(611840K).\r\n\r\nThe time stamp in the generated log is not in readable format.\r\n\r\n\r\n\r\nTried below JVM arguments. \r\n\r\n&gt; JVMARGS=-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m\r\n&gt; -XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -XX:+PrintGCDetails -XX:+PrintGCCause -Xloggc:C:\\temp.txt\r\n\r\n\r\n\r\nWe are expecting the timestamp in the readable format as follows. \r\n\r\n    [2022-08-18T05:35:53.167-0500][0.006s] Minimum heap 2147483648  Initial heap 2147483648  Maximum heap 147483648\r\n    [2022-08-18T05:35:53.173-0500][0.012s] Using Parallel\r\n    [2022-08-18T05:35:53.173-0500][0.012s] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit\r\n    [2022-08-18T05:35:54.700-0500][1.539s] GC(0) Heap before GC invocations=1 (full 0): PSYoungGen      total 11840K, used 524800K [0x00000000d5580000, 0x0000000100000000, 0x0000000100000000)\r\n    [2022-08-18T05:35:54.700-0500][1.539s] GC(0)   eden space 524800K, 100% used [0x00000000d5580000,0x00000000f5600000,0x00000000f5600000)\r\n\r\n\r\nPlease help us to retrieve the timestamp in readable format using openJDK 11 in windows OS. ","title":"In OpenJDK 11 Windows OS Need solution for print timestamps in GC logs using JVM arguments","body":"<p>Below is the JVM argument used.</p>\n<blockquote>\n<p>JVMARGS=-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m\n-XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -XX:+PrintGCDetails -XX:+PrintGCCause -Xloggc:C:\\temp.txt</p>\n</blockquote>\n<p>Generated log file</p>\n<pre><code>[0.092s][info][gc] Using Parallel [0.092s][info][gc,heap,coops] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit [2.542s][info][gc,start     ] GC(0) Pause Young (Allocation Failure) [2.558s][info][gc,heap      ] GC(0) PSYoungGen: 524800K-&gt;7709K(611840K).\n</code></pre>\n<p>The time stamp in the generated log is not in readable format.</p>\n<p>Tried below JVM arguments.</p>\n<blockquote>\n<p>JVMARGS=-Xms2048m -Xmx2048m -XX:MaxMetaspaceSize=128m\n-XX:+UseParallelGC -XX:+UseParallelOldGC -XX:ParallelGCThreads=2 -XX:+PrintGCDetails -XX:+PrintGCCause -Xloggc:C:\\temp.txt</p>\n</blockquote>\n<p>We are expecting the timestamp in the readable format as follows.</p>\n<pre><code>[2022-08-18T05:35:53.167-0500][0.006s] Minimum heap 2147483648  Initial heap 2147483648  Maximum heap 147483648\n[2022-08-18T05:35:53.173-0500][0.012s] Using Parallel\n[2022-08-18T05:35:53.173-0500][0.012s] Heap address: 0x0000000080000000, size: 2048 MB, Compressed Oops mode: 32-bit\n[2022-08-18T05:35:54.700-0500][1.539s] GC(0) Heap before GC invocations=1 (full 0): PSYoungGen      total 11840K, used 524800K [0x00000000d5580000, 0x0000000100000000, 0x0000000100000000)\n[2022-08-18T05:35:54.700-0500][1.539s] GC(0)   eden space 524800K, 100% used [0x00000000d5580000,0x00000000f5600000,0x00000000f5600000)\n</code></pre>\n<p>Please help us to retrieve the timestamp in readable format using openJDK 11 in windows OS.</p>\n"},{"tags":["java","quarkus","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662976196,"creation_date":1662976196,"answer_id":73687395,"question_id":73687164,"body_markdown":"Your `serviceB.getSettings()` call doesn&#39;t return a `Uni` that fails -- it directly throws an exception. Look at the stack trace of that exception -- there&#39;s nothing on the stack that could possibly catch it and transform it to a &quot;failed `Uni`&quot;, it&#39;s just thrown too soon.\r\n\r\nYou need to arrange the mock so that it returns a `Uni` that completes with an exception. Something like `Uni.createFrom().failure(new NotFoundException(&quot;Not found test&quot;));`.","title":"onFailure never called in quarkus reactive chain","body":"<p>Your <code>serviceB.getSettings()</code> call doesn't return a <code>Uni</code> that fails -- it directly throws an exception. Look at the stack trace of that exception -- there's nothing on the stack that could possibly catch it and transform it to a &quot;failed <code>Uni</code>&quot;, it's just thrown too soon.</p>\n<p>You need to arrange the mock so that it returns a <code>Uni</code> that completes with an exception. Something like <code>Uni.createFrom().failure(new NotFoundException(&quot;Not found test&quot;));</code>.</p>\n"}],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73687395,"answer_count":1,"score":0,"last_activity_date":1662976196,"creation_date":1662975059,"question_id":73687164,"body_markdown":"I have this service class where I combine two Restcalls from Service A and B to one resonse object.\r\n\r\n    @ApplicationScoped\r\n    public class ResponseHandler {\r\n\r\n    @Inject\r\n    Mapper mapper;\r\n\r\n    @Inject\r\n    ServiceA serviceA;\r\n\r\n    @Inject\r\n    ServiceB serviceB;\r\n\r\n    public Uni&lt;Dto&gt; handle(String id, String language) {\r\n        return Uni.combine().all()\r\n                .unis(serviceA.getProducts(id),\r\n                        serviceB.getSettings(id).onFailure().recoverWithItem(SettingsResponse.builder().build()))\r\n                .combinedWith((productsResponse, settingsResponse) -&gt; mapper.map(productsResponse, settingsResponse, language));\r\n    }\r\n\r\n    }\r\n\r\nMy positive test works perfect.\r\nBut in case I mock ServiceB to throw an exception, the recover is never called and the whole chain is terminated with the expected exception:\r\n\r\n    Mockito.when(serviceB.getSettings(id))\r\n                    .thenThrow(new NotFoundException(&quot;Not found test&quot;));\r\n        \r\nI assume I have a wrong understanding how onFailure works.... ?\r\n","title":"onFailure never called in quarkus reactive chain","body":"<p>I have this service class where I combine two Restcalls from Service A and B to one resonse object.</p>\n<pre><code>@ApplicationScoped\npublic class ResponseHandler {\n\n@Inject\nMapper mapper;\n\n@Inject\nServiceA serviceA;\n\n@Inject\nServiceB serviceB;\n\npublic Uni&lt;Dto&gt; handle(String id, String language) {\n    return Uni.combine().all()\n            .unis(serviceA.getProducts(id),\n                    serviceB.getSettings(id).onFailure().recoverWithItem(SettingsResponse.builder().build()))\n            .combinedWith((productsResponse, settingsResponse) -&gt; mapper.map(productsResponse, settingsResponse, language));\n}\n\n}\n</code></pre>\n<p>My positive test works perfect.\nBut in case I mock ServiceB to throw an exception, the recover is never called and the whole chain is terminated with the expected exception:</p>\n<pre><code>Mockito.when(serviceB.getSettings(id))\n                .thenThrow(new NotFoundException(&quot;Not found test&quot;));\n    \n</code></pre>\n<p>I assume I have a wrong understanding how onFailure works.... ?</p>\n"},{"tags":["java","android","kotlin","gradle","alias"],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662975280,"creation_date":1662975280,"answer_id":73687204,"question_id":73677763,"body_markdown":"If I understood correctly you would like to replace a module without having app&#39;s code depending on external libraries.\r\n\r\nWhen your app&#39;s code depends on only the abstraction and not concrete implementation you can replace those dependencies at any time.\r\n\r\nThe piece of code below shows that `User` in app module depends on `interface A` but the real implementation of `A` may vary.\r\n\r\n```kotlin\r\n// library module A\r\ninterface A {\r\n  fun doWork()\r\n}\r\n\t\r\n// library module B implements modules A &amp; External\r\nclass B(private val external : External) : A {\r\n\toverride fun doWork() {\r\n    val result = external.getExternalStuff()\r\n    // more work with result\r\n  }\r\n}\r\n\r\nobject Factory {\r\n  fun createB(params...): B {\r\n    val external = External(paramX)\r\n    // ...\r\n    return B(external)\r\n  }\r\n}\r\n\t\t\r\n// library module C implements module A\r\nclass C : A {\r\n  override fun doWork() {\r\n\t  println(&quot;C works&quot;)\r\n  }\r\n}\r\n\r\n// app \r\n// User knows only &#39;A&#39;\r\nclass User(private val a: A) {\r\n\tfun help() {\r\n\t  a.doWork()\r\n  }\r\n}\r\n\t\r\n// Version 1: App implements modules A &amp; B\t\t\r\n// app module will know nothing about External \r\n// but some factory or builder class to create B\r\nfun appStarts() {\r\n  val a = Factory.createB(params...)\r\n  val user = User(a)\r\n  user.help() \r\n}\t\r\n\t\t\r\n// Version 2: App implements modules A &amp; C\t\t\r\nfun appStarts() {\r\n  val a = C()\r\n  val user = User(a)\r\n  user.help() \r\n}\t\r\n```\r\n\r\nHope this helps.","title":"Kotlin android expose a class of one module in another?","body":"<p>If I understood correctly you would like to replace a module without having app's code depending on external libraries.</p>\n<p>When your app's code depends on only the abstraction and not concrete implementation you can replace those dependencies at any time.</p>\n<p>The piece of code below shows that <code>User</code> in app module depends on <code>interface A</code> but the real implementation of <code>A</code> may vary.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// library module A\ninterface A {\n  fun doWork()\n}\n    \n// library module B implements modules A &amp; External\nclass B(private val external : External) : A {\n    override fun doWork() {\n    val result = external.getExternalStuff()\n    // more work with result\n  }\n}\n\nobject Factory {\n  fun createB(params...): B {\n    val external = External(paramX)\n    // ...\n    return B(external)\n  }\n}\n        \n// library module C implements module A\nclass C : A {\n  override fun doWork() {\n      println(&quot;C works&quot;)\n  }\n}\n\n// app \n// User knows only 'A'\nclass User(private val a: A) {\n    fun help() {\n      a.doWork()\n  }\n}\n    \n// Version 1: App implements modules A &amp; B      \n// app module will know nothing about External \n// but some factory or builder class to create B\nfun appStarts() {\n  val a = Factory.createB(params...)\n  val user = User(a)\n  user.help() \n}   \n        \n// Version 2: App implements modules A &amp; C      \nfun appStarts() {\n  val a = C()\n  val user = User(a)\n  user.help() \n}   \n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17392932,"reputation":557,"user_id":12603110,"display_name":"Yorai Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":786,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662975280,"creation_date":1662883774,"question_id":73677763,"body_markdown":"the setup:   \r\n\r\n`Module 1` an external dependency that has `Class A`   \r\n`Module 2` depends on `Class A` but may in the future depends on another module/class entirely  \r\nan `APP` depends on `Module 2`\r\n\r\nI tried to add a typealias in `Module 2` to `Class A`. it exposes the class &quot;correctly&quot; (lets say it is `com.moduleTwo.ClassA` instead of `com.moduleOne.ClassA`) but it makes it so that `APP` also needs to have a dependency on `Module 1` or it doesn&#39;t compile with:\r\n```Cannot access class &#39;com.moduleOne.ClassA&#39;. Check your module classpath for missing or conflicting dependencies```  \r\n\r\nHow can one make Module 2 expose an alias to Class A without adding Module 1 to APP build.gradle? Is there a way to &quot;inject&quot; the dependency to APP?\r\n","title":"Kotlin android expose a class of one module in another?","body":"<p>the setup:</p>\n<p><code>Module 1</code> an external dependency that has <code>Class A</code><br />\n<code>Module 2</code> depends on <code>Class A</code> but may in the future depends on another module/class entirely<br />\nan <code>APP</code> depends on <code>Module 2</code></p>\n<p>I tried to add a typealias in <code>Module 2</code> to <code>Class A</code>. it exposes the class &quot;correctly&quot; (lets say it is <code>com.moduleTwo.ClassA</code> instead of <code>com.moduleOne.ClassA</code>) but it makes it so that <code>APP</code> also needs to have a dependency on <code>Module 1</code> or it doesn't compile with:\n<code>Cannot access class 'com.moduleOne.ClassA'. Check your module classpath for missing or conflicting dependencies</code></p>\n<p>How can one make Module 2 expose an alias to Class A without adding Module 1 to APP build.gradle? Is there a way to &quot;inject&quot; the dependency to APP?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662974013,"post_id":73686933,"comment_id":130121545,"body_markdown":"Hi! (Try) Type with comma! (Depends on your system locale/the &quot;shell&quot; you use.)","body":"Hi! (Try) Type with comma! (Depends on your system locale/the &quot;shell&quot; you use.)"},{"owner":{"account_id":23922678,"reputation":11,"user_id":17918256,"display_name":"Błażej Pajor"},"score":0,"creation_date":1662974876,"post_id":73686933,"comment_id":130121840,"body_markdown":"Thanks! But is there a way to change typing from comma to dot?","body":"Thanks! But is there a way to change typing from comma to dot?"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":1,"creation_date":1662975072,"post_id":73686933,"comment_id":130121910,"body_markdown":"Hello, Please try to find an answer before you ask a question, [Here](https://stackoverflow.com/questions/5929120/nextdouble-throws-an-inputmismatchexception-when-i-enter-a-double) is the same question with possible answers.","body":"Hello, Please try to find an answer before you ask a question, <a href=\"https://stackoverflow.com/questions/5929120/nextdouble-throws-an-inputmismatchexception-when-i-enter-a-double\">Here</a> is the same question with possible answers."}],"answers":[{"tags":[],"owner":{"account_id":17311155,"reputation":502,"user_id":12538710,"display_name":"Crih.exe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662975170,"creation_date":1662975170,"answer_id":73687186,"question_id":73686933,"body_markdown":"It depends on your system. But if you really want to use the dot, you can change the `Locale` to make a `Scanner` read dots in this way:\r\n\r\n    new Scanner(System.in).useLocale(Locale.US);\r\n\r\n**For example:**\r\n\r\n - `Scanner scanner = new Scanner(System.in).useLocale(Local.US);` will\r\n   use the dot\r\n - `Scanner scanner = new Scanner(System.in).useLocale(Local.ITALY);` will use the comma.\r\n\r\n","title":"Java scanner.nextDouble() gives an exception","body":"<p>It depends on your system. But if you really want to use the dot, you can change the <code>Locale</code> to make a <code>Scanner</code> read dots in this way:</p>\n<pre><code>new Scanner(System.in).useLocale(Locale.US);\n</code></pre>\n<p><strong>For example:</strong></p>\n<ul>\n<li><code>Scanner scanner = new Scanner(System.in).useLocale(Local.US);</code> will\nuse the dot</li>\n<li><code>Scanner scanner = new Scanner(System.in).useLocale(Local.ITALY);</code> will use the comma.</li>\n</ul>\n"}],"owner":{"account_id":23922678,"reputation":11,"user_id":17918256,"display_name":"Błażej Pajor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662975419,"answer_count":1,"score":-1,"last_activity_date":1662975170,"creation_date":1662973867,"question_id":73686933,"body_markdown":"I am learning Java and i have met some problems with scanner.nextDouble and I can`t find any response for me.\r\n \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Hypotenuse {\r\n    public static void main(String[] args){\r\n        double a;\r\n        double b;\r\n        double c;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Type first side: &quot;);\r\n        a = scanner.nextDouble();\r\n        System.out.println(&quot;Type second side: &quot;);\r\n        b = scanner.nextDouble();\r\n\r\n        c = Math.sqrt((a*a) + (b*b));\r\n        System.out.println(&quot;The c side is: &quot; + c);\r\n\r\n        scanner.close();\r\n\r\n\r\n    }\r\n    }\r\nThe problem is when I`m trying to type number with dot like 1.2 for example which is double type. The exception code is:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:943)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1598)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2569)\r\n\tat Hypotenuse.main(Hypotenuse.java:10)\r\nHow do I can fix it ? Thanks for help\r\n\r\n","title":"Java scanner.nextDouble() gives an exception","body":"<p>I am learning Java and i have met some problems with scanner.nextDouble and I can`t find any response for me.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Hypotenuse {\npublic static void main(String[] args){\n    double a;\n    double b;\n    double c;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Type first side: &quot;);\n    a = scanner.nextDouble();\n    System.out.println(&quot;Type second side: &quot;);\n    b = scanner.nextDouble();\n\n    c = Math.sqrt((a*a) + (b*b));\n    System.out.println(&quot;The c side is: &quot; + c);\n\n    scanner.close();\n\n\n}\n}\n</code></pre>\n<p>The problem is when I`m trying to type number with dot like 1.2 for example which is double type. The exception code is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:943)\nat java.base/java.util.Scanner.next(Scanner.java:1598)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2569)\nat Hypotenuse.main(Hypotenuse.java:10)\n</code></pre>\n<p>How do I can fix it ? Thanks for help</p>\n"},{"tags":["java","android","android-studio","search"],"answers":[{"tags":[],"owner":{"account_id":25373331,"reputation":110,"user_id":19186780,"display_name":"CodeGorilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662947878,"creation_date":1662563321,"answer_id":73637809,"question_id":73635700,"body_markdown":"What do you mean by search by buttons? Are you looking to search the text that is held within the button? \r\n\r\nHere is a way you can go about this:\r\n\r\n1. Make a list that contains all the instances of your buttons. \r\nList(findViewById(R.id.btn1), etc)\r\n\r\n        List&lt;Button&gt; buttonList = new ArrayList&lt;&gt;();\r\n\r\n        buttonList.add(view.findViewById(R.id.button_search1));\r\n        buttonList.add(view.findViewById(R.id.button_search2));\r\n        buttonList.add(view.findViewById(R.id.button_search3));\r\n\r\n2. We are going to use the listeners available to the search view to do the work.\r\n\r\n        sv.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n\r\n            // You can use this for when the submit is clicked\r\n            @Override\r\n            public boolean onQueryTextSubmit(String s) {\r\n                // We loop over the button list\r\n                for(int i = 0; i &lt; buttonList.size(); i++) {\r\n\r\n                    // We get the text of the button\r\n                    String buttonText = (String) buttonList.get(i).getText();\r\n\r\n                    // We turn both the button text and search result to lowercase\r\n                    // So that results are not case sensitive\r\n\r\n                    // If they match\r\n                    if(buttonText.toLowerCase(Locale.ROOT).equals(s.toLowerCase())) {\r\n                        // We make button visible\r\n                        buttonList.get(i).setVisibility(View.VISIBLE);\r\n                    } else {\r\n                        // If it doesn&#39;t, we make invisible\r\n                        buttonList.get(i).setVisibility(View.INVISIBLE);\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            // You can use this when the text is changing.\r\n            @Override\r\n            public boolean onQueryTextChange(String s) {\r\n                // If text is empty, reset results\r\n                if(s.isEmpty()) {\r\n                    for(int i = 0; i &lt; buttonList.size(); i++) {\r\n                        buttonList.get(i).setVisibility(View.VISIBLE);\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n","title":"I want to make a search bar for this code to search by buttons (between btn1 and btn2 and btn3) and hide the non-matched results","body":"<p>What do you mean by search by buttons? Are you looking to search the text that is held within the button?</p>\n<p>Here is a way you can go about this:</p>\n<ol>\n<li><p>Make a list that contains all the instances of your buttons.\nList(findViewById(R.id.btn1), etc)</p>\n<pre><code> List&lt;Button&gt; buttonList = new ArrayList&lt;&gt;();\n\n buttonList.add(view.findViewById(R.id.button_search1));\n buttonList.add(view.findViewById(R.id.button_search2));\n buttonList.add(view.findViewById(R.id.button_search3));\n</code></pre>\n</li>\n<li><p>We are going to use the listeners available to the search view to do the work.</p>\n<pre><code> sv.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n\n     // You can use this for when the submit is clicked\n     @Override\n     public boolean onQueryTextSubmit(String s) {\n         // We loop over the button list\n         for(int i = 0; i &lt; buttonList.size(); i++) {\n\n             // We get the text of the button\n             String buttonText = (String) buttonList.get(i).getText();\n\n             // We turn both the button text and search result to lowercase\n             // So that results are not case sensitive\n\n             // If they match\n             if(buttonText.toLowerCase(Locale.ROOT).equals(s.toLowerCase())) {\n                 // We make button visible\n                 buttonList.get(i).setVisibility(View.VISIBLE);\n             } else {\n                 // If it doesn't, we make invisible\n                 buttonList.get(i).setVisibility(View.INVISIBLE);\n             }\n         }\n\n         return false;\n     }\n\n     // You can use this when the text is changing.\n     @Override\n     public boolean onQueryTextChange(String s) {\n         // If text is empty, reset results\n         if(s.isEmpty()) {\n             for(int i = 0; i &lt; buttonList.size(); i++) {\n                 buttonList.get(i).setVisibility(View.VISIBLE);\n             }\n         }\n\n         return false;\n     }\n });\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26270778,"reputation":3,"user_id":19940705,"display_name":"Deepa Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73637809,"answer_count":1,"score":0,"last_activity_date":1662975054,"creation_date":1662554440,"question_id":73635700,"body_markdown":"I am trying to add a search bar that enables me to search by buttons, search between btn1 and btn2 and btn3. I tried a lot of codes but all of them were focused on TextView and not on buttons. So hope to help me and if I missed details please let me know to describe more.\r\n\r\nThe two files (.java and .xml) are typed below. thank you.\r\n\r\n**file.java**\r\n```\r\npackage com.example.myapp1;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.app.DownloadManager;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    SearchView sv;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getSupportActionBar().setTitle(&quot;My First App&quot;);\r\n\r\n\r\n\r\n        Button btn1 = findViewById(R.id.btn1);\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                startActivity(intent);\r\n            }});\r\n\r\n\r\n        Button btn2 = findViewById(R.id.btn2);\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity3.class);\r\n                startActivity(intent);\r\n            }});\r\n\r\n        Button btn3 = findViewById(R.id.btn3);\r\n\r\n        btn3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity4.class);\r\n                startActivity(intent);\r\n            }});\r\n\r\n\r\n\r\n        List&lt;Button&gt; buttonList = new ArrayList&lt;&gt;();\r\n\r\n  \r\n        buttonList.add(view.findViewById(R.id.btn1));\r\n        buttonList.add(view.findViewById(R.id.btn2));\r\n        buttonList.add(view.findViewById(R.id.btn3));\r\n\r\n        sv.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n\r\n            @Override\r\n            public boolean onQueryTextSubmit(String s) {\r\n                for(int i = 0; i &lt; buttonList.size(); i++) {\r\n\r\n                    String buttonText = (String) buttonList.get(i).getText();\r\n\r\n                    if(buttonText.toLowerCase(Locale.ROOT).equals(s.toLowerCase())) {\r\n                        buttonList.get(i).setVisibility(View.VISIBLE);\r\n                    } else {\r\n                        buttonList.get(i).setVisibility(View.INVISIBLE);\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n            @Override\r\n            public boolean onQueryTextChange(String s) {\r\n                if(s.isEmpty()) {\r\n                    for(int i = 0; i &lt; buttonList.size(); i++) {\r\n                        buttonList.get(i).setVisibility(View.VISIBLE);\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n**file.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    tools:ignore=&quot;ExtraText&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;2&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@drawable/gradient&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:text=&quot;Absolute Pressure&quot; /&gt;\r\n        &lt;Space\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;15dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@drawable/gradient&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:text=&quot;Acoustic Flowmeter&quot; /&gt;\r\n        &lt;Space\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;15dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@drawable/gradient&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:text=&quot;Bernoulli Number&quot; /&gt;\r\n        &lt;Space\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;15dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"I want to make a search bar for this code to search by buttons (between btn1 and btn2 and btn3) and hide the non-matched results","body":"<p>I am trying to add a search bar that enables me to search by buttons, search between btn1 and btn2 and btn3. I tried a lot of codes but all of them were focused on TextView and not on buttons. So hope to help me and if I missed details please let me know to describe more.</p>\n<p>The two files (.java and .xml) are typed below. thank you.</p>\n<p><strong>file.java</strong></p>\n<pre><code>package com.example.myapp1;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.SearchView;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.app.DownloadManager;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    SearchView sv;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getSupportActionBar().setTitle(&quot;My First App&quot;);\n\n\n\n        Button btn1 = findViewById(R.id.btn1);\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n                startActivity(intent);\n            }});\n\n\n        Button btn2 = findViewById(R.id.btn2);\n        btn2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, MainActivity3.class);\n                startActivity(intent);\n            }});\n\n        Button btn3 = findViewById(R.id.btn3);\n\n        btn3.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, MainActivity4.class);\n                startActivity(intent);\n            }});\n\n\n\n        List&lt;Button&gt; buttonList = new ArrayList&lt;&gt;();\n\n  \n        buttonList.add(view.findViewById(R.id.btn1));\n        buttonList.add(view.findViewById(R.id.btn2));\n        buttonList.add(view.findViewById(R.id.btn3));\n\n        sv.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n\n            @Override\n            public boolean onQueryTextSubmit(String s) {\n                for(int i = 0; i &lt; buttonList.size(); i++) {\n\n                    String buttonText = (String) buttonList.get(i).getText();\n\n                    if(buttonText.toLowerCase(Locale.ROOT).equals(s.toLowerCase())) {\n                        buttonList.get(i).setVisibility(View.VISIBLE);\n                    } else {\n                        buttonList.get(i).setVisibility(View.INVISIBLE);\n                    }\n                }\n\n                return false;\n            }\n            @Override\n            public boolean onQueryTextChange(String s) {\n                if(s.isEmpty()) {\n                    for(int i = 0; i &lt; buttonList.size(); i++) {\n                        buttonList.get(i).setVisibility(View.VISIBLE);\n                    }\n                }\n                return false;\n            }\n        });\n    }\n}\n\n\n\n</code></pre>\n<p><strong>file.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:ignore=&quot;ExtraText&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:orientation=&quot;vertical&quot;\n        android:weightSum=&quot;2&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;90dp&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textSize=&quot;25dp&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/gradient&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;Absolute Pressure&quot; /&gt;\n        &lt;Space\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;15dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;90dp&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textSize=&quot;25dp&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/gradient&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;Acoustic Flowmeter&quot; /&gt;\n        &lt;Space\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;15dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;90dp&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textSize=&quot;25dp&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/gradient&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;Bernoulli Number&quot; /&gt;\n        &lt;Space\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;15dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23972086,"reputation":1,"user_id":17960641,"display_name":"Duy L&#234; Thế"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662974313,"creation_date":1662974050,"answer_id":73686961,"question_id":73686694,"body_markdown":"You can try\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fu7Fw.png","title":"How can I control position of scroll in recyclerview","body":"<p>You can try\n<a href=\"https://i.stack.imgur.com/Fu7Fw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662974827,"creation_date":1662974827,"answer_id":73687106,"question_id":73686694,"body_markdown":"Try this:\r\n\r\n      contenuRecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                if (yourLayoutManager.findFirstVisibleItemPosition() != 1){\r\n                    // visible toolbar\r\n                } else {\r\n                    // gone toolbar\r\n                }\r\n\r\n            }\r\n        });\r\n\r\nyourLayoutManager can be :\r\n\r\n - LinearLayoutManger\r\n - GridLayoutManager\r\n - StaggeredGridLayoutManager","title":"How can I control position of scroll in recyclerview","body":"<p>Try this:</p>\n<pre><code>  contenuRecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n\n            if (yourLayoutManager.findFirstVisibleItemPosition() != 1){\n                // visible toolbar\n            } else {\n                // gone toolbar\n            }\n\n        }\n    });\n</code></pre>\n<p>yourLayoutManager can be :</p>\n<ul>\n<li>LinearLayoutManger</li>\n<li>GridLayoutManager</li>\n<li>StaggeredGridLayoutManager</li>\n</ul>\n"}],"owner":{"account_id":25958925,"reputation":1,"user_id":19675864,"display_name":"Spider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1662974827,"creation_date":1662972604,"question_id":73686694,"body_markdown":"i need when scroll to top position or first item show in the recyclerview do something like show toolbar and when scroll down or hide first item in recyclerview hide toolbar or do somethinghing","title":"How can I control position of scroll in recyclerview","body":"<p>i need when scroll to top position or first item show in the recyclerview do something like show toolbar and when scroll down or hide first item in recyclerview hide toolbar or do somethinghing</p>\n"},{"tags":["java","android","xml","widget"],"comments":[{"owner":{"account_id":3578736,"reputation":1444,"user_id":2987421,"accept_rate":25,"display_name":"Santosh Kathait"},"score":0,"creation_date":1399802462,"post_id":23591171,"comment_id":36209220,"body_markdown":"follow http://www.vogella.com/tutorials/AndroidWidgets/article.html","body":"follow <a href=\"http://www.vogella.com/tutorials/AndroidWidgets/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidWidgets/article.html</a>"},{"owner":{"account_id":2626212,"reputation":29,"user_id":2273145,"accept_rate":100,"display_name":"user2273145"},"score":1,"creation_date":1399803376,"post_id":23591171,"comment_id":36209444,"body_markdown":"Thanks Kat-hat, i understand about the tutorial concept of widget, and other source from google, but what i want to do is to make a wifi widget from my existing application. None of the source i found was about making a widget of something else not about a system service related..","body":"Thanks Kat-hat, i understand about the tutorial concept of widget, and other source from google, but what i want to do is to make a wifi widget from my existing application. None of the source i found was about making a widget of something else not about a system service related.."}],"owner":{"account_id":2626212,"reputation":29,"user_id":2273145,"accept_rate":100,"display_name":"user2273145"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662974544,"creation_date":1399802098,"question_id":23591171,"body_markdown":"I&#39;m new to android development.\r\n\r\nI have written an application that can turn WiFi On/Off.\r\n\r\nHere is my code:\r\n\r\n**MainActivity.java**\r\n\r\n        package com.narun.wifi_control;\r\n        import android.net.ConnectivityManager;\r\n        import android.net.wifi.WifiManager;\r\n        import android.os.Bundle;\r\n        import android.widget.CompoundButton;\r\n        import android.widget.Toast;\r\n        import android.widget.ToggleButton;\r\n        import android.app.Activity;\r\n        import android.content.Context;\r\n    \r\n        public class MainActivity extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            \r\n            final Context context = getApplicationContext();\r\n            final CharSequence wifioff = &quot;Wifi is OFF&quot;;\r\n            final CharSequence wifion = &quot;Wifi is ON&quot;;\r\n            final int duration= Toast.LENGTH_SHORT;\r\n            \r\n            \r\n          final WifiManager wifiman=(WifiManager)     getBaseContext().getSystemService(Context.WIFI_SERVICE);\r\n            ToggleButton tb = (ToggleButton) findViewById(R.id.toggleButton1);\r\n            \r\n            ConnectivityManager connman = (ConnectivityManager)     getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            boolean wifi =     connman.getNetworkInfo(ConnectivityManager.TYPE_WIFI).isConnectedOrConnecting();\r\n            \r\n           if(wifi){\r\n           \ttb.setChecked(true);\r\n           \tToast toast= Toast.makeText(context, wifion, duration);\r\n    \r\n           \ttoast.show();\r\n       \r\n           \t\r\n           }\r\n            else{\r\n           \ttb.setChecked(false);\r\n           \tToast toast = Toast.makeText(context, wifioff, duration);\r\n           \ttoast.show();\r\n     \r\n            }\r\n            \r\n    \r\n            tb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onCheckedChanged(CompoundButton buttonView, boolean     isChecked) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\tif(isChecked){\r\n    \t\t\t\t\twifiman.setWifiEnabled(true);\r\n    \t\t\t       \tToast toast= Toast.makeText(context, wifion, duration);\r\n    \t\t\t       \ttoast.show();\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\twifiman.setWifiEnabled(false);\r\n    \t\t\t       \tToast toast = Toast.makeText(context, wifioff, duration);\r\n    \t\t\t       \ttoast.show();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\n   \r\n\r\n**activity_main.xml**\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.narun.wifi_control.MainActivity&quot;\r\n    tools:ignore=&quot;MergeRootFrame&quot; &gt;\r\n\r\n    &lt;ToggleButton\r\n        android:id=&quot;@+id/toggleButton1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;62dp&quot;\r\n        android:text=&quot;ToggleButton&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:text=&quot;Wifi Control&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nand my manifest file\r\n\r\n**AndroidManifest.xml**\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.narun.wifi_control&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;19&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;com.narun.wifi_control.MainActivity&quot;\r\n                android:label=&quot;@string/app_name&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nBut I want to make it as a home screen widget as well that when we click, it should turn Wifi On/Off from home screen, how can I achieve this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to make wifi widget in Android","body":"<p>I'm new to android development.</p>\n\n<p>I have written an application that can turn WiFi On/Off.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>    package com.narun.wifi_control;\n    import android.net.ConnectivityManager;\n    import android.net.wifi.WifiManager;\n    import android.os.Bundle;\n    import android.widget.CompoundButton;\n    import android.widget.Toast;\n    import android.widget.ToggleButton;\n    import android.app.Activity;\n    import android.content.Context;\n\n    public class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final Context context = getApplicationContext();\n        final CharSequence wifioff = \"Wifi is OFF\";\n        final CharSequence wifion = \"Wifi is ON\";\n        final int duration= Toast.LENGTH_SHORT;\n\n\n      final WifiManager wifiman=(WifiManager)     getBaseContext().getSystemService(Context.WIFI_SERVICE);\n        ToggleButton tb = (ToggleButton) findViewById(R.id.toggleButton1);\n\n        ConnectivityManager connman = (ConnectivityManager)     getSystemService(Context.CONNECTIVITY_SERVICE);\n        boolean wifi =     connman.getNetworkInfo(ConnectivityManager.TYPE_WIFI).isConnectedOrConnecting();\n\n       if(wifi){\n        tb.setChecked(true);\n        Toast toast= Toast.makeText(context, wifion, duration);\n\n        toast.show();\n\n\n       }\n        else{\n        tb.setChecked(false);\n        Toast toast = Toast.makeText(context, wifioff, duration);\n        toast.show();\n\n        }\n\n\n        tb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean     isChecked) {\n                // TODO Auto-generated method stub\n\n                if(isChecked){\n                    wifiman.setWifiEnabled(true);\n                    Toast toast= Toast.makeText(context, wifion, duration);\n                    toast.show();\n                }\n                else{\n                    wifiman.setWifiEnabled(false);\n                    Toast toast = Toast.makeText(context, wifioff, duration);\n                    toast.show();\n                }\n\n            }\n        });\n\n\n\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.narun.wifi_control.MainActivity\"\ntools:ignore=\"MergeRootFrame\" &gt;\n\n&lt;ToggleButton\n    android:id=\"@+id/toggleButton1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"62dp\"\n    android:text=\"ToggleButton\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"16dp\"\n    android:text=\"Wifi Control\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>and my manifest file</p>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.narun.wifi_control\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"19\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\"com.narun.wifi_control.MainActivity\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>But I want to make it as a home screen widget as well that when we click, it should turn Wifi On/Off from home screen, how can I achieve this?</p>\n"},{"tags":["java","spring-boot","design-patterns","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":15757564,"reputation":344,"user_id":11370275,"display_name":"crazy_code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662974275,"creation_date":1662974275,"answer_id":73687003,"question_id":73646110,"body_markdown":"Solved this problem by using Reflection, below is the code that solved the issue.\r\n\r\nNote : this requires me to know the list of fully qualified classNames and method names along with their parameters.\r\n\r\n```\r\n@Component\r\npublic class SampleJobExecutor extends ProcessFunction&lt;String, String&gt; {\r\n\r\n@Autowired\r\nMyAppProperties myAppProperties;\r\n\r\n\t@Override\r\n\tpublic void processElement(String inputMessage, ProcessFunction&lt;String, String&gt;.Context context,\r\n\t\t\tCollector&lt;String&gt; collector) throws Exception {\r\n\t\t\r\n\t\tString className = null;\r\n\t\tString methodName = null;\r\n\t\ttry {\t\r\n\t\t\t\r\n\t\t\tMap&lt;String, List&lt;String&gt;&gt; map = myAppProperties.getMapOfImplementors();\r\n\t\t\t\r\n\t\t\tJSONObject json = new JSONObject(inputMessage);\r\n\t\t\tif (json != null &amp;&amp; json.has(&quot;appName&quot;)) {\r\n\t\t\t\tclassName = map.get(json.getString(&quot;appName&quot;)).get(0);\r\n\t\t\t\tmethodName = map.get(json.getString(&quot;appName&quot;)).get(1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tClass&lt;?&gt; forName = Class.forName(className);\r\n\t\t\tObject job = forName.newInstance();\r\n\t\t\tMethod method = forName.getDeclaredMethod(methodName, String.class);\r\n\t\t\tmethod.invoke(job , inputMessage);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"Apache Flink Kafka Stream Processing based on conditions","body":"<p>Solved this problem by using Reflection, below is the code that solved the issue.</p>\n<p>Note : this requires me to know the list of fully qualified classNames and method names along with their parameters.</p>\n<pre><code>@Component\npublic class SampleJobExecutor extends ProcessFunction&lt;String, String&gt; {\n\n@Autowired\nMyAppProperties myAppProperties;\n\n    @Override\n    public void processElement(String inputMessage, ProcessFunction&lt;String, String&gt;.Context context,\n            Collector&lt;String&gt; collector) throws Exception {\n        \n        String className = null;\n        String methodName = null;\n        try {   \n            \n            Map&lt;String, List&lt;String&gt;&gt; map = myAppProperties.getMapOfImplementors();\n            \n            JSONObject json = new JSONObject(inputMessage);\n            if (json != null &amp;&amp; json.has(&quot;appName&quot;)) {\n                className = map.get(json.getString(&quot;appName&quot;)).get(0);\n                methodName = map.get(json.getString(&quot;appName&quot;)).get(1);\n            }\n            \n            \n            Class&lt;?&gt; forName = Class.forName(className);\n            Object job = forName.newInstance();\n            Method method = forName.getDeclaredMethod(methodName, String.class);\n            method.invoke(job , inputMessage);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15757564,"reputation":344,"user_id":11370275,"display_name":"crazy_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73687003,"answer_count":1,"score":0,"last_activity_date":1662974275,"creation_date":1662626580,"question_id":73646110,"body_markdown":"Am building a wrapper library using apache-flink where I am listening(consuming) from multiple topics and I have a set of applications that want to process the messages from those topics.\r\n\r\nExample :\r\nI have 10 applications app1, app2, app3 ... app10 (each of them is a java library part of the same on-prem project, ie., all 10 jars are part of same .war file)\r\nout of which only 5 are supposed to consume the messages coming to the consumer group. I am able to do filtering for 5 apps with the help of filter function.\r\n\r\nThe challenge is in the ```strStream.process(executionServiceInterface)``` function, where app1 provides an implementation class for ```ExceucionServiceInterface``` as ```ExecutionServiceApp1Impl``` and similary app2 provides  ```ExecutionServiceApp2Impl```.\r\n\r\nwhen there are multiple implementations available spring wants us to provide ```@Qualifier``` annotation or ```@Primary``` has to be marked on the implementations (ExecutionServiceApp1Impl , ExecutionServiceApp2Impl).\r\n\r\nBut I don&#39;t really want to do this. As am building a generic wrapper library that should support any no of such applications (app1, app2 etc) and all of them should be able to implement their own  implementation logic(ExecutionServiceApp1Impl , ExecutionServiceApp2Impl).\r\n\r\nCan someone help me here ? how to solve this ?\r\n\r\nBelow is the code for reference.\r\n```\r\n@Autowired\r\nprivate ExceucionServiceInterface executionServiceInterface;\r\n\r\npublic void init(){\r\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\tFlinkKafkaConsumer011&lt;String&gt; consumer = createStringConsumer(topicList, kafkaAddress, kafkaGroup);\r\n\tif (consumer != null) {\r\n\t\tDataStream&lt;String&gt; strStream = environment.addSource(consumer);\r\n\t\tstrStream.filter(filterFunctionInterface).process(executionServiceInterface);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\npublic FlinkKafkaConsumer011&lt;String&gt; createStringConsumer(List&lt;String&gt; listOfTopics, String kafkaAddress, String kafkaGroup) throws Exception {\r\n    \tFlinkKafkaConsumer011&lt;String&gt; myConsumer = null;\r\n    \ttry {\r\n\t        Properties props = new Properties();\r\n\t        props.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\r\n\t        props.setProperty(&quot;group.id&quot;, kafkaGroup);\r\n\t        myConsumer = new FlinkKafkaConsumer011&lt;&gt;(listOfTopics, new SimpleStringSchema(), props);\r\n    \t} catch(Exception e) {\r\n    \t\tthrow e;\r\n    \t}\r\n        return myConsumer;\r\n    }\r\n```\r\n\r\nMany thanks in advance!!","title":"Apache Flink Kafka Stream Processing based on conditions","body":"<p>Am building a wrapper library using apache-flink where I am listening(consuming) from multiple topics and I have a set of applications that want to process the messages from those topics.</p>\n<p>Example :\nI have 10 applications app1, app2, app3 ... app10 (each of them is a java library part of the same on-prem project, ie., all 10 jars are part of same .war file)\nout of which only 5 are supposed to consume the messages coming to the consumer group. I am able to do filtering for 5 apps with the help of filter function.</p>\n<p>The challenge is in the <code>strStream.process(executionServiceInterface)</code> function, where app1 provides an implementation class for <code>ExceucionServiceInterface</code> as <code>ExecutionServiceApp1Impl</code> and similary app2 provides  <code>ExecutionServiceApp2Impl</code>.</p>\n<p>when there are multiple implementations available spring wants us to provide <code>@Qualifier</code> annotation or <code>@Primary</code> has to be marked on the implementations (ExecutionServiceApp1Impl , ExecutionServiceApp2Impl).</p>\n<p>But I don't really want to do this. As am building a generic wrapper library that should support any no of such applications (app1, app2 etc) and all of them should be able to implement their own  implementation logic(ExecutionServiceApp1Impl , ExecutionServiceApp2Impl).</p>\n<p>Can someone help me here ? how to solve this ?</p>\n<p>Below is the code for reference.</p>\n<pre><code>@Autowired\nprivate ExceucionServiceInterface executionServiceInterface;\n\npublic void init(){\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\n    FlinkKafkaConsumer011&lt;String&gt; consumer = createStringConsumer(topicList, kafkaAddress, kafkaGroup);\n    if (consumer != null) {\n        DataStream&lt;String&gt; strStream = environment.addSource(consumer);\n        strStream.filter(filterFunctionInterface).process(executionServiceInterface);\n    }\n}\n\n</code></pre>\n<pre><code>public FlinkKafkaConsumer011&lt;String&gt; createStringConsumer(List&lt;String&gt; listOfTopics, String kafkaAddress, String kafkaGroup) throws Exception {\n        FlinkKafkaConsumer011&lt;String&gt; myConsumer = null;\n        try {\n            Properties props = new Properties();\n            props.setProperty(&quot;bootstrap.servers&quot;, kafkaAddress);\n            props.setProperty(&quot;group.id&quot;, kafkaGroup);\n            myConsumer = new FlinkKafkaConsumer011&lt;&gt;(listOfTopics, new SimpleStringSchema(), props);\n        } catch(Exception e) {\n            throw e;\n        }\n        return myConsumer;\n    }\n</code></pre>\n<p>Many thanks in advance!!</p>\n"},{"tags":["java","rest","mocking","mockito","jmockit"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1662701564,"post_id":73657673,"comment_id":130070883,"body_markdown":"Does this answer your question? [Is there any Mockito-like framework for java application (not under JUnit/Testing environment)?](https://stackoverflow.com/questions/33945506/is-there-any-mockito-like-framework-for-java-application-not-under-junit-testin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33945506/is-there-any-mockito-like-framework-for-java-application-not-under-junit-testin\">Is there any Mockito-like framework for java application (not under JUnit/Testing environment)?</a>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1662701577,"post_id":73657673,"comment_id":130070888,"body_markdown":"let me open a big secret - junit test case is normal class, the same as any other","body":"let me open a big secret - junit test case is normal class, the same as any other"},{"owner":{"account_id":22519773,"reputation":51,"user_id":16713520,"display_name":"Janvi Kadu"},"score":0,"creation_date":1662704179,"post_id":73657673,"comment_id":130071345,"body_markdown":"Yes i agree, but i want to use mock framework in java application , not in junit or any testing environment","body":"Yes i agree, but i want to use mock framework in java application , not in junit or any testing environment"}],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662973248,"creation_date":1662973248,"answer_id":73686813,"question_id":73657673,"body_markdown":"While mock-frameworks are normally done only in test code, that&#39;s not a requirement.  You could certainly import your favorite mocking framework as a compile (not test) dependency, and then in any src/main/java class, you would be able to constuct mocks in the normal manner (e.g. @Mock etc).\r\n\r\nWhy you would do that, I don&#39;t know.  And therein lies a much more intersting question.  Realize mock-frameworks operate via reflection and sometimes by byte-code manipulation.  That poses some concern for production-quality code, but now you have it in mainline source.  Depending on what you are REALLY trying to accomplish, there might be better ways - e.g. de-encapsulation, AoP, stubs, etc.","title":"Can we Mock any object or class but not in Junit","body":"<p>While mock-frameworks are normally done only in test code, that's not a requirement.  You could certainly import your favorite mocking framework as a compile (not test) dependency, and then in any src/main/java class, you would be able to constuct mocks in the normal manner (e.g. @Mock etc).</p>\n<p>Why you would do that, I don't know.  And therein lies a much more intersting question.  Realize mock-frameworks operate via reflection and sometimes by byte-code manipulation.  That poses some concern for production-quality code, but now you have it in mainline source.  Depending on what you are REALLY trying to accomplish, there might be better ways - e.g. de-encapsulation, AoP, stubs, etc.</p>\n"}],"owner":{"account_id":22519773,"reputation":51,"user_id":16713520,"display_name":"Janvi Kadu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1662973248,"creation_date":1662701363,"question_id":73657673,"body_markdown":"Which mock framework can we use to mock a class or its object.\r\nWe usually use mocking framework while implementing junit test cases, but how can i mock a class/its&#39;s object not in any test case class but a normal class.\r\n\r\nIs it possible to do so ?","title":"Can we Mock any object or class but not in Junit","body":"<p>Which mock framework can we use to mock a class or its object.\nWe usually use mocking framework while implementing junit test cases, but how can i mock a class/its's object not in any test case class but a normal class.</p>\n<p>Is it possible to do so ?</p>\n"},{"tags":["java","string","testing","contains","alphabetic"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662898014,"post_id":73678696,"comment_id":130108089,"body_markdown":"`assertFalse()` takes a parameter. What strings do you expect to match the regular expression you are using?","body":"<code>assertFalse()</code> takes a parameter. What strings do you expect to match the regular expression you are using?"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1662900682,"post_id":73678696,"comment_id":130108624,"body_markdown":"probably try something like `Assert.assertTrue(condition);` where condition is `Pattern.compile(&quot;insert regex here&quot;).matcher(&quot;string to be tested here&quot;).matches();`","body":"probably try something like <code>Assert.assertTrue(condition);</code> where condition is <code>Pattern.compile(&quot;insert regex here&quot;).matcher(&quot;string to be tested here&quot;).matches();</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662918137,"post_id":73678696,"comment_id":130112104,"body_markdown":"Are you open to a solution without regex?","body":"Are you open to a solution without regex?"},{"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"score":0,"creation_date":1662964122,"post_id":73678696,"comment_id":130118788,"body_markdown":"@BasilBourque yes ofc","body":"@BasilBourque yes ofc"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662972735,"creation_date":1662968590,"answer_id":73685956,"question_id":73678696,"body_markdown":"# Stream of code points\r\n\r\nTo work with individual characters, use code point integer numbers. Every character in Unicode is assigned a permanent number, its code point. \r\n\r\nThe [Western Arabic numerals][1] 0-9 have code points 48-57, inclusive. The [HYPHEN-MINUS][2] character has a code point of 45.\r\n\r\n    int[] ssnCodePoints = IntStream.concat( IntStream.of( 45 ) , IntStream.rangeClosed( 48 , 57 ) ).toArray() ;\r\n\r\nTest if any of the input code points is *not* one of our desired characters. Our call to `findAny` returns an `OptionalInt`. If empty, that means no unexpected characters were found.\r\n\r\n    boolean containsOnlySsnCharacters = \r\n        Arrays\r\n        .toStream( input.codePoints() )\r\n        .filter( codePoint -&gt; Arrays.binarySearch( ssnCodePoints , codePoint ) &lt; 0 )  // Filter for unexpected characters. \r\n        .findAny()  // Stop checking after finding any unexpected character. \r\n        .isEmpty() \r\n    ;\r\n\r\nThis addresses the specifics of your Question. Be aware that this is not enough in real work. You would also test the length, and verify by position of each expected digit and each HYPHEN-MINUS.\r\n\r\n\r\n\r\n        \r\n\r\n \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Arabic_numerals\r\n  [2]: https://en.m.wikipedia.org/wiki/Hyphen-minus","title":"How to write a test in Java that would check if a String contains any alphabetic characters?","body":"<h1>Stream of code points</h1>\n<p>To work with individual characters, use code point integer numbers. Every character in Unicode is assigned a permanent number, its code point.</p>\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/Arabic_numerals\" rel=\"nofollow noreferrer\">Western Arabic numerals</a> 0-9 have code points 48-57, inclusive. The <a href=\"https://en.m.wikipedia.org/wiki/Hyphen-minus\" rel=\"nofollow noreferrer\">HYPHEN-MINUS</a> character has a code point of 45.</p>\n<pre><code>int[] ssnCodePoints = IntStream.concat( IntStream.of( 45 ) , IntStream.rangeClosed( 48 , 57 ) ).toArray() ;\n</code></pre>\n<p>Test if any of the input code points is <em>not</em> one of our desired characters. Our call to <code>findAny</code> returns an <code>OptionalInt</code>. If empty, that means no unexpected characters were found.</p>\n<pre><code>boolean containsOnlySsnCharacters = \n    Arrays\n    .toStream( input.codePoints() )\n    .filter( codePoint -&gt; Arrays.binarySearch( ssnCodePoints , codePoint ) &lt; 0 )  // Filter for unexpected characters. \n    .findAny()  // Stop checking after finding any unexpected character. \n    .isEmpty() \n;\n</code></pre>\n<p>This addresses the specifics of your Question. Be aware that this is not enough in real work. You would also test the length, and verify by position of each expected digit and each HYPHEN-MINUS.</p>\n"},{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662968964,"creation_date":1662968964,"answer_id":73686032,"question_id":73678696,"body_markdown":"Another option is using [StringUtils.isAlpha][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isAlpha-java.lang.CharSequence-\r\n  [2]: https://i.stack.imgur.com/ddgZw.png","title":"How to write a test in Java that would check if a String contains any alphabetic characters?","body":"<p>Another option is using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isAlpha-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isAlpha</a></p>\n<p><a href=\"https://i.stack.imgur.com/ddgZw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddgZw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662972735,"creation_date":1662893973,"question_id":73678696,"body_markdown":"In a piece of code (exercise for a bootcamp) I had to solve some tasks. One of those tasks is to check if a String that is provided to my method has a length of exactly x digits. This String is hypothetically a social security number, so it should contain only numeric values.  \r\nTherefore, I would like to create a test that would check that all the characters in the socialSecurityNumber String are only numeric values. \r\n\r\nI&#39;ve only seen tests that use simple checks, like assertEquals (expected: 10, Actual: etc). But how would I write in a test something like &quot;matches(&quot;[a-zA-Z]+&quot;)&quot;?\r\n\r\nI&#39;m thinking \r\n\r\n```\r\n        @Test\r\n      void stringTextShouldGiveError (String socialSecurityNumber){\r\n        boolean check = false;\r\n        if (socialSecurityNumber.matches(&quot;[a-zA-Z]+&quot;)){\r\n          check = true;\r\n        }\r\n        assertFalse();\r\n\r\n\r\n```\r\n\r\n\r\nHow would I make the above work?\r\nThanks\r\n\r\n","title":"How to write a test in Java that would check if a String contains any alphabetic characters?","body":"<p>In a piece of code (exercise for a bootcamp) I had to solve some tasks. One of those tasks is to check if a String that is provided to my method has a length of exactly x digits. This String is hypothetically a social security number, so it should contain only numeric values.<br />\nTherefore, I would like to create a test that would check that all the characters in the socialSecurityNumber String are only numeric values.</p>\n<p>I've only seen tests that use simple checks, like assertEquals (expected: 10, Actual: etc). But how would I write in a test something like &quot;matches(&quot;[a-zA-Z]+&quot;)&quot;?</p>\n<p>I'm thinking</p>\n<pre><code>        @Test\n      void stringTextShouldGiveError (String socialSecurityNumber){\n        boolean check = false;\n        if (socialSecurityNumber.matches(&quot;[a-zA-Z]+&quot;)){\n          check = true;\n        }\n        assertFalse();\n\n\n</code></pre>\n<p>How would I make the above work?\nThanks</p>\n"},{"tags":["java","android","itext","pdfa"],"answers":[{"tags":[],"owner":{"account_id":2093792,"reputation":59,"user_id":1863013,"display_name":"bostek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662972707,"creation_date":1661852477,"answer_id":73540318,"question_id":73539282,"body_markdown":"    InputStream ins = context.getResources().openRawResource(\r\n                        context.getResources().getIdentifier(\r\n                          &quot;icc_profile&quot;, &quot;raw&quot;, context.getPackageName()));\r\n    ICC_Profile icc = ICC_Profile.getInstance(ins);\r\n    if (icc != null) {\r\n        writer.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, \r\n                                &quot;sRGB IEC61966-2.1&quot;, icc);\r\n    }\r\n\r\nAnd call `pdfDocument.open();` before that.","title":"itext PDF/A load OutputIntents","body":"<pre><code>InputStream ins = context.getResources().openRawResource(\n                    context.getResources().getIdentifier(\n                      &quot;icc_profile&quot;, &quot;raw&quot;, context.getPackageName()));\nICC_Profile icc = ICC_Profile.getInstance(ins);\nif (icc != null) {\n    writer.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, \n                            &quot;sRGB IEC61966-2.1&quot;, icc);\n}\n</code></pre>\n<p>And call <code>pdfDocument.open();</code> before that.</p>\n"}],"owner":{"account_id":2093792,"reputation":59,"user_id":1863013,"display_name":"bostek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73540318,"answer_count":1,"score":0,"last_activity_date":1662972707,"creation_date":1661847836,"question_id":73539282,"body_markdown":"I would like to create a PDF/A(Archive) with Itext 5 on Android. \r\nI get the error:\r\n&gt; com.itextpdf.text.pdf.PdfAConformanceException: If an uncalibrated colour space(DeviceRGB/DeviceCMYK/DeviceGray) is used in a file, then that file shall contain a PDF/A OutputIntent.\r\n&gt; \r\n\r\nNot sure(didn&#39;t find any other solution), but I think I  need to add output intents from file:\r\n~~~\r\nFile file = new File(&quot;resources/data/sRGB_CS_profile.icm&quot;);\r\nICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(file));\r\nwriter.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, &quot;sRGB IEC61966-2.1&quot;, icc);\r\n~~~\r\n\r\nBut I just can&#39;t get it from project resources. Any idea how to make that?","title":"itext PDF/A load OutputIntents","body":"<p>I would like to create a PDF/A(Archive) with Itext 5 on Android.\nI get the error:</p>\n<blockquote>\n<p>com.itextpdf.text.pdf.PdfAConformanceException: If an uncalibrated colour space(DeviceRGB/DeviceCMYK/DeviceGray) is used in a file, then that file shall contain a PDF/A OutputIntent.</p>\n</blockquote>\n<p>Not sure(didn't find any other solution), but I think I  need to add output intents from file:</p>\n<pre><code>File file = new File(&quot;resources/data/sRGB_CS_profile.icm&quot;);\nICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(file));\nwriter.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, &quot;sRGB IEC61966-2.1&quot;, icc);\n</code></pre>\n<p>But I just can't get it from project resources. Any idea how to make that?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662217296,"post_id":73590934,"comment_id":129957559,"body_markdown":"Could you post the error, please?","body":"Could you post the error, please?"},{"owner":{"account_id":26234353,"reputation":11,"user_id":19909770,"display_name":"tence"},"score":0,"creation_date":1662222419,"post_id":73590934,"comment_id":129958549,"body_markdown":"the error is only on catch statement saying FMD is invalid. Im tryng to save the data coming from the reader to save it on the database (which is send through api to laravel backend) then retrieve the data in android studio (java) and comapre the difference","body":"the error is only on catch statement saying FMD is invalid. Im tryng to save the data coming from the reader to save it on the database (which is send through api to laravel backend) then retrieve the data in android studio (java) and comapre the difference"}],"answers":[{"tags":[],"owner":{"account_id":26234353,"reputation":11,"user_id":19909770,"display_name":"tence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662645639,"creation_date":1662222835,"answer_id":73593851,"question_id":73590934,"body_markdown":"this is the code for retrieving data from api and compare it from the reader finger print\r\n\r\n    try{\r\n    \t\tJSONArray jsonarray = new JSONArray(http.getResponse());\r\n    \t\tfor(int i=0; i &lt; jsonarray.length(); i++) {\r\n    \t\tJSONObject jsonobject = jsonarray.getJSONObject(i);\r\n    \t\tString id = jsonobject.getString(&quot;fps_thumb&quot;);\r\n    \t\tbyte[] bytes = id.getBytes(StandardCharsets.UTF_8);\r\n    \r\n    \t\ttry {\r\n    \t\tFmd m_fmdAuxiliar = UareUGlobal.GetImporter().ImportFmd(bytes, Fmd.Format.ANSI_378_2004, Fmd.Format.ANSI_378_2004);\r\n    \t\tm_score = m_engine.Compare(m_fmdAuxiliar, 0,m_engine.CreateFmd(cap_result.image, Fmd.Format.ANSI_378_2004), 0);\r\n    \r\n    \t\tDecimalFormat formatting = new DecimalFormat(&quot;##.######&quot;);\r\n    \t\tm_text_conclusionString = &quot;Dissimilarity Score: &quot; + String.valueOf(m_score)+ &quot;, False match rate: &quot; +\r\n    \t\tDouble.valueOf(formatting.format((double)m_score/0x7FFFFFFF)) + &quot; (&quot; + (m_score &lt; (0x7FFFFFFF/100000)\r\n    \t\t? &quot;match&quot; : &quot;no match&quot;) + &quot;)&quot;;\r\n    \r\n    \t\tLog.i(&quot;TAG&quot;,m_text_conclusionString);\r\n    \r\n    \t\t} catch (UareUException e) {\r\n    \t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t}\r\n    \t\t}\r\n    \t\tcatch (JSONException e){\r\n    \t\te.printStackTrace();\r\n    \t\t}","title":"fmd is invalid using android studio with digital persona SDK","body":"<p>this is the code for retrieving data from api and compare it from the reader finger print</p>\n<pre><code>try{\n        JSONArray jsonarray = new JSONArray(http.getResponse());\n        for(int i=0; i &lt; jsonarray.length(); i++) {\n        JSONObject jsonobject = jsonarray.getJSONObject(i);\n        String id = jsonobject.getString(&quot;fps_thumb&quot;);\n        byte[] bytes = id.getBytes(StandardCharsets.UTF_8);\n\n        try {\n        Fmd m_fmdAuxiliar = UareUGlobal.GetImporter().ImportFmd(bytes, Fmd.Format.ANSI_378_2004, Fmd.Format.ANSI_378_2004);\n        m_score = m_engine.Compare(m_fmdAuxiliar, 0,m_engine.CreateFmd(cap_result.image, Fmd.Format.ANSI_378_2004), 0);\n\n        DecimalFormat formatting = new DecimalFormat(&quot;##.######&quot;);\n        m_text_conclusionString = &quot;Dissimilarity Score: &quot; + String.valueOf(m_score)+ &quot;, False match rate: &quot; +\n        Double.valueOf(formatting.format((double)m_score/0x7FFFFFFF)) + &quot; (&quot; + (m_score &lt; (0x7FFFFFFF/100000)\n        ? &quot;match&quot; : &quot;no match&quot;) + &quot;)&quot;;\n\n        Log.i(&quot;TAG&quot;,m_text_conclusionString);\n\n        } catch (UareUException e) {\n        e.printStackTrace();\n        }\n\n        }\n        }\n        catch (JSONException e){\n        e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":26234353,"reputation":11,"user_id":19909770,"display_name":"tence"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662972608,"creation_date":1662195565,"question_id":73590934,"body_markdown":"I&#39;m having trouble with creating fmd from byte. Error with fmd is invalid.  \r\nHere is my code \r\n\r\n```\r\nString id = jsonobject.getString(&quot;fps_thumb&quot;);\r\n\r\nbyte [] encodeByte= Base64.decode(id,Base64.DEFAULT);\r\n\r\nFmd m_fmdAuxiliar = UareUGlobal.GetImporter().ImportFmd(encodeByte, Fmd.Format.ANSI_378_2004, Fmd.Format.ISO_19794_2_2005);\r\n```\r\nDoes anyone know?","title":"fmd is invalid using android studio with digital persona SDK","body":"<p>I'm having trouble with creating fmd from byte. Error with fmd is invalid.<br />\nHere is my code</p>\n<pre><code>String id = jsonobject.getString(&quot;fps_thumb&quot;);\n\nbyte [] encodeByte= Base64.decode(id,Base64.DEFAULT);\n\nFmd m_fmdAuxiliar = UareUGlobal.GetImporter().ImportFmd(encodeByte, Fmd.Format.ANSI_378_2004, Fmd.Format.ISO_19794_2_2005);\n</code></pre>\n<p>Does anyone know?</p>\n"},{"tags":["java","spring","database","testing","jmockit"],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662972350,"creation_date":1662972350,"answer_id":73686644,"question_id":72470984,"body_markdown":"It&#39;s difficult to tell as you only show the test, and not the rest of the test class.  However, I&#39;m guessing that on the tested class, &quot;employerRepository&quot; and &quot;skillsRepoisitory&quot; are likely auto-wired.   Assuming so, then you likely want to make use of &quot;@Tested&quot; and &quot;@Injectable&quot; as opposed to &quot;@Mocked&quot;.   That is, your class is &quot;@Tested&quot; and the thing it needs at construction is passed as @Injectable.\r\n\r\n    public class DummyTest {\r\n      @Tested public HomeController ctrl;\r\n      @Injectable protected SkillRepository skillRepository;\r\n      @Injectable protected EmployerRepository employerRepository;\r\n      @Injectable protected JobRepository jobRepository;\r\n      @Test public void testSomething(..) { .. }\r\n    }\r\n\r\nYour second issue is that you aren&#39;t actually testing with the mocks you create.  In your test, you created a &quot;real&quot; HomeController via new, and then, via reflection, invoked processAddJobForm(..) on it.  It&#39;s much simpler:\r\n\r\n    @Test\r\n    public void testProcessAddJobFormHandlesSkillsProperly (\r\n            @Mocked Job job,\r\n            @Mocked Errors errors)\r\n        {\r\n\r\n        new Expectations() {{\r\n            skillRepository.findAllById((List&lt;Integer&gt;) any);\r\n            job.setSkills((List&lt;Skill&gt;) any);\r\n        }};\r\n\r\n        Model model = new ExtendedModelMap();\r\n        homeController.processAddJobForm(job, errors, model, 0, new ArrayList&lt;Skill&gt;());\r\n    }\r\n\r\n","title":"jmockit expectation keeps throwing missing invocation even though I&#39;m calling it","body":"<p>It's difficult to tell as you only show the test, and not the rest of the test class.  However, I'm guessing that on the tested class, &quot;employerRepository&quot; and &quot;skillsRepoisitory&quot; are likely auto-wired.   Assuming so, then you likely want to make use of &quot;@Tested&quot; and &quot;@Injectable&quot; as opposed to &quot;@Mocked&quot;.   That is, your class is &quot;@Tested&quot; and the thing it needs at construction is passed as @Injectable.</p>\n<pre><code>public class DummyTest {\n  @Tested public HomeController ctrl;\n  @Injectable protected SkillRepository skillRepository;\n  @Injectable protected EmployerRepository employerRepository;\n  @Injectable protected JobRepository jobRepository;\n  @Test public void testSomething(..) { .. }\n}\n</code></pre>\n<p>Your second issue is that you aren't actually testing with the mocks you create.  In your test, you created a &quot;real&quot; HomeController via new, and then, via reflection, invoked processAddJobForm(..) on it.  It's much simpler:</p>\n<pre><code>@Test\npublic void testProcessAddJobFormHandlesSkillsProperly (\n        @Mocked Job job,\n        @Mocked Errors errors)\n    {\n\n    new Expectations() {{\n        skillRepository.findAllById((List&lt;Integer&gt;) any);\n        job.setSkills((List&lt;Skill&gt;) any);\n    }};\n\n    Model model = new ExtendedModelMap();\n    homeController.processAddJobForm(job, errors, model, 0, new ArrayList&lt;Skill&gt;());\n}\n</code></pre>\n"}],"owner":{"account_id":24993046,"reputation":25,"user_id":18854026,"display_name":"Kang_the_Conqueror"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662972350,"creation_date":1654146975,"question_id":72470984,"body_markdown":"I am creating a Spring application and below are the related controller, repository,test, and the error msg.\r\n\r\nMy application has no problem in terms of functionality whatsoever but it&#39;s not passing this one unit test.\r\n\r\nI mainly have a problem with the Expectations method inside the jmockit test unit. I can&#39;t see WHY it is keep saying that I am missing an invocation?? \r\nEventhough I do call them at the very last else block of my controller\r\n\r\n```\r\nskillRepository.findAllById((List&lt;Integer&gt;))\r\n```\r\n\r\n```\r\njob.setSkills((List&lt;Skill&gt;))\r\n```\r\n\r\nI have been combing through others&#39; similar questions here but could not solve my problem.\r\nThank you in advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nController\r\n```\r\n@PostMapping(&quot;add&quot;)\r\n    public String processAddJobForm(@ModelAttribute @Valid Job newJob,\r\n                                       Errors errors, Model model, @RequestParam int employerId,\r\n                                    @RequestParam List&lt;Integer&gt; skills) {\r\n\r\n\r\n        if(errors.hasErrors() || skills.size()==1){\r\n            if(skills.size()==1){\r\n                model.addAttribute(&quot;skills_error&quot;,&quot;You have to choose at least one skill&quot;);\r\n            }\r\n            model.addAttribute(&quot;title&quot;,&quot;Add Job&quot;);\r\n            model.addAttribute(&quot;employers&quot;,employerRepository.findAll());\r\n            model.addAttribute(&quot;skills&quot;,skillRepository.findAll());\r\n            return &quot;add&quot;;\r\n        }\r\n        Optional&lt;Employer&gt; result = employerRepository.findById(employerId);\r\n\r\n        if(result.isEmpty()){\r\n            model.addAttribute(&quot;title&quot;,&quot;Invalid Employer ID: &quot;+employerId);\r\n            return &quot;add&quot;;\r\n        }else{\r\n            Employer employer = result.get();\r\n            newJob.setEmployer(employer);\r\n\r\n            List&lt;Skill&gt; skillObjs = (List&lt;Skill&gt;) skillRepository.findAllById(skills);\r\n            newJob.setSkills(skillObjs);\r\n\r\n            jobRepository.save(newJob);\r\n\r\n            return &quot;redirect:&quot;;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nRepository\r\n\r\n```\r\n@Repository\r\npublic interface SkillRepository extends CrudRepository&lt;Skill,Integer&gt; {\r\n}\r\n```\r\n\r\nTest unit \r\n```\r\n/*\r\n    * Verifies that HomeController.processAddJobForm queries skillRepository and sets skills properly\r\n    * */\r\n    @Test\r\n    public void testProcessAddJobFormHandlesSkillsProperly (\r\n            @Mocked SkillRepository skillRepository,\r\n            @Mocked EmployerRepository employerRepository,\r\n            @Mocked JobRepository jobRepository,\r\n            @Mocked Job job,\r\n            @Mocked Errors errors)\r\n            throws ClassNotFoundException, NoSuchMethodException, NoSuchFieldException, IllegalAccessException, InvocationTargetException {\r\n        Class homeControllerClass = getClassByName(&quot;controllers.HomeController&quot;);\r\n        Method processAddJobFormMethod = homeControllerClass.getMethod(&quot;processAddJobForm&quot;, Job.class, Errors.class, Model.class, int.class, List.class);\r\n\r\n        new Expectations() {{\r\n            skillRepository.findAllById((List&lt;Integer&gt;) any);\r\n            job.setSkills((List&lt;Skill&gt;) any);\r\n        }};\r\n\r\n        Model model = new ExtendedModelMap();\r\n        HomeController homeController = new HomeController();\r\n\r\n        Field skillRepositoryField = homeControllerClass.getDeclaredField(&quot;skillRepository&quot;);\r\n        skillRepositoryField.setAccessible(true);\r\n        skillRepositoryField.set(homeController, skillRepository);\r\n\r\n        Field employerRepositoryField = homeControllerClass.getDeclaredField(&quot;employerRepository&quot;);\r\n        employerRepositoryField.setAccessible(true);\r\n        employerRepositoryField.set(homeController, employerRepository);\r\n\r\n        Field jobRepositoryField = homeControllerClass.getDeclaredField(&quot;jobRepository&quot;);\r\n            jobRepositoryField.setAccessible(true);\r\n            jobRepositoryField.set(homeController, jobRepository);\r\n\r\n        processAddJobFormMethod.invoke(homeController,  job, errors, model, 0, new ArrayList&lt;Skill&gt;());\r\n    }\r\n```\r\n\r\nThe Error \r\n\r\n```\r\nMissing 1 invocation to:\r\norg.springframework.data.repository.CrudRepository#findAllById(any Iterable)\r\n   on mock instance: org.launchcode.techjobs.persistent.models.data.$Impl_SkillRepository@7030449d\r\nMissing 1 invocation to:\r\norg.springframework.data.repository.CrudRepository#findAllById(any Iterable)\r\n   on mock instance: org.launchcode.techjobs.persistent.models.data.$Impl_SkillRepository@7030449d\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: Missing invocations\r\n\tat org.launchcode.techjobs.persistent.TestTaskFour$1.&lt;init&gt;(TestTaskFour.java:143)\r\n\tat org.launchcode.techjobs.persistent.TestTaskFour.testProcessAddJobFormHandlesSkillsProperly(TestTaskFour.java:142)\r\n\t... 1 more\r\n\r\n\r\norg.launchcode.techjobs.persistent.TestTaskFour &gt; testProcessAddJobFormHandlesSkillsProperly(SkillRepository, EmployerRepository, JobRepository, Job, Errors) FAILED\r\n    mockit.internal.expectations.invocation.MissingInvocation\r\n        Caused by: mockit.internal.expectations.invocation.ExpectationError at TestTaskFour.java:143\r\n1 test completed, 1 failed\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; There were failing tests. See the report at: file:///Users/JK/Desktop/LaunchCode/LC_Java/assignment-4-techjobs-persistent-edition-suchunkang0822/build/reports/tests/test/index.html\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\r\nBUILD FAILED in 2s\r\n4 actionable tasks: 1 executed, 3 up-to-date\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"jmockit expectation keeps throwing missing invocation even though I&#39;m calling it","body":"<p>I am creating a Spring application and below are the related controller, repository,test, and the error msg.</p>\n<p>My application has no problem in terms of functionality whatsoever but it's not passing this one unit test.</p>\n<p>I mainly have a problem with the Expectations method inside the jmockit test unit. I can't see WHY it is keep saying that I am missing an invocation??\nEventhough I do call them at the very last else block of my controller</p>\n<pre><code>skillRepository.findAllById((List&lt;Integer&gt;))\n</code></pre>\n<pre><code>job.setSkills((List&lt;Skill&gt;))\n</code></pre>\n<p>I have been combing through others' similar questions here but could not solve my problem.\nThank you in advance.</p>\n<p>Controller</p>\n<pre><code>@PostMapping(&quot;add&quot;)\n    public String processAddJobForm(@ModelAttribute @Valid Job newJob,\n                                       Errors errors, Model model, @RequestParam int employerId,\n                                    @RequestParam List&lt;Integer&gt; skills) {\n\n\n        if(errors.hasErrors() || skills.size()==1){\n            if(skills.size()==1){\n                model.addAttribute(&quot;skills_error&quot;,&quot;You have to choose at least one skill&quot;);\n            }\n            model.addAttribute(&quot;title&quot;,&quot;Add Job&quot;);\n            model.addAttribute(&quot;employers&quot;,employerRepository.findAll());\n            model.addAttribute(&quot;skills&quot;,skillRepository.findAll());\n            return &quot;add&quot;;\n        }\n        Optional&lt;Employer&gt; result = employerRepository.findById(employerId);\n\n        if(result.isEmpty()){\n            model.addAttribute(&quot;title&quot;,&quot;Invalid Employer ID: &quot;+employerId);\n            return &quot;add&quot;;\n        }else{\n            Employer employer = result.get();\n            newJob.setEmployer(employer);\n\n            List&lt;Skill&gt; skillObjs = (List&lt;Skill&gt;) skillRepository.findAllById(skills);\n            newJob.setSkills(skillObjs);\n\n            jobRepository.save(newJob);\n\n            return &quot;redirect:&quot;;\n        }\n\n    }\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface SkillRepository extends CrudRepository&lt;Skill,Integer&gt; {\n}\n</code></pre>\n<p>Test unit</p>\n<pre><code>/*\n    * Verifies that HomeController.processAddJobForm queries skillRepository and sets skills properly\n    * */\n    @Test\n    public void testProcessAddJobFormHandlesSkillsProperly (\n            @Mocked SkillRepository skillRepository,\n            @Mocked EmployerRepository employerRepository,\n            @Mocked JobRepository jobRepository,\n            @Mocked Job job,\n            @Mocked Errors errors)\n            throws ClassNotFoundException, NoSuchMethodException, NoSuchFieldException, IllegalAccessException, InvocationTargetException {\n        Class homeControllerClass = getClassByName(&quot;controllers.HomeController&quot;);\n        Method processAddJobFormMethod = homeControllerClass.getMethod(&quot;processAddJobForm&quot;, Job.class, Errors.class, Model.class, int.class, List.class);\n\n        new Expectations() {{\n            skillRepository.findAllById((List&lt;Integer&gt;) any);\n            job.setSkills((List&lt;Skill&gt;) any);\n        }};\n\n        Model model = new ExtendedModelMap();\n        HomeController homeController = new HomeController();\n\n        Field skillRepositoryField = homeControllerClass.getDeclaredField(&quot;skillRepository&quot;);\n        skillRepositoryField.setAccessible(true);\n        skillRepositoryField.set(homeController, skillRepository);\n\n        Field employerRepositoryField = homeControllerClass.getDeclaredField(&quot;employerRepository&quot;);\n        employerRepositoryField.setAccessible(true);\n        employerRepositoryField.set(homeController, employerRepository);\n\n        Field jobRepositoryField = homeControllerClass.getDeclaredField(&quot;jobRepository&quot;);\n            jobRepositoryField.setAccessible(true);\n            jobRepositoryField.set(homeController, jobRepository);\n\n        processAddJobFormMethod.invoke(homeController,  job, errors, model, 0, new ArrayList&lt;Skill&gt;());\n    }\n</code></pre>\n<p>The Error</p>\n<pre><code>Missing 1 invocation to:\norg.springframework.data.repository.CrudRepository#findAllById(any Iterable)\n   on mock instance: org.launchcode.techjobs.persistent.models.data.$Impl_SkillRepository@7030449d\nMissing 1 invocation to:\norg.springframework.data.repository.CrudRepository#findAllById(any Iterable)\n   on mock instance: org.launchcode.techjobs.persistent.models.data.$Impl_SkillRepository@7030449d\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: Missing invocations\n    at org.launchcode.techjobs.persistent.TestTaskFour$1.&lt;init&gt;(TestTaskFour.java:143)\n    at org.launchcode.techjobs.persistent.TestTaskFour.testProcessAddJobFormHandlesSkillsProperly(TestTaskFour.java:142)\n    ... 1 more\n\n\norg.launchcode.techjobs.persistent.TestTaskFour &gt; testProcessAddJobFormHandlesSkillsProperly(SkillRepository, EmployerRepository, JobRepository, Job, Errors) FAILED\n    mockit.internal.expectations.invocation.MissingInvocation\n        Caused by: mockit.internal.expectations.invocation.ExpectationError at TestTaskFour.java:143\n1 test completed, 1 failed\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///Users/JK/Desktop/LaunchCode/LC_Java/assignment-4-techjobs-persistent-edition-suchunkang0822/build/reports/tests/test/index.html\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 2s\n4 actionable tasks: 1 executed, 3 up-to-date\n\n</code></pre>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662972216,"creation_date":1662972216,"answer_id":73686621,"question_id":73686347,"body_markdown":"It depends: usually maven cares for transitive dependencies.\r\n\r\nBut if your Project2 is \r\n\r\n 1. neither available in a remote Repo (because you didn&#39;t `mvn deploy` it) \r\n 2. nor in the local Repo (because you didn&#39;t `mvn install`) \r\n 3. nor you have it as sibling module in a modularized project\r\n\r\nor you didn&#39;t update (in the cases of 1 and 2) it for a long time there, maven could try to work with an old version of the poms that might not yet contain that dependencies.\r\n\r\nAnother source of problems could be if Project 2 declares its dependencies in the maven scope of `provided`.\r\n\r\nAnd you wrote that Project 1 depends on Project 2 &quot;through IntelliJ IDEA project settings&quot;. This is not sufficient for maven to resolve dependencies, you have to declare the dependency in the maven _pom.xml_!","title":"Does Maven resolve dependencies of dependencies?","body":"<p>It depends: usually maven cares for transitive dependencies.</p>\n<p>But if your Project2 is</p>\n<ol>\n<li>neither available in a remote Repo (because you didn't <code>mvn deploy</code> it)</li>\n<li>nor in the local Repo (because you didn't <code>mvn install</code>)</li>\n<li>nor you have it as sibling module in a modularized project</li>\n</ol>\n<p>or you didn't update (in the cases of 1 and 2) it for a long time there, maven could try to work with an old version of the poms that might not yet contain that dependencies.</p>\n<p>Another source of problems could be if Project 2 declares its dependencies in the maven scope of <code>provided</code>.</p>\n<p>And you wrote that Project 1 depends on Project 2 &quot;through IntelliJ IDEA project settings&quot;. This is not sufficient for maven to resolve dependencies, you have to declare the dependency in the maven <em>pom.xml</em>!</p>\n"}],"owner":{"account_id":22394573,"reputation":140,"user_id":16606026,"display_name":"user16606026"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73686621,"answer_count":1,"score":0,"last_activity_date":1662972216,"creation_date":1662970853,"question_id":73686347,"body_markdown":"The current project I&#39;m participating in has such structure:\r\n\r\n- Project 1\r\n  - depends on `Project2` in pom\r\n  - checks if object is `instanceof SomeClass` (mentioned below)\r\n- Project 2\r\n  - depends on `spring-boot-starter-web-services` in pom\r\n  - is imported into `Project1` as a `.jar` file through IntelliJ IDEA project settings\r\n  - has a class, `SomeClass` that extends `org.springframework.ws.client.core.support.WebServiceGatewaySupport`\r\n\r\nWhen running `mvn clean package`, the error below shows up:\r\n\r\n```\r\ncannot access  org.springframework.ws.client.core.support.WebServiceGatewaySupport\r\n```\r\n\r\nand the error&#39;s line refers to where `instanceof SomeClass` is written.\r\n\r\nChecking the `External Libraries` in IntelliJ IDEA, seems like libraries related to `spring-boot-starter-web-services` simply just didn&#39;t show up. Adding `spring-boot-starter-web-services` in project1&#39;s pom fixes this but it seems confusing because project2, which project1 depends on, already has that in its pom.\r\n\r\nIs this intended behaviour of Maven? Does Maven install dependencies of dependencies? Or is there something I still need to configure to make this work? ","title":"Does Maven resolve dependencies of dependencies?","body":"<p>The current project I'm participating in has such structure:</p>\n<ul>\n<li>Project 1\n<ul>\n<li>depends on <code>Project2</code> in pom</li>\n<li>checks if object is <code>instanceof SomeClass</code> (mentioned below)</li>\n</ul>\n</li>\n<li>Project 2\n<ul>\n<li>depends on <code>spring-boot-starter-web-services</code> in pom</li>\n<li>is imported into <code>Project1</code> as a <code>.jar</code> file through IntelliJ IDEA project settings</li>\n<li>has a class, <code>SomeClass</code> that extends <code>org.springframework.ws.client.core.support.WebServiceGatewaySupport</code></li>\n</ul>\n</li>\n</ul>\n<p>When running <code>mvn clean package</code>, the error below shows up:</p>\n<pre><code>cannot access  org.springframework.ws.client.core.support.WebServiceGatewaySupport\n</code></pre>\n<p>and the error's line refers to where <code>instanceof SomeClass</code> is written.</p>\n<p>Checking the <code>External Libraries</code> in IntelliJ IDEA, seems like libraries related to <code>spring-boot-starter-web-services</code> simply just didn't show up. Adding <code>spring-boot-starter-web-services</code> in project1's pom fixes this but it seems confusing because project2, which project1 depends on, already has that in its pom.</p>\n<p>Is this intended behaviour of Maven? Does Maven install dependencies of dependencies? Or is there something I still need to configure to make this work?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"owner":{"account_id":26310183,"reputation":11,"user_id":19975040,"display_name":"Mallerta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662972107,"creation_date":1662972107,"question_id":73686600,"body_markdown":"I couldn&#39;t solve this problem\r\n\r\nStack: Java8, Selenium 3.141.59, TestNG 7.4.0\r\n\r\nThere are autotests written in selenium, inherited and the devil will break his leg in their implementation. Recently, when running locally, the following burd falls into the console:\r\n\r\n    2022 10:44:34 AM org.littleshoot.proxy.impl.ProxyToServerConnection exceptionCaught\r\n    SEVERE: (DISCONNECTED) [id: 0x73ffd0c0, L:0.0.0.0/0.0.0.0:51452 ! R:content-autofill.googleapis.com/64.233.162.95:443]: Caught an exception on ProxyToServerConnection\r\n    io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Tag mismatch!\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:461)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1302)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:646)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:581)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Tag mismatch!\r\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n        at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1709)\r\n        at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:970)\r\n        at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:896)\r\n        at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:766)\r\n        at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\r\n        at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:272)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1175)\r\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1087)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1122)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:491)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:430)\r\n        ... 15 more\r\n\r\nand:\r\n\r\n    Caused by: javax.crypto.AEADBadTagException: Tag mismatch!\r\n        at com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\r\n        at com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1116)\r\n        at com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1053)\r\n        at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:941)\r\n        at com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:491)\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2376)\r\n        at sun.security.ssl.CipherBox.decrypt(CipherBox.java:461)\r\n        at sun.security.ssl.InputRecord.decrypt(InputRecord.java:172)\r\n        at sun.security.ssl.EngineInputRecord.decrypt(EngineInputRecord.java:177)\r\n        at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:963)\r\n        ... 24 more\r\n\r\nAt the same time, the tests do not fall and pass, it&#39;s just that the entire console is clogged with this.\r\n\r\nAt work, there are white sheets of Kaspersky, including that it replaces its certificates.\r\n\r\nIn the Decorator, the devil will break his leg as well. If it is necessary I will throw off parts of its implementation.\r\n\r\nSo no one could help, I write here ...\r\n\r\nWhat can be done to remove this error.","title":"ProxyToServerConnection exceptionCaught in Selenium autotests","body":"<p>I couldn't solve this problem</p>\n<p>Stack: Java8, Selenium 3.141.59, TestNG 7.4.0</p>\n<p>There are autotests written in selenium, inherited and the devil will break his leg in their implementation. Recently, when running locally, the following burd falls into the console:</p>\n<pre><code>2022 10:44:34 AM org.littleshoot.proxy.impl.ProxyToServerConnection exceptionCaught\nSEVERE: (DISCONNECTED) [id: 0x73ffd0c0, L:0.0.0.0/0.0.0.0:51452 ! R:content-autofill.googleapis.com/64.233.162.95:443]: Caught an exception on ProxyToServerConnection\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Tag mismatch!\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:461)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:646)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.net.ssl.SSLHandshakeException: Tag mismatch!\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1709)\n    at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:970)\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:896)\n    at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:766)\n    at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)\n    at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:272)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1175)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1087)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1122)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:491)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:430)\n    ... 15 more\n</code></pre>\n<p>and:</p>\n<pre><code>Caused by: javax.crypto.AEADBadTagException: Tag mismatch!\n    at com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\n    at com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1116)\n    at com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1053)\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:941)\n    at com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:491)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2376)\n    at sun.security.ssl.CipherBox.decrypt(CipherBox.java:461)\n    at sun.security.ssl.InputRecord.decrypt(InputRecord.java:172)\n    at sun.security.ssl.EngineInputRecord.decrypt(EngineInputRecord.java:177)\n    at sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:963)\n    ... 24 more\n</code></pre>\n<p>At the same time, the tests do not fall and pass, it's just that the entire console is clogged with this.</p>\n<p>At work, there are white sheets of Kaspersky, including that it replaces its certificates.</p>\n<p>In the Decorator, the devil will break his leg as well. If it is necessary I will throw off parts of its implementation.</p>\n<p>So no one could help, I write here ...</p>\n<p>What can be done to remove this error.</p>\n"},{"tags":["java","http-headers","quarkus","resteasy","context-injection"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":3,"creation_date":1662737515,"post_id":73663593,"comment_id":130082842,"body_markdown":"`@Context` injection only works in JAX-RS resources. So that won&#39;t ever work. Your attempt to store headers to a `@RequestScoped` bean inside a `ContainerRequestFilter` and injecting that bean should work, though. Maybe add that code so someone can figure out what&#39;s wrong with it.","body":"<code>@Context</code> injection only works in JAX-RS resources. So that won&#39;t ever work. Your attempt to store headers to a <code>@RequestScoped</code> bean inside a <code>ContainerRequestFilter</code> and injecting that bean should work, though. Maybe add that code so someone can figure out what&#39;s wrong with it."}],"answers":[{"tags":[],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662971650,"creation_date":1662971650,"answer_id":73686505,"question_id":73663593,"body_markdown":"It actually did work with a `ContainerRequestFilter` \r\n\r\nI added the following filter \r\n```\r\n@Provider\r\n@PreMatching\r\npublic class UserInfoProvider implements ContainerRequestFilter {\r\n\r\n    private final UserInfo userinfo;\r\n\r\n    @Inject\r\n    public UserInfoProvider(UserInfo userinfo) {\r\n        this.userinfo = userinfo;\r\n    }\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) {\r\n        List&lt;Locale&gt; acceptableLanguages = requestContext.getAcceptableLanguages();\r\n        userinfo.setAcceptableLanguages(acceptableLanguages);\r\n    }\r\n}\r\n```\r\n\r\nof which the bean `UserInfo` is `@RequestScoped`","title":"How do I get the requests HttpHeaders in a CDI bean in Quarkus?","body":"<p>It actually did work with a <code>ContainerRequestFilter</code></p>\n<p>I added the following filter</p>\n<pre><code>@Provider\n@PreMatching\npublic class UserInfoProvider implements ContainerRequestFilter {\n\n    private final UserInfo userinfo;\n\n    @Inject\n    public UserInfoProvider(UserInfo userinfo) {\n        this.userinfo = userinfo;\n    }\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        List&lt;Locale&gt; acceptableLanguages = requestContext.getAcceptableLanguages();\n        userinfo.setAcceptableLanguages(acceptableLanguages);\n    }\n}\n</code></pre>\n<p>of which the bean <code>UserInfo</code> is <code>@RequestScoped</code></p>\n"}],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73686505,"answer_count":1,"score":1,"last_activity_date":1662971650,"creation_date":1662733259,"question_id":73663593,"body_markdown":"I would like to get the AcceptableLanguage header of the originating request to select the correct translation language.\r\n\r\nI thought that this would work:\r\n\r\n```\r\nimport javax.ws.rs.core.HttpHeaders;\r\n\r\n@ApplicationScoped\r\npublic class TranslationService{\r\n\r\n   @Context HttpHeaders httpHeaders;\r\n....\r\n}\r\n```\r\n\r\nAs it seems, I always result in a `null` value. When I try the `@Context` field directly in a RestEasy controller, the field is assigned with the current HttpHeaders object.\r\n\r\n\r\nI already have tried to save the http headers inside a `ContrainerRequestFilter` to a `@RequestScoped` bean, althought the value seems to get lost again until the use in my `TranslationService`.\r\n\r\nHow can I, in quarkus, get or provide the requests http headers, so any bean can access them? ","title":"How do I get the requests HttpHeaders in a CDI bean in Quarkus?","body":"<p>I would like to get the AcceptableLanguage header of the originating request to select the correct translation language.</p>\n<p>I thought that this would work:</p>\n<pre><code>import javax.ws.rs.core.HttpHeaders;\n\n@ApplicationScoped\npublic class TranslationService{\n\n   @Context HttpHeaders httpHeaders;\n....\n}\n</code></pre>\n<p>As it seems, I always result in a <code>null</code> value. When I try the <code>@Context</code> field directly in a RestEasy controller, the field is assigned with the current HttpHeaders object.</p>\n<p>I already have tried to save the http headers inside a <code>ContrainerRequestFilter</code> to a <code>@RequestScoped</code> bean, althought the value seems to get lost again until the use in my <code>TranslationService</code>.</p>\n<p>How can I, in quarkus, get or provide the requests http headers, so any bean can access them?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1662966840,"post_id":73685634,"comment_id":130119470,"body_markdown":"What exactly are you trying to do? Please describe in more detail, what input you are entering, what output you expect and what output you currently get. On first glance, this line here `if(travelerNames[i].equals(travelerNames[i]))` is definitely incorrect, since you compare the same values. If you try to check if the name read by the input is contained in the array, then the control flow is wrong. It should be 1) read input, 2) loop the array and check each array value for equality with the read input.","body":"What exactly are you trying to do? Please describe in more detail, what input you are entering, what output you expect and what output you currently get. On first glance, this line here <code>if(travelerNames[i].equals(travelerNames[i]))</code> is definitely incorrect, since you compare the same values. If you try to check if the name read by the input is contained in the array, then the control flow is wrong. It should be 1) read input, 2) loop the array and check each array value for equality with the read input."}],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662968431,"creation_date":1662968431,"answer_id":73685935,"question_id":73685634,"body_markdown":"A simple solution would be to use an arraylist. \r\nArraylist has a method called contains.\r\n\r\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        Scanner scanner = new Scanner(System.in);\r\n        String input = scanner.next();\r\n\r\n        if(names.contains(input)){\r\n            System.out.println(&quot;Name is duplicated&quot;);\r\n        }\r\n        else {\r\n            names.add(input);\r\n        }\r\n\r\nI hope i could help you with your Problem","title":"comparing user inputs in array to make sure they dont have the same name in java","body":"<p>A simple solution would be to use an arraylist.\nArraylist has a method called contains.</p>\n<pre><code>    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    Scanner scanner = new Scanner(System.in);\n    String input = scanner.next();\n\n    if(names.contains(input)){\n        System.out.println(&quot;Name is duplicated&quot;);\n    }\n    else {\n        names.add(input);\n    }\n</code></pre>\n<p>I hope i could help you with your Problem</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662970937,"creation_date":1662970937,"answer_id":73686364,"question_id":73685634,"body_markdown":"`travelerNames[i] = scanner.nextLine();` **Whoops**... too late, it&#39;s already within the Array and it&#39;s in there before you get to check and see if it has been previously entered. Don&#39;t save a step here by popping the name into the Array right away, put the name into a String variable first then traverse the Array to see if that name already exists, for example:\r\n\r\n    for (int i = 0; i &lt; numPassengers; ++i) {\r\n        String name = &quot;&quot;;\r\n        while(name.isEmpty()) {\r\n            System.out.print(&quot;Enter traveler name #&quot; + (i + 1) + &quot;: -&gt; &quot;);\r\n            name = scanner.nextLine().trim();\r\n            if (name.isEmpty() || name.matches(&quot;\\\\d+&quot;)) {\r\n                System.out.println(&quot;Invalid Name Supplied! (&quot; \r\n                                 + name + &quot;) Try again...\\n&quot;);\r\n                name = &quot;&quot;;\r\n                continue;\r\n            }\r\n            // Is the name already within the travelerNames[] Array?\r\n            for (String nme : travelerNames) {\r\n                if (nme != null &amp;&amp; nme.equalsIgnoreCase(name)) {\r\n                    System.out.println(&quot;Invalid Entry! The name &#39;&quot; + name \r\n                             + &quot;&#39; already exists! Try again...\\n&quot;);\r\n                    name = &quot;&quot;;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // Everything seems OK so add the name to the Array.\r\n        travelerNames[i] = name;\r\n    }\r\n        \r\n    System.out.println();\r\n    System.out.println(&quot;The names contained within the Array:&quot;);\r\n    System.out.println(Arrays.toString(travelerNames));","title":"comparing user inputs in array to make sure they dont have the same name in java","body":"<p><code>travelerNames[i] = scanner.nextLine();</code> <strong>Whoops</strong>... too late, it's already within the Array and it's in there before you get to check and see if it has been previously entered. Don't save a step here by popping the name into the Array right away, put the name into a String variable first then traverse the Array to see if that name already exists, for example:</p>\n<pre><code>for (int i = 0; i &lt; numPassengers; ++i) {\n    String name = &quot;&quot;;\n    while(name.isEmpty()) {\n        System.out.print(&quot;Enter traveler name #&quot; + (i + 1) + &quot;: -&gt; &quot;);\n        name = scanner.nextLine().trim();\n        if (name.isEmpty() || name.matches(&quot;\\\\d+&quot;)) {\n            System.out.println(&quot;Invalid Name Supplied! (&quot; \n                             + name + &quot;) Try again...\\n&quot;);\n            name = &quot;&quot;;\n            continue;\n        }\n        // Is the name already within the travelerNames[] Array?\n        for (String nme : travelerNames) {\n            if (nme != null &amp;&amp; nme.equalsIgnoreCase(name)) {\n                System.out.println(&quot;Invalid Entry! The name '&quot; + name \n                         + &quot;' already exists! Try again...\\n&quot;);\n                name = &quot;&quot;;\n                break;\n            }\n        }\n    }\n    // Everything seems OK so add the name to the Array.\n    travelerNames[i] = name;\n}\n    \nSystem.out.println();\nSystem.out.println(&quot;The names contained within the Array:&quot;);\nSystem.out.println(Arrays.toString(travelerNames));\n</code></pre>\n"}],"owner":{"account_id":25439470,"reputation":1,"user_id":19242667,"display_name":"Swiftjezta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662970937,"creation_date":1662966720,"question_id":73685634,"body_markdown":"What am I missing it keeps, coming back false on the first try. What do I need to change to make sure it scans to get rid of duplicates.\r\n\r\n````public static void main(String[] args) {\r\n\t\tfinal int numPassengers = 4;\r\n\t\tfinal int numShips = 2;\r\n\t\tboolean input = false;\r\n\t\tString[] travelerNames = new String[4];\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; numPassengers; ++i) {\r\n\t\t\tSystem.out.println(&quot;Enter traveler name &quot;);\r\n\t\t\tdo {\r\n\t\t\t\ttravelerNames[i] = scanner.nextLine();\r\n\t\t\t\tif(travelerNames[i].equals(travelerNames[i])) {\r\n\t\t\t\t\tSystem.out.println(&quot;Names cannot match enter new name!&quot;);\r\n\t\t\t\t\tinput = false;\r\n\t\t\t\t\tscanner.next();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\tinput = true;\r\n\t\t\t\t}\r\n\t\t\t} while(!input);\t\r\n\t\t\tSystem.out.println(travelerNames[i]);\r\n````","title":"comparing user inputs in array to make sure they dont have the same name in java","body":"<p>What am I missing it keeps, coming back false on the first try. What do I need to change to make sure it scans to get rid of duplicates.</p>\n<pre><code>        final int numPassengers = 4;\n        final int numShips = 2;\n        boolean input = false;\n        String[] travelerNames = new String[4];\n        Scanner scanner = new Scanner(System.in);\n        \n        for(int i = 0; i &lt; numPassengers; ++i) {\n            System.out.println(&quot;Enter traveler name &quot;);\n            do {\n                travelerNames[i] = scanner.nextLine();\n                if(travelerNames[i].equals(travelerNames[i])) {\n                    System.out.println(&quot;Names cannot match enter new name!&quot;);\n                    input = false;\n                    scanner.next();\n                }\n                else {\n                    \n                    input = true;\n                }\n            } while(!input);    \n            System.out.println(travelerNames[i]);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","wildfly","persistence.xml"],"comments":[{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1546409097,"post_id":53999124,"comment_id":94840534,"body_markdown":"The `persistence.xml` and the entity classes need to be in the same file tree. Meaning the either in the root war file, or in the same jar file. If you can&#39;t restructure it like that, then you need to list the entity classes in the xml.","body":"The <code>persistence.xml</code> and the entity classes need to be in the same file tree. Meaning the either in the root war file, or in the same jar file. If you can&#39;t restructure it like that, then you need to list the entity classes in the xml."},{"owner":{"account_id":14943381,"reputation":11,"user_id":10789345,"display_name":"User5458751"},"score":0,"creation_date":1546411129,"post_id":53999124,"comment_id":94841124,"body_markdown":"I dont think thats the issue. My classes are in \nmywebapp-1.0.war\\WEB-INF\\classes\\com\\mycompany\\mywebapp\\\nand my persistence.xml in\nmywebapp-1.0.war\\WEB-INF\\classes\\META-INF\\\n\nMy entites have been detected correctly when not using the packaged jpa persistence provider.\n\nI tried having my entities in a seperate jar and use &lt;jar-file&gt;lib/data.jar&lt;/jar-file&gt; in my persistence.xml without succes.","body":"I dont think thats the issue. My classes are in  mywebapp-1.0.war\\WEB-INF\\classes\\com\\mycompany\\mywebapp\\ and my persistence.xml in mywebapp-1.0.war\\WEB-INF\\classes\\META-INF\\  My entites have been detected correctly when not using the packaged jpa persistence provider.  I tried having my entities in a seperate jar and use &lt;jar-file&gt;lib/data.jar&lt;/jar-file&gt; in my persistence.xml without succes."},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1546418767,"post_id":53999124,"comment_id":94843506,"body_markdown":"Does the version of Hibernate that you want to use implement the same version of JPA as that provided by WildFly 11?","body":"Does the version of Hibernate that you want to use implement the same version of JPA as that provided by WildFly 11?"},{"owner":{"account_id":14943381,"reputation":11,"user_id":10789345,"display_name":"User5458751"},"score":0,"creation_date":1546420825,"post_id":53999124,"comment_id":94844303,"body_markdown":"No. Im using hibernate 5.3.7.Final which implements jpa 2.2.\nMy wildfly server provides hibernate 5.1.10.Final with jpa 2.1.","body":"No. Im using hibernate 5.3.7.Final which implements jpa 2.2. My wildfly server provides hibernate 5.1.10.Final with jpa 2.1."},{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1546550489,"post_id":53999124,"comment_id":94896270,"body_markdown":"With the edit that shows the error we see the problem. When you have a ClassCastException with a class not being able to cast to itself, then you have a classloader problem. Two classloaders have loaded the same class from two different jars. One loaded it from Wildfly, the other from Hibernate. You need to remove or disable the embedded version. [This wiki entry](https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-ReplacingthecurrentHibernate5.xjarswithanewerversion) should help.","body":"With the edit that shows the error we see the problem. When you have a ClassCastException with a class not being able to cast to itself, then you have a classloader problem. Two classloaders have loaded the same class from two different jars. One loaded it from Wildfly, the other from Hibernate. You need to remove or disable the embedded version. <a href=\"https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-ReplacingthecurrentHibernate5.xjarswithanewerversion\" rel=\"nofollow noreferrer\">This wiki entry</a> should help."},{"owner":{"account_id":14943381,"reputation":11,"user_id":10789345,"display_name":"User5458751"},"score":0,"creation_date":1546716243,"post_id":53999124,"comment_id":94944846,"body_markdown":"Excluding the hibernate and jpa modules in my jboss-deployment-structure.xml is what led to this error. The wiki entry says to replace the wildfly jars but I dont want to do this since this will affect all of my applications.","body":"Excluding the hibernate and jpa modules in my jboss-deployment-structure.xml is what led to this error. The wiki entry says to replace the wildfly jars but I dont want to do this since this will affect all of my applications."}],"owner":{"account_id":14943381,"reputation":11,"user_id":10789345,"display_name":"User5458751"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662970855,"creation_date":1546378504,"question_id":53999124,"body_markdown":" Im deploying my web application on a local wildfly-11.0.0.Final\r\n   server.\r\n Wildfly however provides its own hibernate and jpa modules which I\r\n   dont want to use. I want to use the jpa jars packaged with my\r\n   application.\r\n\r\nAs described in\r\n   https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-PackagingtheHibernateJPApersistenceproviderwithyourapplication\r\n   I added the line \r\n\r\n`&lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;application&quot;/&gt;` \r\n\r\nto my persistence.xml\r\n\r\nNow however my entites (Annotated with @Entity) are not being detected anymore and I have to explicitly name them in my persistence.xml like \r\n\r\n`&lt;class&gt;com.mycompany.mywebapp.Actor&lt;/class&gt;`\r\n\r\nIs there any way to fix this?\r\n\r\nI tried \r\n\r\n`&lt;jar-file&gt;&lt;/jar-file&gt;`\r\n\r\nand\r\n\r\n`&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;`\r\n\r\nwithout success.\r\n\r\nMy persistence.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;com.mycompany_mywebapp_war_1.0PU&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:/jboss/sakila&lt;/jta-data-source&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;application&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nEdit:\r\n\r\nIm using hibernate 5.3.7.Final which implements jpa 2.2.\r\n\r\nMy wildfly server provides hibernate 5.1.10.Final with jpa 2.1.\r\n\r\nEdit 2:\r\n\r\nI noticed that even though the hibernate version is now 5.3.7.Final the jpa provided by wildfly (specification version 2.1) is still being used which may be causing this issue.\r\n\r\nI tried disabling the wildfly modules in a jboss-deployment-structure.xml:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;org.hibernate&quot; /&gt;\r\n                &lt;module name=&quot;javax.persistence.api&quot; /&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nHowever now im facing following error:\r\n\r\n    Cannot upload deployment: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;webapp-1.0.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;webapp-1.0.war\\&quot; Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39; Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\r\n\r\nEdit 3:\r\n\r\nTo test whether this is the cause for my initial problem I manually replaced the jpa jar. Unfortunately this doesnt solve my problem.\r\n\r\nAnyway I would like to know how I can fix the issue of my packaged jpa jar not being used and how to make my entities be automatically detected again. Any hints?","title":"Entities not being detected when using packaged Hibernate JPA persistence provider","body":"<p>Im deploying my web application on a local wildfly-11.0.0.Final\n   server.\n Wildfly however provides its own hibernate and jpa modules which I\n   dont want to use. I want to use the jpa jars packaged with my\n   application.</p>\n\n<p>As described in\n   <a href=\"https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-PackagingtheHibernateJPApersistenceproviderwithyourapplication\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/JPA+Reference+Guide#JPAReferenceGuide-PackagingtheHibernateJPApersistenceproviderwithyourapplication</a>\n   I added the line </p>\n\n<p><code>&lt;property name=\"jboss.as.jpa.providerModule\" value=\"application\"/&gt;</code> </p>\n\n<p>to my persistence.xml</p>\n\n<p>Now however my entites (Annotated with @Entity) are not being detected anymore and I have to explicitly name them in my persistence.xml like </p>\n\n<p><code>&lt;class&gt;com.mycompany.mywebapp.Actor&lt;/class&gt;</code></p>\n\n<p>Is there any way to fix this?</p>\n\n<p>I tried </p>\n\n<p><code>&lt;jar-file&gt;&lt;/jar-file&gt;</code></p>\n\n<p>and</p>\n\n<p><code>&lt;property name=\"hibernate.archive.autodetection\" value=\"class, hbm\"/&gt;</code></p>\n\n<p>without success.</p>\n\n<p>My persistence.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n  &lt;persistence-unit name=\"com.mycompany_mywebapp_war_1.0PU\" transaction-type=\"JTA\"&gt;\n    &lt;jta-data-source&gt;java:/jboss/sakila&lt;/jta-data-source&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n      &lt;property name=\"jboss.as.jpa.providerModule\" value=\"application\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Im using hibernate 5.3.7.Final which implements jpa 2.2.</p>\n\n<p>My wildfly server provides hibernate 5.1.10.Final with jpa 2.1.</p>\n\n<p>Edit 2:</p>\n\n<p>I noticed that even though the hibernate version is now 5.3.7.Final the jpa provided by wildfly (specification version 2.1) is still being used which may be causing this issue.</p>\n\n<p>I tried disabling the wildfly modules in a jboss-deployment-structure.xml:</p>\n\n\n\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;exclusions&gt;\n            &lt;module name=\"org.hibernate\" /&gt;\n            &lt;module name=\"javax.persistence.api\" /&gt;\n        &lt;/exclusions&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>However now im facing following error:</p>\n\n<pre><code>Cannot upload deployment: {\"WFLYCTL0080: Failed services\" =&gt; {\"jboss.deployment.unit.\\\"webapp-1.0.war\\\".FIRST_MODULE_USE\" =&gt; \"WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\\"webapp-1.0.war\\\" Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider' Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider\"}}\n</code></pre>\n\n<p>Edit 3:</p>\n\n<p>To test whether this is the cause for my initial problem I manually replaced the jpa jar. Unfortunately this doesnt solve my problem.</p>\n\n<p>Anyway I would like to know how I can fix the issue of my packaged jpa jar not being used and how to make my entities be automatically detected again. Any hints?</p>\n"},{"tags":["java","android","json","authentication","post"],"answers":[{"tags":[],"owner":{"account_id":25469650,"reputation":1,"user_id":19268072,"display_name":"kimhong toh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662970517,"creation_date":1662970517,"answer_id":73686307,"question_id":73685697,"body_markdown":"Done\r\n\r\n    EditText etUsername,etPassword;\r\n\r\n    etUsername = (EditText) findViewById(R.id.et_username);\r\n    etPassword = (EditText) findViewById(R.id.et_password);\r\n\r\n\r\n     try {\r\n                    \r\n                    jsonObject.put(&quot;app_id&quot;, &quot;Cu7HAc8Udro3rePhIPoBrubLBr7hljIcopICu8uGlwlSwAprOprlYOd9aXAchugu&quot;);\r\n                    jsonObject.put(&quot;username&quot;,etUsername.getText().toString());\r\n                    jsonObject.put(&quot;password&quot;,etPassword.getText().toString());\r\n                    jsonObject.put(&quot;firebase_token&quot;, &quot;abc123&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }","title":"(ANDROID) How to POST JSON to server by enter our username and password (Login Page)?","body":"<p>Done</p>\n<pre><code>EditText etUsername,etPassword;\n\netUsername = (EditText) findViewById(R.id.et_username);\netPassword = (EditText) findViewById(R.id.et_password);\n\n\n try {\n                \n                jsonObject.put(&quot;app_id&quot;, &quot;Cu7HAc8Udro3rePhIPoBrubLBr7hljIcopICu8uGlwlSwAprOprlYOd9aXAchugu&quot;);\n                jsonObject.put(&quot;username&quot;,etUsername.getText().toString());\n                jsonObject.put(&quot;password&quot;,etPassword.getText().toString());\n                jsonObject.put(&quot;firebase_token&quot;, &quot;abc123&quot;);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"}],"owner":{"account_id":25469650,"reputation":1,"user_id":19268072,"display_name":"kimhong toh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1662970517,"creation_date":1662967094,"question_id":73685697,"body_markdown":"i need help from how to input our username and password and post them to my server. i try few way its no working, tried .getText() and .toString() but still working. tried few solution from other tutorial web get nothing too. Please help. Thanks\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    String etUsername;\r\n    String etPassword;\r\n    Button btSubmit;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        etUsername = ((EditText)findViewById(R.id.et_username)).getText().toString();\r\n        etPassword = ((EditText)findViewById(R.id.et_password)).getText().toString();\r\n        btSubmit = findViewById(R.id.bt_submit);\r\n\r\n        TextView TextViewResult;\r\n        TextViewResult = findViewById(R.id.text_view_result);\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n\r\n        btSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(\r\n                            MainActivity.this\r\n                    );\r\n\r\ni add here\r\n\r\n                JSONObject jsonObject = new JSONObject();\r\n                // Json here\r\n                try {\r\n                 \r\n                    jsonObject.put(&quot;app_id&quot;, &quot;123&quot;);\r\n                    jsonObject.put(&quot;username&quot;,etUsername);\r\n                    jsonObject.put(&quot;password&quot;,etPassword);\r\n                    jsonObject.put(&quot;firebase_token&quot;, &quot;123&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                OkHttpClient client = new OkHttpClient();\r\n                MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                RequestBody body = RequestBody.create(JSON, jsonObject.toString());\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;&quot;)\r\n                        .post(body)\r\n                        .build();\r\n\r\n                Response response = null;\r\n                client.newCall(request).enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(Call call, IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onResponse(Call call, Response response) throws IOException {\r\n                        if (response.isSuccessful()) {\r\n                            String myResponse = response.body().string();\r\n\r\n                            MainActivity.this.runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    TextViewResult.setText(myResponse);\r\n                                }\r\n                            });\r\n\r\n\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        );\r\n\r\n\r\n        }\r\n\r\n        }\r\n\r\nno error for my coding after running it, just i cant get my correct data POST to server. any suggestion?","title":"(ANDROID) How to POST JSON to server by enter our username and password (Login Page)?","body":"<p>i need help from how to input our username and password and post them to my server. i try few way its no working, tried .getText() and .toString() but still working. tried few solution from other tutorial web get nothing too. Please help. Thanks</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\nString etUsername;\nString etPassword;\nButton btSubmit;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    etUsername = ((EditText)findViewById(R.id.et_username)).getText().toString();\n    etPassword = ((EditText)findViewById(R.id.et_password)).getText().toString();\n    btSubmit = findViewById(R.id.bt_submit);\n\n    TextView TextViewResult;\n    TextViewResult = findViewById(R.id.text_view_result);\n\n    OkHttpClient client = new OkHttpClient();\n\n    btSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n                AlertDialog.Builder builder = new AlertDialog.Builder(\n                        MainActivity.this\n                );\n</code></pre>\n<p>i add here</p>\n<pre><code>            JSONObject jsonObject = new JSONObject();\n            // Json here\n            try {\n             \n                jsonObject.put(&quot;app_id&quot;, &quot;123&quot;);\n                jsonObject.put(&quot;username&quot;,etUsername);\n                jsonObject.put(&quot;password&quot;,etPassword);\n                jsonObject.put(&quot;firebase_token&quot;, &quot;123&quot;);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n            OkHttpClient client = new OkHttpClient();\n            MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n            RequestBody body = RequestBody.create(JSON, jsonObject.toString());\n            Request request = new Request.Builder()\n                    .url(&quot;&quot;)\n                    .post(body)\n                    .build();\n\n            Response response = null;\n            client.newCall(request).enqueue(new Callback() {\n                @Override\n                public void onFailure(Call call, IOException e) {\n                    e.printStackTrace();\n                }\n\n                @Override\n                public void onResponse(Call call, Response response) throws IOException {\n                    if (response.isSuccessful()) {\n                        String myResponse = response.body().string();\n\n                        MainActivity.this.runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                TextViewResult.setText(myResponse);\n                            }\n                        });\n\n\n                    }\n                }\n            });\n        }\n\n    }\n\n    );\n\n\n    }\n\n    }\n</code></pre>\n<p>no error for my coding after running it, just i cant get my correct data POST to server. any suggestion?</p>\n"},{"tags":["java","java-stream","collectors","reducing"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662881062,"post_id":73677523,"comment_id":130105381,"body_markdown":"Usually the error says why there&#39;s an error.","body":"Usually the error says why there&#39;s an error."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1662881608,"post_id":73677523,"comment_id":130105440,"body_markdown":"Use `0D` as identity(D means it&#39;s double). When using `0`, you provide an int. And you should always show the exact error, when asking about errors you get...","body":"Use <code>0D</code> as identity(D means it&#39;s double). When using <code>0</code>, you provide an int. And you should always show the exact error, when asking about errors you get..."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1662881823,"post_id":73677523,"comment_id":130105472,"body_markdown":"Aside from that, did you omit the constructor of `Employee`?","body":"Aside from that, did you omit the constructor of <code>Employee</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662882617,"creation_date":1662881478,"answer_id":73677571,"question_id":73677523,"body_markdown":"You&#39;ve provided an *identity* of an incorrect type - `Integer`, because numeric literal `0` is of type `int`.\r\n\r\nMeanwhile, the result of reduction should be of type `Double`. That results in the type mismatch in the *classifier* function, since it gives a `Double` as required according to the resulting type of the map.\r\n\r\nTo fix the compilation error, you need to change the *identity* to `0d` or `0D`.\r\n\r\n```java\r\nMap&lt;Employee.Gender,Double&gt; totalIncomeByGender = Employee.persons().stream()\r\n    .collect(Collectors.groupingBy(\r\n        Employee::getGender,\r\n        Collectors.reducing(0D, Employee::getIncome,Double::sum)\r\n    ));\r\n```","title":"Java-Stream Collectors.reducing - cannot infer type-variable(s) T","body":"<p>You've provided an <em>identity</em> of an incorrect type - <code>Integer</code>, because numeric literal <code>0</code> is of type <code>int</code>.</p>\n<p>Meanwhile, the result of reduction should be of type <code>Double</code>. That results in the type mismatch in the <em>classifier</em> function, since it gives a <code>Double</code> as required according to the resulting type of the map.</p>\n<p>To fix the compilation error, you need to change the <em>identity</em> to <code>0d</code> or <code>0D</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Employee.Gender,Double&gt; totalIncomeByGender = Employee.persons().stream()\n    .collect(Collectors.groupingBy(\n        Employee::getGender,\n        Collectors.reducing(0D, Employee::getIncome,Double::sum)\n    ));\n</code></pre>\n"}],"owner":{"account_id":26259436,"reputation":31,"user_id":19931005,"display_name":"Pranjal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73677571,"answer_count":1,"score":0,"last_activity_date":1662970437,"creation_date":1662881001,"question_id":73677523,"body_markdown":"This is my `Employee` class:\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public static class Employee {\r\n        public enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        private long id;\r\n        private String name;\r\n        private Gender gender;\r\n        private LocalDate dob;\r\n        private double income;\r\n    \r\n        public static List&lt;Employee&gt; persons() {\r\n            Employee p1 = new Employee(1, &quot;Jake&quot;, Gender.MALE, LocalDate.of(1971,\r\n                Month.JANUARY, 1), 2343.0);\r\n            Employee p2 = new Employee(2, &quot;Jack&quot;, Gender.MALE, LocalDate.of(1972,\r\n                Month.JULY, 21), 7100.0);\r\n            Employee p3 = new Employee(3, &quot;Jane&quot;, Gender.FEMALE, LocalDate.of(1973,\r\n                Month.MAY, 29), 5455.0);\r\n            Employee p4 = new Employee(4, &quot;Jode&quot;, Gender.MALE, LocalDate.of(1974,\r\n                Month.OCTOBER, 16), 1800.0);\r\n            Employee p5 = new Employee(5, &quot;Jeny&quot;, Gender.FEMALE, LocalDate.of(1975,\r\n                Month.DECEMBER, 13), 1234.0);\r\n            Employee p6 = new Employee(6, &quot;Jason&quot;, Gender.MALE, LocalDate.of(1976,\r\n                Month.JUNE, 9), 3211.0);\r\n        \r\n            List&lt;Employee&gt; persons = Arrays.asList(p1, p2, p3, p4, p5, p6);\r\n        \r\n            return persons;\r\n        }\r\n    }\r\n    \t\r\nI want to calculate the total `income` per `gender`.\r\n\r\n*My code:* \r\n```\r\nMap&lt;Gender, Double&gt; totalIncomeByGender = Employee.persons().stream()\r\n    .collect(Collectors.groupingBy(\r\n        Employee::getGender, \r\n        Collectors.reducing(0,Employee::getIncome,Double::sum)));\r\n```\r\n\r\nI&#39;m getting a compilation error:\r\n\r\n```none\r\njava: no suitable method found for reducing(int,Employee::getIncome,Double::sum)\r\n    method java.util.stream.Collectors.&lt;T&gt;reducing(T,java.util.function.BinaryOperator&lt;T&gt;) is not applicable\r\n      (cannot infer type-variable(s) T\r\n        (actual and formal argument lists differ in length))\r\n    method java.util.stream.Collectors.&lt;T&gt;reducing(java.util.function.BinaryOperator&lt;T&gt;) is not applicable\r\n      (cannot infer type-variable(s) T\r\n        (actual and formal argument lists differ in length))\r\n    method java.util.stream.Collectors.&lt;T,U&gt;reducing(U,java.util.function.Function&lt;? super T,? extends U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\r\n      (inference variable U has incompatible bounds\r\n        lower bounds: java.lang.Double,java.lang.Object\r\n        lower bounds: java.lang.Double,java.lang.Integer)\r\n```\r\n\r\nCan somebody please explain the reason of this error, and what is a correct way to write this code?\r\n\r\nI&#39;ve written a similar stream in a different code, and it worked. How can I fix it?","title":"Java-Stream Collectors.reducing - cannot infer type-variable(s) T","body":"<p>This is my <code>Employee</code> class:</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic static class Employee {\n    public enum Gender {\n        MALE, FEMALE\n    }\n\n    private long id;\n    private String name;\n    private Gender gender;\n    private LocalDate dob;\n    private double income;\n\n    public static List&lt;Employee&gt; persons() {\n        Employee p1 = new Employee(1, &quot;Jake&quot;, Gender.MALE, LocalDate.of(1971,\n            Month.JANUARY, 1), 2343.0);\n        Employee p2 = new Employee(2, &quot;Jack&quot;, Gender.MALE, LocalDate.of(1972,\n            Month.JULY, 21), 7100.0);\n        Employee p3 = new Employee(3, &quot;Jane&quot;, Gender.FEMALE, LocalDate.of(1973,\n            Month.MAY, 29), 5455.0);\n        Employee p4 = new Employee(4, &quot;Jode&quot;, Gender.MALE, LocalDate.of(1974,\n            Month.OCTOBER, 16), 1800.0);\n        Employee p5 = new Employee(5, &quot;Jeny&quot;, Gender.FEMALE, LocalDate.of(1975,\n            Month.DECEMBER, 13), 1234.0);\n        Employee p6 = new Employee(6, &quot;Jason&quot;, Gender.MALE, LocalDate.of(1976,\n            Month.JUNE, 9), 3211.0);\n    \n        List&lt;Employee&gt; persons = Arrays.asList(p1, p2, p3, p4, p5, p6);\n    \n        return persons;\n    }\n}\n    \n</code></pre>\n<p>I want to calculate the total <code>income</code> per <code>gender</code>.</p>\n<p><em>My code:</em></p>\n<pre><code>Map&lt;Gender, Double&gt; totalIncomeByGender = Employee.persons().stream()\n    .collect(Collectors.groupingBy(\n        Employee::getGender, \n        Collectors.reducing(0,Employee::getIncome,Double::sum)));\n</code></pre>\n<p>I'm getting a compilation error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java: no suitable method found for reducing(int,Employee::getIncome,Double::sum)\n    method java.util.stream.Collectors.&lt;T&gt;reducing(T,java.util.function.BinaryOperator&lt;T&gt;) is not applicable\n      (cannot infer type-variable(s) T\n        (actual and formal argument lists differ in length))\n    method java.util.stream.Collectors.&lt;T&gt;reducing(java.util.function.BinaryOperator&lt;T&gt;) is not applicable\n      (cannot infer type-variable(s) T\n        (actual and formal argument lists differ in length))\n    method java.util.stream.Collectors.&lt;T,U&gt;reducing(U,java.util.function.Function&lt;? super T,? extends U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\n      (inference variable U has incompatible bounds\n        lower bounds: java.lang.Double,java.lang.Object\n        lower bounds: java.lang.Double,java.lang.Integer)\n</code></pre>\n<p>Can somebody please explain the reason of this error, and what is a correct way to write this code?</p>\n<p>I've written a similar stream in a different code, and it worked. How can I fix it?</p>\n"},{"tags":["java","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":26026062,"reputation":11,"user_id":19732959,"display_name":"Ponmathi Radhakrishnan"},"score":0,"creation_date":1662963863,"post_id":73684950,"comment_id":130118746,"body_markdown":"I am getting error, please help with it","body":"I am getting error, please help with it"},{"owner":{"account_id":18365332,"reputation":10550,"user_id":13376511,"display_name":"Michael M."},"score":0,"creation_date":1663177401,"post_id":73684950,"comment_id":130180044,"body_markdown":"Java and JavaScript are not the same. Please remove the `java` tag and add the `javascript` tag.","body":"Java and JavaScript are not the same. Please remove the <code>java</code> tag and add the <code>javascript</code> tag."}],"answers":[{"tags":[],"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662970083,"creation_date":1662970083,"answer_id":73686234,"question_id":73684950,"body_markdown":"You can&#39;t mix Snowflake Scripting (SQL) code and JavaScript. I don&#39;t understand why you need to raise a user defined exception if you will catch it in the same SP. Anyway, I removed try/catch to see the exception I raised, and here is the code:\r\n\r\n    CREATE OR REPLACE PROCEDURE test_sp()\r\n    RETURNS VARCHAR\r\n    LANGUAGE JAVASCRIPT\r\n    AS\r\n    $$\r\n        var output_trunc_query = `select count(*) from xyz`;\r\n        var output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\r\n        var output_trunc = output_trunc_stmt.execute();\r\n        var return_count = &quot;&quot;\r\n        while (output_trunc.next())  {\r\n            return_count += output_trunc.getColumnValue(1);\r\n        }\r\n        if(return_count&gt;0)\r\n        {\r\n            var output_trunc_query = `delete from xyz`;\r\n            var output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\r\n            var output_trunc = output_trunc_stmt.execute();\r\n            return &quot;Succeeded&quot;;\r\n         }\r\n         else\r\n         {\r\n             var exception_stmt = `declare\r\n                   exception_1 exception (-20001, &#39;no record in table&#39;);\r\n             begin   \r\n                   raise exception_1;\r\n             end;`;\r\n             snowflake.createStatement({ sqlText: exception_stmt}).execute();\r\n             \r\n         }\r\n    \r\n    $$\r\n    ;\r\n    \r\n    \r\n    call test_sp();\r\n\r\nFails with:\r\n\r\n    Uncaught exception of type &#39;EXCEPTION_1&#39; on line 4 at position 15 : no record in table\r\n    At Statement.execute, line 23 position 63\r\n\r\n\r\n\r\n\r\n","title":"How to raise user defined error in snowflakes","body":"<p>You can't mix Snowflake Scripting (SQL) code and JavaScript. I don't understand why you need to raise a user defined exception if you will catch it in the same SP. Anyway, I removed try/catch to see the exception I raised, and here is the code:</p>\n<pre><code>CREATE OR REPLACE PROCEDURE test_sp()\nRETURNS VARCHAR\nLANGUAGE JAVASCRIPT\nAS\n$$\n    var output_trunc_query = `select count(*) from xyz`;\n    var output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\n    var output_trunc = output_trunc_stmt.execute();\n    var return_count = &quot;&quot;\n    while (output_trunc.next())  {\n        return_count += output_trunc.getColumnValue(1);\n    }\n    if(return_count&gt;0)\n    {\n        var output_trunc_query = `delete from xyz`;\n        var output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\n        var output_trunc = output_trunc_stmt.execute();\n        return &quot;Succeeded&quot;;\n     }\n     else\n     {\n         var exception_stmt = `declare\n               exception_1 exception (-20001, 'no record in table');\n         begin   \n               raise exception_1;\n         end;`;\n         snowflake.createStatement({ sqlText: exception_stmt}).execute();\n         \n     }\n\n$$\n;\n\n\ncall test_sp();\n</code></pre>\n<p>Fails with:</p>\n<pre><code>Uncaught exception of type 'EXCEPTION_1' on line 4 at position 15 : no record in table\nAt Statement.execute, line 23 position 63\n</code></pre>\n"}],"owner":{"account_id":26026062,"reputation":11,"user_id":19732959,"display_name":"Ponmathi Radhakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662970083,"creation_date":1662961697,"question_id":73684950,"body_markdown":"I am trying to raise the user defined error in snowflake using **LANGUAGE JAVASCRIPT**,\r\nhow to raise the error, can you please help me with that\r\n\r\n```\r\ntry\r\n{\r\n declare\r\n        exception_1 exception (-20001, &#39;no record in table&#39;);\r\nbegin\r\nvar output_trunc_query = `select count(*) from xyz`;\r\nvar output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\r\nvar output_trunc = output_trunc_stmt.execute();\r\nvar return_count = &quot;&quot;\r\nwhile (output_trunc.next())  {\r\n    return_count += output_trunc.getColumnValue(1);\r\n}\r\nif(return_count&gt;0)\r\n{\r\nvar output_trunc_query = `delete from xyz`;\r\nvar output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\r\nvar output_trunc = output_trunc_stmt.execute();\r\n return &quot;Succeeded&quot;;\r\n }\r\n else\r\n {\r\n raise exception_1;\r\n }\r\n end\r\n }\r\n catch (err)  \r\n{\r\nreturn &quot;Fail&quot;;\r\n}\r\n\r\n```","title":"How to raise user defined error in snowflakes","body":"<p>I am trying to raise the user defined error in snowflake using <strong>LANGUAGE JAVASCRIPT</strong>,\nhow to raise the error, can you please help me with that</p>\n<pre><code>try\n{\n declare\n        exception_1 exception (-20001, 'no record in table');\nbegin\nvar output_trunc_query = `select count(*) from xyz`;\nvar output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\nvar output_trunc = output_trunc_stmt.execute();\nvar return_count = &quot;&quot;\nwhile (output_trunc.next())  {\n    return_count += output_trunc.getColumnValue(1);\n}\nif(return_count&gt;0)\n{\nvar output_trunc_query = `delete from xyz`;\nvar output_trunc_stmt = snowflake.createStatement({ sqlText: output_trunc_query});\nvar output_trunc = output_trunc_stmt.execute();\n return &quot;Succeeded&quot;;\n }\n else\n {\n raise exception_1;\n }\n end\n }\n catch (err)  \n{\nreturn &quot;Fail&quot;;\n}\n\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"score":0,"creation_date":1662935773,"post_id":73682996,"comment_id":130115104,"body_markdown":"Does this answer your question? [what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();](https://stackoverflow.com/questions/15039265/what-exactly-does-this-do-class-fornamecom-mysql-jdbc-driver-newinstance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15039265/what-exactly-does-this-do-class-fornamecom-mysql-jdbc-driver-newinstance\">what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();</a>"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662970050,"creation_date":1662936904,"answer_id":73683135,"question_id":73682996,"body_markdown":"First of all, loading the JDBC driver using `Class.forName` is not necessary since JDBC 4.0 which was made available in 2006 (the driver registers its implementation as service provider and will be loaded by the [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html)).\r\n\r\nJust remove this line and it should work. If you need the class name, its a good idea to consult the [documentation](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html) of Connector/J. Take care to read the docs for the correct driver version because the class name changed (currently it&#39;s com.mysql.cj.jdbc.Driver).\r\n\r\n**Update**\r\n\r\nAs Mark Rotteveel pointed out, `Class.forName(&quot;com.mysql.jdbc.Driver&quot;)` will not lead to a ClassNotFoundException when used with newer version of Connector/J. At least the newest driver produces a warning:\r\n\r\n&gt; Loading class \\`com.mysql.jdbc.Driver&#39;. This is deprecated. The new\r\n&gt; driver class is \\`com.mysql.cj.jdbc.Driver&#39;. The driver is\r\n&gt; automatically registered via the SPI and manual loading of the driver\r\n&gt; class is generally unnecessary.\r\n\r\n\r\nKnowing this, removing `Class.forName` won&#39;t help since the exception simply means, that the driver is not on the class path.","title":"JDBC driver error and cannot connect to MySQL","body":"<p>First of all, loading the JDBC driver using <code>Class.forName</code> is not necessary since JDBC 4.0 which was made available in 2006 (the driver registers its implementation as service provider and will be loaded by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>).</p>\n<p>Just remove this line and it should work. If you need the class name, its a good idea to consult the <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html\" rel=\"nofollow noreferrer\">documentation</a> of Connector/J. Take care to read the docs for the correct driver version because the class name changed (currently it's com.mysql.cj.jdbc.Driver).</p>\n<p><strong>Update</strong></p>\n<p>As Mark Rotteveel pointed out, <code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;)</code> will not lead to a ClassNotFoundException when used with newer version of Connector/J. At least the newest driver produces a warning:</p>\n<blockquote>\n<p>Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new\ndriver class is `com.mysql.cj.jdbc.Driver'. The driver is\nautomatically registered via the SPI and manual loading of the driver\nclass is generally unnecessary.</p>\n</blockquote>\n<p>Knowing this, removing <code>Class.forName</code> won't help since the exception simply means, that the driver is not on the class path.</p>\n"}],"owner":{"account_id":26308623,"reputation":1,"user_id":19972593,"display_name":"Corey Maxwell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662967553,"answer_count":1,"score":0,"last_activity_date":1662970050,"creation_date":1662934974,"question_id":73682996,"body_markdown":"I keep getting the error messages when I run my code attempting to connect to a MySQL server\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:375)\r\n\r\nThis is my code. I&#39;ve made sure to add connector/J to the classpath and still no change.\r\n\r\n``` java\r\nimport java.sql.*;\r\n\r\npublic class App {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection conn = DriverManager.getConnection(\r\n                &quot;jdbc:mysql://localhost:3306/vehicle&quot;, &quot;root&quot;, &quot;root&quot;); // For MySQL only\r\n\r\n        vehicle focus = new vehicle(&quot;Ford&quot;, &quot;Focus&quot;, 200, 2004, 3000);\r\n\r\n        System.out.println(focus.getMake());\r\n    }\r\n}\r\n```","title":"JDBC driver error and cannot connect to MySQL","body":"<p>I keep getting the error messages when I run my code attempting to connect to a MySQL server</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n</code></pre>\n<p>This is my code. I've made sure to add connector/J to the classpath and still no change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class App {\n    \n    public static void main(String[] args) throws Exception {\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        Connection conn = DriverManager.getConnection(\n                &quot;jdbc:mysql://localhost:3306/vehicle&quot;, &quot;root&quot;, &quot;root&quot;); // For MySQL only\n\n        vehicle focus = new vehicle(&quot;Ford&quot;, &quot;Focus&quot;, 200, 2004, 3000);\n\n        System.out.println(focus.getMake());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","tomcat"],"comments":[{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1662955942,"post_id":73684137,"comment_id":130117343,"body_markdown":"What is this: `org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;`","body":"What is this: <code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureA&zwnj;&#8203;dvisorAutoProxyCreat&zwnj;&#8203;or]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentM&zwnj;&#8203;apIfPossible(I)Ljava&zwnj;&#8203;&#47;util&#47;Map;</code>"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":1,"creation_date":1662956023,"post_id":73684137,"comment_id":130117360,"body_markdown":"You can refer here: https://stackoverflow.com/a/27376946/1475228","body":"You can refer here: <a href=\"https://stackoverflow.com/a/27376946/1475228\">stackoverflow.com/a/27376946/1475228</a>"},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662956371,"post_id":73684137,"comment_id":130117406,"body_markdown":"IS there any easy way to figure out what is using that method?\n\nI am using Spring 4.1.6-RELEASE","body":"IS there any easy way to figure out what is using that method?  I am using Spring 4.1.6-RELEASE"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1662957263,"post_id":73684137,"comment_id":130117528,"body_markdown":"May be just set a break point at the starup to figure out what&#39;s wrong, also check the answers of the question I commented","body":"May be just set a break point at the starup to figure out what&#39;s wrong, also check the answers of the question I commented"},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662957353,"post_id":73684137,"comment_id":130117544,"body_markdown":"I cant put a breakpiint until it deploys to tomcat properly. Or at leasst I dont think i can.\n\nI loked at the answers on the link you provided but none solved my issue","body":"I cant put a breakpiint until it deploys to tomcat properly. Or at leasst I dont think i can.  I loked at the answers on the link you provided but none solved my issue"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662957482,"post_id":73684137,"comment_id":130117572,"body_markdown":"You&#39;re using an old version of spring-batch, with a different major version to the rest of your spring depndencies, worth looking at.","body":"You&#39;re using an old version of spring-batch, with a different major version to the rest of your spring depndencies, worth looking at."},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662960778,"post_id":73684137,"comment_id":130118093,"body_markdown":"Thanks for suggestion checking it out now","body":"Thanks for suggestion checking it out now"},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662961180,"post_id":73684137,"comment_id":130118160,"body_markdown":"That didnr work. You can find my dependency tree here:\nhttps://snipsave.com/user/jamiereid/snippet/9tYbf3s26tnU4bwyWb/","body":"That didnr work. You can find my dependency tree here: <a href=\"https://snipsave.com/user/jamiereid/snippet/9tYbf3s26tnU4bwyWb/\" rel=\"nofollow noreferrer\">snipsave.com/user/jamiereid/snippet/9tYbf3s26tnU4bwyWb</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662962580,"post_id":73684137,"comment_id":130118454,"body_markdown":"`~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]` ..is that in &quot;your&quot; tomcat? Since it&#39;s causing the exception..(..and not the version from pom!?;)","body":"<code>~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]</code> ..is that in &quot;your&quot; tomcat? Since it&#39;s causing the exception..(..and not the version from pom!?;)"},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662965542,"post_id":73684137,"comment_id":130119145,"body_markdown":"No I dont know where spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03 comes from it isnt in my dependcies or dependency tree, maybe figureing that ourt would solve the problem","body":"No I dont know where spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03 comes from it isnt in my dependcies or dependency tree, maybe figureing that ourt would solve the problem"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662966078,"post_id":73684137,"comment_id":130119282,"body_markdown":"Those error can come from 2 things, either mixing jars from different versions of a framework (Spring in this case) or using incompatible versions of other libraries (like older/newer Spring Security etc). The `jersey-spring` is for Spring 2.5 you are using Spring 4.1 so those are incompatible and pulling old stuff in (and might not even work with 4.1). Spring Batch uses Spring 4.0, which should be compatible but I would recommend upgrading.","body":"Those error can come from 2 things, either mixing jars from different versions of a framework (Spring in this case) or using incompatible versions of other libraries (like older/newer Spring Security etc). The <code>jersey-spring</code> is for Spring 2.5 you are using Spring 4.1 so those are incompatible and pulling old stuff in (and might not even work with 4.1). Spring Batch uses Spring 4.0, which should be compatible but I would recommend upgrading."},{"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"score":0,"creation_date":1662969765,"post_id":73684137,"comment_id":130120296,"body_markdown":"I have removed jersey spring as I only added it to try to get to the bottom of this.\nI have no idea where the compatiblitiy could be, the dependency tree looks good","body":"I have removed jersey spring as I only added it to try to get to the bottom of this. I have no idea where the compatiblitiy could be, the dependency tree looks good"},{"owner":{"display_name":"user19941657"},"score":0,"creation_date":1662969830,"post_id":73684137,"comment_id":130120321,"body_markdown":"https://snipsave.com/user/jamiereid/snippet/dwh9VeZ83HB7Zspt5k/ dep tree here","body":"<a href=\"https://snipsave.com/user/jamiereid/snippet/dwh9VeZ83HB7Zspt5k/\" rel=\"nofollow noreferrer\">snipsave.com/user/jamiereid/snippet/dwh9VeZ83HB7Zspt5k</a> dep tree here"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662972356,"post_id":73684137,"comment_id":130121038,"body_markdown":"You are now randomly updating things and makig things worse... You have now dependencies that assume Spring 5 instead of 4. So no your dependency tree doesn&#39;t look good. You have dependencies that range from Spring 4.0 to 5.2 and stuff in between and expect everything to be compatible. Your Spring Batch version was fine. I also highly doubt you still get the same error, if you do that jar is inside your tomcat and not yoru application.","body":"You are now randomly updating things and makig things worse... You have now dependencies that assume Spring 5 instead of 4. So no your dependency tree doesn&#39;t look good. You have dependencies that range from Spring 4.0 to 5.2 and stuff in between and expect everything to be compatible. Your Spring Batch version was fine. I also highly doubt you still get the same error, if you do that jar is inside your tomcat and not yoru application."},{"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"score":0,"creation_date":1662974264,"post_id":73684137,"comment_id":130121634,"body_markdown":"I dont see anything spring related with version 5. They are all 4.1.6.RELEASE if that exists, if it doesnt they are as close to 4.1.6.RELEASE as I can get them","body":"I dont see anything spring related with version 5. They are all 4.1.6.RELEASE if that exists, if it doesnt they are as close to 4.1.6.RELEASE as I can get them"}],"owner":{"display_name":"user19941657"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662969817,"creation_date":1662952552,"question_id":73684137,"body_markdown":"I have recently taken over a project and I am struggling to get it running in IntelliJ with Maven (before they used gradle and eclipse, neither of which are my favourite tools.\r\n\r\nI really need help solving te remaining errors as google doesnt help. It did however help me fix about 15 other problems with the build/deploy process. So kudos for that.\r\n\r\nI am using Tomcat 8.5 and maven 4.\r\n\r\nTo me it looks like something specifically to do with the AOP module. SOmething i sloading an older version and causing this error. I am put my [dependency tree here](hhttps://snipsave.com/user/jamiereid/snippet/dwh9VeZ83HB7Zspt5k/)\r\n\r\n\r\nBelow is the log from the apache startup\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    2022-09-12 04:57:44,962 INFO [RMI TCP Connection(5)-127.0.0.1] [ContextLoader.java:285] Root WebApplicationContext: initialization started\r\n    2022-09-12 04:57:45,386 INFO [RMI TCP Connection(5)-127.0.0.1] [AbstractApplicationContext.java:510] Refreshing Root WebApplicationContext: startup date [Mon Sep 12 04:57:45 CEST 2022]; root of context hierarchy\r\n    2022-09-12 04:57:45,703 INFO [RMI TCP Connection(5)-127.0.0.1] [AnnotationConfigWebApplicationContext.java:228] Successfully resolved class for [com.textintegration.config.AppConfig]\r\n    2022-09-12 04:57:45,832 INFO [RMI TCP Connection(5)-127.0.0.1] [AnnotationConfigWebApplicationContext.java:228] Successfully resolved class for [com.textintegration.config.WebMvcConfig]\r\n    2022-09-12 04:57:48,083 INFO [RMI TCP Connection(5)-127.0.0.1] [RepositoryConfigurationDelegate.java:165] Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2022-09-12 04:57:49,130 INFO [RMI TCP Connection(5)-127.0.0.1] [PostProcessorRegistrationDelegate.java:309] Bean &#39;org.springframework.scheduling.annotation.SchedulingConfiguration&#39; of type [class org.springframework.scheduling.annotation.SchedulingConfiguration$$EnhancerBySpringCGLIB$$c38351d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2022-09-12 04:57:49,200 WARN [RMI TCP Connection(5)-127.0.0.1] [AbstractApplicationContext.java:487] Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1101) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1775) [catalina.jar:8.5.82]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431) [catalina.jar:8.5.82]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\r\n    \tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_221]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_221]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_221]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_221]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1094) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 60 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.&lt;init&gt;(AbstractAutoProxyCreator.java:152) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.&lt;init&gt;(AbstractAdvisorAutoProxyCreator.java:47) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator.&lt;init&gt;(InfrastructureAdvisorAutoProxyCreator.java:29) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_221]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 62 common frames omitted\r\n    2022-09-12 04:57:49,204 ERROR [RMI TCP Connection(5)-127.0.0.1] [ContextLoader.java:331] Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1101) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1775) [catalina.jar:8.5.82]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483) [catalina.jar:8.5.82]\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431) [catalina.jar:8.5.82]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\r\n    \tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408) [na:1.8.0_221]\r\n    12-Sep-2022 04:57:49.227 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    12-Sep-2022 04:57:49.228 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/ti] startup failed due to previous errors\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_221]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_221]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_221]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_221]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_221]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1094) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 60 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n    \tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.&lt;init&gt;(AbstractAutoProxyCreator.java:152) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.&lt;init&gt;(AbstractAdvisorAutoProxyCreator.java:47) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator.&lt;init&gt;(InfrastructureAdvisorAutoProxyCreator.java:29) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_221]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_221]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_221]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_221]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 62 common frames omitted\r\n    [2022-09-12 04:57:49,325] Artifact TextIntegration:war: Error during artifact deployment. See server log for details.\r\n\r\n\r\nI am not perfect with Spring and I am unsure what to do. There is an awful lot of files so I can&#39;t share them all here.\r\n\r\nMy [POM.xml](https://snipsave.com/user/jamiereid/snippet/gTUz98Bnren0zgE9A4/) is not shareable here as it makes the post too large and exceed the limit of the number of characters so I have saved it at [POM.xml](https://snipsave.com/user/jamiereid/snippet/gTUz98Bnren0zgE9A4/)\r\n\r\nHere is my spring build config.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;!-- Auto-detect components --&gt;\r\n        &lt;context:component-scan base-package=&quot;com.textintegration.service&quot;/&gt;\r\n    &lt;/beans&gt;\r\n    \r\n\r\nThank you for reading and hopefully helping me.","title":"SPring AOP issue when deploying to Tomcat","body":"<p>I have recently taken over a project and I am struggling to get it running in IntelliJ with Maven (before they used gradle and eclipse, neither of which are my favourite tools.</p>\n<p>I really need help solving te remaining errors as google doesnt help. It did however help me fix about 15 other problems with the build/deploy process. So kudos for that.</p>\n<p>I am using Tomcat 8.5 and maven 4.</p>\n<p>To me it looks like something specifically to do with the AOP module. SOmething i sloading an older version and causing this error. I am put my dependency tree here</p>\n<p>Below is the log from the apache startup</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-09-12 04:57:44,962 INFO [RMI TCP Connection(5)-127.0.0.1] [ContextLoader.java:285] Root WebApplicationContext: initialization started\n2022-09-12 04:57:45,386 INFO [RMI TCP Connection(5)-127.0.0.1] [AbstractApplicationContext.java:510] Refreshing Root WebApplicationContext: startup date [Mon Sep 12 04:57:45 CEST 2022]; root of context hierarchy\n2022-09-12 04:57:45,703 INFO [RMI TCP Connection(5)-127.0.0.1] [AnnotationConfigWebApplicationContext.java:228] Successfully resolved class for [com.textintegration.config.AppConfig]\n2022-09-12 04:57:45,832 INFO [RMI TCP Connection(5)-127.0.0.1] [AnnotationConfigWebApplicationContext.java:228] Successfully resolved class for [com.textintegration.config.WebMvcConfig]\n2022-09-12 04:57:48,083 INFO [RMI TCP Connection(5)-127.0.0.1] [RepositoryConfigurationDelegate.java:165] Multiple Spring Data modules found, entering strict repository configuration mode!\n2022-09-12 04:57:49,130 INFO [RMI TCP Connection(5)-127.0.0.1] [PostProcessorRegistrationDelegate.java:309] Bean 'org.springframework.scheduling.annotation.SchedulingConfiguration' of type [class org.springframework.scheduling.annotation.SchedulingConfiguration$$EnhancerBySpringCGLIB$$c38351d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-09-12 04:57:49,200 WARN [RMI TCP Connection(5)-127.0.0.1] [AbstractApplicationContext.java:487] Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.aop.config.internalAutoProxyCreator': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1101) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232) [catalina.jar:8.5.82]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695) [catalina.jar:8.5.82]\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1775) [catalina.jar:8.5.82]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483) [catalina.jar:8.5.82]\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431) [catalina.jar:8.5.82]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_221]\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_221]\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_221]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_221]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_221]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_221]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1094) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    ... 60 common frames omitted\nCaused by: java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.&lt;init&gt;(AbstractAutoProxyCreator.java:152) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.&lt;init&gt;(AbstractAdvisorAutoProxyCreator.java:47) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator.&lt;init&gt;(InfrastructureAdvisorAutoProxyCreator.java:29) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_221]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_221]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    ... 62 common frames omitted\n2022-09-12 04:57:49,204 ERROR [RMI TCP Connection(5)-127.0.0.1] [ContextLoader.java:331] Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.aop.config.internalAutoProxyCreator': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1101) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) ~[spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4763) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5232) [catalina.jar:8.5.82]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:753) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:727) [catalina.jar:8.5.82]\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695) [catalina.jar:8.5.82]\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1775) [catalina.jar:8.5.82]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483) [catalina.jar:8.5.82]\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431) [catalina.jar:8.5.82]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:291) [tomcat-coyote.jar:8.5.82]\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_221]\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_221]\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408) [na:1.8.0_221]\n12-Sep-2022 04:57:49.227 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n12-Sep-2022 04:57:49.228 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/ti] startup failed due to previous errors\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_221]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_221]\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_221]\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_221]\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_221]\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_221]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_221]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_221]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_221]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_221]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1094) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    ... 60 common frames omitted\nCaused by: java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.&lt;init&gt;(AbstractAutoProxyCreator.java:152) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.&lt;init&gt;(AbstractAdvisorAutoProxyCreator.java:47) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at org.springframework.aop.framework.autoproxy.InfrastructureAdvisorAutoProxyCreator.&lt;init&gt;(InfrastructureAdvisorAutoProxyCreator.java:29) ~[spring-aop-2.5.6.SEC03.jar:2.5.6.SEC03]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_221]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_221]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_221]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_221]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    ... 62 common frames omitted\n[2022-09-12 04:57:49,325] Artifact TextIntegration:war: Error during artifact deployment. See server log for details.\n</code></pre>\n<p>I am not perfect with Spring and I am unsure what to do. There is an awful lot of files so I can't share them all here.</p>\n<p>My <a href=\"https://snipsave.com/user/jamiereid/snippet/gTUz98Bnren0zgE9A4/\" rel=\"nofollow noreferrer\">POM.xml</a> is not shareable here as it makes the post too large and exceed the limit of the number of characters so I have saved it at <a href=\"https://snipsave.com/user/jamiereid/snippet/gTUz98Bnren0zgE9A4/\" rel=\"nofollow noreferrer\">POM.xml</a></p>\n<p>Here is my spring build config.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;!-- Auto-detect components --&gt;\n    &lt;context:component-scan base-package=&quot;com.textintegration.service&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Thank you for reading and hopefully helping me.</p>\n"},{"tags":["java","eclipse","api","maven","servlets"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1617611650,"post_id":66949963,"comment_id":118343145,"body_markdown":"Did you put your own servlet as plugin into the POM?","body":"Did you put your own servlet as plugin into the POM?"},{"owner":{"account_id":21093586,"reputation":1,"user_id":15505008,"display_name":"aaok"},"score":0,"creation_date":1617613341,"post_id":66949963,"comment_id":118343653,"body_markdown":"That&#39;s what I&#39;m trying to do in the pom.xml but i failed.I guess it may the incompatibility of tomcat、jre、jdk and so on in different versions that causes such a problem.","body":"That&#39;s what I&#39;m trying to do in the pom.xml but i failed.I guess it may the incompatibility of tomcat、jre、jdk and so on in different versions that causes such a problem."},{"owner":{"account_id":21093586,"reputation":1,"user_id":15505008,"display_name":"aaok"},"score":0,"creation_date":1617613573,"post_id":66949963,"comment_id":118343716,"body_markdown":"I&#39;have already done it by using another code which costs me some money.It confuses me.I&#39;d love to share it for the followers.Still thanks for J Fabian Meier for his sincere help  @J Fabian Meier","body":"I&#39;have already done it by using another code which costs me some money.It confuses me.I&#39;d love to share it for the followers.Still thanks for J Fabian Meier for his sincere help  @J Fabian Meier"}],"answers":[{"tags":[],"owner":{"account_id":21093586,"reputation":1,"user_id":15505008,"display_name":"aaok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617613752,"creation_date":1617613752,"answer_id":66950607,"question_id":66949963,"body_markdown":"here is the right code and it costs me some money.I still can&#39;t konw how it works.But I&#39;d love to share it for the followers.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Fail to Maven Build due to an API incompatibility","body":"<p>here is the right code and it costs me some money.I still can't konw how it works.But I'd love to share it for the followers.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\n    &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17257373,"reputation":1,"user_id":12496174,"display_name":"Sahil Sonkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662969590,"creation_date":1662969563,"answer_id":73686150,"question_id":66949963,"body_markdown":"One of the solutions is to change the default plugin version, your default maybe 2.2 or 3.0.0 so read carefully the error maven-war-plugin mentioned there.\r\n\r\n     &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\n]","title":"Fail to Maven Build due to an API incompatibility","body":"<p>One of the solutions is to change the default plugin version, your default maybe 2.2 or 3.0.0 so read carefully the error maven-war-plugin mentioned there.</p>\n<pre><code> &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>]</p>\n"}],"owner":{"account_id":21093586,"reputation":1,"user_id":15505008,"display_name":"aaok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662969590,"creation_date":1617610067,"question_id":66949963,"body_markdown":"I want to build a maven project using Servlet API.However,I failed and error comes that:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war (default-war) on project myfirstservlet: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:3.0.0&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\nI do know a little for the problem but still not know how to solve it.Should I download another version of JDK、JRE or something else,or just rewrite my code?\r\nHere is my code of pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\r\n  &lt;properties&gt;\r\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n&lt;/properties&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;myfirstservlet Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n     &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;myfirstservlet&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n               &lt;resource&gt;\r\n                  &lt;directory&gt;WebContent&lt;/directory&gt;\r\n               &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n         &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Fail to Maven Build due to an API incompatibility","body":"<p>I want to build a maven project using Servlet API.However,I failed and error comes that:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war (default-war) on project myfirstservlet: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.0.0:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:3.0.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n</code></pre>\n<p>I do know a little for the problem but still not know how to solve it.Should I download another version of JDK、JRE or something else,or just rewrite my code?\nHere is my code of pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\n  &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\n  &lt;properties&gt;\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n&lt;/properties&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;myfirstservlet Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;myfirstservlet&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mavenservlet&lt;/groupId&gt;\n            &lt;artifactId&gt;myfirstservlet&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n            &lt;webResources&gt;\n               &lt;resource&gt;\n                  &lt;directory&gt;WebContent&lt;/directory&gt;\n               &lt;/resource&gt;\n            &lt;/webResources&gt;\n         &lt;/configuration&gt;\n                &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gradle","quartz-scheduler","hikaricp"],"comments":[{"owner":{"account_id":1150165,"reputation":1554,"user_id":1132056,"accept_rate":43,"display_name":"Bruce_Wayne"},"score":0,"creation_date":1683467470,"post_id":73686134,"comment_id":134368165,"body_markdown":"found the way from Andy&#39;s comment in https://stackoverflow.com/q/67398310/1132056","body":"found the way from Andy&#39;s comment in <a href=\"https://stackoverflow.com/q/67398310/1132056\">stackoverflow.com/q/67398310/1132056</a>"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1683527102,"post_id":73686134,"comment_id":134374551,"body_markdown":"Hi @Bruce_Wayne unfortunately I don&#39;t have access anymore to the code repository and therefore cannot look up the solution. Sorry!","body":"Hi @Bruce_Wayne unfortunately I don&#39;t have access anymore to the code repository and therefore cannot look up the solution. Sorry!"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662969449,"creation_date":1662969449,"question_id":73686134,"body_markdown":"I&#39;m having a quite large gradle project with multiple sub-projects. Problem is that I have clashing dependencies to `HikariCP:5.0.1` and `HikariCP-java7`. I fail to exclude this java7 dependency.\r\n\r\nOne sub-project &quot;A&quot; includes another sub-project &quot;B&quot;. And sub-project &quot;B&quot; has a dependency to quartz scheduler like that:\r\n\r\n```\r\ndependencies {\r\n  api(&#39;org.quartz-scheduler:quartz:2.3.2&#39;)\r\n}\r\n```\r\n\r\nwhich gives this dependency tree with `B/gradlew -q dependencies --configuration runtimeClasspath`:\r\n\r\n```\r\nruntimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n+--- ....\r\n+--- org.quartz-scheduler:quartz:2.3.2\r\n|    +--- com.mchange:c3p0:0.9.5.4\r\n|    |    \\--- com.mchange:mchange-commons-java:0.2.15\r\n|    +--- com.mchange:mchange-commons-java:0.2.15\r\n|    +--- com.zaxxer:HikariCP-java7:2.4.13\r\n|    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.30\r\n```\r\n\r\nI can exclude this unwanted HikariCP dep:\r\n\r\n```\r\ndependencies {\r\n  api(&#39;org.quartz-scheduler:quartz:2.3.2&#39;) {\r\n      exclude group: &#39;com.zaxxer&#39;, module: &#39;HikariCP-java7&#39;\r\n  }\r\n}\r\n```\r\n\r\nwhich works for that sub-project.\r\n\r\nBut if I check the dependency tree for the project `A` it still shows the unwanted java7 version of HikariCP. \r\n\r\n```\r\ndependencies {\r\n  implementation project(&#39;:B&#39;)\r\n}\r\n```\r\n\r\n```\r\n|    +--- project :B\r\n|    |    +--- ...\r\n|    |    +--- org.quartz-scheduler:quartz:2.3.2\r\n|    |    |    +--- com.mchange:c3p0:0.9.5.4 -&gt; 0.9.5.5\r\n|    |    |    |    \\--- com.mchange:mchange-commons-java:0.2.19\r\n|    |    |    +--- com.mchange:mchange-commons-java:0.2.15 -&gt; 0.2.19\r\n|    |    |    +--- com.zaxxer:HikariCP-java7:2.4.13\r\n|    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.30\r\n\r\n```\r\n\r\n**Question**: how can I project-wide exclude a certain dependency?","title":"Exclude HikariCP from Quartz Scheduler dependency","body":"<p>I'm having a quite large gradle project with multiple sub-projects. Problem is that I have clashing dependencies to <code>HikariCP:5.0.1</code> and <code>HikariCP-java7</code>. I fail to exclude this java7 dependency.</p>\n<p>One sub-project &quot;A&quot; includes another sub-project &quot;B&quot;. And sub-project &quot;B&quot; has a dependency to quartz scheduler like that:</p>\n<pre><code>dependencies {\n  api('org.quartz-scheduler:quartz:2.3.2')\n}\n</code></pre>\n<p>which gives this dependency tree with <code>B/gradlew -q dependencies --configuration runtimeClasspath</code>:</p>\n<pre><code>runtimeClasspath - Runtime classpath of source set 'main'.\n+--- ....\n+--- org.quartz-scheduler:quartz:2.3.2\n|    +--- com.mchange:c3p0:0.9.5.4\n|    |    \\--- com.mchange:mchange-commons-java:0.2.15\n|    +--- com.mchange:mchange-commons-java:0.2.15\n|    +--- com.zaxxer:HikariCP-java7:2.4.13\n|    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.30\n</code></pre>\n<p>I can exclude this unwanted HikariCP dep:</p>\n<pre><code>dependencies {\n  api('org.quartz-scheduler:quartz:2.3.2') {\n      exclude group: 'com.zaxxer', module: 'HikariCP-java7'\n  }\n}\n</code></pre>\n<p>which works for that sub-project.</p>\n<p>But if I check the dependency tree for the project <code>A</code> it still shows the unwanted java7 version of HikariCP.</p>\n<pre><code>dependencies {\n  implementation project(':B')\n}\n</code></pre>\n<pre><code>|    +--- project :B\n|    |    +--- ...\n|    |    +--- org.quartz-scheduler:quartz:2.3.2\n|    |    |    +--- com.mchange:c3p0:0.9.5.4 -&gt; 0.9.5.5\n|    |    |    |    \\--- com.mchange:mchange-commons-java:0.2.19\n|    |    |    +--- com.mchange:mchange-commons-java:0.2.15 -&gt; 0.2.19\n|    |    |    +--- com.zaxxer:HikariCP-java7:2.4.13\n|    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.30\n\n</code></pre>\n<p><strong>Question</strong>: how can I project-wide exclude a certain dependency?</p>\n"},{"tags":["javascript","java","node.js","typescript","axios"],"owner":{"account_id":10161670,"reputation":31,"user_id":8236068,"display_name":"ravi shankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662968928,"creation_date":1662619432,"question_id":73644722,"body_markdown":"I am doing axios GET call to fetch the data by passing date as param. For some specific dates, it is throwing 502 Bad gateway. Is there any way to resolve this error from client side like fetching the data in form of batches or it should be done something from the apigee or server side.\r\n\r\n``` {\r\n   &quot;fault&quot;:{\r\n      &quot;faultstring&quot;:&quot;Body buffer overflow&quot;,\r\n      &quot;detail&quot;:{\r\n         &quot;errorcode&quot;:&quot;protocol.http.TooBigBody&quot;\r\n      }\r\n   }\r\n ","title":"how to get rid of body buffer overflow error &#39;protocol.http.TooBigBody&#39; error while making api call?","body":"<p>I am doing axios GET call to fetch the data by passing date as param. For some specific dates, it is throwing 502 Bad gateway. Is there any way to resolve this error from client side like fetching the data in form of batches or it should be done something from the apigee or server side.</p>\n<pre><code>   &quot;fault&quot;:{\n      &quot;faultstring&quot;:&quot;Body buffer overflow&quot;,\n      &quot;detail&quot;:{\n         &quot;errorcode&quot;:&quot;protocol.http.TooBigBody&quot;\n      }\n   }\n \n</code></pre>\n"},{"tags":["java","eclipse","code-generation"],"answers":[{"tags":[],"owner":{"account_id":6000,"reputation":46780,"user_id":9922,"accept_rate":62,"display_name":"rbrayb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1229022335,"creation_date":1229022335,"answer_id":360501,"question_id":360282,"body_markdown":"It really depends on what you want to do? J2EE, web services, Swing ...\r\n\r\nI do a lot of web service development and rely heavily on:\r\n\r\n* [Web Services Explorer](http://www.eclipse.org/webtools/initial-contribution/IBM/evalGuides/WebServicesToolsEval.html)\r\n\r\nFor Axis2 development:\r\n\r\n* [Code Generator Wizard Guide for Eclipse Plug-in](http://ws.apache.org/axis2/tools/1_4_1/eclipse/wsdl2java-plugin.html)\r\n* [Service Archive Generator Wizard Guide for Eclipse Plug-in](http://ws.apache.org/axis2/tools/1_4_1/eclipse/servicearchiver-plugin.html)\r\n\r\nThere&#39;s a good tutorial on Axis2 plugins called [Developing Web Services Using Apache Axis2 Eclipse Plugins - Part 1](http://wso2.org/library/1719)\r\n\r\n\r\n\r\n","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>It really depends on what you want to do? J2EE, web services, Swing ...</p>\n\n<p>I do a lot of web service development and rely heavily on:</p>\n\n<ul>\n<li><a href=\"http://www.eclipse.org/webtools/initial-contribution/IBM/evalGuides/WebServicesToolsEval.html\" rel=\"nofollow noreferrer\">Web Services Explorer</a></li>\n</ul>\n\n<p>For Axis2 development:</p>\n\n<ul>\n<li><a href=\"http://ws.apache.org/axis2/tools/1_4_1/eclipse/wsdl2java-plugin.html\" rel=\"nofollow noreferrer\">Code Generator Wizard Guide for Eclipse Plug-in</a></li>\n<li><a href=\"http://ws.apache.org/axis2/tools/1_4_1/eclipse/servicearchiver-plugin.html\" rel=\"nofollow noreferrer\">Service Archive Generator Wizard Guide for Eclipse Plug-in</a></li>\n</ul>\n\n<p>There's a good tutorial on Axis2 plugins called <a href=\"http://wso2.org/library/1719\" rel=\"nofollow noreferrer\">Developing Web Services Using Apache Axis2 Eclipse Plugins - Part 1</a></p>\n"},{"tags":[],"owner":{"account_id":1476,"reputation":8526,"user_id":1969,"accept_rate":71,"display_name":"Brian Matthews"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1229032546,"creation_date":1229032546,"answer_id":361128,"question_id":360282,"body_markdown":"If your are interested in going a bit further with code generation and getting into model driven software development you should have a look at [openArchitectureWare][1].\r\n\r\nIf you work through the [Getting Started][2] tutorial you should get up to speed pretty quickly.\r\n\r\n\r\n  [1]: http://www.openarchitectureware.org\r\n  [2]: http://www.openarchitectureware.org/pub/documentation/4.3/html/contents/emf_tutorial.html","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>If your are interested in going a bit further with code generation and getting into model driven software development you should have a look at <a href=\"http://www.openarchitectureware.org\" rel=\"nofollow noreferrer\">openArchitectureWare</a>.</p>\n\n<p>If you work through the <a href=\"http://www.openarchitectureware.org/pub/documentation/4.3/html/contents/emf_tutorial.html\" rel=\"nofollow noreferrer\">Getting Started</a> tutorial you should get up to speed pretty quickly.</p>\n"},{"tags":[],"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229033193,"creation_date":1229033193,"answer_id":361166,"question_id":360282,"body_markdown":"I don&#39;t know if you&#39;re a big UML fan but [IBM Rational suite][1] is extremly powerful.\r\n\r\nI used it to move from UML to generated mock objects but that&#39;s only a slight part of what it can do\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/rational/library/05/ahmed/","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>I don't know if you're a big UML fan but <a href=\"http://www.ibm.com/developerworks/rational/library/05/ahmed/\" rel=\"nofollow noreferrer\">IBM Rational suite</a> is extremly powerful.</p>\n\n<p>I used it to move from UML to generated mock objects but that's only a slight part of what it can do</p>\n"},{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229085560,"creation_date":1229085560,"answer_id":362631,"question_id":360282,"body_markdown":"I don&#39;t think that this is really what you&#39;re asking about, but for model driven development, I think [**Borland&#39;s Together**][1] is still the best eclipse based tool out there.\r\n\r\n\r\n  [1]: http://www.borland.com/us/products/together/index.html","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>I don't think that this is really what you're asking about, but for model driven development, I think <a href=\"http://www.borland.com/us/products/together/index.html\" rel=\"nofollow noreferrer\"><strong>Borland's Together</strong></a> is still the best eclipse based tool out there.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1286640706,"creation_date":1286457243,"answer_id":3881987,"question_id":360282,"body_markdown":"You can look at http://fast-code.sourceforge.net/ for spring based applications. You can create FooService and FooServiceImpl and the configurations just by typing foo. It has nice way to create unit tests as well. One can see all the templates here : http://fast-code.sourceforge.net/templates-config.xml","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>You can look at <a href=\"http://fast-code.sourceforge.net/\" rel=\"nofollow noreferrer\">http://fast-code.sourceforge.net/</a> for spring based applications. You can create FooService and FooServiceImpl and the configurations just by typing foo. It has nice way to create unit tests as well. One can see all the templates here : <a href=\"http://fast-code.sourceforge.net/templates-config.xml\" rel=\"nofollow noreferrer\">http://fast-code.sourceforge.net/templates-config.xml</a></p>\n"},{"tags":[],"owner":{"account_id":66875,"reputation":3788,"user_id":195969,"display_name":"AWhitford"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1316073855,"creation_date":1316073855,"answer_id":7427638,"question_id":360282,"body_markdown":"[Project Lombok][1] enables you to effectively code in shorthand.  For example, you can declare a class, add a lombok annotation, and it will automatically generate getters, setters, equals, hashCode, toString, and constructors.\r\n\r\n\r\n  [1]: http://projectlombok.org/","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p><a href=\"http://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> enables you to effectively code in shorthand.  For example, you can declare a class, add a lombok annotation, and it will automatically generate getters, setters, equals, hashCode, toString, and constructors.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386084880,"creation_date":1386084880,"answer_id":20355272,"question_id":360282,"body_markdown":"[Eclipse Xtend][1] is a very powerful code generator that, among other things, supports closures and data classes - automatic getters/setters/hashCode/equals. \r\n\r\n\r\n  [1]: http://www.eclipse.org/xtend/","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p><a href=\"http://www.eclipse.org/xtend/\" rel=\"nofollow\">Eclipse Xtend</a> is a very powerful code generator that, among other things, supports closures and data classes - automatic getters/setters/hashCode/equals. </p>\n"},{"tags":[],"owner":{"account_id":5277974,"reputation":655,"user_id":4214215,"display_name":"rlopez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1662968703,"creation_date":1417802622,"answer_id":27322019,"question_id":360282,"body_markdown":"**Telosys** ( https://www.telosys.org/ ) is a simple and efficient tool for Java code generation.\r\n\r\nThis code generator is available as an **Eclipse Plugin** (https://marketplace.eclipse.org/content/telosys-tools) and also as a **Command Line Interface** (https://doc.telosys.org/telosys-cli).\r\n\r\nThe model defining all the entities can be created from scratch or from an existing database.\r\n\r\nThe templates are based on **Velocity** (https://velocity.apache.org/) and can be downloaded from GitHub. All the templates are customizable and new templates can be created from scratch if necessary.\r\nExisting templates can generate code forJPA, Spring MVC, Database documentation, REST API, etc.","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p><strong>Telosys</strong> ( <a href=\"https://www.telosys.org/\" rel=\"nofollow noreferrer\">https://www.telosys.org/</a> ) is a simple and efficient tool for Java code generation.</p>\n<p>This code generator is available as an <strong>Eclipse Plugin</strong> (<a href=\"https://marketplace.eclipse.org/content/telosys-tools\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/telosys-tools</a>) and also as a <strong>Command Line Interface</strong> (<a href=\"https://doc.telosys.org/telosys-cli\" rel=\"nofollow noreferrer\">https://doc.telosys.org/telosys-cli</a>).</p>\n<p>The model defining all the entities can be created from scratch or from an existing database.</p>\n<p>The templates are based on <strong>Velocity</strong> (<a href=\"https://velocity.apache.org/\" rel=\"nofollow noreferrer\">https://velocity.apache.org/</a>) and can be downloaded from GitHub. All the templates are customizable and new templates can be created from scratch if necessary.\nExisting templates can generate code forJPA, Spring MVC, Database documentation, REST API, etc.</p>\n"},{"tags":[],"owner":{"account_id":3550308,"reputation":11,"user_id":9144718,"display_name":"Fastcoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1521623840,"creation_date":1521623840,"answer_id":49402271,"question_id":360282,"body_markdown":"If you want to generate code independent of technology, Zontroy is a good choice. So you don&#39;t need to think about whether your project is a JavaEE project or not. You can generate any file in any technology from your database. ","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>If you want to generate code independent of technology, Zontroy is a good choice. So you don't need to think about whether your project is a JavaEE project or not. You can generate any file in any technology from your database. </p>\n"},{"tags":[],"owner":{"account_id":2312251,"reputation":2416,"user_id":2030126,"display_name":"Meghs Dhameliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557939163,"creation_date":1557939163,"answer_id":56154209,"question_id":360282,"body_markdown":"[jsoncafe.com][1] online code generator for the model class for JAVA, Android Gson, Swift Class, Swift Codable, c# etc.\r\n\r\n\r\n  [1]: http://www.jsoncafe.com","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p><a href=\"http://www.jsoncafe.com\" rel=\"nofollow noreferrer\">jsoncafe.com</a> online code generator for the model class for JAVA, Android Gson, Swift Class, Swift Codable, c# etc.</p>\n"},{"tags":[],"owner":{"account_id":7240816,"reputation":71,"user_id":5524450,"display_name":"Makkax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567616917,"creation_date":1567616917,"answer_id":57792999,"question_id":360282,"body_markdown":"I just released my personal Java code generator: JCG. You can find it at\r\n\r\nhttps://github.com/makkax/JavaCodeGenerator\r\n\r\nIt&#39;s a generator written in Java where you directly code all Java types, fields, methods &amp; annotations without the need of templates.\r\n\r\nWith JCG you can easily generate any number of Java types with complex interdependencies.","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>I just released my personal Java code generator: JCG. You can find it at</p>\n\n<p><a href=\"https://github.com/makkax/JavaCodeGenerator\" rel=\"nofollow noreferrer\">https://github.com/makkax/JavaCodeGenerator</a></p>\n\n<p>It's a generator written in Java where you directly code all Java types, fields, methods &amp; annotations without the need of templates.</p>\n\n<p>With JCG you can easily generate any number of Java types with complex interdependencies.</p>\n"},{"tags":[],"owner":{"account_id":13050907,"reputation":328,"user_id":9431283,"display_name":"iceberg53"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589730068,"creation_date":1589729111,"answer_id":61854233,"question_id":360282,"body_markdown":"Here are three java code generators that you may find interesting :\r\n\r\n - [picocog][1] : A tiny code generation library (&lt; 8 KB) written in Java, useful for any purpose, but ideal for JSR-269. There are tutorials available at [dev.to][2] and [dzone.com][3].\r\n\r\n - [The JmrTeam generator][4] : Jet Model Robotization available for Eclipse (coming soon for IDEA), useful for managing and generating code in any kind of project(Maven, Gradle, Java, Python, Php etc.), any kind of framework(springboot/spring/springMVC, React/ Vue/Angular, hibernate, mybatis, struts, JPA etc.).\r\n\r\n - [javapoet][5] : A Java API for generating .java source files.\r\n\r\n - [jhipster][6] :An open Source application platform for creating Spring Boot + Angular/React/Vue projects. The generator source code is available [here][7]\r\n\r\n\r\n  [1]: https://github.com/ainslec/picocog\r\n  [2]: https://dev.to/ainslec/metaprogramming-with-picocog-44od\r\n  [3]: https://dzone.com/articles/introducing-picocog-a-lightweight-code-generation\r\n  [4]: https://github.com/JmrTeam/generator\r\n  [5]: https://github.com/square/javapoet\r\n  [6]: https://www.jhipster.tech/\r\n  [7]: https://github.com/jhipster/generator-jhipster","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>Here are three java code generators that you may find interesting :</p>\n\n<ul>\n<li><p><a href=\"https://github.com/ainslec/picocog\" rel=\"nofollow noreferrer\">picocog</a> : A tiny code generation library (&lt; 8 KB) written in Java, useful for any purpose, but ideal for JSR-269. There are tutorials available at <a href=\"https://dev.to/ainslec/metaprogramming-with-picocog-44od\" rel=\"nofollow noreferrer\">dev.to</a> and <a href=\"https://dzone.com/articles/introducing-picocog-a-lightweight-code-generation\" rel=\"nofollow noreferrer\">dzone.com</a>.</p></li>\n<li><p><a href=\"https://github.com/JmrTeam/generator\" rel=\"nofollow noreferrer\">The JmrTeam generator</a> : Jet Model Robotization available for Eclipse (coming soon for IDEA), useful for managing and generating code in any kind of project(Maven, Gradle, Java, Python, Php etc.), any kind of framework(springboot/spring/springMVC, React/ Vue/Angular, hibernate, mybatis, struts, JPA etc.).</p></li>\n<li><p><a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">javapoet</a> : A Java API for generating .java source files.</p></li>\n<li><p><a href=\"https://www.jhipster.tech/\" rel=\"nofollow noreferrer\">jhipster</a> :An open Source application platform for creating Spring Boot + Angular/React/Vue projects. The generator source code is available <a href=\"https://github.com/jhipster/generator-jhipster\" rel=\"nofollow noreferrer\">here</a></p></li>\n</ul>\n"}],"owner":{"account_id":15204,"reputation":10189,"user_id":31892,"accept_rate":78,"display_name":"Chinnery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37444,"favorite_count":0,"down_vote_count":2,"up_vote_count":23,"answer_count":12,"score":21,"last_activity_date":1662968703,"creation_date":1229018365,"question_id":360282,"body_markdown":"I&#39;m aware of the built in code generation and refactoring one can do with the &quot;Source&quot; and &quot;Refactor&quot; menu items in Eclipse. \r\n\r\nI also use the Commonclipse plugin to easily make use of the Apache Commons classes that build hashCode, toString, equals methods.\r\n\r\nWhat other plugins or tools should I be aware of for generating Java source easily under the Eclipse IDE? \r\n","title":"What are the best Java code generation tools or plugins to use in Eclipse?","body":"<p>I'm aware of the built in code generation and refactoring one can do with the \"Source\" and \"Refactor\" menu items in Eclipse. </p>\n\n<p>I also use the Commonclipse plugin to easily make use of the Apache Commons classes that build hashCode, toString, equals methods.</p>\n\n<p>What other plugins or tools should I be aware of for generating Java source easily under the Eclipse IDE? </p>\n"},{"tags":["java","spring","spring-boot","hibernate","graphql"],"owner":{"account_id":25955381,"reputation":11,"user_id":19672809,"display_name":"Cankat Sezer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662968580,"creation_date":1662967442,"question_id":73685769,"body_markdown":"I have an &quot;Organization&quot; class that has &quot;Organization parent&quot; field. It&#39;s fetch type is lazy and relation is Many-To-One; \r\n\r\n    @Entity\r\n    @Table(name = &quot;organization&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;name&quot;, \r\n    &quot;code&quot;})})\r\n    public class Organization extends BaseDomain {\r\n\r\n    private String name;\r\n    private String baseUrlBackend;\r\n    private String baseUrlFrontend;\r\n    private String code;\r\n    private Organization parent;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn\r\n    public Organization getParent() {\r\n        return parent;\r\n    }\r\n.\r\n.\r\n.\r\nwhen i am trying to get organization with it&#39;s id i&#39;m getting this error;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nas i can understand i am having this trouble because; \r\n&quot;Organization parent&quot; is nullable but an &quot;Organization&quot; class has to have an &quot;id&quot; value. \r\nBut if there is no parent, there can&#39;t be any id value neither. Is there an annotation or config file to solve that problem. \r\n\r\nSo far i tried some solutions. When i change the FetchType.LAZY to FetchType.EAGER problem is solved but i don&#39;t want to change the FetchType so im looking for different solutions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOf4E.png","title":"GraphQL Spring Boot: Parent field retrieve null id wrongly","body":"<p>I have an &quot;Organization&quot; class that has &quot;Organization parent&quot; field. It's fetch type is lazy and relation is Many-To-One;</p>\n<pre><code>@Entity\n@Table(name = &quot;organization&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;name&quot;, \n&quot;code&quot;})})\npublic class Organization extends BaseDomain {\n\nprivate String name;\nprivate String baseUrlBackend;\nprivate String baseUrlFrontend;\nprivate String code;\nprivate Organization parent;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn\npublic Organization getParent() {\n    return parent;\n}\n</code></pre>\n<p>.\n.\n.\nwhen i am trying to get organization with it's id i'm getting this error;</p>\n<p><a href=\"https://i.stack.imgur.com/wOf4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOf4E.png\" alt=\"enter image description here\" /></a></p>\n<p>as i can understand i am having this trouble because;\n&quot;Organization parent&quot; is nullable but an &quot;Organization&quot; class has to have an &quot;id&quot; value.\nBut if there is no parent, there can't be any id value neither. Is there an annotation or config file to solve that problem.</p>\n<p>So far i tried some solutions. When i change the FetchType.LAZY to FetchType.EAGER problem is solved but i don't want to change the FetchType so im looking for different solutions.</p>\n"},{"tags":["java","scala","apache-spark-sql"],"comments":[{"owner":{"account_id":3151111,"reputation":2749,"user_id":2664547,"display_name":"Erik Schmiegelow"},"score":0,"creation_date":1502886034,"post_id":45713290,"comment_id":78384685,"body_markdown":"This is most probably related to https://issues.apache.org/jira/browse/SPARK-10925, i.e. ambiguity in naming of the id column","body":"This is most probably related to <a href=\"https://issues.apache.org/jira/browse/SPARK-10925\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SPARK-10925</a>, i.e. ambiguity in naming of the id column"},{"owner":{"account_id":5937182,"reputation":653,"user_id":4669754,"display_name":"Rajita"},"score":0,"creation_date":1502886244,"post_id":45713290,"comment_id":78384834,"body_markdown":"but in the first case its works fine. And I am mentioning the reference also. I tried renaming the id in df4 to id_new. and still am not able to resolve the error. Is it beacuse of some lineage issue with JAVARDD? I tried keeping checkpoints. But still the same error","body":"but in the first case its works fine. And I am mentioning the reference also. I tried renaming the id in df4 to id_new. and still am not able to resolve the error. Is it beacuse of some lineage issue with JAVARDD? I tried keeping checkpoints. But still the same error"},{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1557234436,"post_id":45713290,"comment_id":98690317,"body_markdown":"Also see: https://stackoverflow.com/questions/40062298/resolved-attributes-missing-when-performing-join-on-pyspark/46203915 - the full error message is &quot;resolved attribute(s) missing ...&quot;","body":"Also see: <a href=\"https://stackoverflow.com/questions/40062298/resolved-attributes-missing-when-performing-join-on-pyspark/46203915\" title=\"resolved attributes missing when performing join on pyspark\">stackoverflow.com/questions/40062298/&hellip;</a> - the full error message is &quot;resolved attribute(s) missing ...&quot;"},{"owner":{"account_id":3665682,"reputation":2091,"user_id":3061686,"accept_rate":80,"display_name":"akki"},"score":0,"creation_date":1563933470,"post_id":45713290,"comment_id":100861020,"body_markdown":"This might be the worst/most-hackish fix ever but aliasing the dataframes i.e. `df_alias = df.alias(&#39;df_alias)` and reversing the order of the join i.e. changing `df1_alias.join(df2_alias . . .)` to `df2_alias.join(df1_ailas . . .)` fixed the issue for me","body":"This might be the worst/most-hackish fix ever but aliasing the dataframes i.e. <code>df_alias = df.alias(&#39;df_alias)</code> and reversing the order of the join i.e. changing <code>df1_alias.join(df2_alias . . .)</code> to <code>df2_alias.join(df1_ailas . . .)</code> fixed the issue for me"}],"answers":[{"tags":[],"owner":{"account_id":3151111,"reputation":2749,"user_id":2664547,"display_name":"Erik Schmiegelow"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1502886550,"creation_date":1502886550,"answer_id":45713585,"question_id":45713290,"body_markdown":"As mentioned in my comment, it is related to https://issues.apache.org/jira/browse/SPARK-10925 and, more specifically https://issues.apache.org/jira/browse/SPARK-14948. Reuse of the reference will create ambiguity in naming, so you will have to clone the df - see the last comment in https://issues.apache.org/jira/browse/SPARK-14948 for an example.","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>As mentioned in my comment, it is related to <a href=\"https://issues.apache.org/jira/browse/SPARK-10925\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SPARK-10925</a> and, more specifically <a href=\"https://issues.apache.org/jira/browse/SPARK-14948\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SPARK-14948</a>. Reuse of the reference will create ambiguity in naming, so you will have to clone the df - see the last comment in <a href=\"https://issues.apache.org/jira/browse/SPARK-14948\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SPARK-14948</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534756453,"creation_date":1533718035,"answer_id":51742359,"question_id":45713290,"body_markdown":"For java developpers, try to call this method:\r\n\r\n    private static Dataset&lt;Row&gt; cloneDataset(Dataset&lt;Row&gt; ds) {\r\n        List&lt;Column&gt; filterColumns = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; filterColumnsNames = new ArrayList&lt;&gt;();\r\n        scala.collection.Iterator&lt;StructField&gt; it = ds.exprEnc().schema().toIterator();\r\n        while (it.hasNext()) {\r\n            String columnName = it.next().name();\r\n            filterColumns.add(ds.col(columnName));\r\n            filterColumnsNames.add(columnName);\r\n        }\r\n        ds = ds.select(JavaConversions.asScalaBuffer(filterColumns).seq()).toDF(scala.collection.JavaConverters.asScalaIteratorConverter(filterColumnsNames.iterator()).asScala().toSeq());\r\n        return ds;\r\n    }\r\n\r\non both datasets just before the joining, it clone the datasets into new ones:\r\n\r\n    df1 = cloneDataset(df1); \r\n    df2 = cloneDataset(df2);\r\n    Dataset&lt;Row&gt; join = df1.join(df2, col(&quot;column_name&quot;));\r\n    // if it didn&#39;t work try this\r\n    final Dataset&lt;Row&gt; join = cloneDataset(df1.join(df2, columns_seq)); ","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>For java developpers, try to call this method:</p>\n\n<pre><code>private static Dataset&lt;Row&gt; cloneDataset(Dataset&lt;Row&gt; ds) {\n    List&lt;Column&gt; filterColumns = new ArrayList&lt;&gt;();\n    List&lt;String&gt; filterColumnsNames = new ArrayList&lt;&gt;();\n    scala.collection.Iterator&lt;StructField&gt; it = ds.exprEnc().schema().toIterator();\n    while (it.hasNext()) {\n        String columnName = it.next().name();\n        filterColumns.add(ds.col(columnName));\n        filterColumnsNames.add(columnName);\n    }\n    ds = ds.select(JavaConversions.asScalaBuffer(filterColumns).seq()).toDF(scala.collection.JavaConverters.asScalaIteratorConverter(filterColumnsNames.iterator()).asScala().toSeq());\n    return ds;\n}\n</code></pre>\n\n<p>on both datasets just before the joining, it clone the datasets into new ones:</p>\n\n<pre><code>df1 = cloneDataset(df1); \ndf2 = cloneDataset(df2);\nDataset&lt;Row&gt; join = df1.join(df2, col(\"column_name\"));\n// if it didn't work try this\nfinal Dataset&lt;Row&gt; join = cloneDataset(df1.join(df2, columns_seq)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3549768,"reputation":1538,"user_id":2964911,"display_name":"Iraj Hedayati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539828471,"creation_date":1539828471,"answer_id":52865931,"question_id":45713290,"body_markdown":"I got the same issue when trying to use one DataFrame in two consecutive joins.\r\n\r\nHere is the problem: DataFrame A has 2 columns (let&#39;s call them x and y) and DataFrame B has 2 columns as well (let&#39;s call them w and z). I need to join A with B on x=z and then join them together on y=z.\r\n\r\n    (A join B on A.x=B.z) as C join B on C.y=B.z\r\n\r\nI was getting the exact error that in the second join it was complaining &quot;**resolved attribute(s) B.z#1234 ...**&quot;.\r\n\r\nFollowing the links @Erik provided and some other blogs and questions, I gathered I need a clone of B.\r\n\r\nHere is what I did:\r\n\r\n&lt;!-- language-all: scala --&gt;\r\n\r\n    val aDF = ...\r\n    val bDF = ...\r\n    val bCloned = spark.createDataFrame(bDF.rdd, bDF.schema)\r\n    aDF.join(bDF, aDF(&quot;x&quot;) === bDF(&quot;z&quot;)).join(bCloned, aDF(&quot;y&quot;) === bCloned(&quot;z&quot;))","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>I got the same issue when trying to use one DataFrame in two consecutive joins.</p>\n\n<p>Here is the problem: DataFrame A has 2 columns (let's call them x and y) and DataFrame B has 2 columns as well (let's call them w and z). I need to join A with B on x=z and then join them together on y=z.</p>\n\n<pre><code>(A join B on A.x=B.z) as C join B on C.y=B.z\n</code></pre>\n\n<p>I was getting the exact error that in the second join it was complaining \"<strong>resolved attribute(s) B.z#1234 ...</strong>\".</p>\n\n<p>Following the links @Erik provided and some other blogs and questions, I gathered I need a clone of B.</p>\n\n<p>Here is what I did:</p>\n\n\n\n<pre class=\"lang-scala prettyprint-override\"><code>val aDF = ...\nval bDF = ...\nval bCloned = spark.createDataFrame(bDF.rdd, bDF.schema)\naDF.join(bDF, aDF(\"x\") === bDF(\"z\")).join(bCloned, aDF(\"y\") === bCloned(\"z\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3322244,"reputation":8416,"user_id":2793141,"display_name":"Tomer Ben David"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1545211704,"creation_date":1545211704,"answer_id":53848160,"question_id":45713290,"body_markdown":"If you have df1, and df2 derived from df1, try renaming all columns in df2 such that no two columns have identical name after join.  So before the join:\r\n\r\nso instead of `df1.join(df2...`\r\n\r\ndo\r\n\r\n    # Step 1 rename shared column names in df2.\r\n    df2_renamed = df2.withColumnRenamed(&#39;columna&#39;, &#39;column_a_renamed&#39;).withColumnRenamed(&#39;columnb&#39;, &#39;column_b_renamed&#39;)\r\n\r\n    # Step 2 do the join on the renamed df2 such that no two columns have same name.\r\n    df1.join(df2_renamed)","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>If you have df1, and df2 derived from df1, try renaming all columns in df2 such that no two columns have identical name after join.  So before the join:</p>\n\n<p>so instead of <code>df1.join(df2...</code></p>\n\n<p>do</p>\n\n<pre><code># Step 1 rename shared column names in df2.\ndf2_renamed = df2.withColumnRenamed('columna', 'column_a_renamed').withColumnRenamed('columnb', 'column_b_renamed')\n\n# Step 2 do the join on the renamed df2 such that no two columns have same name.\ndf1.join(df2_renamed)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15198844,"reputation":1,"user_id":10967413,"display_name":"dharani sugumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549518142,"creation_date":1549517077,"answer_id":54566805,"question_id":45713290,"body_markdown":"It will work if you do the below.\r\n\r\nsuppose you have a dataframe. df1 and if you want to cross join the same dataframe, you can use the below\r\n\r\n    df1.toDF(&quot;ColA&quot;,&quot;ColB&quot;).as(&quot;f_df&quot;).join(df1.toDF(&quot;ColA&quot;,&quot;ColB&quot;).as(&quot;t_df&quot;), \r\n       $&quot;f_df.pcmdty_id&quot; === \r\n       $&quot;t_df.assctd_pcmdty_id&quot;).select($&quot;f_df.pcmdty_id&quot;,$&quot;f_df.assctd_pcmdty_id&quot;)","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>It will work if you do the below.</p>\n\n<p>suppose you have a dataframe. df1 and if you want to cross join the same dataframe, you can use the below</p>\n\n<pre><code>df1.toDF(\"ColA\",\"ColB\").as(\"f_df\").join(df1.toDF(\"ColA\",\"ColB\").as(\"t_df\"), \n   $\"f_df.pcmdty_id\" === \n   $\"t_df.assctd_pcmdty_id\").select($\"f_df.pcmdty_id\",$\"f_df.assctd_pcmdty_id\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9262755,"reputation":111,"user_id":6879223,"display_name":"Zhenyi Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553640454,"creation_date":1553640454,"answer_id":55367273,"question_id":45713290,"body_markdown":"From my experience, we have 2 solutions\r\n1) clone DF\r\n2) rename columns that have ambiguity before joining tables. (don&#39;t forget to drop duplicated join key)\r\n\r\nPersonally I prefer the second method, because cloning DF in the first method takes time, especially if data size is big. ","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>From my experience, we have 2 solutions\n1) clone DF\n2) rename columns that have ambiguity before joining tables. (don't forget to drop duplicated join key)</p>\n\n<p>Personally I prefer the second method, because cloning DF in the first method takes time, especially if data size is big. </p>\n"},{"tags":[],"owner":{"account_id":3773090,"reputation":51,"user_id":3134722,"display_name":"Sanni Heruwala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574620305,"creation_date":1570690473,"answer_id":58317087,"question_id":45713290,"body_markdown":"In my case this error appeared during self join of same table.\r\nI was facing the below issue with Spark SQL and not the dataframe API: \r\n\r\n    org.apache.spark.sql.AnalysisException: Resolved attribute(s) originator#3084,program_duration#3086,originator_locale#3085 missing from program_duration#1525,guid#400,originator_locale#1524,EFFECTIVE_DATETIME_UTC#3157L,device_timezone#2366,content_rpd_id#734L,originator_sublocale#2355,program_air_datetime_utc#3155L,originator#1523,master_campaign#735,device_provider_id#2352 in operator !Deduplicate [guid#400, program_duration#3086, device_timezone#2366, originator_locale#3085, originator_sublocale#2355, master_campaign#735, EFFECTIVE_DATETIME_UTC#3157L, device_provider_id#2352, originator#3084, program_air_datetime_utc#3155L, content_rpd_id#734L]. Attribute(s) with the same name appear in the operation: originator,program_duration,originator_locale. Please check if the right attribute(s) are used.;;\r\n\r\nEarlier I was using below query,\r\n\r\n \r\n\r\n        SELECT * FROM DataTable as aext\r\n                 INNER JOIN AnotherDataTable LAO \r\n    ON aext.device_provider_id = LAO.device_provider_id \r\n\r\n\r\nSelecting only required columns before joining solved the issue for me.\r\n\r\n  \r\n\r\n          SELECT * FROM (\r\n        select distinct EFFECTIVE_DATE,system,mso_Name,EFFECTIVE_DATETIME_UTC,content_rpd_id,device_provider_id \r\n    from DataTable \r\n    ) as aext\r\n             INNER JOIN AnotherDataTable LAO ON aext.device_provider_id = LAO.device_provider_id \r\n\r\n\r\n\r\n\r\n\r\n","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>In my case this error appeared during self join of same table.\nI was facing the below issue with Spark SQL and not the dataframe API: </p>\n\n<pre><code>org.apache.spark.sql.AnalysisException: Resolved attribute(s) originator#3084,program_duration#3086,originator_locale#3085 missing from program_duration#1525,guid#400,originator_locale#1524,EFFECTIVE_DATETIME_UTC#3157L,device_timezone#2366,content_rpd_id#734L,originator_sublocale#2355,program_air_datetime_utc#3155L,originator#1523,master_campaign#735,device_provider_id#2352 in operator !Deduplicate [guid#400, program_duration#3086, device_timezone#2366, originator_locale#3085, originator_sublocale#2355, master_campaign#735, EFFECTIVE_DATETIME_UTC#3157L, device_provider_id#2352, originator#3084, program_air_datetime_utc#3155L, content_rpd_id#734L]. Attribute(s) with the same name appear in the operation: originator,program_duration,originator_locale. Please check if the right attribute(s) are used.;;\n</code></pre>\n\n<p>Earlier I was using below query,</p>\n\n<pre><code>    SELECT * FROM DataTable as aext\n             INNER JOIN AnotherDataTable LAO \nON aext.device_provider_id = LAO.device_provider_id \n</code></pre>\n\n<p>Selecting only required columns before joining solved the issue for me.</p>\n\n<pre><code>      SELECT * FROM (\n    select distinct EFFECTIVE_DATE,system,mso_Name,EFFECTIVE_DATETIME_UTC,content_rpd_id,device_provider_id \nfrom DataTable \n) as aext\n         INNER JOIN AnotherDataTable LAO ON aext.device_provider_id = LAO.device_provider_id \n</code></pre>\n"},{"tags":[],"owner":{"account_id":74760,"reputation":8602,"user_id":214647,"accept_rate":77,"display_name":"Jeevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574764224,"creation_date":1574620224,"answer_id":59021021,"question_id":45713290,"body_markdown":"[TLDR]\r\n\r\nBreak the *AttributeReference* shared between columns in parent DataFrame and derived DataFrame by writing the intermediate DataFrame to file system and reading it again.\r\n\r\nEx:\r\n\r\n    val df1 = spark.read.parquet(&quot;file1&quot;)\r\n    df1.createOrReplaceTempView(&quot;df1&quot;)\r\n    val df2 = spark.read.parquet(&quot;file2&quot;)\r\n    df2.createOrReplaceTempView(&quot;df2&quot;)\r\n    \r\n    val df12 = spark.sql(&quot;&quot;&quot;SELECT * FROM df1 as d1 JOIN df2 as d2 ON d1.a = d2.b&quot;&quot;&quot;)\r\n    df12.createOrReplaceTempView(&quot;df12&quot;)\r\n    \r\n    val df12_ = spark.sql(&quot;&quot;&quot; -- some transformation -- &quot;&quot;&quot;)\r\n    df12_.createOrReplaceTempView(&quot;df12_&quot;)\r\n    \r\n    val df3 = spark.read.parquet(&quot;file3&quot;)\r\n    df3.createOrReplaceTempView(&quot;df3&quot;)\r\n    \r\n    val df123 = spark.sql(&quot;&quot;&quot;SELECT * FROM df12_ as d12_ JOIN df3 as d3 ON d12_.a = d3.c&quot;&quot;&quot;)\r\n    df123.createOrReplaceTempView(&quot;df123&quot;)\r\n\r\nNow joining with top level DataFrame will lead to &quot;unresolved attribute error&quot; \r\n\r\n    val df1231 = spark.sql(&quot;&quot;&quot;SELECT * FROM df123 as d123 JOIN df1 as d1 ON d123.a = d1.a&quot;&quot;&quot;) \r\n\r\nSolution: d123.a and d1.a share same AttributeReference break it by \r\nwriting intermediate table df123 to file system and reading again. now df123write.a and d1.a does not share AttributeReference \r\n\r\n\r\n    val df123 = spark.sql(&quot;&quot;&quot;SELECT * FROM df12 as d12 JOIN df3 as d3 ON d12.a = d3.c&quot;&quot;&quot;)\r\n    df123.createOrReplaceTempView(&quot;df123&quot;)\r\n    \r\n    df123.write.parquet(&quot;df123.par&quot;)\r\n    val df123write = spark.read.parquet(&quot;df123.par&quot;)\r\n    spark.catalog.dropTempView(&quot;df123&quot;)\r\n    df123write.createOrReplaceTempView(&quot;df123&quot;)\r\n    \r\n    val df1231 = spark.sql(&quot;&quot;&quot;SELECT * FROM df123 as d123 JOIN df1 as d1 ON d123.a = d1.a&quot;&quot;&quot;) \r\n\r\n\r\n\r\nLong story:\r\n\r\nWe had complex ETLs with transformation and self joins of DataFrames, performed at multiple levels. We faced &quot;unresolved attribute&quot; error frequently and we solved it by selecting required attribute and performing join on the top level table instead of directly joining with the top level table this solved the issue temporarily but when we applied some more transformation on these DataFrame and joined with any top level DataFrames, &quot;unresolved attribute&quot; error raised its ugly head again. \r\n\r\nThis was happening because DataFrames in bottom level were sharing the same AttributeReference with top level DataFrames from which they were derived [\\[more details\\]][1]\r\n\r\nSo we broke this reference sharing by writing just 1 intermediate transformed DataFrame and reading it again and continuing with our ETL. This broke sharing AttributeReference between bottom DataFrames and Top DataFrames and we never again faced &quot;unresolved attribute&quot; error.\r\n\r\nThis worked for us because as we moved from top level DataFrame to bottom performing transformation and join our data shrank than initial DataFrames that we started, it also improved our performance as data size was less and spark didn&#39;t have to traverse back the DAG all the way to the last persisted DataFrame.\r\n\r\n\r\n  [1]: https://github.com/apache/spark/pull/25107","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>[TLDR]</p>\n\n<p>Break the <em>AttributeReference</em> shared between columns in parent DataFrame and derived DataFrame by writing the intermediate DataFrame to file system and reading it again.</p>\n\n<p>Ex:</p>\n\n<pre><code>val df1 = spark.read.parquet(\"file1\")\ndf1.createOrReplaceTempView(\"df1\")\nval df2 = spark.read.parquet(\"file2\")\ndf2.createOrReplaceTempView(\"df2\")\n\nval df12 = spark.sql(\"\"\"SELECT * FROM df1 as d1 JOIN df2 as d2 ON d1.a = d2.b\"\"\")\ndf12.createOrReplaceTempView(\"df12\")\n\nval df12_ = spark.sql(\"\"\" -- some transformation -- \"\"\")\ndf12_.createOrReplaceTempView(\"df12_\")\n\nval df3 = spark.read.parquet(\"file3\")\ndf3.createOrReplaceTempView(\"df3\")\n\nval df123 = spark.sql(\"\"\"SELECT * FROM df12_ as d12_ JOIN df3 as d3 ON d12_.a = d3.c\"\"\")\ndf123.createOrReplaceTempView(\"df123\")\n</code></pre>\n\n<p>Now joining with top level DataFrame will lead to \"unresolved attribute error\" </p>\n\n<pre><code>val df1231 = spark.sql(\"\"\"SELECT * FROM df123 as d123 JOIN df1 as d1 ON d123.a = d1.a\"\"\") \n</code></pre>\n\n<p>Solution: d123.a and d1.a share same AttributeReference break it by \nwriting intermediate table df123 to file system and reading again. now df123write.a and d1.a does not share AttributeReference </p>\n\n<pre><code>val df123 = spark.sql(\"\"\"SELECT * FROM df12 as d12 JOIN df3 as d3 ON d12.a = d3.c\"\"\")\ndf123.createOrReplaceTempView(\"df123\")\n\ndf123.write.parquet(\"df123.par\")\nval df123write = spark.read.parquet(\"df123.par\")\nspark.catalog.dropTempView(\"df123\")\ndf123write.createOrReplaceTempView(\"df123\")\n\nval df1231 = spark.sql(\"\"\"SELECT * FROM df123 as d123 JOIN df1 as d1 ON d123.a = d1.a\"\"\") \n</code></pre>\n\n<p>Long story:</p>\n\n<p>We had complex ETLs with transformation and self joins of DataFrames, performed at multiple levels. We faced \"unresolved attribute\" error frequently and we solved it by selecting required attribute and performing join on the top level table instead of directly joining with the top level table this solved the issue temporarily but when we applied some more transformation on these DataFrame and joined with any top level DataFrames, \"unresolved attribute\" error raised its ugly head again. </p>\n\n<p>This was happening because DataFrames in bottom level were sharing the same AttributeReference with top level DataFrames from which they were derived <a href=\"https://github.com/apache/spark/pull/25107\" rel=\"nofollow noreferrer\">[more details]</a></p>\n\n<p>So we broke this reference sharing by writing just 1 intermediate transformed DataFrame and reading it again and continuing with our ETL. This broke sharing AttributeReference between bottom DataFrames and Top DataFrames and we never again faced \"unresolved attribute\" error.</p>\n\n<p>This worked for us because as we moved from top level DataFrame to bottom performing transformation and join our data shrank than initial DataFrames that we started, it also improved our performance as data size was less and spark didn't have to traverse back the DAG all the way to the last persisted DataFrame.</p>\n"},{"tags":[],"owner":{"account_id":15648722,"reputation":121,"user_id":11290494,"display_name":"mhmdburton"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1662967808,"creation_date":1575535356,"answer_id":59191210,"question_id":45713290,"body_markdown":"just rename your columns and put the same name.\r\nin pyspark:\r\n```\r\nfor i in df.columns:\r\n    df = df.withColumnRenamed(i,i)\r\n","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>just rename your columns and put the same name.\nin pyspark:</p>\n<pre><code>for i in df.columns:\n    df = df.withColumnRenamed(i,i)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5154397,"reputation":6305,"user_id":4127995,"display_name":"Jason CHAN"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594712596,"creation_date":1589586656,"answer_id":61830109,"question_id":45713290,"body_markdown":"This issue really killed a lot of my time and I finally got an easy solution for it.\r\n\r\nIn PySpark, for the problematic column, say `colA`, we could simply use\r\n\r\n```python\r\nimport pyspark.sql.functions as F\r\n\r\ndf = df.select(F.col(&quot;colA&quot;).alias(&quot;colA&quot;))\r\n```\r\nprior to using `df` in the `join`. \r\n\r\n\r\nI think this should work for Scala/Java Spark too.","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>This issue really killed a lot of my time and I finally got an easy solution for it.</p>\n<p>In PySpark, for the problematic column, say <code>colA</code>, we could simply use</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pyspark.sql.functions as F\n\ndf = df.select(F.col(&quot;colA&quot;).alias(&quot;colA&quot;))\n</code></pre>\n<p>prior to using <code>df</code> in the <code>join</code>.</p>\n<p>I think this should work for Scala/Java Spark too.</p>\n"},{"tags":[],"owner":{"account_id":4212932,"reputation":41,"user_id":3450076,"display_name":"Subash Prabanantham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597059701,"creation_date":1597059701,"answer_id":63339475,"question_id":45713290,"body_markdown":"Thanks to [Tomer&#39;s Answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53848160/3450076\r\n\r\n\r\nFor scala - The issue came up when I tried to use the column in the self-join clause, to fix it use the method\r\n\r\n    // To `and` all the column conditions\r\n    def andAll(cols: Iterable[Column]): Column =\r\n       if (cols.isEmpty) lit(true)\r\n       else cols.tail.foldLeft(cols.head) { case (soFar, curr) =&gt; soFar.and(curr) }\r\n\r\n    // To perform join different col name\r\n    def renameColAndJoin(leftDf: DataFrame, joinCols: Seq[String], joinType: String = &quot;inner&quot;)(rightDf: DataFrame): DataFrame = {\r\n\r\n       val renamedCols: Seq[String]          = joinCols.map(colName =&gt; s&quot;${colName}_renamed&quot;)\r\n       val zippedCols: Seq[(String, String)] = joinCols.zip(renamedCols)\r\n\r\n       val renamedRightDf: DataFrame = zippedCols.foldLeft(rightDf) {\r\n         case (df, (origColName, renamedColName)) =&gt; df.withColumnRenamed(origColName, renamedColName)\r\n       }\r\n\r\n       val joinExpr: Column = andAll(zippedCols.map {\r\n         case (origCol, renamedCol) =&gt; renamedRightDf(renamedCol).equalTo(rightDf(origCol))\r\n       })\r\n\r\n       leftDf.join(renamedRightDf, joinExpr, joinType)\r\n\r\n    }","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/53848160/3450076\">Tomer's Answer</a></p>\n<p>For scala - The issue came up when I tried to use the column in the self-join clause, to fix it use the method</p>\n<pre><code>// To `and` all the column conditions\ndef andAll(cols: Iterable[Column]): Column =\n   if (cols.isEmpty) lit(true)\n   else cols.tail.foldLeft(cols.head) { case (soFar, curr) =&gt; soFar.and(curr) }\n\n// To perform join different col name\ndef renameColAndJoin(leftDf: DataFrame, joinCols: Seq[String], joinType: String = &quot;inner&quot;)(rightDf: DataFrame): DataFrame = {\n\n   val renamedCols: Seq[String]          = joinCols.map(colName =&gt; s&quot;${colName}_renamed&quot;)\n   val zippedCols: Seq[(String, String)] = joinCols.zip(renamedCols)\n\n   val renamedRightDf: DataFrame = zippedCols.foldLeft(rightDf) {\n     case (df, (origColName, renamedColName)) =&gt; df.withColumnRenamed(origColName, renamedColName)\n   }\n\n   val joinExpr: Column = andAll(zippedCols.map {\n     case (origCol, renamedCol) =&gt; renamedRightDf(renamedCol).equalTo(rightDf(origCol))\n   })\n\n   leftDf.join(renamedRightDf, joinExpr, joinType)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13433398,"reputation":1,"user_id":9692559,"display_name":"Bharath KP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601836625,"creation_date":1601836625,"answer_id":64198481,"question_id":45713290,"body_markdown":"In my case, Checkpointing the original dataframe fixed the issue.","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>In my case, Checkpointing the original dataframe fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":4636598,"reputation":2275,"user_id":3757672,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610375357,"creation_date":1610375357,"answer_id":65668731,"question_id":45713290,"body_markdown":"@Json_Chans answer is pretty good because it does not require any resource intensive operation. Anyhow, when dealing with huge amounts of columns you need some generic function to handle that stuff on the fly and not code hundreds of columns manually.\r\n\r\nLuckily, you can derive that function from the `Dataframe` itself so that you do not need any additional code except of a one-liner (at least in Python respectively pySpark):\r\n\r\n```python\r\nimport pyspark.sql.functions as f\r\n\r\ndf # Some Dataframe you have the &quot;resolve(d) attribute(s)&quot; error with\r\n\r\ndf = df.select([ f.col( column_name ).alias( column_name) for column_name in df.columns])\r\n```\r\n\r\nSince the correct string representation of a column is still stored in the columns-attribute of the `Dataframe`(`df.columns: list`), you can just reset it with itself - That&#39;s done with the `.alias()` (note: This still results in a new `Dataframe` since `Dataframes` are immutable, meaning they cannot be changed).","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<p>@Json_Chans answer is pretty good because it does not require any resource intensive operation. Anyhow, when dealing with huge amounts of columns you need some generic function to handle that stuff on the fly and not code hundreds of columns manually.</p>\n<p>Luckily, you can derive that function from the <code>Dataframe</code> itself so that you do not need any additional code except of a one-liner (at least in Python respectively pySpark):</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pyspark.sql.functions as f\n\ndf # Some Dataframe you have the &quot;resolve(d) attribute(s)&quot; error with\n\ndf = df.select([ f.col( column_name ).alias( column_name) for column_name in df.columns])\n</code></pre>\n<p>Since the correct string representation of a column is still stored in the columns-attribute of the <code>Dataframe</code>(<code>df.columns: list</code>), you can just reset it with itself - That's done with the <code>.alias()</code> (note: This still results in a new <code>Dataframe</code> since <code>Dataframes</code> are immutable, meaning they cannot be changed).</p>\n"}],"owner":{"account_id":5937182,"reputation":653,"user_id":4669754,"display_name":"Rajita"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104742,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":53848160,"answer_count":13,"score":55,"last_activity_date":1662967808,"creation_date":1502885670,"question_id":45713290,"body_markdown":"    val rdd = sc.parallelize(Seq((&quot;vskp&quot;, Array(2.0, 1.0, 2.1, 5.4)),(&quot;hyd&quot;,Array(1.5, 0.5, 0.9, 3.7)),(&quot;hyd&quot;, Array(1.5, 0.5, 0.9, 3.2)),(&quot;tvm&quot;, Array(8.0, 2.9, 9.1, 2.5))))\r\n    val df1= rdd.toDF(&quot;id&quot;, &quot;vals&quot;)\r\n    val rdd1 = sc.parallelize(Seq((&quot;vskp&quot;,&quot;ap&quot;),(&quot;hyd&quot;,&quot;tel&quot;),(&quot;bglr&quot;,&quot;kkt&quot;)))\r\n    val df2 = rdd1.toDF(&quot;id&quot;, &quot;state&quot;)\r\n    val df3 = df1.join(df2,df1(&quot;id&quot;)===df2(&quot;id&quot;),&quot;left&quot;)\r\n\r\nThe join operation works fine \r\nbut when I reuse the df2 I am facing unresolved attributes error\r\n\r\n    val rdd2 = sc.parallelize(Seq((&quot;vskp&quot;, &quot;Y&quot;),(&quot;hyd&quot;, &quot;N&quot;),(&quot;hyd&quot;, &quot;N&quot;),(&quot;tvm&quot;, &quot;Y&quot;)))\r\n    val df4 = rdd2.toDF(&quot;id&quot;,&quot;existance&quot;)\r\n    val df5 = df4.join(df2,df4(&quot;id&quot;)===df2(&quot;id&quot;),&quot;left&quot;)\r\n\r\n&gt; ERROR: org.apache.spark.sql.AnalysisException: resolved attribute(s)id#426","title":"How to resolve the AnalysisException: resolved attribute(s) in Spark","body":"<pre><code>val rdd = sc.parallelize(Seq((\"vskp\", Array(2.0, 1.0, 2.1, 5.4)),(\"hyd\",Array(1.5, 0.5, 0.9, 3.7)),(\"hyd\", Array(1.5, 0.5, 0.9, 3.2)),(\"tvm\", Array(8.0, 2.9, 9.1, 2.5))))\nval df1= rdd.toDF(\"id\", \"vals\")\nval rdd1 = sc.parallelize(Seq((\"vskp\",\"ap\"),(\"hyd\",\"tel\"),(\"bglr\",\"kkt\")))\nval df2 = rdd1.toDF(\"id\", \"state\")\nval df3 = df1.join(df2,df1(\"id\")===df2(\"id\"),\"left\")\n</code></pre>\n\n<p>The join operation works fine \nbut when I reuse the df2 I am facing unresolved attributes error</p>\n\n<pre><code>val rdd2 = sc.parallelize(Seq((\"vskp\", \"Y\"),(\"hyd\", \"N\"),(\"hyd\", \"N\"),(\"tvm\", \"Y\")))\nval df4 = rdd2.toDF(\"id\",\"existance\")\nval df5 = df4.join(df2,df4(\"id\")===df2(\"id\"),\"left\")\n</code></pre>\n\n<blockquote>\n  <p>ERROR: org.apache.spark.sql.AnalysisException: resolved attribute(s)id#426</p>\n</blockquote>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":21002489,"reputation":3,"user_id":15433004,"display_name":"LuCC"},"score":0,"creation_date":1662955396,"post_id":73679556,"comment_id":130117265,"body_markdown":"I&#39;ve tried `if(fragment.isAdded())` , the app won&#39;t crash but AddNewHabit fragment won&#39;t show up when the item in Recyclerview is clicked.","body":"I&#39;ve tried <code>if(fragment.isAdded())</code> , the app won&#39;t crash but AddNewHabit fragment won&#39;t show up when the item in Recyclerview is clicked."}],"answers":[{"tags":[],"owner":{"account_id":21002489,"reputation":3,"user_id":15433004,"display_name":"LuCC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662967487,"creation_date":1662967487,"answer_id":73685779,"question_id":73679556,"body_markdown":"Found the answer from https://stackoverflow.com/a/22971406/15433004\r\n\r\nReplaced this code in HabitsAdapter:\r\n\r\n     AddNewHabit fragment = new AddNewHabit();\r\n     fragment.setArguments(bundle);\r\n     fragment.show(fragment.getChildFragmentManager(), AddNewHabit.TAG);\r\n\r\n\r\nTo:\r\n\r\n        FragmentActivity activity = (FragmentActivity)(getContext());\r\n        FragmentManager fm = activity.getSupportFragmentManager();\r\n        AddNewHabit fragment = new AddNewHabit();\r\n        fragment.setArguments(bundle);\r\n        fragment.show(fm, AddNewHabit.TAG);","title":"Fragment has not been attached yet for Nested fragment","body":"<p>Found the answer from <a href=\"https://stackoverflow.com/a/22971406/15433004\">https://stackoverflow.com/a/22971406/15433004</a></p>\n<p>Replaced this code in HabitsAdapter:</p>\n<pre><code> AddNewHabit fragment = new AddNewHabit();\n fragment.setArguments(bundle);\n fragment.show(fragment.getChildFragmentManager(), AddNewHabit.TAG);\n</code></pre>\n<p>To:</p>\n<pre><code>    FragmentActivity activity = (FragmentActivity)(getContext());\n    FragmentManager fm = activity.getSupportFragmentManager();\n    AddNewHabit fragment = new AddNewHabit();\n    fragment.setArguments(bundle);\n    fragment.show(fm, AddNewHabit.TAG);\n</code></pre>\n"}],"owner":{"account_id":21002489,"reputation":3,"user_id":15433004,"display_name":"LuCC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662967487,"creation_date":1662901830,"question_id":73679556,"body_markdown":"I&#39;m trying to display the bottom dialog fragment (AddNewHabit.java) when user clicked an item from the RecyclerView, but I kept getting the error that the fragment has not been attached yet. I don&#39;t know where or how should I attach it to make bottomSheetDialogFragment.show() work.\r\n\r\nLogcat:\r\n\r\n    2022-09-11 20:52:31.916 21228-21228/com.unicode.android.wodehabit E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.unicode.android.wodehabit, PID: 21228\r\n    java.lang.IllegalStateException: Fragment AddNewHabit{fdd5021} (ce46aa77-b5b3-43e6-9564-559dd68d8ad9) has not been attached yet.\r\n        at androidx.fragment.app.Fragment.getChildFragmentManager(Fragment.java:1075)\r\n        at com.unicode.android.wodehabit.HabitsAdapter.editHabit(HabitsAdapter.java:91)\r\n        at com.unicode.android.wodehabit.HabitsAdapter$1.onClick(HabitsAdapter.java:50)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n\r\nHere&#39;s HabitsFragment:\r\n\r\n    public class HabitsFragment extends Fragment implements DialogCloseListener{\r\n    private List&lt;HabitModel&gt; mHabitList;\r\n    private RecyclerView mRecyclerView;\r\n    private HabitsAdapter mHabitsAdapter;\r\n    private ImageButton mAddTaskBtn;\r\n    private Spinner mDropdown;\r\n    private DataBaseHandler db;\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public HabitsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HabitsFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static HabitsFragment newInstance(String param1, String param2) {\r\n        HabitsFragment fragment = new HabitsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_habits, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        db = new DataBaseHandler(getActivity());\r\n        db.openDatabase();\r\n\r\n        mAddTaskBtn = (ImageButton) view.findViewById(R.id.add_new_habit_btn);\r\n        mAddTaskBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AddNewHabit.newInstance().show(getChildFragmentManager(), AddNewHabit.TAG);\r\n            }\r\n        });\r\n\r\n        mRecyclerView = (RecyclerView) view.findViewById(R.id.habit_recyclerview);\r\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        mHabitsAdapter = new HabitsAdapter(db, getActivity());\r\n        mRecyclerView.setAdapter(mHabitsAdapter);\r\n\r\n        updateRecyclerView();\r\n\r\n    }\r\n\r\n    public void handleDialogClose(DialogInterface dialog){\r\n        updateRecyclerView();\r\n    }\r\n\r\n    public void updateRecyclerView(){\r\n        mHabitList = db.getAllHabits();\r\n        Collections.reverse(mHabitList);\r\n        mHabitsAdapter.setHabit(mHabitList);\r\n        mHabitsAdapter.notifyDataSetChanged();\r\n    }\r\n    }\r\n\r\nAddNewHabit.java:\r\n\r\n    public class AddNewHabit extends BottomSheetDialogFragment {\r\n    public static final String TAG = &quot;com.unicode.android.wodehabit.action_bottom_dialog&quot;;\r\n\r\n    private EditText cueTxt, habitTxt, descriptionTxt;\r\n    private Button cancelBtn, addBtn;\r\n    private Spinner dropdown;\r\n    private DataBaseHandler db;\r\n\r\n    public static AddNewHabit newInstance() {\r\n        return new AddNewHabit();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setStyle(STYLE_NORMAL, R.style.DialogStyle);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.new_habit, container, false);\r\n        //readjust bottom sheet dialog and move upward when we type something\r\n        getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\r\n        return view;\r\n    }\r\n\r\n    //Define codes needed to execute functions in dialog fragment\r\n    @Override\r\n    public void onViewCreated(View view, Bundle saveInstanceState) {\r\n        super.onViewCreated(view, saveInstanceState);\r\n        cueTxt = (EditText) getView().findViewById(R.id.new_task_cue);\r\n        habitTxt = (EditText) getView().findViewById(R.id.new_task_habit);\r\n        descriptionTxt = (EditText) getView().findViewById(R.id.new_task_description);\r\n        dropdown = (Spinner) getView().findViewById(R.id.new_task_preposition);\r\n        cancelBtn = (Button) getView().findViewById(R.id.cancel_habit_button);\r\n        addBtn = (Button) getView().findViewById(R.id.add_habit_button);\r\n\r\n        //Spinner adapter\r\n        String[] items = new String[]{&quot;before&quot;, &quot;during&quot;, &quot;after&quot;};\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),\r\n                android.R.layout.simple_spinner_item, items);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        dropdown.setAdapter(adapter);\r\n\r\n        boolean isUpdate = false;\r\n\r\n        final Bundle bundle = getArguments();\r\n        if (bundle != null) {\r\n            isUpdate = true;\r\n            String cue = bundle.getString(&quot;cue&quot;);\r\n            cueTxt.setText(cue);\r\n            String habit = bundle.getString(&quot;habit&quot;);\r\n            habitTxt.setText(habit);\r\n            String description = bundle.getString(&quot;description&quot;);\r\n            descriptionTxt.setText(description);\r\n\r\n        }\r\n\r\n        db = new DataBaseHandler(getActivity());\r\n        db.openDatabase();\r\n\r\n        cancelBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getParentFragmentManager().beginTransaction().remove(AddNewHabit.this).commit();\r\n            }\r\n        });\r\n\r\n        //final boolean finalIsUpdate = isUpdate;\r\n        boolean finalIsUpdate = isUpdate;\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String cue = cueTxt.getText().toString();\r\n                String preposition = dropdown.getSelectedItem().toString();\r\n                String habit = habitTxt.getText().toString();\r\n                String description = descriptionTxt.getText().toString();\r\n                String fullHabit = habit + &quot; &quot; + preposition + &quot; &quot; + cue;\r\n                if(finalIsUpdate){\r\n                    db.updateHabit(bundle.getInt(&quot;id&quot;), habit, description);\r\n                }else{\r\n                    if (cue.isEmpty() || habit.isEmpty()) {\r\n                        Toast.makeText(getActivity(), R.string.complete_toast, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        HabitModel habit1 = new HabitModel();\r\n                        habit1.setTitle(fullHabit);\r\n                        habit1.setDescription(description);\r\n                        db.insertHabit(habit1);\r\n                    }\r\n                }\r\n                dismiss();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDismiss(DialogInterface dialog){\r\n        Activity activity = getActivity();\r\n        if(activity instanceof DialogCloseListener){\r\n            ((DialogCloseListener)activity).handleDialogClose(dialog);\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nHere&#39;s HabitsAdapter.java:\r\n\r\n\r\n    public class HabitsAdapter extends RecyclerView.Adapter&lt;HabitsAdapter.ViewHolder&gt; {\r\n    private List&lt;HabitModel&gt; mHabitList;\r\n    private Activity mActivity;\r\n    private DataBaseHandler db;\r\n\r\n    public HabitsAdapter(DataBaseHandler db, Activity activity){\r\n        this.db = db;\r\n        this.mActivity = activity;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.habit_item, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        db.openDatabase();\r\n\r\n        HabitModel item = mHabitList.get(position);\r\n        holder.mTitle.setText(item.getTitle());\r\n        holder.mDescription.setText(item.getDescription());\r\n        int pos = holder.getAdapterPosition();\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                editHabit(pos);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mHabitList.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView mTitle, mDescription;\r\n        FloatingActionButton mFab;\r\n\r\n        ViewHolder(View view){\r\n            super(view);\r\n            mTitle = (TextView) view.findViewById(R.id.habit_title);\r\n            mDescription = (TextView) view.findViewById(R.id.habit_description);\r\n            mFab = (FloatingActionButton) view.findViewById(R.id.check_off_button);\r\n\r\n        }\r\n    }\r\n\r\n    public void setHabit(List&lt;HabitModel&gt; habitList){\r\n        this.mHabitList = habitList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public Context getContext(){\r\n        return mActivity;\r\n    }\r\n\r\n    public void editHabit(int position){\r\n        HabitModel habit = mHabitList.get(position);\r\n        Bundle bundle = new Bundle();\r\n        bundle.putInt(&quot;id&quot;, habit.getId());\r\n        bundle.putString(&quot;habit&quot;, habit.getTitle());\r\n        bundle.putString(&quot;description&quot;, habit.getDescription());\r\n        AddNewHabit fragment = new AddNewHabit();\r\n        fragment.setArguments(bundle);\r\n        //THE PROBLEM\r\n        fragment.show(fragment.getChildFragmentManager(), AddNewHabit.TAG);\r\n    }\r\n\r\n    public void deleteHabit(int position){\r\n        HabitModel habit = mHabitList.get(position);\r\n        db.deleteHabit(habit.getId());\r\n        mHabitList.remove(position);\r\n        notifyItemRemoved(position);\r\n    }\r\n    }\r\n\r\n\r\n","title":"Fragment has not been attached yet for Nested fragment","body":"<p>I'm trying to display the bottom dialog fragment (AddNewHabit.java) when user clicked an item from the RecyclerView, but I kept getting the error that the fragment has not been attached yet. I don't know where or how should I attach it to make bottomSheetDialogFragment.show() work.</p>\n<p>Logcat:</p>\n<pre><code>2022-09-11 20:52:31.916 21228-21228/com.unicode.android.wodehabit E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.unicode.android.wodehabit, PID: 21228\njava.lang.IllegalStateException: Fragment AddNewHabit{fdd5021} (ce46aa77-b5b3-43e6-9564-559dd68d8ad9) has not been attached yet.\n    at androidx.fragment.app.Fragment.getChildFragmentManager(Fragment.java:1075)\n    at com.unicode.android.wodehabit.HabitsAdapter.editHabit(HabitsAdapter.java:91)\n    at com.unicode.android.wodehabit.HabitsAdapter$1.onClick(HabitsAdapter.java:50)\n    at android.view.View.performClick(View.java:7448)\n    at android.view.View.performClickInternal(View.java:7425)\n    at android.view.View.access$3600(View.java:810)\n    at android.view.View$PerformClick.run(View.java:28305)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>Here's HabitsFragment:</p>\n<pre><code>public class HabitsFragment extends Fragment implements DialogCloseListener{\nprivate List&lt;HabitModel&gt; mHabitList;\nprivate RecyclerView mRecyclerView;\nprivate HabitsAdapter mHabitsAdapter;\nprivate ImageButton mAddTaskBtn;\nprivate Spinner mDropdown;\nprivate DataBaseHandler db;\n\n// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate static final String ARG_PARAM1 = &quot;param1&quot;;\nprivate static final String ARG_PARAM2 = &quot;param2&quot;;\n\n// TODO: Rename and change types of parameters\nprivate String mParam1;\nprivate String mParam2;\n\npublic HabitsFragment() {\n    // Required empty public constructor\n}\n\n/**\n * Use this factory method to create a new instance of\n * this fragment using the provided parameters.\n *\n * @param param1 Parameter 1.\n * @param param2 Parameter 2.\n * @return A new instance of fragment HabitsFragment.\n */\n// TODO: Rename and change types and number of parameters\npublic static HabitsFragment newInstance(String param1, String param2) {\n    HabitsFragment fragment = new HabitsFragment();\n    Bundle args = new Bundle();\n    args.putString(ARG_PARAM1, param1);\n    args.putString(ARG_PARAM2, param2);\n    fragment.setArguments(args);\n    return fragment;\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    if (getArguments() != null) {\n        mParam1 = getArguments().getString(ARG_PARAM1);\n        mParam2 = getArguments().getString(ARG_PARAM2);\n    }\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_habits, container, false);\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    db = new DataBaseHandler(getActivity());\n    db.openDatabase();\n\n    mAddTaskBtn = (ImageButton) view.findViewById(R.id.add_new_habit_btn);\n    mAddTaskBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            AddNewHabit.newInstance().show(getChildFragmentManager(), AddNewHabit.TAG);\n        }\n    });\n\n    mRecyclerView = (RecyclerView) view.findViewById(R.id.habit_recyclerview);\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    mHabitsAdapter = new HabitsAdapter(db, getActivity());\n    mRecyclerView.setAdapter(mHabitsAdapter);\n\n    updateRecyclerView();\n\n}\n\npublic void handleDialogClose(DialogInterface dialog){\n    updateRecyclerView();\n}\n\npublic void updateRecyclerView(){\n    mHabitList = db.getAllHabits();\n    Collections.reverse(mHabitList);\n    mHabitsAdapter.setHabit(mHabitList);\n    mHabitsAdapter.notifyDataSetChanged();\n}\n}\n</code></pre>\n<p>AddNewHabit.java:</p>\n<pre><code>public class AddNewHabit extends BottomSheetDialogFragment {\npublic static final String TAG = &quot;com.unicode.android.wodehabit.action_bottom_dialog&quot;;\n\nprivate EditText cueTxt, habitTxt, descriptionTxt;\nprivate Button cancelBtn, addBtn;\nprivate Spinner dropdown;\nprivate DataBaseHandler db;\n\npublic static AddNewHabit newInstance() {\n    return new AddNewHabit();\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setStyle(STYLE_NORMAL, R.style.DialogStyle);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.new_habit, container, false);\n    //readjust bottom sheet dialog and move upward when we type something\n    getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\n    return view;\n}\n\n//Define codes needed to execute functions in dialog fragment\n@Override\npublic void onViewCreated(View view, Bundle saveInstanceState) {\n    super.onViewCreated(view, saveInstanceState);\n    cueTxt = (EditText) getView().findViewById(R.id.new_task_cue);\n    habitTxt = (EditText) getView().findViewById(R.id.new_task_habit);\n    descriptionTxt = (EditText) getView().findViewById(R.id.new_task_description);\n    dropdown = (Spinner) getView().findViewById(R.id.new_task_preposition);\n    cancelBtn = (Button) getView().findViewById(R.id.cancel_habit_button);\n    addBtn = (Button) getView().findViewById(R.id.add_habit_button);\n\n    //Spinner adapter\n    String[] items = new String[]{&quot;before&quot;, &quot;during&quot;, &quot;after&quot;};\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),\n            android.R.layout.simple_spinner_item, items);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    dropdown.setAdapter(adapter);\n\n    boolean isUpdate = false;\n\n    final Bundle bundle = getArguments();\n    if (bundle != null) {\n        isUpdate = true;\n        String cue = bundle.getString(&quot;cue&quot;);\n        cueTxt.setText(cue);\n        String habit = bundle.getString(&quot;habit&quot;);\n        habitTxt.setText(habit);\n        String description = bundle.getString(&quot;description&quot;);\n        descriptionTxt.setText(description);\n\n    }\n\n    db = new DataBaseHandler(getActivity());\n    db.openDatabase();\n\n    cancelBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            getParentFragmentManager().beginTransaction().remove(AddNewHabit.this).commit();\n        }\n    });\n\n    //final boolean finalIsUpdate = isUpdate;\n    boolean finalIsUpdate = isUpdate;\n    addBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String cue = cueTxt.getText().toString();\n            String preposition = dropdown.getSelectedItem().toString();\n            String habit = habitTxt.getText().toString();\n            String description = descriptionTxt.getText().toString();\n            String fullHabit = habit + &quot; &quot; + preposition + &quot; &quot; + cue;\n            if(finalIsUpdate){\n                db.updateHabit(bundle.getInt(&quot;id&quot;), habit, description);\n            }else{\n                if (cue.isEmpty() || habit.isEmpty()) {\n                    Toast.makeText(getActivity(), R.string.complete_toast, Toast.LENGTH_LONG).show();\n                } else {\n                    HabitModel habit1 = new HabitModel();\n                    habit1.setTitle(fullHabit);\n                    habit1.setDescription(description);\n                    db.insertHabit(habit1);\n                }\n            }\n            dismiss();\n        }\n    });\n}\n\n\n@Override\npublic void onDismiss(DialogInterface dialog){\n    Activity activity = getActivity();\n    if(activity instanceof DialogCloseListener){\n        ((DialogCloseListener)activity).handleDialogClose(dialog);\n    }\n}\n}\n</code></pre>\n<p>Here's HabitsAdapter.java:</p>\n<pre><code>public class HabitsAdapter extends RecyclerView.Adapter&lt;HabitsAdapter.ViewHolder&gt; {\nprivate List&lt;HabitModel&gt; mHabitList;\nprivate Activity mActivity;\nprivate DataBaseHandler db;\n\npublic HabitsAdapter(DataBaseHandler db, Activity activity){\n    this.db = db;\n    this.mActivity = activity;\n}\n\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.habit_item, parent, false);\n\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    db.openDatabase();\n\n    HabitModel item = mHabitList.get(position);\n    holder.mTitle.setText(item.getTitle());\n    holder.mDescription.setText(item.getDescription());\n    int pos = holder.getAdapterPosition();\n\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            editHabit(pos);\n\n        }\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return mHabitList.size();\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder{\n    TextView mTitle, mDescription;\n    FloatingActionButton mFab;\n\n    ViewHolder(View view){\n        super(view);\n        mTitle = (TextView) view.findViewById(R.id.habit_title);\n        mDescription = (TextView) view.findViewById(R.id.habit_description);\n        mFab = (FloatingActionButton) view.findViewById(R.id.check_off_button);\n\n    }\n}\n\npublic void setHabit(List&lt;HabitModel&gt; habitList){\n    this.mHabitList = habitList;\n    notifyDataSetChanged();\n}\n\npublic Context getContext(){\n    return mActivity;\n}\n\npublic void editHabit(int position){\n    HabitModel habit = mHabitList.get(position);\n    Bundle bundle = new Bundle();\n    bundle.putInt(&quot;id&quot;, habit.getId());\n    bundle.putString(&quot;habit&quot;, habit.getTitle());\n    bundle.putString(&quot;description&quot;, habit.getDescription());\n    AddNewHabit fragment = new AddNewHabit();\n    fragment.setArguments(bundle);\n    //THE PROBLEM\n    fragment.show(fragment.getChildFragmentManager(), AddNewHabit.TAG);\n}\n\npublic void deleteHabit(int position){\n    HabitModel habit = mHabitList.get(position);\n    db.deleteHabit(habit.getId());\n    mHabitList.remove(position);\n    notifyItemRemoved(position);\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662969108,"post_id":73685751,"comment_id":130120088,"body_markdown":"Which `@Table` annotation are you using? Some pro-tips, the `@Repository` doesn&#39;t add anything, remove it. Using `@Data` for entities (as well as `@ToString`) is a bad idea as it generates a wrong `equals`/`hashCode` for entities.","body":"Which <code>@Table</code> annotation are you using? Some pro-tips, the <code>@Repository</code> doesn&#39;t add anything, remove it. Using <code>@Data</code> for entities (as well as <code>@ToString</code>) is a bad idea as it generates a wrong <code>equals</code>/<code>hashCode</code> for entities."},{"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"score":0,"creation_date":1662974433,"post_id":73685751,"comment_id":130121686,"body_markdown":"javax.persistence.table","body":"javax.persistence.table"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662974619,"post_id":73685751,"comment_id":130121750,"body_markdown":"https://stackoverflow.com/questions/49552556/hibernate-5-ignores-table-schema-param (might be relevant). Try `catalog` instead of `schema`.","body":"<a href=\"https://stackoverflow.com/questions/49552556/hibernate-5-ignores-table-schema-param\" title=\"hibernate 5 ignores table schema param\">stackoverflow.com/questions/49552556/&hellip;</a> (might be relevant). Try <code>catalog</code> instead of <code>schema</code>."},{"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"score":0,"creation_date":1662977773,"post_id":73685751,"comment_id":130122763,"body_markdown":"That worked thanks. Can you repost that as an answer so that I may accept it? @M.Deinum","body":"That worked thanks. Can you repost that as an answer so that I may accept it? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662980409,"post_id":73685751,"comment_id":130123626,"body_markdown":"I&#39;m going to mark this as a duplicate of the other one.","body":"I&#39;m going to mark this as a duplicate of the other one."}],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662980418,"answer_count":0,"score":0,"last_activity_date":1662967363,"creation_date":1662967363,"question_id":73685751,"body_markdown":"Here are my spring data jpa properties at connection configuration level in application.properties\r\n\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.datasource.url=jdbc:mysql://host:3306/schema1?useSSL=false\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n\r\nAll entities by default look for tables in **schema1** However, I have another **schema2** present at the same host for which I want an entity to map to\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;table1&quot;,schema = &quot;schema2&quot;)\r\n    public class Entity1 implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private long id;\r\n    \r\n        //some columns\r\n    }\r\n\r\nI have defined a repository for this entity as follows:\r\n\r\n        @Repository\r\n         public interface Entity1Repository extends JpaRepository&lt;Entity1, Long&gt; {\r\n    \r\n        //some methods\r\n    \r\n    }\r\n\r\nHowever jpa is still looking for `table1` in `schema1` despite it being clearly annotated as schema2 at the `@Table` annotation in the entity level.\r\n\r\nWhat am i missing here? ","title":"Specify new schema at entity level in spring data jpa","body":"<p>Here are my spring data jpa properties at connection configuration level in application.properties</p>\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.datasource.url=jdbc:mysql://host:3306/schema1?useSSL=false\nspring.datasource.username=username\nspring.datasource.password=password\n</code></pre>\n<p>All entities by default look for tables in <strong>schema1</strong> However, I have another <strong>schema2</strong> present at the same host for which I want an entity to map to</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\n@Table(name = &quot;table1&quot;,schema = &quot;schema2&quot;)\npublic class Entity1 implements Serializable {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private long id;\n\n    //some columns\n}\n</code></pre>\n<p>I have defined a repository for this entity as follows:</p>\n<pre><code>    @Repository\n     public interface Entity1Repository extends JpaRepository&lt;Entity1, Long&gt; {\n\n    //some methods\n\n}\n</code></pre>\n<p>However jpa is still looking for <code>table1</code> in <code>schema1</code> despite it being clearly annotated as schema2 at the <code>@Table</code> annotation in the entity level.</p>\n<p>What am i missing here?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1662963337,"post_id":73685131,"comment_id":130118622,"body_markdown":"How to do what?","body":"How to do what?"},{"owner":{"display_name":"user17128742"},"score":0,"creation_date":1662963455,"post_id":73685131,"comment_id":130118652,"body_markdown":"how to take the json data in java in a convenient way","body":"how to take the json data in java in a convenient way"},{"owner":{"account_id":16584107,"reputation":1,"user_id":11984002,"display_name":"Kirill"},"score":0,"creation_date":1662964561,"post_id":73685131,"comment_id":130118907,"body_markdown":"Please, have a look at this answer: https://stackoverflow.com/a/10324007/11984002","body":"Please, have a look at this answer: <a href=\"https://stackoverflow.com/a/10324007/11984002\">stackoverflow.com/a/10324007/11984002</a>"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662964437,"creation_date":1662964437,"answer_id":73685292,"question_id":73685131,"body_markdown":"First you need to make your data is a valid json format,then you can use [ObjectMapper][1] to do it\r\n\r\n    public static void testJsonConvert() throws JsonProcessingException {\r\n        String data = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;endPoints\\&quot;:{\\n&quot; +\r\n                &quot;        \\&quot;northAmerica\\&quot;:\\&quot;https://ad-api.com\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;europe\\&quot;:\\&quot;https://ad-api-eu.com\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;farEast\\&quot;:\\&quot;https://ad-api-fe.com\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map&lt;String, Object&gt; map = new ObjectMapper().readValue(data, HashMap.class);\r\n        System.out.println(map);\r\n    }\r\n\r\nTest result:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://i.stack.imgur.com/9Qul0.png","title":"how to take json data in java map or array","body":"<p>First you need to make your data is a valid json format,then you can use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> to do it</p>\n<pre><code>public static void testJsonConvert() throws JsonProcessingException {\n    String data = &quot;{\\n&quot; +\n            &quot;    \\&quot;endPoints\\&quot;:{\\n&quot; +\n            &quot;        \\&quot;northAmerica\\&quot;:\\&quot;https://ad-api.com\\&quot;,\\n&quot; +\n            &quot;        \\&quot;europe\\&quot;:\\&quot;https://ad-api-eu.com\\&quot;,\\n&quot; +\n            &quot;        \\&quot;farEast\\&quot;:\\&quot;https://ad-api-fe.com\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;}&quot;;\n    Map&lt;String, Object&gt; map = new ObjectMapper().readValue(data, HashMap.class);\n    System.out.println(map);\n}\n</code></pre>\n<p>Test result:\n<a href=\"https://i.stack.imgur.com/9Qul0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Qul0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9847878,"reputation":171,"user_id":7294811,"display_name":"anantha ramu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662966043,"creation_date":1662966043,"answer_id":73685522,"question_id":73685131,"body_markdown":"Any JSON string can be mapped to HashMap data structure as Key and Value pair.\r\n\r\nThere is an answer already in the thread.\r\n\r\nBut If you want a map of endpoints, like North America &amp; Europe, you need to go a level deeper. \r\n\r\n [ObjectMapper][2] from [Jackson Core library][3] will help.\r\n\r\nFirst, get a HashMap of the data, then again get the endpoint from the HashMap.\r\n\r\n\r\n    String data = &quot;{\\n&quot; +\r\n        &quot;    \\&quot;endPoints\\&quot;:{\\n&quot; +\r\n        &quot;        \\&quot;northAmerica\\&quot;:\\&quot;https://ad-api.com\\&quot;,\\n&quot; +\r\n        &quot;        \\&quot;europe\\&quot;:\\&quot;https://ad-api-eu.com\\&quot;,\\n&quot; +\r\n        &quot;        \\&quot;farEast\\&quot;:\\&quot;https://ad-api-fe.com\\&quot;\\n&quot; +\r\n        &quot;    }\\n&quot; +\r\n        &quot;}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, Object&gt; map = mapper.readValue(data, HashMap.class);\r\n    Map&lt;String, Object&gt; endPointMap = (Map&lt;String, Object&gt;) map.get(&quot;endPoints&quot;);\r\n    System.out.println(endPointMap);\r\n\r\nresult:\r\n\r\n`{northAmerica=https://ad-api.com, europe=https://ad-api-eu.com, farEast=https://ad-api-fe.com}`\r\n\r\n  [1]: https://stk.so/lucumt\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [3]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core","title":"how to take json data in java map or array","body":"<p>Any JSON string can be mapped to HashMap data structure as Key and Value pair.</p>\n<p>There is an answer already in the thread.</p>\n<p>But If you want a map of endpoints, like North America &amp; Europe, you need to go a level deeper.</p>\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> from <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">Jackson Core library</a> will help.</p>\n<p>First, get a HashMap of the data, then again get the endpoint from the HashMap.</p>\n<pre><code>String data = &quot;{\\n&quot; +\n    &quot;    \\&quot;endPoints\\&quot;:{\\n&quot; +\n    &quot;        \\&quot;northAmerica\\&quot;:\\&quot;https://ad-api.com\\&quot;,\\n&quot; +\n    &quot;        \\&quot;europe\\&quot;:\\&quot;https://ad-api-eu.com\\&quot;,\\n&quot; +\n    &quot;        \\&quot;farEast\\&quot;:\\&quot;https://ad-api-fe.com\\&quot;\\n&quot; +\n    &quot;    }\\n&quot; +\n    &quot;}&quot;;\nObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; map = mapper.readValue(data, HashMap.class);\nMap&lt;String, Object&gt; endPointMap = (Map&lt;String, Object&gt;) map.get(&quot;endPoints&quot;);\nSystem.out.println(endPointMap);\n</code></pre>\n<p>result:</p>\n<p><code>{northAmerica=https://ad-api.com, europe=https://ad-api-eu.com, farEast=https://ad-api-fe.com}</code></p>\n"}],"owner":{"display_name":"user17128742"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662966043,"creation_date":1662963078,"question_id":73685131,"body_markdown":"I have the following data as json and I want to take it in java\r\n\r\n    &quot;endPoints&quot;: {\r\n                    &quot;northAmerica&quot;: &quot;https://ad-api.com&quot;,\r\n                    &quot;europe&quot;: &quot;https://ad-api-eu.com&quot;,\r\n                    &quot;farEast&quot;: &quot;https://ad-api-fe.com&quot;\r\n                }\r\nI have tried the below code but not working.\r\n\r\n    Map&lt;String, Object&gt; endPoints = objectMapper.readValue(JsonParser\r\n    \t\t\t\t\t.parseString(additionalInfo().get(&quot;endPoints&quot;).toString())\r\n    \t\t\t\t\t.getAsJsonObject(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t\t\t\t\t});\r\n\r\nanyone can help me how to do it?","title":"how to take json data in java map or array","body":"<p>I have the following data as json and I want to take it in java</p>\n<pre><code>&quot;endPoints&quot;: {\n                &quot;northAmerica&quot;: &quot;https://ad-api.com&quot;,\n                &quot;europe&quot;: &quot;https://ad-api-eu.com&quot;,\n                &quot;farEast&quot;: &quot;https://ad-api-fe.com&quot;\n            }\n</code></pre>\n<p>I have tried the below code but not working.</p>\n<pre><code>Map&lt;String, Object&gt; endPoints = objectMapper.readValue(JsonParser\n                    .parseString(additionalInfo().get(&quot;endPoints&quot;).toString())\n                    .getAsJsonObject(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n                    });\n</code></pre>\n<p>anyone can help me how to do it?</p>\n"},{"tags":["java","sql","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662965623,"creation_date":1662962801,"answer_id":73685088,"question_id":73681953,"body_markdown":"In PostgreSQL, that&#39;s just the `&amp;&amp;` operator. jOOQ doesn&#39;t support it natively, but as always, you can easily add support yourself using [plain SQL templating][1]:\r\n\r\n```java\r\ncondition.and(&quot;not ({0} &amp;&amp; {1})&quot;, \r\n    PRODUCT.RESTRICTED_DELIVERY_REGIONS,\r\n\r\n    // Pass the bind value using the DataType of the generated column,\r\n    // for convenience\r\n    val(criteria.getRestrictedRegionsList(), PRODUCT.RESTRICTED_DELIVERY_REGIONS)\r\n);\r\n```\r\n\r\nThis is assuming your list is already an array. If it isn&#39;t you&#39;ll have to convert it to an array, first.\r\n\r\nAs [everything you do with jOOQ is effectively dynamic SQL][2], you can create a small library for such vendor-specific functions, e.g.\r\n\r\n```java\r\npublic static &lt;T&gt; Condition containsAny(\r\n    Field&lt;T[]&gt; left,\r\n    T... right\r\n) {\r\n    return containsAny(left, val(right, left));\r\n}\r\n\r\npublic static &lt;T&gt; Condition containsAny(\r\n    Field&lt;T[]&gt; left,\r\n    Field&lt;T[]&gt; right\r\n) {\r\n    return DSL.condition(&quot;({0} &amp;&amp; {1})&quot;, left, right);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/","title":"jOOQ array field contains any of input list values condition","body":"<p>In PostgreSQL, that's just the <code>&amp;&amp;</code> operator. jOOQ doesn't support it natively, but as always, you can easily add support yourself using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>condition.and(&quot;not ({0} &amp;&amp; {1})&quot;, \n    PRODUCT.RESTRICTED_DELIVERY_REGIONS,\n\n    // Pass the bind value using the DataType of the generated column,\n    // for convenience\n    val(criteria.getRestrictedRegionsList(), PRODUCT.RESTRICTED_DELIVERY_REGIONS)\n);\n</code></pre>\n<p>This is assuming your list is already an array. If it isn't you'll have to convert it to an array, first.</p>\n<p>As <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\" rel=\"nofollow noreferrer\">everything you do with jOOQ is effectively dynamic SQL</a>, you can create a small library for such vendor-specific functions, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Condition containsAny(\n    Field&lt;T[]&gt; left,\n    T... right\n) {\n    return containsAny(left, val(right, left));\n}\n\npublic static &lt;T&gt; Condition containsAny(\n    Field&lt;T[]&gt; left,\n    Field&lt;T[]&gt; right\n) {\n    return DSL.condition(&quot;({0} &amp;&amp; {1})&quot;, left, right);\n}\n</code></pre>\n"}],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73685088,"answer_count":1,"score":2,"last_activity_date":1662965623,"creation_date":1662922949,"question_id":73681953,"body_markdown":"Using postgresql, I have a table `product` and the array field of the `resticted_delivery_regions`:\r\n\r\n    ALTER TABLE &quot;product&quot;\r\n        ADD COLUMN IF NOT EXISTS &quot;restricted_delivery_regions&quot; CHARACTER VARYING(7)[];\r\n    \r\n    COMMENT ON COLUMN &quot;product&quot;.&quot;restricted_delivery_regions&quot;\r\n        IS &#39;Prohibited regions for delivery, for example: {&#39;&#39;US-NY&#39;&#39;, &#39;&#39;US-NJ&#39;&#39;}&#39;;\r\n\r\nUsing jOOQ on the code side, I&#39;m trying to implement some specific condition like this (not compilant):\r\n\r\n    if (criteria.getRestrictedRegionsCount() &gt; 0) {\r\n        condition = condition.and(PRODUCT.RESTRICTED_DELIVERY_REGIONS.notContainsAnyOf(criteria.getRestrictedRegionsList()));\r\n    }\r\n\r\nWhere: \r\n\r\n1. `PRODUCT.RESTRICTED_DELIVERY_REGIONS` -- is autogenerated `TableField&lt;ProductRecord, String[]&gt;`, telling us the product&#39;s delivery resticted regions\r\n2. `criteria.getRestrictedRegionsList()` -- input of prohibited for delivery regions, by which products should be filtered\r\n\r\nQuestions are:\r\n\r\n1. Is it possible to code such a query using jOOQ means?\r\n2. If not, what is the best way to implement such a condition construct?\r\n\r\n\r\nP.S.\r\n`Field::notContains()` is not an option here, because it looks for a match over the entire input array, not individual values\r\n\r\n\r\n","title":"jOOQ array field contains any of input list values condition","body":"<p>Using postgresql, I have a table <code>product</code> and the array field of the <code>resticted_delivery_regions</code>:</p>\n<pre><code>ALTER TABLE &quot;product&quot;\n    ADD COLUMN IF NOT EXISTS &quot;restricted_delivery_regions&quot; CHARACTER VARYING(7)[];\n\nCOMMENT ON COLUMN &quot;product&quot;.&quot;restricted_delivery_regions&quot;\n    IS 'Prohibited regions for delivery, for example: {''US-NY'', ''US-NJ''}';\n</code></pre>\n<p>Using jOOQ on the code side, I'm trying to implement some specific condition like this (not compilant):</p>\n<pre><code>if (criteria.getRestrictedRegionsCount() &gt; 0) {\n    condition = condition.and(PRODUCT.RESTRICTED_DELIVERY_REGIONS.notContainsAnyOf(criteria.getRestrictedRegionsList()));\n}\n</code></pre>\n<p>Where:</p>\n<ol>\n<li><code>PRODUCT.RESTRICTED_DELIVERY_REGIONS</code> -- is autogenerated <code>TableField&lt;ProductRecord, String[]&gt;</code>, telling us the product's delivery resticted regions</li>\n<li><code>criteria.getRestrictedRegionsList()</code> -- input of prohibited for delivery regions, by which products should be filtered</li>\n</ol>\n<p>Questions are:</p>\n<ol>\n<li>Is it possible to code such a query using jOOQ means?</li>\n<li>If not, what is the best way to implement such a condition construct?</li>\n</ol>\n<p>P.S.\n<code>Field::notContains()</code> is not an option here, because it looks for a match over the entire input array, not individual values</p>\n"},{"tags":["java","android","unity-game-engine","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":183994,"reputation":19070,"user_id":419761,"accept_rate":86,"display_name":"l33t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644065440,"creation_date":1644065440,"answer_id":70998179,"question_id":70927147,"body_markdown":"I got the same error just now, complaining about that exact resource ID `0x7f08014a`. It&#39;s not an error in *your* app. Looks like Google has some resource bug in their messaging app.\r\n\r\nIf you view the test-run video, I believe you will see something like Google&#39;s messaging app being started. Perhaps from a share button?","title":"java.lang.RuntimeException: Unable to start activity: com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity - Resources not found","body":"<p>I got the same error just now, complaining about that exact resource ID <code>0x7f08014a</code>. It's not an error in <em>your</em> app. Looks like Google has some resource bug in their messaging app.</p>\n<p>If you view the test-run video, I believe you will see something like Google's messaging app being started. Perhaps from a share button?</p>\n"}],"owner":{"account_id":24110718,"reputation":51,"user_id":18081349,"display_name":"MU-G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1662965434,"creation_date":1643637250,"question_id":70927147,"body_markdown":"I created a game on Unity for Android. I got this error when uploading an update of my build on Google Play:\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\r\n\r\nI only changed the sound volume in the update, so I guess the issue was already there in the previous builds but not detected.\r\n\r\nI used visual scripting. I  only have5 scripts downloaded from internet:\r\n\r\n 1. to allow to take a screenshot and share it on a platform when\r\n    pressing a button\r\n 2. to adapt the game to the screen resolution of the device\r\n 3. to authenticate to Google Play and send the score to the leaderboard\r\n 4. to trigger an event when the Unity ad did finish\r\n 5. to keep playing the music when reloading the scene\r\n\r\nHere is the detail of the issue:\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.google.android.apps.messaging, PID: 30735\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2805)\r\n    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\r\n    \tat android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \tat android.os.Looper.loop(Looper.java:164)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:6523)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\r\n    Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\r\n    \tat android.content.res.ResourcesImpl.getValueForDensity(ResourcesImpl.java:229)\r\n    \tat android.content.res.Resources.getDrawableForDensity(Resources.java:876)\r\n    \tat android.content.res.Resources.getDrawable(Resources.java:819)\r\n    \tat android.content.Context.getDrawable(Context.java:605)\r\n    \tat ym.a(PG:15)\r\n    \tat com.google.android.apps.messaging.ui.common.ListEmptyView.a(PG:5)\r\n    \tat nog.c(PG:20)\r\n    \tat cy.b(PG:48)\r\n    \tat nol.b(PG:15)\r\n    \tat android.support.v4.app.Fragment.g(PG:120)\r\n    \tat em.f(PG:71)\r\n    \tat ee.a(PG:447)\r\n    \tat ee.c(PG:436)\r\n    \tat ee.d(PG:395)\r\n    \tat ee.a(PG:427)\r\n    \tat ee.b(PG:327)\r\n    \tat ee.a(PG:535)\r\n    \tat ee.c(PG:217)\r\n    \tat ee.c(PG:109)\r\n    \tat ee.i(PG:61)\r\n    \tat di.onStart(PG:114)\r\n    \tat ma.onStart(PG:128)\r\n    \tat vit.onStart(PG:60)\r\n    \tat lkx.onStart(PG:33)\r\n    \tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\r\n    \tat android.app.Activity.performStart(Activity.java:7033)\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2768)\r\n    \t... 9 more\r\n\r\nI am not a programmer so I don&#39;t know where to start. The error is about com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity\r\nSo maybe it is related to script to share a screenshot?\r\n\r\nThank you!\r\n \r\n ","title":"java.lang.RuntimeException: Unable to start activity: com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity - Resources not found","body":"<p>I created a game on Unity for Android. I got this error when uploading an update of my build on Google Play:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\n</code></pre>\n<p>I only changed the sound volume in the update, so I guess the issue was already there in the previous builds but not detected.</p>\n<p>I used visual scripting. I  only have5 scripts downloaded from internet:</p>\n<ol>\n<li>to allow to take a screenshot and share it on a platform when\npressing a button</li>\n<li>to adapt the game to the screen resolution of the device</li>\n<li>to authenticate to Google Play and send the score to the leaderboard</li>\n<li>to trigger an event when the Unity ad did finish</li>\n<li>to keep playing the music when reloading the scene</li>\n</ol>\n<p>Here is the detail of the issue:</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.google.android.apps.messaging, PID: 30735\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2805)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6523)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\nCaused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f08014a\n    at android.content.res.ResourcesImpl.getValueForDensity(ResourcesImpl.java:229)\n    at android.content.res.Resources.getDrawableForDensity(Resources.java:876)\n    at android.content.res.Resources.getDrawable(Resources.java:819)\n    at android.content.Context.getDrawable(Context.java:605)\n    at ym.a(PG:15)\n    at com.google.android.apps.messaging.ui.common.ListEmptyView.a(PG:5)\n    at nog.c(PG:20)\n    at cy.b(PG:48)\n    at nol.b(PG:15)\n    at android.support.v4.app.Fragment.g(PG:120)\n    at em.f(PG:71)\n    at ee.a(PG:447)\n    at ee.c(PG:436)\n    at ee.d(PG:395)\n    at ee.a(PG:427)\n    at ee.b(PG:327)\n    at ee.a(PG:535)\n    at ee.c(PG:217)\n    at ee.c(PG:109)\n    at ee.i(PG:61)\n    at di.onStart(PG:114)\n    at ma.onStart(PG:128)\n    at vit.onStart(PG:60)\n    at lkx.onStart(PG:33)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\n    at android.app.Activity.performStart(Activity.java:7033)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2768)\n    ... 9 more\n</code></pre>\n<p>I am not a programmer so I don't know where to start. The error is about com.google.android.apps.messaging/com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity\nSo maybe it is related to script to share a screenshot?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","lazycolumn"],"comments":[{"owner":{"account_id":21401367,"reputation":342,"user_id":15763443,"display_name":"Unes"},"score":3,"creation_date":1646565888,"post_id":71369427,"comment_id":126150615,"body_markdown":"You must specify the height of the second LazyColumn","body":"You must specify the height of the second LazyColumn"},{"owner":{"account_id":10298379,"reputation":45,"user_id":7597801,"display_name":"Sguit"},"score":0,"creation_date":1646569128,"post_id":71369427,"comment_id":126151243,"body_markdown":"Thank you Nesyou, I&#39;ve specified the height of the second LazyColumn has a multiple of the size list of item that I want to display. It works properly","body":"Thank you Nesyou, I&#39;ve specified the height of the second LazyColumn has a multiple of the size list of item that I want to display. It works properly"},{"owner":{"account_id":7423634,"reputation":556,"user_id":9795103,"display_name":"Shreyash.K"},"score":0,"creation_date":1646588272,"post_id":71369427,"comment_id":126155558,"body_markdown":"Can&#39;t you use `for` loop instead of inner lazy column?","body":"Can&#39;t you use <code>for</code> loop instead of inner lazy column?"},{"owner":{"account_id":2276044,"reputation":397,"user_id":2002274,"accept_rate":77,"display_name":"tiagocarvalho92"},"score":4,"creation_date":1649226197,"post_id":71369427,"comment_id":126818831,"body_markdown":"@Sguit how did you specified the height of the second LazyColumn?","body":"@Sguit how did you specified the height of the second LazyColumn?"}],"answers":[{"tags":[],"owner":{"account_id":11153749,"reputation":297,"user_id":8186113,"accept_rate":88,"display_name":"sjso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659758414,"creation_date":1659758414,"answer_id":73257067,"question_id":71369427,"body_markdown":"No, unfortunately, nesting scrollable composables in the same direction is not allowed. ","title":"Can Lazy Column live inside another Lazy Column?","body":"<p>No, unfortunately, nesting scrollable composables in the same direction is not allowed.</p>\n"},{"tags":[],"owner":{"account_id":14397859,"reputation":89,"user_id":10400560,"display_name":"Khalid Mohammed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662965310,"creation_date":1662965310,"answer_id":73685411,"question_id":71369427,"body_markdown":"It&#39;s not supported in jetpack compose, but I think it should be supported because many use cases need that. e.g e-commerce applications,food delivery (like DoorDash)","title":"Can Lazy Column live inside another Lazy Column?","body":"<p>It's not supported in jetpack compose, but I think it should be supported because many use cases need that. e.g e-commerce applications,food delivery (like DoorDash)</p>\n"}],"owner":{"account_id":10298379,"reputation":45,"user_id":7597801,"display_name":"Sguit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662965310,"creation_date":1646562327,"question_id":71369427,"body_markdown":"I&#39;m starting using Jetpack compose and i&#39;m facing some issues with Lazy Column.\r\n\r\nThe problem is that i want to make a list that contains another list inside every root item (such as a card that containt another list inside).\r\n\r\nUnfortunately, when i run the following code (below the snippet that resume what i&#39;m trying to do).\r\n\r\nI catch the exception:\r\n\r\n&gt; java.lang.IllegalStateException: Vertically scrollable component was measured with an infinity maximum height constraints, which is disallowed. One of the common reasons is nesting layouts like LazyColumn and Column(Modifier.verticalScroll()). If you want to add a header before the list of items please add a header as a separate item() before the main items() inside the LazyColumn scope. There are could be other reasons for this to happen: your ComposeView was added into a LinearLayout with some weight, you applied Modifier.wrapContentSize(unbounded = true) or wrote a custom layout. Please try to remove the source of infinite constraints in the hierarchy above the scrolling container.\r\n\r\nCode:\r\n\r\n    LazyColumn(modifier = Modifier.wrapContentHeight()) {\r\n        items(list.value) { \r\n            item -&gt; LazyColumn(modifier = Modifier.wrapContentHeight()) {\r\n                //some Text\r\n            }\r\n        }\r\n    }\r\n\r\nI don&#39;t need the nested Lazy Column to be scrollable, so i&#39;m wondering if for this purpose there is another element to use instead of LazyColumn, or i&#39;m making some other mistake.\r\n\r\nI&#39;ve also tried to put in item{} block other layout elements, as suggested by the Exception, but with the same result.","title":"Can Lazy Column live inside another Lazy Column?","body":"<p>I'm starting using Jetpack compose and i'm facing some issues with Lazy Column.</p>\n<p>The problem is that i want to make a list that contains another list inside every root item (such as a card that containt another list inside).</p>\n<p>Unfortunately, when i run the following code (below the snippet that resume what i'm trying to do).</p>\n<p>I catch the exception:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Vertically scrollable component was measured with an infinity maximum height constraints, which is disallowed. One of the common reasons is nesting layouts like LazyColumn and Column(Modifier.verticalScroll()). If you want to add a header before the list of items please add a header as a separate item() before the main items() inside the LazyColumn scope. There are could be other reasons for this to happen: your ComposeView was added into a LinearLayout with some weight, you applied Modifier.wrapContentSize(unbounded = true) or wrote a custom layout. Please try to remove the source of infinite constraints in the hierarchy above the scrolling container.</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>LazyColumn(modifier = Modifier.wrapContentHeight()) {\n    items(list.value) { \n        item -&gt; LazyColumn(modifier = Modifier.wrapContentHeight()) {\n            //some Text\n        }\n    }\n}\n</code></pre>\n<p>I don't need the nested Lazy Column to be scrollable, so i'm wondering if for this purpose there is another element to use instead of LazyColumn, or i'm making some other mistake.</p>\n<p>I've also tried to put in item{} block other layout elements, as suggested by the Exception, but with the same result.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1565693956,"creation_date":1534753674,"answer_id":51926773,"question_id":51926704,"body_markdown":"Because [the `EventBus` class][1] is annotated as `@Beta`.\r\n\r\n[You&#39;d have to ask the Guava project maintainers][2] why a class that exists for 16 versions of Guava is still Beta, but it still is.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/eventbus/EventBus.html\r\n  [2]: https://github.com/google/guava/issues/3360","title":"Why is Guava&#39;s EventBus marked unstable in IntelliJ 2018.2?","body":"<p>Because <a href=\"https://google.github.io/guava/releases/26.0-jre/api/docs/com/google/common/eventbus/EventBus.html\" rel=\"noreferrer\">the <code>EventBus</code> class</a> is annotated as <code>@Beta</code>.</p>\n\n<p><a href=\"https://github.com/google/guava/issues/3360\" rel=\"noreferrer\">You'd have to ask the Guava project maintainers</a> why a class that exists for 16 versions of Guava is still Beta, but it still is.</p>\n"},{"tags":[],"owner":{"account_id":95872,"reputation":17489,"user_id":260885,"display_name":"Hiery Nomus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534753723,"creation_date":1534753723,"answer_id":51926786,"question_id":51926704,"body_markdown":"EventBus class is marked with the `@com.google.common.annotations.Beta` annotation. So I think the inspection is triggering on that. See: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/eventbus/EventBus.html","title":"Why is Guava&#39;s EventBus marked unstable in IntelliJ 2018.2?","body":"<p>EventBus class is marked with the <code>@com.google.common.annotations.Beta</code> annotation. So I think the inspection is triggering on that. See: <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/eventbus/EventBus.html\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/22.0/api/docs/com/google/common/eventbus/EventBus.html</a></p>\n"},{"tags":[],"owner":{"account_id":26201,"reputation":24755,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1662965271,"creation_date":1554225440,"answer_id":55480304,"question_id":51926704,"body_markdown":"Besides @JB Nizet&#39;s answer that perfectly explains why IntelliJ flags this error, you may also want to **suppress it** globally but only **for the Google Beta annotations**.\r\n\r\nJust go to `Settings -&gt; Editor -&gt; Inspections -&gt; JVM languages` as per the picture below and, if you feel like it, delete the `com.google.common.anotations.Beta`.\r\n \r\n \r\n[![how to disable IntelliJ&#39;s Google Beta annotation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Xhwx.png","title":"Why is Guava&#39;s EventBus marked unstable in IntelliJ 2018.2?","body":"<p>Besides @JB Nizet's answer that perfectly explains why IntelliJ flags this error, you may also want to <strong>suppress it</strong> globally but only <strong>for the Google Beta annotations</strong>.</p>\n<p>Just go to <code>Settings -&gt; Editor -&gt; Inspections -&gt; JVM languages</code> as per the picture below and, if you feel like it, delete the <code>com.google.common.anotations.Beta</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/0Xhwx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Xhwx.png\" alt=\"how to disable IntelliJ's Google Beta annotation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1627199035,"creation_date":1568715557,"answer_id":57972162,"question_id":51926704,"body_markdown":"You can also ask IntelliJ to suppress the warning for the definition of your `@Beta` annotated class as follows:\r\n\r\n    @SuppressWarnings(&quot;UnstableApiUsage&quot;)\r\n    static RateLimiter API_RATE_LIMITER = RateLimiter.create(8);\r\n\r\nThis properly deals with the warning in a particular case when you&#39;re okay with using the class anyway (and don&#39;t run into issues).","title":"Why is Guava&#39;s EventBus marked unstable in IntelliJ 2018.2?","body":"<p>You can also ask IntelliJ to suppress the warning for the definition of your <code>@Beta</code> annotated class as follows:</p>\n<pre><code>@SuppressWarnings(&quot;UnstableApiUsage&quot;)\nstatic RateLimiter API_RATE_LIMITER = RateLimiter.create(8);\n</code></pre>\n<p>This properly deals with the warning in a particular case when you're okay with using the class anyway (and don't run into issues).</p>\n"}],"owner":{"account_id":8307418,"reputation":527,"user_id":6243902,"display_name":"20knots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25012,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":51926773,"answer_count":4,"score":29,"last_activity_date":1662965271,"creation_date":1534753384,"question_id":51926704,"body_markdown":"A new inspection was added in IntelliJ  2018.2 which should warn from unstable APIs:\r\nhttps://youtrack.jetbrains.com/issue/IDEA-159541.\r\n\r\nThis warning shows up for the Guava&#39;s EventBus. Why is this an unstable API?","title":"Why is Guava&#39;s EventBus marked unstable in IntelliJ 2018.2?","body":"<p>A new inspection was added in IntelliJ  2018.2 which should warn from unstable APIs:\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-159541\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-159541</a>.</p>\n\n<p>This warning shows up for the Guava's EventBus. Why is this an unstable API?</p>\n"},{"tags":["java","xslt-3.0"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662965094,"creation_date":1662931702,"answer_id":73682749,"question_id":73681574,"body_markdown":"Either use various transformation steps with e.g. different modes or write conditions in your match patterns like e.g.\r\n\r\n    &lt;xsl:template match=&quot;fn:array[@key = &#39;addresses&#39;]&quot;&gt;\r\n      &lt;xsl:apply-templates/&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;fn:map[fn:string[@key = &#39;address&#39;] and fn:string[@key = &#39;type&#39;]]&quot;&gt;\r\n      &lt;xsl:element name=&quot;{fn:string[@key = &#39;type&#39;]}-address&quot;&gt;\r\n        &lt;addressLine&gt;{fn:string[@key = &#39;address&#39;]}&lt;/addressLine&gt;\r\n      &lt;/xsl:element&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nThat needs `xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;` and `expand-text=&quot;yes&quot;` on e.g. the `xsl:stylesheet` root element.\r\n\r\n[Fiddle example][1].\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/xslt3fiddle/?xslt=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Cxsl%3Astylesheet%20version%3D%223.0%22%0D%0A%20%20%20%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20xmlns%3Axs%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%22%0D%0A%20%20%20%20xmlns%3Afn%3D%22http%3A%2F%2Fwww.w3.org%2F2005%2Fxpath-functions%22%0D%0A%20%20%20%20exclude-result-prefixes%3D%22%23all%22%0D%0A%20%20%20%20expand-text%3D%22yes%22%3E%0D%0A%20%20%20%20%3Cxsl%3Astrip-space%20elements%3D%22*%22%20%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22xml%22%20omit-xml-declaration%3D%22yes%22%20indent%3D%22yes%22%20%2F%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Aparam%20name%3D%22inputJson%22%20as%3D%22xs%3Astring%22%20expand-text%3D%22no%22%3E%7B%0D%0A%20%20%20%20%22name%22%3A%20%22user%22%2C%0D%0A%20%20%20%20%22age%22%3A%2020%2C%0D%0A%20%20%20%20%22designation%22%3A%20%22engineer%22%2C%0D%0A%20%20%20%20%22addresses%22%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22home%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22%3A%20%22sample%20address%201%22%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22work%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22%3A%20%22sample%20address%202%22%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%5D%0D%0A%7D%3C%2Fxsl%3Aparam%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22xsl%3Ainitial-template%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20select%3D%22json-to-xml%28%24inputJson%29%22%20%2F%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3C%21--%20template%20to%20keep%20json%20keys%20as%20xml%20keys%20--%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22*%5B%40key%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7B%40key%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%20%2F%3E%0D%0A%20%20%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3C%21--%20template%20to%20remove%20namespace%20--%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22data%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7Blocal-name%28%29%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%20select%3D%22%40*%20%7C%20node%28%29%22%20%2F%3E%0D%0A%20%20%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22fn%3Aarray%5B%40key%20%3D%20%27addresses%27%5D%22%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Aapply-templates%2F%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22fn%3Amap%5Bfn%3Astring%5B%40key%20%3D%20%27address%27%5D%20and%20fn%3Astring%5B%40key%20%3D%20%27type%27%5D%5D%22%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7Bfn%3Astring%5B%40key%20%3D%20%27type%27%5D%7D-address%22%3E%0D%0A%20%20%20%20%20%20%20%20%3CaddressLine%3E%7Bfn%3Astring%5B%40key%20%3D%20%27address%27%5D%7D%3C%2FaddressLine%3E%0D%0A%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=&amp;input-type=None","title":"XSLT3.0 | JSON-XML Conversion","body":"<p>Either use various transformation steps with e.g. different modes or write conditions in your match patterns like e.g.</p>\n<pre><code>&lt;xsl:template match=&quot;fn:array[@key = 'addresses']&quot;&gt;\n  &lt;xsl:apply-templates/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;fn:map[fn:string[@key = 'address'] and fn:string[@key = 'type']]&quot;&gt;\n  &lt;xsl:element name=&quot;{fn:string[@key = 'type']}-address&quot;&gt;\n    &lt;addressLine&gt;{fn:string[@key = 'address']}&lt;/addressLine&gt;\n  &lt;/xsl:element&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>That needs <code>xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;</code> and <code>expand-text=&quot;yes&quot;</code> on e.g. the <code>xsl:stylesheet</code> root element.</p>\n<p><a href=\"https://martin-honnen.github.io/xslt3fiddle/?xslt=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Cxsl%3Astylesheet%20version%3D%223.0%22%0D%0A%20%20%20%20xmlns%3Axsl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2FXSL%2FTransform%22%0D%0A%20%20%20%20xmlns%3Axs%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%22%0D%0A%20%20%20%20xmlns%3Afn%3D%22http%3A%2F%2Fwww.w3.org%2F2005%2Fxpath-functions%22%0D%0A%20%20%20%20exclude-result-prefixes%3D%22%23all%22%0D%0A%20%20%20%20expand-text%3D%22yes%22%3E%0D%0A%20%20%20%20%3Cxsl%3Astrip-space%20elements%3D%22*%22%20%2F%3E%0D%0A%20%20%20%20%3Cxsl%3Aoutput%20method%3D%22xml%22%20omit-xml-declaration%3D%22yes%22%20indent%3D%22yes%22%20%2F%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Aparam%20name%3D%22inputJson%22%20as%3D%22xs%3Astring%22%20expand-text%3D%22no%22%3E%7B%0D%0A%20%20%20%20%22name%22%3A%20%22user%22%2C%0D%0A%20%20%20%20%22age%22%3A%2020%2C%0D%0A%20%20%20%20%22designation%22%3A%20%22engineer%22%2C%0D%0A%20%20%20%20%22addresses%22%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22home%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22%3A%20%22sample%20address%201%22%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22work%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22address%22%3A%20%22sample%20address%202%22%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%5D%0D%0A%7D%3C%2Fxsl%3Aparam%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20name%3D%22xsl%3Ainitial-template%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20select%3D%22json-to-xml%28%24inputJson%29%22%20%2F%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3C%21--%20template%20to%20keep%20json%20keys%20as%20xml%20keys%20--%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22*%5B%40key%5D%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7B%40key%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%20%2F%3E%0D%0A%20%20%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3C%21--%20template%20to%20remove%20namespace%20--%3E%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22data%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7Blocal-name%28%29%7D%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cxsl%3Aapply-templates%20select%3D%22%40*%20%7C%20node%28%29%22%20%2F%3E%0D%0A%20%20%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22fn%3Aarray%5B%40key%20%3D%20%27addresses%27%5D%22%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Aapply-templates%2F%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%20%20%20%20%3Cxsl%3Atemplate%20match%3D%22fn%3Amap%5Bfn%3Astring%5B%40key%20%3D%20%27address%27%5D%20and%20fn%3Astring%5B%40key%20%3D%20%27type%27%5D%5D%22%3E%0D%0A%20%20%20%20%20%20%3Cxsl%3Aelement%20name%3D%22%7Bfn%3Astring%5B%40key%20%3D%20%27type%27%5D%7D-address%22%3E%0D%0A%20%20%20%20%20%20%20%20%3CaddressLine%3E%7Bfn%3Astring%5B%40key%20%3D%20%27address%27%5D%7D%3C%2FaddressLine%3E%0D%0A%20%20%20%20%20%20%3C%2Fxsl%3Aelement%3E%0D%0A%20%20%20%20%3C%2Fxsl%3Atemplate%3E%0D%0A%0D%0A%3C%2Fxsl%3Astylesheet%3E&amp;input=&amp;input-type=None\" rel=\"nofollow noreferrer\">Fiddle example</a>.</p>\n"}],"owner":{"account_id":26306820,"reputation":1,"user_id":19971127,"display_name":"User_3032"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73682749,"answer_count":1,"score":-1,"last_activity_date":1662965094,"creation_date":1662919652,"question_id":73681574,"body_markdown":"I&#39;m trying to convert json to xml using xslt 3.0 (Saxon-HE v11.4 library) in Java.\r\n\r\nWhile i&#39;m able to convert the complete json to xml, i need guidance in writing a custom logic to pick and choose keys that needs to be in final xml.\r\n\r\nXSLT being used currently - \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;3.0&quot;\r\n\txmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n\t&lt;xsl:strip-space elements=&quot;*&quot; /&gt;\r\n\t&lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot;\tindent=&quot;yes&quot; /&gt;\r\n\r\n\t&lt;xsl:param name=&quot;inputJson&quot; /&gt;\r\n\r\n\t&lt;xsl:template name=&quot;init&quot;&gt;\r\n\t\t&lt;xsl:apply-templates\r\n\t\t\tselect=&quot;json-to-xml($inputJson)&quot; /&gt;\r\n\t&lt;/xsl:template&gt;\r\n\r\n\t&lt;!-- template to keep json keys as xml keys --&gt;\r\n\t&lt;xsl:template match=&quot;*[@key]&quot;&gt;\r\n\t\t&lt;xsl:element name=&quot;{@key}&quot;&gt;\r\n\t\t\t&lt;xsl:apply-templates /&gt;\r\n\t\t&lt;/xsl:element&gt;\r\n\t&lt;/xsl:template&gt;\r\n\r\n\t&lt;!-- template to remove namespace --&gt;\r\n\t&lt;xsl:template match=&quot;data&quot;&gt;\r\n\t\t&lt;xsl:element name=&quot;{local-name()}&quot;&gt;\r\n\t\t\t&lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\r\n\t\t&lt;/xsl:element&gt;\r\n\t&lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nSample json - \r\n```\r\n{\r\n\t&quot;name&quot;: &quot;user&quot;,\r\n\t&quot;age&quot;: 20,\r\n\t&quot;designation&quot;: &quot;engineer&quot;,\r\n\t&quot;addresses&quot;: [\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;home&quot;,\r\n\t\t\t&quot;address&quot;: &quot;sample address 1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;type&quot;: &quot;work&quot;,\r\n\t\t\t&quot;address&quot;: &quot;sample address 2&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nCurrent XML Output (which needs fix, as individual type/address element is not surrounded by addresses tag) - \r\n```\r\n&lt;name&gt;user&lt;/name&gt;\r\n&lt;age&gt;20&lt;/age&gt;\r\n&lt;designation&gt;engineer&lt;/designation&gt;\r\n&lt;addresses&gt;\r\n   &lt;type&gt;home&lt;/type&gt;\r\n   &lt;address&gt;sample address 1&lt;/address&gt;\r\n   &lt;type&gt;work&lt;/type&gt;\r\n   &lt;address&gt;sample address 2&lt;/address&gt;\r\n&lt;/addresses&gt;\r\n```\r\n\r\nI would need the final XML to have name , age and home address.\r\nSample expected XML - \r\n\r\n```\r\n&lt;name&gt;user&lt;/name&gt;\r\n&lt;age&gt;20&lt;/age&gt;\r\n&lt;home-address&gt;\r\n\t&lt;addressLine&gt;sample address 1&lt;/addressLine&gt;\r\n&lt;/home-address&gt;\r\n```\r\n\r\nAny help would be much appreciated.","title":"XSLT3.0 | JSON-XML Conversion","body":"<p>I'm trying to convert json to xml using xslt 3.0 (Saxon-HE v11.4 library) in Java.</p>\n<p>While i'm able to convert the complete json to xml, i need guidance in writing a custom logic to pick and choose keys that needs to be in final xml.</p>\n<p>XSLT being used currently -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;3.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:strip-space elements=&quot;*&quot; /&gt;\n    &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;yes&quot; /&gt;\n\n    &lt;xsl:param name=&quot;inputJson&quot; /&gt;\n\n    &lt;xsl:template name=&quot;init&quot;&gt;\n        &lt;xsl:apply-templates\n            select=&quot;json-to-xml($inputJson)&quot; /&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;!-- template to keep json keys as xml keys --&gt;\n    &lt;xsl:template match=&quot;*[@key]&quot;&gt;\n        &lt;xsl:element name=&quot;{@key}&quot;&gt;\n            &lt;xsl:apply-templates /&gt;\n        &lt;/xsl:element&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;!-- template to remove namespace --&gt;\n    &lt;xsl:template match=&quot;data&quot;&gt;\n        &lt;xsl:element name=&quot;{local-name()}&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\n        &lt;/xsl:element&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Sample json -</p>\n<pre><code>{\n    &quot;name&quot;: &quot;user&quot;,\n    &quot;age&quot;: 20,\n    &quot;designation&quot;: &quot;engineer&quot;,\n    &quot;addresses&quot;: [\n        {\n            &quot;type&quot;: &quot;home&quot;,\n            &quot;address&quot;: &quot;sample address 1&quot;\n        },\n        {\n            &quot;type&quot;: &quot;work&quot;,\n            &quot;address&quot;: &quot;sample address 2&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Current XML Output (which needs fix, as individual type/address element is not surrounded by addresses tag) -</p>\n<pre><code>&lt;name&gt;user&lt;/name&gt;\n&lt;age&gt;20&lt;/age&gt;\n&lt;designation&gt;engineer&lt;/designation&gt;\n&lt;addresses&gt;\n   &lt;type&gt;home&lt;/type&gt;\n   &lt;address&gt;sample address 1&lt;/address&gt;\n   &lt;type&gt;work&lt;/type&gt;\n   &lt;address&gt;sample address 2&lt;/address&gt;\n&lt;/addresses&gt;\n</code></pre>\n<p>I would need the final XML to have name , age and home address.\nSample expected XML -</p>\n<pre><code>&lt;name&gt;user&lt;/name&gt;\n&lt;age&gt;20&lt;/age&gt;\n&lt;home-address&gt;\n    &lt;addressLine&gt;sample address 1&lt;/addressLine&gt;\n&lt;/home-address&gt;\n</code></pre>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","orientdb"],"answers":[{"tags":[],"owner":{"account_id":8377582,"reputation":1369,"user_id":6290625,"display_name":"Oleksandr Gubchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465285952,"creation_date":1465285952,"answer_id":37673545,"question_id":37672955,"body_markdown":"You have a server running and you try to open the database from another process in plocal.\r\nCould you please verify that you have no active OrientDB instances while accessing it in plocal (console or external processes) and that you open one plocal connection at a time?","title":"How to correct the exception database.ocf&#39; is locked by another process in orientdb?","body":"<p>You have a server running and you try to open the database from another process in plocal.\nCould you please verify that you have no active OrientDB instances while accessing it in plocal (console or external processes) and that you open one plocal connection at a time?</p>\n"}],"owner":{"account_id":7304146,"reputation":113,"user_id":5565673,"accept_rate":71,"display_name":"Nima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662964836,"creation_date":1465284154,"question_id":37672955,"body_markdown":"I&#39;m getting the exception when I try to connect to the orient db using Java. Below is the exception I&#39;m getting.\r\n\r\n    Jun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\r\n    INFO: OrientDB auto-config DISKCACHE=891MB (heap=891MB direct=891MB os=4,006MB), assuming maximum direct memory size equals to maximum JVM heap size\r\n    Jun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\r\n    WARNING: MaxDirectMemorySize JVM option is not set or has invalid value, that may cause out of memory errors. Please set the -XX:MaxDirectMemorySize=4006m option when you start the JVM.\r\n    Jun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\r\n    WARNING: MaxDirectMemorySize JVM option is not set or has invalid value, that may cause out of memory errors. Please set the -XX:MaxDirectMemorySize=4006m option when you start the JVM.\r\n    Exception in thread &quot;main&quot; com.orientechnologies.orient.core.exception.OFileLockedByAnotherProcessException: File &#39;F:\\Program Files\\orientdb-community-2.2.0\\databases\\mydbo\\database.ocf&#39; is locked by another process, maybe the database is in use by another process. Use the remote mode with a OrientDB server to allow multiple access to the same database at com.orientechnologies.orient.core.storage.fs.OFileClassic.lock(OFileClassic.java:756)\r\n    \tat com.orientechnologies.orient.core.storage.fs.OFileClassic.openChannel(OFileClassic.java:813)\r\n    \tat com.orientechnologies.orient.core.storage.fs.OFileClassic.open(OFileClassic.java:603)\r\n    \tat com.orientechnologies.orient.core.storage.impl.local.OSingleFileSegment.open(OSingleFileSegment.java:51)\r\n    \tat com.orientechnologies.orient.core.storage.impl.local.OStorageConfigurationSegment.load(OStorageConfigurationSegment.java:80)\r\n    \tat com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.open(OAbstractPaginatedStorage.java:186)\r\n    \tat com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.open(ODatabaseDocumentTx.java:231)\r\n    \tat orient.insert.Insert.main(Insert.java:12)\r\n\r\n\r\n\r\nthis is the code that i tried.\r\n\r\n    ODatabaseDocumentTx db = new ODatabaseDocumentTx(&quot;plocal:F:/Program Files/orientdb-community-2.2.0/databases/mydbo&quot;).open(&quot;admin&quot;, &quot;admin&quot;);\r\n    \r\n    ODocument doc = new ODocument(&quot;Person&quot;);\r\n    doc.field( &quot;name&quot;, &quot;Luke&quot; );\r\n    doc.field( &quot;surname&quot;, &quot;Skywalker&quot; );\r\n    doc.field( &quot;city&quot;, new ODocument(&quot;City&quot;).field(&quot;name&quot;,&quot;Rome&quot;).field(&quot;country&quot;, &quot;Italy&quot;) );\r\n    \r\n    \r\n    doc.save();\r\n    db.close();\r\n\r\nI can&#39;t figure out the error I&#39;m having.","title":"How to correct the exception database.ocf&#39; is locked by another process in orientdb?","body":"<p>I'm getting the exception when I try to connect to the orient db using Java. Below is the exception I'm getting.</p>\n\n<pre><code>Jun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\nINFO: OrientDB auto-config DISKCACHE=891MB (heap=891MB direct=891MB os=4,006MB), assuming maximum direct memory size equals to maximum JVM heap size\nJun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\nWARNING: MaxDirectMemorySize JVM option is not set or has invalid value, that may cause out of memory errors. Please set the -XX:MaxDirectMemorySize=4006m option when you start the JVM.\nJun 07, 2016 12:43:40 PM com.orientechnologies.common.log.OLogManager log\nWARNING: MaxDirectMemorySize JVM option is not set or has invalid value, that may cause out of memory errors. Please set the -XX:MaxDirectMemorySize=4006m option when you start the JVM.\nException in thread \"main\" com.orientechnologies.orient.core.exception.OFileLockedByAnotherProcessException: File 'F:\\Program Files\\orientdb-community-2.2.0\\databases\\mydbo\\database.ocf' is locked by another process, maybe the database is in use by another process. Use the remote mode with a OrientDB server to allow multiple access to the same database at com.orientechnologies.orient.core.storage.fs.OFileClassic.lock(OFileClassic.java:756)\n    at com.orientechnologies.orient.core.storage.fs.OFileClassic.openChannel(OFileClassic.java:813)\n    at com.orientechnologies.orient.core.storage.fs.OFileClassic.open(OFileClassic.java:603)\n    at com.orientechnologies.orient.core.storage.impl.local.OSingleFileSegment.open(OSingleFileSegment.java:51)\n    at com.orientechnologies.orient.core.storage.impl.local.OStorageConfigurationSegment.load(OStorageConfigurationSegment.java:80)\n    at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.open(OAbstractPaginatedStorage.java:186)\n    at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.open(ODatabaseDocumentTx.java:231)\n    at orient.insert.Insert.main(Insert.java:12)\n</code></pre>\n\n<p>this is the code that i tried.</p>\n\n<pre><code>ODatabaseDocumentTx db = new ODatabaseDocumentTx(\"plocal:F:/Program Files/orientdb-community-2.2.0/databases/mydbo\").open(\"admin\", \"admin\");\n\nODocument doc = new ODocument(\"Person\");\ndoc.field( \"name\", \"Luke\" );\ndoc.field( \"surname\", \"Skywalker\" );\ndoc.field( \"city\", new ODocument(\"City\").field(\"name\",\"Rome\").field(\"country\", \"Italy\") );\n\n\ndoc.save();\ndb.close();\n</code></pre>\n\n<p>I can't figure out the error I'm having.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1569136469,"post_id":58046931,"comment_id":102493005,"body_markdown":"try to change `@PathVariable(&quot;id&quot;)`","body":"try to change <code>@PathVariable(&quot;id&quot;)</code>"},{"owner":{"account_id":7220789,"reputation":730,"user_id":5511391,"accept_rate":65,"display_name":"Bye"},"score":0,"creation_date":1569136561,"post_id":58046931,"comment_id":102493021,"body_markdown":"@michalk thanks, but this does work","body":"@michalk thanks, but this does work"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1569147080,"post_id":58046931,"comment_id":102495029,"body_markdown":"@Marco make sure you are making a PUT request with endpoint, can you share the image of postman request?","body":"@Marco make sure you are making a PUT request with endpoint, can you share the image of postman request?"},{"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"score":0,"creation_date":1569167399,"post_id":58046931,"comment_id":102499844,"body_markdown":"Please add your complete Controller class","body":"Please add your complete Controller class"},{"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"score":0,"creation_date":1662456048,"post_id":58046931,"comment_id":130003700,"body_markdown":"Check with GetMapping to know if the problem is with method PUT or with wrong URL. It may be also permission from spring security, sometime URL accepts localhost without http or 127.0.0.1 ....","body":"Check with GetMapping to know if the problem is with method PUT or with wrong URL. It may be also permission from spring security, sometime URL accepts localhost without http or 127.0.0.1 ...."}],"answers":[{"tags":[],"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569153245,"creation_date":1569138943,"answer_id":58047184,"question_id":58046931,"body_markdown":"In here  can solve this by defining an explicit mapping for PUT, in the existing method mapping\r\n\r\nTry this one\r\n```\r\n  //@PutMapping(&quot;/sample/{id}&quot;)\r\n```\r\n```\r\n@RequestMapping(value = &quot;/sample/{id}&quot;, produces = &quot;application/json&quot;,  method=RequestMethod.PUT)\r\n```\r\n\r\n\r\n```\r\n  @RequestMapping(value = &quot;/sample/{id}&quot;, produces = &quot;application/json&quot;,  method=RequestMethod.PUT)\r\n    public Sample update(@PathVariable(&quot;id&quot;) String id, @RequestBody Sample s){\r\n        s.setId(id);\r\n        return sampleService.update(s);\r\n    }\r\n```","title":"Springboot @PutMapping 405 error from postman","body":"<p>In here  can solve this by defining an explicit mapping for PUT, in the existing method mapping</p>\n\n<p>Try this one</p>\n\n<pre><code>  //@PutMapping(\"/sample/{id}\")\n</code></pre>\n\n<pre><code>@RequestMapping(value = \"/sample/{id}\", produces = \"application/json\",  method=RequestMethod.PUT)\n</code></pre>\n\n<pre><code>  @RequestMapping(value = \"/sample/{id}\", produces = \"application/json\",  method=RequestMethod.PUT)\n    public Sample update(@PathVariable(\"id\") String id, @RequestBody Sample s){\n        s.setId(id);\n        return sampleService.update(s);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25900338,"reputation":1,"user_id":19626325,"display_name":"Saibanna Biradar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662964809,"creation_date":1662455756,"answer_id":73619534,"question_id":58046931,"body_markdown":"In my case the url was not part of `permitAll()` once added it worked fine, can you check your `@EnableWebSecurity` config for below method\r\n\r\n      @Bean\r\n      SecurityFilterChain filterChain(HttpSecurity http)","title":"Springboot @PutMapping 405 error from postman","body":"<p>In my case the url was not part of <code>permitAll()</code> once added it worked fine, can you check your <code>@EnableWebSecurity</code> config for below method</p>\n<pre><code>  @Bean\n  SecurityFilterChain filterChain(HttpSecurity http)\n</code></pre>\n"}],"owner":{"account_id":7220789,"reputation":730,"user_id":5511391,"accept_rate":65,"display_name":"Bye"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662964809,"creation_date":1569136300,"question_id":58046931,"body_markdown":"Springboot version 2.1.8.RELEASE   &lt;br&gt; \r\n\r\n&gt; controller\r\n\r\n        @PutMapping(&quot;/sample/{id}&quot;)\r\n        public Sample update(@PathVariable String id, @RequestBody Sample s){\r\n            s.setId(id);\r\n            return sampleService.update(s);\r\n        }\r\n\r\n&gt; postman\r\n\r\nPUT    http://localhost:8080/sample/sspa01\r\n\r\nreturn \r\n\r\n    {\r\n        &quot;status&quot;: 405,\r\n        &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n        &quot;message&quot;: &quot;Request method &#39;PUT&#39; not supported&quot;,\r\n        &quot;path&quot;: &quot;/sample/sspa01&quot;\r\n    }\r\n\r\nThanks to let me know how to fix this problem","title":"Springboot @PutMapping 405 error from postman","body":"<p>Springboot version 2.1.8.RELEASE   <br> </p>\n\n<blockquote>\n  <p>controller</p>\n</blockquote>\n\n<pre><code>    @PutMapping(\"/sample/{id}\")\n    public Sample update(@PathVariable String id, @RequestBody Sample s){\n        s.setId(id);\n        return sampleService.update(s);\n    }\n</code></pre>\n\n<blockquote>\n  <p>postman</p>\n</blockquote>\n\n<p>PUT    <a href=\"http://localhost:8080/sample/sspa01\" rel=\"nofollow noreferrer\">http://localhost:8080/sample/sspa01</a></p>\n\n<p>return </p>\n\n<pre><code>{\n    \"status\": 405,\n    \"error\": \"Method Not Allowed\",\n    \"message\": \"Request method 'PUT' not supported\",\n    \"path\": \"/sample/sspa01\"\n}\n</code></pre>\n\n<p>Thanks to let me know how to fix this problem</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662964678,"creation_date":1660815179,"answer_id":73400641,"question_id":73400303,"body_markdown":"So, the direct answer to you question is to have unique identifier for each record in your table. Unique id from external API will be a perfect match. If you don&#39;t have one - you can calculate it manually. \r\nConsider an example:\r\n\r\n    @Entity @Table\r\n    public class Person {\r\n        private String fieldOne;\r\n        private String fieldTwo;\r\n        @Column(unique=true)\r\n        private String uniqueId;\r\n        \r\n        //in case you have to generate uniqueId manually\r\n        public static Person fromExternalApi(String fieldOne, String fieldTwo) {\r\n            Person person = new Person();\r\n            person.fieldOne = fieldOne;\r\n            person.fieldTwo = fieldTwo;\r\n            person.uniqueId = fieldOne + fieldTwo;\r\n        }\r\n    }\r\n\r\nThen you will have unique index on DB side based on `uniqueId` field, and DB prevent you from duplicates.\r\n\r\n\r\nImportant - you can&#39;t use\r\n    \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nbecause it will generate new id each time you save object to DB. In you case you can save same object multiple times from different instances.\r\n\r\n\r\n**But in you case I would suggest another solution.** The idea is to run scheduled task only once. And this is already answered [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49533543/spring-and-scheduled-tasks-on-multiple-instances","title":"How to maintain unique records in DB table with multiple instances of SpringBoot application","body":"<p>So, the direct answer to you question is to have unique identifier for each record in your table. Unique id from external API will be a perfect match. If you don't have one - you can calculate it manually.\nConsider an example:</p>\n<pre><code>@Entity @Table\npublic class Person {\n    private String fieldOne;\n    private String fieldTwo;\n    @Column(unique=true)\n    private String uniqueId;\n    \n    //in case you have to generate uniqueId manually\n    public static Person fromExternalApi(String fieldOne, String fieldTwo) {\n        Person person = new Person();\n        person.fieldOne = fieldOne;\n        person.fieldTwo = fieldTwo;\n        person.uniqueId = fieldOne + fieldTwo;\n    }\n}\n</code></pre>\n<p>Then you will have unique index on DB side based on <code>uniqueId</code> field, and DB prevent you from duplicates.</p>\n<p>Important - you can't use</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n<p>because it will generate new id each time you save object to DB. In you case you can save same object multiple times from different instances.</p>\n<p><strong>But in you case I would suggest another solution.</strong> The idea is to run scheduled task only once. And this is already answered <a href=\"https://stackoverflow.com/questions/49533543/spring-and-scheduled-tasks-on-multiple-instances\">here</a></p>\n"}],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662964678,"creation_date":1660813670,"question_id":73400303,"body_markdown":"I have a scheduler which polls data in every 4 hours and inserts into table based upon certain logic.\r\nI have also used `@Transactional` annotation and also I am checking every time whether data already exists in the table or not. \r\nIf the record does not exist, it will insert. When I am multiple instances of SpringBoot application, each instance runs the scheduler and some data not all get duplicated.\r\nIt means I found that table contains duplicate record. The table where I am inserting is an existing table of the application and few columns have not been defined with unique\r\nconstraints. Please suggest me how I can maintain unique records in the database table even if scheduler runs from multiple instances. I am using **Postgresql** and **SpringBoot**.","title":"How to maintain unique records in DB table with multiple instances of SpringBoot application","body":"<p>I have a scheduler which polls data in every 4 hours and inserts into table based upon certain logic.\nI have also used <code>@Transactional</code> annotation and also I am checking every time whether data already exists in the table or not.\nIf the record does not exist, it will insert. When I am multiple instances of SpringBoot application, each instance runs the scheduler and some data not all get duplicated.\nIt means I found that table contains duplicate record. The table where I am inserting is an existing table of the application and few columns have not been defined with unique\nconstraints. Please suggest me how I can maintain unique records in the database table even if scheduler runs from multiple instances. I am using <strong>Postgresql</strong> and <strong>SpringBoot</strong>.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"score":0,"creation_date":1662730803,"post_id":73661928,"comment_id":130080316,"body_markdown":"please share your pom.xml file. Did you specify the version of the library?","body":"please share your pom.xml file. Did you specify the version of the library?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":1,"creation_date":1662731084,"post_id":73661928,"comment_id":130080417,"body_markdown":"Hi @David I added the pom to the post.","body":"Hi @David I added the pom to the post."},{"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"score":1,"creation_date":1662731409,"post_id":73661928,"comment_id":130080568,"body_markdown":"please try specifying the version of the not found libraries. Also try ``mvn -U clean install``","body":"please try specifying the version of the not found libraries. Also try <code>mvn -U clean install</code>"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1662733946,"post_id":73661928,"comment_id":130081549,"body_markdown":"I had a coworker update to 2.7.0 without any issue and after I deleted my m2 folder and pulled changes, I could rebuild! I will keep in mind to check versions and add them. But should/would not Spring resolve the versions for the plugin for me?","body":"I had a coworker update to 2.7.0 without any issue and after I deleted my m2 folder and pulled changes, I could rebuild! I will keep in mind to check versions and add them. But should/would not Spring resolve the versions for the plugin for me?"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1662741487,"post_id":73661928,"comment_id":130084061,"body_markdown":"If your local artifact repository got corrupted somehow, you can see broken dependency resolution. Adding `-U` as David suggested, or removing the repo and starting fresh as you did, is a great first step to troubleshooting. Especially if it works properly for a teammate.","body":"If your local artifact repository got corrupted somehow, you can see broken dependency resolution. Adding <code>-U</code> as David suggested, or removing the repo and starting fresh as you did, is a great first step to troubleshooting. Especially if it works properly for a teammate."},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1662963835,"post_id":73661928,"comment_id":130118738,"body_markdown":"Ok, I will google the -U addition, thanks for your support @David and user944849","body":"Ok, I will google the -U addition, thanks for your support @David and user944849"}],"answers":[{"tags":[],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662964210,"creation_date":1662964210,"answer_id":73685264,"question_id":73661928,"body_markdown":"I had a coworker update to 2.7.0 without any issue and after I deleted my m2 folder and pulled changes, I could rebuild! I will keep in mind to check versions and add them. \r\n\r\nAs @David mvn -U clean install, I checked it out:\r\n-U,--update-snapshots\r\n       Forces a check for updated releases and snapshots on remote repositories\r\nProbably will try this next time since my coworker had already updated before I read the comment. Thanks!\r\n","title":"Can&#39;t update Spring boot to version 2.7.0, maven can&#39;t find it","body":"<p>I had a coworker update to 2.7.0 without any issue and after I deleted my m2 folder and pulled changes, I could rebuild! I will keep in mind to check versions and add them.</p>\n<p>As @David mvn -U clean install, I checked it out:\n-U,--update-snapshots\nForces a check for updated releases and snapshots on remote repositories\nProbably will try this next time since my coworker had already updated before I read the comment. Thanks!</p>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73685264,"answer_count":1,"score":0,"last_activity_date":1662964210,"creation_date":1662725375,"question_id":73661928,"body_markdown":"As topic describes, I can&#39;t update Spring boot from version 2.6.6 to 2.7.0. It will not find 2.7.0 and I get stuck with a broken pom.xml and that breaks the project as well.\r\n\r\nI have also tried with 2.7.3 without success. Seems like I just can&#39;t find any of the 2.7.x versions of spring.\r\n\r\nAny advise? \r\n``` \r\nProject &#39;org.springframework.boot:spring-boot-starter-parent:2.7.0&#39; not found\r\nDependency &#39;com.h2database:h2:&#39; not found\r\nPlugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n\r\n```\r\n\r\nHere&#39;s the pom.xml as requested:\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;something&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;something else&lt;/name&gt;\r\n    &lt;description&gt;some info&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;azure.version&gt;3.13.1&lt;/azure.version&gt;\r\n        &lt;azure-identity.version&gt;1.5.0&lt;/azure-identity.version&gt;\r\n        &lt;spring-cloud-azure-starter-keyvault-secrets.version&gt;4.0.0&lt;/spring-cloud-azure-starter-keyvault-secrets.version&gt;\r\n        &lt;jackson.version&gt;2.12.1&lt;/jackson.version&gt;\r\n        &lt;azure-core-serializer-json-jackson.version&gt;1.2.15&lt;/azure-core-serializer-json-jackson.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-core-serializer-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${azure-core-serializer-json-jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-azure-starter-keyvault-secrets&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud-azure-starter-keyvault-secrets.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n            &lt;version&gt;${azure-identity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-spring-boot-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${azure.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\t\r\n\t\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;schemaVersion&gt;V2&lt;/schemaVersion&gt;\r\n                    &lt;subscriptionId&gt;xxx&lt;/subscriptionId&gt;\r\n                    &lt;resourceGroup&gt;xxxx&lt;/resourceGroup&gt;\r\n                    &lt;appName&gt;xxx&lt;/appName&gt;\r\n                    &lt;pricingTier&gt;P1v2&lt;/pricingTier&gt;\r\n                    &lt;region&gt;West Europe&lt;/region&gt;\r\n                    &lt;runtime&gt;\r\n                        &lt;os&gt;linux&lt;/os&gt;\r\n                        &lt;javaVersion&gt;java 11&lt;/javaVersion&gt;\r\n                        &lt;webContainer&gt;Java SE&lt;/webContainer&gt;\r\n                    &lt;/runtime&gt;\r\n                    &lt;!-- start of APP_SETTINGS --&gt;\r\n                    &lt;appSettings&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;JAVA_OPTS&lt;/name&gt;\r\n                            &lt;value&gt;-Dserver.port=80&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/appSettings&gt;\r\n                    &lt;!-- end of APP_SETTINGS --&gt;\r\n                    &lt;deployment&gt;\r\n                        &lt;resources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;*.jar&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/resource&gt;\r\n                        &lt;/resources&gt;\r\n                    &lt;/deployment&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nIs there any issue with the pom.xml?\r\n","title":"Can&#39;t update Spring boot to version 2.7.0, maven can&#39;t find it","body":"<p>As topic describes, I can't update Spring boot from version 2.6.6 to 2.7.0. It will not find 2.7.0 and I get stuck with a broken pom.xml and that breaks the project as well.</p>\n<p>I have also tried with 2.7.3 without success. Seems like I just can't find any of the 2.7.x versions of spring.</p>\n<p>Any advise?</p>\n<pre><code>Project 'org.springframework.boot:spring-boot-starter-parent:2.7.0' not found\nDependency 'com.h2database:h2:' not found\nPlugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n\n</code></pre>\n<p>Here's the pom.xml as requested:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;something&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;something else&lt;/name&gt;\n    &lt;description&gt;some info&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;azure.version&gt;3.13.1&lt;/azure.version&gt;\n        &lt;azure-identity.version&gt;1.5.0&lt;/azure-identity.version&gt;\n        &lt;spring-cloud-azure-starter-keyvault-secrets.version&gt;4.0.0&lt;/spring-cloud-azure-starter-keyvault-secrets.version&gt;\n        &lt;jackson.version&gt;2.12.1&lt;/jackson.version&gt;\n        &lt;azure-core-serializer-json-jackson.version&gt;1.2.15&lt;/azure-core-serializer-json-jackson.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core-serializer-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${azure-core-serializer-json-jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-keyvault-secrets&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-azure-starter-keyvault-secrets.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;${azure-identity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-spring-boot-bom&lt;/artifactId&gt;\n                &lt;version&gt;${azure.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    \n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;schemaVersion&gt;V2&lt;/schemaVersion&gt;\n                    &lt;subscriptionId&gt;xxx&lt;/subscriptionId&gt;\n                    &lt;resourceGroup&gt;xxxx&lt;/resourceGroup&gt;\n                    &lt;appName&gt;xxx&lt;/appName&gt;\n                    &lt;pricingTier&gt;P1v2&lt;/pricingTier&gt;\n                    &lt;region&gt;West Europe&lt;/region&gt;\n                    &lt;runtime&gt;\n                        &lt;os&gt;linux&lt;/os&gt;\n                        &lt;javaVersion&gt;java 11&lt;/javaVersion&gt;\n                        &lt;webContainer&gt;Java SE&lt;/webContainer&gt;\n                    &lt;/runtime&gt;\n                    &lt;!-- start of APP_SETTINGS --&gt;\n                    &lt;appSettings&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;JAVA_OPTS&lt;/name&gt;\n                            &lt;value&gt;-Dserver.port=80&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/appSettings&gt;\n                    &lt;!-- end of APP_SETTINGS --&gt;\n                    &lt;deployment&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*.jar&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/deployment&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Is there any issue with the pom.xml?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1662656248,"post_id":73643262,"comment_id":130062079,"body_markdown":"Your use of `println()` doesn&#39;t show you what you maybe think it shows. Printing `c` _before_ the `c++` operation does not necessarily tell you what value was fetched _by_ the `c++` operation: The other thread could have changed `c` in between the print, and the ++. Likewise, Printing `c` _after_ the `c++` operation is not guaranteed to tell you what value was stored _by_ the `c++`. Same reason: The other thread could have changed it.","body":"Your use of <code>println()</code> doesn&#39;t show you what you maybe think it shows. Printing <code>c</code> <i>before</i> the <code>c++</code> operation does not necessarily tell you what value was fetched <i>by</i> the <code>c++</code> operation: The other thread could have changed <code>c</code> in between the print, and the ++. Likewise, Printing <code>c</code> <i>after</i> the <code>c++</code> operation is not guaranteed to tell you what value was stored <i>by</i> the <code>c++</code>. Same reason: The other thread could have changed it."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662605651,"creation_date":1662605651,"answer_id":73643297,"question_id":73643262,"body_markdown":"The line `c++;` actually does three things, one after the other.  \r\n\r\n1. It reads the value of `c`.\r\n2. It increments what it saw.\r\n3. It saves the new value back into `c`.  \r\n\r\nThe operations is not atomic, which means there&#39;s no guarantee that `c` won&#39;t change independently while it&#39;s doing that.  Likewise for `c--;`.\r\n\r\nSo while you&#39;ve got two threads doing similar things to the same variable `c`, it&#39;s very likely that one of them is going to change `c` while the other is doing its work.  And that seems to be what you&#39;re seeing.\r\n\r\nIn fact, by printing `c` in both threads, you&#39;re increasing the likelihood that one of the threads will change the value of `c` between the times when the other thread prints its two messages.","title":"understand thread interference (Java)","body":"<p>The line <code>c++;</code> actually does three things, one after the other.</p>\n<ol>\n<li>It reads the value of <code>c</code>.</li>\n<li>It increments what it saw.</li>\n<li>It saves the new value back into <code>c</code>.</li>\n</ol>\n<p>The operations is not atomic, which means there's no guarantee that <code>c</code> won't change independently while it's doing that.  Likewise for <code>c--;</code>.</p>\n<p>So while you've got two threads doing similar things to the same variable <code>c</code>, it's very likely that one of them is going to change <code>c</code> while the other is doing its work.  And that seems to be what you're seeing.</p>\n<p>In fact, by printing <code>c</code> in both threads, you're increasing the likelihood that one of the threads will change the value of <code>c</code> between the times when the other thread prints its two messages.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662623668,"creation_date":1662619235,"answer_id":73644678,"question_id":73643262,"body_markdown":"The term &#39;interference&#39; has no official meaning. Your code is suffering from 2 problems\r\n\r\n 1. race condition: because the read and write aren&#39;t atomic, and therefore you can run into lost updates.\r\n\r\n 2. data race: because the access to the &#39;c&#39; variable isn&#39;t synchronized, there is no happens-before edge. To gain a deeper understanding, you need to dig into the Java Memory Model.\r\n\r\nBoth problems can easily be solved by making &#39;c&#39; an AtomicInteger and use the increment/decrement methods.","title":"understand thread interference (Java)","body":"<p>The term 'interference' has no official meaning. Your code is suffering from 2 problems</p>\n<ol>\n<li><p>race condition: because the read and write aren't atomic, and therefore you can run into lost updates.</p>\n</li>\n<li><p>data race: because the access to the 'c' variable isn't synchronized, there is no happens-before edge. To gain a deeper understanding, you need to dig into the Java Memory Model.</p>\n</li>\n</ol>\n<p>Both problems can easily be solved by making 'c' an AtomicInteger and use the increment/decrement methods.</p>\n"}],"owner":{"account_id":19794346,"reputation":33,"user_id":14496624,"display_name":"SB Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73643297,"answer_count":2,"score":1,"last_activity_date":1662963685,"creation_date":1662605284,"question_id":73643262,"body_markdown":"I&#39;m trying to understand what thread interference is. \r\nThis is an explanation about thread interference from Java official site.\r\n\r\n&gt; Thread A: Retrieve c.  \r\n&gt; Thread B: Retrieve c.  \r\n&gt; Thread A: Increment retrieved value; result is 1.  \r\n&gt; Thread B: Decrement retrieved value; result is -1.  \r\n&gt; Thread A: Store result in c; c is now 1.  \r\n&gt; Thread B: Store result in c; c is now -1.\r\n\r\nso I added codes to see c&#39;s changes. \r\n\r\nIn the picture(4th line), \r\nShouldn&#39;t **1th decrement:(Retrieve  C) 0** be -1? why it&#39;s 0?\r\n\r\nAlso, if you see this below result, 2th decrement:(Retrieve C) is -1.\r\n\r\nI think 2th decrement(Decreased C) should be -2, but it&#39;s still -1.\r\n\r\nI don&#39;t understand. Can someone explain my reslt?\r\n\r\n**2th decrement:(Retrieve  C) -1**\r\n\r\n**2th decrement(Decreased C) -1**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mkX9U.png\r\n\r\n    public class Counter {\r\n    private int c = 0;\r\n    public void increment(){\r\n        for(int i=0; i&lt;1000; i++){\r\n            System.out.println(i + &quot;th increment:(Retrieve  C) &quot; + c);\r\n            c++;\r\n            System.out.println(i + &quot;th increment:(Increased C) &quot; + c);\r\n        }\r\n    }\r\n    public void decrement(){\r\n        for(int i=0; i&lt;1000; i++){\r\n            System.out.println(i + &quot;th decrement:(Retrieve  C) &quot; + c);\r\n            c--;\r\n            System.out.println(i + &quot;th decrement(Decreased C) &quot; + c);\r\n        }\r\n    }\r\n    public int getC(){\r\n        return c;\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException{\r\n        Counter c = new Counter();\r\n        Thread t1 = new Thread(() -&gt; {\r\n            c.increment();\r\n        });\r\n        Thread t2 = new Thread(() -&gt; {\r\n            c.decrement();\r\n\r\n        });\r\n\r\n        t1.start();\r\n        t2.start();\r\n\r\n        t1.join();\r\n        t2.join();\r\n\r\n    }\r\n}","title":"understand thread interference (Java)","body":"<p>I'm trying to understand what thread interference is.\nThis is an explanation about thread interference from Java official site.</p>\n<blockquote>\n<p>Thread A: Retrieve c.<br />\nThread B: Retrieve c.<br />\nThread A: Increment retrieved value; result is 1.<br />\nThread B: Decrement retrieved value; result is -1.<br />\nThread A: Store result in c; c is now 1.<br />\nThread B: Store result in c; c is now -1.</p>\n</blockquote>\n<p>so I added codes to see c's changes.</p>\n<p>In the picture(4th line),\nShouldn't <strong>1th decrement:(Retrieve  C) 0</strong> be -1? why it's 0?</p>\n<p>Also, if you see this below result, 2th decrement:(Retrieve C) is -1.</p>\n<p>I think 2th decrement(Decreased C) should be -2, but it's still -1.</p>\n<p>I don't understand. Can someone explain my reslt?</p>\n<p><strong>2th decrement:(Retrieve  C) -1</strong></p>\n<p><strong>2th decrement(Decreased C) -1</strong></p>\n<p><a href=\"https://i.stack.imgur.com/mkX9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkX9U.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Counter {\nprivate int c = 0;\npublic void increment(){\n    for(int i=0; i&lt;1000; i++){\n        System.out.println(i + &quot;th increment:(Retrieve  C) &quot; + c);\n        c++;\n        System.out.println(i + &quot;th increment:(Increased C) &quot; + c);\n    }\n}\npublic void decrement(){\n    for(int i=0; i&lt;1000; i++){\n        System.out.println(i + &quot;th decrement:(Retrieve  C) &quot; + c);\n        c--;\n        System.out.println(i + &quot;th decrement(Decreased C) &quot; + c);\n    }\n}\npublic int getC(){\n    return c;\n}\n\npublic static void main(String[] args) throws InterruptedException{\n    Counter c = new Counter();\n    Thread t1 = new Thread(() -&gt; {\n        c.increment();\n    });\n    Thread t2 = new Thread(() -&gt; {\n        c.decrement();\n\n    });\n\n    t1.start();\n    t2.start();\n\n    t1.join();\n    t2.join();\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","graphql","javax.validation"],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661799338,"creation_date":1661799338,"answer_id":73533466,"question_id":73531886,"body_markdown":"You have to create advice for your rest controller with @RestControllerAdvice annotation this will catch your exceptions and then you can handle all exceptions in this advice. Here is the sample\r\n\r\n    @RestControllerAdvice\r\n    public class ProductExceptionHandler {\r\n\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n    public ResponseEntity&lt;ErrorMessage&gt; handleInvalidArgument(ConstraintViolationException ex, WebRequest webRequest) {\r\n        return generateErrorMessage(ex, webRequest);\r\n    }\r\n\r\n    private ResponseEntity&lt;ErrorMessage&gt; generateErrorMessage(Throwable ex, WebRequest request){\r\n        ErrorMessage errorMessage = new ErrorMessage.ErrorMessageBuilder()\r\n                .statusCode(HttpStatus.BAD_REQUEST.value())\r\n                .timeStamp(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;).format(LocalDateTime.now()))\r\n                .message(ex.getMessage())\r\n                .description(request.getDescription(false))\r\n                .build();\r\n        return new ResponseEntity&lt;&gt;(errorMessage, HttpStatus.BAD_REQUEST);\r\n    }\r\n}","title":"How to implement exception handler for javax.validation.ConstraintViolationException in Spring boot GraphQL?","body":"<p>You have to create advice for your rest controller with @RestControllerAdvice annotation this will catch your exceptions and then you can handle all exceptions in this advice. Here is the sample</p>\n<pre><code>@RestControllerAdvice\npublic class ProductExceptionHandler {\n\n@ExceptionHandler(ConstraintViolationException.class)\npublic ResponseEntity&lt;ErrorMessage&gt; handleInvalidArgument(ConstraintViolationException ex, WebRequest webRequest) {\n    return generateErrorMessage(ex, webRequest);\n}\n\nprivate ResponseEntity&lt;ErrorMessage&gt; generateErrorMessage(Throwable ex, WebRequest request){\n    ErrorMessage errorMessage = new ErrorMessage.ErrorMessageBuilder()\n            .statusCode(HttpStatus.BAD_REQUEST.value())\n            .timeStamp(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;).format(LocalDateTime.now()))\n            .message(ex.getMessage())\n            .description(request.getDescription(false))\n            .build();\n    return new ResponseEntity&lt;&gt;(errorMessage, HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662962805,"creation_date":1662962805,"answer_id":73685089,"question_id":73531886,"body_markdown":"Need to extend `DataFetcherExceptionResolverAdapter` and this class must be extended by your controller.\r\n\r\n    public class CustomExceptionResolver extends DataFetcherExceptionResolverAdapter {\r\n\r\n\tprotected Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\t\r\n\t@Override\r\n\tprotected GraphQLError resolveToSingleError(Throwable ex, DataFetchingEnvironment env) {\r\n\t\tThrowable t = NestedExceptionUtils.getMostSpecificCause(ex);\r\n\t\tlogger.debug(&quot;Custom Exception {}&quot;, t.getLocalizedMessage());\r\n\t\t// Spring &amp; custom validation error \r\n\t\tif (ex instanceof ConstraintViolationException constraintViolationException) {\r\n\t\t\tValidationErrorResponse error = new ValidationErrorResponse();\r\n\t\t\tfor (ConstraintViolation&lt;?&gt; violation : constraintViolationException.getConstraintViolations()) {\r\n\t\t\t\terror.getViolations().add(new Violation(violation.getPropertyPath().toString(), violation.getMessage()));\r\n\t\t\t}\r\n\t\t\treturn GraphqlErrorBuilder.newError(env)\r\n\t\t\t\t\t.errorType(ErrorType.ValidationError).message(error.getMessage()).build();\r\n\t\t} else {\r\n\t\t\t\treturn GraphqlErrorBuilder.newError(env)\r\n\t\t\t\t\t\t.errorType(AuctionErrorType.OperationNotSupported).message(illegalStateException.getLocalizedMessage()).build();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n    }","title":"How to implement exception handler for javax.validation.ConstraintViolationException in Spring boot GraphQL?","body":"<p>Need to extend <code>DataFetcherExceptionResolverAdapter</code> and this class must be extended by your controller.</p>\n<pre><code>public class CustomExceptionResolver extends DataFetcherExceptionResolverAdapter {\n\nprotected Logger logger = LoggerFactory.getLogger(this.getClass());\n\n@Override\nprotected GraphQLError resolveToSingleError(Throwable ex, DataFetchingEnvironment env) {\n    Throwable t = NestedExceptionUtils.getMostSpecificCause(ex);\n    logger.debug(&quot;Custom Exception {}&quot;, t.getLocalizedMessage());\n    // Spring &amp; custom validation error \n    if (ex instanceof ConstraintViolationException constraintViolationException) {\n        ValidationErrorResponse error = new ValidationErrorResponse();\n        for (ConstraintViolation&lt;?&gt; violation : constraintViolationException.getConstraintViolations()) {\n            error.getViolations().add(new Violation(violation.getPropertyPath().toString(), violation.getMessage()));\n        }\n        return GraphqlErrorBuilder.newError(env)\n                .errorType(ErrorType.ValidationError).message(error.getMessage()).build();\n    } else {\n            return GraphqlErrorBuilder.newError(env)\n                    .errorType(AuctionErrorType.OperationNotSupported).message(illegalStateException.getLocalizedMessage()).build();\n        }\n    }\n    \n    return null;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73685089,"answer_count":2,"score":1,"last_activity_date":1662962805,"creation_date":1661790762,"question_id":73531886,"body_markdown":"How to implement exception handler for `javax.validation.ConstraintViolationException` in Spring boot GraphQL?\r\n\r\nI am getting following response \r\n\r\n    {\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;message&quot;: &quot;INTERNAL_ERROR for a7027473-59c3-b9ad-1917-873f354a352d&quot;,\r\n            &quot;locations&quot;: [\r\n                {\r\n                    &quot;line&quot;: 2,\r\n                    &quot;column&quot;: 5\r\n                }\r\n            ],\r\n            &quot;path&quot;: [\r\n                &quot;createAuction&quot;\r\n            ],\r\n            &quot;extensions&quot;: {\r\n                &quot;classification&quot;: &quot;INTERNAL_ERROR&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;data&quot;: {\r\n        &quot;createAuction&quot;: null\r\n    }\r\n}\r\n\r\n\r\nand the following exception in the log\r\n\r\n    javax.validation.ConstraintViolationException: createAuction.auctionInput.startTime: Auction start date time must be greater than the current date time\r\n    \tat org.springframework.graphql.data.method.annotation.support.HandlerMethodInputValidator.validate(HandlerMethodInputValidator.java:80) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:189) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:122) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:514) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:74) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.execution.ReactorContextManager.invokeCallable(ReactorContextManager.java:104) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:73) ~[spring-graphql-1.0.1.jar:1.0.1]\r\n    \tat org.springframework.boot.actuate.metrics.graphql.GraphQlMetricsInstrumentation.lambda$instrumentDataFetcher$1(GraphQlMetricsInstrumentation.java:98) ~[spring-boot-actuator-2.7.2.jar:2.7.2]\r\n    \tat graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:87) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:279) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:210) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:182) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:43) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.Async.eachSequentiallyImpl(Async.java:80) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.Async.eachSequentially(Async.java:69) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:38) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.Execution.executeOperation(Execution.java:159) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.execution.Execution.execute(Execution.java:105) ~[graphql-java-18.2.jar:na]\r\n    \tat graphql.GraphQL.execute(GraphQL.java:641) ~[graphql-java-18.2.jar:na]","title":"How to implement exception handler for javax.validation.ConstraintViolationException in Spring boot GraphQL?","body":"<p>How to implement exception handler for <code>javax.validation.ConstraintViolationException</code> in Spring boot GraphQL?</p>\n<p>I am getting following response</p>\n<pre><code>{\n&quot;errors&quot;: [\n    {\n        &quot;message&quot;: &quot;INTERNAL_ERROR for a7027473-59c3-b9ad-1917-873f354a352d&quot;,\n        &quot;locations&quot;: [\n            {\n                &quot;line&quot;: 2,\n                &quot;column&quot;: 5\n            }\n        ],\n        &quot;path&quot;: [\n            &quot;createAuction&quot;\n        ],\n        &quot;extensions&quot;: {\n            &quot;classification&quot;: &quot;INTERNAL_ERROR&quot;\n        }\n    }\n],\n&quot;data&quot;: {\n    &quot;createAuction&quot;: null\n}\n</code></pre>\n<p>}</p>\n<p>and the following exception in the log</p>\n<pre><code>javax.validation.ConstraintViolationException: createAuction.auctionInput.startTime: Auction start date time must be greater than the current date time\n    at org.springframework.graphql.data.method.annotation.support.HandlerMethodInputValidator.validate(HandlerMethodInputValidator.java:80) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.validateAndInvoke(DataFetcherHandlerMethod.java:189) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:122) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:514) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:74) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.execution.ReactorContextManager.invokeCallable(ReactorContextManager.java:104) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:73) ~[spring-graphql-1.0.1.jar:1.0.1]\n    at org.springframework.boot.actuate.metrics.graphql.GraphQlMetricsInstrumentation.lambda$instrumentDataFetcher$1(GraphQlMetricsInstrumentation.java:98) ~[spring-boot-actuator-2.7.2.jar:2.7.2]\n    at graphql.execution.instrumentation.dataloader.DataLoaderDispatcherInstrumentation.lambda$instrumentDataFetcher$0(DataLoaderDispatcherInstrumentation.java:87) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:279) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:210) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.ExecutionStrategy.resolveField(ExecutionStrategy.java:182) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.AsyncSerialExecutionStrategy.lambda$execute$1(AsyncSerialExecutionStrategy.java:43) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.Async.eachSequentiallyImpl(Async.java:80) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.Async.eachSequentially(Async.java:69) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.AsyncSerialExecutionStrategy.execute(AsyncSerialExecutionStrategy.java:38) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.Execution.executeOperation(Execution.java:159) ~[graphql-java-18.2.jar:na]\n    at graphql.execution.Execution.execute(Execution.java:105) ~[graphql-java-18.2.jar:na]\n    at graphql.GraphQL.execute(GraphQL.java:641) ~[graphql-java-18.2.jar:na]\n</code></pre>\n"},{"tags":["java","java-8","stream","memory-address"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1662965727,"post_id":73685021,"comment_id":130119187,"body_markdown":"And ... it is NOT the address of the object.  It is the object&#39;s *identity hashcode*.","body":"And ... it is NOT the address of the object.  It is the object&#39;s <i>identity hashcode</i>."}],"answers":[{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1662962365,"creation_date":1662962365,"answer_id":73685031,"question_id":73685021,"body_markdown":"It probably isn&#39;t&amp;mdash;you have forgotten to override `toString()`.","title":"Why is it returning address instead of object?","body":"<p>It probably isn't—you have forgotten to override <code>toString()</code>.</p>\n"}],"owner":{"account_id":26259436,"reputation":31,"user_id":19931005,"display_name":"Pranjal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1662962364,"accepted_answer_id":73685031,"answer_count":1,"score":-1,"last_activity_date":1662962365,"creation_date":1662962247,"question_id":73685021,"body_markdown":"\r\n\r\n    Comparator&lt;Employee&gt; comparator =Comparator.comparing(Employee::getIncome);\r\n    Employee minObj= Employee.persons().stream()\r\n                           .min(comparator)\r\n                           .get();\r\n\r\n\r\nThis is returning me address instead of an object.\r\n\r\n    toMap.Employee@66133adc\r\nWhat is the problem and how to write it correctly?","title":"Why is it returning address instead of object?","body":"<pre><code>Comparator&lt;Employee&gt; comparator =Comparator.comparing(Employee::getIncome);\nEmployee minObj= Employee.persons().stream()\n                       .min(comparator)\n                       .get();\n</code></pre>\n<p>This is returning me address instead of an object.</p>\n<pre><code>toMap.Employee@66133adc\n</code></pre>\n<p>What is the problem and how to write it correctly?</p>\n"},{"tags":["java","drag-and-drop","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662962090,"creation_date":1662724270,"answer_id":73661729,"question_id":73443124,"body_markdown":"Quick fix for this is to setActive to false and again to true after each UI attach \r\n\r\n    public interface DropTargetEx&lt;T extends Component&gt; extends DropTarget&lt;T&gt;{\r\n    \r\n    \t@Override\r\n    \tdefault void setActive(boolean active) {\r\n    \t\tDropTarget.super.setActive(active);\r\n    \t\tif(active)\r\n    \t\t\tgetElement().addAttachListener( evt -&gt;{\r\n    \t\t\t\tif(isActive()) {\r\n    \t\t\t\t\tDropTarget.super.setActive(false);\r\n    \t\t\t\t\tDropTarget.super.setActive(true);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t}\r\n    }","title":"Drop dont work after refresh after 14.4.5","body":"<p>Quick fix for this is to setActive to false and again to true after each UI attach</p>\n<pre><code>public interface DropTargetEx&lt;T extends Component&gt; extends DropTarget&lt;T&gt;{\n\n    @Override\n    default void setActive(boolean active) {\n        DropTarget.super.setActive(active);\n        if(active)\n            getElement().addAttachListener( evt -&gt;{\n                if(isActive()) {\n                    DropTarget.super.setActive(false);\n                    DropTarget.super.setActive(true);\n                }\n            });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73661729,"answer_count":1,"score":0,"last_activity_date":1662962090,"creation_date":1661161619,"question_id":73443124,"body_markdown":"after updating Vaadin from 14.4.4 to any newer version then all my drag&amp;drop components stopped working properly. It is working fine until i refresh browser, then my drag action work but it seems to delete every droptarget ( drop icon is not showing up and drop listeners are never fired). When i change again to version 14.4.4 then drag&amp;drop start working again. [video example][1]\r\n\r\n        @Route(value = &quot;test1&quot;)\r\n    @PreserveOnRefresh\r\n    @UIScope\r\n    public class testMainpanel2 extends Div {\r\n    \tprivate static final long serialVersionUID = -4708440555341615506L;\r\n    \tprivate List&lt;DragSource&lt;Button&gt;&gt; visCard = new ArrayList&lt;DragSource&lt;Button&gt;&gt;();\r\n    \tpublic testMainpanel2() {\t\r\n    \t\tButton card1 = new Button(&quot;card1&quot;);\r\n    \t\tButton card2 = new Button(&quot;card2&quot;);\t\t\r\n    \t\taddDragDrop(card1);\r\n    \t\taddDragDrop(card2);\r\n    \t\tadd(card1, card2);\r\n    \t}\r\n    \tprivate void addDragDrop(Button comp) {\r\n    \t\tDragSource&lt;Button&gt; dragSource = DragSource.create(comp);\r\n    \t\tdragSource.setDragData(comp);\r\n    \r\n    \t\tvisCard.add(dragSource);\r\n    \t\tdragSource.addDragStartListener( event -&gt; getVisibleCards().forEach(target -&gt; {\r\n    \t    \tButton targetCard = (Button) target.getDragData();\r\n    \t        if (!dragSource.getDragData().equals(targetCard)) {\r\n    \t        \ttargetCard.getElement().getStyle().set(&quot;background-color&quot;, &quot;red&quot;);\r\n    \t        }\r\n    \t    }));\r\n    \t\tdragSource.addDragEndListener(event -&gt; {\r\n    \t\t    getVisibleCards().forEach(target -&gt; ((Button) target.getDragData()).getElement().getStyle().set(&quot;background-color&quot;, &quot;white&quot;));\r\n    \t\t});\r\n    \t\tDropTarget&lt;Button&gt; dropTarget = DropTarget.create(comp);\r\n    \r\n    \t\tdropTarget.addDropListener(event -&gt; {\r\n    \t\t    System.out.println(&quot;Dropped target:&quot; + event.getDragData());\r\n    \t\t});\t\t\r\n    \t}\r\n    \tprivate List&lt;DragSource&lt;Button&gt;&gt; getVisibleCards() {\r\n    \t\treturn visCard;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://user-images.githubusercontent.com/26695757/185348324-a66749fc-8515-41a3-83e9-40ef5b1b370a.mp4","title":"Drop dont work after refresh after 14.4.5","body":"<p>after updating Vaadin from 14.4.4 to any newer version then all my drag&amp;drop components stopped working properly. It is working fine until i refresh browser, then my drag action work but it seems to delete every droptarget ( drop icon is not showing up and drop listeners are never fired). When i change again to version 14.4.4 then drag&amp;drop start working again. <a href=\"https://user-images.githubusercontent.com/26695757/185348324-a66749fc-8515-41a3-83e9-40ef5b1b370a.mp4\" rel=\"nofollow noreferrer\">video example</a></p>\n<pre><code>    @Route(value = &quot;test1&quot;)\n@PreserveOnRefresh\n@UIScope\npublic class testMainpanel2 extends Div {\n    private static final long serialVersionUID = -4708440555341615506L;\n    private List&lt;DragSource&lt;Button&gt;&gt; visCard = new ArrayList&lt;DragSource&lt;Button&gt;&gt;();\n    public testMainpanel2() {   \n        Button card1 = new Button(&quot;card1&quot;);\n        Button card2 = new Button(&quot;card2&quot;);     \n        addDragDrop(card1);\n        addDragDrop(card2);\n        add(card1, card2);\n    }\n    private void addDragDrop(Button comp) {\n        DragSource&lt;Button&gt; dragSource = DragSource.create(comp);\n        dragSource.setDragData(comp);\n\n        visCard.add(dragSource);\n        dragSource.addDragStartListener( event -&gt; getVisibleCards().forEach(target -&gt; {\n            Button targetCard = (Button) target.getDragData();\n            if (!dragSource.getDragData().equals(targetCard)) {\n                targetCard.getElement().getStyle().set(&quot;background-color&quot;, &quot;red&quot;);\n            }\n        }));\n        dragSource.addDragEndListener(event -&gt; {\n            getVisibleCards().forEach(target -&gt; ((Button) target.getDragData()).getElement().getStyle().set(&quot;background-color&quot;, &quot;white&quot;));\n        });\n        DropTarget&lt;Button&gt; dropTarget = DropTarget.create(comp);\n\n        dropTarget.addDropListener(event -&gt; {\n            System.out.println(&quot;Dropped target:&quot; + event.getDragData());\n        });     \n    }\n    private List&lt;DragSource&lt;Button&gt;&gt; getVisibleCards() {\n        return visCard;\n    }\n}\n</code></pre>\n"},{"tags":["java","list","collections","java-stream","guava"],"comments":[{"owner":{"account_id":129766,"reputation":4572,"user_id":328558,"accept_rate":81,"display_name":"javatar"},"score":0,"creation_date":1339399387,"post_id":10975913,"comment_id":14334368,"body_markdown":"Hey, I found it just now: http://stackoverflow.com/questions/737244/java-map-a-list-of-objects-to-a-list-with-values-of-their-property-attributes","body":"Hey, I found it just now: <a href=\"http://stackoverflow.com/questions/737244/java-map-a-list-of-objects-to-a-list-with-values-of-their-property-attributes\" title=\"java map a list of objects to a list with values of their property attributes\">stackoverflow.com/questions/737244/&hellip;</a>"},{"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"score":0,"creation_date":1339399581,"post_id":10975913,"comment_id":14334433,"body_markdown":"Jon&#39;s answer is pretty cool but if you look at it, it also uses a loop. Any any solution will use a loop - although it might not be visible to you, but internally it will","body":"Jon&#39;s answer is pretty cool but if you look at it, it also uses a loop. Any any solution will use a loop - although it might not be visible to you, but internally it will"},{"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"score":0,"creation_date":1339399816,"post_id":10975913,"comment_id":14334508,"body_markdown":"someone has to apply loop to get it done. either you or some lib that you may use.","body":"someone has to apply loop to get it done. either you or some lib that you may use."},{"owner":{"account_id":129766,"reputation":4572,"user_id":328558,"accept_rate":81,"display_name":"javatar"},"score":0,"creation_date":1339400361,"post_id":10975913,"comment_id":14334689,"body_markdown":"Actually jon&#39;s answer does not fit my situation in that i do not wanna use for loop. I think there is a more convenient way over somewhere but waitin for me to find it:)","body":"Actually jon&#39;s answer does not fit my situation in that i do not wanna use for loop. I think there is a more convenient way over somewhere but waitin for me to find it:)"}],"answers":[{"tags":[],"owner":{"account_id":306710,"reputation":7852,"user_id":617612,"accept_rate":83,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1339417124,"creation_date":1339400222,"answer_id":10976080,"question_id":10975913,"body_markdown":"With Guava you can use Function like - \r\n\r\n \r\n\r\n    private enum StudentToId implements Function&lt;Student, Integer&gt; {\r\n            INSTANCE;\r\n    \r\n            @Override\r\n            public Integer apply(Student input) {\r\n                return input.getId();\r\n            }\r\n        }\r\n\r\nand you can use this function to convert List of students to ids like - \r\n\r\n    Lists.transform(studentList, StudentToId.INSTANCE);\r\n\r\nSurely it will loop in order to extract all ids, but remember guava methods returns view and Function will only be applied when you try to iterate over the `List&lt;Integer&gt;` &lt;br/&gt; \r\nIf you don&#39;t iterate, it will never apply the loop. \r\n&lt;br/&gt;&lt;br/&gt;\r\n*Note: Remember this is the view and if you want to iterate multiple times it will be better to copy the content in some other `List&lt;Integer&gt;` like* \r\n\r\n    ImmutableList.copyOf(Iterables.transform(students, StudentToId.INSTANCE));","title":"How to make a new list with a property of an object which is in another list","body":"<p>With Guava you can use Function like - </p>\n\n<pre><code>private enum StudentToId implements Function&lt;Student, Integer&gt; {\n        INSTANCE;\n\n        @Override\n        public Integer apply(Student input) {\n            return input.getId();\n        }\n    }\n</code></pre>\n\n<p>and you can use this function to convert List of students to ids like - </p>\n\n<pre><code>Lists.transform(studentList, StudentToId.INSTANCE);\n</code></pre>\n\n<p>Surely it will loop in order to extract all ids, but remember guava methods returns view and Function will only be applied when you try to iterate over the <code>List&lt;Integer&gt;</code> <br/> \nIf you don't iterate, it will never apply the loop. \n<br/><br/>\n<em>Note: Remember this is the view and if you want to iterate multiple times it will be better to copy the content in some other <code>List&lt;Integer&gt;</code> like</em> </p>\n\n<pre><code>ImmutableList.copyOf(Iterables.transform(students, StudentToId.INSTANCE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129766,"reputation":4572,"user_id":328558,"accept_rate":81,"display_name":"javatar"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1339433133,"creation_date":1339433133,"answer_id":10984251,"question_id":10975913,"body_markdown":"Thanks to **Premraj** for the alternative cool option, upvoted.\r\n\r\nI have used apache CollectionUtils and BeanUtils. Accordingly, I am satisfied with performance of the following code:\r\n\r\n\tList&lt;Long&gt; idList = (List&lt;Long&gt;) CollectionUtils.collect(objectList, \r\n                                        new BeanToPropertyValueTransformer(&quot;id&quot;));\r\n\r\nIt is worth mentioning that, I will compare the performance of guava (**Premraj** provided) and collectionUtils I used above, and decide the faster one.","title":"How to make a new list with a property of an object which is in another list","body":"<p>Thanks to <strong>Premraj</strong> for the alternative cool option, upvoted.</p>\n\n<p>I have used apache CollectionUtils and BeanUtils. Accordingly, I am satisfied with performance of the following code:</p>\n\n<pre><code>List&lt;Long&gt; idList = (List&lt;Long&gt;) CollectionUtils.collect(objectList, \n                                    new BeanToPropertyValueTransformer(\"id\"));\n</code></pre>\n\n<p>It is worth mentioning that, I will compare the performance of guava (<strong>Premraj</strong> provided) and collectionUtils I used above, and decide the faster one.</p>\n"},{"tags":[],"owner":{"account_id":3404953,"reputation":101,"user_id":2856264,"display_name":"Jonathan Perrotta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428980156,"creation_date":1428980156,"answer_id":29618396,"question_id":10975913,"body_markdown":"If someone get here after a few years:\r\n\r\n    List&lt;String&gt; stringProperty = (List&lt;String&gt;) CollectionUtils.collect(listOfBeans, TransformerUtils.invokerTransformer(&quot;getProperty&quot;));\r\n\r\n","title":"How to make a new list with a property of an object which is in another list","body":"<p>If someone get here after a few years:</p>\n\n<pre><code>List&lt;String&gt; stringProperty = (List&lt;String&gt;) CollectionUtils.collect(listOfBeans, TransformerUtils.invokerTransformer(\"getProperty\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2791934,"reputation":3371,"user_id":2402015,"accept_rate":85,"display_name":"Kaushik"},"down_vote_count":0,"up_vote_count":209,"is_accepted":true,"score":209,"last_activity_date":1431111242,"creation_date":1431109270,"answer_id":30130428,"question_id":10975913,"body_markdown":"Java 8 way of doing it:-\r\n\r\n    List&lt;Integer&gt; idList = students.stream().map(Student::getId).collect(Collectors.toList());","title":"How to make a new list with a property of an object which is in another list","body":"<p>Java 8 way of doing it:-</p>\n\n<pre><code>List&lt;Integer&gt; idList = students.stream().map(Student::getId).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2735009,"reputation":4764,"user_id":2357869,"accept_rate":33,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1499084450,"creation_date":1490173445,"answer_id":42946936,"question_id":10975913,"body_markdown":"Java 8 lambda expression solution:\r\n\r\n\r\n    List&lt;Integer&gt; iDList = students.stream().map((student) -&gt; student.getId()).collect(Collectors.toList());\r\n\r\n","title":"How to make a new list with a property of an object which is in another list","body":"<p>Java 8 lambda expression solution:</p>\n\n<pre><code>List&lt;Integer&gt; iDList = students.stream().map((student) -&gt; student.getId()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620163888,"creation_date":1620163888,"answer_id":67392478,"question_id":10975913,"body_markdown":"You can use [Eclipse Collections][1] for this purpose\r\n\r\n```\r\nStudent first = new Student(1);\r\nStudent second = new Student(2);\r\nStudent third = new Student(3);\r\n\r\nMutableList&lt;Student&gt; list = Lists.mutable.of(first, second, third);\r\nList&lt;Integer&gt; result = list.collect(Student::getId);\r\n\r\nSystem.out.println(result); // [1, 2, 3]\r\n```\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/","title":"How to make a new list with a property of an object which is in another list","body":"<p>You can use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> for this purpose</p>\n<pre><code>Student first = new Student(1);\nStudent second = new Student(2);\nStudent third = new Student(3);\n\nMutableList&lt;Student&gt; list = Lists.mutable.of(first, second, third);\nList&lt;Integer&gt; result = list.collect(Student::getId);\n\nSystem.out.println(result); // [1, 2, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662961776,"creation_date":1662961776,"answer_id":73684963,"question_id":10975913,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/30130428) can be written in a further shorter form in [JDK 16 which includes a toList() method directly on Stream instances](https://bugs.openjdk.org/browse/JDK-8180352).\r\n\r\n# Java 16 solution\r\n\r\n    List&lt;Integer&gt; idList = students.stream().map(Student::getId).toList();","title":"How to make a new list with a property of an object which is in another list","body":"<p>The <a href=\"https://stackoverflow.com/a/30130428\">accepted answer</a> can be written in a further shorter form in <a href=\"https://bugs.openjdk.org/browse/JDK-8180352\" rel=\"nofollow noreferrer\">JDK 16 which includes a toList() method directly on Stream instances</a>.</p>\n<h1>Java 16 solution</h1>\n<pre><code>List&lt;Integer&gt; idList = students.stream().map(Student::getId).toList();\n</code></pre>\n"}],"owner":{"account_id":129766,"reputation":4572,"user_id":328558,"accept_rate":81,"display_name":"javatar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114733,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":30130428,"answer_count":7,"score":98,"last_activity_date":1662961776,"creation_date":1339399228,"question_id":10975913,"body_markdown":"Imagine that I have a list of certain objects:\r\n    \r\n    List&lt;Student&gt;\r\n\r\nAnd I need to generate another list including the `ids` of `Students` in the above list: \r\n     \r\n    List&lt;Integer&gt;\r\n\r\nAvoiding using a loop, is it possible to achieve this by using **apache collections** or **guava**? \r\n\r\n***Which methods should be useful for my case?*** \r\n","title":"How to make a new list with a property of an object which is in another list","body":"<p>Imagine that I have a list of certain objects:</p>\n\n<pre><code>List&lt;Student&gt;\n</code></pre>\n\n<p>And I need to generate another list including the <code>ids</code> of <code>Students</code> in the above list: </p>\n\n<pre><code>List&lt;Integer&gt;\n</code></pre>\n\n<p>Avoiding using a loop, is it possible to achieve this by using <strong>apache collections</strong> or <strong>guava</strong>? </p>\n\n<p><strong><em>Which methods should be useful for my case?</em></strong> </p>\n"},{"tags":["java","android","firebase","messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662730949,"post_id":73662952,"comment_id":130080362,"body_markdown":"What&#39;s the code that produces that crash?","body":"What&#39;s the code that produces that crash?"},{"owner":{"account_id":25550176,"reputation":1,"user_id":19334678,"display_name":"Prashant"},"score":0,"creation_date":1662961212,"post_id":73662952,"comment_id":130118166,"body_markdown":"Please check the code i have edited","body":"Please check the code i have edited"}],"owner":{"account_id":25550176,"reputation":1,"user_id":19334678,"display_name":"Prashant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662961184,"creation_date":1662730240,"question_id":73662952,"body_markdown":"My FireBaseMessaging.java  \r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n    \r\n        //private static final String TAG = &quot;AbsWorkoutFCM&quot;;\r\n        private static final String TAG = &quot;faceenhancer&quot;;\r\n        //String app_banner_url, app_package_name;\r\n        /**\r\n         * Called when message is received.\r\n         *\r\n         * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\r\n         */\r\n        // [START receive_message]\r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n            Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n            String app_banner_url= null, app_package_name = null;\r\n            // Check if message contains a data payload.\r\n            if (remoteMessage.getData().size() &gt; 0) {\r\n                Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n    \r\n                Map&lt;String, String&gt; data = remoteMessage.getData();\r\n                if (data.containsKey(APP_PACKAGE_NAME)) {\r\n                    app_package_name = data.get(APP_PACKAGE_NAME);\r\n                    app_banner_url = data.get(APP_BANNER_URL);\r\n                }\r\n    \r\n            }\r\n    \r\n            // Check if message contains a notification payload.\r\n            if (remoteMessage.getNotification() != null) {\r\n                Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n            }\r\n    \r\n            String body = remoteMessage.getNotification().getBody();\r\n            String title = remoteMessage.getNotification().getTitle();\r\n            //String Icon = remoteMessage.getNotification().getIcon();\r\n    \r\n            sendNotification(app_package_name, app_banner_url, body, title);\r\n        }\r\n        // [END receive_message]\r\n    \r\n        /**\r\n         * Create and show a simple notification containing the received FCM message.\r\n         *\r\n         * @param package_name FCM message body received.\r\n         */\r\n        private void sendNotification(String package_name, String app_banner_url, String body, String title) {\r\n            Intent intent = new Intent(this, LaunchActivity.class);\r\n            intent.putExtra(APP_PACKAGE_NAME, package_name);\r\n            intent.putExtra(APP_BANNER_URL, app_banner_url);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                    PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n            String channelId = getString(R.string.default_notification_channel_id);\r\n            Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, channelId)//ic_stat_ic_notification\r\n                            .setSmallIcon(R.mipmap.fcm_faceenhancer)//tatto_icon\r\n                            .setContentTitle(title)\r\n                            .setContentText(body)\r\n                            .setAutoCancel(true)\r\n                            .setSound(defaultSoundUri)\r\n                            .setContentIntent(pendingIntent);\r\n    \r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            // Since android Oreo notification channel is needed.\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(channelId,\r\n                        &quot;Channel human readable title&quot;,\r\n                        NotificationManager.IMPORTANCE_DEFAULT);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n    \r\n            notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\nAnd service in Manifest file as \r\n \r\n      &lt;service           \r\n        &gt; android:name=&quot;com.faceenhancer.android.fcm.MyFirebaseMessagingService&quot;\r\n        &gt;                 android:enabled=&quot;true&quot;\r\n        &gt;                 android:exported=&quot;true&quot;&gt;\r\n        &gt;                 &lt;intent-filter&gt;\r\n        &gt;                     &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n        &gt;                 &lt;/intent-filter&gt;\r\n        &lt;/service\r\n\r\n&gt;\r\nWhen  sent notification message from console getting this exception in logcat..\r\n&lt;https://i.stack.imgur.com/sOJXI.png&gt;\r\n\r\n    Exception java.lang.NoClassDefFoundError:\r\n      at com.google.firebase.messaging.zzc.&lt;init&gt; (com.google.firebase:firebase-messaging@@20.0.1:3)\r\n      at com.google.firebase.messaging.FirebaseMessagingService.&lt;init&gt; (com.google.firebase:firebase-messaging@@20.0.1:1)\r\n      at com.faceenhancer.android.fcm.MyFirebaseMessagingService.&lt;init&gt; (MyFirebaseMessagingService.java:26)\r\n      at java.lang.Class.newInstance\r\n      at android.app.AppComponentFactory.instantiateService (AppComponentFactory.java:129)\r\n      at androidx.core.app.CoreComponentFactory.instantiateService (CoreComponentFactory.java:75)\r\n      at android.app.ActivityThread.handleCreateService (ActivityThread.java:4299)\r\n      at android.app.ActivityThread.access$1700 (ActivityThread.java:252)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2018)\r\n      at android.os.Handler.dispatchMessage (Handler.java:106)\r\n      at android.os.Looper.loop (Looper.java:250)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7886)\r\n      at java.lang.reflect.Method.invoke\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:970)\r\n\r\nThis error appeared when notification is sent from firebase console and app crashed\r\n\r\nPlease help after sending message from console getting \r\n\r\n\r\n","title":"Android error app crash error when firebase message sent","body":"<p>My FireBaseMessaging.java</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    //private static final String TAG = &quot;AbsWorkoutFCM&quot;;\n    private static final String TAG = &quot;faceenhancer&quot;;\n    //String app_banner_url, app_package_name;\n    /**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */\n    // [START receive_message]\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n        String app_banner_url= null, app_package_name = null;\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n\n            Map&lt;String, String&gt; data = remoteMessage.getData();\n            if (data.containsKey(APP_PACKAGE_NAME)) {\n                app_package_name = data.get(APP_PACKAGE_NAME);\n                app_banner_url = data.get(APP_BANNER_URL);\n            }\n\n        }\n\n        // Check if message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n        }\n\n        String body = remoteMessage.getNotification().getBody();\n        String title = remoteMessage.getNotification().getTitle();\n        //String Icon = remoteMessage.getNotification().getIcon();\n\n        sendNotification(app_package_name, app_banner_url, body, title);\n    }\n    // [END receive_message]\n\n    /**\n     * Create and show a simple notification containing the received FCM message.\n     *\n     * @param package_name FCM message body received.\n     */\n    private void sendNotification(String package_name, String app_banner_url, String body, String title) {\n        Intent intent = new Intent(this, LaunchActivity.class);\n        intent.putExtra(APP_PACKAGE_NAME, package_name);\n        intent.putExtra(APP_BANNER_URL, app_banner_url);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n\n        String channelId = getString(R.string.default_notification_channel_id);\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, channelId)//ic_stat_ic_notification\n                        .setSmallIcon(R.mipmap.fcm_faceenhancer)//tatto_icon\n                        .setContentTitle(title)\n                        .setContentText(body)\n                        .setAutoCancel(true)\n                        .setSound(defaultSoundUri)\n                        .setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // Since android Oreo notification channel is needed.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId,\n                    &quot;Channel human readable title&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n    }\n}\n</code></pre>\n<p>And service in Manifest file as</p>\n<pre><code>  &lt;service           \n    &gt; android:name=&quot;com.faceenhancer.android.fcm.MyFirebaseMessagingService&quot;\n    &gt;                 android:enabled=&quot;true&quot;\n    &gt;                 android:exported=&quot;true&quot;&gt;\n    &gt;                 &lt;intent-filter&gt;\n    &gt;                     &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n    &gt;                 &lt;/intent-filter&gt;\n    &lt;/service\n</code></pre>\n<blockquote>\n</blockquote>\n<p>When  sent notification message from console getting this exception in logcat..\n<a href=\"https://i.stack.imgur.com/sOJXI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/sOJXI.png</a></p>\n<pre><code>Exception java.lang.NoClassDefFoundError:\n  at com.google.firebase.messaging.zzc.&lt;init&gt; (com.google.firebase:firebase-messaging@@20.0.1:3)\n  at com.google.firebase.messaging.FirebaseMessagingService.&lt;init&gt; (com.google.firebase:firebase-messaging@@20.0.1:1)\n  at com.faceenhancer.android.fcm.MyFirebaseMessagingService.&lt;init&gt; (MyFirebaseMessagingService.java:26)\n  at java.lang.Class.newInstance\n  at android.app.AppComponentFactory.instantiateService (AppComponentFactory.java:129)\n  at androidx.core.app.CoreComponentFactory.instantiateService (CoreComponentFactory.java:75)\n  at android.app.ActivityThread.handleCreateService (ActivityThread.java:4299)\n  at android.app.ActivityThread.access$1700 (ActivityThread.java:252)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2018)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:250)\n  at android.app.ActivityThread.main (ActivityThread.java:7886)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:970)\n</code></pre>\n<p>This error appeared when notification is sent from firebase console and app crashed</p>\n<p>Please help after sending message from console getting</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1662921092,"post_id":73681587,"comment_id":130112712,"body_markdown":"You should use `tStart.getText().toString()` to retrieve the text.   `tStart.toString()` produces the default `View` toString which looks  something like: `androidx.appcompat.widget.AppCompatTextView{1e38acf V.ED..... ......ID 0,0-0,0 #7f07006d app:id/main_text}` as an example.","body":"You should use <code>tStart.getText().toString()</code> to retrieve the text.   <code>tStart.toString()</code> produces the default <code>View</code> toString which looks  something like: <code>androidx.appcompat.widget.AppCompatTextView{1e38acf V.ED..... ......ID 0,0-0,0 #7f07006d app:id&#47;main_text}</code> as an example."},{"owner":{"account_id":20465276,"reputation":29,"user_id":15016926,"display_name":"Avocado"},"score":0,"creation_date":1662922688,"post_id":73681587,"comment_id":130113008,"body_markdown":"@Gardener But later in `saveTimeoffRequest();` i want store tStart and tEnd as a timestamp in firebase. do I need to parse it later in the next method?","body":"@Gardener But later in <code>saveTimeoffRequest();</code> i want store tStart and tEnd as a timestamp in firebase. do I need to parse it later in the next method?"}],"answers":[{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662960577,"creation_date":1662960577,"answer_id":73684846,"question_id":73681587,"body_markdown":"**Try This**\r\n\r\n**Change**\r\n\r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) ){\r\n                    Toast.makeText(TimeoffActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    saveTimeoffRequest();\r\n                }\r\n            }\r\n        });\r\n\r\n**To**\r\n\r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(tStart.getText().toString().trim().length() &lt;= 0 || tEnd.getText().toString().trim().length() &lt;= 0){\r\n                        Toast.makeText(MainActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\r\n                    } else{\r\n                        Log.e(&quot;check&quot;, &quot;do something....&quot;);\r\n                    }\r\n                }\r\n            });\r\n","title":"Android Java - Date EditText validation is not working","body":"<p><strong>Try This</strong></p>\n<p><strong>Change</strong></p>\n<pre><code>btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) ){\n                Toast.makeText(TimeoffActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                saveTimeoffRequest();\n            }\n        }\n    });\n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>btnSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(tStart.getText().toString().trim().length() &lt;= 0 || tEnd.getText().toString().trim().length() &lt;= 0){\n                    Toast.makeText(MainActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\n                } else{\n                    Log.e(&quot;check&quot;, &quot;do something....&quot;);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":20465276,"reputation":29,"user_id":15016926,"display_name":"Avocado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662960577,"creation_date":1662919751,"question_id":73681587,"body_markdown":"I replicate how to show datepicker popup from edittext from a question here(i use the accepted answer):\r\n\r\nhttps://stackoverflow.com/questions/14933330/datepicker-how-to-popup-datepicker-when-click-on-edittext\r\n\r\nbut when im trying to validate if the EditText is not empty, it didnt work. Here is my attempt:\r\n\r\n    final Calendar myCalendar= Calendar.getInstance();\r\n    EditText tStart;\r\n    EditText tEnd;\r\n    TextInputLayout desc;\r\n    Editable tDesc;\r\n    Button btnSubmit;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_timeoff);\r\n\r\n        tStart = (EditText) findViewById(R.id.startDate);\r\n        tEnd = (EditText) findViewById(R.id.endDate);\r\n        Button btnSubmit = (Button) findViewById(R.id.btnSubmit);\r\n\r\n        DatePickerDialog.OnDateSetListener dateStart =new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int day) {\r\n                myCalendar.set(Calendar.YEAR, year);\r\n                myCalendar.set(Calendar.MONTH,month);\r\n                myCalendar.set(Calendar.DAY_OF_MONTH,day);\r\n                startupdateLabel();\r\n            }\r\n        };\r\n\r\n        DatePickerDialog.OnDateSetListener dateEnd =new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int day) {\r\n                myCalendar.set(Calendar.YEAR, year);\r\n                myCalendar.set(Calendar.MONTH,month);\r\n                myCalendar.set(Calendar.DAY_OF_MONTH,day);\r\n                endupdateLabel();\r\n            }\r\n        };\r\n\r\n        tStart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                new DatePickerDialog(TimeoffActivity.this,dateStart,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show();\r\n            }\r\n        });\r\n\r\n        tEnd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                new DatePickerDialog(TimeoffActivity.this,dateEnd,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show();\r\n            }\r\n        });\r\n        \r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) ){\r\n                    Toast.makeText(TimeoffActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    saveTimeoffRequest();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nI tried using 2 way but still didnt work:\r\n\r\n    tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) \r\n\r\nhow to validate those 2 date EditText if its not empty?\r\n\r\nthanks in advance.","title":"Android Java - Date EditText validation is not working","body":"<p>I replicate how to show datepicker popup from edittext from a question here(i use the accepted answer):</p>\n<p><a href=\"https://stackoverflow.com/questions/14933330/datepicker-how-to-popup-datepicker-when-click-on-edittext\">Datepicker: How to popup datepicker when click on edittext</a></p>\n<p>but when im trying to validate if the EditText is not empty, it didnt work. Here is my attempt:</p>\n<pre><code>final Calendar myCalendar= Calendar.getInstance();\nEditText tStart;\nEditText tEnd;\nTextInputLayout desc;\nEditable tDesc;\nButton btnSubmit;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_timeoff);\n\n    tStart = (EditText) findViewById(R.id.startDate);\n    tEnd = (EditText) findViewById(R.id.endDate);\n    Button btnSubmit = (Button) findViewById(R.id.btnSubmit);\n\n    DatePickerDialog.OnDateSetListener dateStart =new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker view, int year, int month, int day) {\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH,month);\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\n            startupdateLabel();\n        }\n    };\n\n    DatePickerDialog.OnDateSetListener dateEnd =new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker view, int year, int month, int day) {\n            myCalendar.set(Calendar.YEAR, year);\n            myCalendar.set(Calendar.MONTH,month);\n            myCalendar.set(Calendar.DAY_OF_MONTH,day);\n            endupdateLabel();\n        }\n    };\n\n    tStart.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            new DatePickerDialog(TimeoffActivity.this,dateStart,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show();\n        }\n    });\n\n    tEnd.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            new DatePickerDialog(TimeoffActivity.this,dateEnd,myCalendar.get(Calendar.YEAR),myCalendar.get(Calendar.MONTH),myCalendar.get(Calendar.DAY_OF_MONTH)).show();\n        }\n    });\n    \n    btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) ){\n                Toast.makeText(TimeoffActivity.this, &quot;Please fill all field before submitting&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                saveTimeoffRequest();\n            }\n        }\n    });\n}\n</code></pre>\n<p>I tried using 2 way but still didnt work:</p>\n<pre><code>tStart.toString().isEmpty() || TextUtils.isEmpty(tEnd.toString()) \n</code></pre>\n<p>how to validate those 2 date EditText if its not empty?</p>\n<p>thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","request"],"answers":[{"tags":[],"owner":{"account_id":22601973,"reputation":244,"user_id":16783361,"display_name":"K9.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662959494,"creation_date":1662959494,"answer_id":73684728,"question_id":73682481,"body_markdown":"As the error log, you&#39;re using the immutable collections it means that does not allow you to add the new element. Ex:\r\n\r\n    List&lt;String&gt; flowers = Arrays.asList(&quot;flower1&quot;, &quot;flower2&quot;, &quot;flower3&quot;); \r\n    flowers.add(&quot;new flower&quot;);\r\n\r\nIn this example, the `Arrays.asList` return list `flowers` it&#39;s a fixed list that does not allow you to add new flower -&gt; exception will be thrown","title":"dont work post and delete req requests in spring boot java.lang.UnsupportedOperationException: null","body":"<p>As the error log, you're using the immutable collections it means that does not allow you to add the new element. Ex:</p>\n<pre><code>List&lt;String&gt; flowers = Arrays.asList(&quot;flower1&quot;, &quot;flower2&quot;, &quot;flower3&quot;); \nflowers.add(&quot;new flower&quot;);\n</code></pre>\n<p>In this example, the <code>Arrays.asList</code> return list <code>flowers</code> it's a fixed list that does not allow you to add new flower -&gt; exception will be thrown</p>\n"},{"tags":[],"owner":{"account_id":17745278,"reputation":46,"user_id":12884696,"display_name":"Faisal Behram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662960118,"creation_date":1662960118,"answer_id":73684792,"question_id":73682481,"body_markdown":"Fix for this problem is to Use linkedList\r\n\r\nCreate a **LinkedList**, which supports faster **remove**.\r\n\r\nList&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(split));","title":"dont work post and delete req requests in spring boot java.lang.UnsupportedOperationException: null","body":"<p>Fix for this problem is to Use linkedList</p>\n<p>Create a <strong>LinkedList</strong>, which supports faster <strong>remove</strong>.</p>\n<p>List list = new LinkedList(Arrays.asList(split));</p>\n"}],"owner":{"display_name":"user19862959"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662981765,"accepted_answer_id":73684792,"answer_count":2,"score":0,"last_activity_date":1662960118,"creation_date":1662928466,"question_id":73682481,"body_markdown":"I want to add a regular user to the list. I use Postman for this, the request body comes, but when adding, such an error occurs.\r\n```\r\n    @PostMapping\r\n    public Developer create(@RequestBody Developer developer) {\r\n        System.out.println(developer);\r\n        this.DEVELOPERS.add(developer);\r\n        return developer;\r\n    }\r\n```\r\n```\r\n2022-09-11 23:19:53.444 ERROR 30036 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.UnsupportedOperationException] with root cause\r\n\r\njava.lang.UnsupportedOperationException: null\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142) ~[na:na]\r\n\tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147) ~[na:na] ...\r\n```","title":"dont work post and delete req requests in spring boot java.lang.UnsupportedOperationException: null","body":"<p>I want to add a regular user to the list. I use Postman for this, the request body comes, but when adding, such an error occurs.</p>\n<pre><code>    @PostMapping\n    public Developer create(@RequestBody Developer developer) {\n        System.out.println(developer);\n        this.DEVELOPERS.add(developer);\n        return developer;\n    }\n</code></pre>\n<pre><code>2022-09-11 23:19:53.444 ERROR 30036 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.UnsupportedOperationException] with root cause\n\njava.lang.UnsupportedOperationException: null\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142) ~[na:na]\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147) ~[na:na] ...\n</code></pre>\n"},{"tags":["java","azure","zip","azure-blob-storage"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1626865722,"post_id":68468373,"comment_id":121004473,"body_markdown":"Welcome to Stack Overflow. Please edit your question and include the code you have written so far and the issues you&#39;re running into.","body":"Welcome to Stack Overflow. Please edit your question and include the code you have written so far and the issues you&#39;re running into."},{"owner":{"account_id":22263661,"reputation":83,"user_id":16494770,"display_name":"Atharva"},"score":0,"creation_date":1626867275,"post_id":68468373,"comment_id":121005050,"body_markdown":"@GauravMantri Have edited the question. I am using pipedinputstream and want this data to be uploaded parallely, not sure which azure blob functions support this. If not, Please suggest if there is some other way to achieve this.","body":"@GauravMantri Have edited the question. I am using pipedinputstream and want this data to be uploaded parallely, not sure which azure blob functions support this. If not, Please suggest if there is some other way to achieve this."},{"owner":{"account_id":22263661,"reputation":83,"user_id":16494770,"display_name":"Atharva"},"score":0,"creation_date":1626873701,"post_id":68468373,"comment_id":121007946,"body_markdown":"@GauravMantri . anything I could check/try out?","body":"@GauravMantri . anything I could check/try out?"}],"answers":[{"tags":[],"owner":{"account_id":22263661,"reputation":83,"user_id":16494770,"display_name":"Atharva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626879530,"creation_date":1626879530,"answer_id":68471873,"question_id":68468373,"body_markdown":"Was able to do it this way. Please let me know if anyone has a better approach. \r\n\r\n```\r\nCompletableFuture.runAsync(() -&gt; {\r\n                  \r\n                    BlobClient blobClient = objectStoreService.getBlobContainerClient().getBlobClient(zipFileName);\r\n                    BlobOutputStream blobOutputStream = blobClient.getBlockBlobClient().getBlobOutputStream();\r\n\r\n                     try {\r\n                            int nextData= pipedInputStream.read();\r\n                            while (nextData!=-1) {\r\n                                blobOutputStream.write(nextData);\r\n                                nextData = pipedInputStream.read();\r\n                            }blobOutputStream.close();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n```","title":"Download all the files from Azure blob storage , zip it and upload the zip file in JAVA","body":"<p>Was able to do it this way. Please let me know if anyone has a better approach.</p>\n<pre><code>CompletableFuture.runAsync(() -&gt; {\n                  \n                    BlobClient blobClient = objectStoreService.getBlobContainerClient().getBlobClient(zipFileName);\n                    BlobOutputStream blobOutputStream = blobClient.getBlockBlobClient().getBlobOutputStream();\n\n                     try {\n                            int nextData= pipedInputStream.read();\n                            while (nextData!=-1) {\n                                blobOutputStream.write(nextData);\n                                nextData = pipedInputStream.read();\n                            }blobOutputStream.close();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n</code></pre>\n"}],"owner":{"account_id":22263661,"reputation":83,"user_id":16494770,"display_name":"Atharva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662959807,"creation_date":1626865437,"question_id":68468373,"body_markdown":"I want to download all the files from Azure blob storage, create a zip file out of these files and upload the zip file back to the blob storage.\r\nAs the file size can be very large, I dont want to max out the memory.\r\nAlso this operation needs to be very FAST.\r\n\r\nJAVA SDK - azure-storage-blob 12.8.0\r\n\r\nEDIT : Code written so far. Not sure how to proceed further with uploading pipedinputstream data parallely.\r\n\r\n```\r\n String zipFileName = formFileName(exportRequest, requestId);\r\n        final PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\n        final PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n\r\n  AzureObjectStoreService objectStoreService =managedObjectStoreUtils.getObjectStoreService();\r\n\r\n            if (filesToZip.size() &gt; 0) {\r\n                System.out.println(&quot;Files to zip &quot;+ filesToZip.size());\r\n                CompletableFuture&lt;Boolean&gt; zipCreationFuture = CompletableFuture.runAsync(() -&gt; {\r\n                    LoggerHelper.logInfo(logger, &quot;Inside createZIP file async function&quot;);\r\n                    ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream);\r\n                    try {\r\n                        for (String fileName : filesToZip) {\r\n                            try {\r\n                                BlobClient blobClient = objectStoreService.getBlobContainerClient().getBlobClient(fileName);\r\n                                LoggerHelper.logInfo(logger, &quot;Adding zipEntry for file : &quot; + fileName);\r\n                                final ZipEntry zipEntry = new ZipEntry(fileName);\r\n                                zipOutputStream.putNextEntry(zipEntry);\r\n                                byte[] buffer;\r\n                                ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n                                buffer= output.toByteArray();\r\n                                blobClient.getBlockBlobClient().download(output);\r\n                                int len;\r\n                                while ((len = buffer.length) &gt; 0) {\r\n                                    zipOutputStream.write(buffer, 0, len);\r\n                                }\r\n                                zipOutputStream.closeEntry();\r\n                            } catch (SdkClientException e) {\r\n                                LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) e);\r\n                                LoggerHelper.logError(logger, &quot;Failed while getting s3 object&quot;);\r\n                            }\r\n                        }\r\n                        zipOutputStream.finish();\r\n                    } catch (IOException ex) {\r\n                        LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) ex);\r\n                        LoggerHelper.logError(logger, &quot;Creating zip file failed&quot;);\r\n                    } finally {\r\n                        try {\r\n                            zipOutputStream.close();\r\n                            } catch (IOException e) {\r\n                            LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) e);\r\n                            LoggerHelper.logError(logger, &quot;Failed to close the zip output stream&quot;);\r\n                        }\r\n                    }\r\n                    LoggerHelper.logInfo(logger, &quot;Completed createZIP file async function&quot;);\r\n        //            return true;\r\n                }).handle((o, exception) -&gt; {\r\n                    LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) exception);\r\n                    LoggerHelper.logError(logger, &quot;Creating zip file failed&quot;);\r\n                    return null;\r\n                });\r\n\r\n```","title":"Download all the files from Azure blob storage , zip it and upload the zip file in JAVA","body":"<p>I want to download all the files from Azure blob storage, create a zip file out of these files and upload the zip file back to the blob storage.\nAs the file size can be very large, I dont want to max out the memory.\nAlso this operation needs to be very FAST.</p>\n<p>JAVA SDK - azure-storage-blob 12.8.0</p>\n<p>EDIT : Code written so far. Not sure how to proceed further with uploading pipedinputstream data parallely.</p>\n<pre><code> String zipFileName = formFileName(exportRequest, requestId);\n        final PipedOutputStream pipedOutputStream = new PipedOutputStream();\n        final PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n\n  AzureObjectStoreService objectStoreService =managedObjectStoreUtils.getObjectStoreService();\n\n            if (filesToZip.size() &gt; 0) {\n                System.out.println(&quot;Files to zip &quot;+ filesToZip.size());\n                CompletableFuture&lt;Boolean&gt; zipCreationFuture = CompletableFuture.runAsync(() -&gt; {\n                    LoggerHelper.logInfo(logger, &quot;Inside createZIP file async function&quot;);\n                    ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream);\n                    try {\n                        for (String fileName : filesToZip) {\n                            try {\n                                BlobClient blobClient = objectStoreService.getBlobContainerClient().getBlobClient(fileName);\n                                LoggerHelper.logInfo(logger, &quot;Adding zipEntry for file : &quot; + fileName);\n                                final ZipEntry zipEntry = new ZipEntry(fileName);\n                                zipOutputStream.putNextEntry(zipEntry);\n                                byte[] buffer;\n                                ByteArrayOutputStream output = new ByteArrayOutputStream();\n                                buffer= output.toByteArray();\n                                blobClient.getBlockBlobClient().download(output);\n                                int len;\n                                while ((len = buffer.length) &gt; 0) {\n                                    zipOutputStream.write(buffer, 0, len);\n                                }\n                                zipOutputStream.closeEntry();\n                            } catch (SdkClientException e) {\n                                LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) e);\n                                LoggerHelper.logError(logger, &quot;Failed while getting s3 object&quot;);\n                            }\n                        }\n                        zipOutputStream.finish();\n                    } catch (IOException ex) {\n                        LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) ex);\n                        LoggerHelper.logError(logger, &quot;Creating zip file failed&quot;);\n                    } finally {\n                        try {\n                            zipOutputStream.close();\n                            } catch (IOException e) {\n                            LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) e);\n                            LoggerHelper.logError(logger, &quot;Failed to close the zip output stream&quot;);\n                        }\n                    }\n                    LoggerHelper.logInfo(logger, &quot;Completed createZIP file async function&quot;);\n        //            return true;\n                }).handle((o, exception) -&gt; {\n                    LoggerHelper.logExceptionWithMessage(logger, this.getClass().getName(), (Exception) exception);\n                    LoggerHelper.logError(logger, &quot;Creating zip file failed&quot;);\n                    return null;\n                });\n\n</code></pre>\n"},{"tags":["javascript","java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11516042,"reputation":400,"user_id":8439384,"display_name":"Dipin Raj C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532005488,"creation_date":1532001977,"answer_id":51422285,"question_id":51222293,"body_markdown":"use ControllerAdvice\r\n\r\n     @ControllerAdvice\r\n        static class JsonpAdvice extends AbstractJsonpResponseBodyAdvice {\r\n    \r\n            public JsonpAdvice() {\r\n                super(&quot;callback&quot;);\r\n            }\r\n        }","title":"How to pass a callback method from JavaScript to java back-end with spring boot?","body":"<p>use ControllerAdvice</p>\n\n<pre><code> @ControllerAdvice\n    static class JsonpAdvice extends AbstractJsonpResponseBodyAdvice {\n\n        public JsonpAdvice() {\n            super(\"callback\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8924057,"reputation":808,"user_id":6659325,"display_name":"Amjad Rehman A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1532002469,"creation_date":1532002469,"answer_id":51422455,"question_id":51222293,"body_markdown":"Use `@ControllerAdvice`\r\n\r\nFor more detail, visit [documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html","title":"How to pass a callback method from JavaScript to java back-end with spring boot?","body":"<p>Use <code>@ControllerAdvice</code></p>\n\n<p>For more detail, visit <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":13885356,"reputation":39,"user_id":10024623,"display_name":"manoob mahesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532012468,"creation_date":1532012468,"answer_id":51425951,"question_id":51222293,"body_markdown":"You can use @ControllerAdvice in spring boot","title":"How to pass a callback method from JavaScript to java back-end with spring boot?","body":"<p>You can use @ControllerAdvice in spring boot</p>\n"}],"owner":{"account_id":11516042,"reputation":400,"user_id":8439384,"display_name":"Dipin Raj C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":51422455,"answer_count":3,"score":0,"last_activity_date":1662959778,"creation_date":1530959587,"question_id":51222293,"body_markdown":"I am writing a code which can be accessed using jsonp. I need to pass a callback method from java script to spring boot","title":"How to pass a callback method from JavaScript to java back-end with spring boot?","body":"<p>I am writing a code which can be accessed using jsonp. I need to pass a callback method from java script to spring boot</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":14228349,"reputation":1270,"user_id":10278277,"display_name":"sachin"},"score":1,"creation_date":1591624979,"post_id":62263674,"comment_id":110118747,"body_markdown":"it would be helpful if  full stacktrace is provided.","body":"it would be helpful if  full stacktrace is provided."}],"answers":[{"tags":[],"owner":{"account_id":18769240,"reputation":99,"user_id":13686443,"display_name":"Nicolas COSME"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591626556,"creation_date":1591625593,"answer_id":62264070,"question_id":62263674,"body_markdown":"Your &#39;miastoRepository&#39; bean creation failed due to \r\n&gt;Not a managed type: class java.lang.Object\r\n\r\nThe repository entity needs to be annotated with ``@Entity``\r\n","title":"Spring-Maven app can&#39;t execute &quot;mvn spring-boot:run&quot;","body":"<p>Your 'miastoRepository' bean creation failed due to </p>\n\n<blockquote>\n  <p>Not a managed type: class java.lang.Object</p>\n</blockquote>\n\n<p>The repository entity needs to be annotated with <code>@Entity</code></p>\n"},{"tags":[],"owner":{"account_id":26033539,"reputation":1,"user_id":19739329,"display_name":"Mel Tamps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662959725,"creation_date":1662959558,"answer_id":73684734,"question_id":62263674,"body_markdown":"you can use lombok annotations by adding it to your dependencies in your pom.xml\r\nand make sure that in the IDE that you are using the lombok annotations extension is also installed (You can use the user-friendly INtelliJ or VSCode)\r\n\r\ncompile it again or reload the project\r\nmvn clean install (in the terminal window of the IDE)\r\n\r\nor type this command first :  mvn spring-boot:stop   that is because it runs in the background and you might not notice it.","title":"Spring-Maven app can&#39;t execute &quot;mvn spring-boot:run&quot;","body":"<p>you can use lombok annotations by adding it to your dependencies in your pom.xml\nand make sure that in the IDE that you are using the lombok annotations extension is also installed (You can use the user-friendly INtelliJ or VSCode)</p>\n<p>compile it again or reload the project\nmvn clean install (in the terminal window of the IDE)</p>\n<p>or type this command first :  mvn spring-boot:stop   that is because it runs in the background and you might not notice it.</p>\n"}],"owner":{"account_id":14879210,"reputation":3,"user_id":10744417,"display_name":"Kacper Kowalik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62264070,"answer_count":2,"score":0,"last_activity_date":1662959725,"creation_date":1591624381,"question_id":62263674,"body_markdown":"i have been doing my first spring boot application and i have problem with executing &quot;mvn spring-boot:run&quot; in terminal. I created simple application with only one Controller and one Repository class.\r\nMy POM file:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Kolokwium_KK104989&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Kolokwium_KK104989&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nWhen i run &quot;mvn spring-boot:run&quot; or &quot;mvn clean spring-boot:run&quot; this error displays on terminal:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  10.649 s\r\n[INFO] Finished at: 2020-06-08T15:39:26+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.RELEASE:run (default-cli) on project Kolokwium_KK104989: Application finished with exit code: 1 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\n\r\nEDIT:\r\n\r\nfull stacktrace:\r\n```\r\no.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;miastoController&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creatin\r\ng bean with name &#39;miastoRepository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at com.example.Kolokwium_KK104989.KolokwiumKk104989Application.main(KolokwiumKk104989Application.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;miastoRepository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Not a man\r\naged type: class java.lang.Object\r\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1306) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\r\n        at com.example.Kolokwium_KK104989.MiastoController.set(MiastoController.java:24) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        ... 19 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n        at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        ... 37 common frames omitted\r\n\r\n\r\n```","title":"Spring-Maven app can&#39;t execute &quot;mvn spring-boot:run&quot;","body":"<p>i have been doing my first spring boot application and i have problem with executing \"mvn spring-boot:run\" in terminal. I created simple application with only one Controller and one Repository class.\nMy POM file:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Kolokwium_KK104989&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Kolokwium_KK104989&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When i run \"mvn spring-boot:run\" or \"mvn clean spring-boot:run\" this error displays on terminal:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.649 s\n[INFO] Finished at: 2020-06-08T15:39:26+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.RELEASE:run (default-cli) on project Kolokwium_KK104989: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>full stacktrace:</p>\n\n<pre><code>o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'miastoController': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creatin\ng bean with name 'miastoRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at com.example.Kolokwium_KK104989.KolokwiumKk104989Application.main(KolokwiumKk104989Application.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'miastoRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Not a man\naged type: class java.lang.Object\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1306) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\n        at com.example.Kolokwium_KK104989.MiastoController.set(MiastoController.java:24) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n        at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n        ... 37 common frames omitted\n\n\n</code></pre>\n"},{"tags":["java","maven","lombok"],"answers":[{"tags":[],"owner":{"account_id":21175,"reputation":5408,"user_id":51280,"accept_rate":68,"display_name":"opyate"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341415359,"creation_date":1341410870,"answer_id":11330703,"question_id":11329965,"body_markdown":"Create a new [Maven profile][1], and in the new profile, just redefine the sources:\r\n\r\n    &lt;sourceDirectory&gt;target/generated-sources/delombok&lt;/sourceDirectory&gt;\r\n\r\n**Alternatively**\r\n\r\n 1. Build helper: there&#39;s a [build helper][2] which seems to provide this functionality, but I have not used this before.\r\n 2. Hack: there&#39;s a hack [described here][3], but the author recommends against it, and besides: if you&#39;re going to take the time to modify your POM and create this hack, you may as well do things The Right Way and implement a profile.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-profiles.html\r\n  [2]: http://blog.tfd.co.uk/2009/07/29/howto-add-more-than-one-source-directory-into-a-maven-build/\r\n  [3]: https://stackoverflow.com/questions/3908013/maven-how-to-change-path-to-target-directory-from-command-line","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>Create a new <a href=\"http://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven profile</a>, and in the new profile, just redefine the sources:</p>\n\n<pre><code>&lt;sourceDirectory&gt;target/generated-sources/delombok&lt;/sourceDirectory&gt;\n</code></pre>\n\n<p><strong>Alternatively</strong></p>\n\n<ol>\n<li>Build helper: there's a <a href=\"http://blog.tfd.co.uk/2009/07/29/howto-add-more-than-one-source-directory-into-a-maven-build/\" rel=\"nofollow noreferrer\">build helper</a> which seems to provide this functionality, but I have not used this before.</li>\n<li>Hack: there's a hack <a href=\"https://stackoverflow.com/questions/3908013/maven-how-to-change-path-to-target-directory-from-command-line\">described here</a>, but the author recommends against it, and besides: if you're going to take the time to modify your POM and create this hack, you may as well do things The Right Way and implement a profile.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1033919,"reputation":5797,"user_id":1041691,"accept_rate":67,"display_name":"fommil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342101847,"creation_date":1342101847,"answer_id":11453579,"question_id":11329965,"body_markdown":"It would appear that there is no nice way to set up Lombok Maven. The &quot;profile&quot; approach suggested by @opyate doesn&#39;t work because of\r\n\r\nhttp://jira.codehaus.org/browse/MNG-5310\r\n\r\nHowever, a really ugly workaround is to simply have another &lt;code&gt;pom.xml&lt;/code&gt;, identical in every way except with the &lt;code&gt;sourceDirectory&lt;/code&gt; redefined, using the command line arguments to use the file like in:\r\n\r\nhttps://stackoverflow.com/questions/4519672/","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>It would appear that there is no nice way to set up Lombok Maven. The \"profile\" approach suggested by @opyate doesn't work because of</p>\n\n<p><a href=\"http://jira.codehaus.org/browse/MNG-5310\" rel=\"nofollow noreferrer\">http://jira.codehaus.org/browse/MNG-5310</a></p>\n\n<p>However, a really ugly workaround is to simply have another <code>pom.xml</code>, identical in every way except with the <code>sourceDirectory</code> redefined, using the command line arguments to use the file like in:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4519672/\">Maven alternate pom</a></p>\n"},{"tags":[],"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1344850881,"creation_date":1344848018,"answer_id":11930955,"question_id":11329965,"body_markdown":"I recently switched from using the flakey maven-exec-plugin approach to generate raw sources for the javadoc tool to using lombok-maven-plugin\r\n\r\nMy setup\r\n\r\n - All sources in `src/main/java`\r\n - Generated sources go in `target/generated-sources/delombok`\r\n\r\nI initially ran into this problem but it seems to be an easy fix: Don&#39;t let lombok-maven-plugin add the delombok path to the compiler source paths with `addOutputDirectoy`. IE\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.11.2.0&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;delombok&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n\t\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThis seems to of solved the issue for now\r\n\r\n**EDIT:** Bonus, how to generate proper javadocs with this setup\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;defaultVersion&gt;${project.version}&lt;/defaultVersion&gt;\r\n\t\t\t&lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>I recently switched from using the flakey maven-exec-plugin approach to generate raw sources for the javadoc tool to using lombok-maven-plugin</p>\n\n<p>My setup</p>\n\n<ul>\n<li>All sources in <code>src/main/java</code></li>\n<li>Generated sources go in <code>target/generated-sources/delombok</code></li>\n</ul>\n\n<p>I initially ran into this problem but it seems to be an easy fix: Don't let lombok-maven-plugin add the delombok path to the compiler source paths with <code>addOutputDirectoy</code>. IE</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.11.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;delombok&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This seems to of solved the issue for now</p>\n\n<p><strong>EDIT:</strong> Bonus, how to generate proper javadocs with this setup</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;defaultVersion&gt;${project.version}&lt;/defaultVersion&gt;\n        &lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66875,"reputation":3788,"user_id":195969,"display_name":"AWhitford"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441091970,"creation_date":1441091970,"answer_id":32325757,"question_id":11329965,"body_markdown":"The `delombok` goal is designed to transform java code from `src/main/lombok` to `target/generated-source/delombok`.  Then, the other java code found in `src/main/java` is combined with `target/generated-source/delombok` to produce the combined java classes.\r\n\r\n**It helps to think of delombok as a source code generator.**\r\n\r\n*So how can you get what you really want?*  (Note that Maven has an [addCompileSourceRoot](https://maven.apache.org/ref/3.3.3/apidocs/org/apache/maven/project/MavenProject.html#addCompileSourceRoot(java.lang.String)) method, but not a corresponding *removeCompileSourceRoot*.)  Imagine the following **hack**:\r\n\r\n 1. Override the default `&lt;build&gt;&lt;sourceDirectory&gt;` from `src/main/java` to be `${project.build.directory}/generated-sources/delombok`.\r\n 2. Override the default delombok `sourceDirectory` from `src/main/lombok` to be `src/main/java`, and disable `addOutputDirectory`. \r\n\r\nBasically, you will use `src/main/java`, but Maven will ignore it and instead use `target/generated-sources/delombok`.  The Lombok plugin will transform `src/main/java` into elaborated code in `target/generated-sources/delombok`.\r\n\r\n    &lt;build&gt;\r\n      &lt;sourceDirectory&gt;${project.build.directory}/generated-sources/delombok&lt;/sourceDirectory&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.16.6.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;delombok&lt;/id&gt;\r\n              &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;delombok&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n                &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nNote that you should not need to hack other plugins, like `maven-jar-plugin` or `maven-javadoc-plugin`, because they should respect the `sourceDirectory`.\r\n\r\n*Use this hack at your own risk.*  (My guess is that this may confuse your IDE and some other developers.)","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>The <code>delombok</code> goal is designed to transform java code from <code>src/main/lombok</code> to <code>target/generated-source/delombok</code>.  Then, the other java code found in <code>src/main/java</code> is combined with <code>target/generated-source/delombok</code> to produce the combined java classes.</p>\n\n<p><strong>It helps to think of delombok as a source code generator.</strong></p>\n\n<p><em>So how can you get what you really want?</em>  (Note that Maven has an <a href=\"https://maven.apache.org/ref/3.3.3/apidocs/org/apache/maven/project/MavenProject.html#addCompileSourceRoot(java.lang.String)\" rel=\"nofollow\">addCompileSourceRoot</a> method, but not a corresponding <em>removeCompileSourceRoot</em>.)  Imagine the following <strong>hack</strong>:</p>\n\n<ol>\n<li>Override the default <code>&lt;build&gt;&lt;sourceDirectory&gt;</code> from <code>src/main/java</code> to be <code>${project.build.directory}/generated-sources/delombok</code>.</li>\n<li>Override the default delombok <code>sourceDirectory</code> from <code>src/main/lombok</code> to be <code>src/main/java</code>, and disable <code>addOutputDirectory</code>. </li>\n</ol>\n\n<p>Basically, you will use <code>src/main/java</code>, but Maven will ignore it and instead use <code>target/generated-sources/delombok</code>.  The Lombok plugin will transform <code>src/main/java</code> into elaborated code in <code>target/generated-sources/delombok</code>.</p>\n\n<pre><code>&lt;build&gt;\n  &lt;sourceDirectory&gt;${project.build.directory}/generated-sources/delombok&lt;/sourceDirectory&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.16.6.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;delombok&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;delombok&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n            &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Note that you should not need to hack other plugins, like <code>maven-jar-plugin</code> or <code>maven-javadoc-plugin</code>, because they should respect the <code>sourceDirectory</code>.</p>\n\n<p><em>Use this hack at your own risk.</em>  (My guess is that this may confuse your IDE and some other developers.)</p>\n"},{"tags":[],"owner":{"account_id":1034367,"reputation":479,"user_id":1042050,"accept_rate":80,"display_name":"Bruno 82"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577191958,"creation_date":1577191958,"answer_id":59469124,"question_id":11329965,"body_markdown":"I tried to use the solutions from the other answers, but IntelliJ would still mark my source files from ```src/main/java``` as duplicated. So I just decided to get rid of the ```delombok```&#39;s content after compilation. In the end that folder only server as an intermediary stage for compilation (in my case it was required to use lombok with AspectJ compiler) and there&#39;s no real need to keep it. I did it by configuring an additional execution of the clean plugin which would specifically target the ```delombok``` folder. \r\n\r\nYour POM should contain\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;sourceDirectory&gt;${project.build.directory}/generated-sources/delombok&lt;/sourceDirectory&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- will delombok source files into /target/generated-sources/delombok --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.16.16.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;delombok&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n\t\t\t\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;!-- other plugins bound to compile phase should go here --&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;delombok-removal&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;clean&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\r\n\t\t\t\t\t\t\t&lt;filesets&gt;\r\n\t\t\t\t\t\t\t\t&lt;fileset&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;${project.build.sourceDirectory}/com&lt;/directory&gt; &lt;!-- assuming your root package is something like com.mycompany --&gt;\r\n\t\t\t\t\t\t\t\t&lt;/fileset&gt;\r\n\t\t\t\t\t\t\t&lt;/filesets&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>I tried to use the solutions from the other answers, but IntelliJ would still mark my source files from <code>src/main/java</code> as duplicated. So I just decided to get rid of the <code>delombok</code>'s content after compilation. In the end that folder only server as an intermediary stage for compilation (in my case it was required to use lombok with AspectJ compiler) and there's no real need to keep it. I did it by configuring an additional execution of the clean plugin which would specifically target the <code>delombok</code> folder. </p>\n\n<p>Your POM should contain</p>\n\n<pre><code>&lt;build&gt;\n\n    &lt;sourceDirectory&gt;${project.build.directory}/generated-sources/delombok&lt;/sourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;!-- will delombok source files into /target/generated-sources/delombok --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.16.16.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;delombok&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n                &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;!-- other plugins bound to compile phase should go here --&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;delombok-removal&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\n                        &lt;filesets&gt;\n                            &lt;fileset&gt;\n                                &lt;directory&gt;${project.build.sourceDirectory}/com&lt;/directory&gt; &lt;!-- assuming your root package is something like com.mycompany --&gt;\n                            &lt;/fileset&gt;\n                        &lt;/filesets&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22773055,"reputation":11,"user_id":16930153,"display_name":"Jiezhong Mo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662959586,"creation_date":1662959586,"answer_id":73684737,"question_id":11329965,"body_markdown":"Hit similar issue in Intellj, this worked for me:\r\n\r\nIntellIJ IDEA -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Compiler\r\n-&gt; User-local build process VM options (overrides Shared options): -Djps.track.ap.dependencies=false\r\n","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>Hit similar issue in Intellj, this worked for me:</p>\n<p>IntellIJ IDEA -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Compiler\n-&gt; User-local build process VM options (overrides Shared options): -Djps.track.ap.dependencies=false</p>\n"}],"owner":{"account_id":1033919,"reputation":5797,"user_id":1041691,"accept_rate":67,"display_name":"fommil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11219,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":11930955,"answer_count":6,"score":27,"last_activity_date":1662959586,"creation_date":1341408125,"question_id":11329965,"body_markdown":"I am trying to use the [Lombok Maven Plugin](http://awhitford.github.com/lombok.maven/lombok-maven-plugin/index.html) to ensure the correct creation of Javadocs when using [Lombok](http://projectlombok.org/).\r\n\r\nLombok Maven introduces a new code generation goal, just prior to compilation. In my configuration, my &lt;code&gt;sourceDirectory&lt;/code&gt; (Java with Lombok annotations, &lt;code&gt;src/main/java&lt;/code&gt;) is processed to create Java (without Lombok annotations) in &lt;code&gt;target/generated-sources/delombok&lt;/code&gt;.\r\n\r\nHowever, every file in &lt;code&gt;sourceDirectory&lt;/code&gt; now has a corresponding (identically named) file in &lt;code&gt;target/generated-sources/delombok&lt;/code&gt;, resulting in compilation failures due to duplicate classes.\r\n\r\n**How can I tell the Java compiler to ignore the sources in &lt;code&gt;sourceDirectory&lt;/code&gt;?**\r\n\r\nNote that the default Lombok Maven configuration would have the developer put Java (with Lombok annotations) in the &lt;code&gt;src/main/lombok&lt;/code&gt; folder instead of &lt;code&gt;src/main/java&lt;/code&gt;. However, I do not wish to do this because it confuses IDEs and my code compiles just fine (if I remove the Maven plugin).\r\n\r\nAlso note that simply redefining &lt;code&gt;sourceDirectory&lt;/code&gt; will also upset IDEs (they no longer know where to find the Java source code!).","title":"How to ignore the Java Source directory during Maven Compilation?","body":"<p>I am trying to use the <a href=\"http://awhitford.github.com/lombok.maven/lombok-maven-plugin/index.html\" rel=\"noreferrer\">Lombok Maven Plugin</a> to ensure the correct creation of Javadocs when using <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Lombok</a>.</p>\n\n<p>Lombok Maven introduces a new code generation goal, just prior to compilation. In my configuration, my <code>sourceDirectory</code> (Java with Lombok annotations, <code>src/main/java</code>) is processed to create Java (without Lombok annotations) in <code>target/generated-sources/delombok</code>.</p>\n\n<p>However, every file in <code>sourceDirectory</code> now has a corresponding (identically named) file in <code>target/generated-sources/delombok</code>, resulting in compilation failures due to duplicate classes.</p>\n\n<p><strong>How can I tell the Java compiler to ignore the sources in <code>sourceDirectory</code>?</strong></p>\n\n<p>Note that the default Lombok Maven configuration would have the developer put Java (with Lombok annotations) in the <code>src/main/lombok</code> folder instead of <code>src/main/java</code>. However, I do not wish to do this because it confuses IDEs and my code compiles just fine (if I remove the Maven plugin).</p>\n\n<p>Also note that simply redefining <code>sourceDirectory</code> will also upset IDEs (they no longer know where to find the Java source code!).</p>\n"},{"tags":["java","android","android-studio","android-permissions","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662799402,"post_id":73669758,"comment_id":130093230,"body_markdown":"We dont know how you fetch songs. Nor from where you try to fetch them. Also you did not tell where your songs are located.","body":"We dont know how you fetch songs. Nor from where you try to fetch them. Also you did not tell where your songs are located."},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1662867032,"post_id":73669758,"comment_id":130103916,"body_markdown":"No way a user can access directly your app&#39;s private folder using a file manager if he wants to dump his music collection into that folder. So, your app must access his music files in the public folders via MediaStore or SAF approach.","body":"No way a user can access directly your app&#39;s private folder using a file manager if he wants to dump his music collection into that folder. So, your app must access his music files in the public folders via MediaStore or SAF approach."},{"owner":{"account_id":21723270,"reputation":3,"user_id":16033041,"display_name":"thakur gupta"},"score":0,"creation_date":1662892610,"post_id":73669758,"comment_id":130107117,"body_markdown":"My songs on physical device are in google files in downloads folder","body":"My songs on physical device are in google files in downloads folder"},{"owner":{"account_id":21723270,"reputation":3,"user_id":16033041,"display_name":"thakur gupta"},"score":0,"creation_date":1662892702,"post_id":73669758,"comment_id":130107134,"body_markdown":"I want this app should search for songs everywhere both on internal storage google files and sd card because then only everyone can use it .","body":"I want this app should search for songs everywhere both on internal storage google files and sd card because then only everyone can use it ."}],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662959482,"creation_date":1662959482,"answer_id":73684727,"question_id":73669758,"body_markdown":"in below code helps you to get the song from internal storage.\r\n\r\n     private void loadAudioFromLocal() {\r\n        ContentResolver contentResolver = getContentResolver();\r\n        Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n        String selection = MediaStore.Audio.Media.IS_MUSIC + &quot;!= 0&quot;;\r\n        String sortOrder = MediaStore.Audio.Media.TITLE + &quot; ASC&quot;;\r\n        Cursor cursor = contentResolver.query(uri, null, selection, null, sortOrder);\r\n        if (cursor != null &amp;&amp; cursor.getCount() &gt; 0) {\r\n            audioList = new ArrayList&lt;&gt;();\r\n            while (cursor.moveToNext()) {\r\n                String data = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DATA));\r\n                String title = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.TITLE));\r\n                String album = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM));\r\n                String artist = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST));\r\n\r\n                // Save to audioList\r\n                audioList.add(new Audio(data, title, album, artist));\r\n            }\r\n        }\r\n        Objects.requireNonNull(cursor).close();\r\n        MusicPlayerAdapter adapter = new MusicPlayerAdapter(this, audioList, this);\r\n        rvMusicPlayer.setAdapter(adapter);\r\n    }","title":"How to fetch internal storage songs to the music player app?","body":"<p>in below code helps you to get the song from internal storage.</p>\n<pre><code> private void loadAudioFromLocal() {\n    ContentResolver contentResolver = getContentResolver();\n    Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n    String selection = MediaStore.Audio.Media.IS_MUSIC + &quot;!= 0&quot;;\n    String sortOrder = MediaStore.Audio.Media.TITLE + &quot; ASC&quot;;\n    Cursor cursor = contentResolver.query(uri, null, selection, null, sortOrder);\n    if (cursor != null &amp;&amp; cursor.getCount() &gt; 0) {\n        audioList = new ArrayList&lt;&gt;();\n        while (cursor.moveToNext()) {\n            String data = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DATA));\n            String title = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.TITLE));\n            String album = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM));\n            String artist = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST));\n\n            // Save to audioList\n            audioList.add(new Audio(data, title, album, artist));\n        }\n    }\n    Objects.requireNonNull(cursor).close();\n    MusicPlayerAdapter adapter = new MusicPlayerAdapter(this, audioList, this);\n    rvMusicPlayer.setAdapter(adapter);\n}\n</code></pre>\n"}],"owner":{"account_id":21723270,"reputation":3,"user_id":16033041,"display_name":"thakur gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662959482,"creation_date":1662791485,"question_id":73669758,"body_markdown":"I used external storage permission to app. So it reads SD card.\r\n On Emulator,the songs are getting displayed as it has its sd card storage but the songs are not displayed on my physical device may be because in my device has song in its internal storage and not on any sd card. So how to fetch song from internal storage. Which permission to use?\r\n\r\n**Main Activity**\r\n\r\n    package com.example.vocals;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.content.Intent;\r\n    import android.location.GnssAntennaInfo;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.karumi.dexter.Dexter;\r\n    import com.karumi.dexter.PermissionToken;\r\n    import com.karumi.dexter.listener.PermissionDeniedResponse;\r\n    import com.karumi.dexter.listener.PermissionGrantedResponse;\r\n    import com.karumi.dexter.listener.PermissionRequest;\r\n    import com.karumi.dexter.listener.single.PermissionListener;\r\n    \r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        ListView listView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            listView=findViewById(R.id.songs);\r\n            Dexter.withContext(this)\r\n                    .withPermission(READ_EXTERNAL_STORAGE)\r\n                    .withListener(new PermissionListener() {\r\n                        @Override\r\n                        public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                            displaySong();\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                            permissionToken.continuePermissionRequest();\r\n                        }\r\n                    }).check();\r\n    \r\n    \r\n        }\r\n        public ArrayList&lt;File&gt;findSong(File file){\r\n            ArrayList&lt;File&gt;arraylist=new ArrayList&lt;&gt;();\r\n            File[] files= file.listFiles();\r\n            if(files!=null){\r\n                for(File singleFile:files){\r\n                    if(singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\r\n                        arraylist.addAll(findSong(singleFile));\r\n                    }\r\n                    else{\r\n                        if(singleFile.getName().toString().endsWith(&quot;.mp3&quot;) || singleFile.getName().toString().endsWith(&quot;wav&quot; )&amp;&amp; !singleFile.getName().toString().startsWith(&quot;.&quot;) )\r\n                        {\r\n                            arraylist.add(singleFile);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                Log.d(&quot;info&quot;, &quot;findSong: No files found to play&quot;);\r\n            }\r\n            return  arraylist;\r\n        }\r\n        public void displaySong() {\r\n            ArrayList&lt;File&gt;mySongs=findSong(Environment.getExternalStorageDirectory());\r\n            ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;mySongs.size();i++){\r\n                items.add(mySongs.get(i).getName().replace(&quot;.mp3&quot;,&quot;&quot;).replace(&quot;.wav&quot;,&quot;&quot;));\r\n            }\r\n    \r\n    //        CustomAdapter songAdapter=new CustomAdapter(this,items);\r\n            ArrayAdapter&lt;String&gt; songAdapter=new ArrayAdapter(this, android.R.layout.simple_list_item_1,items);\r\n            listView.setAdapter(songAdapter);\r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    Intent intent=new Intent(MainActivity.this,PlaySong.class);\r\n                    intent.putExtra(&quot;position&quot;,i);\r\n                    intent.putExtra(&quot;songlist&quot;,mySongs);\r\n                    intent.putExtra(&quot;songname&quot;,items.get(i));\r\n                    startActivity(intent);\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n    }\r\n**Second activity play song code**\r\n\r\n    package com.example.vocals;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.media.MediaPlayer;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    import android.widget.SeekBar;\r\n    import android.widget.TextView;\r\n    \r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    \r\n    public class PlaySong extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            mp.stop();\r\n            mp.release();\r\n            updateSeek.interrupt();\r\n        }\r\n    \r\n        TextView txtsong;\r\n        ImageView next,previous,pause;\r\n        MediaPlayer mp=new MediaPlayer();\r\n        Thread updateSeek;\r\n        int current_position=0;\r\n        int position;\r\n        ArrayList&lt;File&gt; songs;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_play_song);\r\n            txtsong=findViewById(R.id.txtsong);\r\n            next=findViewById(R.id.next);\r\n            previous=findViewById(R.id.previous);\r\n            pause=findViewById(R.id.pause);\r\n            SeekBar seekBar=findViewById(R.id.seekBar);\r\n    \r\n            Intent intent=getIntent();\r\n            Bundle bundle=intent.getExtras();\r\n            songs= (ArrayList) bundle.getParcelableArrayList(&quot;songlist&quot;);\r\n           String txtcontent= intent.getStringExtra(&quot;songname&quot;);\r\n           txtsong.setText(txtcontent);\r\n           txtsong.setSelected(true);\r\n           position=intent.getIntExtra(&quot;position&quot;,0);\r\n           Uri uri=Uri.parse(songs.get(position).toString());// to string works but get name does not question why this happened?\r\n           mp=MediaPlayer.create(this,uri);\r\n           mp.start();\r\n           seekBar.setMax(mp.getDuration());\r\n            seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n                  mp.seekTo(seekBar.getProgress());\r\n                }\r\n            });\r\n            updateSeek=new Thread(){\r\n                @Override\r\n                public void run() {\r\n    \r\n                    super.run();\r\n                    try{\r\n                        while(current_position&lt;mp.getDuration()){\r\n                            current_position=mp.getCurrentPosition();\r\n                            seekBar.setProgress(current_position);\r\n                            sleep(800);\r\n                        }\r\n    \r\n                    }\r\n                    catch(Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n            };\r\n            updateSeek.start();\r\n            previous.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    mp.stop();\r\n                    mp.release();\r\n                    if(position!=0){\r\n                        position=position-1;\r\n                    }\r\n                    else{\r\n                        position=songs.size()-1;\r\n                    }\r\n                    txtsong.setText(songs.get(position).toString().replace(&quot;.mp3&quot;,&quot;&quot;));\r\n                    Uri uri=Uri.parse(songs.get(position).toString());\r\n                    mp= MediaPlayer.create(getApplicationContext(),uri);\r\n                    mp.start();\r\n                    pause.setImageResource(R.drawable.pause);\r\n                }\r\n            });\r\n            pause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(mp.isPlaying()){\r\n                        mp.pause();\r\n                        pause.setImageResource(R.drawable.play);\r\n                    }\r\n                    else{\r\n                        mp.start();\r\n                        pause.setImageResource(R.drawable.pause);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            next.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    mp.stop();\r\n                    mp.release();\r\n                    if(position!=songs.size()-1){\r\n                        position=position+1;\r\n                    }\r\n                    else{\r\n                        position=0;\r\n                    }\r\n                    txtsong.setText(songs.get(position).toString().replace(&quot;.mp3&quot;,&quot;&quot;));\r\n                    Uri uri=Uri.parse(songs.get(position).toString());\r\n                    mp= MediaPlayer.create(getApplicationContext(),uri);\r\n                    mp.start();\r\n                    pause.setImageResource(R.drawable.pause);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\n**Manifest file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.vocals&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Vocals&quot;&gt;\r\n            &lt;activity android:name=&quot;.PlaySong&quot;\r\n                android:label=&quot;Player&quot;\r\n                android:parentActivityName=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"How to fetch internal storage songs to the music player app?","body":"<p>I used external storage permission to app. So it reads SD card.\nOn Emulator,the songs are getting displayed as it has its sd card storage but the songs are not displayed on my physical device may be because in my device has song in its internal storage and not on any sd card. So how to fetch song from internal storage. Which permission to use?</p>\n<p><strong>Main Activity</strong></p>\n<pre><code>package com.example.vocals;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.location.GnssAntennaInfo;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.karumi.dexter.Dexter;\nimport com.karumi.dexter.PermissionToken;\nimport com.karumi.dexter.listener.PermissionDeniedResponse;\nimport com.karumi.dexter.listener.PermissionGrantedResponse;\nimport com.karumi.dexter.listener.PermissionRequest;\nimport com.karumi.dexter.listener.single.PermissionListener;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\n\npublic class MainActivity extends AppCompatActivity {\n    ListView listView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        listView=findViewById(R.id.songs);\n        Dexter.withContext(this)\n                .withPermission(READ_EXTERNAL_STORAGE)\n                .withListener(new PermissionListener() {\n                    @Override\n                    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                        displaySong();\n\n                    }\n\n                    @Override\n                    public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n\n                    }\n\n                    @Override\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                        permissionToken.continuePermissionRequest();\n                    }\n                }).check();\n\n\n    }\n    public ArrayList&lt;File&gt;findSong(File file){\n        ArrayList&lt;File&gt;arraylist=new ArrayList&lt;&gt;();\n        File[] files= file.listFiles();\n        if(files!=null){\n            for(File singleFile:files){\n                if(singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\n                    arraylist.addAll(findSong(singleFile));\n                }\n                else{\n                    if(singleFile.getName().toString().endsWith(&quot;.mp3&quot;) || singleFile.getName().toString().endsWith(&quot;wav&quot; )&amp;&amp; !singleFile.getName().toString().startsWith(&quot;.&quot;) )\n                    {\n                        arraylist.add(singleFile);\n                    }\n                }\n            }\n        }\n        else{\n            Log.d(&quot;info&quot;, &quot;findSong: No files found to play&quot;);\n        }\n        return  arraylist;\n    }\n    public void displaySong() {\n        ArrayList&lt;File&gt;mySongs=findSong(Environment.getExternalStorageDirectory());\n        ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;mySongs.size();i++){\n            items.add(mySongs.get(i).getName().replace(&quot;.mp3&quot;,&quot;&quot;).replace(&quot;.wav&quot;,&quot;&quot;));\n        }\n\n//        CustomAdapter songAdapter=new CustomAdapter(this,items);\n        ArrayAdapter&lt;String&gt; songAdapter=new ArrayAdapter(this, android.R.layout.simple_list_item_1,items);\n        listView.setAdapter(songAdapter);\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Intent intent=new Intent(MainActivity.this,PlaySong.class);\n                intent.putExtra(&quot;position&quot;,i);\n                intent.putExtra(&quot;songlist&quot;,mySongs);\n                intent.putExtra(&quot;songname&quot;,items.get(i));\n                startActivity(intent);\n            }\n\n\n        });\n\n    }\n\n}\n</code></pre>\n<p><strong>Second activity play song code</strong></p>\n<pre><code>package com.example.vocals;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\nimport java.io.File;\nimport java.util.ArrayList;\n\npublic class PlaySong extends AppCompatActivity {\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mp.stop();\n        mp.release();\n        updateSeek.interrupt();\n    }\n\n    TextView txtsong;\n    ImageView next,previous,pause;\n    MediaPlayer mp=new MediaPlayer();\n    Thread updateSeek;\n    int current_position=0;\n    int position;\n    ArrayList&lt;File&gt; songs;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_play_song);\n        txtsong=findViewById(R.id.txtsong);\n        next=findViewById(R.id.next);\n        previous=findViewById(R.id.previous);\n        pause=findViewById(R.id.pause);\n        SeekBar seekBar=findViewById(R.id.seekBar);\n\n        Intent intent=getIntent();\n        Bundle bundle=intent.getExtras();\n        songs= (ArrayList) bundle.getParcelableArrayList(&quot;songlist&quot;);\n       String txtcontent= intent.getStringExtra(&quot;songname&quot;);\n       txtsong.setText(txtcontent);\n       txtsong.setSelected(true);\n       position=intent.getIntExtra(&quot;position&quot;,0);\n       Uri uri=Uri.parse(songs.get(position).toString());// to string works but get name does not question why this happened?\n       mp=MediaPlayer.create(this,uri);\n       mp.start();\n       seekBar.setMax(mp.getDuration());\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n              mp.seekTo(seekBar.getProgress());\n            }\n        });\n        updateSeek=new Thread(){\n            @Override\n            public void run() {\n\n                super.run();\n                try{\n                    while(current_position&lt;mp.getDuration()){\n                        current_position=mp.getCurrentPosition();\n                        seekBar.setProgress(current_position);\n                        sleep(800);\n                    }\n\n                }\n                catch(Exception e){\n                    e.printStackTrace();\n                }\n\n            }\n        };\n        updateSeek.start();\n        previous.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mp.stop();\n                mp.release();\n                if(position!=0){\n                    position=position-1;\n                }\n                else{\n                    position=songs.size()-1;\n                }\n                txtsong.setText(songs.get(position).toString().replace(&quot;.mp3&quot;,&quot;&quot;));\n                Uri uri=Uri.parse(songs.get(position).toString());\n                mp= MediaPlayer.create(getApplicationContext(),uri);\n                mp.start();\n                pause.setImageResource(R.drawable.pause);\n            }\n        });\n        pause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(mp.isPlaying()){\n                    mp.pause();\n                    pause.setImageResource(R.drawable.play);\n                }\n                else{\n                    mp.start();\n                    pause.setImageResource(R.drawable.pause);\n                }\n            }\n        });\n\n        next.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mp.stop();\n                mp.release();\n                if(position!=songs.size()-1){\n                    position=position+1;\n                }\n                else{\n                    position=0;\n                }\n                txtsong.setText(songs.get(position).toString().replace(&quot;.mp3&quot;,&quot;&quot;));\n                Uri uri=Uri.parse(songs.get(position).toString());\n                mp= MediaPlayer.create(getApplicationContext(),uri);\n                mp.start();\n                pause.setImageResource(R.drawable.pause);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p><strong>Manifest file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.vocals&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Vocals&quot;&gt;\n        &lt;activity android:name=&quot;.PlaySong&quot;\n            android:label=&quot;Player&quot;\n            android:parentActivityName=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","azure","tomcat","tomcat8"],"comments":[{"owner":{"account_id":2109418,"reputation":4958,"user_id":1874991,"display_name":"kamil-mrzyglod"},"score":0,"creation_date":1491828519,"post_id":43323133,"comment_id":73711292,"body_markdown":"Maybe Kudu console?","body":"Maybe Kudu console?"}],"answers":[{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491882349,"creation_date":1491882349,"answer_id":43336393,"question_id":43323133,"body_markdown":"On Azure App Service, all popular versions of Java had been installed at the path `D:\\Program Files (x86)\\Java`. Take version 1.8.0u73 as example, please see the figure below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can command `set PATH=D:\\Program Files (x86)\\Java\\jdk1.8.0_73\\bin;%PATH%` to add Java tools to the environment temporarily via the Kudu console tool. Then, the `jstack` tool is available in the current Kudu session.\r\n\r\n  [1]: https://i.stack.imgur.com/1lpSd.png","title":"How to do a thread dump on Azure App Service?","body":"<p>On Azure App Service, all popular versions of Java had been installed at the path <code>D:\\Program Files (x86)\\Java</code>. Take version 1.8.0u73 as example, please see the figure below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1lpSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1lpSd.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can command <code>set PATH=D:\\Program Files (x86)\\Java\\jdk1.8.0_73\\bin;%PATH%</code> to add Java tools to the environment temporarily via the Kudu console tool. Then, the <code>jstack</code> tool is available in the current Kudu session.</p>\n"},{"tags":[],"owner":{"account_id":126958,"reputation":3874,"user_id":323807,"accept_rate":71,"display_name":"Andre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502376069,"creation_date":1501683282,"answer_id":45463360,"question_id":43323133,"body_markdown":"Inspired by the previous answer, I created the following bat script (could be powershell, I suppose) that does the job:\r\n\r\n    powershell -Command &quot;get-process java |select -expand id&quot; &gt; pid.txt\r\n    set /p id= &lt; pid.txt\r\n    &quot;%JAVA_HOME%\\bin\\jstack&quot; -F %id% &gt; out.txt\r\n\r\nIt uses the java version that you&#39;re using in your app (JAVA_HOME) and doesn&#39;t require any input from you. It&#39;s simple and does the trick. Just create a bat file in your wwwroot, for example, and run it whenever you want.","title":"How to do a thread dump on Azure App Service?","body":"<p>Inspired by the previous answer, I created the following bat script (could be powershell, I suppose) that does the job:</p>\n\n<pre><code>powershell -Command \"get-process java |select -expand id\" &gt; pid.txt\nset /p id= &lt; pid.txt\n\"%JAVA_HOME%\\bin\\jstack\" -F %id% &gt; out.txt\n</code></pre>\n\n<p>It uses the java version that you're using in your app (JAVA_HOME) and doesn't require any input from you. It's simple and does the trick. Just create a bat file in your wwwroot, for example, and run it whenever you want.</p>\n"},{"tags":[],"owner":{"account_id":2141687,"reputation":2237,"user_id":1900166,"display_name":"Puneet Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662710485,"creation_date":1662710485,"answer_id":73659050,"question_id":43323133,"body_markdown":"I know this is an old question but for Windows Apps on Azure App Service, this can be easily done by going to **Azure Portal** -&gt; **Diagnose and Solve problems** blade -&gt; **Diagnostic Tools** and then choosing Collect Java Thread dump from the left menu or the middle pane.\r\n\r\n[![Screenshot Diagnose and Solve Blade][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ZTkd.png","title":"How to do a thread dump on Azure App Service?","body":"<p>I know this is an old question but for Windows Apps on Azure App Service, this can be easily done by going to <strong>Azure Portal</strong> -&gt; <strong>Diagnose and Solve problems</strong> blade -&gt; <strong>Diagnostic Tools</strong> and then choosing Collect Java Thread dump from the left menu or the middle pane.</p>\n<p><a href=\"https://i.stack.imgur.com/6ZTkd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ZTkd.png\" alt=\"Screenshot Diagnose and Solve Blade\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13321351,"reputation":146,"user_id":9615895,"display_name":"Gaurav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662958882,"creation_date":1662958882,"answer_id":73684667,"question_id":43323133,"body_markdown":" - Get the PID of java process from Process Explorer of Kudu (Advanced Tools)\r\n - Use this command to collect thread dump:\r\n jcmd &lt;pidOfJavaProcess&gt; Thread.print &gt; D:\\home\\threaddump.txt","title":"How to do a thread dump on Azure App Service?","body":"<ul>\n<li>Get the PID of java process from Process Explorer of Kudu (Advanced Tools)</li>\n<li>Use this command to collect thread dump:\njcmd  Thread.print &gt; D:\\home\\threaddump.txt</li>\n</ul>\n"}],"owner":{"account_id":1518561,"reputation":2184,"user_id":1418938,"accept_rate":56,"display_name":"Davey Chu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43336393,"answer_count":4,"score":1,"last_activity_date":1662958882,"creation_date":1491827196,"question_id":43323133,"body_markdown":"I have an Azure App Service running Tomcat 8.5 and can&#39;t seem to figure out how to do a thread dump. jstack is not recognized in the Console nor the DebugConsole.","title":"How to do a thread dump on Azure App Service?","body":"<p>I have an Azure App Service running Tomcat 8.5 and can't seem to figure out how to do a thread dump. jstack is not recognized in the Console nor the DebugConsole.</p>\n"},{"tags":["java","css","treeview","javafx"],"comments":[{"owner":{"account_id":1999635,"reputation":57377,"user_id":1790982,"accept_rate":94,"display_name":"Pete"},"score":0,"creation_date":1381243196,"post_id":19250004,"comment_id":28496740,"body_markdown":"do you need the `-fx-`? should it not just be `background-image: url(&quot;minus-icon.gif&quot;);`","body":"do you need the <code>-fx-</code>? should it not just be <code>background-image: url(&quot;minus-icon.gif&quot;);</code>"},{"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"score":1,"creation_date":1381245739,"post_id":19250004,"comment_id":28498557,"body_markdown":"Thanks Pete! This is javafx and css selectors are very similar but with prefix -fx-.","body":"Thanks Pete! This is javafx and css selectors are very similar but with prefix -fx-."}],"answers":[{"tags":[],"owner":{"account_id":2320169,"reputation":21,"user_id":2036144,"display_name":"user2036144"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391207383,"creation_date":1391207383,"answer_id":21491274,"question_id":19250004,"body_markdown":"Use 9*9 icons and also given CSS:\r\n\r\n    .tree-cell .tree-disclosure-node .arrow {\r\n    -fx-shape: null;\r\n    -fx-background-color: null;\r\n    -fx-background-image: url(&quot;plus-icon.gif&quot;);\r\n    }\r\n\r\n    .tree-cell:expanded .tree-disclosure-node .arrow {\r\n    -fx-shape: null;\r\n    -fx-background-color: null;\r\n    -fx-background-image: url(&quot;minus-icon.gif&quot;);\r\n    }","title":"How to display my icon instead of arrow in TreeView?","body":"<p>Use 9*9 icons and also given CSS:</p>\n\n<pre><code>.tree-cell .tree-disclosure-node .arrow {\n-fx-shape: null;\n-fx-background-color: null;\n-fx-background-image: url(\"plus-icon.gif\");\n}\n\n.tree-cell:expanded .tree-disclosure-node .arrow {\n-fx-shape: null;\n-fx-background-color: null;\n-fx-background-image: url(\"minus-icon.gif\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17571893,"reputation":72,"user_id":12747476,"display_name":"selami tastan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662958767,"creation_date":1662958767,"answer_id":73684655,"question_id":19250004,"body_markdown":"     /**\r\n     * the disclosure node is a StackPane, and has as a child another StackPane with style class arrow\r\n     */\r\n    \r\n    .tree-cell &gt; .tree-disclosure-node &gt; .arrow,\r\n    .tree-table-row-cell &gt; .tree-disclosure-node &gt; .arrow {\r\n    \t-fx-background-color: transparent;\r\n    }\r\n    \r\n    .tree-cell:expanded &gt; .tree-disclosure-node &gt; .arrow,\r\n    .tree-table-row-cell:expanded &gt; .tree-disclosure-node &gt; .arrow {\r\n    \t-fx-background-color: transparent;\r\n    }\r\n    \r\n    .tree-cell &gt; .tree-disclosure-node,\r\n    .tree-table-row-cell &gt; .tree-disclosure-node{\r\n    \t-fx-background-image: url(&quot;/icons/icons8_stop_sign_100px_1.png&quot;); /* Url of the icon */\r\n    \t-fx-background-size: 90% 90%; /* Can be `cover` or `100% 100%` ect. */\r\n    \t-fx-background-repeat: no-repeat;\r\n    \t-fx-background-position: center center; /* Put the icon in the center */\r\n    }\r\n    \r\n    .tree-cell:expanded &gt; .tree-disclosure-node ,\r\n    .tree-table-row-cell:expanded &gt; .tree-disclosure-node {\r\n    \t-fx-background-image: url(&quot;/icons/icons8_new_moon_100px_1.png&quot;); /* Url of the icon */\r\n    \t-fx-background-size: 90% 90%; /* Can be `cover` or `100% 100%` ect. */\r\n    \t-fx-background-repeat: no-repeat;\r\n    \t-fx-background-position: center center; /* Put the icon in the center */\r\n    }\r\n\r\n","title":"How to display my icon instead of arrow in TreeView?","body":"<pre><code> /**\n * the disclosure node is a StackPane, and has as a child another StackPane with style class arrow\n */\n\n.tree-cell &gt; .tree-disclosure-node &gt; .arrow,\n.tree-table-row-cell &gt; .tree-disclosure-node &gt; .arrow {\n    -fx-background-color: transparent;\n}\n\n.tree-cell:expanded &gt; .tree-disclosure-node &gt; .arrow,\n.tree-table-row-cell:expanded &gt; .tree-disclosure-node &gt; .arrow {\n    -fx-background-color: transparent;\n}\n\n.tree-cell &gt; .tree-disclosure-node,\n.tree-table-row-cell &gt; .tree-disclosure-node{\n    -fx-background-image: url(&quot;/icons/icons8_stop_sign_100px_1.png&quot;); /* Url of the icon */\n    -fx-background-size: 90% 90%; /* Can be `cover` or `100% 100%` ect. */\n    -fx-background-repeat: no-repeat;\n    -fx-background-position: center center; /* Put the icon in the center */\n}\n\n.tree-cell:expanded &gt; .tree-disclosure-node ,\n.tree-table-row-cell:expanded &gt; .tree-disclosure-node {\n    -fx-background-image: url(&quot;/icons/icons8_new_moon_100px_1.png&quot;); /* Url of the icon */\n    -fx-background-size: 90% 90%; /* Can be `cover` or `100% 100%` ect. */\n    -fx-background-repeat: no-repeat;\n    -fx-background-position: center center; /* Put the icon in the center */\n}\n</code></pre>\n"}],"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2882,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662958767,"creation_date":1381241294,"question_id":19250004,"body_markdown":"I try to replace default arrow icon in TreeView with my icon. The problem is that my icon is cropped although it is only 9x9 pixels. To replace icon I use CSS as suggested on stackoverflow:\n\n    .tree-cell &gt; .tree-disclosure-node &gt; .arrow {\n        -fx-background-color: null;\n        -fx-background-image: url(&quot;plus-icon.gif&quot;);\n    }\n    \n    .tree-cell:expanded &gt; .tree-disclosure-node &gt; .arrow {\n        -fx-background-color: null;\n        -fx-background-image: url(&quot;minus-icon.gif&quot;);\n    }\n\nBut this makes my tiny icon cropped(cut):\n\n![enter image description here][1]\n\nI tried to change this by playing with css and padding but it does not help.\n\nThank you!\n\n  [1]: http://i.stack.imgur.com/C5OyA.png","title":"How to display my icon instead of arrow in TreeView?","body":"<p>I try to replace default arrow icon in TreeView with my icon. The problem is that my icon is cropped although it is only 9x9 pixels. To replace icon I use CSS as suggested on stackoverflow:</p>\n<pre><code>.tree-cell &gt; .tree-disclosure-node &gt; .arrow {\n    -fx-background-color: null;\n    -fx-background-image: url(&quot;plus-icon.gif&quot;);\n}\n\n.tree-cell:expanded &gt; .tree-disclosure-node &gt; .arrow {\n    -fx-background-color: null;\n    -fx-background-image: url(&quot;minus-icon.gif&quot;);\n}\n</code></pre>\n<p>But this makes my tiny icon cropped(cut):</p>\n<p><img src=\"https://i.stack.imgur.com/C5OyA.png\" alt=\"enter image description here\" /></p>\n<p>I tried to change this by playing with css and padding but it does not help.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"score":0,"creation_date":1662957717,"post_id":73684524,"comment_id":130117604,"body_markdown":"spring.datasource.url=jdbc:mysql://localhost/cursojava?useSSL=false  port number and password is missing , default 3306 . Try to connect using https://dbeaver.io/  to check any db issues","body":"spring.datasource.url=jdbc:mysql://localhost/cursojava?useSS&zwnj;&#8203;L=false  port number and password is missing , default 3306 . Try to connect using <a href=\"https://dbeaver.io/\" rel=\"nofollow noreferrer\">dbeaver.io</a>  to check any db issues"},{"owner":{"account_id":12922882,"reputation":1,"user_id":9344642,"display_name":"Hugo"},"score":0,"creation_date":1663295780,"post_id":73684524,"comment_id":130211061,"body_markdown":"I did it and i get &quot;Connection refused&quot;, it seems that localhost and por 3306 or 8080 are not working. Is there a way to get the connection parameters from Xampp?","body":"I did it and i get &quot;Connection refused&quot;, it seems that localhost and por 3306 or 8080 are not working. Is there a way to get the connection parameters from Xampp?"}],"owner":{"account_id":12922882,"reputation":1,"user_id":9344642,"display_name":"Hugo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662958508,"creation_date":1662957089,"question_id":73684524,"body_markdown":"My app shows app file in gray and I can&#39;t connect local xampp db.\r\nI&#39;m using intellij with mysql database.\r\nThanks!\r\n\r\napplication.properties file\r\n\r\n    # GENERAL\r\n    server.port=8080\r\n    #\r\n    # DATABASE\r\n    spring.datasource.url=jdbc:mysql://localhost/cursojava?useSSL=false\r\n    spring.datasource.dbname=cursojava\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nthis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.potencialaboral&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.22&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.19&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n&#39;This is the error I get while trying to launch the server.&#39;\r\nIt&#39;s not working and the server does not start.\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.599 s\r\n    [INFO] Finished at: 2022-09-10T01:55:57-03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:run (default-cli) on project demo: Application finished with exit code: 1 -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    \r\n    Process finished with exit code 1\r\n\r\nThis error is not allowing the server to launch.","title":"Intellij database connection not working and properties file in grey","body":"<p>My app shows app file in gray and I can't connect local xampp db.\nI'm using intellij with mysql database.\nThanks!</p>\n<p>application.properties file</p>\n<pre><code># GENERAL\nserver.port=8080\n#\n# DATABASE\nspring.datasource.url=jdbc:mysql://localhost/cursojava?useSSL=false\nspring.datasource.dbname=cursojava\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>this is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.potencialaboral&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;5.3.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.24&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>'This is the error I get while trying to launch the server.'\nIt's not working and the server does not start.</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.599 s\n[INFO] Finished at: 2022-09-10T01:55:57-03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:run (default-cli) on project demo: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\nProcess finished with exit code 1\n</code></pre>\n<p>This error is not allowing the server to launch.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"score":0,"creation_date":1662775425,"post_id":73668739,"comment_id":130090533,"body_markdown":"if you mean by my example, it&#39;s just more or less how i want the pattern would be, it&#39;s not the actual output","body":"if you mean by my example, it&#39;s just more or less how i want the pattern would be, it&#39;s not the actual output"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662776068,"post_id":73668739,"comment_id":130090603,"body_markdown":"Why regex? You can split the original string on `hello`, then call `replaceAll(&quot;_&quot;)` on each part, then join each part back on `&quot;hello&quot;`","body":"Why regex? You can split the original string on <code>hello</code>, then call <code>replaceAll(&quot;_&quot;)</code> on each part, then join each part back on <code>&quot;hello&quot;</code>"},{"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"score":0,"creation_date":1662809015,"post_id":73668739,"comment_id":130094851,"body_markdown":"@OneCricketeer It&#39;s actually not that simple. To account for consecutive `hello`&#39;s, you&#39;d still have to use regex to split on `(?:hello)+`, maintain a list of the actual delimiter (e.g., &quot;hello&quot;, &quot;hellohello&quot;, etc.), their char count, or hello-count, replace the other chars, and then reconstruct the string. The easiest non-regex solution would be to loop through the chars replacing them one by one and jumping ahead whenever the next 5 chars are a &quot;hello&quot;.","body":"@OneCricketeer It&#39;s actually not that simple. To account for consecutive <code>hello</code>&#39;s, you&#39;d still have to use regex to split on <code>(?:hello)+</code>, maintain a list of the actual delimiter (e.g., &quot;hello&quot;, &quot;hellohello&quot;, etc.), their char count, or hello-count, replace the other chars, and then reconstruct the string. The easiest non-regex solution would be to loop through the chars replacing them one by one and jumping ahead whenever the next 5 chars are a &quot;hello&quot;."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1662811078,"post_id":73668739,"comment_id":130095209,"body_markdown":"Lets say we want to preserve `aba` in text like `xababax`. What should be result? `_ababa_` or `_aba___` or `___aba_`, or maybe something else?","body":"Lets say we want to preserve <code>aba</code> in text like <code>xababax</code>. What should be result? <code>_ababa_</code> or <code>_aba___</code> or <code>___aba_</code>, or maybe something else?"}],"answers":[{"tags":[],"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1662780476,"creation_date":1662774894,"answer_id":73668800,"question_id":73668739,"body_markdown":"You may replace:\r\n\r\n    (?:^|\\G|(?&lt;=hello))(?!hello).\r\n\r\nWith:\r\n\r\n    _\r\n\r\n**Breakdown:**\r\n\r\n- `(?:` - Start of a non-capturing group.\r\n  - `^` - Match starts at the beginning of the string/line,\r\n  - `|` - OR...\r\n  - `\\G` - starts immediately following the previous match,\r\n  - `|` - OR...\r\n  - `(?&lt;=hello)` - is immediately preceded by &quot;hello&quot;.\r\n- `)` - Close the non-capturing group.\r\n- `(?!hello)` - Not followed by &quot;hello&quot;.\r\n- `.` - Any single character (aside from linebreaks).\r\n\r\n**[Regex demo][1]**.\r\n\r\n**Java demo:**\r\n\r\n    String input = &quot;sdahasdahellodsadsahdashellodsadsadsahehllo&quot;;\r\n    String output = input.replaceAll(&quot;(?:^|\\\\G|(?&lt;=hello))(?!hello).&quot;, &quot;_&quot;);\r\n    System.out.println(output);  // ________hello__________hello_______________\r\n\r\n**[Try it online][2]**.\r\n\r\n\r\n  [1]: https://regex101.com/r/Yz9Iqo/1\r\n  [2]: https://rextester.com/JLUE47015\r\n\r\n","title":"match everything that isn&#39;t &quot;hello&quot;","body":"<p>You may replace:</p>\n<pre><code>(?:^|\\G|(?&lt;=hello))(?!hello).\n</code></pre>\n<p>With:</p>\n<pre><code>_\n</code></pre>\n<p><strong>Breakdown:</strong></p>\n<ul>\n<li><code>(?:</code> - Start of a non-capturing group.\n<ul>\n<li><code>^</code> - Match starts at the beginning of the string/line,</li>\n<li><code>|</code> - OR...</li>\n<li><code>\\G</code> - starts immediately following the previous match,</li>\n<li><code>|</code> - OR...</li>\n<li><code>(?&lt;=hello)</code> - is immediately preceded by &quot;hello&quot;.</li>\n</ul>\n</li>\n<li><code>)</code> - Close the non-capturing group.</li>\n<li><code>(?!hello)</code> - Not followed by &quot;hello&quot;.</li>\n<li><code>.</code> - Any single character (aside from linebreaks).</li>\n</ul>\n<p><strong><a href=\"https://regex101.com/r/Yz9Iqo/1\" rel=\"nofollow noreferrer\">Regex demo</a></strong>.</p>\n<p><strong>Java demo:</strong></p>\n<pre><code>String input = &quot;sdahasdahellodsadsahdashellodsadsadsahehllo&quot;;\nString output = input.replaceAll(&quot;(?:^|\\\\G|(?&lt;=hello))(?!hello).&quot;, &quot;_&quot;);\nSystem.out.println(output);  // ________hello__________hello_______________\n</code></pre>\n<p><strong><a href=\"https://rextester.com/JLUE47015\" rel=\"nofollow noreferrer\">Try it online</a></strong>.</p>\n"}],"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"answer_count":1,"score":-3,"last_activity_date":1662957957,"creation_date":1662773907,"question_id":73668739,"body_markdown":"lets say I have\r\n\r\n    String str = &quot;sdahasdahellodsadsahdashellodsadsadsahehllo&quot;;\r\n\r\nand I want to replace every letter that isn&#39;t part of hello with the character &#39;_&#39;, how would I do it? the output would be something like:\r\n\r\n&gt; `_______hello_________hello_____________`\r\n\r\nWhat regex would I have to use? I&#39;ve used `[^hello]` but it matches each individual character, not the word itself, so I have a bunch of random letters floating about.","title":"match everything that isn&#39;t &quot;hello&quot;","body":"<p>lets say I have</p>\n<pre><code>String str = &quot;sdahasdahellodsadsahdashellodsadsadsahehllo&quot;;\n</code></pre>\n<p>and I want to replace every letter that isn't part of hello with the character '_', how would I do it? the output would be something like:</p>\n<blockquote>\n<p><code>_______hello_________hello_____________</code></p>\n</blockquote>\n<p>What regex would I have to use? I've used <code>[^hello]</code> but it matches each individual character, not the word itself, so I have a bunch of random letters floating about.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1662952906,"post_id":73683994,"comment_id":130116946,"body_markdown":"You want to know if an input `String` contains one or more English alphabet characters? Because what you&#39;re doing right now is testing if `input_string` has any _substring_ that _equals_ `eLang` (ignoring case).","body":"You want to know if an input <code>String</code> contains one or more English alphabet characters? Because what you&#39;re doing right now is testing if <code>input_string</code> has any <i>substring</i> that <i>equals</i> <code>eLang</code> (ignoring case)."},{"owner":{"account_id":26302492,"reputation":27,"user_id":19967603,"display_name":"Tom Levi"},"score":0,"creation_date":1662953672,"post_id":73683994,"comment_id":130117039,"body_markdown":"right i want if at least one Char from eLang ,, i just type the hole alphabet characters on the input and gives me a &quot; true &quot; but when i only type &quot; a &quot; &quot;a b c &quot; gives me false","body":"right i want if at least one Char from eLang ,, i just type the hole alphabet characters on the input and gives me a &quot; true &quot; but when i only type &quot; a &quot; &quot;a b c &quot; gives me false"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1662957338,"post_id":73683994,"comment_id":130117542,"body_markdown":"Try something like `input_string.any { it in eLang }` or, if you need to ignore case, `input_string.any { eLang.contains(it, ignoreCase = true) }`.","body":"Try something like <code>input_string.any { it in eLang }</code> or, if you need to ignore case, <code>input_string.any { eLang.contains(it, ignoreCase = true) }</code>."}],"answers":[{"tags":[],"owner":{"account_id":15125013,"reputation":133,"user_id":10914633,"display_name":"Y G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662957815,"creation_date":1662957815,"answer_id":73684576,"question_id":73683994,"body_markdown":"If you want to test if an input has any letters, simply do\r\n\r\n&gt; val hasALetter = input.any(Char::isLetter)\r\n\r\nWhat you&#39;re doing is checking if the input has the entire alphabet string, which is not what you want to be doing.","title":"Using &quot; contains &quot; in kotlin for provide if the input have contains english letters","body":"<p>If you want to test if an input has any letters, simply do</p>\n<blockquote>\n<p>val hasALetter = input.any(Char::isLetter)</p>\n</blockquote>\n<p>What you're doing is checking if the input has the entire alphabet string, which is not what you want to be doing.</p>\n"}],"owner":{"account_id":26302492,"reputation":27,"user_id":19967603,"display_name":"Tom Levi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662957815,"creation_date":1662950366,"question_id":73683994,"body_markdown":"how can I use &quot; contains &quot;?\r\n if the input have contains english letters it&#39;s always shows me false even if am write a english letter small/capital\r\n\r\n     val eLang: String = (&quot;aA b   B c   C d   D e   E f   F g   G h   H i   I j   J k   K l   L m   M n   N o   O p   P q   Q r   R s   S t   T u   U v   V w   W x   X y   Y z   Z&quot;)\r\n\r\n\r\n       \r\n\r\n   output : false\r\n\r\n           println( input_string?.contains(eLang, ignoreCase = true))\r\n\r\n\r\nmain code\r\n\r\n        \r\n    class Loop {\r\n    \r\n        public val input_string: String? = readLine().toString()\r\n        public val input_size = readLine()?.toInt()\r\n    \r\n        fun looping(a: String, b: Int) {\r\n            val eLang: String = (&quot;aA b   B c   C d   D e   E f   F g   G h   H i   I j   J k   K l   L m   M n   N o   O p   P q   Q r   R s   S t   T u   U v   V w   W x   X y   Y z   Z&quot;)\r\n            if ((input_size!! &gt; 1) &amp;&amp; input_string != &quot;&quot;) {\r\n                for (i in 0 until input_size) {\r\n    \r\n                    println(input_string)\r\n                }\r\n    \r\n                input_string?.let { println(&quot;length word you type : ${it.length}&quot;) }\r\n                input_size?.let { println(&quot;Count looping: ${(input_size)}&quot;) }\r\n    \r\n               println( input_string?.contains(eLang, ignoreCase = true))\r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using &quot; contains &quot; in kotlin for provide if the input have contains english letters","body":"<p>how can I use &quot; contains &quot;?\nif the input have contains english letters it's always shows me false even if am write a english letter small/capital</p>\n<pre><code> val eLang: String = (&quot;aA b   B c   C d   D e   E f   F g   G h   H i   I j   J k   K l   L m   M n   N o   O p   P q   Q r   R s   S t   T u   U v   V w   W x   X y   Y z   Z&quot;)\n\n\n   \n</code></pre>\n<p>output : false</p>\n<pre><code>       println( input_string?.contains(eLang, ignoreCase = true))\n</code></pre>\n<p>main code</p>\n<pre><code>class Loop {\n\n    public val input_string: String? = readLine().toString()\n    public val input_size = readLine()?.toInt()\n\n    fun looping(a: String, b: Int) {\n        val eLang: String = (&quot;aA b   B c   C d   D e   E f   F g   G h   H i   I j   J k   K l   L m   M n   N o   O p   P q   Q r   R s   S t   T u   U v   V w   W x   X y   Y z   Z&quot;)\n        if ((input_size!! &gt; 1) &amp;&amp; input_string != &quot;&quot;) {\n            for (i in 0 until input_size) {\n\n                println(input_string)\n            }\n\n            input_string?.let { println(&quot;length word you type : ${it.length}&quot;) }\n            input_size?.let { println(&quot;Count looping: ${(input_size)}&quot;) }\n\n           println( input_string?.contains(eLang, ignoreCase = true))\n\n\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","recursion","stringindexoutofbounds"],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662956834,"creation_date":1662956834,"answer_id":73684485,"question_id":73684464,"body_markdown":"OutOfBoundsError will occur if the length of string `s` is 1,then `s.charAt(1)` will cause this error,so you need to check the length when you visit the next element\r\n\r\n        if(s.charAt(0) == &#39;x&#39;) {\r\n            if(s.length()&gt;1 &amp;&amp;s.charAt(1) == &#39;x&#39;) {\r\n                count += 2;\r\n            }else {\r\n                count++;\r\n            }\r\n        }","title":"Java recursion Index out of range 1","body":"<p>OutOfBoundsError will occur if the length of string <code>s</code> is 1,then <code>s.charAt(1)</code> will cause this error,so you need to check the length when you visit the next element</p>\n<pre><code>    if(s.charAt(0) == 'x') {\n        if(s.length()&gt;1 &amp;&amp;s.charAt(1) == 'x') {\n            count += 2;\n        }else {\n            count++;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16513736,"reputation":1,"user_id":11931788,"display_name":"Threshant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662957614,"creation_date":1662957614,"answer_id":73684563,"question_id":73684464,"body_markdown":"    public static int countX(String str){\r\n\t    if(str == null || str.isEmpty()) {\r\n            return 0;\r\n        }\r\n\t    int currentPos = 0;\r\n\t    int len = str.length();\r\n\t    int count =  0;\r\n\t    if(str.charAt(currentPos) == &#39;x&#39;){\r\n\t        if(currentPos+1 &lt; len &amp;&amp; str.charAt(currentPos+1)==&#39;x&#39;){\r\n\t            count+=2;\r\n\t        }\r\n\t        else{\r\n\t            count+=1;\r\n\t        }\r\n\t        \r\n\t    }\r\n\t    return count+countX(str.substring(1));\r\n\t}\r\n\r\nTry this code, the problem would have occurred as charAt(1) in the last iteration when we have only one char. Adding another if condition will fix this","title":"Java recursion Index out of range 1","body":"<pre><code>public static int countX(String str){\n    if(str == null || str.isEmpty()) {\n        return 0;\n    }\n    int currentPos = 0;\n    int len = str.length();\n    int count =  0;\n    if(str.charAt(currentPos) == 'x'){\n        if(currentPos+1 &lt; len &amp;&amp; str.charAt(currentPos+1)=='x'){\n            count+=2;\n        }\n        else{\n            count+=1;\n        }\n        \n    }\n    return count+countX(str.substring(1));\n}\n</code></pre>\n<p>Try this code, the problem would have occurred as charAt(1) in the last iteration when we have only one char. Adding another if condition will fix this</p>\n"}],"owner":{"account_id":23200315,"reputation":3,"user_id":17295248,"display_name":"Nhan Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73684485,"answer_count":2,"score":0,"last_activity_date":1662957614,"creation_date":1662956602,"question_id":73684464,"body_markdown":"I am currently trying to figure out why the cases that end with x results in an OutOfBoundsError like the 3 test cases below.\r\n\r\nThe assignment is to count the number of &#39;x&#39; in a string; if an &#39;x&#39; is follow by another &#39;x&#39; counted as double. \r\n\r\nThank you, and I would very grateful if you can help.\r\n\r\n\r\n\r\n    public class CountXWithDubs {\r\n    \r\n    \t/**\r\n    \t * Count the number of &#39;x&#39;s in the string. Any &#39;x&#39; that is followed by\r\n    \t * another &#39;x&#39; should count double (e.g. &quot;axxbxc&quot; -&gt; 4)\r\n    \t * \r\n    \t * @param x a string.\r\n    \t * @return the count of x&#39;s.\r\n    \t */\r\n    \tpublic static int countXWithDubs(String s) {\r\n    \t\tif(s == null || s.isEmpty()) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\tint count = 0;\r\n    \t\tif(s.charAt(0) == &#39;x&#39;) {\r\n    \t\t\tif(s.charAt(1) == &#39;x&#39;) {\r\n    \t\t\t\tcount += 2;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count + countXWithDubs(s.substring(1));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testXSEnd() {\r\n    \t\tassertEquals(&quot;Incorrect result with x at end&quot;, 2,\r\n    \t\t\t\tcountXWithDubs(&quot;abxcdx&quot;));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testDoubleXEnd() {\r\n    \t\tassertEquals(&quot;Incorrect result with double x at end&quot;, 4,\r\n    \t\t\t\tcountXWithDubs(&quot;abxcdxx&quot;));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testBunchOfXs() {\r\n    \t\tassertEquals(&quot;Incorrect result with bunch of x&#39;s&quot;, 13,\r\n    \t\t\t\tcountXWithDubs(&quot;xxxaxbxxcxdxx&quot;));\r\n    \t}\r\n    }","title":"Java recursion Index out of range 1","body":"<p>I am currently trying to figure out why the cases that end with x results in an OutOfBoundsError like the 3 test cases below.</p>\n<p>The assignment is to count the number of 'x' in a string; if an 'x' is follow by another 'x' counted as double.</p>\n<p>Thank you, and I would very grateful if you can help.</p>\n<pre><code>public class CountXWithDubs {\n\n    /**\n     * Count the number of 'x's in the string. Any 'x' that is followed by\n     * another 'x' should count double (e.g. &quot;axxbxc&quot; -&gt; 4)\n     * \n     * @param x a string.\n     * @return the count of x's.\n     */\n    public static int countXWithDubs(String s) {\n        if(s == null || s.isEmpty()) {\n            return 0;\n        }\n        int count = 0;\n        if(s.charAt(0) == 'x') {\n            if(s.charAt(1) == 'x') {\n                count += 2;\n            }\n            else {\n                count++;\n            }\n        }\n        return count + countXWithDubs(s.substring(1));\n    }\n\n    @Test\n    public void testXSEnd() {\n        assertEquals(&quot;Incorrect result with x at end&quot;, 2,\n                countXWithDubs(&quot;abxcdx&quot;));\n    }\n    \n    @Test\n    public void testDoubleXEnd() {\n        assertEquals(&quot;Incorrect result with double x at end&quot;, 4,\n                countXWithDubs(&quot;abxcdxx&quot;));\n    }\n    \n    @Test\n    public void testBunchOfXs() {\n        assertEquals(&quot;Incorrect result with bunch of x's&quot;, 13,\n                countXWithDubs(&quot;xxxaxbxxcxdxx&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1662957231,"post_id":73684068,"comment_id":130117521,"body_markdown":"I ran the code from your question and entered integers only and got no error.","body":"I ran the code from your question and entered integers only and got no error."}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662951843,"creation_date":1662951843,"answer_id":73684093,"question_id":73684068,"body_markdown":"In my opinion,that&#39;s normal phenomenon,check the api document of [InputMismatchException][1],we can find below description:\r\n\r\n&gt; Thrown by a Scanner to indicate that the token retrieved **does not match the pattern for the expected type, or that the token is out of range for the expected type.**\r\n\r\nIn your code we can see\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int size = sc.nextInt();\r\n\r\nSo when you terminate it, the input signal can not conver to `int`,thus the exception will thrown.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/InputMismatchException.html","title":"i get this exception in java Exception in thread &quot;main&quot; java.util.InputMismatchException","body":"<p>In my opinion,that's normal phenomenon,check the api document of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/InputMismatchException.html\" rel=\"nofollow noreferrer\">InputMismatchException</a>,we can find below description:</p>\n<blockquote>\n<p>Thrown by a Scanner to indicate that the token retrieved <strong>does not match the pattern for the expected type, or that the token is out of range for the expected type.</strong></p>\n</blockquote>\n<p>In your code we can see</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint size = sc.nextInt();\n</code></pre>\n<p>So when you terminate it, the input signal can not conver to <code>int</code>,thus the exception will thrown.</p>\n"}],"owner":{"account_id":23983625,"reputation":11,"user_id":17970704,"display_name":"Archit Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73684093,"answer_count":1,"score":-1,"last_activity_date":1662957158,"creation_date":1662951517,"question_id":73684068,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int size = sc.nextInt();\r\n        int arr[] = new int[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        int max = Integer.MIN_VALUE;\r\n        int min = Integer.MAX_VALUE;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &lt; min) {\r\n                min = arr[i];\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &gt; max) {\r\n                max = arr[i];\r\n            }\r\n        }\r\n        System.out.println(&quot;Maximum value of array is : &quot; + max);\r\n        System.out.println(&quot;Minimum value of array is : &quot; + min);\r\n    }\r\n}\r\n```\r\nWhen I compile this code it keeps going on until I terminate it and when done so it gives the exception:\r\n&gt;Exception in thread &quot;main&quot; java.util.InputMismatchException ","title":"i get this exception in java Exception in thread &quot;main&quot; java.util.InputMismatchException","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Array {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int size = sc.nextInt();\n        int arr[] = new int[size];\n        for (int i = 0; i &lt; size; i++) {\n            arr[i] = sc.nextInt();\n        }\n        int max = Integer.MIN_VALUE;\n        int min = Integer.MAX_VALUE;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &lt; min) {\n                min = arr[i];\n            }\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &gt; max) {\n                max = arr[i];\n            }\n        }\n        System.out.println(&quot;Maximum value of array is : &quot; + max);\n        System.out.println(&quot;Minimum value of array is : &quot; + min);\n    }\n}\n</code></pre>\n<p>When I compile this code it keeps going on until I terminate it and when done so it gives the exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.InputMismatchException</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662966009,"post_id":73684497,"comment_id":130119263,"body_markdown":"You are using Spring Boot are you using a servlet container of so just add `spring-boot-starter-web` and remove the `webflux` dependency. Also that tutorial you linked to doesn&#39; include anything Spring related so not sure what you are &quot;following&quot; from that tutorial?","body":"You are using Spring Boot are you using a servlet container of so just add <code>spring-boot-starter-web</code> and remove the <code>webflux</code> dependency. Also that tutorial you linked to doesn&#39; include anything Spring related so not sure what you are &quot;following&quot; from that tutorial?"},{"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"score":0,"creation_date":1662989066,"post_id":73684497,"comment_id":130126878,"body_markdown":"Thanks [M. Deinum](https://stackoverflow.com/users/2696260/m-deinum) that works.","body":"Thanks <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> that works."}],"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662956914,"creation_date":1662956914,"question_id":73684497,"body_markdown":"I was following [BAELDUNG](https://www.baeldung.com/java-okhttp-download-binary-file) download with binary.  So I was figuring out,\r\n```\r\nimport static org.springframework.http.HttpHeaders.CONTENT_LENGTH;\r\n```\r\nIt will work with this dependency,\r\n```\r\nimplementation &#39;org.springframework:spring-webflux:5.1.9.RELEASE&#39;\r\n```\r\nIn the dependencies list, it will not even show the dependency but errors will go away, the problem is that if I run, I will have this error,\r\n```\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration$WebFluxConfig.configureResourceCaching(WebFluxAutoConfiguration.java:212)\r\n\r\nThe following method did not exist:\r\n\r\n    org.springframework.web.reactive.config.ResourceHandlerRegistration.setUseLastModified(Z)Lorg/springframework/web/reactive/config/ResourceHandlerRegistration;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration$WebFluxConfig, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users (not exist)\r\n```\r\nDo I have to download that jar/HttpHeaders manually to work?","title":"Issue with org.springframework.http.HttpHeaders.CONTENT_LENGTH","body":"<p>I was following <a href=\"https://www.baeldung.com/java-okhttp-download-binary-file\" rel=\"nofollow noreferrer\">BAELDUNG</a> download with binary.  So I was figuring out,</p>\n<pre><code>import static org.springframework.http.HttpHeaders.CONTENT_LENGTH;\n</code></pre>\n<p>It will work with this dependency,</p>\n<pre><code>implementation 'org.springframework:spring-webflux:5.1.9.RELEASE'\n</code></pre>\n<p>In the dependencies list, it will not even show the dependency but errors will go away, the problem is that if I run, I will have this error,</p>\n<pre><code>An attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration$WebFluxConfig.configureResourceCaching(WebFluxAutoConfiguration.java:212)\n\nThe following method did not exist:\n\n    org.springframework.web.reactive.config.ResourceHandlerRegistration.setUseLastModified(Z)Lorg/springframework/web/reactive/config/ResourceHandlerRegistration;\n\nThe calling method's class, org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration$WebFluxConfig, was loaded from the following location:\n\n    jar:file:/C:/Users (not exist)\n</code></pre>\n<p>Do I have to download that jar/HttpHeaders manually to work?</p>\n"},{"tags":["java","spring-boot","spring-resttemplate","streamingresponsebody"],"answers":[{"tags":[],"owner":{"account_id":9261248,"reputation":107,"user_id":6878250,"display_name":"Manoj Lakshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662955377,"creation_date":1662955377,"answer_id":73684374,"question_id":73398172,"body_markdown":"Please find the solution to this issue, the change I did was adding &quot;HttpServletResponse&quot; to the parameters of the controller method. \r\n\r\n    @GetMapping(value = URL_CONTENT_ID, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE, APPLICATION_ZIP_VALUE,\r\n        MediaType.TEXT_HTML_VALUE})\r\n    @ControllerLogging\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getContentFile(@PathVariable String contentId, HttpServletResponse response) {\r\n    \r\n        StreamingResponseBody responseBody = outputStream -&gt; {\r\n            getContentFile(outputStream, response, contentId);\r\n            outputStream.close();\r\n        };\r\n    \r\n        return ResponseEntity.ok(responseBody);\r\n    \r\n    }\r\n    \r\n    public void getContentFile(OutputStream outputStream, HttpServletResponse response, String nodeId) {\r\n    \r\n        RequestCallback requestCallBack = request -&gt; {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            authenticationHelper.apply(headers::set);\r\n            request.getHeaders().addAll(headers);\r\n        };\r\n    \r\n        ResponseExtractor&lt;OutputStream&gt; responseExtractor = clientHttpResponse -&gt; {\r\n            InputStream inputStream = clientHttpResponse.getBody();\r\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, modifyContentDispositionHeader(clientHttpResponse));\r\n            response.setHeader(HttpHeaders.CONTENT_TYPE, modifyContentTypeHeader(clientHttpResponse).toString());\r\n            StreamUtils.copy(inputStream, outputStream);\r\n            return null;\r\n        };\r\n    \r\n        restTemplate.execute(dcmUrl + nodeId, HttpMethod.GET, requestCallBack, responseExtractor);\r\n    }","title":"Not able to add response headers to RestTemplate streaming response","body":"<p>Please find the solution to this issue, the change I did was adding &quot;HttpServletResponse&quot; to the parameters of the controller method.</p>\n<pre><code>@GetMapping(value = URL_CONTENT_ID, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE, APPLICATION_ZIP_VALUE,\n    MediaType.TEXT_HTML_VALUE})\n@ControllerLogging\npublic ResponseEntity&lt;StreamingResponseBody&gt; getContentFile(@PathVariable String contentId, HttpServletResponse response) {\n\n    StreamingResponseBody responseBody = outputStream -&gt; {\n        getContentFile(outputStream, response, contentId);\n        outputStream.close();\n    };\n\n    return ResponseEntity.ok(responseBody);\n\n}\n\npublic void getContentFile(OutputStream outputStream, HttpServletResponse response, String nodeId) {\n\n    RequestCallback requestCallBack = request -&gt; {\n        HttpHeaders headers = new HttpHeaders();\n        authenticationHelper.apply(headers::set);\n        request.getHeaders().addAll(headers);\n    };\n\n    ResponseExtractor&lt;OutputStream&gt; responseExtractor = clientHttpResponse -&gt; {\n        InputStream inputStream = clientHttpResponse.getBody();\n        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, modifyContentDispositionHeader(clientHttpResponse));\n        response.setHeader(HttpHeaders.CONTENT_TYPE, modifyContentTypeHeader(clientHttpResponse).toString());\n        StreamUtils.copy(inputStream, outputStream);\n        return null;\n    };\n\n    restTemplate.execute(dcmUrl + nodeId, HttpMethod.GET, requestCallBack, responseExtractor);\n}\n</code></pre>\n"}],"owner":{"account_id":9261248,"reputation":107,"user_id":6878250,"display_name":"Manoj Lakshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662955377,"creation_date":1660802825,"question_id":73398172,"body_markdown":"In my spring-boot application, I have a GET end-point. When we call this GET endpoint, the application is sending a GET request to another service with RestTemplate and returns the same response file as the response of the GET request. With the below code I&#39;m able to receive the response file. But I need to set the same headers that I have received to RestTempate request. \r\nHow to do that.\r\n\r\n    @GetMapping(value = URL_CONTENT_ID, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE, APPLICATION_ZIP_VALUE,\r\n        MediaType.TEXT_HTML_VALUE})\r\n    @ControllerLogging\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getContentFile(@PathVariable String contentId) {\r\n\r\n        StreamingResponseBody responseBody = outputStream -&gt; {\r\n            getContentFile(outputStream, contentId);\r\n            outputStream.close();\r\n        };\r\n\r\n        return ResponseEntity.ok()\r\n            .body(responseBody);\r\n\r\n    }\r\n\r\n    public void getContentFile(OutputStream outputStream, String nodeId) {\r\n\r\n        RequestCallback requestCallBack = request -&gt; {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            authenticationHelper.apply(headers::set);\r\n            request.getHeaders().addAll(headers);\r\n        };\r\n\r\n        ResponseExtractor&lt;OutputStream&gt; responseExtractor = clientHttpResponse -&gt; {\r\n            InputStream inputStream = clientHttpResponse.getBody();\r\n            StreamUtils.copy(inputStream, outputStream);\r\n            return null;\r\n        };\r\n\r\n        restTemplate.execute(dcmUrl + nodeId, HttpMethod.GET, requestCallBack, responseExtractor);\r\n    }\r\n\r\n \r\n","title":"Not able to add response headers to RestTemplate streaming response","body":"<p>In my spring-boot application, I have a GET end-point. When we call this GET endpoint, the application is sending a GET request to another service with RestTemplate and returns the same response file as the response of the GET request. With the below code I'm able to receive the response file. But I need to set the same headers that I have received to RestTempate request.\nHow to do that.</p>\n<pre><code>@GetMapping(value = URL_CONTENT_ID, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE, APPLICATION_ZIP_VALUE,\n    MediaType.TEXT_HTML_VALUE})\n@ControllerLogging\npublic ResponseEntity&lt;StreamingResponseBody&gt; getContentFile(@PathVariable String contentId) {\n\n    StreamingResponseBody responseBody = outputStream -&gt; {\n        getContentFile(outputStream, contentId);\n        outputStream.close();\n    };\n\n    return ResponseEntity.ok()\n        .body(responseBody);\n\n}\n\npublic void getContentFile(OutputStream outputStream, String nodeId) {\n\n    RequestCallback requestCallBack = request -&gt; {\n        HttpHeaders headers = new HttpHeaders();\n        authenticationHelper.apply(headers::set);\n        request.getHeaders().addAll(headers);\n    };\n\n    ResponseExtractor&lt;OutputStream&gt; responseExtractor = clientHttpResponse -&gt; {\n        InputStream inputStream = clientHttpResponse.getBody();\n        StreamUtils.copy(inputStream, outputStream);\n        return null;\n    };\n\n    restTemplate.execute(dcmUrl + nodeId, HttpMethod.GET, requestCallBack, responseExtractor);\n}\n</code></pre>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":4661214,"reputation":2312,"user_id":3775443,"display_name":"Olivier Michallat"},"score":1,"creation_date":1439976817,"post_id":32091410,"comment_id":52078106,"body_markdown":"Could you elaborate on how you execute statements? (a code snippet would be helpful) One thing that comes to mind is if you use the async API and never check the returned futures, you might have requests that fail silently.","body":"Could you elaborate on how you execute statements? (a code snippet would be helpful) One thing that comes to mind is if you use the async API and never check the returned futures, you might have requests that fail silently."},{"owner":{"account_id":6294163,"reputation":101,"user_id":4890873,"display_name":"firew"},"score":0,"creation_date":1439977220,"post_id":32091410,"comment_id":52078420,"body_markdown":"@OlivierMichallat I am using session.execute(). I suppose it&#39;s synchronous? i will update my post with code","body":"@OlivierMichallat I am using session.execute(). I suppose it&#39;s synchronous? i will update my post with code"},{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1439989052,"post_id":32091410,"comment_id":52086783,"body_markdown":"The best use for batch statements, is to push upserts to multiple tables atomically.  It really was not meant for sending 50 updates to the same table.  See how your code works *without* using a batch statement.","body":"The best use for batch statements, is to push upserts to multiple tables atomically.  It really was not meant for sending 50 updates to the same table.  See how your code works <i>without</i> using a batch statement."},{"owner":{"account_id":6294163,"reputation":101,"user_id":4890873,"display_name":"firew"},"score":0,"creation_date":1440033172,"post_id":32091410,"comment_id":52110229,"body_markdown":"@BryceAtNetwork23 Thanks a lot! i will try it","body":"@BryceAtNetwork23 Thanks a lot! i will try it"},{"owner":{"account_id":6779979,"reputation":339,"user_id":5220619,"display_name":"Aravind Chamakura"},"score":0,"creation_date":1440039879,"post_id":32091410,"comment_id":52111837,"body_markdown":"Cassandra is best for write throughput, for just 2k records you really don&#39;t need to batch it and for sure this scenario does not quality for batching the query. Instead have you program B call A in multiple threads and reduce the consistency to one. To be on safe you could run a read repair on the nodes  after you program completes(although not mandatory)","body":"Cassandra is best for write throughput, for just 2k records you really don&#39;t need to batch it and for sure this scenario does not quality for batching the query. Instead have you program B call A in multiple threads and reduce the consistency to one. To be on safe you could run a read repair on the nodes  after you program completes(although not mandatory)"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1440054003,"post_id":32091410,"comment_id":52116358,"body_markdown":"Definitely there seems to be issue with insertion. Posting your code is helpful to solve the problem quickly.","body":"Definitely there seems to be issue with insertion. Posting your code is helpful to solve the problem quickly."}],"owner":{"account_id":6294163,"reputation":101,"user_id":4890873,"display_name":"firew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1662955014,"creation_date":1439976027,"question_id":32091410,"body_markdown":"I am new to apache-cassandra and i am planning to use it as the data repository of a new project for its write performance. I have setup a cassandra cluster with three nodes and replication factor 3. My program A uses datastax&#39;s cassandra-driver-core 2.1.7 to write and read data from cassandra. Each execution of the program writes about 50 records into cassandra using batch statement. Test of the single execution shows no problem at all.  However, when i start to run A in a more intensive way, problem occurs. \r\n\r\nDetails are as follows:\r\nAn other program B calls A 40 times within 10 seconds, so there should be 2k records in cassandra after B finishes executing.  However, the number of records written to cassandra was only 25-30% (varies randomly in each run of B) of the 2k records. I was using cqlsh to check the number of records written, by the way. I need to re-run B several times so that eventually all 2k records can be written into cassandra. \r\n\r\nI have totally no clue now, there was no error reported in the execution of both A and B, and from log, A did got executed 40 times.\r\n\r\nI don&#39;t know if this is connected to cluster set up, consistency level setting,etc, or if there&#39;s any tuning i need to do to take care of higher frequency writing. \r\n\r\nThe code is something like :\r\n\r\n    String query = &quot;insert into A (a,b,c,d,e,f) values (?,?,?,?,?,?)&quot;;\r\n    PreparedStatement p = session.prepare(query);\r\n    BatchStatement b = new BatchStatement();\r\n    for (int i=0; i&lt;50; i++) {\r\n      BoundStatement b1 = p.bind();\r\n      b1.setInt(&quot;a&quot;,A);\r\n      ...\r\n      b1.setInt(&quot;f&quot;,F);\r\n      b.add(b1);\r\n    }\r\n    session.execute(b);\r\n\r\nAny help would be greatly appreciated!\r\n\r\n\r\nAddition:\r\n\r\nI changed my code not to use batch statement as @aaron and others suggested. The problem still remains, not all records were written into cassandra (i mean i cannot see them using cqlsh&#39;s select statement). After a while, i noticed that problem only occured to those records that have previously been inserted (removed before being inserted again using delete cqlsh statement). If the records have never been inserted before , correct results were shown using cqlsh&#39;s &quot;select * from &lt;table_name&gt;&quot;. Can anyone enlighten me  why this is so and if there&#39;s a way to avoid this from happening ? Thanks a lot. \r\n\r\n","title":"Lost data in high frequency insertion to cassandra using datastax java driver 2.1.7","body":"<p>I am new to apache-cassandra and i am planning to use it as the data repository of a new project for its write performance. I have setup a cassandra cluster with three nodes and replication factor 3. My program A uses datastax's cassandra-driver-core 2.1.7 to write and read data from cassandra. Each execution of the program writes about 50 records into cassandra using batch statement. Test of the single execution shows no problem at all.  However, when i start to run A in a more intensive way, problem occurs. </p>\n\n<p>Details are as follows:\nAn other program B calls A 40 times within 10 seconds, so there should be 2k records in cassandra after B finishes executing.  However, the number of records written to cassandra was only 25-30% (varies randomly in each run of B) of the 2k records. I was using cqlsh to check the number of records written, by the way. I need to re-run B several times so that eventually all 2k records can be written into cassandra. </p>\n\n<p>I have totally no clue now, there was no error reported in the execution of both A and B, and from log, A did got executed 40 times.</p>\n\n<p>I don't know if this is connected to cluster set up, consistency level setting,etc, or if there's any tuning i need to do to take care of higher frequency writing. </p>\n\n<p>The code is something like :</p>\n\n<pre><code>String query = \"insert into A (a,b,c,d,e,f) values (?,?,?,?,?,?)\";\nPreparedStatement p = session.prepare(query);\nBatchStatement b = new BatchStatement();\nfor (int i=0; i&lt;50; i++) {\n  BoundStatement b1 = p.bind();\n  b1.setInt(\"a\",A);\n  ...\n  b1.setInt(\"f\",F);\n  b.add(b1);\n}\nsession.execute(b);\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Addition:</p>\n\n<p>I changed my code not to use batch statement as @aaron and others suggested. The problem still remains, not all records were written into cassandra (i mean i cannot see them using cqlsh's select statement). After a while, i noticed that problem only occured to those records that have previously been inserted (removed before being inserted again using delete cqlsh statement). If the records have never been inserted before , correct results were shown using cqlsh's \"select * from \". Can anyone enlighten me  why this is so and if there's a way to avoid this from happening ? Thanks a lot. </p>\n"},{"tags":["java","android","picasso","android-image"],"comments":[{"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"score":0,"creation_date":1662414962,"post_id":73614922,"comment_id":129995912,"body_markdown":"I got no solution for you but this thread might help. Have a look - https://stackoverflow.com/questions/72624294/kotlin-error-503-when-loading-image-from-flickr-with-picasso","body":"I got no solution for you but this thread might help. Have a look - <a href=\"https://stackoverflow.com/questions/72624294/kotlin-error-503-when-loading-image-from-flickr-with-picasso\" title=\"kotlin error 503 when loading image from flickr with picasso\">stackoverflow.com/questions/72624294/&hellip;</a>"},{"owner":{"account_id":7968048,"reputation":1,"user_id":6013719,"display_name":"Matthew Russell"},"score":0,"creation_date":1662415627,"post_id":73614922,"comment_id":129996030,"body_markdown":"Thanks! yeah I looked at everything over there and it did not help.","body":"Thanks! yeah I looked at everything over there and it did not help."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662418090,"creation_date":1662418090,"answer_id":73615268,"question_id":73614922,"body_markdown":"Any HTTP 500 Response is a server side error. A HTTP 503 is &#39;Service Unavailable&#39;.\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503\r\n\r\nHave you tried printing out the your &#39;FlickrDirectURL&#39; variable, to see what the URL is? If it looks correct I&#39;d then put in a browser and see what you get. If you get your image, than it could be Picasso. But I&#39;d bet you have a malformed URL.\r\nLooking at the documentation (XML Responses? yuck.) I don&#39;t see anything about a 503 error response. &lt;br&gt;\r\nhttps://www.flickr.com/services/api/\r\n\r\nhttps://www.flickr.com/services/api/misc.urls.html\r\n\r\n","title":"Android Java: Error 503 when loading image from flickr with Picasso","body":"<p>Any HTTP 500 Response is a server side error. A HTTP 503 is 'Service Unavailable'.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503</a></p>\n<p>Have you tried printing out the your 'FlickrDirectURL' variable, to see what the URL is? If it looks correct I'd then put in a browser and see what you get. If you get your image, than it could be Picasso. But I'd bet you have a malformed URL.\nLooking at the documentation (XML Responses? yuck.) I don't see anything about a 503 error response. <br>\n<a href=\"https://www.flickr.com/services/api/\" rel=\"nofollow noreferrer\">https://www.flickr.com/services/api/</a></p>\n<p><a href=\"https://www.flickr.com/services/api/misc.urls.html\" rel=\"nofollow noreferrer\">https://www.flickr.com/services/api/misc.urls.html</a></p>\n"},{"tags":[],"owner":{"account_id":7968048,"reputation":1,"user_id":6013719,"display_name":"Matthew Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662952252,"creation_date":1662952172,"answer_id":73684108,"question_id":73614922,"body_markdown":"Thanks for everyone&#39;s help. To fix this problem, I switched the Library to Glide.  This fixed the problem without changing anything else.  Thanks Sudarshan for the Library suggestion.\r\n\r\n    Glide\r\n          .with(Context)\r\n          .load(URL)\r\n          .error(R.drawable.XXXXX)\r\n          .placeholder(R.drawable.XXXXX)\r\n          .listener(new RequestListener&lt;Drawable&gt;()\r\n                    {\r\n                        @Override\r\n                        public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) \r\n                        {\r\n                            Log.e(&quot;Glide&quot;, &quot;Error Loading Image&quot;, e);\r\n                            return false;\r\n                        }\r\n    \r\n                        @Override\r\n                        public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource)\r\n                        {\r\n                            Log.e(&quot;Glide&quot;, &quot;Image Loaded&quot;);\r\n                            return false;\r\n                        }\r\n                    })\r\n          .into(Picture);","title":"Android Java: Error 503 when loading image from flickr with Picasso","body":"<p>Thanks for everyone's help. To fix this problem, I switched the Library to Glide.  This fixed the problem without changing anything else.  Thanks Sudarshan for the Library suggestion.</p>\n<pre><code>Glide\n      .with(Context)\n      .load(URL)\n      .error(R.drawable.XXXXX)\n      .placeholder(R.drawable.XXXXX)\n      .listener(new RequestListener&lt;Drawable&gt;()\n                {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) \n                    {\n                        Log.e(&quot;Glide&quot;, &quot;Error Loading Image&quot;, e);\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource)\n                    {\n                        Log.e(&quot;Glide&quot;, &quot;Image Loaded&quot;);\n                        return false;\n                    }\n                })\n      .into(Picture);\n</code></pre>\n"}],"owner":{"account_id":7968048,"reputation":1,"user_id":6013719,"display_name":"Matthew Russell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662952252,"creation_date":1662414422,"question_id":73614922,"body_markdown":"I use Flickr to load images into my app using the Picasso library.  It was working up until about 2 months ago with no issue.  I have not changed anything in my code having to do with images since it was working.  I have a feeling Flickr changed something on their end but it makes no sense because the first image loads and none of the rest.  \r\n\r\nI get this error:\r\n`com.squareup.picasso.NetworkRequestHandler$ResponseException: HTTP 503`\r\n\r\nI really don&#39;t think this is my code but here is a snippet:\r\n\r\n               \r\n    Picasso.get()\r\n           .load(FlickrDirectURL)\r\n           .placeholder(R.drawable.XXXXX)\r\n           .error(R.drawable.XXXXX)\r\n           .into(Picture, new Callback() \r\n           {\r\n                   @Override\r\n                   public void onSuccess(){}\r\n        \r\n                   @Override\r\n                   public void onError(Exception e)\r\n                   {\r\n                         Log.e(&quot;Picasso&quot;,&quot;&quot;+e);\r\n                   }\r\n            });\r\n\r\n\r\nAny help would be greatly appreciated.  Even a direction to go would help. Thanks!","title":"Android Java: Error 503 when loading image from flickr with Picasso","body":"<p>I use Flickr to load images into my app using the Picasso library.  It was working up until about 2 months ago with no issue.  I have not changed anything in my code having to do with images since it was working.  I have a feeling Flickr changed something on their end but it makes no sense because the first image loads and none of the rest.</p>\n<p>I get this error:\n<code>com.squareup.picasso.NetworkRequestHandler$ResponseException: HTTP 503</code></p>\n<p>I really don't think this is my code but here is a snippet:</p>\n<pre><code>Picasso.get()\n       .load(FlickrDirectURL)\n       .placeholder(R.drawable.XXXXX)\n       .error(R.drawable.XXXXX)\n       .into(Picture, new Callback() \n       {\n               @Override\n               public void onSuccess(){}\n    \n               @Override\n               public void onError(Exception e)\n               {\n                     Log.e(&quot;Picasso&quot;,&quot;&quot;+e);\n               }\n        });\n</code></pre>\n<p>Any help would be greatly appreciated.  Even a direction to go would help. Thanks!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6280999,"reputation":2472,"user_id":4882013,"display_name":"Shiv Kumar Baghel"},"score":0,"creation_date":1539748846,"post_id":52847058,"comment_id":92610068,"body_markdown":"what the final outcome you are expecting ?","body":"what the final outcome you are expecting ?"},{"owner":{"account_id":13803387,"reputation":31,"user_id":9962878,"display_name":"Rahul Ramamoorthy"},"score":0,"creation_date":1539749080,"post_id":52847058,"comment_id":92610133,"body_markdown":"Question updated","body":"Question updated"}],"answers":[{"tags":[],"owner":{"account_id":10751880,"reputation":3351,"user_id":7910980,"display_name":"Amit Phaltankar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539749687,"creation_date":1539749059,"answer_id":52847116,"question_id":52847058,"body_markdown":"Use any Json Mapper (e.g Jackson) convert json to Map.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, Object&gt; map = mapper.readValue(json, new TypeReference&lt;Map&lt;String, String&gt;&gt;(){})\r\n\r\nonce you get two maps like this you can merge them \r\n\r\n    Map&lt;String, Object&gt; mergedMap = new HashMap&lt;&gt;();\r\n    mergedMap.putAll(map1);\r\n    mergedMap.putAll(map2);\r\n    String json = mapper.writeValueAsString(mergedMap);\r\n\r\n","title":"Java: Merging two JSON objects without iterating","body":"<p>Use any Json Mapper (e.g Jackson) convert json to Map.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; map = mapper.readValue(json, new TypeReference&lt;Map&lt;String, String&gt;&gt;(){})\n</code></pre>\n\n<p>once you get two maps like this you can merge them </p>\n\n<pre><code>Map&lt;String, Object&gt; mergedMap = new HashMap&lt;&gt;();\nmergedMap.putAll(map1);\nmergedMap.putAll(map2);\nString json = mapper.writeValueAsString(mergedMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14857222,"reputation":126,"user_id":10729324,"display_name":"Oswaldo Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662951783,"creation_date":1662951783,"answer_id":73684087,"question_id":52847058,"body_markdown":"Consider using a library that does this job for you, like [JSON Merge](https://github.com/oswaldobapvicjr/jsonmerge/), available at Maven Central.\r\n\r\nYou will get the desired result with a single line of code:\r\n\r\n    JSONObject result = new JsonMerger&lt;&gt;(JSONObject.class).merge(json2, json1);\r\n\r\n**Note:** the first JSON parameter passed to the `merge` method will always have more precedence/importance than the second one in case of key collisions.\r\n\r\nThis library works with Jackson, Gson, and other JSON providers as well.","title":"Java: Merging two JSON objects without iterating","body":"<p>Consider using a library that does this job for you, like <a href=\"https://github.com/oswaldobapvicjr/jsonmerge/\" rel=\"nofollow noreferrer\">JSON Merge</a>, available at Maven Central.</p>\n<p>You will get the desired result with a single line of code:</p>\n<pre><code>JSONObject result = new JsonMerger&lt;&gt;(JSONObject.class).merge(json2, json1);\n</code></pre>\n<p><strong>Note:</strong> the first JSON parameter passed to the <code>merge</code> method will always have more precedence/importance than the second one in case of key collisions.</p>\n<p>This library works with Jackson, Gson, and other JSON providers as well.</p>\n"}],"owner":{"account_id":13803387,"reputation":31,"user_id":9962878,"display_name":"Rahul Ramamoorthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52847116,"answer_count":2,"score":0,"last_activity_date":1662951783,"creation_date":1539748603,"question_id":52847058,"body_markdown":"I have two JSON objects like \r\n\r\n    {  \r\n       &quot;key1&quot;:&quot;value1&quot;,\r\n       &quot;key2&quot;:&quot;value2&quot;,\r\n       &quot;key3&quot;:&quot;value3&quot;,\r\n       &quot;key4&quot;:&quot;value4&quot;\r\n    }\r\n\r\n and \r\n\r\n    {\r\n       &quot;key2&quot;:&quot;value1&quot;,\r\n       &quot;key4&quot;:&quot;value2&quot;,\r\n       &quot;key6&quot;:&quot;value3&quot;,\r\n       &quot;key8&quot;:&quot;value4&quot;\r\n    }\r\n\r\nI want to merge these two JSON objects into single `Json` object without iterating through each key and the final result should be \r\n\r\n    {\r\n       &quot;key1&quot;:&quot;value1&quot;,\r\n       &quot;key2&quot;:&quot;value1&quot;,\r\n       &quot;key3&quot;:&quot;value3&quot;,\r\n       &quot;key4&quot;:&quot;value2&quot;,\r\n       &quot;key6&quot;:&quot;value3&quot;,\r\n       &quot;key8&quot;:&quot;value4&quot;\r\n    }","title":"Java: Merging two JSON objects without iterating","body":"<p>I have two JSON objects like </p>\n\n<pre><code>{  \n   \"key1\":\"value1\",\n   \"key2\":\"value2\",\n   \"key3\":\"value3\",\n   \"key4\":\"value4\"\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>{\n   \"key2\":\"value1\",\n   \"key4\":\"value2\",\n   \"key6\":\"value3\",\n   \"key8\":\"value4\"\n}\n</code></pre>\n\n<p>I want to merge these two JSON objects into single <code>Json</code> object without iterating through each key and the final result should be </p>\n\n<pre><code>{\n   \"key1\":\"value1\",\n   \"key2\":\"value1\",\n   \"key3\":\"value3\",\n   \"key4\":\"value2\",\n   \"key6\":\"value3\",\n   \"key8\":\"value4\"\n}\n</code></pre>\n"},{"tags":["java","javac"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662951199,"creation_date":1662951199,"answer_id":73684036,"question_id":73683649,"body_markdown":"I think returning a singleton list of just `t` is just convenient for other code that uses this method. It&#39;s similar to how using a 0-based index generally makes you do less of that `- 1` and `+ 1` stuff, and so is more favourable.\r\n\r\nIn many places, code that uses this method aren&#39;t just dealing with class or interface types, but all kinds of types. They still want to get its supertypes (which includes the type `t` itself) *if* it is a class/interface type, but if it is not, returning an empty list means that the caller doesn&#39;t even get to operate on `t` itself. The caller would need to write extra code to check if the list is empty and other ugly-looking things.\r\n\r\nThe relevant usages of `closure` I found are:\r\n\r\n- [when calculating the erased super types][1], as part of the calculation of the least upper bound (lub):\r\n\r\n        List&lt;Type&gt; erasedSupertypes(Type t) {\r\n            ListBuffer&lt;Type&gt; buf = new ListBuffer&lt;&gt;();\r\n            for (Type sup : closure(t)) {\r\n                if (sup.hasTag(TYPEVAR)) {\r\n                    buf.append(sup);\r\n                } else {\r\n                    buf.append(erasure(sup));\r\n                }\r\n            }\r\n            return buf.toList();\r\n        }\r\n\r\n    Returning the singleton list of `Integer[]` would add `Integer[]` to the list of erased super types. If it returned an empty list instead, one would have to add an extra `isEmpty` check and make the code look less clean, otherwise `erasedSuperTypes` would return an empty list and the lub calculation would go very wrong very quickly.\r\n\r\n- [when calculating the greatest lower bound][2]\r\n\r\n      public Type glb(Type t, Type s) {\r\n          if (s == null)\r\n              return t;\r\n          else if (t.isPrimitive() || s.isPrimitive())\r\n              return syms.errType;\r\n          else if (isSubtypeNoCapture(t, s))\r\n              return t;\r\n          else if (isSubtypeNoCapture(s, t))\r\n              return s;\r\n\r\n          List&lt;Type&gt; closure = union(closure(t), closure(s));\r\n          return glbFlattened(closure, t);\r\n      }\r\n\r\n    If `closure` returned an empty list, one would need to add 2 `isEmpty` checks, passing `List.of(t)` and `List.of(s)` into `union` if the corresponding list is empty. Otherwise, `glb` would be incorrect.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/1e031e6a5886fba3009d8e5fa62416fe15a901b6/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L4066\r\n  [2]: https://github.com/openjdk/jdk/blob/1e031e6a5886fba3009d8e5fa62416fe15a901b6/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L4102","title":"In the javac source code, why does closure(Type) return a non-empty list for non-class/interface types?","body":"<p>I think returning a singleton list of just <code>t</code> is just convenient for other code that uses this method. It's similar to how using a 0-based index generally makes you do less of that <code>- 1</code> and <code>+ 1</code> stuff, and so is more favourable.</p>\n<p>In many places, code that uses this method aren't just dealing with class or interface types, but all kinds of types. They still want to get its supertypes (which includes the type <code>t</code> itself) <em>if</em> it is a class/interface type, but if it is not, returning an empty list means that the caller doesn't even get to operate on <code>t</code> itself. The caller would need to write extra code to check if the list is empty and other ugly-looking things.</p>\n<p>The relevant usages of <code>closure</code> I found are:</p>\n<ul>\n<li><p><a href=\"https://github.com/openjdk/jdk/blob/1e031e6a5886fba3009d8e5fa62416fe15a901b6/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L4066\" rel=\"nofollow noreferrer\">when calculating the erased super types</a>, as part of the calculation of the least upper bound (lub):</p>\n<pre><code>  List&lt;Type&gt; erasedSupertypes(Type t) {\n      ListBuffer&lt;Type&gt; buf = new ListBuffer&lt;&gt;();\n      for (Type sup : closure(t)) {\n          if (sup.hasTag(TYPEVAR)) {\n              buf.append(sup);\n          } else {\n              buf.append(erasure(sup));\n          }\n      }\n      return buf.toList();\n  }\n</code></pre>\n<p>Returning the singleton list of <code>Integer[]</code> would add <code>Integer[]</code> to the list of erased super types. If it returned an empty list instead, one would have to add an extra <code>isEmpty</code> check and make the code look less clean, otherwise <code>erasedSuperTypes</code> would return an empty list and the lub calculation would go very wrong very quickly.</p>\n</li>\n<li><p><a href=\"https://github.com/openjdk/jdk/blob/1e031e6a5886fba3009d8e5fa62416fe15a901b6/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L4102\" rel=\"nofollow noreferrer\">when calculating the greatest lower bound</a></p>\n<pre><code>public Type glb(Type t, Type s) {\n    if (s == null)\n        return t;\n    else if (t.isPrimitive() || s.isPrimitive())\n        return syms.errType;\n    else if (isSubtypeNoCapture(t, s))\n        return t;\n    else if (isSubtypeNoCapture(s, t))\n        return s;\n\n    List&lt;Type&gt; closure = union(closure(t), closure(s));\n    return glbFlattened(closure, t);\n}\n</code></pre>\n<p>If <code>closure</code> returned an empty list, one would need to add 2 <code>isEmpty</code> checks, passing <code>List.of(t)</code> and <code>List.of(s)</code> into <code>union</code> if the corresponding list is empty. Otherwise, <code>glb</code> would be incorrect.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1662951199,"creation_date":1662945174,"question_id":73683649,"body_markdown":"In the javac source code, [there is a method that returns a type closure](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3707-L3730) given a [`com.sun.tools.javac.code.Type`](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java).  It is [documented to work only for &quot;class or interface type[s]&quot;](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3708).  However it works for many other types as well, by returning a one-element list consisting of the type itself and nothing else, seemingly violating its own documentation:\r\n\r\n```java\r\n/**\r\n * Returns the closure of a class or interface type.\r\n */\r\npublic List&lt;Type&gt; closure(Type t) {\r\n    List&lt;Type&gt; cl = closureCache.get(t);\r\n    if (cl == null) {\r\n        Type st = supertype(t);\r\n        if (!t.isCompound()) { // &lt;line 5&gt;\r\n            if (st.hasTag(CLASS)) {\r\n                cl = insert(closure(st), t);\r\n            } else if (st.hasTag(TYPEVAR)) {\r\n                cl = closure(st).prepend(t);\r\n            } else {\r\n                cl = List.of(t);\r\n            }\r\n        } else {\r\n            cl = closure(supertype(t));\r\n        }\r\n        for (List&lt;Type&gt; l = interfaces(t); l.nonEmpty(); l = l.tail)\r\n            cl = union(cl, closure(l.head));\r\n        closureCache.put(t, cl);\r\n    }\r\n    return cl;\r\n}\r\n```\r\n\r\n(For any not versed in the wonderful world of the `javac` source code, a [`List`](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/util/List.java) is not a `java.util.List`, but a linked list structure, and a [`Type`](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java) is not a `java.lang.reflect.Type`.  A [&quot;compound&quot; `Type`](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java#L594-L601) is basically an [`IntersectionType`](https://docs.oracle.com/en/java/javase/18/docs/api/java.compiler/javax/lang/model/type/IntersectionType.html) (in the language model terminology).)\r\n\r\nSo at line 5 in the excerpt above, if it is not compound (so let&#39;s pretend it&#39;s an array or a primitive type or something crazy like an executable type), and it is neither a class nor a type variable, then it is blindly added to the `List` that will be returned.  You&#39;ll therefore get back a single element `List` consisting of the `Type` itself, if the type is not a class, interface or intersection type, and nothing else.\r\n\r\nA concrete example:\r\n\r\nConsider the type denoted by `java.lang.Integer[]`.  Clearly it has a supertype (the type denoted by `java.lang.Number[]`), unlike, say, certain primitive types.\r\n\r\nWe know that the method itself is defined to work only on class and interface types, but it doesn&#39;t check this.  Also, immediately above the method in a related section of code, [we find](https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3700-L3703):\r\n&gt; A closure is a list of all the supertypes and interfaces of a class or interface type, ordered by ClassSymbol.precedes….\r\n\r\nAccording to _that_ documentation, we&#39;d expect an empty list to be returned if we pass an array type in.  But instead we get a single-element list whose sole element is the type denoted by `java.lang.Integer[]` (the very type we pass in).\r\n\r\nWhy is this?\r\n\r\n(I am well aware I am looking at decades-old code and the answer might very well be: no one knows.)","title":"In the javac source code, why does closure(Type) return a non-empty list for non-class/interface types?","body":"<p>In the javac source code, <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3707-L3730\" rel=\"nofollow noreferrer\">there is a method that returns a type closure</a> given a <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java\" rel=\"nofollow noreferrer\"><code>com.sun.tools.javac.code.Type</code></a>.  It is <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3708\" rel=\"nofollow noreferrer\">documented to work only for &quot;class or interface type[s]&quot;</a>.  However it works for many other types as well, by returning a one-element list consisting of the type itself and nothing else, seemingly violating its own documentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Returns the closure of a class or interface type.\n */\npublic List&lt;Type&gt; closure(Type t) {\n    List&lt;Type&gt; cl = closureCache.get(t);\n    if (cl == null) {\n        Type st = supertype(t);\n        if (!t.isCompound()) { // &lt;line 5&gt;\n            if (st.hasTag(CLASS)) {\n                cl = insert(closure(st), t);\n            } else if (st.hasTag(TYPEVAR)) {\n                cl = closure(st).prepend(t);\n            } else {\n                cl = List.of(t);\n            }\n        } else {\n            cl = closure(supertype(t));\n        }\n        for (List&lt;Type&gt; l = interfaces(t); l.nonEmpty(); l = l.tail)\n            cl = union(cl, closure(l.head));\n        closureCache.put(t, cl);\n    }\n    return cl;\n}\n</code></pre>\n<p>(For any not versed in the wonderful world of the <code>javac</code> source code, a <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/util/List.java\" rel=\"nofollow noreferrer\"><code>List</code></a> is not a <code>java.util.List</code>, but a linked list structure, and a <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java\" rel=\"nofollow noreferrer\"><code>Type</code></a> is not a <code>java.lang.reflect.Type</code>.  A <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Type.java#L594-L601\" rel=\"nofollow noreferrer\">&quot;compound&quot; <code>Type</code></a> is basically an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.compiler/javax/lang/model/type/IntersectionType.html\" rel=\"nofollow noreferrer\"><code>IntersectionType</code></a> (in the language model terminology).)</p>\n<p>So at line 5 in the excerpt above, if it is not compound (so let's pretend it's an array or a primitive type or something crazy like an executable type), and it is neither a class nor a type variable, then it is blindly added to the <code>List</code> that will be returned.  You'll therefore get back a single element <code>List</code> consisting of the <code>Type</code> itself, if the type is not a class, interface or intersection type, and nothing else.</p>\n<p>A concrete example:</p>\n<p>Consider the type denoted by <code>java.lang.Integer[]</code>.  Clearly it has a supertype (the type denoted by <code>java.lang.Number[]</code>), unlike, say, certain primitive types.</p>\n<p>We know that the method itself is defined to work only on class and interface types, but it doesn't check this.  Also, immediately above the method in a related section of code, <a href=\"https://github.com/openjdk/jdk/blob/jdk-20+14/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L3700-L3703\" rel=\"nofollow noreferrer\">we find</a>:</p>\n<blockquote>\n<p>A closure is a list of all the supertypes and interfaces of a class or interface type, ordered by ClassSymbol.precedes….</p>\n</blockquote>\n<p>According to <em>that</em> documentation, we'd expect an empty list to be returned if we pass an array type in.  But instead we get a single-element list whose sole element is the type denoted by <code>java.lang.Integer[]</code> (the very type we pass in).</p>\n<p>Why is this?</p>\n<p>(I am well aware I am looking at decades-old code and the answer might very well be: no one knows.)</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1662948946,"post_id":73683035,"comment_id":130116550,"body_markdown":"`JAVA_OPTS: -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n` - have you tried removing that?","body":"<code>JAVA_OPTS: -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=&zwnj;&#8203;n</code> - have you tried removing that?"},{"owner":{"account_id":3159045,"reputation":111,"user_id":2670720,"accept_rate":50,"display_name":"Tiee"},"score":0,"creation_date":1662951026,"post_id":73683035,"comment_id":130116767,"body_markdown":"@AndreyB.Panfilov Thanks for reminding me. Never suspected that one since the suspend is NO. Will try.","body":"@AndreyB.Panfilov Thanks for reminding me. Never suspected that one since the suspend is NO. Will try."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1662952444,"post_id":73683035,"comment_id":130116889,"body_markdown":"I have noticed `suspend=n`, however I think it worth to try disable debugger","body":"I have noticed <code>suspend=n</code>, however I think it worth to try disable debugger"},{"owner":{"account_id":3159045,"reputation":111,"user_id":2670720,"accept_rate":50,"display_name":"Tiee"},"score":0,"creation_date":1662953500,"post_id":73683035,"comment_id":130117020,"body_markdown":"@AndreyB.Panfilov I&#39;ve tried that. It didn&#39;t work. Thanks.","body":"@AndreyB.Panfilov I&#39;ve tried that. It didn&#39;t work. Thanks."}],"owner":{"account_id":3159045,"reputation":111,"user_id":2670720,"accept_rate":50,"display_name":"Tiee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662951149,"creation_date":1662935483,"question_id":73683035,"body_markdown":"Spring-boot application gets stuck on startup randomly at:\r\n\r\n[![enter image description here][1]][1]\r\nThe postgres gets started then it gets stuck.\r\nOnly one log from the Java application is:\r\n`Listening for transport dt_socket at address: 8000`\r\n\r\nIt&#39;s a brand new application. I am using spring-boot 2.6.6, Spring 5.3.18, JDK 17, and Hibernate 5.6.7.Final with docker-compose.\r\n\r\nHere is my docker-compose.yml\r\n```\r\nversion: &#39;3.7&#39;\r\nservices:\r\n  postgres:\r\n    image: postgis:11-alpine\r\n    command: postgres -c stats_temp_directory=/tmp\r\n    ports:\r\n      - 5432:5432\r\n    environment:\r\n      - POSTGRES_PASSWORD=password!\r\n      - POSTGRES_USER=xxx\r\n      - POSTGRES_DB=xxx\r\n    volumes:\r\n      - ./postgres-data:/var/lib/postgresql/data\r\n    networks:\r\n      xxx-network:\r\n\r\n  fargate-xxx:\r\n    depends_on:\r\n      - postgres\r\n    links:\r\n      - postgres:postgres\r\n    image: fargate-xxx-local-build\r\n    build:\r\n      context: &quot;&quot;\r\n      dockerfile: Dockerfile\r\n    ports:\r\n    - 8080:8080\r\n    - 8000:8000\r\n    networks:\r\n      xxx-network:\r\n    dns:\r\n    - 8.8.8.8\r\n    - 8.8.4.4\r\n    environment:\r\n      ENVIRONMENT: ${ENVIRONMENT}\r\n      JAVA_OPTS: -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n\r\n    volumes:\r\n    - ./dynamicconfig.properties:/tmp/dynamicconfig.properties\r\n\r\n\r\nvolumes: {}\r\n\r\nnetworks:\r\n  xxx-network:\r\n    driver: bridge\r\n\r\n\r\n```\r\n\r\nDockerfile\r\n```\r\nFROM amazoncorretto:17-alpine\r\n\r\nEXPOSE 8000\r\n\r\nCOPY app.jar app.jar\r\n\r\nENTRYPOINT exec java ${JAVA_OPTS} -jar app.jar\r\n```\r\n\r\nBTW, I&#39;m on M1.\r\n\r\n  [1]: https://i.stack.imgur.com/ZtoYn.png\r\n  [2]: https://i.stack.imgur.com/ZtrUL.png","title":"Spring-boot application gets stuck on startup randomly","body":"<p>Spring-boot application gets stuck on startup randomly at:</p>\n<p><a href=\"https://i.stack.imgur.com/ZtoYn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZtoYn.png\" alt=\"enter image description here\" /></a>\nThe postgres gets started then it gets stuck.\nOnly one log from the Java application is:\n<code>Listening for transport dt_socket at address: 8000</code></p>\n<p>It's a brand new application. I am using spring-boot 2.6.6, Spring 5.3.18, JDK 17, and Hibernate 5.6.7.Final with docker-compose.</p>\n<p>Here is my docker-compose.yml</p>\n<pre><code>version: '3.7'\nservices:\n  postgres:\n    image: postgis:11-alpine\n    command: postgres -c stats_temp_directory=/tmp\n    ports:\n      - 5432:5432\n    environment:\n      - POSTGRES_PASSWORD=password!\n      - POSTGRES_USER=xxx\n      - POSTGRES_DB=xxx\n    volumes:\n      - ./postgres-data:/var/lib/postgresql/data\n    networks:\n      xxx-network:\n\n  fargate-xxx:\n    depends_on:\n      - postgres\n    links:\n      - postgres:postgres\n    image: fargate-xxx-local-build\n    build:\n      context: &quot;&quot;\n      dockerfile: Dockerfile\n    ports:\n    - 8080:8080\n    - 8000:8000\n    networks:\n      xxx-network:\n    dns:\n    - 8.8.8.8\n    - 8.8.4.4\n    environment:\n      ENVIRONMENT: ${ENVIRONMENT}\n      JAVA_OPTS: -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n\n    volumes:\n    - ./dynamicconfig.properties:/tmp/dynamicconfig.properties\n\n\nvolumes: {}\n\nnetworks:\n  xxx-network:\n    driver: bridge\n\n\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM amazoncorretto:17-alpine\n\nEXPOSE 8000\n\nCOPY app.jar app.jar\n\nENTRYPOINT exec java ${JAVA_OPTS} -jar app.jar\n</code></pre>\n<p>BTW, I'm on M1.</p>\n"},{"tags":["java","intellij-idea","jar","dependency-management"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1662952724,"post_id":73683860,"comment_id":130116924,"body_markdown":"Is this what you&#39;re looking for? https://www.jetbrains.com/help/idea/library.html and https://www.jetbrains.com/help/idea/working-with-module-dependencies.html#add-a-new-dependency","body":"Is this what you&#39;re looking for? <a href=\"https://www.jetbrains.com/help/idea/library.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html</a> and <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html#add-a-new-dependency\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1662953270,"post_id":73683860,"comment_id":130116993,"body_markdown":"Yes, it should be that.","body":"Yes, it should be that."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662950935,"creation_date":1662948264,"question_id":73683860,"body_markdown":"I&#39;m learning _Spark_ from a book.  \r\nIt provides me many source files as examples, but without any `pom.xml`, _Gradle_, for building directives.\r\n\r\nAt opening/loading time, _IntelliJ_ automatically discovered that _Java_ and _Scala_ SDK were missing, and it asked me which ones I was willing to select. What I did, and now I have them set: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I need to add two other dependencies to specify where _Spark_ jars are (`spark-core` and `spark-sql` especially), else, the IDE complains against `spark` environment variable missing it the examples:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI need to do this by the mean of _IntelliJ_ itself, without the help of _Maven_, _Gradle_, _SBT_.  \r\n(like in the old times where those tools didn&#39;t existed, or in very old projects)\r\n\r\nWhere should I go, in _IntelliJ_, to add the missing jars dependencies for my project?\r\n\r\n  [1]: https://i.stack.imgur.com/KSHlo.png\r\n  [2]: https://i.stack.imgur.com/qUZ1f.png","title":"Add a jar dependency to a project, manually in IntelliJ, when Maven, Gradle, SBT, aren&#39;t here","body":"<p>I'm learning <em>Spark</em> from a book.<br />\nIt provides me many source files as examples, but without any <code>pom.xml</code>, <em>Gradle</em>, for building directives.</p>\n<p>At opening/loading time, <em>IntelliJ</em> automatically discovered that <em>Java</em> and <em>Scala</em> SDK were missing, and it asked me which ones I was willing to select. What I did, and now I have them set:</p>\n<p><a href=\"https://i.stack.imgur.com/KSHlo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSHlo.png\" alt=\"enter image description here\" /></a></p>\n<p>But I need to add two other dependencies to specify where <em>Spark</em> jars are (<code>spark-core</code> and <code>spark-sql</code> especially), else, the IDE complains against <code>spark</code> environment variable missing it the examples:</p>\n<p><a href=\"https://i.stack.imgur.com/qUZ1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qUZ1f.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to do this by the mean of <em>IntelliJ</em> itself, without the help of <em>Maven</em>, <em>Gradle</em>, <em>SBT</em>.<br />\n(like in the old times where those tools didn't existed, or in very old projects)</p>\n<p>Where should I go, in <em>IntelliJ</em>, to add the missing jars dependencies for my project?</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":3220603,"reputation":2133,"user_id":2718163,"display_name":"alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662950778,"creation_date":1662950778,"answer_id":73684018,"question_id":73676771,"body_markdown":"You&#39;re passing in `payment_behavior=default_incomplete` - you&#39;ll need to confirm the PaymentIntent on the first invoice before the Subscription transitions to `status=active`.\r\n\r\nSee https://stripe.com/docs/api/subscriptions/create#create_subscription-payment_behavior ","title":"Create Stripe subscription with existing customer payment method (card)","body":"<p>You're passing in <code>payment_behavior=default_incomplete</code> - you'll need to confirm the PaymentIntent on the first invoice before the Subscription transitions to <code>status=active</code>.</p>\n<p>See <a href=\"https://stripe.com/docs/api/subscriptions/create#create_subscription-payment_behavior\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/subscriptions/create#create_subscription-payment_behavior</a></p>\n"}],"owner":{"account_id":7278422,"reputation":131,"user_id":5549016,"accept_rate":86,"display_name":"Anthony Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73684018,"answer_count":1,"score":1,"last_activity_date":1662950778,"creation_date":1662869701,"question_id":73676771,"body_markdown":"I am unable to create a subscription where the customer already has a existing payment method. The dashboard just has the &quot;Incomplete&quot; tag next to the new subscription object.\r\n\r\nMy endpoint below takes in the customer id and the payment method id. Most of it was pulled from their examples but I added in &quot;.setDefaultPaymentMethod&quot;\r\n\r\n```\r\n@GetMapping(&quot;/subscriptions/create/{customerId}/{defaultPaymentMethod}&quot;)\r\npublic void createSubscription(@PathVariable String customerId, @PathVariable String defaultPaymentMethod) throws StripeException {\r\n\r\n    Stripe.apiKey = &quot;sk_test_XXXXX&quot;;\r\n    String priceId = &quot;XXXXX&quot;;\r\n\r\n    // Automatically save the payment method to the subscription\r\n    // when the first payment is successful.\r\n    SubscriptionCreateParams.PaymentSettings paymentSettings =\r\n            SubscriptionCreateParams.PaymentSettings\r\n                    .builder()\r\n                    .setSaveDefaultPaymentMethod(SubscriptionCreateParams.PaymentSettings.SaveDefaultPaymentMethod.ON_SUBSCRIPTION)\r\n                    .build();\r\n\r\n    // Create the subscription. Note we&#39;re expanding the Subscription&#39;s\r\n    // latest invoice and that invoice&#39;s payment_intent\r\n    // so we can pass it to the front end to confirm the payment\r\n    SubscriptionCreateParams.Builder subCreateParams = SubscriptionCreateParams.builder()\r\n            .setCustomer(customerId)\r\n            .addItem(\r\n                    SubscriptionCreateParams\r\n                            .Item.builder()\r\n                            .setPrice(priceId)\r\n                            .build()\r\n            )\r\n            .setPaymentSettings(paymentSettings)\r\n            .setDefaultPaymentMethod(defaultPaymentMethod)\r\n            .setPaymentBehavior(SubscriptionCreateParams.PaymentBehavior.DEFAULT_INCOMPLETE)\r\n            .setCollectionMethod(SubscriptionCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)\r\n            .addAllExpand(Arrays.asList(&quot;latest_invoice.payment_intent&quot;));\r\n\r\n    Subscription subscription = Subscription.create(subCreateParams.build());\r\n}\r\n```\r\n\r\nNote that I am able to create a successful subscription if I initially create it from my endpoint, get the client secret which is used to collect payment information via the Stripe JavaScript/React library, and have the user submit those payment details via &quot;stripe.confirmCardPayment&quot;. Endpoint is below:\r\n\r\n```\r\n@GetMapping(&quot;/subscriptions/create/{customerId}&quot;)\r\npublic void receiveCreateSubscriptionRequestWithoutPaymentMethod(@PathVariable String customerId) throws StripeException {\r\n\r\n    Stripe.apiKey = &quot;sk_test_XXXXX&quot;;\r\n    String priceId = &quot;XXXXX&quot;;\r\n\r\n    // Automatically save the payment method to the subscription\r\n    // when the first payment is successful.\r\n    SubscriptionCreateParams.PaymentSettings paymentSettings =\r\n            SubscriptionCreateParams.PaymentSettings\r\n                    .builder()\r\n                    .setSaveDefaultPaymentMethod(SubscriptionCreateParams.PaymentSettings.SaveDefaultPaymentMethod.ON_SUBSCRIPTION)\r\n                    .build();\r\n\r\n    // Create the subscription. Note we&#39;re expanding the Subscription&#39;s\r\n    // latest invoice and that invoice&#39;s payment_intent\r\n    // so we can pass it to the front end to confirm the payment\r\n    SubscriptionCreateParams.Builder subCreateParams = SubscriptionCreateParams.builder()\r\n            .setCustomer(customerId)\r\n            .addItem(\r\n                    SubscriptionCreateParams\r\n                            .Item.builder()\r\n                            .setPrice(priceId)\r\n                            .build()\r\n            )\r\n            .setPaymentSettings(paymentSettings)\r\n            .setPaymentBehavior(SubscriptionCreateParams.PaymentBehavior.DEFAULT_INCOMPLETE)\r\n            .setCollectionMethod(SubscriptionCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)\r\n            .addAllExpand(Arrays.asList(&quot;latest_invoice.payment_intent&quot;));\r\n\r\n    Subscription subscription = Subscription.create(subCreateParams.build());\r\n}\r\n```\r\n\r\nAny thoughts here?","title":"Create Stripe subscription with existing customer payment method (card)","body":"<p>I am unable to create a subscription where the customer already has a existing payment method. The dashboard just has the &quot;Incomplete&quot; tag next to the new subscription object.</p>\n<p>My endpoint below takes in the customer id and the payment method id. Most of it was pulled from their examples but I added in &quot;.setDefaultPaymentMethod&quot;</p>\n<pre><code>@GetMapping(&quot;/subscriptions/create/{customerId}/{defaultPaymentMethod}&quot;)\npublic void createSubscription(@PathVariable String customerId, @PathVariable String defaultPaymentMethod) throws StripeException {\n\n    Stripe.apiKey = &quot;sk_test_XXXXX&quot;;\n    String priceId = &quot;XXXXX&quot;;\n\n    // Automatically save the payment method to the subscription\n    // when the first payment is successful.\n    SubscriptionCreateParams.PaymentSettings paymentSettings =\n            SubscriptionCreateParams.PaymentSettings\n                    .builder()\n                    .setSaveDefaultPaymentMethod(SubscriptionCreateParams.PaymentSettings.SaveDefaultPaymentMethod.ON_SUBSCRIPTION)\n                    .build();\n\n    // Create the subscription. Note we're expanding the Subscription's\n    // latest invoice and that invoice's payment_intent\n    // so we can pass it to the front end to confirm the payment\n    SubscriptionCreateParams.Builder subCreateParams = SubscriptionCreateParams.builder()\n            .setCustomer(customerId)\n            .addItem(\n                    SubscriptionCreateParams\n                            .Item.builder()\n                            .setPrice(priceId)\n                            .build()\n            )\n            .setPaymentSettings(paymentSettings)\n            .setDefaultPaymentMethod(defaultPaymentMethod)\n            .setPaymentBehavior(SubscriptionCreateParams.PaymentBehavior.DEFAULT_INCOMPLETE)\n            .setCollectionMethod(SubscriptionCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)\n            .addAllExpand(Arrays.asList(&quot;latest_invoice.payment_intent&quot;));\n\n    Subscription subscription = Subscription.create(subCreateParams.build());\n}\n</code></pre>\n<p>Note that I am able to create a successful subscription if I initially create it from my endpoint, get the client secret which is used to collect payment information via the Stripe JavaScript/React library, and have the user submit those payment details via &quot;stripe.confirmCardPayment&quot;. Endpoint is below:</p>\n<pre><code>@GetMapping(&quot;/subscriptions/create/{customerId}&quot;)\npublic void receiveCreateSubscriptionRequestWithoutPaymentMethod(@PathVariable String customerId) throws StripeException {\n\n    Stripe.apiKey = &quot;sk_test_XXXXX&quot;;\n    String priceId = &quot;XXXXX&quot;;\n\n    // Automatically save the payment method to the subscription\n    // when the first payment is successful.\n    SubscriptionCreateParams.PaymentSettings paymentSettings =\n            SubscriptionCreateParams.PaymentSettings\n                    .builder()\n                    .setSaveDefaultPaymentMethod(SubscriptionCreateParams.PaymentSettings.SaveDefaultPaymentMethod.ON_SUBSCRIPTION)\n                    .build();\n\n    // Create the subscription. Note we're expanding the Subscription's\n    // latest invoice and that invoice's payment_intent\n    // so we can pass it to the front end to confirm the payment\n    SubscriptionCreateParams.Builder subCreateParams = SubscriptionCreateParams.builder()\n            .setCustomer(customerId)\n            .addItem(\n                    SubscriptionCreateParams\n                            .Item.builder()\n                            .setPrice(priceId)\n                            .build()\n            )\n            .setPaymentSettings(paymentSettings)\n            .setPaymentBehavior(SubscriptionCreateParams.PaymentBehavior.DEFAULT_INCOMPLETE)\n            .setCollectionMethod(SubscriptionCreateParams.CollectionMethod.CHARGE_AUTOMATICALLY)\n            .addAllExpand(Arrays.asList(&quot;latest_invoice.payment_intent&quot;));\n\n    Subscription subscription = Subscription.create(subCreateParams.build());\n}\n</code></pre>\n<p>Any thoughts here?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":2868440,"reputation":439,"user_id":2462251,"display_name":"Ace Zachary"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485943841,"creation_date":1485943841,"answer_id":41977025,"question_id":41975842,"body_markdown":"You may want to take a look at Jackson library  and convert the JSON string to map first and then merging (iterate through the map and merge).  ","title":"Recursively merge JSON structures","body":"<p>You may want to take a look at Jackson library  and convert the JSON string to map first and then merging (iterate through the map and merge).  </p>\n"},{"tags":[],"owner":{"account_id":5954185,"reputation":1697,"user_id":4681367,"accept_rate":100,"display_name":"Lionel Briand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487061247,"creation_date":1487061247,"answer_id":42221250,"question_id":41975842,"body_markdown":"I ended up doing One method that merge JSON recursively. \r\n\r\n\r\n    public JSONObject merge(List&lt;JSONObject&gt; objects) {\r\n        for (int i = 0, j = 1; i &lt; objects.size() - 1; i++, j++) {\r\n            merge(objects.get(i), objects.get(j));\r\n        }\r\n        return objects.get(objects.size() - 1);\r\n    }\r\n\r\n\r\n    private void merge(JSONObject j1, JSONObject j2) {\r\n        Iterator&lt;String&gt; keys = j1.keys();\r\n        Object obj1, obj2;\r\n        while (keys.hasNext()) {\r\n            String next = keys.next();\r\n            if (j1.isNull(next)) continue;\r\n            obj1 = j1.get(next);\r\n            if (!j2.has(next)) j2.putOpt(next, obj1);\r\n            obj2 = j2.get(next);\r\n            if (obj1 instanceof JSONObject &amp;&amp; obj2 instanceof JSONObject) {\r\n                merge((JSONObject) obj1, (JSONObject) obj2);\r\n            }\r\n        }\r\n    }\r\n","title":"Recursively merge JSON structures","body":"<p>I ended up doing One method that merge JSON recursively. </p>\n\n<pre><code>public JSONObject merge(List&lt;JSONObject&gt; objects) {\n    for (int i = 0, j = 1; i &lt; objects.size() - 1; i++, j++) {\n        merge(objects.get(i), objects.get(j));\n    }\n    return objects.get(objects.size() - 1);\n}\n\n\nprivate void merge(JSONObject j1, JSONObject j2) {\n    Iterator&lt;String&gt; keys = j1.keys();\n    Object obj1, obj2;\n    while (keys.hasNext()) {\n        String next = keys.next();\n        if (j1.isNull(next)) continue;\n        obj1 = j1.get(next);\n        if (!j2.has(next)) j2.putOpt(next, obj1);\n        obj2 = j2.get(next);\n        if (obj1 instanceof JSONObject &amp;&amp; obj2 instanceof JSONObject) {\n            merge((JSONObject) obj1, (JSONObject) obj2);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":975547,"reputation":511,"user_id":9550551,"display_name":"Didier Breedt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597915022,"creation_date":1597915022,"answer_id":63501983,"question_id":41975842,"body_markdown":"This worked for me:\r\n\r\n    public JSONObject merge(Stream&lt;JSONObject&gt; jsonObjectStream) {\r\n        JSONObject finalMerged = new JSONObject();\r\n        finalMerged = jsonObjectStream.reduce(finalMerged, this::merge);\r\n\r\n        return finalMerged;\r\n    }\r\n\r\n    private JSONObject merge(JSONObject mergedJson, JSONObject jsonToAdd) {\r\n        Iterator&lt;String&gt; keys = jsonToAdd.keys();\r\n        while (keys.hasNext()) {\r\n            String key = keys.next();\r\n            if (!jsonToAdd.isNull(key)) {\r\n                Object itemToMerge = jsonToAdd.get(key);\r\n                // If target object to merge is another json object, we need to see if our existing object\r\n                // has the same key already set, and if so, they need to be merged.\r\n                if ((itemToMerge instanceof JSONObject) &amp;&amp; (mergedJson.opt(key) instanceof JSONObject)) {\r\n                    itemToMerge = merge(mergedJson.getJSONObject(key), (JSONObject) itemToMerge);\r\n                }\r\n                mergedJson.putOpt(key, itemToMerge);\r\n            }\r\n        }\r\n\r\n        return mergedJson;\r\n    }","title":"Recursively merge JSON structures","body":"<p>This worked for me:</p>\n<pre><code>public JSONObject merge(Stream&lt;JSONObject&gt; jsonObjectStream) {\n    JSONObject finalMerged = new JSONObject();\n    finalMerged = jsonObjectStream.reduce(finalMerged, this::merge);\n\n    return finalMerged;\n}\n\nprivate JSONObject merge(JSONObject mergedJson, JSONObject jsonToAdd) {\n    Iterator&lt;String&gt; keys = jsonToAdd.keys();\n    while (keys.hasNext()) {\n        String key = keys.next();\n        if (!jsonToAdd.isNull(key)) {\n            Object itemToMerge = jsonToAdd.get(key);\n            // If target object to merge is another json object, we need to see if our existing object\n            // has the same key already set, and if so, they need to be merged.\n            if ((itemToMerge instanceof JSONObject) &amp;&amp; (mergedJson.opt(key) instanceof JSONObject)) {\n                itemToMerge = merge(mergedJson.getJSONObject(key), (JSONObject) itemToMerge);\n            }\n            mergedJson.putOpt(key, itemToMerge);\n        }\n    }\n\n    return mergedJson;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14857222,"reputation":126,"user_id":10729324,"display_name":"Oswaldo Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662950040,"creation_date":1662950040,"answer_id":73683971,"question_id":41975842,"body_markdown":"Consider using a library that does this job for you, like [JSON Merge](https://github.com/oswaldobapvicjr/jsonmerge/), available at Maven Central.\r\n\r\nYou may get the desired result with a single line of code (you may ignore the String declarations if you already have the JSONObjects previously loaded):\r\n\r\n    String jsonBase = &quot;{\\n&quot;\r\n                + &quot;    \\&quot;plank\\&quot; : {\\n&quot;\r\n                + &quot;        \\&quot;count\\&quot; : 2,\\n&quot;\r\n                + &quot;        \\&quot;properties\\&quot; : {\\n&quot;\r\n                + &quot;            \\&quot;type\\&quot; : \\&quot;oak\\&quot;,\\n&quot;\r\n                + &quot;            \\&quot;dimensions\\&quot; : [5.0, 25, 25]\\n&quot;\r\n                + &quot;        }\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;}&quot;;\r\n\r\n    String jsonOverride = &quot;{\\n&quot;\r\n                + &quot;    \\&quot;plank\\&quot; : {\\n&quot;\r\n                + &quot;        \\&quot;count\\&quot; : 4,\\n&quot;\r\n                + &quot;        \\&quot;properties\\&quot; : {\\n&quot;\r\n                + &quot;            \\&quot;dimensions\\&quot; : [5.0, 12.5, 25]\\n&quot;\r\n                + &quot;        }\\n&quot;\r\n                + &quot;    },\\n&quot;\r\n                + &quot;    \\&quot;scrap\\&quot; : {\\n&quot;\r\n                + &quot;        \\&quot;count\\&quot; : 1,\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;}&quot;;\r\n\r\n    JSONObject result = new JsonMerger&lt;&gt;(JSONObject.class).merge(jsonOverride, jsonBase);\r\n\r\n**Note:** the first JSON parameter passed to the `merge` method will always have more precedence/importance than the second one in case of key collisions.","title":"Recursively merge JSON structures","body":"<p>Consider using a library that does this job for you, like <a href=\"https://github.com/oswaldobapvicjr/jsonmerge/\" rel=\"nofollow noreferrer\">JSON Merge</a>, available at Maven Central.</p>\n<p>You may get the desired result with a single line of code (you may ignore the String declarations if you already have the JSONObjects previously loaded):</p>\n<pre><code>String jsonBase = &quot;{\\n&quot;\n            + &quot;    \\&quot;plank\\&quot; : {\\n&quot;\n            + &quot;        \\&quot;count\\&quot; : 2,\\n&quot;\n            + &quot;        \\&quot;properties\\&quot; : {\\n&quot;\n            + &quot;            \\&quot;type\\&quot; : \\&quot;oak\\&quot;,\\n&quot;\n            + &quot;            \\&quot;dimensions\\&quot; : [5.0, 25, 25]\\n&quot;\n            + &quot;        }\\n&quot;\n            + &quot;    }\\n&quot;\n            + &quot;}&quot;;\n\nString jsonOverride = &quot;{\\n&quot;\n            + &quot;    \\&quot;plank\\&quot; : {\\n&quot;\n            + &quot;        \\&quot;count\\&quot; : 4,\\n&quot;\n            + &quot;        \\&quot;properties\\&quot; : {\\n&quot;\n            + &quot;            \\&quot;dimensions\\&quot; : [5.0, 12.5, 25]\\n&quot;\n            + &quot;        }\\n&quot;\n            + &quot;    },\\n&quot;\n            + &quot;    \\&quot;scrap\\&quot; : {\\n&quot;\n            + &quot;        \\&quot;count\\&quot; : 1,\\n&quot;\n            + &quot;    }\\n&quot;\n            + &quot;}&quot;;\n\nJSONObject result = new JsonMerger&lt;&gt;(JSONObject.class).merge(jsonOverride, jsonBase);\n</code></pre>\n<p><strong>Note:</strong> the first JSON parameter passed to the <code>merge</code> method will always have more precedence/importance than the second one in case of key collisions.</p>\n"}],"owner":{"account_id":5954185,"reputation":1697,"user_id":4681367,"accept_rate":100,"display_name":"Lionel Briand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2657,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42221250,"answer_count":4,"score":3,"last_activity_date":1662950040,"creation_date":1485940286,"question_id":41975842,"body_markdown":"I have n set of json string. How can i merge them into only one in Java?\r\n\r\nThe latest json override previous information in case of conflict. Arrays are not merged.\r\n\r\n#Example\r\n\r\njson base :\r\n\r\n    {\r\n        &quot;plank&quot; : {\r\n            &quot;count&quot; : 2,\r\n            &quot;properties&quot; : {\r\n                &quot;type&quot; : &quot;oak&quot;,\r\n                &quot;dimensions&quot; : [5.0, 25, 25]\r\n            }\r\n        }\r\n    }\r\n\r\nmerge with :\r\n\r\n    {\r\n        &quot;plank&quot; : {\r\n            &quot;count&quot; : 4,\r\n            &quot;properties&quot; : {\r\n                &quot;dimensions&quot; : [5.0, 12.5, 25]\r\n            }\r\n        },\r\n        &quot;scrap&quot; : {\r\n            &quot;count&quot; : 1,\r\n        }\r\n    }\r\n\r\nbecome :\r\n\r\n    {\r\n        &quot;plank&quot; : {\r\n            &quot;count&quot; : 4,\r\n            &quot;properties&quot; : {\r\n                &quot;type&quot; : &quot;oak&quot;,\r\n                &quot;dimensions&quot; : [5.0, 12.5, 25]\r\n            }\r\n        },\r\n        &quot;scrap&quot; : {\r\n            &quot;count&quot; : 1,\r\n        }\r\n    }","title":"Recursively merge JSON structures","body":"<p>I have n set of json string. How can i merge them into only one in Java?</p>\n\n<p>The latest json override previous information in case of conflict. Arrays are not merged.</p>\n\n<h1>Example</h1>\n\n<p>json base :</p>\n\n<pre><code>{\n    \"plank\" : {\n        \"count\" : 2,\n        \"properties\" : {\n            \"type\" : \"oak\",\n            \"dimensions\" : [5.0, 25, 25]\n        }\n    }\n}\n</code></pre>\n\n<p>merge with :</p>\n\n<pre><code>{\n    \"plank\" : {\n        \"count\" : 4,\n        \"properties\" : {\n            \"dimensions\" : [5.0, 12.5, 25]\n        }\n    },\n    \"scrap\" : {\n        \"count\" : 1,\n    }\n}\n</code></pre>\n\n<p>become :</p>\n\n<pre><code>{\n    \"plank\" : {\n        \"count\" : 4,\n        \"properties\" : {\n            \"type\" : \"oak\",\n            \"dimensions\" : [5.0, 12.5, 25]\n        }\n    },\n    \"scrap\" : {\n        \"count\" : 1,\n    }\n}\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"score":0,"creation_date":1530724721,"post_id":51178357,"comment_id":89339497,"body_markdown":"thanks but still it gives error.... HTTP status 500","body":"thanks but still it gives error.... HTTP status 500"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1530724735,"post_id":51178357,"comment_id":89339506,"body_markdown":"So you get a Status 500 java.lang.NumberFormatException. The stack trace of the exception should tell you where and why this exception is thrown. Have you done some debugging? Printed the value of the parameters before trying to parse them? What do you enter in the two fields? Note that you should NOT override service(). Read the javadoc of HttpServlet.","body":"So you get a Status 500 java.lang.NumberFormatException. The stack trace of the exception should tell you where and why this exception is thrown. Have you done some debugging? Printed the value of the parameters before trying to parse them? What do you enter in the two fields? Note that you should NOT override service(). Read the javadoc of HttpServlet."},{"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"score":0,"creation_date":1530724837,"post_id":51178357,"comment_id":89339551,"body_markdown":"here is the error...Exception\n\njava.lang.NumberFormatException: null\n\tjava.lang.Integer.parseInt(Integer.java:542)\n\tjava.lang.Integer.parseInt(Integer.java:615)\n\tservletjsp.AddServlet.service(AddServlet.java:12)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.        .........................please tell what to do","body":"here is the error...Exception  java.lang.NumberFormatException: null \tjava.lang.Integer.parseInt(Integer.java:542) \tjava.lang.Integer.parseInt(Integer.java:615) \tservletjsp.AddServlet.service(AddServlet.java:12) \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741&zwnj;&#8203;) \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilt&zwnj;&#8203;er.java:53) Note The full stack trace of the root cause is available in the server logs.        .........................please tell what to do"},{"owner":{"account_id":7487560,"reputation":145,"user_id":5690287,"display_name":"Dhruv Singhal"},"score":0,"creation_date":1530724852,"post_id":51178357,"comment_id":89339559,"body_markdown":"then it might be the problem with the values you enter. Maybe you would want to debug and check what values are being passed from UI","body":"then it might be the problem with the values you enter. Maybe you would want to debug and check what values are being passed from UI"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1530724933,"post_id":51178357,"comment_id":89339591,"body_markdown":"So, one of the parameters is null. Can&#39;t you really find which one? And find out why? What does your form submit?","body":"So, one of the parameters is null. Can&#39;t you really find which one? And find out why? What does your form submit?"},{"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"score":0,"creation_date":1530724937,"post_id":51178357,"comment_id":89339595,"body_markdown":"I passed Integer values in those fields.","body":"I passed Integer values in those fields."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1530725001,"post_id":51178357,"comment_id":89339620,"body_markdown":"Do you have a field for num1 and a field for num2 in your form? Why is num1 not null, and num2 null? Read your HTML source carefully.","body":"Do you have a field for num1 and a field for num2 in your form? Why is num1 not null, and num2 null? Read your HTML source carefully."},{"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"score":0,"creation_date":1530725510,"post_id":51178357,"comment_id":89339807,"body_markdown":"Thank you all!!!!","body":"Thank you all!!!!"},{"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"score":0,"creation_date":1530725612,"post_id":51178357,"comment_id":89339852,"body_markdown":"But i wanna know why it was giving HTTP status 405? get method is not supported","body":"But i wanna know why it was giving HTTP status 405? get method is not supported"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1530725759,"post_id":51178357,"comment_id":89339909,"body_markdown":"We can&#39;t tell you that since you didn&#39;t post the code causing the error. My guess is that you implemented doGet(), but the default method when submitting a form is POST, not GET. Unless of course you specify `method=&quot;get&quot;` on the form.","body":"We can&#39;t tell you that since you didn&#39;t post the code causing the error. My guess is that you implemented doGet(), but the default method when submitting a form is POST, not GET. Unless of course you specify <code>method=&quot;get&quot;</code> on the form."}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530727122,"creation_date":1530724931,"answer_id":51178511,"question_id":51178357,"body_markdown":"You get a `NumberFormatException` because `Integer.parseInt(String)` throws it if the `String` argument can&#39;t be converted to an integer. See the [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html).\r\n\r\nYou need to wrap the integer parsing in a try-catch and handle the exception if you don&#39;t want it to be thrown, OR check ahead of time that the `String` supplied is really an integer.\r\n\r\nAlso take a good look at your form. You have\r\n\r\n        &lt;form action=&quot;add&quot;&gt;\r\n            Enter 1st number: &lt;input type=&quot;text&quot;  name=num1&gt;&lt;br&gt;\r\n            Enter 2nd number: &lt;input type=&quot;text&quot;  name=num1&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot;&gt;\r\n        &lt;/form&gt;\r\n\r\nThis has `num1` twice, which will give you `null` when you try to get the parameter for `num2` in your `req`.\r\n\r\nChange it to\r\n\r\n        &lt;form action=&quot;add&quot;&gt;\r\n            Enter 1st number: &lt;input type=&quot;text&quot;  name=&quot;num1&quot;&gt;&lt;br&gt;\r\n            Enter 2nd number: &lt;input type=&quot;text&quot;  name=&quot;num2&quot;&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot;&gt;\r\n        &lt;/form&gt;\r\n\r\n\r\nFor example:\r\n\r\n    String num1 = req.getParameter(&quot;num1&quot;);\r\n    String num2 = req.getParameter(&quot;num2&quot;);\r\n\r\n    try {\r\n        int i = Integer.parseInt(num1);\r\n        int j = Integer.parseInt(num2);\r\n\r\n        int k = i + j;\r\n        // TODO do something with k\r\n    } catch (NumberFormatException e) {\r\n        // log exception and / or notify user\r\n        System.out.println(&quot;At least one invalid number in the given numbers: &quot; + num1 + &quot;, &quot; + num2);\r\n        e.printStackTrace();\r\n        // show an error message to the user somewhere in your frontend\r\n        req.setAttribute(&quot;error&quot;, &quot;your error message&quot;);\r\n    }\r\n\r\n**EDIT**\r\n\r\nAs pointed out in the comments, I&#39;ve chosen to catch the unchecked exception `NumberFormatException`, log it and set an attribute in the request to show the user a meaningful error message.\r\n\r\nI did this because by letting the unchecked exception bubble up in the event that at least one of the numbers entered is not parsable to an integer value, it would have to be dealt with further up the chain in order to display something meaningful to the user and not a generic internal server error message.\r\n\r\nAn alternative to using the logic described above would be using regex to validate the input for each of the integers.\r\n\r\nAnother validation consideration that was not touched upon here is the possibility of an overflow. This can happen in two cases:\r\n\r\n1. The user enters an integer that is larger than `Integer.MAX_VALUE`.\r\n2. The user enters two integers whose sum is larger than `Integer.MAX_VALUE`.\r\n\r\nIn the first case, for example \r\n\r\n\tSystem.out.println(Integer.parseInt(&quot;&quot; + (Integer.MAX_VALUE + 1)));\r\n\r\nwill print `-2147483648`\r\n\r\nAnd in the second case\r\n\r\n\tint a = Integer.parseInt(&quot;&quot; + (Integer.MAX_VALUE));\r\n\tint b = Integer.parseInt(&quot;&quot; + (Integer.MAX_VALUE));\r\n\r\n\tSystem.out.println(a + b);\r\n\r\nwill print `-2`. In both cases the result should clearly be positive.","title":"java Servlets addition of 2 numbers","body":"<p>You get a <code>NumberFormatException</code> because <code>Integer.parseInt(String)</code> throws it if the <code>String</code> argument can't be converted to an integer. See the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>You need to wrap the integer parsing in a try-catch and handle the exception if you don't want it to be thrown, OR check ahead of time that the <code>String</code> supplied is really an integer.</p>\n\n<p>Also take a good look at your form. You have</p>\n\n<pre><code>    &lt;form action=\"add\"&gt;\n        Enter 1st number: &lt;input type=\"text\"  name=num1&gt;&lt;br&gt;\n        Enter 2nd number: &lt;input type=\"text\"  name=num1&gt;&lt;br&gt;\n        &lt;input type=\"submit\"&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>This has <code>num1</code> twice, which will give you <code>null</code> when you try to get the parameter for <code>num2</code> in your <code>req</code>.</p>\n\n<p>Change it to</p>\n\n<pre><code>    &lt;form action=\"add\"&gt;\n        Enter 1st number: &lt;input type=\"text\"  name=\"num1\"&gt;&lt;br&gt;\n        Enter 2nd number: &lt;input type=\"text\"  name=\"num2\"&gt;&lt;br&gt;\n        &lt;input type=\"submit\"&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>String num1 = req.getParameter(\"num1\");\nString num2 = req.getParameter(\"num2\");\n\ntry {\n    int i = Integer.parseInt(num1);\n    int j = Integer.parseInt(num2);\n\n    int k = i + j;\n    // TODO do something with k\n} catch (NumberFormatException e) {\n    // log exception and / or notify user\n    System.out.println(\"At least one invalid number in the given numbers: \" + num1 + \", \" + num2);\n    e.printStackTrace();\n    // show an error message to the user somewhere in your frontend\n    req.setAttribute(\"error\", \"your error message\");\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>As pointed out in the comments, I've chosen to catch the unchecked exception <code>NumberFormatException</code>, log it and set an attribute in the request to show the user a meaningful error message.</p>\n\n<p>I did this because by letting the unchecked exception bubble up in the event that at least one of the numbers entered is not parsable to an integer value, it would have to be dealt with further up the chain in order to display something meaningful to the user and not a generic internal server error message.</p>\n\n<p>An alternative to using the logic described above would be using regex to validate the input for each of the integers.</p>\n\n<p>Another validation consideration that was not touched upon here is the possibility of an overflow. This can happen in two cases:</p>\n\n<ol>\n<li>The user enters an integer that is larger than <code>Integer.MAX_VALUE</code>.</li>\n<li>The user enters two integers whose sum is larger than <code>Integer.MAX_VALUE</code>.</li>\n</ol>\n\n<p>In the first case, for example </p>\n\n<pre><code>System.out.println(Integer.parseInt(\"\" + (Integer.MAX_VALUE + 1)));\n</code></pre>\n\n<p>will print <code>-2147483648</code></p>\n\n<p>And in the second case</p>\n\n<pre><code>int a = Integer.parseInt(\"\" + (Integer.MAX_VALUE));\nint b = Integer.parseInt(\"\" + (Integer.MAX_VALUE));\n\nSystem.out.println(a + b);\n</code></pre>\n\n<p>will print <code>-2</code>. In both cases the result should clearly be positive.</p>\n"},{"tags":[],"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530725071,"creation_date":1530725071,"answer_id":51178542,"question_id":51178357,"body_markdown":"Try to add three or four numbers instead of just two. I think it will help you understand what went wrong.","title":"java Servlets addition of 2 numbers","body":"<p>Try to add three or four numbers instead of just two. I think it will help you understand what went wrong.</p>\n"},{"tags":[],"owner":{"account_id":4297899,"reputation":50,"user_id":3512436,"display_name":"Yorsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530725230,"creation_date":1530725230,"answer_id":51178570,"question_id":51178357,"body_markdown":"It seems you are parsing the request parameter &quot;num2&quot; but in your html, your input is only &quot;num1&quot; duplicated. \r\n\r\nSo in the servlet, you are requesting parameter &quot;num2&quot; which does not exists, giving a null value, giving you the Exception java.lang.NumberFormatException: null.\r\n\r\nFirst you need to correct your HTML inputs, and is encouraged to use a try-catch block to parse those input values in the servlet (to handle different cases: null values, non numeric, float values, etc).","title":"java Servlets addition of 2 numbers","body":"<p>It seems you are parsing the request parameter \"num2\" but in your html, your input is only \"num1\" duplicated. </p>\n\n<p>So in the servlet, you are requesting parameter \"num2\" which does not exists, giving a null value, giving you the Exception java.lang.NumberFormatException: null.</p>\n\n<p>First you need to correct your HTML inputs, and is encouraged to use a try-catch block to parse those input values in the servlet (to handle different cases: null values, non numeric, float values, etc).</p>\n"},{"tags":[],"owner":{"account_id":7487560,"reputation":145,"user_id":5690287,"display_name":"Dhruv Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530755685,"creation_date":1530728817,"answer_id":51179266,"question_id":51178357,"body_markdown":"As already pointed out by most of the answers, the problem was with the form itself.\r\n\r\nBut having looked at all the answers, one thing has been encouraged by most of them - handling the unchecked exception in try/catch block (in this case, java.lang.NumberFormatException).\r\n\r\nPlease pay attention! Unchecked Exceptions are NEVER meant to be handled inside try/catch block (even if you want to get rid of exception). You need to realise that the idea of handling unchecked exception arouse ONLY after getting incorrect data. AND it can lead to normal functioning of server, returning you the incorrect result and making it much difficult to track the mistake.\r\n\r\nAnd without the data, it is impossible to even guess the exception that might occur. So please don&#39;t encourage handling of unchecked exception in try/catch block. If you really want to handle the unchecked exceptions, do it by using validations (e.g. conditions). That way you will ensure that the data will pass certain condition according to your requirement, and you can check if invalid input is there.\r\n\r\n**Note:** It is even more disastrous to throw such exceptions.","title":"java Servlets addition of 2 numbers","body":"<p>As already pointed out by most of the answers, the problem was with the form itself.</p>\n\n<p>But having looked at all the answers, one thing has been encouraged by most of them - handling the unchecked exception in try/catch block (in this case, java.lang.NumberFormatException).</p>\n\n<p>Please pay attention! Unchecked Exceptions are NEVER meant to be handled inside try/catch block (even if you want to get rid of exception). You need to realise that the idea of handling unchecked exception arouse ONLY after getting incorrect data. AND it can lead to normal functioning of server, returning you the incorrect result and making it much difficult to track the mistake.</p>\n\n<p>And without the data, it is impossible to even guess the exception that might occur. So please don't encourage handling of unchecked exception in try/catch block. If you really want to handle the unchecked exceptions, do it by using validations (e.g. conditions). That way you will ensure that the data will pass certain condition according to your requirement, and you can check if invalid input is there.</p>\n\n<p><strong>Note:</strong> It is even more disastrous to throw such exceptions.</p>\n"},{"tags":[],"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662949447,"creation_date":1662949447,"answer_id":73683940,"question_id":51178357,"body_markdown":"You should run the application from the html page and not from the servlets. I have faced the similar problem when I am using Run button from the Servlet file. When you are on html page just right click and then choose Run-&gt; Run on Servel. This is how I resolved this error.","title":"java Servlets addition of 2 numbers","body":"<p>You should run the application from the html page and not from the servlets. I have faced the similar problem when I am using Run button from the Servlet file. When you are on html page just right click and then choose Run-&gt; Run on Servel. This is how I resolved this error.</p>\n"}],"owner":{"account_id":11973709,"reputation":9,"user_id":8761497,"display_name":"Ritik Agrawal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16680,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662975841,"answer_count":5,"score":-1,"last_activity_date":1662949447,"creation_date":1530724147,"question_id":51178357,"body_markdown":"my java file is as follows-----\r\n\r\n    package servletjsp;\r\n\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    public class AddServlet extends HttpServlet \r\n    {\r\n        public void service(HttpServletRequest req,HttpServletResponse res) \r\n        {\r\n\t        int i=Integer.parseInt(req.getParameter(&quot;num1&quot;));\r\n    \t    int j=Integer.parseInt(req.getParameter(&quot;num2&quot;));\r\n\t\r\n    \t    int k=i+j;\r\n\t        System.out.println(&quot;the result is &quot;+ k);\r\n        }\r\n    } \r\n\r\n\r\nMy html file is as follows----\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;form action=&quot;add&quot;&gt;\r\n                Enter 1st number: &lt;input type=&quot;text&quot;  name=num1&gt;&lt;br&gt;\r\n                Enter 2nd number: &lt;input type=&quot;text&quot;  name=num1&gt;&lt;br&gt;\r\n                &lt;input type=&quot;submit&quot;&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt; \r\n\r\nmy web.xml file is as follows----\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; \r\n             version=&quot;3.1&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;servletjsp.AddServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;  \r\n    &lt;/web-app&gt;\r\n\r\nwhen I clicked on submit code in web browser, it was returning HTTP Status 405 get method is not suppported; now it is returning HTTP Status 500. \r\n\r\n    java.lang.NumberFormatException.\r\n\r\nPlease give me the correct code so that it may add 2 numbers.","title":"java Servlets addition of 2 numbers","body":"<p>my java file is as follows-----</p>\n\n<pre><code>package servletjsp;\n\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class AddServlet extends HttpServlet \n{\n    public void service(HttpServletRequest req,HttpServletResponse res) \n    {\n        int i=Integer.parseInt(req.getParameter(\"num1\"));\n        int j=Integer.parseInt(req.getParameter(\"num2\"));\n\n        int k=i+j;\n        System.out.println(\"the result is \"+ k);\n    }\n} \n</code></pre>\n\n<p>My html file is as follows----</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;form action=\"add\"&gt;\n            Enter 1st number: &lt;input type=\"text\"  name=num1&gt;&lt;br&gt;\n            Enter 2nd number: &lt;input type=\"text\"  name=num1&gt;&lt;br&gt;\n            &lt;input type=\"submit\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>my web.xml file is as follows----</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n         xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" \n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" id=\"WebApp_ID\" \n         version=\"3.1\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servletjsp.AddServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n&lt;/web-app&gt;\n</code></pre>\n\n<p>when I clicked on submit code in web browser, it was returning HTTP Status 405 get method is not suppported; now it is returning HTTP Status 500. </p>\n\n<pre><code>java.lang.NumberFormatException.\n</code></pre>\n\n<p>Please give me the correct code so that it may add 2 numbers.</p>\n"},{"tags":["java","c#","sql",".net","retrypolicy"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1662945637,"post_id":73683672,"comment_id":130116224,"body_markdown":"Read about using _transactions_ in SQL.","body":"Read about using <i>transactions</i> in SQL."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1662948761,"creation_date":1662948761,"answer_id":73683890,"question_id":73683672,"body_markdown":"Assuming the retry is caused by the DB engine (i.e. it&#39;s JDBI or JOOQ or whatnot picking up an SQLException, seeing it&#39;s the db engine telling you to retry, and JDBI/JOOQ restarting your code block), yes, of course. That means the transaction has aborted and anything you wrote in SQL that modified anything will be null and void.\r\n\r\nHowever, note that certain SQL statements exist outside of a transaction. Generally, anything that is &#39;model definition&#39; instead of &#39;data definition&#39; falls outside of transactions. If doesn&#39;t start with `INSERT`, `UPDATE`, `SELECT`, or `DELETE`, it&#39;s likely it&#39;s beyond the transaction model and therefore is not being &#39;aborted&#39;. `ALTER TABLE`, `CREATE VIEW`, `TRUNCATE someTable`, `DROP USER`, `USE someNamespace`, `SET something` - those are _usually_ not transactional. Some db engines can make them transactional if you ask for it, such as `CREATE TABLE TRANSACTIONAL` in h2. I don&#39;t know of any that just do that out of the box.\r\n\r\nI would assume that whatever db engine or framework you are using, it doesn&#39;t retry unless an SQLException occurs that specifically indicates it. If any other exception occurs, or an SQLException occurs that doesn&#39;t mean &#39;retry&#39;, the transaction is just aborted, your &#39;code block&#39; exits, and the exception is propagated. If somehow that&#39;s not how it works - then you have no guarantees. However, that&#39;d be a rather bizarre take on how to interact with DBs.\r\n","title":"Are non-idempotent SQL write operations affected by retry policies?","body":"<p>Assuming the retry is caused by the DB engine (i.e. it's JDBI or JOOQ or whatnot picking up an SQLException, seeing it's the db engine telling you to retry, and JDBI/JOOQ restarting your code block), yes, of course. That means the transaction has aborted and anything you wrote in SQL that modified anything will be null and void.</p>\n<p>However, note that certain SQL statements exist outside of a transaction. Generally, anything that is 'model definition' instead of 'data definition' falls outside of transactions. If doesn't start with <code>INSERT</code>, <code>UPDATE</code>, <code>SELECT</code>, or <code>DELETE</code>, it's likely it's beyond the transaction model and therefore is not being 'aborted'. <code>ALTER TABLE</code>, <code>CREATE VIEW</code>, <code>TRUNCATE someTable</code>, <code>DROP USER</code>, <code>USE someNamespace</code>, <code>SET something</code> - those are <em>usually</em> not transactional. Some db engines can make them transactional if you ask for it, such as <code>CREATE TABLE TRANSACTIONAL</code> in h2. I don't know of any that just do that out of the box.</p>\n<p>I would assume that whatever db engine or framework you are using, it doesn't retry unless an SQLException occurs that specifically indicates it. If any other exception occurs, or an SQLException occurs that doesn't mean 'retry', the transaction is just aborted, your 'code block' exits, and the exception is propagated. If somehow that's not how it works - then you have no guarantees. However, that'd be a rather bizarre take on how to interact with DBs.</p>\n"}],"owner":{"account_id":25868957,"reputation":101,"user_id":19600108,"display_name":"ProgrammingNewbie199"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73683890,"answer_count":1,"score":1,"last_activity_date":1662948761,"creation_date":1662945396,"question_id":73683672,"body_markdown":"I currently have a retry policy for SQL write operations.\r\n\r\nMy question is, if the operation is not idempotent will it matter?\r\n\r\nI&#39;ve always thought that if an exception comes up and the operation is retried, it means that the original attempt does not go through and therefore it will not matter if it is idempotent.\r\n\r\nIf it DOES matter, what should I look out for in the sql procedures to determine if they are idempotent or not.\r\n\r\nThank you !","title":"Are non-idempotent SQL write operations affected by retry policies?","body":"<p>I currently have a retry policy for SQL write operations.</p>\n<p>My question is, if the operation is not idempotent will it matter?</p>\n<p>I've always thought that if an exception comes up and the operation is retried, it means that the original attempt does not go through and therefore it will not matter if it is idempotent.</p>\n<p>If it DOES matter, what should I look out for in the sql procedures to determine if they are idempotent or not.</p>\n<p>Thank you !</p>\n"},{"tags":["java","spring","spring-boot","maven","jsp"],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662922757,"creation_date":1662922167,"answer_id":73681867,"question_id":73681666,"body_markdown":"Because you use **@PutMapping** it is for PUT. You need **@PostMapping** https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/PostMapping.html\r\n\r\n      @PostMapping(&quot;/modifierEvaluation/{id}&quot;)\r\n        public String modifierPost(@ModelAttribute(&quot;evaluation&quot;) Evaluation evaluation) {\r\n            context.Modifier(evaluation);\r\n            return &quot;redirect:/listeEvaluation&quot;;\r\n        }\r\n\r\nTry add to form tag method = &quot;POST&quot;\r\n\r\n      &lt;form:form action=&quot;modifierEvaluation&quot; modelAttribute=&quot;evaluation&quot; method = &quot;POST&quot;&gt;\r\n\r\n","title":"Java Spring There was an unexpected error (type=Method Not Allowed, status=405)","body":"<p>Because you use <strong>@PutMapping</strong> it is for PUT. You need <strong>@PostMapping</strong> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/PostMapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/PostMapping.html</a></p>\n<pre><code>  @PostMapping(&quot;/modifierEvaluation/{id}&quot;)\n    public String modifierPost(@ModelAttribute(&quot;evaluation&quot;) Evaluation evaluation) {\n        context.Modifier(evaluation);\n        return &quot;redirect:/listeEvaluation&quot;;\n    }\n</code></pre>\n<p>Try add to form tag method = &quot;POST&quot;</p>\n<pre><code>  &lt;form:form action=&quot;modifierEvaluation&quot; modelAttribute=&quot;evaluation&quot; method = &quot;POST&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21419245,"reputation":23,"user_id":15777897,"display_name":"Maurice Filiatreault Hebert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662947648,"creation_date":1662947648,"answer_id":73683827,"question_id":73681666,"body_markdown":"Hey guys i finally found the answers the error was a basic one my the route of my action in my form was this one \r\n`modifierEvaluation/${id}`\r\nWhen it should have been this one\r\n`/modifierEvaluation/${id}`\r\n\r\nWhich was causing the URL to be appended at the end instead of replaced, that why I had the following URL\r\n`http://localhost:8080/modifier/modifierEvaluation`","title":"Java Spring There was an unexpected error (type=Method Not Allowed, status=405)","body":"<p>Hey guys i finally found the answers the error was a basic one my the route of my action in my form was this one\n<code>modifierEvaluation/${id}</code>\nWhen it should have been this one\n<code>/modifierEvaluation/${id}</code></p>\n<p>Which was causing the URL to be appended at the end instead of replaced, that why I had the following URL\n<code>http://localhost:8080/modifier/modifierEvaluation</code></p>\n"}],"owner":{"account_id":21419245,"reputation":23,"user_id":15777897,"display_name":"Maurice Filiatreault Hebert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662947648,"creation_date":1662920509,"question_id":73681666,"body_markdown":"I&#39;m having this error with my spring boot application\r\n\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\nResolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n\r\nI&#39;ve read about it here: https://www.baeldung.com/spring-request-method-not-supported-405\r\n\r\nbut I can&#39;t still figure this one out since I&#39;m new to spring and java\r\n\r\nHere what I can do\r\n1. I can navigate to any page without problem\r\n2. I can add a new evaluation\r\n3. I can delete an evaluation\r\n\r\nHere what I&#39;m trying to do\r\n1. After creating an evaluation I want to edit it I can navigate to the update page and the form is filled as expected I can change the value but when I press submit I get the error message and for some reason the URL is this one \r\nhttp://localhost:8080/modifier/modifierEvaluation\r\n\r\n2. The method from the HTTP header is POST as expected and I can see the value of the change in the payload also\r\n\r\nHere is my code\r\n\r\nThe controller\r\n\r\n```java\r\n@Controller\r\npublic class ModifierController {\r\n\r\n    @Autowired\r\n    EvaluationDataContext context;\r\n\r\n    @GetMapping(&quot;/modifier/{id}&quot;)\r\n    public ModelAndView modifier(@PathVariable(&quot;id&quot;) int id, Model model) {\r\n\r\n        Evaluation evaluation = EvaluationDataContext.Rechercher(id);\r\n\r\n        // Create the option for the select tags\r\n        Map&lt;String, String&gt; noteItems = new LinkedHashMap&lt;String, String&gt;();\r\n        noteItems.put(&quot;Tres bien&quot;, &quot;Tr&#232;s bien&quot;);\r\n        noteItems.put(&quot;Bien&quot;, &quot;Bien&quot;);\r\n        noteItems.put(&quot;Moyen&quot;, &quot;Moyen&quot;);\r\n        noteItems.put(&quot;Mediocre&quot;, &quot;M&#233;diocre&quot;);\r\n        model.addAttribute(&quot;noteItems&quot;, noteItems);\r\n\r\n        model.addAttribute(&quot;evaluation&quot;, evaluation);\r\n        return new ModelAndView(&quot;modifier&quot;, &quot;evaluation&quot;, evaluation);\r\n    }\r\n \r\n    @PutMapping(&quot;/modifierEvaluation/{id}&quot;)\r\n    public String modifierPost(@ModelAttribute(&quot;evaluation&quot;) Evaluation evaluation) {\r\n        context.Modifier(evaluation);\r\n        return &quot;redirect:/listeEvaluation&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe view \r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot; %&gt; \r\n&lt;%@ include file=&quot;common/include.jsp&quot; %&gt;\r\n\r\n&lt;html lang=&quot;en&quot;&gt;\r\n  &lt;%@ include file=&quot;common/header.jsp&quot; %&gt;\r\n  &lt;body&gt;\r\n    &lt;%@ include file=&quot;common/navbar.jsp&quot; %&gt;\r\n    &lt;div class=&quot;content container&quot;&gt;\r\n      &lt;h1&gt;Modifier&lt;/h1&gt;\r\n      \r\n      &lt;form:form action=&quot;modifierEvaluation&quot; modelAttribute=&quot;evaluation&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n          &lt;form:hidden path=&quot;numero&quot; value=&quot;${evaluation.numero}&quot;&gt;&lt;/form:hidden&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\r\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;prenom&quot;&gt;Pr&#233;nom&lt;/form:label&gt;\r\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;prenom&quot; value=&quot;${evaluation.prenom}&quot;&gt;&lt;/form:input&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\r\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;nom&quot;&gt;Nom&lt;/form:label&gt;\r\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;nom&quot; value=&quot;${evaluation.nom}&quot;&gt;&lt;/form:input&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n          &lt;form:label cssClass=&quot;form-label&quot; path=&quot;courriel&quot;&gt;Courriel&lt;/form:label&gt;\r\n          &lt;form:input cssClass=&quot;form-control&quot; path=&quot;courriel&quot; value=&quot;${evaluation.courriel}&quot;&gt;&lt;/form:input&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\r\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;telephone&quot;&gt;Telephone*&lt;/form:label&gt;\r\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;telephone&quot; value=&quot;${evaluation.telephone}&quot; required=&quot;required&quot;&gt;&lt;/form:input&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\r\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;dateEvaluation&quot;&gt;Date&lt;/form:label&gt;\r\n            &lt;fmt:formatDate type=&quot;date&quot; value=&quot;${evaluation.dateEvaluation.time}&quot; pattern=&quot;yyyy-MM-dd&quot; var=&quot;formatedDate&quot;&gt;&lt;/fmt:formatDate&gt;\r\n            &lt;form:input type=&quot;date&quot; cssClass=&quot;form-control&quot; path=&quot;dateEvaluation&quot; value=&quot;${formatedDate}&quot;&gt;&lt;/form:input&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;c:if test=&quot;${evaluation.sexe == &#39;M&#39;.charAt(0)}&quot;&gt;\r\n            &lt;div class=&quot;col-6&quot;&gt;\r\n              &lt;div class=&quot;d-flex&quot;&gt;\r\n                &lt;div class=&quot;form-check&quot;&gt;\r\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;M&quot; checked=&quot;checked&quot;&gt;&lt;/form:radiobutton&gt;\r\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Masculin&lt;/form:label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-check&quot;&gt;\r\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;F&quot;&gt;&lt;/form:radiobutton&gt;\r\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;F&#233;minin&lt;/form:label&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/c:if&gt;\r\n          &lt;c:if test=&quot;${evaluation.sexe == &#39;F&#39;.charAt(0)}&quot;&gt;\r\n            &lt;div class=&quot;col-6&quot;&gt;\r\n              &lt;div class=&quot;d-flex&quot;&gt;\r\n                &lt;div class=&quot;form-check&quot;&gt;\r\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;M&quot;&gt;&lt;/form:radiobutton&gt;\r\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Masculin&lt;/form:label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-check&quot;&gt;\r\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;F&quot; checked=&quot;checked&quot;&gt;&lt;/form:radiobutton&gt;\r\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;F&#233;minin&lt;/form:label&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/c:if&gt;\r\n          &lt;div class=&quot;col-6&quot;&gt;\r\n            &lt;form:select cssClass=&quot;form-select&quot; path=&quot;note&quot;&gt;\r\n              &lt;option hidden=&quot;&quot;&gt;${evaluation.note}&lt;/option&gt;\r\n              &lt;form:options cssClass=&quot;form-option&quot; items=&quot;${noteItems}&quot;&gt;&lt;/form:options&gt;\r\n            &lt;/form:select&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;mt-3&quot;&gt;\r\n          &lt;form:label path=&quot;commentaire&quot;&gt;Commentaire&lt;/form:label&gt;\r\n          &lt;form:textarea cssClass=&quot;form-control&quot; path=&quot;commentaire&quot; rows=&quot;5&quot; value=&quot;${evaluation.commentaire}&quot;&gt;&lt;/form:textarea&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;mt-3&quot;&gt;\r\n          &lt;form:button cssClass=&quot;btn btn-primary&quot;&gt;Confirmer&lt;/form:button&gt;\r\n          &lt;form:button type=&quot;reset&quot; cssClass=&quot;btn btn-secondary&quot; onclick=&quot;return confirm(&#39;Voulez-vous annuler la modification de l\\&#39;evaluation&#39;)&quot;&gt;\r\n            Annuler&lt;/form:button&gt;&lt;/div&gt;\r\n      &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n    &lt;%@ include file=&quot;common/footer.jsp&quot; %&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nPOM.xml I&#39;m not sure if this is need but here it is\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Laboratoire02&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;Laboratoire02&lt;/name&gt;\r\n    &lt;description&gt;Laboratoire02&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;13.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Java Spring There was an unexpected error (type=Method Not Allowed, status=405)","body":"<p>I'm having this error with my spring boot application</p>\n<p>There was an unexpected error (type=Method Not Allowed, status=405).\nResolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]</p>\n<p>I've read about it here: <a href=\"https://www.baeldung.com/spring-request-method-not-supported-405\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-method-not-supported-405</a></p>\n<p>but I can't still figure this one out since I'm new to spring and java</p>\n<p>Here what I can do</p>\n<ol>\n<li>I can navigate to any page without problem</li>\n<li>I can add a new evaluation</li>\n<li>I can delete an evaluation</li>\n</ol>\n<p>Here what I'm trying to do</p>\n<ol>\n<li><p>After creating an evaluation I want to edit it I can navigate to the update page and the form is filled as expected I can change the value but when I press submit I get the error message and for some reason the URL is this one\nhttp://localhost:8080/modifier/modifierEvaluation</p>\n</li>\n<li><p>The method from the HTTP header is POST as expected and I can see the value of the change in the payload also</p>\n</li>\n</ol>\n<p>Here is my code</p>\n<p>The controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ModifierController {\n\n    @Autowired\n    EvaluationDataContext context;\n\n    @GetMapping(&quot;/modifier/{id}&quot;)\n    public ModelAndView modifier(@PathVariable(&quot;id&quot;) int id, Model model) {\n\n        Evaluation evaluation = EvaluationDataContext.Rechercher(id);\n\n        // Create the option for the select tags\n        Map&lt;String, String&gt; noteItems = new LinkedHashMap&lt;String, String&gt;();\n        noteItems.put(&quot;Tres bien&quot;, &quot;Très bien&quot;);\n        noteItems.put(&quot;Bien&quot;, &quot;Bien&quot;);\n        noteItems.put(&quot;Moyen&quot;, &quot;Moyen&quot;);\n        noteItems.put(&quot;Mediocre&quot;, &quot;Médiocre&quot;);\n        model.addAttribute(&quot;noteItems&quot;, noteItems);\n\n        model.addAttribute(&quot;evaluation&quot;, evaluation);\n        return new ModelAndView(&quot;modifier&quot;, &quot;evaluation&quot;, evaluation);\n    }\n \n    @PutMapping(&quot;/modifierEvaluation/{id}&quot;)\n    public String modifierPost(@ModelAttribute(&quot;evaluation&quot;) Evaluation evaluation) {\n        context.Modifier(evaluation);\n        return &quot;redirect:/listeEvaluation&quot;;\n    }\n}\n</code></pre>\n<p>The view</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot; %&gt; \n&lt;%@ include file=&quot;common/include.jsp&quot; %&gt;\n\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;%@ include file=&quot;common/header.jsp&quot; %&gt;\n  &lt;body&gt;\n    &lt;%@ include file=&quot;common/navbar.jsp&quot; %&gt;\n    &lt;div class=&quot;content container&quot;&gt;\n      &lt;h1&gt;Modifier&lt;/h1&gt;\n      \n      &lt;form:form action=&quot;modifierEvaluation&quot; modelAttribute=&quot;evaluation&quot;&gt;\n        &lt;div class=&quot;mb-3&quot;&gt;\n          &lt;form:hidden path=&quot;numero&quot; value=&quot;${evaluation.numero}&quot;&gt;&lt;/form:hidden&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;prenom&quot;&gt;Prénom&lt;/form:label&gt;\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;prenom&quot; value=&quot;${evaluation.prenom}&quot;&gt;&lt;/form:input&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;nom&quot;&gt;Nom&lt;/form:label&gt;\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;nom&quot; value=&quot;${evaluation.nom}&quot;&gt;&lt;/form:input&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;form:label cssClass=&quot;form-label&quot; path=&quot;courriel&quot;&gt;Courriel&lt;/form:label&gt;\n          &lt;form:input cssClass=&quot;form-control&quot; path=&quot;courriel&quot; value=&quot;${evaluation.courriel}&quot;&gt;&lt;/form:input&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;telephone&quot;&gt;Telephone*&lt;/form:label&gt;\n            &lt;form:input cssClass=&quot;form-control&quot; path=&quot;telephone&quot; value=&quot;${evaluation.telephone}&quot; required=&quot;required&quot;&gt;&lt;/form:input&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;mb-3 col-6&quot;&gt;\n            &lt;form:label cssClass=&quot;form-label&quot; path=&quot;dateEvaluation&quot;&gt;Date&lt;/form:label&gt;\n            &lt;fmt:formatDate type=&quot;date&quot; value=&quot;${evaluation.dateEvaluation.time}&quot; pattern=&quot;yyyy-MM-dd&quot; var=&quot;formatedDate&quot;&gt;&lt;/fmt:formatDate&gt;\n            &lt;form:input type=&quot;date&quot; cssClass=&quot;form-control&quot; path=&quot;dateEvaluation&quot; value=&quot;${formatedDate}&quot;&gt;&lt;/form:input&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n          &lt;c:if test=&quot;${evaluation.sexe == 'M'.charAt(0)}&quot;&gt;\n            &lt;div class=&quot;col-6&quot;&gt;\n              &lt;div class=&quot;d-flex&quot;&gt;\n                &lt;div class=&quot;form-check&quot;&gt;\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;M&quot; checked=&quot;checked&quot;&gt;&lt;/form:radiobutton&gt;\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Masculin&lt;/form:label&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-check&quot;&gt;\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;F&quot;&gt;&lt;/form:radiobutton&gt;\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Féminin&lt;/form:label&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/c:if&gt;\n          &lt;c:if test=&quot;${evaluation.sexe == 'F'.charAt(0)}&quot;&gt;\n            &lt;div class=&quot;col-6&quot;&gt;\n              &lt;div class=&quot;d-flex&quot;&gt;\n                &lt;div class=&quot;form-check&quot;&gt;\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;M&quot;&gt;&lt;/form:radiobutton&gt;\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Masculin&lt;/form:label&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-check&quot;&gt;\n                  &lt;form:radiobutton cssClass=&quot;form-check-input&quot; path=&quot;sexe&quot; value=&quot;F&quot; checked=&quot;checked&quot;&gt;&lt;/form:radiobutton&gt;\n                  &lt;form:label cssClass=&quot;form-check-label&quot; path=&quot;sexe&quot;&gt;Féminin&lt;/form:label&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/c:if&gt;\n          &lt;div class=&quot;col-6&quot;&gt;\n            &lt;form:select cssClass=&quot;form-select&quot; path=&quot;note&quot;&gt;\n              &lt;option hidden=&quot;&quot;&gt;${evaluation.note}&lt;/option&gt;\n              &lt;form:options cssClass=&quot;form-option&quot; items=&quot;${noteItems}&quot;&gt;&lt;/form:options&gt;\n            &lt;/form:select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;mt-3&quot;&gt;\n          &lt;form:label path=&quot;commentaire&quot;&gt;Commentaire&lt;/form:label&gt;\n          &lt;form:textarea cssClass=&quot;form-control&quot; path=&quot;commentaire&quot; rows=&quot;5&quot; value=&quot;${evaluation.commentaire}&quot;&gt;&lt;/form:textarea&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;mt-3&quot;&gt;\n          &lt;form:button cssClass=&quot;btn btn-primary&quot;&gt;Confirmer&lt;/form:button&gt;\n          &lt;form:button type=&quot;reset&quot; cssClass=&quot;btn btn-secondary&quot; onclick=&quot;return confirm('Voulez-vous annuler la modification de l\\'evaluation')&quot;&gt;\n            Annuler&lt;/form:button&gt;&lt;/div&gt;\n      &lt;/form:form&gt;\n    &lt;/div&gt;\n    &lt;%@ include file=&quot;common/footer.jsp&quot; %&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>POM.xml I'm not sure if this is need but here it is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Laboratoire02&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Laboratoire02&lt;/name&gt;\n    &lt;description&gt;Laboratoire02&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;13.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","pdf"],"comments":[{"owner":{"account_id":20184557,"reputation":13,"user_id":14804230,"display_name":"Daniel"},"score":0,"creation_date":1607645319,"post_id":65243359,"comment_id":115345316,"body_markdown":"(To be clear: I made an app from a website using the webview function in Android Studio. On the webpage i&#39;m linking to are pdf files. If o try to open them in the app it doesn&#39;t do anything. If i open the pdf files in the web browser it sends you to the pdf file url. Is there a way you can do that in the app.)","body":"(To be clear: I made an app from a website using the webview function in Android Studio. On the webpage i&#39;m linking to are pdf files. If o try to open them in the app it doesn&#39;t do anything. If i open the pdf files in the web browser it sends you to the pdf file url. Is there a way you can do that in the app.)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1607671180,"post_id":65243359,"comment_id":115350502,"body_markdown":"A webview cannot display a pdf document.","body":"A webview cannot display a pdf document."}],"answers":[{"tags":[],"owner":{"account_id":19988435,"reputation":444,"user_id":14650076,"display_name":"SatvikVejendla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607641255,"creation_date":1607641255,"answer_id":65243515,"question_id":65243359,"body_markdown":"Try using pdfviewer for that. It&#39;s much better than using webview.\r\nThe link to the github is this: https://github.com/barteksc/AndroidPdfViewer\r\n\r\nThis is more useful because it&#39;s easy to use.\r\n\r\nAll you need is this code:\r\n\r\nbuild gradle (app):\r\n\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n\r\nmain.java\r\n\r\n    pdfView = (PdfView) findViewById(R.id.pdfview);\r\n    Uri a = new Uri(&quot;*your URL*&quot;);\r\n    pdfView.fromUri(a).load();","title":"How can I open pdf files from a web page via android app","body":"<p>Try using pdfviewer for that. It's much better than using webview.\nThe link to the github is this: <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer</a></p>\n<p>This is more useful because it's easy to use.</p>\n<p>All you need is this code:</p>\n<p>build gradle (app):</p>\n<pre><code>implementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n</code></pre>\n<p>main.java</p>\n<pre><code>pdfView = (PdfView) findViewById(R.id.pdfview);\nUri a = new Uri(&quot;*your URL*&quot;);\npdfView.fromUri(a).load();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1607641467,"creation_date":1607641467,"answer_id":65243548,"question_id":65243359,"body_markdown":"If you want to open the PDF in device in-built browser:\r\n```\r\nIntent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(pdf_url));\r\nstartActivity(browserIntent);\r\n```\r\n\r\n\r\n\r\n\r\nOr instead in web view:\r\n \r\n```\r\n Webview webView = (WebView) findViewById(R.id.webView1);\r\n webView.getSettings().setJavaScriptEnabled(true);\r\n webView.loadUrl(pdf_url);\r\n```\r\n","title":"How can I open pdf files from a web page via android app","body":"<p>If you want to open the PDF in device in-built browser:</p>\n<pre><code>Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(pdf_url));\nstartActivity(browserIntent);\n</code></pre>\n<p>Or instead in web view:</p>\n<pre><code> Webview webView = (WebView) findViewById(R.id.webView1);\n webView.getSettings().setJavaScriptEnabled(true);\n webView.loadUrl(pdf_url);\n</code></pre>\n"}],"owner":{"account_id":20184557,"reputation":13,"user_id":14804230,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65243548,"answer_count":2,"score":1,"last_activity_date":1662946997,"creation_date":1607640230,"question_id":65243359,"body_markdown":"I recently build an android app using webview in Android Studio but it doesn&#39;t open/download the pdf files from the website. Is there a way to let users open pdf files from a web page without adding them to the app. I want to update the pdf files on the website without having to change the app.\r\n\r\nThis is my code now:\r\n\r\n        package com.something.app;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        private WebView myWebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            myWebView = (WebView)findViewById(R.id.webView);\r\n            WebSettings webSettings = myWebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            myWebView.loadUrl(&quot;something&quot;);\r\n            myWebView.setWebViewClient(new WebViewClient());\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (myWebView.canGoBack()) {\r\n                myWebView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How can I open pdf files from a web page via android app","body":"<p>I recently build an android app using webview in Android Studio but it doesn't open/download the pdf files from the website. Is there a way to let users open pdf files from a web page without adding them to the app. I want to update the pdf files on the website without having to change the app.</p>\n<p>This is my code now:</p>\n<pre><code>    package com.something.app;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView myWebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myWebView = (WebView)findViewById(R.id.webView);\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        myWebView.loadUrl(&quot;something&quot;);\n        myWebView.setWebViewClient(new WebViewClient());\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (myWebView.canGoBack()) {\n            myWebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":0,"creation_date":1420310560,"post_id":27757671,"comment_id":43927137,"body_markdown":"How about `new String[] { &quot;a&quot;, &quot;b&quot; }`, or that doesn&#39;t work either?","body":"How about <code>new String[] { &quot;a&quot;, &quot;b&quot; }</code>, or that doesn&#39;t work either?"},{"owner":{"account_id":442228,"reputation":2134,"user_id":832748,"accept_rate":100,"display_name":"Paulo Miguel Almeida"},"score":0,"creation_date":1420311021,"post_id":27757671,"comment_id":43927312,"body_markdown":"@BohuslavBurghardt unfortunately it doesn&#39;t work too :(","body":"@BohuslavBurghardt unfortunately it doesn&#39;t work too :("},{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":0,"creation_date":1420311402,"post_id":27757671,"comment_id":43927455,"body_markdown":"I&#39;ve been playing with it the past few minutes and can&#39;t seem to get it working too. Perhaps it is a bug :(. Btw, I don&#39;t know your use case but can&#39;t you just hardcode it to the query in this case (like `IN (&quot;foo&quot;, &quot;bar&quot;)`). If you&#39;re just trying to run some query from the console it shouldn&#39;t matter whether the query is correctly parametrized or not","body":"I&#39;ve been playing with it the past few minutes and can&#39;t seem to get it working too. Perhaps it is a bug :(. Btw, I don&#39;t know your use case but can&#39;t you just hardcode it to the query in this case (like <code>IN (&quot;foo&quot;, &quot;bar&quot;)</code>). If you&#39;re just trying to run some query from the console it shouldn&#39;t matter whether the query is correctly parametrized or not"},{"owner":{"account_id":2088133,"reputation":4609,"user_id":1858561,"accept_rate":77,"display_name":"Hunter Zhao"},"score":0,"creation_date":1420312276,"post_id":27757671,"comment_id":43927770,"body_markdown":"It really doesn&#39;t work for `new String[] { &quot;a&quot;, &quot;b&quot; }`, but it works in another way, see my answer below:)@Bohuslav Burghardt","body":"It really doesn&#39;t work for <code>new String[] { &quot;a&quot;, &quot;b&quot; }</code>, but it works in another way, see my answer below:)@Bohuslav Burghardt"}],"answers":[{"tags":[],"owner":{"account_id":2088133,"reputation":4609,"user_id":1858561,"accept_rate":77,"display_name":"Hunter Zhao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420311951,"creation_date":1420311636,"answer_id":27758456,"question_id":27757671,"body_markdown":"I tried kinds of programming ways (like `[&quot;val1&quot;, &quot;val2&quot;]`, `new String[]{&quot;a&quot;, &quot;b&quot;}` etc), they all didn&#39;t work, but there is another way, it is to specify separate parameter **as workaround** for this problem, and it works well.![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tGqkG.jpg","title":"Set an array parameter value using Hibernate console on Intellij14","body":"<p>I tried kinds of programming ways (like <code>[\"val1\", \"val2\"]</code>, <code>new String[]{\"a\", \"b\"}</code> etc), they all didn't work, but there is another way, it is to specify separate parameter <strong>as workaround</strong> for this problem, and it works well.<img src=\"https://i.stack.imgur.com/tGqkG.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":19073205,"reputation":341,"user_id":13926931,"display_name":"reubennn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662944374,"creation_date":1662944374,"answer_id":73683599,"question_id":27757671,"body_markdown":"The value for `:CAMPAIGNS` in the Parameter window should be in the form `(&#39;val1&#39;, &#39;val2&#39;, &#39;val3&#39;)`.\r\n\r\nAlternatively, when using the IntelliJ Query Console, you can provide array values in the query itself: \r\n\r\n    ...from User us join us.campaignUsers as cus where cus.campaignUserPK.campaign.id in (&#39;val1&#39;, &#39;val2&#39;, &#39;val3&#39;)\r\n\r\nIn modern versions of IntelliJ, you now get a prompt window to specify what value `:CAMPAIGNS` should be when you execute. Simply add the value for the string array:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blAmz.png","title":"Set an array parameter value using Hibernate console on Intellij14","body":"<p>The value for <code>:CAMPAIGNS</code> in the Parameter window should be in the form <code>('val1', 'val2', 'val3')</code>.</p>\n<p>Alternatively, when using the IntelliJ Query Console, you can provide array values in the query itself:</p>\n<pre><code>...from User us join us.campaignUsers as cus where cus.campaignUserPK.campaign.id in ('val1', 'val2', 'val3')\n</code></pre>\n<p>In modern versions of IntelliJ, you now get a prompt window to specify what value <code>:CAMPAIGNS</code> should be when you execute. Simply add the value for the string array:</p>\n<p><a href=\"https://i.stack.imgur.com/blAmz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blAmz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":442228,"reputation":2134,"user_id":832748,"accept_rate":100,"display_name":"Paulo Miguel Almeida"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27758456,"answer_count":2,"score":1,"last_activity_date":1662944374,"creation_date":1420306851,"question_id":27757671,"body_markdown":"I&#39;m using Hibernate Console provided by Intellij 14, which has been working great so far. Recently I&#39;ve came across with a hql that needs String[] as a parameter value since it&#39;s going to be used in a &#39;IN&#39; clause. \r\n\r\nI couldn&#39;t find anywhere how to set this array on the parameters window as shown below:\r\n\r\n![enter image description here][1]\r\n\r\nI&#39;ve tried so many different ways like separating by comma or between curly brackets.\r\n\r\nI&#39;m refusing to believe that Hibernate console doesn&#39;t allow me to do that. Has anyone faced the same situation?\r\n\r\n  [1]: http://i.stack.imgur.com/8x59r.png","title":"Set an array parameter value using Hibernate console on Intellij14","body":"<p>I'm using Hibernate Console provided by Intellij 14, which has been working great so far. Recently I've came across with a hql that needs String[] as a parameter value since it's going to be used in a 'IN' clause. </p>\n\n<p>I couldn't find anywhere how to set this array on the parameters window as shown below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8x59r.png\" alt=\"enter image description here\"></p>\n\n<p>I've tried so many different ways like separating by comma or between curly brackets.</p>\n\n<p>I'm refusing to believe that Hibernate console doesn't allow me to do that. Has anyone faced the same situation?</p>\n"},{"tags":["java","r","jri"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1662943406,"post_id":73683514,"comment_id":130115992,"body_markdown":"This jar needs to be added to your classpath.","body":"This jar needs to be added to your classpath."},{"owner":{"account_id":26307931,"reputation":15,"user_id":19972046,"display_name":"anna_pitera"},"score":0,"creation_date":1662944203,"post_id":73683514,"comment_id":130116075,"body_markdown":"@ScaryWombat You led me in the right direction! I had the correct jar files in the classpath in one run configuration, but I was running &quot;rtest.java&quot; with a different wrong run configuration. It works! Thank you!","body":"@ScaryWombat You led me in the right direction! I had the correct jar files in the classpath in one run configuration, but I was running &quot;rtest.java&quot; with a different wrong run configuration. It works! Thank you!"}],"owner":{"account_id":26307931,"reputation":15,"user_id":19972046,"display_name":"anna_pitera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662943167,"creation_date":1662943167,"question_id":73683514,"body_markdown":"I&#39;m currently trying to make a Java program that takes inputted data and visualizes it using R. I set up JRI, and I&#39;m using Eclipse. I read the README for JRI, which I&#39;ll link below so my question isn&#39;t too long.\r\n\r\nhttps://github.com/s-u/rJava/blob/master/jri/README\r\n\r\nI got everything to work with the actual JRI setup by using the &quot;Run Configurations&quot; and &quot;Configure Build Path&quot; buttons in Eclipse. So I&#39;m able to do simple R calculations, but that&#39;s not what I need. I need to be able to output graphs, tables, etc. using R in Java.\r\n\r\nSo I copied the &quot;rtest.java&quot; file from the &quot;examples&quot; folder in JRI to Eclipse. I&#39;ll add the code below.\r\n\r\n    import java.io.*;\r\n    import java.awt.Frame;\r\n    import java.awt.FileDialog;\r\n    \r\n    import java.util.Enumeration;\r\n    \r\n    import org.rosuda.JRI.Rengine;\r\n    import org.rosuda.JRI.REXP;\r\n    import org.rosuda.JRI.RList;\r\n    import org.rosuda.JRI.RVector;\r\n    import org.rosuda.JRI.RMainLoopCallbacks;\r\n    \r\n    class TextConsole implements RMainLoopCallbacks\r\n    {\r\n        public void rWriteConsole(Rengine re, String text, int oType) {\r\n            System.out.print(text);\r\n        }\r\n        \r\n        public void rBusy(Rengine re, int which) {\r\n            System.out.println(&quot;rBusy(&quot;+which+&quot;)&quot;);\r\n        }\r\n        \r\n        public String rReadConsole(Rengine re, String prompt, int addToHistory) {\r\n            System.out.print(prompt);\r\n            try {\r\n                BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n                String s=br.readLine();\r\n                return (s==null||s.length()==0)?s:s+&quot;\\n&quot;;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;jriReadConsole exception: &quot;+e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        public void rShowMessage(Rengine re, String message) {\r\n            System.out.println(&quot;rShowMessage \\&quot;&quot;+message+&quot;\\&quot;&quot;);\r\n        }\r\n    \t\r\n        public String rChooseFile(Rengine re, int newFile) {\r\n    \tFileDialog fd = new FileDialog(new Frame(), (newFile==0)?&quot;Select a file&quot;:&quot;Select a new file&quot;, (newFile==0)?FileDialog.LOAD:FileDialog.SAVE);\r\n    \tfd.show();\r\n    \tString res=null;\r\n    \tif (fd.getDirectory()!=null) res=fd.getDirectory();\r\n    \tif (fd.getFile()!=null) res=(res==null)?fd.getFile():(res+fd.getFile());\r\n    \treturn res;\r\n        }\r\n        \r\n        public void   rFlushConsole (Rengine re) {\r\n        }\r\n    \t\r\n        public void   rLoadHistory  (Rengine re, String filename) {\r\n        }\t\t\t\r\n        \r\n        public void   rSaveHistory  (Rengine re, String filename) {\r\n        }\t\t\t\r\n    }\r\n    \r\n    public class rtest {\r\n        public static void main(String[] args) {\r\n    \t// just making sure we have the right version of everything\r\n    \tif (!Rengine.versionCheck()) {\r\n    \t    System.err.println(&quot;** Version mismatch - Java files don&#39;t match library version.&quot;);\r\n    \t    System.exit(1);\r\n    \t}\r\n            System.out.println(&quot;Creating Rengine (with arguments)&quot;);\r\n    \t\t// 1) we pass the arguments from the command line\r\n    \t\t// 2) we won&#39;t use the main loop at first, we&#39;ll start it later\r\n    \t\t//    (that&#39;s the &quot;false&quot; as second argument)\r\n    \t\t// 3) the callbacks are implemented by the TextConsole class above\r\n    \t\tRengine re=new Rengine(args, false, new TextConsole());\r\n            System.out.println(&quot;Rengine created, waiting for R&quot;);\r\n    \t\t// the engine creates R is a new thread, so we should wait until it&#39;s ready\r\n            if (!re.waitForR()) {\r\n                System.out.println(&quot;Cannot load R&quot;);\r\n                return;\r\n            }\r\n    \r\n    \t\t/* High-level API - do not use RNI methods unless there is no other way\r\n    \t\t\tto accomplish what you want */\r\n    \t\ttry {\r\n    \t\t\tREXP x;\r\n    \t\t\tre.eval(&quot;data(iris)&quot;,false);\r\n    \t\t\tSystem.out.println(x=re.eval(&quot;iris&quot;));\r\n    \t\t\t// generic vectors are RVector to accomodate names\r\n    \t\t\tRVector v = x.asVector();\r\n    \t\t\tif (v.getNames()!=null) {\r\n    \t\t\t\tSystem.out.println(&quot;has names:&quot;);\r\n    \t\t\t\tfor (Enumeration e = v.getNames().elements() ; e.hasMoreElements() ;) {\r\n    \t\t\t\t\tSystem.out.println(e.nextElement());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t// for compatibility with Rserve we allow casting of vectors to lists\r\n    \t\t\tRList vl = x.asList();\r\n    \t\t\tString[] k = vl.keys();\r\n    \t\t\tif (k!=null) {\r\n    \t\t\t\tSystem.out.println(&quot;and once again from the list:&quot;);\r\n    \t\t\t\tint i=0; while (i&lt;k.length) System.out.println(k[i++]);\r\n    \t\t\t}\t\t\t\r\n    \r\n    \t\t\t// get boolean array\r\n    \t\t\tSystem.out.println(x=re.eval(&quot;iris[[1]]&gt;mean(iris[[1]])&quot;));\r\n    \t\t\t// R knows about TRUE/FALSE/NA, so we cannot use boolean[] this way\r\n    \t\t\t// instead, we use int[] which is more convenient (and what R uses internally anyway)\r\n    \t\t\tint[] bi = x.asIntArray();\r\n    \t\t\t{\r\n    \t\t\t    int i = 0; while (i&lt;bi.length) { System.out.print(bi[i]==0?&quot;F &quot;:(bi[i]==1?&quot;T &quot;:&quot;NA &quot;)); i++; }\r\n    \t\t\t    System.out.println(&quot;&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// push a boolean array\r\n    \t\t\tboolean by[] = { true, false, false };\r\n    \t\t\tre.assign(&quot;bool&quot;, by);\r\n    \t\t\tSystem.out.println(x=re.eval(&quot;bool&quot;));\r\n    \t\t\t// asBool returns the first element of the array as RBool\r\n    \t\t\t// (mostly useful for boolean arrays of the length 1). is should return true\r\n    \t\t\tSystem.out.println(&quot;isTRUE? &quot;+x.asBool().isTRUE());\r\n    \r\n    \t\t\t// now for a real dotted-pair list:\r\n    \t\t\tSystem.out.println(x=re.eval(&quot;pairlist(a=1,b=&#39;foo&#39;,c=1:5)&quot;));\r\n    \t\t\tRList l = x.asList();\r\n    \t\t\tif (l!=null) {\r\n    \t\t\t\tint i=0;\r\n    \t\t\t\tString [] a = l.keys();\r\n    \t\t\t\tSystem.out.println(&quot;Keys:&quot;);\r\n    \t\t\t\twhile (i&lt;a.length) System.out.println(a[i++]);\r\n    \t\t\t\tSystem.out.println(&quot;Contents:&quot;);\r\n    \t\t\t\ti=0;\r\n    \t\t\t\twhile (i&lt;a.length) System.out.println(l.at(i++));\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(re.eval(&quot;sqrt(36)&quot;));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;EX:&quot;+e);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Part 2 - low-level API - for illustration purposes only!\r\n    \t\t//System.exit(0);\r\n    \t\t\r\n            // simple assignment like a&lt;-&quot;hello&quot; (env=0 means use R_GlobalEnv)\r\n            long xp1 = re.rniPutString(&quot;hello&quot;);\r\n            re.rniAssign(&quot;a&quot;, xp1, 0);\r\n    \r\n            // Example: how to create a named list or data.frame\r\n            double da[] = {1.2, 2.3, 4.5};\r\n            double db[] = {1.4, 2.6, 4.2};\r\n            long xp3 = re.rniPutDoubleArray(da);\r\n            long xp4 = re.rniPutDoubleArray(db);\r\n            \r\n            // now build a list (generic vector is how that&#39;s called in R)\r\n            long la[] = {xp3, xp4};\r\n            long xp5 = re.rniPutVector(la);\r\n    \r\n            // now let&#39;s add names\r\n            String sa[] = {&quot;a&quot;,&quot;b&quot;};\r\n            long xp2 = re.rniPutStringArray(sa);\r\n            re.rniSetAttr(xp5, &quot;names&quot;, xp2);\r\n    \r\n            // ok, we have a proper list now\r\n            // we could use assign and then eval &quot;b&lt;-data.frame(b)&quot;, but for now let&#39;s build it by hand:       \r\n            String rn[] = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\r\n            long xp7 = re.rniPutStringArray(rn);\r\n            re.rniSetAttr(xp5, &quot;row.names&quot;, xp7);\r\n            \r\n            long xp6 = re.rniPutString(&quot;data.frame&quot;);\r\n            re.rniSetAttr(xp5, &quot;class&quot;, xp6);\r\n            \r\n            // assign the whole thing to the &quot;b&quot; variable\r\n            re.rniAssign(&quot;b&quot;, xp5, 0);\r\n            \r\n            {\r\n                System.out.println(&quot;Parsing&quot;);\r\n                long e=re.rniParse(&quot;data(iris)&quot;, 1);\r\n                System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\r\n                long r=re.rniEval(e, 0);\r\n                System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\r\n                REXP x=new REXP(re, r);\r\n                System.out.println(&quot;REXP result = &quot;+x);\r\n            }\r\n            {\r\n                System.out.println(&quot;Parsing&quot;);\r\n                long e=re.rniParse(&quot;iris&quot;, 1);\r\n                System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\r\n                long r=re.rniEval(e, 0);\r\n                System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\r\n                REXP x=new REXP(re, r);\r\n                System.out.println(&quot;REXP result = &quot;+x);\r\n            }\r\n            {\r\n                System.out.println(&quot;Parsing&quot;);\r\n                long e=re.rniParse(&quot;names(iris)&quot;, 1);\r\n                System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\r\n                long r=re.rniEval(e, 0);\r\n                System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\r\n                REXP x=new REXP(re, r);\r\n                System.out.println(&quot;REXP result = &quot;+x);\r\n                String s[]=x.asStringArray();\r\n                if (s!=null) {\r\n                    int i=0; while (i&lt;s.length) { System.out.println(&quot;[&quot;+i+&quot;] \\&quot;&quot;+s[i]+&quot;\\&quot;&quot;); i++; }\r\n                }\r\n            }\r\n            {\r\n                System.out.println(&quot;Parsing&quot;);\r\n                long e=re.rniParse(&quot;rnorm(10)&quot;, 1);\r\n                System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\r\n                long r=re.rniEval(e, 0);\r\n                System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\r\n                REXP x=new REXP(re, r);\r\n                System.out.println(&quot;REXP result = &quot;+x);\r\n                double d[]=x.asDoubleArray();\r\n                if (d!=null) {\r\n                    int i=0; while (i&lt;d.length) { System.out.print(((i==0)?&quot;&quot;:&quot;, &quot;)+d[i]); i++; }\r\n                    System.out.println(&quot;&quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n            {\r\n                REXP x=re.eval(&quot;1:10&quot;);\r\n                System.out.println(&quot;REXP result = &quot;+x);\r\n                int d[]=x.asIntArray();\r\n                if (d!=null) {\r\n                    int i=0; while (i&lt;d.length) { System.out.print(((i==0)?&quot;&quot;:&quot;, &quot;)+d[i]); i++; }\r\n                    System.out.println(&quot;&quot;);\r\n                }\r\n            }\r\n    \r\n            re.eval(&quot;print(1:10/3)&quot;);\r\n            \r\n    \tif (true) {\r\n    \t    // so far we used R as a computational slave without REPL\r\n    \t    // now we start the loop, so the user can use the console\r\n    \t    System.out.println(&quot;Now the console is yours ... have fun&quot;);\r\n    \t    re.startMainLoop();\r\n    \t} else {\r\n    \t    re.end();\r\n    \t    System.out.println(&quot;end&quot;);\r\n    \t}\r\n        }\r\n    }\r\n\r\n(Please let me know if the formatting of that code is difficult to read. I&#39;m very new to Stack Overflow!)\r\n\r\nWhen I run &quot;rtest.java&quot; using the correct run configurations, I get the following error:\r\n\r\n    Error: Unable to initialize main class rtest\r\n    Caused by: java.lang.NoClassDefFoundError: org/rosuda/JRI/RMainLoopCallbacks\r\n\r\nI&#39;m not quite sure what to do because I didn&#39;t personally write &quot;rtest.java&quot;, so I don&#39;t know how I could&#39;ve messed it up. Please let me know if you can figure out how to run this code properly. It&#39;s probably a really easy fix that I just don&#39;t know about because I&#39;m a beginner.\r\n\r\nIf you have any ideas, please try to explain them as thoroughly as possible. Thank you so much for your time!","title":"Error when using rtest.java example that comes with JRI","body":"<p>I'm currently trying to make a Java program that takes inputted data and visualizes it using R. I set up JRI, and I'm using Eclipse. I read the README for JRI, which I'll link below so my question isn't too long.</p>\n<p><a href=\"https://github.com/s-u/rJava/blob/master/jri/README\" rel=\"nofollow noreferrer\">https://github.com/s-u/rJava/blob/master/jri/README</a></p>\n<p>I got everything to work with the actual JRI setup by using the &quot;Run Configurations&quot; and &quot;Configure Build Path&quot; buttons in Eclipse. So I'm able to do simple R calculations, but that's not what I need. I need to be able to output graphs, tables, etc. using R in Java.</p>\n<p>So I copied the &quot;rtest.java&quot; file from the &quot;examples&quot; folder in JRI to Eclipse. I'll add the code below.</p>\n<pre><code>import java.io.*;\nimport java.awt.Frame;\nimport java.awt.FileDialog;\n\nimport java.util.Enumeration;\n\nimport org.rosuda.JRI.Rengine;\nimport org.rosuda.JRI.REXP;\nimport org.rosuda.JRI.RList;\nimport org.rosuda.JRI.RVector;\nimport org.rosuda.JRI.RMainLoopCallbacks;\n\nclass TextConsole implements RMainLoopCallbacks\n{\n    public void rWriteConsole(Rengine re, String text, int oType) {\n        System.out.print(text);\n    }\n    \n    public void rBusy(Rengine re, int which) {\n        System.out.println(&quot;rBusy(&quot;+which+&quot;)&quot;);\n    }\n    \n    public String rReadConsole(Rengine re, String prompt, int addToHistory) {\n        System.out.print(prompt);\n        try {\n            BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n            String s=br.readLine();\n            return (s==null||s.length()==0)?s:s+&quot;\\n&quot;;\n        } catch (Exception e) {\n            System.out.println(&quot;jriReadConsole exception: &quot;+e.getMessage());\n        }\n        return null;\n    }\n    \n    public void rShowMessage(Rengine re, String message) {\n        System.out.println(&quot;rShowMessage \\&quot;&quot;+message+&quot;\\&quot;&quot;);\n    }\n    \n    public String rChooseFile(Rengine re, int newFile) {\n    FileDialog fd = new FileDialog(new Frame(), (newFile==0)?&quot;Select a file&quot;:&quot;Select a new file&quot;, (newFile==0)?FileDialog.LOAD:FileDialog.SAVE);\n    fd.show();\n    String res=null;\n    if (fd.getDirectory()!=null) res=fd.getDirectory();\n    if (fd.getFile()!=null) res=(res==null)?fd.getFile():(res+fd.getFile());\n    return res;\n    }\n    \n    public void   rFlushConsole (Rengine re) {\n    }\n    \n    public void   rLoadHistory  (Rengine re, String filename) {\n    }           \n    \n    public void   rSaveHistory  (Rengine re, String filename) {\n    }           \n}\n\npublic class rtest {\n    public static void main(String[] args) {\n    // just making sure we have the right version of everything\n    if (!Rengine.versionCheck()) {\n        System.err.println(&quot;** Version mismatch - Java files don't match library version.&quot;);\n        System.exit(1);\n    }\n        System.out.println(&quot;Creating Rengine (with arguments)&quot;);\n        // 1) we pass the arguments from the command line\n        // 2) we won't use the main loop at first, we'll start it later\n        //    (that's the &quot;false&quot; as second argument)\n        // 3) the callbacks are implemented by the TextConsole class above\n        Rengine re=new Rengine(args, false, new TextConsole());\n        System.out.println(&quot;Rengine created, waiting for R&quot;);\n        // the engine creates R is a new thread, so we should wait until it's ready\n        if (!re.waitForR()) {\n            System.out.println(&quot;Cannot load R&quot;);\n            return;\n        }\n\n        /* High-level API - do not use RNI methods unless there is no other way\n            to accomplish what you want */\n        try {\n            REXP x;\n            re.eval(&quot;data(iris)&quot;,false);\n            System.out.println(x=re.eval(&quot;iris&quot;));\n            // generic vectors are RVector to accomodate names\n            RVector v = x.asVector();\n            if (v.getNames()!=null) {\n                System.out.println(&quot;has names:&quot;);\n                for (Enumeration e = v.getNames().elements() ; e.hasMoreElements() ;) {\n                    System.out.println(e.nextElement());\n                }\n            }\n            // for compatibility with Rserve we allow casting of vectors to lists\n            RList vl = x.asList();\n            String[] k = vl.keys();\n            if (k!=null) {\n                System.out.println(&quot;and once again from the list:&quot;);\n                int i=0; while (i&lt;k.length) System.out.println(k[i++]);\n            }           \n\n            // get boolean array\n            System.out.println(x=re.eval(&quot;iris[[1]]&gt;mean(iris[[1]])&quot;));\n            // R knows about TRUE/FALSE/NA, so we cannot use boolean[] this way\n            // instead, we use int[] which is more convenient (and what R uses internally anyway)\n            int[] bi = x.asIntArray();\n            {\n                int i = 0; while (i&lt;bi.length) { System.out.print(bi[i]==0?&quot;F &quot;:(bi[i]==1?&quot;T &quot;:&quot;NA &quot;)); i++; }\n                System.out.println(&quot;&quot;);\n            }\n            \n            // push a boolean array\n            boolean by[] = { true, false, false };\n            re.assign(&quot;bool&quot;, by);\n            System.out.println(x=re.eval(&quot;bool&quot;));\n            // asBool returns the first element of the array as RBool\n            // (mostly useful for boolean arrays of the length 1). is should return true\n            System.out.println(&quot;isTRUE? &quot;+x.asBool().isTRUE());\n\n            // now for a real dotted-pair list:\n            System.out.println(x=re.eval(&quot;pairlist(a=1,b='foo',c=1:5)&quot;));\n            RList l = x.asList();\n            if (l!=null) {\n                int i=0;\n                String [] a = l.keys();\n                System.out.println(&quot;Keys:&quot;);\n                while (i&lt;a.length) System.out.println(a[i++]);\n                System.out.println(&quot;Contents:&quot;);\n                i=0;\n                while (i&lt;a.length) System.out.println(l.at(i++));\n            }\n            System.out.println(re.eval(&quot;sqrt(36)&quot;));\n        } catch (Exception e) {\n            System.out.println(&quot;EX:&quot;+e);\n            e.printStackTrace();\n        }\n        \n        // Part 2 - low-level API - for illustration purposes only!\n        //System.exit(0);\n        \n        // simple assignment like a&lt;-&quot;hello&quot; (env=0 means use R_GlobalEnv)\n        long xp1 = re.rniPutString(&quot;hello&quot;);\n        re.rniAssign(&quot;a&quot;, xp1, 0);\n\n        // Example: how to create a named list or data.frame\n        double da[] = {1.2, 2.3, 4.5};\n        double db[] = {1.4, 2.6, 4.2};\n        long xp3 = re.rniPutDoubleArray(da);\n        long xp4 = re.rniPutDoubleArray(db);\n        \n        // now build a list (generic vector is how that's called in R)\n        long la[] = {xp3, xp4};\n        long xp5 = re.rniPutVector(la);\n\n        // now let's add names\n        String sa[] = {&quot;a&quot;,&quot;b&quot;};\n        long xp2 = re.rniPutStringArray(sa);\n        re.rniSetAttr(xp5, &quot;names&quot;, xp2);\n\n        // ok, we have a proper list now\n        // we could use assign and then eval &quot;b&lt;-data.frame(b)&quot;, but for now let's build it by hand:       \n        String rn[] = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\n        long xp7 = re.rniPutStringArray(rn);\n        re.rniSetAttr(xp5, &quot;row.names&quot;, xp7);\n        \n        long xp6 = re.rniPutString(&quot;data.frame&quot;);\n        re.rniSetAttr(xp5, &quot;class&quot;, xp6);\n        \n        // assign the whole thing to the &quot;b&quot; variable\n        re.rniAssign(&quot;b&quot;, xp5, 0);\n        \n        {\n            System.out.println(&quot;Parsing&quot;);\n            long e=re.rniParse(&quot;data(iris)&quot;, 1);\n            System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\n            long r=re.rniEval(e, 0);\n            System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\n            REXP x=new REXP(re, r);\n            System.out.println(&quot;REXP result = &quot;+x);\n        }\n        {\n            System.out.println(&quot;Parsing&quot;);\n            long e=re.rniParse(&quot;iris&quot;, 1);\n            System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\n            long r=re.rniEval(e, 0);\n            System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\n            REXP x=new REXP(re, r);\n            System.out.println(&quot;REXP result = &quot;+x);\n        }\n        {\n            System.out.println(&quot;Parsing&quot;);\n            long e=re.rniParse(&quot;names(iris)&quot;, 1);\n            System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\n            long r=re.rniEval(e, 0);\n            System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\n            REXP x=new REXP(re, r);\n            System.out.println(&quot;REXP result = &quot;+x);\n            String s[]=x.asStringArray();\n            if (s!=null) {\n                int i=0; while (i&lt;s.length) { System.out.println(&quot;[&quot;+i+&quot;] \\&quot;&quot;+s[i]+&quot;\\&quot;&quot;); i++; }\n            }\n        }\n        {\n            System.out.println(&quot;Parsing&quot;);\n            long e=re.rniParse(&quot;rnorm(10)&quot;, 1);\n            System.out.println(&quot;Result = &quot;+e+&quot;, running eval&quot;);\n            long r=re.rniEval(e, 0);\n            System.out.println(&quot;Result = &quot;+r+&quot;, building REXP&quot;);\n            REXP x=new REXP(re, r);\n            System.out.println(&quot;REXP result = &quot;+x);\n            double d[]=x.asDoubleArray();\n            if (d!=null) {\n                int i=0; while (i&lt;d.length) { System.out.print(((i==0)?&quot;&quot;:&quot;, &quot;)+d[i]); i++; }\n                System.out.println(&quot;&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n        {\n            REXP x=re.eval(&quot;1:10&quot;);\n            System.out.println(&quot;REXP result = &quot;+x);\n            int d[]=x.asIntArray();\n            if (d!=null) {\n                int i=0; while (i&lt;d.length) { System.out.print(((i==0)?&quot;&quot;:&quot;, &quot;)+d[i]); i++; }\n                System.out.println(&quot;&quot;);\n            }\n        }\n\n        re.eval(&quot;print(1:10/3)&quot;);\n        \n    if (true) {\n        // so far we used R as a computational slave without REPL\n        // now we start the loop, so the user can use the console\n        System.out.println(&quot;Now the console is yours ... have fun&quot;);\n        re.startMainLoop();\n    } else {\n        re.end();\n        System.out.println(&quot;end&quot;);\n    }\n    }\n}\n</code></pre>\n<p>(Please let me know if the formatting of that code is difficult to read. I'm very new to Stack Overflow!)</p>\n<p>When I run &quot;rtest.java&quot; using the correct run configurations, I get the following error:</p>\n<pre><code>Error: Unable to initialize main class rtest\nCaused by: java.lang.NoClassDefFoundError: org/rosuda/JRI/RMainLoopCallbacks\n</code></pre>\n<p>I'm not quite sure what to do because I didn't personally write &quot;rtest.java&quot;, so I don't know how I could've messed it up. Please let me know if you can figure out how to run this code properly. It's probably a really easy fix that I just don't know about because I'm a beginner.</p>\n<p>If you have any ideas, please try to explain them as thoroughly as possible. Thank you so much for your time!</p>\n"},{"tags":["java","playframework","sbt"],"answers":[{"tags":[],"owner":{"account_id":3990015,"reputation":1175,"user_id":3289282,"display_name":"Robin Raju"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496407639,"creation_date":1496407639,"answer_id":44329357,"question_id":43926839,"body_markdown":"Delete .activator, .ivy2 and .sbt in your home directory and start again.","title":"java.lang.ClassNotFoundException: xsbt.CompilerInterface with PlayFramework","body":"<p>Delete .activator, .ivy2 and .sbt in your home directory and start again.</p>\n"},{"tags":[],"owner":{"account_id":35066,"reputation":1246,"user_id":99231,"accept_rate":50,"display_name":"Bryji"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626450602,"creation_date":1626450602,"answer_id":68411886,"question_id":43926839,"body_markdown":"Deleting the .idea folder in the project and re-importing the sbt worked for me. (Deleting .ivy &amp; .sbt in home folders did not).","title":"java.lang.ClassNotFoundException: xsbt.CompilerInterface with PlayFramework","body":"<p>Deleting the .idea folder in the project and re-importing the sbt worked for me. (Deleting .ivy &amp; .sbt in home folders did not).</p>\n"},{"tags":[],"owner":{"account_id":5566702,"reputation":297,"user_id":4413709,"display_name":"6infinity8"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1637404663,"creation_date":1637404663,"answer_id":70045116,"question_id":43926839,"body_markdown":"As often, restarting the IDE did the trick in my case.","title":"java.lang.ClassNotFoundException: xsbt.CompilerInterface with PlayFramework","body":"<p>As often, restarting the IDE did the trick in my case.</p>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662938345,"creation_date":1662938345,"answer_id":73683226,"question_id":43926839,"body_markdown":"Invalidating cache helped. File -&gt; Invalidate Caches...","title":"java.lang.ClassNotFoundException: xsbt.CompilerInterface with PlayFramework","body":"<p>Invalidating cache helped. File -&gt; Invalidate Caches...</p>\n"}],"owner":{"account_id":10881115,"reputation":61,"user_id":7999989,"display_name":"Алекс Ковтун"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5969,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1662938345,"creation_date":1494543246,"question_id":43926839,"body_markdown":"What can i do with this? I try to create bot for telegram with deploy on heroky. But i got this exception, when i Run my project. I using IntelliJ IDEA Ultimate. PlayFramework with sbt. Database - MongoDB\r\n\r\n     java.lang.ClassNotFoundException: xsbt.CompilerInterface\r\n    java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    java.lang.Class.forName0(Native Method)\r\n    java.lang.Class.forName(Class.java:348)\r\n    sbt.compiler.AnalyzingCompiler.getInterfaceClass(AnalyzingCompiler.scala:128)\r\n    sbt.compiler.AnalyzingCompiler.call(AnalyzingCompiler.scala:104)\r\n    sbt.compiler.AnalyzingCompiler.newCachedCompiler(AnalyzingCompiler.scala:62)\r\n    sbt.compiler.AnalyzingCompiler.newCachedCompiler(AnalyzingCompiler.scala:57)\r\n    sbt.compiler.CompilerCache$$anon$2.apply(CompilerCache.scala:47)\r\n    sbt.compiler.AnalyzingCompiler.compile(AnalyzingCompiler.scala:45)\r\n    sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply$mcV$sp(MixedAnalyzingCompiler.scala:50)\r\n    sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:50)\r\n    sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:50)\r\n    sbt.compiler.MixedAnalyzingCompiler.timed(MixedAnalyzingCompiler.scala:74)\r\n    sbt.compiler.MixedAnalyzingCompiler.compileScala$1(MixedAnalyzingCompiler.scala:49)\r\n    sbt.compiler.MixedAnalyzingCompiler.compile(MixedAnalyzingCompiler.scala:64)\r\n    sbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)\r\n    sbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)\r\n    sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:66)\r\n    sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:64)\r\n    sbt.inc.IncrementalCommon.cycle(IncrementalCommon.scala:32)\r\n    sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:72)\r\n    sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:71)\r\n    sbt.inc.Incremental$.manageClassfiles(Incremental.scala:99)\r\n    sbt.inc.Incremental$.compile(Incremental.scala:71)\r\n    sbt.inc.IncrementalCompile$.apply(Compile.scala:54)\r\n    sbt.compiler.IC$.compileInternal(IncrementalCompiler.scala:160)\r\n    sbt.compiler.IC$.incrementalCompile(IncrementalCompiler.scala:138)\r\n    sbt.Compiler$.compile(Compiler.scala:155)\r\n    sbt.Compiler$.compile(Compiler.scala:141)\r\n    sbt.Defaults$.sbt$Defaults$$compileIncrementalTaskImpl(Defaults.scala:886)\r\n    sbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:877)\r\n    sbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:875)\r\n    scala.Function1$$anonfun$compose$1.apply(Function1.scala:47)\r\n    sbt.$tilde$greater$$anonfun$$u2219$1.apply(TypeFunctions.scala:40)\r\n    sbt.std.Transform$$anon$4.work(System.scala:63)\r\n    sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\r\n    sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\r\n    sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17)\r\n    sbt.Execute.work(Execute.scala:237)\r\n    sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\r\n    sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\r\n    sbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159)\r\n    sbt.CompletionService$$anon$2.call(CompletionService.scala:28)\r\n    java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    java.lang.Thread.run(Thread.java:745)","title":"java.lang.ClassNotFoundException: xsbt.CompilerInterface with PlayFramework","body":"<p>What can i do with this? I try to create bot for telegram with deploy on heroky. But i got this exception, when i Run my project. I using IntelliJ IDEA Ultimate. PlayFramework with sbt. Database - MongoDB</p>\n\n<pre><code> java.lang.ClassNotFoundException: xsbt.CompilerInterface\njava.net.URLClassLoader.findClass(URLClassLoader.java:381)\njava.lang.ClassLoader.loadClass(ClassLoader.java:424)\njava.lang.ClassLoader.loadClass(ClassLoader.java:357)\njava.lang.Class.forName0(Native Method)\njava.lang.Class.forName(Class.java:348)\nsbt.compiler.AnalyzingCompiler.getInterfaceClass(AnalyzingCompiler.scala:128)\nsbt.compiler.AnalyzingCompiler.call(AnalyzingCompiler.scala:104)\nsbt.compiler.AnalyzingCompiler.newCachedCompiler(AnalyzingCompiler.scala:62)\nsbt.compiler.AnalyzingCompiler.newCachedCompiler(AnalyzingCompiler.scala:57)\nsbt.compiler.CompilerCache$$anon$2.apply(CompilerCache.scala:47)\nsbt.compiler.AnalyzingCompiler.compile(AnalyzingCompiler.scala:45)\nsbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply$mcV$sp(MixedAnalyzingCompiler.scala:50)\nsbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:50)\nsbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:50)\nsbt.compiler.MixedAnalyzingCompiler.timed(MixedAnalyzingCompiler.scala:74)\nsbt.compiler.MixedAnalyzingCompiler.compileScala$1(MixedAnalyzingCompiler.scala:49)\nsbt.compiler.MixedAnalyzingCompiler.compile(MixedAnalyzingCompiler.scala:64)\nsbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)\nsbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)\nsbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:66)\nsbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:64)\nsbt.inc.IncrementalCommon.cycle(IncrementalCommon.scala:32)\nsbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:72)\nsbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:71)\nsbt.inc.Incremental$.manageClassfiles(Incremental.scala:99)\nsbt.inc.Incremental$.compile(Incremental.scala:71)\nsbt.inc.IncrementalCompile$.apply(Compile.scala:54)\nsbt.compiler.IC$.compileInternal(IncrementalCompiler.scala:160)\nsbt.compiler.IC$.incrementalCompile(IncrementalCompiler.scala:138)\nsbt.Compiler$.compile(Compiler.scala:155)\nsbt.Compiler$.compile(Compiler.scala:141)\nsbt.Defaults$.sbt$Defaults$$compileIncrementalTaskImpl(Defaults.scala:886)\nsbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:877)\nsbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:875)\nscala.Function1$$anonfun$compose$1.apply(Function1.scala:47)\nsbt.$tilde$greater$$anonfun$$u2219$1.apply(TypeFunctions.scala:40)\nsbt.std.Transform$$anon$4.work(System.scala:63)\nsbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\nsbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\nsbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17)\nsbt.Execute.work(Execute.scala:237)\nsbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\nsbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\nsbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159)\nsbt.CompletionService$$anon$2.call(CompletionService.scala:28)\njava.util.concurrent.FutureTask.run(FutureTask.java:266)\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\njava.util.concurrent.FutureTask.run(FutureTask.java:266)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\njava.lang.Thread.run(Thread.java:745)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8949,"page":1043,"page_size":100}
