{"items":[{"tags":["java","random","jvm","uuid","production"],"comments":[{"owner":{"account_id":253942,"reputation":19289,"user_id":532978,"accept_rate":91,"display_name":"JCOC611"},"score":1,"creation_date":1421350460,"post_id":27971464,"comment_id":44335702,"body_markdown":"This might be useless advice, but if you found a way to generate V1 (MAC + timestamp based) instead of V4 it *may* reduce the collisions, since they would have to happen at the same time, the same machine, and be very unlucky.","body":"This might be useless advice, but if you found a way to generate V1 (MAC + timestamp based) instead of V4 it <i>may</i> reduce the collisions, since they would have to happen at the same time, the same machine, and be very unlucky."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":10,"creation_date":1421350709,"post_id":27971464,"comment_id":44335837,"body_markdown":"As a first step I would log every single UUID that comes out of `UUID.randomUUID()` on every machine into a local text file. I would then re-run the duplicate search *on those logs*. It could be that in your actual code, the UUIDs are getting mixed up at a later stage, e.g. due to a race condition somewhere in a higher-level layer.","body":"As a first step I would log every single UUID that comes out of <code>UUID.randomUUID()</code> on every machine into a local text file. I would then re-run the duplicate search <i>on those logs</i>. It could be that in your actual code, the UUIDs are getting mixed up at a later stage, e.g. due to a race condition somewhere in a higher-level layer."},{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1421350796,"post_id":27971464,"comment_id":44335883,"body_markdown":"I don&#39;t have a solution, but I admire the problem. ^_^ If the numbers from [the Wiki](http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates) are correct this is almost impossible to happen. Especially multiple times. It seems this &quot;random&quot; really isn&#39;t o_O","body":"I don&#39;t have a solution, but I admire the problem. ^_^ If the numbers from <a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates\" rel=\"nofollow noreferrer\">the Wiki</a> are correct this is almost impossible to happen. Especially multiple times. It seems this &quot;random&quot; really isn&#39;t o_O"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":2,"creation_date":1421350834,"post_id":27971464,"comment_id":44335915,"body_markdown":"I would also search your entire code base for any places where you might be seeding any random number generators. ;-)","body":"I would also search your entire code base for any places where you might be seeding any random number generators. ;-)"},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":1,"creation_date":1421352022,"post_id":27971464,"comment_id":44336517,"body_markdown":"And make sure you really are creating and using a new UUID every time you should be.","body":"And make sure you really are creating and using a new UUID every time you should be."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1421352203,"post_id":27971464,"comment_id":44336617,"body_markdown":"You could write a [SSCCE](http://sscce.org/) that just creates millions of UUIDs and see if there are any duplicates.  This would reveal if it&#39;s a system or JVM issue, as opposed to your own code as @NPE suggested.","body":"You could write a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> that just creates millions of UUIDs and see if there are any duplicates.  This would reveal if it&#39;s a system or JVM issue, as opposed to your own code as @NPE suggested."},{"owner":{"account_id":5125671,"reputation":5871,"user_id":4107809,"accept_rate":71,"display_name":"mattm"},"score":2,"creation_date":1421355424,"post_id":27971464,"comment_id":44338336,"body_markdown":"You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs.","body":"You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs."},{"owner":{"account_id":2597187,"reputation":3096,"user_id":2250588,"display_name":"iheanyi"},"score":3,"creation_date":1421358650,"post_id":27971464,"comment_id":44339956,"body_markdown":"Under normal operation, random number generated by virtual machines  should not show that kind of collision. But, say you generated a set of random numbers with virtual machine A. Then took a snapshot of A. Then sometime later, stopped A, resumed from the snap shot, and resumed generating random numbers - you may have some duplicates due to resuse of internal state values. I suspect if you snapshotted A, then started A and B from the snapshot, you may experience the same problem.","body":"Under normal operation, random number generated by virtual machines  should not show that kind of collision. But, say you generated a set of random numbers with virtual machine A. Then took a snapshot of A. Then sometime later, stopped A, resumed from the snap shot, and resumed generating random numbers - you may have some duplicates due to resuse of internal state values. I suspect if you snapshotted A, then started A and B from the snapshot, you may experience the same problem."}],"answers":[{"tags":[],"owner":{"account_id":109880,"reputation":6406,"user_id":290962,"accept_rate":89,"display_name":"ahoffer"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1556290494,"creation_date":1421360950,"answer_id":27974180,"question_id":27971464,"body_markdown":"Given time, I&#39;m sure you&#39;ll find the culprit. In the meantime, there was a comment that I think deserves to be promoted to answer:\r\n\r\n*You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs*\r\n\r\nSo create a UUID server. It is just a process that churns out blocks of UUIDs. Each block consists maybe 10,000 (or whatever is appropriate) UUIDs. The process writes each block to disk after the process verifies the block contains no duplicates.\r\n\r\nCreate another process to distribute the blocks of UUIDs. Maybe it is just an a web service that returns an unused block when it gets a request. The transaction server makes a request for a block and then consumes those UUIDs as it creates transactions. When the server has used most of its assigned UUIDs, it requests another block.","title":"UUID Generated randomly is having duplicates","body":"<p>Given time, I'm sure you'll find the culprit. In the meantime, there was a comment that I think deserves to be promoted to answer:</p>\n\n<p><em>You are generating pseudo random UUIDs at multiple locations. If you don't find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs</em></p>\n\n<p>So create a UUID server. It is just a process that churns out blocks of UUIDs. Each block consists maybe 10,000 (or whatever is appropriate) UUIDs. The process writes each block to disk after the process verifies the block contains no duplicates.</p>\n\n<p>Create another process to distribute the blocks of UUIDs. Maybe it is just an a web service that returns an unused block when it gets a request. The transaction server makes a request for a block and then consumes those UUIDs as it creates transactions. When the server has used most of its assigned UUIDs, it requests another block.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556291199,"creation_date":1556291199,"answer_id":55870350,"question_id":27971464,"body_markdown":"I wouldn&#39;t waste time wondering how `UUID.randomUUID()` is generating a few duplicate UUIDs per day. The odds of that happening by chance are infinitesimal. (Generating a whole series of duplicates *is* possible&amp;mdash;if the underlying RNG state is duplicated, but that doesn&#39;t seem to be the case.)\r\n\r\nInstead, look for places where a UUID stored by one server could be clobbering one stored by another. Why does this only happen between 2 servers out of 50? That has something to do with the details of your environment and system that haven&#39;t been shared.","title":"UUID Generated randomly is having duplicates","body":"<p>I wouldn't waste time wondering how <code>UUID.randomUUID()</code> is generating a few duplicate UUIDs per day. The odds of that happening by chance are infinitesimal. (Generating a whole series of duplicates <em>is</em> possible&mdash;if the underlying RNG state is duplicated, but that doesn't seem to be the case.)</p>\n\n<p>Instead, look for places where a UUID stored by one server could be clobbering one stored by another. Why does this only happen between 2 servers out of 50? That has something to do with the details of your environment and system that haven't been shared.</p>\n"},{"tags":[],"owner":{"account_id":1089051,"reputation":106,"user_id":1084106,"display_name":"rdChris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592006023,"creation_date":1592006023,"answer_id":62353984,"question_id":27971464,"body_markdown":"As stated above, the chances of a legit collision are impossibly small. A more likely possibly is if the values are ever transferred between objects in an improper way.\r\n\r\nFor languages like Java that behave as pass by reference, consider the following scenario\r\n\r\n    saveObject1.setUUID(initObj.getUUID())\r\n    initObj.setUUID(UUID.randomUUID());\r\n    saveObject2.setUUID(initObj.getUUID()) \r\n\r\nIn this case saveObject1 &amp; saveObject2 will have the same value, because they are both pointed to the same object reference (initObj&#39;s UUID reference). \r\n\r\nAn issue like this seems more likely than the actual UUIDs being a collision, esp if you can reproduce it. Naturally if it doesn&#39;t happen all the time it&#39;s probably something more complex, like a rare race condition where initObj doesn&#39;t get reinitialized in time, causing saveObject1 &amp; 2 to share the same object reference. ","title":"UUID Generated randomly is having duplicates","body":"<p>As stated above, the chances of a legit collision are impossibly small. A more likely possibly is if the values are ever transferred between objects in an improper way.</p>\n\n<p>For languages like Java that behave as pass by reference, consider the following scenario</p>\n\n<pre><code>saveObject1.setUUID(initObj.getUUID())\ninitObj.setUUID(UUID.randomUUID());\nsaveObject2.setUUID(initObj.getUUID()) \n</code></pre>\n\n<p>In this case saveObject1 &amp; saveObject2 will have the same value, because they are both pointed to the same object reference (initObj's UUID reference). </p>\n\n<p>An issue like this seems more likely than the actual UUIDs being a collision, esp if you can reproduce it. Naturally if it doesn't happen all the time it's probably something more complex, like a rare race condition where initObj doesn't get reinitialized in time, causing saveObject1 &amp; 2 to share the same object reference. </p>\n"},{"tags":[],"owner":{"account_id":9329897,"reputation":135,"user_id":6925975,"display_name":"Michael Codes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770411,"creation_date":1687770411,"answer_id":76555187,"question_id":27971464,"body_markdown":"Your database column length can limit you to experience duplicate UUID","title":"UUID Generated randomly is having duplicates","body":"<p>Your database column length can limit you to experience duplicate UUID</p>\n"}],"owner":{"account_id":2661960,"reputation":513,"user_id":2301410,"accept_rate":53,"display_name":"deepesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10454,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1687770411,"creation_date":1421350143,"question_id":27971464,"body_markdown":"I&#39;m using the below function to generate UUID\r\n\r\n    UUID.randomUUID().toString()\r\n\r\nIn production we have 50+ servers (application server - each is a JVM on its own) and for requests that land in these servers, as a first step we generate a UUID which essentially uniquely identifies a transaction.\r\n\r\nWhat we are observing is that in Server 6 and Server 11, the UUIDs generated are matching at least for 10 to 15 messages per day which is strange because given the load i.e. about 1 million transactions a day, these UUIDs being duplicate within the same day is very odd.\r\n\r\nThis is what we have done so far\r\n\r\n1. Verified the application logs - we didn&#39;t find anything fishy in there, all logs are as normal\r\n2. Tried replicating this issue in the test environment with similar load in production and with 50+ servers - but this didn&#39;t happen in the test environment \r\n3. Checked the application logic - this doesn&#39;t seem to be an issue because all other 48 servers except 6 and 11 which have a copy of the same code base is working perfectly fine and they are generating unique UUIDs per transaction.\r\n\r\nSo far we haven&#39;t been able to trace the issue, my question is basically if there is something at JVM level we are missing or UUID parameter that we need to set for this one off kind of an issue?\r\n","title":"UUID Generated randomly is having duplicates","body":"<p>I'm using the below function to generate UUID</p>\n\n<pre><code>UUID.randomUUID().toString()\n</code></pre>\n\n<p>In production we have 50+ servers (application server - each is a JVM on its own) and for requests that land in these servers, as a first step we generate a UUID which essentially uniquely identifies a transaction.</p>\n\n<p>What we are observing is that in Server 6 and Server 11, the UUIDs generated are matching at least for 10 to 15 messages per day which is strange because given the load i.e. about 1 million transactions a day, these UUIDs being duplicate within the same day is very odd.</p>\n\n<p>This is what we have done so far</p>\n\n<ol>\n<li>Verified the application logs - we didn't find anything fishy in there, all logs are as normal</li>\n<li>Tried replicating this issue in the test environment with similar load in production and with 50+ servers - but this didn't happen in the test environment </li>\n<li>Checked the application logic - this doesn't seem to be an issue because all other 48 servers except 6 and 11 which have a copy of the same code base is working perfectly fine and they are generating unique UUIDs per transaction.</li>\n</ol>\n\n<p>So far we haven't been able to trace the issue, my question is basically if there is something at JVM level we are missing or UUID parameter that we need to set for this one off kind of an issue?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1523364101,"post_id":49752350,"comment_id":86522449,"body_markdown":"`(wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))` == `false`. Unless &quot;XYZ&quot; is not actually &quot;XYZ&quot;.","body":"<code>(wrapper != null &amp;&amp; wrapper.length() &gt; 7         &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))</code> == <code>false</code>. Unless &quot;XYZ&quot; is not actually &quot;XYZ&quot;."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1523365572,"post_id":49752350,"comment_id":86523638,"body_markdown":"This will never be true `wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)`. Because you create a substring which will be six characters long (`wrapper.substring(0, 6)`). Therefore it can never be equal to `XYZ`.","body":"This will never be true <code>wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)</code>. Because you create a substring which will be six characters long (<code>wrapper.substring(0, 6)</code>). Therefore it can never be equal to <code>XYZ</code>."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":3,"creation_date":1523365694,"post_id":49752350,"comment_id":86523744,"body_markdown":"@SubOptimal that&#39;s exactly what I was thinking when I wrote the comment above. Still, it might be possible, as we don&#39;t know exactly what `WrapperClass` is. It might be that `WrapperClass.substring()` doesn&#39;t do what we think it does!","body":"@SubOptimal that&#39;s exactly what I was thinking when I wrote the comment above. Still, it might be possible, as we don&#39;t know exactly what <code>WrapperClass</code> is. It might be that <code>WrapperClass.substring()</code> doesn&#39;t do what we think it does!"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1523365843,"post_id":49752350,"comment_id":86523868,"body_markdown":"@DodgyCodeException Good point. Did not thought about it.","body":"@DodgyCodeException Good point. Did not thought about it."},{"owner":{"account_id":8018246,"reputation":761,"user_id":6172578,"accept_rate":25,"display_name":"smruti ranjan"},"score":0,"creation_date":1523416390,"post_id":49752350,"comment_id":86547257,"body_markdown":"@DodgyCodeException &quot;XYZ &quot; i had kept just not to show original values.. plz ignore those things","body":"@DodgyCodeException &quot;XYZ &quot; i had kept just not to show original values.. plz ignore those things"}],"answers":[{"tags":[],"owner":{"account_id":10343431,"reputation":635,"user_id":7629084,"display_name":"HBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523360974,"creation_date":1523360974,"answer_id":49752879,"question_id":49752350,"body_markdown":"First of all, Sonar should give you more flags: reusing the `wrapper` parameter is usually a bad practice, NPE where invoking `wrapper.getKey` because `wrapper` can be null, but anyway, not the point...\r\n\r\nTry reducing the number of `if` statements by creating local boolean variables (or possibly 1 big `if` statement if you have less than 5 or 6 tests, but often less readable). Once it&#39;s done, you should only have 1 block testing these boolean variables, and have one return statement, like the example above (not necessarily accurate!): \r\n\r\n    boolean expired = tokenExpiryTime != null;\r\n\tboolean desiredAlgo = DESIRED_ALGO.equals(key.getAlgorithm());\r\n\tboolean desiredType = DESIRED_TYPE.equals(value6);\r\n\tif (expired || !desiredAlgo || !desiredType) {\r\n\t\treturn isValidWrapper;\r\n\t}\r\n\r\nHowever, your Cognitive complexity level seems pretty low if this kind of algorithm triggers it...\r\n\r\nAnother big way to reduce an algorithm complexity is to turn sub-blocks of code (loops, if and try-catch) into private methods. In your example, it could be something like a `checkWrapperValidity` method, responsible for every test returning `isValidWrapper`","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>First of all, Sonar should give you more flags: reusing the <code>wrapper</code> parameter is usually a bad practice, NPE where invoking <code>wrapper.getKey</code> because <code>wrapper</code> can be null, but anyway, not the point...</p>\n\n<p>Try reducing the number of <code>if</code> statements by creating local boolean variables (or possibly 1 big <code>if</code> statement if you have less than 5 or 6 tests, but often less readable). Once it's done, you should only have 1 block testing these boolean variables, and have one return statement, like the example above (not necessarily accurate!): </p>\n\n<pre><code>boolean expired = tokenExpiryTime != null;\nboolean desiredAlgo = DESIRED_ALGO.equals(key.getAlgorithm());\nboolean desiredType = DESIRED_TYPE.equals(value6);\nif (expired || !desiredAlgo || !desiredType) {\n    return isValidWrapper;\n}\n</code></pre>\n\n<p>However, your Cognitive complexity level seems pretty low if this kind of algorithm triggers it...</p>\n\n<p>Another big way to reduce an algorithm complexity is to turn sub-blocks of code (loops, if and try-catch) into private methods. In your example, it could be something like a <code>checkWrapperValidity</code> method, responsible for every test returning <code>isValidWrapper</code></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1523367110,"creation_date":1523362484,"answer_id":49753396,"question_id":49752350,"body_markdown":"A bit of rewriting delivered a simplification, that still could be improved upon.\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\r\n            &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))\r\n        {\r\n            wrapper = wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;)+1);\r\n        }\r\n    \tboolean isValidWrapper = wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\r\n    \r\n        try {\r\n            String key = wrapper.getKey();\r\n    \t\tif (key != null &amp;&amp; key.getExpiresAt() == null\r\n    \t\t\t\t&amp;&amp; DESIRED_ALGO.equals(key.getAlgorithm())\r\n    \t\t\t\t&amp;&amp; DESIRED_TYPE.equals(key.getType())\r\n    \t\t\t\t&amp;&amp; key.getValue1() != null &amp;&amp; !key.getValue2().isEmpty()\r\n                    &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\r\n                    &amp;&amp; key.getValue5() != null) {\r\n    \t\t\tisValidWrapper = true;\r\n    \t\t}\r\n        }\r\n        catch (Exception exception) {\r\n            // DO NOTHING\r\n        }\r\n        return isValidWrapper;\r\n    }\r\n\r\n_After comment: here I catch any exception for all calls._","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>A bit of rewriting delivered a simplification, that still could be improved upon.</p>\n\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(\"XYZ\"))\n    {\n        wrapper = wrapper.substring(7, wrapper.lastIndexOf('.')+1);\n    }\n    boolean isValidWrapper = wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(\"TFR\");\n\n    try {\n        String key = wrapper.getKey();\n        if (key != null &amp;&amp; key.getExpiresAt() == null\n                &amp;&amp; DESIRED_ALGO.equals(key.getAlgorithm())\n                &amp;&amp; DESIRED_TYPE.equals(key.getType())\n                &amp;&amp; key.getValue1() != null &amp;&amp; !key.getValue2().isEmpty()\n                &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\n                &amp;&amp; key.getValue5() != null) {\n            isValidWrapper = true;\n        }\n    }\n    catch (Exception exception) {\n        // DO NOTHING\n    }\n    return isValidWrapper;\n}\n</code></pre>\n\n<p><em>After comment: here I catch any exception for all calls.</em></p>\n"},{"tags":[],"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1595940945,"creation_date":1523393922,"answer_id":49762756,"question_id":49752350,"body_markdown":"I don&#39;t think that merging many `if` conditions to one or simply do a code clean up, for example by changing the order of some instructions, can solve your problem.\r\n\r\nYour code does not match the [single responsibility principle](https://en.wikipedia.org/wiki/Single_responsibility_principle). You should refactor this big method to smaller parts. Due to this it will testable, easier to maintain and read. I spent some time and did this:\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken) {\r\n\r\n        final WrapperClass unpackedWrapper = unpackWrapper(wrapper);\r\n        boolean wrapperValid = isUnpackedWrapperValid(unpackedWrapper);\r\n\r\n        Key key = null;\r\n        try {\r\n            key = unpackedWrapper.getKey();\r\n        } catch (final Exception exception) {\r\n            return wrapperValid;\r\n        }\r\n\r\n        if (key != null) {   \r\n            if (doesKeyMeetsBasicConditions(key)) {\r\n                return wrapperValid;\r\n            }\r\n            if (doesKeyMeetsValueConditions(key)) {\r\n                return true;\r\n            }\r\n        }\r\n        return wrapperValid;\r\n    }\r\n    \r\n    protected static WrapperClass unpackWrapper(final WrapperClass wrapper) {      \r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7 &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)) {\r\n            return wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;) + 1);\r\n        }\r\n        return wrapper;\r\n    }\r\n    \r\n    protected static boolean isUnpackedWrapperValid(final WrapperClass wrapper) {\r\n       return wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\r\n    }\r\n    \r\n    protected static boolean doesKeyMeetsBasicConditions(final Key key) {\r\n        Date tokenExpiryTime = key.getExpiresAt();\r\n        if (tokenExpiryTime != null) {\r\n            return true;\r\n        }\r\n        \r\n        String algorithm = key.getAlgorithm();\r\n        if (!DESIRED_ALGO.equals(algorithm)) {\r\n            return true;\r\n        }\r\n        \r\n        String value6 = key.getType();\r\n        return !DESIRED_TYPE.equals(value6);\r\n    }\r\n    \r\n    protected static boolean doesKeyMeetsValueConditions(final Key key) {\r\n        return key.getValue1() != null &amp;&amp; key.getValue2().size() &gt; 0\r\n               &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\r\n               &amp;&amp; key.getValue5() != null;\r\n    }\r\n\r\nI don&#39;t know the domain logic, so some of my methods have stupid names etc. As you can see, now you have a lot of smaller methods with not many branches (`if` conditions) - easier to test (a static code is not nice, but you can mock it by using for example [PowerMock](http://www.powermock.org/)).","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>I don't think that merging many <code>if</code> conditions to one or simply do a code clean up, for example by changing the order of some instructions, can solve your problem.</p>\n<p>Your code does not match the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">single responsibility principle</a>. You should refactor this big method to smaller parts. Due to this it will testable, easier to maintain and read. I spent some time and did this:</p>\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken) {\n\n    final WrapperClass unpackedWrapper = unpackWrapper(wrapper);\n    boolean wrapperValid = isUnpackedWrapperValid(unpackedWrapper);\n\n    Key key = null;\n    try {\n        key = unpackedWrapper.getKey();\n    } catch (final Exception exception) {\n        return wrapperValid;\n    }\n\n    if (key != null) {   \n        if (doesKeyMeetsBasicConditions(key)) {\n            return wrapperValid;\n        }\n        if (doesKeyMeetsValueConditions(key)) {\n            return true;\n        }\n    }\n    return wrapperValid;\n}\n\nprotected static WrapperClass unpackWrapper(final WrapperClass wrapper) {      \n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7 &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)) {\n        return wrapper.substring(7, wrapper.lastIndexOf('.') + 1);\n    }\n    return wrapper;\n}\n\nprotected static boolean isUnpackedWrapperValid(final WrapperClass wrapper) {\n   return wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\n}\n\nprotected static boolean doesKeyMeetsBasicConditions(final Key key) {\n    Date tokenExpiryTime = key.getExpiresAt();\n    if (tokenExpiryTime != null) {\n        return true;\n    }\n    \n    String algorithm = key.getAlgorithm();\n    if (!DESIRED_ALGO.equals(algorithm)) {\n        return true;\n    }\n    \n    String value6 = key.getType();\n    return !DESIRED_TYPE.equals(value6);\n}\n\nprotected static boolean doesKeyMeetsValueConditions(final Key key) {\n    return key.getValue1() != null &amp;&amp; key.getValue2().size() &gt; 0\n           &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\n           &amp;&amp; key.getValue5() != null;\n}\n</code></pre>\n<p>I don't know the domain logic, so some of my methods have stupid names etc. As you can see, now you have a lot of smaller methods with not many branches (<code>if</code> conditions) - easier to test (a static code is not nice, but you can mock it by using for example <a href=\"http://www.powermock.org/\" rel=\"noreferrer\">PowerMock</a>).</p>\n"},{"tags":[],"owner":{"account_id":20950749,"reputation":11,"user_id":15392479,"display_name":"SOUMYA RANJAN SIA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770389,"creation_date":1687770389,"answer_id":76555184,"question_id":49752350,"body_markdown":"Please add below line on the top of your specific file in react,\r\n\r\n&gt; /* eslint-disable sonarjs/cognitive-complexity */\r\n\r\n*i have developed react app using eslint, so according to your build platform you can change","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>Please add below line on the top of your specific file in react,</p>\n<blockquote>\n<p>/* eslint-disable sonarjs/cognitive-complexity */</p>\n</blockquote>\n<p>*i have developed react app using eslint, so according to your build platform you can change</p>\n"}],"owner":{"account_id":8018246,"reputation":761,"user_id":6172578,"accept_rate":25,"display_name":"smruti ranjan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110896,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1687770389,"creation_date":1523359295,"question_id":49752350,"body_markdown":"I have the below utility method and I am using multiple if statements and getting cognitive complexity issue. I went through some links, but I am not able to understand how should I change my code without affecting users of this method.\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\r\n        \r\n        String key=null;\r\n        boolean isValidWrapper = false;\r\n        \r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\r\n            &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))\r\n        {\r\n            wrapper= wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;)+1);\r\n        }\r\n        if(wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;)) {\r\n            isValidWrapper=Boolean.TRUE;\r\n        }\r\n        try {\r\n             key = wrapper.getKey();\r\n        }\r\n        catch (Exception exception) {\r\n            return isValidWrapper;\r\n        }\r\n        \r\n        if(key!=null) {\r\n            \r\n            Date tokenExpiryTime = key.getExpiresAt();\r\n     \r\n            if(tokenExpiryTime!=null) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            String algorithm=key.getAlgorithm();\r\n            if(!DESIRED_ALGO.equals(algorithm)) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            String value6=key.getType();\r\n            if(!DESIRED_TYPE.equals(value6)) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            \r\n            if(key.getValue1()!=null &amp;&amp; key.getValue2().size()&gt;0 &amp;&amp; key.getValue3()!=null &amp;&amp; key.getValue4()!=null &amp;&amp; key.getValue5()!=null) {\r\n                isValidWrapper=Boolean.TRUE;\r\n            }\r\n        }\r\n        \r\n        return isValidWrapper;\r\n    }\r\n\r\n\r\nPlease share your suggestions to refactor this code.\r\n\r\n\r\n ","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>I have the below utility method and I am using multiple if statements and getting cognitive complexity issue. I went through some links, but I am not able to understand how should I change my code without affecting users of this method.</p>\n\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\n\n    String key=null;\n    boolean isValidWrapper = false;\n\n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(\"XYZ\"))\n    {\n        wrapper= wrapper.substring(7, wrapper.lastIndexOf('.')+1);\n    }\n    if(wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(\"TFR\")) {\n        isValidWrapper=Boolean.TRUE;\n    }\n    try {\n         key = wrapper.getKey();\n    }\n    catch (Exception exception) {\n        return isValidWrapper;\n    }\n\n    if(key!=null) {\n\n        Date tokenExpiryTime = key.getExpiresAt();\n\n        if(tokenExpiryTime!=null) {\n            return isValidWrapper;\n        }\n\n        String algorithm=key.getAlgorithm();\n        if(!DESIRED_ALGO.equals(algorithm)) {\n            return isValidWrapper;\n        }\n\n        String value6=key.getType();\n        if(!DESIRED_TYPE.equals(value6)) {\n            return isValidWrapper;\n        }\n\n\n        if(key.getValue1()!=null &amp;&amp; key.getValue2().size()&gt;0 &amp;&amp; key.getValue3()!=null &amp;&amp; key.getValue4()!=null &amp;&amp; key.getValue5()!=null) {\n            isValidWrapper=Boolean.TRUE;\n        }\n    }\n\n    return isValidWrapper;\n}\n</code></pre>\n\n<p>Please share your suggestions to refactor this code.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"score":4,"creation_date":1450367301,"post_id":34338635,"comment_id":56418612,"body_markdown":"What you already try to do? Can you show your code?","body":"What you already try to do? Can you show your code?"},{"owner":{"account_id":7427415,"reputation":1113,"user_id":5649485,"display_name":"LordAnomander"},"score":1,"creation_date":1450367388,"post_id":34338635,"comment_id":56418671,"body_markdown":"A few hints: use `indexOf(&quot;-&quot;)` and then check in both directions how many letters there are until a non-alphabetical letter appears. Then you know which characters are relevent for building the two Strings.","body":"A few hints: use <code>indexOf(&quot;-&quot;)</code> and then check in both directions how many letters there are until a non-alphabetical letter appears. Then you know which characters are relevent for building the two Strings."}],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450367838,"creation_date":1450367838,"answer_id":34338890,"question_id":34338635,"body_markdown":"Consider this approach using a regex:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;(\\\\w{3})-(\\\\w{3})&quot;);\r\n\t\tMatcher m = p.matcher(&quot;AB (CDE)_FGH IJK/LMN-OPQ (RST&quot;);\r\n\t\tif(m.find()) {\r\n\t\t\tSystem.out.println(&quot;1: &quot; + m.group(1));\r\n\t\t\tSystem.out.println(&quot;2: &quot; + m.group(2));\r\n\t\t}\r\n    }\r\n\r\nproduces\r\n\r\n    1: LMN\r\n    2: OPQ\r\n\r\nIf your &quot;words&quot; were more then 3 characters long, you might want to change the {3} into + for anything &gt;= 1","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Consider this approach using a regex:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Pattern p = Pattern.compile(\"(\\\\w{3})-(\\\\w{3})\");\n    Matcher m = p.matcher(\"AB (CDE)_FGH IJK/LMN-OPQ (RST\");\n    if(m.find()) {\n        System.out.println(\"1: \" + m.group(1));\n        System.out.println(\"2: \" + m.group(2));\n    }\n}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>1: LMN\n2: OPQ\n</code></pre>\n\n<p>If your \"words\" were more then 3 characters long, you might want to change the {3} into + for anything >= 1</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1450367861,"creation_date":1450367861,"answer_id":34338900,"question_id":34338635,"body_markdown":"So basically you to first split by ``-`` and then each side by a non-word character.\r\n\r\nTherefore you can try:\r\n\r\n    String s = &quot;ABC_DEF-HIJ (KL MNOP_QRS)&quot;;\r\n    String[] splits = s.split(&quot;-&quot;);  // {&quot;ABC_DEF&quot;, &quot;HIJ (KL MNOP_QRS)&quot;}\r\n\r\n    String[] lefts = split[0].split(&quot;[^a-zA-Z]&quot;);  // {&quot;ABC&quot;, &quot;DEF&quot;}\r\n    String[] rights = split[1].split(&quot;[^a-zA-Z]&quot;); // {&quot;HIJ&quot;, &quot;&quot;, &quot;KL&quot;, &quot;MNOP&quot;, &quot;QRS&quot;}\r\n\r\n    String string1 = lefts[lefts.length - 1]; // &quot;DEF&quot;&quot;\r\n    String string2 = rights[0];               // &quot;HIJ&quot;\r\n\r\n\r\n    ","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>So basically you to first split by <code>-</code> and then each side by a non-word character.</p>\n\n<p>Therefore you can try:</p>\n\n<pre><code>String s = \"ABC_DEF-HIJ (KL MNOP_QRS)\";\nString[] splits = s.split(\"-\");  // {\"ABC_DEF\", \"HIJ (KL MNOP_QRS)\"}\n\nString[] lefts = split[0].split(\"[^a-zA-Z]\");  // {\"ABC\", \"DEF\"}\nString[] rights = split[1].split(\"[^a-zA-Z]\"); // {\"HIJ\", \"\", \"KL\", \"MNOP\", \"QRS\"}\n\nString string1 = lefts[lefts.length - 1]; // \"DEF\"\"\nString string2 = rights[0];               // \"HIJ\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450367870,"creation_date":1450367870,"answer_id":34338905,"question_id":34338635,"body_markdown":"Try this:\r\n\r\n    String[] parts = yourString.split(&quot;-&quot;);\r\n    //You can then access each part with: parts[index]\r\n","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Try this:</p>\n\n<pre><code>String[] parts = yourString.split(\"-\");\n//You can then access each part with: parts[index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405233,"reputation":528,"user_id":2101901,"accept_rate":60,"display_name":"MartinCz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450368744,"creation_date":1450368381,"answer_id":34339102,"question_id":34338635,"body_markdown":"    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class StringExtractTest {\r\n\r\n        private static class ExtractResult {\r\n            private ExtractResult(String string1, String string2) {\r\n                this.string1 = string1;\r\n                this.string2 = string2;\r\n            }\r\n            private String string1;\r\n            private String string2;\r\n            public String getString1() {\r\n                return string1;\r\n            }\r\n            public String getString2() {\r\n                return string2;\r\n            }\r\n        }\r\n\r\n        public static ExtractResult extract(String input) {\r\n            Pattern p = Pattern.compile(&quot;([a-zA-Z]+)-([a-zA-Z]+)&quot;);\r\n            Matcher m = p.matcher(input);\r\n            if (m.find()) {\r\n                return new ExtractResult(m.group(1), m.group(2));\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            String inputs[] = {\r\n                    &quot;ABC_DEF-HIJ (KL MNOP_QRS)&quot;,\r\n                    &quot;AB (CDE)_FGH IJK/LMN-OPQ (RST&quot;\r\n            };\r\n            for (String input : inputs) {\r\n                ExtractResult result = extract(input);\r\n                if (result != null) {\r\n                    System.out.println(input + &quot; ... string1 = [&quot; + result.getString1() + &quot;] string2 = [&quot; + result.getString2() + &quot;]&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe output is:\r\n\r\n    ABC_DEF-HIJ (KL MNOP_QRS) ... string1 = [DEF] string2 = [HIJ]\r\n    AB (CDE)_FGH IJK/LMN-OPQ (RST ... string1 = [LMN] string2 = [OPQ]","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringExtractTest {\n\n    private static class ExtractResult {\n        private ExtractResult(String string1, String string2) {\n            this.string1 = string1;\n            this.string2 = string2;\n        }\n        private String string1;\n        private String string2;\n        public String getString1() {\n            return string1;\n        }\n        public String getString2() {\n            return string2;\n        }\n    }\n\n    public static ExtractResult extract(String input) {\n        Pattern p = Pattern.compile(\"([a-zA-Z]+)-([a-zA-Z]+)\");\n        Matcher m = p.matcher(input);\n        if (m.find()) {\n            return new ExtractResult(m.group(1), m.group(2));\n        } else {\n            return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        String inputs[] = {\n                \"ABC_DEF-HIJ (KL MNOP_QRS)\",\n                \"AB (CDE)_FGH IJK/LMN-OPQ (RST\"\n        };\n        for (String input : inputs) {\n            ExtractResult result = extract(input);\n            if (result != null) {\n                System.out.println(input + \" ... string1 = [\" + result.getString1() + \"] string2 = [\" + result.getString2() + \"]\");\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>ABC_DEF-HIJ (KL MNOP_QRS) ... string1 = [DEF] string2 = [HIJ]\nAB (CDE)_FGH IJK/LMN-OPQ (RST ... string1 = [LMN] string2 = [OPQ]\n</code></pre>\n"}],"owner":{"account_id":6771985,"reputation":11,"user_id":5215095,"display_name":"newbieCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":34338900,"answer_count":4,"score":-5,"last_activity_date":1687770351,"creation_date":1450367185,"question_id":34338635,"body_markdown":"Hey I need help splitting a string. The thing is i only need the words between the &quot; - &quot; .\r\nfor example:\r\n \r\n\r\n    ABC_DEF-HIJ (KL MNOP_QRS)\r\n\r\nI need to store DEF in string1 and HIJ in string2\r\n\r\nsome other formats are\r\n\r\n    AB (CDE)_FGH IJK/LMN-OPQ (RST\r\n\r\nhere too string1 = LMN\r\n\r\nstring2 = OPQ\r\n\r\nI only need the words after and before the &quot; - &quot; \r\n","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Hey I need help splitting a string. The thing is i only need the words between the \" - \" .\nfor example:</p>\n\n<pre><code>ABC_DEF-HIJ (KL MNOP_QRS)\n</code></pre>\n\n<p>I need to store DEF in string1 and HIJ in string2</p>\n\n<p>some other formats are</p>\n\n<pre><code>AB (CDE)_FGH IJK/LMN-OPQ (RST\n</code></pre>\n\n<p>here too string1 = LMN</p>\n\n<p>string2 = OPQ</p>\n\n<p>I only need the words after and before the \" - \" </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1462308892,"post_id":37012265,"comment_id":61580551,"body_markdown":"This is an XY problem.  The proper way to get the host from a URL is not with a regular expression, but with `new URI(string).getHost()`.","body":"This is an XY problem.  The proper way to get the host from a URL is not with a regular expression, but with <code>new URI(string).getHost()</code>."}],"answers":[{"tags":[],"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1462302202,"creation_date":1462302202,"answer_id":37012382,"question_id":37012265,"body_markdown":"[use the structure][1] of the URL to fashion very simple regular expression:   \r\n\r\n     http://(.*?)/\r\n\r\n\r\n  [1]: https://regex101.com/r/cH9uD1/1","title":"Regex to extract the ip address from URL","body":"<p><a href=\"https://regex101.com/r/cH9uD1/1\" rel=\"noreferrer\">use the structure</a> of the URL to fashion very simple regular expression:   </p>\n\n<pre><code> http://(.*?)/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462302437,"creation_date":1462302437,"answer_id":37012435,"question_id":37012265,"body_markdown":"Just to show a different way to do this, (though sweaver2112&#39;s answer is much better)...\r\n\r\nYou know the format will be in the form of (http:)//(ipaddress)/(directory)/(directory)... You can split around the `/` and grab the 3 element in the array to get the IP...\r\n\r\n    String url = &quot;http://10.22.14.152/something/api&quot;;\r\n    String[] splitUp = url.split(&quot;/&quot;);\r\n    String ipAddress = splitUp[2];","title":"Regex to extract the ip address from URL","body":"<p>Just to show a different way to do this, (though sweaver2112's answer is much better)...</p>\n\n<p>You know the format will be in the form of (http:)//(ipaddress)/(directory)/(directory)... You can split around the <code>/</code> and grab the 3 element in the array to get the IP...</p>\n\n<pre><code>String url = \"http://10.22.14.152/something/api\";\nString[] splitUp = url.split(\"/\");\nString ipAddress = splitUp[2];\n</code></pre>\n"}],"owner":{"account_id":4095037,"reputation":301,"user_id":3362080,"accept_rate":33,"display_name":"user3362080"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3233,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":37012382,"answer_count":2,"score":2,"last_activity_date":1687769940,"creation_date":1462301782,"question_id":37012265,"body_markdown":"Can anyone guide me on writing regularexp that I would use in my java code for extracting just the ip from \r\n`http://10.22.14.152/something/api` \r\n\r\nexpected result: 10.22.14.152","title":"Regex to extract the ip address from URL","body":"<p>Can anyone guide me on writing regularexp that I would use in my java code for extracting just the ip from \n<code>http://10.22.14.152/something/api</code> </p>\n\n<p>expected result: 10.22.14.152</p>\n"},{"tags":["java","spring-boot","aws-msk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687778230,"post_id":76555114,"comment_id":134979421,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6531837,"reputation":1,"user_id":5052757,"display_name":"Sambhav Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687769854,"creation_date":1687769854,"question_id":76555114,"body_markdown":"I need to connect to MSK Cluster from ec2 but using plain java kafka client library and without sprintboot.\r\nI am getting multiple option using sprintboot but i am looking for a code in plain java without sprintboot.\r\n\r\nI tried https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer code and its working fine but i need in plain java without using Springboot.","title":"How to connect to MSK cluster using Plain Java Kafka Client without Springboot","body":"<p>I need to connect to MSK Cluster from ec2 but using plain java kafka client library and without sprintboot.\nI am getting multiple option using sprintboot but i am looking for a code in plain java without sprintboot.</p>\n<p>I tried <a href=\"https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer\" rel=\"nofollow noreferrer\">https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer</a> code and its working fine but i need in plain java without using Springboot.</p>\n"},{"tags":["java","spring-webflux","api-gateway","service-discovery","spring-boot-testcontainers"],"owner":{"account_id":28891824,"reputation":9,"user_id":22128811,"display_name":"Tomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687768931,"creation_date":1687768182,"question_id":76554898,"body_markdown":"I&#39;m building a system test platform with multiple services in Spring Boot 3 with Maven.\r\n\r\n- I&#39;m using reactive services. Junit, the Failsage plugin, and Testcontainers to run the tests\r\n\r\n- I run my tests in an API Gateway service module with @SpringBootTest and compile them in realtime the other modules and run the in Testcontainers:\r\n  (Discovery Service (Netflix Eureka)), Service A and Service B).\r\n\r\n- I need my tests to run on MacOS and Linux although MacOS is the big challenge.\r\n\r\n**My problem is how I configure my discovery clients so that both API Gateway and Service A would reach Service B while one is a @SpringBootTest running in the host machine and one is a container using feign but both getting the service&#39;s address from Discovery**\r\n[An Illustration of the situation](https://i.stack.imgur.com/uhX5m.png)\r\n\r\n\r\n\r\nThis is how I start my services:\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                          )).withExposedPorts(port)\r\n                .withExtraHost(&quot;host.docker.internal&quot;, &quot;host-gateway&quot;) // host.docker.internal also in Linux\r\n                .withAccessToHost(true)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // I have to force a static port binding because then the port registered in discovery would be wrong\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\nEntrypoint for service A and B: \r\n\r\n```\r\n&quot;java&quot;, &quot;-Dspring.profiles.active=some-profile-a, some-profile-b&quot;,\r\n&quot;-Dspring.data.mongodb.uri=mongodb://localhost:&quot; + MONGO_CONTAINER.getMappedPort(27017),\r\n&quot;-Deureka.client.serviceUrl.defaultZone=http://host.docker.internal:8761/eureka/&quot;,\r\n&quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\r\n```\r\n---\r\n**My different attempts:**\r\n\r\n**1.** I tried registering with the container&#39;s IP and the service port but then only the containers can reach each other but the Gateway can&#39;t reach them because in Mac docker runs in a Linux VM and not directly on the host machine.\r\n\r\nEureka config in each service:\r\n```\r\n@Configuration\r\npublic class EurekaConfig {\r\n\r\n    @NonNull\r\n    Environment environment;\r\n\r\n    @Bean\r\n    public EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) throws UnknownHostException {\r\n        EurekaInstanceConfigBean config = new EurekaInstanceConfigBean(inetUtils);\r\n        String ip = InetAddress.getLocalHost().getHostAddress();\r\n\r\n        String port = environment.getProperty(&quot;server.port&quot;);\r\n        config.setNonSecurePort(Integer.parseInt(port));\r\n        config.setIpAddress(ip);\r\n        config.setPreferIpAddress(false);\r\n\r\n        return config;\r\n    }\r\n}\r\n\r\n```\r\nproperties yaml in each service:\r\n```\r\neureka:\r\n  client:\r\n    should-unregister-on-shutdown: true\r\n    register-with-eureka: true\r\n  instance:\r\n    prefer-ip-address: true\r\n    lease-renewal-interval-in-seconds: 30\r\n```\r\n---\r\n**2.** I tried running all containers in network mode host to run on the docker host (which means the port binding does not take effect), but then we had the same problem as (1). The Gateway can&#39;t reach the docker host as it is running in a VM.\r\n\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamiclly get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                          )).withExposedPorts(port) // does not take effect\r\n                .withNetworkMode(&quot;host&quot;)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // does not take effect\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\n---\r\n**3.** I tried registering as localhost with the service port and adding another localhost to /etc/hosts to each container so it will redirect to the IP of host.docker.internal (the host machine localhost). Then the gateway would reach all services but service A couldn&#39;t reach Service B through feign.\r\n\r\nmy service yaml:\r\n```\r\neureka:\r\n  client:\r\n    should-unregister-on-shutdown: true\r\n    register-with-eureka: true\r\n  instance:\r\n    prefer-ip-address: false\r\n    lease-renewal-interval-in-seconds: 30\r\n    hostname: localhost\r\n    instance-id: localhost:${server.port}\r\n```\r\n---\r\n**4.** I tried registering as localhost with the service port but put all services in the same network and gave it an alias: &quot;localhost&quot;. Then the gateway would reach all services but service A couldn&#39;t reach Service B through Feign because we can&#39;t overwrite localhost and if we try different alias the gateway wouldn&#39;t be able to reach the services.\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                        ))\r\n                .withNetwork(network)\r\n                .withNetworkAliases(&quot;localhost&quot;) // or other alias\r\n                .withExposedPorts(port)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\n\r\n---\r\n\r\n**5.** I tried registering the services with host: host.docker.internal. Then all services managed to reach each other but for the gateway I had to add to my computer&#39;s hosts file host.docker.internal that points to the IP equivalent to localhost.\r\n\r\n**Compromises**\r\n1. I can do approach 5 by adding the host to each machine running my tests\r\n2. Give up on @SpringBootTest and run API-Gateway also in Testcontainers and configure all services in a single network but then we lose all Spring-Test functionalities like debugging and mocking etc.\r\n\r\n\r\n","title":"How to configure Testcontainers to work with a discovery service to work both for API Gateway and Feign","body":"<p>I'm building a system test platform with multiple services in Spring Boot 3 with Maven.</p>\n<ul>\n<li><p>I'm using reactive services. Junit, the Failsage plugin, and Testcontainers to run the tests</p>\n</li>\n<li><p>I run my tests in an API Gateway service module with @SpringBootTest and compile them in realtime the other modules and run the in Testcontainers:\n(Discovery Service (Netflix Eureka)), Service A and Service B).</p>\n</li>\n<li><p>I need my tests to run on MacOS and Linux although MacOS is the big challenge.</p>\n</li>\n</ul>\n<p><strong>My problem is how I configure my discovery clients so that both API Gateway and Service A would reach Service B while one is a @SpringBootTest running in the host machine and one is a container using feign but both getting the service's address from Discovery</strong>\n<a href=\"https://i.stack.imgur.com/uhX5m.png\" rel=\"nofollow noreferrer\">An Illustration of the situation</a></p>\n<p>This is how I start my services:</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                          )).withExposedPorts(port)\n                .withExtraHost(&quot;host.docker.internal&quot;, &quot;host-gateway&quot;) // host.docker.internal also in Linux\n                .withAccessToHost(true)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // I have to force a static port binding because then the port registered in discovery would be wrong\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<p>Entrypoint for service A and B:</p>\n<pre><code>&quot;java&quot;, &quot;-Dspring.profiles.active=some-profile-a, some-profile-b&quot;,\n&quot;-Dspring.data.mongodb.uri=mongodb://localhost:&quot; + MONGO_CONTAINER.getMappedPort(27017),\n&quot;-Deureka.client.serviceUrl.defaultZone=http://host.docker.internal:8761/eureka/&quot;,\n&quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\n</code></pre>\n<hr />\n<p><strong>My different attempts:</strong></p>\n<p><strong>1.</strong> I tried registering with the container's IP and the service port but then only the containers can reach each other but the Gateway can't reach them because in Mac docker runs in a Linux VM and not directly on the host machine.</p>\n<p>Eureka config in each service:</p>\n<pre><code>@Configuration\npublic class EurekaConfig {\n\n    @NonNull\n    Environment environment;\n\n    @Bean\n    public EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) throws UnknownHostException {\n        EurekaInstanceConfigBean config = new EurekaInstanceConfigBean(inetUtils);\n        String ip = InetAddress.getLocalHost().getHostAddress();\n\n        String port = environment.getProperty(&quot;server.port&quot;);\n        config.setNonSecurePort(Integer.parseInt(port));\n        config.setIpAddress(ip);\n        config.setPreferIpAddress(false);\n\n        return config;\n    }\n}\n\n</code></pre>\n<p>properties yaml in each service:</p>\n<pre><code>eureka:\n  client:\n    should-unregister-on-shutdown: true\n    register-with-eureka: true\n  instance:\n    prefer-ip-address: true\n    lease-renewal-interval-in-seconds: 30\n</code></pre>\n<hr />\n<p><strong>2.</strong> I tried running all containers in network mode host to run on the docker host (which means the port binding does not take effect), but then we had the same problem as (1). The Gateway can't reach the docker host as it is running in a VM.</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamiclly get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                          )).withExposedPorts(port) // does not take effect\n                .withNetworkMode(&quot;host&quot;)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // does not take effect\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<hr />\n<p><strong>3.</strong> I tried registering as localhost with the service port and adding another localhost to /etc/hosts to each container so it will redirect to the IP of host.docker.internal (the host machine localhost). Then the gateway would reach all services but service A couldn't reach Service B through feign.</p>\n<p>my service yaml:</p>\n<pre><code>eureka:\n  client:\n    should-unregister-on-shutdown: true\n    register-with-eureka: true\n  instance:\n    prefer-ip-address: false\n    lease-renewal-interval-in-seconds: 30\n    hostname: localhost\n    instance-id: localhost:${server.port}\n</code></pre>\n<hr />\n<p><strong>4.</strong> I tried registering as localhost with the service port but put all services in the same network and gave it an alias: &quot;localhost&quot;. Then the gateway would reach all services but service A couldn't reach Service B through Feign because we can't overwrite localhost and if we try different alias the gateway wouldn't be able to reach the services.</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                        ))\n                .withNetwork(network)\n                .withNetworkAliases(&quot;localhost&quot;) // or other alias\n                .withExposedPorts(port)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<hr />\n<p><strong>5.</strong> I tried registering the services with host: host.docker.internal. Then all services managed to reach each other but for the gateway I had to add to my computer's hosts file host.docker.internal that points to the IP equivalent to localhost.</p>\n<p><strong>Compromises</strong></p>\n<ol>\n<li>I can do approach 5 by adding the host to each machine running my tests</li>\n<li>Give up on @SpringBootTest and run API-Gateway also in Testcontainers and configure all services in a single network but then we lose all Spring-Test functionalities like debugging and mocking etc.</li>\n</ol>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1687353249,"post_id":76523620,"comment_id":134924720,"body_markdown":"Does this answer your question? [POST request via RestTemplate in JSON](https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json\">POST request via RestTemplate in JSON</a>"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1687364402,"post_id":76523620,"comment_id":134927637,"body_markdown":"@M.Rizzo : Im still getting error of invalid payload . please see update 1 . Thanks","body":"@M.Rizzo : Im still getting error of invalid payload . please see update 1 . Thanks"},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":1,"creation_date":1687438674,"post_id":76523620,"comment_id":134939087,"body_markdown":"I think your problem may be that the request structure expected by the backend service is an actual json string not a plain string.  Can you give more details on what the back end is expecting for a request?  You might need to create a JSONObject and then output the string.","body":"I think your problem may be that the request structure expected by the backend service is an actual json string not a plain string.  Can you give more details on what the back end is expecting for a request?  You might need to create a JSONObject and then output the string."}],"answers":[{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687372008,"creation_date":1687372008,"answer_id":76526158,"question_id":76523620,"body_markdown":"had same issue. In my case problem was @RequestBody. It seems that it don&#39;t need @RequestBody when your are accepting simple String as body as you did in your example.\r\n\r\nString body = &quot;Hello World 3&quot;;\r\n\r\n\r\n       @GetMapping\r\n        public String getData(String value) throws Exception {\r\n            return &quot;test response&quot;;\r\n        }","title":"How to set the body in POST call using rest Template","body":"<p>had same issue. In my case problem was @RequestBody. It seems that it don't need @RequestBody when your are accepting simple String as body as you did in your example.</p>\n<p>String body = &quot;Hello World 3&quot;;</p>\n<pre><code>   @GetMapping\n    public String getData(String value) throws Exception {\n        return &quot;test response&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768798,"creation_date":1687768798,"answer_id":76554971,"question_id":76523620,"body_markdown":"You are using `GET` instead of `POST`, Use `HttpMethod.POST` instead of `HttpMethod.GET`.\r\nAnd as per your payload, the message clearly says `400 Bad Request`,\r\ncan even see in the message:\r\n```\r\n&quot;message&quot;:&quot;Unable to read JSON request payload. Please ensure Content-Type header is set and payload is of valid JSON format.&quot;\r\n```\r\n this  should ring the bell.\r\n\r\nYou are sending a plain text as your payload which is not accepted by your calling API.\r\nChange it into proper JSON format. Something like:\r\n```JSON\r\n{\r\n    &quot;field1&quot;: &quot;value1&quot;,\r\n    &quot;field2&quot;: &quot;value2&quot;\r\n}\r\n```\r\n\r\n","title":"How to set the body in POST call using rest Template","body":"<p>You are using <code>GET</code> instead of <code>POST</code>, Use <code>HttpMethod.POST</code> instead of <code>HttpMethod.GET</code>.\nAnd as per your payload, the message clearly says <code>400 Bad Request</code>,\ncan even see in the message:</p>\n<pre><code>&quot;message&quot;:&quot;Unable to read JSON request payload. Please ensure Content-Type header is set and payload is of valid JSON format.&quot;\n</code></pre>\n<p>this  should ring the bell.</p>\n<p>You are sending a plain text as your payload which is not accepted by your calling API.\nChange it into proper JSON format. Something like:</p>\n<pre><code>{\n    &quot;field1&quot;: &quot;value1&quot;,\n    &quot;field2&quot;: &quot;value2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687768798,"creation_date":1687352747,"question_id":76523620,"body_markdown":"I&#39;m trying to execute the URL by making POST http call using rest Template. However, not able to send the message body in the POST request. \r\n\r\nHere is the code: \r\n\r\n    public static void main(String[] args) {\r\n    \t\t\t\t\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\r\n    \t\theaders.setBearerAuth(&quot;token&quot;);\r\n    \t\theaders.add(&quot;Header&quot;, &quot;header1&quot;);\r\n    \t\t\r\n    \t\tUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.message.com/messages&quot;);\r\n    \r\n    \t\tHttpEntity&lt;String&gt; response = restTemplate.exchange(\r\n    \t\t        builder.toUriString(), \r\n    \t\t        HttpMethod.GET,\r\n    \t\t        entity, \r\n    \t\t        String.class);\r\n    \t}\r\n\r\nactually, I&#39;m sending the body using `HttpEntity`  but when Im getting the response, the response is not proper because if the body would have been sent properly, we would have received all the metadata in the response.\r\n\r\nCan someone please suggest on whether it is the right way to set the body in POST request.\r\n\r\n\r\n**UPDATE 1**\r\n\r\nI used below code , still getting error about invalid payload \r\n\r\npublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t    RestTemplate restTemplate = new RestTemplate();\r\n\t\t    HttpHeaders headers = new HttpHeaders();\r\n\t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t    headers.setBearerAuth(&quot;token&quot;);\r\n\t\t    headers.add(&quot;Header&quot;, &quot;header1&quot;);\r\n\t\t    String body = &quot;hello world 4&quot;;\r\n\t\t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(body, headers);\r\n\t\t    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.example.com&quot;);\r\n\t\t    HttpEntity&lt;String&gt; response = restTemplate.exchange(\r\n\t\t            builder.toUriString(),\r\n\t\t            HttpMethod.POST,\r\n\t\t            entity,\r\n\t\t            String.class);\r\n\t\t    System.out.println(response.getBody());\r\n\r\n\t}\r\n\r\ngetting below error : \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.springframework.web.client.HttpClientErrorException$BadRequest:\r\n&gt; 400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\r\n&gt; read JSON request payload. Please ensure Content-Type header is set\r\n&gt; and payload is of valid JSON\r\n&gt; format.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-21T16:17:39&quot;,&quot;request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;,&quot;client-request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;}}}&quot;\r\n&gt; \tat\r\n&gt; org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\r\n&gt; \tat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:24)\r\n\r\n","title":"How to set the body in POST call using rest Template","body":"<p>I'm trying to execute the URL by making POST http call using rest Template. However, not able to send the message body in the POST request.</p>\n<p>Here is the code:</p>\n<pre><code>public static void main(String[] args) {\n                \n        RestTemplate restTemplate = new RestTemplate();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\n        headers.setBearerAuth(&quot;token&quot;);\n        headers.add(&quot;Header&quot;, &quot;header1&quot;);\n        \n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.message.com/messages&quot;);\n\n        HttpEntity&lt;String&gt; response = restTemplate.exchange(\n                builder.toUriString(), \n                HttpMethod.GET,\n                entity, \n                String.class);\n    }\n</code></pre>\n<p>actually, I'm sending the body using <code>HttpEntity</code>  but when Im getting the response, the response is not proper because if the body would have been sent properly, we would have received all the metadata in the response.</p>\n<p>Can someone please suggest on whether it is the right way to set the body in POST request.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I used below code , still getting error about invalid payload</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.setBearerAuth(&quot;token&quot;);\n        headers.add(&quot;Header&quot;, &quot;header1&quot;);\n        String body = &quot;hello world 4&quot;;\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(body, headers);\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.example.com&quot;);\n        HttpEntity&lt;String&gt; response = restTemplate.exchange(\n                builder.toUriString(),\n                HttpMethod.POST,\n                entity,\n                String.class);\n        System.out.println(response.getBody());\n\n}\n</code></pre>\n<p>getting below error :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.springframework.web.client.HttpClientErrorException$BadRequest:\n400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\nread JSON request payload. Please ensure Content-Type header is set\nand payload is of valid JSON\nformat.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-21T16:17:39&quot;,&quot;request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;,&quot;client-request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;}}}&quot;\nat\norg.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\nat\norg.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat\norg.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\nat\norg.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\nat\norg.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\nat\norg.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\nat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:24)</p>\n</blockquote>\n"},{"tags":["java","json","mapreduce"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638869826,"post_id":70257658,"comment_id":124196344,"body_markdown":"json is structured data, if your text is not structured as json, how can you convert it?","body":"json is structured data, if your text is not structured as json, how can you convert it?"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638870914,"post_id":70257658,"comment_id":124196739,"body_markdown":"Is each JSON part necessarily preceded by 2 words? Or at least is OK to assume that there will be no `{`, `}`, `[` or `]` in the text outside the JSON? If yes, then you can extract the JSON part using regex and then process it.","body":"Is each JSON part necessarily preceded by 2 words? Or at least is OK to assume that there will be no <code>{</code>, <code>}</code>, <code>[</code> or <code>]</code> in the text outside the JSON? If yes, then you can extract the JSON part using regex and then process it."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872662,"creation_date":1638871008,"answer_id":70258052,"question_id":70257658,"body_markdown":"Here is a quick example, the idea is to find the `{` character.\r\n\r\nFrom there we know that we are processing a JSON string and start storing next characters.\r\n\r\nThen each time we find a `}` we decrement a counter, and increment it when we find a `{` .\r\n\r\nWhen the counter gets to 0, we know this JSON has ended, we store it and move on to the next JSON string.\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class FindJson {\r\n    \r\n        public static void main(final String[] args) {\r\n    \r\n            String src = &quot;ABCD XYZ         JSON1: { &#39;key1&#39;:&#39;val&#39;, &#39;key2&#39;:{ &#39;key2key1&#39;:&#39;key2val1&#39;,   &#39;key2key2&#39;:&#39;key2val2&#39;} }&quot;\r\n                    + &quot;,  MNO  PQRS   JSON2{...}&quot;;\r\n    \r\n            StringBuilder jsonBuilder = new StringBuilder();\r\n    \r\n            List&lt;String&gt; jsonStrings = new ArrayList&lt;&gt;();\r\n    \r\n            int openingCurlyBraces = 0;\r\n            boolean jsonProcessing = false;\r\n    \r\n            for (int i = 0; i &lt; src.length(); i++) {\r\n    \r\n                char current = src.charAt(i);\r\n    \r\n                switch (current) {\r\n    \r\n                case &#39;{&#39;:\r\n                    openingCurlyBraces++;\r\n                    jsonProcessing = true;\r\n                    break;\r\n                case &#39;}&#39;:\r\n                    openingCurlyBraces--;\r\n    \r\n                    break;\r\n                default:\r\n                    break;\r\n    \r\n                }\r\n    \r\n                if (jsonProcessing) {\r\n                    jsonBuilder.append(current);\r\n    \r\n                    if (openingCurlyBraces == 0) {\r\n    \r\n                        jsonStrings.add(jsonBuilder.toString());\r\n                        jsonBuilder = new StringBuilder();\r\n                        jsonProcessing = false;\r\n    \r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            System.out.println(jsonStrings);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nOutput of the list :\r\n\r\n[{ &#39;key1&#39;:&#39;val&#39;, &#39;key2&#39;:{ &#39;key2key1&#39;:&#39;key2val1&#39;,   &#39;key2key2&#39;:&#39;key2val2&#39;} }, {...}]","title":"Extract multiple JSONs from a string in JAVA","body":"<p>Here is a quick example, the idea is to find the <code>{</code> character.</p>\n<p>From there we know that we are processing a JSON string and start storing next characters.</p>\n<p>Then each time we find a <code>}</code> we decrement a counter, and increment it when we find a <code>{</code> .</p>\n<p>When the counter gets to 0, we know this JSON has ended, we store it and move on to the next JSON string.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class FindJson {\n\n    public static void main(final String[] args) {\n\n        String src = &quot;ABCD XYZ         JSON1: { 'key1':'val', 'key2':{ 'key2key1':'key2val1',   'key2key2':'key2val2'} }&quot;\n                + &quot;,  MNO  PQRS   JSON2{...}&quot;;\n\n        StringBuilder jsonBuilder = new StringBuilder();\n\n        List&lt;String&gt; jsonStrings = new ArrayList&lt;&gt;();\n\n        int openingCurlyBraces = 0;\n        boolean jsonProcessing = false;\n\n        for (int i = 0; i &lt; src.length(); i++) {\n\n            char current = src.charAt(i);\n\n            switch (current) {\n\n            case '{':\n                openingCurlyBraces++;\n                jsonProcessing = true;\n                break;\n            case '}':\n                openingCurlyBraces--;\n\n                break;\n            default:\n                break;\n\n            }\n\n            if (jsonProcessing) {\n                jsonBuilder.append(current);\n\n                if (openingCurlyBraces == 0) {\n\n                    jsonStrings.add(jsonBuilder.toString());\n                    jsonBuilder = new StringBuilder();\n                    jsonProcessing = false;\n\n                }\n            }\n\n        }\n\n        System.out.println(jsonStrings);\n\n    }\n\n}\n</code></pre>\n<p>Output of the list :</p>\n<p>[{ 'key1':'val', 'key2':{ 'key2key1':'key2val1',   'key2key2':'key2val2'} }, {...}]</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873362,"creation_date":1638873362,"answer_id":70258618,"question_id":70257658,"body_markdown":"JSON uses double-quoted strings. If you cannot change this, you will have to replace single quotes with double quotes.\r\n\r\nFinding the beginning of a JSON object is easy: You can use a regexp:\r\n\r\n    Pattern re = Pattern.compile(&quot;JSON([0-9]+):&quot;);\r\n    Matcher matcher = re.matcher(input);\r\n    if (matcher.find()) {\r\n       // etc...\r\n    }\r\n\r\nFinding the end of the JSON is less easy: you cannot use a regexp because it can contain nested structures. This solution defines a method `extractJson` that finds the end of the object, and replaces single quotes with double quotes. The resulting string can be fed to your favorite JSON parser:\r\n\r\n        Matcher matcher = re.matcher(input);\r\n        int index = 0;\r\n        while (matcher.find(index)) {\r\n            int start = matcher.end();\r\n            StringBuilder buf = new StringBuilder();\r\n            index = extractJson(input, start, buf);\r\n            String json = buf.toString();\r\n            // do something with json\r\n        }\r\n\r\n    ...\r\n\r\n    private static int extractJson(String input, int index, StringBuilder buf) {\r\n        int bracketLevel = 0;\r\n        int st = 0;\r\n        while (index &lt; input.length()) {\r\n            char c = input.charAt(index++);\r\n            switch (st) {\r\n                case 0:\r\n                    switch (c) {\r\n                        case &#39;{&#39;:\r\n                            buf.append(c);\r\n                            ++bracketLevel;\r\n                            break;\r\n                        case &#39;}&#39;:\r\n                            buf.append(c);\r\n                            --bracketLevel;\r\n                            if (bracketLevel &lt;= 0) {\r\n                                return index;\r\n                            }\r\n                            break;\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(&#39;&quot;&#39;);\r\n                            st = 1;\r\n                            break;\r\n                        default:\r\n                            buf.append(c);\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    switch (c) {\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(&#39;&quot;&#39;);\r\n                            st = 0;\r\n                            break;\r\n                        case &#39;&quot;&#39;:\r\n                            buf.append(&#39;\\\\&#39;);\r\n                            buf.append(c);\r\n                            break;\r\n                         case &#39;\\\\&#39;:\r\n                            st = 2;\r\n                            break;\r\n                        default:\r\n                            buf.append(c);\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    switch (c) {\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(c);\r\n                            st = 1;\r\n                            break;\r\n                        default:\r\n                            buf.append(&#39;\\\\&#39;);\r\n                            buf.append(c);\r\n                            st = 1;\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n","title":"Extract multiple JSONs from a string in JAVA","body":"<p>JSON uses double-quoted strings. If you cannot change this, you will have to replace single quotes with double quotes.</p>\n<p>Finding the beginning of a JSON object is easy: You can use a regexp:</p>\n<pre><code>Pattern re = Pattern.compile(&quot;JSON([0-9]+):&quot;);\nMatcher matcher = re.matcher(input);\nif (matcher.find()) {\n   // etc...\n}\n</code></pre>\n<p>Finding the end of the JSON is less easy: you cannot use a regexp because it can contain nested structures. This solution defines a method <code>extractJson</code> that finds the end of the object, and replaces single quotes with double quotes. The resulting string can be fed to your favorite JSON parser:</p>\n<pre><code>    Matcher matcher = re.matcher(input);\n    int index = 0;\n    while (matcher.find(index)) {\n        int start = matcher.end();\n        StringBuilder buf = new StringBuilder();\n        index = extractJson(input, start, buf);\n        String json = buf.toString();\n        // do something with json\n    }\n\n...\n\nprivate static int extractJson(String input, int index, StringBuilder buf) {\n    int bracketLevel = 0;\n    int st = 0;\n    while (index &lt; input.length()) {\n        char c = input.charAt(index++);\n        switch (st) {\n            case 0:\n                switch (c) {\n                    case '{':\n                        buf.append(c);\n                        ++bracketLevel;\n                        break;\n                    case '}':\n                        buf.append(c);\n                        --bracketLevel;\n                        if (bracketLevel &lt;= 0) {\n                            return index;\n                        }\n                        break;\n                    case '\\'':\n                        buf.append('&quot;');\n                        st = 1;\n                        break;\n                    default:\n                        buf.append(c);\n                        break;\n                }\n                break;\n            case 1:\n                switch (c) {\n                    case '\\'':\n                        buf.append('&quot;');\n                        st = 0;\n                        break;\n                    case '&quot;':\n                        buf.append('\\\\');\n                        buf.append(c);\n                        break;\n                     case '\\\\':\n                        st = 2;\n                        break;\n                    default:\n                        buf.append(c);\n                }\n                break;\n            case 2:\n                switch (c) {\n                    case '\\'':\n                        buf.append(c);\n                        st = 1;\n                        break;\n                    default:\n                        buf.append('\\\\');\n                        buf.append(c);\n                        st = 1;\n                        break;\n                }\n                break;\n        }\n    }\n    return index;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15446822,"reputation":11,"user_id":11143528,"display_name":"st liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768156,"creation_date":1687768156,"answer_id":76554896,"question_id":70257658,"body_markdown":"```\r\n public static List&lt;LogObject&gt; parse(String str) {\r\n        if (StringUtils.isAllBlank(str)) {\r\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\r\n        }\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        int size = str.length();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            char c = str.charAt(i);\r\n            if (c == &#39;{&#39; || c == &#39;}&#39; || c == &#39;[&#39; || c == &#39;]&#39;) {\r\n                list.add(i);\r\n            }\r\n        }\r\n        List&lt;Group&gt; res = Lists.newLinkedList();\r\n        for (int i = 0; i &lt; list.size() - 1; i++) {\r\n            int j = list.size() - 1;\r\n            Integer lIndex = list.get(i), jIndex;\r\n            char l = str.charAt(list.get(i)), r;\r\n            if (l == &#39;{&#39;) {\r\n                while (i &lt; j) {\r\n                    jIndex = list.get(j);\r\n                    r = str.charAt(list.get(j));\r\n                    if (r == &#39;}&#39;) {\r\n                        String substring = str.substring(lIndex, jIndex + 1);\r\n                        if (isValidJSON(substring)) {\r\n                            res.add(new Group(lIndex, jIndex));\r\n                            i = j ;\r\n                        }\r\n                    }\r\n                    j--;\r\n                }\r\n            } else if (l == &#39;[&#39;) {\r\n                while (i &lt; j) {\r\n                    jIndex = list.get(j);\r\n                    r = str.charAt(list.get(j));\r\n                    if (r == &#39;]&#39;) {\r\n                        String substring = str.substring(lIndex, jIndex + 1);\r\n                        if (isValidJSON(substring)) {\r\n                            res.add(new Group(lIndex, jIndex));\r\n                            i = j ;\r\n                        }\r\n                    }\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n        if (res.size() == 0) {\r\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\r\n        }\r\n        List&lt;LogObject&gt; resObjece = Lists.newLinkedList();\r\n        Integer index = 0;\r\n        for (Group re : res) {\r\n            if (re.left &gt; index) {\r\n                resObjece.add(new LogObject(StrType.STRING, str.substring(index, re.left)));\r\n            }\r\n            resObjece.add(new LogObject(StrType.JSON, str.substring(re.left, re.right + 1)));\r\n            index = re.right + 1;\r\n        }\r\n        if (index != size) {\r\n            resObjece.add(new LogObject(StrType.STRING, str.substring(index, size)));\r\n        }\r\n        return resObjece;\r\n    }\r\n\r\n    public static boolean isValidJSON(final String json) {\r\n        try {\r\n            final JsonParser parser = new ObjectMapper().getJsonFactory().createJsonParser(json);\r\n            while (parser.nextToken() != null) {\r\n            }\r\n            return true;\r\n        } catch (IOException jpe) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    private static class Group {\r\n        private Integer left;\r\n        private Integer right;\r\n\r\n        public Group(Integer left, Integer right) {\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n\r\n        public Integer getLeft() {\r\n            return left;\r\n        }\r\n\r\n        public void setLeft(Integer left) {\r\n            this.left = left;\r\n        }\r\n\r\n        public Integer getRight() {\r\n            return right;\r\n        }\r\n\r\n        public void setRight(Integer right) {\r\n            this.right = right;\r\n        }\r\n    }\r\n```\r\n\r\n```\r\npackage com.liust.json.model;\r\n\r\npublic class LogObject {\r\n\r\n    private StrType strType;\r\n\r\n    private String value;\r\n\r\n    public LogObject(StrType strType, String value) {\r\n        this.strType = strType;\r\n        this.value = value;\r\n    }\r\n\r\n    public StrType getStrType() {\r\n        return strType;\r\n    }\r\n\r\n    public void setStrType(StrType strType) {\r\n        this.strType = strType;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.liust.json.model;\r\n\r\npublic enum StrType {\r\n\r\n    STRING,\r\n    JSON,\r\n    INTEGER;\r\n    StrType() {\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.name();\r\n    }\r\n}\r\n\r\n```","title":"Extract multiple JSONs from a string in JAVA","body":"<pre><code> public static List&lt;LogObject&gt; parse(String str) {\n        if (StringUtils.isAllBlank(str)) {\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\n        }\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        int size = str.length();\n        for (int i = 0; i &lt; size; i++) {\n            char c = str.charAt(i);\n            if (c == '{' || c == '}' || c == '[' || c == ']') {\n                list.add(i);\n            }\n        }\n        List&lt;Group&gt; res = Lists.newLinkedList();\n        for (int i = 0; i &lt; list.size() - 1; i++) {\n            int j = list.size() - 1;\n            Integer lIndex = list.get(i), jIndex;\n            char l = str.charAt(list.get(i)), r;\n            if (l == '{') {\n                while (i &lt; j) {\n                    jIndex = list.get(j);\n                    r = str.charAt(list.get(j));\n                    if (r == '}') {\n                        String substring = str.substring(lIndex, jIndex + 1);\n                        if (isValidJSON(substring)) {\n                            res.add(new Group(lIndex, jIndex));\n                            i = j ;\n                        }\n                    }\n                    j--;\n                }\n            } else if (l == '[') {\n                while (i &lt; j) {\n                    jIndex = list.get(j);\n                    r = str.charAt(list.get(j));\n                    if (r == ']') {\n                        String substring = str.substring(lIndex, jIndex + 1);\n                        if (isValidJSON(substring)) {\n                            res.add(new Group(lIndex, jIndex));\n                            i = j ;\n                        }\n                    }\n                    j--;\n                }\n            }\n        }\n        if (res.size() == 0) {\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\n        }\n        List&lt;LogObject&gt; resObjece = Lists.newLinkedList();\n        Integer index = 0;\n        for (Group re : res) {\n            if (re.left &gt; index) {\n                resObjece.add(new LogObject(StrType.STRING, str.substring(index, re.left)));\n            }\n            resObjece.add(new LogObject(StrType.JSON, str.substring(re.left, re.right + 1)));\n            index = re.right + 1;\n        }\n        if (index != size) {\n            resObjece.add(new LogObject(StrType.STRING, str.substring(index, size)));\n        }\n        return resObjece;\n    }\n\n    public static boolean isValidJSON(final String json) {\n        try {\n            final JsonParser parser = new ObjectMapper().getJsonFactory().createJsonParser(json);\n            while (parser.nextToken() != null) {\n            }\n            return true;\n        } catch (IOException jpe) {\n            return false;\n        }\n    }\n\n\n    private static class Group {\n        private Integer left;\n        private Integer right;\n\n        public Group(Integer left, Integer right) {\n            this.left = left;\n            this.right = right;\n        }\n\n        public Integer getLeft() {\n            return left;\n        }\n\n        public void setLeft(Integer left) {\n            this.left = left;\n        }\n\n        public Integer getRight() {\n            return right;\n        }\n\n        public void setRight(Integer right) {\n            this.right = right;\n        }\n    }\n</code></pre>\n<pre><code>package com.liust.json.model;\n\npublic class LogObject {\n\n    private StrType strType;\n\n    private String value;\n\n    public LogObject(StrType strType, String value) {\n        this.strType = strType;\n        this.value = value;\n    }\n\n    public StrType getStrType() {\n        return strType;\n    }\n\n    public void setStrType(StrType strType) {\n        this.strType = strType;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n\n</code></pre>\n<pre><code>package com.liust.json.model;\n\npublic enum StrType {\n\n    STRING,\n    JSON,\n    INTEGER;\n    StrType() {\n    }\n\n    @Override\n    public String toString() {\n        return this.name();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19789009,"reputation":9,"user_id":14492378,"display_name":"CHAITANYA PRASAD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1687768156,"creation_date":1638869334,"question_id":70257658,"body_markdown":"I have a string of the below format\r\n-----------------------------------\r\n\r\n    &quot;ABCD XYZ\r\n    JSON1: {\r\n    &#39;key1&#39;:&#39;val&#39;,\r\n    &#39;key2&#39;:{\r\n    &#39;key2key1&#39;:&#39;key2val1&#39;,\r\n    &#39;key2key2&#39;:&#39;key2val2&#39;}\r\n    },\r\n    MNO\r\n    PQRS\r\n    JSON2{...}&quot;\r\n\r\nI need to extract Each JSON from such a string. I am not aware of the text before starting JSON. How to extract them","title":"Extract multiple JSONs from a string in JAVA","body":"<h2>I have a string of the below format</h2>\n<pre><code>&quot;ABCD XYZ\nJSON1: {\n'key1':'val',\n'key2':{\n'key2key1':'key2val1',\n'key2key2':'key2val2'}\n},\nMNO\nPQRS\nJSON2{...}&quot;\n</code></pre>\n<p>I need to extract Each JSON from such a string. I am not aware of the text before starting JSON. How to extract them</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","spring-thymeleaf"],"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687624194,"post_id":76546141,"comment_id":134964134,"body_markdown":"Why not simply retrieve the gameId as param of second method?","body":"Why not simply retrieve the gameId as param of second method?"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687628548,"post_id":76546141,"comment_id":134964690,"body_markdown":"request param? I got error.","body":"request param? I got error."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687631669,"post_id":76546141,"comment_id":134965040,"body_markdown":"@ttt you can add gameId in the RequestParam like you have done it for coachId","body":"@ttt you can add gameId in the RequestParam like you have done it for coachId"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687631976,"post_id":76546141,"comment_id":134965062,"body_markdown":"@SachinMewar tried and got error that gameId is missing.","body":"@SachinMewar tried and got error that gameId is missing."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687657836,"post_id":76546141,"comment_id":134967016,"body_markdown":"Have you added @RequestParam gameId in your controller method?","body":"Have you added @RequestParam gameId in your controller method?"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687664783,"post_id":76546141,"comment_id":134967360,"body_markdown":"Did you try it like this? `public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @RequestParam(gameId) Long gameId)`","body":"Did you try it like this? <code>public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @RequestParam(gameId) Long gameId)</code>"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687682560,"post_id":76546141,"comment_id":134968497,"body_markdown":"@meridbt, yes, exactly, got an error as mentioned that this&#39;s not present. Even though I keep gameId in the experts.html.","body":"@meridbt, yes, exactly, got an error as mentioned that this&#39;s not present. Even though I keep gameId in the experts.html."},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687695703,"post_id":76546141,"comment_id":134969661,"body_markdown":"Show the code how you call `showForm` method","body":"Show the code how you call <code>showForm</code> method"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687702943,"post_id":76546141,"comment_id":134970529,"body_markdown":"@meridbt, sorry , already solve it. Changed to PostMapping.","body":"@meridbt, sorry , already solve it. Changed to PostMapping."}],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768082,"creation_date":1687768082,"answer_id":76554879,"question_id":76546141,"body_markdown":"There are several ways to achive it.\r\n\r\n1. As mentioned in the comments you can pass the &quot;gameId&quot; parameter as a @RequestParam in showForm:\r\n\r\n```\r\n@GetMapping(&quot;/reservations/form&quot;)\r\n    public String showForm(Model model, @RequestParam(&quot;gameId&quot;) Long gameId, @RequestParam(&quot;coachId&quot;) Long coachId) {\r\n```\r\n\r\n2. You could also put &quot;gameId&quot; in session, making it available in the second method:\r\n\r\n```\r\n@Controller\r\n@SessionAttributes(&quot;gameId&quot;)\r\npublic class SomeController {\r\n\r\n  @GetMapping(&quot;/reservations/chooseExpert&quot;)\r\n  public String chooseExpert(Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\r\n    String gameName = gameService.getGameById(gameId).getName();\r\n    List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\r\n\r\n    model.addAttribute(&quot;gameId&quot;, gameId);\r\n    model.addAttribute(&quot;experts&quot;, experts);\r\n    model.addAttribute(&quot;gameName&quot;, gameName);\r\n\r\n    return &quot;experts.html&quot;;\r\n  }\r\n\r\n  @GetMapping(&quot;/reservations/form&quot;)\r\n  public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @ModelAttribute(&quot;gameId&quot;) String gameId) {\r\n    ...\r\n  }\r\n\r\n}\r\n```","title":"How to access parameters from another controller without redirecting? Spring","body":"<p>There are several ways to achive it.</p>\n<ol>\n<li>As mentioned in the comments you can pass the &quot;gameId&quot; parameter as a @RequestParam in showForm:</li>\n</ol>\n<pre><code>@GetMapping(&quot;/reservations/form&quot;)\n    public String showForm(Model model, @RequestParam(&quot;gameId&quot;) Long gameId, @RequestParam(&quot;coachId&quot;) Long coachId) {\n</code></pre>\n<ol start=\"2\">\n<li>You could also put &quot;gameId&quot; in session, making it available in the second method:</li>\n</ol>\n<pre><code>@Controller\n@SessionAttributes(&quot;gameId&quot;)\npublic class SomeController {\n\n  @GetMapping(&quot;/reservations/chooseExpert&quot;)\n  public String chooseExpert(Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\n    String gameName = gameService.getGameById(gameId).getName();\n    List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\n\n    model.addAttribute(&quot;gameId&quot;, gameId);\n    model.addAttribute(&quot;experts&quot;, experts);\n    model.addAttribute(&quot;gameName&quot;, gameName);\n\n    return &quot;experts.html&quot;;\n  }\n\n  @GetMapping(&quot;/reservations/form&quot;)\n  public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @ModelAttribute(&quot;gameId&quot;) String gameId) {\n    ...\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687768082,"creation_date":1687611041,"question_id":76546141,"body_markdown":"Controllers:\r\n\r\n```\r\n    @GetMapping(&quot;/reservations/chooseExpert&quot;)\r\n    public String chooseExpert( Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\r\n        String gameName = gameService.getGameById(gameId).getName();\r\n        List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\r\n\r\n        model.addAttribute(&quot;gameId&quot;, gameId);\r\n        model.addAttribute(&quot;experts&quot;, experts);\r\n        model.addAttribute(&quot;gameName&quot;, gameName);\r\n\r\n        return &quot;experts.html&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/reservations/form&quot;)\r\n    public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId) {\r\n        Coach coach = coachService.getCoachNameById(coachId);\r\n        model.addAttribute(&quot;coach&quot;, coach);\r\n        return &quot;form.html&quot;;\r\n    }\r\n```\r\nI need to get **gameId** in second controller, are there any ways?\r\n\r\nRedirecting will definitely not help in this case. Any suggestions?","title":"How to access parameters from another controller without redirecting? Spring","body":"<p>Controllers:</p>\n<pre><code>    @GetMapping(&quot;/reservations/chooseExpert&quot;)\n    public String chooseExpert( Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\n        String gameName = gameService.getGameById(gameId).getName();\n        List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\n\n        model.addAttribute(&quot;gameId&quot;, gameId);\n        model.addAttribute(&quot;experts&quot;, experts);\n        model.addAttribute(&quot;gameName&quot;, gameName);\n\n        return &quot;experts.html&quot;;\n    }\n\n    @GetMapping(&quot;/reservations/form&quot;)\n    public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId) {\n        Coach coach = coachService.getCoachNameById(coachId);\n        model.addAttribute(&quot;coach&quot;, coach);\n        return &quot;form.html&quot;;\n    }\n</code></pre>\n<p>I need to get <strong>gameId</strong> in second controller, are there any ways?</p>\n<p>Redirecting will definitely not help in this case. Any suggestions?</p>\n"},{"tags":["java","android","kotlin","android-activity","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687763867,"creation_date":1687763867,"answer_id":76554353,"question_id":76554284,"body_markdown":"Information is too scarce...\r\n\r\n\r\n    packageManager.getLaunchIntentForPackage()\r\n\r\nHow would you like to try this code?","title":"Activity not launching from a class that has extended Accessibility Service only in android version 12","body":"<p>Information is too scarce...</p>\n<pre><code>packageManager.getLaunchIntentForPackage()\n</code></pre>\n<p>How would you like to try this code?</p>\n"}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687767990,"creation_date":1687763310,"question_id":76554284,"body_markdown":"I have a class that extends accessibility service and in some certain conditions an activity needs to be launched. In 10,11,13 it works fine and activity launches but in android 12. When logged i get these\r\n```\r\nTimeline: Activity_launch_request time:29189610\r\n```\r\n\r\nCode to launch the activity.\r\n```\r\n private fun launchBlockingActivity(appName: String, appPackage: String?) {\r\n        val context = application.applicationContext\r\n        val blockedIntent = Intent(context, ActivityBlocked::class.java)\r\n        blockedIntent.addFlags(FLAG_ACTIVITY_NEW_TASK or FLAG_ACTIVITY_CLEAR_TASK)\r\n        blockedIntent.putExtra(this.getString(R.string.appName), appName)\r\n        blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\r\n        context.startActivity(blockedIntent)\r\n    }\r\n```\r\n\r\n\r\nI tried using ContextCompat to launch but it didn&#39;t worked as well, what to do?","title":"Activity not launching from a class that has extended Accessibility Service only in android version 12","body":"<p>I have a class that extends accessibility service and in some certain conditions an activity needs to be launched. In 10,11,13 it works fine and activity launches but in android 12. When logged i get these</p>\n<pre><code>Timeline: Activity_launch_request time:29189610\n</code></pre>\n<p>Code to launch the activity.</p>\n<pre><code> private fun launchBlockingActivity(appName: String, appPackage: String?) {\n        val context = application.applicationContext\n        val blockedIntent = Intent(context, ActivityBlocked::class.java)\n        blockedIntent.addFlags(FLAG_ACTIVITY_NEW_TASK or FLAG_ACTIVITY_CLEAR_TASK)\n        blockedIntent.putExtra(this.getString(R.string.appName), appName)\n        blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\n        context.startActivity(blockedIntent)\n    }\n</code></pre>\n<p>I tried using ContextCompat to launch but it didn't worked as well, what to do?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687763615,"post_id":76554312,"comment_id":134976591,"body_markdown":"You mean you want to serialise `value` as an `int`?","body":"You mean you want to serialise <code>value</code> as an <code>int</code>?"},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687763645,"post_id":76554312,"comment_id":134976599,"body_markdown":"No, it should still be a `String`.","body":"No, it should still be a <code>String</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687763724,"post_id":76554312,"comment_id":134976622,"body_markdown":"Well, `1234` without the quotes is not a JSON string. It&#39;s a number.","body":"Well, <code>1234</code> without the quotes is not a JSON string. It&#39;s a number."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687860316,"post_id":76554312,"comment_id":134992467,"body_markdown":"I&#39;m aware of the fact that what I&#39;m aiming for would not be valid JSON anymore. I was just hoping that there could be an approach similar to the ones given for example [here](https://stackoverflow.com/questions/28646572/faster-xml-jackson-remove-double-quotes), which work directly on the node tree. Using `1234` as an example was probably a bad idea, `ABC` could have made the intent more clear.","body":"I&#39;m aware of the fact that what I&#39;m aiming for would not be valid JSON anymore. I was just hoping that there could be an approach similar to the ones given for example <a href=\"https://stackoverflow.com/questions/28646572/faster-xml-jackson-remove-double-quotes\">here</a>, which work directly on the node tree. Using <code>1234</code> as an example was probably a bad idea, <code>ABC</code> could have made the intent more clear."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687860629,"post_id":76554312,"comment_id":134992530,"body_markdown":"Just to give an idea where my requirement comes from: I&#39;ve been using such value types inside other Java Beans that are (de-)serialized with Jackson. In this context, creating valid JSON is mandatory, so the double quotes for a field value have to be present.\n\nBut now I wanted to use the same value types (hence no modification to the existing ones should be made) as `@RequestParam` method parameters for Feign client interfaces. And in this context, the double quotes get in the way because they become part of the URL (e.g. `GET /third-party-service/elements?value=&quot;ABC&quot;`).","body":"Just to give an idea where my requirement comes from: I&#39;ve been using such value types inside other Java Beans that are (de-)serialized with Jackson. In this context, creating valid JSON is mandatory, so the double quotes for a field value have to be present.  But now I wanted to use the same value types (hence no modification to the existing ones should be made) as <code>@RequestParam</code> method parameters for Feign client interfaces. And in this context, the double quotes get in the way because they become part of the URL (e.g. <code>GET &#47;third-party-service&#47;elements?value=&quot;ABC&quot;</code>)."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687869388,"post_id":76554312,"comment_id":134994489,"body_markdown":"@HeinBl&#246;d You cannot expect a JSON library to generate invalid JSON. If it could, that would be a bug.","body":"@HeinBl&#246;d You cannot expect a JSON library to generate invalid JSON. If it could, that would be a bug."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764034,"creation_date":1687764034,"answer_id":76554373,"question_id":76554312,"body_markdown":"What you are proposing isn&#39;t valid JSON. Strings are always quoted. If you want an `int` value in your JSON, you have to make it an `int` in the JSON object. Or, perhaps, you can get away with a custom serializer for `ValueType`, which does the conversion. But you&#39;d be working against the system, which is never a good idea.","title":"Jackson - Serialize type with @JsonValue to plain string without double quotes","body":"<p>What you are proposing isn't valid JSON. Strings are always quoted. If you want an <code>int</code> value in your JSON, you have to make it an <code>int</code> in the JSON object. Or, perhaps, you can get away with a custom serializer for <code>ValueType</code>, which does the conversion. But you'd be working against the system, which is never a good idea.</p>\n"}],"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687767933,"creation_date":1687763551,"question_id":76554312,"body_markdown":"I&#39;m trying to find a generic way to serialize value objects that make use of `@JsonValue` to a plain string. In particular, I need to suppress the double quotes that Jackson creates. Example:\r\n\r\n    class Scratch\r\n    {\r\n       public static class ValueType\r\n       {\r\n          @JsonValue\r\n          private final String value;\r\n    \r\n          public ValueType( String value )\r\n          {\r\n             this.value = value;\r\n          }\r\n       }\r\n    \r\n       public static void main( String[] args ) throws IOException\r\n       {\r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          ValueType valueType = new ValueType( &quot;1234&quot; );\r\n          String plainValue = objectMapper.writeValueAsString( valueType );\r\n          System.out.println( plainValue ); // prints &#39;&quot;1234&quot;&#39;, should print &#39;1234&#39;\r\n       }\r\n    }\r\n\r\nInstead of `&quot;1234&quot;`, I want the variable `plainValue` to hold the plain value only, i.e. `1234`. Of course I could just strip the double quotes after the string was created, but I was hoping there could be a simple way to directly serialize the object to the required output?\r\n\r\nNote that modifying `ValueType` is not an option, so for example I cannot add `@JsonRawValue`.\r\n","title":"Jackson - Serialize type with @JsonValue to plain string without double quotes","body":"<p>I'm trying to find a generic way to serialize value objects that make use of <code>@JsonValue</code> to a plain string. In particular, I need to suppress the double quotes that Jackson creates. Example:</p>\n<pre><code>class Scratch\n{\n   public static class ValueType\n   {\n      @JsonValue\n      private final String value;\n\n      public ValueType( String value )\n      {\n         this.value = value;\n      }\n   }\n\n   public static void main( String[] args ) throws IOException\n   {\n      ObjectMapper objectMapper = new ObjectMapper();\n      ValueType valueType = new ValueType( &quot;1234&quot; );\n      String plainValue = objectMapper.writeValueAsString( valueType );\n      System.out.println( plainValue ); // prints '&quot;1234&quot;', should print '1234'\n   }\n}\n</code></pre>\n<p>Instead of <code>&quot;1234&quot;</code>, I want the variable <code>plainValue</code> to hold the plain value only, i.e. <code>1234</code>. Of course I could just strip the double quotes after the string was created, but I was hoping there could be a simple way to directly serialize the object to the required output?</p>\n<p>Note that modifying <code>ValueType</code> is not an option, so for example I cannot add <code>@JsonRawValue</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687757333,"post_id":76553551,"comment_id":134975620,"body_markdown":"you can refer to this link https://stackoverflow.com/questions/61472442/spring-jpa-update-and-return-the-updated-data  ..... Modifying query always returns the number of rows that has been updated because under the hood only one update query will execute with where clause.","body":"you can refer to this link <a href=\"https://stackoverflow.com/questions/61472442/spring-jpa-update-and-return-the-updated-data\" title=\"spring jpa update and return the updated data\">stackoverflow.com/questions/61472442/&hellip;</a>  ..... Modifying query always returns the number of rows that has been updated because under the hood only one update query will execute with where clause."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687757692,"post_id":76553551,"comment_id":134975679,"body_markdown":"https://stackoverflow.com/questions/49690671/spring-data-repository-query-update-and-return-modified-entity?noredirect=1&amp;lq=1 refer this link.","body":"<a href=\"https://stackoverflow.com/questions/49690671/spring-data-repository-query-update-and-return-modified-entity?noredirect=1&amp;lq=1\" title=\"spring data repository query update and return modified entity\">stackoverflow.com/questions/49690671/&hellip;</a> refer this link."}],"answers":[{"tags":[],"owner":{"account_id":17961884,"reputation":41,"user_id":13052677,"display_name":"Diallo Mamadou Path&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687767755,"creation_date":1687767755,"answer_id":76554845,"question_id":76553551,"body_markdown":"As the error says Modifying queries can only use void or int/Integer as return type you can only return void or an integer/int that signify how many rows has been updated by the query.\r\n\r\nSo you can&#39;t return &#224; list of objects with this method","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>As the error says Modifying queries can only use void or int/Integer as return type you can only return void or an integer/int that signify how many rows has been updated by the query.</p>\n<p>So you can't return à list of objects with this method</p>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687767845,"creation_date":1687767845,"answer_id":76554857,"question_id":76553551,"body_markdown":"You can use the `@Query` annotation to execute custom update queries, and return the modified list of entities using the `RETURNING` keyword **for databases that support it**.\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n        \r\n        @Query(value = &quot;UPDATE my_entity SET my_field = :newValue WHERE id IN :ids RETURNING id&quot;, nativeQuery = true)\r\n        List&lt;Long&gt; updateMyFieldByIdsAndReturnIds(@Param(&quot;newVal&quot;) String newVal, @Param(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n    }\r\n\r\nNote that the `nativeQuery` attribute of the `@Query` annotation is set to `true` to indicate that we are using a native SQL query instead of a JPQL query. Also, make sure to use the correct syntax for your database when using native queries.\r\n\r\nThis method returns a list of `Long` values which represent the ids of the entities that were updated and it is important that you database support this concept\r\n","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>You can use the <code>@Query</code> annotation to execute custom update queries, and return the modified list of entities using the <code>RETURNING</code> keyword <strong>for databases that support it</strong>.</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n    \n    @Query(value = &quot;UPDATE my_entity SET my_field = :newValue WHERE id IN :ids RETURNING id&quot;, nativeQuery = true)\n    List&lt;Long&gt; updateMyFieldByIdsAndReturnIds(@Param(&quot;newVal&quot;) String newVal, @Param(&quot;ids&quot;) List&lt;Long&gt; ids);\n}\n</code></pre>\n<p>Note that the <code>nativeQuery</code> attribute of the <code>@Query</code> annotation is set to <code>true</code> to indicate that we are using a native SQL query instead of a JPQL query. Also, make sure to use the correct syntax for your database when using native queries.</p>\n<p>This method returns a list of <code>Long</code> values which represent the ids of the entities that were updated and it is important that you database support this concept</p>\n"}],"owner":{"account_id":28894918,"reputation":1,"user_id":22131142,"display_name":"Tara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687767845,"creation_date":1687754214,"question_id":76553551,"body_markdown":"let&#39;s assume we have a Spring Data repository interface with a custom method.\r\n\r\n    static final string UPDATE_ENTITY =\r\n    &quot;&quot;&quot;UPDATE entity SET updated_on = :updatedDateTime, updated_by = :createdBy, company_id = :targetId where company_id = :sourceId&quot;&quot;&quot;;\r\n    \r\n    @Query(value = UPDATE_ENTITY, nativeQuery = true)`\r\n    @Modifying\r\n    @Transactional\r\n    int transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\r\n\r\nThis method simply sets the updated field of the entity, ok. Is there any way to return list of \\&lt;entity\\&gt; instead of returning count i.e int/void?\r\n\r\nObviously...I tried\r\n\r\n\r\n    @Query(value = UPDATE_ENTITY, nativeQuery = true)\r\n    @Modifying\r\n    @Transactional\r\n    List&lt;Entity&gt; transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\r\n\r\n\r\ndoes not work, since..\r\n\r\njava.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\r\n\r\nDoes anyone know another way to return the list of updated entity ids?\r\n","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>let's assume we have a Spring Data repository interface with a custom method.</p>\n<pre><code>static final string UPDATE_ENTITY =\n&quot;&quot;&quot;UPDATE entity SET updated_on = :updatedDateTime, updated_by = :createdBy, company_id = :targetId where company_id = :sourceId&quot;&quot;&quot;;\n\n@Query(value = UPDATE_ENTITY, nativeQuery = true)`\n@Modifying\n@Transactional\nint transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\n</code></pre>\n<p>This method simply sets the updated field of the entity, ok. Is there any way to return list of &lt;entity&gt; instead of returning count i.e int/void?</p>\n<p>Obviously...I tried</p>\n<pre><code>@Query(value = UPDATE_ENTITY, nativeQuery = true)\n@Modifying\n@Transactional\nList&lt;Entity&gt; transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\n</code></pre>\n<p>does not work, since..</p>\n<p>java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!</p>\n<p>Does anyone know another way to return the list of updated entity ids?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1687532978,"post_id":76541351,"comment_id":134955041,"body_markdown":"I think you may need to pass the timezone/locale as a JDK argument in Java 11. Could be related: [Joda Date Time returns very different results between Java 8 vs Java 11](https://stackoverflow.com/questions/61199566/joda-date-time-returns-very-different-results-between-java-8-vs-java-11)","body":"I think you may need to pass the timezone/locale as a JDK argument in Java 11. Could be related: <a href=\"https://stackoverflow.com/questions/61199566/joda-date-time-returns-very-different-results-between-java-8-vs-java-11\">Joda Date Time returns very different results between Java 8 vs Java 11</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687536792,"post_id":76541351,"comment_id":134955835,"body_markdown":"Don&#39;t start a question title with &quot;Question about&quot;... summarize your actual question. Also don&#39;t add fluff like how your new and don&#39;t add thanks.","body":"Don&#39;t start a question title with &quot;Question about&quot;... summarize your actual question. Also don&#39;t add fluff like how your new and don&#39;t add thanks."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687536314,"creation_date":1687535940,"answer_id":76541748,"question_id":76541351,"body_markdown":"I don&#39;t know if this is a &quot;misfeature&quot;, but it seems that the problem is caused by this:\r\n\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\r\n\r\nIf you leave this line out, then your code will work. You may have assumed that `parseDefaulting(ChronoField.OFFSET_SECONDS,0)` makes your ZoneId optional. In fact, it doesn&#39;t. It only defaults the offset, which are specified by `O`, `X`, `x` or `Z`. The `VV` specifies zone id, which is differeent from offset. So what you&#39;ve done is parsed a string which contains zone id, but doesn&#39;t contain offset, so it defaults to 0.","title":"Question about Instant.toEpochMilli mismatch between java8 and java11","body":"<p>I don't know if this is a &quot;misfeature&quot;, but it seems that the problem is caused by this:</p>\n<pre><code>.parseDefaulting(ChronoField.OFFSET_SECONDS,0)\n</code></pre>\n<p>If you leave this line out, then your code will work. You may have assumed that <code>parseDefaulting(ChronoField.OFFSET_SECONDS,0)</code> makes your ZoneId optional. In fact, it doesn't. It only defaults the offset, which are specified by <code>O</code>, <code>X</code>, <code>x</code> or <code>Z</code>. The <code>VV</code> specifies zone id, which is differeent from offset. So what you've done is parsed a string which contains zone id, but doesn't contain offset, so it defaults to 0.</p>\n"}],"owner":{"account_id":28881381,"reputation":61,"user_id":22120795,"display_name":"Mathew Mani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":76541748,"answer_count":1,"score":3,"last_activity_date":1687767727,"creation_date":1687532686,"question_id":76541351,"body_markdown":"This is my first post, so if I am not following all the rules and conventions please forgive me. I have this problem with this code, which gives different epoch time millis in java 8 and java 11. \r\n\r\n```\r\nString strDate = &quot;2022-07-18 17:52:23 America/New_York&quot;;\r\nDateTimeFormatter frmt  = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY,0)\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR,0)\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE,0)\r\n    .parseDefaulting(ChronoField.NANO_OF_SECOND,0)\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\r\n    .toFormatter();\r\n\r\nTemporalAccessor temporal = frmt.parse(strDate);\r\nSystem.out.println(Instant.from(temporal).toEpochMilli()); \r\n```\r\n\r\nOutput:\r\n\r\n* Java 8 - 1658181143000 the right value for New York\r\n* Java 11 - 1658166743000 wrong. This value is for UTC/GMT\r\n\r\nIt produces the correct result 1658181143000 in java8, which is epoch value for `New_York` timezone. But it gives 1658166743000 in java11 which is epoch representation of UTC timezone. Debugging through the code, I figured that the library is not setting the offset at the right place in the code. Any help is greatly appreciated.\r\n\r\nThanks in advance \r\n\r\nWas expecting the right epoch value for New York.","title":"Question about Instant.toEpochMilli mismatch between java8 and java11","body":"<p>This is my first post, so if I am not following all the rules and conventions please forgive me. I have this problem with this code, which gives different epoch time millis in java 8 and java 11.</p>\n<pre><code>String strDate = &quot;2022-07-18 17:52:23 America/New_York&quot;;\nDateTimeFormatter frmt  = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY,0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR,0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE,0)\n    .parseDefaulting(ChronoField.NANO_OF_SECOND,0)\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\n    .toFormatter();\n\nTemporalAccessor temporal = frmt.parse(strDate);\nSystem.out.println(Instant.from(temporal).toEpochMilli()); \n</code></pre>\n<p>Output:</p>\n<ul>\n<li>Java 8 - 1658181143000 the right value for New York</li>\n<li>Java 11 - 1658166743000 wrong. This value is for UTC/GMT</li>\n</ul>\n<p>It produces the correct result 1658181143000 in java8, which is epoch value for <code>New_York</code> timezone. But it gives 1658166743000 in java11 which is epoch representation of UTC timezone. Debugging through the code, I figured that the library is not setting the offset at the right place in the code. Any help is greatly appreciated.</p>\n<p>Thanks in advance</p>\n<p>Was expecting the right epoch value for New York.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687798775,"post_id":76554821,"comment_id":134984046,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28896007,"reputation":1,"user_id":22131980,"display_name":"Youness"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687767620,"creation_date":1687767620,"question_id":76554821,"body_markdown":"im using spring boot 3 with spring securety for an web application and want to make a page public, no login requeiert. I&#180;m new to Spring and a bit lost \r\n\r\nI sercherd for diffrent things and foud only that the antmatcher wouldt work with path mapping, as well as .permitALL, since u still need to login first\r\n","title":"pre login page using spring securety","body":"<p>im using spring boot 3 with spring securety for an web application and want to make a page public, no login requeiert. I´m new to Spring and a bit lost</p>\n<p>I sercherd for diffrent things and foud only that the antmatcher wouldt work with path mapping, as well as .permitALL, since u still need to login first</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687767326,"creation_date":1687767326,"answer_id":76554788,"question_id":76552060,"body_markdown":"Have you tried modifying your repository to:\r\n\r\n```\r\npublic interface LessonRepository extends MongoRepository&lt;Lesson, String&gt; {\r\n}\r\n```","title":"Java Spring MongoDB ORM not deleting file with deleteById(id)","body":"<p>Have you tried modifying your repository to:</p>\n<pre><code>public interface LessonRepository extends MongoRepository&lt;Lesson, String&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554788,"answer_count":1,"score":0,"last_activity_date":1687767600,"creation_date":1687720593,"question_id":76552060,"body_markdown":"I am trying to delete an entry in the database \r\n\r\nThe entry looks like this in the MongoDB:\r\n\r\n&gt; _id\r\n&gt; &quot;11c4ee15-0048-4cc6-8a62-38e40389f2a8&quot;\r\n&gt; title\r\n&gt; &quot;DELETE ME&quot;\r\n&gt; content\r\n&gt; &quot;This is Lesson number 1&quot;\r\n\r\nI am using this repository: \r\n\r\n```\r\npublic interface LessonRepository extends MongoRepository&lt;Lesson, UUID&gt; {\r\n}\r\n```\r\n\r\nWhy does this call fail without finding the id:\r\n\r\n```\r\n\r\n    public void deleteLesson(UUID id) {\r\n        lessonRepository.deleteById(id);\r\n    }\r\n```\r\n\r\nThe model looks like this:\r\n\r\n```\r\n@Data\r\npublic class Lesson {\r\n    @Id\r\n    private String id;\r\n    private String title;\r\n    private String content;\r\n}\r\n```\r\n\r\nMy guess it that the id is not defined correctly. But defining it as a UUID gives me a binary object? Why doesn&#39;t it look like an ObjectId?\r\n\r\n\r\n","title":"Java Spring MongoDB ORM not deleting file with deleteById(id)","body":"<p>I am trying to delete an entry in the database</p>\n<p>The entry looks like this in the MongoDB:</p>\n<blockquote>\n<p>_id\n&quot;11c4ee15-0048-4cc6-8a62-38e40389f2a8&quot;\ntitle\n&quot;DELETE ME&quot;\ncontent\n&quot;This is Lesson number 1&quot;</p>\n</blockquote>\n<p>I am using this repository:</p>\n<pre><code>public interface LessonRepository extends MongoRepository&lt;Lesson, UUID&gt; {\n}\n</code></pre>\n<p>Why does this call fail without finding the id:</p>\n<pre><code>\n    public void deleteLesson(UUID id) {\n        lessonRepository.deleteById(id);\n    }\n</code></pre>\n<p>The model looks like this:</p>\n<pre><code>@Data\npublic class Lesson {\n    @Id\n    private String id;\n    private String title;\n    private String content;\n}\n</code></pre>\n<p>My guess it that the id is not defined correctly. But defining it as a UUID gives me a binary object? Why doesn't it look like an ObjectId?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687766348,"post_id":76554614,"comment_id":134977121,"body_markdown":"That method is already available in the `JpaRepository` and returns a `Page` you cannot redifine it with another return type and you don&#39;t actually need it because it is already there.","body":"That method is already available in the <code>JpaRepository</code> and returns a <code>Page</code> you cannot redifine it with another return type and you don&#39;t actually need it because it is already there."},{"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"score":0,"creation_date":1687766641,"post_id":76554614,"comment_id":134977169,"body_markdown":"I got it. Idk why I created when It&#39;s already there. Thank you @M.Deinum","body":"I got it. Idk why I created when It&#39;s already there. Thank you @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687767570,"creation_date":1687767570,"answer_id":76554810,"question_id":76554614,"body_markdown":"Answer from [M. Deinum](https://stackoverflow.com/users/2696260/m-deinum) in comment\r\n&gt;That method is already available in the JpaRepository and returns a Page you &gt;cannot redifine it with another return type and you don&#39;t actually need it &gt;because it is already there.","title":"Slice in repository `The return type is incompatible with PagingAndSortingRepository`","body":"<p>Answer from <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> in comment</p>\n<blockquote>\n<p>That method is already available in the JpaRepository and returns a Page you &gt;cannot redifine it with another return type and you don't actually need it &gt;because it is already there.</p>\n</blockquote>\n"}],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554810,"answer_count":1,"score":0,"last_activity_date":1687767570,"creation_date":1687765962,"question_id":76554614,"body_markdown":"I have create findAll function with return type Slice then got this error: \r\n`The return type is incompatible with PagingAndSortingRepository&lt;Book,Long&gt;.findAll(Pageable)`\r\nHere is my code in repository:\r\n\r\n    import org.springframework.data.domain.Slice;\r\n    \r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Repository\r\n    public interface BookRepository extends JpaRepository&lt;Book, Long&gt;, JpaSpecificationExecutor&lt;Book&gt; {\r\n        Slice&lt;Book&gt; findAll(Pageable pageable);\r\n    }\r\n\r\nWhat did I do wrong here?","title":"Slice in repository `The return type is incompatible with PagingAndSortingRepository`","body":"<p>I have create findAll function with return type Slice then got this error:\n<code>The return type is incompatible with PagingAndSortingRepository&lt;Book,Long&gt;.findAll(Pageable)</code>\nHere is my code in repository:</p>\n<pre><code>import org.springframework.data.domain.Slice;\n\n@SuppressWarnings(&quot;unused&quot;)\n@Repository\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt;, JpaSpecificationExecutor&lt;Book&gt; {\n    Slice&lt;Book&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>What did I do wrong here?</p>\n"},{"tags":["java","jdbc","prepared-statement","deadlock","mssql-jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686051303,"post_id":76414134,"comment_id":134743253,"body_markdown":"Your (proper) changes are likely unconnected with your current problem. As for ChatGPT, it seems to looking for a problem in issues which are at the heart of the optimization advantages of prepared statements ;)","body":"Your (proper) changes are likely unconnected with your current problem. As for ChatGPT, it seems to looking for a problem in issues which are at the heart of the optimization advantages of prepared statements ;)"},{"owner":{"account_id":2106996,"reputation":2760,"user_id":1874012,"display_name":"StrayCatDBA"},"score":0,"creation_date":1686153734,"post_id":76414134,"comment_id":134761141,"body_markdown":"Use SQL Profiler to capture the execution plans of both the old and new approaches.  &quot;paste the plan&quot; for both.","body":"Use SQL Profiler to capture the execution plans of both the old and new approaches.  &quot;paste the plan&quot; for both."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687767108,"creation_date":1686053244,"answer_id":76414475,"question_id":76414134,"body_markdown":"if you ask for reason of the *dramatic* difference in performance I can give at least this one: the type conversion.\r\n\r\nJava type of SQL parameters is Unicode String but on the database you will have something else like varchar with a specific collation. The conversion can cause that even if an index is defined for the table columns it will not be used.\r\n\r\nThe concatenated String used before the code change didn&#39;t need conversion of types.\r\n\r\n**Solution**\r\n\r\nYou can tell the driver to not send parameters as Unicode by adding to the connection url:\r\n\r\n    sendStringParametersAsUnicode=false\r\n\r\nHope it helps.","title":"PreparedStatement parameterization triggers deadlocks (JDBC, SQL Server 2019)","body":"<p>if you ask for reason of the <em>dramatic</em> difference in performance I can give at least this one: the type conversion.</p>\n<p>Java type of SQL parameters is Unicode String but on the database you will have something else like varchar with a specific collation. The conversion can cause that even if an index is defined for the table columns it will not be used.</p>\n<p>The concatenated String used before the code change didn't need conversion of types.</p>\n<p><strong>Solution</strong></p>\n<p>You can tell the driver to not send parameters as Unicode by adding to the connection url:</p>\n<pre><code>sendStringParametersAsUnicode=false\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":5297111,"reputation":3,"user_id":4227992,"display_name":"Nikolai Petrov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76414475,"answer_count":1,"score":0,"last_activity_date":1687767396,"creation_date":1686050694,"question_id":76414134,"body_markdown":"# Background\r\n\r\nI am working on a piece of enterprise software for which we&#39;ve recently decided to move from building SQL queries via string concatenation to doing so by using prepared statements with parameters, so that this first example: \r\n```Java\r\nString query = &quot;SELECT * FROM CARS WHERE MAKE = &#39;&quot; + getMake() \r\n             + &quot;&#39; AND MODEL = &#39;&quot; + getModel() + &quot;&#39;&quot;;\r\nPreparedStatement preparedStatement = connection.prepareStatement(query);\r\n```\r\nbecomes the second:\r\n```Java\r\nString query = &quot;SELECT * FROM CARS WHERE MAKE = ? AND MODEL = ?&quot;;\r\nPreparedStatement preparedStatement = connection.prepareStatement(query);\r\npreparedStatement.setString(1, getMake());\r\npreparedStatement.setString(2, getModel());\r\n```\r\n\r\nFor context, I am using SQL Server 2019 and JDBC.\r\n\r\n# Issue\r\nWith this change being the ONLY difference in the code, I now receive deadlocks that interrupt processing and I don&#39;t understand why. The environment is highly concurrent in that large batches of data are processed in multiple threads, with many of each of `insert`, `delete`, and `select`. What I don&#39;t understand is why this concurrency only becomes a problem when using templated statements, as opposed to concatenated ones. \r\n\r\nSo far I&#39;ve tried:\r\n- Lowering the isolation level to READ_UNCOMMITTED – results in only delete statements locking\r\n- Creating a unique PreparedStatement object rather than reusing one object – results in no change\r\n- Asking ChatGPT, which suggested that it could be related to SQL Server reusing the template statements, since the template strings are identical, while the concatenated versions are unique because they include the variables within the string. \r\n- Using `WITH (ROWLOCK)`, which seems to result in essentially the same situation only with Key Locks instead of a Page Locks causing the deadlock.\r\n\r\nWhat else can I try? Why in the world would the behavior between these approaches be so dramatic as to cause deadlocks? How can I fix them?\r\n\r\nThanks!","title":"PreparedStatement parameterization triggers deadlocks (JDBC, SQL Server 2019)","body":"<h1>Background</h1>\n<p>I am working on a piece of enterprise software for which we've recently decided to move from building SQL queries via string concatenation to doing so by using prepared statements with parameters, so that this first example:</p>\n<pre><code>String query = &quot;SELECT * FROM CARS WHERE MAKE = '&quot; + getMake() \n             + &quot;' AND MODEL = '&quot; + getModel() + &quot;'&quot;;\nPreparedStatement preparedStatement = connection.prepareStatement(query);\n</code></pre>\n<p>becomes the second:</p>\n<pre><code>String query = &quot;SELECT * FROM CARS WHERE MAKE = ? AND MODEL = ?&quot;;\nPreparedStatement preparedStatement = connection.prepareStatement(query);\npreparedStatement.setString(1, getMake());\npreparedStatement.setString(2, getModel());\n</code></pre>\n<p>For context, I am using SQL Server 2019 and JDBC.</p>\n<h1>Issue</h1>\n<p>With this change being the ONLY difference in the code, I now receive deadlocks that interrupt processing and I don't understand why. The environment is highly concurrent in that large batches of data are processed in multiple threads, with many of each of <code>insert</code>, <code>delete</code>, and <code>select</code>. What I don't understand is why this concurrency only becomes a problem when using templated statements, as opposed to concatenated ones.</p>\n<p>So far I've tried:</p>\n<ul>\n<li>Lowering the isolation level to READ_UNCOMMITTED – results in only delete statements locking</li>\n<li>Creating a unique PreparedStatement object rather than reusing one object – results in no change</li>\n<li>Asking ChatGPT, which suggested that it could be related to SQL Server reusing the template statements, since the template strings are identical, while the concatenated versions are unique because they include the variables within the string.</li>\n<li>Using <code>WITH (ROWLOCK)</code>, which seems to result in essentially the same situation only with Key Locks instead of a Page Locks causing the deadlock.</li>\n</ul>\n<p>What else can I try? Why in the world would the behavior between these approaches be so dramatic as to cause deadlocks? How can I fix them?</p>\n<p>Thanks!</p>\n"},{"tags":["java","ssl","jsse"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687738504,"post_id":76539129,"comment_id":134974141,"body_markdown":"Have you considered consulting the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSocket.html)? and [tag:openssl] and [tag:spring] have nothing to do with it.","body":"Have you considered consulting the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\">Javadoc</a>? and <a href=\"https://stackoverflow.com/questions/tagged/openssl\">openssl</a> and <a href=\"https://stackoverflow.com/questions/tagged/spring\">spring</a> have nothing to do with it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687738536,"post_id":76539129,"comment_id":134974143,"body_markdown":"I’m voting to close this question because it exhibits no prior research and because it is answered in the Javadoc.","body":"I’m voting to close this question because it exhibits no prior research and because it is answered in the Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":7717631,"reputation":59,"user_id":5844816,"display_name":"Roman M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687712340,"creation_date":1687712340,"answer_id":76551530,"question_id":76539129,"body_markdown":"`getSession()`: Returns the SSL session associated with the established connection, including any data exchanged after the handshake. It reflects the entire handshake process, including client authentication.\r\n\r\n`getHandshakeSession()`: Returns the SSL session specifically for the ongoing handshake process. It contains information relevant to the handshake, such as the chosen cipher suite and exchanged certificates.\r\n\r\n`session.startHandshake()`: Initiates or continues the SSL handshake process, exchanging cryptographic information and establishing a secure connection. The session object obtained from `getSession()` or `getHandshakeSession()` reflects the result of this handshake.\r\n\r\nIn 2-way SSL, the session objects consider the keystore if it contains the necessary certificates and private keys for client authentication. The SSL implementation uses the certificates from the keystore to authenticate the client during the handshake.","title":"What is the difference between getSession, getHandshakeSession and session.startHandshake in SSLSocket.java in 2 way ssl","body":"<p><code>getSession()</code>: Returns the SSL session associated with the established connection, including any data exchanged after the handshake. It reflects the entire handshake process, including client authentication.</p>\n<p><code>getHandshakeSession()</code>: Returns the SSL session specifically for the ongoing handshake process. It contains information relevant to the handshake, such as the chosen cipher suite and exchanged certificates.</p>\n<p><code>session.startHandshake()</code>: Initiates or continues the SSL handshake process, exchanging cryptographic information and establishing a secure connection. The session object obtained from <code>getSession()</code> or <code>getHandshakeSession()</code> reflects the result of this handshake.</p>\n<p>In 2-way SSL, the session objects consider the keystore if it contains the necessary certificates and private keys for client authentication. The SSL implementation uses the certificates from the keystore to authenticate the client during the handshake.</p>\n"}],"owner":{"account_id":10990574,"reputation":35,"user_id":8074734,"display_name":"shweta kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687767134,"creation_date":1687515208,"question_id":76539129,"body_markdown":"In SSLSocket.java there is one abstract method \r\n\r\n     public abstract SSLSession getSession();\r\n\r\n and One    \r\n\r\n      public SSLSession getHandshakeSession() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n   and once we get the session object from either session=getSession or session=getHandshakeSession \r\n\r\nWhat does ```session.startHandhshake``` do?\r\n\r\nWhat is the difference between the three when it comes to SSL handshake, especially in 2 way SSL?\r\nWhen we pass keystore in java during handshake does the SSL session object consider it?\r\n\r\n\r\n","title":"What is the difference between getSession, getHandshakeSession and session.startHandshake in SSLSocket.java in 2 way ssl","body":"<p>In SSLSocket.java there is one abstract method</p>\n<pre><code> public abstract SSLSession getSession();\n</code></pre>\n<p>and One</p>\n<pre><code>  public SSLSession getHandshakeSession() {\n            throw new UnsupportedOperationException();\n        }\n</code></pre>\n<p>and once we get the session object from either session=getSession or session=getHandshakeSession</p>\n<p>What does <code>session.startHandhshake</code> do?</p>\n<p>What is the difference between the three when it comes to SSL handshake, especially in 2 way SSL?\nWhen we pass keystore in java during handshake does the SSL session object consider it?</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776484,"post_id":76554758,"comment_id":134979096,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26155675,"reputation":1,"user_id":19842935,"display_name":"zhiyou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687767094,"creation_date":1687767094,"question_id":76554758,"body_markdown":"In the flink on k8s session mode I deployed, the submitted task jobmanager always restarts, resulting in the task cannot be executed, but it can run normally in idea.\r\n\r\nI don&#39;t know what the problem is and I can&#39;t find any useful error information","title":"flink on k8s session mode always restarts the jobmanager","body":"<p>In the flink on k8s session mode I deployed, the submitted task jobmanager always restarts, resulting in the task cannot be executed, but it can run normally in idea.</p>\n<p>I don't know what the problem is and I can't find any useful error information</p>\n"},{"tags":["java","xml","database","yaml"],"comments":[{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":3,"creation_date":1633172526,"post_id":2475448,"comment_id":122692976,"body_markdown":"In serialization, the point is not turning an object into bits and bytes, objects ARE bits and bytes already. Serialization is the process of making the object&#39;s &quot;state&quot; persistent. Read this: https://stackoverflow.com/a/69416269/9868445","body":"In serialization, the point is not turning an object into bits and bytes, objects ARE bits and bytes already. Serialization is the process of making the object&#39;s &quot;state&quot; persistent. Read this: <a href=\"https://stackoverflow.com/a/69416269/9868445\">stackoverflow.com/a/69416269/9868445</a>"}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1268982010,"creation_date":1268981394,"answer_id":2475460,"question_id":2475448,"body_markdown":"When you want to save an object&#39;s state into a file or send it over the network, you need to transform it into a series of bytes. This is called serialization.\r\n\r\nJava has a built-in mechanism for that, other options include XML or JSON.\r\n\r\nExamples when you need this: Caching objects, making remote method calls, saving an object graph to disk.","title":"What is the need of serialization of objects in Java?","body":"<p>When you want to save an object's state into a file or send it over the network, you need to transform it into a series of bytes. This is called serialization.</p>\n\n<p>Java has a built-in mechanism for that, other options include XML or JSON.</p>\n\n<p>Examples when you need this: Caching objects, making remote method calls, saving an object graph to disk.</p>\n"},{"tags":[],"owner":{"account_id":109796,"reputation":1007,"user_id":290776,"accept_rate":45,"display_name":"lajuette"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268981427,"creation_date":1268981427,"answer_id":2475463,"question_id":2475448,"body_markdown":" - If you want to store an object (-structure) on disk you&#39;ll need serialization.\r\n - A webservice requires serialization of objects to xml before they can be transmitted.","title":"What is the need of serialization of objects in Java?","body":"<ul>\n<li>If you want to store an object (-structure) on disk you'll need serialization.</li>\n<li>A webservice requires serialization of objects to xml before they can be transmitted.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1360288111,"creation_date":1268981656,"answer_id":2475485,"question_id":2475448,"body_markdown":"Serialization is usually used When the need arises to send your data over network or stored in files. By data I mean objects and not text.\r\n\r\nNow the problem is your Network infrastructure and your Hard disk are hardware components that understand bits and bytes but not JAVA objects.\r\n\r\nSerialization is the translation of your Java object&#39;s values/states to bytes to send it over network or save it.\r\n\r\nThis is analogous to how your voice is transmitted over PSTN telephone lines.","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization is usually used When the need arises to send your data over network or stored in files. By data I mean objects and not text.</p>\n\n<p>Now the problem is your Network infrastructure and your Hard disk are hardware components that understand bits and bytes but not JAVA objects.</p>\n\n<p>Serialization is the translation of your Java object's values/states to bytes to send it over network or save it.</p>\n\n<p>This is analogous to how your voice is transmitted over PSTN telephone lines.</p>\n"},{"tags":[],"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1432106367,"creation_date":1268982818,"answer_id":2475553,"question_id":2475448,"body_markdown":"Java serialization (and, specifically, the &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html&quot;&gt;Serializable&lt;/a&gt; and &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/io/Externalizable.html&quot;&gt;Exernalizable&lt;/a&gt; interfaces) allows you to read/write arbitrarily complicated Java objects, automatically or manually from/to disk or from/to the network. Whereas XML and JSON are textual formats, Java serialization is a binary format. (Serialization is also a general concept of simply reading/writing data, but since the question is about Java, I assume you are referring to the builtin serialization system, i.e. Serializable/Exernalizable)\r\n\r\n&lt;b&gt;Advantages of &quot;implements Serializable&quot; over XML/JSON&lt;/b&gt;&lt;br /&gt;\r\nAt first, you get serialization pretty much for free. You don&#39;t need to make very many changes to your objects in order to let the serialization mechanism work with it. Another advantage is that, because it is  a binary format, it is much more compact than the textual format, and so will probably use less space (which is good for conserving network bandwidth or for conserving storage space on disk).\r\n\r\n&lt;b&gt;Disadvantages &quot;implements Serializable&quot; over XML/JSON&lt;/b&gt;&lt;br /&gt;\r\nThe disadvantage to builtin Java serialization is that, if you make changes to your object, making the different serialization formats compatible can really be a major nightmare. Also, whereas you can manually edit XML and JSON, you cannot edit a serialized Java object (without reading it into Java). For the same reasons, it is often easier to debug XML and JSON than binary formats, because XML and JSON are human-readable. Another disadvantage with Java&#39;s builtin serialization mechanism is that you cannot (easily) serialize/deserialize the data from another programming language.\r\n\r\n&lt;b&gt;Alternative techniques for reading/writing data&lt;/b&gt;&lt;br /&gt;\r\nThere are alternative serialization techniques other than Java&#39;s builtin serialization that give you the best of both worlds: compact binary formats, language interoperation, ease of version compatibility, and often debugging tools as well that make it easy to dump the binary data in readable format. For example, Google&#39;s opensource &lt;a href=&quot;https://github.com/google/protobuf/&quot;&gt;protocol buffers&lt;/a&gt; and &lt;a href=&quot;http://msgpack.org/&quot;&gt;MessagePack&lt;/a&gt; are examples of serialization libraries/formats that let you read/write compact binary data and easily maintain version compatibility. The biggest downside of these libraries over builtin Java serialization is that they involve plain-old-data objects for serialization (as opposed to more fully-featured Java objects that also have behavior associated with them); however, this disadvantage is, in fact, an advantage as separating the data model to which/from which the information is stored from the objects that wrap or are derived from them is actually a good programming practice and makes it easier to support multiple formats.\r\n\r\n&lt;b&gt;Usage&lt;/b&gt;&lt;br /&gt;\r\nSince you asked for the need, not merely the definition, there are a number of use cases:\r\n\r\n1. Simply saving your data for use later. For example, let&#39;s say you are writing a video game. Your program will not run forever; even if it never crashes (which is hopefully the case), your user will probably exit the program at some point or the operating system may kill the program to save resources (e.g. on Android, background processes that the user is not interacting with are frequently and intentionally killed by the OS to reclaim system resources like RAM). In order to ensure that the user doesn&#39;t start from the very beginning and can instead resume from where they were or from the most recent save point, you will want to write the state of the game to persistent storage (i.e. the hard drive, the user&#39;s Google Drive account, etc.). In order to do this, you need to translate the data structures in memory that represent the state of the game to raw bytes that you can write to disk (or to whatever system you are saving the data).\r\n\r\n2. Retrieving information from a remote server. Let&#39;s continue with the game example... suppose you are creating an online multiplayer game or that you want to make it possible to provide new levels or items in the game without the user updating their app. To do this, you would want the information about the online player or the information about the new levels/items to be communicated from a server computer (which you use as the point of contact for all the copies of the app installed on various devices) to the individual copies of the app. Both the server and app need some sort of in-memory representation of these data structures (e.g. the location of other players, the structure of a new level, the description/image for a new item, etc.), but to transfer the information from the server to the app on the device, the communication system consists of raw bytes, and so it is necessary to have a way to convert the data to raw bytes and from raw bytes back to a meaningful in-memory data structure.\r\n\r\nPretty much any communication between two different processes/apps or between an app and some storage system is a case where some sort of serialization mechanism is required.","title":"What is the need of serialization of objects in Java?","body":"<p>Java serialization (and, specifically, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"noreferrer\">Serializable</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Externalizable.html\" rel=\"noreferrer\">Exernalizable</a> interfaces) allows you to read/write arbitrarily complicated Java objects, automatically or manually from/to disk or from/to the network. Whereas XML and JSON are textual formats, Java serialization is a binary format. (Serialization is also a general concept of simply reading/writing data, but since the question is about Java, I assume you are referring to the builtin serialization system, i.e. Serializable/Exernalizable)</p>\n\n<p><b>Advantages of \"implements Serializable\" over XML/JSON</b><br />\nAt first, you get serialization pretty much for free. You don't need to make very many changes to your objects in order to let the serialization mechanism work with it. Another advantage is that, because it is  a binary format, it is much more compact than the textual format, and so will probably use less space (which is good for conserving network bandwidth or for conserving storage space on disk).</p>\n\n<p><b>Disadvantages \"implements Serializable\" over XML/JSON</b><br />\nThe disadvantage to builtin Java serialization is that, if you make changes to your object, making the different serialization formats compatible can really be a major nightmare. Also, whereas you can manually edit XML and JSON, you cannot edit a serialized Java object (without reading it into Java). For the same reasons, it is often easier to debug XML and JSON than binary formats, because XML and JSON are human-readable. Another disadvantage with Java's builtin serialization mechanism is that you cannot (easily) serialize/deserialize the data from another programming language.</p>\n\n<p><b>Alternative techniques for reading/writing data</b><br />\nThere are alternative serialization techniques other than Java's builtin serialization that give you the best of both worlds: compact binary formats, language interoperation, ease of version compatibility, and often debugging tools as well that make it easy to dump the binary data in readable format. For example, Google's opensource <a href=\"https://github.com/google/protobuf/\" rel=\"noreferrer\">protocol buffers</a> and <a href=\"http://msgpack.org/\" rel=\"noreferrer\">MessagePack</a> are examples of serialization libraries/formats that let you read/write compact binary data and easily maintain version compatibility. The biggest downside of these libraries over builtin Java serialization is that they involve plain-old-data objects for serialization (as opposed to more fully-featured Java objects that also have behavior associated with them); however, this disadvantage is, in fact, an advantage as separating the data model to which/from which the information is stored from the objects that wrap or are derived from them is actually a good programming practice and makes it easier to support multiple formats.</p>\n\n<p><b>Usage</b><br />\nSince you asked for the need, not merely the definition, there are a number of use cases:</p>\n\n<ol>\n<li><p>Simply saving your data for use later. For example, let's say you are writing a video game. Your program will not run forever; even if it never crashes (which is hopefully the case), your user will probably exit the program at some point or the operating system may kill the program to save resources (e.g. on Android, background processes that the user is not interacting with are frequently and intentionally killed by the OS to reclaim system resources like RAM). In order to ensure that the user doesn't start from the very beginning and can instead resume from where they were or from the most recent save point, you will want to write the state of the game to persistent storage (i.e. the hard drive, the user's Google Drive account, etc.). In order to do this, you need to translate the data structures in memory that represent the state of the game to raw bytes that you can write to disk (or to whatever system you are saving the data).</p></li>\n<li><p>Retrieving information from a remote server. Let's continue with the game example... suppose you are creating an online multiplayer game or that you want to make it possible to provide new levels or items in the game without the user updating their app. To do this, you would want the information about the online player or the information about the new levels/items to be communicated from a server computer (which you use as the point of contact for all the copies of the app installed on various devices) to the individual copies of the app. Both the server and app need some sort of in-memory representation of these data structures (e.g. the location of other players, the structure of a new level, the description/image for a new item, etc.), but to transfer the information from the server to the app on the device, the communication system consists of raw bytes, and so it is necessary to have a way to convert the data to raw bytes and from raw bytes back to a meaningful in-memory data structure.</p></li>\n</ol>\n\n<p>Pretty much any communication between two different processes/apps or between an app and some storage system is a case where some sort of serialization mechanism is required.</p>\n"},{"tags":[],"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"down_vote_count":2,"up_vote_count":208,"is_accepted":false,"score":206,"last_activity_date":1687766091,"creation_date":1307881707,"answer_id":6321929,"question_id":2475448,"body_markdown":"**Short story about serialization**\r\n\r\nAfter many years of hard work, Earth&#39;s scientists developed a robot who can help them in daily work. But this robot had fewer features than the robots developed by the scientists from planet Mars.\r\n\r\nAfter a meeting between both planets&#39; scientists, it is decided that Mars will send their robots to Earth. But a problem occurred. The cost of sending 100 robots to Earth was $100 million. And it takes around 60 days of traveling.\r\n\r\nFinally, Mars&#39; scientists decided to share their secret with Earth&#39;s scientists. This secret was about the structure of class/robot. Earth&#39;s scientists developed the same structure on Earth itself. Mars&#39; scientists **serialized** the data of each robot and sent it to earth. Earth&#39;s scientists **deserialized** the data and fed it into each robot accordingly.\r\n\r\nThis process saved them time in communicating a massive amount of data.\r\n\r\nSome of the robots were being used in some defensive work on Mars. So their scientists marked some crucial properties of those robots as **transient** before sending their data to Earth. Note that the transient property is set to null (in case of reference) or to the default value (in case of the primitive type) when the object gets deserialized.\r\n\r\nOne more point noticed by Earth&#39;s scientists is that Mars&#39; scientists asked them to create some **static variables** to keep details about the environment. These details are used by some robots. But Mars&#39; scientists don&#39;t share these details. Because Earth&#39;s environment was different from Mars&#39; environment. \r\n\r\nEven though knowing about the robot class structure and having serialized data Earth&#39;s scientist were not able to deserialize the data which can make robots working.\r\n\r\n    Exception in thread &quot;main&quot; java.io.InvalidClassException:\r\n    SerializeMe; local class incompatible: stream classdesc\r\n    :\r\n\r\nMars&#39; scientists were waiting for the complete payment. Once the payment was done Mars&#39; scientists shared the serialversionUID with Earth&#39;s scientists. Earth&#39;s scientist set it to robot class and everything started working.\r\n\r\n**Update**\r\n\r\nThough with the help of serialization, they became able to send data using signals instead of actual spaceship, they realized that sending large set of data was still a challenge. Serialization make the process cheaper and faster but it was still slow. Hence the different scientists came up with different ideas to reduce the data size. Some scientists suggested to compress the data and some suggested to use different mechanism to represent it so it can be deserialized back. Some of the ideas are [XML](https://en.wikipedia.org/wiki/XML), [JSON](https://www.json.org/), [msgpack](https://msgpack.org), [Nimn](https://solothought.com/nimn/)","title":"What is the need of serialization of objects in Java?","body":"<p><strong>Short story about serialization</strong></p>\n<p>After many years of hard work, Earth's scientists developed a robot who can help them in daily work. But this robot had fewer features than the robots developed by the scientists from planet Mars.</p>\n<p>After a meeting between both planets' scientists, it is decided that Mars will send their robots to Earth. But a problem occurred. The cost of sending 100 robots to Earth was $100 million. And it takes around 60 days of traveling.</p>\n<p>Finally, Mars' scientists decided to share their secret with Earth's scientists. This secret was about the structure of class/robot. Earth's scientists developed the same structure on Earth itself. Mars' scientists <strong>serialized</strong> the data of each robot and sent it to earth. Earth's scientists <strong>deserialized</strong> the data and fed it into each robot accordingly.</p>\n<p>This process saved them time in communicating a massive amount of data.</p>\n<p>Some of the robots were being used in some defensive work on Mars. So their scientists marked some crucial properties of those robots as <strong>transient</strong> before sending their data to Earth. Note that the transient property is set to null (in case of reference) or to the default value (in case of the primitive type) when the object gets deserialized.</p>\n<p>One more point noticed by Earth's scientists is that Mars' scientists asked them to create some <strong>static variables</strong> to keep details about the environment. These details are used by some robots. But Mars' scientists don't share these details. Because Earth's environment was different from Mars' environment.</p>\n<p>Even though knowing about the robot class structure and having serialized data Earth's scientist were not able to deserialize the data which can make robots working.</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.InvalidClassException:\nSerializeMe; local class incompatible: stream classdesc\n:\n</code></pre>\n<p>Mars' scientists were waiting for the complete payment. Once the payment was done Mars' scientists shared the serialversionUID with Earth's scientists. Earth's scientist set it to robot class and everything started working.</p>\n<p><strong>Update</strong></p>\n<p>Though with the help of serialization, they became able to send data using signals instead of actual spaceship, they realized that sending large set of data was still a challenge. Serialization make the process cheaper and faster but it was still slow. Hence the different scientists came up with different ideas to reduce the data size. Some scientists suggested to compress the data and some suggested to use different mechanism to represent it so it can be deserialized back. Some of the ideas are <a href=\"https://en.wikipedia.org/wiki/XML\" rel=\"nofollow noreferrer\">XML</a>, <a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a>, <a href=\"https://msgpack.org\" rel=\"nofollow noreferrer\">msgpack</a>, <a href=\"https://solothought.com/nimn/\" rel=\"nofollow noreferrer\">Nimn</a></p>\n"},{"tags":[],"owner":{"account_id":1636164,"reputation":17313,"user_id":1509583,"accept_rate":20,"display_name":"Gagandeep Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342849001,"creation_date":1342849001,"answer_id":11589778,"question_id":2475448,"body_markdown":"And you can also implement object cloning using serialization","title":"What is the need of serialization of objects in Java?","body":"<p>And you can also implement object cloning using serialization</p>\n"},{"tags":[],"owner":{"account_id":4323373,"reputation":77,"user_id":3530829,"accept_rate":50,"display_name":"user095736"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404380864,"creation_date":1404380864,"answer_id":24550348,"question_id":2475448,"body_markdown":"Serialization generally referred as conversion of Object in to series of bits. it&#39;s an essential one in java since java mainly meant for web-based app&#39;s i mean to make the data to be available across the network \r\n","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization generally referred as conversion of Object in to series of bits. it's an essential one in java since java mainly meant for web-based app's i mean to make the data to be available across the network </p>\n"},{"tags":[],"owner":{"account_id":7799666,"reputation":2135,"user_id":5899585,"display_name":"larsaars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549459848,"creation_date":1549459848,"answer_id":54554826,"question_id":2475448,"body_markdown":"    public class Serializer {\r\n    \r\n        public static void write(Object o, File f) throws IOException {\r\n            f.delete();\r\n            f.createNewFile();\r\n            FileOutputStream fileOut = new FileOutputStream(f);\r\n            ObjectOutputStream out = new ObjectOutputStream(fileOut);\r\n            out.writeObject(o);\r\n            out.close();\r\n            fileOut.close();\r\n        }\r\n    \r\n        public static Object read(File f) throws Exception{\r\n            FileInputStream fileIn = new FileInputStream(f);\r\n            ObjectInputStream in = new ObjectInputStream(fileIn);\r\n            Object e = in.readObject();\r\n            in.close();\r\n            fileIn.close();\r\n            return e;\r\n        }\r\n    \r\n        public static byte[] toBytes(Object o) {\r\n            byte[] bytes = null;\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            ObjectOutput out = null;\r\n            try {\r\n                out = new ObjectOutputStream(bos);\r\n                out.writeObject(o);\r\n                out.flush();\r\n                bytes = bos.toByteArray();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    bos.close();\r\n                } catch (IOException ex) {\r\n                    // ignore close exception\r\n                }\r\n            }\r\n    \r\n            return bytes;\r\n        }\r\n    \r\n        public static Object fromBytes(byte[] bytes) {\r\n            Object o = null;\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\r\n            ObjectInput in = null;\r\n            try {\r\n                in = new ObjectInputStream(bis);\r\n                o = in.readObject();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (in != null) {\r\n                        in.close();\r\n                    }\r\n                } catch (IOException ex) {\r\n                    // ignore close exception\r\n                }\r\n            }\r\n    \r\n            return o;\r\n        }\r\n    }","title":"What is the need of serialization of objects in Java?","body":"<pre><code>public class Serializer {\n\n    public static void write(Object o, File f) throws IOException {\n        f.delete();\n        f.createNewFile();\n        FileOutputStream fileOut = new FileOutputStream(f);\n        ObjectOutputStream out = new ObjectOutputStream(fileOut);\n        out.writeObject(o);\n        out.close();\n        fileOut.close();\n    }\n\n    public static Object read(File f) throws Exception{\n        FileInputStream fileIn = new FileInputStream(f);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        Object e = in.readObject();\n        in.close();\n        fileIn.close();\n        return e;\n    }\n\n    public static byte[] toBytes(Object o) {\n        byte[] bytes = null;\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ObjectOutput out = null;\n        try {\n            out = new ObjectOutputStream(bos);\n            out.writeObject(o);\n            out.flush();\n            bytes = bos.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                bos.close();\n            } catch (IOException ex) {\n                // ignore close exception\n            }\n        }\n\n        return bytes;\n    }\n\n    public static Object fromBytes(byte[] bytes) {\n        Object o = null;\n        ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\n        ObjectInput in = null;\n        try {\n            in = new ObjectInputStream(bis);\n            o = in.readObject();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            } catch (IOException ex) {\n                // ignore close exception\n            }\n        }\n\n        return o;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12811049,"reputation":95,"user_id":9269259,"display_name":"Java By Kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582209581,"creation_date":1582209581,"answer_id":60322391,"question_id":2475448,"body_markdown":"Serialization is needed when there is a problem in sending data from one class to another.\r\nWhere the other class is on a different location or Hard Disk. i.e. in Distributed Systems\r\n\r\nThe reverse operation of serialisation is called deserialization\r\n\r\nThe String Class and all wrapper classes implement serializable interface by default\r\n\r\nSerializable interface is also marker interface which provides the capability of Serialization to your class. So, we should implement a serializable interface if we want to send the state of an object over the network","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization is needed when there is a problem in sending data from one class to another.\nWhere the other class is on a different location or Hard Disk. i.e. in Distributed Systems</p>\n\n<p>The reverse operation of serialisation is called deserialization</p>\n\n<p>The String Class and all wrapper classes implement serializable interface by default</p>\n\n<p>Serializable interface is also marker interface which provides the capability of Serialization to your class. So, we should implement a serializable interface if we want to send the state of an object over the network</p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85364,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"closed_date":1582227658,"accepted_answer_id":2475485,"answer_count":9,"score":74,"last_activity_date":1687766091,"creation_date":1268981212,"question_id":2475448,"body_markdown":"Can anyone tell me what is the need of Serialization of objects in Java and give me an example scenario to explain the need? (I already understand what serialization is, I just want to understand when you&#39;d use it and how&#39;d use it?).","title":"What is the need of serialization of objects in Java?","body":"<p>Can anyone tell me what is the need of Serialization of objects in Java and give me an example scenario to explain the need? (I already understand what serialization is, I just want to understand when you'd use it and how'd use it?).</p>\n"},{"tags":["java","testng","command-prompt","testng.xml"],"owner":{"account_id":5184905,"reputation":63,"user_id":5273423,"display_name":"Garudaraja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687766021,"creation_date":1687766021,"question_id":76554619,"body_markdown":"Overnight I was running test cases using the xmlsuite file from the Windows command prompt and I see that there was an exception when running test cases. Unfortunately I can&#39;t get back the buffer that left from the command prompt, so I was looking at made testng track last run and store the result/information in any place.\r\n\r\nI would appreciate it if you could assist in retrieving the final details of the execution.","title":"Location of Testng logs unless explicitly logged","body":"<p>Overnight I was running test cases using the xmlsuite file from the Windows command prompt and I see that there was an exception when running test cases. Unfortunately I can't get back the buffer that left from the command prompt, so I was looking at made testng track last run and store the result/information in any place.</p>\n<p>I would appreciate it if you could assist in retrieving the final details of the execution.</p>\n"},{"tags":["java","maven","maven-3","maven-site-plugin"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1686909475,"post_id":76488857,"comment_id":134866405,"body_markdown":"Try to create a maven [profile](https://maven.apache.org/guides/introduction/introduction-to-profiles.html), with the build section in it. One profile for aggregated reports and one without. Keep in mind, that the configuration you add to the `pluginManagement` section is inherited to all other declarations and need to be removed.","body":"Try to create a maven <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">profile</a>, with the build section in it. One profile for aggregated reports and one without. Keep in mind, that the configuration you add to the <code>pluginManagement</code> section is inherited to all other declarations and need to be removed."},{"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"score":0,"creation_date":1686918959,"post_id":76488857,"comment_id":134868303,"body_markdown":"@luckyluke Thanks for your comment. I don&#39;t want to use Maven profiles (should have added that to the question). Your hint regarding the inheritance of the `pluginManagement` section guided me into the right direction: I&#39;ve explicitly added a `reportSet` with the report `taglist` for the plugin. By adding the `aggregate` option to the `configuration` of that `reportSet`, I was able to include both reports in the Maven site. I may add an extensive answer later.","body":"@luckyluke Thanks for your comment. I don&#39;t want to use Maven profiles (should have added that to the question). Your hint regarding the inheritance of the <code>pluginManagement</code> section guided me into the right direction: I&#39;ve explicitly added a <code>reportSet</code> with the report <code>taglist</code> for the plugin. By adding the <code>aggregate</code> option to the <code>configuration</code> of that <code>reportSet</code>, I was able to include both reports in the Maven site. I may add an extensive answer later."}],"answers":[{"tags":[],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687765004,"creation_date":1687765004,"answer_id":76554492,"question_id":76488857,"body_markdown":"Thanks to the user &quot;luckyluke&quot; that guided me into the right direction. Here is the anwer to my question.\r\n\r\n---\r\n\r\nI was able to create both an aggregate report (in the Aggregator POM) **and** a non-aggregate report for each leaf/child POM with the &quot;MojoHaus Taglist Maven Plugin&quot;.\r\n\r\n1. Configure the plugin in the `&lt;build&gt;/&lt;pluginManagement&gt;` section of the Parent POM `pom.xml`.\r\n\r\n       &lt;build&gt;\r\n           &lt;pluginManagement&gt;\r\n               &lt;plugins&gt;\r\n                   &lt;plugin&gt;\r\n                       &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                       &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                       &lt;version&gt;3.0.0&lt;/version&gt;\r\n                       &lt;configuration&gt;\r\n                           &lt;emptyComments&gt;true&lt;/emptyComments&gt;\r\n                           &lt;linkXRef&gt;true&lt;/linkXRef&gt;\r\n                           &lt;multipleLineComments&gt;true&lt;/multipleLineComments&gt;\r\n                           &lt;showEmptyDetails&gt;true&lt;/showEmptyDetails&gt;\r\n                           &lt;skipTestSources&gt;false&lt;/skipTestSources&gt;\r\n                           &lt;tagListOptions&gt;\r\n                               &lt;tagClasses&gt;\r\n                                   &lt;tagClass&gt;\r\n                                       &lt;displayName&gt;To-do Tags&lt;/displayName&gt;\r\n                                       &lt;tags&gt;\r\n                                           &lt;tag&gt;\r\n                                               &lt;matchString&gt;TODO&lt;/matchString&gt;\r\n                                               &lt;matchType&gt;ignoreCase&lt;/matchType&gt;\r\n                                           &lt;/tag&gt;\r\n                                       &lt;/tags&gt;\r\n                                   &lt;/tagClass&gt;\r\n                                    &lt;/tagClasses&gt;\r\n                           &lt;/tagListOptions&gt;\r\n                       &lt;/configuration&gt;\r\n                   &lt;/plugin&gt;\r\n               &lt;/plugins&gt;\r\n           &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n2. Define the non-aggregate report in the `&lt;reporting&gt;` section of the Parent POM `pom.xml`.\r\n\r\n       &lt;reporting&gt;\r\n           &lt;plugins&gt;\r\n               &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;${io.github.florianwolters.version.taglist-maven-plugin}&lt;/version&gt;\r\n                   &lt;reportSets&gt;\r\n                       &lt;reportSet&gt;\r\n                       &lt;id&gt;taglist-report&lt;/id&gt;\r\n                       &lt;inherited&gt;true&lt;/inherited&gt;\r\n                       &lt;reports&gt;\r\n                           &lt;report&gt;taglist&lt;/report&gt;\r\n                       &lt;/reports&gt;\r\n                       &lt;configuration&gt;\r\n                           &lt;aggregate&gt;false&lt;/aggregate&gt;\r\n                       &lt;/configuration&gt;\r\n                       &lt;/reportSet&gt;\r\n                   &lt;/reportSets&gt;\r\n               &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n       &lt;/reporting&gt;\r\n\r\n3. Define the aggregate report in the `&lt;reporting&gt;` section of the Aggregator POM (that inherits the Parent POM) `pom.xml`.\r\n\r\n       &lt;reporting&gt;\r\n           &lt;plugins&gt;\r\n               &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;reportSets&gt;\r\n                      &lt;reportSet&gt;\r\n                           &lt;id&gt;aggregate-taglist-report&lt;/id&gt;\r\n                           &lt;inherited&gt;false&lt;/inherited&gt;\r\n                           &lt;configuration&gt;\r\n                               &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                           &lt;/configuration&gt;\r\n                           &lt;reports&gt;\r\n                               &lt;report&gt;taglist&lt;/report&gt;\r\n                           &lt;/reports&gt;\r\n                       &lt;/reportSet&gt;\r\n                   &lt;/reportSets&gt;\r\n               &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n       &lt;/reporting&gt;","title":"How to generate one aggregate report in a multi-module project and non-aggregate reports for each child project with the MojoHaus Taglist Plugin?","body":"<p>Thanks to the user &quot;luckyluke&quot; that guided me into the right direction. Here is the anwer to my question.</p>\n<hr />\n<p>I was able to create both an aggregate report (in the Aggregator POM) <strong>and</strong> a non-aggregate report for each leaf/child POM with the &quot;MojoHaus Taglist Maven Plugin&quot;.</p>\n<ol>\n<li><p>Configure the plugin in the <code>&lt;build&gt;/&lt;pluginManagement&gt;</code> section of the Parent POM <code>pom.xml</code>.</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;emptyComments&gt;true&lt;/emptyComments&gt;\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\n                    &lt;multipleLineComments&gt;true&lt;/multipleLineComments&gt;\n                    &lt;showEmptyDetails&gt;true&lt;/showEmptyDetails&gt;\n                    &lt;skipTestSources&gt;false&lt;/skipTestSources&gt;\n                    &lt;tagListOptions&gt;\n                        &lt;tagClasses&gt;\n                            &lt;tagClass&gt;\n                                &lt;displayName&gt;To-do Tags&lt;/displayName&gt;\n                                &lt;tags&gt;\n                                    &lt;tag&gt;\n                                        &lt;matchString&gt;TODO&lt;/matchString&gt;\n                                        &lt;matchType&gt;ignoreCase&lt;/matchType&gt;\n                                    &lt;/tag&gt;\n                                &lt;/tags&gt;\n                            &lt;/tagClass&gt;\n                             &lt;/tagClasses&gt;\n                    &lt;/tagListOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n</li>\n<li><p>Define the non-aggregate report in the <code>&lt;reporting&gt;</code> section of the Parent POM <code>pom.xml</code>.</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${io.github.florianwolters.version.taglist-maven-plugin}&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                &lt;id&gt;taglist-report&lt;/id&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;reports&gt;\n                    &lt;report&gt;taglist&lt;/report&gt;\n                &lt;/reports&gt;\n                &lt;configuration&gt;\n                    &lt;aggregate&gt;false&lt;/aggregate&gt;\n                &lt;/configuration&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n</li>\n<li><p>Define the aggregate report in the <code>&lt;reporting&gt;</code> section of the Aggregator POM (that inherits the Parent POM) <code>pom.xml</code>.</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n            &lt;reportSets&gt;\n               &lt;reportSet&gt;\n                    &lt;id&gt;aggregate-taglist-report&lt;/id&gt;\n                    &lt;inherited&gt;false&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;aggregate&gt;true&lt;/aggregate&gt;\n                    &lt;/configuration&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;taglist&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554492,"answer_count":1,"score":0,"last_activity_date":1687765004,"creation_date":1686908073,"question_id":76488857,"body_markdown":"I am unable to create one Apache Maven site containing multiple reports generated by the [MojoHaus Taglist Plugin][1]. It seems that one either has to decide on an aggregate report or on an non-aggregate report. But I would like to have both in the site output:\r\n- aggregate report: Generated one for the Aggregator POM (multi-module). This should not be inherited, i.e. there should only be one report, even if additional Aggregator POMs are involved.\r\n- non-aggregate report: Generated for each Child POM.\r\n\r\nI have the following declared in my Aggregator POM `pom.xml`:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!--\r\n                    TODO(2023-06-16 by wolters): It does not seem possible to create aggregate reports for a parent\r\n                    but non-aggregate reports for a child with the MojoHaus Taglist Plugin..\r\n                    --&gt;\r\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter running `mvn site-deploy` the created site contains an aggregated report for the multi-module project, but no report for the child project.\r\n\r\n1. Is it possible to achieve the creation of both reports with the MojoHaus Taglist Plugin?\r\n2. If it is possible: Can you provide a solution without using Maven profiles?\r\n\r\nI tried different approaches, e.g. adding the plugin to the `&lt;builds&gt;&lt;plugin&gt;` section and specifying an `&lt;execution&gt;`. But so far I wasn&#39;t able to achieve the desired result.\r\n\r\nI am using the following:\r\n- Apache Maven v3.9.2\r\n- MojoHaus Taglist Maven Plugin v3.0.0\r\n\r\n[1]: https://www.mojohaus.org/taglist-maven-plugin","title":"How to generate one aggregate report in a multi-module project and non-aggregate reports for each child project with the MojoHaus Taglist Plugin?","body":"<p>I am unable to create one Apache Maven site containing multiple reports generated by the <a href=\"https://www.mojohaus.org/taglist-maven-plugin\" rel=\"nofollow noreferrer\">MojoHaus Taglist Plugin</a>. It seems that one either has to decide on an aggregate report or on an non-aggregate report. But I would like to have both in the site output:</p>\n<ul>\n<li>aggregate report: Generated one for the Aggregator POM (multi-module). This should not be inherited, i.e. there should only be one report, even if additional Aggregator POMs are involved.</li>\n<li>non-aggregate report: Generated for each Child POM.</li>\n</ul>\n<p>I have the following declared in my Aggregator POM <code>pom.xml</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;configuration&gt;\n                &lt;!--\n                TODO(2023-06-16 by wolters): It does not seem possible to create aggregate reports for a parent\n                but non-aggregate reports for a child with the MojoHaus Taglist Plugin..\n                --&gt;\n                &lt;aggregate&gt;true&lt;/aggregate&gt;\n            &lt;/configuration&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After running <code>mvn site-deploy</code> the created site contains an aggregated report for the multi-module project, but no report for the child project.</p>\n<ol>\n<li>Is it possible to achieve the creation of both reports with the MojoHaus Taglist Plugin?</li>\n<li>If it is possible: Can you provide a solution without using Maven profiles?</li>\n</ol>\n<p>I tried different approaches, e.g. adding the plugin to the <code>&lt;builds&gt;&lt;plugin&gt;</code> section and specifying an <code>&lt;execution&gt;</code>. But so far I wasn't able to achieve the desired result.</p>\n<p>I am using the following:</p>\n<ul>\n<li>Apache Maven v3.9.2</li>\n<li>MojoHaus Taglist Maven Plugin v3.0.0</li>\n</ul>\n"},{"tags":["java","mergesort"],"answers":[{"tags":[],"owner":{"account_id":5823909,"reputation":136952,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764864,"creation_date":1676026152,"answer_id":75410062,"question_id":75390053,"body_markdown":"The argument `high` in your code is the index of the last element in the slice to be sorted or merged. Are you sure you pass `array.length - 1` as the last argument to the topmost call to `mergeSort()`?\r\n\r\nAlso make sure you allocate the `temp` array with the same length as the array to be sorted.\r\n\r\nThis convention is confusing and does not allow for empty arrays. You might instead use a more idiomatic convention where `high` is the index of the element after the last one and you pass `array.length` to the topmost call.\r\n\r\nHere is a modified version:\r\n```\r\npublic static void mergeSort(int[] arr, int[] temp, int low, int high) {\r\n    if (high - low &gt; 1) {\r\n        int mid = low + (high - low) / 2;\r\n        mergeSort(arr, temp, low, mid);\r\n        mergeSort(arr, temp, mid, high);\r\n        merge(arr, temp, low, mid, high);\r\n    }\r\n}\r\n\r\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\r\n\r\n    for (int i = low; i &lt; high; i++) {\r\n        temp[i] = arr[i];\r\n    }\r\n    \r\n    int i = low;\r\n    int j = mid; \r\n    int k = low;\r\n    \r\n    while (i &lt; mid &amp;&amp; j &lt; high) {\r\n        if (temp[i] &lt;= temp[j]) {\r\n            arr[k++] = temp[i++];\r\n        } else {\r\n            arr[k++] = temp[j++];\r\n        }\r\n    }\r\n    while (i &lt; mid) {\r\n        arr[k++] = temp[i++];\r\n    }\r\n}\r\n```","title":"What is wrong with this code when i sort only a portion of an array not starting from index 0?","body":"<p>The argument <code>high</code> in your code is the index of the last element in the slice to be sorted or merged. Are you sure you pass <code>array.length - 1</code> as the last argument to the topmost call to <code>mergeSort()</code>?</p>\n<p>Also make sure you allocate the <code>temp</code> array with the same length as the array to be sorted.</p>\n<p>This convention is confusing and does not allow for empty arrays. You might instead use a more idiomatic convention where <code>high</code> is the index of the element after the last one and you pass <code>array.length</code> to the topmost call.</p>\n<p>Here is a modified version:</p>\n<pre><code>public static void mergeSort(int[] arr, int[] temp, int low, int high) {\n    if (high - low &gt; 1) {\n        int mid = low + (high - low) / 2;\n        mergeSort(arr, temp, low, mid);\n        mergeSort(arr, temp, mid, high);\n        merge(arr, temp, low, mid, high);\n    }\n}\n\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\n\n    for (int i = low; i &lt; high; i++) {\n        temp[i] = arr[i];\n    }\n    \n    int i = low;\n    int j = mid; \n    int k = low;\n    \n    while (i &lt; mid &amp;&amp; j &lt; high) {\n        if (temp[i] &lt;= temp[j]) {\n            arr[k++] = temp[i++];\n        } else {\n            arr[k++] = temp[j++];\n        }\n    }\n    while (i &lt; mid) {\n        arr[k++] = temp[i++];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27737586,"reputation":9,"user_id":21174796,"display_name":"YyY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687764864,"creation_date":1675879892,"question_id":75390053,"body_markdown":"When I use `mergeSort` to sort a portion of an array it gives `ArrayIndexOutOfBoundsException` but if I merge a portion starting from the index 0 to any other index it works why?\r\n \r\n```\r\npublic static void mergeSort(int[] arr, int[] temp, int low, int high) {\r\n\tif (low &lt; high) {\r\n\t\tint mid = low + (high - low) / 2;\r\n\t\t\r\n\t\tmergeSort(arr, temp, low, mid);\r\n\t\tmergeSort(arr, temp, mid + 1, high);\r\n\t\tmerge(arr, temp, low, mid, high);\r\n\t}\r\n}\r\n\r\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\r\n\r\n\tfor (int i = low; i &lt;= high; i++) {\r\n\t\ttemp[i] = arr[i];\r\n\t}\r\n\t\r\n\tint i = low;\r\n\tint j = mid + 1; \r\n\tint k = low;\r\n\t\r\n\twhile (i &lt;= mid &amp;&amp; j &lt;= high) {\r\n\t\tif (temp[i] &lt;= temp[j]) {\r\n\t\t\tarr[k] = temp[i];\r\n\t\t\ti++;\r\n\t\t} else {\r\n\t\t\tarr[k] = temp[j];\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tk++;\r\n\t}\r\n\twhile (i &lt;= mid) {\r\n\t\tarr[k] = temp[i];\r\n\t\ti++;\r\n\t\tk++;\r\n\t}\r\n}\r\n```\r\n\r\nI get an error `ArrayIndexOutOfBoundsException`.\r\n","title":"What is wrong with this code when i sort only a portion of an array not starting from index 0?","body":"<p>When I use <code>mergeSort</code> to sort a portion of an array it gives <code>ArrayIndexOutOfBoundsException</code> but if I merge a portion starting from the index 0 to any other index it works why?</p>\n<pre><code>public static void mergeSort(int[] arr, int[] temp, int low, int high) {\n    if (low &lt; high) {\n        int mid = low + (high - low) / 2;\n        \n        mergeSort(arr, temp, low, mid);\n        mergeSort(arr, temp, mid + 1, high);\n        merge(arr, temp, low, mid, high);\n    }\n}\n\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\n\n    for (int i = low; i &lt;= high; i++) {\n        temp[i] = arr[i];\n    }\n    \n    int i = low;\n    int j = mid + 1; \n    int k = low;\n    \n    while (i &lt;= mid &amp;&amp; j &lt;= high) {\n        if (temp[i] &lt;= temp[j]) {\n            arr[k] = temp[i];\n            i++;\n        } else {\n            arr[k] = temp[j];\n            j++;\n        }\n        k++;\n    }\n    while (i &lt;= mid) {\n        arr[k] = temp[i];\n        i++;\n        k++;\n    }\n}\n</code></pre>\n<p>I get an error <code>ArrayIndexOutOfBoundsException</code>.</p>\n"},{"tags":["java","spring-boot","migration","hibernate-6.x"],"answers":[{"tags":[],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687762082,"creation_date":1687762082,"answer_id":76554150,"question_id":76479175,"body_markdown":"I found the methods greaterThan(), lessThan() in CriteriaBuilder that I have used.\r\n\r\nFor example, \r\n\r\n    predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\r\n                ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\r\n\r\nupdated to,\r\n\r\n    predicates.add(builder.greaterThan(root.get(&quot;startDate&quot;), startDate);\r\n\r\n\r\nHope this helps someone!","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>I found the methods greaterThan(), lessThan() in CriteriaBuilder that I have used.</p>\n<p>For example,</p>\n<pre><code>predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\n            ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\n</code></pre>\n<p>updated to,</p>\n<pre><code>predicates.add(builder.greaterThan(root.get(&quot;startDate&quot;), startDate);\n</code></pre>\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764419,"creation_date":1687764419,"answer_id":76554419,"question_id":76479175,"body_markdown":"you can try this approach also\r\n\r\n    if(Optional.ofNullable(getStartDate()).isPresent()) {\r\n                predicates.and(root.get(&quot;startDate&quot;).goe(startDate));\r\n            }\r\n\r\n","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>you can try this approach also</p>\n<pre><code>if(Optional.ofNullable(getStartDate()).isPresent()) {\n            predicates.and(root.get(&quot;startDate&quot;).goe(startDate));\n        }\n</code></pre>\n"}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554150,"answer_count":2,"score":0,"last_activity_date":1687764419,"creation_date":1686804153,"question_id":76479175,"body_markdown":"We are migrating from springboot 2.5 to the latest 3.1.0, which means hibernate migration 5.x to 6.x.\r\n\r\nI have below code which use two classes &#39;CriteriaBuilderImpl&#39; and &#39;ComparisonPredicate&#39;, which I think are removed in hibernate 6.x. As I have read the migration guides (https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria) which calls for an action =&gt; Migrate existing code that relies on legacy Hibernate Criteria API to the JPA Criteria API.\r\n\r\nCan someone please suggest how the below code can be migrated to be hibernate 6.x comptatible ? As of now with springboot 3.1.0, the below code gives me &#39;cannot find symbol&#39; for the above two classes.\r\nThanks in advance.\r\n  \r\n\r\n    import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\r\n    import org.hibernate.query.criteria.internal.predicate.ComparisonPredicate;       \r\n\r\n        private Specification&lt;ProductDAO&gt; getSpecFromDatesAndExample(CriteriaBuilder builder, Date startDate, Date endDate) {\r\n               final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n               \r\n               predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\r\n                    ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\r\n    \r\n               predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder, \r\n                    ComparisonPredicate.ComparisonOperator.LESS_THAN, root.get(&quot;endDate&quot;), endDate));\r\n        \r\n                    return builder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n   \r\n        }","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>We are migrating from springboot 2.5 to the latest 3.1.0, which means hibernate migration 5.x to 6.x.</p>\n<p>I have below code which use two classes 'CriteriaBuilderImpl' and 'ComparisonPredicate', which I think are removed in hibernate 6.x. As I have read the migration guides (<a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria</a>) which calls for an action =&gt; Migrate existing code that relies on legacy Hibernate Criteria API to the JPA Criteria API.</p>\n<p>Can someone please suggest how the below code can be migrated to be hibernate 6.x comptatible ? As of now with springboot 3.1.0, the below code gives me 'cannot find symbol' for the above two classes.\nThanks in advance.</p>\n<pre><code>import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\nimport org.hibernate.query.criteria.internal.predicate.ComparisonPredicate;       \n\n    private Specification&lt;ProductDAO&gt; getSpecFromDatesAndExample(CriteriaBuilder builder, Date startDate, Date endDate) {\n           final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n           \n           predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\n                ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\n\n           predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder, \n                ComparisonPredicate.ComparisonOperator.LESS_THAN, root.get(&quot;endDate&quot;), endDate));\n    \n                return builder.and(predicates.toArray(new Predicate[predicates.size()]));\n\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-3","maven-site-plugin"],"comments":[{"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"score":0,"creation_date":1688391924,"post_id":76533243,"comment_id":135064228,"body_markdown":"I do think it is impossible because the `aggregate` reports have to be declared on the same level on which the `mvn site site:stage` command is executed, in order to make it work. Note that this does **not** prevent one to add additional multi-module projects below the Aggregate POM (which is on the top-level, but below the Company POM). By doing this, I got the directory structure I wanted, but also the POM inheritance structure I wanted. I do not know, if this costs runtime penalties during Maven Site generation. So far, I did not observe any duplicate (unwanted) reports in the output.","body":"I do think it is impossible because the <code>aggregate</code> reports have to be declared on the same level on which the <code>mvn site site:stage</code> command is executed, in order to make it work. Note that this does <b>not</b> prevent one to add additional multi-module projects below the Aggregate POM (which is on the top-level, but below the Company POM). By doing this, I got the directory structure I wanted, but also the POM inheritance structure I wanted. I do not know, if this costs runtime penalties during Maven Site generation. So far, I did not observe any duplicate (unwanted) reports in the output."}],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687764263,"creation_date":1687446089,"question_id":76533243,"body_markdown":"**Update:** I&#39;ve created a Short, Self Contained, Correct Example (SSCCE) [here][2].\r\n\r\nI&#39;m currently refactoring a multi-module Apache Maven Proof-of-Concept project and have an issue regarding `reporting` plugins or the Maven Site generation.\r\n\r\nMy structure is as follows (list intent == inheritance):\r\n\r\n- Company POM\r\n  -  Company Bills of Material (BoM)\r\n- Aggregator POM\r\n  - Code Project Aggregator POM (all source code projects)\r\n    - Library JAR\r\n    - Application JAR\r\n  - Code Coverage Aggregator POM (a non-source code project)\r\n\r\nThe Company POM uses Convention-over-Configuration and does not define any `inherited` reports, but only &quot;single&quot; reports, e.g:\r\n\r\n    &lt;reporting&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n            &lt;reportSets&gt;\r\n                &lt;reportSet&gt;\r\n                    &lt;reports&gt;\r\n                        &lt;report&gt;pmd&lt;/report&gt;\r\n                    &lt;/reports&gt;\r\n                &lt;/reportSet&gt;\r\n            &lt;/reportSets&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\nThe top-level &quot;Aggregator POM&quot; does not define any `reporting` plugins. It&#39;s main purpose is to aggregate and allow to separate the &quot;source code&quot; and &quot;non-source code&quot; child projects:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;pom/code-project-aggregator&lt;/module&gt;\r\n        &lt;module&gt;pom/code-coverage-aggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\nThe &quot;Code Project Aggregator POM&quot; defines the `aggregate` reports with `&lt;inherited&gt;false&lt;/inherited&gt;` and includes all source code projects as modules:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;../../lib/foo&lt;/module&gt;\r\n        &lt;module&gt;../../app/bar&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;reporting&gt;\r\n      &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n              &lt;reportSets&gt;\r\n                  &lt;reportSet&gt;\r\n                      &lt;id&gt;aggregate&lt;/id&gt;\r\n                      &lt;inherited&gt;false&lt;/inherited&gt;\r\n                      &lt;reports&gt;\r\n                          &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n                      &lt;/reports&gt;\r\n                  &lt;/reportSet&gt;\r\n              &lt;/reportSets&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\nThe problem is, that the generated Maven Site for the top-level &quot;Aggregator POM&quot; does not include the reports if calling `mvn verify site-deploy`.\r\n\r\nThe reports are generated if `mvn verify site-deploy` is called for the &quot;Code Project Aggregator POM&quot;. But I want to create the top-level site. I don&#39;t understand what is happening here: It seems that the aggregate reports are not bound to `site` if called on the top level.\r\n\r\nTwo questions:\r\n\r\n1. Can someone explain this behavior?\r\n2. Can someone provide the solution (or guide me into the right direction) that generates and includes the aggregate reports in the child multi-module project if calling `mvn verify site-deploy` on the top multi-module project?\r\n\r\nI&#39;ve read [Building multi-module sites][1], but couldn&#39;t find any mention of issues regarding my approach.\r\n\r\n**Update #1 2023-06-23:** I&#39;ve looked at the Effective POM of &quot;Code Project Aggregator POM&quot; and the `aggregate` reports are included there. It seems they are simply not &quot;triggered&quot; if calling `mvn verify site-deploy` on the parent project.\r\n\r\n    &lt;reporting&gt;\r\n      &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;pmd&lt;/report&gt;\r\n              &lt;report&gt;cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n              &lt;report&gt;aggregate-cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n            &lt;inherited&gt;false&lt;/inherited&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/reporting&gt;\r\n\r\n**Update #2 2023-06-23:** I was able to fix the PMD aggregate report creation by specifiying a unique `&lt;id&gt;` to each and every `reportSet` in the `pom.xml` files. **But:** This is **not** the complete solution, because it did not fix aggregate report creation for other plugins, e.g. Checkstyle, JXR, Surefire, Failsafe and Taglist. I took a closer look at the Effective POM and I am unable to explain this behavior. Both PMD and Checkstyle are registered for the `maven-site-plugin` below `&lt;build&gt;/&lt;plugin&gt;` in the `execution` with the ID `default-site` as a `reportPlugin`:\r\n\r\n    &lt;reportPlugins&gt;\r\n      &lt;reportPlugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;checkstyle-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;checkstyle&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate-checkstyle-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;checkstyle-aggregate&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/reportPlugin&gt;\r\n      &lt;reportPlugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;pmd-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;pmd&lt;/report&gt;\r\n              &lt;report&gt;cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate-pmd-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n              &lt;report&gt;aggregate-cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/reportPlugin&gt;\r\n    &lt;/reportPlugins&gt;\r\n\r\n**Update 3 2023-06-26:** I&#39;ve created a Short, Self Contained, Correct Example (SSCCE) as a [Git repository on GitHub][2].\r\n\r\n[1]: https://maven.apache.org/plugins/maven-site-plugin/examples/multimodule.html\r\n[2]: https://github.com/FlorianWolters/stackoverflow-76533243","title":"How to add aggregate site reports in a nested multi-module project to the site of a parent multi-module project with Apache Maven?","body":"<p><strong>Update:</strong> I've created a Short, Self Contained, Correct Example (SSCCE) <a href=\"https://github.com/FlorianWolters/stackoverflow-76533243\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I'm currently refactoring a multi-module Apache Maven Proof-of-Concept project and have an issue regarding <code>reporting</code> plugins or the Maven Site generation.</p>\n<p>My structure is as follows (list intent == inheritance):</p>\n<ul>\n<li>Company POM\n<ul>\n<li>Company Bills of Material (BoM)</li>\n</ul>\n</li>\n<li>Aggregator POM\n<ul>\n<li>Code Project Aggregator POM (all source code projects)\n<ul>\n<li>Library JAR</li>\n<li>Application JAR</li>\n</ul>\n</li>\n<li>Code Coverage Aggregator POM (a non-source code project)</li>\n</ul>\n</li>\n</ul>\n<p>The Company POM uses Convention-over-Configuration and does not define any <code>inherited</code> reports, but only &quot;single&quot; reports, e.g:</p>\n<pre><code>&lt;reporting&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n        &lt;reportSets&gt;\n            &lt;reportSet&gt;\n                &lt;reports&gt;\n                    &lt;report&gt;pmd&lt;/report&gt;\n                &lt;/reports&gt;\n            &lt;/reportSet&gt;\n        &lt;/reportSets&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>The top-level &quot;Aggregator POM&quot; does not define any <code>reporting</code> plugins. It's main purpose is to aggregate and allow to separate the &quot;source code&quot; and &quot;non-source code&quot; child projects:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;pom/code-project-aggregator&lt;/module&gt;\n    &lt;module&gt;pom/code-coverage-aggregator&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>The &quot;Code Project Aggregator POM&quot; defines the <code>aggregate</code> reports with <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> and includes all source code projects as modules:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;../../lib/foo&lt;/module&gt;\n    &lt;module&gt;../../app/bar&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;reporting&gt;\n  &lt;plugins&gt;\n      &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n          &lt;reportSets&gt;\n              &lt;reportSet&gt;\n                  &lt;id&gt;aggregate&lt;/id&gt;\n                  &lt;inherited&gt;false&lt;/inherited&gt;\n                  &lt;reports&gt;\n                      &lt;report&gt;aggregate-pmd&lt;/report&gt;\n                  &lt;/reports&gt;\n              &lt;/reportSet&gt;\n          &lt;/reportSets&gt;\n      &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>The problem is, that the generated Maven Site for the top-level &quot;Aggregator POM&quot; does not include the reports if calling <code>mvn verify site-deploy</code>.</p>\n<p>The reports are generated if <code>mvn verify site-deploy</code> is called for the &quot;Code Project Aggregator POM&quot;. But I want to create the top-level site. I don't understand what is happening here: It seems that the aggregate reports are not bound to <code>site</code> if called on the top level.</p>\n<p>Two questions:</p>\n<ol>\n<li>Can someone explain this behavior?</li>\n<li>Can someone provide the solution (or guide me into the right direction) that generates and includes the aggregate reports in the child multi-module project if calling <code>mvn verify site-deploy</code> on the top multi-module project?</li>\n</ol>\n<p>I've read <a href=\"https://maven.apache.org/plugins/maven-site-plugin/examples/multimodule.html\" rel=\"nofollow noreferrer\">Building multi-module sites</a>, but couldn't find any mention of issues regarding my approach.</p>\n<p><strong>Update #1 2023-06-23:</strong> I've looked at the Effective POM of &quot;Code Project Aggregator POM&quot; and the <code>aggregate</code> reports are included there. It seems they are simply not &quot;triggered&quot; if calling <code>mvn verify site-deploy</code> on the parent project.</p>\n<pre><code>&lt;reporting&gt;\n  &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;reports&gt;\n          &lt;report&gt;pmd&lt;/report&gt;\n          &lt;report&gt;cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;aggregate-pmd&lt;/report&gt;\n          &lt;report&gt;aggregate-cpd&lt;/report&gt;\n        &lt;/reports&gt;\n        &lt;inherited&gt;false&lt;/inherited&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/plugin&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p><strong>Update #2 2023-06-23:</strong> I was able to fix the PMD aggregate report creation by specifiying a unique <code>&lt;id&gt;</code> to each and every <code>reportSet</code> in the <code>pom.xml</code> files. <strong>But:</strong> This is <strong>not</strong> the complete solution, because it did not fix aggregate report creation for other plugins, e.g. Checkstyle, JXR, Surefire, Failsafe and Taglist. I took a closer look at the Effective POM and I am unable to explain this behavior. Both PMD and Checkstyle are registered for the <code>maven-site-plugin</code> below <code>&lt;build&gt;/&lt;plugin&gt;</code> in the <code>execution</code> with the ID <code>default-site</code> as a <code>reportPlugin</code>:</p>\n<pre><code>&lt;reportPlugins&gt;\n  &lt;reportPlugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;checkstyle-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;checkstyle&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate-checkstyle-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;checkstyle-aggregate&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/reportPlugin&gt;\n  &lt;reportPlugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;pmd-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;pmd&lt;/report&gt;\n          &lt;report&gt;cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate-pmd-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;aggregate-pmd&lt;/report&gt;\n          &lt;report&gt;aggregate-cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/reportPlugin&gt;\n&lt;/reportPlugins&gt;\n</code></pre>\n<p><strong>Update 3 2023-06-26:</strong> I've created a Short, Self Contained, Correct Example (SSCCE) as a <a href=\"https://github.com/FlorianWolters/stackoverflow-76533243\" rel=\"nofollow noreferrer\">Git repository on GitHub</a>.</p>\n"},{"tags":["java","multithreading","thread-safety","threadpool"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":3,"creation_date":1687763973,"post_id":76554348,"comment_id":134976657,"body_markdown":"It depends on mainly things: Your requirements and your system configs. So there is no direct yes or no to this question.","body":"It depends on mainly things: Your requirements and your system configs. So there is no direct yes or no to this question."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687772060,"post_id":76554348,"comment_id":134978190,"body_markdown":"If your only requirement is to minimize the number of threads, then why create any threads at all? What is driving you to want more than one thread?","body":"If your only requirement is to minimize the number of threads, then why create any threads at all? What is driving you to want more than one thread?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687772536,"post_id":76554348,"comment_id":134978303,"body_markdown":"P.S., Thread  pool always is better than continually creating and destroying short-lived threads. But `size==1` is a special case. You usually only see `size==1` when there is a requirement for tasks to run &quot;in the background,&quot; but must be executed _sequentially_ &quot;in the background.&quot;","body":"P.S., Thread  pool always is better than continually creating and destroying short-lived threads. But <code>size==1</code> is a special case. You usually only see <code>size==1</code> when there is a requirement for tasks to run &quot;in the background,&quot; but must be executed <i>sequentially</i> &quot;in the background.&quot;"},{"owner":{"account_id":7869153,"reputation":55,"user_id":5947073,"accept_rate":0,"display_name":"P.Ellis"},"score":0,"creation_date":1687777949,"post_id":76554348,"comment_id":134979351,"body_markdown":"I need to run the tasks in the background and only one component should use the synchronized block at a time so I think a threadpool size ==1 seems to be the better approach for my use case (and the block need not be synchronized). Thank you","body":"I need to run the tasks in the background and only one component should use the synchronized block at a time so I think a threadpool size ==1 seems to be the better approach for my use case (and the block need not be synchronized). Thank you"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764230,"creation_date":1687764230,"answer_id":76554398,"question_id":76554348,"body_markdown":"It depends on your requirements. For CPU intensive tasks, you&#39;ll want to limit the number of threads to the number of CPU cores. For I/O intensive tasks, you can go higher, as many of those threads will be idle or waiting. Java offers a lot of configuration options, I&#39;d start with reading about [Executors](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html).\r\n\r\nYou mentioned a `synchronized` block. If that covers most or all of your &quot;async&quot; task, there&#39;s not much point in having more than one thread. But note that if you have multiple instances of a class which has a `synchronized` *instance* method (so not a static method), those won&#39;t block each other.","title":"Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating","body":"<p>It depends on your requirements. For CPU intensive tasks, you'll want to limit the number of threads to the number of CPU cores. For I/O intensive tasks, you can go higher, as many of those threads will be idle or waiting. Java offers a lot of configuration options, I'd start with reading about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a>.</p>\n<p>You mentioned a <code>synchronized</code> block. If that covers most or all of your &quot;async&quot; task, there's not much point in having more than one thread. But note that if you have multiple instances of a class which has a <code>synchronized</code> <em>instance</em> method (so not a static method), those won't block each other.</p>\n"}],"owner":{"account_id":7869153,"reputation":55,"user_id":5947073,"accept_rate":0,"display_name":"P.Ellis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687764230,"creation_date":1687763843,"question_id":76554348,"body_markdown":"I don&#39;t work with threads very much. I have about 500 instances of a class using a synchronized block. I need to minimise the number of threads as much as possible.\r\n\r\nIs it better to have a threadpool size = 1 or many threads being created, running a small task and terminating?","title":"Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating","body":"<p>I don't work with threads very much. I have about 500 instances of a class using a synchronized block. I need to minimise the number of threads as much as possible.</p>\n<p>Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating?</p>\n"},{"tags":["java","quarkus","mutiny","quarkus-reactive"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1667831200,"post_id":74347822,"comment_id":131254903,"body_markdown":"`Uni.createFrom().item(finalList)` creates a `Uni` that is already complete. You need to create a `Uni` that is incomplete (or &quot;in progress&quot;), return it, and when all the processing is done, complete. You can use e.g. an emitter: https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/creating-uni-pipelines/#creating-unis-using-an-emitter-advanced Alternatively, you can create multiple `Uni`s (which you already do) and then join them: https://smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/#joining-multiple-unis","body":"<code>Uni.createFrom().item(finalList)</code> creates a <code>Uni</code> that is already complete. You need to create a <code>Uni</code> that is incomplete (or &quot;in progress&quot;), return it, and when all the processing is done, complete. You can use e.g. an emitter: <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/creating-uni-pipelines/#creating-unis-using-an-emitter-advanced\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/1.7.0/tutorials/&hellip;</a> Alternatively, you can create multiple <code>Uni</code>s (which you already do) and then join them: <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/#joining-multiple-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/&hellip;</a>"},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667833892,"post_id":74347822,"comment_id":131256022,"body_markdown":"After reading again the documentation i kinda understand how the emitter works but inside the documentation it never shows how he got the result and i can&#39;t seem to find any other documentation about this","body":"After reading again the documentation i kinda understand how the emitter works but inside the documentation it never shows how he got the result and i can&#39;t seem to find any other documentation about this"}],"answers":[{"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667910226,"creation_date":1667910226,"answer_id":74360701,"question_id":74347822,"body_markdown":"You return a list, but the asynchronous processing on the `Uni` is delayed, so your list will be empty.\r\n\r\nYou should try returning a `Uni` from the pipeline that you create (and also see `collect()`, `toUni()` to put into lists) instead of doing a subscription, collect the results and re-wrap into a `Uni`.","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>You return a list, but the asynchronous processing on the <code>Uni</code> is delayed, so your list will be empty.</p>\n<p>You should try returning a <code>Uni</code> from the pipeline that you create (and also see <code>collect()</code>, <code>toUni()</code> to put into lists) instead of doing a subscription, collect the results and re-wrap into a <code>Uni</code>.</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668030177,"creation_date":1667918436,"answer_id":74362554,"question_id":74347822,"body_markdown":"You could rewrite the method like this:\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\r\n\t\tList&lt;Uni&lt;String&gt;&gt; unis = new ArrayList&lt;&gt;();\r\n\t\tList.of(&quot;hello&quot;, &quot;RestEasy&quot;).forEach( e -&gt; {\r\n\t\t\tunis.add( Uni.createFrom().item( e )\r\n                .onItem().delayIt().by( Duration.ofMillis( 10000 ) ) );\r\n\t\t} );\r\n\r\n\t\treturn Uni.combine().all().unis( unis )\r\n\t\t\t\t.combinedWith( list -&gt; (List&lt;String&gt;) list);\r\n    }\r\n```\r\n\r\nNote that when you write reactive code, you want to avoid using `.await().indefinetly`. It shouldn&#39;t be needed anyway when using Quarkus, because it recognizes async API and interpret the results accordingly.\r\n\r\nYou also don&#39;t need to subscribe the Uni or Multi when using Quarkus, for the same reason.\r\n\r\nBased on my previous example, you can rewrite your use case with endpoints as:\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;Car&gt; testingMutiny() {\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1, variable2, variable3);\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,variable2, variable3);\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,variable2, variable3);\r\n\r\n            return Uni.combine()\r\n                    .all()\r\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                    .combinedWith(list -&gt; {\r\n                        // Result of carDoorsUni\r\n                        List&lt;JsonObjectCar&gt; carDoors = list.get(0);\r\n\r\n                        // Result of carWheelsUni\r\n                        List&lt;JsonObjectCar&gt; carWheels = list.get(1);\r\n\r\n                        // Result of carWindowsUni\r\n                        List&lt;JsonObjectCar&gt; carWindows = list.get(2);\r\n                        \r\n                        // Create a car instance with the previous results\r\n                        Car car = createCar(...);\r\n\r\n                        // You can also return a list of cars, but you need to change the return type of testingMutiny to Uni&lt;List&lt;Car&gt;&gt;\r\n                        return car;\r\n                    })\r\n                    .invoke( () -&gt; System.out.println(&quot;Okay it worked&quot;));\r\n    }\r\n```","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>You could rewrite the method like this:</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\n        List&lt;Uni&lt;String&gt;&gt; unis = new ArrayList&lt;&gt;();\n        List.of(&quot;hello&quot;, &quot;RestEasy&quot;).forEach( e -&gt; {\n            unis.add( Uni.createFrom().item( e )\n                .onItem().delayIt().by( Duration.ofMillis( 10000 ) ) );\n        } );\n\n        return Uni.combine().all().unis( unis )\n                .combinedWith( list -&gt; (List&lt;String&gt;) list);\n    }\n</code></pre>\n<p>Note that when you write reactive code, you want to avoid using <code>.await().indefinetly</code>. It shouldn't be needed anyway when using Quarkus, because it recognizes async API and interpret the results accordingly.</p>\n<p>You also don't need to subscribe the Uni or Multi when using Quarkus, for the same reason.</p>\n<p>Based on my previous example, you can rewrite your use case with endpoints as:</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;Car&gt; testingMutiny() {\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1, variable2, variable3);\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,variable2, variable3);\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,variable2, variable3);\n\n            return Uni.combine()\n                    .all()\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                    .combinedWith(list -&gt; {\n                        // Result of carDoorsUni\n                        List&lt;JsonObjectCar&gt; carDoors = list.get(0);\n\n                        // Result of carWheelsUni\n                        List&lt;JsonObjectCar&gt; carWheels = list.get(1);\n\n                        // Result of carWindowsUni\n                        List&lt;JsonObjectCar&gt; carWindows = list.get(2);\n                        \n                        // Create a car instance with the previous results\n                        Car car = createCar(...);\n\n                        // You can also return a list of cars, but you need to change the return type of testingMutiny to Uni&lt;List&lt;Car&gt;&gt;\n                        return car;\n                    })\n                    .invoke( () -&gt; System.out.println(&quot;Okay it worked&quot;));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":281349,"reputation":954,"user_id":2179502,"display_name":"SidMorad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687763633,"creation_date":1687763633,"answer_id":76554324,"question_id":74347822,"body_markdown":"With `Multi` and `Stream` we could come up with something like: \r\n```java\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Multi&lt;String&gt; testingMutiny() {\r\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\r\n        completeList.add(&quot;hello&quot;);\r\n        completeList.add(&quot;RestEasy&quot;);\r\n\r\n        return Multi.createFrom().items(completeList.stream()).onItem()\r\n                .transformToUni(value -&gt; Uni.createFrom().item(value.toUpperCase()))\r\n                .concatenate();\r\n    }\r\n```\r\nAlso is good to know about differences between [Merging and Concatenating Streams](https://smallrye.io/smallrye-mutiny/2.3.0/guides/merging-and-concatenating-streams/)","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>With <code>Multi</code> and <code>Stream</code> we could come up with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Multi&lt;String&gt; testingMutiny() {\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\n        completeList.add(&quot;hello&quot;);\n        completeList.add(&quot;RestEasy&quot;);\n\n        return Multi.createFrom().items(completeList.stream()).onItem()\n                .transformToUni(value -&gt; Uni.createFrom().item(value.toUpperCase()))\n                .concatenate();\n    }\n</code></pre>\n<p>Also is good to know about differences between <a href=\"https://smallrye.io/smallrye-mutiny/2.3.0/guides/merging-and-concatenating-streams/\" rel=\"nofollow noreferrer\">Merging and Concatenating Streams</a></p>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4960,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362554,"answer_count":3,"score":0,"last_activity_date":1687763633,"creation_date":1667829704,"question_id":74347822,"body_markdown":"I can&#39;t find a correct solution to this problem and I&#39;m stuck. Let&#39;s say I have this method\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\r\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\r\n        completeList.add(&quot;hello&quot;);\r\n        completeList.add(&quot;RestEasy&quot;);\r\n\r\n        List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\r\n\r\n        completeList.forEach(e -&gt; Uni.createFrom().item(e)\r\n                .onItem().delayIt().by(Duration.ofMillis(10000))\r\n                .map(value -&gt; finalList.add(value.toUpperCase()))\r\n                .subscribe().asCompletionStage());\r\n\r\n\r\n        return Uni.createFrom().item(finalList);\r\n    }\r\n\r\n```\r\n\r\nAs you see the method is simple it just takes the values from 1 list and adds them to the second one but what&#39;s the problem? When you add the waiting `.onItem().delayIt().by(Duration.ofMillis(10000))` the program will return an empty list and after a while, it will just update the list. I created this method to simulate a request that the response that has some delay in it.\r\n\r\n Let&#39;s say you hit 2 URLs with 2 different Unis after that you try to combine them and return it as one Uni. The problem is if one of those 2 URLs delay for some reason we will return the list empty but I don&#39;t want that to happen I either want the list to be completed 100% or return an error if it takes a while.\r\n\r\n\r\nWhat is the best approach to that? I understand that if you add await() you are blocking the main thread and you lose all the value of using the reactive library but still, I can&#39;t find a way for this to work\r\n\r\n\r\n**EDIT**\r\n\r\nI have found out that the external URL I try to call takes about 5 seconds to do the job so I want my code to stop when creating the Uni and continue after I have received an answer from the server. I have seen in their docs ([here][1]) That I can also call await.indefinitely but I receive `The current thread cannot be blocked: vert.x-eventloop-thread-14`. How do I wait for a response from the server?\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/reactive-to-imperative/\r\n\r\n\r\n\r\n**EDIT 2**\r\n\r\nI understand that with strings it doesn&#39;t make sense my question so much so let&#39;s say I have the following one  \r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;Car&gt;&gt; testingMutiny() {\r\n\r\n        //ALL THIS IS IN A FOR EACH FOR EVERY CAR\r\n\r\n            //HIT ENDPOINT GET DOORS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\r\n                    variable2, variable3);\r\n\r\n            //HIT ENDPOINT GET WHEELS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\r\n                    variable2, variable3);\r\n\r\n            //HIT ENDPOINT GET WINDOWS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\r\n                    variable2, variable3);\r\n\r\n            Uni.combine()\r\n                    .all()\r\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                    .combinedWith((carDoors, carWheels, carWindows) -&gt; {\r\n                        //Check if cardoors is present and set the doors into the car object\r\n                        Optional.of(carDoors)\r\n                                .ifPresent(val -&gt; car.setDoors(val.getDoors()));\r\n                        Optional.of(carWheels)\r\n                                .ifPresent(val -&gt; car.setWheels(val.getWheels()));\r\n                        Optional.of(carWindows)\r\n                                .ifPresent(val -&gt; car.setWindows(val.getWindows()));\r\n\r\n                        return car;\r\n                    }).subscribe().with(e-&gt; System.out.println(&quot;Okay it worked&quot;));\r\n            \r\n          //END OF FOR EACH \r\n            \r\n            \r\n            //Return car (Should have been returned with new doors / wheels/ windows but instead its empty)\r\n        return Uni.createFrom().item(car);\r\n\r\n    }\r\n\r\n```\r\n\r\nAs you see in the above code It should have hit some endpoints for doors / wheels / windows and set them into the variable car but what happens, in reality, is that the car is empty because one of those endpoints has been delayed so i return a car without those values inside it. I want to first update the car object and then actually return it ","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>I can't find a correct solution to this problem and I'm stuck. Let's say I have this method</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\n        completeList.add(&quot;hello&quot;);\n        completeList.add(&quot;RestEasy&quot;);\n\n        List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\n\n        completeList.forEach(e -&gt; Uni.createFrom().item(e)\n                .onItem().delayIt().by(Duration.ofMillis(10000))\n                .map(value -&gt; finalList.add(value.toUpperCase()))\n                .subscribe().asCompletionStage());\n\n\n        return Uni.createFrom().item(finalList);\n    }\n\n</code></pre>\n<p>As you see the method is simple it just takes the values from 1 list and adds them to the second one but what's the problem? When you add the waiting <code>.onItem().delayIt().by(Duration.ofMillis(10000))</code> the program will return an empty list and after a while, it will just update the list. I created this method to simulate a request that the response that has some delay in it.</p>\n<p>Let's say you hit 2 URLs with 2 different Unis after that you try to combine them and return it as one Uni. The problem is if one of those 2 URLs delay for some reason we will return the list empty but I don't want that to happen I either want the list to be completed 100% or return an error if it takes a while.</p>\n<p>What is the best approach to that? I understand that if you add await() you are blocking the main thread and you lose all the value of using the reactive library but still, I can't find a way for this to work</p>\n<p><strong>EDIT</strong></p>\n<p>I have found out that the external URL I try to call takes about 5 seconds to do the job so I want my code to stop when creating the Uni and continue after I have received an answer from the server. I have seen in their docs (<a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/reactive-to-imperative/\" rel=\"nofollow noreferrer\">here</a>) That I can also call await.indefinitely but I receive <code>The current thread cannot be blocked: vert.x-eventloop-thread-14</code>. How do I wait for a response from the server?</p>\n<p><strong>EDIT 2</strong></p>\n<p>I understand that with strings it doesn't make sense my question so much so let's say I have the following one</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;Car&gt;&gt; testingMutiny() {\n\n        //ALL THIS IS IN A FOR EACH FOR EVERY CAR\n\n            //HIT ENDPOINT GET DOORS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\n                    variable2, variable3);\n\n            //HIT ENDPOINT GET WHEELS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\n                    variable2, variable3);\n\n            //HIT ENDPOINT GET WINDOWS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\n                    variable2, variable3);\n\n            Uni.combine()\n                    .all()\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                    .combinedWith((carDoors, carWheels, carWindows) -&gt; {\n                        //Check if cardoors is present and set the doors into the car object\n                        Optional.of(carDoors)\n                                .ifPresent(val -&gt; car.setDoors(val.getDoors()));\n                        Optional.of(carWheels)\n                                .ifPresent(val -&gt; car.setWheels(val.getWheels()));\n                        Optional.of(carWindows)\n                                .ifPresent(val -&gt; car.setWindows(val.getWindows()));\n\n                        return car;\n                    }).subscribe().with(e-&gt; System.out.println(&quot;Okay it worked&quot;));\n            \n          //END OF FOR EACH \n            \n            \n            //Return car (Should have been returned with new doors / wheels/ windows but instead its empty)\n        return Uni.createFrom().item(car);\n\n    }\n\n</code></pre>\n<p>As you see in the above code It should have hit some endpoints for doors / wheels / windows and set them into the variable car but what happens, in reality, is that the car is empty because one of those endpoints has been delayed so i return a car without those values inside it. I want to first update the car object and then actually return it</p>\n"},{"tags":["java","amazon-web-services","mariadb","hikaricp"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687789948,"post_id":76554316,"comment_id":134982065,"body_markdown":"Seems to be an infrastructure problem, which would off topic in Stackoverflow. Try adding a validation query to mitigate it.","body":"Seems to be an infrastructure problem, which would off topic in Stackoverflow. Try adding a validation query to mitigate it."}],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687763584,"creation_date":1687763584,"question_id":76554316,"body_markdown":"Good morning, \r\n\r\nCurrently I am encountering a very strange problem, which I am not able to solve on my own: \r\n\r\nI&#39;ve hosted an MariaDB in AWS and my Application is using Hikari Pool for handling connections. The configuaration is listed below. \r\n\r\nThe problem is, that after a few hours (randomly) the connection seems to be broken but not really broken.. Hard to explain, but all reading operations are still working while all write operations fail with the following exceptio. For me it sounds like the Transaction part is broken. I am by far not an expert, but after a lot of testing it seems related to my AWS, as it does not happen on my local computer...\r\n\r\n\r\n     java.sql.SQLNonTransientConnectionException: (conn=6211) Socket error                                                                                                                                                                                                                                                                 |\r\n      at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:293) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                              |\r\n      at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:359) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                       |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.sendQuery(StandardClient.java:506) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:635) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:511) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\r\n      at org.mariadb.jdbc.Connection.setAutoCommit(Connection.java:196) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                                   |\r\n      at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\r\n      at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                           |\r\n      at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                    |\r\n      at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                   |\r\n      at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[BackendService-1.4-all.jar:na]                                                                                                    |\r\n      at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                         |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.enlistInCurrentTransaction(ExtendedEntityManagerCreator.java:414) ~[BackendService-1.4-all.jar:na]                                                                                                                                |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.doJoinTransaction(ExtendedEntityManagerCreator.java:392) ~[BackendService-1.4-all.jar:na]                                                                                                                                         |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:355) ~[BackendService-1.4-all.jar:na]                                                                                                                  \r\n\r\n\r\nHikari Configuration\r\n\r\n\r\n    spring.datasource.hikari.pool-name=carIdentConnectionPool\r\n    spring.datasource.hikari.auto-commit=true\r\n    spring.datasource.hikari.minimum-idle= 10\r\n    spring.datasource.hikari.maximum-pool-size= 20\r\n    spring.datasource.hikari.max-lifetime= 1000 (1sek)\r\n    spring.datasource.hikari.connection-timeout=3000 (3sek)\r\n    spring.datasource.hikari.idle-timeout= 20000 (20sek)\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n","title":"MariaDB and Hikari connection breaks partially","body":"<p>Good morning,</p>\n<p>Currently I am encountering a very strange problem, which I am not able to solve on my own:</p>\n<p>I've hosted an MariaDB in AWS and my Application is using Hikari Pool for handling connections. The configuaration is listed below.</p>\n<p>The problem is, that after a few hours (randomly) the connection seems to be broken but not really broken.. Hard to explain, but all reading operations are still working while all write operations fail with the following exceptio. For me it sounds like the Transaction part is broken. I am by far not an expert, but after a lot of testing it seems related to my AWS, as it does not happen on my local computer...</p>\n<pre><code> java.sql.SQLNonTransientConnectionException: (conn=6211) Socket error                                                                                                                                                                                                                                                                 |\n  at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:293) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                              |\n  at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:359) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                       |\n  at org.mariadb.jdbc.client.impl.StandardClient.sendQuery(StandardClient.java:506) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\n  at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:635) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\n  at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:511) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\n  at org.mariadb.jdbc.Connection.setAutoCommit(Connection.java:196) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                                   |\n  at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\n  at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                           |\n  at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                    |\n  at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                   |\n  at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[BackendService-1.4-all.jar:na]                                                                                                    |\n  at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                         |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.enlistInCurrentTransaction(ExtendedEntityManagerCreator.java:414) ~[BackendService-1.4-all.jar:na]                                                                                                                                |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.doJoinTransaction(ExtendedEntityManagerCreator.java:392) ~[BackendService-1.4-all.jar:na]                                                                                                                                         |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:355) ~[BackendService-1.4-all.jar:na]                                                                                                                  \n</code></pre>\n<p>Hikari Configuration</p>\n<pre><code>spring.datasource.hikari.pool-name=carIdentConnectionPool\nspring.datasource.hikari.auto-commit=true\nspring.datasource.hikari.minimum-idle= 10\nspring.datasource.hikari.maximum-pool-size= 20\nspring.datasource.hikari.max-lifetime= 1000 (1sek)\nspring.datasource.hikari.connection-timeout=3000 (3sek)\nspring.datasource.hikari.idle-timeout= 20000 (20sek)\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\n</code></pre>\n"},{"tags":["java","flutter","android-studio","build.gradle","flutter-dependencies"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687764885,"post_id":76554259,"comment_id":134976852,"body_markdown":"Your Gradle version is too old for Java 17, or you should downgrade to Java 11. Java 17 support was introduced in Gradle 7.3. It is also possible you&#39;re building something use using a plugin which is not compatible with Java 17.","body":"Your Gradle version is too old for Java 17, or you should downgrade to Java 11. Java 17 support was introduced in Gradle 7.3. It is also possible you&#39;re building something use using a plugin which is not compatible with Java 17."},{"owner":{"account_id":20806503,"reputation":1,"user_id":15281293,"display_name":"Usama Tariq"},"score":0,"creation_date":1687765457,"post_id":76554259,"comment_id":134976963,"body_markdown":"The Java version is 11.0.2, but on running flutter doctor -v it returns\n Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694) \nUnable to understand from where it reads the 17 version. How can I change to 11?","body":"The Java version is 11.0.2, but on running flutter doctor -v it returns  Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)  Unable to understand from where it reads the 17 version. How can I change to 11?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687774870,"post_id":76554259,"comment_id":134978802,"body_markdown":"Your Java version is clearly 17.0.6. Likely you have both installed and the JAVA_HOME environment variable points to the Java 17 installation, not the Java 11 installation.","body":"Your Java version is clearly 17.0.6. Likely you have both installed and the JAVA_HOME environment variable points to the Java 17 installation, not the Java 11 installation."}],"owner":{"account_id":20806503,"reputation":1,"user_id":15281293,"display_name":"Usama Tariq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687763127,"creation_date":1687763127,"question_id":76554259,"body_markdown":"I&#39;m getting below exception, on running the old Flutter application:\r\n\r\nWhat went wrong:\r\nExecution failed for task &#39;:app:processAlliedProdDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 35s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nJava, SDK, and Flutter versions:\r\n\r\nFlutter (Channel unknown, 2.8.1, on Microsoft Windows [Version 10.0.22621.1848], locale en-PK)\r\n  • Flutter version 2.8.1 at C:\\src\\flutter\r\n  • Upstream repository unknown\r\n  • Framework revision 77d935af4d (1 year, 6 months ago), 2021-12-16 08:37:33 -0800\r\n  • Engine revision 890a5fca2e\r\n  • Dart version 2.15.1\r\n\r\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\r\n  • Android SDK at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\r\n  • Platform android-33, build-tools 33.0.0\r\n  • ANDROID_HOME = C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\r\n  • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n  • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\r\n  • All Android licenses accepted.\r\n\r\n[√] Chrome - develop for the web\r\n  • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\n\r\n[√] Android Studio (version 2022.2)\r\n  • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n  • Flutter plugin can be installed from:\r\n     https://plugins.jetbrains.com/plugin/9212-flutter\r\n  • Dart plugin can be installed from:\r\n     https://plugins.jetbrains.com/plugin/6351-dart\r\n  • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\r\n\r\n[√] VS Code (version 1.79.2)\r\n  • VS Code at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Programs\\Microsoft VS Code\r\n  • Flutter extension version 3.66.0\r\n\r\n[√] Connected device (3 available)\r\n  • Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\r\n  • Chrome (web)                       • chrome        • web-javascript • Google Chrome 114.0.5735.134\r\n  • Edge (web)                         • edge          • web-javascript • Microsoft Edge 113.0.1774.57\r\n\r\n• No issues found!\r\n\r\nIn `gradle-wrapper.properties`:\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\r\n\r\nIn `gradle.properties`:\r\n\r\norg.gradle.jvmargs=-Xmx1536M\r\n\r\n","title":"Unable to make field private final java.lang.String java.io.File.path accessible:module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db","body":"<p>I'm getting below exception, on running the old Flutter application:</p>\n<p>What went wrong:\nExecution failed for task ':app:processAlliedProdDebugMainManifest'.</p>\n<blockquote>\n<p>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 35s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>Java, SDK, and Flutter versions:</p>\n<p>Flutter (Channel unknown, 2.8.1, on Microsoft Windows [Version 10.0.22621.1848], locale en-PK)\n• Flutter version 2.8.1 at C:\\src\\flutter\n• Upstream repository unknown\n• Framework revision 77d935af4d (1 year, 6 months ago), 2021-12-16 08:37:33 -0800\n• Engine revision 890a5fca2e\n• Dart version 2.15.1</p>\n<p>[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n• Android SDK at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\n• Platform android-33, build-tools 33.0.0\n• ANDROID_HOME = C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\n• Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\n• All Android licenses accepted.</p>\n<p>[√] Chrome - develop for the web\n• Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe</p>\n<p>[√] Android Studio (version 2022.2)\n• Android Studio at C:\\Program Files\\Android\\Android Studio\n• Flutter plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/9212-flutter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9212-flutter</a>\n• Dart plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/6351-dart\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6351-dart</a>\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)</p>\n<p>[√] VS Code (version 1.79.2)\n• VS Code at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Programs\\Microsoft VS Code\n• Flutter extension version 3.66.0</p>\n<p>[√] Connected device (3 available)\n• Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\n• Chrome (web)                       • chrome        • web-javascript • Google Chrome 114.0.5735.134\n• Edge (web)                         • edge          • web-javascript • Microsoft Edge 113.0.1774.57</p>\n<p>• No issues found!</p>\n<p>In <code>gradle-wrapper.properties</code>:</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-6.7-all.zip</p>\n<p>In <code>gradle.properties</code>:</p>\n<p>org.gradle.jvmargs=-Xmx1536M</p>\n"},{"tags":["java","spring-boot","spring-statemachine"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687762179,"post_id":76554092,"comment_id":134976301,"body_markdown":"hi there can you share the full logs","body":"hi there can you share the full logs"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762398,"post_id":76554092,"comment_id":134976346,"body_markdown":"Please add the full stack trace of the exception to your question.","body":"Please add the full stack trace of the exception to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762653,"post_id":76554092,"comment_id":134976396,"body_markdown":"Please add the full stack trace of the *BeanCreationException*!","body":"Please add the full stack trace of the <i>BeanCreationException</i>!"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687762757,"post_id":76554092,"comment_id":134976421,"body_markdown":"added the full logs","body":"added the full logs"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762998,"post_id":76554092,"comment_id":134976467,"body_markdown":"The problem occurs when creating a bean named `stateMachine`, not `claimService`.","body":"The problem occurs when creating a bean named <code>stateMachine</code>, not <code>claimService</code>."},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687763202,"post_id":76554092,"comment_id":134976498,"body_markdown":"I have claimservice. I don&#39;t have any bean with stateMachine and  I think a problem with these two lines .\n@Autowired\nStateMachineFactory factory;\nStateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);  \nCan you help me how to resolve this?","body":"I have claimservice. I don&#39;t have any bean with stateMachine and  I think a problem with these two lines . @Autowired StateMachineFactory factory; StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);   Can you help me how to resolve this?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687763594,"post_id":76554092,"comment_id":134976589,"body_markdown":"Why do you think that? Have you read the stack trace? How do you explain `claimService` not appearing?","body":"Why do you think that? Have you read the stack trace? How do you explain <code>claimService</code> not appearing?"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687768326,"post_id":76554092,"comment_id":134977474,"body_markdown":"Have you seen this in stack trace    main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null.     But if you see no where I am using configration bean inside Service.","body":"Have you seen this in stack trace    main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.&zwnj;&#8203;getTransitions()&quot; because &quot;stateMachineConfig&quot; is null.     But if you see no where I am using configration bean inside Service."},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687769826,"post_id":76554092,"comment_id":134977756,"body_markdown":"For your refrence this is my Config file","body":"For your refrence this is my Config file"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687771787,"post_id":76554092,"comment_id":134978134,"body_markdown":"The problem occurs when creating a bean named stateMachine, not claimService","body":"The problem occurs when creating a bean named stateMachine, not claimService"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687790291,"post_id":76554092,"comment_id":134982157,"body_markdown":"Yes, But not able to create it properly can you help me with any reference do you have?","body":"Yes, But not able to create it properly can you help me with any reference do you have?"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1688374422,"post_id":76554092,"comment_id":135060761,"body_markdown":"Finally, I resolved this issue, it is at the configuration level. I am using two annotations EnableStateMachine and EnableStateMachineFactory. Because Of this, it is building stateMachine object twice. If you want to enable EnableStateMachineFactory Please remove EnableStateMachine Annotation. Only one annotation is needed.","body":"Finally, I resolved this issue, it is at the configuration level. I am using two annotations EnableStateMachine and EnableStateMachineFactory. Because Of this, it is building stateMachine object twice. If you want to enable EnableStateMachineFactory Please remove EnableStateMachine Annotation. Only one annotation is needed."}],"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687762724,"creation_date":1687761488,"question_id":76554092,"body_markdown":"    @Service\r\n    public class ClaimService {\r\n        @Autowired\r\n        ClaimRepository claimRepository;\r\n        @Autowired\r\n        StateMachineFactory factory;\r\n        public boolean selectDate(ClaimRequest claimRequest) {\r\n            StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = build(claimRequest.getId());\r\n            Message&lt;ClaimEvents&gt; addDate = MessageBuilder.withPayload(ClaimEvents.SELECTDATE)\r\n                .setHeader(&quot;claimId&quot;, claimRequest.getId()).build();\r\n            return sm.sendEvent(ClaimEvents.SELECTDATE);\r\n        }\r\n        private StateMachine&lt;ClaimStates, ClaimEvents&gt; build(Long claimId) {\r\n            Claims claims = claimRepository.findById(claimId).get();\r\n            String claimIdKey = Long.toString(claims.getId());\r\n            StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);\r\n            sm.stop();\r\n            sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\r\n            sma.addStateMachineInterceptor(new StateMachineInterceptorAdapter&lt;ClaimStates, ClaimEvents&gt;() {\r\n                //                @Override\r\n                public void preStateChange(State&lt;ClaimStates, ClaimEvents&gt; state, Message&lt;ClaimEvents&gt; message, Transition&lt;ClaimStates, ClaimEvents&gt; transition, StateMachine&lt;ClaimStates, ClaimEvents&gt; stateMachine) {\r\n                    Optional.ofNullable(message).ifPresent(msg -&gt; {\r\n                        Long claimId = Long.class.cast(msg.getHeaders().getOrDefault(&quot;claimId&quot;, -1));\r\n                        Claims claims = claimRepository.findById(claimId).get();\r\n                        claims.setClaimState(state.getId().name());\r\n                        claimRepository.save(claims);\r\n                    });\r\n                }\r\n            });\r\n            sma.resetStateMachine(new DefaultStateMachineContext&lt;ClaimStates, ClaimEvents&gt;(\r\n                    ClaimStates.valueOf(claims.getClaimState()), null, null, null));\r\n        });\r\n        sm.start();\r\n        return sm;\r\n        }\r\n    }\r\n\r\n\r\nHere I am trying the persist State of Application using StateMachine. But when I am working on it is gives issues with its configuration and it&#39;s version.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exc\r\n\r\nfull logs:\r\njava.lang.IllegalStateException: This object has already been built\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:43) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:46) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:34) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.doBuild(AbstractConfiguredAnnotationBuilder.java:112) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:40) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.getOrBuild(AbstractConfiguredAnnotationBuilder.java:129) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:170) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\r\n\r\n2023-06-26 10:45:48.225  WARN 24556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n2023-06-26 10:45:48.227  INFO 24556 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-06-26 10:45:48.238  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-06-26 10:45:48.275  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-06-26 10:45:48.281  INFO 24556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-06-26 10:45:48.320  INFO 24556 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-26 10:45:48.377 ERROR 24556 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n\tat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:171) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 16 common frames omitted\r\n\r\n","title":"Configuration issue with stateMachine and it&#39;s version","body":"<pre><code>@Service\npublic class ClaimService {\n    @Autowired\n    ClaimRepository claimRepository;\n    @Autowired\n    StateMachineFactory factory;\n    public boolean selectDate(ClaimRequest claimRequest) {\n        StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = build(claimRequest.getId());\n        Message&lt;ClaimEvents&gt; addDate = MessageBuilder.withPayload(ClaimEvents.SELECTDATE)\n            .setHeader(&quot;claimId&quot;, claimRequest.getId()).build();\n        return sm.sendEvent(ClaimEvents.SELECTDATE);\n    }\n    private StateMachine&lt;ClaimStates, ClaimEvents&gt; build(Long claimId) {\n        Claims claims = claimRepository.findById(claimId).get();\n        String claimIdKey = Long.toString(claims.getId());\n        StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);\n        sm.stop();\n        sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\n        sma.addStateMachineInterceptor(new StateMachineInterceptorAdapter&lt;ClaimStates, ClaimEvents&gt;() {\n            //                @Override\n            public void preStateChange(State&lt;ClaimStates, ClaimEvents&gt; state, Message&lt;ClaimEvents&gt; message, Transition&lt;ClaimStates, ClaimEvents&gt; transition, StateMachine&lt;ClaimStates, ClaimEvents&gt; stateMachine) {\n                Optional.ofNullable(message).ifPresent(msg -&gt; {\n                    Long claimId = Long.class.cast(msg.getHeaders().getOrDefault(&quot;claimId&quot;, -1));\n                    Claims claims = claimRepository.findById(claimId).get();\n                    claims.setClaimState(state.getId().name());\n                    claimRepository.save(claims);\n                });\n            }\n        });\n        sma.resetStateMachine(new DefaultStateMachineContext&lt;ClaimStates, ClaimEvents&gt;(\n                ClaimStates.valueOf(claims.getClaimState()), null, null, null));\n    });\n    sm.start();\n    return sm;\n    }\n}\n</code></pre>\n<p>Here I am trying the persist State of Application using StateMachine. But when I am working on it is gives issues with its configuration and it's version.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exc\n</code></pre>\n<p>full logs:\njava.lang.IllegalStateException: This object has already been built\nat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:43) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:46) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:34) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.doBuild(AbstractConfiguredAnnotationBuilder.java:112) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:40) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.getOrBuild(AbstractConfiguredAnnotationBuilder.java:129) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:170) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\nat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]</p>\n<p>2023-06-26 10:45:48.225  WARN 24556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\n2023-06-26 10:45:48.227  INFO 24556 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-06-26 10:45:48.238  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-06-26 10:45:48.275  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-06-26 10:45:48.281  INFO 24556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-26 10:45:48.320  INFO 24556 --- [           main] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-06-26 10:45:48.377 ERROR 24556 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\nat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\nat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:171) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\n... 16 common frames omitted</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1425815911,"post_id":28915264,"comment_id":46108466,"body_markdown":"You might be able to, but you shouldn&#39;t. A CallableStatement is _&quot;The interface used to execute SQL stored procedures.&quot;_. You are not calling a stored procedure, so you shouldn&#39;t use it. Now with most JDBC drivers it will probably work, but it could have behavior that is specifically intended for stored procedures, and might result in weird and hard to diagnose problems.","body":"You might be able to, but you shouldn&#39;t. A CallableStatement is <i>&quot;The interface used to execute SQL stored procedures.&quot;</i>. You are not calling a stored procedure, so you shouldn&#39;t use it. Now with most JDBC drivers it will probably work, but it could have behavior that is specifically intended for stored procedures, and might result in weird and hard to diagnose problems."}],"answers":[{"tags":[],"owner":{"account_id":2694106,"reputation":483,"user_id":2326646,"accept_rate":75,"display_name":"Piotr Zych"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1425736604,"creation_date":1425736604,"answer_id":28915608,"question_id":28915264,"body_markdown":"We use CallableStatement to call predefined procedures from database rather than to execute prepared statements.\r\n\r\nPreparedStatement:\r\n\r\n    PreparedStatement pstmt = null;\r\n    try {\r\n       String SQL = &quot;Update Employees SET age = ? WHERE id = ?&quot;;\r\n       pstmt = conn.prepareStatement(SQL);\r\n       . . .\r\n    }\r\n    catch (SQLException e) {\r\n       . . .\r\n    }\r\n    finally {\r\n        pstmt.close();\r\n    }\r\n\r\nCallableStatement:\r\n\r\n    CallableStatement cstmt = null;\r\n    try {\r\n       String SQL = &quot;{call getEmpName (?, ?)}&quot;;\r\n       cstmt = conn.prepareCall (SQL);\r\n       . . .\r\n    }\r\n    catch (SQLException e) {\r\n       . . .\r\n    }\r\n    finally {\r\n       . . .\r\n    }\r\nI suggest you to read this article:\r\n\r\nhttp://www.tutorialspoint.com/jdbc/jdbc-statements.htm","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>We use CallableStatement to call predefined procedures from database rather than to execute prepared statements.</p>\n\n<p>PreparedStatement:</p>\n\n<pre><code>PreparedStatement pstmt = null;\ntry {\n   String SQL = \"Update Employees SET age = ? WHERE id = ?\";\n   pstmt = conn.prepareStatement(SQL);\n   . . .\n}\ncatch (SQLException e) {\n   . . .\n}\nfinally {\n    pstmt.close();\n}\n</code></pre>\n\n<p>CallableStatement:</p>\n\n<pre><code>CallableStatement cstmt = null;\ntry {\n   String SQL = \"{call getEmpName (?, ?)}\";\n   cstmt = conn.prepareCall (SQL);\n   . . .\n}\ncatch (SQLException e) {\n   . . .\n}\nfinally {\n   . . .\n}\n</code></pre>\n\n<p>I suggest you to read this article:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/jdbc/jdbc-statements.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/jdbc/jdbc-statements.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2787533,"reputation":9731,"user_id":2398521,"accept_rate":77,"display_name":"Maxim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1425736784,"creation_date":1425736784,"answer_id":28915639,"question_id":28915264,"body_markdown":"Yes, you can. Difference of [prepareCall](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareCall%28java.lang.String%29) and [prepareStatement](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String%29) methods described in documentation. As you can see they a just optimized for different tasks.\r\n\r\n    package com.company;\r\n\r\n    import java.sql.*;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mysql&quot;, &quot;user&quot;, &quot;password&quot;);\r\n\r\n            CallableStatement callableStatement = connection.prepareCall(&quot;SELECT * FROM db WHERE user = ?&quot;);\r\n            callableStatement.setString(1, &quot;deployer&quot;);\r\n            ResultSet resultSet = callableStatement.executeQuery();\r\n\r\n            while(resultSet.next()) {\r\n                System.out.println(resultSet.getString(&quot;Db&quot;));\r\n            }\r\n\r\n            connection.close();\r\n        }\r\n    }\r\n","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>Yes, you can. Difference of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareCall%28java.lang.String%29\" rel=\"nofollow\">prepareCall</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String%29\" rel=\"nofollow\">prepareStatement</a> methods described in documentation. As you can see they a just optimized for different tasks.</p>\n\n<pre><code>package com.company;\n\nimport java.sql.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n\n        Connection connection = DriverManager.getConnection(\"jdbc:mysql://localhost/mysql\", \"user\", \"password\");\n\n        CallableStatement callableStatement = connection.prepareCall(\"SELECT * FROM db WHERE user = ?\");\n        callableStatement.setString(1, \"deployer\");\n        ResultSet resultSet = callableStatement.executeQuery();\n\n        while(resultSet.next()) {\n            System.out.println(resultSet.getString(\"Db\"));\n        }\n\n        connection.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1160783,"reputation":33,"user_id":1140319,"display_name":"Andrew Evans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687762548,"creation_date":1687762548,"answer_id":76554194,"question_id":28915264,"body_markdown":"For a scenario using Sybase for a some non-trivial SQL (~30 lines using temp tables and while loops) we were having an issue where the exact same prepared statement was being intermittently executed with dynamic prepare and failing, the other times dynamic prepare wasn&#39;t being used and then it would work successfully.\r\n\r\nChecking the below page suggests to either set the Sybase connection property of DYNAMIC_PREPARE to false or use the prepareCall method to ensure dynamic prepare wasn&#39;t used.\r\n\r\n[Sybase jConnect Performance Tuning][1]\r\n\r\n[![Excerpt from the link][2]][2]\r\n\r\n\r\n  [1]: https://infocenter.sybase.com/help/topic/com.sybase.infocenter.dc39001.0707/html/prjdbc0707/X35870.htm\r\n  [2]: https://i.stack.imgur.com/r3osM.png","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>For a scenario using Sybase for a some non-trivial SQL (~30 lines using temp tables and while loops) we were having an issue where the exact same prepared statement was being intermittently executed with dynamic prepare and failing, the other times dynamic prepare wasn't being used and then it would work successfully.</p>\n<p>Checking the below page suggests to either set the Sybase connection property of DYNAMIC_PREPARE to false or use the prepareCall method to ensure dynamic prepare wasn't used.</p>\n<p><a href=\"https://infocenter.sybase.com/help/topic/com.sybase.infocenter.dc39001.0707/html/prjdbc0707/X35870.htm\" rel=\"nofollow noreferrer\">Sybase jConnect Performance Tuning</a></p>\n<p><a href=\"https://i.stack.imgur.com/r3osM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3osM.png\" alt=\"Excerpt from the link\" /></a></p>\n"}],"owner":{"account_id":2578695,"reputation":2676,"user_id":2235839,"accept_rate":67,"display_name":"A Nice Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28915639,"answer_count":3,"score":3,"last_activity_date":1687762548,"creation_date":1425734286,"question_id":28915264,"body_markdown":"Need some help with a JDBC query.\r\nI would have tried it out myself, but right now I do not have access to a database.\r\n\r\nMy question is:\r\nSince CallableStatement extends PreparedStatement, does this mean we can use CallableStatement to execute any query prepared for prepared statement?\r\n\r\nMore specifically, any downsides to using Callable like this:\r\n\r\n    CallableStatement stmt = null;\r\n    String sql = &quot;UPDATE Employees set age=30 WHERE id=&quot;;\r\n          stmt = conn.prepareCall(sql);\r\n          int empID = 102;\r\n          stmt.setInt(1, empID); );\r\n          stmt.execute();\r\n    stmt.close();\r\n    conn.close();\r\n\r\n\r\n","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>Need some help with a JDBC query.\nI would have tried it out myself, but right now I do not have access to a database.</p>\n\n<p>My question is:\nSince CallableStatement extends PreparedStatement, does this mean we can use CallableStatement to execute any query prepared for prepared statement?</p>\n\n<p>More specifically, any downsides to using Callable like this:</p>\n\n<pre><code>CallableStatement stmt = null;\nString sql = \"UPDATE Employees set age=30 WHERE id=\";\n      stmt = conn.prepareCall(sql);\n      int empID = 102;\n      stmt.setInt(1, empID); );\n      stmt.execute();\nstmt.close();\nconn.close();\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687717692,"creation_date":1687717692,"answer_id":76551865,"question_id":76551816,"body_markdown":"You may try something like:\r\n```java\r\npublic Specification&lt;Article&gt; allArticlesWithTag(String tag) {\r\n    return (Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\r\n        // get a reference to the tags\r\n        Expression&lt;List&lt;String&gt;&gt; tags = root.get(&quot;tags&quot;);\r\n\r\n        // check if the tag is a member of the tags collection\r\n        return builder.isMember(tag, tags);\r\n    };\r\n}\r\n```\r\n\r\nRead more about `isMember`: \\\r\nhttps://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html","title":"How to write a Specification for JpaSpecificationExecutor?","body":"<p>You may try something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Article&gt; allArticlesWithTag(String tag) {\n    return (Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\n        // get a reference to the tags\n        Expression&lt;List&lt;String&gt;&gt; tags = root.get(&quot;tags&quot;);\n\n        // check if the tag is a member of the tags collection\n        return builder.isMember(tag, tags);\n    };\n}\n</code></pre>\n<p>Read more about <code>isMember</code>: <br />\n<a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html</a></p>\n"}],"owner":{"account_id":5025935,"reputation":11,"user_id":4037928,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687762229,"creation_date":1687716900,"question_id":76551816,"body_markdown":"```java\r\n@Entity\r\npublic class Article {\r\n    @Id\r\n    Long id;\r\n    String title;\r\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\r\n    List&lt;String&gt; tags = new ArrayList&lt;&gt;();\r\n\r\n    // getters, setters\r\n}\r\n```\r\n\r\nI have to write a predicate for the below query. To get all the articles if they contain the passed tag:\r\n\r\n```java\r\npublic Specification&lt;Article&gt; allArticlesWithTag(String tag) {\r\n    return new Specification&lt;Article&gt;() {\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n            return builder.equal(&lt;What should be the logic here&gt;,tag);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nI have to write a predicate for the criteria to be used with JpaSpecificationExecutor. I am expecting a better understanding as a result.","title":"How to write a Specification for JpaSpecificationExecutor?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Article {\n    @Id\n    Long id;\n    String title;\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\n    List&lt;String&gt; tags = new ArrayList&lt;&gt;();\n\n    // getters, setters\n}\n</code></pre>\n<p>I have to write a predicate for the below query. To get all the articles if they contain the passed tag:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Article&gt; allArticlesWithTag(String tag) {\n    return new Specification&lt;Article&gt;() {\n        @Override\n        public Predicate toPredicate(Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n            return builder.equal(&lt;What should be the logic here&gt;,tag);\n        }\n    };\n}\n</code></pre>\n<p>I have to write a predicate for the criteria to be used with JpaSpecificationExecutor. I am expecting a better understanding as a result.</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":0,"creation_date":1687761014,"post_id":76553916,"comment_id":134976111,"body_markdown":"Can you run `npx react-native info` in your terminal? Also what version of gradle do you have set up inside the project? You can check it inside `android/gradle/wrapper/gradle-wrapper.properties` - `distributionUrl`","body":"Can you run <code>npx react-native info</code> in your terminal? Also what version of gradle do you have set up inside the project? You can check it inside <code>android&#47;gradle&#47;wrapper&#47;gradle-wrapper.properties</code> - <code>distributionUrl</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687761407,"post_id":76553916,"comment_id":134976190,"body_markdown":"Hi @NuttyJackJ! About info check the updated question above. - Android Gradle Plugin Version: 7.4.1\n- Gradle Version: 7.5.1","body":"Hi @NuttyJackJ! About info check the updated question above. - Android Gradle Plugin Version: 7.4.1 - Gradle Version: 7.5.1"},{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":0,"creation_date":1687761855,"post_id":76553916,"comment_id":134976257,"body_markdown":"Can you make sure you have the gradlew-wrapper.properties distribution url to be as follows: `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip`","body":"Can you make sure you have the gradlew-wrapper.properties distribution url to be as follows: <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-7.5.1-all.zip</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687763196,"post_id":76553916,"comment_id":134976495,"body_markdown":"Yes it is: `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip`","body":"Yes it is: <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-7.5.1-all.zip</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687769900,"post_id":76553916,"comment_id":134977769,"body_markdown":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?","body":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?"},{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":1,"creation_date":1687773067,"post_id":76553916,"comment_id":134978412,"body_markdown":"If you are able to run a new sample react-native app by default, it means your machine is set-up properly, so the issue you have is a project configuration issue. Try that and see if it works for you. Also don&#39;t forget to add native specific configuration that you have added to your project (build.gradle, MainApplication, MainActivity ...), , in addition to changing app bundle id.","body":"If you are able to run a new sample react-native app by default, it means your machine is set-up properly, so the issue you have is a project configuration issue. Try that and see if it works for you. Also don&#39;t forget to add native specific configuration that you have added to your project (build.gradle, MainApplication, MainActivity ...), , in addition to changing app bundle id."}],"answers":[{"tags":[],"owner":{"account_id":22495264,"reputation":1,"user_id":16692353,"display_name":"Muhammad Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687760768,"creation_date":1687760355,"answer_id":76553980,"question_id":76553916,"body_markdown":"Note: I&#39;m Using expo cli\r\n\r\nI was having the same issue. What worked partially is that I deleted the .expo folder with all its components and uploaded file to the EAS server using\r\n\r\n    eas build -p android\r\nand then wait for the files to be uploaded to EAS server. When the build is completed, just upload the .aab file to playstore.\r\n\r\nThis works but you cannot change the version number and other settings in the MANIFEST file\r\n\r\nMake sure that you have the latest eas version installed. You can use the following command\r\n\r\n    npm i --global eas-cli\r\n\r\n","title":"Why the initialization script ... .gradle does not exist?","body":"<p>Note: I'm Using expo cli</p>\n<p>I was having the same issue. What worked partially is that I deleted the .expo folder with all its components and uploaded file to the EAS server using</p>\n<pre><code>eas build -p android\n</code></pre>\n<p>and then wait for the files to be uploaded to EAS server. When the build is completed, just upload the .aab file to playstore.</p>\n<p>This works but you cannot change the version number and other settings in the MANIFEST file</p>\n<p>Make sure that you have the latest eas version installed. You can use the following command</p>\n<pre><code>npm i --global eas-cli\n</code></pre>\n"}],"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687761314,"creation_date":1687759719,"question_id":76553916,"body_markdown":"This is a React Native project and I use plain RN cli, not Expo.\r\n\r\nThe `android/build.gradle` file gives an error. On the first line I see a red tilde. When I hover over it I get the following message.\r\n\r\n```js\r\nCould not run phased build action using connection to Gradle distribution \r\n\r\n&#39;https://services.gradle.org/distributions/gradle-7.5.1-all.zip&#39;.\r\n\r\nThe specified initialization script \r\n\r\n&#39;/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle&#39; \r\n\r\ndoes not exist.\r\n\r\n```\r\nWhat I&#39;ve tried:\r\n\r\n1. Use other gradle version and plugin.\r\n2. Clean `./gradle/caches` and `./gradle/daemon` and `./gradle/native` and `./gradle/notifications` and `./gradle/wrapper/dists`.\r\n3. Sync Project with Gradle files (In Android Studio)\r\n4. Delete `node_modules` and `npm install`\r\n5. Close project. Then, when I reopen the project (in VSCode) I get a message in the terminal: `Opening Java Projects` =&gt; which in details it says: `Importing Gradle projects...` When this is done, the tilde in the `build.gradle` file appears.\r\n\r\n\r\nAdditional notes:\r\n\r\nThe app runs fine in emulator, but when I upload it to Google Play Console, the app is suspended. The pre-launch report gives the following crashes:\r\n```js\r\njava.lang.RuntimeException: Unable to load script. \r\n\r\nMake sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n```\r\n\r\n```js\r\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n```\r\n- Android Gradle Plugin Version: 7.4.1\r\n- Gradle Version: 7.5.1\r\n\r\nHere is the output of `npx react-native info`\r\n\r\n```js\r\nSystem:\r\n    OS: macOS 12.6.6\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-4770HQ CPU @ 2.20GHz\r\n    Memory: 41.13 MB / 16.00 GB\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\r\n    Yarn: 1.22.10 - /usr/local/bin/yarn\r\n    npm: 9.6.6 - ~/.nvm/versions/node/v14.18.1/bin/npm\r\n    Watchman: 2023.05.15.00 - /usr/local/bin/watchman\r\n  Managers:\r\n    CocoaPods: 1.11.3 - /usr/local/bin/pod\r\n  SDKs:\r\n    iOS SDK:\r\n      Platforms: DriverKit 22.2, iOS 16.2, macOS 13.1, tvOS 16.1, watchOS 9.1\r\n    Android SDK:\r\n      Android NDK: 22.1.7171670\r\n  IDEs:\r\n    Android Studio: 2022.1 AI-221.6008.13.2211.9514443\r\n    Xcode: 14.2/14C18 - /usr/bin/xcodebuild\r\n  Languages:\r\n    Java: 11.0.19 - /usr/bin/javac\r\n  npmPackages:\r\n    @react-native-community/cli: Not Found\r\n    react: 18.1.0 =&gt; 18.1.0 \r\n    react-native: 0.70.6 =&gt; 0.70.6 \r\n    react-native-macos: Not Found\r\n  npmGlobalPackages:\r\n    *react-native*: Not Found\r\n\r\n```","title":"Why the initialization script ... .gradle does not exist?","body":"<p>This is a React Native project and I use plain RN cli, not Expo.</p>\n<p>The <code>android/build.gradle</code> file gives an error. On the first line I see a red tilde. When I hover over it I get the following message.</p>\n<pre class=\"lang-js prettyprint-override\"><code>Could not run phased build action using connection to Gradle distribution \n\n'https://services.gradle.org/distributions/gradle-7.5.1-all.zip'.\n\nThe specified initialization script \n\n'/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle' \n\ndoes not exist.\n\n</code></pre>\n<p>What I've tried:</p>\n<ol>\n<li>Use other gradle version and plugin.</li>\n<li>Clean <code>./gradle/caches</code> and <code>./gradle/daemon</code> and <code>./gradle/native</code> and <code>./gradle/notifications</code> and <code>./gradle/wrapper/dists</code>.</li>\n<li>Sync Project with Gradle files (In Android Studio)</li>\n<li>Delete <code>node_modules</code> and <code>npm install</code></li>\n<li>Close project. Then, when I reopen the project (in VSCode) I get a message in the terminal: <code>Opening Java Projects</code> =&gt; which in details it says: <code>Importing Gradle projects...</code> When this is done, the tilde in the <code>build.gradle</code> file appears.</li>\n</ol>\n<p>Additional notes:</p>\n<p>The app runs fine in emulator, but when I upload it to Google Play Console, the app is suspended. The pre-launch report gives the following crashes:</p>\n<pre class=\"lang-js prettyprint-override\"><code>java.lang.RuntimeException: Unable to load script. \n\nMake sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n</code></pre>\n<ul>\n<li>Android Gradle Plugin Version: 7.4.1</li>\n<li>Gradle Version: 7.5.1</li>\n</ul>\n<p>Here is the output of <code>npx react-native info</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>System:\n    OS: macOS 12.6.6\n    CPU: (8) x64 Intel(R) Core(TM) i7-4770HQ CPU @ 2.20GHz\n    Memory: 41.13 MB / 16.00 GB\n    Shell: 5.8.1 - /bin/zsh\n  Binaries:\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\n    Yarn: 1.22.10 - /usr/local/bin/yarn\n    npm: 9.6.6 - ~/.nvm/versions/node/v14.18.1/bin/npm\n    Watchman: 2023.05.15.00 - /usr/local/bin/watchman\n  Managers:\n    CocoaPods: 1.11.3 - /usr/local/bin/pod\n  SDKs:\n    iOS SDK:\n      Platforms: DriverKit 22.2, iOS 16.2, macOS 13.1, tvOS 16.1, watchOS 9.1\n    Android SDK:\n      Android NDK: 22.1.7171670\n  IDEs:\n    Android Studio: 2022.1 AI-221.6008.13.2211.9514443\n    Xcode: 14.2/14C18 - /usr/bin/xcodebuild\n  Languages:\n    Java: 11.0.19 - /usr/bin/javac\n  npmPackages:\n    @react-native-community/cli: Not Found\n    react: 18.1.0 =&gt; 18.1.0 \n    react-native: 0.70.6 =&gt; 0.70.6 \n    react-native-macos: Not Found\n  npmGlobalPackages:\n    *react-native*: Not Found\n\n</code></pre>\n"},{"tags":["java","android","eclipse","usb"],"owner":{"account_id":6751294,"reputation":11,"user_id":5458174,"display_name":"Mateusz2323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687761246,"creation_date":1445161611,"question_id":33196521,"body_markdown":"I am very beginner in stuff which I am doing.\r\nMy problem is that: I am programming an Android application in order to be able to send data and receive data from Infineon XMC4500 processor, I am working with my evaluation board Infineon XMC4500 Relax kit.\r\n\r\nCould you please tell me, what actually do I do wrong in order to send data.\r\n\r\nI would like to to add, that in Infineon DAVE IDE (IDE based on eclipse), I use DAVE app (software component) USBVC001 (USB_VirtualCOMDevice_USBVC001 is App for Communications Device Class demonstration application.)\r\n\r\nEvery suggestion is highly appreciated!\r\n\r\n    com.example.mateusz.buttonexample;\r\n    \r\n    android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.hardware.usb.UsbConstants;\r\n    import android.hardware.usb.UsbDevice;\r\n    import android.hardware.usb.UsbDeviceConnection;\r\n    import android.hardware.usb.UsbEndpoint;\r\n    import android.hardware.usb.UsbInterface;\r\n    import android.hardware.usb.UsbManager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        final int RQSID_SET_LINE_CODING = 0x20;\r\n        final int RQSID_SET_CONTROL_LINE_STATE = 0x22;\r\n    \r\n        private static final String ACTION_USB_PERMISSION = &quot;com.example.USB_PERMISSION&quot;;\r\n        private static final String TAG = &quot;MyActivity&quot;;\r\n        private final int vendorID = 1419;\r\n        private final int productID = 88;\r\n        PendingIntent mPermissionIntent;\r\n    \r\n        private UsbDevice device;\r\n        private UsbManager connectedDevices;\r\n    \r\n        UsbEndpoint in = null;\r\n        UsbEndpoint out = null;\r\n        UsbDeviceConnection usbDeviceConnection = null;\r\n        UsbInterface interfaceUSB = null;\r\n    \r\n        private Button checkButton;\r\n    \r\n        private TextView infoDevice;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            UsbDevice device1 = null;\r\n            UsbManager manager = (UsbManager)getSystemService(USB_SERVICE);\r\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(mUsbReceiver, filter);\r\n    \r\n            registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_ATTACHED));\r\n            registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_DETACHED));\r\n    \r\n            //UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n            while(deviceIterator.hasNext()){\r\n                device1 = deviceIterator.next();\r\n                //your code\r\n            }\r\n    \r\n    \r\n    \r\n            device = device1;\r\n            manager.requestPermission(device, mPermissionIntent);\r\n    \r\n            infoDevice = (TextView) findViewById(R.id.infoDevice);\r\n            checkButton = (Button) findViewById(R.id.checkButton);\r\n    \r\n    \r\n            checkButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showInformationAboutConnectedDevices();\r\n                }\r\n            });\r\n    \r\n            //setUpCommunication();\r\n        }\r\n    \r\n        private  void releaseUsb()\r\n        {\r\n            if(usbDeviceConnection != null)\r\n            {\r\n                if(interfaceUSB != null)\r\n                {\r\n                    usbDeviceConnection.releaseInterface(interfaceUSB);\r\n                    interfaceUSB = null;\r\n                }\r\n                usbDeviceConnection.close();\r\n                usbDeviceConnection = null;\r\n            }\r\n            in = null;\r\n            out = null;\r\n            usbDeviceConnection = null;\r\n            device = null;\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            releaseUsb();\r\n            unregisterReceiver(mUsbReceiver);\r\n            unregisterReceiver(mUsbDeviceReceiver);\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private void setUpCommunication()\r\n        {\r\n            UsbDevice usbDevice = null;\r\n            UsbDevice usbDeviceFound = null;\r\n    \r\n            UsbManager manager = (UsbManager)getSystemService(Context.USB_SERVICE);\r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n    \r\n    \r\n    \r\n            while(deviceIterator.hasNext())\r\n            {\r\n                usbDevice = deviceIterator.next();\r\n    \r\n                //do sprawdzenia\r\n                if((usbDevice.getVendorId() == vendorID) &amp;&amp; (usbDevice.getProductId() == productID))\r\n                {\r\n                    device = usbDevice;\r\n                    TextView check = (TextView)findViewById(R.id.checkText1);\r\n                    check.setText(&quot;Sprawdzony vendorID i productID&quot;);\r\n                }\r\n    \r\n                if(device != null)\r\n                {\r\n                    //TextView check = (TextView)findViewById(R.id.checkText1);\r\n                    //check.setText(&quot;Device != null&quot;);\r\n                    //wait(2000);\r\n    \r\n                    //for(int i = 0; i &lt; 100000; i++){ ; }\r\n                    for(int i = 0; i &lt; device.getInterfaceCount(); i++)\r\n                    {\r\n                        UsbInterface usbInter = device.getInterface(i);\r\n    \r\n                        if(usbInter.getEndpointCount() &gt;= 2){\r\n                            for(int j = 0; j &lt; usbInter.getEndpointCount(); j++)\r\n                            {\r\n                                if(usbInter.getEndpoint(j).getType() == UsbConstants.USB_ENDPOINT_XFER_BULK)\r\n                                {\r\n                                    if (usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_IN)\r\n                                    {\r\n                                        in = usbInter.getEndpoint(j);\r\n                                    }\r\n    \r\n                                    if(usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_OUT)\r\n                                    {\r\n                                        //check.setText(&quot;USB_DIR_OUT&quot;);\r\n                                        //wait(2000);\r\n                                        interfaceUSB = usbInter;\r\n                                        out = usbInter.getEndpoint(j);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }\r\n    \r\n            TextView check = (TextView)findViewById(R.id.checkText1);\r\n            TextView pozwolenie = (TextView)findViewById(R.id.pozwolenie);\r\n    \r\n            if(manager.hasPermission(device)){ pozwolenie.setText(&quot;Wszedlem w pozwolenie&quot;); }\r\n            byte[] myBuffer = new byte[] {(byte)&#39;A&#39;};\r\n            //Ustanowienie komunikacji\r\n            UsbDeviceConnection connection = manager.openDevice(device);\r\n            connection.claimInterface(interfaceUSB, true);\r\n    \r\n                    int length = connection.bulkTransfer(out,myBuffer, myBuffer.length,100);\r\n    \r\n            if(length &gt;= 0)\r\n            {\r\n                check.setText(&quot;Udalo sie &quot; + Integer.toString(length));\r\n            }\r\n    \r\n            byte[] tablica = new byte[1];\r\n            tablica[0] = (byte)&#39;B&#39;;\r\n            int d = tablica[0];\r\n            connection.bulkTransfer(in, tablica, 1, 100);\r\n            int z = tablica[0];\r\n            check.setText(&quot;B code&quot; + Integer.toString(d) + &quot;bulkTransfer&quot; + Integer.toString(z));\r\n            usbDeviceConnection = connection;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n    \r\n            //noinspection SimplifiableIfStatement\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        private void showInformationAboutConnectedDevices()\r\n        {\r\n            connectedDevices = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = connectedDevices.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceListIterator = deviceList.values().iterator();\r\n    \r\n            String informationAboutDevice = &quot;&quot;;\r\n            while (deviceListIterator.hasNext())\r\n            {\r\n                UsbDevice connectedDeviceTemporary = deviceListIterator.next();\r\n    \r\n                String tempString;\r\n                tempString = &quot;\\n&quot;;\r\n                tempString = &quot;Device id: &quot; + connectedDeviceTemporary.getDeviceId() + &quot;\\n&quot;\r\n                        + &quot;Device name:&quot; + connectedDeviceTemporary.getDeviceName() + &quot;\\n&quot; + &quot;dupa&quot;;\r\n                informationAboutDevice += tempString;\r\n            }\r\n            infoDevice.setText(informationAboutDevice);\r\n        }\r\n    \r\n        private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n                TextView permissionText = (TextView) findViewById(R.id.textPermission);\r\n    \r\n                if(ACTION_USB_PERMISSION.equals(action))\r\n                {\r\n                    synchronized (this)\r\n                    {\r\n                        UsbDevice connectedDeviceTemporary = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                       // device = connectedDeviceTemporary;\r\n                        if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false))\r\n                        {\r\n                            if(connectedDeviceTemporary != null)\r\n                            {\r\n                                permissionText.setText(&quot;Wszedlem w mUsbReceiver&quot;);\r\n                                setUpCommunication();\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            Log.d(TAG, &quot;permission denied for device &quot; + device);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n        };\r\n    \r\n        private final BroadcastReceiver mUsbDeviceReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n    \r\n                if(UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action))\r\n                {\r\n                    //UsbDevice device1 = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    TextView text = (TextView)findViewById(R.id.checkingText);\r\n                    text.setText(&quot;Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_DETACHED&quot;);\r\n                    if(usbDeviceConnection != null)\r\n                    {\r\n                        if(interfaceUSB != null)\r\n                        {\r\n                            usbDeviceConnection.releaseInterface(interfaceUSB);\r\n                            interfaceUSB = null;\r\n                        }\r\n                        usbDeviceConnection.close();\r\n                        usbDeviceConnection = null;\r\n                    }\r\n                    in = null;\r\n                    out = null;\r\n                    usbDeviceConnection = null;\r\n                    device = null;\r\n    \r\n                }\r\n                else if(UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action))\r\n                {\r\n                    device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    TextView text = (TextView)findViewById(R.id.checkingText);\r\n                    text.setText(&quot;Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_ATTACHED&quot;);\r\n                    setUpCommunication();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n","title":"Android USB communication with Infineon XMC4500 Relax Kit","body":"<p>I am very beginner in stuff which I am doing.\nMy problem is that: I am programming an Android application in order to be able to send data and receive data from Infineon XMC4500 processor, I am working with my evaluation board Infineon XMC4500 Relax kit.</p>\n\n<p>Could you please tell me, what actually do I do wrong in order to send data.</p>\n\n<p>I would like to to add, that in Infineon DAVE IDE (IDE based on eclipse), I use DAVE app (software component) USBVC001 (USB_VirtualCOMDevice_USBVC001 is App for Communications Device Class demonstration application.)</p>\n\n<p>Every suggestion is highly appreciated!</p>\n\n<pre><code>com.example.mateusz.buttonexample;\n\nandroid.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbConstants;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbManager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.util.HashMap;\nimport java.util.Iterator;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    final int RQSID_SET_LINE_CODING = 0x20;\n    final int RQSID_SET_CONTROL_LINE_STATE = 0x22;\n\n    private static final String ACTION_USB_PERMISSION = \"com.example.USB_PERMISSION\";\n    private static final String TAG = \"MyActivity\";\n    private final int vendorID = 1419;\n    private final int productID = 88;\n    PendingIntent mPermissionIntent;\n\n    private UsbDevice device;\n    private UsbManager connectedDevices;\n\n    UsbEndpoint in = null;\n    UsbEndpoint out = null;\n    UsbDeviceConnection usbDeviceConnection = null;\n    UsbInterface interfaceUSB = null;\n\n    private Button checkButton;\n\n    private TextView infoDevice;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        UsbDevice device1 = null;\n        UsbManager manager = (UsbManager)getSystemService(USB_SERVICE);\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n        registerReceiver(mUsbReceiver, filter);\n\n        registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_ATTACHED));\n        registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_DETACHED));\n\n        //UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while(deviceIterator.hasNext()){\n            device1 = deviceIterator.next();\n            //your code\n        }\n\n\n\n        device = device1;\n        manager.requestPermission(device, mPermissionIntent);\n\n        infoDevice = (TextView) findViewById(R.id.infoDevice);\n        checkButton = (Button) findViewById(R.id.checkButton);\n\n\n        checkButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showInformationAboutConnectedDevices();\n            }\n        });\n\n        //setUpCommunication();\n    }\n\n    private  void releaseUsb()\n    {\n        if(usbDeviceConnection != null)\n        {\n            if(interfaceUSB != null)\n            {\n                usbDeviceConnection.releaseInterface(interfaceUSB);\n                interfaceUSB = null;\n            }\n            usbDeviceConnection.close();\n            usbDeviceConnection = null;\n        }\n        in = null;\n        out = null;\n        usbDeviceConnection = null;\n        device = null;\n    }\n\n    @Override\n    protected void onDestroy() {\n        releaseUsb();\n        unregisterReceiver(mUsbReceiver);\n        unregisterReceiver(mUsbDeviceReceiver);\n        super.onDestroy();\n    }\n\n    private void setUpCommunication()\n    {\n        UsbDevice usbDevice = null;\n        UsbDevice usbDeviceFound = null;\n\n        UsbManager manager = (UsbManager)getSystemService(Context.USB_SERVICE);\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n\n\n\n        while(deviceIterator.hasNext())\n        {\n            usbDevice = deviceIterator.next();\n\n            //do sprawdzenia\n            if((usbDevice.getVendorId() == vendorID) &amp;&amp; (usbDevice.getProductId() == productID))\n            {\n                device = usbDevice;\n                TextView check = (TextView)findViewById(R.id.checkText1);\n                check.setText(\"Sprawdzony vendorID i productID\");\n            }\n\n            if(device != null)\n            {\n                //TextView check = (TextView)findViewById(R.id.checkText1);\n                //check.setText(\"Device != null\");\n                //wait(2000);\n\n                //for(int i = 0; i &lt; 100000; i++){ ; }\n                for(int i = 0; i &lt; device.getInterfaceCount(); i++)\n                {\n                    UsbInterface usbInter = device.getInterface(i);\n\n                    if(usbInter.getEndpointCount() &gt;= 2){\n                        for(int j = 0; j &lt; usbInter.getEndpointCount(); j++)\n                        {\n                            if(usbInter.getEndpoint(j).getType() == UsbConstants.USB_ENDPOINT_XFER_BULK)\n                            {\n                                if (usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_IN)\n                                {\n                                    in = usbInter.getEndpoint(j);\n                                }\n\n                                if(usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_OUT)\n                                {\n                                    //check.setText(\"USB_DIR_OUT\");\n                                    //wait(2000);\n                                    interfaceUSB = usbInter;\n                                    out = usbInter.getEndpoint(j);\n                                }\n                            }\n                        }\n                    }\n                }\n\n            }\n        }\n\n        TextView check = (TextView)findViewById(R.id.checkText1);\n        TextView pozwolenie = (TextView)findViewById(R.id.pozwolenie);\n\n        if(manager.hasPermission(device)){ pozwolenie.setText(\"Wszedlem w pozwolenie\"); }\n        byte[] myBuffer = new byte[] {(byte)'A'};\n        //Ustanowienie komunikacji\n        UsbDeviceConnection connection = manager.openDevice(device);\n        connection.claimInterface(interfaceUSB, true);\n\n                int length = connection.bulkTransfer(out,myBuffer, myBuffer.length,100);\n\n        if(length &gt;= 0)\n        {\n            check.setText(\"Udalo sie \" + Integer.toString(length));\n        }\n\n        byte[] tablica = new byte[1];\n        tablica[0] = (byte)'B';\n        int d = tablica[0];\n        connection.bulkTransfer(in, tablica, 1, 100);\n        int z = tablica[0];\n        check.setText(\"B code\" + Integer.toString(d) + \"bulkTransfer\" + Integer.toString(z));\n        usbDeviceConnection = connection;\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void showInformationAboutConnectedDevices()\n    {\n        connectedDevices = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = connectedDevices.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceListIterator = deviceList.values().iterator();\n\n        String informationAboutDevice = \"\";\n        while (deviceListIterator.hasNext())\n        {\n            UsbDevice connectedDeviceTemporary = deviceListIterator.next();\n\n            String tempString;\n            tempString = \"\\n\";\n            tempString = \"Device id: \" + connectedDeviceTemporary.getDeviceId() + \"\\n\"\n                    + \"Device name:\" + connectedDeviceTemporary.getDeviceName() + \"\\n\" + \"dupa\";\n            informationAboutDevice += tempString;\n        }\n        infoDevice.setText(informationAboutDevice);\n    }\n\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            TextView permissionText = (TextView) findViewById(R.id.textPermission);\n\n            if(ACTION_USB_PERMISSION.equals(action))\n            {\n                synchronized (this)\n                {\n                    UsbDevice connectedDeviceTemporary = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                   // device = connectedDeviceTemporary;\n                    if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false))\n                    {\n                        if(connectedDeviceTemporary != null)\n                        {\n                            permissionText.setText(\"Wszedlem w mUsbReceiver\");\n                            setUpCommunication();\n                        }\n                    }\n                    else\n                    {\n                        Log.d(TAG, \"permission denied for device \" + device);\n                    }\n                }\n            }\n\n        }\n    };\n\n    private final BroadcastReceiver mUsbDeviceReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n\n            if(UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action))\n            {\n                //UsbDevice device1 = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                TextView text = (TextView)findViewById(R.id.checkingText);\n                text.setText(\"Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_DETACHED\");\n                if(usbDeviceConnection != null)\n                {\n                    if(interfaceUSB != null)\n                    {\n                        usbDeviceConnection.releaseInterface(interfaceUSB);\n                        interfaceUSB = null;\n                    }\n                    usbDeviceConnection.close();\n                    usbDeviceConnection = null;\n                }\n                in = null;\n                out = null;\n                usbDeviceConnection = null;\n                device = null;\n\n            }\n            else if(UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action))\n            {\n                device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                TextView text = (TextView)findViewById(R.id.checkingText);\n                text.setText(\"Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_ATTACHED\");\n                setUpCommunication();\n            }\n        }\n    };\n}\n</code></pre>\n"},{"tags":["javascript","java","gs1-datamatrix"],"comments":[{"owner":{"account_id":1372956,"reputation":8368,"user_id":1307530,"accept_rate":89,"display_name":"Pragnesh Chauhan"},"score":0,"creation_date":1687346141,"post_id":76521269,"comment_id":134923066,"body_markdown":"have you tried `jsbarcode` JavaScript library?","body":"have you tried <code>jsbarcode</code> JavaScript library?"},{"owner":{"account_id":1372956,"reputation":8368,"user_id":1307530,"accept_rate":89,"display_name":"Pragnesh Chauhan"},"score":0,"creation_date":1687346367,"post_id":76521269,"comment_id":134923121,"body_markdown":"Sometimes barcode has special character like `GS` that should be read by barcode scanner.","body":"Sometimes barcode has special character like <code>GS</code> that should be read by barcode scanner."},{"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"score":0,"creation_date":1687350954,"post_id":76521269,"comment_id":134924198,"body_markdown":"@PragneshChauhan `jsbarcode` doesn&#39;t support 2D barcodes. GS1 DataMatrix is 2D barcode format.\n\nI tried read  barcode scanner output by character, but I don&#39;t see a pattern. I&#39;ll update my OP.","body":"@PragneshChauhan <code>jsbarcode</code> doesn&#39;t support 2D barcodes. GS1 DataMatrix is 2D barcode format.  I tried read  barcode scanner output by character, but I don&#39;t see a pattern. I&#39;ll update my OP."}],"answers":[{"tags":[],"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687761091,"creation_date":1687442049,"answer_id":76532663,"question_id":76521269,"body_markdown":"I did it! I noticed that GTIN and EXP are always extracted in proper way, so I tried something like this:\r\n\r\n```javascript\r\n    const extractDataMatrix = (code) =&gt; {\r\n        const response = {gtin: &#39;&#39;, lot: &#39;&#39;, sn: &#39;&#39;, exp: &#39;&#39;};\r\n        let responseCode = code;\r\n\r\n        const prefixes = [\r\n            {prefix: &#39;01&#39;, key: &#39;gtin&#39;, length: 14},\r\n            {prefix: &#39;17&#39;, key: &#39;exp&#39;, length: 6}\r\n        ];\r\n\r\n        prefixes.forEach(({prefix, key, length}) =&gt; {\r\n            const position = responseCode.indexOf(prefix);\r\n\r\n            if (position !== -1) {\r\n                const start = position + prefix.length;\r\n                const end = start + length;\r\n\r\n                response[key] = responseCode.substring(start, end);\r\n                responseCode = responseCode.slice(0, position) + responseCode.slice(end);\r\n            }\r\n        });\r\n\r\n        const lotAndSn = extractLotAndSn(responseCode);\r\n        response.lot = lotAndSn.lot;\r\n        response.sn = lotAndSn.sn;\r\n\r\n        return response;\r\n    };\r\n\r\n    const extractLotAndSn = (responseCode) =&gt; {\r\n        const pattern = /^(10.+?)(?=10|21)(21.+?)$|^(21.+?)(?=10|21)(10.+?)$/;\r\n        const matches = responseCode.match(pattern);\r\n        if (!matches) return {lot: &#39;&#39;, sn: &#39;&#39;};\r\n\r\n        const [lot1, sn1, sn2, lot2] = matches.slice(1);\r\n        const lot = (lot1 || lot2 || &#39;&#39;).substring(2);\r\n        const sn = (sn1 || sn2 || &#39;&#39;).substring(2);\r\n        return checkLotAndSn(lot, sn, responseCode);\r\n    };\r\n\r\n    const checkLotAndSn = (lot, sn, responseCode) =&gt; {\r\n        if (responseCode.includes(&quot;1010&quot;) &amp;&amp; !responseCode.includes(&quot;10100&quot;)) {\r\n            const isLotStart = lot.startsWith(&quot;10&quot;);\r\n            if (isLotStart) {\r\n                lot = lot.slice(2);\r\n                sn += &quot;10&quot;;\r\n            }\r\n        } else if (responseCode.includes(&quot;2121&quot;) &amp;&amp; responseCode.includes(&quot;21210&quot;)) {\r\n            const isSnStart = sn.startsWith(&quot;21&quot;);\r\n            if (isSnStart) {\r\n                sn = sn.slice(2);\r\n                lot += &quot;21&quot;;\r\n            }\r\n        }\r\n\r\n        return {lot, sn};\r\n    };\r\n```\r\n\r\nI think it can be optimized anyway, but for now I don&#39;t care ;).\r\n\r\nWhat is going on?\r\n\r\n 1. In `extractDataMatrix` I check prefixes with fixed length (GTIN and EX).\r\n 2. After `forEach` I remove it from `responseCode`. \r\n 3. I pass this `responseCode` to `extractLotAndSn()` function.\r\n 4. I this function I used regex to get lot and sn.\r\n 5. Sometimes I got code, where prefix is a part of previous sequence (ex. 1010 and 2121), so `checkLotAndSn()` function remove prefix from start of sequence and add it to previous sequence.\r\n 6. I don&#39;t know why in case where `10100` and `21210` is part of\r\n    `responseCode` everything is splitted correctly, so I excluded it from swap.\r\n\r\n","title":"Extract GTIN, LoT, SN and EXP from GS1 DataMatrix barcode","body":"<p>I did it! I noticed that GTIN and EXP are always extracted in proper way, so I tried something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>    const extractDataMatrix = (code) =&gt; {\n        const response = {gtin: '', lot: '', sn: '', exp: ''};\n        let responseCode = code;\n\n        const prefixes = [\n            {prefix: '01', key: 'gtin', length: 14},\n            {prefix: '17', key: 'exp', length: 6}\n        ];\n\n        prefixes.forEach(({prefix, key, length}) =&gt; {\n            const position = responseCode.indexOf(prefix);\n\n            if (position !== -1) {\n                const start = position + prefix.length;\n                const end = start + length;\n\n                response[key] = responseCode.substring(start, end);\n                responseCode = responseCode.slice(0, position) + responseCode.slice(end);\n            }\n        });\n\n        const lotAndSn = extractLotAndSn(responseCode);\n        response.lot = lotAndSn.lot;\n        response.sn = lotAndSn.sn;\n\n        return response;\n    };\n\n    const extractLotAndSn = (responseCode) =&gt; {\n        const pattern = /^(10.+?)(?=10|21)(21.+?)$|^(21.+?)(?=10|21)(10.+?)$/;\n        const matches = responseCode.match(pattern);\n        if (!matches) return {lot: '', sn: ''};\n\n        const [lot1, sn1, sn2, lot2] = matches.slice(1);\n        const lot = (lot1 || lot2 || '').substring(2);\n        const sn = (sn1 || sn2 || '').substring(2);\n        return checkLotAndSn(lot, sn, responseCode);\n    };\n\n    const checkLotAndSn = (lot, sn, responseCode) =&gt; {\n        if (responseCode.includes(&quot;1010&quot;) &amp;&amp; !responseCode.includes(&quot;10100&quot;)) {\n            const isLotStart = lot.startsWith(&quot;10&quot;);\n            if (isLotStart) {\n                lot = lot.slice(2);\n                sn += &quot;10&quot;;\n            }\n        } else if (responseCode.includes(&quot;2121&quot;) &amp;&amp; responseCode.includes(&quot;21210&quot;)) {\n            const isSnStart = sn.startsWith(&quot;21&quot;);\n            if (isSnStart) {\n                sn = sn.slice(2);\n                lot += &quot;21&quot;;\n            }\n        }\n\n        return {lot, sn};\n    };\n</code></pre>\n<p>I think it can be optimized anyway, but for now I don't care ;).</p>\n<p>What is going on?</p>\n<ol>\n<li>In <code>extractDataMatrix</code> I check prefixes with fixed length (GTIN and EX).</li>\n<li>After <code>forEach</code> I remove it from <code>responseCode</code>.</li>\n<li>I pass this <code>responseCode</code> to <code>extractLotAndSn()</code> function.</li>\n<li>I this function I used regex to get lot and sn.</li>\n<li>Sometimes I got code, where prefix is a part of previous sequence (ex. 1010 and 2121), so <code>checkLotAndSn()</code> function remove prefix from start of sequence and add it to previous sequence.</li>\n<li>I don't know why in case where <code>10100</code> and <code>21210</code> is part of\n<code>responseCode</code> everything is splitted correctly, so I excluded it from swap.</li>\n</ol>\n"}],"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76532663,"answer_count":1,"score":0,"last_activity_date":1687761091,"creation_date":1687335254,"question_id":76521269,"body_markdown":"I create software for pharmacies to validate drugs in NMVS. The program should work in such a way that I scan the drug code with a handheld scanner, click &quot;Verify&quot; and connect to NMVS. Most of the work is done, but to correctly verify the drug, I need to extract from the GTIN code (PC), batch number (LoT), serial number (SN) and expiry date (EXP)\r\n\r\nHere are the scan results for the test drugs:\r\n\r\n```\r\n01059099913808231003ZP082117230831210XXFAE5AWA6RF8\r\n0105909990054152101123926172207012162RB6FBN09\r\n010590999109968821100322567773831721093010100013978\r\n01059099907954202190EPCNT32ZH5581004032217250331\r\n010590999032841321YCK3EB53CNZXD1725083110C48700\r\n0105909990071029211165895472021010MU465417241031\r\n```\r\n\r\nI know that it&#39;s GS1 DataMatrix format and GTIN is prefixed with 01 (following 14 digits is GTIN), LoT with prefix 10 (following 1-20 alphanumeric characters is LoT), SN with prefix 21 (following 1-20 alphanumeric characters is LoT) LoT) and the expiry date is prefixed with 17 (following 6 digits is EXP).\r\n\r\nFor the given examples, I should have e.g.:\r\n\r\n```json\r\n[\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909991380823&quot;,\r\n\t\t&quot;lot&quot;: &quot;03ZP08&quot;,\r\n\t\t&quot;sn&quot;: &quot;0XXFAE5AWA6RF8&quot;,\r\n\t\t&quot;exp&quot;: &quot;230831&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990054152&quot;,\r\n\t\t&quot;lot&quot;: &quot;1123926&quot;,\r\n\t\t&quot;sn&quot;: &quot;62RB6FBN09&quot;,\r\n\t\t&quot;exp&quot;: &quot;220701&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909991099688&quot;,\r\n\t\t&quot;lot&quot;: &quot;100013978&quot;,\r\n\t\t&quot;sn&quot;: &quot;10032256777383&quot;,\r\n\t\t&quot;exp&quot;: &quot;210930&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990795420&quot;,\r\n\t\t&quot;lot&quot;: &quot;040322&quot;,\r\n\t\t&quot;sn&quot;: &quot;90EPCNT32ZH558&quot;,\r\n\t\t&quot;exp&quot;: &quot;250331&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990328413&quot;,\r\n\t\t&quot;lot&quot;: &quot;C48700&quot;,\r\n\t\t&quot;sn&quot;: &quot;YCK3EB53CNZXD&quot;,\r\n\t\t&quot;exp&quot;: &quot;250831&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990071029&quot;,\r\n\t\t&quot;lot&quot;: &quot;10MU4654&quot;,\r\n\t\t&quot;sn&quot;: &quot;116589547202&quot;,\r\n\t\t&quot;exp&quot;: &quot;241031&quot;\r\n\t}\r\n]\r\n```\r\n\r\nThe problem is that these sections can be in any order and of varying lengths. Only GTIN and EXP have a fixed length.\r\n\r\nI created a regex to extract these sections: `^(?=.*01(\\d{14}))(?=.*10([a-zA-Z0-9]{1,20}))(? =.*17(\\d{6}))(?=.*21([a-zA-Z0-9]{1,20})).*$` but unfortunately it doesn&#39;t work properly. The client is written in Javascript (not in TS, exactly in AngularJS - yes, it&#39;s a legacy project, I&#39;m trying to persuade the company to update it), and the server in Java.\r\n\r\nI&#39;m looking for any solution - whether it&#39;s a regex, library (Javascript or Java), external API - for this problem, personally I&#39;m running out of ideas...\r\n\r\nAlso, I&#39;ll add that the handheld scanner I&#39;m using is the Zebra DS2208.\r\n\r\nI would appreciate any help on this topic.\r\n\r\nEDIT:\r\n\r\nI tried read barcode scanner output character by character, but I don&#39;t see a pattern. This is what I got:\r\n\r\n[![Output with special characters][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKL0k.png","title":"Extract GTIN, LoT, SN and EXP from GS1 DataMatrix barcode","body":"<p>I create software for pharmacies to validate drugs in NMVS. The program should work in such a way that I scan the drug code with a handheld scanner, click &quot;Verify&quot; and connect to NMVS. Most of the work is done, but to correctly verify the drug, I need to extract from the GTIN code (PC), batch number (LoT), serial number (SN) and expiry date (EXP)</p>\n<p>Here are the scan results for the test drugs:</p>\n<pre><code>01059099913808231003ZP082117230831210XXFAE5AWA6RF8\n0105909990054152101123926172207012162RB6FBN09\n010590999109968821100322567773831721093010100013978\n01059099907954202190EPCNT32ZH5581004032217250331\n010590999032841321YCK3EB53CNZXD1725083110C48700\n0105909990071029211165895472021010MU465417241031\n</code></pre>\n<p>I know that it's GS1 DataMatrix format and GTIN is prefixed with 01 (following 14 digits is GTIN), LoT with prefix 10 (following 1-20 alphanumeric characters is LoT), SN with prefix 21 (following 1-20 alphanumeric characters is LoT) LoT) and the expiry date is prefixed with 17 (following 6 digits is EXP).</p>\n<p>For the given examples, I should have e.g.:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;gtin&quot;: &quot;05909991380823&quot;,\n        &quot;lot&quot;: &quot;03ZP08&quot;,\n        &quot;sn&quot;: &quot;0XXFAE5AWA6RF8&quot;,\n        &quot;exp&quot;: &quot;230831&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990054152&quot;,\n        &quot;lot&quot;: &quot;1123926&quot;,\n        &quot;sn&quot;: &quot;62RB6FBN09&quot;,\n        &quot;exp&quot;: &quot;220701&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909991099688&quot;,\n        &quot;lot&quot;: &quot;100013978&quot;,\n        &quot;sn&quot;: &quot;10032256777383&quot;,\n        &quot;exp&quot;: &quot;210930&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990795420&quot;,\n        &quot;lot&quot;: &quot;040322&quot;,\n        &quot;sn&quot;: &quot;90EPCNT32ZH558&quot;,\n        &quot;exp&quot;: &quot;250331&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990328413&quot;,\n        &quot;lot&quot;: &quot;C48700&quot;,\n        &quot;sn&quot;: &quot;YCK3EB53CNZXD&quot;,\n        &quot;exp&quot;: &quot;250831&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990071029&quot;,\n        &quot;lot&quot;: &quot;10MU4654&quot;,\n        &quot;sn&quot;: &quot;116589547202&quot;,\n        &quot;exp&quot;: &quot;241031&quot;\n    }\n]\n</code></pre>\n<p>The problem is that these sections can be in any order and of varying lengths. Only GTIN and EXP have a fixed length.</p>\n<p>I created a regex to extract these sections: <code>^(?=.*01(\\d{14}))(?=.*10([a-zA-Z0-9]{1,20}))(? =.*17(\\d{6}))(?=.*21([a-zA-Z0-9]{1,20})).*$</code> but unfortunately it doesn't work properly. The client is written in Javascript (not in TS, exactly in AngularJS - yes, it's a legacy project, I'm trying to persuade the company to update it), and the server in Java.</p>\n<p>I'm looking for any solution - whether it's a regex, library (Javascript or Java), external API - for this problem, personally I'm running out of ideas...</p>\n<p>Also, I'll add that the handheld scanner I'm using is the Zebra DS2208.</p>\n<p>I would appreciate any help on this topic.</p>\n<p>EDIT:</p>\n<p>I tried read barcode scanner output character by character, but I don't see a pattern. This is what I got:</p>\n<p><a href=\"https://i.stack.imgur.com/hKL0k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKL0k.png\" alt=\"Output with special characters\" /></a></p>\n"},{"tags":["java","xml","jetty"],"comments":[{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1335233171,"post_id":10251518,"comment_id":13240893,"body_markdown":"Rolled back to the original question. If you have another question, please *do not* replace this one with it. Just ask a new question. Also, if the answer helped you solve the problem, please accept it by clicking the check mark.","body":"Rolled back to the original question. If you have another question, please <i>do not</i> replace this one with it. Just ask a new question. Also, if the answer helped you solve the problem, please accept it by clicking the check mark."}],"answers":[{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1335230890,"creation_date":1334947217,"answer_id":10251718,"question_id":10251518,"body_markdown":"&gt; 2012-04-20 11:14:32.617:WARN:oejx.XmlParser:FATAL@file:/C:/Users/***/workspace/Test/WEB-INF/web.xml line:1 col:7 : org.xml.sax.SAXParseException: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\r\nYou Log says, that you web.xml is malformed. Line 1, colum 7. It may be a UTF-8 [Byte-Order-Marker][1]\r\n\r\nTry to verify, that your xml is wellformed and does not have a BOM. Java doesn&#39;t use BOMs. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Byte_order_mark","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<blockquote>\n  <p>2012-04-20 11:14:32.617:WARN:oejx.XmlParser:FATAL@file:/C:/Users/***/workspace/Test/WEB-INF/web.xml line:1 col:7 : org.xml.sax.SAXParseException: The processing instruction target matching \"[xX][mM][lL]\" is not allowed.</p>\n</blockquote>\n\n<p>You Log says, that you web.xml is malformed. Line 1, colum 7. It may be a UTF-8 <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">Byte-Order-Marker</a></p>\n\n<p>Try to verify, that your xml is wellformed and does not have a BOM. Java doesn't use BOMs. </p>\n"},{"tags":[],"owner":{"account_id":1394861,"reputation":554,"user_id":1324841,"accept_rate":77,"display_name":"huao"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1357560470,"creation_date":1335295080,"answer_id":10304566,"question_id":10251518,"body_markdown":"Actually, I solved the problem. I run it by eclipse jetty plugin.\r\n\r\n 1. I didn&#39;t have the JDK lib in my eclipse, that&#39;s why the message keep showing that I need the full JDK installed, that&#39;s the main reason. \r\n\r\n 2. I installed two versions of jetty plugin, wich is jetty7 and jetty8. I think they conflict with each other or something, so I removed the jetty7, and it works!","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>Actually, I solved the problem. I run it by eclipse jetty plugin.</p>\n\n<ol>\n<li><p>I didn't have the JDK lib in my eclipse, that's why the message keep showing that I need the full JDK installed, that's the main reason. </p></li>\n<li><p>I installed two versions of jetty plugin, wich is jetty7 and jetty8. I think they conflict with each other or something, so I removed the jetty7, and it works!</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1507342,"reputation":331,"user_id":1410417,"accept_rate":0,"display_name":"lanzalibre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380703291,"creation_date":1380703291,"answer_id":19133079,"question_id":10251518,"body_markdown":"I had the same problem. I solved it by removing the line break from the xml file. I did \r\n\r\n    &lt;operationBindings&gt;\r\n\t\t&lt;OperationBinding&gt;\r\n\t\t\t&lt;operationType&gt;update&lt;/operationType&gt;\r\n\t\t\t&lt;operationId&gt;makePdf&lt;/operationId&gt;\r\n\t\t\t&lt;serverObject&gt;\r\n\t\t\t\t&lt;className&gt;com.myclass&lt;/className&gt;\r\n\t\t\t\t&lt;lookupStyle&gt;new&lt;/lookupStyle&gt;\r\n\t\t\t&lt;/serverObject&gt;\r\n\t\t\t&lt;serverMethod&gt;makePdf&lt;/serverMethod&gt;\r\n\t\t&lt;/OperationBinding&gt;\r\n\t&lt;/operationBindings&gt;\r\n\r\ninstead of ...\r\n    \r\n    &lt;serverObject&gt;\r\n\t\t\t\t&lt;className&gt;com.myclass\r\n    &lt;/className&gt;\r\n\t\t\t\t&lt;lookupStyle&gt;new&lt;/lookupStyle&gt;\r\n\t&lt;/serverObject&gt;\r\n","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>I had the same problem. I solved it by removing the line break from the xml file. I did </p>\n\n<pre><code>&lt;operationBindings&gt;\n    &lt;OperationBinding&gt;\n        &lt;operationType&gt;update&lt;/operationType&gt;\n        &lt;operationId&gt;makePdf&lt;/operationId&gt;\n        &lt;serverObject&gt;\n            &lt;className&gt;com.myclass&lt;/className&gt;\n            &lt;lookupStyle&gt;new&lt;/lookupStyle&gt;\n        &lt;/serverObject&gt;\n        &lt;serverMethod&gt;makePdf&lt;/serverMethod&gt;\n    &lt;/OperationBinding&gt;\n&lt;/operationBindings&gt;\n</code></pre>\n\n<p>instead of ...</p>\n\n<pre><code>&lt;serverObject&gt;\n            &lt;className&gt;com.myclass\n&lt;/className&gt;\n            &lt;lookupStyle&gt;new&lt;/lookupStyle&gt;\n&lt;/serverObject&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1335838,"reputation":1101,"user_id":1278621,"accept_rate":50,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416392299,"creation_date":1416392299,"answer_id":27014278,"question_id":10251518,"body_markdown":"None of these answers worked for me.\r\n\r\nI had to remove all deployed java web app:\r\n\r\n - Windows/Show View/Other... \r\n - Go the the Server folder and select &quot;Servers&quot; \r\n - Right-click on the J2EE Preview at localhost \r\n - Click to Add and Remove... Click Remove all\r\n\r\nThen run the project on the server\r\n\r\nThe Error is gone!\r\n\r\nYou will have to stop the server before deploying another project because it will not be found by the server. Otherwise you will get a 404 error","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>None of these answers worked for me.</p>\n\n<p>I had to remove all deployed java web app:</p>\n\n<ul>\n<li>Windows/Show View/Other... </li>\n<li>Go the the Server folder and select \"Servers\" </li>\n<li>Right-click on the J2EE Preview at localhost </li>\n<li>Click to Add and Remove... Click Remove all</li>\n</ul>\n\n<p>Then run the project on the server</p>\n\n<p>The Error is gone!</p>\n\n<p>You will have to stop the server before deploying another project because it will not be found by the server. Otherwise you will get a 404 error</p>\n"},{"tags":[],"owner":{"account_id":4028976,"reputation":691,"user_id":3315932,"display_name":"MAFAIZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434286035,"creation_date":1434286035,"answer_id":30829525,"question_id":10251518,"body_markdown":"Remove/Delete the project from workspace. and Reimport the project to the workspace.\r\nThis method worked for me.","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>Remove/Delete the project from workspace. and Reimport the project to the workspace.\nThis method worked for me.</p>\n"},{"tags":[],"owner":{"account_id":22117562,"reputation":91,"user_id":16371388,"display_name":"ajupar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687760780,"creation_date":1687760780,"answer_id":76554020,"question_id":10251518,"body_markdown":"&quot;Project... Clean&quot; in Eclipse solved this for me.\r\n\r\nEarlier, I had to configure the web.xml correctly.","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>&quot;Project... Clean&quot; in Eclipse solved this for me.</p>\n<p>Earlier, I had to configure the web.xml correctly.</p>\n"}],"owner":{"account_id":1394861,"reputation":554,"user_id":1324841,"accept_rate":77,"display_name":"huao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136480,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":10304566,"answer_count":6,"score":14,"last_activity_date":1687760780,"creation_date":1334946364,"question_id":10251518,"body_markdown":"I&#39;m new to Jetty, I tried to run the sample program here &quot;http://www.codeproject.com/Articles/128145/Run-Jetty-Web-Server-Within-Your-Application&quot; \r\nbut I got error message on my page &quot;http://localhost:8585/runJetty/&quot;\r\n \r\n    &quot;HTTP ERROR: 503\r\n    Problem accessing /runJetty/. Reason: \r\n        Service Unavailable\r\n    --------------------------------------------------------------------------------\r\n    Powered by Jetty:// &quot;\r\n\r\nError log I get from eclipse:\r\n    \r\n    2012-04-20 11:14:32.522:INFO:oejs.Server:jetty-8.1.3.v20120416\r\n    2012-04-20 11:14:32.617:WARN:oejx.XmlParser:FATAL@file:/C:/Users/***/workspace/Test/WEB-INF/web.xml line:1 col:7 : org.xml.sax.SAXParseException: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n    2012-04-20 11:14:32.617:WARN:oejw.WebAppContext:Failed startup of context o.e.j.w.WebAppContext{/runJetty,file:/C:/Users/***/workspace/Test/}\r\n    org.xml.sax.SAXParseException: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLScanner.scanPIData(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLScanner.scanPI(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n\tat javax.xml.parsers.SAXParser.parse(Unknown Source)\r\n\tat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:199)\r\n\tat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:215)\r\n\tat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:60)\r\n\tat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:143)\r\n\tat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:165)\r\n\tat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:55)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:417)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:224)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:167)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:262)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\r\n\tat blog.runjetty.server.JettyServer.start(JettyServer.java:22)\r\n\tat blog.runjetty.ui.listener.ServerStartStopActionListner.actionPerformed(ServerStartStopActionListner.java:38)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$000(Unknown Source)\r\n\tat java.awt.EventQueue$1.run(Unknown Source)\r\n\tat java.awt.EventQueue$1.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$2.run(Unknown Source)\r\n\tat java.awt.EventQueue$2.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n    2012-04-20 11:14:32.648:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:8585\r\n\r\nMy xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee \r\n    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; \r\n    version=&quot;2.4&quot;&gt;\r\n  \t    &lt;welcome-file-list&gt;\r\n\t  \t    &lt;welcome-file&gt;page/index.jsp&lt;/welcome-file&gt; \r\n\t    &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt; \r\n\r\nMy JSP file\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1 pageEncoding=&quot;ISO-8859-1&quot;%&gt; \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01     Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt; \r\n\t    &lt;head&gt; \r\n\t\t    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n\t\t    &lt;title&gt;Embedding Jetty&lt;/title&gt;\r\n\t    &lt;/head&gt;\r\n\t    &lt;body&gt;\r\n\t\t    &lt;h2&gt;Running Jetty web server from our application!!&lt;/h2&gt;\r\n\t    &lt;/body&gt;\r\n    &lt;/html&gt;  \r\n","title":"Jetty: HTTP ERROR: 503/ Service Unavailable","body":"<p>I'm new to Jetty, I tried to run the sample program here \"<a href=\"http://www.codeproject.com/Articles/128145/Run-Jetty-Web-Server-Within-Your-Application\" rel=\"noreferrer\">http://www.codeproject.com/Articles/128145/Run-Jetty-Web-Server-Within-Your-Application</a>\" \nbut I got error message on my page \"<a href=\"http://localhost:8585/runJetty/\" rel=\"noreferrer\">http://localhost:8585/runJetty/</a>\"</p>\n\n<pre><code>\"HTTP ERROR: 503\nProblem accessing /runJetty/. Reason: \n    Service Unavailable\n--------------------------------------------------------------------------------\nPowered by Jetty:// \"\n</code></pre>\n\n<p>Error log I get from eclipse:</p>\n\n<pre><code>2012-04-20 11:14:32.522:INFO:oejs.Server:jetty-8.1.3.v20120416\n2012-04-20 11:14:32.617:WARN:oejx.XmlParser:FATAL@file:/C:/Users/***/workspace/Test/WEB-INF/web.xml line:1 col:7 : org.xml.sax.SAXParseException: The processing instruction target matching \"[xX][mM][lL]\" is not allowed.\n2012-04-20 11:14:32.617:WARN:oejw.WebAppContext:Failed startup of context o.e.j.w.WebAppContext{/runJetty,file:/C:/Users/***/workspace/Test/}\norg.xml.sax.SAXParseException: The processing instruction target matching \"[xX][mM][lL]\" is not allowed.\nat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\nat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLScanner.scanPIData(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLScanner.scanPI(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\nat javax.xml.parsers.SAXParser.parse(Unknown Source)\nat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:199)\nat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:215)\nat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:60)\nat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:143)\nat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:165)\nat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:55)\nat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:417)\nat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\nat org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:224)\nat org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:167)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\nat org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)\nat org.eclipse.jetty.server.Server.doStart(Server.java:262)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)\nat blog.runjetty.server.JettyServer.start(JettyServer.java:22)\nat blog.runjetty.ui.listener.ServerStartStopActionListner.actionPerformed(ServerStartStopActionListner.java:38)\nat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\nat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\nat java.awt.Component.processMouseEvent(Unknown Source)\nat javax.swing.JComponent.processMouseEvent(Unknown Source)\nat java.awt.Component.processEvent(Unknown Source)\nat java.awt.Container.processEvent(Unknown Source)\nat java.awt.Component.dispatchEventImpl(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Window.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\nat java.awt.EventQueue.access$000(Unknown Source)\nat java.awt.EventQueue$1.run(Unknown Source)\nat java.awt.EventQueue$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue$2.run(Unknown Source)\nat java.awt.EventQueue$2.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue.dispatchEvent(Unknown Source)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.run(Unknown Source)\n2012-04-20 11:14:32.648:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:8585\n</code></pre>\n\n<p>My xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee \nhttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\" \nversion=\"2.4\"&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;page/index.jsp&lt;/welcome-file&gt; \n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt; \n</code></pre>\n\n<p>My JSP file</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1 pageEncoding=\"ISO-8859-1\"%&gt; \n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01     Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt; \n    &lt;head&gt; \n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n        &lt;title&gt;Embedding Jetty&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Running Jetty web server from our application!!&lt;/h2&gt;\n    &lt;/body&gt;\n&lt;/html&gt;  \n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","automated-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1687767335,"post_id":76553983,"comment_id":134977291,"body_markdown":"You can open them all in a new TAB. Update the question with the relevant HTML and your code trials.","body":"You can open them all in a new TAB. Update the question with the relevant HTML and your code trials."},{"owner":{"account_id":28721820,"reputation":166,"user_id":21995460,"display_name":"Murat Ishenbaev"},"score":0,"creation_date":1687902242,"post_id":76553983,"comment_id":135001587,"body_markdown":"please add more details, what you are trying to do and achieve.","body":"please add more details, what you are trying to do and achieve."}],"owner":{"account_id":28895030,"reputation":1,"user_id":22131224,"display_name":"Shaik Raheem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687760459,"creation_date":1687760376,"question_id":76553983,"body_markdown":"While running the script in selenium we are clicking on the sub-menu in every test some times that sub-menu opened in new tab.\r\nEx: we are running the 6 scenarios, 3 are opened in same tab and remaining 3 are opened in new tabs.\r\n\r\n\r\nIt should open in new tab.","title":"Opened in new tab issue while clicking on sub-menu in every test (Selenium-java)","body":"<p>While running the script in selenium we are clicking on the sub-menu in every test some times that sub-menu opened in new tab.\nEx: we are running the 6 scenarios, 3 are opened in same tab and remaining 3 are opened in new tabs.</p>\n<p>It should open in new tab.</p>\n"},{"tags":["java","hashmap","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":7789861,"reputation":1,"user_id":5893255,"display_name":"Andre_The_Gamer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1455566722,"creation_date":1455476669,"answer_id":35395874,"question_id":35395394,"body_markdown":"Did you return it to default after using it ex:\r\n`return false;` function?\r\n\r\nInclude this right the players jumps.\r\n\r\n    @EventHandler(priority = EventPriority.HIGH)\r\n    public void onFallDamage(EntityDamageEvent event){\r\n        if(event.getEntity() instanceof Player){\r\n            Player player = (Player)event.getEntity();\r\n            if(event.getCause()){\r\n                event.setCancelled(true);\r\n            }\r\n        }\r\n    }\r\n","title":"Minecraft (Bukkit) : Issue with falldamage after &quot;Doublejump&quot;","body":"<p>Did you return it to default after using it ex:\n<code>return false;</code> function?</p>\n\n<p>Include this right the players jumps.</p>\n\n<pre><code>@EventHandler(priority = EventPriority.HIGH)\npublic void onFallDamage(EntityDamageEvent event){\n    if(event.getEntity() instanceof Player){\n        Player player = (Player)event.getEntity();\n        if(event.getCause()){\n            event.setCancelled(true);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6400883,"reputation":1271,"user_id":4963588,"display_name":"Adrian Sohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1455516968,"creation_date":1455515445,"answer_id":35402318,"question_id":35395394,"body_markdown":"The obstacle here is that `player.setAllowFlight(true)` makes players immune to fall damage, but unfortunately this is done by the client and not the server. The client doesn&#39;t let the server know they fell at all, so no `EntityDamageEvent` is triggered and we can&#39;t un-cancel any damage that might&#39;ve been prevented by the server (the server doesn&#39;t check whether a player has fallen and instead relies on the client to tell the the server when they fell).\r\n\r\nYet since players need to be able to toggle flight mode during their entire fall so that the `PlayerFlightToggleEvent` is triggered (if they haven&#39;t used their double jump yet), we need a way to detect the moment right before a player is about to land, at which point, if the player still hasn&#39;t used their double jump ability, we can safely assume that they have decided not to use it at all and are falling &quot;regularly&quot; and should therefore take fall damage. If we disabled a player&#39;s ability to use their double jump earlier than that, we would create an (unnecessary) trade-off where a player could potentially not double jump a split second before landing (or even earlier).\r\n\r\nBy checking the block right underneath the location that a player is about to move to during a `PlayerMoveEvent`, we can &quot;predict&quot; whether a player is in the act of landing on a non-air block. Before the `PlayerMoveEvent` has actually happened yet, we disable flight mode so that the player takes regular fall damage after the move is completed. The code would look something like this:\r\n\r\n    // Inside your &quot;PlayerMoveEvent&quot; method\r\n\r\n    // If a player is not on the ground and has fallen more than two blocks\r\n    if (!((CraftPlayer) player).isOnGround() &amp;&amp; player.getFallDistance() &gt; 2) {\r\n        Location to = event.getTo().clone().subtract(0, 0.0001, 0); // Get the location they will be at next tick\r\n        if (to.getBlock().getType() != Material.AIR) { // If that block is not air\r\n            player.setAllowFlight(false); // Cancel their ability to fly so that they take regular fall damage\r\n        }\r\n    }\r\n\r\nNote that the fall distance and the `onGround` value of player entities are supplied by the client and can be spoofed with custom clients, so it might be smarter to use the block below their feet to check whether they are on the ground or not (although this also for various other reasons sometimes doesn&#39;t return the right result, whether a player is truly on the ground or not is more complicated than it seems).\r\n\r\nOne more tip for your code: If you want to create some kind of cool down period for some ability, instead of creating a relatively resource expensive task that counts down every tick, you can just put the player and the time when they can use the ability again inside a map. If they try to use the ability again, you can check whether the current time is past the time at which point they were allowed to use the ability again. Example:\r\n\r\n    private HashMap&lt;UUID, Long&gt; abilityCooldown = new HashMap&lt;&gt;();\r\n\r\n    public void onEvent(SomePlayerEvent event) {\r\n        // Player is trying to use some ability...\r\n\r\n        // It&#39;s usually safer to store IDs rather than names or player objects for various reasons\r\n        UUID id = event.getPlayer().getUniqueId();\r\n        if (!abilityCooldown.containsKey(id)) { // They are not in the map, so have never tried to use the ability yet\r\n            // Let them use the ability here...\r\n            int seconds = 5; // The amount of time to cool down for\r\n            // Put the player&#39;s ID and the time when they will be allowed to use the ability again (future)\r\n            abilityCooldown.put(id, System.currentTimeMillis() + 1000 * seconds);\r\n        } else {\r\n            // The time when they are allowed to use the ability again (we put this in the map when they used it last)\r\n            long time = abilityCooldown.get(id);\r\n            if (time &gt; System.currentTimeMillis()) { // If that time is still in the future\r\n                // Do not allow them to use the ability (maybe send them a message)\r\n            } else {\r\n                // Let them use the ability here...\r\n                int seconds = 5; // The amount of time to cool down for\r\n                abilityCooldown.put(id, System.currentTimeMillis() + 1000 * seconds); // Update the time when they can use the ablity again\r\n            }\r\n        }\r\n    }","title":"Minecraft (Bukkit) : Issue with falldamage after &quot;Doublejump&quot;","body":"<p>The obstacle here is that <code>player.setAllowFlight(true)</code> makes players immune to fall damage, but unfortunately this is done by the client and not the server. The client doesn't let the server know they fell at all, so no <code>EntityDamageEvent</code> is triggered and we can't un-cancel any damage that might've been prevented by the server (the server doesn't check whether a player has fallen and instead relies on the client to tell the the server when they fell).</p>\n\n<p>Yet since players need to be able to toggle flight mode during their entire fall so that the <code>PlayerFlightToggleEvent</code> is triggered (if they haven't used their double jump yet), we need a way to detect the moment right before a player is about to land, at which point, if the player still hasn't used their double jump ability, we can safely assume that they have decided not to use it at all and are falling \"regularly\" and should therefore take fall damage. If we disabled a player's ability to use their double jump earlier than that, we would create an (unnecessary) trade-off where a player could potentially not double jump a split second before landing (or even earlier).</p>\n\n<p>By checking the block right underneath the location that a player is about to move to during a <code>PlayerMoveEvent</code>, we can \"predict\" whether a player is in the act of landing on a non-air block. Before the <code>PlayerMoveEvent</code> has actually happened yet, we disable flight mode so that the player takes regular fall damage after the move is completed. The code would look something like this:</p>\n\n<pre><code>// Inside your \"PlayerMoveEvent\" method\n\n// If a player is not on the ground and has fallen more than two blocks\nif (!((CraftPlayer) player).isOnGround() &amp;&amp; player.getFallDistance() &gt; 2) {\n    Location to = event.getTo().clone().subtract(0, 0.0001, 0); // Get the location they will be at next tick\n    if (to.getBlock().getType() != Material.AIR) { // If that block is not air\n        player.setAllowFlight(false); // Cancel their ability to fly so that they take regular fall damage\n    }\n}\n</code></pre>\n\n<p>Note that the fall distance and the <code>onGround</code> value of player entities are supplied by the client and can be spoofed with custom clients, so it might be smarter to use the block below their feet to check whether they are on the ground or not (although this also for various other reasons sometimes doesn't return the right result, whether a player is truly on the ground or not is more complicated than it seems).</p>\n\n<p>One more tip for your code: If you want to create some kind of cool down period for some ability, instead of creating a relatively resource expensive task that counts down every tick, you can just put the player and the time when they can use the ability again inside a map. If they try to use the ability again, you can check whether the current time is past the time at which point they were allowed to use the ability again. Example:</p>\n\n<pre><code>private HashMap&lt;UUID, Long&gt; abilityCooldown = new HashMap&lt;&gt;();\n\npublic void onEvent(SomePlayerEvent event) {\n    // Player is trying to use some ability...\n\n    // It's usually safer to store IDs rather than names or player objects for various reasons\n    UUID id = event.getPlayer().getUniqueId();\n    if (!abilityCooldown.containsKey(id)) { // They are not in the map, so have never tried to use the ability yet\n        // Let them use the ability here...\n        int seconds = 5; // The amount of time to cool down for\n        // Put the player's ID and the time when they will be allowed to use the ability again (future)\n        abilityCooldown.put(id, System.currentTimeMillis() + 1000 * seconds);\n    } else {\n        // The time when they are allowed to use the ability again (we put this in the map when they used it last)\n        long time = abilityCooldown.get(id);\n        if (time &gt; System.currentTimeMillis()) { // If that time is still in the future\n            // Do not allow them to use the ability (maybe send them a message)\n        } else {\n            // Let them use the ability here...\n            int seconds = 5; // The amount of time to cool down for\n            abilityCooldown.put(id, System.currentTimeMillis() + 1000 * seconds); // Update the time when they can use the ablity again\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22238317,"reputation":59,"user_id":16473257,"display_name":"Sandu Chicu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687759816,"creation_date":1687759816,"answer_id":76553928,"question_id":35395394,"body_markdown":"There actually is a very simple way to fix this.\r\nYou can just do `Player.setFlyingFallDamage(TriState.TRUE);`\r\nThis will make it so the player will take damage even when flying.","title":"Minecraft (Bukkit) : Issue with falldamage after &quot;Doublejump&quot;","body":"<p>There actually is a very simple way to fix this.\nYou can just do <code>Player.setFlyingFallDamage(TriState.TRUE);</code>\nThis will make it so the player will take damage even when flying.</p>\n"}],"owner":{"account_id":7602843,"reputation":460,"user_id":5766770,"accept_rate":100,"display_name":"Cath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35402318,"answer_count":3,"score":0,"last_activity_date":1687759816,"creation_date":1455474158,"question_id":35395394,"body_markdown":"I&#39;ve recently written a &quot;Double Jump&quot; code for my plugin, which also cancels the falldamage after a successful jump. \r\n\r\nThe current problem is, that falldamage is removed completely, and I couldn&#39;t find out why. The issue seems to be the `onFall` event, and the `.setAllowFlight(true);` from the `onMove`.\r\n\r\n    package at.skyblock.events;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    import org.bukkit.ChatColor;\r\n    import org.bukkit.GameMode;\r\n    import org.bukkit.Material;\r\n    import org.bukkit.block.BlockFace;\r\n    import org.bukkit.entity.Player;\r\n    import org.bukkit.event.EventHandler;\r\n    import org.bukkit.event.EventPriority;\r\n    import org.bukkit.event.Listener;\r\n    import org.bukkit.event.entity.EntityDamageEvent;\r\n    import org.bukkit.event.entity.EntityDamageEvent.DamageCause;\r\n    import org.bukkit.event.player.PlayerMoveEvent;\r\n    import org.bukkit.event.player.PlayerToggleFlightEvent;\r\n    import org.bukkit.inventory.ItemStack;\r\n    import org.bukkit.scheduler.BukkitRunnable;\r\n    import org.bukkit.util.Vector;\r\n    \r\n    import at.skyblok.SnowflakeUtil;\r\n    \r\n    public class MovementHandler implements Listener {\r\n    \r\n    \tprivate SnowflakeUtil pl;\r\n    \tprivate ArrayList&lt;Player&gt; jumpers = new ArrayList&lt;Player&gt;();\r\n    \tprivate HashMap&lt;Player, Integer&gt; cooldownTime = new HashMap&lt;Player, Integer&gt;();\r\n    \tprivate HashMap&lt;Player, BukkitRunnable&gt; cooldownTask = new HashMap&lt;Player, BukkitRunnable&gt;();\r\n    \r\n    \tpublic MovementHandler(SnowflakeUtil pl) {\r\n    \r\n    \t\tthis.pl = pl;\r\n    \r\n    \t}\r\n    \r\n    \t@EventHandler\r\n    \tpublic void onFall(EntityDamageEvent e) {\r\n    \r\n    \t\tif (e.getEntity() instanceof Player) {\r\n    \t\t\tif (e.getCause().equals(DamageCause.FALL)) {\r\n    \t\t\t\tPlayer p = (Player) e.getEntity();\r\n    \r\n    \t\t\t\tif (jumpers.contains(p)) {\r\n    \r\n    \t\t\t\t\te.setCancelled(true);\r\n    \t\t\t\t\tjumpers.remove(p);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@EventHandler\r\n    \tpublic void onMove(final PlayerMoveEvent event) {\r\n    \r\n    \t\tif (cooldownTime.containsKey(event.getPlayer()))\r\n    \t\t\treturn;\r\n    \r\n    \t\tif (event.getPlayer().getGameMode() != GameMode.CREATIVE\r\n    \t\t\t\t&amp;&amp; event.getPlayer().getLocation().getBlock().getRelative(BlockFace.DOWN).getType() != Material.AIR) {\r\n    \r\n    \t\t\tevent.getPlayer().sendMessage(&quot;ready&quot;);\r\n    \t\t\t\r\n    \t\t\tevent.getPlayer().setAllowFlight(true);\r\n    \r\n    \t\t\tcooldownTime.put(event.getPlayer(), 5);\r\n    \r\n    \t\t\tcooldownTask.put(event.getPlayer(), new BukkitRunnable() {\r\n    \t\t\t\tpublic void run() {\r\n    \t\t\t\t\tcooldownTime.put(event.getPlayer(), cooldownTime.get(event.getPlayer()) - 1);\r\n    \r\n    \t\t\t\t\tif (cooldownTime.get(event.getPlayer()) == 0) {\r\n    \r\n    \t\t\t\t\t\tcooldownTime.remove(event.getPlayer());\r\n    \t\t\t\t\t\tcooldownTask.remove(event.getPlayer());\r\n    \t\t\t\t\t\tjumpers.remove(event.getPlayer());\r\n    \t\t\t\t\t\tcancel();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tcooldownTask.get(event.getPlayer()).runTaskTimer(pl, 20, 20);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@EventHandler(priority = EventPriority.HIGH)\r\n    \tpublic void onDoubleJump(PlayerToggleFlightEvent e) {\r\n    \r\n    \t\tPlayer p = e.getPlayer();\r\n    \t\tif (!p.getGameMode().equals(GameMode.CREATIVE)) {\r\n    \t\t\te.setCancelled(true);\r\n    \t\t\tp.setFlying(false);\r\n    \t\t\tp.setAllowFlight(false);\r\n    \r\n    \t\t\tString type = &quot;&quot;;\r\n    \r\n    \t\t\tif (p.getInventory().getArmorContents() != null) {\r\n    \t\t\t\tfor (ItemStack is : p.getInventory().getArmorContents()) {\r\n    \r\n    \t\t\t\t\tif (is.hasItemMeta()) {\r\n    \t\t\t\t\t\tif (is.getItemMeta().hasLore()) {\r\n    \t\t\t\t\t\t\tfor (int i = 0; i &lt; is.getItemMeta().getLore().size(); i++) {\r\n    \r\n    \t\t\t\t\t\t\t\tif (ChatColor.stripColor(is.getItemMeta().getLore().get(i).toLowerCase())\r\n    \t\t\t\t\t\t\t\t\t\t.contains(ChatColor.stripColor(&quot;movement&quot;))) {\r\n    \r\n    \t\t\t\t\t\t\t\t\tString part = ChatColor.stripColor(is.getItemMeta().getLore().get(i));\r\n    \r\n    \t\t\t\t\t\t\t\t\ttype = SnowflakeUtil\r\n    \t\t\t\t\t\t\t\t\t\t\t.capitalize(part.replaceAll(&quot;Movement:&quot;, &quot;&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;));\r\n    \r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\tjumpers.add(p);\r\n    \t\t\tswitch (type) {\r\n    \t\t\tcase &quot;Rocketjump&quot;:\r\n    \r\n    \t\t\t\tp.setVelocity(p.getLocation().getDirection().multiply(1));\r\n    \t\t\t\tp.setVelocity(new Vector(p.getVelocity().getX(), 0.75D, p.getVelocity().getZ()));\r\n    \r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Minecraft (Bukkit) : Issue with falldamage after &quot;Doublejump&quot;","body":"<p>I've recently written a \"Double Jump\" code for my plugin, which also cancels the falldamage after a successful jump. </p>\n\n<p>The current problem is, that falldamage is removed completely, and I couldn't find out why. The issue seems to be the <code>onFall</code> event, and the <code>.setAllowFlight(true);</code> from the <code>onMove</code>.</p>\n\n<pre><code>package at.skyblock.events;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport org.bukkit.ChatColor;\nimport org.bukkit.GameMode;\nimport org.bukkit.Material;\nimport org.bukkit.block.BlockFace;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.EventPriority;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.entity.EntityDamageEvent;\nimport org.bukkit.event.entity.EntityDamageEvent.DamageCause;\nimport org.bukkit.event.player.PlayerMoveEvent;\nimport org.bukkit.event.player.PlayerToggleFlightEvent;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.scheduler.BukkitRunnable;\nimport org.bukkit.util.Vector;\n\nimport at.skyblok.SnowflakeUtil;\n\npublic class MovementHandler implements Listener {\n\n    private SnowflakeUtil pl;\n    private ArrayList&lt;Player&gt; jumpers = new ArrayList&lt;Player&gt;();\n    private HashMap&lt;Player, Integer&gt; cooldownTime = new HashMap&lt;Player, Integer&gt;();\n    private HashMap&lt;Player, BukkitRunnable&gt; cooldownTask = new HashMap&lt;Player, BukkitRunnable&gt;();\n\n    public MovementHandler(SnowflakeUtil pl) {\n\n        this.pl = pl;\n\n    }\n\n    @EventHandler\n    public void onFall(EntityDamageEvent e) {\n\n        if (e.getEntity() instanceof Player) {\n            if (e.getCause().equals(DamageCause.FALL)) {\n                Player p = (Player) e.getEntity();\n\n                if (jumpers.contains(p)) {\n\n                    e.setCancelled(true);\n                    jumpers.remove(p);\n\n                }\n            }\n\n        }\n\n    }\n\n    @EventHandler\n    public void onMove(final PlayerMoveEvent event) {\n\n        if (cooldownTime.containsKey(event.getPlayer()))\n            return;\n\n        if (event.getPlayer().getGameMode() != GameMode.CREATIVE\n                &amp;&amp; event.getPlayer().getLocation().getBlock().getRelative(BlockFace.DOWN).getType() != Material.AIR) {\n\n            event.getPlayer().sendMessage(\"ready\");\n\n            event.getPlayer().setAllowFlight(true);\n\n            cooldownTime.put(event.getPlayer(), 5);\n\n            cooldownTask.put(event.getPlayer(), new BukkitRunnable() {\n                public void run() {\n                    cooldownTime.put(event.getPlayer(), cooldownTime.get(event.getPlayer()) - 1);\n\n                    if (cooldownTime.get(event.getPlayer()) == 0) {\n\n                        cooldownTime.remove(event.getPlayer());\n                        cooldownTask.remove(event.getPlayer());\n                        jumpers.remove(event.getPlayer());\n                        cancel();\n                    }\n                }\n            });\n\n            cooldownTask.get(event.getPlayer()).runTaskTimer(pl, 20, 20);\n\n        }\n\n    }\n\n    @EventHandler(priority = EventPriority.HIGH)\n    public void onDoubleJump(PlayerToggleFlightEvent e) {\n\n        Player p = e.getPlayer();\n        if (!p.getGameMode().equals(GameMode.CREATIVE)) {\n            e.setCancelled(true);\n            p.setFlying(false);\n            p.setAllowFlight(false);\n\n            String type = \"\";\n\n            if (p.getInventory().getArmorContents() != null) {\n                for (ItemStack is : p.getInventory().getArmorContents()) {\n\n                    if (is.hasItemMeta()) {\n                        if (is.getItemMeta().hasLore()) {\n                            for (int i = 0; i &lt; is.getItemMeta().getLore().size(); i++) {\n\n                                if (ChatColor.stripColor(is.getItemMeta().getLore().get(i).toLowerCase())\n                                        .contains(ChatColor.stripColor(\"movement\"))) {\n\n                                    String part = ChatColor.stripColor(is.getItemMeta().getLore().get(i));\n\n                                    type = SnowflakeUtil\n                                            .capitalize(part.replaceAll(\"Movement:\", \"\").replaceAll(\"\\\\s\", \"\"));\n\n                                }\n                            }\n                        }\n\n                    }\n                }\n\n            }\n            jumpers.add(p);\n            switch (type) {\n            case \"Rocketjump\":\n\n                p.setVelocity(p.getLocation().getDirection().multiply(1));\n                p.setVelocity(new Vector(p.getVelocity().getX(), 0.75D, p.getVelocity().getZ()));\n\n                break;\n\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux","proxy","ntlm"],"comments":[{"owner":{"account_id":8943599,"reputation":227,"user_id":6671819,"display_name":"slowy"},"score":0,"creation_date":1516380495,"post_id":48345182,"comment_id":83677340,"body_markdown":"Have you checked that ntlm authentication works on the local machine without java?","body":"Have you checked that ntlm authentication works on the local machine without java?"},{"owner":{"account_id":9097917,"reputation":1271,"user_id":6771212,"accept_rate":83,"display_name":"Dawid Fieluba"},"score":0,"creation_date":1516381613,"post_id":48345182,"comment_id":83678056,"body_markdown":"You mean if credentials are correct? Yes, Im using this proxy in some other apps","body":"You mean if credentials are correct? Yes, Im using this proxy in some other apps"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1516629143,"post_id":48345182,"comment_id":83752999,"body_markdown":"You can provide a tcpdump capture ?","body":"You can provide a tcpdump capture ?"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":1,"creation_date":1516629225,"post_id":48345182,"comment_id":83753076,"body_markdown":"Here you can find openjdk&#39;s implementation : http://river-tiger.com/ntlm/NTLM.zip . Unzip and run with the jar file from this archive.","body":"Here you can find openjdk&#39;s implementation : <a href=\"http://river-tiger.com/ntlm/NTLM.zip\" rel=\"nofollow noreferrer\">river-tiger.com/ntlm/NTLM.zip</a> . Unzip and run with the jar file from this archive."},{"owner":{"account_id":9097917,"reputation":1271,"user_id":6771212,"accept_rate":83,"display_name":"Dawid Fieluba"},"score":0,"creation_date":1516710869,"post_id":48345182,"comment_id":83791754,"body_markdown":"Sorry, I don&#39;t have access to provide tcpdump and also can&#39;t download your zip (company firewall), but thanks a lot for your time ;)","body":"Sorry, I don&#39;t have access to provide tcpdump and also can&#39;t download your zip (company firewall), but thanks a lot for your time ;)"}],"answers":[{"tags":[],"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516624596,"creation_date":1516624596,"answer_id":48381776,"question_id":48345182,"body_markdown":"The build b128 is a Java 9 build, and unluckily it seems it was not ported on Java 8 (I can&#39;t find any NTLM bug in any of the Java 8 bug fixes list such as [http://www.oracle.com/technetwork/java/javase/2col/8u161-bugfixes-4021380.html][1] )\r\nMaybe could you try running your app with an old openjdk&#39;s ntlm implementation that is working well. I have one with me but I&#39;m not sure how to send you this jar file.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/2col/8u161-bugfixes-4021380.html &quot;JDK 8u161 Bug Fixes&quot;","title":"Java URLConnection NTLM proxy authentication - linux","body":"<p>The build b128 is a Java 9 build, and unluckily it seems it was not ported on Java 8 (I can't find any NTLM bug in any of the Java 8 bug fixes list such as <a href=\"http://www.oracle.com/technetwork/java/javase/2col/8u161-bugfixes-4021380.html\" rel=\"nofollow noreferrer\" title=\"JDK 8u161 Bug Fixes\">http://www.oracle.com/technetwork/java/javase/2col/8u161-bugfixes-4021380.html</a> )\nMaybe could you try running your app with an old openjdk's ntlm implementation that is working well. I have one with me but I'm not sure how to send you this jar file.</p>\n"},{"tags":[],"owner":{"account_id":9097917,"reputation":1271,"user_id":6771212,"accept_rate":83,"display_name":"Dawid Fieluba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516784581,"creation_date":1516710795,"answer_id":48401877,"question_id":48345182,"body_markdown":"I found little workaround for my problem.\r\n\r\n    StringBuilder commandBuilder = new StringBuilder();\r\n\t\tcommandBuilder.append( &quot;curl -s &quot; )\r\n\t\t\t\t.append( &quot;--proxy $PXHOST:$PXPORT &quot; )\r\n\t\t\t\t.append( &quot;--proxy-user $PXUSER:$PXPASS &quot; )\r\n\t\t\t\t.append( &quot;--user $SNUSER:$SNPASS &quot; )\r\n\t\t\t\t.append( &quot;--url \\&quot;&quot; ).append( requestURL ).append( &quot;\\&quot; &quot; )\r\n\t\t\t\t.append( &quot;--request GET &quot; )\r\n\t\t\t\t.append( &quot;--header \\&quot;Accept:application/json\\&quot; &quot; )\r\n\t\t\t\t.append( &quot;--header \\&quot;Content-Type:application/json\\&quot;&quot; );\r\n    ProcessBuilder processBuilder = new ProcessBuilder( &quot;/bin/bash&quot;, \r\n                &quot;-c&quot;, commandBuilder.toString() );\r\n\r\nI don&#39;t find this solution any good, but its enough for me at this moment.","title":"Java URLConnection NTLM proxy authentication - linux","body":"<p>I found little workaround for my problem.</p>\n\n<pre><code>StringBuilder commandBuilder = new StringBuilder();\n    commandBuilder.append( \"curl -s \" )\n            .append( \"--proxy $PXHOST:$PXPORT \" )\n            .append( \"--proxy-user $PXUSER:$PXPASS \" )\n            .append( \"--user $SNUSER:$SNPASS \" )\n            .append( \"--url \\\"\" ).append( requestURL ).append( \"\\\" \" )\n            .append( \"--request GET \" )\n            .append( \"--header \\\"Accept:application/json\\\" \" )\n            .append( \"--header \\\"Content-Type:application/json\\\"\" );\nProcessBuilder processBuilder = new ProcessBuilder( \"/bin/bash\", \n            \"-c\", commandBuilder.toString() );\n</code></pre>\n\n<p>I don't find this solution any good, but its enough for me at this moment.</p>\n"}],"owner":{"account_id":9097917,"reputation":1271,"user_id":6771212,"accept_rate":83,"display_name":"Dawid Fieluba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687758074,"creation_date":1516378239,"question_id":48345182,"body_markdown":"I&#39;m trying to connect to an url by proxy with NTLM authentication.\r\n\r\n        proxy = new Proxy( Proxy.Type.HTTP, new InetSocketAddress( host, 80 ) );\r\n        Authenticator.setDefault(new Authenticator() {\r\n\t\t\t@Override\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n                logger.info(&quot;Getting password authentication...&quot;);\r\n\t\t\t\treturn new PasswordAuthentication(\r\n\t\t\t\t\t    &quot;DOMAIN\\\\user&quot;,\r\n                        &quot;password&quot;.toCharArray() ) ;\r\n\t\t\t}\r\n\t\t});\r\n        connection = (HttpURLConnection) url.openConnection( proxy );\r\n\t\tString credentials = username + &quot;:&quot; + password;\r\n\t\tString basicAuth = &quot;Basic &quot; + Base64.encode( credentials.getBytes() );\r\n\t\tconnection.setRequestProperty( &quot;Authorization&quot;, basicAuth );\r\n\t\tconnection.setRequestMethod( &quot;GET&quot; );\r\n\r\n        //username/password above != user/pass below\r\n        String proxyAuth = Base64.encode( (&quot;user:pass&quot;).getBytes() );\r\n\t\tproxyAuth = &quot;Basic &quot; + proxyAuth;\r\n\t\tconnection.setRequestProperty( &quot;Proxy-Connection&quot;, &quot;Keep-Alive&quot; );\r\n\t\tconnection.setRequestProperty( &quot;Proxy-Authorization&quot;, proxyAuth );\r\n    \r\n\t\tconnection.connect();\r\n\r\nEveryting works fine on Windows, but its because of:\r\n\r\n[JDK-Based NTLM Authentication][1]\r\n&gt; When Sun released the 1.4.2 version of the JDK, they slipped in\r\n&gt; support for native NTLM authentication on Windows.\r\n\r\nBut on configuration: \r\n\r\n&gt; Red Hat Enterprise Linux Server release 6.8\r\n&gt; \r\n&gt; java-1.8.0-openjdk-1.8.0.161-3.b14.el6_9.x86_64\r\n\r\n\r\nor\r\n&gt; java-1.8.0_162 oracle\r\n\r\nIm getting this error:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.sun.security.ntlm.Client.type3(Client.java:161)\r\n    \tat sun.net.www.protocol.http.ntlm.NTLMAuthentication.buildType3Msg(NTLMAuthentication.java:250)\r\n    \tat sun.net.www.protocol.http.ntlm.NTLMAuthentication.setHeaders(NTLMAuthentication.java:225)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2114)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:162)\r\n\r\n  \r\nFound this bug described: [JDK-8151788][2] where clearly says:\r\n\r\n&gt; Resolved In Build: b128\r\n\r\nAm I missing something very simple about that? Is there any way I can deal with that problem by HttpURLConnection or should I find something else? \r\nAny suggestions are appreciated!\r\n\r\n**@Edit**\r\n\r\nI added logging to `getPasswordAuthentication()` and it seems like its never inside.\r\nIt led me to [this][3] topic and actually NullPointerException is no longer there. \r\nNow I&#39;m getting:\r\n&gt;java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 authenticationrequired&quot; \r\n\r\n\r\n  [1]: http://www.theresearchkitchen.com/archives/24\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8151788\r\n  [3]: https://stackoverflow.com/questions/8669726/java-proxy-authentication","title":"Java URLConnection NTLM proxy authentication - linux","body":"<p>I'm trying to connect to an url by proxy with NTLM authentication.</p>\n\n<pre><code>    proxy = new Proxy( Proxy.Type.HTTP, new InetSocketAddress( host, 80 ) );\n    Authenticator.setDefault(new Authenticator() {\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            logger.info(\"Getting password authentication...\");\n            return new PasswordAuthentication(\n                    \"DOMAIN\\\\user\",\n                    \"password\".toCharArray() ) ;\n        }\n    });\n    connection = (HttpURLConnection) url.openConnection( proxy );\n    String credentials = username + \":\" + password;\n    String basicAuth = \"Basic \" + Base64.encode( credentials.getBytes() );\n    connection.setRequestProperty( \"Authorization\", basicAuth );\n    connection.setRequestMethod( \"GET\" );\n\n    //username/password above != user/pass below\n    String proxyAuth = Base64.encode( (\"user:pass\").getBytes() );\n    proxyAuth = \"Basic \" + proxyAuth;\n    connection.setRequestProperty( \"Proxy-Connection\", \"Keep-Alive\" );\n    connection.setRequestProperty( \"Proxy-Authorization\", proxyAuth );\n\n    connection.connect();\n</code></pre>\n\n<p>Everyting works fine on Windows, but its because of:</p>\n\n<p><a href=\"http://www.theresearchkitchen.com/archives/24\" rel=\"nofollow noreferrer\">JDK-Based NTLM Authentication</a></p>\n\n<blockquote>\n  <p>When Sun released the 1.4.2 version of the JDK, they slipped in\n  support for native NTLM authentication on Windows.</p>\n</blockquote>\n\n<p>But on configuration: </p>\n\n<blockquote>\n  <p>Red Hat Enterprise Linux Server release 6.8</p>\n  \n  <p>java-1.8.0-openjdk-1.8.0.161-3.b14.el6_9.x86_64</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>java-1.8.0_162 oracle</p>\n</blockquote>\n\n<p>Im getting this error:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.sun.security.ntlm.Client.type3(Client.java:161)\n    at sun.net.www.protocol.http.ntlm.NTLMAuthentication.buildType3Msg(NTLMAuthentication.java:250)\n    at sun.net.www.protocol.http.ntlm.NTLMAuthentication.setHeaders(NTLMAuthentication.java:225)\n    at sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2114)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:162)\n</code></pre>\n\n<p>Found this bug described: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8151788\" rel=\"nofollow noreferrer\">JDK-8151788</a> where clearly says:</p>\n\n<blockquote>\n  <p>Resolved In Build: b128</p>\n</blockquote>\n\n<p>Am I missing something very simple about that? Is there any way I can deal with that problem by HttpURLConnection or should I find something else? \nAny suggestions are appreciated!</p>\n\n<p><strong>@Edit</strong></p>\n\n<p>I added logging to <code>getPasswordAuthentication()</code> and it seems like its never inside.\nIt led me to <a href=\"https://stackoverflow.com/questions/8669726/java-proxy-authentication\">this</a> topic and actually NullPointerException is no longer there. \nNow I'm getting:</p>\n\n<blockquote>\n  <p>java.io.IOException: Unable to tunnel through proxy. Proxy returns \"HTTP/1.1 407 authenticationrequired\" </p>\n</blockquote>\n"},{"tags":["java","visual-studio-code","coderunner"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687717330,"post_id":76551772,"comment_id":134972131,"body_markdown":"please include the code as text (code formatted) into the question - check [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C82.2483)","body":"please include the code as text (code formatted) into the question - check <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C82.2483\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687751422,"post_id":76551772,"comment_id":134975068,"body_markdown":"Keep in mind your program is going to wait for a user-input.  This isn&#39;t related to the command-line arguments.  So, you&#39;ll have to enter a number, in the _output console_ there.","body":"Keep in mind your program is going to wait for a user-input.  This isn&#39;t related to the command-line arguments.  So, you&#39;ll have to enter a number, in the <i>output console</i> there."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688693905,"post_id":76551772,"comment_id":135111550,"body_markdown":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687757787,"creation_date":1687757787,"answer_id":76553776,"question_id":76551772,"body_markdown":"The screenshot shows that you are using **Code Runner** to execute the script, and now it outputs the result in the **OUTPUT** panel, but the **OUTPUT** panel cannot accept input.\r\n\r\n - You can add the following setting to make the result output in the **TERMINAL** panel\r\n\r\n    ```\r\n        &quot;code-runner.runInTerminal&quot;: true,\r\n    ```\r\n\r\n - The best solution is to use the official java extension package to execute the script.\r\n\r\n    [![enter image description here][1]][1]\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n    *`Run Java` instead of `Run Code`*\r\n\r\n  [1]: https://i.stack.imgur.com/7wc8q.png\r\n  [2]: https://i.stack.imgur.com/9DVeU.png","title":"When i use Scanner in my code then my program only in running state it not completed","body":"<p>The screenshot shows that you are using <strong>Code Runner</strong> to execute the script, and now it outputs the result in the <strong>OUTPUT</strong> panel, but the <strong>OUTPUT</strong> panel cannot accept input.</p>\n<ul>\n<li><p>You can add the following setting to make the result output in the <strong>TERMINAL</strong> panel</p>\n<pre><code>    &quot;code-runner.runInTerminal&quot;: true,\n</code></pre>\n</li>\n<li><p>The best solution is to use the official java extension package to execute the script.</p>\n<p><a href=\"https://i.stack.imgur.com/7wc8q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7wc8q.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9DVeU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9DVeU.png\" alt=\"enter image description here\" /></a></p>\n<p><em><code>Run Java</code> instead of <code>Run Code</code></em></p>\n</li>\n</ul>\n"}],"owner":{"account_id":27285958,"reputation":1,"user_id":20805116,"display_name":"Ashish Dhiman"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1688122767,"answer_count":1,"score":-5,"last_activity_date":1687757787,"creation_date":1687716109,"question_id":76551772,"body_markdown":"Whenever i use Scanner is this program, the program goes to running state it is not completed, if it is completed then its input not working. But when i remove it successfully working. I don&#39;t know what happening in my vscode.[enter image description here](https://i.stack.imgur.com/390Hr.png)\r\n\r\nFirstly i tried Scanner but its not working then i remove scanner and manually entered number then its worked.&#39;","title":"When i use Scanner in my code then my program only in running state it not completed","body":"<p>Whenever i use Scanner is this program, the program goes to running state it is not completed, if it is completed then its input not working. But when i remove it successfully working. I don't know what happening in my vscode.<a href=\"https://i.stack.imgur.com/390Hr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Firstly i tried Scanner but its not working then i remove scanner and manually entered number then its worked.'</p>\n"},{"tags":["java","macos","coderunner"],"answers":[{"tags":[],"owner":{"account_id":15929877,"reputation":1,"user_id":11494545,"display_name":"Rene Cruz Flores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591811504,"creation_date":1591811504,"answer_id":62309958,"question_id":60794129,"body_markdown":"Check that names of your directories don&#39;t contains &quot;special characters&quot;, CodeRunner only read &amp; execute files in &quot;English&quot; routes... Happy code!","title":"Run projects in Java with the CodeRunner IDE on mac","body":"<p>Check that names of your directories don't contains \"special characters\", CodeRunner only read &amp; execute files in \"English\" routes... Happy code!</p>\n"},{"tags":[],"owner":{"account_id":8884016,"reputation":73,"user_id":6632923,"display_name":"Tzu7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687757409,"creation_date":1687757409,"answer_id":76553743,"question_id":60794129,"body_markdown":"\r\n\r\n`&quot;${compiler%:*}&quot;`: Remove the last colon (:) and all characters after it from the end of the variable compiler.\r\n\r\n`&quot;${compiler#*:}&quot;`: Remove the first colon (:) and all characters before it from the beginning of the variable compiler\r\n\r\nSuppose the `compiler` variable is `/path/to/libraries:./classes`\r\nThe command will be parsed as:\r\n`java -cp &quot;/path/to/libraries&quot; &quot;./classes&quot;`\r\n\r\n\r\nChange Run Setting to:\r\n\r\n    #java -cp &quot;${compiler%:*}&quot; &quot;${compiler#*:}&quot;\r\n    javac $filename\r\n    java &quot;${filename%.*}&quot;\r\n\r\nAnd then the problem will be solved.","title":"Run projects in Java with the CodeRunner IDE on mac","body":"<p><code>&quot;${compiler%:*}&quot;</code>: Remove the last colon (:) and all characters after it from the end of the variable compiler.</p>\n<p><code>&quot;${compiler#*:}&quot;</code>: Remove the first colon (:) and all characters before it from the beginning of the variable compiler</p>\n<p>Suppose the <code>compiler</code> variable is <code>/path/to/libraries:./classes</code>\nThe command will be parsed as:\n<code>java -cp &quot;/path/to/libraries&quot; &quot;./classes&quot;</code></p>\n<p>Change Run Setting to:</p>\n<pre><code>#java -cp &quot;${compiler%:*}&quot; &quot;${compiler#*:}&quot;\njavac $filename\njava &quot;${filename%.*}&quot;\n</code></pre>\n<p>And then the problem will be solved.</p>\n"}],"owner":{"account_id":15044361,"reputation":11,"user_id":13062999,"display_name":"Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687757409,"creation_date":1584830983,"question_id":60794129,"body_markdown":"Sorry for my level of English.\r\n\r\nI have a problem with CodeRunner IDE that prevents me from using it correctly.\r\n\r\nIf I create an application with CodeRunner and run it, I have no problems, but if I save it to the hard disk I cannot run it again.\r\n\r\nOnce saved I always get this error:\r\n\r\n&gt; CodeRunner Warning: Could not find a main method in the file &quot;Untitled.java&quot;. Please add a main method or run the file in your project containing your main method.\r\nError: no se ha encontrado o cargado la clase principal The file “Untitled.java” couldn’t be opened because there is no such file..Untitled\r\n\r\nIt doesn&#39;t matter where you keep it or what name you put it on.\r\n\r\nAnd if I open a Main.java file created with IntelliJ and run it it gives me an error. I get the same message:\r\n\r\n&gt; CodeRunner Warning: Could not find a main method in the file &quot;Main.java&quot;. Please add a main method or run the file in your project containing your main method. Error: main class not found or loaded The file “Main.java” couldn’t be opened because there is no such file..Main\r\n\r\nIt could be something from Run Seting. Currently I have it like this:\r\n\r\n&gt; java -cp &quot;$ {compiler%: *}&quot; &quot;$ {compiler # *:}&quot;\r\n\r\nAs it came by default.\r\n\r\nCould you help me?\r\nDo you know why it gives me an error?\r\nHow to create a project with CodeRunner?\r\n\r\nThank you so much everyone,","title":"Run projects in Java with the CodeRunner IDE on mac","body":"<p>Sorry for my level of English.</p>\n\n<p>I have a problem with CodeRunner IDE that prevents me from using it correctly.</p>\n\n<p>If I create an application with CodeRunner and run it, I have no problems, but if I save it to the hard disk I cannot run it again.</p>\n\n<p>Once saved I always get this error:</p>\n\n<blockquote>\n  <p>CodeRunner Warning: Could not find a main method in the file \"Untitled.java\". Please add a main method or run the file in your project containing your main method.\n  Error: no se ha encontrado o cargado la clase principal The file “Untitled.java” couldn’t be opened because there is no such file..Untitled</p>\n</blockquote>\n\n<p>It doesn't matter where you keep it or what name you put it on.</p>\n\n<p>And if I open a Main.java file created with IntelliJ and run it it gives me an error. I get the same message:</p>\n\n<blockquote>\n  <p>CodeRunner Warning: Could not find a main method in the file \"Main.java\". Please add a main method or run the file in your project containing your main method. Error: main class not found or loaded The file “Main.java” couldn’t be opened because there is no such file..Main</p>\n</blockquote>\n\n<p>It could be something from Run Seting. Currently I have it like this:</p>\n\n<blockquote>\n  <p>java -cp \"$ {compiler%: *}\" \"$ {compiler # *:}\"</p>\n</blockquote>\n\n<p>As it came by default.</p>\n\n<p>Could you help me?\nDo you know why it gives me an error?\nHow to create a project with CodeRunner?</p>\n\n<p>Thank you so much everyone,</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1687752647,"post_id":76553458,"comment_id":134975174,"body_markdown":"Well, in order to remove a student, you first have to store it somewhere. For example in an array or a list or a map. The method to remove it then depends on the data structure used to store it in the first place.","body":"Well, in order to remove a student, you first have to store it somewhere. For example in an array or a list or a map. The method to remove it then depends on the data structure used to store it in the first place."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687752758,"post_id":76553458,"comment_id":134975182,"body_markdown":"Remove the object from where? Do you have a list of `Student`s? Then call the list&#39;s [remove](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-) method. For that to work, you should probably implement [hashCode and equals](https://ahdak.github.io/blog/effective-java-part-2/), or you need to know the Student&#39;s position in the list to remove by index (position). You could iterate over the list, compare the `Student.studentId` to the one you want to remove, and then call `remove` on the list.","body":"Remove the object from where? Do you have a list of <code>Student</code>s? Then call the list&#39;s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"nofollow noreferrer\">remove</a> method. For that to work, you should probably implement <a href=\"https://ahdak.github.io/blog/effective-java-part-2/\" rel=\"nofollow noreferrer\">hashCode and equals</a>, or you need to know the Student&#39;s position in the list to remove by index (position). You could iterate over the list, compare the <code>Student.studentId</code> to the one you want to remove, and then call <code>remove</code> on the list."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1687754587,"post_id":76553458,"comment_id":134975355,"body_markdown":"You didn&#39;t specify what you&#39;re &quot;removing the object&quot; *FROM*.  A List?  An array? Something else? One effective way is to store your objects in a Java [Dictionary](https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html), e.g. a HashMap: https://www.w3schools.com/java/java_hashmap.asp.  A less efficient, &quot;brute force&quot; method is to iterate through all your objects (however they&#39;re stored), checking each one&#39;s name in turn.","body":"You didn&#39;t specify what you&#39;re &quot;removing the object&quot; <i>FROM</i>.  A List?  An array? Something else? One effective way is to store your objects in a Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html\" rel=\"nofollow noreferrer\">Dictionary</a>, e.g. a HashMap: <a href=\"https://www.w3schools.com/java/java_hashmap.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_hashmap.asp</a>.  A less efficient, &quot;brute force&quot; method is to iterate through all your objects (however they&#39;re stored), checking each one&#39;s name in turn."}],"answers":[{"tags":[],"owner":{"account_id":28891404,"reputation":1,"user_id":22128485,"display_name":"Sakshi Karanjekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687754418,"creation_date":1687754418,"answer_id":76553564,"question_id":76553458,"body_markdown":"Use &quot;remove&quot; method of List to remove Student object.\r\nSuppose you are storing Student objects in the list called &quot;students&quot;.\r\nYou can delete student object like this: -\r\n\r\n    for(Student student: students){\r\n      if(student.getStudentId().equals(studentId)){\r\n        students.remove(student);\r\n      }\r\n    }\r\n\r\nHope this helps!","title":"Accessing an object with the corresponding field value","body":"<p>Use &quot;remove&quot; method of List to remove Student object.\nSuppose you are storing Student objects in the list called &quot;students&quot;.\nYou can delete student object like this: -</p>\n<pre><code>for(Student student: students){\n  if(student.getStudentId().equals(studentId)){\n    students.remove(student);\n  }\n}\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687757347,"creation_date":1687755717,"answer_id":76553631,"question_id":76553458,"body_markdown":"What are you meaning by removing? Remove it from memory? Then just make it null:\r\n```java\r\n   Student st = new Student(); //creates student\r\n   st.createStudent(&quot;st1&quot;, 20, &quot;11&quot;); //sets variables to fields (better do this in constructor)\r\n   st = null; // make reference to st object null, it is now eligible for Garbage Collection\r\n ```\r\nKeep in mind java has not something like `delete` in C++, whenever variable unreferenced GC collects it e.g. clears it&#39;s space from memory.","title":"Accessing an object with the corresponding field value","body":"<p>What are you meaning by removing? Remove it from memory? Then just make it null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   Student st = new Student(); //creates student\n   st.createStudent(&quot;st1&quot;, 20, &quot;11&quot;); //sets variables to fields (better do this in constructor)\n   st = null; // make reference to st object null, it is now eligible for Garbage Collection\n</code></pre>\n<p>Keep in mind java has not something like <code>delete</code> in C++, whenever variable unreferenced GC collects it e.g. clears it's space from memory.</p>\n"},{"tags":[],"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687756325,"creation_date":1687756325,"answer_id":76553671,"question_id":76553458,"body_markdown":"To remove a Student object based on a given `studentId`, you need to have a data structure to store the Student objects. One commonly used data structure for this purpose is a list or an array. Here&#39;s an example of how you can implement the `removeStudent` method:\r\n\r\n     import java.util.ArrayList;\r\n     import java.util.Iterator;\r\n     import java.util.List;\r\n\r\n    public class StudentManagement {\r\n    private List&lt;Student&gt; students;\r\n\r\n    public StudentManagement() {\r\n        this.students = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void createStudent(String name, int age, String studentId) {\r\n        Student student = new Student(name, age, studentId);\r\n        students.add(student);\r\n    }\r\n\r\n    public void removeStudent(String studentId) {\r\n        Iterator&lt;Student&gt; iterator = students.iterator();\r\n        while (iterator.hasNext()) {\r\n            Student student = iterator.next();\r\n            if (student.getStudentId().equals(studentId)) {\r\n                iterator.remove();\r\n                break; // Assuming studentId is unique, no need to continue the loop\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StudentManagement management = new StudentManagement();\r\n        management.createStudent(&quot;John&quot;, 18, &quot;12345&quot;);\r\n        management.createStudent(&quot;Alice&quot;, 20, &quot;54321&quot;);\r\n\r\n        System.out.println(&quot;Before removal:&quot;);\r\n        management.printStudents();\r\n\r\n        management.removeStudent(&quot;12345&quot;);\r\n\r\n        System.out.println(&quot;After removal:&quot;);\r\n        management.printStudents();\r\n    }\r\n\r\n    public void printStudents() {\r\n        for (Student student : students) {\r\n            System.out.println(student.getName() + &quot; - &quot; + student.getStudentId());\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nIn this example, the `StudentManagement` class maintains a list (`students`) to store the `Student` objects. The `removeStudent` method iterates over the list using an `Iterator` and checks if the `studentId` of each `Student` object matches the given `studentId`. If a match is found, the student is removed from the list using the `Iterator`&#39;s `remove` method.\r\n\r\nThe `main` method demonstrates the usage of the `StudentManagement` class by creating some `Student` objects, printing them before removal, removing a student with the specified `studentId`, and printing the list again to verify the removal.\r\n\r\nNote: The `Student` class in the example is assumed to have appropriate getter methods (`getName()`, `getStudentId()`) for retrieving the values of its fields.\r\n\r\n\r\n**N.B. : this is AI generated answer.** ","title":"Accessing an object with the corresponding field value","body":"<p>To remove a Student object based on a given <code>studentId</code>, you need to have a data structure to store the Student objects. One commonly used data structure for this purpose is a list or an array. Here's an example of how you can implement the <code>removeStudent</code> method:</p>\n<pre><code> import java.util.ArrayList;\n import java.util.Iterator;\n import java.util.List;\n\npublic class StudentManagement {\nprivate List&lt;Student&gt; students;\n\npublic StudentManagement() {\n    this.students = new ArrayList&lt;&gt;();\n}\n\npublic void createStudent(String name, int age, String studentId) {\n    Student student = new Student(name, age, studentId);\n    students.add(student);\n}\n\npublic void removeStudent(String studentId) {\n    Iterator&lt;Student&gt; iterator = students.iterator();\n    while (iterator.hasNext()) {\n        Student student = iterator.next();\n        if (student.getStudentId().equals(studentId)) {\n            iterator.remove();\n            break; // Assuming studentId is unique, no need to continue the loop\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    StudentManagement management = new StudentManagement();\n    management.createStudent(&quot;John&quot;, 18, &quot;12345&quot;);\n    management.createStudent(&quot;Alice&quot;, 20, &quot;54321&quot;);\n\n    System.out.println(&quot;Before removal:&quot;);\n    management.printStudents();\n\n    management.removeStudent(&quot;12345&quot;);\n\n    System.out.println(&quot;After removal:&quot;);\n    management.printStudents();\n}\n\npublic void printStudents() {\n    for (Student student : students) {\n        System.out.println(student.getName() + &quot; - &quot; + student.getStudentId());\n    }\n}\n}\n</code></pre>\n<p>In this example, the <code>StudentManagement</code> class maintains a list (<code>students</code>) to store the <code>Student</code> objects. The <code>removeStudent</code> method iterates over the list using an <code>Iterator</code> and checks if the <code>studentId</code> of each <code>Student</code> object matches the given <code>studentId</code>. If a match is found, the student is removed from the list using the <code>Iterator</code>'s <code>remove</code> method.</p>\n<p>The <code>main</code> method demonstrates the usage of the <code>StudentManagement</code> class by creating some <code>Student</code> objects, printing them before removal, removing a student with the specified <code>studentId</code>, and printing the list again to verify the removal.</p>\n<p>Note: The <code>Student</code> class in the example is assumed to have appropriate getter methods (<code>getName()</code>, <code>getStudentId()</code>) for retrieving the values of its fields.</p>\n<p><strong>N.B. : this is AI generated answer.</strong></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687757099,"creation_date":1687757099,"answer_id":76553722,"question_id":76553458,"body_markdown":"You&#39;ll need to place both of those methods, within a different class.\r\n\r\nThe _Student_ class is the container for the data.\r\n\r\n```java\r\npublic class Student {\r\n    private String name;\r\n    private int age;\r\n    private String studentId;\r\n}\r\n```\r\n\r\n&gt; _&quot;... remove the student object with the same studentId, how would I do this? ...&quot;_\r\n\r\nHere is an example; I&#39;m not sure if this is the exact requirement.\r\n\r\nI presume that there is an array of _Student_ objects&amp;mdash;or most likely, a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_.\r\n\r\nYou will need to traverse the _List_ with a _loop_, and remove the matching element.\r\n\r\n```java\r\nclass StudentUtil {\r\n    static List&lt;Student&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    static void createStudent(String name, int age, String studentId) {\r\n        Student student = new Student();\r\n        student.name = name;\r\n        student.age = age;\r\n        student.studentId = studentId;\r\n        list.add(student);\r\n    }\r\n\r\n    static void removeStudent(String studentId) {\r\n        Iterator&lt;Student&gt; iterator = list.iterator();\r\n        Student student;\r\n        while (iterator.hasNext()) {\r\n            student = iterator.next();\r\n            if (student.studentId.equals(studentId)) {\r\n                iterator.remove();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd here is a usage example.\r\n\r\n```java\r\nStudentUtil.createStudent(&quot;nameA&quot;, 1, &quot;abc123&quot;);\r\nStudentUtil.createStudent(&quot;nameB&quot;, 2, &quot;def456&quot;);\r\nStudentUtil.createStudent(&quot;nameC&quot;, 3, &quot;ghi789&quot;);\r\n\r\nStudentUtil.removeStudent(&quot;abc123&quot;);\r\n```","title":"Accessing an object with the corresponding field value","body":"<p>You'll need to place both of those methods, within a different class.</p>\n<p>The <em>Student</em> class is the container for the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n    private String name;\n    private int age;\n    private String studentId;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... remove the student object with the same studentId, how would I do this? ...&quot;</em></p>\n</blockquote>\n<p>Here is an example; I'm not sure if this is the exact requirement.</p>\n<p>I presume that there is an array of <em>Student</em> objects—or most likely, a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>.</p>\n<p>You will need to traverse the <em>List</em> with a <em>loop</em>, and remove the matching element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class StudentUtil {\n    static List&lt;Student&gt; list = new ArrayList&lt;&gt;();\n\n    static void createStudent(String name, int age, String studentId) {\n        Student student = new Student();\n        student.name = name;\n        student.age = age;\n        student.studentId = studentId;\n        list.add(student);\n    }\n\n    static void removeStudent(String studentId) {\n        Iterator&lt;Student&gt; iterator = list.iterator();\n        Student student;\n        while (iterator.hasNext()) {\n            student = iterator.next();\n            if (student.studentId.equals(studentId)) {\n                iterator.remove();\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here is a usage example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StudentUtil.createStudent(&quot;nameA&quot;, 1, &quot;abc123&quot;);\nStudentUtil.createStudent(&quot;nameB&quot;, 2, &quot;def456&quot;);\nStudentUtil.createStudent(&quot;nameC&quot;, 3, &quot;ghi789&quot;);\n\nStudentUtil.removeStudent(&quot;abc123&quot;);\n</code></pre>\n"}],"owner":{"account_id":28894800,"reputation":1,"user_id":22131053,"display_name":"nnn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1687757347,"creation_date":1687752446,"question_id":76553458,"body_markdown":"I am new to java and am struggling with removing an object when given a value of its field.\r\n\r\nFor example, if we have something like\r\n\r\n\r\n```\r\npublic class Student {\r\n    private String name;\r\n    private int age;\r\n    private String studentId;\r\n\r\n    public void createStudent(String name, int age, String studentId) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.studentId = studentId;\r\n    }\r\n\r\n    public void removeStudent(String studentId) {\r\n        \r\n    }\r\n}\r\n```\r\nwhere I am given a studentId and want to remove the student object with the same studentId, how would I do this?\r\n\r\nI&#39;ve searched up on google but nothing really gave me a clear answer. Is getClass() the right way to do it?","title":"Accessing an object with the corresponding field value","body":"<p>I am new to java and am struggling with removing an object when given a value of its field.</p>\n<p>For example, if we have something like</p>\n<pre><code>public class Student {\n    private String name;\n    private int age;\n    private String studentId;\n\n    public void createStudent(String name, int age, String studentId) {\n        this.name = name;\n        this.age = age;\n        this.studentId = studentId;\n    }\n\n    public void removeStudent(String studentId) {\n        \n    }\n}\n</code></pre>\n<p>where I am given a studentId and want to remove the student object with the same studentId, how would I do this?</p>\n<p>I've searched up on google but nothing really gave me a clear answer. Is getClass() the right way to do it?</p>\n"},{"tags":["java","junit","mockito","powermock"],"comments":[{"owner":{"account_id":191138,"reputation":2252,"user_id":431529,"accept_rate":67,"display_name":"user431529"},"score":0,"creation_date":1534251357,"post_id":8057607,"comment_id":90636931,"body_markdown":"In my case just forgotten @PrepareForTest","body":"In my case just forgotten @PrepareForTest"}],"answers":[{"tags":[],"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320789543,"creation_date":1320789543,"answer_id":8057643,"question_id":8057607,"body_markdown":"when you use `spy` to construct a mock object, its a real half backed object. My guess would be to get rid of `spy`. Work on *pure* mock object. ","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>when you use <code>spy</code> to construct a mock object, its a real half backed object. My guess would be to get rid of <code>spy</code>. Work on <em>pure</em> mock object. </p>\n"},{"tags":[],"owner":{"account_id":937409,"reputation":8034,"user_id":966082,"accept_rate":76,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1320790772,"creation_date":1320790772,"answer_id":8057886,"question_id":8057607,"body_markdown":"From the [PowerMock Private Method Example][1]:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    // We prepare PartialMockClass for test because it&#39;s final or we need to mock private or static methods\r\n    @PrepareForTest(PartialMockClass.class)\r\n    public class YourTestCase {\r\n    @Test\r\n    public void privatePartialMockingWithPowerMock() {        \r\n        PartialMockClass classUnderTest = PowerMockito.spy(new PartialMockClass());\r\n\r\n        // use PowerMockito to set up your expectation\r\n        PowerMockito.doReturn(value).when(classUnderTest, &quot;methodToMock&quot;, &quot;parameter1&quot;);\r\n\r\n        // execute your test\r\n        classUnderTest.execute();\r\n\r\n        // Use PowerMockito.verify() to verify result\r\n        PowerMockito.verifyPrivate(classUnderTest, times(2)).invoke(&quot;methodToMock&quot;, &quot;parameter1&quot;);\r\n    }\r\n\r\nSo to apply this to your code, I think it might become:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(CodeWithPrivateMethod.class)\r\n    public class PowerMock_Test {\r\n        @Test(expected = RuntimeException.class)\r\n        public void when_gambling_is_true_then_always_explode() throws Exception {\r\n            CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\r\n\r\n            PowerMockito.doReturn(true).when(spy, &quot;doTheGamble&quot;, anyString(), anyInt());\r\n\r\n\r\n    /* 1 */ PowerMockito.verifyPrivate(spy, times(0)).invoke(&quot;doTheGamble&quot;, anyString(), anyInt());            \r\n            spy.meaningfulPublicApi();\r\n    /* 2 */ PowerMockito.verifyPrivate(spy, times(2)).invoke(&quot;doTheGamble&quot;, anyString(), anyInt());            \r\n        }\r\n    }\r\n\r\nI just coded that in the editor here.  No tests have actually been run, and no bugs have been harmed in the crafting of this code.\r\n\r\n  [1]: http://code.google.com/p/powermock/wiki/MockitoUsage13#A_full_example_of_partial_mocking_of_a_private_method","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>From the <a href=\"http://code.google.com/p/powermock/wiki/MockitoUsage13#A_full_example_of_partial_mocking_of_a_private_method\">PowerMock Private Method Example</a>:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n// We prepare PartialMockClass for test because it's final or we need to mock private or static methods\n@PrepareForTest(PartialMockClass.class)\npublic class YourTestCase {\n@Test\npublic void privatePartialMockingWithPowerMock() {        \n    PartialMockClass classUnderTest = PowerMockito.spy(new PartialMockClass());\n\n    // use PowerMockito to set up your expectation\n    PowerMockito.doReturn(value).when(classUnderTest, \"methodToMock\", \"parameter1\");\n\n    // execute your test\n    classUnderTest.execute();\n\n    // Use PowerMockito.verify() to verify result\n    PowerMockito.verifyPrivate(classUnderTest, times(2)).invoke(\"methodToMock\", \"parameter1\");\n}\n</code></pre>\n\n<p>So to apply this to your code, I think it might become:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(CodeWithPrivateMethod.class)\npublic class PowerMock_Test {\n    @Test(expected = RuntimeException.class)\n    public void when_gambling_is_true_then_always_explode() throws Exception {\n        CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\n\n        PowerMockito.doReturn(true).when(spy, \"doTheGamble\", anyString(), anyInt());\n\n\n/* 1 */ PowerMockito.verifyPrivate(spy, times(0)).invoke(\"doTheGamble\", anyString(), anyInt());            \n        spy.meaningfulPublicApi();\n/* 2 */ PowerMockito.verifyPrivate(spy, times(2)).invoke(\"doTheGamble\", anyString(), anyInt());            \n    }\n}\n</code></pre>\n\n<p>I just coded that in the editor here.  No tests have actually been run, and no bugs have been harmed in the crafting of this code.</p>\n"},{"tags":[],"owner":{"account_id":1030211,"reputation":411,"user_id":1038675,"display_name":"skusunam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320878640,"creation_date":1320878640,"answer_id":8072808,"question_id":8057607,"body_markdown":"ArtB,\r\n\r\nAre you sure your code doesn&#39;t work (or) am i missing something here? I just replaced your method expectation with the following one the way Mike suggested and it works fine:\r\n\r\n\r\n    PowerMockito.doReturn(true).when(spy, \r\n                   method(CodeWithPrivateMethod.class, &quot;doTheGamble&quot;, String.class, int.class))\r\n                    .withArguments(anyString(), anyInt());\r\n\r\nI never used Powermockito but used Mockito a lot before.\r\n","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>ArtB,</p>\n\n<p>Are you sure your code doesn't work (or) am i missing something here? I just replaced your method expectation with the following one the way Mike suggested and it works fine:</p>\n\n<pre><code>PowerMockito.doReturn(true).when(spy, \n               method(CodeWithPrivateMethod.class, \"doTheGamble\", String.class, int.class))\n                .withArguments(anyString(), anyInt());\n</code></pre>\n\n<p>I never used Powermockito but used Mockito a lot before.</p>\n"},{"tags":[],"owner":{"account_id":1030211,"reputation":411,"user_id":1038675,"display_name":"skusunam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1320940954,"creation_date":1320940954,"answer_id":8082428,"question_id":8057607,"body_markdown":"ArtB,\r\n\r\nJust pasting the complete code which works fine in my Eclipse IDE. I have only changed the expectation i said in my last post. Good luck.\r\n\r\n    import static org.hamcrest.core.Is.is;\r\n    import static org.junit.Assert.assertThat;\r\n    import static org.mockito.Matchers.anyInt;\r\n    import static org.mockito.Matchers.anyString;\r\n    import static org.powermock.api.support.membermodification.MemberMatcher.method;\r\n    \r\n    import java.util.Random;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(CodeWithPrivateMethod.class)\r\n    public class PowerMock_Test {\r\n    \r\n        static boolean gambleCalled = false; \r\n    \r\n        @Test(expected = RuntimeException.class)\r\n        public void when_gambling_is_true_then_always_explode() throws Exception {\r\n            CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\r\n    \r\n    //        PowerMockito.doReturn(true).when(spy, &quot;doTheGamble&quot;, anyString(), anyInt());\r\n    \r\n            PowerMockito.doReturn(true).when(spy, \r\n                   method(CodeWithPrivateMethod.class, &quot;doTheGamble&quot;, String.class, int.class))\r\n                    .withArguments(anyString(), anyInt());\r\n    \r\n            assertThat( PowerMock_Test.gambleCalled, is(false) );\r\n            spy.meaningfulPublicApi();\r\n            assertThat( PowerMock_Test.gambleCalled, is(false) );\r\n        }\r\n    }\r\n    \r\n    \r\n    class CodeWithPrivateMethod {\r\n    \r\n        public void meaningfulPublicApi() {\r\n            if (doTheGamble(&quot;Whatever&quot;, 1 &lt;&lt; 3)) {\r\n                throw new RuntimeException(&quot;boom&quot;);\r\n            }\r\n        }\r\n    \r\n        private boolean doTheGamble(String whatever, int binary) {\r\n            Random random = new Random(System.nanoTime());\r\n            boolean gamble = random.nextBoolean();\r\n    \r\n            System.err.println( &quot;\\n&gt;&gt;&gt; GAMBLE CALLED &lt;&lt;&lt;\\n&quot; );\r\n            PowerMock_Test.gambleCalled = true;\r\n    \r\n            return gamble;\r\n        }\r\n    }   ","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>ArtB,</p>\n\n<p>Just pasting the complete code which works fine in my Eclipse IDE. I have only changed the expectation i said in my last post. Good luck.</p>\n\n<pre><code>import static org.hamcrest.core.Is.is;\nimport static org.junit.Assert.assertThat;\nimport static org.mockito.Matchers.anyInt;\nimport static org.mockito.Matchers.anyString;\nimport static org.powermock.api.support.membermodification.MemberMatcher.method;\n\nimport java.util.Random;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(CodeWithPrivateMethod.class)\npublic class PowerMock_Test {\n\n    static boolean gambleCalled = false; \n\n    @Test(expected = RuntimeException.class)\n    public void when_gambling_is_true_then_always_explode() throws Exception {\n        CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\n\n//        PowerMockito.doReturn(true).when(spy, \"doTheGamble\", anyString(), anyInt());\n\n        PowerMockito.doReturn(true).when(spy, \n               method(CodeWithPrivateMethod.class, \"doTheGamble\", String.class, int.class))\n                .withArguments(anyString(), anyInt());\n\n        assertThat( PowerMock_Test.gambleCalled, is(false) );\n        spy.meaningfulPublicApi();\n        assertThat( PowerMock_Test.gambleCalled, is(false) );\n    }\n}\n\n\nclass CodeWithPrivateMethod {\n\n    public void meaningfulPublicApi() {\n        if (doTheGamble(\"Whatever\", 1 &lt;&lt; 3)) {\n            throw new RuntimeException(\"boom\");\n        }\n    }\n\n    private boolean doTheGamble(String whatever, int binary) {\n        Random random = new Random(System.nanoTime());\n        boolean gamble = random.nextBoolean();\n\n        System.err.println( \"\\n&gt;&gt;&gt; GAMBLE CALLED &lt;&lt;&lt;\\n\" );\n        PowerMock_Test.gambleCalled = true;\n\n        return gamble;\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14313650,"reputation":425,"user_id":10339113,"display_name":"blah blah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687756940,"creation_date":1589839098,"answer_id":61879690,"question_id":8057607,"body_markdown":"None of the above worked for me because my private method was `void`. \r\n\r\nI had a setup like:\r\n\r\n```java\r\npublic class MainClass {\r\n    public void publicFunction () {\r\n        this.privateFunction(Arg1.class arg1, Arg2.class arg2);\r\n    }\r\n        \r\n    private void privateFunction(Arg1.class arg1, Arg2.class arg2){\r\n        // who cares, I don&#39;t want any of this to go off\r\n    }\r\n}\r\n```\r\n\r\nand the only thing that worked was:\r\n\r\n```java\r\n@Test\r\npublic void whocares() throws Exception {\r\n    mainSpy = spy(mockedMainClassInstance);\r\n    PowerMockito.doNothing().when(mainSpy, &quot;privateFunction&quot;, mockedArg1, mockedArg2);\r\n    mainSpy.publicFunction(mockedArg0, mockedArg1, mockedArg2);\r\n    verifyPrivate(mainSpy).invoke(&quot;privateFunction&quot;, mockedArg1, mockedArg2);\r\n}\r\n```\r\n\r\nand that&#39;s when the code in the private function stopped firing\r\n","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>None of the above worked for me because my private method was <code>void</code>.</p>\n<p>I had a setup like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass {\n    public void publicFunction () {\n        this.privateFunction(Arg1.class arg1, Arg2.class arg2);\n    }\n        \n    private void privateFunction(Arg1.class arg1, Arg2.class arg2){\n        // who cares, I don't want any of this to go off\n    }\n}\n</code></pre>\n<p>and the only thing that worked was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whocares() throws Exception {\n    mainSpy = spy(mockedMainClassInstance);\n    PowerMockito.doNothing().when(mainSpy, &quot;privateFunction&quot;, mockedArg1, mockedArg2);\n    mainSpy.publicFunction(mockedArg0, mockedArg1, mockedArg2);\n    verifyPrivate(mainSpy).invoke(&quot;privateFunction&quot;, mockedArg1, mockedArg2);\n}\n</code></pre>\n<p>and that's when the code in the private function stopped firing</p>\n"}],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71185,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":8057886,"answer_count":5,"score":30,"last_activity_date":1687756940,"creation_date":1320789367,"question_id":8057607,"body_markdown":"I am trying to mock out a private method that is making a JNDI call. When that method gets called from a unit test, it throws an exception^. I would like to mock-out that method for testing purposes. I used the [sample code from another questions answer](https://stackoverflow.com/questions/7803944/how-to-mock-private-method-for-testing-using-powermock/7804428#comment9868717_7804428), and while the test passes, it seems that the underlying method still gets called. I inserted a `System.err.println()` in the `doTheGamble()` method, and it gets printed out to my console.\r\n\r\nInteresting enough, if I comment out the first `assertThat`, the test passes. ?:(\r\n\r\nSo, how do I mock out a private method so that it does not get called?\r\n\r\n\r\n\r\n\t\r\n\timport static org.hamcrest.core.Is.is;\r\n\timport static org.junit.Assert.assertThat;\r\n\timport static org.mockito.Matchers.anyInt;\r\n\timport static org.mockito.Matchers.anyString;\r\n\timport static org.powermock.api.mockito.PowerMockito.when;\r\n\timport static org.powermock.api.support.membermodification.MemberMatcher.method;\r\n\t\r\n\timport java.util.Random;\r\n\t\r\n\timport org.junit.Test;\r\n\timport org.junit.runner.RunWith;\r\n\timport org.powermock.api.mockito.PowerMockito;\r\n\timport org.powermock.core.classloader.annotations.PrepareForTest;\r\n\timport org.powermock.modules.junit4.PowerMockRunner;\r\n\t\r\n\t@RunWith(PowerMockRunner.class)\r\n\t@PrepareForTest(CodeWithPrivateMethod.class)\r\n\tpublic class PowerMock_Test {\r\n\t\r\n\t\tstatic boolean gambleCalled = false; \r\n\t\t\r\n\t    @Test(expected = RuntimeException.class)\r\n\t    public void when_gambling_is_true_then_always_explode() throws Exception {\r\n\t        CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\r\n\t\r\n\t        when(spy, method(CodeWithPrivateMethod.class, &quot;doTheGamble&quot;, String.class, int.class))\r\n\t                .withArguments(anyString(), anyInt())\r\n\t                .thenReturn(true);\r\n\t\r\n\t/* 1 */ assertThat( PowerMock_Test.gambleCalled, is(false) );\r\n\t        spy.meaningfulPublicApi();\r\n\t/* 2 */ assertThat( PowerMock_Test.gambleCalled, is(false) );\r\n\t    }\r\n\t}\r\n\t\r\n\t\r\n\tclass CodeWithPrivateMethod {\r\n\t\t\t\r\n\t    public void meaningfulPublicApi() {\r\n\t        if (doTheGamble(&quot;Whatever&quot;, 1 &lt;&lt; 3)) {\r\n\t            throw new RuntimeException(&quot;boom&quot;);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    private boolean doTheGamble(String whatever, int binary) {\r\n\t        Random random = new Random(System.nanoTime());\r\n\t        boolean gamble = random.nextBoolean();\r\n\t        \r\n\t        System.err.println( &quot;\\n&gt;&gt;&gt; GAMBLE CALLED &lt;&lt;&lt;\\n&quot; );\r\n\t        PowerMock_Test.gambleCalled = true;\r\n\t        \r\n\t        return gamble;\r\n\t    }\r\n\t}   \r\n\r\n\r\n\r\n^ understandably, since my workspace does not support JNDI, only the production environment does\r\n\r\n% I am using the latest versions of all the library, JUnit 4.10, Mockito 1.8.5, Hamcrest 1.1, Javassist 3.15.0, and PowerMock 1.4.10.","title":"Mocked private method with PowerMock, but underlying method still gets called","body":"<p>I am trying to mock out a private method that is making a JNDI call. When that method gets called from a unit test, it throws an exception^. I would like to mock-out that method for testing purposes. I used the <a href=\"https://stackoverflow.com/questions/7803944/how-to-mock-private-method-for-testing-using-powermock/7804428#comment9868717_7804428\">sample code from another questions answer</a>, and while the test passes, it seems that the underlying method still gets called. I inserted a <code>System.err.println()</code> in the <code>doTheGamble()</code> method, and it gets printed out to my console.</p>\n\n<p>Interesting enough, if I comment out the first <code>assertThat</code>, the test passes. ?:(</p>\n\n<p>So, how do I mock out a private method so that it does not get called?</p>\n\n<pre><code>import static org.hamcrest.core.Is.is;\nimport static org.junit.Assert.assertThat;\nimport static org.mockito.Matchers.anyInt;\nimport static org.mockito.Matchers.anyString;\nimport static org.powermock.api.mockito.PowerMockito.when;\nimport static org.powermock.api.support.membermodification.MemberMatcher.method;\n\nimport java.util.Random;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(CodeWithPrivateMethod.class)\npublic class PowerMock_Test {\n\n    static boolean gambleCalled = false; \n\n    @Test(expected = RuntimeException.class)\n    public void when_gambling_is_true_then_always_explode() throws Exception {\n        CodeWithPrivateMethod spy = PowerMockito.spy(new CodeWithPrivateMethod());\n\n        when(spy, method(CodeWithPrivateMethod.class, \"doTheGamble\", String.class, int.class))\n                .withArguments(anyString(), anyInt())\n                .thenReturn(true);\n\n/* 1 */ assertThat( PowerMock_Test.gambleCalled, is(false) );\n        spy.meaningfulPublicApi();\n/* 2 */ assertThat( PowerMock_Test.gambleCalled, is(false) );\n    }\n}\n\n\nclass CodeWithPrivateMethod {\n\n    public void meaningfulPublicApi() {\n        if (doTheGamble(\"Whatever\", 1 &lt;&lt; 3)) {\n            throw new RuntimeException(\"boom\");\n        }\n    }\n\n    private boolean doTheGamble(String whatever, int binary) {\n        Random random = new Random(System.nanoTime());\n        boolean gamble = random.nextBoolean();\n\n        System.err.println( \"\\n&gt;&gt;&gt; GAMBLE CALLED &lt;&lt;&lt;\\n\" );\n        PowerMock_Test.gambleCalled = true;\n\n        return gamble;\n    }\n}   \n</code></pre>\n\n<p>^ understandably, since my workspace does not support JNDI, only the production environment does</p>\n\n<p>% I am using the latest versions of all the library, JUnit 4.10, Mockito 1.8.5, Hamcrest 1.1, Javassist 3.15.0, and PowerMock 1.4.10.</p>\n"},{"tags":["java","android","dependencies","cucumber","android-espresso"],"comments":[{"owner":{"account_id":9634150,"reputation":3,"user_id":7150892,"display_name":"Zeynep Turhan"},"score":0,"creation_date":1687608215,"post_id":76545964,"comment_id":134962492,"body_markdown":"And also My ide  android 2022.2","body":"And also My ide  android 2022.2"}],"owner":{"account_id":9634150,"reputation":3,"user_id":7150892,"display_name":"Zeynep Turhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687755773,"creation_date":1687608168,"question_id":76545964,"body_markdown":"I tried to implement Cucumber to my Android project and also I use Espresso. But I got an error, message: `Cucumber.CompositeCucumberException Error &quot;No backends were found. Please make sure you have a backend module on your CLASSPATH.&quot;`.  \r\nI can&#39;t solve this problem.  \r\n\r\nPlease Can you help me?  \r\n\r\nI use Espresso and Android Studio.\r\n\r\n**File Structure**\r\n\r\n[enter image description here](https://i.stack.imgur.com/o42Up.png)\r\n\r\n**My Instumantation class**\r\n\r\n```\r\n\r\npublic class Instumentation extends AndroidJUnitRunner {\r\n\r\n    private final CucumberInstrumentationCore instrumentationCore = new CucumberInstrumentationCore(this);\r\n\r\n    @Override\r\n    public void onCreate(final Bundle bundle) {\r\n        instrumentationCore.create(bundle);\r\n        super.onCreate(bundle);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        waitForIdleSync();\r\n        instrumentationCore.start();\r\n    }\r\n}\r\n```\r\n\r\nRunner file\r\n\r\n```\r\n@CucumberOptions(\r\n        plugin = {\r\n                &quot;pretty&quot;,\r\n                &quot;html:&quot; + Runner.REPORT_PATH + &quot;cucumber-html-report&quot;,\r\n                &quot;pretty:&quot; + Runner.REPORT_PATH + &quot;cucumber-report.json&quot;,\r\n                &quot;junit:&quot; + Runner.REPORT_PATH + &quot;cucumber.xml&quot;\r\n        },\r\n        features = &quot;features&quot;,\r\n        tags = &quot;@shortSanity&quot;)\r\npublic class Runner {\r\n\r\n    public static final String REPORT_PATH = &quot;data/data/&quot; + com.example.loginexample.BuildConfig.APPLICATION_ID + &quot;/cucumber-reports/&quot;;\r\n\r\n}\r\n```\r\n\r\nApp build grandle\r\n\r\nI think about dependency. I searched on StackOverFlow. Everyone said that but no matter what I try &lt;!-- *what?* --&gt;\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.loginexample&quot;\r\n        minSdk 22\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testApplicationId &quot;com.example.loginexample.tests&quot;\r\n        testInstrumentationRunner &quot;com.example.loginexample.Instumentation&quot;\r\n\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n\r\n\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test:runner:1.5.2&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.5.0&#39;\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    //Not change\r\n    androidTestImplementation &#39;info.cukes:cucumber-android:1.2.5&#39;\r\n\r\n    // Testing\r\n    testImplementation &#39;org.mockito:mockito-core:&#39;\r\n    testImplementation &#39;org.powermock:powermock-api-mockito:1.6.4&#39;\r\n    testImplementation &#39;org.powermock:powermock-module-junit4:1.6.4&#39;\r\n\r\n    androidTestImplementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test:rules:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    androidTestImplementation &#39;org.hamcrest:hamcrest-library:2.2&#39;\r\n    androidTestImplementation &#39;info.cukes:cucumber-picocontainer:1.2.5&#39;\r\n    implementation &#39;io.cucumber:cucumber-jvm:7.12.1&#39;\r\n    implementation &#39;io.cucumber:cucumber-core:7.12.1&#39;\r\n    testImplementation &#39;io.cucumber:cucumber-junit:7.12.1&#39;\r\n    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-contrib:3.0.2&#39;) {\r\n        exclude module: &#39;support-annotations&#39;\r\n        exclude module: &#39;support-v4&#39;\r\n        exclude module: &#39;recyclerview-v7&#39;\r\n    }\r\n}\r\n```\r\n\r\nProject build grandle &lt;!-- *gradle*? --&gt;\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nAnd Error detail:\r\n\r\n    Exception in thread &quot;main&quot; io.cucumber.core.exception.CompositeCucumberException: There were 2 exceptions. The details are in the stacktrace below.\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.getThrowable(RethrowingThrowableCollector.java:57)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.getThrowable(CucumberExecutionContext.java:109)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:155)\r\n    \tat io.cucumber.core.runtime.Runtime.run(Runtime.java:78)\r\n    \tat io.cucumber.core.cli.Main.run(Main.java:87)\r\n    \tat io.cucumber.core.cli.Main.main(Main.java:30)\r\n    \tSuppressed: io.cucumber.core.exception.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n    \t\tat io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:39)\r\n    \t\tat io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:33)\r\n    \t\tat io.cucumber.core.runtime.SingletonRunnerSupplier.createRunner(SingletonRunnerSupplier.java:43)\r\n    \t\tat io.cucumber.core.runtime.SingletonRunnerSupplier.get(SingletonRunnerSupplier.java:35)\r\n    \t\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:35)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.getRunner(CucumberExecutionContext.java:141)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:93)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:147)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\r\n    \t\t... 3 more\r\n    \tSuppressed: io.cucumber.core.exception.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n    \t\tat io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:39)\r\n    \t\tat io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:33)\r\n    \t\tat io.cucumber.core.runtime.SingletonRunnerSupplier.createRunner(SingletonRunnerSupplier.java:43)\r\n    \t\tat io.cucumber.core.runtime.SingletonRunnerSupplier.get(SingletonRunnerSupplier.java:35)\r\n    \t\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:35)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.getRunner(CucumberExecutionContext.java:141)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.runAfterAllHooks(CucumberExecutionContext.java:98)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\r\n    \t\tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:151)\r\n    \t\t... 3 more","title":"Cucumber.CompositeCucumberException Error &quot;No backends were found. Please make sure you have a backend module on your CLASSPATH.&quot;","body":"<p>I tried to implement Cucumber to my Android project and also I use Espresso. But I got an error, message: <code>Cucumber.CompositeCucumberException Error &quot;No backends were found. Please make sure you have a backend module on your CLASSPATH.&quot;</code>.<br />\nI can't solve this problem.</p>\n<p>Please Can you help me?</p>\n<p>I use Espresso and Android Studio.</p>\n<p><strong>File Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/o42Up.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>My Instumantation class</strong></p>\n<pre><code>\npublic class Instumentation extends AndroidJUnitRunner {\n\n    private final CucumberInstrumentationCore instrumentationCore = new CucumberInstrumentationCore(this);\n\n    @Override\n    public void onCreate(final Bundle bundle) {\n        instrumentationCore.create(bundle);\n        super.onCreate(bundle);\n    }\n\n    @Override\n    public void onStart() {\n        waitForIdleSync();\n        instrumentationCore.start();\n    }\n}\n</code></pre>\n<p>Runner file</p>\n<pre><code>@CucumberOptions(\n        plugin = {\n                &quot;pretty&quot;,\n                &quot;html:&quot; + Runner.REPORT_PATH + &quot;cucumber-html-report&quot;,\n                &quot;pretty:&quot; + Runner.REPORT_PATH + &quot;cucumber-report.json&quot;,\n                &quot;junit:&quot; + Runner.REPORT_PATH + &quot;cucumber.xml&quot;\n        },\n        features = &quot;features&quot;,\n        tags = &quot;@shortSanity&quot;)\npublic class Runner {\n\n    public static final String REPORT_PATH = &quot;data/data/&quot; + com.example.loginexample.BuildConfig.APPLICATION_ID + &quot;/cucumber-reports/&quot;;\n\n}\n</code></pre>\n<p>App build grandle</p>\n<p>I think about dependency. I searched on StackOverFlow. Everyone said that but no matter what I try </p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.loginexample&quot;\n        minSdk 22\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testApplicationId &quot;com.example.loginexample.tests&quot;\n        testInstrumentationRunner &quot;com.example.loginexample.Instumentation&quot;\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n\n\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n\n    androidTestImplementation 'androidx.test:runner:1.5.2'\n    androidTestImplementation 'androidx.test:rules:1.5.0'\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    testImplementation 'junit:junit:4.13.2'\n\n    //Not change\n    androidTestImplementation 'info.cukes:cucumber-android:1.2.5'\n\n    // Testing\n    testImplementation 'org.mockito:mockito-core:'\n    testImplementation 'org.powermock:powermock-api-mockito:1.6.4'\n    testImplementation 'org.powermock:powermock-module-junit4:1.6.4'\n\n    androidTestImplementation 'com.android.support:support-annotations:28.0.0'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    androidTestImplementation 'org.hamcrest:hamcrest-library:2.2'\n    androidTestImplementation 'info.cukes:cucumber-picocontainer:1.2.5'\n    implementation 'io.cucumber:cucumber-jvm:7.12.1'\n    implementation 'io.cucumber:cucumber-core:7.12.1'\n    testImplementation 'io.cucumber:cucumber-junit:7.12.1'\n    androidTestImplementation('com.android.support.test.espresso:espresso-contrib:3.0.2') {\n        exclude module: 'support-annotations'\n        exclude module: 'support-v4'\n        exclude module: 'recyclerview-v7'\n    }\n}\n</code></pre>\n<p>Project build grandle </p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And Error detail:</p>\n<pre><code>Exception in thread &quot;main&quot; io.cucumber.core.exception.CompositeCucumberException: There were 2 exceptions. The details are in the stacktrace below.\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.getThrowable(RethrowingThrowableCollector.java:57)\n    at io.cucumber.core.runtime.CucumberExecutionContext.getThrowable(CucumberExecutionContext.java:109)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:155)\n    at io.cucumber.core.runtime.Runtime.run(Runtime.java:78)\n    at io.cucumber.core.cli.Main.run(Main.java:87)\n    at io.cucumber.core.cli.Main.main(Main.java:30)\n    Suppressed: io.cucumber.core.exception.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\n        at io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:39)\n        at io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:33)\n        at io.cucumber.core.runtime.SingletonRunnerSupplier.createRunner(SingletonRunnerSupplier.java:43)\n        at io.cucumber.core.runtime.SingletonRunnerSupplier.get(SingletonRunnerSupplier.java:35)\n        at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:35)\n        at io.cucumber.core.runtime.CucumberExecutionContext.getRunner(CucumberExecutionContext.java:141)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:93)\n        at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:147)\n        at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\n        ... 3 more\n    Suppressed: io.cucumber.core.exception.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\n        at io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:39)\n        at io.cucumber.core.runtime.BackendServiceLoader.get(BackendServiceLoader.java:33)\n        at io.cucumber.core.runtime.SingletonRunnerSupplier.createRunner(SingletonRunnerSupplier.java:43)\n        at io.cucumber.core.runtime.SingletonRunnerSupplier.get(SingletonRunnerSupplier.java:35)\n        at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:35)\n        at io.cucumber.core.runtime.CucumberExecutionContext.getRunner(CucumberExecutionContext.java:141)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runAfterAllHooks(CucumberExecutionContext.java:98)\n        at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\n        at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:151)\n        ... 3 more\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1687741900,"post_id":76552721,"comment_id":134974400,"body_markdown":"This usually indicates that you’re using a different version of a library at runtime than the version the code was compiled with. Check how your dependencies are provided.","body":"This usually indicates that you’re using a different version of a library at runtime than the version the code was compiled with. Check how your dependencies are provided."}],"answers":[{"tags":[],"owner":{"account_id":28773341,"reputation":1,"user_id":22036611,"display_name":"div tayade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687755325,"creation_date":1687755325,"answer_id":76553613,"question_id":76552721,"body_markdown":"Try this command in replacement of wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n\r\n","title":"Selenium NoSuchMethodError even though the method exists","body":"<p>Try this command in replacement of wait</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\n</code></pre>\n"}],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687755325,"creation_date":1687734157,"question_id":76552721,"body_markdown":"I have Selenium version 4.4, java 11 and use the following line:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\r\nWhich yields and error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.ui.WebDriverWait.&lt;init&gt;(org.openqa.selenium.WebDriver, java.time.Duration)&#39;\r\n    \tat com.web.Power.Web.Webproject.&lt;init&gt;(Webproject.java:82)\r\n\r\nI import Duration using `import java.time.Duration;`.\r\n\r\n***What could be the issue here?***","title":"Selenium NoSuchMethodError even though the method exists","body":"<p>I have Selenium version 4.4, java 11 and use the following line:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n</code></pre>\n<p>Which yields and error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void org.openqa.selenium.support.ui.WebDriverWait.&lt;init&gt;(org.openqa.selenium.WebDriver, java.time.Duration)'\n    at com.web.Power.Web.Webproject.&lt;init&gt;(Webproject.java:82)\n</code></pre>\n<p>I import Duration using <code>import java.time.Duration;</code>.</p>\n<p><em><strong>What could be the issue here?</strong></em></p>\n"},{"tags":["java","gradle","intellij-idea","cucumber","testng"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1687815843,"post_id":76553524,"comment_id":134986835,"body_markdown":"Do you face the same error when running tests from command line outside IDE?","body":"Do you face the same error when running tests from command line outside IDE?"}],"owner":{"account_id":10434010,"reputation":2795,"user_id":7692921,"accept_rate":63,"display_name":"sprogissd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687753826,"creation_date":1687753826,"question_id":76553524,"body_markdown":"I have been trying to create a barebones Cucumber TestNG project in Gradle, but it consistently fails to run any tests, returning the error `No tests found for given includes`. Trying to create an identical project in Maven lets the tests run perfectly fine. Is there some a problem with Gradle and the `cucumber-testng` dependency? Has anyone else encountered this problem? I am using IntelliJ IDEA to run tests in both case.","title":"No tests found for given includes Error for Cucumber+TestNG project in Gradle but not in Maven","body":"<p>I have been trying to create a barebones Cucumber TestNG project in Gradle, but it consistently fails to run any tests, returning the error <code>No tests found for given includes</code>. Trying to create an identical project in Maven lets the tests run perfectly fine. Is there some a problem with Gradle and the <code>cucumber-testng</code> dependency? Has anyone else encountered this problem? I am using IntelliJ IDEA to run tests in both case.</p>\n"},{"tags":["javascript","java","scriptengine"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1604749013,"post_id":64726930,"comment_id":114445353,"body_markdown":"JDK 15 or later? It&#39;s gone. https://bugs.openjdk.java.net/browse/JDK-8236933","body":"JDK 15 or later? It&#39;s gone. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8236933\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8236933</a>"},{"owner":{"account_id":19544038,"reputation":43,"user_id":14301252,"display_name":"abhishekmohan20xx"},"score":0,"creation_date":1604750159,"post_id":64726930,"comment_id":114445595,"body_markdown":"Nope JDK 8 is the version I use, JRE 1.8 SE","body":"Nope JDK 8 is the version I use, JRE 1.8 SE"},{"owner":{"account_id":19544038,"reputation":43,"user_id":14301252,"display_name":"abhishekmohan20xx"},"score":0,"creation_date":1604764814,"post_id":64726930,"comment_id":114449230,"body_markdown":"Even then it says this.engine might be null. That&#39;s why I sent the place where instantiated the variable, so someone would be able to say if instantiation was wrong","body":"Even then it says this.engine might be null. That&#39;s why I sent the place where instantiated the variable, so someone would be able to say if instantiation was wrong"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1604767666,"post_id":64726930,"comment_id":114450039,"body_markdown":"From https://stackoverflow.com/questions/25332640/getenginebynamenashorn-returns-null it looks like the no-args `ScriptEngineManager` constructor uses `Thread.currentThread().getContextClassLoader()`. Specifying `null` as an argument bypasses anything weird the tccl might be doing, but still depends upon nashorn being present.","body":"From <a href=\"https://stackoverflow.com/questions/25332640/getenginebynamenashorn-returns-null\" title=\"getenginebynamenashorn returns null\">stackoverflow.com/questions/25332640/&hellip;</a> it looks like the no-args <code>ScriptEngineManager</code> constructor uses <code>Thread.currentThread().getContextClassLoader()</code>. Specifying <code>null</code> as an argument bypasses anything weird the tccl might be doing, but still depends upon nashorn being present."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1604768680,"post_id":64726930,"comment_id":114450271,"body_markdown":"(As a rule, anything thread local is a bad idea. Inheritably thread local, even more so.)","body":"(As a rule, anything thread local is a bad idea. Inheritably thread local, even more so.)"}],"answers":[{"tags":[],"owner":{"account_id":14079119,"reputation":541,"user_id":10170629,"display_name":"Gayan Chinthaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630908721,"creation_date":1630908721,"answer_id":69069833,"question_id":64726930,"body_markdown":"This error was encountered when a project was cloned from the code cloud when it was running. This part of the content is about the loading of the verification code. I did not understand the reason but it was a version problem. Change the JDK version from The problem is solved when 13 is reduced to 8.\r\n","title":"Java returns cannont invoke ScriptEngine error","body":"<p>This error was encountered when a project was cloned from the code cloud when it was running. This part of the content is about the loading of the verification code. I did not understand the reason but it was a version problem. Change the JDK version from The problem is solved when 13 is reduced to 8.</p>\n"}],"owner":{"account_id":19544038,"reputation":43,"user_id":14301252,"display_name":"abhishekmohan20xx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10641,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687753696,"creation_date":1604746523,"question_id":64726930,"body_markdown":"I am running Java&#39;s ScriptEngine class to run to some code. I use IntelliJ with maven dependencies when I run the code it says\r\n```\r\nCannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;this.engine&quot; is null\r\n\tat Run.Evaluater.&lt;init&gt;(Evaluater.java:19)\r\n```\r\nthe code at line being the following\r\n```\r\nengine.put(&quot;event&quot;, event);\r\nengine.put(&quot;content&quot;, message);\r\n```\r\nThis is how I initiated the ScriptEngone\r\n```\r\n    public ScriptEngineManager man = new ScriptEngineManager();\r\n    public ScriptEngine engine = man.getEngineByName(&quot;nashorn&quot;);\r\n```","title":"Java returns cannont invoke ScriptEngine error","body":"<p>I am running Java's ScriptEngine class to run to some code. I use IntelliJ with maven dependencies when I run the code it says</p>\n<pre><code>Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;this.engine&quot; is null\n    at Run.Evaluater.&lt;init&gt;(Evaluater.java:19)\n</code></pre>\n<p>the code at line being the following</p>\n<pre><code>engine.put(&quot;event&quot;, event);\nengine.put(&quot;content&quot;, message);\n</code></pre>\n<p>This is how I initiated the ScriptEngone</p>\n<pre><code>    public ScriptEngineManager man = new ScriptEngineManager();\n    public ScriptEngine engine = man.getEngineByName(&quot;nashorn&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1687751142,"post_id":76553343,"comment_id":134975050,"body_markdown":"in case of constructor DI you may keep beans immutable and &quot;easily&quot; construct bean instances without using DI framework - some developers insist that is useful in unit tests.","body":"in case of constructor DI you may keep beans immutable and &quot;easily&quot; construct bean instances without using DI framework - some developers insist that is useful in unit tests."},{"owner":{"account_id":11120981,"reputation":267,"user_id":8163815,"display_name":"yab"},"score":0,"creation_date":1687915486,"post_id":76553343,"comment_id":135002793,"body_markdown":"@AndreyB.Panfilov thank you for your kindness explanation Andrey.","body":"@AndreyB.Panfilov thank you for your kindness explanation Andrey."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1687753673,"creation_date":1687753673,"answer_id":76553514,"question_id":76553343,"body_markdown":"The &quot;time point&quot; of injection is different;\r\n\r\nConsider the following code：\r\n\r\n    public class Index {\r\n        public static void main(String[] args) {\r\n            ApplicationContext AcContext = new AnnotationConfigApplicationContext(MyConfigration.class);\r\n        }\r\n    }\r\n    \r\n    @Configuration\r\n    class MyConfigration {\r\n        @Bean\r\n        public UserController userController() { return new UserController(); }\r\n        @Bean\r\n        public IUtil util() { return new Util(); }\r\n        @Bean\r\n        public IUserDao userDao() { return new UserDao(); }\r\n    }\r\n    \r\n    interface IUtil {\r\n        public String getDate();\r\n    }\r\n    interface IUserDao {}\r\n    \r\n    class Util implements IUtil {\r\n        public String date = &quot;2023-06-26&quot;;\r\n        @Override\r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    }\r\n    class UserDao implements IUserDao {}\r\n    \r\n    class UserController {\r\n        @Autowired\r\n        private IUtil util;\r\n        private String date;\r\n    \r\n        public UserController(){\r\n            this.date = util.getDate();\r\n        }\r\n    }\r\n\r\nThink about it, execute this code, what will happen?\r\n\r\nThe answer is that a null pointer exception will occur when `this.date = util.getDate();`\r\n\r\nBecause when injecting through the properties of the class, it is after the class is instantiated.\r\n\r\nGoing back to your example, in your example, in your UserController initialization, you can do something with userDao, but in initialization you cannot use util","title":"Spring autowired difference between class field and method","body":"<p>The &quot;time point&quot; of injection is different;</p>\n<p>Consider the following code：</p>\n<pre><code>public class Index {\n    public static void main(String[] args) {\n        ApplicationContext AcContext = new AnnotationConfigApplicationContext(MyConfigration.class);\n    }\n}\n\n@Configuration\nclass MyConfigration {\n    @Bean\n    public UserController userController() { return new UserController(); }\n    @Bean\n    public IUtil util() { return new Util(); }\n    @Bean\n    public IUserDao userDao() { return new UserDao(); }\n}\n\ninterface IUtil {\n    public String getDate();\n}\ninterface IUserDao {}\n\nclass Util implements IUtil {\n    public String date = &quot;2023-06-26&quot;;\n    @Override\n    public String getDate() {\n        return date;\n    }\n}\nclass UserDao implements IUserDao {}\n\nclass UserController {\n    @Autowired\n    private IUtil util;\n    private String date;\n\n    public UserController(){\n        this.date = util.getDate();\n    }\n}\n</code></pre>\n<p>Think about it, execute this code, what will happen?</p>\n<p>The answer is that a null pointer exception will occur when <code>this.date = util.getDate();</code></p>\n<p>Because when injecting through the properties of the class, it is after the class is instantiated.</p>\n<p>Going back to your example, in your example, in your UserController initialization, you can do something with userDao, but in initialization you cannot use util</p>\n"}],"owner":{"account_id":11120981,"reputation":267,"user_id":8163815,"display_name":"yab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76553514,"answer_count":1,"score":0,"last_activity_date":1687753673,"creation_date":1687749722,"question_id":76553343,"body_markdown":"I&#39;m new to Spring framework, and try to figure out what is the difference between spring autowired at class&#39;s field and class&#39;s method, like below&#39;s IUtil and IUserDao:\r\n\r\n&gt;     @Controller\r\n&gt;     @RequestMapping(&quot;/user&quot;)\r\n&gt;     public class UserController{\r\n&gt; \r\n&gt;         @Autowired\r\n&gt;         private IUtil util;\r\n&gt;     \r\n&gt;         private IUserDao userDao;\r\n&gt;         \r\n&gt;         @Autowired\r\n&gt;         public UserController(IUserDao dao){\r\n&gt;             this.userDao = dao;\r\n&gt;         }\r\n&gt;     \r\n&gt;         ...\r\n&gt;         ...\r\n&gt;         ...\r\n&gt;     }\r\n\r\nIUtil is inject by field, and IUserDao is inject by constructor, what&#39;s the difference between them?\r\n\r\nThanks in advance.","title":"Spring autowired difference between class field and method","body":"<p>I'm new to Spring framework, and try to figure out what is the difference between spring autowired at class's field and class's method, like below's IUtil and IUserDao:</p>\n<blockquote>\n<pre><code>@Controller\n@RequestMapping(&quot;/user&quot;)\npublic class UserController{\n\n    @Autowired\n    private IUtil util;\n\n    private IUserDao userDao;\n    \n    @Autowired\n    public UserController(IUserDao dao){\n        this.userDao = dao;\n    }\n\n    ...\n    ...\n    ...\n}\n</code></pre>\n</blockquote>\n<p>IUtil is inject by field, and IUserDao is inject by constructor, what's the difference between them?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687518452,"post_id":76538964,"comment_id":134951599,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":11611578,"reputation":11,"user_id":8505652,"display_name":"Raul Almeida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687753328,"creation_date":1687513919,"question_id":76538964,"body_markdown":"I&#39;m developing a Android app (to run on API level 33 devices) and I need to set some wifi configurations programmatically.\r\n\r\nI&#39;m using WifiNetworkSuggestion with EnterpriseConfig, but there is no option to set static IP from this Classes.\r\nI appreciate any help from community. Thanks in advance.\r\n\r\nI&#39;m already able to connect with a SSID, but the connection use DHCP setting.\r\n\r\nMy Code:\r\n\r\n```\r\nWifiEnterpriseConfig enterpriseConfig = new WifiEnterpriseConfig();\r\nInputStream inStream = getResources().openRawResource(R.raw.cert);\r\n\r\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\nX509Certificate certificate =(X509Certificate)cf.generateCertificate(inStream);\r\nenterpriseConfig.setCaCertificate(certificate);\r\nenterpriseConfig.setIdentity(userID);\r\nenterpriseConfig.setPassword(userPass);\r\nenterpriseConfig.setEapMethod(WifiEnterpriseConfig.Eap.PEAP);\r\nenterpriseConfig.setAltSubjectMatch(&quot;my_domain&quot;);\r\n\r\n\r\nList&lt;WifiNetworkSuggestion&gt; suggestionsList = new ArrayList&lt;&gt;();\r\nWifiNetworkSuggestion suggestion = new WifiNetworkSuggestion.Builder()\r\n    .setSsid(networkSSID)\r\n    .setIsHiddenSsid(true)\r\n    .setIsAppInteractionRequired(true)\r\n    .setWpa2EnterpriseConfig(enterpriseConfig)\r\n    .build();\r\nsuggestionsList.add(suggestion);\r\n\r\nwifiManager.addNetworkSuggestions(suggestionsList);\r\n```\r\n\r\n","title":"Is there a way to set static IP from API 30?","body":"<p>I'm developing a Android app (to run on API level 33 devices) and I need to set some wifi configurations programmatically.</p>\n<p>I'm using WifiNetworkSuggestion with EnterpriseConfig, but there is no option to set static IP from this Classes.\nI appreciate any help from community. Thanks in advance.</p>\n<p>I'm already able to connect with a SSID, but the connection use DHCP setting.</p>\n<p>My Code:</p>\n<pre><code>WifiEnterpriseConfig enterpriseConfig = new WifiEnterpriseConfig();\nInputStream inStream = getResources().openRawResource(R.raw.cert);\n\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\nX509Certificate certificate =(X509Certificate)cf.generateCertificate(inStream);\nenterpriseConfig.setCaCertificate(certificate);\nenterpriseConfig.setIdentity(userID);\nenterpriseConfig.setPassword(userPass);\nenterpriseConfig.setEapMethod(WifiEnterpriseConfig.Eap.PEAP);\nenterpriseConfig.setAltSubjectMatch(&quot;my_domain&quot;);\n\n\nList&lt;WifiNetworkSuggestion&gt; suggestionsList = new ArrayList&lt;&gt;();\nWifiNetworkSuggestion suggestion = new WifiNetworkSuggestion.Builder()\n    .setSsid(networkSSID)\n    .setIsHiddenSsid(true)\n    .setIsAppInteractionRequired(true)\n    .setWpa2EnterpriseConfig(enterpriseConfig)\n    .build();\nsuggestionsList.add(suggestion);\n\nwifiManager.addNetworkSuggestions(suggestionsList);\n</code></pre>\n"},{"tags":["java","parsing","pdf","pdfbox","multiline"],"comments":[{"owner":{"account_id":5335569,"reputation":4676,"user_id":4254700,"display_name":"joelgeraci"},"score":1,"creation_date":1534377746,"post_id":51864014,"comment_id":90687720,"body_markdown":"Parsing table data from PDF is non-trivial if you are just working with the text drawing operators. If you are lucky, the PDF is tagged and you can go off of the structure tree rather than the extracted text. Do you know if the PDFs you will be working with are tagged?","body":"Parsing table data from PDF is non-trivial if you are just working with the text drawing operators. If you are lucky, the PDF is tagged and you can go off of the structure tree rather than the extracted text. Do you know if the PDFs you will be working with are tagged?"},{"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"score":0,"creation_date":1534401036,"post_id":51864014,"comment_id":90693058,"body_markdown":"I actually have the pdf file, but I don&#39;t know how to check if it&#39;s tagged or not.","body":"I actually have the pdf file, but I don&#39;t know how to check if it&#39;s tagged or not."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1534405866,"post_id":51864014,"comment_id":90695631,"body_markdown":"Call `document.getDocumentCatalog.getStructTreeRoot()`. (may have typo) Is it null? Then it is not tagged.","body":"Call <code>document.getDocumentCatalog.getStructTreeRoot()</code>. (may have typo) Is it null? Then it is not tagged."},{"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"score":0,"creation_date":1534422179,"post_id":51864014,"comment_id":90705101,"body_markdown":"I have evaluated the expression:\n\ndocument.getDocumentCatalog().getStructureTreeRoot()\n\nand it&#39;s null. Therefore, I guess it&#39;s not tagged.","body":"I have evaluated the expression:  document.getDocumentCatalog().getStructureTreeRoot()  and it&#39;s null. Therefore, I guess it&#39;s not tagged."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1534492028,"post_id":51864014,"comment_id":90732240,"body_markdown":"More stuff that may or may not help: https://stackoverflow.com/questions/38931422/pdfbox-2-0-2-calling-of-pagedrawer-processpage-method-caught-exceptions , and the PrintTextLocations.java example. Also see the &quot;Tabula&quot; project.","body":"More stuff that may or may not help: <a href=\"https://stackoverflow.com/questions/38931422/pdfbox-2-0-2-calling-of-pagedrawer-processpage-method-caught-exceptions\" title=\"pdfbox 2 0 2 calling of pagedrawer processpage method caught exceptions\">stackoverflow.com/questions/38931422/&hellip;</a> , and the PrintTextLocations.java example. Also see the &quot;Tabula&quot; project."},{"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"score":0,"creation_date":1534515077,"post_id":51864014,"comment_id":90745308,"body_markdown":"I have good results using the current, next, bottom cells system, combined with the following: I assume that values from one column are distinct and occupy exactly one row in that column. Knowing this, I can parse the start vertical coordinate of each such value, which will be used later on to define the height of the selection (e.g. row height) for each line.","body":"I have good results using the current, next, bottom cells system, combined with the following: I assume that values from one column are distinct and occupy exactly one row in that column. Knowing this, I can parse the start vertical coordinate of each such value, which will be used later on to define the height of the selection (e.g. row height) for each line."},{"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"score":0,"creation_date":1534515080,"post_id":51864014,"comment_id":90745310,"body_markdown":"Having a start and and vertical coordinate, and combining it with start and end horizontal coordinate, I am now able to parse the cell contents, even if that value occupy multiple lines! This can be done because the lower vertical coordinate corresponds with one of the following: a) the vertical start position of the next line (which is the same as that distinct value determined earlier) or b) the vertical start position of the bottom pdf text position. (e.g. a fixed string which comes after the table/current elements).","body":"Having a start and and vertical coordinate, and combining it with start and end horizontal coordinate, I am now able to parse the cell contents, even if that value occupy multiple lines! This can be done because the lower vertical coordinate corresponds with one of the following: a) the vertical start position of the next line (which is the same as that distinct value determined earlier) or b) the vertical start position of the bottom pdf text position. (e.g. a fixed string which comes after the table/current elements)."}],"answers":[{"tags":[],"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534757111,"creation_date":1534757111,"answer_id":51927705,"question_id":51864014,"body_markdown":"Like I said in my previous comments, I have found a partial solution for my issue. This is based on two things:\r\n\r\n 1. First, I assume that one column for each table contains only distinct values which never occupy more than 1 row.\r\n 2. Next, since I also have some fixed texts in the document, I have determined these texts coordinates and use them as a delimiter of the area which contains the text I want to extract. For example, the &quot;current, next, bottom&quot; system (as I call it) can contain for example: &quot;Column name A&quot;, &quot;Column name B&quot;, &quot;Fixed text C&quot; (or second row from the same table - determined based on the unique single-row values).\r\n\r\nIt is not perfect, and problems may occur if the fixed texts may occur more than once in the document. Of course, improvements can be made by filtering the correct occurrence using the vertical coordinates and so on, but for the moment, I will close this question, as it seems that this problem has no standard answer and currently there is no open source library able to extract tabular data from pdfs.","title":"How to determine coordinates of multi-line text in PDF","body":"<p>Like I said in my previous comments, I have found a partial solution for my issue. This is based on two things:</p>\n\n<ol>\n<li>First, I assume that one column for each table contains only distinct values which never occupy more than 1 row.</li>\n<li>Next, since I also have some fixed texts in the document, I have determined these texts coordinates and use them as a delimiter of the area which contains the text I want to extract. For example, the \"current, next, bottom\" system (as I call it) can contain for example: \"Column name A\", \"Column name B\", \"Fixed text C\" (or second row from the same table - determined based on the unique single-row values).</li>\n</ol>\n\n<p>It is not perfect, and problems may occur if the fixed texts may occur more than once in the document. Of course, improvements can be made by filtering the correct occurrence using the vertical coordinates and so on, but for the moment, I will close this question, as it seems that this problem has no standard answer and currently there is no open source library able to extract tabular data from pdfs.</p>\n"}],"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687752588,"creation_date":1534355912,"question_id":51864014,"body_markdown":"I am using Apache PdfBox 2.0 in order to parse a pdf file. Having some fixed strings, I was able to create a system based on:\r\n\r\n1. A fixed text, as a starting point\r\n2. The next cell/text position, or null\r\n3. The bottom area, to determine the height of the rectangle.\r\n\r\nUsing the starting point, I am computing the x and y (see below pic for pdf structure in PDF Box:\r\n\r\n[![pdf mapping in PDF Box][1]][1]\r\n\r\n\r\nUsing the &quot;next&quot; text block (which is another fixed value, for example a field or a table header), I am determining the width of the desired region, using formula:\r\n\r\n    width = second.x - first.x \r\n\r\nor something similar. So, in a table, for example, knowing in advance the header names, it&#39;s easy to detect the columns. What I am trying to do (and so far fail to do so in an accurate way) is to determine the lines in a pdf table. This table sometimes contains missing values in some columns and also multiple lines values for some rows/columns. I have extended my &quot;system&quot; (first, next, bottom) to work dynamically with table rows, and this works great when I have &quot;normalized&quot; tables (e.g. no whitespaces and/or at least, no multiple line values). But it&#39;s not working with real world data, because so far I could not find a way of determining the location (x, y, width, height) of a multi-line value. Is this even possible with PDF Box? Some people suggested to convert the pdf to html first and then to parse the html instead. Is this a viable option? Has anyone worked with [this][2] library? I will try to use this next.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pv91U.png\r\n  [2]: https://github.com/thoqbk/traprange","title":"How to determine coordinates of multi-line text in PDF","body":"<p>I am using Apache PdfBox 2.0 in order to parse a pdf file. Having some fixed strings, I was able to create a system based on:</p>\n<ol>\n<li>A fixed text, as a starting point</li>\n<li>The next cell/text position, or null</li>\n<li>The bottom area, to determine the height of the rectangle.</li>\n</ol>\n<p>Using the starting point, I am computing the x and y (see below pic for pdf structure in PDF Box:</p>\n<p><a href=\"https://i.stack.imgur.com/Pv91U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pv91U.png\" alt=\"pdf mapping in PDF Box\" /></a></p>\n<p>Using the &quot;next&quot; text block (which is another fixed value, for example a field or a table header), I am determining the width of the desired region, using formula:</p>\n<pre><code>width = second.x - first.x \n</code></pre>\n<p>or something similar. So, in a table, for example, knowing in advance the header names, it's easy to detect the columns. What I am trying to do (and so far fail to do so in an accurate way) is to determine the lines in a pdf table. This table sometimes contains missing values in some columns and also multiple lines values for some rows/columns. I have extended my &quot;system&quot; (first, next, bottom) to work dynamically with table rows, and this works great when I have &quot;normalized&quot; tables (e.g. no whitespaces and/or at least, no multiple line values). But it's not working with real world data, because so far I could not find a way of determining the location (x, y, width, height) of a multi-line value. Is this even possible with PDF Box? Some people suggested to convert the pdf to html first and then to parse the html instead. Is this a viable option? Has anyone worked with <a href=\"https://github.com/thoqbk/traprange\" rel=\"nofollow noreferrer\">this</a> library? I will try to use this next.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":48,"creation_date":1449250211,"post_id":34094039,"comment_id":55940449,"body_markdown":"`@NotNull` is just an annotation. Annotations do nothing on their own. They need an annotation processor at compile time, or something that processes it at runtime.","body":"<code>@NotNull</code> is just an annotation. Annotations do nothing on their own. They need an annotation processor at compile time, or something that processes it at runtime."},{"owner":{"account_id":1032291,"reputation":1884,"user_id":1040376,"accept_rate":100,"display_name":"jabu.10245"},"score":0,"creation_date":1449250442,"post_id":34094039,"comment_id":55940575,"body_markdown":"Are you running the code inside an application server (for example using [Arquillian](http://arquillian.org/))?","body":"Are you running the code inside an application server (for example using <a href=\"http://arquillian.org/\" rel=\"nofollow noreferrer\">Arquillian</a>)?"},{"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"score":3,"creation_date":1449250473,"post_id":34094039,"comment_id":55940598,"body_markdown":"@SotiriosDelimanolis - So then what is the point, just a warning to anyone calling the method not to pass a null value? In which case you still need the null pointer validation code.","body":"@SotiriosDelimanolis - So then what is the point, just a warning to anyone calling the method not to pass a null value? In which case you still need the null pointer validation code."},{"owner":{"account_id":2428946,"reputation":2090,"user_id":3355474,"accept_rate":88,"display_name":"arisalexis"},"score":1,"creation_date":1449250576,"post_id":34094039,"comment_id":55940650,"body_markdown":"look at hibernate validator","body":"look at hibernate validator"},{"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"score":0,"creation_date":1449250587,"post_id":34094039,"comment_id":55940657,"body_markdown":"@jabu.10245 - Not using any application server.","body":"@jabu.10245 - Not using any application server."},{"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"score":0,"creation_date":1449250678,"post_id":34094039,"comment_id":55940706,"body_markdown":"@arisalexis - I have the org.hibernate:hibernate-validator:5.2.2.Final in my classpath.","body":"@arisalexis - I have the org.hibernate:hibernate-validator:5.2.2.Final in my classpath."},{"owner":{"account_id":1032291,"reputation":1884,"user_id":1040376,"accept_rate":100,"display_name":"jabu.10245"},"score":0,"creation_date":1449250831,"post_id":34094039,"comment_id":55940800,"body_markdown":"Then that&#39;s the answer. See [this tutorial](https://docs.oracle.com/javaee/7/tutorial/bean-validation003.htm). You need some sort of JavaEE container (CDI for instance) for it to work. Or maybe Hibernate Validation, like the comments suggest. Haven&#39;t tried that though.","body":"Then that&#39;s the answer. See <a href=\"https://docs.oracle.com/javaee/7/tutorial/bean-validation003.htm\" rel=\"nofollow noreferrer\">this tutorial</a>. You need some sort of JavaEE container (CDI for instance) for it to work. Or maybe Hibernate Validation, like the comments suggest. Haven&#39;t tried that though."},{"owner":{"account_id":2428946,"reputation":2090,"user_id":3355474,"accept_rate":88,"display_name":"arisalexis"},"score":0,"creation_date":1449250864,"post_id":34094039,"comment_id":55940823,"body_markdown":"just including it is not enough! &quot;someone&quot; needs to activate it","body":"just including it is not enough! &quot;someone&quot; needs to activate it"},{"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"score":0,"creation_date":1449251451,"post_id":34094039,"comment_id":55941151,"body_markdown":"@arisalexis - I am using Spring and do have a LocalValidatorFactoryBean in my Application class which I believe should expose it for use?","body":"@arisalexis - I am using Spring and do have a LocalValidatorFactoryBean in my Application class which I believe should expose it for use?"}],"answers":[{"tags":[],"owner":{"account_id":3606961,"reputation":3367,"user_id":3008923,"display_name":"Lucas Oliveira"},"down_vote_count":0,"up_vote_count":281,"is_accepted":true,"score":281,"last_activity_date":1687751626,"creation_date":1449251165,"answer_id":34094352,"question_id":34094039,"body_markdown":"**`@Nullable` and `@NotNull` do nothing on their own. They are supposed to act as Documentation tools.**\r\n\r\n\r\nThe `@Nullable` Annotation reminds you about the necessity to introduce an NPE check when:\r\n\r\n 1. Calling methods that can return null.\r\n 2. Dereferencing variables (fields, local variables, parameters) that can be null.\r\n\r\nThe `@NotNull` Annotation is, actually, an explicit contract declaring the following:\r\n\r\n 1. A method should not return null.\r\n 2. A variable (like fields, local variables, and parameters) &lt;s&gt;cannot&lt;/s&gt; &lt;i&gt;should not&lt;/i&gt;  hold null value. \r\n\r\n\r\nFor example, instead of writing:\r\n\r\n    /**\r\n     * @param aX should not be null\r\n     */\r\n    public void setX(final Object aX ) {\r\n        // some code\r\n    }\r\n\r\nYou can use:\r\n\r\n    public void setX(@NotNull final Object aX ) {\r\n        // some code\r\n    }\r\n\r\nAdditionally, `@NotNull` is often checked by [ConstraintValidators](https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html) (e.g. in Spring and Hibernate). \r\n\r\nThe `@NotNull` annotation doesn&#39;t do any validation on its own because the [annotation definition](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/NotNull.html) does not provide any `ConstraintValidator` type reference.\r\n\r\n---\r\n### For more info see: \r\n\r\n1. [Bean validation](https://beanvalidation.org/2.0/)\r\n2. Annotation Type [`NotNull`](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/NotNull.html)\r\n3. Annotation Type [`Constraint`](https://docs.oracle.com/javaee/7/api/javax/validation/Constraint.html)\r\n4. Interface [`ConstraintValidator`](https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html)","title":"Using NotNull Annotation in method argument","body":"<p><strong><code>@Nullable</code> and <code>@NotNull</code> do nothing on their own. They are supposed to act as Documentation tools.</strong></p>\n<p>The <code>@Nullable</code> Annotation reminds you about the necessity to introduce an NPE check when:</p>\n<ol>\n<li>Calling methods that can return null.</li>\n<li>Dereferencing variables (fields, local variables, parameters) that can be null.</li>\n</ol>\n<p>The <code>@NotNull</code> Annotation is, actually, an explicit contract declaring the following:</p>\n<ol>\n<li>A method should not return null.</li>\n<li>A variable (like fields, local variables, and parameters) <s>cannot</s> <i>should not</i>  hold null value.</li>\n</ol>\n<p>For example, instead of writing:</p>\n<pre><code>/**\n * @param aX should not be null\n */\npublic void setX(final Object aX ) {\n    // some code\n}\n</code></pre>\n<p>You can use:</p>\n<pre><code>public void setX(@NotNull final Object aX ) {\n    // some code\n}\n</code></pre>\n<p>Additionally, <code>@NotNull</code> is often checked by <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\">ConstraintValidators</a> (e.g. in Spring and Hibernate).</p>\n<p>The <code>@NotNull</code> annotation doesn't do any validation on its own because the <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/NotNull.html\" rel=\"nofollow noreferrer\">annotation definition</a> does not provide any <code>ConstraintValidator</code> type reference.</p>\n<hr />\n<h3>For more info see:</h3>\n<ol>\n<li><a href=\"https://beanvalidation.org/2.0/\" rel=\"nofollow noreferrer\">Bean validation</a></li>\n<li>Annotation Type <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/NotNull.html\" rel=\"nofollow noreferrer\"><code>NotNull</code></a></li>\n<li>Annotation Type <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Constraint.html\" rel=\"nofollow noreferrer\"><code>Constraint</code></a></li>\n<li>Interface <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\"><code>ConstraintValidator</code></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7338382,"reputation":4231,"user_id":5588910,"display_name":"Naruto"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1449251547,"creation_date":1449251547,"answer_id":34094450,"question_id":34094039,"body_markdown":"SO @NotNull just is a tag...If you want to validate it, then you must use something like hibernate validator jsr 303\r\n\r\n    ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = validatorFactory.getValidator();\r\n     Set&lt;ConstraintViolation&lt;List&lt;Searching&gt;&gt; violations = validator.validate(searchingList);","title":"Using NotNull Annotation in method argument","body":"<p>SO @NotNull just is a tag...If you want to validate it, then you must use something like hibernate validator jsr 303</p>\n\n<pre><code>ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\nValidator validator = validatorFactory.getValidator();\n Set&lt;ConstraintViolation&lt;List&lt;Searching&gt;&gt; violations = validator.validate(searchingList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1631917271,"creation_date":1532535143,"answer_id":51523435,"question_id":34094039,"body_markdown":"To make `@NonNull` active you need Lombok:\r\n\r\nhttps://projectlombok.org/features/NonNull\r\n\r\n    import lombok.NonNull;\r\n\r\nFollow: https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use","title":"Using NotNull Annotation in method argument","body":"<p>To make <code>@NonNull</code> active you need Lombok:</p>\n<p><a href=\"https://projectlombok.org/features/NonNull\" rel=\"noreferrer\">https://projectlombok.org/features/NonNull</a></p>\n<pre><code>import lombok.NonNull;\n</code></pre>\n<p>Follow: <a href=\"https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use\">Which @NotNull Java annotation should I use?</a></p>\n"},{"tags":[],"owner":{"account_id":1663940,"reputation":455,"user_id":1531736,"display_name":"Bollywood"},"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1568829885,"creation_date":1537286393,"answer_id":52390517,"question_id":34094039,"body_markdown":"As mentioned above `@NotNull` does nothing on its own. A good way of using `@NotNull` would be using it with [`Objects.requireNonNull`][1] \r\n\r\n    public class Foo {\r\n        private final Bar bar;\r\n\r\n        public Foo(@NotNull Bar bar) {\r\n            this.bar = Objects.requireNonNull(bar, &quot;bar must not be null&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#requireNonNull(T,%20java.lang.String)","title":"Using NotNull Annotation in method argument","body":"<p>As mentioned above <code>@NotNull</code> does nothing on its own. A good way of using <code>@NotNull</code> would be using it with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#requireNonNull(T,%20java.lang.String)\" rel=\"noreferrer\"><code>Objects.requireNonNull</code></a> </p>\n\n<pre><code>public class Foo {\n    private final Bar bar;\n\n    public Foo(@NotNull Bar bar) {\n        this.bar = Objects.requireNonNull(bar, \"bar must not be null\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4814165,"reputation":4205,"user_id":3886740,"accept_rate":92,"display_name":"sisanared"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629253537,"creation_date":1548991320,"answer_id":54472419,"question_id":34094039,"body_markdown":"If you are using Spring, you can force validation by annotating the class with `@Validated`:\r\n\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\nMore info available here:\r\nhttps://stackoverflow.com/questions/43670862/javax-validation-notnull-annotation-usage\r\n\r\nYou could also use **`@NonNull`** from `projectlombok` (lombok.NonNull) ","title":"Using NotNull Annotation in method argument","body":"<p>If you are using Spring, you can force validation by annotating the class with <code>@Validated</code>:</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\n</code></pre>\n<p>More info available here:\n<a href=\"https://stackoverflow.com/questions/43670862/javax-validation-notnull-annotation-usage\">Javax @NotNull annotation usage</a></p>\n<p>You could also use <strong><code>@NonNull</code></strong> from <code>projectlombok</code> (lombok.NonNull)</p>\n"},{"tags":[],"owner":{"account_id":10025983,"reputation":984,"user_id":7414142,"display_name":"Julien Feniou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571231092,"creation_date":1563876403,"answer_id":57161630,"question_id":34094039,"body_markdown":"To test your method validation in a test, you have to wrap it a proxy in the @Before method. \r\n\r\n    @Before\r\n    public void setUp() {\r\n        this.classAutowiredWithFindStuffMethod = MethodValidationProxyFactory.createProxy(this.classAutowiredWithFindStuffMethod);\r\n    }\r\n\r\nWith MethodValidationProxyFactory as :\r\n\r\n    import org.springframework.context.support.StaticApplicationContext;\r\n    import org.springframework.validation.beanvalidation.MethodValidationPostProcessor;\r\n\r\n    public class MethodValidationProxyFactory {\r\n\r\n    private static final StaticApplicationContext ctx = new StaticApplicationContext();\r\n\r\n    static {\r\n        MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\r\n        processor.afterPropertiesSet(); // init advisor\r\n        ctx.getBeanFactory()\r\n                .addBeanPostProcessor(processor);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T createProxy(T instance) {\r\n\r\n        return (T) ctx.getAutowireCapableBeanFactory()\r\n                .applyBeanPostProcessorsAfterInitialization(instance, instance.getClass()\r\n                        .getName());\r\n    }\r\n\r\n}\r\n\r\nAnd then, add your test : \r\n\r\n    @Test\r\n    public void findingNullStuff() {\r\n     assertThatExceptionOfType(ConstraintViolationException.class).isThrownBy(() -&gt; this.classAutowiredWithFindStuffMethod.findStuff(null));\r\n\r\n    }","title":"Using NotNull Annotation in method argument","body":"<p>To test your method validation in a test, you have to wrap it a proxy in the @Before method. </p>\n\n<pre><code>@Before\npublic void setUp() {\n    this.classAutowiredWithFindStuffMethod = MethodValidationProxyFactory.createProxy(this.classAutowiredWithFindStuffMethod);\n}\n</code></pre>\n\n<p>With MethodValidationProxyFactory as :</p>\n\n<pre><code>import org.springframework.context.support.StaticApplicationContext;\nimport org.springframework.validation.beanvalidation.MethodValidationPostProcessor;\n\npublic class MethodValidationProxyFactory {\n\nprivate static final StaticApplicationContext ctx = new StaticApplicationContext();\n\nstatic {\n    MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\n    processor.afterPropertiesSet(); // init advisor\n    ctx.getBeanFactory()\n            .addBeanPostProcessor(processor);\n}\n\n@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; T createProxy(T instance) {\n\n    return (T) ctx.getAutowireCapableBeanFactory()\n            .applyBeanPostProcessorsAfterInitialization(instance, instance.getClass()\n                    .getName());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And then, add your test : </p>\n\n<pre><code>@Test\npublic void findingNullStuff() {\n assertThatExceptionOfType(ConstraintViolationException.class).isThrownBy(() -&gt; this.classAutowiredWithFindStuffMethod.findStuff(null));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573575645,"creation_date":1573575645,"answer_id":58822701,"question_id":34094039,"body_markdown":"I do this to create my own validation annotation and validator:\r\n\r\n`ValidCardType.java`(annotation to put on methods/fields)\r\n\r\n```java\r\n@Constraint(validatedBy = {CardTypeValidator.class})\r\n@Documented\r\n@Target( { ElementType.ANNOTATION_TYPE, ElementType.METHOD, ElementType.FIELD })\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ValidCardType {\r\n    String message() default &quot;Incorrect card type, should be among: \\&quot;MasterCard\\&quot; | \\&quot;Visa\\&quot;&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nAnd, the validator to trigger the check:\r\n`CardTypeValidator.java`:\r\n```java\r\npublic class CardTypeValidator implements ConstraintValidator&lt;ValidCardType, String&gt; {\r\n    private static final String[] ALL_CARD_TYPES = {&quot;MasterCard&quot;, &quot;Visa&quot;};\r\n\r\n    @Override\r\n    public void initialize(ValidCardType status) {\r\n    }\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        return (Arrays.asList(ALL_CARD_TYPES).contains(value));\r\n    }\r\n}\r\n```\r\n\r\nYou can do something very similar to check `@NotNull`. \r\n\r\n\r\n\r\n","title":"Using NotNull Annotation in method argument","body":"<p>I do this to create my own validation annotation and validator:</p>\n\n<p><code>ValidCardType.java</code>(annotation to put on methods/fields)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {CardTypeValidator.class})\n@Documented\n@Target( { ElementType.ANNOTATION_TYPE, ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidCardType {\n    String message() default \"Incorrect card type, should be among: \\\"MasterCard\\\" | \\\"Visa\\\"\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>And, the validator to trigger the check:\n<code>CardTypeValidator.java</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CardTypeValidator implements ConstraintValidator&lt;ValidCardType, String&gt; {\n    private static final String[] ALL_CARD_TYPES = {\"MasterCard\", \"Visa\"};\n\n    @Override\n    public void initialize(ValidCardType status) {\n    }\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return (Arrays.asList(ALL_CARD_TYPES).contains(value));\n    }\n}\n</code></pre>\n\n<p>You can do something very similar to check <code>@NotNull</code>. </p>\n"},{"tags":[],"owner":{"account_id":1264236,"reputation":33,"user_id":1221897,"display_name":"sartysam"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1616076395,"creation_date":1616076395,"answer_id":66692762,"question_id":34094039,"body_markdown":"    I resolved it with\r\n    \r\n    @JsonSetter(nulls = Nulls.AS_EMPTY)\r\n    @NotBlank\r\n    public String myString;\r\n    \r\n    Request Json:\r\n    {\r\n      myString=null\r\n    }\r\n     Response:\r\n     error must not be blank\r\n\r\n","title":"Using NotNull Annotation in method argument","body":"<pre><code>I resolved it with\n\n@JsonSetter(nulls = Nulls.AS_EMPTY)\n@NotBlank\npublic String myString;\n\nRequest Json:\n{\n  myString=null\n}\n Response:\n error must not be blank\n</code></pre>\n"}],"owner":{"account_id":2203460,"reputation":6682,"user_id":1947251,"accept_rate":86,"display_name":"DavidR"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299731,"favorite_count":0,"down_vote_count":1,"up_vote_count":240,"accepted_answer_id":34094352,"answer_count":8,"score":239,"last_activity_date":1687751626,"creation_date":1449249964,"question_id":34094039,"body_markdown":"I just started using the `@NotNull` annotation with Java 8 and getting some unexpected results.\r\n\r\nI have a method like this:\r\n\r\n    public List&lt;Found&gt; findStuff(@NotNull List&lt;Searching&gt; searchingList) {\r\n        ... code here ...\r\n    }\r\n\r\nI wrote a JUnit test passing in the null value for the argument searchingList. I was expecting some type of error to happen but it went through as though the annotation was not there. Is this expected behavior? From what I understood, this was to allow you to skip writing the boilerplate null check code.\r\n\r\nAn explanation of what exactly @NotNull is supposed to do would be greatly appreciated.","title":"Using NotNull Annotation in method argument","body":"<p>I just started using the <code>@NotNull</code> annotation with Java 8 and getting some unexpected results.</p>\n\n<p>I have a method like this:</p>\n\n<pre><code>public List&lt;Found&gt; findStuff(@NotNull List&lt;Searching&gt; searchingList) {\n    ... code here ...\n}\n</code></pre>\n\n<p>I wrote a JUnit test passing in the null value for the argument searchingList. I was expecting some type of error to happen but it went through as though the annotation was not there. Is this expected behavior? From what I understood, this was to allow you to skip writing the boilerplate null check code.</p>\n\n<p>An explanation of what exactly @NotNull is supposed to do would be greatly appreciated.</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":912159,"reputation":3129,"user_id":945742,"accept_rate":60,"display_name":"pedorro"},"down_vote_count":10,"up_vote_count":69,"is_accepted":true,"score":59,"last_activity_date":1387412082,"creation_date":1387412082,"answer_id":20671202,"question_id":20578846,"body_markdown":"I think what you want is\r\n\r\n    @JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\r\n    public class Person {\r\n      ...\r\n    }\r\nthat&#39;s the Jackson 1.x way.  I think there&#39;s a new way in 2.x.  Something like\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    public class Person {\r\n      ...\r\n    }\r\n\r\nThese will tell Jackson to only serialize values that are not null, and don&#39;t complain when deserializing a missing value.  I think it will just set it to the Java default.","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>I think what you want is</p>\n\n<pre><code>@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\npublic class Person {\n  ...\n}\n</code></pre>\n\n<p>that's the Jackson 1.x way.  I think there's a new way in 2.x.  Something like</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class Person {\n  ...\n}\n</code></pre>\n\n<p>These will tell Jackson to only serialize values that are not null, and don't complain when deserializing a missing value.  I think it will just set it to the Java default.</p>\n"},{"tags":[],"owner":{"account_id":196067,"reputation":3524,"user_id":2175650,"accept_rate":60,"display_name":"Gustavo Matias"},"down_vote_count":12,"up_vote_count":126,"is_accepted":false,"score":114,"last_activity_date":1552676235,"creation_date":1414515771,"answer_id":26614217,"question_id":20578846,"body_markdown":"[`@JsonIgnoreProperties(ignoreUnknown = true)`](http://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#ignoreUnknown()) on the class level worked for me.","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p><a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#ignoreUnknown()\" rel=\"noreferrer\"><code>@JsonIgnoreProperties(ignoreUnknown = true)</code></a> on the class level worked for me.</p>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1687751270,"creation_date":1490734806,"answer_id":43079849,"question_id":20578846,"body_markdown":"Annotation-based approach is a better way for ignoring, but if needed, the manual way of deserialization is:\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    Person       person = mapper.readValue(jsonFileReader, Person.class);","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>Annotation-based approach is a better way for ignoring, but if needed, the manual way of deserialization is:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nPerson       person = mapper.readValue(jsonFileReader, Person.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219924,"reputation":501,"user_id":3454944,"display_name":"Mois&#233;s"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1532624899,"creation_date":1532624899,"answer_id":51544174,"question_id":20578846,"body_markdown":"Modern versions (2.9.6) of Jackson libraries will ignore missing creator properties by default. However, if the ObjectMapper configuration is set to:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\r\n\r\nThen you&#39;ll get a deserialization error if one of the properties is missing.","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>Modern versions (2.9.6) of Jackson libraries will ignore missing creator properties by default. However, if the ObjectMapper configuration is set to:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\n</code></pre>\n\n<p>Then you'll get a deserialization error if one of the properties is missing.</p>\n"},{"tags":[],"owner":{"account_id":1682894,"reputation":1612,"user_id":1546774,"display_name":"mbonness"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570209096,"creation_date":1570209096,"answer_id":58240645,"question_id":20578846,"body_markdown":"You could also change your class to use an Integer instead of an int, in which case Jackson will handle null/missing &quot;age&quot; values properly. Just adding this answer for those looking for an alternative that doesn&#39;t involve using annotations.\r\n\r\n    class Person {\r\n       String name;\r\n       Integer age;\r\n    }","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>You could also change your class to use an Integer instead of an int, in which case Jackson will handle null/missing \"age\" values properly. Just adding this answer for those looking for an alternative that doesn't involve using annotations.</p>\n\n<pre><code>class Person {\n   String name;\n   Integer age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618857123,"creation_date":1618857123,"answer_id":67167513,"question_id":20578846,"body_markdown":"if you annotate age with @JsonProperty(access = JsonProperty.Access.READ_ONLY) it will be ignored during deserialization only.\r\n","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>if you annotate age with @JsonProperty(access = JsonProperty.Access.READ_ONLY) it will be ignored during deserialization only.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649390342,"creation_date":1649390342,"answer_id":71791525,"question_id":20578846,"body_markdown":"In Deserialization, two things may happen.\r\n\r\nwe have **a new field in JSON String, not in Java Bean**, that will be an **unknown property for the object mapper**. To ignore the unknown property, the object mapper configuration needs to be configured as below\r\n```\r\nObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n```\r\n\r\nIf a field is **not in JSON String but in Java Bean**, then that field will be treated as **a missing property by the object mapper**. To not fail on missing property, the object mapper configuration needs to be configured as below but this is the default behavior of Modern versions (2.9.6) of Jackson libraries.\r\n\r\n```ObjectMapper().configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, false)```\r\n\r\n\r\n","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>In Deserialization, two things may happen.</p>\n<p>we have <strong>a new field in JSON String, not in Java Bean</strong>, that will be an <strong>unknown property for the object mapper</strong>. To ignore the unknown property, the object mapper configuration needs to be configured as below</p>\n<pre><code>ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n<p>If a field is <strong>not in JSON String but in Java Bean</strong>, then that field will be treated as <strong>a missing property by the object mapper</strong>. To not fail on missing property, the object mapper configuration needs to be configured as below but this is the default behavior of Modern versions (2.9.6) of Jackson libraries.</p>\n<p><code>ObjectMapper().configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, false)</code></p>\n"}],"owner":{"account_id":159622,"reputation":1309,"user_id":379151,"accept_rate":86,"display_name":"user379151"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152748,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":20671202,"answer_count":7,"score":87,"last_activity_date":1687751270,"creation_date":1386986173,"question_id":20578846,"body_markdown":"In the example\r\n\r\n```java\r\nclass Person {\r\n   String name;\r\n   int age;\r\n}\r\n```\r\n\r\nIf the JSON object has a missing property &#39;age&#39;, \r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;John&quot;\r\n}\r\n```\r\n\r\n```java\r\nPerson person = objectMapper.readValue(jsonFileReader, Person.class);\r\n```\r\n\r\nit throws a `JsonMappingException` saying it cannot deserialize. Is there an *annotation* to ignore missing fields during deserialization?\r\n","title":"Ignore missing properties during Jackson JSON deserialization in Java","body":"<p>In the example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n   String name;\n   int age;\n}\n</code></pre>\n<p>If the JSON object has a missing property 'age',</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;John&quot;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = objectMapper.readValue(jsonFileReader, Person.class);\n</code></pre>\n<p>it throws a <code>JsonMappingException</code> saying it cannot deserialize. Is there an <em>annotation</em> to ignore missing fields during deserialization?</p>\n"},{"tags":["java","time","redis"],"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1687758077,"post_id":76552867,"comment_id":134975722,"body_markdown":"hahahhahaha  : )","body":"hahahhahaha  : )"}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687746987,"creation_date":1687746458,"answer_id":76553204,"question_id":76552867,"body_markdown":"RedisTemplate provides an `execute` method that can execute Redis Command.\r\n\r\n      Object execute = redisTemplate.execute(new RedisCallback&lt;Long&gt;() {\r\n            @Override\r\n            public Long doInRedis(RedisConnection redisConnection) throws DataAccessException {\r\n                return redisConnection.time();\r\n            }\r\n        });\r\n\r\nActually, other redisTemplate methods  like `get()` also execute using `execute(RedisCallback&lt;T&gt; callback)`.\r\n\r\n    redisTemplate.opsForValue().get(&quot;key&quot;);\r\n`get` source code is\r\n\r\n    @Override\r\n\tpublic V get(Object key) {\r\n\r\n\t\treturn execute(new ValueDeserializingRedisCallback(key) {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected byte[] inRedis(byte[] rawKey, RedisConnection connection) {\r\n\t\t\t\treturn connection.get(rawKey);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n \r\n    @Nullable\r\n\t&lt;T&gt; T execute(RedisCallback&lt;T&gt; callback) {\r\n\t\treturn template.execute(callback, true);\r\n\t}\r\n\r\n\r\n\r\n ","title":"get redis server time with redistemplate","body":"<p>RedisTemplate provides an <code>execute</code> method that can execute Redis Command.</p>\n<pre><code>  Object execute = redisTemplate.execute(new RedisCallback&lt;Long&gt;() {\n        @Override\n        public Long doInRedis(RedisConnection redisConnection) throws DataAccessException {\n            return redisConnection.time();\n        }\n    });\n</code></pre>\n<p>Actually, other redisTemplate methods  like <code>get()</code> also execute using <code>execute(RedisCallback&lt;T&gt; callback)</code>.</p>\n<pre><code>redisTemplate.opsForValue().get(&quot;key&quot;);\n</code></pre>\n<p><code>get</code> source code is</p>\n<pre><code>@Override\npublic V get(Object key) {\n\n    return execute(new ValueDeserializingRedisCallback(key) {\n\n        @Override\n        protected byte[] inRedis(byte[] rawKey, RedisConnection connection) {\n            return connection.get(rawKey);\n        }\n    });\n}\n\n\n@Nullable\n&lt;T&gt; T execute(RedisCallback&lt;T&gt; callback) {\n    return template.execute(callback, true);\n}\n</code></pre>\n"}],"owner":{"account_id":28894026,"reputation":3,"user_id":22130469,"display_name":"jin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76553204,"answer_count":1,"score":0,"last_activity_date":1687751143,"creation_date":1687737978,"question_id":76552867,"body_markdown":"On Spring Boot\r\n\r\nI want to get millis of Redis server with RedisTemplate.\r\n\r\nLike this\r\n\r\nredis&gt; TIME\r\n1) &quot;1687736427&quot;\r\n2) &quot;339025&quot;\r\nredis&gt; TIME\r\n1) &quot;1687736427&quot;\r\n2) &quot;339285&quot;\r\nredis&gt; \r\n\r\nBut reference says, &quot;Template does not Support Time&quot;.\r\n\r\nIs there no way?\r\n\r\n    /* thank you!! lant. My code look like */\r\n\tthis.redisTemplate.execute(new SessionCallback&lt;Long&gt;() {\r\n\t\t@Override\r\n\t\tpublic Long execute(RedisOperations operations) throws DataAccessException {\t\t\t\r\n\t\t\tdo {\r\n\t\t\t\tLong now = redisTemplate.execute(new RedisCallback&lt;Long&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic Long doInRedis(RedisConnection connection) throws DataAccessException {\r\n\t\t\t\t\t\treturn connection.time();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} while() \r\n\t\t}\r\n\t}","title":"get redis server time with redistemplate","body":"<p>On Spring Boot</p>\n<p>I want to get millis of Redis server with RedisTemplate.</p>\n<p>Like this</p>\n<p>redis&gt; TIME</p>\n<ol>\n<li>&quot;1687736427&quot;</li>\n<li>&quot;339025&quot;\nredis&gt; TIME</li>\n<li>&quot;1687736427&quot;</li>\n<li>&quot;339285&quot;\nredis&gt;</li>\n</ol>\n<p>But reference says, &quot;Template does not Support Time&quot;.</p>\n<p>Is there no way?</p>\n<pre><code>/* thank you!! lant. My code look like */\nthis.redisTemplate.execute(new SessionCallback&lt;Long&gt;() {\n    @Override\n    public Long execute(RedisOperations operations) throws DataAccessException {            \n        do {\n            Long now = redisTemplate.execute(new RedisCallback&lt;Long&gt;() {\n                @Override\n                public Long doInRedis(RedisConnection connection) throws DataAccessException {\n                    return connection.time();\n                }\n            });\n        } while() \n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","tomcat10"],"owner":{"account_id":8497760,"reputation":342,"user_id":6371836,"display_name":"Daniel Andres Pelaez Lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687750587,"creation_date":1687736689,"question_id":76552832,"body_markdown":"I have a requirement where:\r\n\r\n1. A service opens an HTTP connection to Tomcat 10.x\r\n2. Sends a stream of bytes using [Chunked Transfer Encoding](https://en.wikipedia.org/wiki/Chunked_transfer_encoding) (**cannot change this behavior**)\r\n3. The Tomcat application reads the stream in chunks, saving each chunk and its size separately, using CoyoteInputStrean\r\n\r\nHowever, the current Chunked Transfer Encoding Tomcat implementation handles the whole decoding, discarding the chunk size, which I want to have access to.\r\n\r\nI haven&#39;t found a way to override the default Chunked Transfer Encoding algorithm in Tomcat, in a way to have access to each chunk size and its bytes manually.\r\n\r\nExploring Tomcat source code, I found that:\r\n\r\n- [ChunkedInputFilter](https://github.com/apache/tomcat/blob/10.1.x/java/org/apache/coyote/http11/filters/ChunkedInputFilter.java) class handles the Chunked Transfer Encoding algorithm\r\n  - That class doesn&#39;t allow to access the chunk size somehow\r\n- [Http11Processor](https://github.com/apache/tomcat/blob/10.1.x/java/org/apache/coyote/http11/Http11Processor.java#L172) creates the ChunkedInputFilter class and adds it to its filter array\r\n- [AbstractHttp11Protocol](https://stackoverflow.com) creates the Http11Processor\r\n\r\nFrom there, seems like I might be able to extend AbstractHttp11Protocol, create my own Processor, and somehow override the filter array, including my own version of ChunkedIinputFilter, similar to IdentityInputFilter, which seems not doing any special treatment to the byte stream, just returning as it is, keeping the data about chunk size.\r\n\r\nThe final expectation is Tomcat not processing the chunked transfer encoding, but my own code, upstream, using CoyoteInputStream, doing the processing, or somehow, Tomcat provides the chunk size of each chunk in the stream.\r\n\r\nIs there any better option?","title":"How to access to the chunk size and its bytes in a Chunked Transfer Encoding on Tomcat 10.x","body":"<p>I have a requirement where:</p>\n<ol>\n<li>A service opens an HTTP connection to Tomcat 10.x</li>\n<li>Sends a stream of bytes using <a href=\"https://en.wikipedia.org/wiki/Chunked_transfer_encoding\" rel=\"nofollow noreferrer\">Chunked Transfer Encoding</a> (<strong>cannot change this behavior</strong>)</li>\n<li>The Tomcat application reads the stream in chunks, saving each chunk and its size separately, using CoyoteInputStrean</li>\n</ol>\n<p>However, the current Chunked Transfer Encoding Tomcat implementation handles the whole decoding, discarding the chunk size, which I want to have access to.</p>\n<p>I haven't found a way to override the default Chunked Transfer Encoding algorithm in Tomcat, in a way to have access to each chunk size and its bytes manually.</p>\n<p>Exploring Tomcat source code, I found that:</p>\n<ul>\n<li><a href=\"https://github.com/apache/tomcat/blob/10.1.x/java/org/apache/coyote/http11/filters/ChunkedInputFilter.java\" rel=\"nofollow noreferrer\">ChunkedInputFilter</a> class handles the Chunked Transfer Encoding algorithm\n<ul>\n<li>That class doesn't allow to access the chunk size somehow</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/apache/tomcat/blob/10.1.x/java/org/apache/coyote/http11/Http11Processor.java#L172\" rel=\"nofollow noreferrer\">Http11Processor</a> creates the ChunkedInputFilter class and adds it to its filter array</li>\n<li><a href=\"https://stackoverflow.com\">AbstractHttp11Protocol</a> creates the Http11Processor</li>\n</ul>\n<p>From there, seems like I might be able to extend AbstractHttp11Protocol, create my own Processor, and somehow override the filter array, including my own version of ChunkedIinputFilter, similar to IdentityInputFilter, which seems not doing any special treatment to the byte stream, just returning as it is, keeping the data about chunk size.</p>\n<p>The final expectation is Tomcat not processing the chunked transfer encoding, but my own code, upstream, using CoyoteInputStream, doing the processing, or somehow, Tomcat provides the chunk size of each chunk in the stream.</p>\n<p>Is there any better option?</p>\n"},{"tags":["java","spring-boot","testing"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1644180881,"post_id":71011473,"comment_id":125531996,"body_markdown":"Just recreate the test folder. If you are using maven, you can see the standard directory layout [here](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).","body":"Just recreate the test folder. If you are using maven, you can see the standard directory layout <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1644180923,"post_id":71011473,"comment_id":125532005,"body_markdown":"What build tool are you using? did you do a mvn clean install after you added the test folder again?","body":"What build tool are you using? did you do a mvn clean install after you added the test folder again?"},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1644183336,"post_id":71011473,"comment_id":125532502,"body_markdown":"What IDE are you using? You might have to add the new test directory as a &quot;test&quot; resource in the project setting.","body":"What IDE are you using? You might have to add the new test directory as a &quot;test&quot; resource in the project setting."},{"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"score":0,"creation_date":1644183452,"post_id":71011473,"comment_id":125532528,"body_markdown":"Thanks to @Chaosfire with standard directory layout I fixed my problem.","body":"Thanks to @Chaosfire with standard directory layout I fixed my problem."}],"answers":[{"tags":[],"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644208179,"creation_date":1644208179,"answer_id":71013503,"question_id":71011473,"body_markdown":"Create the `java` in the test directory. If you use IDEA, right-click the `java` and choose `Mark Directory as-&gt;Test Resources Root` from the shortcut menu. Put your test classes in the `java`.","title":"Accidentally deleted my test folder in Spring boot application","body":"<p>Create the <code>java</code> in the test directory. If you use IDEA, right-click the <code>java</code> and choose <code>Mark Directory as-&gt;Test Resources Root</code> from the shortcut menu. Put your test classes in the <code>java</code>.</p>\n"}],"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71013503,"answer_count":1,"score":0,"last_activity_date":1687747804,"creation_date":1644180109,"question_id":71011473,"body_markdown":"As the title says, I accidentally deleted the test folder in my Spring boot application and created a folder named test under the src folder. But now, I can&#39;t create java class in the test folder. The IDE does not recognize it as a java class. What can I do to fix this?","title":"Accidentally deleted my test folder in Spring boot application","body":"<p>As the title says, I accidentally deleted the test folder in my Spring boot application and created a folder named test under the src folder. But now, I can't create java class in the test folder. The IDE does not recognize it as a java class. What can I do to fix this?</p>\n"},{"tags":["java","jna","java-native-library"],"owner":{"account_id":25977982,"reputation":23,"user_id":19692162,"display_name":"Kanishka withanawasam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676653977,"answer_count":0,"score":0,"last_activity_date":1687747493,"creation_date":1676653726,"question_id":75487291,"body_markdown":"I am writing a program as a part of a personal project. I need to create an event listener for hardware changes in order to continue the project. \r\n\r\nI tried to used JNA 5.13.0 to do this but it was unsuccessful. \r\n\r\nThe programme runs on macOS. Can anyone tell me a way to do this. I have never worked with native libraries before. ","title":"How to create a java event listener for hardware changes?","body":"<p>I am writing a program as a part of a personal project. I need to create an event listener for hardware changes in order to continue the project.</p>\n<p>I tried to used JNA 5.13.0 to do this but it was unsuccessful.</p>\n<p>The programme runs on macOS. Can anyone tell me a way to do this. I have never worked with native libraries before.</p>\n"},{"tags":["java","sql","dao"],"comments":[{"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"score":0,"creation_date":1372417058,"post_id":17363092,"comment_id":25197644,"body_markdown":"Why re-implement the wheel? Won&#39;t an existing ORM solve your problems?","body":"Why re-implement the wheel? Won&#39;t an existing ORM solve your problems?"},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":0,"creation_date":1372417321,"post_id":17363092,"comment_id":25197794,"body_markdown":"@Thihara I find those difficult to master, I have surely looked around already on the internet, but they all seem so difficult. I would like to start with my application soonish and if I would get this part to work it would seem that it is enough for now.","body":"@Thihara I find those difficult to master, I have surely looked around already on the internet, but they all seem so difficult. I would like to start with my application soonish and if I would get this part to work it would seem that it is enough for now."},{"owner":{"account_id":1470633,"reputation":1701,"user_id":1382300,"accept_rate":50,"display_name":"inigoD"},"score":0,"creation_date":1372417683,"post_id":17363092,"comment_id":25197993,"body_markdown":"Your solution looks clear. What do you think that is wrong with it?","body":"Your solution looks clear. What do you think that is wrong with it?"},{"owner":{"account_id":125523,"reputation":6611,"user_id":321356,"accept_rate":82,"display_name":"Jan D&#246;rrenhaus"},"score":0,"creation_date":1372417700,"post_id":17363092,"comment_id":25198004,"body_markdown":"@skiwi You will waste a lot more time writing your own solution than it would take to use JPA/Hibernate for example. This is really one of these problems that you do NOT want to tackle yourself.","body":"@skiwi You will waste a lot more time writing your own solution than it would take to use JPA/Hibernate for example. This is really one of these problems that you do NOT want to tackle yourself."},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":0,"creation_date":1372418005,"post_id":17363092,"comment_id":25198154,"body_markdown":"Ok I&#39;ve heard the concerns, but I still would like an answer to my actual question if possible.","body":"Ok I&#39;ve heard the concerns, but I still would like an answer to my actual question if possible."},{"owner":{"account_id":339128,"reputation":11053,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":1,"creation_date":1372422290,"post_id":17363092,"comment_id":25200330,"body_markdown":"What&#39;s the exact problem with your `get()` and `search()` methods?","body":"What&#39;s the exact problem with your <code>get()</code> and <code>search()</code> methods?"}],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372422274,"creation_date":1372422274,"answer_id":17364699,"question_id":17363092,"body_markdown":"This is how I tackled mine:\r\n\r\nI created an abstract class `NativeQueryBasedDAO` that accepts SQL queries. This way, I can have subclasses that extends `NativeQueryBasedDAO` that represents eeach RDBMS (like MySQL, DB2, PostGres, etc.).\r\n\r\nIn your case, you will have something of this effect:\r\n\r\n    public abstract class NativeQueryBasedDAO&lt;T&gt; implements DAO&lt;T&gt; {\r\n    \t\r\n    \tprivate Connection connection;\r\n    \tprivate String schemaName;\r\n    \tprivate String tableName;\r\n    \t\r\n    \tprotected NativeQueryBasedDAO(Connection connection, String tableName) {\r\n    \t\tthis(connection, null, tableName);\r\n    \t}\r\n    \t\r\n    \tprotected NativeQueryBasedDAO(Connection connection, String schemaName, String tableName) {\r\n    \t\tif (schemaName == null) {\r\n    \t\t\tthis.schemaName = &quot;&quot;;\r\n    \t\t} else {\r\n    \t\t\tthis.schemaName = schemaName;\r\n    \t\t}\r\n    \t\tthis.connection = connection;\r\n    \t\tthis.tableName = tableName;\r\n    \t}\r\n    \t\r\n    \tprotected final String getTableName() {\r\n    \t\treturn tableName;\r\n    \t}\r\n    \t\r\n    \tprotected final String getSchemaName() {\r\n    \t\treturn schemaName;\r\n    \t}\r\n\r\n    \tprotected final Connection getConnection() {\r\n    \t\treturn connection;\r\n    \t}\r\n    }\r\n\r\nThe above fields can help you in methods such as `get()` where you need to get an Object based on your `schemaName + tableName`.\r\n\r\nThen, I would have an `Factory&lt;T&gt;` that has a `public T create()` that creates an object (in your case, account).\r\n\r\nSo, based on some `Parameters, you can pass/generate a `Factory` that will generate an object.\r\n\r\nYou can then modify your `DAO` to do a `get(Criteria criteria)` that builds a `Factory` with parameters to populate to create your object.\r\n\r\nIn a nutshell, it is not a simple solution (as this must be robust and grow based on your requirement). ORM such as Hibernate or JPA implementations (e.g. TopLink) handles this.\r\n\r\nI hope this helps.\r\n\r\n\r\n","title":"Java/sql experimental DAO implementation","body":"<p>This is how I tackled mine:</p>\n\n<p>I created an abstract class <code>NativeQueryBasedDAO</code> that accepts SQL queries. This way, I can have subclasses that extends <code>NativeQueryBasedDAO</code> that represents eeach RDBMS (like MySQL, DB2, PostGres, etc.).</p>\n\n<p>In your case, you will have something of this effect:</p>\n\n<pre><code>public abstract class NativeQueryBasedDAO&lt;T&gt; implements DAO&lt;T&gt; {\n\n    private Connection connection;\n    private String schemaName;\n    private String tableName;\n\n    protected NativeQueryBasedDAO(Connection connection, String tableName) {\n        this(connection, null, tableName);\n    }\n\n    protected NativeQueryBasedDAO(Connection connection, String schemaName, String tableName) {\n        if (schemaName == null) {\n            this.schemaName = \"\";\n        } else {\n            this.schemaName = schemaName;\n        }\n        this.connection = connection;\n        this.tableName = tableName;\n    }\n\n    protected final String getTableName() {\n        return tableName;\n    }\n\n    protected final String getSchemaName() {\n        return schemaName;\n    }\n\n    protected final Connection getConnection() {\n        return connection;\n    }\n}\n</code></pre>\n\n<p>The above fields can help you in methods such as <code>get()</code> where you need to get an Object based on your <code>schemaName + tableName</code>.</p>\n\n<p>Then, I would have an <code>Factory&lt;T&gt;</code> that has a <code>public T create()</code> that creates an object (in your case, account).</p>\n\n<p>So, based on some <code>Parameters, you can pass/generate a</code>Factory` that will generate an object.</p>\n\n<p>You can then modify your <code>DAO</code> to do a <code>get(Criteria criteria)</code> that builds a <code>Factory</code> with parameters to populate to create your object.</p>\n\n<p>In a nutshell, it is not a simple solution (as this must be robust and grow based on your requirement). ORM such as Hibernate or JPA implementations (e.g. TopLink) handles this.</p>\n\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687745514,"creation_date":1372416925,"question_id":17363092,"body_markdown":"I am working on a DAO implementation of a database in a Java (web) application. Only I have run into a slight issue.\r\n\r\nMy current code:\r\n\r\nAccount.java:\r\n\r\n\r\n    package beans;\r\n\r\n    public class Account {\r\n        private int accountId;\r\n        private String name;\r\n        private String password;\r\n        private String email;\r\n\r\n        public Account() {\r\n\r\n        }\r\n\r\n        public Account(final String name, final String password, final String email) {\r\n            this.name = name;\r\n            this.password = password;\r\n            this.email = email;\r\n        }\r\n\r\n        public int getAccountId() {\r\n            return accountId;\r\n        }\r\n\r\n        public void setAccountId(int accountId) {\r\n            this.accountId = accountId;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    }\r\n\r\nDAO.java:\r\n\r\n\r\n    package dao;\r\n\r\n    import java.util.Collection;\r\n\r\n    public interface DAO&lt;T&gt; {\r\n        public int insert(T t);\r\n\r\n        public boolean update(T t);\r\n\r\n        public T get();\r\n\r\n        public Collection&lt;T&gt; search();\r\n\r\n        public boolean delete(T t);\r\n    }\r\n\r\nAccountDAO.java:\r\n\r\n\r\n    package dao;\r\n\r\n    import beans.Account;\r\n    import java.util.Collection;\r\n\r\n    public class AccountDAO implements DAO&lt;Account&gt; { \r\n        @Override\r\n        public int insert(Account t) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public boolean update(Account t) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Account get() {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;Account&gt; search() {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n        }\r\n\r\n        @Override\r\n        public boolean delete(Account t) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe thing is that I am pretty sure that I do not want to use SQL strings already in the `DAO` interface, but then I have the issue of how will I implement `get()` and `search()` properly?\r\n\r\nAs it is a generic interface, I cannot work with the columns names yet and I would like to keep the `get()` and `search()` methods inside the interface, to ensure that they will be implemented, unless it is really neccessary to remove them from the interface.\r\n\r\nMy proposed suggestion is to search by a range or by an not-completely filled in object of class T. So if you would want to get the account with name=x, then you would have code like:\r\n\r\n    AccountDAO accountDAO = DAOFactory.getAccountDAO();\r\n    Account result = accountDAO.get(new Account(x, null, null));\r\n\r\nBut I am unsure if this would be the best solution, please help me.\r\n\r\nRegards.","title":"Java/sql experimental DAO implementation","body":"<p>I am working on a DAO implementation of a database in a Java (web) application. Only I have run into a slight issue.</p>\n\n<p>My current code:</p>\n\n<p>Account.java:</p>\n\n<pre><code>package beans;\n\npublic class Account {\n    private int accountId;\n    private String name;\n    private String password;\n    private String email;\n\n    public Account() {\n\n    }\n\n    public Account(final String name, final String password, final String email) {\n        this.name = name;\n        this.password = password;\n        this.email = email;\n    }\n\n    public int getAccountId() {\n        return accountId;\n    }\n\n    public void setAccountId(int accountId) {\n        this.accountId = accountId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n\n<p>DAO.java:</p>\n\n<pre><code>package dao;\n\nimport java.util.Collection;\n\npublic interface DAO&lt;T&gt; {\n    public int insert(T t);\n\n    public boolean update(T t);\n\n    public T get();\n\n    public Collection&lt;T&gt; search();\n\n    public boolean delete(T t);\n}\n</code></pre>\n\n<p>AccountDAO.java:</p>\n\n<pre><code>package dao;\n\nimport beans.Account;\nimport java.util.Collection;\n\npublic class AccountDAO implements DAO&lt;Account&gt; { \n    @Override\n    public int insert(Account t) {\n        throw new UnsupportedOperationException(\"Not supported yet.\");\n    }\n\n    @Override\n    public boolean update(Account t) {\n        throw new UnsupportedOperationException(\"Not supported yet.\");\n    }\n\n    @Override\n    public Account get() {\n        throw new UnsupportedOperationException(\"Not supported yet.\");\n    }\n\n    @Override\n    public Collection&lt;Account&gt; search() {\n        throw new UnsupportedOperationException(\"Not supported yet.\");\n    }\n\n    @Override\n    public boolean delete(Account t) {\n        throw new UnsupportedOperationException(\"Not supported yet.\");\n    }\n}\n</code></pre>\n\n<p>The thing is that I am pretty sure that I do not want to use SQL strings already in the <code>DAO</code> interface, but then I have the issue of how will I implement <code>get()</code> and <code>search()</code> properly?</p>\n\n<p>As it is a generic interface, I cannot work with the columns names yet and I would like to keep the <code>get()</code> and <code>search()</code> methods inside the interface, to ensure that they will be implemented, unless it is really neccessary to remove them from the interface.</p>\n\n<p>My proposed suggestion is to search by a range or by an not-completely filled in object of class T. So if you would want to get the account with name=x, then you would have code like:</p>\n\n<pre><code>AccountDAO accountDAO = DAOFactory.getAccountDAO();\nAccount result = accountDAO.get(new Account(x, null, null));\n</code></pre>\n\n<p>But I am unsure if this would be the best solution, please help me.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","database"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285778468,"creation_date":1285778468,"answer_id":3823825,"question_id":3823802,"body_markdown":"The patterns [DAL][1] and [DAO][2] are not language specific. Using them is good style in Java, too.\r\n\r\nThe [Springframework][3] provides a nice implementation of DAOs.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_access_layer\r\n  [2]: http://en.wikipedia.org/wiki/Data_Access_Object\r\n  [3]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/dao.html","title":"Googling DAL &amp; DAO returns only C# .NET related results – Does a DAL/DAO type pattern exist in Java?","body":"<p>The patterns <a href=\"http://en.wikipedia.org/wiki/Data_access_layer\" rel=\"nofollow\">DAL</a> and <a href=\"http://en.wikipedia.org/wiki/Data_Access_Object\" rel=\"nofollow\">DAO</a> are not language specific. Using them is good style in Java, too.</p>\n\n<p>The <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/dao.html\" rel=\"nofollow\">Springframework</a> provides a nice implementation of DAOs.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1285778831,"creation_date":1285778831,"answer_id":3823895,"question_id":3823802,"body_markdown":"Of course it applies to Java as well: [Don&#39;t Repeat The DAO!][1]\r\n\r\nHave a look at Fowler&#39;s [Patterns of Enterprise Application Architecture][2].  [Core J2EE Patterns][3] also refers to DAO.\r\n\r\nIt&#39;d be interesting to check the dates on your C#/.NET references.  I&#39;d bet that the idea started on the Java side and was adopted later by .NET.  Microsoft probably had another persistence technology that was their &quot;best practice&quot;.  If I recall correctly, VB used to tie UI elements closely to columns, without an intermediate layer in-between to separate the view from the database.  \r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-genericdao.html\r\n  [2]: http://www.amazon.com/Patterns-Enterprise-Application-Architecture-Martin/dp/0321127420/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1285778595&amp;sr=1-1\r\n  [3]: http://www.corej2eepatterns.com/","title":"Googling DAL &amp; DAO returns only C# .NET related results – Does a DAL/DAO type pattern exist in Java?","body":"<p>Of course it applies to Java as well: <a href=\"http://www.ibm.com/developerworks/java/library/j-genericdao.html\" rel=\"nofollow noreferrer\">Don't Repeat The DAO!</a></p>\n\n<p>Have a look at Fowler's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321127420\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Patterns of Enterprise Application Architecture</a>.  <a href=\"http://www.corej2eepatterns.com/\" rel=\"nofollow noreferrer\">Core J2EE Patterns</a> also refers to DAO.</p>\n\n<p>It'd be interesting to check the dates on your C#/.NET references.  I'd bet that the idea started on the Java side and was adopted later by .NET.  Microsoft probably had another persistence technology that was their \"best practice\".  If I recall correctly, VB used to tie UI elements closely to columns, without an intermediate layer in-between to separate the view from the database.  </p>\n"}],"owner":{"display_name":"user63904"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3823895,"answer_count":2,"score":0,"last_activity_date":1687745114,"creation_date":1285778355,"question_id":3823802,"body_markdown":"The subject line says it all.\r\nGoogling DAL &amp; DAO returns only C# .NET related results.  \r\nIs there a DAL/DAO equivalent pattern in the Java world?\r\nAre there any reference implementations available?","title":"Googling DAL &amp; DAO returns only C# .NET related results – Does a DAL/DAO type pattern exist in Java?","body":"<p>The subject line says it all.\nGoogling DAL &amp; DAO returns only C# .NET related results.<br>\nIs there a DAL/DAO equivalent pattern in the Java world?\nAre there any reference implementations available?</p>\n"},{"tags":["java","design-patterns","jdbc","export","dao"],"answers":[{"tags":[],"owner":{"account_id":84846,"reputation":5030,"user_id":236936,"accept_rate":67,"display_name":"TrueDub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295001006,"creation_date":1295001006,"answer_id":4690098,"question_id":4690059,"body_markdown":"So you only process a given row once? You could mark that row as processed in the database, and only select on rows that are unprocessed. Alternatively, you could move processed rows to a different table.","title":"Streaming DAO Results in Java (Design Pattern)","body":"<p>So you only process a given row once? You could mark that row as processed in the database, and only select on rows that are unprocessed. Alternatively, you could move processed rows to a different table.</p>\n"},{"tags":[],"owner":{"account_id":28311,"reputation":4558,"user_id":75554,"accept_rate":60,"display_name":"Nuno Furtado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295001054,"creation_date":1295001054,"answer_id":4690104,"question_id":4690059,"body_markdown":"Best way is to do a paged query, you can either get a total count of rows and then choose a page size and use your database tools (rowid for oracle) to get the pages until you have all rows or you can just keep querying until you get no results.","title":"Streaming DAO Results in Java (Design Pattern)","body":"<p>Best way is to do a paged query, you can either get a total count of rows and then choose a page size and use your database tools (rowid for oracle) to get the pages until you have all rows or you can just keep querying until you get no results.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295001096,"creation_date":1295001096,"answer_id":4690111,"question_id":4690059,"body_markdown":"I&#39;d *never* return a `ResultSet` from a DAO, keep the data logic encapsulated in the data class.\r\n\r\nI&#39;d probably also never write a DAO method that returned the whole table, seems just a bit too generic. Instead I&#39;d probably write a DAO method called `dumpToFile(File f)` that did the whole job internally. This way the DAO can read records one at a time and write them to file.","title":"Streaming DAO Results in Java (Design Pattern)","body":"<p>I'd <em>never</em> return a <code>ResultSet</code> from a DAO, keep the data logic encapsulated in the data class.</p>\n\n<p>I'd probably also never write a DAO method that returned the whole table, seems just a bit too generic. Instead I'd probably write a DAO method called <code>dumpToFile(File f)</code> that did the whole job internally. This way the DAO can read records one at a time and write them to file.</p>\n"},{"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1295001379,"creation_date":1295001379,"answer_id":4690150,"question_id":4690059,"body_markdown":"Even if you exposed the results set, which you shouldn&#39;t, you still don&#39;t get streaming semantics by default. For that you need to do something like this:\r\n\r\n    stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n                  java.sql.ResultSet.CONCUR_READ_ONLY);\r\n    stmt.setFetchSize(Integer.MIN_VALUE);\r\n\r\n\r\nYou should encapsulate this within your DAO, you could return a custom iterator to process the results.\r\n\r\nSee the [mysql reference][2] on the topic of streaming results.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-implementation-notes.html\r\n  [2]: http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-implementation-notes.html","title":"Streaming DAO Results in Java (Design Pattern)","body":"<p>Even if you exposed the results set, which you shouldn't, you still don't get streaming semantics by default. For that you need to do something like this:</p>\n\n<pre><code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n              java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n\n<p>You should encapsulate this within your DAO, you could return a custom iterator to process the results.</p>\n\n<p>See the <a href=\"http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow\">mysql reference</a> on the topic of streaming results.</p>\n"}],"owner":{"account_id":41403,"reputation":2547,"user_id":120296,"accept_rate":67,"display_name":"david"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4690150,"answer_count":4,"score":0,"last_activity_date":1687744513,"creation_date":1295000709,"question_id":4690059,"body_markdown":"Given following situation:\r\n\r\n* DAO which queries all rows from a table and maps them to a list of domain objects (pure `JDBC`)\r\n* A service which processes the list resulting from the DAO and renders certain list elements formatted to a file.\r\n\r\nThe problem here is that all the DAO results are hold in memory which becomes dangerous as the tables grows.\r\n\r\n**Question:** Is there a pattern to read objects from a DAO in a streaming way that the service processes only one element at a time, writes it to the file output stream and then requests the next element from the result set? Is it in general a good idea to use a `ResultSet` as a return type of a DAO?","title":"Streaming DAO Results in Java (Design Pattern)","body":"<p>Given following situation:</p>\n\n<ul>\n<li>DAO which queries all rows from a table and maps them to a list of domain objects (pure <code>JDBC</code>)</li>\n<li>A service which processes the list resulting from the DAO and renders certain list elements formatted to a file.</li>\n</ul>\n\n<p>The problem here is that all the DAO results are hold in memory which becomes dangerous as the tables grows.</p>\n\n<p><strong>Question:</strong> Is there a pattern to read objects from a DAO in a streaming way that the service processes only one element at a time, writes it to the file output stream and then requests the next element from the result set? Is it in general a good idea to use a <code>ResultSet</code> as a return type of a DAO?</p>\n"},{"tags":["java","jpa","cdi","dao","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591034116,"creation_date":1591034116,"answer_id":62138066,"question_id":62105487,"body_markdown":"First of all, you may add the @Inject private EntityManager into your GenericDAO class, applying DRY concepts.\r\nThe usage of EntityManager and it&#39;s uniqueness will depend mainly of the scope chosen on you production methods. If you are sure all requests will be handled in a @RequestScoped environment, you may produce the EntityManager with this scope and all your DAOs will share the same bean as long they are at the same request. \r\n\r\nTo produce a EntityManager with a request scope, you may use a CDI bean and a producer field or method, such as:\r\n\r\n    @ApplicationScoped\r\n    public class EntityManagerProducer implements Serializable {\r\n    \r\n        @Produces\r\n        @RequestScoped\r\n        // @MyBusinessDatabase // A qualifier so you can select different databases\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n    }\r\n\r\nYou may also use a @Dependent pseudo-scope. In this case, each entityManager injected will be unique to the injected bean. Please check [this](https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#dependent_context) and [this](https://www.adam-bien.com/roller/abien/entry/what_is_dependent_scope). As EntityManager is a lightweight entity (when opposed to an EntityManagerFactory), there is little overhead in using such scope, and we have, as an advantage when compared to @RequestScoped beans, the possibility to use the same bean in non-request operations, such as asynchronous or automated server-side calls.\r\n\r\nI&#39;ve been using @Depended scoped entity managers for quite some time now, with different JPA implementations (Eclipselink and OpenJPA) without any issues but the ordinary optimistic lock exception when one given entity instance is updated by too many threads at the same time. When the case is critical, you may use a pessimistic approach to handle these cases.","title":"How to implement a generic DAO with the same Entity Manager in java EE 8","body":"<p>First of all, you may add the @Inject private EntityManager into your GenericDAO class, applying DRY concepts.\nThe usage of EntityManager and it's uniqueness will depend mainly of the scope chosen on you production methods. If you are sure all requests will be handled in a @RequestScoped environment, you may produce the EntityManager with this scope and all your DAOs will share the same bean as long they are at the same request. </p>\n\n<p>To produce a EntityManager with a request scope, you may use a CDI bean and a producer field or method, such as:</p>\n\n<pre><code>@ApplicationScoped\npublic class EntityManagerProducer implements Serializable {\n\n    @Produces\n    @RequestScoped\n    // @MyBusinessDatabase // A qualifier so you can select different databases\n    @PersistenceContext\n    private EntityManager entityManager;\n\n}\n</code></pre>\n\n<p>You may also use a @Dependent pseudo-scope. In this case, each entityManager injected will be unique to the injected bean. Please check <a href=\"https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#dependent_context\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.adam-bien.com/roller/abien/entry/what_is_dependent_scope\" rel=\"nofollow noreferrer\">this</a>. As EntityManager is a lightweight entity (when opposed to an EntityManagerFactory), there is little overhead in using such scope, and we have, as an advantage when compared to @RequestScoped beans, the possibility to use the same bean in non-request operations, such as asynchronous or automated server-side calls.</p>\n\n<p>I've been using @Depended scoped entity managers for quite some time now, with different JPA implementations (Eclipselink and OpenJPA) without any issues but the ordinary optimistic lock exception when one given entity instance is updated by too many threads at the same time. When the case is critical, you may use a pessimistic approach to handle these cases.</p>\n"}],"owner":{"account_id":6140966,"reputation":101,"user_id":4788404,"accept_rate":100,"display_name":"psilos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62138066,"answer_count":1,"score":0,"last_activity_date":1687744122,"creation_date":1590856253,"question_id":62105487,"body_markdown":"I&#39;m a begginer in Java EE and in JPA. In the past I have been creating a simple web-project, and I have implemented a generci DAO pattern without CDI, handling the Enitiry Manager.I know that diffrent EntityManager can use the same persistent context but because persistent context is a black box for me, I inject in the DAO constractor one EntityManager passing it as argument.I use this aproach for two reasons:\r\n\r\n 1. Seperate the operation that has to do with diffrent\r\n    entites.   \r\n 2. Deal with concurrency problems because all\r\n    operation will be handeld in the same EntityManager and\r\n    Trasanction\r\n\r\nHere is the code of generic DAO:\r\n\r\n**GenericDAO**\r\n\r\n    import java.util.List ;\r\n    import javax.persistence.EntityManager ;\r\n    import javax.persistence.Query ;\r\n\r\n    public abstract class GenericDAO&lt;T&gt; {\r\n\r\n        protected final Class&lt;T&gt; persistentClass;\r\n        protected final EntityManager em;\r\n\r\n        public GenericDAO(EntityManager em, Class&lt;T&gt; persistencClass) {\r\n            this.persistentClass = persistencClass;\r\n            this.em = em;\r\n        }\r\n\r\n        public List&lt;T&gt; find(int id) {\r\n            List&lt;T&gt; list;\r\n            Query query = em.createQuery(&quot;select e from &quot; + persistentClass.getSimpleName() + &quot; e&quot; + &quot; where e.id =:id&quot;).setParameter(&quot;id&quot;, id);\r\n            list = query.getResultList();\r\n            return list;\r\n        }\r\n\r\n        public List&lt;T&gt; findAll() {\r\n            List&lt;T&gt; list;\r\n            Query query = em.createQuery(&quot;select e from &quot; + persistentClass.getSimpleName() + &quot; e&quot;);\r\n            list = query.getResultList();\r\n            return list;\r\n        }\r\n\r\n        public void create(T entity) {\r\n            em.persist(entity);\r\n        }\r\n\r\n        public void edit(T entity) {\r\n            em.merge(entity);\r\n        }\r\n\r\n        public void remove(T entity) {\r\n            em.remove(em.merge(entity));\r\n        }\r\n    }\r\n\r\nActual implementation of generic DAO, code below:\r\n\r\n**UserDAOImpl**\r\n\r\n    import java.util.List;\r\n    import entities.User;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.Query;\r\n\r\n    public class UserDAOImpl extends GenericDAO&lt;User&gt; {\r\n         public UserDAOImpl(EntityManager em) {\r\n               super(em, User.class);\r\n         } \r\n    }\r\n\r\n**TagDAOImpl**\r\n    \r\n    import entities.Tag ;\r\n    import java.util.List ;\r\n    import javax.persistence.EntityManager ;\r\n    import javax.persistence.Query ;\r\n\r\n    public class TagDAOImpl extends GenericDAO&lt;Tag&gt; {\r\n\r\n        public TagDAOImpl(EntityManager em) {\r\n            super(em, Tag.class);\r\n        }\r\n    }\r\n\r\nNow I want to implement the same pattern using Java EE injection of EntityManager. After a good search I  found out the same solution like the below:\r\n\r\n**GenericDAO In Java ee**\r\n\r\n        public abstract class BaseDAO&lt;T extends AbstractEntity&gt; {\r\n\r\n        private Class&lt;T&gt; entityClass() {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            ParameterizedType parameterizedType = (ParameterizedType) this.getClass().getGenericSuperclass();\r\n            return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[0];\r\n        }\r\n\r\n        protected abstract EntityManager entityManager();\r\n\r\n        private final String SELECT_ALL = &quot;SELECT e FROM &quot;;\r\n        private final String SELECT_COUNT = &quot;SELECT COUNT(e) FROM &quot;;\r\n        private final String INSTANCE = &quot; e&quot;;\r\n\r\n        public List&lt;T&gt; findAll() {\r\n            return entityManager()\r\n                    .createQuery(SELECT_ALL + entityClass().getSimpleName() + INSTANCE)\r\n                    .getResultList();\r\n        }\r\n\r\n        public Long count() {\r\n            Object resulet = entityManager()\r\n                    .createQuery(SELECT_COUNT + entityClass().getSimpleName() + INSTANCE)\r\n                    .getSingleResult();\r\n            return (Long) resulet;\r\n        }\r\n    }\r\n\r\nActual implementation of generic DAO in Java ee, code below:\r\n\r\n**UserDAO**\r\n\r\n    @Stateless\r\n    public class UserDAO extends BaseDAO&lt;User&gt; {\r\n\r\n        @Inject\r\n        protected EntityManager entityManger;\r\n\r\n        @Override\r\n        protected EntityManager entityManager() {\r\n            return this.entityManger;\r\n        }\r\n    }\r\n\r\n**TagDAO**\r\n\r\n    @Stateless\r\n    public class TagDAO extends BaseDAO&lt;Tag&gt; {\r\n\r\n        @Inject\r\n        protected EntityManager entityManger;\r\n\r\n        @Override\r\n        protected EntityManager entityManager() {\r\n            return this.entityManger;\r\n        }\r\n\r\n    }\r\n\r\nMy problem here is that if I inject EntityManager in UserDAO and TagDAO, I have two diffrent instances of EntityManager. Will this be a problem if I want to persist a user and update a tag? Can I have such an example? Including the advantages and disadvantages.\r\n\r\n","title":"How to implement a generic DAO with the same Entity Manager in java EE 8","body":"<p>I'm a begginer in Java EE and in JPA. In the past I have been creating a simple web-project, and I have implemented a generci DAO pattern without CDI, handling the Enitiry Manager.I know that diffrent EntityManager can use the same persistent context but because persistent context is a black box for me, I inject in the DAO constractor one EntityManager passing it as argument.I use this aproach for two reasons:</p>\n\n<ol>\n<li>Seperate the operation that has to do with diffrent\nentites.   </li>\n<li>Deal with concurrency problems because all\noperation will be handeld in the same EntityManager and\nTrasanction</li>\n</ol>\n\n<p>Here is the code of generic DAO:</p>\n\n<p><strong>GenericDAO</strong></p>\n\n<pre><code>import java.util.List ;\nimport javax.persistence.EntityManager ;\nimport javax.persistence.Query ;\n\npublic abstract class GenericDAO&lt;T&gt; {\n\n    protected final Class&lt;T&gt; persistentClass;\n    protected final EntityManager em;\n\n    public GenericDAO(EntityManager em, Class&lt;T&gt; persistencClass) {\n        this.persistentClass = persistencClass;\n        this.em = em;\n    }\n\n    public List&lt;T&gt; find(int id) {\n        List&lt;T&gt; list;\n        Query query = em.createQuery(\"select e from \" + persistentClass.getSimpleName() + \" e\" + \" where e.id =:id\").setParameter(\"id\", id);\n        list = query.getResultList();\n        return list;\n    }\n\n    public List&lt;T&gt; findAll() {\n        List&lt;T&gt; list;\n        Query query = em.createQuery(\"select e from \" + persistentClass.getSimpleName() + \" e\");\n        list = query.getResultList();\n        return list;\n    }\n\n    public void create(T entity) {\n        em.persist(entity);\n    }\n\n    public void edit(T entity) {\n        em.merge(entity);\n    }\n\n    public void remove(T entity) {\n        em.remove(em.merge(entity));\n    }\n}\n</code></pre>\n\n<p>Actual implementation of generic DAO, code below:</p>\n\n<p><strong>UserDAOImpl</strong></p>\n\n<pre><code>import java.util.List;\nimport entities.User;\nimport javax.persistence.EntityManager;\nimport javax.persistence.Query;\n\npublic class UserDAOImpl extends GenericDAO&lt;User&gt; {\n     public UserDAOImpl(EntityManager em) {\n           super(em, User.class);\n     } \n}\n</code></pre>\n\n<p><strong>TagDAOImpl</strong></p>\n\n<pre><code>import entities.Tag ;\nimport java.util.List ;\nimport javax.persistence.EntityManager ;\nimport javax.persistence.Query ;\n\npublic class TagDAOImpl extends GenericDAO&lt;Tag&gt; {\n\n    public TagDAOImpl(EntityManager em) {\n        super(em, Tag.class);\n    }\n}\n</code></pre>\n\n<p>Now I want to implement the same pattern using Java EE injection of EntityManager. After a good search I  found out the same solution like the below:</p>\n\n<p><strong>GenericDAO In Java ee</strong></p>\n\n<pre><code>    public abstract class BaseDAO&lt;T extends AbstractEntity&gt; {\n\n    private Class&lt;T&gt; entityClass() {\n        @SuppressWarnings(\"unchecked\")\n        ParameterizedType parameterizedType = (ParameterizedType) this.getClass().getGenericSuperclass();\n        return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[0];\n    }\n\n    protected abstract EntityManager entityManager();\n\n    private final String SELECT_ALL = \"SELECT e FROM \";\n    private final String SELECT_COUNT = \"SELECT COUNT(e) FROM \";\n    private final String INSTANCE = \" e\";\n\n    public List&lt;T&gt; findAll() {\n        return entityManager()\n                .createQuery(SELECT_ALL + entityClass().getSimpleName() + INSTANCE)\n                .getResultList();\n    }\n\n    public Long count() {\n        Object resulet = entityManager()\n                .createQuery(SELECT_COUNT + entityClass().getSimpleName() + INSTANCE)\n                .getSingleResult();\n        return (Long) resulet;\n    }\n}\n</code></pre>\n\n<p>Actual implementation of generic DAO in Java ee, code below:</p>\n\n<p><strong>UserDAO</strong></p>\n\n<pre><code>@Stateless\npublic class UserDAO extends BaseDAO&lt;User&gt; {\n\n    @Inject\n    protected EntityManager entityManger;\n\n    @Override\n    protected EntityManager entityManager() {\n        return this.entityManger;\n    }\n}\n</code></pre>\n\n<p><strong>TagDAO</strong></p>\n\n<pre><code>@Stateless\npublic class TagDAO extends BaseDAO&lt;Tag&gt; {\n\n    @Inject\n    protected EntityManager entityManger;\n\n    @Override\n    protected EntityManager entityManager() {\n        return this.entityManger;\n    }\n\n}\n</code></pre>\n\n<p>My problem here is that if I inject EntityManager in UserDAO and TagDAO, I have two diffrent instances of EntityManager. Will this be a problem if I want to persist a user and update a tag? Can I have such an example? Including the advantages and disadvantages.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":2,"creation_date":1583684332,"post_id":60589414,"comment_id":107191951,"body_markdown":"Just a little note: *&quot;I want to use generics as much as possible&quot;* should be rather &quot;*I want to use generics as much as **reasonable***&quot;.","body":"Just a little note: <i>&quot;I want to use generics as much as possible&quot;</i> should be rather &quot;<i>I want to use generics as much as <b>reasonable</i></b>&quot;."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1583684611,"post_id":60589414,"comment_id":107192027,"body_markdown":"Another note: This question is rather for [code review](https://codereview.stackexchange.com/) or for [software engineering](https://softwareengineering.stackexchange.com/).","body":"Another note: This question is rather for <a href=\"https://codereview.stackexchange.com/\">code review</a> or for <a href=\"https://softwareengineering.stackexchange.com/\">software engineering</a>."},{"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"score":0,"creation_date":1583684632,"post_id":60589414,"comment_id":107192031,"body_markdown":"Yeah, as much as reasonable. I just want to avoid to write code in my all classes for update, delete, get etc.","body":"Yeah, as much as reasonable. I just want to avoid to write code in my all classes for update, delete, get etc."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":1,"creation_date":1583685068,"post_id":60589414,"comment_id":107192160,"body_markdown":"Have you looked at GORM - from Grails? If I had the freedom to choose from a Java based platform I&#39;d go for that instead. (Google Burt Beckwith - his blog - something like &quot;An Army of Solopsists&quot;)","body":"Have you looked at GORM - from Grails? If I had the freedom to choose from a Java based platform I&#39;d go for that instead. (Google Burt Beckwith - his blog - something like &quot;An Army of Solopsists&quot;)"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1583690298,"post_id":60589414,"comment_id":107193641,"body_markdown":"@JGFMK, people stopped using Groovy years ago. They are back to Java now. Though there are still some folks who are looking for miracles (Kotlin).","body":"@JGFMK, people stopped using Groovy years ago. They are back to Java now. Though there are still some folks who are looking for miracles (Kotlin)."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1583690303,"post_id":60589414,"comment_id":107193645,"body_markdown":"@John R. - bad motivation, bad approach, bad code. If you want to keep doing this - at least use bad frameworks (Spring Data). They already implemented such idea. But better - read a book on good old Domain Driven Design.","body":"@John R. - bad motivation, bad approach, bad code. If you want to keep doing this - at least use bad frameworks (Spring Data). They already implemented such idea. But better - read a book on good old Domain Driven Design."},{"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"score":0,"creation_date":1583690821,"post_id":60589414,"comment_id":107193769,"body_markdown":"@StanislavBashkyrtsev any arguments for your answer? Without arguments your answer is not useful at all.","body":"@StanislavBashkyrtsev any arguments for your answer? Without arguments your answer is not useful at all."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1583694038,"post_id":60589414,"comment_id":107194595,"body_markdown":"@JohnR., yeah first I tried to write a full answer with arguments and all, but that answer would&#39;ve been either too long or too short. This topic is broad and opinionated. And I personally went through the same stage as you 10 years ago, so my emotions overwhelm me :) Anyway, I gave you 2 directions - either use the existing tool that already implements your ideas (it&#39;s very popular nowadays), or read the book. Or both.","body":"@JohnR., yeah first I tried to write a full answer with arguments and all, but that answer would&#39;ve been either too long or too short. This topic is broad and opinionated. And I personally went through the same stage as you 10 years ago, so my emotions overwhelm me :) Anyway, I gave you 2 directions - either use the existing tool that already implements your ideas (it&#39;s very popular nowadays), or read the book. Or both."},{"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"score":0,"creation_date":1583695549,"post_id":60589414,"comment_id":107194999,"body_markdown":"I want to use just Java and Hibernate, without any other frameworks.","body":"I want to use just Java and Hibernate, without any other frameworks."},{"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"score":0,"creation_date":1583737018,"post_id":60589414,"comment_id":107203413,"body_markdown":"So, you say it is better to rewrite &#238;n every Dao class methods for get, save, update etc?","body":"So, you say it is better to rewrite &#238;n every Dao class methods for get, save, update etc?"}],"owner":{"account_id":1701542,"reputation":420,"user_id":1561464,"display_name":"John R."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687744065,"creation_date":1583684058,"question_id":60589414,"body_markdown":"I am trying to create a good pattern for my application. I want to reduce as much as possible the duplicate code and I want to use generics as much as possible. I have created a pattern for this but I want to know is there anything wrong with the code or  if is there any other better pattern already made for this.\r\n\r\nBaseDao interface: \r\n\r\n    public interface BaseDao&lt;T extends DTO&gt; {\r\n    \r\n        List&lt;T&gt; fetchAll();\r\n    \r\n    }\r\nBaseImplementetion: all the DAO classes will extend this class.\r\n\r\n    public abstract class BaseDaoImpl&lt;T extends DTO&gt; implements BaseDao {\r\n    \r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        public BaseDaoImpl(Class&lt;T&gt; clazz) {\r\n    \tthis.clazz = clazz;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public List&lt;T&gt; fetchAll() {\r\n    \r\n    \tList&lt;T&gt; entities = null;\r\n    \tSession session = null;\r\n    \ttry {\r\n    \t    session = doOpenSession();\r\n    \t    Query&lt;T&gt; query = session.createQuery(&quot;from &quot; + clazz.getName());\r\n    \t    entities = query.list();\r\n    \t} catch (Exception e) {\r\n    \t    throw e;\r\n    \t} finally {\r\n    \t    session.close();\r\n    \t}\r\n    \treturn entities;\r\n        }\r\n\r\nUserDao interface:\r\n\r\n    public interface UserDao extends BaseDao{\r\n        User getUserByUsername(String username);\r\n    }\r\n\r\nUserDao implementation:\r\n\r\n    public class UserDaoImpl extends BaseDaoImpl&lt;User&gt; implements UserDao{\r\n    \r\n        public UserDaoImpl() {\r\n    \tthis(User.class);\r\n        }\r\n        private UserDaoImpl(Class&lt;User&gt; clazz) {\r\n    \tsuper(clazz);\r\n        }\r\n    \r\n        public User getUserByUsername(String name) {\r\n    \r\n    \tUser user = null;\r\n    \ttry (Session session = HibernateUtils.getSessionFactory().openSession()) {\r\n    \t    String hql = &quot;FROM User u WHERE u.username = :name&quot;;\r\n    \t    Query&lt;User&gt; query = session.createQuery(hql).setMaxResults(1);\r\n    \t    query.setParameter(&quot;name&quot;, name);\r\n    \t    user = query.uniqueResult();\r\n    \t}\r\n    \treturn user;\r\n        }\r\n    }\r\n\r\nPS: So, I want to create all the basic operations (add, save, update, getAll etc) in my BaseDaoImpl and after that all the DAO classes to inherit the class. \r\n\r\nDo you think this approach can bring me problems latter?","title":"Dao pattern Java and Hibernate","body":"<p>I am trying to create a good pattern for my application. I want to reduce as much as possible the duplicate code and I want to use generics as much as possible. I have created a pattern for this but I want to know is there anything wrong with the code or  if is there any other better pattern already made for this.</p>\n\n<p>BaseDao interface: </p>\n\n<pre><code>public interface BaseDao&lt;T extends DTO&gt; {\n\n    List&lt;T&gt; fetchAll();\n\n}\n</code></pre>\n\n<p>BaseImplementetion: all the DAO classes will extend this class.</p>\n\n<pre><code>public abstract class BaseDaoImpl&lt;T extends DTO&gt; implements BaseDao {\n\n    private Class&lt;T&gt; clazz;\n\n    public BaseDaoImpl(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n\n    }\n\n    @Override\n    public List&lt;T&gt; fetchAll() {\n\n    List&lt;T&gt; entities = null;\n    Session session = null;\n    try {\n        session = doOpenSession();\n        Query&lt;T&gt; query = session.createQuery(\"from \" + clazz.getName());\n        entities = query.list();\n    } catch (Exception e) {\n        throw e;\n    } finally {\n        session.close();\n    }\n    return entities;\n    }\n</code></pre>\n\n<p>UserDao interface:</p>\n\n<pre><code>public interface UserDao extends BaseDao{\n    User getUserByUsername(String username);\n}\n</code></pre>\n\n<p>UserDao implementation:</p>\n\n<pre><code>public class UserDaoImpl extends BaseDaoImpl&lt;User&gt; implements UserDao{\n\n    public UserDaoImpl() {\n    this(User.class);\n    }\n    private UserDaoImpl(Class&lt;User&gt; clazz) {\n    super(clazz);\n    }\n\n    public User getUserByUsername(String name) {\n\n    User user = null;\n    try (Session session = HibernateUtils.getSessionFactory().openSession()) {\n        String hql = \"FROM User u WHERE u.username = :name\";\n        Query&lt;User&gt; query = session.createQuery(hql).setMaxResults(1);\n        query.setParameter(\"name\", name);\n        user = query.uniqueResult();\n    }\n    return user;\n    }\n}\n</code></pre>\n\n<p>PS: So, I want to create all the basic operations (add, save, update, getAll etc) in my BaseDaoImpl and after that all the DAO classes to inherit the class. </p>\n\n<p>Do you think this approach can bring me problems latter?</p>\n"},{"tags":["java","android","maven","gradle","dependencies"],"answers":[{"tags":[],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687736647,"creation_date":1687736647,"answer_id":76552829,"question_id":76552822,"body_markdown":"NVM, figured it out. I used double quotes instead of single. Silly me. Correct import should be:\r\n\r\n    implementation &#39;org.jetbrains.anko:anko-common:0.8.3&#39;\r\n\r\n","title":"Gradle unable to find dependency","body":"<p>NVM, figured it out. I used double quotes instead of single. Silly me. Correct import should be:</p>\n<pre><code>implementation 'org.jetbrains.anko:anko-common:0.8.3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687743654,"creation_date":1687743654,"answer_id":76553077,"question_id":76552822,"body_markdown":"that artifact is provide by &#39;Spring plugin&#39; or &#39;Spring Lib M&#39;.\r\nso you have to add repository.\r\n\r\nOr, other version use.\r\nother version(0.10.8) is exist JCenter repo.","title":"Gradle unable to find dependency","body":"<p>that artifact is provide by 'Spring plugin' or 'Spring Lib M'.\nso you have to add repository.</p>\n<p>Or, other version use.\nother version(0.10.8) is exist JCenter repo.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687743654,"creation_date":1687736553,"question_id":76552822,"body_markdown":"Previously before I wiped my computer, I had a gradle setup that worked perfectly fine (android studio). I reset my computer, pulled the same project, and gradle was unable to find a certain dependency. It shows a valid on maven repositories: https://mvnrepository.com/artifact/org.jetbrains.anko/anko-common/0.8.3\r\n\r\n\r\nThis is what my gradle looks like: \r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n    }\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    android {\r\n    \r\n        compileSdkVersion 33\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        configurations.all {\r\n            resolutionStrategy { force &#39;androidx.core:core-ktx:1.6.0&#39; }\r\n        }\r\n        defaultConfig {\r\n            applicationId &quot;com.{redacted}&quot;\r\n            minSdkVersion 28\r\n            targetSdkVersion 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            manifestPlaceholders = [auth0Domain: &quot;@string/com_auth0_domain&quot;, auth0Scheme: &quot;@string/com_auth0_scheme&quot;]\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables {\r\n                useSupportLibrary true\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n            compose true\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n        namespace &#39;com.{redacted}&#39;\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;commons-codec:commons-codec:1.3&#39;\r\n        implementation &#39;com.auth0.android:auth0:2.9.3&#39;\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.diegodobelo.expandingview:expanding-view:0.9.4&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation(&#39;com.googlecode.json-simple:json-simple:1.1.1&#39;) {\r\n            exclude group: &#39;org.hamcrest&#39;, module: &#39;hamcrest-core&#39;\r\n        }\r\n        implementation &#39;androidx.navigation:navigation-fragment-ktx:2.5.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui-ktx:2.5.3&#39;\r\n        implementation &#39;org.chromium.net:cronet-embedded:108.5359.79&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n        implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.google.android.things:androidthings:1.0&#39;\r\n        implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n        implementation files(file(&#39;../libs/emv-anet-sdk.aar&#39;).absolutePath)\r\n        implementation &#39;org.apache:apache:29&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;\r\n        implementation &#39;androidx.activity:activity-compose:1.5.1&#39;\r\n        implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        implementation &#39;androidx.compose.ui:ui&#39;\r\n        implementation &#39;androidx.compose.ui:ui-graphics&#39;\r\n        implementation &#39;androidx.compose.ui:ui-tooling-preview&#39;\r\n        implementation &#39;androidx.compose.material3:material3&#39;\r\n        implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        implementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &quot;org.jetbrains.anko:anko-commons:0.8.3&quot;\r\n        implementation &#39;com.github.felHR85:UsbSerial:6.1.0&#39;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n        implementation &#39;com.github.jaiselrahman:FilePicker:1.3.2&#39;\r\n        implementation(platform(&#39;com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11&#39;))\r\n        implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n        implementation(&#39;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11&#39;)\r\n        implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.11&#39;\r\n        implementation &#39;com.github.davidmigloz:number-keyboard:3.1.0&#39;\r\n        androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n        androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n        debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n\r\nGradle Error:\r\n\r\n    Could not find org.jetbrains.anko:anko-commons:0.8.3.\r\n    Required by:\r\n        project :app","title":"Gradle unable to find dependency","body":"<p>Previously before I wiped my computer, I had a gradle setup that worked perfectly fine (android studio). I reset my computer, pulled the same project, and gradle was unable to find a certain dependency. It shows a valid on maven repositories: <a href=\"https://mvnrepository.com/artifact/org.jetbrains.anko/anko-common/0.8.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.anko/anko-common/0.8.3</a></p>\n<p>This is what my gradle looks like:</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\napply plugin: 'kotlin-android'\n\nandroid {\n\n    compileSdkVersion 33\n    buildToolsVersion &quot;30.0.3&quot;\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    configurations.all {\n        resolutionStrategy { force 'androidx.core:core-ktx:1.6.0' }\n    }\n    defaultConfig {\n        applicationId &quot;com.{redacted}&quot;\n        minSdkVersion 28\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        manifestPlaceholders = [auth0Domain: &quot;@string/com_auth0_domain&quot;, auth0Scheme: &quot;@string/com_auth0_scheme&quot;]\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildFeatures {\n        viewBinding true\n        compose true\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    namespace 'com.{redacted}'\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n    implementation 'commons-codec:commons-codec:1.3'\n    implementation 'com.auth0.android:auth0:2.9.3'\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.diegodobelo.expandingview:expanding-view:0.9.4'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation('com.googlecode.json-simple:json-simple:1.1.1') {\n        exclude group: 'org.hamcrest', module: 'hamcrest-core'\n    }\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\n    implementation 'org.chromium.net:cronet-embedded:108.5359.79'\n    implementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.2'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.things:androidthings:1.0'\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation files(file('../libs/emv-anet-sdk.aar').absolutePath)\n    implementation 'org.apache:apache:29'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\n    implementation 'androidx.activity:activity-compose:1.5.1'\n    implementation platform('androidx.compose:compose-bom:2022.10.00')\n    implementation 'androidx.compose.ui:ui'\n    implementation 'androidx.compose.ui:ui-graphics'\n    implementation 'androidx.compose.ui:ui-tooling-preview'\n    implementation 'androidx.compose.material3:material3'\n    implementation platform('androidx.compose:compose-bom:2022.10.00')\n    implementation platform('androidx.compose:compose-bom:2022.10.00')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation &quot;org.jetbrains.anko:anko-commons:0.8.3&quot;\n    implementation 'com.github.felHR85:UsbSerial:6.1.0'\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n    implementation 'com.github.jaiselrahman:FilePicker:1.3.2'\n    implementation(platform('com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11'))\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\n    implementation('com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11')\n    implementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.11'\n    implementation 'com.github.davidmigloz:number-keyboard:3.1.0'\n    androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n    androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n    androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n    androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n    debugImplementation 'androidx.compose.ui:ui-tooling'\n    debugImplementation 'androidx.compose.ui:ui-test-manifest'\n}\n\nrepositories {\n    mavenCentral()\n    maven { url &quot;https://jitpack.io&quot; }\n}\n</code></pre>\n<p>Gradle Error:</p>\n<pre><code>Could not find org.jetbrains.anko:anko-commons:0.8.3.\nRequired by:\n    project :app\n</code></pre>\n"},{"tags":["java","linux","keyboard","tty"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687811224,"post_id":76552936,"comment_id":134986156,"body_markdown":"If I understand your question correctly, you want the functionality of using key scan codes. But, unless you use a GUI, Java offers no support for that. You might get some help from answers to [How can I get the keyboard scan code in java?](https://stackoverflow.com/questions/17255549/how-can-i-get-the-keyboard-scan-code-in-java) or similar questions.","body":"If I understand your question correctly, you want the functionality of using key scan codes. But, unless you use a GUI, Java offers no support for that. You might get some help from answers to <a href=\"https://stackoverflow.com/questions/17255549/how-can-i-get-the-keyboard-scan-code-in-java\">How can I get the keyboard scan code in java?</a> or similar questions."}],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687740124,"creation_date":1687740124,"question_id":76552936,"body_markdown":"First and foremost: I don&#39;t have and don&#39;t want a display protocol. I am just using Linux&#39;s `tty` (specifically in [Tiny Core Linux](http://www.tinycorelinux.net/) but I don&#39;t believe this is of significant importance)\r\n\r\nTo test if what I am trying to achieve is even possible, I looked through various libraries in all kinds of languages, most of them need a display protocol or didn&#39;t recognize modifier keys.  \r\nAfter a lot of searching I found the [keyboard](https://pypi.org/project/keyboard/) module in python (which worked after building `kbd` from source).  \r\nIt is pretty much exactly what I was looking for, every key press is recognized, even from modifier keys (the exception is the `fn` key of course).\r\n\r\nThe only problem is that it is the wrong programming language. Is there any comparable module for Java that works without GUI? I am also open to hints on how one would implement such thing if there isn&#39;t any library for it.","title":"How to detect modifier keys in a tty?","body":"<p>First and foremost: I don't have and don't want a display protocol. I am just using Linux's <code>tty</code> (specifically in <a href=\"http://www.tinycorelinux.net/\" rel=\"nofollow noreferrer\">Tiny Core Linux</a> but I don't believe this is of significant importance)</p>\n<p>To test if what I am trying to achieve is even possible, I looked through various libraries in all kinds of languages, most of them need a display protocol or didn't recognize modifier keys.<br />\nAfter a lot of searching I found the <a href=\"https://pypi.org/project/keyboard/\" rel=\"nofollow noreferrer\">keyboard</a> module in python (which worked after building <code>kbd</code> from source).<br />\nIt is pretty much exactly what I was looking for, every key press is recognized, even from modifier keys (the exception is the <code>fn</code> key of course).</p>\n<p>The only problem is that it is the wrong programming language. Is there any comparable module for Java that works without GUI? I am also open to hints on how one would implement such thing if there isn't any library for it.</p>\n"},{"tags":["java","android","fileinputstream","mapsforge"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687758851,"post_id":76552761,"comment_id":134975810,"body_markdown":"Try mapf.exists() and mapf.canRead() before opening the stream.","body":"Try mapf.exists() and mapf.canRead() before opening the stream."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687758947,"post_id":76552761,"comment_id":134975822,"body_markdown":"`the user has to choose the map file on each startup:` If it is the same map file then that is not needed.","body":"<code>the user has to choose the map file on each startup:</code> If it is the same map file then that is not needed."}],"owner":{"account_id":28893857,"reputation":1,"user_id":22130345,"display_name":"krontor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687735021,"creation_date":1687735021,"question_id":76552761,"body_markdown":"I&#39;m working on an app centered around a Mapsforge map.\r\n\r\nThe map loads fine with those relevant parts from an example app, but the user has to choose the map file on each startup:\r\n\r\n```\r\nprivate static final int SELECT_MAP_FILE = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n[..]\r\n\r\n        Intent intent = new Intent(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT ?\r\n        Intent.ACTION_OPEN_DOCUMENT : Intent.ACTION_GET_CONTENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;*/*&quot;);\r\n        startActivityForResult(intent, SELECT_MAP_FILE);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n       if (requestCode == SELECT_MAP_FILE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            if (data != null) {\r\n                Uri uri = data.getData();\r\n            openMap(uri);\r\n          }\r\n       }\r\n    }\r\n\r\n    private void openMap(Uri uri) {\r\n        try {\r\n[..]\r\n            FileInputStream fis = (FileInputStream) getContentResolver().openInputStream(uri);\r\n            MapDataStore mapDataStore = new MapFile(fis);\r\n```\r\n\r\n\r\n\r\nNow I want to replace all that with a line or two that lets me load a map file from a known location in the apps own data directory, tried this\r\n```\r\nFile mapf = new File(this.getFilesDir(), &quot;region.map&quot;);\r\nFileInputStream fis = new FileInputStream(File mapf);\r\n```\r\nor\r\n`FileInputStream fis = this.openFileInput(&quot;region.map&quot;);`\r\nbut it just doesn&#39;t work, even if it compiles.\r\n\r\nFrom what I read one shouldn&#39;t need any permissions to access the apps own data, so what am I missing to get a simple, working FileInputStream?\r\n\r\n(Currently it&#39;s all tested in the Android Studio Emulator and the region.map was placed there manually, once I can use it from there I will deal with placing the file there from assets if it doesn&#39;t exist.)","title":"Android: open FileInputStream from apps own data directory in Java","body":"<p>I'm working on an app centered around a Mapsforge map.</p>\n<p>The map loads fine with those relevant parts from an example app, but the user has to choose the map file on each startup:</p>\n<pre><code>private static final int SELECT_MAP_FILE = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n[..]\n\n        Intent intent = new Intent(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT ?\n        Intent.ACTION_OPEN_DOCUMENT : Intent.ACTION_GET_CONTENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;*/*&quot;);\n        startActivityForResult(intent, SELECT_MAP_FILE);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n       if (requestCode == SELECT_MAP_FILE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            if (data != null) {\n                Uri uri = data.getData();\n            openMap(uri);\n          }\n       }\n    }\n\n    private void openMap(Uri uri) {\n        try {\n[..]\n            FileInputStream fis = (FileInputStream) getContentResolver().openInputStream(uri);\n            MapDataStore mapDataStore = new MapFile(fis);\n</code></pre>\n<p>Now I want to replace all that with a line or two that lets me load a map file from a known location in the apps own data directory, tried this</p>\n<pre><code>File mapf = new File(this.getFilesDir(), &quot;region.map&quot;);\nFileInputStream fis = new FileInputStream(File mapf);\n</code></pre>\n<p>or\n<code>FileInputStream fis = this.openFileInput(&quot;region.map&quot;);</code>\nbut it just doesn't work, even if it compiles.</p>\n<p>From what I read one shouldn't need any permissions to access the apps own data, so what am I missing to get a simple, working FileInputStream?</p>\n<p>(Currently it's all tested in the Android Studio Emulator and the region.map was placed there manually, once I can use it from there I will deal with placing the file there from assets if it doesn't exist.)</p>\n"},{"tags":["java","spring-boot","docker","build.gradle"],"comments":[{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":0,"creation_date":1687737259,"post_id":76552736,"comment_id":134974046,"body_markdown":"I think there is nothing to do with Docker here, you can just run your jar/war by issuing &#39;java -jar &lt;file_name&gt;&#39;, am sure you can replicate this issue without Docker in your local. To me its looking more like a packaging issue in your build file. May be plugin misconfiguration. Surely nothing related to Docker. May be its working fine in your IDE, thats why you have a feeling like its working fine in your local. Try running in local from the generated artefact.","body":"I think there is nothing to do with Docker here, you can just run your jar/war by issuing &#39;java -jar &lt;file_name&gt;&#39;, am sure you can replicate this issue without Docker in your local. To me its looking more like a packaging issue in your build file. May be plugin misconfiguration. Surely nothing related to Docker. May be its working fine in your IDE, thats why you have a feeling like its working fine in your local. Try running in local from the generated artefact."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687763397,"post_id":76552736,"comment_id":134976542,"body_markdown":"Remove the jar tasks. You shold use the Spring Boot plugin to create the jar, which it will automatically do if you do `gradlew build`, your `jar` task configuration is messing things up for this. Finally use `-jar` to run your jar not `-cp` `CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;fraud-detection-service-1.0.jar&quot;]` the jar itself is executable and you are bypassing this again.","body":"Remove the jar tasks. You shold use the Spring Boot plugin to create the jar, which it will automatically do if you do <code>gradlew build</code>, your <code>jar</code> task configuration is messing things up for this. Finally use <code>-jar</code> to run your jar not <code>-cp</code> <code>CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;fraud-detection-service-1.0.jar&quot;]</code> the jar itself is executable and you are bypassing this again."}],"owner":{"account_id":18103157,"reputation":1,"user_id":13160760,"display_name":"Rudy Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687734917,"creation_date":1687734499,"question_id":76552736,"body_markdown":"I have a Spring application that I want to Dockerize. I created the Docker image and tried running it, but it won&#39;t start. It seems it can&#39;t find my dependencies. This works totally fine locally on my machine, but I&#39;m having trouble running it in Docker.\r\n\r\nThe error I receive when running the image:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n        at com.App.main(App.java:11)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n```\r\n\r\n`App.java`:\r\n```\r\npackage com;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration;\r\n\r\n@SpringBootApplication(exclude = JacksonAutoConfiguration.class)\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(App.class, args);\r\n    }\r\n}\r\n```\r\n\r\nHere is my `Dockerfile`:\r\n```\r\n# Use a base image with a Java runtime environment\r\nFROM adoptopenjdk:11-jre-hotspot\r\n\r\n# Set the working directory inside the container\r\nWORKDIR /app\r\n\r\n# Copy the JAR file into the container\r\nCOPY app/build/libs/fraud-detection-service-1.0.jar .\r\n\r\n# Set the command to run your application\r\nCMD [&quot;java&quot;, &quot;-cp&quot;, &quot;fraud-detection-service-1.0.jar&quot;, &quot;com.App&quot;]\r\n```\r\n\r\n\r\nHere is my `build.gradle.kts`:\r\n```\r\nplugins {\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.5.5&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\r\n    kotlin(&quot;jvm&quot;) version &quot;1.5.31&quot;\r\n    id(&quot;jacoco&quot;)\r\n    id(&quot;scala&quot;)\r\n    id(&quot;org.jetbrains.dokka&quot;) version &quot;1.4.32&quot;\r\n}\r\n\r\ngroup = &quot;com&quot;\r\nversion = &quot;1.0&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_11\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    maven(&quot;https://jitpack.io&quot;)\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\r\n    implementation(&quot;org.apache.httpcomponents:httpclient&quot;)\r\n    implementation(&quot;com.github.everit-org.json-schema:org.everit.json.schema:1.11.1&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-api:1.7.32&quot;)\r\n    implementation(&quot;ch.qos.logback:logback-classic:1.2.6&quot;)\r\n\r\n    testImplementation(&quot;io.gatling.highcharts:gatling-charts-highcharts:3.7.0&quot;)\r\n    testImplementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.0&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.7.2&quot;)\r\n    testImplementation(&quot;com.github.tomakehurst:wiremock-jre8:2.31.0&quot;)\r\n    testImplementation(&quot;org.mockito:mockito-core:3.12.4&quot;)\r\n    testImplementation(&quot;org.mockito:mockito-junit-jupiter:3.12.4&quot;)\r\n    testImplementation(&quot;org.powermock:powermock-api-mockito2:2.0.9&quot;)\r\n    testImplementation(&quot;org.powermock:powermock-module-junit4:2.0.9&quot;)\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n        exclude(group = &quot;org.junit.vintage&quot;, module = &quot;junit-vintage-engine&quot;)\r\n    }\r\n}\r\n\r\ntasks.withType&lt;JavaCompile&gt; {\r\n    options.encoding = &quot;UTF-8&quot;\r\n}\r\n\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.java.server.App&quot;\r\n    }\r\n}\r\n\r\n... removed some test configuration ...\r\n\r\n\r\nval jarVersion: String by project\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.App&quot;\r\n    }\r\n    archiveFileName.set(&quot;fraud-detection-service-$version.jar&quot;)\r\n}\r\n\r\n```\r\n\r\nOther people have had this problem before, which seems to be a dependency-related issue, but none of the other suggestions have worked for me.\r\n\r\nSome have suggested using the `spring-boot-maven-plugin`, which didn&#39;t seem to work for me (or maybe I&#39;m not implementing it properly). Others have proposed upgrading/downgrading my Spring Boot version as well.","title":"Trouble building JAR with Spring dependencies for Docker","body":"<p>I have a Spring application that I want to Dockerize. I created the Docker image and tried running it, but it won't start. It seems it can't find my dependencies. This works totally fine locally on my machine, but I'm having trouble running it in Docker.</p>\n<p>The error I receive when running the image:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n        at com.App.main(App.java:11)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p><code>App.java</code>:</p>\n<pre><code>package com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration;\n\n@SpringBootApplication(exclude = JacksonAutoConfiguration.class)\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p>Here is my <code>Dockerfile</code>:</p>\n<pre><code># Use a base image with a Java runtime environment\nFROM adoptopenjdk:11-jre-hotspot\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy the JAR file into the container\nCOPY app/build/libs/fraud-detection-service-1.0.jar .\n\n# Set the command to run your application\nCMD [&quot;java&quot;, &quot;-cp&quot;, &quot;fraud-detection-service-1.0.jar&quot;, &quot;com.App&quot;]\n</code></pre>\n<p>Here is my <code>build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.5.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.5.31&quot;\n    id(&quot;jacoco&quot;)\n    id(&quot;scala&quot;)\n    id(&quot;org.jetbrains.dokka&quot;) version &quot;1.4.32&quot;\n}\n\ngroup = &quot;com&quot;\nversion = &quot;1.0&quot;\njava.sourceCompatibility = JavaVersion.VERSION_11\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    maven(&quot;https://jitpack.io&quot;)\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\n    implementation(&quot;org.apache.httpcomponents:httpclient&quot;)\n    implementation(&quot;com.github.everit-org.json-schema:org.everit.json.schema:1.11.1&quot;)\n    implementation(&quot;org.slf4j:slf4j-api:1.7.32&quot;)\n    implementation(&quot;ch.qos.logback:logback-classic:1.2.6&quot;)\n\n    testImplementation(&quot;io.gatling.highcharts:gatling-charts-highcharts:3.7.0&quot;)\n    testImplementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.0&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.7.2&quot;)\n    testImplementation(&quot;com.github.tomakehurst:wiremock-jre8:2.31.0&quot;)\n    testImplementation(&quot;org.mockito:mockito-core:3.12.4&quot;)\n    testImplementation(&quot;org.mockito:mockito-junit-jupiter:3.12.4&quot;)\n    testImplementation(&quot;org.powermock:powermock-api-mockito2:2.0.9&quot;)\n    testImplementation(&quot;org.powermock:powermock-module-junit4:2.0.9&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude(group = &quot;org.junit.vintage&quot;, module = &quot;junit-vintage-engine&quot;)\n    }\n}\n\ntasks.withType&lt;JavaCompile&gt; {\n    options.encoding = &quot;UTF-8&quot;\n}\n\ntasks.jar {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.java.server.App&quot;\n    }\n}\n\n... removed some test configuration ...\n\n\nval jarVersion: String by project\ntasks.jar {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.App&quot;\n    }\n    archiveFileName.set(&quot;fraud-detection-service-$version.jar&quot;)\n}\n\n</code></pre>\n<p>Other people have had this problem before, which seems to be a dependency-related issue, but none of the other suggestions have worked for me.</p>\n<p>Some have suggested using the <code>spring-boot-maven-plugin</code>, which didn't seem to work for me (or maybe I'm not implementing it properly). Others have proposed upgrading/downgrading my Spring Boot version as well.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":275933,"reputation":3454,"user_id":569076,"accept_rate":87,"display_name":"Elbek"},"score":0,"creation_date":1372862886,"post_id":17448541,"comment_id":25353661,"body_markdown":"It keeps reading the same file until items are finished. Or it finishes reading the 1st file and again starts over on the same file?","body":"It keeps reading the same file until items are finished. Or it finishes reading the 1st file and again starts over on the same file?"}],"answers":[{"tags":[],"owner":{"account_id":921744,"reputation":14460,"user_id":953327,"accept_rate":76,"display_name":"FGreg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372862156,"creation_date":1372857719,"answer_id":17449196,"question_id":17448541,"body_markdown":"I don&#39;t think you want to be creating a new reader inside of your custom reader. I don&#39;t know if it&#39;s causing your problem but that doesn&#39;t seem right (and you&#39;re not closing it after reading).\r\n\r\nYou can use Spring to initialize  your JAXB Context and then just inject it into your custom reader:\r\n\r\nhttp://static.springsource.org/spring-ws/site/reference/html/oxm.html\r\n\r\nExample:\r\n\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd\r\n\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n\t\t&lt;bean id=&quot;myItemReader&quot; class=&quot;com.example.MyItemReader&quot;&gt;\r\n\t\t\t&lt;property name=&quot;unmarshaller&quot; ref=&quot;jaxbMarshaller&quot;/&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\t\r\n\t\t&lt;oxm:jaxb2-marshaller id=&quot;jaxbMarshaller&quot;&gt;\r\n\t\t\t&lt;oxm:class-to-be-bound\r\n\t\t\t\tname=&quot;com.example.RootObject&quot; /&gt;\r\n\t\t&lt;/oxm:jaxb2-marshaller&gt;\r\n\t&lt;/beans&gt;\r\n\r\n\r\nThen in your reader&#39;s `read()` method, just use the unmarshaller...\r\n\r\n\tpublic MyItem read() throws Exception, UnexpectedInputException,\r\n\t\t\tParseException, NonTransientResourceException {\r\n\r\n\t\tSource source = new StreamSource(resource);\r\n\t\tJAXBElement&lt;RootObject&gt; jaxbElem = unmarshaller.unmarshal(source);\r\n\r\n\t\tMyItem item = new MyItem();\r\n\r\n\t\titem.setFilename(resource.getFile().getName());\r\n\t\titem.setJaxbElement(jaxbElem);\r\n\r\n\t\treturn item;\r\n\t}\r\n\r\n**Edit**\r\n\r\nOK, I think the problem is with the `read()` method then. According to the Javadoc for [ItemReader][1], when all items in the reader are exhausted, the `read()` method should return null... I don&#39;t think you&#39;re doing that so it is reading indefinitely.\r\n\r\nI think finding a way to extend `FlatFileItemReader` or `StaxEventItemReader` is a better way to go... would something like this not work?\r\n\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:batch=&quot;http://www.springframework.org/schema/batch&quot;\r\n\t\txmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd\r\n\t\t\thttp://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch.xsd\r\n\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n\t\t&lt;batch:job id=&quot;job1&quot;&gt;\r\n\t\t\t&lt;batch:step id=&quot;step1&quot;  &gt;           \r\n\t\t\t\t&lt;batch:tasklet transaction-manager=&quot;transactionManager&quot; start-limit=&quot;100&quot; &gt;\r\n\t\t\t\t\t&lt;batch:chunk reader=&quot;reader&quot; writer=&quot;writer&quot; commit-interval=&quot;10&quot; /&gt;\r\n\t\t\t\t&lt;/batch:tasklet&gt;\r\n\t\t\t &lt;/batch:step&gt;\r\n\t\t&lt;/batch:job&gt; \r\n\r\n\t\t&lt;bean id=&quot;reader&quot; class=&quot;org.springframework.batch.item.file.MultiResourceItemReader&quot;&gt;\r\n\t\t\t&lt;property name=&quot;resources&quot; value=&quot;files/*.xml&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;delegate&quot; ref=&quot;myItemReader&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\r\n\t\t&lt;bean id=&quot;myItemReader&quot; class=&quot;com.example.MyItemReader&quot;&gt;\r\n\t\t\t&lt;property name=&quot;unmarshaller&quot; ref=&quot;jaxbMarshaller&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;fragmentRootElementName&quot; ref=&quot;RootObject&quot;/&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\t\r\n\t\t&lt;oxm:jaxb2-marshaller id=&quot;jaxbMarshaller&quot;&gt;\r\n\t\t\t&lt;oxm:class-to-be-bound\r\n\t\t\t\tname=&quot;com.example.RootObject&quot; /&gt;\r\n\t\t&lt;/oxm:jaxb2-marshaller&gt;\r\n\t&lt;/beans&gt;\r\n\r\nReader:\r\n\t\r\n    public class MyItemReader&lt;T&gt; extends StaxEventItemReader&lt;T&gt;{\r\n\t\t\r\n\t\tprivate Resource resource;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void setResource(Resource resource) {\r\n\t\t\tthis.resource = resource;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected T doRead() throws Exception {\r\n\t\t\tT jaxbElem = (T) super.doRead();\r\n\t\t\t\r\n\t\t\tMyItem item = new MyItem();\r\n\r\n\t\t\titem.setFilename(resource.getFile().getName());\r\n\t\t\titem.setJaxbElement(jaxbElem);\r\n\r\n\t\t\treturn (T) item;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/ItemReader.html","title":"MultiResourceItemReader with a custom delegate keeps reading the same file","body":"<p>I don't think you want to be creating a new reader inside of your custom reader. I don't know if it's causing your problem but that doesn't seem right (and you're not closing it after reading).</p>\n\n<p>You can use Spring to initialize  your JAXB Context and then just inject it into your custom reader:</p>\n\n<p><a href=\"http://static.springsource.org/spring-ws/site/reference/html/oxm.html\" rel=\"nofollow\">http://static.springsource.org/spring-ws/site/reference/html/oxm.html</a></p>\n\n<p>Example:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:oxm=\"http://www.springframework.org/schema/oxm\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"myItemReader\" class=\"com.example.MyItemReader\"&gt;\n        &lt;property name=\"unmarshaller\" ref=\"jaxbMarshaller\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;oxm:jaxb2-marshaller id=\"jaxbMarshaller\"&gt;\n        &lt;oxm:class-to-be-bound\n            name=\"com.example.RootObject\" /&gt;\n    &lt;/oxm:jaxb2-marshaller&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Then in your reader's <code>read()</code> method, just use the unmarshaller...</p>\n\n<pre><code>public MyItem read() throws Exception, UnexpectedInputException,\n        ParseException, NonTransientResourceException {\n\n    Source source = new StreamSource(resource);\n    JAXBElement&lt;RootObject&gt; jaxbElem = unmarshaller.unmarshal(source);\n\n    MyItem item = new MyItem();\n\n    item.setFilename(resource.getFile().getName());\n    item.setJaxbElement(jaxbElem);\n\n    return item;\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>OK, I think the problem is with the <code>read()</code> method then. According to the Javadoc for <a href=\"http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/item/ItemReader.html\" rel=\"nofollow\">ItemReader</a>, when all items in the reader are exhausted, the <code>read()</code> method should return null... I don't think you're doing that so it is reading indefinitely.</p>\n\n<p>I think finding a way to extend <code>FlatFileItemReader</code> or <code>StaxEventItemReader</code> is a better way to go... would something like this not work?</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:batch=\"http://www.springframework.org/schema/batch\"\n    xmlns:oxm=\"http://www.springframework.org/schema/oxm\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd\n        http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;batch:job id=\"job1\"&gt;\n        &lt;batch:step id=\"step1\"  &gt;           \n            &lt;batch:tasklet transaction-manager=\"transactionManager\" start-limit=\"100\" &gt;\n                &lt;batch:chunk reader=\"reader\" writer=\"writer\" commit-interval=\"10\" /&gt;\n            &lt;/batch:tasklet&gt;\n         &lt;/batch:step&gt;\n    &lt;/batch:job&gt; \n\n    &lt;bean id=\"reader\" class=\"org.springframework.batch.item.file.MultiResourceItemReader\"&gt;\n        &lt;property name=\"resources\" value=\"files/*.xml\" /&gt;\n        &lt;property name=\"delegate\" ref=\"myItemReader\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"myItemReader\" class=\"com.example.MyItemReader\"&gt;\n        &lt;property name=\"unmarshaller\" ref=\"jaxbMarshaller\"/&gt;\n        &lt;property name=\"fragmentRootElementName\" ref=\"RootObject\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;oxm:jaxb2-marshaller id=\"jaxbMarshaller\"&gt;\n        &lt;oxm:class-to-be-bound\n            name=\"com.example.RootObject\" /&gt;\n    &lt;/oxm:jaxb2-marshaller&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Reader:</p>\n\n<pre><code>public class MyItemReader&lt;T&gt; extends StaxEventItemReader&lt;T&gt;{\n\n    private Resource resource;\n\n    @Override\n    public void setResource(Resource resource) {\n        this.resource = resource;\n    }\n\n    @Override\n    protected T doRead() throws Exception {\n        T jaxbElem = (T) super.doRead();\n\n        MyItem item = new MyItem();\n\n        item.setFilename(resource.getFile().getName());\n        item.setJaxbElement(jaxbElem);\n\n        return (T) item;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1543778,"reputation":404,"user_id":1437806,"accept_rate":43,"display_name":"Mrinmoy Sen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466869218,"creation_date":1466869218,"answer_id":38030111,"question_id":17448541,"body_markdown":"It is necessary to let spring know when you have completely read the file.\r\nTo do that you need to return null. \r\n\r\nKeep a boolean flag to indicate if file processed already.\r\nIf processed return null. and set the flag to false again.\r\n\r\n\r\n&gt; \r\n\r\n    boolean isRead=false;\r\n    \r\n    MyItem read(){\r\n     if(isRead){\r\n      isRead=false;\r\n      return null;\r\n     }\r\n     MyItem item=null;\r\n     if(!isRead){\r\n       isRead=true;\r\n       //DO read.\r\n        item=new Item();// Item to read....\r\n      }\r\n    return item;\r\n    }\r\n\r\n&gt; \r\n","title":"MultiResourceItemReader with a custom delegate keeps reading the same file","body":"<p>It is necessary to let spring know when you have completely read the file.\nTo do that you need to return null. </p>\n\n<p>Keep a boolean flag to indicate if file processed already.\nIf processed return null. and set the flag to false again.</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>boolean isRead=false;\n\nMyItem read(){\n if(isRead){\n  isRead=false;\n  return null;\n }\n MyItem item=null;\n if(!isRead){\n   isRead=true;\n   //DO read.\n    item=new Item();// Item to read....\n  }\nreturn item;\n}\n</code></pre>\n\n<blockquote>\n  <p></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23249557,"reputation":1,"user_id":17337608,"display_name":"Trist4n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674749166,"creation_date":1674723762,"answer_id":75244011,"question_id":17448541,"body_markdown":"Try this, overriding the doOpen() method:\r\n\r\nMultiResourceItemReader : \r\n\r\n    @Component\r\n    public class CustomMultiResourceItemReader extends MultiResourceItemReader&lt;Item&gt; {\r\n        public CustomMultiResourceItemReader(CustomStaxItemReader customStaxItemReader) {\r\n            setName(&quot;customMultiResourceItemReader&quot;);\r\n            setResources(getResources());\r\n            setDelegate(customStaxItemReader);\r\n        }\r\n    }\r\n\r\nStaxEventItemReader :\r\n\r\n    @Component\r\n    public class CustomStaxItemReader extends StaxEventItemReader&lt;Item&gt; {\r\n        private Resource resource;\r\n    \r\n        public CustomStaxItemReader(){\r\n            setName(&quot;customStaxItemReader&quot;);\r\n            setFragmentRootElementName(&quot;YourFragmentRootElementName&quot;);\r\n            setUnmarshaller(getJaxb2Marshaller());\r\n        }\r\n\r\n        @Override\r\n        protected void doOpen() throws Exception {\r\n            super.setResource(resource);\r\n            super.doOpen();\r\n        }\r\n    \r\n        @Override\r\n        protected Item read() throws Exception {\r\n            Item item = super.read();\r\n            if (item != null) item.setFileName(resource.getFile().getName());\r\n            return item;\r\n        }\r\n\r\n        @Override\r\n        public void setResource(Resource resource) {\r\n            this.resource = resource;\r\n        }\r\n    }\r\n\r\nOtherwise (bad practice), use reflection to read the &#39;resource&#39; attribute of the parent class","title":"MultiResourceItemReader with a custom delegate keeps reading the same file","body":"<p>Try this, overriding the doOpen() method:</p>\n<p>MultiResourceItemReader :</p>\n<pre><code>@Component\npublic class CustomMultiResourceItemReader extends MultiResourceItemReader&lt;Item&gt; {\n    public CustomMultiResourceItemReader(CustomStaxItemReader customStaxItemReader) {\n        setName(&quot;customMultiResourceItemReader&quot;);\n        setResources(getResources());\n        setDelegate(customStaxItemReader);\n    }\n}\n</code></pre>\n<p>StaxEventItemReader :</p>\n<pre><code>@Component\npublic class CustomStaxItemReader extends StaxEventItemReader&lt;Item&gt; {\n    private Resource resource;\n\n    public CustomStaxItemReader(){\n        setName(&quot;customStaxItemReader&quot;);\n        setFragmentRootElementName(&quot;YourFragmentRootElementName&quot;);\n        setUnmarshaller(getJaxb2Marshaller());\n    }\n\n    @Override\n    protected void doOpen() throws Exception {\n        super.setResource(resource);\n        super.doOpen();\n    }\n\n    @Override\n    protected Item read() throws Exception {\n        Item item = super.read();\n        if (item != null) item.setFileName(resource.getFile().getName());\n        return item;\n    }\n\n    @Override\n    public void setResource(Resource resource) {\n        this.resource = resource;\n    }\n}\n</code></pre>\n<p>Otherwise (bad practice), use reflection to read the 'resource' attribute of the parent class</p>\n"}],"owner":{"account_id":2976504,"reputation":56,"user_id":2527451,"display_name":"cornel rebegea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8846,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687734310,"creation_date":1372855914,"question_id":17448541,"body_markdown":"Hello there java wizards,\r\n\r\nI am having a lot of trouble getting into the spring batch. Straight to the point for now.\r\nI need to process all files (xmls) from a folder and them write them back, with a small addition. \r\nThe problem was that I want to preserve the input filename. The solution that I have for this \r\nis a MultiResourceItemReader that delegates to a custom Itemreader that in turn calls the StaxEventItemReader and returns a custom item that holds the marshalled xml and the filename.\r\n\r\n**Question**: only the same file is read in an infinite loop and another strange thing, there are 10 retries every time.\r\nI know that one solution would be that the reader to return null after the file was once read, but that means I need to keep a list of processed files ?  \r\nI guess I&#39;ll do that for now, but I really would like something smarter.\r\n\r\n\r\nthe job config: \r\n\r\n\t&lt;batch:job id=&quot;job1&quot;&gt;\r\n\t\t&lt;batch:step id=&quot;step1&quot;  &gt;\t\t\t\r\n\t\t\t&lt;batch:tasklet transaction-manager=&quot;transactionManager&quot; start-limit=&quot;100&quot; &gt;\r\n\t\t\t\t&lt;batch:chunk reader=&quot;reader&quot; writer=&quot;writer&quot; commit-interval=&quot;10&quot; /&gt;\r\n\t\t\t&lt;/batch:tasklet&gt;\r\n         &lt;/batch:step&gt;\r\n\t&lt;/batch:job&gt; \r\n\t\r\n\t&lt;bean id=&quot;reader&quot; class=&quot;org.springframework.batch.item.file.MultiResourceItemReader&quot;&gt;\r\n    &lt;property name=&quot;resources&quot; value=&quot;files/*.xml&quot; /&gt;\r\n    &lt;property name=&quot;delegate&quot; ref=&quot;myItemReader&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nmy item read method, basically:\r\n\r\n    public class MyItemReader implements ResourceAwareItemReaderItemStream&lt;MyItem&gt;, ApplicationContextAware {\r\n\r\n\r\n\tpublic MyItem read() throws Exception, UnexpectedInputException,\r\n\t\t\tParseException, NonTransientResourceException {\r\n\t\t\r\n\t\tStaxEventItemReader&lt;JAXBElement&lt;RootObject&gt;&gt; reader = new StaxEventItemReader&lt;JAXBElement&lt;RootObject&gt;&gt;();\r\n\t\treader.setResource(currentResource);\r\n\t\treader.setFragmentRootElementName(&quot;RootObject&quot;);\r\n\r\n\t\t// ... create jaxb unmarshaller\r\n\t\t\r\n\t\treader.setUnmarshaller(unmarshaller);\r\n\t\t\r\n\t\treader.setSaveState(true);\r\n\t\treader.afterPropertiesSet();\t\t\r\n\t\t\r\n\t\treader.open(executionContext);\r\n\t\t\r\n\t\tJAXBElement&lt;RootObject&gt; jaxbElem = reader.read();\r\n\t\t\r\n\t\tMyItem item = new MyItem();\r\n\t\t\r\n\t\titem.setFilename(currentResource.getFile().getName());\r\n\t\titem.setJaxbElement(jaxbElem);\r\n\t\t\r\n\t\treturn item;\r\n\t}\r\n    }\r\n\r\nCan anyone straighten me out here?\r\n\r\n**Solution**\r\nSo in the end I just keep a list of read files and return null if it&#39;s already read.\r\nAs for the 10 reads at once, well, that is the chunk&#39;s size so it makes sense.\r\n\r\n","title":"MultiResourceItemReader with a custom delegate keeps reading the same file","body":"<p>Hello there java wizards,</p>\n\n<p>I am having a lot of trouble getting into the spring batch. Straight to the point for now.\nI need to process all files (xmls) from a folder and them write them back, with a small addition. \nThe problem was that I want to preserve the input filename. The solution that I have for this \nis a MultiResourceItemReader that delegates to a custom Itemreader that in turn calls the StaxEventItemReader and returns a custom item that holds the marshalled xml and the filename.</p>\n\n<p><strong>Question</strong>: only the same file is read in an infinite loop and another strange thing, there are 10 retries every time.\nI know that one solution would be that the reader to return null after the file was once read, but that means I need to keep a list of processed files ?<br>\nI guess I'll do that for now, but I really would like something smarter.</p>\n\n<p>the job config: </p>\n\n<pre><code>&lt;batch:job id=\"job1\"&gt;\n    &lt;batch:step id=\"step1\"  &gt;           \n        &lt;batch:tasklet transaction-manager=\"transactionManager\" start-limit=\"100\" &gt;\n            &lt;batch:chunk reader=\"reader\" writer=\"writer\" commit-interval=\"10\" /&gt;\n        &lt;/batch:tasklet&gt;\n     &lt;/batch:step&gt;\n&lt;/batch:job&gt; \n\n&lt;bean id=\"reader\" class=\"org.springframework.batch.item.file.MultiResourceItemReader\"&gt;\n&lt;property name=\"resources\" value=\"files/*.xml\" /&gt;\n&lt;property name=\"delegate\" ref=\"myItemReader\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>my item read method, basically:</p>\n\n<pre><code>public class MyItemReader implements ResourceAwareItemReaderItemStream&lt;MyItem&gt;, ApplicationContextAware {\n\n\npublic MyItem read() throws Exception, UnexpectedInputException,\n        ParseException, NonTransientResourceException {\n\n    StaxEventItemReader&lt;JAXBElement&lt;RootObject&gt;&gt; reader = new StaxEventItemReader&lt;JAXBElement&lt;RootObject&gt;&gt;();\n    reader.setResource(currentResource);\n    reader.setFragmentRootElementName(\"RootObject\");\n\n    // ... create jaxb unmarshaller\n\n    reader.setUnmarshaller(unmarshaller);\n\n    reader.setSaveState(true);\n    reader.afterPropertiesSet();        \n\n    reader.open(executionContext);\n\n    JAXBElement&lt;RootObject&gt; jaxbElem = reader.read();\n\n    MyItem item = new MyItem();\n\n    item.setFilename(currentResource.getFile().getName());\n    item.setJaxbElement(jaxbElem);\n\n    return item;\n}\n}\n</code></pre>\n\n<p>Can anyone straighten me out here?</p>\n\n<p><strong>Solution</strong>\nSo in the end I just keep a list of read files and return null if it's already read.\nAs for the 10 reads at once, well, that is the chunk's size so it makes sense.</p>\n"},{"tags":["java","string","list","generics","hashmap"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1687639969,"post_id":76547895,"comment_id":134965785,"body_markdown":"Note: It&#39;s a really bad idea to name your class the same as a class from the JDK. It leads to confusion and much wasted time.","body":"Note: It&#39;s a really bad idea to name your class the same as a class from the JDK. It leads to confusion and much wasted time."},{"owner":{"account_id":28888171,"reputation":1,"user_id":22126030,"display_name":"adnanuzumaki"},"score":0,"creation_date":1687642569,"post_id":76547895,"comment_id":134966081,"body_markdown":"Yes, I know. But it has to be named like this in order to successfully complete the tests.","body":"Yes, I know. But it has to be named like this in order to successfully complete the tests."},{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":1,"creation_date":1687644848,"post_id":76547895,"comment_id":134966262,"body_markdown":"You should create like this HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; languageMap;\nwhy there is no key in second hashmap?","body":"You should create like this HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; languageMap; why there is no key in second hashmap?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1687649753,"post_id":76547895,"comment_id":134966546,"body_markdown":"I&#39;m curious... Which educational institution are you attending?","body":"I&#39;m curious... Which educational institution are you attending?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1687662382,"post_id":76547895,"comment_id":134967254,"body_markdown":"To be honest, I didn&#39;t understand your question. \nCan you give some input, output? \nFor example: input: &quot;abcdefghijklmn&quot; output [{&quot;english&quot;: ...}, {&quot;other language&quot;, ...}], probably like this.I don&#39;t see any logical relationship in the picture you provided","body":"To be honest, I didn&#39;t understand your question.  Can you give some input, output?  For example: input: &quot;abcdefghijklmn&quot; output [{&quot;english&quot;: ...}, {&quot;other language&quot;, ...}], probably like this.I don&#39;t see any logical relationship in the picture you provided"},{"owner":{"account_id":28888171,"reputation":1,"user_id":22126030,"display_name":"adnanuzumaki"},"score":0,"creation_date":1687731505,"post_id":76547895,"comment_id":134973653,"body_markdown":"I managed to implement it correcty. I updated the code in the question.","body":"I managed to implement it correcty. I updated the code in the question."}],"answers":[{"tags":[],"owner":{"account_id":28888171,"reputation":1,"user_id":22126030,"display_name":"adnanuzumaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687733504,"creation_date":1687733350,"answer_id":76552696,"question_id":76547895,"body_markdown":"Soo  Baically what had to be done, was to create a HashMap within a HashMap.\r\n\r\nWe have a HashMap (table 1) with Strings (languages) as keys and for the values another HashMap (tables 2). So each key i.e. language has a own HashMap where the nGrams are stored and how often they are used in the language.\r\n\r\nWhat I needed to do, was implement a Instance of HashMap&lt;T&gt; which I had created (in order to use my own hash/probe function and other implemented methods).\r\nBut Because the name is the same as the HashMap class from the JDK, it let to confusion as @bohemian had pointed out.\r\n\r\nThe correct initialization for our Table 1 is:\r\n\r\n    LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt; languages;\r\n\r\nI forgot to mention, that the key in our HashMap is always a String, but the values only can be whatever we initilize it as.\r\n\r\nHere is the complete Code for our school task:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.lang.reflect.Array;\r\n    import java.text.DecimalFormat;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class LanguageDetector {\r\n    \r\n        // n = the length of n-grams to use\r\n        int n;\r\n    \r\n        // N = the size of the language-specific hash tables (&quot;Tabelle 2&quot;)\r\n        int N;\r\n    \r\n        LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt; languages;\r\n        ArrayList&lt;String&gt; languagesList;\r\n    \t\r\n        public LanguageDetector(int n, int N) {\r\n            this.n = n;\r\n            this.N = N;\r\n            languages = new LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt;(101, 31);\r\n            languagesList = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        //a given String is split into nGrams and for each nGram the most accurate language gets a &quot;point&quot;.\r\n        //languaegs and their points are stored in a hash map\r\n        public HashMap&lt;Integer&gt; apply(String text) {\r\n            LanguageDetector.HashMap&lt;Integer&gt; resultMap = new HashMap&lt;&gt;(languagesList.size(), 31);\r\n            ArrayList&lt;String&gt; ngramWinners = new ArrayList&lt;&gt;();\r\n           \r\n    \r\n            for(String lang : languagesList){\r\n                resultMap.add(lang, 0);  \r\n            }\r\n    \r\n            int currentCount = 0;\r\n            int maxCount = 0;\r\n            \r\n            //&#228;u&#223;ere Schleife f&#252;r ngram-durchlauf \r\n            int k = n;\r\n            for(int j = 0; j&lt;=text.length()-n; j++){\r\n    \r\n                //durchlauf aller Sprachen f&#252;r jedes nGram\r\n                for(int i = 0; i&lt;languagesList.size(); i++){\r\n                    \r\n                    //bestimmen in welcher Sprache das aktuelle nGram am h&#228;ufigsten vorkommt\r\n                    String ngram = text.substring(j, k);\r\n                    currentCount = getCount(ngram, languagesList.get(i));\r\n                    //System.out.println(currentCount);\r\n                    if(currentCount&gt;maxCount){\r\n                        maxCount = currentCount;\r\n                        //currentCount = 0;\r\n                        ngramWinners.clear();\r\n                        ngramWinners.add(languagesList.get(i));\r\n                        break;\r\n                    }\r\n                    if(currentCount==maxCount){\r\n                        ngramWinners.add(languagesList.get(i));\r\n                    }\r\n                }\r\n    \r\n                //wenn das nGram in keiner Sprache verwendet wird, gibt es Punkte f&#252;r niemanden\r\n                if(maxCount != 0){\r\n                    //speicherung und aktualisieren des &quot;scores&quot;\r\n                    for(int i = 0; i&lt;ngramWinners.size();i++){\r\n                        int newCount = resultMap.get(ngramWinners.get(i)) + 1;\r\n                        resultMap.add(ngramWinners.get(i), newCount);\r\n                        //System.out.println(ngramWinners.get(i));\r\n                    }\r\n                }\r\n                ngramWinners.clear();\r\n                maxCount = 0;\r\n                k+=1;\r\n            }\r\n    \r\n            return resultMap;\r\n        }\r\n    \t\r\n        public void learnLanguage(String language, String text) {      \r\n            if(languages.get(language) == null){\r\n                languages.add(language, new LanguageDetector.HashMap&lt;&gt;(N, 31));\r\n                languagesList.add(language);\r\n            }\r\n            LanguageDetector.HashMap&lt;Integer&gt; ngramMap = languages.get(language);\r\n    \r\n            int k = n;\r\n            for(int j = 0; j&lt;=text.length()-n; j++){\r\n                String ngram = text.substring(j, k);\r\n                if(ngramMap.get(ngram) != null){\r\n                    int ngramPlus = ngramMap.get(ngram) + 1;\r\n                    ngramMap.add(ngram, ngramPlus);\r\n                } else{\r\n                    ngramMap.add(ngram, 1);\r\n                }\r\n                k+=1;\r\n            }    \r\n            \r\n            //ngramMap.printHashMap();\r\n        }\r\n    \r\n        public int getCount(String ngram, String language){\r\n            if(languages.get(language) == null || languages.get(language).get(ngram) == null){\r\n                return 0;\r\n            }\r\n            return languages.get(language).get(ngram);\r\n        }\r\n    \r\n        //the hashMap returned from apply method can be inserted here to get the language as a string\r\n        public String checkLanguage(LanguageDetector.HashMap&lt;Integer&gt; result){\r\n            String finalLanguage;\r\n            int currentCount = 0;\r\n            int maxCount = 0;\r\n            ArrayList&lt;String&gt; languageWinners = new ArrayList&lt;&gt;();\r\n    \r\n            //look for languages with most votes (and store in languageWinners)\r\n            for(int i = 0; i &lt; languagesList.size(); i++){\r\n                currentCount = result.get(languagesList.get(i));\r\n                    \r\n                if(currentCount&gt;maxCount){\r\n                    maxCount = currentCount;\r\n                    //currentCount = 0;\r\n                    languageWinners.clear();\r\n                    languageWinners.add(languagesList.get(i));\r\n                }\r\n                else if(currentCount==maxCount){\r\n                    languageWinners.add(languagesList.get(i));\r\n                }\r\n            }\r\n    \r\n            //System.out.println(languageWinners);\r\n    \r\n            //there is one language with most votes\r\n            if(languageWinners.size() == 1){\r\n                finalLanguage = languageWinners.get(0);\r\n                return finalLanguage;\r\n            }\r\n    \r\n            //multiple languages have same votes --&gt; lexiographically sorted.\r\n            for(int i = 0; i&lt;languageWinners.size();i++){          \r\n                for (int j = i + 1; j &lt; languageWinners.size(); j++) {\r\n                    if (languageWinners.get(i).compareToIgnoreCase(languageWinners.get(j)) &gt; 0) {\r\n                        String temp = languageWinners.get(i);\r\n                        languageWinners.set(i, languageWinners.get(j));\r\n                        languageWinners.set(j, temp);\r\n                    }\r\n                }            \r\n            }\r\n            finalLanguage = languageWinners.get(0);\r\n            return finalLanguage;\r\n        }\r\n        \r\n        // open a file, read its lines, return them as an array.\r\n        private static String read(String filename) {\r\n            // !!! NO NEED TO CHANGE !!!\r\n            \t\t\r\n            try {\r\n                \r\n                StringBuilder sb = new StringBuilder();\r\n                    \r\n                Reader in = new InputStreamReader(new FileInputStream(filename),\r\n                                &quot;UTF-8&quot;);\r\n    \r\n                BufferedReader reader = new BufferedReader(in);\r\n                    \r\n                String s;\r\n                while ((s = reader.readLine()) != null) {\r\n                // Ignoriere Leerzeilen und Kommentare\r\n                if (s.length() != 0 &amp;&amp; s.charAt(0) != &#39;#&#39;) {\r\n                    sb.append(s);\r\n                }\r\n                }\r\n                    \r\n                reader.close();\r\n                    \r\n                return sb.toString();\r\n                \r\n            } catch (IOException e) {\t\t\r\n                String msg = &quot;I/O-Fehler bei &quot; + filename + &quot;\\n&quot; + e.getMessage();\r\n                throw new RuntimeException(msg);\t\t\r\n            }\r\n        } \r\n    \r\n        //creating own hashmap class\r\n        public static class HashMap&lt;T&gt; {\r\n    \r\n            //creating Entry class\r\n            public class Entry {\r\n                String key;\r\n                T value;\r\n                Entry next;\r\n                    \r\n                Entry(String key, T value) {\r\n                    this.key = key;\r\n                    this.value = value;\r\n                }\r\n            }\r\n    \r\n            Entry[] table;\r\n            int basis;\r\n    \r\n            public HashMap(int N, int basis) {\r\n                table = (Entry[]) Array.newInstance(Entry[].class.getComponentType(), N);\r\n                this.basis = basis;\r\n            }     \r\n    \r\n            //add method, uses individual hashCode &amp; probe function, for finding best possible index.\r\n            public boolean add(String key, T value) {\r\n                int index = hashCode(key);\r\n                Entry entryOnIndex = table[index];\r\n    \r\n                if(entryOnIndex == null){\r\n                    table[index] = new Entry(key, value);\r\n                    return true;\r\n                }\r\n                if (entryOnIndex != null &amp;&amp; entryOnIndex.key.equals(key)) {\r\n                    entryOnIndex.value = value;\r\n                } \r\n                else{\r\n                    // Schl&#252;ssel in der HashMap suchen\r\n                    int currentIndex = index;\r\n                    int m = 0;\r\n    \r\n                    while (table[currentIndex] != null &amp;&amp; m &lt;= table.length) {\r\n                        currentIndex = sondieren(currentIndex, m);\r\n                        Entry currentEntry = table[currentIndex];\r\n    \r\n                        if (currentEntry != null &amp;&amp; currentEntry.key.equals(key)) {\r\n                            currentEntry.value = value;\r\n                            return true;\r\n                        }\r\n    \r\n                        m++;\r\n                    }\r\n    \r\n                    if(table[currentIndex] == null){\r\n                        Entry newEntry = new Entry(key, value);\r\n                        table[currentIndex] = newEntry;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n    \r\n            //very similar to add method. ..&gt; possible alternative: implement a third methode to outsource redundant code. --&gt; return the found index\r\n            public T get(String key) {\r\n                int index = hashCode(key);\r\n                Entry entryOnIndex = table[index];\r\n    \r\n                if(entryOnIndex == null){\r\n                    return null;\r\n                }\r\n                if (entryOnIndex != null &amp;&amp; entryOnIndex.key.equals(key)) {\r\n                    return entryOnIndex.value;\r\n                }\r\n                else{\r\n                    // Schl&#252;ssel in der HashMap suchen, da sondierung angewandt wurde\r\n                    int currentIndex = index;\r\n                    int m = 0;\r\n    \r\n                    while (table[currentIndex] != null &amp;&amp; m &lt;= table.length) {\r\n                        currentIndex = sondieren(currentIndex, m);\r\n                        Entry currentEntry = table[currentIndex];\r\n    \r\n                        if (currentEntry != null &amp;&amp; currentEntry.key.equals(key)) {\r\n                            return currentEntry.value;\r\n                        }\r\n    \r\n                        m++;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            //returns the fillratio relative to the HashMap Capacity\r\n            public double fillRatio() {\r\n                double ratio = 0;\r\n                for(Entry e : table){\r\n                    if(e!=null){\r\n                        ratio+=1;\r\n                    }\r\n                }\r\n                return ratio/table.length;\r\n            }\r\n                    \r\n            //hash-function for hashing the key (simplyfied): h(k) = (k₁ * B^(n-1) + k₂ * B^(n-2) + ... + kₙ₋₁ * B + kₙ) % N\r\n            public int hashCode(String k) {\r\n                double hash = 0;\r\n                int n = k.length();\r\n    \r\n                for(int i = 0; i&lt;k.length(); i++){\r\n                    hash = hash + (k.charAt(i) * Math.pow(basis,n-(i+1)) );\r\n                    hash %= table.length; \r\n                }\r\n                \r\n                //System.out.println(&quot;Hash-Code for &quot; + k + &quot;: &quot;+ hash);\r\n                return (int) hash;\r\n            }\r\n    \r\n            //probe function: g(m + 1) = (g(m) + 2m + 1) % N\r\n            public int sondieren(int index, int m) {\r\n                return (index + 2 * m + 1) % table.length;\r\n            }\r\n            \r\n            //for testing purposes only\r\n            public void printHashMap() {\r\n                System.out.println();\r\n                for (int i = 0; i &lt; this.table.length; i++) {\r\n                    Entry entry = (Entry) this.table[i];\r\n                    System.out.print(i + &quot;: &quot;);\r\n                    while (entry != null) {\r\n                        System.out.print(&quot;(&quot; + entry.key + &quot; = &quot; + entry.value + &quot;) &quot;);\r\n                        entry = entry.next;\r\n                    }\r\n                    System.out.println();\r\n                }\r\n            }\r\n        //end of HashMap Class\r\n        }\r\n    \r\n        //reads txt files into Strings. These are used to learn languages .&gt; given senctences are checked and the language is displayed (accuraccy is also displayed) [using different n-Gram and hashMap sizes]\r\n        public static LanguageDetector runTest(String BASE, int n, int N) {\r\n            \r\n            LanguageDetector myDetector = new LanguageDetector(n, N);\r\n    \r\n            String alice_en = read(&quot;src\\\\alice\\\\alice.en.txt&quot;);\r\n            String alice_de = read(&quot;src\\\\alice\\\\alice.de.txt&quot;);\r\n            String alice_eo = read(&quot;src\\\\alice\\\\alice.eo.txt&quot;);\r\n            String alice_fi = read(&quot;src\\\\alice\\\\alice.fi.txt&quot;);\r\n            String alice_fr = read(&quot;src\\\\alice\\\\alice.fr.txt&quot;);\r\n            String alice_it = read(&quot;src\\\\alice\\\\alice.it.txt&quot;);\r\n    \r\n            myDetector.learnLanguage(&quot;english&quot;, alice_en);\r\n            myDetector.learnLanguage(&quot;german&quot;, alice_de);\r\n            myDetector.learnLanguage(&quot;esperanto&quot;, alice_eo);\r\n            myDetector.learnLanguage(&quot;finnish&quot;, alice_fi);\r\n            myDetector.learnLanguage(&quot;french&quot;, alice_fr);\r\n            myDetector.learnLanguage(&quot;italian&quot;, alice_it);\r\n    \r\n            \r\n            String[] sentences = new String[] {\r\n    \r\n                // 11 x English\r\n                &quot;I&#39;m going to make him an offer he can&#39;t refuse.&quot;,\r\n                &quot;Toto, I&#39;ve got a feeling we&#39;re not in Kansas anymore.&quot;,\r\n                &quot;May the Force be with you.&quot;,\r\n                &quot;If you build it, he will come.&quot;,\r\n                &quot;I&#39;ll have what she&#39;s having.&quot;,\r\n                &quot;A martini. Shaken, not stirred.&quot;,\r\n                &quot;Some people can’t believe in themselves until someone else believes in them first.&quot;,\r\n                &quot;I feel the need - the need for speed!&quot;,\r\n                &quot;Carpe diem. Seize the day, boys. Make your lives extraordinary.&quot;,\r\n                &quot;Nobody puts Baby in a corner.&quot;,\r\n                &quot;I&#39;m king of the world!&quot;,\r\n    \r\n                // 11 x Deutsch\r\n                &quot;Aber von jetzt an steht ihr alle in meinem Buch der coolen Leute.&quot;,\r\n                &quot;W&#228;re, w&#228;re, Fahradkette&quot;,\r\n                &quot;Sehe ich aus wie jemand, der einen Plan hat?&quot;,\r\n                &quot;Erwartet mein Kommen, beim ersten Licht des f&#252;nften Tages.&quot;,\r\n                &quot;Du bist terminiert!&quot;,\r\n                &quot;Ich hab eine Wassermelone getragen.&quot;,\r\n                &quot;Einigen wir uns auf Unentschieden!&quot;,\r\n                &quot;Du wartest auf einen Zug, ein Zug der dich weit weg bringen wird.&quot;,\r\n                &quot;Ich bin doch nur ein M&#228;dchen, das vor einem Jungen steht, und ihn bittet, es zu lieben.&quot;,\r\n                &quot;Ich genoss seine Leber mit ein paar Fava-Bohnen, dazu einen ausgezeichneten Chianti.&quot;,\r\n                &quot;Dumm ist der, der Dummes tut.&quot;,\r\n    \r\n                // 9 x Esperanto\r\n                &quot;Al du sinjoroj samtempe oni servi ne povas.&quot;,\r\n                &quot;Al la fiŝo ne instruu naĝarton.&quot;,\r\n                &quot;Fiŝo pli granda malgrandan englutas.&quot;,\r\n                &quot;Kia patrino, tia filino.&quot;,\r\n                &quot;La manĝota fiŝo estas ankoraŭ en la rivero.&quot;,\r\n                &quot;Ne kotas besto en sia nesto.&quot;,\r\n                &quot;Ne singardema kokino fidas je vulpo.&quot;,\r\n                &quot;Por sperto kaj lerno ne sufiĉas eterno.&quot;,\r\n                &quot;Unu hako kverkon ne faligas.&quot;,\r\n    \r\n                // 8 x Finnisch\r\n                &quot;Hei, hauska tavata.&quot;,\r\n                &quot;Olen kotoisin Suomesta.&quot;,\r\n                &quot;Yksi harrastuksistani on lukeminen.&quot;,\r\n                &quot;Nautin musiikin kuuntelusta.&quot;,\r\n                &quot;Juhannusperinteisiin kuuluu juhannussauna tuoreiden saunavihtojen kera, sek&#228; pulahtaminen j&#228;rveen.&quot;,\r\n                &quot;Aamu on iltaa viisaampi.&quot;,\r\n                &quot;Ty&#246; tekij&#228;&#228;ns&#228; neuvoo.&quot;,\r\n                &quot;Niin mets&#228; vastaa, kuin sinne huudetaan.&quot;,\r\n    \r\n                // 9 x Franz&#246;sisch\r\n                &quot;Franchement, ma ch&#232;re, c’est le cadet de mes soucis.&quot;,\r\n                &quot;&#192; tes beaux yeux.&quot;,\r\n                &quot;Si j’aurais su, j’aurais pas v’nu!&quot;,\r\n                &quot;Merci la gueuse. Tu es un laideron mais tu es bien bonne.&quot;,\r\n                &quot;Vous croyez qu’ils oseraient venir ici?&quot;,\r\n                &quot;La barbe ne fait pas le philosophe.&quot;,\r\n                &quot;Inutile de discuter.&quot;,\r\n                &quot;Paris ne s’est pas fait en un jour!&quot;,\r\n                &quot;Quand on a pas ce que l’on aime, il faut aimer ce que l’on a.&quot;,\r\n    \r\n                // 9 x Italienisch\r\n                &quot;Azzurro, il pomeriggio &#232; troppo azzurro e lungo per me&quot;,\r\n                &quot;Con te, cos lontano e diverso Con te, amico che credevo perso &quot;,\r\n                &quot;&#232; restare vicini come bambini la felicit&#224;&quot;,\r\n                &quot;Buongiorno, Principessa!&quot;,\r\n                &quot;Ho Ucciso Napoleone.&quot;,\r\n                &quot;L’amore vince sempre.&quot;,\r\n                &quot;La semplicit&#224; &#232; l’ultima sofisticazione.&quot;,\r\n                &quot;Una cena senza vino e come un giorno senza sole.&quot;,\r\n                &quot;Se non hai mai pianto, i tuoi occhi non possono essere belli.&quot;\r\n            };\r\n    \r\n            String[] labels = new String[] {\r\n    \r\n                &quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,\r\n                &quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,\r\n                &quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,\r\n                &quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,\r\n                &quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,\r\n                &quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;\r\n    \r\n            };\r\n    \r\n            assert sentences.length == labels.length;\r\n    \r\n            LanguageDetector.HashMap&lt;Integer&gt; result = new LanguageDetector.HashMap(N, 31);\r\n            int countCorrectDetection = 0;\r\n            int loopCount = 0;\r\n            double successRate = 0;\r\n    \r\n            //detect language and count how many languages were checked and how many were correct\r\n            for(int i = 0; i&lt;57; i++){\r\n                result = myDetector.apply(sentences[i]);\r\n                String detectedLanguage = myDetector.checkLanguage(result);\r\n                //System.out.println(&quot;detected language *&quot;+detectedLanguage+&quot;* for: \\n&quot; + sentences[i]+&quot;\\n&quot;);\r\n                //result.printHashMap();\r\n                //System.out.println();\r\n                if(detectedLanguage.equals(labels[i])){\r\n                    countCorrectDetection += 1;\r\n                }\r\n                loopCount += 1;\r\n            }\r\n    \r\n            //calculate percentage\r\n            if(countCorrectDetection != 0 &amp;&amp; loopCount != 0){\r\n                successRate = (double) countCorrectDetection / loopCount;\r\n                DecimalFormat prozentFormat = new DecimalFormat(&quot;#0.00%&quot;);\r\n                // Wandle die Double-Zahl in eine Prozentzahl mit zwei Nachkommastellen um\r\n                String succesRateP = prozentFormat.format(successRate);\r\n                \r\n                System.out.println(&quot;For n = &quot;+n+&quot;, N = &quot;+N);\r\n                System.out.println(loopCount + &quot; senctences were checked. For &quot;+countCorrectDetection+&quot; senctences the correct language was detected.\\nsucces-rate: &quot;+succesRateP+&quot;\\n&quot;);\r\n            }\r\n        \r\n            return myDetector;\r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            runTest(&quot;31&quot;, 1, 120001);\r\n            runTest(&quot;31&quot;, 2, 120001);\r\n            runTest(&quot;31&quot;, 2, 120001);\r\n            runTest(&quot;31&quot;, 3, 120001);\r\n            runTest(&quot;31&quot;, 4, 120001);\r\n            runTest(&quot;31&quot;, 6, 120001);\r\n            runTest(&quot;31&quot;, 5, 120001);\r\n            runTest(&quot;31&quot;, 7, 120001);\r\n            runTest(&quot;31&quot;, 8, 120001);\r\n            runTest(&quot;31&quot;, 9, 120001);\r\n    \r\n            runTest(&quot;31&quot;, 1, 1200001);\r\n            runTest(&quot;31&quot;, 2, 1200001);\r\n            runTest(&quot;31&quot;, 2, 1200001);\r\n            runTest(&quot;31&quot;, 3, 1200001);\r\n            runTest(&quot;31&quot;, 4, 1200001);\r\n            runTest(&quot;31&quot;, 5, 1200001);\r\n            runTest(&quot;31&quot;, 6, 1200001);\r\n            runTest(&quot;31&quot;, 7, 1200001);\r\n            runTest(&quot;31&quot;, 8, 1200001);\r\n            runTest(&quot;31&quot;, 9, 1200001);\r\n        \r\n        }\r\n    /*\r\n     N = 120001\r\n    \r\n     hier tabelle erstellen...\r\n     */\r\n    \r\n        /*\r\n    For n= 1, N= 120001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 2, N= 120001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 2, N= 120001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 3, N= 120001\r\n    57 senctences were checked. For 12 senctences the correct language was detected.\r\n    succes-rate: 21.052631578947366%\r\n    \r\n    For n= 4, N= 120001\r\n    57 senctences were checked. For 38 senctences the correct language was detected.\r\n    succes-rate: 66.66666666666666%\r\n    \r\n    For n= 5, N= 120001\r\n    57 senctences were checked. For 56 senctences the correct language was detected.\r\n    succes-rate: 98.24561403508771%\r\n    \r\n    For n= 7, N= 120001\r\n    57 senctences were checked. For 56 senctences the correct language was detected.\r\n    succes-rate: 98.24561403508771%\r\n    \r\n    For n= 8, N= 120001\r\n    57 senctences were checked. For 53 senctences the correct language was detected.\r\n    succes-rate: 92.98245614035088%\r\n    \r\n    For n= 9, N= 120001\r\n    57 senctences were checked. For 46 senctences the correct language was detected.\r\n    succes-rate: 80.7017543859649%\r\n    \r\n    For n= 1, N= 1200001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 2, N= 1200001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 2, N= 1200001\r\n    57 senctences were checked. For 11 senctences the correct language was detected.\r\n    succes-rate: 19.298245614035086%\r\n    \r\n    For n= 3, N= 1200001\r\n    57 senctences were checked. For 12 senctences the correct language was detected.\r\n    succes-rate: 21.052631578947366%\r\n    \r\n    For n= 4, N= 1200001\r\n    57 senctences were checked. For 38 senctences the correct language was detected.\r\n    succes-rate: 66.66666666666666%\r\n    \r\n    For n= 5, N= 1200001\r\n    57 senctences were checked. For 56 senctences the correct language was detected.\r\n    succes-rate: 98.24561403508771%\r\n    \r\n    For n= 7, N= 1200001\r\n    57 senctences were checked. For 56 senctences the correct language was detected.\r\n    succes-rate: 98.24561403508771%\r\n    \r\n    For n= 8, N= 1200001\r\n    57 senctences were checked. For 53 senctences the correct language was detected.\r\n    succes-rate: 92.98245614035088%\r\n    \r\n    For n= 9, N= 1200001\r\n    57 senctences were checked. For 46 senctences the correct language was detected.\r\n    succes-rate: 80.7017543859649%\r\n         */\r\n    }\r\n\r\n\r\nI hope this clarifys my issue and makes it more understandable. I just couldnt figure out the correct initialization for my HashMap.\r\n\r\nSorry for the unstructured code, i hope it&#180;s not a pain for anyone intersted in reading it.","title":"JAVA How can I create a List of Strings each referring to a seperate Hashmap&lt;String, Integer&gt;","body":"<p>Soo  Baically what had to be done, was to create a HashMap within a HashMap.</p>\n<p>We have a HashMap (table 1) with Strings (languages) as keys and for the values another HashMap (tables 2). So each key i.e. language has a own HashMap where the nGrams are stored and how often they are used in the language.</p>\n<p>What I needed to do, was implement a Instance of HashMap which I had created (in order to use my own hash/probe function and other implemented methods).\nBut Because the name is the same as the HashMap class from the JDK, it let to confusion as @bohemian had pointed out.</p>\n<p>The correct initialization for our Table 1 is:</p>\n<pre><code>LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt; languages;\n</code></pre>\n<p>I forgot to mention, that the key in our HashMap is always a String, but the values only can be whatever we initilize it as.</p>\n<p>Here is the complete Code for our school task:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.lang.reflect.Array;\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\n\n\npublic class LanguageDetector {\n\n    // n = the length of n-grams to use\n    int n;\n\n    // N = the size of the language-specific hash tables (&quot;Tabelle 2&quot;)\n    int N;\n\n    LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt; languages;\n    ArrayList&lt;String&gt; languagesList;\n    \n    public LanguageDetector(int n, int N) {\n        this.n = n;\n        this.N = N;\n        languages = new LanguageDetector.HashMap&lt;LanguageDetector.HashMap&lt;Integer&gt;&gt;(101, 31);\n        languagesList = new ArrayList&lt;&gt;();\n    }\n\n    //a given String is split into nGrams and for each nGram the most accurate language gets a &quot;point&quot;.\n    //languaegs and their points are stored in a hash map\n    public HashMap&lt;Integer&gt; apply(String text) {\n        LanguageDetector.HashMap&lt;Integer&gt; resultMap = new HashMap&lt;&gt;(languagesList.size(), 31);\n        ArrayList&lt;String&gt; ngramWinners = new ArrayList&lt;&gt;();\n       \n\n        for(String lang : languagesList){\n            resultMap.add(lang, 0);  \n        }\n\n        int currentCount = 0;\n        int maxCount = 0;\n        \n        //äußere Schleife für ngram-durchlauf \n        int k = n;\n        for(int j = 0; j&lt;=text.length()-n; j++){\n\n            //durchlauf aller Sprachen für jedes nGram\n            for(int i = 0; i&lt;languagesList.size(); i++){\n                \n                //bestimmen in welcher Sprache das aktuelle nGram am häufigsten vorkommt\n                String ngram = text.substring(j, k);\n                currentCount = getCount(ngram, languagesList.get(i));\n                //System.out.println(currentCount);\n                if(currentCount&gt;maxCount){\n                    maxCount = currentCount;\n                    //currentCount = 0;\n                    ngramWinners.clear();\n                    ngramWinners.add(languagesList.get(i));\n                    break;\n                }\n                if(currentCount==maxCount){\n                    ngramWinners.add(languagesList.get(i));\n                }\n            }\n\n            //wenn das nGram in keiner Sprache verwendet wird, gibt es Punkte für niemanden\n            if(maxCount != 0){\n                //speicherung und aktualisieren des &quot;scores&quot;\n                for(int i = 0; i&lt;ngramWinners.size();i++){\n                    int newCount = resultMap.get(ngramWinners.get(i)) + 1;\n                    resultMap.add(ngramWinners.get(i), newCount);\n                    //System.out.println(ngramWinners.get(i));\n                }\n            }\n            ngramWinners.clear();\n            maxCount = 0;\n            k+=1;\n        }\n\n        return resultMap;\n    }\n    \n    public void learnLanguage(String language, String text) {      \n        if(languages.get(language) == null){\n            languages.add(language, new LanguageDetector.HashMap&lt;&gt;(N, 31));\n            languagesList.add(language);\n        }\n        LanguageDetector.HashMap&lt;Integer&gt; ngramMap = languages.get(language);\n\n        int k = n;\n        for(int j = 0; j&lt;=text.length()-n; j++){\n            String ngram = text.substring(j, k);\n            if(ngramMap.get(ngram) != null){\n                int ngramPlus = ngramMap.get(ngram) + 1;\n                ngramMap.add(ngram, ngramPlus);\n            } else{\n                ngramMap.add(ngram, 1);\n            }\n            k+=1;\n        }    \n        \n        //ngramMap.printHashMap();\n    }\n\n    public int getCount(String ngram, String language){\n        if(languages.get(language) == null || languages.get(language).get(ngram) == null){\n            return 0;\n        }\n        return languages.get(language).get(ngram);\n    }\n\n    //the hashMap returned from apply method can be inserted here to get the language as a string\n    public String checkLanguage(LanguageDetector.HashMap&lt;Integer&gt; result){\n        String finalLanguage;\n        int currentCount = 0;\n        int maxCount = 0;\n        ArrayList&lt;String&gt; languageWinners = new ArrayList&lt;&gt;();\n\n        //look for languages with most votes (and store in languageWinners)\n        for(int i = 0; i &lt; languagesList.size(); i++){\n            currentCount = result.get(languagesList.get(i));\n                \n            if(currentCount&gt;maxCount){\n                maxCount = currentCount;\n                //currentCount = 0;\n                languageWinners.clear();\n                languageWinners.add(languagesList.get(i));\n            }\n            else if(currentCount==maxCount){\n                languageWinners.add(languagesList.get(i));\n            }\n        }\n\n        //System.out.println(languageWinners);\n\n        //there is one language with most votes\n        if(languageWinners.size() == 1){\n            finalLanguage = languageWinners.get(0);\n            return finalLanguage;\n        }\n\n        //multiple languages have same votes --&gt; lexiographically sorted.\n        for(int i = 0; i&lt;languageWinners.size();i++){          \n            for (int j = i + 1; j &lt; languageWinners.size(); j++) {\n                if (languageWinners.get(i).compareToIgnoreCase(languageWinners.get(j)) &gt; 0) {\n                    String temp = languageWinners.get(i);\n                    languageWinners.set(i, languageWinners.get(j));\n                    languageWinners.set(j, temp);\n                }\n            }            \n        }\n        finalLanguage = languageWinners.get(0);\n        return finalLanguage;\n    }\n    \n    // open a file, read its lines, return them as an array.\n    private static String read(String filename) {\n        // !!! NO NEED TO CHANGE !!!\n                \n        try {\n            \n            StringBuilder sb = new StringBuilder();\n                \n            Reader in = new InputStreamReader(new FileInputStream(filename),\n                            &quot;UTF-8&quot;);\n\n            BufferedReader reader = new BufferedReader(in);\n                \n            String s;\n            while ((s = reader.readLine()) != null) {\n            // Ignoriere Leerzeilen und Kommentare\n            if (s.length() != 0 &amp;&amp; s.charAt(0) != '#') {\n                sb.append(s);\n            }\n            }\n                \n            reader.close();\n                \n            return sb.toString();\n            \n        } catch (IOException e) {       \n            String msg = &quot;I/O-Fehler bei &quot; + filename + &quot;\\n&quot; + e.getMessage();\n            throw new RuntimeException(msg);        \n        }\n    } \n\n    //creating own hashmap class\n    public static class HashMap&lt;T&gt; {\n\n        //creating Entry class\n        public class Entry {\n            String key;\n            T value;\n            Entry next;\n                \n            Entry(String key, T value) {\n                this.key = key;\n                this.value = value;\n            }\n        }\n\n        Entry[] table;\n        int basis;\n\n        public HashMap(int N, int basis) {\n            table = (Entry[]) Array.newInstance(Entry[].class.getComponentType(), N);\n            this.basis = basis;\n        }     \n\n        //add method, uses individual hashCode &amp; probe function, for finding best possible index.\n        public boolean add(String key, T value) {\n            int index = hashCode(key);\n            Entry entryOnIndex = table[index];\n\n            if(entryOnIndex == null){\n                table[index] = new Entry(key, value);\n                return true;\n            }\n            if (entryOnIndex != null &amp;&amp; entryOnIndex.key.equals(key)) {\n                entryOnIndex.value = value;\n            } \n            else{\n                // Schlüssel in der HashMap suchen\n                int currentIndex = index;\n                int m = 0;\n\n                while (table[currentIndex] != null &amp;&amp; m &lt;= table.length) {\n                    currentIndex = sondieren(currentIndex, m);\n                    Entry currentEntry = table[currentIndex];\n\n                    if (currentEntry != null &amp;&amp; currentEntry.key.equals(key)) {\n                        currentEntry.value = value;\n                        return true;\n                    }\n\n                    m++;\n                }\n\n                if(table[currentIndex] == null){\n                    Entry newEntry = new Entry(key, value);\n                    table[currentIndex] = newEntry;\n                }\n            }\n            return false;\n        }\n\n        //very similar to add method. ..&gt; possible alternative: implement a third methode to outsource redundant code. --&gt; return the found index\n        public T get(String key) {\n            int index = hashCode(key);\n            Entry entryOnIndex = table[index];\n\n            if(entryOnIndex == null){\n                return null;\n            }\n            if (entryOnIndex != null &amp;&amp; entryOnIndex.key.equals(key)) {\n                return entryOnIndex.value;\n            }\n            else{\n                // Schlüssel in der HashMap suchen, da sondierung angewandt wurde\n                int currentIndex = index;\n                int m = 0;\n\n                while (table[currentIndex] != null &amp;&amp; m &lt;= table.length) {\n                    currentIndex = sondieren(currentIndex, m);\n                    Entry currentEntry = table[currentIndex];\n\n                    if (currentEntry != null &amp;&amp; currentEntry.key.equals(key)) {\n                        return currentEntry.value;\n                    }\n\n                    m++;\n                }\n            }\n            return null;\n        }\n\n        //returns the fillratio relative to the HashMap Capacity\n        public double fillRatio() {\n            double ratio = 0;\n            for(Entry e : table){\n                if(e!=null){\n                    ratio+=1;\n                }\n            }\n            return ratio/table.length;\n        }\n                \n        //hash-function for hashing the key (simplyfied): h(k) = (k₁ * B^(n-1) + k₂ * B^(n-2) + ... + kₙ₋₁ * B + kₙ) % N\n        public int hashCode(String k) {\n            double hash = 0;\n            int n = k.length();\n\n            for(int i = 0; i&lt;k.length(); i++){\n                hash = hash + (k.charAt(i) * Math.pow(basis,n-(i+1)) );\n                hash %= table.length; \n            }\n            \n            //System.out.println(&quot;Hash-Code for &quot; + k + &quot;: &quot;+ hash);\n            return (int) hash;\n        }\n\n        //probe function: g(m + 1) = (g(m) + 2m + 1) % N\n        public int sondieren(int index, int m) {\n            return (index + 2 * m + 1) % table.length;\n        }\n        \n        //for testing purposes only\n        public void printHashMap() {\n            System.out.println();\n            for (int i = 0; i &lt; this.table.length; i++) {\n                Entry entry = (Entry) this.table[i];\n                System.out.print(i + &quot;: &quot;);\n                while (entry != null) {\n                    System.out.print(&quot;(&quot; + entry.key + &quot; = &quot; + entry.value + &quot;) &quot;);\n                    entry = entry.next;\n                }\n                System.out.println();\n            }\n        }\n    //end of HashMap Class\n    }\n\n    //reads txt files into Strings. These are used to learn languages .&gt; given senctences are checked and the language is displayed (accuraccy is also displayed) [using different n-Gram and hashMap sizes]\n    public static LanguageDetector runTest(String BASE, int n, int N) {\n        \n        LanguageDetector myDetector = new LanguageDetector(n, N);\n\n        String alice_en = read(&quot;src\\\\alice\\\\alice.en.txt&quot;);\n        String alice_de = read(&quot;src\\\\alice\\\\alice.de.txt&quot;);\n        String alice_eo = read(&quot;src\\\\alice\\\\alice.eo.txt&quot;);\n        String alice_fi = read(&quot;src\\\\alice\\\\alice.fi.txt&quot;);\n        String alice_fr = read(&quot;src\\\\alice\\\\alice.fr.txt&quot;);\n        String alice_it = read(&quot;src\\\\alice\\\\alice.it.txt&quot;);\n\n        myDetector.learnLanguage(&quot;english&quot;, alice_en);\n        myDetector.learnLanguage(&quot;german&quot;, alice_de);\n        myDetector.learnLanguage(&quot;esperanto&quot;, alice_eo);\n        myDetector.learnLanguage(&quot;finnish&quot;, alice_fi);\n        myDetector.learnLanguage(&quot;french&quot;, alice_fr);\n        myDetector.learnLanguage(&quot;italian&quot;, alice_it);\n\n        \n        String[] sentences = new String[] {\n\n            // 11 x English\n            &quot;I'm going to make him an offer he can't refuse.&quot;,\n            &quot;Toto, I've got a feeling we're not in Kansas anymore.&quot;,\n            &quot;May the Force be with you.&quot;,\n            &quot;If you build it, he will come.&quot;,\n            &quot;I'll have what she's having.&quot;,\n            &quot;A martini. Shaken, not stirred.&quot;,\n            &quot;Some people can’t believe in themselves until someone else believes in them first.&quot;,\n            &quot;I feel the need - the need for speed!&quot;,\n            &quot;Carpe diem. Seize the day, boys. Make your lives extraordinary.&quot;,\n            &quot;Nobody puts Baby in a corner.&quot;,\n            &quot;I'm king of the world!&quot;,\n\n            // 11 x Deutsch\n            &quot;Aber von jetzt an steht ihr alle in meinem Buch der coolen Leute.&quot;,\n            &quot;Wäre, wäre, Fahradkette&quot;,\n            &quot;Sehe ich aus wie jemand, der einen Plan hat?&quot;,\n            &quot;Erwartet mein Kommen, beim ersten Licht des fünften Tages.&quot;,\n            &quot;Du bist terminiert!&quot;,\n            &quot;Ich hab eine Wassermelone getragen.&quot;,\n            &quot;Einigen wir uns auf Unentschieden!&quot;,\n            &quot;Du wartest auf einen Zug, ein Zug der dich weit weg bringen wird.&quot;,\n            &quot;Ich bin doch nur ein Mädchen, das vor einem Jungen steht, und ihn bittet, es zu lieben.&quot;,\n            &quot;Ich genoss seine Leber mit ein paar Fava-Bohnen, dazu einen ausgezeichneten Chianti.&quot;,\n            &quot;Dumm ist der, der Dummes tut.&quot;,\n\n            // 9 x Esperanto\n            &quot;Al du sinjoroj samtempe oni servi ne povas.&quot;,\n            &quot;Al la fiŝo ne instruu naĝarton.&quot;,\n            &quot;Fiŝo pli granda malgrandan englutas.&quot;,\n            &quot;Kia patrino, tia filino.&quot;,\n            &quot;La manĝota fiŝo estas ankoraŭ en la rivero.&quot;,\n            &quot;Ne kotas besto en sia nesto.&quot;,\n            &quot;Ne singardema kokino fidas je vulpo.&quot;,\n            &quot;Por sperto kaj lerno ne sufiĉas eterno.&quot;,\n            &quot;Unu hako kverkon ne faligas.&quot;,\n\n            // 8 x Finnisch\n            &quot;Hei, hauska tavata.&quot;,\n            &quot;Olen kotoisin Suomesta.&quot;,\n            &quot;Yksi harrastuksistani on lukeminen.&quot;,\n            &quot;Nautin musiikin kuuntelusta.&quot;,\n            &quot;Juhannusperinteisiin kuuluu juhannussauna tuoreiden saunavihtojen kera, sekä pulahtaminen järveen.&quot;,\n            &quot;Aamu on iltaa viisaampi.&quot;,\n            &quot;Työ tekijäänsä neuvoo.&quot;,\n            &quot;Niin metsä vastaa, kuin sinne huudetaan.&quot;,\n\n            // 9 x Französisch\n            &quot;Franchement, ma chère, c’est le cadet de mes soucis.&quot;,\n            &quot;À tes beaux yeux.&quot;,\n            &quot;Si j’aurais su, j’aurais pas v’nu!&quot;,\n            &quot;Merci la gueuse. Tu es un laideron mais tu es bien bonne.&quot;,\n            &quot;Vous croyez qu’ils oseraient venir ici?&quot;,\n            &quot;La barbe ne fait pas le philosophe.&quot;,\n            &quot;Inutile de discuter.&quot;,\n            &quot;Paris ne s’est pas fait en un jour!&quot;,\n            &quot;Quand on a pas ce que l’on aime, il faut aimer ce que l’on a.&quot;,\n\n            // 9 x Italienisch\n            &quot;Azzurro, il pomeriggio è troppo azzurro e lungo per me&quot;,\n            &quot;Con te, cos lontano e diverso Con te, amico che credevo perso &quot;,\n            &quot;è restare vicini come bambini la felicità&quot;,\n            &quot;Buongiorno, Principessa!&quot;,\n            &quot;Ho Ucciso Napoleone.&quot;,\n            &quot;L’amore vince sempre.&quot;,\n            &quot;La semplicità è l’ultima sofisticazione.&quot;,\n            &quot;Una cena senza vino e come un giorno senza sole.&quot;,\n            &quot;Se non hai mai pianto, i tuoi occhi non possono essere belli.&quot;\n        };\n\n        String[] labels = new String[] {\n\n            &quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,&quot;english&quot;,\n            &quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,&quot;german&quot;,\n            &quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,&quot;esperanto&quot;,\n            &quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,&quot;finnish&quot;,\n            &quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,&quot;french&quot;,\n            &quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;,&quot;italian&quot;\n\n        };\n\n        assert sentences.length == labels.length;\n\n        LanguageDetector.HashMap&lt;Integer&gt; result = new LanguageDetector.HashMap(N, 31);\n        int countCorrectDetection = 0;\n        int loopCount = 0;\n        double successRate = 0;\n\n        //detect language and count how many languages were checked and how many were correct\n        for(int i = 0; i&lt;57; i++){\n            result = myDetector.apply(sentences[i]);\n            String detectedLanguage = myDetector.checkLanguage(result);\n            //System.out.println(&quot;detected language *&quot;+detectedLanguage+&quot;* for: \\n&quot; + sentences[i]+&quot;\\n&quot;);\n            //result.printHashMap();\n            //System.out.println();\n            if(detectedLanguage.equals(labels[i])){\n                countCorrectDetection += 1;\n            }\n            loopCount += 1;\n        }\n\n        //calculate percentage\n        if(countCorrectDetection != 0 &amp;&amp; loopCount != 0){\n            successRate = (double) countCorrectDetection / loopCount;\n            DecimalFormat prozentFormat = new DecimalFormat(&quot;#0.00%&quot;);\n            // Wandle die Double-Zahl in eine Prozentzahl mit zwei Nachkommastellen um\n            String succesRateP = prozentFormat.format(successRate);\n            \n            System.out.println(&quot;For n = &quot;+n+&quot;, N = &quot;+N);\n            System.out.println(loopCount + &quot; senctences were checked. For &quot;+countCorrectDetection+&quot; senctences the correct language was detected.\\nsucces-rate: &quot;+succesRateP+&quot;\\n&quot;);\n        }\n    \n        return myDetector;\n    }\n\n\n\n    public static void main(String[] args) {\n        runTest(&quot;31&quot;, 1, 120001);\n        runTest(&quot;31&quot;, 2, 120001);\n        runTest(&quot;31&quot;, 2, 120001);\n        runTest(&quot;31&quot;, 3, 120001);\n        runTest(&quot;31&quot;, 4, 120001);\n        runTest(&quot;31&quot;, 6, 120001);\n        runTest(&quot;31&quot;, 5, 120001);\n        runTest(&quot;31&quot;, 7, 120001);\n        runTest(&quot;31&quot;, 8, 120001);\n        runTest(&quot;31&quot;, 9, 120001);\n\n        runTest(&quot;31&quot;, 1, 1200001);\n        runTest(&quot;31&quot;, 2, 1200001);\n        runTest(&quot;31&quot;, 2, 1200001);\n        runTest(&quot;31&quot;, 3, 1200001);\n        runTest(&quot;31&quot;, 4, 1200001);\n        runTest(&quot;31&quot;, 5, 1200001);\n        runTest(&quot;31&quot;, 6, 1200001);\n        runTest(&quot;31&quot;, 7, 1200001);\n        runTest(&quot;31&quot;, 8, 1200001);\n        runTest(&quot;31&quot;, 9, 1200001);\n    \n    }\n/*\n N = 120001\n\n hier tabelle erstellen...\n */\n\n    /*\nFor n= 1, N= 120001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 2, N= 120001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 2, N= 120001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 3, N= 120001\n57 senctences were checked. For 12 senctences the correct language was detected.\nsucces-rate: 21.052631578947366%\n\nFor n= 4, N= 120001\n57 senctences were checked. For 38 senctences the correct language was detected.\nsucces-rate: 66.66666666666666%\n\nFor n= 5, N= 120001\n57 senctences were checked. For 56 senctences the correct language was detected.\nsucces-rate: 98.24561403508771%\n\nFor n= 7, N= 120001\n57 senctences were checked. For 56 senctences the correct language was detected.\nsucces-rate: 98.24561403508771%\n\nFor n= 8, N= 120001\n57 senctences were checked. For 53 senctences the correct language was detected.\nsucces-rate: 92.98245614035088%\n\nFor n= 9, N= 120001\n57 senctences were checked. For 46 senctences the correct language was detected.\nsucces-rate: 80.7017543859649%\n\nFor n= 1, N= 1200001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 2, N= 1200001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 2, N= 1200001\n57 senctences were checked. For 11 senctences the correct language was detected.\nsucces-rate: 19.298245614035086%\n\nFor n= 3, N= 1200001\n57 senctences were checked. For 12 senctences the correct language was detected.\nsucces-rate: 21.052631578947366%\n\nFor n= 4, N= 1200001\n57 senctences were checked. For 38 senctences the correct language was detected.\nsucces-rate: 66.66666666666666%\n\nFor n= 5, N= 1200001\n57 senctences were checked. For 56 senctences the correct language was detected.\nsucces-rate: 98.24561403508771%\n\nFor n= 7, N= 1200001\n57 senctences were checked. For 56 senctences the correct language was detected.\nsucces-rate: 98.24561403508771%\n\nFor n= 8, N= 1200001\n57 senctences were checked. For 53 senctences the correct language was detected.\nsucces-rate: 92.98245614035088%\n\nFor n= 9, N= 1200001\n57 senctences were checked. For 46 senctences the correct language was detected.\nsucces-rate: 80.7017543859649%\n     */\n}\n</code></pre>\n<p>I hope this clarifys my issue and makes it more understandable. I just couldnt figure out the correct initialization for my HashMap.</p>\n<p>Sorry for the unstructured code, i hope it´s not a pain for anyone intersted in reading it.</p>\n"}],"owner":{"account_id":28888171,"reputation":1,"user_id":22126030,"display_name":"adnanuzumaki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687733504,"creation_date":1687638888,"question_id":76547895,"body_markdown":"I am working on a task where I have to build a Language Detector in Java.\r\nBasically what it does, it gets a bunch of data in form of Strings and creates a HashMap for every language. This HashMap saves how often a particular n-gram is listed.\r\n\r\n**Previously, I already implemented a simple HashMap&lt;T&gt; Class with following methods:**\r\n-  Entry class with key(String) and value(&lt;t&gt;)\r\n-  add method\r\n-  get method\r\n-  hashCode\r\n-  probe methode\r\n\r\n**Here is the constructor for my HashMap&lt;T&gt; Class:**\r\nN = length, basis = 31.\r\n\r\n```\r\npublic HashMap(int N, int basis) {\r\n            table = (Entry[]) Array.newInstance(Entry[].class.getComponentType(), N);\r\n            this.basis = basis;\r\n}\r\n```\r\n\r\nNow I need to implement following method:\r\n```\r\npublic void learnLanguage(String language, String text)\r\n```\r\n\r\nI would first check if this language is listed in my list1, if not I would add it. Then I would add a HashMap for this specific language, where I store the n-Grams. (From there on its quite simple I think, just need to calculate how often a particular n-Gram is in the String &quot;text&quot; and save it in the HashMap)\r\n\r\n\r\nBut I am struggling with creating the HashMaps.\r\nI attached a image what it should look like..\r\n\r\n[how it should look like][1]\r\n\r\nHope someone can help me out!\r\n\r\n\r\n\r\nWhat I tried:\r\n\r\nTried creating a HashMap inside a HashMap, but didnt work out:\r\n\r\n```\r\nHashMap&lt;String, HashMap&lt;Integer&gt;&gt; languageMap;\r\n```\r\n\r\nThere are some errors and I dont know how to get rid. Also not thinking this is the best option.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CgxRB.png","title":"JAVA How can I create a List of Strings each referring to a seperate Hashmap&lt;String, Integer&gt;","body":"<p>I am working on a task where I have to build a Language Detector in Java.\nBasically what it does, it gets a bunch of data in form of Strings and creates a HashMap for every language. This HashMap saves how often a particular n-gram is listed.</p>\n<p><strong>Previously, I already implemented a simple HashMap Class with following methods:</strong></p>\n<ul>\n<li>Entry class with key(String) and value()</li>\n<li>add method</li>\n<li>get method</li>\n<li>hashCode</li>\n<li>probe methode</li>\n</ul>\n<p><strong>Here is the constructor for my HashMap Class:</strong>\nN = length, basis = 31.</p>\n<pre><code>public HashMap(int N, int basis) {\n            table = (Entry[]) Array.newInstance(Entry[].class.getComponentType(), N);\n            this.basis = basis;\n}\n</code></pre>\n<p>Now I need to implement following method:</p>\n<pre><code>public void learnLanguage(String language, String text)\n</code></pre>\n<p>I would first check if this language is listed in my list1, if not I would add it. Then I would add a HashMap for this specific language, where I store the n-Grams. (From there on its quite simple I think, just need to calculate how often a particular n-Gram is in the String &quot;text&quot; and save it in the HashMap)</p>\n<p>But I am struggling with creating the HashMaps.\nI attached a image what it should look like..</p>\n<p><a href=\"https://i.stack.imgur.com/CgxRB.png\" rel=\"nofollow noreferrer\">how it should look like</a></p>\n<p>Hope someone can help me out!</p>\n<p>What I tried:</p>\n<p>Tried creating a HashMap inside a HashMap, but didnt work out:</p>\n<pre><code>HashMap&lt;String, HashMap&lt;Integer&gt;&gt; languageMap;\n</code></pre>\n<p>There are some errors and I dont know how to get rid. Also not thinking this is the best option.</p>\n"},{"tags":["java","android","android-studio","google-cloud-firestore","google-cloud-functions"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687673448,"creation_date":1687673448,"answer_id":76549104,"question_id":76548388,"body_markdown":"TL;DR: you&#39;re not telling Cloud Functions that you&#39;re running an asynchronous operation (`sendToTopic`), which causes it to retry.\r\n\r\nA Cloud Function should *always*:\r\n\r\n* Either return a value indicating if it was successful. Any value will do, but you must return something.\r\n* Or return a `Promise` that resolves when it has completed its asynchronous operations.\r\n\r\nSince you do neither of these, the Cloud Functions runtime assumes something went wrong and retries it.\r\n\r\n```\r\nexports.androidPushNotification = functions.firestore.document(&quot;Notifications/{docId}&quot;).onCreate(\r\n    (snapshot, context) =&gt; {\r\n        return admin.messaging().sendToTopic(\r\n            snapshot.data().userid,\r\n            {\r\n                notification: {\r\n                    title: snapshot.data().title,\r\n                    body: snapshot.data().body\r\n                }\r\n            }\r\n        )\r\n    }\r\n);\r\n```\r\n\r\nSince [`sendToTopic`](https://firebase.google.com/docs/reference/admin/node/firebase-admin.messaging.messaging.md#messagingsendtotopic) returns a `Promise` already, we can just return that to Cloud Functions to make things work.\r\n\r\nAlso see the documentation on [terminating functions](https://firebase.google.com/docs/functions/terminate-functions), including the great video series in there.","title":"A method I wrote involuntarily runs more than once","body":"<p>TL;DR: you're not telling Cloud Functions that you're running an asynchronous operation (<code>sendToTopic</code>), which causes it to retry.</p>\n<p>A Cloud Function should <em>always</em>:</p>\n<ul>\n<li>Either return a value indicating if it was successful. Any value will do, but you must return something.</li>\n<li>Or return a <code>Promise</code> that resolves when it has completed its asynchronous operations.</li>\n</ul>\n<p>Since you do neither of these, the Cloud Functions runtime assumes something went wrong and retries it.</p>\n<pre><code>exports.androidPushNotification = functions.firestore.document(&quot;Notifications/{docId}&quot;).onCreate(\n    (snapshot, context) =&gt; {\n        return admin.messaging().sendToTopic(\n            snapshot.data().userid,\n            {\n                notification: {\n                    title: snapshot.data().title,\n                    body: snapshot.data().body\n                }\n            }\n        )\n    }\n);\n</code></pre>\n<p>Since <a href=\"https://firebase.google.com/docs/reference/admin/node/firebase-admin.messaging.messaging.md#messagingsendtotopic\" rel=\"nofollow noreferrer\"><code>sendToTopic</code></a> returns a <code>Promise</code> already, we can just return that to Cloud Functions to make things work.</p>\n<p>Also see the documentation on <a href=\"https://firebase.google.com/docs/functions/terminate-functions\" rel=\"nofollow noreferrer\">terminating functions</a>, including the great video series in there.</p>\n"},{"tags":[],"owner":{"account_id":28341698,"reputation":13,"user_id":21674597,"display_name":"gkhnmr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687732514,"creation_date":1687732514,"answer_id":76552670,"question_id":76548388,"body_markdown":"        private void sendNotification(String recieverId, String body) {\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\r\n        notification.put(&quot;userid&quot;, recieverId);\r\n        notification.put(&quot;title&quot;, &quot;Anonim Chat&quot; + &quot;&amp;data&quot; + senderid + &quot;&amp;data&quot; + name + &quot;&amp;data&quot; + profilePic);\r\n        notification.put(&quot;body&quot;, name + &quot;: &quot; + body);\r\n        firestore.collection(&quot;Notifications&quot;).document(senderid).set(notification).addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                Log.w(&quot;test-message&quot;, &quot;onComplete: bildirim başarıyla eklendi&quot;);\r\n                firestore.collection(&quot;Notifications&quot;).document(senderid).delete();\r\n            }\r\n        }).addOnFailureListener(e -&gt; Log.e(&quot;test-message&quot;, &quot;onFailure: &quot; + e.getLocalizedMessage()));\r\n\r\n        firestore.collection(&quot;NotificationsBackup&quot;).document(senderid).set(notification).addOnSuccessListener(unused -&gt; Log.w(&quot;test-message&quot;, &quot;sendNotification: &quot; + &quot;bildirim yedeği alındı&quot;));\r\n    }\r\n\r\n\r\n\r\nI changed the method like this and the problem went away. I guess this problem occurred because addSnapShotListener is constantly checking for changes in the database. I got the user information in onCreate() and the problem is fixed.","title":"A method I wrote involuntarily runs more than once","body":"<pre><code>    private void sendNotification(String recieverId, String body) {\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n    Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\n    notification.put(&quot;userid&quot;, recieverId);\n    notification.put(&quot;title&quot;, &quot;Anonim Chat&quot; + &quot;&amp;data&quot; + senderid + &quot;&amp;data&quot; + name + &quot;&amp;data&quot; + profilePic);\n    notification.put(&quot;body&quot;, name + &quot;: &quot; + body);\n    firestore.collection(&quot;Notifications&quot;).document(senderid).set(notification).addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            Log.w(&quot;test-message&quot;, &quot;onComplete: bildirim başarıyla eklendi&quot;);\n            firestore.collection(&quot;Notifications&quot;).document(senderid).delete();\n        }\n    }).addOnFailureListener(e -&gt; Log.e(&quot;test-message&quot;, &quot;onFailure: &quot; + e.getLocalizedMessage()));\n\n    firestore.collection(&quot;NotificationsBackup&quot;).document(senderid).set(notification).addOnSuccessListener(unused -&gt; Log.w(&quot;test-message&quot;, &quot;sendNotification: &quot; + &quot;bildirim yedeği alındı&quot;));\n}\n</code></pre>\n<p>I changed the method like this and the problem went away. I guess this problem occurred because addSnapShotListener is constantly checking for changes in the database. I got the user information in onCreate() and the problem is fixed.</p>\n"}],"owner":{"account_id":28341698,"reputation":13,"user_id":21674597,"display_name":"gkhnmr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687732514,"creation_date":1687650789,"question_id":76548388,"body_markdown":"With Cloud Function I was able to send notifications from one device to the receiving device. However, the notifications after the first message I sent on the chat screen are being sent again with all the notifications before it. One notification in the first message, two notifications in the second message and 3 notifications in the third message continues in this way. Normally it only needs to send one notification for each message. I&#39;ve been trying for hours and I can&#39;t find where the error comes from..\r\n\r\nHere, in the event that is triggered every time a new notification file is added under the Notifications/ collection in the firabase database, I set the recipient id as Topic. Since I have subscribed the recipient to this topic, notifications only go to him. I think there is no problem here.\r\n\r\nindex.js in Cloud functions service\r\n```\r\nconst functions = require(&quot;firebase-functions&quot;);\r\nconst admin = require(&quot;firebase-admin&quot;);\r\nadmin.initializeApp();\r\n\r\nexports.androidPushNotification = functions.firestore.document(&quot;Notifications/{docId}&quot;).onCreate(\r\n    (snapshot, context) =&gt; {\r\n        admin.messaging().sendToTopic(\r\n            snapshot.data().userid,\r\n            {\r\n                notification: {\r\n                    title: snapshot.data().title,\r\n                    body: snapshot.data().body\r\n                }\r\n            }\r\n        )\r\n    }\r\n);\r\n```\r\n\r\n\r\nthis is my ChatDetailActivity class. When the message will be sent, I add a file to the Notifications/ directory so that the above notification send event is triggered. I add the title, senirid, name and profilepic information to the title element of this file (I couldn&#39;t find any other way, this came to mind). With the split management, I parse the information while showing the notification and show the notification like that. In the body element, there is the message information that the user sent. I think the problem comes from here because when notification is added here in firestore database, the information of previous messages is added again and the above onCreate event is triggered for old messages. It sounds like there is a simple runtime error. but I couldn&#39;t solve the problem.\r\n\r\n```\r\n     private void sendNotification(String recieverid, String body) {\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        firestore.collection(&quot;users&quot;).document(mUser.getUid()).addSnapshotListener((value, error) -&gt; {\r\n            String profilepic;\r\n            String name;\r\n            if (value != null){\r\n                name = value.getString(&quot;name&quot;);\r\n                profilepic = value.getString(&quot;profilepic&quot;);\r\n                Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\r\n                notification.put(&quot;userid&quot;, recieverid);\r\n                notification.put(&quot;title&quot;, &quot;Anonim Chat&quot; + &quot;&amp;data&quot; + senderid + &quot;&amp;data&quot; + name + &quot;&amp;data&quot; + profilepic);\r\n                notification.put(&quot;body&quot;, name + &quot;: &quot; + body);\r\n                firestore.collection(&quot;Notifications&quot;).document().set(notification).addOnCompleteListener(task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                        Log.w(&quot;test-message&quot;, &quot;onComplete: bildirim başarıyla eklendi g&#246;nderildi&quot;);\r\n                    }\r\n                }).addOnFailureListener(e -&gt; Log.e(&quot;test-message&quot;, &quot;onFailure: &quot; + e.getLocalizedMessage()));\r\n            }\r\n        });\r\n```\r\n\r\n\r\nhere is the FirebaseMessagingService class. I am parsing the information in the title object in the notification sent with Cloud Function and showing the notification. I would be very glad if someone could help. I obsessed about this problem.\r\n\r\n```\r\n    public class PushNotificationService extends FirebaseMessagingService {\r\n     \r\n        @Override\r\n        public void onNewToken(@NonNull String token) {\r\n            super.onNewToken(token);\r\n        }\r\n     \r\n        @Override\r\n        public void onMessageReceived(@NonNull RemoteMessage message) {\r\n            super.onMessageReceived(message);\r\n     \r\n            String gelenMesaj = Objects.requireNonNull(message.getNotification()).getTitle();\r\n            assert gelenMesaj != null;\r\n            String[] dizi = gelenMesaj.split(&quot;&amp;data&quot;, 100);\r\n            Log.w(&quot;MESSAGE&quot;, &quot;onMessageReceived: SenderID: &quot; + dizi[1]);\r\n     \r\n            String title = dizi[0];\r\n            String senderid = dizi[1];\r\n            String name = dizi[2];\r\n            String profilepic= dizi[3];\r\n            if (!ChatDetailActivity.getNotificationSenderId().equals(senderid)){\r\n                String body = message.getNotification().getBody();\r\n                final String CHANNEL_ID = &quot;HEADS_UP_NOTIFICATIONS&quot;;\r\n                NotificationChannel channel = new NotificationChannel(\r\n                        CHANNEL_ID,\r\n                        &quot;MyNotification&quot;,\r\n                        NotificationManager.IMPORTANCE_HIGH);\r\n     \r\n                channel.enableLights(false);\r\n                channel.enableVibration(true);\r\n                channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n     \r\n     \r\n                Intent intent = new Intent(getApplicationContext(), ChatDetailActivity.class);\r\n                intent.putExtra(&quot;userid&quot;, senderid);\r\n                intent.putExtra(&quot;name&quot;, name);\r\n                intent.putExtra(&quot;profilepic&quot;, profilepic);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                PendingIntent pendingIntent = PendingIntent.getActivity(this, 1, intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_IMMUTABLE);\r\n     \r\n                getSystemService(NotificationManager.class).createNotificationChannel(channel);\r\n                Notification.Builder notification = new Notification.Builder(this, CHANNEL_ID)\r\n                        .setContentTitle(title)\r\n                        .setContentText(body)\r\n                        .setContentIntent(pendingIntent)\r\n                        .setSmallIcon(R.mipmap.ic_launcher)\r\n                        .setAutoCancel(true);\r\n     \r\n                Log.w(&quot;BODY&quot;, &quot;onMessageReceived: &quot; + body);\r\n     \r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                    Log.w(&quot;NOTIFY&quot;, &quot;İzin yok izin istenmeli&quot;);\r\n                    return;\r\n                }\r\n                NotificationManagerCompat.from(this).notify(1, notification.build());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n","title":"A method I wrote involuntarily runs more than once","body":"<p>With Cloud Function I was able to send notifications from one device to the receiving device. However, the notifications after the first message I sent on the chat screen are being sent again with all the notifications before it. One notification in the first message, two notifications in the second message and 3 notifications in the third message continues in this way. Normally it only needs to send one notification for each message. I've been trying for hours and I can't find where the error comes from..</p>\n<p>Here, in the event that is triggered every time a new notification file is added under the Notifications/ collection in the firabase database, I set the recipient id as Topic. Since I have subscribed the recipient to this topic, notifications only go to him. I think there is no problem here.</p>\n<p>index.js in Cloud functions service</p>\n<pre><code>const functions = require(&quot;firebase-functions&quot;);\nconst admin = require(&quot;firebase-admin&quot;);\nadmin.initializeApp();\n\nexports.androidPushNotification = functions.firestore.document(&quot;Notifications/{docId}&quot;).onCreate(\n    (snapshot, context) =&gt; {\n        admin.messaging().sendToTopic(\n            snapshot.data().userid,\n            {\n                notification: {\n                    title: snapshot.data().title,\n                    body: snapshot.data().body\n                }\n            }\n        )\n    }\n);\n</code></pre>\n<p>this is my ChatDetailActivity class. When the message will be sent, I add a file to the Notifications/ directory so that the above notification send event is triggered. I add the title, senirid, name and profilepic information to the title element of this file (I couldn't find any other way, this came to mind). With the split management, I parse the information while showing the notification and show the notification like that. In the body element, there is the message information that the user sent. I think the problem comes from here because when notification is added here in firestore database, the information of previous messages is added again and the above onCreate event is triggered for old messages. It sounds like there is a simple runtime error. but I couldn't solve the problem.</p>\n<pre><code>     private void sendNotification(String recieverid, String body) {\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n        firestore.collection(&quot;users&quot;).document(mUser.getUid()).addSnapshotListener((value, error) -&gt; {\n            String profilepic;\n            String name;\n            if (value != null){\n                name = value.getString(&quot;name&quot;);\n                profilepic = value.getString(&quot;profilepic&quot;);\n                Map&lt;String, Object&gt; notification = new HashMap&lt;&gt;();\n                notification.put(&quot;userid&quot;, recieverid);\n                notification.put(&quot;title&quot;, &quot;Anonim Chat&quot; + &quot;&amp;data&quot; + senderid + &quot;&amp;data&quot; + name + &quot;&amp;data&quot; + profilepic);\n                notification.put(&quot;body&quot;, name + &quot;: &quot; + body);\n                firestore.collection(&quot;Notifications&quot;).document().set(notification).addOnCompleteListener(task -&gt; {\n                    if (task.isSuccessful()) {\n                        Log.w(&quot;test-message&quot;, &quot;onComplete: bildirim başarıyla eklendi gönderildi&quot;);\n                    }\n                }).addOnFailureListener(e -&gt; Log.e(&quot;test-message&quot;, &quot;onFailure: &quot; + e.getLocalizedMessage()));\n            }\n        });\n</code></pre>\n<p>here is the FirebaseMessagingService class. I am parsing the information in the title object in the notification sent with Cloud Function and showing the notification. I would be very glad if someone could help. I obsessed about this problem.</p>\n<pre><code>    public class PushNotificationService extends FirebaseMessagingService {\n     \n        @Override\n        public void onNewToken(@NonNull String token) {\n            super.onNewToken(token);\n        }\n     \n        @Override\n        public void onMessageReceived(@NonNull RemoteMessage message) {\n            super.onMessageReceived(message);\n     \n            String gelenMesaj = Objects.requireNonNull(message.getNotification()).getTitle();\n            assert gelenMesaj != null;\n            String[] dizi = gelenMesaj.split(&quot;&amp;data&quot;, 100);\n            Log.w(&quot;MESSAGE&quot;, &quot;onMessageReceived: SenderID: &quot; + dizi[1]);\n     \n            String title = dizi[0];\n            String senderid = dizi[1];\n            String name = dizi[2];\n            String profilepic= dizi[3];\n            if (!ChatDetailActivity.getNotificationSenderId().equals(senderid)){\n                String body = message.getNotification().getBody();\n                final String CHANNEL_ID = &quot;HEADS_UP_NOTIFICATIONS&quot;;\n                NotificationChannel channel = new NotificationChannel(\n                        CHANNEL_ID,\n                        &quot;MyNotification&quot;,\n                        NotificationManager.IMPORTANCE_HIGH);\n     \n                channel.enableLights(false);\n                channel.enableVibration(true);\n                channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n     \n     \n                Intent intent = new Intent(getApplicationContext(), ChatDetailActivity.class);\n                intent.putExtra(&quot;userid&quot;, senderid);\n                intent.putExtra(&quot;name&quot;, name);\n                intent.putExtra(&quot;profilepic&quot;, profilepic);\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                PendingIntent pendingIntent = PendingIntent.getActivity(this, 1, intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_IMMUTABLE);\n     \n                getSystemService(NotificationManager.class).createNotificationChannel(channel);\n                Notification.Builder notification = new Notification.Builder(this, CHANNEL_ID)\n                        .setContentTitle(title)\n                        .setContentText(body)\n                        .setContentIntent(pendingIntent)\n                        .setSmallIcon(R.mipmap.ic_launcher)\n                        .setAutoCancel(true);\n     \n                Log.w(&quot;BODY&quot;, &quot;onMessageReceived: &quot; + body);\n     \n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n                    Log.w(&quot;NOTIFY&quot;, &quot;İzin yok izin istenmeli&quot;);\n                    return;\n                }\n                NotificationManagerCompat.from(this).notify(1, notification.build());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":15624718,"reputation":2360,"user_id":11272685,"display_name":"Alexandr Shapkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687732332,"creation_date":1687732332,"answer_id":76552657,"question_id":76549512,"body_markdown":"Due to the crash, your WAL files are now corrupted. \r\n\r\nThe most straightforward solution will be - clean the persistence on the affected node and rebalance the data. \r\n\r\nIf you don&#39;t care about the possible data inconsistency, try deleting only WAL-related ones first:\r\n\r\n    /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/ \r\n    /data/local/db/wal/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n    /data/local/db/archive/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0","title":"The ignite docker keeps restarting automatically. Error cause :IgniteCheckedException: WAL history is too short","body":"<p>Due to the crash, your WAL files are now corrupted.</p>\n<p>The most straightforward solution will be - clean the persistence on the affected node and rebalance the data.</p>\n<p>If you don't care about the possible data inconsistency, try deleting only WAL-related ones first:</p>\n<pre><code>/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/ \n/data/local/db/wal/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n/data/local/db/archive/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n</code></pre>\n"}],"owner":{"account_id":19286159,"reputation":39,"user_id":14097092,"display_name":"CSharp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687732332,"creation_date":1687681180,"question_id":76549512,"body_markdown":"After the virtual machine where my ignite docker service is located was rebooted, this error occurred :IgniteCheckedException: WAL history is too short, and because my docker-compose file has an automatic restart set, my ignite service keeps restarting automatically. Does anyone know what the problem is or what&#39;s causing it? Below is the ignite log of an automatic restart.\r\n\r\nApache Ignite Version:2.11.1\r\nJVM_OPTS=-Xms1024m -Xmx3584m -XX:+HeapDumpOnOutOfMemoryError -DIGNITE_QUIET=true -Duser.timezone=UTC -Djava.net.preferIPv4Stack=true -XX:+AlwaysPreTouch -XX:+UseG1GC -XX:+ScavengeBeforeFullGC -XX:+DisableExplicitGC\r\n```\r\n[03:23:35,136][WARNING][main][G] Ignite work directory is not provided, automatically resolved to: /opt/ignite/apache-ignite/work\r\n[03:23:35,145][WARNING][main][G] Consistent ID is not set, it is recommended to set consistent ID for production clusters (use IgniteConfiguration.setConsistentId property)\r\n[03:23:35,253][INFO][main][IgniteKernal] \r\n\r\n&gt;&gt;&gt;    __________  ________________  \r\n&gt;&gt;&gt;   /  _/ ___/ |/ /  _/_  __/ __/  \r\n&gt;&gt;&gt;  _/ // (7 7    // /  / / / _/    \r\n&gt;&gt;&gt; /___/\\___/_/|_/___/ /_/ /___/   \r\n&gt;&gt;&gt; \r\n&gt;&gt;&gt; ver. 2.11.1#20211220-sha1:eae1147d\r\n&gt;&gt;&gt; 2021 Copyright(C) Apache Software Foundation\r\n&gt;&gt;&gt; \r\n&gt;&gt;&gt; Ignite documentation: http://ignite.apache.org\r\n\r\n[03:23:35,264][INFO][main][IgniteKernal] Config URL: file:/opt/ignite/apache-ignite/config/default-config.xml\r\n[03:23:35,282][INFO][main][IgniteKernal] IgniteConfiguration [igniteInstanceName=null, pubPoolSize=8, svcPoolSize=8, callbackPoolSize=8, stripedPoolSize=8, sysPoolSize=8, mgmtPoolSize=4, dataStreamerPoolSize=8, utilityCachePoolSize=8, utilityCacheKeepAliveTime=60000, p2pPoolSize=2, qryPoolSize=8, buildIdxPoolSize=1, igniteHome=/opt/ignite/apache-ignite, igniteWorkDir=/opt/ignite/apache-ignite/work, mbeanSrv=com.sun.jmx.mbeanserver.JmxMBeanServer@18ce0030, nodeId=934defcd-dafc-4759-a60e-723a8a9e7b6d, marsh=BinaryMarshaller [], marshLocJobs=false, daemon=false, p2pEnabled=false, netTimeout=5000, netCompressionLevel=1, sndRetryDelay=1000, sndRetryCnt=3, metricsHistSize=10000, metricsUpdateFreq=2000, metricsExpTime=9223372036854775807, discoSpi=TcpDiscoverySpi [addrRslvr=null, addressFilter=null, sockTimeout=3000, ackTimeout=0, marsh=null, reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false], segPlc=STOP, segResolveAttempts=2, waitForSegOnStart=true, allResolversPassReq=true, segChkFreq=10000, commSpi=TcpCommunicationSpi [connectGate=org.apache.ignite.spi.communication.tcp.internal.ConnectGateway@37858383, ctxInitLatch=java.util.concurrent.CountDownLatch@4e268090[Count = 1], stopping=false, clientPool=null, nioSrvWrapper=null, stateProvider=null], evtSpi=org.apache.ignite.spi.eventstorage.NoopEventStorageSpi@1bb266b3, colSpi=NoopCollisionSpi [], deploySpi=LocalDeploymentSpi [], indexingSpi=org.apache.ignite.spi.indexing.noop.NoopIndexingSpi@355ce81c, addrRslvr=null, encryptionSpi=org.apache.ignite.spi.encryption.noop.NoopEncryptionSpi@29647f75, tracingSpi=org.apache.ignite.spi.tracing.NoopTracingSpi@3315d2d7, clientMode=false, rebalanceThreadPoolSize=1, rebalanceTimeout=10000, rebalanceBatchesPrefetchCnt=3, rebalanceThrottle=0, rebalanceBatchSize=524288, txCfg=TransactionConfiguration [txSerEnabled=false, dfltIsolation=REPEATABLE_READ, dfltConcurrency=PESSIMISTIC, dfltTxTimeout=0, txTimeoutOnPartitionMapExchange=0, deadlockTimeout=10000, pessimisticTxLogSize=0, pessimisticTxLogLinger=10000, tmLookupClsName=null, txManagerFactory=null, useJtaSync=false], cacheSanityCheckEnabled=true, discoStartupDelay=60000, deployMode=SHARED, p2pMissedCacheSize=100, locHost=null, timeSrvPortBase=31100, timeSrvPortRange=100, failureDetectionTimeout=60000, sysWorkerBlockedTimeout=10000, clientFailureDetectionTimeout=5000, metricsLogFreq=60000, connectorCfg=ConnectorConfiguration [jettyPath=/config/jetty.xml, host=null, port=11211, noDelay=true, directBuf=false, sndBufSize=32768, rcvBufSize=32768, idleQryCurTimeout=600000, idleQryCurCheckFreq=60000, sndQueueLimit=0, selectorCnt=2, idleTimeout=7000, sslEnabled=false, sslClientAuth=false, sslCtxFactory=null, sslFactory=null, portRange=100, threadPoolSize=8, msgInterceptor=null], odbcCfg=null, warmupClos=null, atomicCfg=AtomicConfiguration [seqReserveSize=1000, cacheMode=PARTITIONED, backups=1, aff=null, grpName=null], classLdr=null, sslCtxFactory=null, platformCfg=null, binaryCfg=BinaryConfiguration [idMapper=null, nameMapper=BinaryBaseNameMapper [isSimpleName=false], serializer=null, compactFooter=true], memCfg=null, pstCfg=null, dsCfg=DataStorageConfiguration [sysRegionInitSize=41943040, sysRegionMaxSize=104857600, pageSize=0, concLvl=0, dfltDataRegConf=DataRegionConfiguration [name=Default_Region, maxSize=1073741824, initSize=268435456, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAllocation=true, warmUpCfg=null], dataRegions=DataRegionConfiguration[] [DataRegionConfiguration [name=500MB_Region, maxSize=524288000, initSize=104857600, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAllocation=true, warmUpCfg=null]], storagePath=/data/local/db, checkpointFreq=180000, lockWaitTime=10000, checkpointThreads=4, checkpointWriteOrder=SEQUENTIAL, walHistSize=20, maxWalArchiveSize=1073741824, walSegments=10, walSegmentSize=67108864, walPath=/data/local/db/wal, walArchivePath=/data/local/db/wal/archive, metricsEnabled=false, walMode=LOG_ONLY, walTlbSize=131072, walBuffSize=0, walFlushFreq=2000, walFsyncDelay=1000, walRecordIterBuffSize=67108864, alwaysWriteFullPages=false, fileIOFactory=org.apache.ignite.internal.processors.cache.persistence.file.AsyncFileIOFactory@10959ece, metricsSubIntervalCnt=5, metricsRateTimeInterval=60000, walAutoArchiveAfterInactivity=-1, writeThrottlingEnabled=true, walCompactionEnabled=false, walCompactionLevel=1, checkpointReadLockTimeout=null, walPageCompression=DISABLED, walPageCompressionLevel=null, dfltWarmUpCfg=null, encCfg=org.apache.ignite.configuration.EncryptionConfiguration@34f7cfd9, defragmentationThreadPoolSize=4], snapshotPath=snapshots, activeOnStart=true, activeOnStartPropSetFlag=false, autoActivation=true, autoActivationPropSetFlag=false, clusterStateOnStart=null, sqlConnCfg=null, cliConnCfg=ClientConnectorConfiguration [host=null, port=10800, portRange=100, sockSndBufSize=0, sockRcvBufSize=0, tcpNoDelay=true, maxOpenCursorsPerConn=128, threadPoolSize=8, selectorCnt=4, idleTimeout=0, handshakeTimeout=10000, jdbcEnabled=true, odbcEnabled=true, thinCliEnabled=true, sslEnabled=false, useIgniteSslCtxFactory=true, sslClientAuth=false, sslCtxFactory=null, thinCliCfg=ThinClientConfiguration [maxActiveTxPerConn=100, maxActiveComputeTasksPerConn=0]], mvccVacuumThreadCnt=2, mvccVacuumFreq=5000, authEnabled=false, failureHnd=StopNodeFailureHandler [super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]], commFailureRslvr=null, sqlCfg=SqlConfiguration [longQryWarnTimeout=3000, dfltQryTimeout=0, sqlQryHistSize=1000, validationEnabled=false], asyncContinuationExecutor=null]\r\n[03:23:35,282][INFO][main][IgniteKernal] Daemon mode: off\r\n[03:23:35,282][INFO][main][IgniteKernal] OS: Linux 4.19.283-1.ph3 amd64\r\n[03:23:35,283][INFO][main][IgniteKernal] OS user: root\r\n[03:23:35,283][INFO][main][IgniteKernal] PID: 1\r\n[03:23:35,284][INFO][main][IgniteKernal] Language runtime: Java Platform API Specification ver. 1.8\r\n[03:23:35,284][INFO][main][IgniteKernal] VM information: OpenJDK Runtime Environment 1.8.0_212-b04 IcedTea OpenJDK 64-Bit Server VM 25.212-b04\r\n[03:23:35,285][INFO][main][IgniteKernal] VM total memory: 3.5GB\r\n[03:23:35,285][INFO][main][IgniteKernal] Remote Management [restart: off, REST: on, JMX (remote: off)]\r\n[03:23:35,285][INFO][main][IgniteKernal] Logger: JavaLogger [quiet=true, config=null]\r\n[03:23:35,285][INFO][main][IgniteKernal] IGNITE_HOME=/opt/ignite/apache-ignite\r\n[03:23:35,286][INFO][main][IgniteKernal] VM arguments: [-XX:+AggressiveOpts, -Xms1024m, -Xmx3584m, -XX:+HeapDumpOnOutOfMemoryError, -DIGNITE_QUIET=true, -Duser.timezone=UTC, -Djava.net.preferIPv4Stack=true, -XX:+AlwaysPreTouch, -XX:+UseG1GC, -XX:+ScavengeBeforeFullGC, -XX:+DisableExplicitGC, -DIGNITE_HOME=/opt/ignite/apache-ignite]\r\n[03:23:35,286][INFO][main][IgniteKernal] System cache&#39;s DataRegion size is configured to 40 MB. Use DataStorageConfiguration.systemRegionInitialSize property to change the setting.\r\n[03:23:35,286][INFO][main][IgniteKernal] Configured caches [in &#39;sysMemPlc&#39; dataRegion: [&#39;ignite-sys-cache&#39;]]\r\n[03:23:35,289][INFO][main][IgniteKernal] 3-rd party licenses can be found at: /opt/ignite/apache-ignite/libs/licenses\r\n[03:23:35,458][INFO][main][IgnitePluginProcessor] Configured plugins:\r\n[03:23:35,459][INFO][main][IgnitePluginProcessor]   ^-- None\r\n[03:23:35,459][INFO][main][IgnitePluginProcessor] \r\n[03:23:35,460][INFO][main][FailureProcessor] Configured failure handler: [hnd=StopNodeFailureHandler [super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\r\n[03:23:35,801][INFO][main][TcpCommunicationSpi] Successfully bound communication NIO server to TCP port [port=47100, locHost=0.0.0.0/0.0.0.0, selectorsCnt=4, selectorSpins=0, pairedConn=false]\r\n[03:23:35,802][WARNING][main][TcpCommunicationSpi] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\r\n[03:23:35,805][WARNING][main][TcpCommunicationSpi] Failure detection timeout will be ignored (one of SPI parameters has been set explicitly)\r\n[03:23:35,813][WARNING][main][NoopCheckpointSpi] Checkpoints are disabled (to enable configure any GridCheckpointSpi implementation)\r\n[03:23:35,842][WARNING][main][GridCollisionManager] Collision resolution is disabled (all jobs will be activated upon arrival).\r\n[03:23:35,843][INFO][main][IgniteKernal] Security status [authentication=off, sandbox=off, tls/ssl=off]\r\n[03:23:35,874][WARNING][main][TcpDiscoverySpi] Failure detection timeout will be ignored (one of SPI parameters has been set explicitly)\r\n[03:23:35,892][INFO][main][TcpDiscoverySpi] Successfully bound to TCP port [port=47500, localHost=0.0.0.0/0.0.0.0, locNodeId=934defcd-dafc-4759-a60e-723a8a9e7b6d]\r\n[03:23:35,895][INFO][main][PdsFoldersResolver] Successfully locked persistence storage folder [/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0]\r\n[03:23:35,896][INFO][main][PdsFoldersResolver] Consistent ID used for local node is [16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0] according to persistence data storage folders\r\n[03:23:35,896][INFO][main][MaintenanceProcessor] Resolved store directory for node persistent data: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n[03:23:35,932][INFO][main][CacheObjectBinaryProcessorImpl] Resolved directory for serialized binary metadata: /opt/ignite/apache-ignite/work/db/binary_meta/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n[03:23:36,212][INFO][main][FilePageStoreManager] Resolved page store work directory: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n[03:23:36,232][INFO][main][FileWriteAheadLogManager] Resolved write ahead log work directory: /data/local/db/wal/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n[03:23:36,232][INFO][main][FileWriteAheadLogManager] Resolved write ahead log archive directory: /data/local/db/wal/archive/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\r\n[03:23:36,269][INFO][main][FileHandleManagerImpl] Initialized write-ahead log manager [mode=LOG_ONLY]\r\n[03:23:36,316][INFO][main][GridCacheDatabaseSharedManager] Configured data regions initialized successfully [total=6]\r\n[03:23:36,338][INFO][main][IgniteSnapshotManager] Resolved snapshot work directory: /opt/ignite/apache-ignite/work/snapshots\r\n[03:23:36,338][INFO][main][IgniteSnapshotManager] Resolved temp directory for snapshot creation: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/snp\r\n[03:23:36,408][WARNING][main][IgniteH2Indexing] Serialization of Java objects in H2 was enabled.\r\n[03:23:36,712][INFO][main][ClientListenerProcessor] Client connector processor has started on TCP port 10800\r\n[03:23:36,794][INFO][main][GridTcpRestProtocol] Command protocol successfully started [name=TCP binary, host=0.0.0.0/0.0.0.0, port=11211]\r\n[03:23:37,117][INFO][main][GridJettyRestProtocol] Command protocol successfully started [name=Jetty REST, host=/0.0.0.0, port=8080]\r\n[03:23:37,185][WARNING][main][IgniteKernal] System property will override environment variable with the same name: IGNITE_QUIET\r\n[03:23:37,185][INFO][main][IgniteKernal] Non-loopback local IPs: 10.13.5.2\r\n[03:23:37,185][INFO][main][IgniteKernal] Enabled local MACs: 02420A0D0502\r\n[03:23:37,193][INFO][main][CheckpointMarkersStorage] Read checkpoint status [startMarker=/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/1687686533662-419a9b30-9fb9-4946-b470-739783622216-START.bin, endMarker=/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/1687686533662-419a9b30-9fb9-4946-b470-739783622216-END.bin]\r\n[03:23:37,200][INFO][main][PageMemoryImpl] Started page memory [memoryAllocated=100.0 MiB, pages=24814, tableSize=1.9 MiB, replacementSize=3.0 KiB, checkpointBuffer=100.0 MiB]\r\n[03:23:37,201][INFO][main][GridCacheDatabaseSharedManager] Checking memory state [lastValidPos=WALPointer [idx=94, fileOff=40257029, len=527421], lastMarked=WALPointer [idx=94, fileOff=40257029, len=527421], lastCheckpointId=419a9b30-9fb9-4946-b470-739783622216]\r\n[03:23:37,217][INFO][main][FilePageStoreManager] Cleanup cache stores [total=0, left=0, cleanFiles=false]\r\n[03:23:37,218][SEVERE][main][IgniteKernal] Exception during start processors, node will be stopped and close connections\r\nclass org.apache.ignite.IgniteCheckedException: WAL history is too short [descs=[org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@5f, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@60, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@61, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@62, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@63, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@64, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@65, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@66], start=WALPointer [idx=94, fileOff=40257029, len=527421]]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.init(FileWriteAheadLogManager.java:2801)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.access$900(FileWriteAheadLogManager.java:2672)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:971)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:938)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.read(FileWriteAheadLogManager.java:926)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2101)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:845)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3237)\r\n\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1300)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2141)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1787)\r\n\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1172)\r\n\tat org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1066)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:952)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:851)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:721)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:690)\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:353)\r\n\tat org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:367)\r\n[03:23:37,221][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\r\nclass org.apache.ignite.IgniteCheckedException: WAL history is too short [descs=[org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@5f, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@60, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@61, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@62, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@63, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@64, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@65, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@66], start=WALPointer [idx=94, fileOff=40257029, len=527421]]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.init(FileWriteAheadLogManager.java:2801)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.access$900(FileWriteAheadLogManager.java:2672)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:971)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:938)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.read(FileWriteAheadLogManager.java:926)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2101)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:845)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3237)\r\n\tat org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1300)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2141)\r\n\tat org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1787)\r\n\tat org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1172)\r\n\tat org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1066)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:952)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:851)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:721)\r\n\tat org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:690)\r\n\tat org.apache.ignite.Ignition.start(Ignition.java:353)\r\n\tat org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:367)\r\n[03:23:37,222][WARNING][main][IgniteKernal] Attempt to stop starting grid. This operation cannot be guaranteed to be successful.\r\n[03:23:37,226][INFO][main][GridTcpRestProtocol] Command protocol successfully stopped: TCP binary\r\n[03:23:37,235][INFO][main][GridJettyRestProtocol] Command protocol successfully stopped: Jetty REST\r\n[03:23:37,257][INFO][main][FilePageStoreManager] Cleanup cache stores [total=0, left=0, cleanFiles=false]\r\n[03:23:37,265][INFO][main][IgniteKernal] \r\n\r\n&gt;&gt;&gt; +----------------------------------------------------------------------------------+\r\n&gt;&gt;&gt; Ignite ver. 2.11.1#20211220-sha1:eae1147dd1cd625cc229098489be8d208f6cabcc stopped OK\r\n&gt;&gt;&gt; +----------------------------------------------------------------------------------+\r\n&gt;&gt;&gt; Grid uptime: 00:00:02.961\r\n\r\n```\r\n\r\n","title":"The ignite docker keeps restarting automatically. Error cause :IgniteCheckedException: WAL history is too short","body":"<p>After the virtual machine where my ignite docker service is located was rebooted, this error occurred :IgniteCheckedException: WAL history is too short, and because my docker-compose file has an automatic restart set, my ignite service keeps restarting automatically. Does anyone know what the problem is or what's causing it? Below is the ignite log of an automatic restart.</p>\n<p>Apache Ignite Version:2.11.1\nJVM_OPTS=-Xms1024m -Xmx3584m -XX:+HeapDumpOnOutOfMemoryError -DIGNITE_QUIET=true -Duser.timezone=UTC -Djava.net.preferIPv4Stack=true -XX:+AlwaysPreTouch -XX:+UseG1GC -XX:+ScavengeBeforeFullGC -XX:+DisableExplicitGC</p>\n<pre><code>[03:23:35,136][WARNING][main][G] Ignite work directory is not provided, automatically resolved to: /opt/ignite/apache-ignite/work\n[03:23:35,145][WARNING][main][G] Consistent ID is not set, it is recommended to set consistent ID for production clusters (use IgniteConfiguration.setConsistentId property)\n[03:23:35,253][INFO][main][IgniteKernal] \n\n&gt;&gt;&gt;    __________  ________________  \n&gt;&gt;&gt;   /  _/ ___/ |/ /  _/_  __/ __/  \n&gt;&gt;&gt;  _/ // (7 7    // /  / / / _/    \n&gt;&gt;&gt; /___/\\___/_/|_/___/ /_/ /___/   \n&gt;&gt;&gt; \n&gt;&gt;&gt; ver. 2.11.1#20211220-sha1:eae1147d\n&gt;&gt;&gt; 2021 Copyright(C) Apache Software Foundation\n&gt;&gt;&gt; \n&gt;&gt;&gt; Ignite documentation: http://ignite.apache.org\n\n[03:23:35,264][INFO][main][IgniteKernal] Config URL: file:/opt/ignite/apache-ignite/config/default-config.xml\n[03:23:35,282][INFO][main][IgniteKernal] IgniteConfiguration [igniteInstanceName=null, pubPoolSize=8, svcPoolSize=8, callbackPoolSize=8, stripedPoolSize=8, sysPoolSize=8, mgmtPoolSize=4, dataStreamerPoolSize=8, utilityCachePoolSize=8, utilityCacheKeepAliveTime=60000, p2pPoolSize=2, qryPoolSize=8, buildIdxPoolSize=1, igniteHome=/opt/ignite/apache-ignite, igniteWorkDir=/opt/ignite/apache-ignite/work, mbeanSrv=com.sun.jmx.mbeanserver.JmxMBeanServer@18ce0030, nodeId=934defcd-dafc-4759-a60e-723a8a9e7b6d, marsh=BinaryMarshaller [], marshLocJobs=false, daemon=false, p2pEnabled=false, netTimeout=5000, netCompressionLevel=1, sndRetryDelay=1000, sndRetryCnt=3, metricsHistSize=10000, metricsUpdateFreq=2000, metricsExpTime=9223372036854775807, discoSpi=TcpDiscoverySpi [addrRslvr=null, addressFilter=null, sockTimeout=3000, ackTimeout=0, marsh=null, reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false], segPlc=STOP, segResolveAttempts=2, waitForSegOnStart=true, allResolversPassReq=true, segChkFreq=10000, commSpi=TcpCommunicationSpi [connectGate=org.apache.ignite.spi.communication.tcp.internal.ConnectGateway@37858383, ctxInitLatch=java.util.concurrent.CountDownLatch@4e268090[Count = 1], stopping=false, clientPool=null, nioSrvWrapper=null, stateProvider=null], evtSpi=org.apache.ignite.spi.eventstorage.NoopEventStorageSpi@1bb266b3, colSpi=NoopCollisionSpi [], deploySpi=LocalDeploymentSpi [], indexingSpi=org.apache.ignite.spi.indexing.noop.NoopIndexingSpi@355ce81c, addrRslvr=null, encryptionSpi=org.apache.ignite.spi.encryption.noop.NoopEncryptionSpi@29647f75, tracingSpi=org.apache.ignite.spi.tracing.NoopTracingSpi@3315d2d7, clientMode=false, rebalanceThreadPoolSize=1, rebalanceTimeout=10000, rebalanceBatchesPrefetchCnt=3, rebalanceThrottle=0, rebalanceBatchSize=524288, txCfg=TransactionConfiguration [txSerEnabled=false, dfltIsolation=REPEATABLE_READ, dfltConcurrency=PESSIMISTIC, dfltTxTimeout=0, txTimeoutOnPartitionMapExchange=0, deadlockTimeout=10000, pessimisticTxLogSize=0, pessimisticTxLogLinger=10000, tmLookupClsName=null, txManagerFactory=null, useJtaSync=false], cacheSanityCheckEnabled=true, discoStartupDelay=60000, deployMode=SHARED, p2pMissedCacheSize=100, locHost=null, timeSrvPortBase=31100, timeSrvPortRange=100, failureDetectionTimeout=60000, sysWorkerBlockedTimeout=10000, clientFailureDetectionTimeout=5000, metricsLogFreq=60000, connectorCfg=ConnectorConfiguration [jettyPath=/config/jetty.xml, host=null, port=11211, noDelay=true, directBuf=false, sndBufSize=32768, rcvBufSize=32768, idleQryCurTimeout=600000, idleQryCurCheckFreq=60000, sndQueueLimit=0, selectorCnt=2, idleTimeout=7000, sslEnabled=false, sslClientAuth=false, sslCtxFactory=null, sslFactory=null, portRange=100, threadPoolSize=8, msgInterceptor=null], odbcCfg=null, warmupClos=null, atomicCfg=AtomicConfiguration [seqReserveSize=1000, cacheMode=PARTITIONED, backups=1, aff=null, grpName=null], classLdr=null, sslCtxFactory=null, platformCfg=null, binaryCfg=BinaryConfiguration [idMapper=null, nameMapper=BinaryBaseNameMapper [isSimpleName=false], serializer=null, compactFooter=true], memCfg=null, pstCfg=null, dsCfg=DataStorageConfiguration [sysRegionInitSize=41943040, sysRegionMaxSize=104857600, pageSize=0, concLvl=0, dfltDataRegConf=DataRegionConfiguration [name=Default_Region, maxSize=1073741824, initSize=268435456, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAllocation=true, warmUpCfg=null], dataRegions=DataRegionConfiguration[] [DataRegionConfiguration [name=500MB_Region, maxSize=524288000, initSize=104857600, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAllocation=true, warmUpCfg=null]], storagePath=/data/local/db, checkpointFreq=180000, lockWaitTime=10000, checkpointThreads=4, checkpointWriteOrder=SEQUENTIAL, walHistSize=20, maxWalArchiveSize=1073741824, walSegments=10, walSegmentSize=67108864, walPath=/data/local/db/wal, walArchivePath=/data/local/db/wal/archive, metricsEnabled=false, walMode=LOG_ONLY, walTlbSize=131072, walBuffSize=0, walFlushFreq=2000, walFsyncDelay=1000, walRecordIterBuffSize=67108864, alwaysWriteFullPages=false, fileIOFactory=org.apache.ignite.internal.processors.cache.persistence.file.AsyncFileIOFactory@10959ece, metricsSubIntervalCnt=5, metricsRateTimeInterval=60000, walAutoArchiveAfterInactivity=-1, writeThrottlingEnabled=true, walCompactionEnabled=false, walCompactionLevel=1, checkpointReadLockTimeout=null, walPageCompression=DISABLED, walPageCompressionLevel=null, dfltWarmUpCfg=null, encCfg=org.apache.ignite.configuration.EncryptionConfiguration@34f7cfd9, defragmentationThreadPoolSize=4], snapshotPath=snapshots, activeOnStart=true, activeOnStartPropSetFlag=false, autoActivation=true, autoActivationPropSetFlag=false, clusterStateOnStart=null, sqlConnCfg=null, cliConnCfg=ClientConnectorConfiguration [host=null, port=10800, portRange=100, sockSndBufSize=0, sockRcvBufSize=0, tcpNoDelay=true, maxOpenCursorsPerConn=128, threadPoolSize=8, selectorCnt=4, idleTimeout=0, handshakeTimeout=10000, jdbcEnabled=true, odbcEnabled=true, thinCliEnabled=true, sslEnabled=false, useIgniteSslCtxFactory=true, sslClientAuth=false, sslCtxFactory=null, thinCliCfg=ThinClientConfiguration [maxActiveTxPerConn=100, maxActiveComputeTasksPerConn=0]], mvccVacuumThreadCnt=2, mvccVacuumFreq=5000, authEnabled=false, failureHnd=StopNodeFailureHandler [super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]], commFailureRslvr=null, sqlCfg=SqlConfiguration [longQryWarnTimeout=3000, dfltQryTimeout=0, sqlQryHistSize=1000, validationEnabled=false], asyncContinuationExecutor=null]\n[03:23:35,282][INFO][main][IgniteKernal] Daemon mode: off\n[03:23:35,282][INFO][main][IgniteKernal] OS: Linux 4.19.283-1.ph3 amd64\n[03:23:35,283][INFO][main][IgniteKernal] OS user: root\n[03:23:35,283][INFO][main][IgniteKernal] PID: 1\n[03:23:35,284][INFO][main][IgniteKernal] Language runtime: Java Platform API Specification ver. 1.8\n[03:23:35,284][INFO][main][IgniteKernal] VM information: OpenJDK Runtime Environment 1.8.0_212-b04 IcedTea OpenJDK 64-Bit Server VM 25.212-b04\n[03:23:35,285][INFO][main][IgniteKernal] VM total memory: 3.5GB\n[03:23:35,285][INFO][main][IgniteKernal] Remote Management [restart: off, REST: on, JMX (remote: off)]\n[03:23:35,285][INFO][main][IgniteKernal] Logger: JavaLogger [quiet=true, config=null]\n[03:23:35,285][INFO][main][IgniteKernal] IGNITE_HOME=/opt/ignite/apache-ignite\n[03:23:35,286][INFO][main][IgniteKernal] VM arguments: [-XX:+AggressiveOpts, -Xms1024m, -Xmx3584m, -XX:+HeapDumpOnOutOfMemoryError, -DIGNITE_QUIET=true, -Duser.timezone=UTC, -Djava.net.preferIPv4Stack=true, -XX:+AlwaysPreTouch, -XX:+UseG1GC, -XX:+ScavengeBeforeFullGC, -XX:+DisableExplicitGC, -DIGNITE_HOME=/opt/ignite/apache-ignite]\n[03:23:35,286][INFO][main][IgniteKernal] System cache's DataRegion size is configured to 40 MB. Use DataStorageConfiguration.systemRegionInitialSize property to change the setting.\n[03:23:35,286][INFO][main][IgniteKernal] Configured caches [in 'sysMemPlc' dataRegion: ['ignite-sys-cache']]\n[03:23:35,289][INFO][main][IgniteKernal] 3-rd party licenses can be found at: /opt/ignite/apache-ignite/libs/licenses\n[03:23:35,458][INFO][main][IgnitePluginProcessor] Configured plugins:\n[03:23:35,459][INFO][main][IgnitePluginProcessor]   ^-- None\n[03:23:35,459][INFO][main][IgnitePluginProcessor] \n[03:23:35,460][INFO][main][FailureProcessor] Configured failure handler: [hnd=StopNodeFailureHandler [super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\n[03:23:35,801][INFO][main][TcpCommunicationSpi] Successfully bound communication NIO server to TCP port [port=47100, locHost=0.0.0.0/0.0.0.0, selectorsCnt=4, selectorSpins=0, pairedConn=false]\n[03:23:35,802][WARNING][main][TcpCommunicationSpi] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\n[03:23:35,805][WARNING][main][TcpCommunicationSpi] Failure detection timeout will be ignored (one of SPI parameters has been set explicitly)\n[03:23:35,813][WARNING][main][NoopCheckpointSpi] Checkpoints are disabled (to enable configure any GridCheckpointSpi implementation)\n[03:23:35,842][WARNING][main][GridCollisionManager] Collision resolution is disabled (all jobs will be activated upon arrival).\n[03:23:35,843][INFO][main][IgniteKernal] Security status [authentication=off, sandbox=off, tls/ssl=off]\n[03:23:35,874][WARNING][main][TcpDiscoverySpi] Failure detection timeout will be ignored (one of SPI parameters has been set explicitly)\n[03:23:35,892][INFO][main][TcpDiscoverySpi] Successfully bound to TCP port [port=47500, localHost=0.0.0.0/0.0.0.0, locNodeId=934defcd-dafc-4759-a60e-723a8a9e7b6d]\n[03:23:35,895][INFO][main][PdsFoldersResolver] Successfully locked persistence storage folder [/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0]\n[03:23:35,896][INFO][main][PdsFoldersResolver] Consistent ID used for local node is [16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0] according to persistence data storage folders\n[03:23:35,896][INFO][main][MaintenanceProcessor] Resolved store directory for node persistent data: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n[03:23:35,932][INFO][main][CacheObjectBinaryProcessorImpl] Resolved directory for serialized binary metadata: /opt/ignite/apache-ignite/work/db/binary_meta/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n[03:23:36,212][INFO][main][FilePageStoreManager] Resolved page store work directory: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n[03:23:36,232][INFO][main][FileWriteAheadLogManager] Resolved write ahead log work directory: /data/local/db/wal/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n[03:23:36,232][INFO][main][FileWriteAheadLogManager] Resolved write ahead log archive directory: /data/local/db/wal/archive/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0\n[03:23:36,269][INFO][main][FileHandleManagerImpl] Initialized write-ahead log manager [mode=LOG_ONLY]\n[03:23:36,316][INFO][main][GridCacheDatabaseSharedManager] Configured data regions initialized successfully [total=6]\n[03:23:36,338][INFO][main][IgniteSnapshotManager] Resolved snapshot work directory: /opt/ignite/apache-ignite/work/snapshots\n[03:23:36,338][INFO][main][IgniteSnapshotManager] Resolved temp directory for snapshot creation: /data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/snp\n[03:23:36,408][WARNING][main][IgniteH2Indexing] Serialization of Java objects in H2 was enabled.\n[03:23:36,712][INFO][main][ClientListenerProcessor] Client connector processor has started on TCP port 10800\n[03:23:36,794][INFO][main][GridTcpRestProtocol] Command protocol successfully started [name=TCP binary, host=0.0.0.0/0.0.0.0, port=11211]\n[03:23:37,117][INFO][main][GridJettyRestProtocol] Command protocol successfully started [name=Jetty REST, host=/0.0.0.0, port=8080]\n[03:23:37,185][WARNING][main][IgniteKernal] System property will override environment variable with the same name: IGNITE_QUIET\n[03:23:37,185][INFO][main][IgniteKernal] Non-loopback local IPs: 10.13.5.2\n[03:23:37,185][INFO][main][IgniteKernal] Enabled local MACs: 02420A0D0502\n[03:23:37,193][INFO][main][CheckpointMarkersStorage] Read checkpoint status [startMarker=/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/1687686533662-419a9b30-9fb9-4946-b470-739783622216-START.bin, endMarker=/data/local/db/node00-16d8b0a6-20b9-42e3-8b88-147ec1b5ccb0/cp/1687686533662-419a9b30-9fb9-4946-b470-739783622216-END.bin]\n[03:23:37,200][INFO][main][PageMemoryImpl] Started page memory [memoryAllocated=100.0 MiB, pages=24814, tableSize=1.9 MiB, replacementSize=3.0 KiB, checkpointBuffer=100.0 MiB]\n[03:23:37,201][INFO][main][GridCacheDatabaseSharedManager] Checking memory state [lastValidPos=WALPointer [idx=94, fileOff=40257029, len=527421], lastMarked=WALPointer [idx=94, fileOff=40257029, len=527421], lastCheckpointId=419a9b30-9fb9-4946-b470-739783622216]\n[03:23:37,217][INFO][main][FilePageStoreManager] Cleanup cache stores [total=0, left=0, cleanFiles=false]\n[03:23:37,218][SEVERE][main][IgniteKernal] Exception during start processors, node will be stopped and close connections\nclass org.apache.ignite.IgniteCheckedException: WAL history is too short [descs=[org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@5f, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@60, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@61, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@62, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@63, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@64, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@65, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@66], start=WALPointer [idx=94, fileOff=40257029, len=527421]]\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.init(FileWriteAheadLogManager.java:2801)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.access$900(FileWriteAheadLogManager.java:2672)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:971)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:938)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.read(FileWriteAheadLogManager.java:926)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2101)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:845)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3237)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1300)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2141)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1787)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1172)\n    at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1066)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:952)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:851)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:721)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:690)\n    at org.apache.ignite.Ignition.start(Ignition.java:353)\n    at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:367)\n[03:23:37,221][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\nclass org.apache.ignite.IgniteCheckedException: WAL history is too short [descs=[org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@5f, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@60, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@61, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@62, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@63, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@64, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@65, org.apache.ignite.internal.processors.cache.persistence.wal.FileDescriptor@66], start=WALPointer [idx=94, fileOff=40257029, len=527421]]\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.init(FileWriteAheadLogManager.java:2801)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager$RecordsIterator.access$900(FileWriteAheadLogManager.java:2672)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:971)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.replay(FileWriteAheadLogManager.java:938)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.read(FileWriteAheadLogManager.java:926)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.performBinaryMemoryRestore(GridCacheDatabaseSharedManager.java:2101)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.readMetastore(GridCacheDatabaseSharedManager.java:845)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheDatabaseSharedManager.notifyMetaStorageSubscribersOnReadyForRead(GridCacheDatabaseSharedManager.java:3237)\n    at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1300)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2141)\n    at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1787)\n    at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1172)\n    at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1066)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:952)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:851)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:721)\n    at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:690)\n    at org.apache.ignite.Ignition.start(Ignition.java:353)\n    at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:367)\n[03:23:37,222][WARNING][main][IgniteKernal] Attempt to stop starting grid. This operation cannot be guaranteed to be successful.\n[03:23:37,226][INFO][main][GridTcpRestProtocol] Command protocol successfully stopped: TCP binary\n[03:23:37,235][INFO][main][GridJettyRestProtocol] Command protocol successfully stopped: Jetty REST\n[03:23:37,257][INFO][main][FilePageStoreManager] Cleanup cache stores [total=0, left=0, cleanFiles=false]\n[03:23:37,265][INFO][main][IgniteKernal] \n\n&gt;&gt;&gt; +----------------------------------------------------------------------------------+\n&gt;&gt;&gt; Ignite ver. 2.11.1#20211220-sha1:eae1147dd1cd625cc229098489be8d208f6cabcc stopped OK\n&gt;&gt;&gt; +----------------------------------------------------------------------------------+\n&gt;&gt;&gt; Grid uptime: 00:00:02.961\n\n</code></pre>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687732324,"creation_date":1687732324,"answer_id":76552654,"question_id":76552358,"body_markdown":"You need to add an instance of `ProductDto` to the `Model` as the `newProd` attribute before showing the page.\r\n\r\n```java\r\n@GetMapping(&quot;/adminDashboard&quot;)\r\npublic String showAdminDashboard(Model model) {\r\n\tmodel.addAttribute(&quot;newProd&quot;, new ProductDto());\r\n\treturn &quot;AdminDashboard&quot;;\r\n}\r\n```","title":"Thymeleaf not recognizing object","body":"<p>You need to add an instance of <code>ProductDto</code> to the <code>Model</code> as the <code>newProd</code> attribute before showing the page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/adminDashboard&quot;)\npublic String showAdminDashboard(Model model) {\n    model.addAttribute(&quot;newProd&quot;, new ProductDto());\n    return &quot;AdminDashboard&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":28893484,"reputation":3,"user_id":22130063,"display_name":"reiniskr1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552654,"answer_count":1,"score":0,"last_activity_date":1687732324,"creation_date":1687726352,"question_id":76552358,"body_markdown":"I tried following the example that I had of a working login page for submitting a new product but when I try to launch the admin dashboard it returns status code 500 and in the launch console an error stating: &quot;org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/AdminDashboard.html]&quot;)\r\n...\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;newProd&#39; available as request attribute&quot;\r\n\r\nHeres my code:\r\n\r\n\r\nHTML file:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot;\r\n          href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;\r\n          integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot;\r\n          crossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;h1&gt;Admin dashboard&lt;/h1&gt;\r\n\r\n\r\n  &lt;form th:action=&quot;@{/adminDashboard}&quot; method=&quot;post&quot; th:object=&quot;${newProd}&quot;&gt;\r\n      &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;label class=&quot;control-label&quot; for=&quot;name&quot;&gt; Product name &lt;/label&gt;\r\n          &lt;input id=&quot;name&quot; class=&quot;form-control&quot; th:field=&quot;*{name}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;label class=&quot;control-label&quot; for=&quot;storedAmount&quot;&gt; stored Amount &lt;/label&gt;\r\n          &lt;input id=&quot;storedAmount&quot; class=&quot;form-control&quot; th:field=&quot;*{storedAmount}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;label class=&quot;control-label&quot; for=&quot;price&quot;&gt; Price &lt;/label&gt;\r\n          &lt;input id=&quot;price&quot; class=&quot;form-control&quot; th:field=&quot;*{price}&quot; required autofocus=&quot;autofocus&quot; /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;form-group&quot;&gt;\r\n          &lt;div class=&quot;row&quot;&gt;\r\n              &lt;div class=&quot;col-sm-6 col-sm-offset-3&quot;&gt;\r\n                  &lt;input type=&quot;submit&quot; name=&quot;Product-submit&quot; id=&quot;Product-submit&quot;\r\n                         class=&quot;form-control btn btn-primary&quot; value=&quot;Submit product&quot; /&gt;\r\n              &lt;/div&gt;\r\n          &lt;/div&gt;\r\n      &lt;/div&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nController:\r\n```\r\npublic class MainController {\r\n    @GetMapping(&quot;/adminDashboard&quot;)\r\n    public String showAdminDashboard(){\r\n        return &quot;AdminDashboard&quot;;\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/adminDashboard&quot;)\r\n    public String loginUserAccount(@ModelAttribute(&quot;newProd&quot;) ProductDto productDto) {\r\n        System.out.println(productDto.getName());\r\n        return &quot;redirect:/dashboard&quot;;\r\n    }\r\n}\r\n\r\n```\r\nProductDto:\r\n```\r\npackage com.reiniskr.registrationloginspring.web.dto;\r\n\r\npublic class ProductDto {\r\n    private String name;\r\n    private int storedAmount;\r\n    private double price;\r\n\r\n    public ProductDto(){}\r\n\r\n    public ProductDto(String name, int storedAmount, double price) {\r\n        this.name = name;\r\n        this.storedAmount = storedAmount;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getStoredAmount() {\r\n        return storedAmount;\r\n    }\r\n\r\n    public void setStoredAmount(int storedAmount) {\r\n        this.storedAmount = storedAmount;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIf i remove the POST form in the HTML file it works, but anything other that I do with thymeleaf it just doesnt load the template at all.","title":"Thymeleaf not recognizing object","body":"<p>I tried following the example that I had of a working login page for submitting a new product but when I try to launch the admin dashboard it returns status code 500 and in the launch console an error stating: &quot;org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/AdminDashboard.html]&quot;)\n...\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'newProd' available as request attribute&quot;</p>\n<p>Heres my code:</p>\n<p>HTML file:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot;\n          href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;\n          integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot;\n          crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Admin dashboard&lt;/h1&gt;\n\n\n  &lt;form th:action=&quot;@{/adminDashboard}&quot; method=&quot;post&quot; th:object=&quot;${newProd}&quot;&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n          &lt;label class=&quot;control-label&quot; for=&quot;name&quot;&gt; Product name &lt;/label&gt;\n          &lt;input id=&quot;name&quot; class=&quot;form-control&quot; th:field=&quot;*{name}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n          &lt;label class=&quot;control-label&quot; for=&quot;storedAmount&quot;&gt; stored Amount &lt;/label&gt;\n          &lt;input id=&quot;storedAmount&quot; class=&quot;form-control&quot; th:field=&quot;*{storedAmount}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n          &lt;label class=&quot;control-label&quot; for=&quot;price&quot;&gt; Price &lt;/label&gt;\n          &lt;input id=&quot;price&quot; class=&quot;form-control&quot; th:field=&quot;*{price}&quot; required autofocus=&quot;autofocus&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n          &lt;div class=&quot;row&quot;&gt;\n              &lt;div class=&quot;col-sm-6 col-sm-offset-3&quot;&gt;\n                  &lt;input type=&quot;submit&quot; name=&quot;Product-submit&quot; id=&quot;Product-submit&quot;\n                         class=&quot;form-control btn btn-primary&quot; value=&quot;Submit product&quot; /&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>public class MainController {\n    @GetMapping(&quot;/adminDashboard&quot;)\n    public String showAdminDashboard(){\n        return &quot;AdminDashboard&quot;;\n\n    }\n\n    @PostMapping(&quot;/adminDashboard&quot;)\n    public String loginUserAccount(@ModelAttribute(&quot;newProd&quot;) ProductDto productDto) {\n        System.out.println(productDto.getName());\n        return &quot;redirect:/dashboard&quot;;\n    }\n}\n\n</code></pre>\n<p>ProductDto:</p>\n<pre><code>package com.reiniskr.registrationloginspring.web.dto;\n\npublic class ProductDto {\n    private String name;\n    private int storedAmount;\n    private double price;\n\n    public ProductDto(){}\n\n    public ProductDto(String name, int storedAmount, double price) {\n        this.name = name;\n        this.storedAmount = storedAmount;\n        this.price = price;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getStoredAmount() {\n        return storedAmount;\n    }\n\n    public void setStoredAmount(int storedAmount) {\n        this.storedAmount = storedAmount;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<p>If i remove the POST form in the HTML file it works, but anything other that I do with thymeleaf it just doesnt load the template at all.</p>\n"},{"tags":["java","apache-kafka","junit","spring-kafka"],"comments":[{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":0,"creation_date":1687649289,"post_id":76548318,"comment_id":134966508,"body_markdown":"mock kafkaTemplate when you are testing your userKafkaProducer.","body":"mock kafkaTemplate when you are testing your userKafkaProducer."},{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":1,"creation_date":1687649489,"post_id":76548318,"comment_id":134966523,"body_markdown":"add UserKafkaProducer code to provide you better answer.","body":"add UserKafkaProducer code to provide you better answer."},{"owner":{"account_id":20317144,"reputation":21,"user_id":14902768,"display_name":"Onur Okyay"},"score":0,"creation_date":1687694084,"post_id":76548318,"comment_id":134969532,"body_markdown":"@AwaisLatif I added UserKafkaProducer class","body":"@AwaisLatif I added UserKafkaProducer class"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687696329,"post_id":76548318,"comment_id":134969708,"body_markdown":"@AwaisLatif I suggest linking to the latest documentation","body":"@AwaisLatif I suggest linking to the latest documentation"},{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":0,"creation_date":1687696981,"post_id":76548318,"comment_id":134969769,"body_markdown":"Mock kafkaTemplate bean and test sendMessage and check kafkaTemplate.send should be called 1 time.","body":"Mock kafkaTemplate bean and test sendMessage and check kafkaTemplate.send should be called 1 time."}],"answers":[{"tags":[],"owner":{"account_id":6691111,"reputation":115,"user_id":5160594,"accept_rate":60,"display_name":"Matthew D&#39;Agostino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687728099,"creation_date":1687701587,"answer_id":76550770,"question_id":76548318,"body_markdown":"I would say this depends on what type of testing you are trying to achieve.\r\n\r\nFrom what I can see in your code you have posted, it looks like you are trying to write unit tests. When writing unit tests, you should only focus on testing the &quot;unit under test&quot;, in this case it looks like your `UserService` class. For a unit service test, you typically should be mocking almost everything other than the unit under test and simple data classes, including any mocking Kafka APIs. Simply put you want to isolate asant things as possible so you can focus on testing your single unit. The Kafka APIs have already been rigorously tested and you dont need to replicate that.\r\n\r\nHaving said all that, looking at your code, KafkaTemplate, will be null in the above test as you are mocking the Producer class. Within a mock there is no behaviour and no data unless you define it. This also shouldn&#39;t matter for a unit test as that behaviour is now outside the scope of the &quot;unit under test&quot; and you should only worry about the sendMessage function being called correctly.\r\n\r\nHowever for an integration test where you are using `@SpringBootTest` (I&#39;m assuming you are using SpringBoot from your code above), where you are testing the integration of multiple classes and the flow of your application I would use something like `@EmbeddedKafka`, which will spin up a temporary local Kafka for you to perform tests in to ensure your Kafka configuration is correct. \r\n\r\nThis is quite a good article about writing integration tests with Kafka using both @EmbeddedKafka and TestContainers: https://www.baeldung.com/spring-boot-kafka-testing\r\n\r\nOf course a lot of best practices when it comes to writing tests are purely opinionated, so it&#39;s about finding a methodology you are comfortable with that suits your risk appetite and doesn&#39;t offend your colleagues &#128517;. But I find a mix of the above unit and integration tests is a solid method for achieving good coverage and confidence.","title":"JUnit Jupiter should i mock kafka?","body":"<p>I would say this depends on what type of testing you are trying to achieve.</p>\n<p>From what I can see in your code you have posted, it looks like you are trying to write unit tests. When writing unit tests, you should only focus on testing the &quot;unit under test&quot;, in this case it looks like your <code>UserService</code> class. For a unit service test, you typically should be mocking almost everything other than the unit under test and simple data classes, including any mocking Kafka APIs. Simply put you want to isolate asant things as possible so you can focus on testing your single unit. The Kafka APIs have already been rigorously tested and you dont need to replicate that.</p>\n<p>Having said all that, looking at your code, KafkaTemplate, will be null in the above test as you are mocking the Producer class. Within a mock there is no behaviour and no data unless you define it. This also shouldn't matter for a unit test as that behaviour is now outside the scope of the &quot;unit under test&quot; and you should only worry about the sendMessage function being called correctly.</p>\n<p>However for an integration test where you are using <code>@SpringBootTest</code> (I'm assuming you are using SpringBoot from your code above), where you are testing the integration of multiple classes and the flow of your application I would use something like <code>@EmbeddedKafka</code>, which will spin up a temporary local Kafka for you to perform tests in to ensure your Kafka configuration is correct.</p>\n<p>This is quite a good article about writing integration tests with Kafka using both @EmbeddedKafka and TestContainers: <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-kafka-testing</a></p>\n<p>Of course a lot of best practices when it comes to writing tests are purely opinionated, so it's about finding a methodology you are comfortable with that suits your risk appetite and doesn't offend your colleagues 😅. But I find a mix of the above unit and integration tests is a solid method for achieving good coverage and confidence.</p>\n"}],"owner":{"account_id":20317144,"reputation":21,"user_id":14902768,"display_name":"Onur Okyay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687728099,"creation_date":1687648844,"question_id":76548318,"body_markdown":"I&#39;m writing a test for my user-creating operation and it includes sending a message to the kafka. Should I mock Kafka while testing this part? What is the best practice? \r\n\r\nAlso if I want to test kafka without mocking it, it normally works with kafkaTemplate autowired in userKafkaProducer , but when I run it in test, kafkaTemplate is null. How should I proceed here?\r\n\t\r\n\t @Test\r\n\t    public void testCreateUserSuccess() throws UserNameExistException {\r\n\t        \r\n\t        UserRepository userRepo = mock(UserRepository.class);\r\n\t        UserKafkaProducer userKafkaProducer = mock(UserKafkaProducer.class);\r\n\t        UserServiceImpl userService = new UserServiceImpl(userRepo, userKafkaProducer);\r\n\r\n\t        UserDTO userDTO = new UserDTO();\r\n\t        userDTO.setUserName(&quot;test_user&quot;);\r\n\r\n\t        when(userRepo.existsByUserName(userDTO.getUserName())).thenReturn(false);\r\n\r\n\t        User savedUser = new User();\r\n\t        savedUser.setUserName(&quot;test_user&quot;);\r\n\t        savedUser.setId(&quot;1&quot;);\r\n\t        when(userRepo.save(any(User.class))).thenReturn(savedUser);\r\n\r\n\t        User user = userService.createUser(userDTO);\r\n\r\n\t        assertNotNull(user);\r\n\t        assertNotNull(user.getId());\r\n\t        assertEquals(userDTO.getUserName(), user.getUserName());\r\n\t        verify(userRepo, times(1)).existsByUserName(userDTO.getUserName());\r\n\t        verify(userRepo, times(1)).save(any(User.class));\r\n\t        // Mocking the sendMessage method of UserKafkaProducer\r\n\t        //doNothing().when(userKafkaProducer).sendMessage(any(User.class));\r\n\t        verify(userKafkaProducer, times(1)).sendMessage(user); //mock ?\r\n\r\n\t    }\r\n\r\nKafka Producer Class\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n\r\n    public class UserKafkaProducer {\r\n\t\r\n\tprivate final static Logger LOGGER = LoggerFactory.getLogger(UserKafkaProducer.class);\r\n\t\r\n\tprivate KafkaTemplate&lt;String, User&gt; kafkaTemplate;\r\n\r\n\tpublic void sendMessage(User user) {\r\n\t\tMessage&lt;User&gt; message = MessageBuilder\r\n\t\t\t\t.withPayload(user)\r\n\t\t\t\t.setHeader(KafkaHeaders.TOPIC, KafkaTopicConfig.MOVIE_SERVICE_USER_TOPIC_NAME)\r\n\t\t\t\t.build();\r\n\t\tLOGGER.info(String.format(&quot;Kafka message sent %s&quot;, message));\r\n\t\tkafkaTemplate.send(message);\r\n\t}\r\n    }","title":"JUnit Jupiter should i mock kafka?","body":"<p>I'm writing a test for my user-creating operation and it includes sending a message to the kafka. Should I mock Kafka while testing this part? What is the best practice?</p>\n<p>Also if I want to test kafka without mocking it, it normally works with kafkaTemplate autowired in userKafkaProducer , but when I run it in test, kafkaTemplate is null. How should I proceed here?</p>\n<pre><code> @Test\n    public void testCreateUserSuccess() throws UserNameExistException {\n        \n        UserRepository userRepo = mock(UserRepository.class);\n        UserKafkaProducer userKafkaProducer = mock(UserKafkaProducer.class);\n        UserServiceImpl userService = new UserServiceImpl(userRepo, userKafkaProducer);\n\n        UserDTO userDTO = new UserDTO();\n        userDTO.setUserName(&quot;test_user&quot;);\n\n        when(userRepo.existsByUserName(userDTO.getUserName())).thenReturn(false);\n\n        User savedUser = new User();\n        savedUser.setUserName(&quot;test_user&quot;);\n        savedUser.setId(&quot;1&quot;);\n        when(userRepo.save(any(User.class))).thenReturn(savedUser);\n\n        User user = userService.createUser(userDTO);\n\n        assertNotNull(user);\n        assertNotNull(user.getId());\n        assertEquals(userDTO.getUserName(), user.getUserName());\n        verify(userRepo, times(1)).existsByUserName(userDTO.getUserName());\n        verify(userRepo, times(1)).save(any(User.class));\n        // Mocking the sendMessage method of UserKafkaProducer\n        //doNothing().when(userKafkaProducer).sendMessage(any(User.class));\n        verify(userKafkaProducer, times(1)).sendMessage(user); //mock ?\n\n    }\n</code></pre>\n<p>Kafka Producer Class</p>\n<pre><code>@Service\n@AllArgsConstructor\n\npublic class UserKafkaProducer {\n\nprivate final static Logger LOGGER = LoggerFactory.getLogger(UserKafkaProducer.class);\n\nprivate KafkaTemplate&lt;String, User&gt; kafkaTemplate;\n\npublic void sendMessage(User user) {\n    Message&lt;User&gt; message = MessageBuilder\n            .withPayload(user)\n            .setHeader(KafkaHeaders.TOPIC, KafkaTopicConfig.MOVIE_SERVICE_USER_TOPIC_NAME)\n            .build();\n    LOGGER.info(String.format(&quot;Kafka message sent %s&quot;, message));\n    kafkaTemplate.send(message);\n}\n}\n</code></pre>\n"},{"tags":["java","mysql","javafx","jlink"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1687641305,"post_id":76547362,"comment_id":134965955,"body_markdown":"You can&#39;t.  The MySQL driver is not modular.  Your module setup indicates that you are loading the driver as an [automatic module](https://stackoverflow.com/questions/46741907/what-is-an-automatic-module).  That is not compatible with `jlink`, at least not without performing [certain hacks on the connector jar](https://stackoverflow.com/questions/52518105/using-jlink-with-automatic-modules) which may or may not work.  Request the MySQL developers to create a modular distribution of their connector.","body":"You can&#39;t.  The MySQL driver is not modular.  Your module setup indicates that you are loading the driver as an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a>.  That is not compatible with <code>jlink</code>, at least not without performing <a href=\"https://stackoverflow.com/questions/52518105/using-jlink-with-automatic-modules\">certain hacks on the connector jar</a> which may or may not work.  Request the MySQL developers to create a modular distribution of their connector."},{"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"score":0,"creation_date":1687652093,"post_id":76547362,"comment_id":134966689,"body_markdown":"@jewelsea Is there any workaround or any approach I should do instead of jlink to create a standalone executable file?","body":"@jewelsea Is there any workaround or any approach I should do instead of jlink to create a standalone executable file?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687671530,"post_id":76547362,"comment_id":134967753,"body_markdown":"If you use `jpackage` to create the executable file, then there should be a workaround. Since JDBC drivers are service providers, they can be found by named modules via the service-loader mechanism even if the provider is on the class-path (i.e., in an unnamed module). Build your run-time image as normal (either via `jlink` directly or via `jpackage`, which uses `jlink` behind the scenes). Then have `jpackage` include the MySQL JDBC driver on the class-path with the `--input` option.","body":"If you use <code>jpackage</code> to create the executable file, then there should be a workaround. Since JDBC drivers are service providers, they can be found by named modules via the service-loader mechanism even if the provider is on the class-path (i.e., in an unnamed module). Build your run-time image as normal (either via <code>jlink</code> directly or via <code>jpackage</code>, which uses <code>jlink</code> behind the scenes). Then have <code>jpackage</code> include the MySQL JDBC driver on the class-path with the <code>--input</code> option."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1687671537,"post_id":76547362,"comment_id":134967754,"body_markdown":"no problem using automatic modules. the problem is that the driver is loaded dynamically (reflection or service loader) and they do not declare that you are using the corresponding services. so see what the `uses` directive is for in the module declaration.","body":"no problem using automatic modules. the problem is that the driver is loaded dynamically (reflection or service loader) and they do not declare that you are using the corresponding services. so see what the <code>uses</code> directive is for in the module declaration."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687671599,"post_id":76547362,"comment_id":134967759,"body_markdown":"@mrmcwolf Note `jlink` can&#39;t link automatic modules (unless something has changed recently).","body":"@mrmcwolf Note <code>jlink</code> can&#39;t link automatic modules (unless something has changed recently)."},{"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"score":0,"creation_date":1687687639,"post_id":76547362,"comment_id":134968896,"body_markdown":"@Slaw, hey. I use the command jpackage --type app-image --name Test --input &quot;path/to/driver&quot; --main-jar &quot;path/to/app.jar&quot; --main-class model.Main --runtime-image &quot;path/to/runtime/image&quot;  it did create my app-image and it did include the connector.jar but its still not working? Anything I am missing with the command?","body":"@Slaw, hey. I use the command jpackage --type app-image --name Test --input &quot;path/to/driver&quot; --main-jar &quot;path/to/app.jar&quot; --main-class model.Main --runtime-image &quot;path/to/runtime/image&quot;  it did create my app-image and it did include the connector.jar but its still not working? Anything I am missing with the command?"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687727429,"creation_date":1687691099,"answer_id":76550092,"question_id":76547362,"body_markdown":"_**Warning:** Using the `jpackage` tool may make it more complicated to deploy your application, as the tool can only create executables/installers for the operating system it&#39;s executing on._\r\n\r\n---\r\n\r\nThe `jlink` tool only works with _explicit_ modules. In other words, the module must have a `module-info` descriptor. So, you cannot include the MySQL JDBC driver in the run-time image, because that library is not modular. You could try to &quot;hack&quot; the dependency to make it modular, but that can be difficult and error prone.\r\n\r\nThat said, the `jpackage` tool works with modular and non-modular applications. This is important in this case, because JDBC drivers are service providers, meaning named modules can load them via the service-loader mechanism even if the provider is in the unnamed module. In order to include the MySQL JDBC driver with your code, configure `jpackage` to put all needed explicit modules in a custom run-time image (it uses `jlink` behind the scenes), and then put the driver on the class-path via the `--input` option.\r\n\r\n# Example\r\n\r\nHere&#39;s a very basic example showing what I described above. Note all tool invocations in this example are executed directly on the command line rather than via an IDE or a build tool.\r\n\r\nThe example does not include JavaFX as it&#39;s not important to what&#39;s being demonstrated.\r\n\r\n## Source Code\r\n\r\n**module-info:**\r\n\r\n```lang-java\r\nmodule sample {\r\n    requires java.sql;\r\n}\r\n```\r\n\r\n**sample.Main**:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.sql.DriverManager;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try (var con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;)) {\r\n            System.out.println(&quot;Made connection!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Project Layout\r\n\r\n```lang-none\r\nC:\\...\\PROJECT\r\n│   \r\n├───lib\r\n│       mysql-connector-j-8.0.33.jar\r\n│       \r\n└───src\r\n    └───sample\r\n        │   module-info.java\r\n        │   \r\n        └───sample\r\n                Main.java\r\n```\r\n\r\n## Creating Executable\r\n\r\nFirst compile the project:\r\n\r\n```lang-none\r\njavac --module-source-path src --module sample -d out/modules\r\n```\r\n\r\nThen package the application:\r\n\r\n```lang-none\r\njpackage --type app-image --name TestApp --module-path out/modules --add-modules java.naming --module sample/sample.Main --input lib --dest out --win-console\r\n```\r\n\r\nCouple notes:\r\n\r\n1. I included `--win-console` because I wanted to see the console output when running the executable (and I&#39;m on Windows).\r\n\r\n2. I included `--add-modules java.naming` because it appears the MySQL JDBC driver requires that module to run. You may or may not find you need to include more modules; if you do, simply add them to the `--add-modules` argument or, if it makes more sense, add appropriate `requires` directives to your code&#39;s module-info descriptor.\r\n\r\n## Running Executable\r\n\r\nI do not currently have a MySQL server available for testing, so the output I show below is an exception stack trace. But if you look at the exception, you&#39;ll see the error is that a connection could not be made. That fact, plus the fact that MySQL JDBC driver code shows up in the stack trace, shows that the MySQL JDBC driver was found successfully.\r\n\r\nThe command (Windows):\r\n\r\n```lang-none\r\n.\\out\\TestApp\\TestApp.exe\r\n```\r\n\r\nThe output (with no running MySQL server):\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n        at sample/sample.Main.main(Unknown Source)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(Unknown Source)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)\r\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\r\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:121)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)\r\n        ... 6 more\r\nCaused by: java.net.ConnectException: Connection refused: connect\r\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n        at java.base/sun.nio.ch.Net.connect(Unknown Source)\r\n        at java.base/sun.nio.ch.Net.connect(Unknown Source)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source)\r\n        at java.base/java.net.SocksSocketImpl.connect(Unknown Source)\r\n        at java.base/java.net.Socket.connect(Unknown Source)\r\n        at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)\r\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n        ... 9 more\r\nFailed to launch JVM\r\n```\r\n\r\n## Application Layout\r\n\r\nHere&#39;s the layout of the application generated by the above `jpackage` command:\r\n\r\n```lang-none\r\nC:\\...\\PROJECT\\OUT\\TESTAPP\r\n│   TestApp.exe\r\n│   \r\n├───app\r\n│       .jpackage.xml\r\n│       mysql-connector-j-8.0.33.jar\r\n│       TestApp.cfg\r\n│       \r\n└───runtime\r\n    │   release\r\n    │   \r\n    ├───bin\r\n    │   │   api-ms-win-core-console-l1-1-0.dll\r\n    │   │   api-ms-win-core-console-l1-2-0.dll\r\n    │   │   api-ms-win-core-datetime-l1-1-0.dll\r\n    │   │   api-ms-win-core-debug-l1-1-0.dll\r\n    │   │   api-ms-win-core-errorhandling-l1-1-0.dll\r\n    │   │   api-ms-win-core-fibers-l1-1-0.dll\r\n    │   │   api-ms-win-core-file-l1-1-0.dll\r\n    │   │   api-ms-win-core-file-l1-2-0.dll\r\n    │   │   api-ms-win-core-file-l2-1-0.dll\r\n    │   │   api-ms-win-core-handle-l1-1-0.dll\r\n    │   │   api-ms-win-core-heap-l1-1-0.dll\r\n    │   │   api-ms-win-core-interlocked-l1-1-0.dll\r\n    │   │   api-ms-win-core-libraryloader-l1-1-0.dll\r\n    │   │   api-ms-win-core-localization-l1-2-0.dll\r\n    │   │   api-ms-win-core-memory-l1-1-0.dll\r\n    │   │   api-ms-win-core-namedpipe-l1-1-0.dll\r\n    │   │   api-ms-win-core-processenvironment-l1-1-0.dll\r\n    │   │   api-ms-win-core-processthreads-l1-1-0.dll\r\n    │   │   api-ms-win-core-processthreads-l1-1-1.dll\r\n    │   │   api-ms-win-core-profile-l1-1-0.dll\r\n    │   │   api-ms-win-core-rtlsupport-l1-1-0.dll\r\n    │   │   api-ms-win-core-string-l1-1-0.dll\r\n    │   │   api-ms-win-core-synch-l1-1-0.dll\r\n    │   │   api-ms-win-core-synch-l1-2-0.dll\r\n    │   │   api-ms-win-core-sysinfo-l1-1-0.dll\r\n    │   │   api-ms-win-core-timezone-l1-1-0.dll\r\n    │   │   api-ms-win-core-util-l1-1-0.dll\r\n    │   │   api-ms-win-crt-conio-l1-1-0.dll\r\n    │   │   api-ms-win-crt-convert-l1-1-0.dll\r\n    │   │   api-ms-win-crt-environment-l1-1-0.dll\r\n    │   │   api-ms-win-crt-filesystem-l1-1-0.dll\r\n    │   │   api-ms-win-crt-heap-l1-1-0.dll\r\n    │   │   api-ms-win-crt-locale-l1-1-0.dll\r\n    │   │   api-ms-win-crt-math-l1-1-0.dll\r\n    │   │   api-ms-win-crt-multibyte-l1-1-0.dll\r\n    │   │   api-ms-win-crt-private-l1-1-0.dll\r\n    │   │   api-ms-win-crt-process-l1-1-0.dll\r\n    │   │   api-ms-win-crt-runtime-l1-1-0.dll\r\n    │   │   api-ms-win-crt-stdio-l1-1-0.dll\r\n    │   │   api-ms-win-crt-string-l1-1-0.dll\r\n    │   │   api-ms-win-crt-time-l1-1-0.dll\r\n    │   │   api-ms-win-crt-utility-l1-1-0.dll\r\n    │   │   java.dll\r\n    │   │   jimage.dll\r\n    │   │   jli.dll\r\n    │   │   msvcp140.dll\r\n    │   │   net.dll\r\n    │   │   nio.dll\r\n    │   │   syslookup.dll\r\n    │   │   ucrtbase.dll\r\n    │   │   vcruntime140.dll\r\n    │   │   vcruntime140_1.dll\r\n    │   │   verify.dll\r\n    │   │   zip.dll\r\n    │   │\r\n    │   ├───client\r\n    │   │       jvm.dll\r\n    │   │\r\n    │   └───server\r\n    │           jvm.dll\r\n    │\r\n    ├───conf\r\n    │   │   logging.properties\r\n    │   │   net.properties\r\n    │   │\r\n    │   └───security\r\n    │       │   java.policy\r\n    │       │   java.security\r\n    │       │\r\n    │       └───policy\r\n    │           │   README.txt\r\n    │           │\r\n    │           ├───limited\r\n    │           │       default_local.policy\r\n    │           │       default_US_export.policy\r\n    │           │       exempt_local.policy\r\n    │           │\r\n    │           └───unlimited\r\n    │                   default_local.policy\r\n    │                   default_US_export.policy\r\n    │\r\n    ├───legal\r\n    │   ├───java.base\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       aes.md\r\n    │   │       asm.md\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       c-libutl.md\r\n    │   │       cldr.md\r\n    │   │       icu.md\r\n    │   │       LICENSE\r\n    │   │       public_suffix.md\r\n    │   │       unicode.md\r\n    │   │       wepoll.md\r\n    │   │       zlib.md\r\n    │   │\r\n    │   ├───java.logging\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       LICENSE\r\n    │   │\r\n    │   ├───java.naming\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       LICENSE\r\n    │   │\r\n    │   ├───java.security.sasl\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       LICENSE\r\n    │   │\r\n    │   ├───java.sql\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       LICENSE\r\n    │   │\r\n    │   ├───java.transaction.xa\r\n    │   │       ADDITIONAL_LICENSE_INFO\r\n    │   │       ASSEMBLY_EXCEPTION\r\n    │   │       LICENSE\r\n    │   │\r\n    │   └───java.xml\r\n    │           ADDITIONAL_LICENSE_INFO\r\n    │           ASSEMBLY_EXCEPTION\r\n    │           bcel.md\r\n    │           dom.md\r\n    │           jcup.md\r\n    │           LICENSE\r\n    │           xalan.md\r\n    │           xerces.md\r\n    │\r\n    └───lib\r\n        │   classlist\r\n        │   jrt-fs.jar\r\n        │   jvm.cfg\r\n        │   jvm.lib\r\n        │   modules\r\n        │   tzdb.dat\r\n        │   tzmappings\r\n        │\r\n        └───security\r\n                blocked.certs\r\n                cacerts\r\n                default.policy\r\n                public_suffix_list.dat\r\n```","title":"How can I integrate MySQL JDBC driver and JLink in a JavaFX application?","body":"<p><em><strong>Warning:</strong> Using the <code>jpackage</code> tool may make it more complicated to deploy your application, as the tool can only create executables/installers for the operating system it's executing on.</em></p>\n<hr />\n<p>The <code>jlink</code> tool only works with <em>explicit</em> modules. In other words, the module must have a <code>module-info</code> descriptor. So, you cannot include the MySQL JDBC driver in the run-time image, because that library is not modular. You could try to &quot;hack&quot; the dependency to make it modular, but that can be difficult and error prone.</p>\n<p>That said, the <code>jpackage</code> tool works with modular and non-modular applications. This is important in this case, because JDBC drivers are service providers, meaning named modules can load them via the service-loader mechanism even if the provider is in the unnamed module. In order to include the MySQL JDBC driver with your code, configure <code>jpackage</code> to put all needed explicit modules in a custom run-time image (it uses <code>jlink</code> behind the scenes), and then put the driver on the class-path via the <code>--input</code> option.</p>\n<h1>Example</h1>\n<p>Here's a very basic example showing what I described above. Note all tool invocations in this example are executed directly on the command line rather than via an IDE or a build tool.</p>\n<p>The example does not include JavaFX as it's not important to what's being demonstrated.</p>\n<h2>Source Code</h2>\n<p><strong>module-info:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module sample {\n    requires java.sql;\n}\n</code></pre>\n<p><strong>sample.Main</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.sql.DriverManager;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        try (var con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;)) {\n            System.out.println(&quot;Made connection!&quot;);\n        }\n    }\n}\n</code></pre>\n<h2>Project Layout</h2>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\...\\PROJECT\n│   \n├───lib\n│       mysql-connector-j-8.0.33.jar\n│       \n└───src\n    └───sample\n        │   module-info.java\n        │   \n        └───sample\n                Main.java\n</code></pre>\n<h2>Creating Executable</h2>\n<p>First compile the project:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac --module-source-path src --module sample -d out/modules\n</code></pre>\n<p>Then package the application:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jpackage --type app-image --name TestApp --module-path out/modules --add-modules java.naming --module sample/sample.Main --input lib --dest out --win-console\n</code></pre>\n<p>Couple notes:</p>\n<ol>\n<li><p>I included <code>--win-console</code> because I wanted to see the console output when running the executable (and I'm on Windows).</p>\n</li>\n<li><p>I included <code>--add-modules java.naming</code> because it appears the MySQL JDBC driver requires that module to run. You may or may not find you need to include more modules; if you do, simply add them to the <code>--add-modules</code> argument or, if it makes more sense, add appropriate <code>requires</code> directives to your code's module-info descriptor.</p>\n</li>\n</ol>\n<h2>Running Executable</h2>\n<p>I do not currently have a MySQL server available for testing, so the output I show below is an exception stack trace. But if you look at the exception, you'll see the error is that a connection could not be made. That fact, plus the fact that MySQL JDBC driver code shows up in the stack trace, shows that the MySQL JDBC driver was found successfully.</p>\n<p>The command (Windows):</p>\n<pre class=\"lang-none prettyprint-override\"><code>.\\out\\TestApp\\TestApp.exe\n</code></pre>\n<p>The output (with no running MySQL server):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446)\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\n        at sample/sample.Main.main(Unknown Source)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)\n        at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:121)\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)\n        ... 6 more\nCaused by: java.net.ConnectException: Connection refused: connect\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\n        at java.base/sun.nio.ch.Net.connect(Unknown Source)\n        at java.base/sun.nio.ch.Net.connect(Unknown Source)\n        at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source)\n        at java.base/java.net.SocksSocketImpl.connect(Unknown Source)\n        at java.base/java.net.Socket.connect(Unknown Source)\n        at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n        ... 9 more\nFailed to launch JVM\n</code></pre>\n<h2>Application Layout</h2>\n<p>Here's the layout of the application generated by the above <code>jpackage</code> command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\...\\PROJECT\\OUT\\TESTAPP\n│   TestApp.exe\n│   \n├───app\n│       .jpackage.xml\n│       mysql-connector-j-8.0.33.jar\n│       TestApp.cfg\n│       \n└───runtime\n    │   release\n    │   \n    ├───bin\n    │   │   api-ms-win-core-console-l1-1-0.dll\n    │   │   api-ms-win-core-console-l1-2-0.dll\n    │   │   api-ms-win-core-datetime-l1-1-0.dll\n    │   │   api-ms-win-core-debug-l1-1-0.dll\n    │   │   api-ms-win-core-errorhandling-l1-1-0.dll\n    │   │   api-ms-win-core-fibers-l1-1-0.dll\n    │   │   api-ms-win-core-file-l1-1-0.dll\n    │   │   api-ms-win-core-file-l1-2-0.dll\n    │   │   api-ms-win-core-file-l2-1-0.dll\n    │   │   api-ms-win-core-handle-l1-1-0.dll\n    │   │   api-ms-win-core-heap-l1-1-0.dll\n    │   │   api-ms-win-core-interlocked-l1-1-0.dll\n    │   │   api-ms-win-core-libraryloader-l1-1-0.dll\n    │   │   api-ms-win-core-localization-l1-2-0.dll\n    │   │   api-ms-win-core-memory-l1-1-0.dll\n    │   │   api-ms-win-core-namedpipe-l1-1-0.dll\n    │   │   api-ms-win-core-processenvironment-l1-1-0.dll\n    │   │   api-ms-win-core-processthreads-l1-1-0.dll\n    │   │   api-ms-win-core-processthreads-l1-1-1.dll\n    │   │   api-ms-win-core-profile-l1-1-0.dll\n    │   │   api-ms-win-core-rtlsupport-l1-1-0.dll\n    │   │   api-ms-win-core-string-l1-1-0.dll\n    │   │   api-ms-win-core-synch-l1-1-0.dll\n    │   │   api-ms-win-core-synch-l1-2-0.dll\n    │   │   api-ms-win-core-sysinfo-l1-1-0.dll\n    │   │   api-ms-win-core-timezone-l1-1-0.dll\n    │   │   api-ms-win-core-util-l1-1-0.dll\n    │   │   api-ms-win-crt-conio-l1-1-0.dll\n    │   │   api-ms-win-crt-convert-l1-1-0.dll\n    │   │   api-ms-win-crt-environment-l1-1-0.dll\n    │   │   api-ms-win-crt-filesystem-l1-1-0.dll\n    │   │   api-ms-win-crt-heap-l1-1-0.dll\n    │   │   api-ms-win-crt-locale-l1-1-0.dll\n    │   │   api-ms-win-crt-math-l1-1-0.dll\n    │   │   api-ms-win-crt-multibyte-l1-1-0.dll\n    │   │   api-ms-win-crt-private-l1-1-0.dll\n    │   │   api-ms-win-crt-process-l1-1-0.dll\n    │   │   api-ms-win-crt-runtime-l1-1-0.dll\n    │   │   api-ms-win-crt-stdio-l1-1-0.dll\n    │   │   api-ms-win-crt-string-l1-1-0.dll\n    │   │   api-ms-win-crt-time-l1-1-0.dll\n    │   │   api-ms-win-crt-utility-l1-1-0.dll\n    │   │   java.dll\n    │   │   jimage.dll\n    │   │   jli.dll\n    │   │   msvcp140.dll\n    │   │   net.dll\n    │   │   nio.dll\n    │   │   syslookup.dll\n    │   │   ucrtbase.dll\n    │   │   vcruntime140.dll\n    │   │   vcruntime140_1.dll\n    │   │   verify.dll\n    │   │   zip.dll\n    │   │\n    │   ├───client\n    │   │       jvm.dll\n    │   │\n    │   └───server\n    │           jvm.dll\n    │\n    ├───conf\n    │   │   logging.properties\n    │   │   net.properties\n    │   │\n    │   └───security\n    │       │   java.policy\n    │       │   java.security\n    │       │\n    │       └───policy\n    │           │   README.txt\n    │           │\n    │           ├───limited\n    │           │       default_local.policy\n    │           │       default_US_export.policy\n    │           │       exempt_local.policy\n    │           │\n    │           └───unlimited\n    │                   default_local.policy\n    │                   default_US_export.policy\n    │\n    ├───legal\n    │   ├───java.base\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       aes.md\n    │   │       asm.md\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       c-libutl.md\n    │   │       cldr.md\n    │   │       icu.md\n    │   │       LICENSE\n    │   │       public_suffix.md\n    │   │       unicode.md\n    │   │       wepoll.md\n    │   │       zlib.md\n    │   │\n    │   ├───java.logging\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       LICENSE\n    │   │\n    │   ├───java.naming\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       LICENSE\n    │   │\n    │   ├───java.security.sasl\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       LICENSE\n    │   │\n    │   ├───java.sql\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       LICENSE\n    │   │\n    │   ├───java.transaction.xa\n    │   │       ADDITIONAL_LICENSE_INFO\n    │   │       ASSEMBLY_EXCEPTION\n    │   │       LICENSE\n    │   │\n    │   └───java.xml\n    │           ADDITIONAL_LICENSE_INFO\n    │           ASSEMBLY_EXCEPTION\n    │           bcel.md\n    │           dom.md\n    │           jcup.md\n    │           LICENSE\n    │           xalan.md\n    │           xerces.md\n    │\n    └───lib\n        │   classlist\n        │   jrt-fs.jar\n        │   jvm.cfg\n        │   jvm.lib\n        │   modules\n        │   tzdb.dat\n        │   tzmappings\n        │\n        └───security\n                blocked.certs\n                cacerts\n                default.policy\n                public_suffix_list.dat\n</code></pre>\n"}],"owner":{"account_id":22847345,"reputation":23,"user_id":16993504,"display_name":"Kenneth Arias"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687727429,"creation_date":1687629167,"question_id":76547362,"body_markdown":"Basically, when I&#39;m running my modular project on eclipse, it works fine but when I use jlink to create a runtime image, it throws an error for mysql connection. \r\n\r\n```\r\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/timp_db\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n        at projectTMIP/database.DBConnect.getConnection(DBConnect.java:14)\r\n        ... 56 more \r\n```\r\n\r\nthis is my module-info.java look like\r\n\r\n\r\n```\r\nmodule projectTMIP {\r\n\trequires javafx.controls;\r\n\trequires java.sql;\r\n\trequires javafx.fxml;\r\n\trequires javafx.graphics;\r\n\r\n\topens model to javafx.graphics, javafx.fxml;\r\n\topens controller to javafx.fxml;\r\n\r\n\texports controller;\r\n\r\n\trequires transitive javafx.base;\r\n}\r\n```\r\n\r\n\r\nthis is the command i use on eclipse terminal navigated on my root project.\r\n```\r\njlink --module-path &quot;path/to/jmod&quot;;&quot;path/to/mysql/connector.jar&quot;;bin --add-modules projectTMIP --output output/image --launcher run=projectTMIP/model.Main\r\n```\r\n\r\nI expected to produce a runtime image where it would include the mysqlconnector.jar","title":"How can I integrate MySQL JDBC driver and JLink in a JavaFX application?","body":"<p>Basically, when I'm running my modular project on eclipse, it works fine but when I use jlink to create a runtime image, it throws an error for mysql connection.</p>\n<pre><code>Caused by: java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/timp_db\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n        at projectTMIP/database.DBConnect.getConnection(DBConnect.java:14)\n        ... 56 more \n</code></pre>\n<p>this is my module-info.java look like</p>\n<pre><code>module projectTMIP {\n    requires javafx.controls;\n    requires java.sql;\n    requires javafx.fxml;\n    requires javafx.graphics;\n\n    opens model to javafx.graphics, javafx.fxml;\n    opens controller to javafx.fxml;\n\n    exports controller;\n\n    requires transitive javafx.base;\n}\n</code></pre>\n<p>this is the command i use on eclipse terminal navigated on my root project.</p>\n<pre><code>jlink --module-path &quot;path/to/jmod&quot;;&quot;path/to/mysql/connector.jar&quot;;bin --add-modules projectTMIP --output output/image --launcher run=projectTMIP/model.Main\n</code></pre>\n<p>I expected to produce a runtime image where it would include the mysqlconnector.jar</p>\n"},{"tags":["java","spring-boot","apache-camel","graalvm-native-image","spring-native"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1687863506,"post_id":76552416,"comment_id":134993132,"body_markdown":"Do you have `spring-boot-autoconfigure` in your classpath? See https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-autoconfigure/3.1.1/versions","body":"Do you have <code>spring-boot-autoconfigure</code> in your classpath? See <a href=\"https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-autoconfigure/3.1.1/versions\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/org.springframework.boot/&hellip;</a>"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1687863598,"post_id":76552416,"comment_id":134993153,"body_markdown":"Anyway you will need to wait for 4.0.0-RC1 that is about to be released for this https://issues.apache.org/jira/browse/CAMEL-19308","body":"Anyway you will need to wait for 4.0.0-RC1 that is about to be released for this <a href=\"https://issues.apache.org/jira/browse/CAMEL-19308\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CAMEL-19308</a>"},{"owner":{"account_id":18098169,"reputation":11,"user_id":13156257,"display_name":"learner"},"score":0,"creation_date":1688033957,"post_id":76552416,"comment_id":135020820,"body_markdown":"@NicolasFilotto Thanks for your reply. Yes I have spring-boot-autoconfigure 3.1.0 in classpath. I guess as you suggest I will have to wait for camel 4.0.0-RC1.\n\nBut I tried to run a simple native image spring boot application removing camel to load simple bean from applicationContext.xml file. This fails to create bean defined in xml file, It looks to me like beans cannot be initialised from xml and the xml is completely ignored in spring boot native image.","body":"@NicolasFilotto Thanks for your reply. Yes I have spring-boot-autoconfigure 3.1.0 in classpath. I guess as you suggest I will have to wait for camel 4.0.0-RC1.  But I tried to run a simple native image spring boot application removing camel to load simple bean from applicationContext.xml file. This fails to create bean defined in xml file, It looks to me like beans cannot be initialised from xml and the xml is completely ignored in spring boot native image."},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1688041580,"post_id":76552416,"comment_id":135022312,"body_markdown":"This could help you https://github.com/spring-tips/spring-boot-3-aot#xml-configuration","body":"This could help you <a href=\"https://github.com/spring-tips/spring-boot-3-aot#xml-configuration\" rel=\"nofollow noreferrer\">github.com/spring-tips/spring-boot-3-aot#xml-configuration</a>"}],"owner":{"account_id":18098169,"reputation":11,"user_id":13156257,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687727357,"creation_date":1687727357,"question_id":76552416,"body_markdown":"I am working on a spring boot application with apache camel which uses applicationContext.xml to initialise the spring context. I want to convert this spring boot app to spring native image, i want to understand  how would the spring ahead of time processing work in this case as the spring beans I want in the spring context must be picked from applicationContext.xml. Do I have to write custom hints so native image picks up the applicationContext.xml and includes the bean definitions from xml ? spring boot version 3, spring version 6, camel version 4 ( Milestone 3 ).\r\n\r\nI tried :-\r\nI created the native image following the documentation https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html# The image is build successfully but when i try to run the native image it fails with error &quot;native image Web application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context&quot;. I think this might be due to context xml not being parsed by the AOT processor.\r\nI was expecting the application to start as it does on Jit JVM.\r\n","title":"Does GraalVM native image support xml based spring context initialisation?","body":"<p>I am working on a spring boot application with apache camel which uses applicationContext.xml to initialise the spring context. I want to convert this spring boot app to spring native image, i want to understand  how would the spring ahead of time processing work in this case as the spring beans I want in the spring context must be picked from applicationContext.xml. Do I have to write custom hints so native image picks up the applicationContext.xml and includes the bean definitions from xml ? spring boot version 3, spring version 6, camel version 4 ( Milestone 3 ).</p>\n<p>I tried :-\nI created the native image following the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#</a> The image is build successfully but when i try to run the native image it fails with error &quot;native image Web application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context&quot;. I think this might be due to context xml not being parsed by the AOT processor.\nI was expecting the application to start as it does on Jit JVM.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1687730659,"post_id":76552375,"comment_id":134973578,"body_markdown":"If configuration of dependency injection needs such a complex structure thats a big smell to me - try to find an alternative solution to your problem, maybe with Spring profiles. If you need such a delicate configuration it is likely to be misunderstood by other devs or might break easily in future versions of Spring.","body":"If configuration of dependency injection needs such a complex structure thats a big smell to me - try to find an alternative solution to your problem, maybe with Spring profiles. If you need such a delicate configuration it is likely to be misunderstood by other devs or might break easily in future versions of Spring."},{"owner":{"account_id":1873164,"reputation":886,"user_id":1694963,"display_name":"Miron Balcerzak"},"score":0,"creation_date":1687731033,"post_id":76552375,"comment_id":134973619,"body_markdown":"@cyberbrian, thank you for your comment - it cannot nor will be changed. it&#39;s neither delicate nor misunderstood by other devs - it&#39;s doing exactly what it is supposed to do =) it has got very good reason to be the way it is. Any clues why it&#39;s behaving strange?","body":"@cyberbrian, thank you for your comment - it cannot nor will be changed. it&#39;s neither delicate nor misunderstood by other devs - it&#39;s doing exactly what it is supposed to do =) it has got very good reason to be the way it is. Any clues why it&#39;s behaving strange?"}],"owner":{"account_id":1873164,"reputation":886,"user_id":1694963,"display_name":"Miron Balcerzak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687726660,"creation_date":1687726660,"question_id":76552375,"body_markdown":"I am in need to have beans defined in certain order for the sake of later bean overriding. \r\n\r\nAll is done through `java-config` and `@Configuration` annotations.\r\n\r\nAs it seems, `@Order` on nested static classes annotated with `@Configuration` is not working as expected. (moving nested class up/down within enclosing class changes the outcome, renaming methods too - so alphanumerical order matters)\r\n\r\nI&#39;ve reproduced the issue here:\r\nhttps://github.com/mironbalcerzak/poc-spring-config-ordering\r\n\r\nWhat are your thoughts? I don&#39;t want to do a bug report just yet.\r\n\r\nTested on:\r\n- 5.2.24.RELEASE\r\n- 5.3.28\r\n- 6.0.10\r\n\r\nThanks","title":"@Order-ing of @Configuration for bean overriding","body":"<p>I am in need to have beans defined in certain order for the sake of later bean overriding.</p>\n<p>All is done through <code>java-config</code> and <code>@Configuration</code> annotations.</p>\n<p>As it seems, <code>@Order</code> on nested static classes annotated with <code>@Configuration</code> is not working as expected. (moving nested class up/down within enclosing class changes the outcome, renaming methods too - so alphanumerical order matters)</p>\n<p>I've reproduced the issue here:\n<a href=\"https://github.com/mironbalcerzak/poc-spring-config-ordering\" rel=\"nofollow noreferrer\">https://github.com/mironbalcerzak/poc-spring-config-ordering</a></p>\n<p>What are your thoughts? I don't want to do a bug report just yet.</p>\n<p>Tested on:</p>\n<ul>\n<li>5.2.24.RELEASE</li>\n<li>5.3.28</li>\n<li>6.0.10</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1463349,"reputation":62353,"user_id":1377002,"display_name":"Andy"},"score":0,"creation_date":1687623603,"post_id":76546945,"comment_id":134964079,"body_markdown":"You have _Java_ confused with _JavaScript_.","body":"You have <i>Java</i> confused with <i>JavaScript</i>."},{"owner":{"account_id":28515526,"reputation":474,"user_id":21824938,"display_name":"Aniket Pandey"},"score":0,"creation_date":1687623674,"post_id":76546945,"comment_id":134964087,"body_markdown":"Instead of using switch to get the month name, use a **string-array** with all the months in it. then you can simply use `months[month+1]` where months is the array and month is numerical value for month","body":"Instead of using switch to get the month name, use a <b>string-array</b> with all the months in it. then you can simply use <code>months[month+1]</code> where months is the array and month is numerical value for month"},{"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"score":0,"creation_date":1687624241,"post_id":76546945,"comment_id":134964137,"body_markdown":"Any chance you can provide an example maybe for January and I can take it from there? That will help me know how to do it and make sure it is right. Thanks Andy","body":"Any chance you can provide an example maybe for January and I can take it from there? That will help me know how to do it and make sure it is right. Thanks Andy"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687625066,"post_id":76546945,"comment_id":134964227,"body_markdown":"Which is line 61 in your code?  And what symbol cannot be found?  (The 2nd question is meant to point out that you truncated the message `PrintCalendar3.java:61: error: cannot find symbol:`. What comes after `symbol:`?).","body":"Which is line 61 in your code?  And what symbol cannot be found?  (The 2nd question is meant to point out that you truncated the message <code>PrintCalendar3.java:61: error: cannot find symbol:</code>. What comes after <code>symbol:</code>?)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687625445,"post_id":76546945,"comment_id":134964269,"body_markdown":"You need to ensure each digit group take up 3 characters in width","body":"You need to ensure each digit group take up 3 characters in width"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687625485,"post_id":76546945,"comment_id":134964277,"body_markdown":"To get the days of the months to line up, you need to make them all the same width. One tool you could use is to use a tab (`\\t`) before each day of week abbreviated name and before each day of month, which would left align. But, it&#39;s better to study a [number formatting tutorial](https://docs.oracle.com/javase/tutorial/java/data/numberformat.html)","body":"To get the days of the months to line up, you need to make them all the same width. One tool you could use is to use a tab (<code>\\t</code>) before each day of week abbreviated name and before each day of month, which would left align. But, it&#39;s better to study a <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow noreferrer\">number formatting tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":28515526,"reputation":474,"user_id":21824938,"display_name":"Aniket Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687726341,"creation_date":1687628032,"answer_id":76547282,"question_id":76546945,"body_markdown":"Added `monthsArray` to get month-name instead of a `getMonthName` function. Your spacing is wrong for dates. Each column you have is 4 characters long(3 for week-day and 1 space after) hence you need to have 4 spaces for each date. Example: if date is &quot;1&quot;, you need 3 spaces before it to make the total equal to 4 characters. Similarly 2 spaces before two-digit dates and 4 spaces for empty blocks at the start of calendar. Check the comments I have added in code for spaces. \r\n  \r\n    import java.util.Scanner;\r\n    \r\n    public class PrintCalendar3 {\r\n    \r\n      static String[] monthsArray = {\r\n        &quot;January&quot;,\r\n        &quot;February&quot;,\r\n        &quot;March&quot;,\r\n        &quot;April&quot;,\r\n        &quot;May&quot;,\r\n        &quot;June&quot;,\r\n        &quot;July&quot;,\r\n        &quot;August&quot;,\r\n        &quot;September&quot;,\r\n        &quot;October&quot;,\r\n        &quot;November&quot;,\r\n        &quot;December&quot;,\r\n      };\r\n    \r\n      public static void main(String[] args) {\r\n        // Prompt the user to enter year\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Prompt the user to enter year\r\n        System.out.print(&quot;Enter full year (e.g., 2016): &quot;);\r\n        int year = scanner.nextInt();\r\n        // Prompt the user to enter month\r\n        System.out.print(&quot;Enter month in number between 1 and 12: &quot;);\r\n        int month = scanner.nextInt();\r\n        // Print calendar for the month of the year\r\n        printMonth(year, month);\r\n      }\r\n    \r\n      /** Print the calendar for a month in a year */\r\n      static void printMonth(int year, int month) {\r\n        // Print the headings of the calendar\r\n        printMonthTitle(year, month);\r\n        // Print the body of the calendar\r\n        printMonthBody(year, month);\r\n      }\r\n    \r\n      /** Print the month title, e.g., May, 1999 */\r\n      static void printMonthTitle(int year, int month) {\r\n        System.out.println(&quot; &quot; + monthsArray[month - 1] + &quot; &quot; + year);\r\n        System.out.println(&quot;-----------------------------&quot;);\r\n        System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\r\n      }\r\n    \r\n      /** Print month body */\r\n      static void printMonthBody(int year, int month) {\r\n        // Get start day of the week for the first date in the month\r\n        int startDay = getStartDay(year, month);\r\n        // Get number of days in the month\r\n        int numberOfDaysInMonth = getNumberOfDaysInMonth(year, month);\r\n        // Pad space before the first day of the month\r\n        int i = 0;\r\n        //4 spaces as month name has three char and a space after them\r\n        for (i = 0; i &lt; startDay; i++) System.out.printf(&quot;%4s&quot;,&quot;&quot;);\r\n        for (i = 1; i &lt;= numberOfDaysInMonth; i++) {\r\n          //3 spaces for single digit\r\n          if (i &lt; 10) System.out.printf(&quot;%4d&quot;, i);\r\n          //2 spaces for double digit\r\n          else System.out.printf(&quot;%4d&quot;, i);\r\n          if ((startDay + i) % 7 == 0) System.out.println();\r\n        }\r\n        System.out.println();\r\n      }\r\n    \r\n      /** Get the start day of the first day in a month */\r\n      static int getStartDay(int year, int month) {\r\n        // Get total number of days since 1/1/1800\r\n        int startDay1800 = 3;\r\n        int totalNumberOfDays = getTotalNumberOfDays(year, month);\r\n        // Return the start day\r\n        return (totalNumberOfDays + startDay1800) % 7;\r\n      }\r\n    \r\n      /** Get the total number of days since January 1, 1800 */\r\n      static int getTotalNumberOfDays(int year, int month) {\r\n        int total = 0;\r\n        // Get the total days from 1800 to year - 1\r\n        for (int i = 1800; i &lt; year; i++) if (isLeapYear(i)) total =\r\n          total + 366; else total = total + 365;\r\n        // Add days from Jan to the month prior to the calendar month\r\n        for (int i = 1; i &lt; month; i++) total =\r\n          total + getNumberOfDaysInMonth(year, i);\r\n        return total;\r\n      }\r\n    \r\n      /** Get the number of days in a month */\r\n      static int getNumberOfDaysInMonth(int year, int month) {\r\n        if (\r\n          month == 1 ||\r\n          month == 3 ||\r\n          month == 5 ||\r\n          month == 7 ||\r\n          month == 8 ||\r\n          month == 10 ||\r\n          month == 12\r\n        ) return 31; else if (\r\n          month == 4 || month == 6 || month == 9 || month == 11\r\n        ) return 30; else if (month == 2) return isLeapYear(year) ? 29 : 28;\r\n        return 0; // If month is incorrect\r\n      }\r\n    \r\n      /** Determine if it is a leap year */\r\n      static boolean isLeapYear(int year) {\r\n        return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n      }\r\n    }\r\n\r\n","title":"Days of the month do not line up correctly","body":"<p>Added <code>monthsArray</code> to get month-name instead of a <code>getMonthName</code> function. Your spacing is wrong for dates. Each column you have is 4 characters long(3 for week-day and 1 space after) hence you need to have 4 spaces for each date. Example: if date is &quot;1&quot;, you need 3 spaces before it to make the total equal to 4 characters. Similarly 2 spaces before two-digit dates and 4 spaces for empty blocks at the start of calendar. Check the comments I have added in code for spaces.</p>\n<pre><code>import java.util.Scanner;\n\npublic class PrintCalendar3 {\n\n  static String[] monthsArray = {\n    &quot;January&quot;,\n    &quot;February&quot;,\n    &quot;March&quot;,\n    &quot;April&quot;,\n    &quot;May&quot;,\n    &quot;June&quot;,\n    &quot;July&quot;,\n    &quot;August&quot;,\n    &quot;September&quot;,\n    &quot;October&quot;,\n    &quot;November&quot;,\n    &quot;December&quot;,\n  };\n\n  public static void main(String[] args) {\n    // Prompt the user to enter year\n    Scanner scanner = new Scanner(System.in);\n    // Prompt the user to enter year\n    System.out.print(&quot;Enter full year (e.g., 2016): &quot;);\n    int year = scanner.nextInt();\n    // Prompt the user to enter month\n    System.out.print(&quot;Enter month in number between 1 and 12: &quot;);\n    int month = scanner.nextInt();\n    // Print calendar for the month of the year\n    printMonth(year, month);\n  }\n\n  /** Print the calendar for a month in a year */\n  static void printMonth(int year, int month) {\n    // Print the headings of the calendar\n    printMonthTitle(year, month);\n    // Print the body of the calendar\n    printMonthBody(year, month);\n  }\n\n  /** Print the month title, e.g., May, 1999 */\n  static void printMonthTitle(int year, int month) {\n    System.out.println(&quot; &quot; + monthsArray[month - 1] + &quot; &quot; + year);\n    System.out.println(&quot;-----------------------------&quot;);\n    System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\n  }\n\n  /** Print month body */\n  static void printMonthBody(int year, int month) {\n    // Get start day of the week for the first date in the month\n    int startDay = getStartDay(year, month);\n    // Get number of days in the month\n    int numberOfDaysInMonth = getNumberOfDaysInMonth(year, month);\n    // Pad space before the first day of the month\n    int i = 0;\n    //4 spaces as month name has three char and a space after them\n    for (i = 0; i &lt; startDay; i++) System.out.printf(&quot;%4s&quot;,&quot;&quot;);\n    for (i = 1; i &lt;= numberOfDaysInMonth; i++) {\n      //3 spaces for single digit\n      if (i &lt; 10) System.out.printf(&quot;%4d&quot;, i);\n      //2 spaces for double digit\n      else System.out.printf(&quot;%4d&quot;, i);\n      if ((startDay + i) % 7 == 0) System.out.println();\n    }\n    System.out.println();\n  }\n\n  /** Get the start day of the first day in a month */\n  static int getStartDay(int year, int month) {\n    // Get total number of days since 1/1/1800\n    int startDay1800 = 3;\n    int totalNumberOfDays = getTotalNumberOfDays(year, month);\n    // Return the start day\n    return (totalNumberOfDays + startDay1800) % 7;\n  }\n\n  /** Get the total number of days since January 1, 1800 */\n  static int getTotalNumberOfDays(int year, int month) {\n    int total = 0;\n    // Get the total days from 1800 to year - 1\n    for (int i = 1800; i &lt; year; i++) if (isLeapYear(i)) total =\n      total + 366; else total = total + 365;\n    // Add days from Jan to the month prior to the calendar month\n    for (int i = 1; i &lt; month; i++) total =\n      total + getNumberOfDaysInMonth(year, i);\n    return total;\n  }\n\n  /** Get the number of days in a month */\n  static int getNumberOfDaysInMonth(int year, int month) {\n    if (\n      month == 1 ||\n      month == 3 ||\n      month == 5 ||\n      month == 7 ||\n      month == 8 ||\n      month == 10 ||\n      month == 12\n    ) return 31; else if (\n      month == 4 || month == 6 || month == 9 || month == 11\n    ) return 30; else if (month == 2) return isLeapYear(year) ? 29 : 28;\n    return 0; // If month is incorrect\n  }\n\n  /** Determine if it is a leap year */\n  static boolean isLeapYear(int year) {\n    return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687634370,"creation_date":1687634370,"answer_id":76547657,"question_id":76546945,"body_markdown":"You can leverage the `java.time` API as it knows all the names:\r\n```\r\npublic static void printCalendarForMonth(LocalDate date) {\r\n    DayOfWeek firstDayOfMonth = date.withDayOfMonth(1).getDayOfWeek();\r\n    int dayOfWeekIndex = firstDayOfMonth.getValue();\r\n    DateTimeFormatter dayFmt = DateTimeFormatter.ofPattern(&quot;EEE&quot;);\r\n    System.out.printf(&quot; %s %s%n&quot;, date.getMonth(), date.getYear());\r\n    System.out.println(&quot;----------------------------&quot;);\r\n    Stream.of(DayOfWeek.values()).map(d -&gt; dayFmt.format(d).toUpperCase())\r\n            .forEach(d -&gt; System.out.printf(&quot;%4s&quot;, d));\r\n    System.out.println();\r\n    int start = 1 - dayOfWeekIndex;\r\n    int counter = 1;\r\n    for (int i = start; i &lt; date.lengthOfMonth(); i++) {\r\n        if (i &lt; 0) {\r\n            System.out.printf(&quot;%4s&quot;, &quot; &quot;);\r\n        } else {\r\n            System.out.printf(&quot;%4d&quot;, i + 1);\r\n        }\r\n        if (counter % 7 == 0) {\r\n            System.out.println();\r\n        }\r\n        counter++;\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"Days of the month do not line up correctly","body":"<p>You can leverage the <code>java.time</code> API as it knows all the names:</p>\n<pre><code>public static void printCalendarForMonth(LocalDate date) {\n    DayOfWeek firstDayOfMonth = date.withDayOfMonth(1).getDayOfWeek();\n    int dayOfWeekIndex = firstDayOfMonth.getValue();\n    DateTimeFormatter dayFmt = DateTimeFormatter.ofPattern(&quot;EEE&quot;);\n    System.out.printf(&quot; %s %s%n&quot;, date.getMonth(), date.getYear());\n    System.out.println(&quot;----------------------------&quot;);\n    Stream.of(DayOfWeek.values()).map(d -&gt; dayFmt.format(d).toUpperCase())\n            .forEach(d -&gt; System.out.printf(&quot;%4s&quot;, d));\n    System.out.println();\n    int start = 1 - dayOfWeekIndex;\n    int counter = 1;\n    for (int i = start; i &lt; date.lengthOfMonth(); i++) {\n        if (i &lt; 0) {\n            System.out.printf(&quot;%4s&quot;, &quot; &quot;);\n        } else {\n            System.out.printf(&quot;%4d&quot;, i + 1);\n        }\n        if (counter % 7 == 0) {\n            System.out.println();\n        }\n        counter++;\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687717732,"creation_date":1687635134,"answer_id":76547711,"question_id":76546945,"body_markdown":"You can utilize the _[printf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...))_ method.\r\n\r\nThe _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ class JavaDoc contains the full list of format specifiers.\r\n\r\nYou can specify a width, to align the values.\r\n\r\nFirstly,  since your week days are 3 letters, separated by spaces, you&#39;ll want to change the initial _for-loop_ to provide 4 spaces, rather than one.\r\n\r\n```java\r\nfor (i = 0; i &lt; startDay; i++)\r\n    System.out.print(&quot;    &quot;);\r\n```\r\n\r\nThen, for the subsequent _for-loop_, you can use the _printf_ method.  \r\nBy default, the content will be right-justified.\r\n\r\n```java\r\nfor (i = 1; i &lt;= numberOfDaysInMonth; i++)\r\n{\r\n    if (i &lt; 10)\r\n        System.out.printf(&quot;%4s&quot;, i);\r\n    else\r\n        System.out.printf(&quot;%4s&quot;, i);\r\n    if ((i + startDay) % 7 == 0)\r\n        System.out.println();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter full year (e.g., 2016): 2023\r\nEnter month in number between 1 and 12: 6\r\n June 2023\r\n-----------------------------\r\n Sun Mon Tue Wed Thu Fri Sat\r\n                   1   2   3\r\n   4   5   6   7   8   9  10\r\n  11  12  13  14  15  16  17\r\n  18  19  20  21  22  23  24\r\n  25  26  27  28  29  30\r\n```\r\n\r\nAdditionally, you can center the month _name_ with the following.  \r\nI&#39;m using _29_ &amp;div; _2_, since the width of the calendar text is _29_.\r\n\r\n```java\r\n/** Print the month title, e.g., May, 1999 */\r\nstatic void printMonthTitle(int year, int month) {\r\n    String title = getMonthName(month);\r\n    int offset = (29 / 2) - (title.length() / 2);\r\n    System.out.printf(&quot;%&quot; + offset + &quot;s%s%n&quot;, &quot;&quot;, title);\r\n    System.out.println(&quot;-----------------------------&quot;);\r\n    System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\r\n}\r\n```\r\n\r\n```none\r\nEnter full year (e.g., 2016): 2023\r\nEnter month in number between 1 and 12: 6\r\n            June\r\n-----------------------------\r\n Sun Mon Tue Wed Thu Fri Sat\r\n                   1   2   3\r\n   4   5   6   7   8   9  10\r\n  11  12  13  14  15  16  17\r\n  18  19  20  21  22  23  24\r\n  25  26  27  28  29  30\r\n```","title":"Days of the month do not line up correctly","body":"<p>You can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">printf</a></em> method.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> class JavaDoc contains the full list of format specifiers.</p>\n<p>You can specify a width, to align the values.</p>\n<p>Firstly,  since your week days are 3 letters, separated by spaces, you'll want to change the initial <em>for-loop</em> to provide 4 spaces, rather than one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (i = 0; i &lt; startDay; i++)\n    System.out.print(&quot;    &quot;);\n</code></pre>\n<p>Then, for the subsequent <em>for-loop</em>, you can use the <em>printf</em> method.<br />\nBy default, the content will be right-justified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (i = 1; i &lt;= numberOfDaysInMonth; i++)\n{\n    if (i &lt; 10)\n        System.out.printf(&quot;%4s&quot;, i);\n    else\n        System.out.printf(&quot;%4s&quot;, i);\n    if ((i + startDay) % 7 == 0)\n        System.out.println();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter full year (e.g., 2016): 2023\nEnter month in number between 1 and 12: 6\n June 2023\n-----------------------------\n Sun Mon Tue Wed Thu Fri Sat\n                   1   2   3\n   4   5   6   7   8   9  10\n  11  12  13  14  15  16  17\n  18  19  20  21  22  23  24\n  25  26  27  28  29  30\n</code></pre>\n<p>Additionally, you can center the month <em>name</em> with the following.<br />\nI'm using <em>29</em> ÷ <em>2</em>, since the width of the calendar text is <em>29</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Print the month title, e.g., May, 1999 */\nstatic void printMonthTitle(int year, int month) {\n    String title = getMonthName(month);\n    int offset = (29 / 2) - (title.length() / 2);\n    System.out.printf(&quot;%&quot; + offset + &quot;s%s%n&quot;, &quot;&quot;, title);\n    System.out.println(&quot;-----------------------------&quot;);\n    System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Enter full year (e.g., 2016): 2023\nEnter month in number between 1 and 12: 6\n            June\n-----------------------------\n Sun Mon Tue Wed Thu Fri Sat\n                   1   2   3\n   4   5   6   7   8   9  10\n  11  12  13  14  15  16  17\n  18  19  20  21  22  23  24\n  25  26  27  28  29  30\n</code></pre>\n"}],"owner":{"account_id":20015266,"reputation":1,"user_id":14671431,"display_name":"Nicole"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":76547711,"answer_count":3,"score":-5,"last_activity_date":1687726341,"creation_date":1687623346,"question_id":76546945,"body_markdown":"[Transcript][1]:\r\n~~~ none\r\nEnter month in number between 1 and 12: 4\r\n April 2020\r\n-----------------------------\r\n Sun Mon Tue Wed Thu Fri Sat\r\n    1 2 3 4\r\n 5 6 7 8 9 10 11\r\n 12 13 14 15 16 17 18\r\n 19 20 21 22 23 24 25\r\n 26 27 28 29 30\r\n~~~\r\nCode is below but it needs getStartDay(Year, Month, Day) but when I try to add it at the proper place I get an error that says `PrintCalendar3.java:61: error: cannot find symbol`:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PrintCalendar3 {\r\n    \r\n      public static void main(String[] args) {\r\n        // Prompt the user to enter year\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Prompt the user to enter year\r\n        System.out.print(&quot;Enter full year (e.g., 2016): &quot;);\r\n        int year = scanner.nextInt();\r\n        // Prompt the user to enter month\r\n        System.out.print(&quot;Enter month in number between 1 and 12: &quot;);\r\n        int month = scanner.nextInt();\r\n        // Print calendar for the month of the year\r\n        printMonth(year, month);\r\n      }\r\n    \r\n      /** Print the calendar for a month in a year */\r\n      static void printMonth(int year, int month) {\r\n        // Print the headings of the calendar\r\n        printMonthTitle(year, month);\r\n        // Print the body of the calendar\r\n        printMonthBody(year, month);\r\n      }\r\n    \r\n      /** Print the month title, e.g., May, 1999 */\r\n      static void printMonthTitle(int year, int month) {\r\n        System.out.println(&quot; &quot; + getMonthName(month) + &quot; &quot; + year);\r\n        System.out.println(&quot;-----------------------------&quot;);\r\n        System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\r\n      }\r\n    \r\n      /** Get the English name for the month */\r\n      static String getMonthName(int month) {\r\n        String monthName = null;\r\n        switch (month) {\r\n          case 1:\r\n            monthName = &quot;January&quot;;\r\n            break;\r\n          case 2:\r\n            monthName = &quot;February&quot;;\r\n            break;\r\n          case 3:\r\n            monthName = &quot;March&quot;;\r\n            break;\r\n          case 4:\r\n            monthName = &quot;April&quot;;\r\n            break;\r\n          case 5:\r\n            monthName = &quot;May&quot;;\r\n            break;\r\n          case 6:\r\n            monthName = &quot;June&quot;;\r\n            break;\r\n          case 7:\r\n            monthName = &quot;July&quot;;\r\n            break;\r\n          case 8:\r\n            monthName = &quot;August&quot;;\r\n            break;\r\n          case 9:\r\n            monthName = &quot;September&quot;;\r\n            break;\r\n          case 10:\r\n            monthName = &quot;October&quot;;\r\n            break;\r\n          case 11:\r\n            monthName = &quot;November&quot;;\r\n            break;\r\n          case 12:\r\n            monthName = &quot;December&quot;;\r\n        }\r\n        return monthName;\r\n      }\r\n    \r\n      /** Print month body */\r\n      static void printMonthBody(int year, int month) {\r\n        // Get start day of the week for the first date in the month\r\n        int startDay = getStartDay(year, month);\r\n        // Get number of days in the month\r\n        int numberOfDaysInMonth = getNumberOfDaysInMonth(year, month);\r\n        // Pad space before the first day of the month\r\n        int i = 0;\r\n        for (i = 0; i &lt; startDay; i++) System.out.print(&quot; &quot;);\r\n        for (i = 1; i &lt;= numberOfDaysInMonth; i++) {\r\n          if (i &lt; 10) System.out.print(&quot; &quot; + i); else System.out.print(&quot; &quot; + i);\r\n          if ((i + startDay) % 7 == 0) System.out.println();\r\n        }\r\n        System.out.println();\r\n      }\r\n    \r\n      /** Get the start day of the first day in a month */\r\n      static int getStartDay(int year, int month) {\r\n        // Get total number of days since 1/1/1800\r\n        int startDay1800 = 3;\r\n        int totalNumberOfDays = getTotalNumberOfDays(year, month);\r\n        // Return the start day\r\n        return (totalNumberOfDays + startDay1800) % 7;\r\n      }\r\n    \r\n      /** Get the total number of days since January 1, 1800 */\r\n      static int getTotalNumberOfDays(int year, int month) {\r\n        int total = 0;\r\n        // Get the total days from 1800 to year - 1\r\n        for (int i = 1800; i &lt; year; i++) if (isLeapYear(i)) total =\r\n          total + 366; else total = total + 365;\r\n        // Add days from Jan to the month prior to the calendar month\r\n        for (int i = 1; i &lt; month; i++) total =\r\n          total + getNumberOfDaysInMonth(year, i);\r\n        return total;\r\n      }\r\n    \r\n      /** Get the number of days in a month */\r\n      static int getNumberOfDaysInMonth(int year, int month) {\r\n        if (\r\n          month == 1 ||\r\n          month == 3 ||\r\n          month == 5 ||\r\n          month == 7 ||\r\n          month == 8 ||\r\n          month == 10 ||\r\n          month == 12\r\n        ) return 31; else if (\r\n          month == 4 || month == 6 || month == 9 || month == 11\r\n        ) return 30; else if (month == 2) return isLeapYear(year) ? 29 : 28;\r\n        return 0; // If month is incorrect\r\n      }\r\n    \r\n      /** Determine if it is a leap year */\r\n      static boolean isLeapYear(int year) {\r\n        return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLFnE.png","title":"Days of the month do not line up correctly","body":"<p><a href=\"https://i.stack.imgur.com/GLFnE.png\" rel=\"nofollow noreferrer\">Transcript</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter month in number between 1 and 12: 4\n April 2020\n-----------------------------\n Sun Mon Tue Wed Thu Fri Sat\n    1 2 3 4\n 5 6 7 8 9 10 11\n 12 13 14 15 16 17 18\n 19 20 21 22 23 24 25\n 26 27 28 29 30\n</code></pre>\n<p>Code is below but it needs getStartDay(Year, Month, Day) but when I try to add it at the proper place I get an error that says <code>PrintCalendar3.java:61: error: cannot find symbol</code>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class PrintCalendar3 {\n\n  public static void main(String[] args) {\n    // Prompt the user to enter year\n    Scanner scanner = new Scanner(System.in);\n    // Prompt the user to enter year\n    System.out.print(&quot;Enter full year (e.g., 2016): &quot;);\n    int year = scanner.nextInt();\n    // Prompt the user to enter month\n    System.out.print(&quot;Enter month in number between 1 and 12: &quot;);\n    int month = scanner.nextInt();\n    // Print calendar for the month of the year\n    printMonth(year, month);\n  }\n\n  /** Print the calendar for a month in a year */\n  static void printMonth(int year, int month) {\n    // Print the headings of the calendar\n    printMonthTitle(year, month);\n    // Print the body of the calendar\n    printMonthBody(year, month);\n  }\n\n  /** Print the month title, e.g., May, 1999 */\n  static void printMonthTitle(int year, int month) {\n    System.out.println(&quot; &quot; + getMonthName(month) + &quot; &quot; + year);\n    System.out.println(&quot;-----------------------------&quot;);\n    System.out.println(&quot; Sun Mon Tue Wed Thu Fri Sat&quot;);\n  }\n\n  /** Get the English name for the month */\n  static String getMonthName(int month) {\n    String monthName = null;\n    switch (month) {\n      case 1:\n        monthName = &quot;January&quot;;\n        break;\n      case 2:\n        monthName = &quot;February&quot;;\n        break;\n      case 3:\n        monthName = &quot;March&quot;;\n        break;\n      case 4:\n        monthName = &quot;April&quot;;\n        break;\n      case 5:\n        monthName = &quot;May&quot;;\n        break;\n      case 6:\n        monthName = &quot;June&quot;;\n        break;\n      case 7:\n        monthName = &quot;July&quot;;\n        break;\n      case 8:\n        monthName = &quot;August&quot;;\n        break;\n      case 9:\n        monthName = &quot;September&quot;;\n        break;\n      case 10:\n        monthName = &quot;October&quot;;\n        break;\n      case 11:\n        monthName = &quot;November&quot;;\n        break;\n      case 12:\n        monthName = &quot;December&quot;;\n    }\n    return monthName;\n  }\n\n  /** Print month body */\n  static void printMonthBody(int year, int month) {\n    // Get start day of the week for the first date in the month\n    int startDay = getStartDay(year, month);\n    // Get number of days in the month\n    int numberOfDaysInMonth = getNumberOfDaysInMonth(year, month);\n    // Pad space before the first day of the month\n    int i = 0;\n    for (i = 0; i &lt; startDay; i++) System.out.print(&quot; &quot;);\n    for (i = 1; i &lt;= numberOfDaysInMonth; i++) {\n      if (i &lt; 10) System.out.print(&quot; &quot; + i); else System.out.print(&quot; &quot; + i);\n      if ((i + startDay) % 7 == 0) System.out.println();\n    }\n    System.out.println();\n  }\n\n  /** Get the start day of the first day in a month */\n  static int getStartDay(int year, int month) {\n    // Get total number of days since 1/1/1800\n    int startDay1800 = 3;\n    int totalNumberOfDays = getTotalNumberOfDays(year, month);\n    // Return the start day\n    return (totalNumberOfDays + startDay1800) % 7;\n  }\n\n  /** Get the total number of days since January 1, 1800 */\n  static int getTotalNumberOfDays(int year, int month) {\n    int total = 0;\n    // Get the total days from 1800 to year - 1\n    for (int i = 1800; i &lt; year; i++) if (isLeapYear(i)) total =\n      total + 366; else total = total + 365;\n    // Add days from Jan to the month prior to the calendar month\n    for (int i = 1; i &lt; month; i++) total =\n      total + getNumberOfDaysInMonth(year, i);\n    return total;\n  }\n\n  /** Get the number of days in a month */\n  static int getNumberOfDaysInMonth(int year, int month) {\n    if (\n      month == 1 ||\n      month == 3 ||\n      month == 5 ||\n      month == 7 ||\n      month == 8 ||\n      month == 10 ||\n      month == 12\n    ) return 31; else if (\n      month == 4 || month == 6 || month == 9 || month == 11\n    ) return 30; else if (month == 2) return isLeapYear(year) ? 29 : 28;\n    return 0; // If month is incorrect\n  }\n\n  /** Determine if it is a leap year */\n  static boolean isLeapYear(int year) {\n    return year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n  }\n}\n</code></pre>\n"},{"tags":["java","command-line","processbuilder","openapi-generator-cli"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1687718227,"post_id":76551872,"comment_id":134972217,"body_markdown":"Use `return pb.redirectErrorStream(true).start()` and ditch the `process.waitFor(120, TimeUnit.SECONDS);`, then you should see any error messages.","body":"Use <code>return pb.redirectErrorStream(true).start()</code> and ditch the <code>process.waitFor(120, TimeUnit.SECONDS);</code>, then you should see any error messages."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687719730,"post_id":76551872,"comment_id":134972387,"body_markdown":"I also suspect parameters like `&quot;-g spring&quot;`  - I would use `&quot;-g&quot;, &quot;spring&quot;`, but I do not know what parameters the JAR is expecting... || maybe adding `pb.inheritIO()` helps seeing any error message or other output","body":"I also suspect parameters like <code>&quot;-g spring&quot;</code>  - I would use <code>&quot;-g&quot;, &quot;spring&quot;</code>, but I do not know what parameters the JAR is expecting... || maybe adding <code>pb.inheritIO()</code> helps seeing any error message or other output"},{"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"score":0,"creation_date":1687756389,"post_id":76551872,"comment_id":134975524,"body_markdown":"Thanks, Error gone, but process taking too much time and not displaying command output.","body":"Thanks, Error gone, but process taking too much time and not displaying command output."}],"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687726326,"creation_date":1687717745,"question_id":76551872,"body_markdown":"I am executing following command using java program but not getting result and getting exitCode is 1 with mentioned output.\r\n\r\n**Command**\r\n```\r\njava -jar openapi-generator-cli.jar generate -g spring -i petstore.yml --skip-validate-spec -o output/\r\n```\r\n**Java Program**\r\n```\r\npublic static void main(String[] args) throws InterruptedException, IOException {\r\n\t\r\n\tString filePath = &quot;C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\&quot;;\r\n\tString jarFileName = &quot;openapi-generator-cli.jar&quot;;\r\n\tProcess process = exec(filePath, jarFileName);\r\n\tSystem.out.println(process.info());\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t//BufferedInputStream errorBufferedInputStream = new BufferedInputStream(process.getErrorStream());\r\n\tsynchronized (process) {\r\n\t\tprocess.waitFor(120, TimeUnit.SECONDS);\r\n\t}\r\n\tString line;\r\n\twhile((line = reader.readLine()) != null) {\r\n\t\tSystem.out.println(line);\r\n\t}\r\n\r\n\tint exitCode = process.waitFor();\r\n\tSystem.out.println(&quot;ExitCode : &quot;+exitCode);\r\n\r\n\treader.close();\r\n}\r\n\r\npublic static Process exec(String path, String filename) throws IOException {\r\n\tString javaHome = System.getProperty(&quot;java.home&quot;);\r\n\tString javaBin = javaHome +\r\n\t\t\tFile.separator + &quot;bin&quot; +\r\n\t\t\tFile.separator + &quot;java&quot;;\r\n\r\n\tProcessBuilder pb = new ProcessBuilder(javaBin, &quot;-jar&quot;, path+filename, &quot;generate&quot;,\r\n\t\t\t&quot;-i C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\petstore.yml&quot;, &quot;-g spring&quot;,\r\n\t\t\t&quot;-o C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\output\\\\&quot;);\r\n\r\n\tSystem.out.println(&quot;Command : &quot;+pb.command());\r\n\treturn pb.start();\r\n}\r\n```\r\npetstore.yml and openapi-generator-cli.jar exists in ```/src/main/resources/``` folder\r\n\r\n**Console Output**\r\n```\r\nCommand : [C:\\Eclipse_2020-06\\jdk-11.0.7+10\\bin\\java, -jar, C:\\swagger-to-code-poc\\swagger-to-code\\src\\main\\resources\\openapi-generator-cli.jar, generate, -i C:\\swagger-to-code-poc\\swagger-to-code\\src\\main\\resources\\petstore.yml, -g spring, -o C:\\swagger-to-code-poc\\run-using-cli\\output\\]\r\n[cmd: C:\\Eclipse_2020-06\\jdk-11.0.7+10\\bin\\java.exe, startTime: Optional[2023-06-25T18:19:21.457Z], totalTime: Optional[PT0.015625S]]\r\nExitCode : 1\r\n\r\nProcess finished with exit code 0\r\n```","title":"How to execute jar file with options using java program?","body":"<p>I am executing following command using java program but not getting result and getting exitCode is 1 with mentioned output.</p>\n<p><strong>Command</strong></p>\n<pre><code>java -jar openapi-generator-cli.jar generate -g spring -i petstore.yml --skip-validate-spec -o output/\n</code></pre>\n<p><strong>Java Program</strong></p>\n<pre><code>public static void main(String[] args) throws InterruptedException, IOException {\n    \n    String filePath = &quot;C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\&quot;;\n    String jarFileName = &quot;openapi-generator-cli.jar&quot;;\n    Process process = exec(filePath, jarFileName);\n    System.out.println(process.info());\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    //BufferedInputStream errorBufferedInputStream = new BufferedInputStream(process.getErrorStream());\n    synchronized (process) {\n        process.waitFor(120, TimeUnit.SECONDS);\n    }\n    String line;\n    while((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n\n    int exitCode = process.waitFor();\n    System.out.println(&quot;ExitCode : &quot;+exitCode);\n\n    reader.close();\n}\n\npublic static Process exec(String path, String filename) throws IOException {\n    String javaHome = System.getProperty(&quot;java.home&quot;);\n    String javaBin = javaHome +\n            File.separator + &quot;bin&quot; +\n            File.separator + &quot;java&quot;;\n\n    ProcessBuilder pb = new ProcessBuilder(javaBin, &quot;-jar&quot;, path+filename, &quot;generate&quot;,\n            &quot;-i C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\petstore.yml&quot;, &quot;-g spring&quot;,\n            &quot;-o C:\\\\swagger-to-code-poc\\\\swagger-to-code\\\\src\\\\main\\\\resources\\\\output\\\\&quot;);\n\n    System.out.println(&quot;Command : &quot;+pb.command());\n    return pb.start();\n}\n</code></pre>\n<p>petstore.yml and openapi-generator-cli.jar exists in <code>/src/main/resources/</code> folder</p>\n<p><strong>Console Output</strong></p>\n<pre><code>Command : [C:\\Eclipse_2020-06\\jdk-11.0.7+10\\bin\\java, -jar, C:\\swagger-to-code-poc\\swagger-to-code\\src\\main\\resources\\openapi-generator-cli.jar, generate, -i C:\\swagger-to-code-poc\\swagger-to-code\\src\\main\\resources\\petstore.yml, -g spring, -o C:\\swagger-to-code-poc\\run-using-cli\\output\\]\n[cmd: C:\\Eclipse_2020-06\\jdk-11.0.7+10\\bin\\java.exe, startTime: Optional[2023-06-25T18:19:21.457Z], totalTime: Optional[PT0.015625S]]\nExitCode : 1\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenide","google-advertising-id"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687754753,"post_id":76552340,"comment_id":134975376,"body_markdown":"What is your problem statement? it looks a bit unclear, please make exact and clear","body":"What is your problem statement? it looks a bit unclear, please make exact and clear"},{"owner":{"account_id":19443210,"reputation":25,"user_id":14221265,"display_name":"Сonspicuous"},"score":0,"creation_date":1687761405,"post_id":76552340,"comment_id":134976188,"body_markdown":"I have a test in Selenium before it starts, and an advertising banner pops up for me, and I need to close it, this is the whole problem, I tried to close this banner, but I can’t find the element.\n\nPS: then I also have an advertising banner at the end of the test and I can close it, but with the first one I have problems, why such a problem idk, that&#39;s what I&#39;m asking for","body":"I have a test in Selenium before it starts, and an advertising banner pops up for me, and I need to close it, this is the whole problem, I tried to close this banner, but I can’t find the element.  PS: then I also have an advertising banner at the end of the test and I can close it, but with the first one I have problems, why such a problem idk, that&#39;s what I&#39;m asking for"}],"owner":{"account_id":19443210,"reputation":25,"user_id":14221265,"display_name":"Сonspicuous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687725966,"creation_date":1687725966,"question_id":76552340,"body_markdown":"can you please suggest what I need to do to close this advertising in my  project, I used Selenide to find elements, of the advertising at the end of the scenario I had closed it, but I can&#39;t close it before the scenario, and I don&#39;t know why, I think I found correct element, but smth wrong with it, maybe my approach to working with advertising is a little off, if not wrong at all, here what code I have\r\n\r\n```\r\n@Test\r\n    public void SignOnFlow()  {\r\n        if (Vignette.GoogleVignetteBigButton.isDisplayed()){\r\n            Vignette.GoogleVignetteBigButton.click();\r\n        }\r\n        else{\r\n            System.out.printf(&quot;No add were displayed&quot;);\r\n        }\r\n        headerRegionStart.SignOn.click();\r\n        singOnButtons.UserNameField.sendKeys(&quot;UserTestName&quot;);\r\n        singOnButtons.Password.sendKeys(&quot;password&quot;);\r\n        singOnButtons.Submit.click();\r\n        SelenideElement RegistrationForm = $x(&quot;//a[contains(text(),&#39;registration&#39;)]&quot;);\r\n        RegistrationForm.shouldBe();\r\n        assertEquals(RegistrationForm.shouldBe(),RegistrationForm,&quot;Check if ResgisrationForm is visible&quot;);\r\n        MercuryToursPage.Home.click();\r\n        if (Vignette.GoogleVignetteButton.isDisplayed()){\r\n            Vignette.GoogleVignetteButton.click();\r\n\r\n        }\r\n        else Selenide.screenshot(&quot;AllureScreen2&quot;);\r\n    }\r\n```\r\n\r\nThis part found the button and close the advertising\r\n\r\n```\r\nif (Vignette.GoogleVignetteButton.isDisplayed()){\r\n            Vignette.GoogleVignetteButton.click();\r\n\r\n        }\r\nelse Selenide.screenshot(&quot;AllureScreen2&quot;);\r\n```\r\n\r\nbut this is NOT working\r\n\r\n```\r\nif (Vignette.GoogleVignetteBigButton.isDisplayed()){\r\n            Vignette.GoogleVignetteBigButton.click();\r\n        }\r\n        else{\r\n            System.out.printf(&quot;No add were displayed&quot;);\r\n        }\r\n```\r\n\r\nThis what is locators for this elements\r\n\r\n```\r\npublic static SelenideElement GoogleVignetteButton = $x(&quot;//div[@id=&#39;dismiss-button&#39;]&quot;);\r\n    \r\n\r\npublic static SelenideElement GoogleVignetteBigButton = $x(&quot;//div[@class=&#39;ns-c6pru-e-16 button-common close-button&#39;]&quot;);\r\n```\r\n\r\nThis what kind of ad I&#39;m trying to close\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BOfHf.png)](https://i.stack.imgur.com/BOfHf.png)\r\n\r\nI&#39;m trying to close 3rd party ad, but nothing works","title":"Can&#39;t close 3rd party ad content in Selenide","body":"<p>can you please suggest what I need to do to close this advertising in my  project, I used Selenide to find elements, of the advertising at the end of the scenario I had closed it, but I can't close it before the scenario, and I don't know why, I think I found correct element, but smth wrong with it, maybe my approach to working with advertising is a little off, if not wrong at all, here what code I have</p>\n<pre><code>@Test\n    public void SignOnFlow()  {\n        if (Vignette.GoogleVignetteBigButton.isDisplayed()){\n            Vignette.GoogleVignetteBigButton.click();\n        }\n        else{\n            System.out.printf(&quot;No add were displayed&quot;);\n        }\n        headerRegionStart.SignOn.click();\n        singOnButtons.UserNameField.sendKeys(&quot;UserTestName&quot;);\n        singOnButtons.Password.sendKeys(&quot;password&quot;);\n        singOnButtons.Submit.click();\n        SelenideElement RegistrationForm = $x(&quot;//a[contains(text(),'registration')]&quot;);\n        RegistrationForm.shouldBe();\n        assertEquals(RegistrationForm.shouldBe(),RegistrationForm,&quot;Check if ResgisrationForm is visible&quot;);\n        MercuryToursPage.Home.click();\n        if (Vignette.GoogleVignetteButton.isDisplayed()){\n            Vignette.GoogleVignetteButton.click();\n\n        }\n        else Selenide.screenshot(&quot;AllureScreen2&quot;);\n    }\n</code></pre>\n<p>This part found the button and close the advertising</p>\n<pre><code>if (Vignette.GoogleVignetteButton.isDisplayed()){\n            Vignette.GoogleVignetteButton.click();\n\n        }\nelse Selenide.screenshot(&quot;AllureScreen2&quot;);\n</code></pre>\n<p>but this is NOT working</p>\n<pre><code>if (Vignette.GoogleVignetteBigButton.isDisplayed()){\n            Vignette.GoogleVignetteBigButton.click();\n        }\n        else{\n            System.out.printf(&quot;No add were displayed&quot;);\n        }\n</code></pre>\n<p>This what is locators for this elements</p>\n<pre><code>public static SelenideElement GoogleVignetteButton = $x(&quot;//div[@id='dismiss-button']&quot;);\n    \n\npublic static SelenideElement GoogleVignetteBigButton = $x(&quot;//div[@class='ns-c6pru-e-16 button-common close-button']&quot;);\n</code></pre>\n<p>This what kind of ad I'm trying to close</p>\n<p><a href=\"https://i.stack.imgur.com/BOfHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BOfHf.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying to close 3rd party ad, but nothing works</p>\n"},{"tags":["java","eclipse","maven","m2e"],"comments":[{"owner":{"account_id":1289950,"reputation":2661,"user_id":1242236,"display_name":"Rugal"},"score":0,"creation_date":1389614535,"post_id":21090664,"comment_id":31724203,"body_markdown":"Is it a `GUI` application? maybe you need to set default behavior on close clicking","body":"Is it a <code>GUI</code> application? maybe you need to set default behavior on close clicking"},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1389615772,"post_id":21090664,"comment_id":31724938,"body_markdown":"Why are you starting your application through maven (`Run As &gt; Maven Build...` I presume)?","body":"Why are you starting your application through maven (<code>Run As &gt; Maven Build...</code> I presume)?"},{"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"score":0,"creation_date":1389759741,"post_id":21090664,"comment_id":31795306,"body_markdown":"@ Rugal its not gui application, web services..","body":"@ Rugal its not gui application, web services.."},{"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"score":0,"creation_date":1389760152,"post_id":21090664,"comment_id":31795416,"body_markdown":"@Parvel Horal Its maven project, so i starting through maven, run configurations maven build.... through cmd also by running maven commands we can start it...","body":"@Parvel Horal Its maven project, so i starting through maven, run configurations maven build.... through cmd also by running maven commands we can start it..."},{"owner":{"account_id":313433,"reputation":640,"user_id":3405398,"accept_rate":56,"display_name":"kaluva"},"score":0,"creation_date":1485347173,"post_id":21090664,"comment_id":70886882,"body_markdown":"@user1919581 Did you find any solution for this?","body":"@user1919581 Did you find any solution for this?"},{"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"score":1,"creation_date":1493009953,"post_id":21090664,"comment_id":74209622,"body_markdown":"@Kaluva no still stoping the application by killing the java process only.","body":"@Kaluva no still stoping the application by killing the java process only."}],"answers":[{"tags":[],"owner":{"account_id":27961437,"reputation":306,"user_id":21353125,"display_name":"Mohamed Yedes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687724716,"creation_date":1687724716,"answer_id":76552274,"question_id":21090664,"body_markdown":"If you start your application with **spring-boot:start**, so you can shutdown it by using **spring-boot:stop**. In this case, you can prepare two run configuration in eclipse : one with goals **spring-boot:start** and the second with goals **spring-boot:stop**.\r\n\r\nBut if you use **spring-boot:run**, so the only way to shutdown the application is by killing the java process.\r\n\r\nTo know the difference between **spring-boot:start** and **spring-boot:run**, please check this [page][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39131955/whats-the-difference-between-spring-bootrun-and-spring-bootstart","title":"How to stop the application for maven projects in eclipse - m2e","body":"<p>If you start your application with <strong>spring-boot:start</strong>, so you can shutdown it by using <strong>spring-boot:stop</strong>. In this case, you can prepare two run configuration in eclipse : one with goals <strong>spring-boot:start</strong> and the second with goals <strong>spring-boot:stop</strong>.</p>\n<p>But if you use <strong>spring-boot:run</strong>, so the only way to shutdown the application is by killing the java process.</p>\n<p>To know the difference between <strong>spring-boot:start</strong> and <strong>spring-boot:run</strong>, please check this <a href=\"https://stackoverflow.com/questions/39131955/whats-the-difference-between-spring-bootrun-and-spring-bootstart\">page</a>.</p>\n"}],"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687724716,"creation_date":1389614082,"question_id":21090664,"body_markdown":"While starting the application through maven in eclipse it creating java.exe (application) and also javaw.exe. on clicking terminate button in console only javaw.exe is getting stopped, but java.exe (i.e actual application) is not getting stopped. so each time I have to kill that process manually in task manager. \r\n\r\nIs there any better way to stop the application completely ?? Thanks in advance..","title":"How to stop the application for maven projects in eclipse - m2e","body":"<p>While starting the application through maven in eclipse it creating java.exe (application) and also javaw.exe. on clicking terminate button in console only javaw.exe is getting stopped, but java.exe (i.e actual application) is not getting stopped. so each time I have to kill that process manually in task manager. </p>\n\n<p>Is there any better way to stop the application completely ?? Thanks in advance..</p>\n"},{"tags":["java","android","exception","inputstream"],"comments":[{"owner":{"account_id":1305557,"reputation":2491,"user_id":1254628,"display_name":"Athul Harikumar"},"score":4,"creation_date":1347615570,"post_id":12421814,"comment_id":16697744,"body_markdown":"what do you hope your emulator is a part of your s/m? &quot;E:\\\\test\\\\src\\\\com\\\\test\\\\mani.txt&quot;","body":"what do you hope your emulator is a part of your s/m? &quot;E:\\\\test\\\\src\\\\com\\\\test\\\\mani.txt&quot;"},{"owner":{"account_id":1159601,"reputation":6269,"user_id":1139398,"accept_rate":62,"display_name":"Sandip Armal Patil"},"score":2,"creation_date":1347615733,"post_id":12421814,"comment_id":16697825,"body_markdown":"from which location you want to read text file... ?","body":"from which location you want to read text file... ?"},{"owner":{"account_id":1305557,"reputation":2491,"user_id":1254628,"display_name":"Athul Harikumar"},"score":2,"creation_date":1347615747,"post_id":12421814,"comment_id":16697830,"body_markdown":"InputStream  iS = resources.getAssets().open(fileName); ( if you put the file in assets)","body":"InputStream  iS = resources.getAssets().open(fileName); ( if you put the file in assets)"},{"owner":{"account_id":1795798,"reputation":1643,"user_id":1635224,"accept_rate":50,"display_name":"user1635224"},"score":1,"creation_date":1347616249,"post_id":12421814,"comment_id":16698050,"body_markdown":"@Sandip actually i copied text file (mani.txt) and put it into the folder of android application(folder having .settings , bin,libs,src,assets,gen,res,androidmanifeast.xml)","body":"@Sandip actually i copied text file (mani.txt) and put it into the folder of android application(folder having .settings , bin,libs,src,assets,gen,res,androidmanifeast.xml)"},{"owner":{"account_id":1159601,"reputation":6269,"user_id":1139398,"accept_rate":62,"display_name":"Sandip Armal Patil"},"score":1,"creation_date":1347616426,"post_id":12421814,"comment_id":16698138,"body_markdown":"@user1635224 : put this file in asset folder. and refer following code... If you face any problem then ask directly","body":"@user1635224 : put this file in asset folder. and refer following code... If you face any problem then ask directly"},{"owner":{"account_id":1159601,"reputation":6269,"user_id":1139398,"accept_rate":62,"display_name":"Sandip Armal Patil"},"score":2,"creation_date":1347616533,"post_id":12421814,"comment_id":16698187,"body_markdown":"or put in simply res/raw folder and check my updated answer.","body":"or put in simply res/raw folder and check my updated answer."},{"owner":{"account_id":1795798,"reputation":1643,"user_id":1635224,"accept_rate":50,"display_name":"user1635224"},"score":1,"creation_date":1347616718,"post_id":12421814,"comment_id":16698256,"body_markdown":"@Sandip : thank u very much, i put in asset folder and i got result","body":"@Sandip : thank u very much, i put in asset folder and i got result"}],"answers":[{"tags":[],"owner":{"account_id":1159601,"reputation":6269,"user_id":1139398,"accept_rate":62,"display_name":"Sandip Armal Patil"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1421924114,"creation_date":1347616133,"answer_id":12422059,"question_id":12421814,"body_markdown":"If you want to read file from sd card. Then following code might be helpful for you.   \r\n\r\n\r\n     StringBuilder text = new StringBuilder();\r\n        try {\r\n        File sdcard = Environment.getExternalStorageDirectory();\r\n        File file = new File(sdcard,&quot;testFile.txt&quot;);\r\n          \r\n            BufferedReader br = new BufferedReader(new FileReader(file));  \r\n            String line;   \r\n            while ((line = br.readLine()) != null) {\r\n                        text.append(line);\r\n                        Log.i(&quot;Test&quot;, &quot;text : &quot;+text+&quot; : end&quot;);\r\n                        text.append(&#39;\\n&#39;);\r\n                        } }\r\n        catch (IOException e) {\r\n            e.printStackTrace();                    \r\n              \r\n        }\r\n        finally{\r\n                br.close();\r\n        }       \r\n        TextView tv = (TextView)findViewById(R.id.amount);  \r\n      \r\n        tv.setText(text.toString()); ////Set the text to text view.\r\n      }\r\n \r\n        }\r\n\r\nIf you wan to read file from asset folder then   \r\n\r\n    AssetManager am = context.getAssets();\r\n    InputStream is = am.open(&quot;test.txt&quot;);\r\n\r\nOr If you wan to read this file from `res/raw` foldery, where the file will be indexed and is accessible by an id in the R file:\r\n\r\n    InputStream is = getResources().openRawResource(R.raw.test);     \r\n\r\n[Good example of reading text file from res/raw folder][1]\r\n\r\n\r\n  [1]: http://www.java-samples.com/showtutorial.php?tutorialid=1522","title":"How can I read a text file in Android?","body":"<p>If you want to read file from sd card. Then following code might be helpful for you.   </p>\n\n<pre><code> StringBuilder text = new StringBuilder();\n    try {\n    File sdcard = Environment.getExternalStorageDirectory();\n    File file = new File(sdcard,\"testFile.txt\");\n\n        BufferedReader br = new BufferedReader(new FileReader(file));  \n        String line;   \n        while ((line = br.readLine()) != null) {\n                    text.append(line);\n                    Log.i(\"Test\", \"text : \"+text+\" : end\");\n                    text.append('\\n');\n                    } }\n    catch (IOException e) {\n        e.printStackTrace();                    \n\n    }\n    finally{\n            br.close();\n    }       \n    TextView tv = (TextView)findViewById(R.id.amount);  \n\n    tv.setText(text.toString()); ////Set the text to text view.\n  }\n\n    }\n</code></pre>\n\n<p>If you wan to read file from asset folder then   </p>\n\n<pre><code>AssetManager am = context.getAssets();\nInputStream is = am.open(\"test.txt\");\n</code></pre>\n\n<p>Or If you wan to read this file from <code>res/raw</code> foldery, where the file will be indexed and is accessible by an id in the R file:</p>\n\n<pre><code>InputStream is = getResources().openRawResource(R.raw.test);     \n</code></pre>\n\n<p><a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=1522\" rel=\"noreferrer\">Good example of reading text file from res/raw folder</a></p>\n"},{"tags":[],"owner":{"account_id":3316552,"reputation":1279,"user_id":2788786,"display_name":"Muhammad Usman Ghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393487299,"creation_date":1393487299,"answer_id":22062223,"question_id":12421814,"body_markdown":"  Try this \r\n\r\n    try {\r\n\t\t\treader = new BufferedReader(new InputStreamReader(in,&quot;UTF-8&quot;));\r\n\t\t} catch (UnsupportedEncodingException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t      String line=&quot;&quot;;\r\n\t      String s =&quot;&quot;;\r\n\t   try \r\n\t   {\r\n\t\t   line = reader.readLine();\r\n\t   } \r\n\t   catch (IOException e) \r\n\t   {\r\n\t\t   e.printStackTrace();\r\n\t   }\r\n\t      while (line != null) \r\n\t      {\r\n\t       s = s + line;\r\n\t       s =s+&quot;\\n&quot;;\r\n\t       try \r\n\t       {\r\n\t    \t   line = reader.readLine();\r\n\t       } \r\n\t       catch (IOException e) \r\n\t       {\r\n\t    \t   e.printStackTrace();\r\n\t       }\r\n\t    }\r\n\t    tv.setText(&quot;&quot;+s);\r\n\t  }","title":"How can I read a text file in Android?","body":"<p>Try this </p>\n\n<pre><code>try {\n        reader = new BufferedReader(new InputStreamReader(in,\"UTF-8\"));\n    } catch (UnsupportedEncodingException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n      String line=\"\";\n      String s =\"\";\n   try \n   {\n       line = reader.readLine();\n   } \n   catch (IOException e) \n   {\n       e.printStackTrace();\n   }\n      while (line != null) \n      {\n       s = s + line;\n       s =s+\"\\n\";\n       try \n       {\n           line = reader.readLine();\n       } \n       catch (IOException e) \n       {\n           e.printStackTrace();\n       }\n    }\n    tv.setText(\"\"+s);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5639219,"reputation":375,"user_id":4463682,"accept_rate":0,"display_name":"HuynhHan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1480438225,"creation_date":1451551197,"answer_id":34543557,"question_id":12421814,"body_markdown":"  Try this code\r\n\r\n    public static String pathRoot = &quot;/sdcard/system/temp/&quot;;\r\n    public static String readFromFile(Context contect, String nameFile) {\r\n\t\tString aBuffer = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tFile myFile = new File(pathRoot + nameFile);\r\n\t\t\tFileInputStream fIn = new FileInputStream(myFile);\r\n\t\t\tBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn));\r\n\t\t\tString aDataRow = &quot;&quot;;\r\n\t\t\twhile ((aDataRow = myReader.readLine()) != null) {\r\n\t\t\t\taBuffer += aDataRow;\r\n\t\t\t}\r\n\t\t\tmyReader.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn aBuffer;\r\n\t}","title":"How can I read a text file in Android?","body":"<p>Try this code</p>\n\n<pre><code>public static String pathRoot = \"/sdcard/system/temp/\";\npublic static String readFromFile(Context contect, String nameFile) {\n    String aBuffer = \"\";\n    try {\n        File myFile = new File(pathRoot + nameFile);\n        FileInputStream fIn = new FileInputStream(myFile);\n        BufferedReader myReader = new BufferedReader(new InputStreamReader(fIn));\n        String aDataRow = \"\";\n        while ((aDataRow = myReader.readLine()) != null) {\n            aBuffer += aDataRow;\n        }\n        myReader.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return aBuffer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1768905,"reputation":1867,"user_id":2177240,"display_name":"Eneko"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1599930442,"creation_date":1599930442,"answer_id":63862849,"question_id":12421814,"body_markdown":"Shortest form for small text files (in Kotlin):\r\n\r\n    val reader = FileReader(path)\r\n    val txt = reader.readText()\r\n    reader.close()","title":"How can I read a text file in Android?","body":"<p>Shortest form for small text files (in Kotlin):</p>\n<pre><code>val reader = FileReader(path)\nval txt = reader.readText()\nreader.close()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2796441,"reputation":71,"user_id":2405593,"display_name":"pincy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687724386,"creation_date":1686733697,"answer_id":76471867,"question_id":12421814,"body_markdown":"     if (Environment.isExternalStorageManager()) {\r\n        //todo when permission is granted\r\n     } else {\r\n        //request for the permission\r\n        Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n        Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n        intent.setData(uri);\r\n        startActivity(intent);\r\n     }\r\n\r\n\r\n\r\n// Add in Maifest  \r\n \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;","title":"How can I read a text file in Android?","body":"<pre><code> if (Environment.isExternalStorageManager()) {\n    //todo when permission is granted\n } else {\n    //request for the permission\n    Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n    intent.setData(uri);\n    startActivity(intent);\n }\n</code></pre>\n<p>// Add in Maifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1795798,"reputation":1643,"user_id":1635224,"accept_rate":50,"display_name":"user1635224"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383775,"favorite_count":0,"down_vote_count":1,"up_vote_count":142,"closed_date":1693242399,"answer_count":5,"score":141,"last_activity_date":1687724386,"creation_date":1347615310,"question_id":12421814,"body_markdown":"I want to read the text from a text file.  In the code below, an exception occurs (that means it goes to the `catch` block).  I put the text file in the application folder.  Where should I put this text file (mani.txt) in order to read it correctly?\r\n\r\n        try\r\n    \t{\r\n    \t\tInputStream instream = openFileInput(&quot;E:\\\\test\\\\src\\\\com\\\\test\\\\mani.txt&quot;); \r\n    \t\tif (instream != null)\r\n    \t\t{\r\n    \t\t    InputStreamReader inputreader = new InputStreamReader(instream); \r\n    \t\t    BufferedReader buffreader = new BufferedReader(inputreader); \r\n    \t\t    String line,line1 = &quot;&quot;;\r\n    \t\t    try\r\n    \t\t    {\r\n    \t\t    \twhile ((line = buffreader.readLine()) != null)\r\n    \t\t    \t\tline1+=line;\r\n    \t\t    }catch (Exception e) \r\n    \t\t    {\r\n    \t\t        e.printStackTrace();\r\n    \t\t    }\r\n    \t\t }\r\n    \t}\r\n    \tcatch (Exception e) \r\n    \t{\r\n    \t\tString error=&quot;&quot;;\r\n    \t\terror=e.getMessage();\r\n        }","title":"How can I read a text file in Android?","body":"<p>I want to read the text from a text file.  In the code below, an exception occurs (that means it goes to the <code>catch</code> block).  I put the text file in the application folder.  Where should I put this text file (mani.txt) in order to read it correctly?</p>\n\n<pre><code>    try\n    {\n        InputStream instream = openFileInput(\"E:\\\\test\\\\src\\\\com\\\\test\\\\mani.txt\"); \n        if (instream != null)\n        {\n            InputStreamReader inputreader = new InputStreamReader(instream); \n            BufferedReader buffreader = new BufferedReader(inputreader); \n            String line,line1 = \"\";\n            try\n            {\n                while ((line = buffreader.readLine()) != null)\n                    line1+=line;\n            }catch (Exception e) \n            {\n                e.printStackTrace();\n            }\n         }\n    }\n    catch (Exception e) \n    {\n        String error=\"\";\n        error=e.getMessage();\n    }\n</code></pre>\n"},{"tags":["java","jenkins","compatibility","java-11","backwards-compatibility"],"comments":[{"owner":{"account_id":15857379,"reputation":129,"user_id":11441432,"display_name":"Marvin"},"score":1,"creation_date":1673947669,"post_id":75144267,"comment_id":132604921,"body_markdown":"Your Java Home appears to be set wrongly. It should be the jdk-11.0.17 Folder. Try to set it manually in the installation process. Dont get confused by the Runtime Environment or the Hotspot Server. The Build is 11.0.17","body":"Your Java Home appears to be set wrongly. It should be the jdk-11.0.17 Folder. Try to set it manually in the installation process. Dont get confused by the Runtime Environment or the Hotspot Server. The Build is 11.0.17"},{"owner":{"account_id":5915076,"reputation":131,"user_id":4658142,"accept_rate":100,"display_name":"CoolDude"},"score":0,"creation_date":1673948521,"post_id":75144267,"comment_id":132605223,"body_markdown":"I&#39;ve changed it to say &quot;C:\\Program Files\\Java\\jdk-11.0.17&quot; but i&#39;m still getting the same issue","body":"I&#39;ve changed it to say &quot;C:\\Program Files\\Java\\jdk-11.0.17&quot; but i&#39;m still getting the same issue"},{"owner":{"account_id":15857379,"reputation":129,"user_id":11441432,"display_name":"Marvin"},"score":1,"creation_date":1673949093,"post_id":75144267,"comment_id":132605416,"body_markdown":"I would suggest uninstalling your current Java Version. Then do a reboot of your PC/Server followed by the installation of the JDK. Maybe use a JDK from Adoptium or Azul, which I can confirm is working. In case of Adoptium you can let the installer set the Java_Home Variable for you.","body":"I would suggest uninstalling your current Java Version. Then do a reboot of your PC/Server followed by the installation of the JDK. Maybe use a JDK from Adoptium or Azul, which I can confirm is working. In case of Adoptium you can let the installer set the Java_Home Variable for you."},{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1673954054,"post_id":75144267,"comment_id":132606866,"body_markdown":"We are successfully using [Adoptium JRE 11 x64](https://adoptium.net/temurin/releases/?version=11) with Jenkins LTS version. I don&#39;t use the installer, I just extract the JRE from the ZIP to &quot;C:\\Program Files\\Java&quot;, set `JAVA_HOME` environment variable to this directory (**not** the &quot;bin&quot; sub dir) and add the path of the &quot;bin&quot; sub directory to the `PATH` environment variable.","body":"We are successfully using <a href=\"https://adoptium.net/temurin/releases/?version=11\" rel=\"nofollow noreferrer\">Adoptium JRE 11 x64</a> with Jenkins LTS version. I don&#39;t use the installer, I just extract the JRE from the ZIP to &quot;C:\\Program Files\\Java&quot;, set <code>JAVA_HOME</code> environment variable to this directory (<b>not</b> the &quot;bin&quot; sub dir) and add the path of the &quot;bin&quot; sub directory to the <code>PATH</code> environment variable."},{"owner":{"account_id":8739273,"reputation":934,"user_id":6536807,"accept_rate":60,"display_name":"Masuri"},"score":0,"creation_date":1693149938,"post_id":75144267,"comment_id":135719100,"body_markdown":"Try &quot;C\\Program Files\\Java\\jdk-11.-1.17&quot; not &quot;C\\Program Files\\Java\\jdk-11.-1.17\\bin\\&quot;","body":"Try &quot;C\\Program Files\\Java\\jdk-11.-1.17&quot; not &quot;C\\Program Files\\Java\\jdk-11.-1.17\\bin\\&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10719024,"reputation":221,"user_id":7888697,"display_name":"Akshay Kumar Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687724327,"creation_date":1687724327,"answer_id":76552257,"question_id":75144267,"body_markdown":"Select the correct location of Java version as asked in the setup prompt.\r\n\r\nLike : C:\\Program Files\\Java\\jdk-17","title":"Failed to find compatible Java Version, Jenkins","body":"<p>Select the correct location of Java version as asked in the setup prompt.</p>\n<p>Like : C:\\Program Files\\Java\\jdk-17</p>\n"}],"owner":{"account_id":5915076,"reputation":131,"user_id":4658142,"accept_rate":100,"display_name":"CoolDude"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3536,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687724327,"creation_date":1673947441,"question_id":75144267,"body_markdown":"I&#39;m currently trying to install jenkins but i&#39;m having issues with Java version. It is saying it failed to find compatibility java version. When it&#39;s correct. (image below) [![enter image description here][1]][1]\r\n\r\n\r\n\r\nI&#39;ve also check what java version i have, using the command line. Image is below. I don&#39;t understand why the SE Runtime is 18.9 when i specifically downloaded JDK kit 11\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is not a duplicate question. The other questions did not have this specific issue. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNrsZ.png\r\n  [2]: https://i.stack.imgur.com/qUCAi.png","title":"Failed to find compatible Java Version, Jenkins","body":"<p>I'm currently trying to install jenkins but i'm having issues with Java version. It is saying it failed to find compatibility java version. When it's correct. (image below) <a href=\"https://i.stack.imgur.com/rNrsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNrsZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I've also check what java version i have, using the command line. Image is below. I don't understand why the SE Runtime is 18.9 when i specifically downloaded JDK kit 11</p>\n<p><a href=\"https://i.stack.imgur.com/qUCAi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qUCAi.png\" alt=\"enter image description here\" /></a></p>\n<p>This is not a duplicate question. The other questions did not have this specific issue.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1687587320,"post_id":76544481,"comment_id":134960759,"body_markdown":"Show how you want to string to actually look like.","body":"Show how you want to string to actually look like."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687608987,"post_id":76544481,"comment_id":134962583,"body_markdown":"I don&#39;t see how this is a Kafka question. 1) Don&#39;t use substring or replace. If you need to remove escape characters, then use readValue method to parse the data 2) Are you using Kafka JSON or StringSerializer? If JSON, then it&#39;ll convert an object to bytes for you, so you should not call writeValueAsString first","body":"I don&#39;t see how this is a Kafka question. 1) Don&#39;t use substring or replace. If you need to remove escape characters, then use readValue method to parse the data 2) Are you using Kafka JSON or StringSerializer? If JSON, then it&#39;ll convert an object to bytes for you, so you should not call writeValueAsString first"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1687610047,"post_id":76544481,"comment_id":134962735,"body_markdown":"why do you use both jackson and JSONObject?","body":"why do you use both jackson and JSONObject?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687610214,"creation_date":1687609493,"answer_id":76546051,"question_id":76544481,"body_markdown":"&gt; send a valid json due to this wrapping &quot;{&quot; .... &quot;}&quot; \r\n\r\n`{&quot;T1&quot;:&quot;x&quot;}` is as valid as `{&quot;T1&quot;:&quot;{}&quot;}` or `{&quot;T1&quot;:&quot;{\\&quot;x\\&quot;}&quot;}`. In the latter case, when you parse the value of T1, you will end up with **a string** of `{&quot;x&quot;}`... If you start replacing/removing characters, only then will you start getting invalid JSON \r\n\r\nIf you want T1 to be **an object**, such as `{&quot;T1&quot;:{&quot;columns&quot;:[]}}`, then create a POJO, for example \r\n```\r\nclass T1 {\r\n  private String[] columns;\r\n\r\n  // TODO: constructor, getter, setter, hashcode, equals, toString\r\n} \r\nclass RecordValue {\r\n  @JsonProperty(&quot;T1_DATA&quot;);\r\n  private T1 t1_data;\r\n  @JsonProperty(&quot;VIN&quot;);\r\n  private String vin;\r\n\r\n  // TODO: constructor, getter, setter, hashcode, equals, toString\r\n} \r\n```\r\n\r\nThen use StringSerializer for Kafka producer and \r\n```\r\nRecordValue v = new RecordValue();\r\n... \r\nsend(&quot;topic&quot;, objectmapper.writeValueAsString(v));\r\n```\r\n\r\n\r\nIf you only want to use JsonObject class, you need to use two of them. One for the outer object, and one for T1 data value, not a String variable. However, the Jackson equivalent class is JsonNode/ObjectNode","title":"JSONObject to string without causing string encapsulation","body":"<blockquote>\n<p>send a valid json due to this wrapping &quot;{&quot; .... &quot;}&quot;</p>\n</blockquote>\n<p><code>{&quot;T1&quot;:&quot;x&quot;}</code> is as valid as <code>{&quot;T1&quot;:&quot;{}&quot;}</code> or <code>{&quot;T1&quot;:&quot;{\\&quot;x\\&quot;}&quot;}</code>. In the latter case, when you parse the value of T1, you will end up with <strong>a string</strong> of <code>{&quot;x&quot;}</code>... If you start replacing/removing characters, only then will you start getting invalid JSON</p>\n<p>If you want T1 to be <strong>an object</strong>, such as <code>{&quot;T1&quot;:{&quot;columns&quot;:[]}}</code>, then create a POJO, for example</p>\n<pre><code>class T1 {\n  private String[] columns;\n\n  // TODO: constructor, getter, setter, hashcode, equals, toString\n} \nclass RecordValue {\n  @JsonProperty(&quot;T1_DATA&quot;);\n  private T1 t1_data;\n  @JsonProperty(&quot;VIN&quot;);\n  private String vin;\n\n  // TODO: constructor, getter, setter, hashcode, equals, toString\n} \n</code></pre>\n<p>Then use StringSerializer for Kafka producer and</p>\n<pre><code>RecordValue v = new RecordValue();\n... \nsend(&quot;topic&quot;, objectmapper.writeValueAsString(v));\n</code></pre>\n<p>If you only want to use JsonObject class, you need to use two of them. One for the outer object, and one for T1 data value, not a String variable. However, the Jackson equivalent class is JsonNode/ObjectNode</p>\n"}],"owner":{"account_id":28884281,"reputation":1,"user_id":22123029,"display_name":"ruth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687724255,"creation_date":1687578337,"question_id":76544481,"body_markdown":"I am having trouble finding the right way to append strings into a valid json format \r\n\r\n    String json = jackson.writeValueAsString(outputMap.get(AI3Constants.T1_DATA));\r\n    String T1_DATA = json.substring(1, json.length() - 1); \r\n    //thought this would get rid of the extra &quot;&quot;\r\n    // T1_DATA = {&quot;columns&quot;:[&quot;task_id&quot;,&quot;subtask_id&quot;,&quot;vin_nbr&quot;, ... ]}\r\n    JSONObject map = new JSONObject();\r\n    map.put(&quot;T1_DATA&quot;, T1_DATA);\r\n    map.put(&quot;VIN&quot;, &quot;....&quot;);\r\n\r\n    KafkaOutputProducer.getInstance().sendRecordToResistanceInputKafkaTopic(sessionId,    jackson.writeValueAsString(map).replace(&quot;\\\\&quot;,&quot;&quot;)));\r\n\r\nI am trying to send the map to kafka and once I convert the map to string it encapsulates T1_DATA like this:\r\n\r\n    {&quot;VIN&quot;:&quot;1GYKPMRK7PZ000965&quot;,&quot;T1_DATA&quot;:&quot;{&quot;columns&quot;:[&quot;task_id&quot;,&quot;subtask_id&quot;, ...]}&quot;}\r\n\r\n\r\n\r\n\t\t\t\r\n\r\nI&#39;ve tried every combination but I don&#39;t seem to get send a valid json due to this wrapping \r\n\r\n    &quot;{&quot; .... &quot;}&quot;\r\n\r\nI&#39;ve also tried LinkedHashMap, HashMap to add the data but nothing works \r\nI&#39;ve even tried to do `.replace(&quot;&quot;{&quot;, &quot;{&quot;)` but I can&#39;t find the right way to send the regex ","title":"JSONObject to string without causing string encapsulation","body":"<p>I am having trouble finding the right way to append strings into a valid json format</p>\n<pre><code>String json = jackson.writeValueAsString(outputMap.get(AI3Constants.T1_DATA));\nString T1_DATA = json.substring(1, json.length() - 1); \n//thought this would get rid of the extra &quot;&quot;\n// T1_DATA = {&quot;columns&quot;:[&quot;task_id&quot;,&quot;subtask_id&quot;,&quot;vin_nbr&quot;, ... ]}\nJSONObject map = new JSONObject();\nmap.put(&quot;T1_DATA&quot;, T1_DATA);\nmap.put(&quot;VIN&quot;, &quot;....&quot;);\n\nKafkaOutputProducer.getInstance().sendRecordToResistanceInputKafkaTopic(sessionId,    jackson.writeValueAsString(map).replace(&quot;\\\\&quot;,&quot;&quot;)));\n</code></pre>\n<p>I am trying to send the map to kafka and once I convert the map to string it encapsulates T1_DATA like this:</p>\n<pre><code>{&quot;VIN&quot;:&quot;1GYKPMRK7PZ000965&quot;,&quot;T1_DATA&quot;:&quot;{&quot;columns&quot;:[&quot;task_id&quot;,&quot;subtask_id&quot;, ...]}&quot;}\n\n\n\n        \n</code></pre>\n<p>I've tried every combination but I don't seem to get send a valid json due to this wrapping</p>\n<pre><code>&quot;{&quot; .... &quot;}&quot;\n</code></pre>\n<p>I've also tried LinkedHashMap, HashMap to add the data but nothing works\nI've even tried to do <code>.replace(&quot;&quot;{&quot;, &quot;{&quot;)</code> but I can't find the right way to send the regex</p>\n"},{"tags":["java","gradle","oauth-2.0","google-oauth"],"owner":{"account_id":27842176,"reputation":1,"user_id":21258449,"display_name":"Sonu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687724023,"creation_date":1687703839,"question_id":76550921,"body_markdown":"    Could not resolve: org.springframework.security:spring-security-oauth2-authorization-server:5.5.2\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nwhich dependency version should i use?","title":"how to resolve &quot;Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0","body":"<pre><code>Could not resolve: org.springframework.security:spring-security-oauth2-authorization-server:5.5.2\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n</code></pre>\n<p>which dependency version should i use?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687726578,"post_id":76552182,"comment_id":134973232,"body_markdown":"Printing a `JTable` will show what&#39;s visible, as you discovered.  You&#39;ll have to [create a PDF table](https://www.geeksforgeeks.org/create-a-table-in-a-pdf-using-java/) and print one line of the table at a time using your logical data model and whatever PDF commands you need to create a PDF table.  You have to handle what happens when your PDF table is longer than a printed page.","body":"Printing a <code>JTable</code> will show what&#39;s visible, as you discovered.  You&#39;ll have to <a href=\"https://www.geeksforgeeks.org/create-a-table-in-a-pdf-using-java/\" rel=\"nofollow noreferrer\">create a PDF table</a> and print one line of the table at a time using your logical data model and whatever PDF commands you need to create a PDF table.  You have to handle what happens when your PDF table is longer than a printed page."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687730753,"post_id":76552182,"comment_id":134973585,"body_markdown":"[This examples](https://stackoverflow.com/questions/34086377/printing-a-jpanel-with-scrollable-jtable-on-it/34146067#34146067) demonstrates two ways to place a logo at the top of a printable `JTable`.  I recommend trying the JasperReports one, as it will allow you to generate a PDF with little more effort","body":"<a href=\"https://stackoverflow.com/questions/34086377/printing-a-jpanel-with-scrollable-jtable-on-it/34146067#34146067\">This examples</a> demonstrates two ways to place a logo at the top of a printable <code>JTable</code>.  I recommend trying the JasperReports one, as it will allow you to generate a PDF with little more effort"}],"owner":{"account_id":18724577,"reputation":15,"user_id":13651563,"display_name":"mohamed hossam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687722855,"creation_date":1687722855,"question_id":76552182,"body_markdown":"I am building a java application which have Jtable and logo at the top of form I want to print the JTable and logo at the top of printed PDF File.\r\nI found a way to put logo and JTable at JPanel and print it but when I did it Table didn&#39;t scrollable some of its data appeared but not all data\r\nThis is my Code which I use to print JTable\r\n\r\n```\r\nMessageFormat head = new MessageFormat(&quot;header&quot;);\r\nMessageFormat foot = new MessageFormat(&quot;page {0}&quot;);\r\n\r\ntry {\r\n   table.print(JTable.PrintMode.FIT_WIDTH, head, foot);\r\n\r\n} catch (Exception ex) {\r\n   System.out.println(ex.getMessage());\r\n}\r\n```\r\nHow Can I do That ?\r\n**Note**\r\nI stored Logo in JLabel","title":"Print JTable with logo at top of pdf file in Java Swing","body":"<p>I am building a java application which have Jtable and logo at the top of form I want to print the JTable and logo at the top of printed PDF File.\nI found a way to put logo and JTable at JPanel and print it but when I did it Table didn't scrollable some of its data appeared but not all data\nThis is my Code which I use to print JTable</p>\n<pre><code>MessageFormat head = new MessageFormat(&quot;header&quot;);\nMessageFormat foot = new MessageFormat(&quot;page {0}&quot;);\n\ntry {\n   table.print(JTable.PrintMode.FIT_WIDTH, head, foot);\n\n} catch (Exception ex) {\n   System.out.println(ex.getMessage());\n}\n</code></pre>\n<p>How Can I do That ?\n<strong>Note</strong>\nI stored Logo in JLabel</p>\n"},{"tags":["java","mongodb","pojo"],"owner":{"account_id":27156718,"reputation":1,"user_id":20695421,"display_name":"user20695421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687722416,"creation_date":1687722416,"question_id":76552164,"body_markdown":"I use the MongoDB java synchronous driver to work with my database, PojoCodecProvider is used to deserialize the PlayerData class, which stores player statistics. If some field of the class has changed their classes (for example, from String to int), or the Enum field has been deleted, then Pojo throws an exception and aborts the deserialization. How to prevent this and make the field get its default value in case of an error?\r\n\r\nI use this codec registry:\r\n```\r\nCodecRegistries.fromRegistries(\r\n        MongoClientSettings.getDefaultCodecRegistry(),\r\n        CodecRegistries.fromProviders(PojoCodecProvider.builder()\r\n                .automatic(true)\r\n                .build()\r\n);\r\n```\r\n\r\nI tried configuring codec registries and providers, but did not find the needed setting.","title":"How to assign a default value to field on Pojo codec error?","body":"<p>I use the MongoDB java synchronous driver to work with my database, PojoCodecProvider is used to deserialize the PlayerData class, which stores player statistics. If some field of the class has changed their classes (for example, from String to int), or the Enum field has been deleted, then Pojo throws an exception and aborts the deserialization. How to prevent this and make the field get its default value in case of an error?</p>\n<p>I use this codec registry:</p>\n<pre><code>CodecRegistries.fromRegistries(\n        MongoClientSettings.getDefaultCodecRegistry(),\n        CodecRegistries.fromProviders(PojoCodecProvider.builder()\n                .automatic(true)\n                .build()\n);\n</code></pre>\n<p>I tried configuring codec registries and providers, but did not find the needed setting.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1687616025,"post_id":76546130,"comment_id":134963318,"body_markdown":"The error may happened in when the spring solve data and  bind it  into  args ```User payload``` . try to checkout the struct of ```User```  or  there may be some potential global  exception handler   catch the error  and do nothing  before response?","body":"The error may happened in when the spring solve data and  bind it  into  args <code>User payload</code> . try to checkout the struct of <code>User</code>  or  there may be some potential global  exception handler   catch the error  and do nothing  before response?"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":1,"creation_date":1687626502,"post_id":76546130,"comment_id":134964407,"body_markdown":"Seems like there is a `@ControllerAdvice` catching all exceptions. Check out if your debug console has a row with text `resolved`","body":"Seems like there is a <code>@ControllerAdvice</code> catching all exceptions. Check out if your debug console has a row with text <code>resolved</code>"},{"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"score":1,"creation_date":1687696435,"post_id":76546130,"comment_id":134969717,"body_markdown":"Can you post your logging configuration as well ? Also I agree with @meridbt, there might be something wrong with your exception handling configuration.","body":"Can you post your logging configuration as well ? Also I agree with @meridbt, there might be something wrong with your exception handling configuration."},{"owner":{"account_id":394811,"reputation":1062,"user_id":757446,"accept_rate":33,"display_name":"vinodpthmn"},"score":0,"creation_date":1687704826,"post_id":76546130,"comment_id":134970714,"body_markdown":"@Peng, the issue is not the error. That was an NPE and I fixed the same. My concern is why spring missed to log this error, and nothing in debug console as well.","body":"@Peng, the issue is not the error. That was an NPE and I fixed the same. My concern is why spring missed to log this error, and nothing in debug console as well."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1687709032,"post_id":76546130,"comment_id":134971172,"body_markdown":"@vinodpthmn  if you ensure that  there is no global exception handler which  potentially handle the error and no action before reponse ,. The best  way is  debug line by line  , so that  you would not miss or ignore some else  which you have not  noticed before .  comparing with spring framework , our code snippet  has more risk that occur the  bug","body":"@vinodpthmn  if you ensure that  there is no global exception handler which  potentially handle the error and no action before reponse ,. The best  way is  debug line by line  , so that  you would not miss or ignore some else  which you have not  noticed before .  comparing with spring framework , our code snippet  has more risk that occur the  bug"},{"owner":{"account_id":394811,"reputation":1062,"user_id":757446,"accept_rate":33,"display_name":"vinodpthmn"},"score":0,"creation_date":1687716891,"post_id":76546130,"comment_id":134972089,"body_markdown":"@meridbt, you were right. The exception was getting logged as DEBUG (not as ERROR) with the message &#39;Resolved ----&#39;. The custom controller advice which I wrote was not getting the exception rather the exception got handled by spring &#39;ExceptionHandlerExceptionResolver&#39;. Thanks.","body":"@meridbt, you were right. The exception was getting logged as DEBUG (not as ERROR) with the message &#39;Resolved ----&#39;. The custom controller advice which I wrote was not getting the exception rather the exception got handled by spring &#39;ExceptionHandlerExceptionResolver&#39;. Thanks."},{"owner":{"account_id":394811,"reputation":1062,"user_id":757446,"accept_rate":33,"display_name":"vinodpthmn"},"score":0,"creation_date":1687717053,"post_id":76546130,"comment_id":134972110,"body_markdown":"@AngelaLopez, your cue also helped me, the logging level was not set at DEBUG for org.springframework, my bad :(","body":"@AngelaLopez, your cue also helped me, the logging level was not set at DEBUG for org.springframework, my bad :("}],"answers":[{"tags":[],"owner":{"account_id":394811,"reputation":1062,"user_id":757446,"accept_rate":33,"display_name":"vinodpthmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687721589,"creation_date":1687721589,"answer_id":76552115,"question_id":76546130,"body_markdown":"Here are my findings:\r\n\r\nEnabling logging level as DEBUG for &quot;org.springframework&quot; started printing the DEBUG info starting with &quot;Resolved xxxx&quot;. However, still not logging as ERROR, so exception stack trace was missing.\r\n\r\nOn further investigation I found, there is a condition in spring framework ***ExceptionHandlerExceptionResolver.doResolveHandlerMethodException()*** to print the exception stack trace only if the logging level is TRACE, I am wondering why though. Anyways, changing the logging level to TRACE started printing the exception stack trace.\r\n\r\nHowever, I started pondering with the question why the exception didn&#39;t hit the custom ControllerAdvice? On a deep debugging, I got the answer. The exception handler resolver looks for matching @ExceptionHandler exception class mapping to invoke the appropriate handleException() method. In the context of this exception, the exception type &#39;**HttpMessageNotWritable**&#39; was exclusively getting handled directly by ***ResponseEntityExceptionHandler.handleException()***  (base class).\r\n\r\nHere, neither you can define another @ExceptionHandler mapping for HttpMessageNotWritable.class in the custom controller advice, nor you can override the handleException() method since it is defined as final in base class. A solution for this is explained in detail here https://stackoverflow.com/questions/51216326/overriding-the-handling-behavior-for-standard-spring-mvc-exceptions\r\n\r\n","title":"Spring boot mvc REST API response object serialization exceptions are not getting logged","body":"<p>Here are my findings:</p>\n<p>Enabling logging level as DEBUG for &quot;org.springframework&quot; started printing the DEBUG info starting with &quot;Resolved xxxx&quot;. However, still not logging as ERROR, so exception stack trace was missing.</p>\n<p>On further investigation I found, there is a condition in spring framework <em><strong>ExceptionHandlerExceptionResolver.doResolveHandlerMethodException()</strong></em> to print the exception stack trace only if the logging level is TRACE, I am wondering why though. Anyways, changing the logging level to TRACE started printing the exception stack trace.</p>\n<p>However, I started pondering with the question why the exception didn't hit the custom ControllerAdvice? On a deep debugging, I got the answer. The exception handler resolver looks for matching @ExceptionHandler exception class mapping to invoke the appropriate handleException() method. In the context of this exception, the exception type '<strong>HttpMessageNotWritable</strong>' was exclusively getting handled directly by <em><strong>ResponseEntityExceptionHandler.handleException()</strong></em>  (base class).</p>\n<p>Here, neither you can define another @ExceptionHandler mapping for HttpMessageNotWritable.class in the custom controller advice, nor you can override the handleException() method since it is defined as final in base class. A solution for this is explained in detail here <a href=\"https://stackoverflow.com/questions/51216326/overriding-the-handling-behavior-for-standard-spring-mvc-exceptions\">Overriding the handling behavior for standard Spring MVC exceptions</a></p>\n"}],"owner":{"account_id":394811,"reputation":1062,"user_id":757446,"accept_rate":33,"display_name":"vinodpthmn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552115,"answer_count":1,"score":0,"last_activity_date":1687721589,"creation_date":1687610889,"question_id":76546130,"body_markdown":"Scenario:\r\n\r\nThere is a method in a API response object which concatenates two fields. Say getFullName() which returns name in the format &quot;lastname, firstname&quot;. This object is returned like below from the REST controller endpoint method.\r\n```Java\r\n    @PostMapping(consumes = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\r\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User payload) throws Exception {\r\n        User data = userService.createUser(payload);\r\n        return ResponseEntity.created(URI.create(data.getId())).body(data);\r\n    }\r\n```\r\nUnfortunately if there is an exception in this method, for example a NPE, it is neither getting logged nor generating the response with exception message. Instead the spring is returning a 500 error with boiler plate &quot;Internal Server Error&quot; html (given below). It was very difficult to figure out the error line since there was no stacktrace being printed even while debugging.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn further research, I found that the exception is from com.fasterxml.jackson.databind.ser.std. BeanSerializerBase due to a NPE from the getter method (fixed the same). However, I am wondering why this is not getting logged or printing the stacktrace in debug console? \r\n\r\n  [1]: https://i.stack.imgur.com/fYH3Q.png","title":"Spring boot mvc REST API response object serialization exceptions are not getting logged","body":"<p>Scenario:</p>\n<p>There is a method in a API response object which concatenates two fields. Say getFullName() which returns name in the format &quot;lastname, firstname&quot;. This object is returned like below from the REST controller endpoint method.</p>\n<pre><code>    @PostMapping(consumes = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User payload) throws Exception {\n        User data = userService.createUser(payload);\n        return ResponseEntity.created(URI.create(data.getId())).body(data);\n    }\n</code></pre>\n<p>Unfortunately if there is an exception in this method, for example a NPE, it is neither getting logged nor generating the response with exception message. Instead the spring is returning a 500 error with boiler plate &quot;Internal Server Error&quot; html (given below). It was very difficult to figure out the error line since there was no stacktrace being printed even while debugging.</p>\n<p><a href=\"https://i.stack.imgur.com/fYH3Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fYH3Q.png\" alt=\"enter image description here\" /></a></p>\n<p>On further research, I found that the exception is from com.fasterxml.jackson.databind.ser.std. BeanSerializerBase due to a NPE from the getter method (fixed the same). However, I am wondering why this is not getting logged or printing the stacktrace in debug console?</p>\n"},{"tags":["java","eclipse","version","wicket","tomcat6"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1377590176,"post_id":18459945,"comment_id":27129220,"body_markdown":"What memory settings do you have for the launcher and how much actual memory do you have?","body":"What memory settings do you have for the launcher and how much actual memory do you have?"},{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":0,"creation_date":1377590355,"post_id":18459945,"comment_id":27129310,"body_markdown":"`Available Memory &lt; Assigned memory for Launcher`","body":"<code>Available Memory &lt; Assigned memory for Launcher</code>"},{"owner":{"account_id":261318,"reputation":383,"user_id":545416,"accept_rate":100,"display_name":"OnesAndZeros"},"score":1,"creation_date":1377631982,"post_id":18459945,"comment_id":27153780,"body_markdown":"I don&#39;t know if this will help or not, but there is a nifty utility named jvisualvm.exe that is packaged with the jdk.  You should be able to find it in your jdk installation directory (i.e.-`C:\\Program Files\\Java\\jdk1.7.0_17\\jvisualvm.exe`).  Using this graphical interface you can see the memory being allocated from the heap during startup.  Let me know if you want more info and I&#39;d be glad to provide it.","body":"I don&#39;t know if this will help or not, but there is a nifty utility named jvisualvm.exe that is packaged with the jdk.  You should be able to find it in your jdk installation directory (i.e.-<code>C:\\Program Files\\Java\\jdk1.7.0_17\\jvisualvm.exe</code>).  Using this graphical interface you can see the memory being allocated from the heap during startup.  Let me know if you want more info and I&#39;d be glad to provide it."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377590219,"creation_date":1377590219,"answer_id":18460005,"question_id":18459945,"body_markdown":"Edit your Catlina.bat so that your -Xmx settings are less than your physical memory \r\n\r\nSee https://stackoverflow.com/questions/6897476/tomcat-7-how-to-set-initial-heap-size-correctly","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>Edit your Catlina.bat so that your -Xmx settings are less than your physical memory </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/6897476/tomcat-7-how-to-set-initial-heap-size-correctly\">Tomcat 7: How to set initial heap size correctly?</a></p>\n"},{"tags":[],"owner":{"display_name":"user5365246"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654232604,"creation_date":1443741063,"answer_id":32898199,"question_id":18459945,"body_markdown":"Add the system variable  _JAVA_OPTIONS and in the &quot;new variable value&quot; add &quot;-Xmx1024M&quot;.\r\n\r\nXmx sets the maximum heap memory size","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>Add the system variable  _JAVA_OPTIONS and in the &quot;new variable value&quot; add &quot;-Xmx1024M&quot;.</p>\n<p>Xmx sets the maximum heap memory size</p>\n"},{"tags":[],"owner":{"account_id":3903223,"reputation":21,"user_id":3230487,"display_name":"procrazium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458857147,"creation_date":1458840677,"answer_id":36206447,"question_id":18459945,"body_markdown":"The error does not say much and lot of things can be wrong. One thing that was wrong in my case was following \r\n\r\n    -x.DargName=108352123\r\n\r\nWhich is clearly wrong and should have been \r\n\r\n    -Dx.argName=108352123","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>The error does not say much and lot of things can be wrong. One thing that was wrong in my case was following </p>\n\n<pre><code>-x.DargName=108352123\n</code></pre>\n\n<p>Which is clearly wrong and should have been </p>\n\n<pre><code>-Dx.argName=108352123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5913142,"reputation":18650,"user_id":4652706,"accept_rate":100,"display_name":"KARTHIKEYAN.A"},"down_vote_count":1,"up_vote_count":261,"is_accepted":false,"score":260,"last_activity_date":1500535240,"creation_date":1474226265,"answer_id":39561667,"question_id":18459945,"body_markdown":"**Error:**\r\n\r\n    sony@sony-VPCEH25EN:~$ java --version\r\n    Picked up JAVA_TOOL_OPTIONS: -javaagent:/usr/share/java/jayatanaag.jar \r\n    Unrecognized option: --version\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\n**Solution:**\r\nRemove extra hyphen &#39;-&#39;\r\n\r\n\r\n\r\n    sony@sony-VPCEH25EN:~$ java -version\r\n    Picked up JAVA_TOOL_OPTIONS: -javaagent:/usr/share/java/jayatanaag.jar \r\n    java version &quot;1.8.0_101&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_101-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.101-b13, mixed mode)\r\n\r\n","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p><strong>Error:</strong></p>\n\n<pre><code>sony@sony-VPCEH25EN:~$ java --version\nPicked up JAVA_TOOL_OPTIONS: -javaagent:/usr/share/java/jayatanaag.jar \nUnrecognized option: --version\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p><strong>Solution:</strong>\nRemove extra hyphen '-'</p>\n\n<pre><code>sony@sony-VPCEH25EN:~$ java -version\nPicked up JAVA_TOOL_OPTIONS: -javaagent:/usr/share/java/jayatanaag.jar \njava version \"1.8.0_101\"\nJava(TM) SE Runtime Environment (build 1.8.0_101-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.101-b13, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8029411,"reputation":3774,"user_id":6055037,"accept_rate":66,"display_name":"Neelam Prajapati"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1619598371,"creation_date":1479895919,"answer_id":40761457,"question_id":18459945,"body_markdown":" - Press Windows+Pause keys simultaneously to open the &quot;System&quot; window. You can alternatively open the control panel manual to go there if you prefer it that way.\r\n Click on &quot;Advanced system settings&quot; on the left then click &quot;Advanced&quot; tab.\r\n - Select environmental variables here.\r\n - Click on new under System Variables.\r\n - Enter &#39;_JAVA_OPTIONS&#39; as the variable name.\r\n - Enter &#39;-Xmx1024M&#39; as the variable value.\r\n - Click ok twice.","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<ul>\n<li>Press Windows+Pause keys simultaneously to open the &quot;System&quot; window. You can alternatively open the control panel manual to go there if you prefer it that way.\nClick on &quot;Advanced system settings&quot; on the left then click &quot;Advanced&quot; tab.</li>\n<li>Select environmental variables here.</li>\n<li>Click on new under System Variables.</li>\n<li>Enter '_JAVA_OPTIONS' as the variable name.</li>\n<li>Enter '-Xmx1024M' as the variable value.</li>\n<li>Click ok twice.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1923956,"reputation":416,"user_id":1734836,"accept_rate":36,"display_name":"Karthic.K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654232742,"creation_date":1506695175,"answer_id":46490955,"question_id":18459945,"body_markdown":"If none of the other options works, then this could be an issue with the version of the JDK itself, just uninstall the current jdk and install the latest version.\r\n\r\nI also faced this issue. After trying everything, I upgraded to the latest JDK and this issue was resolved on its own.","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>If none of the other options works, then this could be an issue with the version of the JDK itself, just uninstall the current jdk and install the latest version.</p>\n<p>I also faced this issue. After trying everything, I upgraded to the latest JDK and this issue was resolved on its own.</p>\n"},{"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654232632,"creation_date":1525526546,"answer_id":50189935,"question_id":18459945,"body_markdown":"I was facing the same issue while I was using **JDK 1.8.0_05** 64 bit and **eclipse-jee-oxygen-3a-win32-x86_64** on **Windows 64** bit Operating System. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI resolved the issue by changing **JDK** version ***jdk1.8.0_05*** to ***[jdk1.8.0_172][2]***\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fOEHH.png\r\n  [2]: http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-windows-x64.exe","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I was facing the same issue while I was using <strong>JDK 1.8.0_05</strong> 64 bit and <strong>eclipse-jee-oxygen-3a-win32-x86_64</strong> on <strong>Windows 64</strong> bit Operating System.</p>\n<p><a href=\"https://i.stack.imgur.com/fOEHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOEHH.png\" alt=\"enter image description here\" /></a></p>\n<p>I resolved the issue by changing <strong>JDK</strong> version <em><strong>jdk1.8.0_05</strong></em> to <em><strong><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-windows-x64.exe\" rel=\"nofollow noreferrer\">jdk1.8.0_172</a></strong></em></p>\n"},{"tags":[],"owner":{"account_id":13635303,"reputation":67,"user_id":9836471,"display_name":"ghanshyam singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654232578,"creation_date":1527100961,"answer_id":50495364,"question_id":18459945,"body_markdown":"I was facing the same issue while I was using &quot;jdk-10.0.1_windows-x64_bin&quot; and eclipse-jee-oxygen-3a-win32-x86_64 on Windows 64 bit Operating System.\r\n\r\nI resolved this issue by changing my jdk to &quot;jdk-8u172-windows-x64&quot;. Now it&#39;s working fine.","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I was facing the same issue while I was using &quot;jdk-10.0.1_windows-x64_bin&quot; and eclipse-jee-oxygen-3a-win32-x86_64 on Windows 64 bit Operating System.</p>\n<p>I resolved this issue by changing my jdk to &quot;jdk-8u172-windows-x64&quot;. Now it's working fine.</p>\n"},{"tags":[],"owner":{"account_id":4651650,"reputation":121,"user_id":5925227,"display_name":"RajieRoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654232694,"creation_date":1528398627,"answer_id":50748605,"question_id":18459945,"body_markdown":"I was facing the same issue when I was using tomcat **8.5** with Java **10**. I installed Java **8(1.8.0_171)** and it&#39;s working fine without any issues.","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I was facing the same issue when I was using tomcat <strong>8.5</strong> with Java <strong>10</strong>. I installed Java <strong>8(1.8.0_171)</strong> and it's working fine without any issues.</p>\n"},{"tags":[],"owner":{"account_id":490572,"reputation":3429,"user_id":1792003,"accept_rate":62,"display_name":"Snehal Masne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532075882,"creation_date":1532075882,"answer_id":51438456,"question_id":18459945,"body_markdown":"For me it was picking the default JVM v6 set in env vars. \r\n\r\nNeeded to explicitly add below in eclipse.ini to use v8 which is req by photon.\r\n\r\n\r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.8.0_75\\bin\\javaw.exe\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n \r\n\r\n\r\nNOTE : Add the entry of vm above the vm args else it will not work!\r\n","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>For me it was picking the default JVM v6 set in env vars. </p>\n\n<p>Needed to explicitly add below in eclipse.ini to use v8 which is req by photon.</p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.8.0_75\\bin\\javaw.exe\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n</code></pre>\n\n<p>NOTE : Add the entry of vm above the vm args else it will not work!</p>\n"},{"tags":[],"owner":{"account_id":7583735,"reputation":285,"user_id":5753602,"display_name":"sadique urf arbaz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1654232537,"creation_date":1550072478,"answer_id":54674040,"question_id":18459945,"body_markdown":"I was also facing this issue when we upgraded from java 8 to java 10. I solved by removing  \r\n```\r\n-Djava.endorsed.dirs=&quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\endorsed&quot;\r\n``` \r\nfrom the argument.","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I was also facing this issue when we upgraded from java 8 to java 10. I solved by removing</p>\n<pre><code>-Djava.endorsed.dirs=&quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\endorsed&quot;\n</code></pre>\n<p>from the argument.</p>\n"},{"tags":[],"owner":{"account_id":11805691,"reputation":171,"user_id":8638237,"display_name":"Ambarish Kumar Shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563516785,"creation_date":1563516785,"answer_id":57106510,"question_id":18459945,"body_markdown":"On ubuntu (version 18), some application support java 8 and do not support java 11.\r\nIf this is the case , you can switch to java 8 by following instruction on below topic :\r\nhttps://askubuntu.com/questions/1133216/downgrading-java-11-to-java-8","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>On ubuntu (version 18), some application support java 8 and do not support java 11.\nIf this is the case , you can switch to java 8 by following instruction on below topic :\n<a href=\"https://askubuntu.com/questions/1133216/downgrading-java-11-to-java-8\">https://askubuntu.com/questions/1133216/downgrading-java-11-to-java-8</a></p>\n"},{"tags":[],"owner":{"account_id":10424768,"reputation":140,"user_id":7686412,"display_name":"maryf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612461461,"creation_date":1612461461,"answer_id":66051214,"question_id":18459945,"body_markdown":"I had to add an older jdk on my project.\r\n\r\nRight button on Project folder &gt; Properties &gt; Java Build Path &gt; Libraries &gt; Add Library &gt; JRE System Library \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn case you don&#39;t have the package for jdk8, download the jdk that some user mentioned above (http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-windows-x64.exe) and click on &quot;Installed JREs&quot; and search for the directory you downloaded the jdk8.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nST5q.png\r\n  [2]: https://i.stack.imgur.com/x4DkZ.png\r\n  [3]: https://i.stack.imgur.com/o63aB.png\r\n\r\nThen click on Finish.\r\n\r\nRemove the apache server and add again.\r\n\r\nThe magic is done ;)","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I had to add an older jdk on my project.</p>\n<p>Right button on Project folder &gt; Properties &gt; Java Build Path &gt; Libraries &gt; Add Library &gt; JRE System Library</p>\n<p><a href=\"https://i.stack.imgur.com/nST5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nST5q.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/x4DkZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x4DkZ.png\" alt=\"enter image description here\" /></a></p>\n<p>In case you don't have the package for jdk8, download the jdk that some user mentioned above (<a href=\"http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-windows-x64.exe\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn-pub/java/jdk/8u172-b11/a58eab1ec242421181065cdc37240b08/jdk-8u172-windows-x64.exe</a>) and click on &quot;Installed JREs&quot; and search for the directory you downloaded the jdk8.</p>\n<p><a href=\"https://i.stack.imgur.com/o63aB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o63aB.png\" alt=\"enter image description here\" /></a></p>\n<p>Then click on Finish.</p>\n<p>Remove the apache server and add again.</p>\n<p>The magic is done ;)</p>\n"},{"tags":[],"owner":{"account_id":8980008,"reputation":734,"user_id":6695540,"accept_rate":88,"display_name":"Canned Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613382824,"creation_date":1613382824,"answer_id":66205867,"question_id":18459945,"body_markdown":"I had the same issue today when running the ancient software _Dundjinni_, a mapping tool, on Windows 10. (Dundjinni requires a rather old installation of Java; I haven’t tried updating Java, for fear the programme will fail.) My method was to simply run Dundjinni in administrator mode. Here is how:\r\n\r\nClick Start or press the Start key, navigate down to the software, rightclick the programme, choose More, then choose Run as administrator. Note that this option is _not_ available if you simply type the name of the software.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hhBW8.png","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I had the same issue today when running the ancient software <em>Dundjinni</em>, a mapping tool, on Windows 10. (Dundjinni requires a rather old installation of Java; I haven’t tried updating Java, for fear the programme will fail.) My method was to simply run Dundjinni in administrator mode. Here is how:</p>\n<p>Click Start or press the Start key, navigate down to the software, rightclick the programme, choose More, then choose Run as administrator. Note that this option is <em>not</em> available if you simply type the name of the software.</p>\n<p><a href=\"https://i.stack.imgur.com/hhBW8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhBW8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18322227,"reputation":55,"user_id":13342750,"display_name":"Rontu Barhoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630759072,"creation_date":1630759072,"answer_id":69055355,"question_id":18459945,"body_markdown":"You just need to add JAVA_HOME to your environment variable. Just point this variable to jdk location(not the jdk bin location) as shown in the below image.[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gTP5.png\r\n  [2]: https://i.stack.imgur.com/fKZpC.png","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>You just need to add JAVA_HOME to your environment variable. Just point this variable to jdk location(not the jdk bin location) as shown in the below image.<a href=\"https://i.stack.imgur.com/9gTP5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gTP5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fKZpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fKZpC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1402320,"reputation":1153,"user_id":1330848,"accept_rate":29,"display_name":"Dnyani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486191,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"answer_count":15,"score":95,"last_activity_date":1687721359,"creation_date":1377590067,"question_id":18459945,"body_markdown":"I am working on java wicket framework and Apache tomcat. When I tried to start tomcat, it shows Java Virtual Machine Launcher pop window &quot;Could not create the Java Virtual Machine&quot;.  \r\n\r\nAfter clicking on &quot;OK&quot; button on Pop window, it shows the error on console.  \r\n  \r\n&gt;Error occurred during initialization of VM.  \r\nCould not reserve enough space for object heap.  \r\n  \r\nPlease give me any reference or suggestions.  ","title":"How to solve could not create the virtual machine error of Java Virtual Machine Launcher?","body":"<p>I am working on java wicket framework and Apache tomcat. When I tried to start tomcat, it shows Java Virtual Machine Launcher pop window &quot;Could not create the Java Virtual Machine&quot;.</p>\n<p>After clicking on &quot;OK&quot; button on Pop window, it shows the error on console.</p>\n<blockquote>\n<p>Error occurred during initialization of VM.<br />\nCould not reserve enough space for object heap.</p>\n</blockquote>\n<p>Please give me any reference or suggestions.</p>\n"},{"tags":["java","spring-boot","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687718473,"creation_date":1687718473,"answer_id":76551924,"question_id":76551874,"body_markdown":"I make a search online and I found that I need to use `cascade = CascadeType.PERSIST` on the`@OneToMany` mapping.","title":"Saving entity from parent to a child Spring boot","body":"<p>I make a search online and I found that I need to use <code>cascade = CascadeType.PERSIST</code> on the<code>@OneToMany</code> mapping.</p>\n"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687720962,"creation_date":1687717762,"question_id":76551874,"body_markdown":"Hello I am trying to understand how can I made a record in db with entity from another entity repository.\r\n\r\nExample I have \r\n\r\n    public class Busstop {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @OneToMany(mappedBy = &quot;busstop&quot;)\r\n    private Bus bus;\r\n    }\r\n\r\nSame for bus entity:\r\n\r\n    public class Bus {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;busstop_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_busstop_bus_id&quot;))\r\n    private Busstop busstop;\r\n\r\nNow when I call `busstopService.save(busstop);` I want to make a record also in bus table with the attached bus in the busstop dto with is not existing in the databse.\r\nNote: I don&#39;t want bus id to be present in the bbusstop table.\r\n\r\nI am new to Spring boot.Thank you for the help","title":"Saving entity from parent to a child Spring boot","body":"<p>Hello I am trying to understand how can I made a record in db with entity from another entity repository.</p>\n<p>Example I have</p>\n<pre><code>public class Busstop {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n@OneToMany(mappedBy = &quot;busstop&quot;)\nprivate Bus bus;\n}\n</code></pre>\n<p>Same for bus entity:</p>\n<pre><code>public class Bus {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n@ManyToOne\n@JoinColumn(name = &quot;busstop_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_busstop_bus_id&quot;))\nprivate Busstop busstop;\n</code></pre>\n<p>Now when I call <code>busstopService.save(busstop);</code> I want to make a record also in bus table with the attached bus in the busstop dto with is not existing in the databse.\nNote: I don't want bus id to be present in the bbusstop table.</p>\n<p>I am new to Spring boot.Thank you for the help</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1687707669,"post_id":76551128,"comment_id":134971015,"body_markdown":"The answer depends on how willing you are to restructure the code. One idea that comes to my mind would be to forego the explicit frequency calculation, and collect to a map instead, calculating the frequency implicitly through the merge function. [`ideone.com` demo](https://ideone.com/jbzeky)","body":"The answer depends on how willing you are to restructure the code. One idea that comes to my mind would be to forego the explicit frequency calculation, and collect to a map instead, calculating the frequency implicitly through the merge function. <a href=\"https://ideone.com/jbzeky\" rel=\"nofollow noreferrer\"><code>ideone.com</code> demo</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1687708435,"post_id":76551128,"comment_id":134971099,"body_markdown":"_Method reference_ and _pass by reference_ are two completely different concepts. They have nothing to do with each other. By the way: Java is _pass by value_, always (and not pass by reference).","body":"<i>Method reference</i> and <i>pass by reference</i> are two completely different concepts. They have nothing to do with each other. By the way: Java is <i>pass by value</i>, always (and not pass by reference)."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1687709897,"post_id":76551128,"comment_id":134971286,"body_markdown":"Why copy as a set? It can be just `listColors.stream().map(s -&gt; s + &quot; : &quot; + Collections.frequency(listColors, s)).forEach(System.out::println);`","body":"Why copy as a set? It can be just <code>listColors.stream().map(s -&gt; s + &quot; : &quot; + Collections.frequency(listColors, s)).forEach(System.out::println);</code>"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":1,"creation_date":1687710553,"post_id":76551128,"comment_id":134971357,"body_markdown":"@DuncG, but we are getting output two times. like ```Red : 1\nblue : 1\ngreen : 2\ngreen : 2```","body":"@DuncG, but we are getting output two times. like <code>Red : 1 blue : 1 green : 2 green : 2</code>"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1687710831,"post_id":76551128,"comment_id":134971400,"body_markdown":"@S14321K Oops, ignore me","body":"@S14321K Oops, ignore me"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":1,"creation_date":1687711036,"post_id":76551128,"comment_id":134971422,"body_markdown":"@DuncG haha, no problem. Your  soulution worked great. Though I found another solution.  ```listColors.stream().map(s -&gt; s + &quot; : &quot; + Collections.frequency(listColors, s)).distinct().forEach(System.out::println);``` Adding distinct() done the job great.","body":"@DuncG haha, no problem. Your  soulution worked great. Though I found another solution.  <code>listColors.stream().map(s -&gt; s + &quot; : &quot; + Collections.frequency(listColors, s)).distinct().forEach(System.out::println);</code> Adding distinct() done the job great."}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687715976,"creation_date":1687707648,"answer_id":76551190,"question_id":76551128,"body_markdown":"No, you cannot do that whole operation with a single method reference. You are doing more than a single method call in your lambda.\r\n\r\nAlthough, if you refactor your string creation into a new function, then you can use a method reference to call `System.out.println`:\r\n\r\n```java\r\nstatic void occuranceUsingListSet() {\r\n    // You don&#39;t need to wrap Arrays.asList in a new ArrayList.\r\n    List&lt;String&gt; listColors = Arrays.asList(&quot;Red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;green&quot;);\r\n    Set&lt;String&gt; setVals = new LinkedHashSet&lt;&gt;(listColors);\r\n\r\n    setVals.stream()\r\n        .map(s -&gt; createFrequencyString(s, listColors);\r\n        .forEach(System.out::println);\r\n}\r\n\r\nstatic String createFrequencyString(String color, List&lt;String&gt; colors) {\r\n    return color + &quot; : &quot; + Collections.frequency(colors, color);\r\n}\r\n```\r\n","title":"Lambda(-&gt;) to Double colon(::) method reference","body":"<p>No, you cannot do that whole operation with a single method reference. You are doing more than a single method call in your lambda.</p>\n<p>Although, if you refactor your string creation into a new function, then you can use a method reference to call <code>System.out.println</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void occuranceUsingListSet() {\n    // You don't need to wrap Arrays.asList in a new ArrayList.\n    List&lt;String&gt; listColors = Arrays.asList(&quot;Red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;green&quot;);\n    Set&lt;String&gt; setVals = new LinkedHashSet&lt;&gt;(listColors);\n\n    setVals.stream()\n        .map(s -&gt; createFrequencyString(s, listColors);\n        .forEach(System.out::println);\n}\n\nstatic String createFrequencyString(String color, List&lt;String&gt; colors) {\n    return color + &quot; : &quot; + Collections.frequency(colors, color);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687720408,"creation_date":1687719666,"answer_id":76551999,"question_id":76551128,"body_markdown":"With a little reworking of the method you can use a method reference.  Since you didn&#39;t specify if a `set` was required, I am using a `map` as it offers some efficiencies.\r\n```\r\nList&lt;String&gt; listColors = Arrays.asList(&quot;Red&quot;, &quot;blue&quot;, &quot;green&quot;,\r\n        &quot;green&quot;);\r\n```\r\nI am calling the method `printOccurrences` since that is what you are doing.  It takes a `Supplier&lt;Stream&lt;String&gt;&gt;` as the parameter.  The stream is obtained in the method by using `get()`.\r\n```\r\nprintOccurrences(listColors::stream);\r\n```\r\nprints\r\n```\r\nRed : 1, blue : 1, green : 2\r\n\r\n```\r\nUsing `Collections.frequency` is ill advised since you must traverse the entire list for each specified object.  Using a `Map` to compute frequencies is a more common technique as it does it in a single pass over the list. For each color string, [Collectors.groupingBy](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)) along with [Collectors.counting](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#counting()) will compute the frequency for each map entry pair of `&lt;String, Long&gt;`.  The entries are then streamed to obtain the collected data and [joined]( https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence))into a string for printing (the format of which can be altered as required).  I used a `LinkedHashMap` supplier to preserve the order of colors as they are processed. If not required or desired, it can be removed.\r\n\r\nSo in order\r\n- get the stream and compute the frequencies using `groupingBy`\r\n- then stream the entry set, extracting the key(color String) and value(frequency) and format for joining.  I am joining each pair with `&quot;, &quot;`.\r\n- all of the above is then passed to `System.out.println`.\r\n```\r\nstatic void printOccurrences(Supplier&lt;Stream&lt;String&gt;&gt; stream) {\r\n     System.out.println(stream.get()\r\n             .collect(Collectors.groupingBy(color -&gt; color,\r\n                     LinkedHashMap::new, Collectors.counting()))\r\n             .entrySet().stream().map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\r\n             .collect(Collectors.joining(&quot;, &quot;)));\r\n}\r\n```\r\nSome final notes.\r\n- The method above can also be easily altered to return the string for printing and/or take the list as an argument and just stream it there without using a Supplier.\r\n\r\n- Unless you want `&quot;Red&quot;` to be different than `&quot;red&quot;` you should convert to a common case, otherwise they will be treated as different colors. For something like this, title case might be a nice choice so it can be done as follows:\r\n```\r\nstatic String toTitleCase(String str) {\r\n     return str.substring(0,1).toUpperCase() + str.substring(1).toLowerCase();\r\n}\r\n```\r\nThen change `a -&gt; a` in `groupingBy` to `a-&gt;toTitleCase(a)`\r\n```\r\n","title":"Lambda(-&gt;) to Double colon(::) method reference","body":"<p>With a little reworking of the method you can use a method reference.  Since you didn't specify if a <code>set</code> was required, I am using a <code>map</code> as it offers some efficiencies.</p>\n<pre><code>List&lt;String&gt; listColors = Arrays.asList(&quot;Red&quot;, &quot;blue&quot;, &quot;green&quot;,\n        &quot;green&quot;);\n</code></pre>\n<p>I am calling the method <code>printOccurrences</code> since that is what you are doing.  It takes a <code>Supplier&lt;Stream&lt;String&gt;&gt;</code> as the parameter.  The stream is obtained in the method by using <code>get()</code>.</p>\n<pre><code>printOccurrences(listColors::stream);\n</code></pre>\n<p>prints</p>\n<pre><code>Red : 1, blue : 1, green : 2\n\n</code></pre>\n<p>Using <code>Collections.frequency</code> is ill advised since you must traverse the entire list for each specified object.  Using a <code>Map</code> to compute frequencies is a more common technique as it does it in a single pass over the list. For each color string, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> along with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#counting()\" rel=\"nofollow noreferrer\">Collectors.counting</a> will compute the frequency for each map entry pair of <code>&lt;String, Long&gt;</code>.  The entries are then streamed to obtain the collected data and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">joined</a>into a string for printing (the format of which can be altered as required).  I used a <code>LinkedHashMap</code> supplier to preserve the order of colors as they are processed. If not required or desired, it can be removed.</p>\n<p>So in order</p>\n<ul>\n<li>get the stream and compute the frequencies using <code>groupingBy</code></li>\n<li>then stream the entry set, extracting the key(color String) and value(frequency) and format for joining.  I am joining each pair with <code>&quot;, &quot;</code>.</li>\n<li>all of the above is then passed to <code>System.out.println</code>.</li>\n</ul>\n<pre><code>static void printOccurrences(Supplier&lt;Stream&lt;String&gt;&gt; stream) {\n     System.out.println(stream.get()\n             .collect(Collectors.groupingBy(color -&gt; color,\n                     LinkedHashMap::new, Collectors.counting()))\n             .entrySet().stream().map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\n             .collect(Collectors.joining(&quot;, &quot;)));\n}\n</code></pre>\n<p>Some final notes.</p>\n<ul>\n<li><p>The method above can also be easily altered to return the string for printing and/or take the list as an argument and just stream it there without using a Supplier.</p>\n</li>\n<li><p>Unless you want <code>&quot;Red&quot;</code> to be different than <code>&quot;red&quot;</code> you should convert to a common case, otherwise they will be treated as different colors. For something like this, title case might be a nice choice so it can be done as follows:</p>\n</li>\n</ul>\n<pre><code>static String toTitleCase(String str) {\n     return str.substring(0,1).toUpperCase() + str.substring(1).toLowerCase();\n}\n</code></pre>\n<p>Then change <code>a -&gt; a</code> in <code>groupingBy</code> to <code>a-&gt;toTitleCase(a)</code></p>\n<pre><code></code></pre>\n"}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76551190,"answer_count":2,"score":0,"last_activity_date":1687720408,"creation_date":1687706644,"question_id":76551128,"body_markdown":"here I&#39;m trying to print values using lambda. Is it possible to make it in double colon way?\r\n\r\n    public class Occurance \r\n    {\r\n    \tstatic void occuranceUsingListSet()\r\n    \t{\r\n    \t\tArrayList&lt;String&gt; listColors = new ArrayList&lt;&gt;(Arrays.asList(&quot;Red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;green&quot;));\r\n    \t\tSet&lt;String&gt; setVals = new LinkedHashSet&lt;&gt;(listColors);\r\n    \t\tsetVals.stream().forEach(s -&gt; System.out.println(s + &quot; : &quot; + Collections.frequency(listColors, s)));\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n```setVals.stream().forEach(s -&gt; System.out.println(s + &quot; : &quot; + Collections.frequency(listColors, s)));```\r\n\r\n\r\nIs there any possibilities to use double colon?\r\n\r\nAnd is method reference and pass by reference are same?\r\n\r\nI can see this  double colon is pass method reference.\r\nBut in this slack answer I can see that there is no such thing like pass by reference in java.\r\nhttps://stackoverflow.com/a/73021/11962586.","title":"Lambda(-&gt;) to Double colon(::) method reference","body":"<p>here I'm trying to print values using lambda. Is it possible to make it in double colon way?</p>\n<pre><code>public class Occurance \n{\n    static void occuranceUsingListSet()\n    {\n        ArrayList&lt;String&gt; listColors = new ArrayList&lt;&gt;(Arrays.asList(&quot;Red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;green&quot;));\n        Set&lt;String&gt; setVals = new LinkedHashSet&lt;&gt;(listColors);\n        setVals.stream().forEach(s -&gt; System.out.println(s + &quot; : &quot; + Collections.frequency(listColors, s)));\n    }\n    \n}\n</code></pre>\n<p><code>setVals.stream().forEach(s -&gt; System.out.println(s + &quot; : &quot; + Collections.frequency(listColors, s)));</code></p>\n<p>Is there any possibilities to use double colon?</p>\n<p>And is method reference and pass by reference are same?</p>\n<p>I can see this  double colon is pass method reference.\nBut in this slack answer I can see that there is no such thing like pass by reference in java.\n<a href=\"https://stackoverflow.com/a/73021/11962586\">https://stackoverflow.com/a/73021/11962586</a>.</p>\n"},{"tags":["java","iso8583","jpos","primavera"],"answers":[{"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686768760,"creation_date":1686768760,"answer_id":76476728,"question_id":76474958,"body_markdown":"While you can override the header used by a channel by calling `ISOMsg.setHeader`, the channel still needs a placeholder header in order to know how many bytes it needs to read, at receive time.\r\n\r\nIn your case, the problem is ASCIIChannel is not the right channel for your interchange. ASCIIChannel does not support a header. Based on the content I see, perhaps you need to use BASE24TCPChannel and set the header on it.\r\n\r\nWhen using jPOS, things are quite easier if you use Q2 (that you can run standalone or from your preferred application (SpringBoot, Quarkus, JBoss/Wildfly, etc.).\r\n\r\n","title":"How to add to an iso 8583 message the header used jpos. - ISO 8583 - jpos","body":"<p>While you can override the header used by a channel by calling <code>ISOMsg.setHeader</code>, the channel still needs a placeholder header in order to know how many bytes it needs to read, at receive time.</p>\n<p>In your case, the problem is ASCIIChannel is not the right channel for your interchange. ASCIIChannel does not support a header. Based on the content I see, perhaps you need to use BASE24TCPChannel and set the header on it.</p>\n<p>When using jPOS, things are quite easier if you use Q2 (that you can run standalone or from your preferred application (SpringBoot, Quarkus, JBoss/Wildfly, etc.).</p>\n"},{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686868371,"creation_date":1686868371,"answer_id":76485890,"question_id":76474958,"body_markdown":"Thing is, the header is not handled by the packager, it is handled by the channel, that&#39;s why you don&#39;t see when you print the packed message.\r\n\r\nTo see what travels to the other side, you need a sniffing tool, like tcpdump or Wireshark. Or, since it is a test, you better use netcat to see what the other side would receive, something like this:\r\n\r\n```\r\nnc -l 6000 | xxd\r\n```\r\n\r\nI added `xxd` to show a hex dump, but you could also redirect the output to a file and then open it with a hexadecimal viewer/editor. There you will see that in addition to the header you will see 4 length bytes as ASCII digits. As apr said, `ASCIIChannel` may not be the channel you need. \r\n\r\nFor setting the header at the channel level, and you&#39;ll need to do it to correctly receive the response, this line should do the trick:\r\n\r\n```java\r\nchannel.setHeader(&quot;ISO008000099&quot;);\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to add to an iso 8583 message the header used jpos. - ISO 8583 - jpos","body":"<p>Thing is, the header is not handled by the packager, it is handled by the channel, that's why you don't see when you print the packed message.</p>\n<p>To see what travels to the other side, you need a sniffing tool, like tcpdump or Wireshark. Or, since it is a test, you better use netcat to see what the other side would receive, something like this:</p>\n<pre><code>nc -l 6000 | xxd\n</code></pre>\n<p>I added <code>xxd</code> to show a hex dump, but you could also redirect the output to a file and then open it with a hexadecimal viewer/editor. There you will see that in addition to the header you will see 4 length bytes as ASCII digits. As apr said, <code>ASCIIChannel</code> may not be the channel you need.</p>\n<p>For setting the header at the channel level, and you'll need to do it to correctly receive the response, this line should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>channel.setHeader(&quot;ISO008000099&quot;);\n</code></pre>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687718220,"creation_date":1686754897,"question_id":76474958,"body_markdown":"I am new to developing with iso 8583, I need to add a header before the iso message. but I implement them this way and the same is not added to the message header. What am I doing wrong? I hope you can help me.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\tGenericPackager packager = new GenericPackager(&quot;tes1.xml&quot;);\r\n\r\n\r\n\t        // Create a new ISOMsg object using the custom packager\r\n\t        ISOMsg isoMsg = new ISOMsg();\r\n\t        isoMsg.setPackager(packager);\r\n                isoMsg.setHeader(&quot;ISO008000099&quot;.getBytes());\r\n\t        isoMsg.setMTI(&quot;0800&quot;);\r\n\t        isoMsg.set(7, &quot;1011110140&quot;);\r\n\t        isoMsg.set(11, &quot;047478&quot;);\r\n\t        isoMsg.set(70, &quot;401&quot;);\r\n\t        \r\n\t        \r\n\t        ASCIIChannel c = new ASCIIChannel(&quot;localhost&quot;, 6000, packager);\r\n\t\t\tc.connect();\r\n\t\t\tc.send(isoMsg);\r\n\t\t\tSystem.out.println(&quot;ISO message : &quot; + new String(isoMsg.pack()));\r\n\t\t\t//System.out.println(new String(isoMsg.pack()));\r\n```\r\n\r\nwhen showing the iso message to be sent, the header is not observed\r\n\r\n\r\n```\r\n0000  30 38 30 30 38 32 32 30  30 30 30 30 30 30 30 30  0800822000000000\r\n0010  30 30 30 30 30 34 30 30  30 30 30 30 30 30 30 30  0000040000000000\r\n0020  30 30 30 30 31 30 31 31  31 31 30 31 34 30 30 34  0000101111014004\r\n0030  37 34 37 38 34 30 31                              7478401\r\n```\r\n\r\nMessage sent: 0800822000000000000004000000000000001011110140047478401\r\n\r\nthe message should be sent as follows: ISO0080000990800822000000000000004000000000000001011110140047478401\r\n\r\nI am using the following configuration:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE isopackager SYSTEM &quot;genericpackager3.dtd&quot;&gt;\r\n\r\n&lt;!-- ISO 8583:1987 (ASCII) field descriptions for GenericPackager --&gt;\r\n\r\n&lt;isopackager&gt;\r\n\r\n  &lt;header length=&quot;12&quot; value =&quot;&quot;&gt;&lt;/header&gt;\r\n&lt;isofield\r\n      id=&quot;0&quot;\r\n      length=&quot;4&quot;\r\n      name=&quot;MESSAGE TYPE INDICATOR&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;1&quot;\r\n      length=&quot;16&quot;\r\n      name=&quot;BIT MAP&quot;\r\n      class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;2&quot;\r\n      length=&quot;21&quot;\r\n      name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\r\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;3&quot;\r\n      length=&quot;6&quot;\r\n      name=&quot;PROCESSING CODE&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n  &lt;isofield\r\n      id=&quot;4&quot;\r\n      length=&quot;12&quot;\r\n      name=&quot;AMOUNT, TRANSACTION&quot;\r\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n```\r\n\r\nfields that are sent in the message: \r\n\r\n\r\n```\r\n&lt;isomsg direction=&quot;outgoing&quot;&gt;\r\n  &lt;!-- org.jpos.iso.packager.GenericPackager[tes1.xml] --&gt;\r\n  &lt;header&gt;49534F303038303030303939&lt;/header&gt;\r\n  &lt;field id=&quot;0&quot; value=&quot;0800&quot;/&gt;\r\n  &lt;field id=&quot;7&quot; value=&quot;1011110140&quot;/&gt;\r\n  &lt;field id=&quot;11&quot; value=&quot;047478&quot;/&gt;\r\n  &lt;field id=&quot;70&quot; value=&quot;401&quot;/&gt;\r\n&lt;/isomsg&gt;\r\n```","title":"How to add to an iso 8583 message the header used jpos. - ISO 8583 - jpos","body":"<p>I am new to developing with iso 8583, I need to add a header before the iso message. but I implement them this way and the same is not added to the message header. What am I doing wrong? I hope you can help me.</p>\n<pre><code>    GenericPackager packager = new GenericPackager(&quot;tes1.xml&quot;);\n\n\n            // Create a new ISOMsg object using the custom packager\n            ISOMsg isoMsg = new ISOMsg();\n            isoMsg.setPackager(packager);\n                isoMsg.setHeader(&quot;ISO008000099&quot;.getBytes());\n            isoMsg.setMTI(&quot;0800&quot;);\n            isoMsg.set(7, &quot;1011110140&quot;);\n            isoMsg.set(11, &quot;047478&quot;);\n            isoMsg.set(70, &quot;401&quot;);\n            \n            \n            ASCIIChannel c = new ASCIIChannel(&quot;localhost&quot;, 6000, packager);\n            c.connect();\n            c.send(isoMsg);\n            System.out.println(&quot;ISO message : &quot; + new String(isoMsg.pack()));\n            //System.out.println(new String(isoMsg.pack()));\n</code></pre>\n<p>when showing the iso message to be sent, the header is not observed</p>\n<pre><code>0000  30 38 30 30 38 32 32 30  30 30 30 30 30 30 30 30  0800822000000000\n0010  30 30 30 30 30 34 30 30  30 30 30 30 30 30 30 30  0000040000000000\n0020  30 30 30 30 31 30 31 31  31 31 30 31 34 30 30 34  0000101111014004\n0030  37 34 37 38 34 30 31                              7478401\n</code></pre>\n<p>Message sent: 0800822000000000000004000000000000001011110140047478401</p>\n<p>the message should be sent as follows: ISO0080000990800822000000000000004000000000000001011110140047478401</p>\n<p>I am using the following configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE isopackager SYSTEM &quot;genericpackager3.dtd&quot;&gt;\n\n&lt;!-- ISO 8583:1987 (ASCII) field descriptions for GenericPackager --&gt;\n\n&lt;isopackager&gt;\n\n  &lt;header length=&quot;12&quot; value =&quot;&quot;&gt;&lt;/header&gt;\n&lt;isofield\n      id=&quot;0&quot;\n      length=&quot;4&quot;\n      name=&quot;MESSAGE TYPE INDICATOR&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;1&quot;\n      length=&quot;16&quot;\n      name=&quot;BIT MAP&quot;\n      class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\n  &lt;isofield\n      id=&quot;2&quot;\n      length=&quot;21&quot;\n      name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\n      class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n  &lt;isofield\n      id=&quot;3&quot;\n      length=&quot;6&quot;\n      name=&quot;PROCESSING CODE&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n  &lt;isofield\n      id=&quot;4&quot;\n      length=&quot;12&quot;\n      name=&quot;AMOUNT, TRANSACTION&quot;\n      class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n</code></pre>\n<p>fields that are sent in the message:</p>\n<pre><code>&lt;isomsg direction=&quot;outgoing&quot;&gt;\n  &lt;!-- org.jpos.iso.packager.GenericPackager[tes1.xml] --&gt;\n  &lt;header&gt;49534F303038303030303939&lt;/header&gt;\n  &lt;field id=&quot;0&quot; value=&quot;0800&quot;/&gt;\n  &lt;field id=&quot;7&quot; value=&quot;1011110140&quot;/&gt;\n  &lt;field id=&quot;11&quot; value=&quot;047478&quot;/&gt;\n  &lt;field id=&quot;70&quot; value=&quot;401&quot;/&gt;\n&lt;/isomsg&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","mime-types"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687717296,"creation_date":1687717296,"answer_id":76551839,"question_id":76551819,"body_markdown":"You haven&#39;t included the `.msg` extension in the `Content-Disposition` header you&#39;re setting and use wrong `document`, instead of `attachment`:\r\n\r\n```java\r\n@GetMapping\r\npublic ResponseEntity&lt;byte[]&gt; downloadDocumentFromS3() {\r\n\r\n    //Gets document from s3\r\n    DocumentResult storageResult = s3Service.getDocument(s3StorageId);\r\n\r\n    return ResponseEntity.ok()\r\n         .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-outlook&quot;))\r\n         .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=\\&quot;testFile.msg\\&quot;&quot;)\r\n         .contentLength(storageResult.getResult().length)\r\n         .body(storageResult.getResult());\r\n}\r\n\r\n```","title":"Correct MIME Type for .msg file download using ByteArrayResource","body":"<p>You haven't included the <code>.msg</code> extension in the <code>Content-Disposition</code> header you're setting and use wrong <code>document</code>, instead of <code>attachment</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic ResponseEntity&lt;byte[]&gt; downloadDocumentFromS3() {\n\n    //Gets document from s3\n    DocumentResult storageResult = s3Service.getDocument(s3StorageId);\n\n    return ResponseEntity.ok()\n         .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-outlook&quot;))\n         .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=\\&quot;testFile.msg\\&quot;&quot;)\n         .contentLength(storageResult.getResult().length)\n         .body(storageResult.getResult());\n}\n\n</code></pre>\n"}],"owner":{"account_id":17199817,"reputation":21,"user_id":12451803,"display_name":"sunny-java-dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687718136,"creation_date":1687716951,"question_id":76551819,"body_markdown":"I have a files stored in AWS S3 , and I do have a provision of getting hold of all the information of that file in one java object DocumentResult. \r\n\r\n\r\n```\r\nDocumentResult{\r\n \r\nprivate byte[] result;\r\nprivate fileName;\r\nprivate contentType;\r\nprivate String s3StorageId;\r\n\r\n}\r\n```\r\n\r\n\r\nI have written a sample code to retrieve `byte[]` from DocumentResult and return a new `ByteArrayResource`.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/get/s3-file/{s3StorageId}&quot;)\r\npublic ResponseEntity&lt;?&gt; downloadDocumentFromS3(@PathParam String s3StorageId) {\r\n\r\n//Gets document from s3\r\nDocumentResult storageResult = s3Service.getDocument(s3StorageId);\r\n\r\nreturn ResponseEntity.ok() \r\n.contentType(MediaType.parseMediaType(storageResult.getContentType()))\r\n.header(Httpheaders.CONTENT_DISPOSITION,&quot;document;filename=testFile&quot;)\r\n.contentLength(storageResult.getResult().length)\r\n.body(new ByteArrayResource(storageResult.getResult()));\r\n\r\n}\r\n\r\n```\r\n\r\nThe code runs fine where `storageResult.getContentType()` yields MIME type `application/vnd.ms-outlook` but the document that gets downloaded has extension `testFile.vnd.ms-outlook`.\r\n\r\nI am expecting  `testFile.msg` to be downloaded so that I can look at the email contents.\r\n","title":"Correct MIME Type for .msg file download using ByteArrayResource","body":"<p>I have a files stored in AWS S3 , and I do have a provision of getting hold of all the information of that file in one java object DocumentResult.</p>\n<pre><code>DocumentResult{\n \nprivate byte[] result;\nprivate fileName;\nprivate contentType;\nprivate String s3StorageId;\n\n}\n</code></pre>\n<p>I have written a sample code to retrieve <code>byte[]</code> from DocumentResult and return a new <code>ByteArrayResource</code>.</p>\n<pre><code>@GetMapping(&quot;/get/s3-file/{s3StorageId}&quot;)\npublic ResponseEntity&lt;?&gt; downloadDocumentFromS3(@PathParam String s3StorageId) {\n\n//Gets document from s3\nDocumentResult storageResult = s3Service.getDocument(s3StorageId);\n\nreturn ResponseEntity.ok() \n.contentType(MediaType.parseMediaType(storageResult.getContentType()))\n.header(Httpheaders.CONTENT_DISPOSITION,&quot;document;filename=testFile&quot;)\n.contentLength(storageResult.getResult().length)\n.body(new ByteArrayResource(storageResult.getResult()));\n\n}\n\n</code></pre>\n<p>The code runs fine where <code>storageResult.getContentType()</code> yields MIME type <code>application/vnd.ms-outlook</code> but the document that gets downloaded has extension <code>testFile.vnd.ms-outlook</code>.</p>\n<p>I am expecting  <code>testFile.msg</code> to be downloaded so that I can look at the email contents.</p>\n"},{"tags":["java","xml","eclipse","hibernate","jpa"],"comments":[{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1502290142,"post_id":45593857,"comment_id":78147413,"body_markdown":"Post your project&#39;s structure. Is it a maven one?","body":"Post your project&#39;s structure. Is it a maven one?"},{"owner":{"account_id":9641938,"reputation":127,"user_id":7155887,"display_name":"flxplzk"},"score":0,"creation_date":1502290404,"post_id":45593857,"comment_id":78147633,"body_markdown":"i edited an added the pom structure","body":"i edited an added the pom structure"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1502290568,"post_id":45593857,"comment_id":78147764,"body_markdown":"Why would you look for a provider &quot;org.hibernate.jpa.HibernatePersistenceProvider&quot; in a jar that doesn&#39;t provide it (hibernate-entitymanager-3.5.6) ?","body":"Why would you look for a provider &quot;org.hibernate.jpa.HibernatePersistenceProvider&quot; in a jar that doesn&#39;t provide it (hibernate-entitymanager-3.5.6) ?"},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1502290572,"post_id":45593857,"comment_id":78147769,"body_markdown":"Is your META-INF/persistence.xml in your-project/src/main/resources? It should be enought.","body":"Is your META-INF/persistence.xml in your-project/src/main/resources? It should be enought."},{"owner":{"account_id":9641938,"reputation":127,"user_id":7155887,"display_name":"flxplzk"},"score":0,"creation_date":1502290842,"post_id":45593857,"comment_id":78148031,"body_markdown":"WEB-INF is in src/main/resources sitll not working","body":"WEB-INF is in src/main/resources sitll not working"},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1502308747,"post_id":45593857,"comment_id":78158676,"body_markdown":"WEB-INF should not stay there. It should stay in src/main/webapp folder.","body":"WEB-INF should not stay there. It should stay in src/main/webapp folder."}],"answers":[{"tags":[],"owner":{"account_id":1204576,"reputation":2855,"user_id":1174543,"accept_rate":80,"display_name":"Steve11235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502706579,"creation_date":1502290802,"answer_id":45594243,"question_id":45593857,"body_markdown":"You need to move persistence.xml to a location on your app server&#39;s class path. For a Maven project, that is typically in the `src/main/resources` folder. Check the Hibernate documentation to see if Hibernate expects the file to be in a sub-folder, or if putting it in the root of the classpath is OK.","title":"Could not find any META-INF/persistence.xml file in the classpath","body":"<p>You need to move persistence.xml to a location on your app server's class path. For a Maven project, that is typically in the <code>src/main/resources</code> folder. Check the Hibernate documentation to see if Hibernate expects the file to be in a sub-folder, or if putting it in the root of the classpath is OK.</p>\n"},{"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1502706569,"creation_date":1502312181,"answer_id":45600515,"question_id":45593857,"body_markdown":"I think your project is misconfigured. META-INF folder should stay in src/main/resources and WEB-INF folder in `src/main/webapp` of your web maven project. Here is an [example][1] where I do some CRUD over web api.\r\n\r\n\r\n  [1]: https://github.com/fpezzati/Yomoka/tree/master/YoOffer","title":"Could not find any META-INF/persistence.xml file in the classpath","body":"<p>I think your project is misconfigured. META-INF folder should stay in src/main/resources and WEB-INF folder in <code>src/main/webapp</code> of your web maven project. Here is an <a href=\"https://github.com/fpezzati/Yomoka/tree/master/YoOffer\" rel=\"noreferrer\">example</a> where I do some CRUD over web api.</p>\n"},{"tags":[],"owner":{"account_id":16517371,"reputation":41,"user_id":11934422,"display_name":"Parikshit Phukan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687717934,"creation_date":1600408332,"answer_id":63950026,"question_id":45593857,"body_markdown":"The easiest way to set the path for your META-INF in a maven project is to use the pom.xml and set the path directly over there by using the directory tag. I was facing the same problem but solved it using this.\r\nex:- your META-INF is present in the src folder\r\nyour pom.xml will be:\r\n\r\n```xml\r\n     &lt;dependencies&gt;\r\n     ..\r\n     &lt;/dependencies&gt;\r\n     &lt;build&gt;\r\n       \r\n       &lt;resources&gt;\r\n         &lt;resource&gt;\r\n           &lt;directory&gt;E:/Netbeans Repo/Hibernate/src&lt;/directory&gt;\r\n         &lt;/resource&gt;\r\n       &lt;/resources&gt;\r\n\r\n     &lt;/build&gt;\r\n```\r\n\r\nThis should work\r\n","title":"Could not find any META-INF/persistence.xml file in the classpath","body":"<p>The easiest way to set the path for your META-INF in a maven project is to use the pom.xml and set the path directly over there by using the directory tag. I was facing the same problem but solved it using this.\nex:- your META-INF is present in the src folder\nyour pom.xml will be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>     &lt;dependencies&gt;\n     ..\n     &lt;/dependencies&gt;\n     &lt;build&gt;\n       \n       &lt;resources&gt;\n         &lt;resource&gt;\n           &lt;directory&gt;E:/Netbeans Repo/Hibernate/src&lt;/directory&gt;\n         &lt;/resource&gt;\n       &lt;/resources&gt;\n\n     &lt;/build&gt;\n</code></pre>\n<p>This should work</p>\n"}],"owner":{"account_id":9641938,"reputation":127,"user_id":7155887,"display_name":"flxplzk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45600515,"answer_count":3,"score":4,"last_activity_date":1687717934,"creation_date":1502289764,"question_id":45593857,"body_markdown":"I am tryig to set up JPA to my RESTful webapi in order to make CRUD services on database. I am getting the error `Could not find any META-INF/persistence.xml file in the classpath` But actually ther in a persistence.xml in the folder `META-INF`\r\n\r\n    1 [main] INFO org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.5.6-Final\r\n        17 [main] INFO org.hibernate.cfg.Environment - Hibernate 3.5.6-Final\r\n        20 [main] INFO org.hibernate.cfg.Environment - hibernate.properties not found\r\n        23 [main] INFO org.hibernate.cfg.Environment - Bytecode provider name : javassist\r\n        27 [main] INFO org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling\r\n        110 [main] INFO org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final\r\n        115 [main] INFO org.hibernate.ejb.Version - Hibernate EntityManager 3.5.6-Final\r\n        129 [main] INFO org.hibernate.ejb.Ejb3Configuration - Could not find any META-INF/persistence.xml file in the classpath\r\n        Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named KAPAPLAN\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:32)\r\n        \tat de.ham.ti.kapaplan.database.DBCon.main(DBCon.java:20)\r\n\r\nhere my persistence.xml\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n    \r\n    http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n    \r\n      version=&quot;2.1&quot;&gt;\r\n    \r\n      &lt;persistence-unit name=&quot;KAPAPLAN&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \r\n    \t&lt;class&gt;de.ham.ti.kapaplan.model&lt;/class&gt;\r\n    \t\r\n        &lt;properties&gt;\r\n          &lt;!-- Configuring JDBC properties --&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:oracle:thin:@//***db-domain***/***service-name***&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;***user***&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;***pw***&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysema.query.jpa.support.ExtendedOracleDialect&quot; /&gt;\r\n    \r\n          &lt;!-- Hibernate properties --&gt;\r\n          &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \r\n          &lt;!-- Configuring Connection Pool --&gt;\r\n          &lt;!-- &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;500&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;50&quot; /&gt;\r\n          &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;2000&quot; /&gt;--&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nI double checked similar questions but non of them solved my issue. ann ideas? \r\n\r\n**EDIT:** my Maven pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;de.ham.ti.kapaplan&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kapaplan&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;kapaplan&lt;/name&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;kapaplan&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.5.6-Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n    \t\t\t&lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;11.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Could not find any META-INF/persistence.xml file in the classpath","body":"<p>I am tryig to set up JPA to my RESTful webapi in order to make CRUD services on database. I am getting the error <code>Could not find any META-INF/persistence.xml file in the classpath</code> But actually ther in a persistence.xml in the folder <code>META-INF</code></p>\n\n<pre><code>1 [main] INFO org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.5.6-Final\n    17 [main] INFO org.hibernate.cfg.Environment - Hibernate 3.5.6-Final\n    20 [main] INFO org.hibernate.cfg.Environment - hibernate.properties not found\n    23 [main] INFO org.hibernate.cfg.Environment - Bytecode provider name : javassist\n    27 [main] INFO org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling\n    110 [main] INFO org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final\n    115 [main] INFO org.hibernate.ejb.Version - Hibernate EntityManager 3.5.6-Final\n    129 [main] INFO org.hibernate.ejb.Ejb3Configuration - Could not find any META-INF/persistence.xml file in the classpath\n    Exception in thread \"main\" javax.persistence.PersistenceException: No Persistence provider for EntityManager named KAPAPLAN\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:32)\n        at de.ham.ti.kapaplan.database.DBCon.main(DBCon.java:20)\n</code></pre>\n\n<p>here my persistence.xml</p>\n\n<pre><code>&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n\n  version=\"2.1\"&gt;\n\n  &lt;persistence-unit name=\"KAPAPLAN\" transaction-type=\"JTA\"&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n    &lt;class&gt;de.ham.ti.kapaplan.model&lt;/class&gt;\n\n    &lt;properties&gt;\n      &lt;!-- Configuring JDBC properties --&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:oracle:thin:@//***db-domain***/***service-name***\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.user\" value=\"***user***\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.password\" value=\"***pw***\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysema.query.jpa.support.ExtendedOracleDialect\" /&gt;\n\n      &lt;!-- Hibernate properties --&gt;\n      &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n      &lt;property name=\"hibernate.format_sql\" value=\"true\" /&gt;\n      &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQL5InnoDBDialect\" /&gt;\n      &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n\n      &lt;!-- Configuring Connection Pool --&gt;\n      &lt;!-- &lt;property name=\"hibernate.c3p0.min_size\" value=\"5\" /&gt;\n      &lt;property name=\"hibernate.c3p0.max_size\" value=\"20\" /&gt;\n      &lt;property name=\"hibernate.c3p0.timeout\" value=\"500\" /&gt;\n      &lt;property name=\"hibernate.c3p0.max_statements\" value=\"50\" /&gt;\n      &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"2000\" /&gt;--&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I double checked similar questions but non of them solved my issue. ann ideas? </p>\n\n<p><strong>EDIT:</strong> my Maven pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;de.ham.ti.kapaplan&lt;/groupId&gt;\n    &lt;artifactId&gt;kapaplan&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;kapaplan&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;kapaplan&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;3.5.6-Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","eclipse-wtp","endorsed"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1523630997,"post_id":49819110,"comment_id":86654328,"body_markdown":"Update to the current released version.","body":"Update to the current released version."},{"owner":{"account_id":4415466,"reputation":346,"user_id":3597222,"display_name":"Marjan100"},"score":0,"creation_date":1523990926,"post_id":49819110,"comment_id":86786873,"body_markdown":"What should I update?","body":"What should I update?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1523991826,"post_id":49819110,"comment_id":86787360,"body_markdown":"WTP.   Eclipse.  If you are not running the latest Oxygen release, you need to be.","body":"WTP.   Eclipse.  If you are not running the latest Oxygen release, you need to be."},{"owner":{"account_id":4415466,"reputation":346,"user_id":3597222,"display_name":"Marjan100"},"score":0,"creation_date":1524132040,"post_id":49819110,"comment_id":86851810,"body_markdown":"Tnx. I will do that.","body":"Tnx. I will do that."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524141123,"creation_date":1524141123,"answer_id":49921223,"question_id":49819110,"body_markdown":"Eclipse Oxygen.1a and newer releases contain changes to launch Tomcat properly with Java 9. You need to update your IDE.","title":"How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?","body":"<p>Eclipse Oxygen.1a and newer releases contain changes to launch Tomcat properly with Java 9. You need to update your IDE.</p>\n"},{"tags":[],"owner":{"account_id":1805923,"reputation":603,"user_id":1643015,"display_name":"Alexander Bering"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527151360,"creation_date":1527151360,"answer_id":50504798,"question_id":49819110,"body_markdown":"To fix this bug, you need to install/update the Eclipse Web Tools Platform (WTP) to version 3.9.4 or later.\r\n\r\n - Select &quot;Help &gt; Install new Software...&quot;\r\n - Select or add following URL:\r\n   http://download.eclipse.org/webtools/repository/oxygen\r\n - Check Web Tools Platform (WTP) 3.9.4\r\n - Select &quot;Next&quot; and follow instructions\r\n\r\n(Bug was reported to Eclipse here:\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=533162)","title":"How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?","body":"<p>To fix this bug, you need to install/update the Eclipse Web Tools Platform (WTP) to version 3.9.4 or later.</p>\n\n<ul>\n<li>Select \"Help > Install new Software...\"</li>\n<li>Select or add following URL:\n<a href=\"http://download.eclipse.org/webtools/repository/oxygen\" rel=\"noreferrer\">http://download.eclipse.org/webtools/repository/oxygen</a></li>\n<li>Check Web Tools Platform (WTP) 3.9.4</li>\n<li>Select \"Next\" and follow instructions</li>\n</ul>\n\n<p>(Bug was reported to Eclipse here:\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=533162\" rel=\"noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=533162</a>)</p>\n"},{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589210423,"creation_date":1579732797,"answer_id":59869268,"question_id":49819110,"body_markdown":"I&#39;ve got the same error in Eclipse running Tomcat 9 on JDK 13.  I just removed the `-Djava.endorsed.dirs=C:\\....`  from the VM arguments then restart Tomcat again.\r\n\r\n[![Java VM Error][1]][1] \r\n\r\nClick on the Open Launch Configuration link from the Overview window\r\n[![Overview tab][2]][2]\r\n\r\nThen remove the `-Djava.endorsed` line\r\n\r\n[![Remove Djava line][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ll27e.png\r\n  [2]: https://i.stack.imgur.com/p5K7R.png\r\n  [3]: https://i.stack.imgur.com/hQRUX.png","title":"How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?","body":"<p>I've got the same error in Eclipse running Tomcat 9 on JDK 13.  I just removed the <code>-Djava.endorsed.dirs=C:\\....</code>  from the VM arguments then restart Tomcat again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ll27e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ll27e.png\" alt=\"Java VM Error\"></a> </p>\n\n<p>Click on the Open Launch Configuration link from the Overview window\n<a href=\"https://i.stack.imgur.com/p5K7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p5K7R.png\" alt=\"Overview tab\"></a></p>\n\n<p>Then remove the <code>-Djava.endorsed</code> line</p>\n\n<p><a href=\"https://i.stack.imgur.com/hQRUX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQRUX.png\" alt=\"Remove Djava line\"></a></p>\n"},{"tags":[],"owner":{"account_id":28893017,"reputation":1,"user_id":22129699,"display_name":"Rasika Dindorkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687717793,"creation_date":1687717793,"answer_id":76551877,"question_id":49819110,"body_markdown":"I was facing same issue but I can resolve it by updating eclipse.\r\nclick on helps -&gt; check for updates -&gt; and update the eclipse to latest releases.\r\nafter update restart eclipse and check.","title":"How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?","body":"<p>I was facing same issue but I can resolve it by updating eclipse.\nclick on helps -&gt; check for updates -&gt; and update the eclipse to latest releases.\nafter update restart eclipse and check.</p>\n"}],"owner":{"account_id":4415466,"reputation":346,"user_id":3597222,"display_name":"Marjan100"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21634,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1687717793,"creation_date":1523629120,"question_id":49819110,"body_markdown":"I used tomcat for projects before, but this problem came after installing the WTP, and occurs when I try to run the application on server.\r\n\r\nFirst comes a message, could not create Java Virtual Machine, then in the console occures this one:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    -Djava.endorsed.dirs=C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\endorsed is not supported. Endorsed standards and standalone APIs\r\n    in modular form will be supported via the concept of upgradeable modules.","title":"How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?","body":"<p>I used tomcat for projects before, but this problem came after installing the WTP, and occurs when I try to run the application on server.</p>\n\n<p>First comes a message, could not create Java Virtual Machine, then in the console occures this one:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Djava.endorsed.dirs=C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\endorsed is not supported. Endorsed standards and standalone APIs\nin modular form will be supported via the concept of upgradeable modules.\n</code></pre>\n"},{"tags":["java",".net","ikvm","jco","sap-r3"],"comments":[{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":1,"creation_date":1275902861,"post_id":2988098,"comment_id":3050781,"body_markdown":"As far as I know JCO uses a native library for the connection to sap, on linux this file is called libsapjcorfc.so, probably libsapjcorfc.dll on windows. Perhaps this Library just needs to be reachable via the PATH environment variable?","body":"As far as I know JCO uses a native library for the connection to sap, on linux this file is called libsapjcorfc.so, probably libsapjcorfc.dll on windows. Perhaps this Library just needs to be reachable via the PATH environment variable?"},{"owner":{"account_id":94658,"reputation":4974,"user_id":258320,"accept_rate":64,"display_name":"Kottan"},"score":2,"creation_date":1276765817,"post_id":2988098,"comment_id":3133512,"body_markdown":"Good news: SAP plans to release a new version of the SAP.NET Connector --&gt; http://wiki.sdn.sap.com/wiki/display/ABAPConn/ABAP+Connectivity+Home","body":"Good news: SAP plans to release a new version of the SAP.NET Connector --&gt; <a href=\"http://wiki.sdn.sap.com/wiki/display/ABAPConn/ABAP+Connectivity+Home\" rel=\"nofollow noreferrer\">wiki.sdn.sap.com/wiki/display/ABAPConn/ABAP+Connectivity+Hom&zwnj;&#8203;e</a>"}],"answers":[{"tags":[],"owner":{"account_id":12940,"reputation":10598,"user_id":25737,"accept_rate":100,"display_name":"Igal Serban"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1275902422,"creation_date":1275902422,"answer_id":2988285,"question_id":2988098,"body_markdown":"1) I don&#39;t think this approach is a good idea. The actual connection to sap is done not from java ( or from .net in the old .net connector). But from a c dll named, librfc32.dll. I believe that IKVM support of JNI is not complete.\r\n\r\nIt will maybe work, But, even than, it will be fragile.\r\n\r\n","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p>1) I don't think this approach is a good idea. The actual connection to sap is done not from java ( or from .net in the old .net connector). But from a c dll named, librfc32.dll. I believe that IKVM support of JNI is not complete.</p>\n\n<p>It will maybe work, But, even than, it will be fragile.</p>\n"},{"tags":[],"owner":{"account_id":141568,"reputation":1722,"user_id":348700,"accept_rate":50,"display_name":"uhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276858739,"creation_date":1276858739,"answer_id":3069032,"question_id":2988098,"body_markdown":"I would not recommend this way ! You should use the direct way. For example you can use the SAP RFC SDK.","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p>I would not recommend this way ! You should use the direct way. For example you can use the SAP RFC SDK.</p>\n"},{"tags":[],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285157235,"creation_date":1285157235,"answer_id":3769013,"question_id":2988098,"body_markdown":"I think you shold have a look at Web Services, it will be more easy and more flexible.\r\n\r\nRegards","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p>I think you shold have a look at Web Services, it will be more easy and more flexible.</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":68845,"reputation":11326,"user_id":200653,"accept_rate":86,"display_name":"Darbio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331385432,"creation_date":1331385432,"answer_id":9646754,"question_id":2988098,"body_markdown":"[SAP .Net Connector 3][1] is released. I use it at work every day...\r\n\r\n\r\n  [1]: http://forums.sdn.sap.com/thread.jspa?threadID=1870950","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p><a href=\"http://forums.sdn.sap.com/thread.jspa?threadID=1870950\" rel=\"nofollow\">SAP .Net Connector 3</a> is released. I use it at work every day...</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331461225,"creation_date":1331461225,"answer_id":9654106,"question_id":2988098,"body_markdown":"This sound like a classloader problem of IKVM. Take a look in the [description in the wiki][1].\r\n\r\n\r\n  [1]: http://sourceforge.net/apps/mediawiki/ikvm/index.php?title=ClassLoader","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p>This sound like a classloader problem of IKVM. Take a look in the <a href=\"http://sourceforge.net/apps/mediawiki/ikvm/index.php?title=ClassLoader\" rel=\"nofollow\">description in the wiki</a>.</p>\n"}],"owner":{"account_id":94658,"reputation":4974,"user_id":258320,"accept_rate":64,"display_name":"Kottan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2988285,"answer_count":5,"score":8,"last_activity_date":1687717513,"creation_date":1275900479,"question_id":2988098,"body_markdown":"Because the **SAP Connector for .NET** is no longer maintained by SAP, I am now looking for an alternative to connect the Microsoft world with the SAP world. I know there are third party products like &quot;ERPConnect&quot;, but I want to do this with tools from SAP (by the way I cannot use the **Enterprise Services**, because the target SAP system is **SAP 4.6C**).\r\n\r\nTherefore there has arisen the crazy idea to use the **SAP Java Connector** in combination with the tool IKVM.NET (www.ikvm.net/devguide/net2java.html). **IKVM.NET** provides The **IKVMC** tool, which converts Java bytecode to .NET dll&#39;s and exe&#39;s. &quot;No sooner said than done!&quot; I converted the  SAP JCo to .NET dlls and created a new Visual Studio solution. \r\n\r\nI put all the JCo files into a subdirectory of my solution.\r\nI set 2 references to the generated IKVM.OpenJDK.Core.dll and sapjco.dll. Great, all JCo classes where now available as .NET classes. Full of optimism I wrote some little code to connect to a SAP system.\r\n\r\n*JCO.Client client = null;\r\nclient = JCO.createClient(...)*\r\n\r\nThe compilation of my test code had no errors. &quot;Wonderful !&quot; I thought.\r\nThen I started my test application. Unfortunately I got an exception calling JCO.createClient:\r\n\r\n&gt; *Could not load middleware layer &#39;com.sap.mw.jco.rfc.MiddlewareRFC&#39;\\r\\nno sapjcorfc in java.library.path*\r\n\r\n\r\nI have **2 questions** on this topic.\r\n\r\n1. Do you think my idea using the SAP Java Connector (SAP JCo) to connect .NET with SAP is a good idea or is it nonsense? Perhaps someone had already the same idea ;-)\r\n\r\n2. How can the above exception be solved ?\r\n","title":"Crazy idea: Connect .NET and SAP with SAP JCo using IKVM.NET","body":"<p>Because the <strong>SAP Connector for .NET</strong> is no longer maintained by SAP, I am now looking for an alternative to connect the Microsoft world with the SAP world. I know there are third party products like &quot;ERPConnect&quot;, but I want to do this with tools from SAP (by the way I cannot use the <strong>Enterprise Services</strong>, because the target SAP system is <strong>SAP 4.6C</strong>).</p>\n<p>Therefore there has arisen the crazy idea to use the <strong>SAP Java Connector</strong> in combination with the tool IKVM.NET (<a href=\"http://www.ikvm.net/devguide/net2java.html\" rel=\"nofollow noreferrer\">www.ikvm.net/devguide/net2java.html</a>). <strong>IKVM.NET</strong> provides The <strong>IKVMC</strong> tool, which converts Java bytecode to .NET dll's and exe's. &quot;No sooner said than done!&quot; I converted the  SAP JCo to .NET dlls and created a new Visual Studio solution.</p>\n<p>I put all the JCo files into a subdirectory of my solution.\nI set 2 references to the generated IKVM.OpenJDK.Core.dll and sapjco.dll. Great, all JCo classes where now available as .NET classes. Full of optimism I wrote some little code to connect to a SAP system.</p>\n<p><em>JCO.Client client = null;\nclient = JCO.createClient(...)</em></p>\n<p>The compilation of my test code had no errors. &quot;Wonderful !&quot; I thought.\nThen I started my test application. Unfortunately I got an exception calling JCO.createClient:</p>\n<blockquote>\n<p><em>Could not load middleware layer 'com.sap.mw.jco.rfc.MiddlewareRFC'\\r\\nno sapjcorfc in java.library.path</em></p>\n</blockquote>\n<p>I have <strong>2 questions</strong> on this topic.</p>\n<ol>\n<li><p>Do you think my idea using the SAP Java Connector (SAP JCo) to connect .NET with SAP is a good idea or is it nonsense? Perhaps someone had already the same idea ;-)</p>\n</li>\n<li><p>How can the above exception be solved ?</p>\n</li>\n</ol>\n"},{"tags":["java","string","split","arrays"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":5,"creation_date":1319612214,"post_id":7899525,"comment_id":9644239,"body_markdown":"Looks good... what are the values in the &#39;splited&#39; array?","body":"Looks good... what are the values in the &#39;splited&#39; array?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1539370016,"post_id":7899525,"comment_id":92492240,"body_markdown":"Your code does indeed work as-is. See [code run live at IdeOne.com](https://ideone.com/KSQboC).","body":"Your code does indeed work as-is. See <a href=\"https://ideone.com/KSQboC\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>."},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1578558445,"post_id":7899525,"comment_id":105479500,"body_markdown":"@BasilBourque - I couldn&#39;t find any run button on that link","body":"@BasilBourque - I couldn&#39;t find any run button on that link"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1578559731,"post_id":7899525,"comment_id":105480105,"body_markdown":"@nanosoft The page at IdeOne.com runs automatically upon loading. See output below the code, in *stdout* section. To alter the code, click the `fork` link near top left corner.","body":"@nanosoft The page at IdeOne.com runs automatically upon loading. See output below the code, in <i>stdout</i> section. To alter the code, click the <code>fork</code> link near top left corner."},{"owner":{"account_id":1414758,"reputation":20542,"user_id":1340631,"accept_rate":75,"display_name":"scai"},"score":0,"creation_date":1581606411,"post_id":7899525,"comment_id":106499563,"body_markdown":"Does this answer your question? [How do I split a string with any whitespace chars as delimiters?](https://stackoverflow.com/questions/225337/how-do-i-split-a-string-with-any-whitespace-chars-as-delimiters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/225337/how-do-i-split-a-string-with-any-whitespace-chars-as-delimiters\">How do I split a string with any whitespace chars as delimiters?</a>"}],"answers":[{"tags":[],"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1319612249,"creation_date":1319612249,"answer_id":7899552,"question_id":7899525,"body_markdown":"Try \r\n\r\n    String[] splited = str.split(&quot;\\\\s&quot;);\r\n\r\nhttp://download.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html\r\n","title":"How to split a String by space","body":"<p>Try </p>\n\n<pre><code>String[] splited = str.split(\"\\\\s\");\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html\" rel=\"noreferrer\">http://download.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html</a></p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":819,"is_accepted":true,"score":819,"last_activity_date":1633441158,"creation_date":1319612297,"answer_id":7899558,"question_id":7899525,"body_markdown":"What you have should work. If, however, the spaces provided are defaulting to... something else? You can use the whitespace regex:\r\n\r\n    str = &quot;Hello I&#39;m your String&quot;;\r\n    String[] splited = str.split(&quot;\\\\s+&quot;);\r\n\r\nThis will cause any number of consecutive spaces to split your string into tokens.","title":"How to split a String by space","body":"<p>What you have should work. If, however, the spaces provided are defaulting to... something else? You can use the whitespace regex:</p>\n<pre><code>str = &quot;Hello I'm your String&quot;;\nString[] splited = str.split(&quot;\\\\s+&quot;);\n</code></pre>\n<p>This will cause any number of consecutive spaces to split your string into tokens.</p>\n"},{"tags":[],"owner":{"account_id":998014,"reputation":791,"user_id":1013501,"accept_rate":44,"display_name":"rbrtl"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1523541731,"creation_date":1319612650,"answer_id":7899604,"question_id":7899525,"body_markdown":"I do believe that putting a regular expression in the str.split parentheses should solve the issue. The Java String.split() method is based upon regular expressions so what you need is:\r\n\r\n    str = &quot;Hello I&#39;m your String&quot;;\r\n    String[] splitStr = str.split(&quot;\\\\s+&quot;);","title":"How to split a String by space","body":"<p>I do believe that putting a regular expression in the str.split parentheses should solve the issue. The Java String.split() method is based upon regular expressions so what you need is:</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splitStr = str.split(\"\\\\s+\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1400681663,"creation_date":1396850349,"answer_id":22904619,"question_id":7899525,"body_markdown":"Use `Stringutils.split()` to split the string by whites paces. For example `StringUtils.split(&quot;Hello World&quot;)` returns &quot;Hello&quot; and &quot;World&quot;;\r\n\r\nIn order to solve the mentioned case we use split method like this \r\n\r\n    String split[]= StringUtils.split(&quot;Hello I&#39;m your String&quot;);\r\n\r\nwhen we print the split array the output will be :\r\n\r\nHello\r\n\r\nI&#39;m\r\n\r\nyour\r\n\r\nString\r\n\r\n[For complete example demo check here][1]\r\n\r\n\r\n  [1]: http://java-interview-questions.com/how-to-separate-strings-in-java-by-spaces-with-example","title":"How to split a String by space","body":"<p>Use <code>Stringutils.split()</code> to split the string by whites paces. For example <code>StringUtils.split(\"Hello World\")</code> returns \"Hello\" and \"World\";</p>\n\n<p>In order to solve the mentioned case we use split method like this </p>\n\n<pre><code>String split[]= StringUtils.split(\"Hello I'm your String\");\n</code></pre>\n\n<p>when we print the split array the output will be :</p>\n\n<p>Hello</p>\n\n<p>I'm</p>\n\n<p>your</p>\n\n<p>String</p>\n\n<p><a href=\"http://java-interview-questions.com/how-to-separate-strings-in-java-by-spaces-with-example\">For complete example demo check here</a></p>\n"},{"tags":[],"owner":{"account_id":1283802,"reputation":4468,"user_id":1237287,"accept_rate":52,"display_name":"gjain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403262610,"creation_date":1403262610,"answer_id":24325929,"question_id":7899525,"body_markdown":"An alternative way would be:\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    ...\r\n    \r\n    private static final Pattern SPACE = Pattern.compile(&quot; &quot;);\r\n    String[] arr = SPACE.split(str); // str is the string to be split\r\n\r\nSaw it [here][1]\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/streaming/JavaNetworkWordCount.java","title":"How to split a String by space","body":"<p>An alternative way would be:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\n...\n\nprivate static final Pattern SPACE = Pattern.compile(\" \");\nString[] arr = SPACE.split(str); // str is the string to be split\n</code></pre>\n\n<p>Saw it <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/streaming/JavaNetworkWordCount.java\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1404375688,"creation_date":1404375688,"answer_id":24548525,"question_id":7899525,"body_markdown":"if somehow you don&#39;t wanna use String split method then you can use StringTokenizer class in Java as..\r\n\r\n        StringTokenizer tokens = new StringTokenizer(&quot;Hello I&#39;m your String&quot;, &quot; &quot;);\r\n\t\tString[] splited = new String[tokens.countTokens()];\r\n\t\tint index = 0;\r\n\t\twhile(tokens.hasMoreTokens()){\r\n\t\t\tsplited[index] = tokens.nextToken();\r\n\t\t\t++index;\r\n\t\t}","title":"How to split a String by space","body":"<p>if somehow you don't wanna use String split method then you can use StringTokenizer class in Java as..</p>\n\n<pre><code>    StringTokenizer tokens = new StringTokenizer(\"Hello I'm your String\", \" \");\n    String[] splited = new String[tokens.countTokens()];\n    int index = 0;\n    while(tokens.hasMoreTokens()){\n        splited[index] = tokens.nextToken();\n        ++index;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1592757790,"creation_date":1431534719,"answer_id":30220543,"question_id":7899525,"body_markdown":"While the accepted answer is good, be aware that you will end up with a leading empty string if your input string starts with a white space. For example, with:\r\n\r\n    String str = &quot; Hello I&#39;m your String&quot;;\r\n    String[] splitStr = str.split(&quot;\\\\s+&quot;);\r\n\r\nThe result will be:\r\n\r\n    splitStr[0] == &quot;&quot;;\r\n    splitStr[1] == &quot;Hello&quot;;\r\n    splitStr[2] == &quot;I&#39;m&quot;;\r\n    splitStr[3] == &quot;Your&quot;;\r\n    splitStr[4] == &quot;String&quot;;\r\n\r\nSo you might want to trim your string before splitting it:\r\n\r\n    String str = &quot; Hello I&#39;m your String&quot;;\r\n    String[] splitStr = str.trim().split(&quot;\\\\s+&quot;);\r\n\r\n[edit]\r\n\r\nIn addition to the `trim` caveat, you might want to consider the unicode non-breaking space character (`U+00A0`). This character prints just like a regular space in string, and often lurks in copy-pasted text from rich text editors or web pages. They are not handled by `.trim()` which tests for characters to remove using `c &lt;= &#39; &#39;`; `\\s` will not catch them either. \r\n\r\nInstead, you can use `\\p{Blank}` but you need to enable unicode character support as well which the regular `split` won&#39;t do. For example, this will work: `Pattern.compile(&quot;\\\\p{Blank}&quot;, UNICODE_CHARACTER_CLASS).split(words)` but it won&#39;t do the `trim` part.\r\n\r\nThe following demonstrates the problem and provides a solution. It is *far* from optimal to rely on regex for this, but now that Java has 8bit / 16bit byte representation, an efficient solution for this becomes quite long.\r\n\r\n```\r\npublic class SplitStringTest\r\n{\r\n\tstatic final Pattern TRIM_UNICODE_PATTERN = Pattern.compile(&quot;^\\\\p{Blank}*(.*)\\\\p{Blank}$&quot;, UNICODE_CHARACTER_CLASS);\r\n\tstatic final Pattern SPLIT_SPACE_UNICODE_PATTERN = Pattern.compile(&quot;\\\\p{Blank}&quot;, UNICODE_CHARACTER_CLASS);\r\n\r\n\tpublic static String[] trimSplitUnicodeBySpace(String str)\r\n\t{\r\n\t\tMatcher trimMatcher = TRIM_UNICODE_PATTERN.matcher(str);\r\n\t\tboolean ignore = trimMatcher.matches(); // always true but must be called since it does the actual matching/grouping\r\n\t\treturn SPLIT_SPACE_UNICODE_PATTERN.split(trimMatcher.group(1));\r\n\t}\r\n\r\n\t@Test\r\n\tvoid test()\r\n\t{\r\n\t\tString words = &quot; Hello I&#39;m\\u00A0your String\\u00A0&quot;;\r\n\t\t// non-breaking space here --^ and there -----^\r\n\r\n\t\tString[] split = words.split(&quot; &quot;);\r\n\t\tString[] trimAndSplit = words.trim().split(&quot; &quot;);\r\n\t\tString[] splitUnicode = SPLIT_SPACE_UNICODE_PATTERN.split(words);\r\n\t\tString[] trimAndSplitUnicode = trimSplitUnicodeBySpace(words);\r\n\r\n\t\tSystem.out.println(&quot;words: [&quot; + words + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;split: [&quot; + Arrays.stream(split).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;trimAndSplit: [&quot; + Arrays.stream(trimAndSplit).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;splitUnicode: [&quot; + Arrays.stream(splitUnicode).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\r\n\t\tSystem.out.println(&quot;trimAndSplitUnicode: [&quot; + Arrays.stream(trimAndSplitUnicode).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nResults in:\r\n\r\n```\r\nwords: [ Hello I&#39;m&#160;your String&#160;]\r\nsplit: [][Hello][I&#39;m&#160;your][String&#160;]\r\ntrimAndSplit: [Hello][I&#39;m&#160;your][String&#160;]\r\nsplitUnicode: [][Hello][I&#39;m][your][String]\r\ntrimAndSplitUnicode: [Hello][I&#39;m][your][String]\r\n```\r\n\r\n\r\n\r\n","title":"How to split a String by space","body":"<p>While the accepted answer is good, be aware that you will end up with a leading empty string if your input string starts with a white space. For example, with:</p>\n<pre><code>String str = &quot; Hello I'm your String&quot;;\nString[] splitStr = str.split(&quot;\\\\s+&quot;);\n</code></pre>\n<p>The result will be:</p>\n<pre><code>splitStr[0] == &quot;&quot;;\nsplitStr[1] == &quot;Hello&quot;;\nsplitStr[2] == &quot;I'm&quot;;\nsplitStr[3] == &quot;Your&quot;;\nsplitStr[4] == &quot;String&quot;;\n</code></pre>\n<p>So you might want to trim your string before splitting it:</p>\n<pre><code>String str = &quot; Hello I'm your String&quot;;\nString[] splitStr = str.trim().split(&quot;\\\\s+&quot;);\n</code></pre>\n<p>[edit]</p>\n<p>In addition to the <code>trim</code> caveat, you might want to consider the unicode non-breaking space character (<code>U+00A0</code>). This character prints just like a regular space in string, and often lurks in copy-pasted text from rich text editors or web pages. They are not handled by <code>.trim()</code> which tests for characters to remove using <code>c &lt;= ' '</code>; <code>\\s</code> will not catch them either.</p>\n<p>Instead, you can use <code>\\p{Blank}</code> but you need to enable unicode character support as well which the regular <code>split</code> won't do. For example, this will work: <code>Pattern.compile(&quot;\\\\p{Blank}&quot;, UNICODE_CHARACTER_CLASS).split(words)</code> but it won't do the <code>trim</code> part.</p>\n<p>The following demonstrates the problem and provides a solution. It is <em>far</em> from optimal to rely on regex for this, but now that Java has 8bit / 16bit byte representation, an efficient solution for this becomes quite long.</p>\n<pre><code>public class SplitStringTest\n{\n    static final Pattern TRIM_UNICODE_PATTERN = Pattern.compile(&quot;^\\\\p{Blank}*(.*)\\\\p{Blank}$&quot;, UNICODE_CHARACTER_CLASS);\n    static final Pattern SPLIT_SPACE_UNICODE_PATTERN = Pattern.compile(&quot;\\\\p{Blank}&quot;, UNICODE_CHARACTER_CLASS);\n\n    public static String[] trimSplitUnicodeBySpace(String str)\n    {\n        Matcher trimMatcher = TRIM_UNICODE_PATTERN.matcher(str);\n        boolean ignore = trimMatcher.matches(); // always true but must be called since it does the actual matching/grouping\n        return SPLIT_SPACE_UNICODE_PATTERN.split(trimMatcher.group(1));\n    }\n\n    @Test\n    void test()\n    {\n        String words = &quot; Hello I'm\\u00A0your String\\u00A0&quot;;\n        // non-breaking space here --^ and there -----^\n\n        String[] split = words.split(&quot; &quot;);\n        String[] trimAndSplit = words.trim().split(&quot; &quot;);\n        String[] splitUnicode = SPLIT_SPACE_UNICODE_PATTERN.split(words);\n        String[] trimAndSplitUnicode = trimSplitUnicodeBySpace(words);\n\n        System.out.println(&quot;words: [&quot; + words + &quot;]&quot;);\n        System.out.println(&quot;split: [&quot; + Arrays.stream(split).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\n        System.out.println(&quot;trimAndSplit: [&quot; + Arrays.stream(trimAndSplit).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\n        System.out.println(&quot;splitUnicode: [&quot; + Arrays.stream(splitUnicode).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\n        System.out.println(&quot;trimAndSplitUnicode: [&quot; + Arrays.stream(trimAndSplitUnicode).collect(Collectors.joining(&quot;][&quot;)) + &quot;]&quot;);\n    }\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code>words: [ Hello I'm your String ]\nsplit: [][Hello][I'm your][String ]\ntrimAndSplit: [Hello][I'm your][String ]\nsplitUnicode: [][Hello][I'm][your][String]\ntrimAndSplitUnicode: [Hello][I'm][your][String]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5939669,"reputation":1527,"user_id":4671403,"display_name":"sachin pangare"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440066249,"creation_date":1440066249,"answer_id":32115689,"question_id":7899525,"body_markdown":"Try this one\r\n\r\n        String str = &quot;This is String&quot;;\r\n        String[] splited = str.split(&quot;\\\\s+&quot;);\r\n\r\n        String split_one=splited[0];\r\n        String split_second=splited[1];\r\n        String split_three=splited[2];\r\n        \r\n       Log.d(&quot;Splited String &quot;, &quot;Splited String&quot; + split_one+split_second+split_three);\r\n\r\n","title":"How to split a String by space","body":"<p>Try this one</p>\n\n<pre><code>    String str = \"This is String\";\n    String[] splited = str.split(\"\\\\s+\");\n\n    String split_one=splited[0];\n    String split_second=splited[1];\n    String split_three=splited[2];\n\n   Log.d(\"Splited String \", \"Splited String\" + split_one+split_second+split_three);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8760630,"reputation":465,"user_id":6550682,"display_name":"Jaydeep Dobariya"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1492753580,"creation_date":1492753580,"answer_id":43534792,"question_id":7899525,"body_markdown":"   **Simple to Spit String by Space**\r\n        \r\n        String CurrentString = &quot;First Second Last&quot;;\r\n        String[] separated = CurrentString.split(&quot; &quot;);\r\n    \r\n        for (int i = 0; i &lt; separated.length; i++) {\r\n        \r\n             if (i == 0) {\r\n                 Log.d(&quot;FName ** &quot;, &quot;&quot; + separated[0].trim() + &quot;\\n &quot;);\r\n             } else if (i == 1) {\r\n                 Log.d(&quot;MName ** &quot;, &quot;&quot; + separated[1].trim() + &quot;\\n &quot;);\r\n             } else if (i == 2) {\r\n                 Log.d(&quot;LName ** &quot;, &quot;&quot; + separated[2].trim());\r\n             }\r\n         }","title":"How to split a String by space","body":"<p><strong>Simple to Spit String by Space</strong></p>\n\n<pre><code>    String CurrentString = \"First Second Last\";\n    String[] separated = CurrentString.split(\" \");\n\n    for (int i = 0; i &lt; separated.length; i++) {\n\n         if (i == 0) {\n             Log.d(\"FName ** \", \"\" + separated[0].trim() + \"\\n \");\n         } else if (i == 1) {\n             Log.d(\"MName ** \", \"\" + separated[1].trim() + \"\\n \");\n         } else if (i == 2) {\n             Log.d(\"LName ** \", \"\" + separated[2].trim());\n         }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11879952,"reputation":192,"user_id":8693919,"display_name":"Anuj Kumar Soni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1506926337,"creation_date":1506926337,"answer_id":46520561,"question_id":7899525,"body_markdown":"OK, so we have to do splitting as you already got the answer I would generalize it.\r\n\r\nIf you want to split any string by spaces, delimiter(special chars).\r\n\r\nFirst, remove the leading space as they create most of the issues.\r\n\r\n    str1 = &quot;    Hello I&#39;m your       String    &quot;;\r\n    str2 = &quot;    Are you serious about this question_  boy, aren&#39;t you?   &quot;;\r\n\r\nFirst remove the leading space which can be space, tab etc.\r\n\r\n    String s = str1.replaceAll(&quot;^\\\\s+&quot;,&quot;&quot;);//starting with whitespace one or more\r\n\r\nNow if you want to split by space or any special char.\r\n\r\n    String[] sa = s.split(&quot;[^\\\\w]+&quot;);//split by any non word char\r\nBut as w contains [a-zA-Z_0-9] ,so if you want to split by underscore(_) also use\r\n \r\n     String[] sa = s.split(&quot;[!,? ._&#39;@]+&quot;);//for str2 after removing leading space\r\n\r\n\r\n\r\n\r\n","title":"How to split a String by space","body":"<p>OK, so we have to do splitting as you already got the answer I would generalize it.</p>\n\n<p>If you want to split any string by spaces, delimiter(special chars).</p>\n\n<p>First, remove the leading space as they create most of the issues.</p>\n\n<pre><code>str1 = \"    Hello I'm your       String    \";\nstr2 = \"    Are you serious about this question_  boy, aren't you?   \";\n</code></pre>\n\n<p>First remove the leading space which can be space, tab etc.</p>\n\n<pre><code>String s = str1.replaceAll(\"^\\\\s+\",\"\");//starting with whitespace one or more\n</code></pre>\n\n<p>Now if you want to split by space or any special char.</p>\n\n<pre><code>String[] sa = s.split(\"[^\\\\w]+\");//split by any non word char\n</code></pre>\n\n<p>But as w contains [a-zA-Z_0-9] ,so if you want to split by underscore(_) also use</p>\n\n<pre><code> String[] sa = s.split(\"[!,? ._'@]+\");//for str2 after removing leading space\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4551443,"reputation":1429,"user_id":3696500,"accept_rate":27,"display_name":"Mr T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521190594,"creation_date":1521190594,"answer_id":49316581,"question_id":7899525,"body_markdown":"Here is a method to trim a String that has a &quot;,&quot; or white space\r\n\r\n    private String shorterName(String s){\r\n            String[] sArr = s.split(&quot;\\\\,|\\\\s+&quot;);\r\n            String output = sArr[0];\r\n    \r\n            return output;\r\n        }","title":"How to split a String by space","body":"<p>Here is a method to trim a String that has a \",\" or white space</p>\n\n<pre><code>private String shorterName(String s){\n        String[] sArr = s.split(\"\\\\,|\\\\s+\");\n        String output = sArr[0];\n\n        return output;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649704537,"creation_date":1527765010,"answer_id":50622949,"question_id":7899525,"body_markdown":"You can separate string using the below code:\r\n\r\n       String theString=&quot;Hello world&quot;;\r\n\r\n       String[] parts = theString.split(&quot; &quot;);\r\n\r\n       String first = parts[0];//&quot;hello&quot;\r\n\r\n       String second = parts[1];//&quot;World&quot;","title":"How to split a String by space","body":"<p>You can separate string using the below code:</p>\n<pre><code>   String theString=&quot;Hello world&quot;;\n\n   String[] parts = theString.split(&quot; &quot;);\n\n   String first = parts[0];//&quot;hello&quot;\n\n   String second = parts[1];//&quot;World&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529390557,"creation_date":1529390557,"answer_id":50922102,"question_id":7899525,"body_markdown":"Since it&#39;s been a while since these answers were posted, here&#39;s another more current way to do what&#39;s asked:\r\n\r\n    List&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n    try (Scanner sc = new Scanner(inputString)) {\r\n        while (sc.hasNext()) output.add(sc.next());\r\n    }\r\n\r\nNow you have a list of strings (which is arguably better than an array); if you do need an array, you can do `output.toArray(new String[0]);`","title":"How to split a String by space","body":"<p>Since it's been a while since these answers were posted, here's another more current way to do what's asked:</p>\n\n<pre><code>List&lt;String&gt; output = new ArrayList&lt;&gt;();\ntry (Scanner sc = new Scanner(inputString)) {\n    while (sc.hasNext()) output.add(sc.next());\n}\n</code></pre>\n\n<p>Now you have a list of strings (which is arguably better than an array); if you do need an array, you can do <code>output.toArray(new String[0]);</code></p>\n"},{"tags":[],"owner":{"account_id":11027536,"reputation":31,"user_id":8099926,"display_name":"BaxD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542623370,"creation_date":1542623370,"answer_id":53372633,"question_id":7899525,"body_markdown":"Very Simple Example below:\r\n\r\n\r\n\r\nHope it helps.\r\n\r\n    String str = &quot;Hello I&#39;m your String&quot;;\r\n    String[] splited = str.split(&quot; &quot;);\r\n    var splited = str.split(&quot; &quot;);\r\n    var splited1=splited[0]; //Hello\r\n    var splited2=splited[1]; //I&#39;m\r\n    var splited3=splited[2]; //your\r\n    var splited4=splited[3]; //String\r\n\r\n","title":"How to split a String by space","body":"<p>Very Simple Example below:</p>\n\n<p>Hope it helps.</p>\n\n<pre><code>String str = \"Hello I'm your String\";\nString[] splited = str.split(\" \");\nvar splited = str.split(\" \");\nvar splited1=splited[0]; //Hello\nvar splited2=splited[1]; //I'm\nvar splited3=splited[2]; //your\nvar splited4=splited[3]; //String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582519471,"creation_date":1582519471,"answer_id":60369686,"question_id":7899525,"body_markdown":" Not only white space, but my solution also solves the invisible characters as well.\r\n\r\n    str = &quot;Hello I&#39;m your String&quot;;\r\n    String[] splited = str.split(&quot;\\p{Z}&quot;);","title":"How to split a String by space","body":"<p>Not only white space, but my solution also solves the invisible characters as well.</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splited = str.split(\"\\p{Z}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17400360,"reputation":19,"user_id":12609369,"display_name":"Rodrigo Bueno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633347790,"creation_date":1633347790,"answer_id":69435419,"question_id":7899525,"body_markdown":"Join solutions in one! \r\n\r\n    public String getFirstNameFromFullName(String fullName){\r\n\t\tint indexString = fullName.trim().lastIndexOf(&#39; &#39;);\r\n\t\treturn (indexString != -1)  ? fullName.trim().split(&quot;\\\\s+&quot;)[0].toUpperCase() : fullName.toUpperCase();\r\n\t}","title":"How to split a String by space","body":"<p>Join solutions in one!</p>\n<pre><code>public String getFirstNameFromFullName(String fullName){\n    int indexString = fullName.trim().lastIndexOf(' ');\n    return (indexString != -1)  ? fullName.trim().split(&quot;\\\\s+&quot;)[0].toUpperCase() : fullName.toUpperCase();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129444,"reputation":976,"user_id":328042,"display_name":"Ben Call"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687717439,"creation_date":1634588526,"answer_id":69622138,"question_id":7899525,"body_markdown":"Single quotes for char instead of double\r\n\r\n```python\r\nString[] splited = str.split(&#39; &#39;);\r\n```","title":"How to split a String by space","body":"<p>Single quotes for char instead of double</p>\n<pre class=\"lang-py prettyprint-override\"><code>String[] splited = str.split(' ');\n</code></pre>\n"}],"owner":{"account_id":558773,"reputation":7635,"user_id":909003,"accept_rate":99,"display_name":"safari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167932,"favorite_count":0,"down_vote_count":3,"up_vote_count":446,"accepted_answer_id":7899558,"answer_count":17,"score":443,"last_activity_date":1687717439,"creation_date":1319612071,"question_id":7899525,"body_markdown":"I need to split my String by spaces.\r\nFor this I tried:\r\n\r\n    str = &quot;Hello I&#39;m your String&quot;;\r\n    String[] splited = str.split(&quot; &quot;);\r\n\r\nBut it doesn&#39;t seem to work.\r\n","title":"How to split a String by space","body":"<p>I need to split my String by spaces.\nFor this I tried:</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splited = str.split(\" \");\n</code></pre>\n\n<p>But it doesn't seem to work.</p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1431767212,"post_id":30273794,"comment_id":48646589,"body_markdown":"possible duplicate of [Java: How do I use a PriorityQueue?](http://stackoverflow.com/questions/683041/java-how-do-i-use-a-priorityqueue)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/683041/java-how-do-i-use-a-priorityqueue\">Java: How do I use a PriorityQueue?</a>"},{"owner":{"account_id":4427689,"reputation":79,"user_id":3605702,"accept_rate":100,"display_name":"miro"},"score":0,"creation_date":1431767780,"post_id":30273794,"comment_id":48646763,"body_markdown":"i am not familiar with Comparator what that mean ?   PriorityQueue&lt;String&gt; queue = \n            new PriorityQueue&lt;String&gt;(10, comparator);","body":"i am not familiar with Comparator what that mean ?   PriorityQueue&lt;String&gt; queue =              new PriorityQueue&lt;String&gt;(10, comparator);"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1431768116,"post_id":30273794,"comment_id":48646852,"body_markdown":"I posted it as an answer.","body":"I posted it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1431768088,"creation_date":1431768088,"answer_id":30273930,"question_id":30273794,"body_markdown":"You should create your priority Queue a little bit different by specifying how its elements should be compared. That is done by passing an anonymous `Comparator` for the `Edge` class:\r\n\r\n\r\n    PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;(10, new Comparator&lt;Edge&gt;() {\r\n        public int compare(Edge edge1, Edge edge2) {\r\n            if (edge1.getWeight() &lt; edge2.getWeight()) return -1;\r\n            if (edge1.getWeight() &gt; edge2.getWeight()) return 1;\r\n            return 0;\r\n        }\r\n    });\r\n\r\nMaybe you will have to switch the returns of `-1` and `1` depending on your sorting order.","title":"sort priority queue of objects by specified value","body":"<p>You should create your priority Queue a little bit different by specifying how its elements should be compared. That is done by passing an anonymous <code>Comparator</code> for the <code>Edge</code> class:</p>\n\n<pre><code>PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;(10, new Comparator&lt;Edge&gt;() {\n    public int compare(Edge edge1, Edge edge2) {\n        if (edge1.getWeight() &lt; edge2.getWeight()) return -1;\n        if (edge1.getWeight() &gt; edge2.getWeight()) return 1;\n        return 0;\n    }\n});\n</code></pre>\n\n<p>Maybe you will have to switch the returns of <code>-1</code> and <code>1</code> depending on your sorting order.</p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490291674,"creation_date":1490291674,"answer_id":42983530,"question_id":30273794,"body_markdown":"You can create a priority queue and a Checker (custom) class that compare the edges. like this :\r\n\r\n      class Checker implements Comparator&lt;Edge&gt;\r\n      {\r\n          public int compare(Edge ob1, Edge ob2)\r\n          {\r\n         \t  if (ob1.getWeight() &gt; ob2.getWeight()) return 1;\r\n        \t  else                                   return -1;\r\n          }\r\n      }\r\n\r\n     //Declared priority queue\r\n      PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;(5, new Checker());\r\n\r\n\r\n\r\n","title":"sort priority queue of objects by specified value","body":"<p>You can create a priority queue and a Checker (custom) class that compare the edges. like this :</p>\n\n<pre><code>  class Checker implements Comparator&lt;Edge&gt;\n  {\n      public int compare(Edge ob1, Edge ob2)\n      {\n          if (ob1.getWeight() &gt; ob2.getWeight()) return 1;\n          else                                   return -1;\n      }\n  }\n\n //Declared priority queue\n  PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;(5, new Checker());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5339594,"reputation":3245,"user_id":4257225,"accept_rate":100,"display_name":"Spartan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585064811,"creation_date":1585064811,"answer_id":60834492,"question_id":30273794,"body_markdown":"**Java 8 :**      \r\n\r\n    PriorityQueue&lt;Edge&gt; queue = new PriorityQueue&lt;&gt;((edge1, edge2) -&gt; {\r\n                if (edge1.getWeight() &lt; edge2.getWeight()) {\r\n                    return -1;\r\n                }\r\n                if (edge1.getWeight() &gt; edge2.getWeight()) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n    });","title":"sort priority queue of objects by specified value","body":"<p><strong>Java 8 :</strong>      </p>\n\n<pre><code>PriorityQueue&lt;Edge&gt; queue = new PriorityQueue&lt;&gt;((edge1, edge2) -&gt; {\n            if (edge1.getWeight() &lt; edge2.getWeight()) {\n                return -1;\n            }\n            if (edge1.getWeight() &gt; edge2.getWeight()) {\n                return 1;\n            }\n            return 0;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687717167,"creation_date":1687717167,"answer_id":76551834,"question_id":30273794,"body_markdown":"\r\n# Solution 1:\r\n\r\n## Min Heap:\r\n\r\n`a -&gt; a.getWeight()`\r\n\r\n## Max Heap:\r\n\r\n`a -&gt; -a.getWeight()`\r\n\r\n## Example:\r\n\r\n    PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(a -&gt; a.getWeight()));\r\n    PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(a -&gt; -a.getWeight()));\r\n\r\n\r\n---\r\n# Solution 2:\r\n\r\n## Min Heap:\r\n\r\n`Edge::getWeight`\r\n\r\n## Max Heap:\r\n\r\n`(Edge::getWeight).reversed()`\r\n\r\n## Example:\r\n\r\n    PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(Edge::getWeight));\r\n    PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(Edge::getWeight).reversed());\r\n\r\n\r\n----\r\n# Solution 3:\r\n\r\n## Min Heap:\r\n\r\n`(a, b) -&gt; a.getStart() - b.getStart()`\r\n\r\n`(a, b) -&gt; (int) (a.getWeight() - b.getWeight())`\r\n\r\n## Max Heap:\r\n\r\n`(a, b) -&gt; b.getStart() - a.getStart()`\r\n\r\n`(a, b) -&gt; (int) (b.getWeight() - a.getWeight())`\r\n\r\n## Example:\r\n\r\n\r\n    PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; a.getStart() - b.getStart());\r\n    PriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; (int) (a.getWeight() - b.getWeight()));\r\n    PriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; b.getStart() - a.getStart());\r\n    PriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; (int) (b.getWeight() - a.getWeight()));\r\n\r\n\r\n","title":"sort priority queue of objects by specified value","body":"<h1>Solution 1:</h1>\n<h2>Min Heap:</h2>\n<p><code>a -&gt; a.getWeight()</code></p>\n<h2>Max Heap:</h2>\n<p><code>a -&gt; -a.getWeight()</code></p>\n<h2>Example:</h2>\n<pre><code>PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(a -&gt; a.getWeight()));\nPriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(a -&gt; -a.getWeight()));\n</code></pre>\n<hr />\n<h1>Solution 2:</h1>\n<h2>Min Heap:</h2>\n<p><code>Edge::getWeight</code></p>\n<h2>Max Heap:</h2>\n<p><code>(Edge::getWeight).reversed()</code></p>\n<h2>Example:</h2>\n<pre><code>PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(Edge::getWeight));\nPriorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(Edge::getWeight).reversed());\n</code></pre>\n<hr />\n<h1>Solution 3:</h1>\n<h2>Min Heap:</h2>\n<p><code>(a, b) -&gt; a.getStart() - b.getStart()</code></p>\n<p><code>(a, b) -&gt; (int) (a.getWeight() - b.getWeight())</code></p>\n<h2>Max Heap:</h2>\n<p><code>(a, b) -&gt; b.getStart() - a.getStart()</code></p>\n<p><code>(a, b) -&gt; (int) (b.getWeight() - a.getWeight())</code></p>\n<h2>Example:</h2>\n<pre><code>PriorityQueue&lt;Edge&gt; PriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; a.getStart() - b.getStart());\nPriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; (int) (a.getWeight() - b.getWeight()));\nPriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; b.getStart() - a.getStart());\nPriorityQueue = new PriorityQueue&lt;&gt;((a, b) -&gt; (int) (b.getWeight() - a.getWeight()));\n</code></pre>\n"}],"owner":{"account_id":4427689,"reputation":79,"user_id":3605702,"accept_rate":100,"display_name":"miro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30273930,"answer_count":4,"score":3,"last_activity_date":1687717167,"creation_date":1431767151,"question_id":30273794,"body_markdown":"i want to add objects to priority queue by using specified value \r\nlike this\r\n\r\n    PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;();\r\nthis is class Edge which i want to sort in priority queue by its weight\r\n\r\n    public class Edge {\r\n\tprivate int start,end;\r\n\tprivate double weight;\r\n\t\r\n\tpublic Edge(int s, int e,Double w){\r\n\t\tstart=s;\r\n\t\tend=e;\r\n\t\tweight=w;\r\n\t}\r\n\t\r\n\tpublic int getStart(){\r\n\t\treturn start;\r\n\t}\r\n\t\r\n\tpublic int getEnd(){\r\n\t\treturn end;\r\n\t}\r\n\t\r\n\tpublic double getWeight(){\r\n\t\treturn weight;\r\n\t}\r\n\r\n","title":"sort priority queue of objects by specified value","body":"<p>i want to add objects to priority queue by using specified value \nlike this</p>\n\n<pre><code>PriorityQueue&lt;Edge&gt; queue=new PriorityQueue&lt;Edge&gt;();\n</code></pre>\n\n<p>this is class Edge which i want to sort in priority queue by its weight</p>\n\n<pre><code>public class Edge {\nprivate int start,end;\nprivate double weight;\n\npublic Edge(int s, int e,Double w){\n    start=s;\n    end=e;\n    weight=w;\n}\n\npublic int getStart(){\n    return start;\n}\n\npublic int getEnd(){\n    return end;\n}\n\npublic double getWeight(){\n    return weight;\n}\n</code></pre>\n"},{"tags":["java","kotlin","double"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687714336,"post_id":76551429,"comment_id":134971819,"body_markdown":"Are you sure if need to use Double::fromBits? You may simply use something like `fraction * 10.0.pow(exponent)`","body":"Are you sure if need to use Double::fromBits? You may simply use something like <code>fraction * 10.0.pow(exponent)</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1687716789,"post_id":76551429,"comment_id":134972082,"body_markdown":"What is wrong? Your assumption about how doubles are represented (https://en.wikipedia.org/wiki/Double-precision_floating-point_format): the fraction is not some value between 1 and some large integer, it is a fractional value between 1.0 and (almost) 2 where the 1 before the (decimal) point is not stored. And the exponent is not a decimal exponent, it is a (biased) twos exponent where the exponent value 0 is stored as 1023.","body":"What is wrong? Your assumption about how doubles are represented (<a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double-precision_floating-point_forma&zwnj;&#8203;t</a>): the fraction is not some value between 1 and some large integer, it is a fractional value between 1.0 and (almost) 2 where the 1 before the (decimal) point is not stored. And the exponent is not a decimal exponent, it is a (biased) twos exponent where the exponent value 0 is stored as 1023."},{"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"score":0,"creation_date":1687720498,"post_id":76551429,"comment_id":134972477,"body_markdown":"@yahorbarkouski I guess I will not get the same precision using the formula, so the result will be a little bit different and also, I want it to work as fast as possible, so fraction * 10.0.pow(exponent) is not a solution here","body":"@yahorbarkouski I guess I will not get the same precision using the formula, so the result will be a little bit different and also, I want it to work as fast as possible, so fraction * 10.0.pow(exponent) is not a solution here"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687732997,"post_id":76551429,"comment_id":134973764,"body_markdown":"If you&#39;re running on the JVM, using Math.scalb in combination with casting is your best option.","body":"If you&#39;re running on the JVM, using Math.scalb in combination with casting is your best option."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687716075,"creation_date":1687716075,"answer_id":76551770,"question_id":76551429,"body_markdown":"You&#39;re missing two things.\r\n\r\nFirst, you must add a bias of 1023 to the exponent.  \r\n\r\nSecond, the mantissa is not expressed the way you think of.  If the fraction bits are b1b2b3..., the fraction is 1.b1b2b3... * 2^(exp - 1023) * sign.  You cannot simply put 4343 in and expect it to work.\r\n","title":"Kotlin. How to use Double.fromBits?","body":"<p>You're missing two things.</p>\n<p>First, you must add a bias of 1023 to the exponent.</p>\n<p>Second, the mantissa is not expressed the way you think of.  If the fraction bits are b1b2b3..., the fraction is 1.b1b2b3... * 2^(exp - 1023) * sign.  You cannot simply put 4343 in and expect it to work.</p>\n"}],"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687716075,"creation_date":1687710725,"question_id":76551429,"body_markdown":"I have an exponent and a fraction and I want to convert them into Double.\r\n\r\nHere is how I am trying to do that\r\n\r\n    private const val FRACTION_BITS_COUNT = 52\r\n    private const val EXPONENT_BITS_COUNT = 11\r\n\r\n    private fun createDoubleFromBits(exponent: Long, fraction: Long): Double {\r\n        var bits = exponent shl FRACTION_BITS_COUNT or if (fraction &lt; 0) -fraction else fraction\r\n        val sign = if (fraction &lt; 0) 1L else 0L\r\n        bits = (sign shl (FRACTION_BITS_COUNT + EXPONENT_BITS_COUNT)) or bits\r\n        return Double.fromBits(bits)\r\n    }\r\n\r\n    val result = createDoubleFromBits(\r\n        exponent = -43,\r\n        fraction = 4343\r\n    )\r\n\r\nWhile executing this I am getting `result = -2.554675596206905E294`. However I am expecting to get `4343e-43`. What am I doing wrong?","title":"Kotlin. How to use Double.fromBits?","body":"<p>I have an exponent and a fraction and I want to convert them into Double.</p>\n<p>Here is how I am trying to do that</p>\n<pre><code>private const val FRACTION_BITS_COUNT = 52\nprivate const val EXPONENT_BITS_COUNT = 11\n\nprivate fun createDoubleFromBits(exponent: Long, fraction: Long): Double {\n    var bits = exponent shl FRACTION_BITS_COUNT or if (fraction &lt; 0) -fraction else fraction\n    val sign = if (fraction &lt; 0) 1L else 0L\n    bits = (sign shl (FRACTION_BITS_COUNT + EXPONENT_BITS_COUNT)) or bits\n    return Double.fromBits(bits)\n}\n\nval result = createDoubleFromBits(\n    exponent = -43,\n    fraction = 4343\n)\n</code></pre>\n<p>While executing this I am getting <code>result = -2.554675596206905E294</code>. However I am expecting to get <code>4343e-43</code>. What am I doing wrong?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1474456411,"post_id":39614916,"comment_id":66536589,"body_markdown":"And do you expect us to use our mind reading skills to find out what error message you received or are you going to share it with us?","body":"And do you expect us to use our mind reading skills to find out what error message you received or are you going to share it with us?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1474456452,"post_id":39614916,"comment_id":66536617,"body_markdown":"Your table name is being put in single quotes. Remove the quotes.","body":"Your table name is being put in single quotes. Remove the quotes."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1474456523,"post_id":39614916,"comment_id":66536653,"body_markdown":"Use this: `(SELECT REFNO from &quot; + table.getName() + &quot; where FLAG = &#39;X&#39;)&quot;;`","body":"Use this: <code>(SELECT REFNO from &quot; + table.getName() + &quot; where FLAG = &#39;X&#39;)&quot;;</code>"},{"owner":{"account_id":8284606,"reputation":507,"user_id":6228110,"accept_rate":42,"display_name":"D.Madu"},"score":0,"creation_date":1474457618,"post_id":39614916,"comment_id":66537419,"body_markdown":"now i am getting a error called **&quot;com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;po_sms.ZSLPOSMSTBL&#39; doesn&#39;t exist&quot;**","body":"now i am getting a error called <b>&quot;com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;po_sms.ZSLPOSMSTBL&#39; doesn&#39;t exist&quot;</b>"}],"answers":[{"tags":[],"owner":{"account_id":5243043,"reputation":7620,"user_id":4189582,"accept_rate":88,"display_name":"Ivar Reukers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474456984,"creation_date":1474456984,"answer_id":39615196,"question_id":39614916,"body_markdown":"You&#39;re trying to select from a String value\r\n`&#39;ZSLPOSMSTBL&#39;` instead of your table name `ZSLPOSMSTBL`\r\n\r\nRemove the quotes in your SQL statement and it should work. \r\n\r\n    &quot;update tbl_po_data set status = &#39;X&#39; where reference_no &quot; + &quot; in (SELECT REFNO from &quot;\r\n                    + table.getName() + &quot; where FLAG = &#39;X&#39;);&quot;","title":"SQL syntax error in MySQL server version when getting data from SAP","body":"<p>You're trying to select from a String value\n<code>'ZSLPOSMSTBL'</code> instead of your table name <code>ZSLPOSMSTBL</code></p>\n\n<p>Remove the quotes in your SQL statement and it should work. </p>\n\n<pre><code>\"update tbl_po_data set status = 'X' where reference_no \" + \" in (SELECT REFNO from \"\n                + table.getName() + \" where FLAG = 'X');\"\n</code></pre>\n"}],"owner":{"account_id":8284606,"reputation":507,"user_id":6228110,"accept_rate":42,"display_name":"D.Madu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687715411,"creation_date":1474456245,"question_id":39614916,"body_markdown":"I am getting data from SAP an update a flag in MYSQL DB table according to that response. But my query gave me an SQL syntax error every time (see log below). Connection between JAVA and SAP is ok. I can send data to SAP. It is working. \r\n\r\n - **tbl_po_data** is my MYSQL table.\r\n - **table.getName()** is to get my SAP table name.\r\n - **FLAG** is SAP table flag field.\r\n\r\nThis is my method.\r\n\r\n    private void tableOparator(Table table) throws Exception {\r\n    \r\n    \t\tpooler = DBPool_POSMS.getInstance();\r\n    \t\tdataSource = pooler.getDataSource();\r\n    \t\tConnection con = dataSource.getConnection();\r\n    \t\tcon.setAutoCommit(false);\r\n    \r\n    \t\tqex = new DBTableQueryExcecutre(con);\r\n    \r\n    \t\tfor (int i = 0; i &lt; table.getNumRows(); i++) {\r\n    \t\t\ttable.setRow(i);\r\n    \r\n    \t\t\tString sbQuery2 = &quot;update tbl_po_data set status = &#39;X&#39; where reference_no &quot; + &quot; in (SELECT REFNO from &#39;&quot;\r\n    \t\t\t\t\t+ table.getName() + &quot;&#39; where FLAG = &#39;X&#39;)&quot;;\r\n    \r\n    \t\t\tint rcount = qex.runQuery(sbQuery2);\r\n    \t\t\t\tSystem.out.println(&quot;tbl_po_data Rows --&gt;&quot; + rcount + &quot;Status Updated&quot;);\r\n    \t\t\t\tcon.commit();\r\n \r\n    \t\t}\r\n    \r\n    \t\tqex.closeConnections();\r\n   \r\n    \t}\r\n\r\n\r\nMy LOGCAT\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;ZSLPOSMSTBL&#39; where FLAG = &#39;X&#39;)&#39; at line 1\r\n    \tat sun.reflect.GeneratedConstructorAccessor1.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2809)\r\n    \tat com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1811)\r\n    \tat com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1725)\r\n    \tat org.apache.commons.dbcp.DelegatingStatement.executeUpdate(DelegatingStatement.java:228)\r\n    \tat org.apache.commons.dbcp.DelegatingStatement.executeUpdate(DelegatingStatement.java:228)\r\n    \tat DBTableQueryExcecutre.runQuery(DBTableQueryExcecutre.java:52)\r\n    \tat CreatePO.tableOparator(CreatePO.java:203)\r\n    \tat CreatePO.sendDataToSap(CreatePO.java:170)\r\n    \tat CreatePO.run(CreatePO.java:53)\r\n    \tat java.util.TimerThread.mainLoop(Unknown Source)\r\n    \tat java.util.TimerThread.run(Unknown Source)","title":"SQL syntax error in MySQL server version when getting data from SAP","body":"<p>I am getting data from SAP an update a flag in MYSQL DB table according to that response. But my query gave me an SQL syntax error every time (see log below). Connection between JAVA and SAP is ok. I can send data to SAP. It is working.</p>\n<ul>\n<li><strong>tbl_po_data</strong> is my MYSQL table.</li>\n<li><strong>table.getName()</strong> is to get my SAP table name.</li>\n<li><strong>FLAG</strong> is SAP table flag field.</li>\n</ul>\n<p>This is my method.</p>\n<pre><code>private void tableOparator(Table table) throws Exception {\n\n        pooler = DBPool_POSMS.getInstance();\n        dataSource = pooler.getDataSource();\n        Connection con = dataSource.getConnection();\n        con.setAutoCommit(false);\n\n        qex = new DBTableQueryExcecutre(con);\n\n        for (int i = 0; i &lt; table.getNumRows(); i++) {\n            table.setRow(i);\n\n            String sbQuery2 = &quot;update tbl_po_data set status = 'X' where reference_no &quot; + &quot; in (SELECT REFNO from '&quot;\n                    + table.getName() + &quot;' where FLAG = 'X')&quot;;\n\n            int rcount = qex.runQuery(sbQuery2);\n                System.out.println(&quot;tbl_po_data Rows --&gt;&quot; + rcount + &quot;Status Updated&quot;);\n                con.commit();\n\n        }\n\n        qex.closeConnections();\n\n    }\n</code></pre>\n<p>My LOGCAT</p>\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''ZSLPOSMSTBL' where FLAG = 'X')' at line 1\n    at sun.reflect.GeneratedConstructorAccessor1.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2809)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1811)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1725)\n    at org.apache.commons.dbcp.DelegatingStatement.executeUpdate(DelegatingStatement.java:228)\n    at org.apache.commons.dbcp.DelegatingStatement.executeUpdate(DelegatingStatement.java:228)\n    at DBTableQueryExcecutre.runQuery(DBTableQueryExcecutre.java:52)\n    at CreatePO.tableOparator(CreatePO.java:203)\n    at CreatePO.sendDataToSap(CreatePO.java:170)\n    at CreatePO.run(CreatePO.java:53)\n    at java.util.TimerThread.mainLoop(Unknown Source)\n    at java.util.TimerThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","sap-gui","silktest"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1434978297,"post_id":30979669,"comment_id":49991752,"body_markdown":"Do you need to open the dialog at all or can you simply enter the file name in the selection screen?","body":"Do you need to open the dialog at all or can you simply enter the file name in the selection screen?"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":0,"creation_date":1434978426,"post_id":30979669,"comment_id":49991835,"body_markdown":"@vwegert: In my case I don&#39;t have a text field like the one named &quot;Path of Update file&quot; and highlighted in yellow. I just have a button which opens the file selection dialog.","body":"@vwegert: In my case I don&#39;t have a text field like the one named &quot;Path of Update file&quot; and highlighted in yellow. I just have a button which opens the file selection dialog."}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687715181,"creation_date":1434974975,"question_id":30979669,"body_markdown":"I am using Silk4J 16 Hotfix 2 and I&#39;m trying to automate a test. When pressing a button, a file open dialog appears and I need to specify a file to continue the test.\r\n\r\n[![File Open Dialog in SAP][1]][4]\r\n\r\nUnfortunately it is not possible to record locators for the object map using Locator Spy. I don&#39;t get the green rectangle around the dialog. The mouse cursor shows the hourglass cursor forever and the SAP activity indicator (not sure if that&#39;s the right name) is circulating forever.\r\n\r\nWhen I close the dialog, everything returns to normal: the activity indicator stops, the hourglass turns into an arrow and the green rectangles appear.\r\n\r\nTo reproduce the issue, you can find such a dialog in this place:\r\n\r\n 1. Go to `/nSPRO`\r\n 2. Choose the glasses icon called `SAP Reference IMG`\r\n 3. Go to `Payroll`\r\n 4. Go to `Payroll Germany`\r\n 5. Go to `Social insurance`\r\n 6. Go to `Recurring Adjustments`\r\n 7. Go to `Annual Adjustments`\r\n 8. Select the clock icon with the green checkmark of `Change HI Contribution Rates with Contribution Rate File`\r\n 9. In the following &quot;Choose Activity&quot; dialog, select the line `Import Contribution Rate File`\r\n 10. Click `Choose`\r\n 11. On the next page, click the stacked rectangle image behind `Path of Update File`. \r\n\r\nThis brings up a file selection dialog which has the same problems as mine. Note that in my particular case I don&#39;t have a text field like the one named &quot;Path of Update file&quot; and highlighted in yellow. I just have a button which opens the file selection dialog.\r\n\r\n[![Choose Activity Dialog][2]][5]\r\n\r\n[![Import Contribution File][3]][6]\r\n\r\nI have tried:\r\n\r\n * I manually entered a series of `//Window[x]` locators where I increased the index `x` to see whether it will find the window\r\n * I did the same for `//Dialog[x]`\r\n\r\nWhen I use `Au3Info` of AutoIt, it recognizes the dialog and the file name textbox. I get the following values for the textbox:\r\n\r\n    Class: Edit\r\n    Instance: 1\r\n    Name:\r\n    Advanced Mode: [CLASS:Edit; INSTANCE:1]\r\n\r\nand some not so reliable coordinates. I tried to use this information in combination with a `//TextField` and `//Control` locator.\r\n\r\n  [1]: http://i.stack.imgur.com/82DWym.png\r\n  [4]: http://i.stack.imgur.com/82DWy.png\r\n  [2]: http://i.stack.imgur.com/9EdmCm.png\r\n  [5]: http://i.stack.imgur.com/9EdmC.png\r\n  [3]: http://i.stack.imgur.com/89w08m.png\r\n  [6]: http://i.stack.imgur.com/89w08.png","title":"How to map a SAP FileOpenDialog?","body":"<p>I am using Silk4J 16 Hotfix 2 and I'm trying to automate a test. When pressing a button, a file open dialog appears and I need to specify a file to continue the test.</p>\n\n<p><a href=\"https://i.stack.imgur.com/82DWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/82DWym.png\" alt=\"File Open Dialog in SAP\"></a></p>\n\n<p>Unfortunately it is not possible to record locators for the object map using Locator Spy. I don't get the green rectangle around the dialog. The mouse cursor shows the hourglass cursor forever and the SAP activity indicator (not sure if that's the right name) is circulating forever.</p>\n\n<p>When I close the dialog, everything returns to normal: the activity indicator stops, the hourglass turns into an arrow and the green rectangles appear.</p>\n\n<p>To reproduce the issue, you can find such a dialog in this place:</p>\n\n<ol>\n<li>Go to <code>/nSPRO</code></li>\n<li>Choose the glasses icon called <code>SAP Reference IMG</code></li>\n<li>Go to <code>Payroll</code></li>\n<li>Go to <code>Payroll Germany</code></li>\n<li>Go to <code>Social insurance</code></li>\n<li>Go to <code>Recurring Adjustments</code></li>\n<li>Go to <code>Annual Adjustments</code></li>\n<li>Select the clock icon with the green checkmark of <code>Change HI Contribution Rates with Contribution Rate File</code></li>\n<li>In the following \"Choose Activity\" dialog, select the line <code>Import Contribution Rate File</code></li>\n<li>Click <code>Choose</code></li>\n<li>On the next page, click the stacked rectangle image behind <code>Path of Update File</code>. </li>\n</ol>\n\n<p>This brings up a file selection dialog which has the same problems as mine. Note that in my particular case I don't have a text field like the one named \"Path of Update file\" and highlighted in yellow. I just have a button which opens the file selection dialog.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9EdmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EdmCm.png\" alt=\"Choose Activity Dialog\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/89w08.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89w08m.png\" alt=\"Import Contribution File\"></a></p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>I manually entered a series of <code>//Window[x]</code> locators where I increased the index <code>x</code> to see whether it will find the window</li>\n<li>I did the same for <code>//Dialog[x]</code></li>\n</ul>\n\n<p>When I use <code>Au3Info</code> of AutoIt, it recognizes the dialog and the file name textbox. I get the following values for the textbox:</p>\n\n<pre><code>Class: Edit\nInstance: 1\nName:\nAdvanced Mode: [CLASS:Edit; INSTANCE:1]\n</code></pre>\n\n<p>and some not so reliable coordinates. I tried to use this information in combination with a <code>//TextField</code> and <code>//Control</code> locator.</p>\n"},{"tags":["java","android-studio","path"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687642054,"post_id":76547901,"comment_id":134966034,"body_markdown":"`...\\java.exe` (usually) is a file, not a directory! I would try `C:\\Program Files\\Android\\Android Studio\\jbr` (assuming `jbr` is the directory the JDK is installed in) || Also caution with backslashes - these are for Windows/DOS; Unix/bash uses forward slash as directory separator (better set the variables in Windows, usually they are correctly converted in bash)|| BTW `%JAVA_HOME%` does not work in bash, only DOS/WIndows; use `$JAVA_HOME`","body":"<code>...\\java.exe</code> (usually) is a file, not a directory! I would try <code>C:\\Program Files\\Android\\Android Studio\\jbr</code> (assuming <code>jbr</code> is the directory the JDK is installed in) || Also caution with backslashes - these are for Windows/DOS; Unix/bash uses forward slash as directory separator (better set the variables in Windows, usually they are correctly converted in bash)|| BTW <code>%JAVA_HOME%</code> does not work in bash, only DOS/WIndows; use <code>$JAVA_HOME</code>"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1687645093,"post_id":76547901,"comment_id":134966288,"body_markdown":"YES!  That got be going correctly and I was able to set the path variable and successfully run the `$ ./gradlew signingReport` command.  You solved this @user16320675 so please post your response separately and I will mark this as resolved.  Thank you!","body":"YES!  That got be going correctly and I was able to set the path variable and successfully run the <code>$ .&#47;gradlew signingReport</code> command.  You solved this @user16320675 so please post your response separately and I will mark this as resolved.  Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687715163,"creation_date":1687715163,"answer_id":76551713,"question_id":76547901,"body_markdown":"This is NOT my answer but from @user16320675:\r\n\r\n`...\\java.exe` (usually) is a file, not a directory! I would try `C:\\Program Files\\Android\\Android Studio\\jbr` (assuming jbr is the directory the JDK is installed in) || Also caution with backslashes - these are for Windows/DOS; Unix/bash uses forward slash as directory separator (better set the variables in Windows, usually they are correctly converted in bash)|| BTW `%JAVA_HOME%` does not work in bash, only DOS/WIndows; use `$JAVA_HOME`","title":"Android Studio windows 11 - where is JAVA_HOME?","body":"<p>This is NOT my answer but from @user16320675:</p>\n<p><code>...\\java.exe</code> (usually) is a file, not a directory! I would try <code>C:\\Program Files\\Android\\Android Studio\\jbr</code> (assuming jbr is the directory the JDK is installed in) || Also caution with backslashes - these are for Windows/DOS; Unix/bash uses forward slash as directory separator (better set the variables in Windows, usually they are correctly converted in bash)|| BTW <code>%JAVA_HOME%</code> does not work in bash, only DOS/WIndows; use <code>$JAVA_HOME</code></p>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76551713,"answer_count":1,"score":0,"last_activity_date":1687715163,"creation_date":1687639002,"question_id":76547901,"body_markdown":"Using Android Studio Electric Eel | 2022.1.1 and trying to run this command in Bash termimal:\r\n```\r\n$ ./gradlew signingReport\r\n```\r\nand get this response:\r\n\r\n        ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe\r\n    Please set the JAVA_HOME variable in your environment to match the\r\n        location of your Java installation.  \r\n\r\n                                                                                                                                                                                                                                                                                                                                                                                \r\n\r\nHaving checked similar questions have set the `JAVA_HOME` 3 different ways:\r\n\r\n(1) using `$ nano ~/.bashrc` and setting is as follows:\r\n```\r\nexport JAVA_HOME=&quot;C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe&quot;\r\nexport PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\n```\r\n(2) running this in Bash command prompt:\r\n```\r\n$ export JAVA_HOME=&quot;C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe&quot;\r\n```\r\n(3) Through the Control Panel:\r\n- Navigate to &quot;System and Security&quot; -&gt; &quot;System&quot; -&gt; &quot;Advanced system settings&quot;.\r\n- In the System Properties dialog, go to the &quot;Advanced&quot; tab.\r\n- Click the &quot;Environment Variables&quot; button at the bottom.\r\n- In the &quot;Environment Variables&quot; dialog, under &quot;System variables&quot;, click the &quot;New&quot; button.\r\n- Set the variable name as JAVA_HOME.\r\n- Set the variable value as `C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe`\r\n\r\nStill, when I run `$ echo %JAVA_HOME%` I just get `%JAVA_HOME%`\r\n\r\n\r\nI&#39;ve tried going into Android Studio looking for the path under: `File`-&gt;`Project Structure`-&gt;`SDK Location`-&gt;`Gradle Settings`-&gt;`Gradle JDK` and copying the path `C:\\Program Files\\Android\\Android Studio\\jbr` and substituted this path into the steps above all with the same outcome.\r\n\r\nI have not loaded Java separately as I&#39;ve been running/creating java apps with my version for Android Studio for many months.","title":"Android Studio windows 11 - where is JAVA_HOME?","body":"<p>Using Android Studio Electric Eel | 2022.1.1 and trying to run this command in Bash termimal:</p>\n<pre><code>$ ./gradlew signingReport\n</code></pre>\n<p>and get this response:</p>\n<pre><code>    ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe\nPlease set the JAVA_HOME variable in your environment to match the\n    location of your Java installation.  \n\n                                                                                                                                                                                                                                                                                                                                                                            \n</code></pre>\n<p>Having checked similar questions have set the <code>JAVA_HOME</code> 3 different ways:</p>\n<p>(1) using <code>$ nano ~/.bashrc</code> and setting is as follows:</p>\n<pre><code>export JAVA_HOME=&quot;C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe&quot;\nexport PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\n</code></pre>\n<p>(2) running this in Bash command prompt:</p>\n<pre><code>$ export JAVA_HOME=&quot;C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe&quot;\n</code></pre>\n<p>(3) Through the Control Panel:</p>\n<ul>\n<li>Navigate to &quot;System and Security&quot; -&gt; &quot;System&quot; -&gt; &quot;Advanced system settings&quot;.</li>\n<li>In the System Properties dialog, go to the &quot;Advanced&quot; tab.</li>\n<li>Click the &quot;Environment Variables&quot; button at the bottom.</li>\n<li>In the &quot;Environment Variables&quot; dialog, under &quot;System variables&quot;, click the &quot;New&quot; button.</li>\n<li>Set the variable name as JAVA_HOME.</li>\n<li>Set the variable value as <code>C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe</code></li>\n</ul>\n<p>Still, when I run <code>$ echo %JAVA_HOME%</code> I just get <code>%JAVA_HOME%</code></p>\n<p>I've tried going into Android Studio looking for the path under: <code>File</code>-&gt;<code>Project Structure</code>-&gt;<code>SDK Location</code>-&gt;<code>Gradle Settings</code>-&gt;<code>Gradle JDK</code> and copying the path <code>C:\\Program Files\\Android\\Android Studio\\jbr</code> and substituted this path into the steps above all with the same outcome.</p>\n<p>I have not loaded Java separately as I've been running/creating java apps with my version for Android Studio for many months.</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":1510014,"reputation":352,"user_id":1412379,"accept_rate":75,"display_name":"DKumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662097499,"creation_date":1662096495,"answer_id":73578126,"question_id":73574901,"body_markdown":"I don&#39;t see any log with Level = TRACE in the console output you have shared. They are INFO, WARN etc but no TRACE.\r\n\r\nWorks for me\r\n\r\n    11:14:29,555 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [json] to Logger[jsonLogger]\r\n    11:14:29,555 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n    11:14:29,556 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@2c34f934 - Registering current configuration as safe fallback point\r\n    \r\n    {\r\n      &quot;timestamp&quot; : &quot;2022-09-02 11:14:29.566&quot;,\r\n      &quot;level&quot; : &quot;DEBUG&quot;,\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;logger&quot; : &quot;jsonLogger&quot;,\r\n      &quot;message&quot; : &quot;Debug message&quot;,\r\n      &quot;context&quot; : &quot;default&quot;\r\n    }{\r\n      &quot;timestamp&quot; : &quot;2022-09-02 11:14:29.585&quot;,\r\n      &quot;level&quot; : &quot;TRACE&quot;,\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;logger&quot; : &quot;jsonLogger&quot;,\r\n      &quot;message&quot; : &quot;hello&quot;,\r\n      &quot;context&quot; : &quot;default&quot;\r\n    }","title":"Log should generate in JSON Format in Java","body":"<p>I don't see any log with Level = TRACE in the console output you have shared. They are INFO, WARN etc but no TRACE.</p>\n<p>Works for me</p>\n<pre><code>11:14:29,555 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [json] to Logger[jsonLogger]\n11:14:29,555 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n11:14:29,556 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@2c34f934 - Registering current configuration as safe fallback point\n\n{\n  &quot;timestamp&quot; : &quot;2022-09-02 11:14:29.566&quot;,\n  &quot;level&quot; : &quot;DEBUG&quot;,\n  &quot;thread&quot; : &quot;main&quot;,\n  &quot;logger&quot; : &quot;jsonLogger&quot;,\n  &quot;message&quot; : &quot;Debug message&quot;,\n  &quot;context&quot; : &quot;default&quot;\n}{\n  &quot;timestamp&quot; : &quot;2022-09-02 11:14:29.585&quot;,\n  &quot;level&quot; : &quot;TRACE&quot;,\n  &quot;thread&quot; : &quot;main&quot;,\n  &quot;logger&quot; : &quot;jsonLogger&quot;,\n  &quot;message&quot; : &quot;hello&quot;,\n  &quot;context&quot; : &quot;default&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9881420,"reputation":81,"user_id":7317386,"display_name":"AMIT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663601813,"creation_date":1663601813,"answer_id":73775944,"question_id":73574901,"body_markdown":"I used the following code in logback.xml\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n                &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                    &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n                    &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\r\n    \r\n                    &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                        &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                    &lt;/jsonFormatter&gt;\r\n                &lt;/layout&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"Log should generate in JSON Format in Java","body":"<p>I used the following code in logback.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n                &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n                &lt;/jsonFormatter&gt;\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687713987,"creation_date":1687713987,"answer_id":76551638,"question_id":73574901,"body_markdown":"If you are open to other logging frameworks than just Logback...\r\n\r\nhttps://github.com/elf4j/elf4j-engine\r\n\r\nPut this one line in the *elf4j.properties* configuration file:\r\n\r\n`pattern={json}` (minified one-line per log entry format)\r\n\r\nor\r\n\r\n`pattern={json:pretty}` (indented pretty print format)\r\n\r\n**Disclaimer**: I am the dev of elf4j-engine.","title":"Log should generate in JSON Format in Java","body":"<p>If you are open to other logging frameworks than just Logback...</p>\n<p><a href=\"https://github.com/elf4j/elf4j-engine\" rel=\"nofollow noreferrer\">https://github.com/elf4j/elf4j-engine</a></p>\n<p>Put this one line in the <em>elf4j.properties</em> configuration file:</p>\n<p><code>pattern={json}</code> (minified one-line per log entry format)</p>\n<p>or</p>\n<p><code>pattern={json:pretty}</code> (indented pretty print format)</p>\n<p><strong>Disclaimer</strong>: I am the dev of elf4j-engine.</p>\n"}],"owner":{"account_id":9881420,"reputation":81,"user_id":7317386,"display_name":"AMIT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73775944,"answer_count":3,"score":0,"last_activity_date":1687713987,"creation_date":1662062690,"question_id":73574901,"body_markdown":"My requirement is to generate the logs in JSON format. I used logback.xml in my code and used the following link `https://www.baeldung.com/java-log-json-output` \r\n\r\nlogback.xml look like below:-\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n            &lt;jsonFormatter\r\n                class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n            &lt;/jsonFormatter&gt;\r\n            &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\r\n        &lt;appender-ref ref=&quot;json&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWhen I build the code using clean-install. It show the following message\r\n\r\n    15:02:23,374 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback-test.xml] at [file:/C:/eclipse-workspace-16/EDW-JavaAgent/target/test-classes/logback-test.xml]\r\n    15:02:23,459 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n    15:02:23,460 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n    15:02:23,464 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [json]\r\n    15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - This appender no longer admits a layout as a sub-component, set an encoder instead.\r\n    15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - To ensure compatibility, wrapping your layout in LayoutWrappingEncoder.\r\n    15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - See also http://logback.qos.ch/codes.html#layoutInsteadOfEncoder for details\r\n    15:02:23,592 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [jsonLogger] to TRACE\r\n    15:02:23,592 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [json] to Logger[jsonLogger]\r\n    15:02:23,592 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n    15:02:23,593 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@3e3047e6 - Registering current configuration as safe fallback point\r\n\r\nBut my log is not converted into the JSON format. Need your help to generate the Log in JSON format. \r\n\r\nThank you\r\n\r\nRegards\r\nAmit!","title":"Log should generate in JSON Format in Java","body":"<p>My requirement is to generate the logs in JSON format. I used logback.xml in my code and used the following link <code>https://www.baeldung.com/java-log-json-output</code></p>\n<p>logback.xml look like below:-</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;jsonFormatter\n            class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n        &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;jsonLogger&quot; level=&quot;TRACE&quot;&gt;\n    &lt;appender-ref ref=&quot;json&quot; /&gt;\n&lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>When I build the code using clean-install. It show the following message</p>\n<pre><code>15:02:23,374 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback-test.xml] at [file:/C:/eclipse-workspace-16/EDW-JavaAgent/target/test-classes/logback-test.xml]\n15:02:23,459 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\n15:02:23,460 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\n15:02:23,464 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [json]\n15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - This appender no longer admits a layout as a sub-component, set an encoder instead.\n15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - To ensure compatibility, wrapping your layout in LayoutWrappingEncoder.\n15:02:23,591 |-WARN in ch.qos.logback.core.ConsoleAppender[json] - See also http://logback.qos.ch/codes.html#layoutInsteadOfEncoder for details\n15:02:23,592 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [jsonLogger] to TRACE\n15:02:23,592 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [json] to Logger[jsonLogger]\n15:02:23,592 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n15:02:23,593 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@3e3047e6 - Registering current configuration as safe fallback point\n</code></pre>\n<p>But my log is not converted into the JSON format. Need your help to generate the Log in JSON format.</p>\n<p>Thank you</p>\n<p>Regards\nAmit!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9645,"page":347,"page_size":100}
