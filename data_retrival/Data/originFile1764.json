{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":9126236,"reputation":6268,"user_id":6789816,"display_name":"Connor Low"},"score":0,"creation_date":1639420886,"post_id":70339153,"comment_id":124339384,"body_markdown":"Can you share the graph described by the debugger (or a relevant bit showing where it isn&#39;t meeting your requirements)?","body":"Can you share the graph described by the debugger (or a relevant bit showing where it isn&#39;t meeting your requirements)?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1639420999,"post_id":70339153,"comment_id":124339409,"body_markdown":"What is `DirectedGraph` ?","body":"What is <code>DirectedGraph</code> ?"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1639421229,"post_id":70339153,"comment_id":124339480,"body_markdown":"Without seeing `DirectedGraph` it&#39;s hard to say, but you&#39;re performing a copy instead of holding pointers. That might have something to do with it.","body":"Without seeing <code>DirectedGraph</code> it&#39;s hard to say, but you&#39;re performing a copy instead of holding pointers. That might have something to do with it."},{"owner":{"account_id":22586723,"reputation":43,"user_id":16770553,"display_name":"MS_Warrior"},"score":0,"creation_date":1639422070,"post_id":70339153,"comment_id":124339719,"body_markdown":"I added the DirectedGraph","body":"I added the DirectedGraph"},{"owner":{"account_id":20414037,"reputation":455,"user_id":14976735,"display_name":"Marte Valerio Falcone"},"score":0,"creation_date":1639422721,"post_id":70339153,"comment_id":124339937,"body_markdown":"OT: if they are stupid problems or tricky ones they still remains problems, and problems have to be resolved. Don&#39;t be afraid of asking or understimate the problems you face. You&#39;re on the way of becoming a good problem solver if you want to learn.","body":"OT: if they are stupid problems or tricky ones they still remains problems, and problems have to be resolved. Don&#39;t be afraid of asking or understimate the problems you face. You&#39;re on the way of becoming a good problem solver if you want to learn."},{"owner":{"account_id":22586723,"reputation":43,"user_id":16770553,"display_name":"MS_Warrior"},"score":0,"creation_date":1639427719,"post_id":70339153,"comment_id":124341434,"body_markdown":"You’re not wrong Marte, but I’ve been hurt before…","body":"You’re not wrong Marte, but I’ve been hurt before…"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1639430877,"post_id":70339153,"comment_id":124342378,"body_markdown":"In `addVertex()`, this line `if (curr.data.equals(node)) {` should probably be `if (curr.data.equals(node.data)) {` so that you are comparing the DATA from both nodes. As written, you&#39;re comparing data to node, apples to oranges. But the method seems suspect as you&#39;re only searching the &quot;root&quot; nodes and never look at the nodes within the current code to see if the node you&#39;re looking for might be in there. It would help if we could see the input(s) and the expected output(s)/graph as well...","body":"In <code>addVertex()</code>, this line <code>if (curr.data.equals(node)) {</code> should probably be <code>if (curr.data.equals(node.data)) {</code> so that you are comparing the DATA from both nodes. As written, you&#39;re comparing data to node, apples to oranges. But the method seems suspect as you&#39;re only searching the &quot;root&quot; nodes and never look at the nodes within the current code to see if the node you&#39;re looking for might be in there. It would help if we could see the input(s) and the expected output(s)/graph as well..."}],"owner":{"account_id":22586723,"reputation":43,"user_id":16770553,"display_name":"MS_Warrior"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639422039,"creation_date":1639419172,"question_id":70339153,"body_markdown":"I feel like an idiot because I&#39;m sure this is something simple, but I&#39;m still in school and still learning, so I&#39;m sure I&#39;ll deserve the razzing I&#39;ll get for asking... I&#39;m working on a project to create a directed unweighted graph. The graph needs to be formed in adjacency list representation which I&#39;ve done; however, I&#39;ve hit a snag. The code for adding a vertex (`Node`), edge, and creating the list itself is below:\r\n\r\n```\r\npublic class Node&lt;T&gt; {\r\n    T data;\r\n    protected boolean marked = false;\r\n    protected boolean cycle = false;\r\n    protected ArrayList&lt;Node&lt;T&gt;&gt; edges = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n        \r\n    Node(T data){\r\n        this.data = data;\r\n    }\r\n    \r\n    public void addEdges(Node&lt;T&gt; edgy) {\r\n        edges.add(edgy);\r\n    }\r\n    \r\n    public String toString() {\r\n        return (String) data;\r\n    }\r\n    \r\n}\r\n\r\n\r\nDirectedGraph&lt;String&gt; graph = new DirectedGraph&lt;String&gt;();\r\n\r\nfor(String currLine: fileLines) {\r\n    //TODO create nodes\r\n    String[] classes = currLine.split(&quot; &quot;);\r\n    Node&lt;String&gt; headliner = null;\r\n    for(String currClass : classes) {\r\n        Node&lt;String&gt; currNode = new Node&lt;String&gt;(currClass);\t\t\t\t\t\r\n        if (headliner == null) {\r\n            graph.addVertex(currNode);\r\n            headliner = currNode;\r\n        }\r\n        else {\r\n            graph.addEdge(headliner, currNode);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe graph shows up in debugger fine, except that the internal nodes (The ArrayList of nodes in the Nodes class) don&#39;t have any pointers to the other vertices of the same name, so the graph doesn&#39;t connect there. I&#39;m at a loss and didn&#39;t know where else to ask...\r\n\r\nEdit: Since many were asking for the DirectedGraph class\r\n\r\n    public class DirectedGraph&lt;T&gt;{\r\n    \tHeirarchy&lt;T&gt; heir = new Heirarchy&lt;T&gt;();\r\n    \tArrayList&lt;Node&lt;T&gt;&gt; nodes = new ArrayList&lt;&gt;();\r\n    \tNode&lt;T&gt; root;\r\n    \tNode&lt;T&gt; parent;\r\n    \t\r\n    \tpublic DirectedGraph() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void addVertex(Node&lt;T&gt; node) {\r\n    \t\tfor (Node&lt;T&gt; curr : nodes) {\r\n    \t\t\tif (curr.data.equals(node)) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tnodes.add(node);\r\n    \t}\r\n    \t\r\n    \tpublic void addEdge(Node&lt;T&gt; source, Node&lt;T&gt; dest) {\r\n    \t\tsource.addEdges(dest);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void performAction(DFSActionsInterface&lt;T&gt; action) {\r\n    \t\tif (!nodes.isEmpty()) {\r\n    \t\t\tperformAction(action, nodes.get(0));\r\n    \t\t}\r\n    \t}\r\n    //\t depth_first_search(vertex s)\r\n    \t\r\n    \tpublic void DFS() {\r\n    \t\tsetFalse();\r\n    \t\troot = nodes.get(0);\r\n    \t\twhile(!nodes.isEmpty()) {\r\n    \t\t\tfor (Node&lt;T&gt; curr : nodes) {\r\n    \t\t\t\tif (!curr.marked) {\r\n    \t\t\t\t\tDFS(curr);\r\n    \t\t\t\t\tvisited(curr);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\their.processVertex(root);\r\n    \t}\r\n    \tpublic void DFS(Node&lt;T&gt; node) {\r\n    \t\twhile(!node.edges.isEmpty()) {\r\n    \t\t\tfor (Node&lt;T&gt; vertex: node.edges) {\r\n    \t\t\t\tif(!vertex.marked) {\r\n    \t\t\t\t\tfor(Node&lt;T&gt; source: nodes) {\r\n    \t\t\t\t\t\tif (source.edges.contains(vertex) || vertex.edges.contains(source)) {\r\n    \t\t\t\t\t\t\tvertex.cycle = true;\r\n    \t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tvertex.marked = true;\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t} return;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void performAction(DFSActionsInterface&lt;T&gt; action, Node&lt;T&gt; curr) {\r\n    // \t\t it should first initialize all the vertices to the undiscovered state\r\n    \t\tsetFalse();\r\n    \t\tif(nodes.contains(curr.data)) {\r\n    //\t\t if s is discovered\r\n    //\t\t perform cycle detected action\r\n    \t\t\taction.cycleDetected(curr);\r\n    //\t\t return\r\n    \t\t\treturn;\r\n    \t\t}\r\n    //\t\t perform add vertex action\r\n    //\t\t mark s as discovered\r\n    \t\tvisited(curr);\r\n    //\t\t perform descend action\r\n    \t\taction.descend(curr);\r\n    //\t\t for all adjacent vertices v\r\n    //\t\t depth_first_search(v)\r\n    \t\tperformAction(action, curr.edges.get(0));\r\n    //\t\t perform ascend action\r\n    \t\taction.ascend(curr);\r\n    //\t\t mark s as finished\r\n    \t\t\t\r\n    \t}\r\n    \tpublic void setFalse() {\r\n    \t\tfor (Node&lt;T&gt; node : nodes) {\r\n    \t\t\tnode.marked = false;\r\n    \t\t\tfor(Node&lt;T&gt; edge : node.edges) {\r\n    \t\t\t\tedge.marked = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic void visited(Node&lt;T&gt; node) {\r\n    \t\tnode.marked = true;\r\n    \t}\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RFwdu.jpg","title":"Directed graph won&#39;t connect to other nodes","body":"<p>I feel like an idiot because I'm sure this is something simple, but I'm still in school and still learning, so I'm sure I'll deserve the razzing I'll get for asking... I'm working on a project to create a directed unweighted graph. The graph needs to be formed in adjacency list representation which I've done; however, I've hit a snag. The code for adding a vertex (<code>Node</code>), edge, and creating the list itself is below:</p>\n<pre><code>public class Node&lt;T&gt; {\n    T data;\n    protected boolean marked = false;\n    protected boolean cycle = false;\n    protected ArrayList&lt;Node&lt;T&gt;&gt; edges = new ArrayList&lt;Node&lt;T&gt;&gt;();\n        \n    Node(T data){\n        this.data = data;\n    }\n    \n    public void addEdges(Node&lt;T&gt; edgy) {\n        edges.add(edgy);\n    }\n    \n    public String toString() {\n        return (String) data;\n    }\n    \n}\n\n\nDirectedGraph&lt;String&gt; graph = new DirectedGraph&lt;String&gt;();\n\nfor(String currLine: fileLines) {\n    //TODO create nodes\n    String[] classes = currLine.split(&quot; &quot;);\n    Node&lt;String&gt; headliner = null;\n    for(String currClass : classes) {\n        Node&lt;String&gt; currNode = new Node&lt;String&gt;(currClass);                    \n        if (headliner == null) {\n            graph.addVertex(currNode);\n            headliner = currNode;\n        }\n        else {\n            graph.addEdge(headliner, currNode);\n        }\n    }\n}\n</code></pre>\n<p>The graph shows up in debugger fine, except that the internal nodes (The ArrayList of nodes in the Nodes class) don't have any pointers to the other vertices of the same name, so the graph doesn't connect there. I'm at a loss and didn't know where else to ask...</p>\n<p>Edit: Since many were asking for the DirectedGraph class</p>\n<pre><code>public class DirectedGraph&lt;T&gt;{\n    Heirarchy&lt;T&gt; heir = new Heirarchy&lt;T&gt;();\n    ArrayList&lt;Node&lt;T&gt;&gt; nodes = new ArrayList&lt;&gt;();\n    Node&lt;T&gt; root;\n    Node&lt;T&gt; parent;\n    \n    public DirectedGraph() {\n        \n    }\n    \n    public void addVertex(Node&lt;T&gt; node) {\n        for (Node&lt;T&gt; curr : nodes) {\n            if (curr.data.equals(node)) {\n                return;\n            }\n        }\n        nodes.add(node);\n    }\n    \n    public void addEdge(Node&lt;T&gt; source, Node&lt;T&gt; dest) {\n        source.addEdges(dest);\n    }\n    \n    \n    public void performAction(DFSActionsInterface&lt;T&gt; action) {\n        if (!nodes.isEmpty()) {\n            performAction(action, nodes.get(0));\n        }\n    }\n//   depth_first_search(vertex s)\n    \n    public void DFS() {\n        setFalse();\n        root = nodes.get(0);\n        while(!nodes.isEmpty()) {\n            for (Node&lt;T&gt; curr : nodes) {\n                if (!curr.marked) {\n                    DFS(curr);\n                    visited(curr);\n                }\n            }\n        }\n        heir.processVertex(root);\n    }\n    public void DFS(Node&lt;T&gt; node) {\n        while(!node.edges.isEmpty()) {\n            for (Node&lt;T&gt; vertex: node.edges) {\n                if(!vertex.marked) {\n                    for(Node&lt;T&gt; source: nodes) {\n                        if (source.edges.contains(vertex) || vertex.edges.contains(source)) {\n                            vertex.cycle = true;\n                            return;\n                        }\n                        vertex.marked = true;\n\n                    }\n                } return;\n            }\n        }\n    }\n\n    \n    public void performAction(DFSActionsInterface&lt;T&gt; action, Node&lt;T&gt; curr) {\n//       it should first initialize all the vertices to the undiscovered state\n        setFalse();\n        if(nodes.contains(curr.data)) {\n//       if s is discovered\n//       perform cycle detected action\n            action.cycleDetected(curr);\n//       return\n            return;\n        }\n//       perform add vertex action\n//       mark s as discovered\n        visited(curr);\n//       perform descend action\n        action.descend(curr);\n//       for all adjacent vertices v\n//       depth_first_search(v)\n        performAction(action, curr.edges.get(0));\n//       perform ascend action\n        action.ascend(curr);\n//       mark s as finished\n            \n    }\n    public void setFalse() {\n        for (Node&lt;T&gt; node : nodes) {\n            node.marked = false;\n            for(Node&lt;T&gt; edge : node.edges) {\n                edge.marked = false;\n            }\n        }\n    }\n    public void visited(Node&lt;T&gt; node) {\n        node.marked = true;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RFwdu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RFwdu.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","google-chrome","automation","driver"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":1,"creation_date":1639421727,"post_id":70339559,"comment_id":124339607,"body_markdown":"was there an error (`false` would be lowercase java)","body":"was there an error (<code>false</code> would be lowercase java)"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639421824,"creation_date":1639421824,"answer_id":70339610,"question_id":70339559,"body_markdown":"In Java it will be\r\n```java\r\nChromeOptions options = new ChromeOptions();\r\n\r\noptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\noptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\n\r\n```","title":"Selenium Java Chrome remove flag","body":"<p>In Java it will be</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChromeOptions options = new ChromeOptions();\n\noptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\noptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n\nWebDriver driver = new ChromeDriver(options);\n\n</code></pre>\n"}],"owner":{"account_id":19379111,"reputation":232,"user_id":14170782,"display_name":"Muddyblack k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70339610,"answer_count":1,"score":1,"last_activity_date":1639422022,"creation_date":1639421522,"question_id":70339559,"body_markdown":"I want to hide that I use a Webdriver. I know the needed Code for Python:\r\n\r\n    option.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;])\r\n    option.add_experimental_option(&#39;useAutomationExtension&#39;, False)\r\n    \r\n\r\nbut I want it for Java. I tried this but I get errors:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, path);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&#39;excludeSwitches&#39;, [&#39;enable-automation&#39;]);\r\n    options.setExperimentalOption(&#39;useAutomationExtension&#39;, False);\r\n\r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;&quot;);\r\n\r\nI hope you can help me out.\r\n\r\nBest Regards\r\n\r\nChristian","title":"Selenium Java Chrome remove flag","body":"<p>I want to hide that I use a Webdriver. I know the needed Code for Python:</p>\n<pre><code>option.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;])\noption.add_experimental_option('useAutomationExtension', False)\n</code></pre>\n<p>but I want it for Java. I tried this but I get errors:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, path);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption('excludeSwitches', ['enable-automation']);\noptions.setExperimentalOption('useAutomationExtension', False);\n\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().maximize();\ndriver.get(&quot;&quot;);\n</code></pre>\n<p>I hope you can help me out.</p>\n<p>Best Regards</p>\n<p>Christian</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1639431718,"post_id":70339490,"comment_id":124342612,"body_markdown":"What database are you using? Just checked on postgres:14, spring boot 2.4.0 and everything works just fine. Could you create [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"What database are you using? Just checked on postgres:14, spring boot 2.4.0 and everything works just fine. Could you create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1640362154,"post_id":70339490,"comment_id":124578050,"body_markdown":"I think, the problem is the native query as it will bypass the current session and retrieve from DB which will not give the data back (as it is not persisted yet), May I know why are you using native query? I think you may use the JPQL instead.","body":"I think, the problem is the native query as it will bypass the current session and retrieve from DB which will not give the data back (as it is not persisted yet), May I know why are you using native query? I think you may use the JPQL instead."}],"owner":{"account_id":12690831,"reputation":73,"user_id":9220998,"display_name":"strelchm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639421537,"creation_date":1639421092,"question_id":70339490,"body_markdown":"   I have method &quot;process&quot;, that gets the list of data from some generator . Every data has it&#39;s own state (field stringValue) and some function id. The list can contains the data with common function id. The method &quot;process&quot; is called from other class, so the transaction is opened directly:\r\n\r\n    @Transactional\r\n    private void process(List&lt;Data&gt; data) {\r\n        for (Data data : data) {\r\n            saveAndGenerateEvent(data);\r\n        }\r\n    }\r\n\r\nAfter getting list of unprocessed data, there is the iterationg through it. In every step the event is generated and then data is saved.  \r\n\r\n\r\n\r\n    private void saveAndGenerateEvent(Data data) {\r\n        DataState newState = DataState.getByName(data.getStringValue()).orElse(null);\r\n        DataState lastState = dataRepository.getLastData(data.getFunctionId(), Attribute.STATE.getId()).map(Data::getStringValue)\r\n                .flatMap(DataState::getByName).orElse(null);\r\n        if (newState != lastState) {\r\n            // ... generate Event\r\n        }\r\n        dataRepository.save(data);\r\n    }\r\n\r\nAnd the repository: \r\n\r\n    @Repository\r\n    public interface DataRepository extends CrudRepository&lt;Data, Long&gt; {\r\n            @Query(value = &quot;SELECT d.* FROM data d WHERE d.function_id = ?1 AND d.attribute_id = ?2 AND NOT d.deleted &quot; +\r\n                   &quot;ORDER BY d.id DESC LIMIT 1&quot;, nativeQuery = true)\r\n            Optional&lt;Data&gt; findLast(Long functionId, Integer attributeId);\r\n        }\r\nThe problem - if there is several data for one function, the saving data at the end of the saveAndGenerateEvent is not visible in the second iteration of saveAndGenerateEvent in dataRepository.getLastData - it returns the last data for function that was before process-method. And the new created data is not visible. I try to use not native query - JPQL and Data JPA sequence, but result is same. I try to use saveAndFlush method of JpaRepository instead of save-method of CrudRepository, but the result is the same. What is the cause of this &quot;lost update&quot; after first iterations and how I can get an actual last data value in any iteration?\r\n\r\n","title":"Spring data jpa/hibernate: updates after save() method are not visible in @Query-result set","body":"<p>I have method &quot;process&quot;, that gets the list of data from some generator . Every data has it's own state (field stringValue) and some function id. The list can contains the data with common function id. The method &quot;process&quot; is called from other class, so the transaction is opened directly:</p>\n<pre><code>@Transactional\nprivate void process(List&lt;Data&gt; data) {\n    for (Data data : data) {\n        saveAndGenerateEvent(data);\n    }\n}\n</code></pre>\n<p>After getting list of unprocessed data, there is the iterationg through it. In every step the event is generated and then data is saved.</p>\n<pre><code>private void saveAndGenerateEvent(Data data) {\n    DataState newState = DataState.getByName(data.getStringValue()).orElse(null);\n    DataState lastState = dataRepository.getLastData(data.getFunctionId(), Attribute.STATE.getId()).map(Data::getStringValue)\n            .flatMap(DataState::getByName).orElse(null);\n    if (newState != lastState) {\n        // ... generate Event\n    }\n    dataRepository.save(data);\n}\n</code></pre>\n<p>And the repository:</p>\n<pre><code>@Repository\npublic interface DataRepository extends CrudRepository&lt;Data, Long&gt; {\n        @Query(value = &quot;SELECT d.* FROM data d WHERE d.function_id = ?1 AND d.attribute_id = ?2 AND NOT d.deleted &quot; +\n               &quot;ORDER BY d.id DESC LIMIT 1&quot;, nativeQuery = true)\n        Optional&lt;Data&gt; findLast(Long functionId, Integer attributeId);\n    }\n</code></pre>\n<p>The problem - if there is several data for one function, the saving data at the end of the saveAndGenerateEvent is not visible in the second iteration of saveAndGenerateEvent in dataRepository.getLastData - it returns the last data for function that was before process-method. And the new created data is not visible. I try to use not native query - JPQL and Data JPA sequence, but result is same. I try to use saveAndFlush method of JpaRepository instead of save-method of CrudRepository, but the result is the same. What is the cause of this &quot;lost update&quot; after first iterations and how I can get an actual last data value in any iteration?</p>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639420543,"creation_date":1639420543,"answer_id":70339401,"question_id":70227270,"body_markdown":"**TL; DR**: either remove `setFontSize` in\r\n```\r\np\r\n                    .setFont(font)\r\n                    .setFontSize(12)\r\n                    //.setKeepWithNext(true)\r\n                    .setDestination(name)\r\n```\r\n\r\n**or** change `setFontSize(10)` -&gt; `setFontSize(12)` in\r\n```\r\ndocument.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\r\n```\r\n\r\n**Explanation**: You are setting the `Document` to not immediately flush elements added to that document with the following line:\r\n\r\n```\r\nDocument document = new Document(pdf, PageSize.A4,false);\r\n```\r\n\r\nThen you add an paragraph element with font size equal to 10 to the document with the following line:\r\n\r\n```\r\ndocument.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\r\n```\r\n\r\nWhat happens is that the element is being laid out (split in lines etc), but now drawn on the page. Then you do `.setFontSize(12)` and this new font size is applied for `draw` only, so iText calculated that X characters would fit into one line assuming the font size is 10 while in reality the font size is 12 and obviously fewer characters can fit into one line.\r\n\r\nThere is no sense in setting the font size two times to different values - just pick one value you want to see in the resultant document and set it once.","title":"itext 7 pdf how to prevent text overflow on right side of the page","body":"<p><strong>TL; DR</strong>: either remove <code>setFontSize</code> in</p>\n<pre><code>p\n                    .setFont(font)\n                    .setFontSize(12)\n                    //.setKeepWithNext(true)\n                    .setDestination(name)\n</code></pre>\n<p><strong>or</strong> change <code>setFontSize(10)</code> -&gt; <code>setFontSize(12)</code> in</p>\n<pre><code>document.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\n</code></pre>\n<p><strong>Explanation</strong>: You are setting the <code>Document</code> to not immediately flush elements added to that document with the following line:</p>\n<pre><code>Document document = new Document(pdf, PageSize.A4,false);\n</code></pre>\n<p>Then you add an paragraph element with font size equal to 10 to the document with the following line:</p>\n<pre><code>document.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\n</code></pre>\n<p>What happens is that the element is being laid out (split in lines etc), but now drawn on the page. Then you do <code>.setFontSize(12)</code> and this new font size is applied for <code>draw</code> only, so iText calculated that X characters would fit into one line assuming the font size is 10 while in reality the font size is 12 and obviously fewer characters can fit into one line.</p>\n<p>There is no sense in setting the font size two times to different values - just pick one value you want to see in the resultant document and set it once.</p>\n"}],"owner":{"account_id":446955,"reputation":125,"user_id":840303,"accept_rate":100,"display_name":"iteyran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70339401,"answer_count":1,"score":0,"last_activity_date":1639420543,"creation_date":1638633933,"question_id":70227270,"body_markdown":"I am using itextpdf 7 (7.2.0) to create a pdf file. However even though the TOC part is rendered very well, in the content part the text overflows. Here is my code that generates the pdf: \r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        PdfWriter writer = new PdfWriter(&quot;fiftyfourthPdf.pdf&quot;);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        Document document = new Document(pdf, PageSize.A4,false);\r\n        //document.setMargins(30,10,36,10);\r\n\r\n// Create a PdfFont\r\n        PdfFont font = PdfFontFactory.createFont(StandardFonts.TIMES_ROMAN,&quot;Cp1254&quot;);\r\n\r\n        document\r\n                .setTextAlignment(TextAlignment.JUSTIFIED)\r\n                .setFont(font)\r\n                .setFontSize(11);\r\n        PdfOutline outline = null;\r\n        java.util.List&lt;AbstractMap.SimpleEntry&lt;String, AbstractMap.SimpleEntry&lt;String, Integer&gt;&gt;&gt; toc = new ArrayList&lt;&gt;();\r\n        for(int i=0;i&lt;5000;i++){\r\n            String line = &quot;This is paragraph &quot; + String.valueOf(i+1)+ &quot; &quot;;\r\n            line = line.concat(line).concat(line).concat(line).concat(line).concat(line);\r\n            Paragraph p = new Paragraph(line);\r\n            p.setKeepTogether(true);\r\n            document.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\r\n\r\n            //PROCESS FOR TOC\r\n            String name = &quot;para &quot; + String.valueOf(i+1);\r\n            outline = createOutline(outline,pdf,line ,name );\r\n            AbstractMap.SimpleEntry&lt;String, Integer&gt; titlePage = new AbstractMap.SimpleEntry(line, pdf.getNumberOfPages());\r\n            p\r\n                    .setFont(font)\r\n                    .setFontSize(12)\r\n                    //.setKeepWithNext(true)\r\n                    .setDestination(name)\r\n\r\n                    // Add the current page number to the table of contents list\r\n                    .setNextRenderer(new UpdatePageRenderer(p));\r\n            toc.add(new AbstractMap.SimpleEntry(name, titlePage));\r\n\r\n        }\r\n\r\n        int contentPageNumber = pdf.getNumberOfPages();\r\n\r\n        for (int i = 1; i &lt;= contentPageNumber; i++) {\r\n\r\n            // Write aligned text to the specified by parameters point\r\n            document.showTextAligned(new Paragraph(String.format(&quot;Sayfa %s / %s&quot;, i, contentPageNumber)).setFontSize(10),\r\n                    559, 26, i, TextAlignment.RIGHT, VerticalAlignment.MIDDLE, 0);\r\n        }\r\n\r\n        //BEGINNING OF TOC\r\n        document.add(new AreaBreak());\r\n        Paragraph p = new Paragraph(&quot;Table of Contents&quot;)\r\n                .setFont(font)\r\n                .setDestination(&quot;toc&quot;);\r\n        document.add(p);\r\n        java.util.List&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\r\n        tabStops.add(new TabStop(580, TabAlignment.RIGHT, new DottedLine()));\r\n        for (AbstractMap.SimpleEntry&lt;String, AbstractMap.SimpleEntry&lt;String, Integer&gt;&gt; entry : toc) {\r\n            AbstractMap.SimpleEntry&lt;String, Integer&gt; text = entry.getValue();\r\n            p = new Paragraph()\r\n                    .addTabStops(tabStops)\r\n                    .add(text.getKey())\r\n                    .add(new Tab())\r\n                    .add(String.valueOf(text.getValue()))\r\n                    .setAction(PdfAction.createGoTo(entry.getKey()));\r\n            document.add(p);\r\n        }\r\n\r\n\r\n\r\n        // Move the table of contents to the first page\r\n        int tocPageNumber = pdf.getNumberOfPages();\r\n        for (int i = 1; i &lt;= tocPageNumber; i++) {\r\n\r\n            // Write aligned text to the specified by parameters point\r\n            document.showTextAligned(new Paragraph(&quot;\\n footer text\\n second line\\nthird line&quot;).setFontColor(ColorConstants.RED).setFontSize(8),\r\n                    300, 26, i, TextAlignment.CENTER, VerticalAlignment.MIDDLE, 0);\r\n        }\r\n\r\n        document.flush();\r\n        for(int z = 0; z&lt; (tocPageNumber - contentPageNumber ); z++){\r\n            pdf.movePage(tocPageNumber,1);\r\n            pdf.getPage(1).setPageLabel(PageLabelNumberingStyle.UPPERCASE_LETTERS,\r\n                    null, 1);\r\n        }\r\n\r\n\r\n        //pdf.movePage(tocPageNumber, 1);\r\n\r\n        // Add page labels\r\n        /*pdf.getPage(1).setPageLabel(PageLabelNumberingStyle.UPPERCASE_LETTERS,\r\n                null, 1);*/\r\n        pdf.getPage(tocPageNumber - contentPageNumber + 1).setPageLabel(PageLabelNumberingStyle.DECIMAL_ARABIC_NUMERALS,\r\n                null, 1);\r\n\r\n\r\n        document.close();\r\n\r\n    }\r\n    private static PdfOutline createOutline(PdfOutline outline, PdfDocument pdf, String title, String name) {\r\n        if (outline == null) {\r\n            outline = pdf.getOutlines(false);\r\n            outline = outline.addOutline(title);\r\n            outline.addDestination(PdfDestination.makeDestination(new PdfString(name)));\r\n        } else {\r\n            PdfOutline kid = outline.addOutline(title);\r\n            kid.addDestination(PdfDestination.makeDestination(new PdfString(name)));\r\n        }\r\n\r\n        return outline;\r\n    }\r\n    private static class UpdatePageRenderer extends ParagraphRenderer {\r\n        protected AbstractMap.SimpleEntry&lt;String, Integer&gt; entry;\r\n\r\n        public UpdatePageRenderer(Paragraph modelElement, AbstractMap.SimpleEntry&lt;String, Integer&gt; entry) {\r\n            super(modelElement);\r\n            this.entry = entry;\r\n        }\r\n        public UpdatePageRenderer(Paragraph modelElement) {\r\n            super(modelElement);\r\n        }\r\n\r\n        @Override\r\n        public LayoutResult layout(LayoutContext layoutContext) {\r\n            LayoutResult result = super.layout(layoutContext);\r\n            //entry.setValue(layoutContext.getArea().getPageNumber());\r\n            if (result.getStatus() != LayoutResult.FULL) {\r\n                if (null != result.getOverflowRenderer()) {\r\n                    result.getOverflowRenderer().setProperty(\r\n                            Property.LEADING,\r\n                            result.getOverflowRenderer().getModelElement().getDefaultProperty(Property.LEADING));\r\n                } else {\r\n                    // if overflow renderer is null, that could mean that the whole renderer will overflow\r\n                    setProperty(\r\n                            Property.LEADING,\r\n                            result.getOverflowRenderer().getModelElement().getDefaultProperty(Property.LEADING));\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        // If not overriden, the default renderer will be used for the overflown part of the corresponding paragraph\r\n        public IRenderer getNextRenderer() {\r\n            return new UpdatePageRenderer((Paragraph) this.getModelElement());\r\n        }\r\n\r\n      \r\n    }\r\n\r\n}\r\n\r\n```\r\nHere are the screen shots of TOC part and content part : \r\n\r\n&gt; TOC :\r\n\r\n[![TOC][1]][1]\r\n\r\n&gt; Content :\r\n\r\n[![Content part][2]][2]\r\n\r\nWhat am I missing? Thank you all for your help.\r\n\r\n\r\n***UPDATE***\r\n\r\nWhen I add the line below it renders with no overflow but the page margins of TOC and content part differ (the TOC margin is way more than the content margin). See the picture attached please : \r\n\r\n```\r\ndocument.setMargins(30,60,36,20);\r\n```\r\n Right Margin difference between TOC and content: \r\n[![ Right Margin difference between TOC and content][3]][3]\r\n\r\n***UPDATE 2 :*** \r\n\r\nWhen I comment the line \r\n```\r\ndocument.setMargins(30,60,36,20);\r\n```\r\nand set the font size on line : \r\n```\r\ndocument.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\r\n```\r\nto 12 then it renders fine. What difference should possibly the font size cause for the page content and margins? Are not there standard page margins and page setups? Am I unknowingly (I am newbie to itextpdf) messing some standard implementations? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nTnzH.png\r\n  [2]: https://i.stack.imgur.com/gY0kI.png\r\n  [3]: https://i.stack.imgur.com/ANsyJ.png","title":"itext 7 pdf how to prevent text overflow on right side of the page","body":"<p>I am using itextpdf 7 (7.2.0) to create a pdf file. However even though the TOC part is rendered very well, in the content part the text overflows. Here is my code that generates the pdf:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n        PdfWriter writer = new PdfWriter(&quot;fiftyfourthPdf.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer);\n        Document document = new Document(pdf, PageSize.A4,false);\n        //document.setMargins(30,10,36,10);\n\n// Create a PdfFont\n        PdfFont font = PdfFontFactory.createFont(StandardFonts.TIMES_ROMAN,&quot;Cp1254&quot;);\n\n        document\n                .setTextAlignment(TextAlignment.JUSTIFIED)\n                .setFont(font)\n                .setFontSize(11);\n        PdfOutline outline = null;\n        java.util.List&lt;AbstractMap.SimpleEntry&lt;String, AbstractMap.SimpleEntry&lt;String, Integer&gt;&gt;&gt; toc = new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;5000;i++){\n            String line = &quot;This is paragraph &quot; + String.valueOf(i+1)+ &quot; &quot;;\n            line = line.concat(line).concat(line).concat(line).concat(line).concat(line);\n            Paragraph p = new Paragraph(line);\n            p.setKeepTogether(true);\n            document.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\n\n            //PROCESS FOR TOC\n            String name = &quot;para &quot; + String.valueOf(i+1);\n            outline = createOutline(outline,pdf,line ,name );\n            AbstractMap.SimpleEntry&lt;String, Integer&gt; titlePage = new AbstractMap.SimpleEntry(line, pdf.getNumberOfPages());\n            p\n                    .setFont(font)\n                    .setFontSize(12)\n                    //.setKeepWithNext(true)\n                    .setDestination(name)\n\n                    // Add the current page number to the table of contents list\n                    .setNextRenderer(new UpdatePageRenderer(p));\n            toc.add(new AbstractMap.SimpleEntry(name, titlePage));\n\n        }\n\n        int contentPageNumber = pdf.getNumberOfPages();\n\n        for (int i = 1; i &lt;= contentPageNumber; i++) {\n\n            // Write aligned text to the specified by parameters point\n            document.showTextAligned(new Paragraph(String.format(&quot;Sayfa %s / %s&quot;, i, contentPageNumber)).setFontSize(10),\n                    559, 26, i, TextAlignment.RIGHT, VerticalAlignment.MIDDLE, 0);\n        }\n\n        //BEGINNING OF TOC\n        document.add(new AreaBreak());\n        Paragraph p = new Paragraph(&quot;Table of Contents&quot;)\n                .setFont(font)\n                .setDestination(&quot;toc&quot;);\n        document.add(p);\n        java.util.List&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\n        tabStops.add(new TabStop(580, TabAlignment.RIGHT, new DottedLine()));\n        for (AbstractMap.SimpleEntry&lt;String, AbstractMap.SimpleEntry&lt;String, Integer&gt;&gt; entry : toc) {\n            AbstractMap.SimpleEntry&lt;String, Integer&gt; text = entry.getValue();\n            p = new Paragraph()\n                    .addTabStops(tabStops)\n                    .add(text.getKey())\n                    .add(new Tab())\n                    .add(String.valueOf(text.getValue()))\n                    .setAction(PdfAction.createGoTo(entry.getKey()));\n            document.add(p);\n        }\n\n\n\n        // Move the table of contents to the first page\n        int tocPageNumber = pdf.getNumberOfPages();\n        for (int i = 1; i &lt;= tocPageNumber; i++) {\n\n            // Write aligned text to the specified by parameters point\n            document.showTextAligned(new Paragraph(&quot;\\n footer text\\n second line\\nthird line&quot;).setFontColor(ColorConstants.RED).setFontSize(8),\n                    300, 26, i, TextAlignment.CENTER, VerticalAlignment.MIDDLE, 0);\n        }\n\n        document.flush();\n        for(int z = 0; z&lt; (tocPageNumber - contentPageNumber ); z++){\n            pdf.movePage(tocPageNumber,1);\n            pdf.getPage(1).setPageLabel(PageLabelNumberingStyle.UPPERCASE_LETTERS,\n                    null, 1);\n        }\n\n\n        //pdf.movePage(tocPageNumber, 1);\n\n        // Add page labels\n        /*pdf.getPage(1).setPageLabel(PageLabelNumberingStyle.UPPERCASE_LETTERS,\n                null, 1);*/\n        pdf.getPage(tocPageNumber - contentPageNumber + 1).setPageLabel(PageLabelNumberingStyle.DECIMAL_ARABIC_NUMERALS,\n                null, 1);\n\n\n        document.close();\n\n    }\n    private static PdfOutline createOutline(PdfOutline outline, PdfDocument pdf, String title, String name) {\n        if (outline == null) {\n            outline = pdf.getOutlines(false);\n            outline = outline.addOutline(title);\n            outline.addDestination(PdfDestination.makeDestination(new PdfString(name)));\n        } else {\n            PdfOutline kid = outline.addOutline(title);\n            kid.addDestination(PdfDestination.makeDestination(new PdfString(name)));\n        }\n\n        return outline;\n    }\n    private static class UpdatePageRenderer extends ParagraphRenderer {\n        protected AbstractMap.SimpleEntry&lt;String, Integer&gt; entry;\n\n        public UpdatePageRenderer(Paragraph modelElement, AbstractMap.SimpleEntry&lt;String, Integer&gt; entry) {\n            super(modelElement);\n            this.entry = entry;\n        }\n        public UpdatePageRenderer(Paragraph modelElement) {\n            super(modelElement);\n        }\n\n        @Override\n        public LayoutResult layout(LayoutContext layoutContext) {\n            LayoutResult result = super.layout(layoutContext);\n            //entry.setValue(layoutContext.getArea().getPageNumber());\n            if (result.getStatus() != LayoutResult.FULL) {\n                if (null != result.getOverflowRenderer()) {\n                    result.getOverflowRenderer().setProperty(\n                            Property.LEADING,\n                            result.getOverflowRenderer().getModelElement().getDefaultProperty(Property.LEADING));\n                } else {\n                    // if overflow renderer is null, that could mean that the whole renderer will overflow\n                    setProperty(\n                            Property.LEADING,\n                            result.getOverflowRenderer().getModelElement().getDefaultProperty(Property.LEADING));\n                }\n            }\n            return result;\n        }\n\n        @Override\n        // If not overriden, the default renderer will be used for the overflown part of the corresponding paragraph\n        public IRenderer getNextRenderer() {\n            return new UpdatePageRenderer((Paragraph) this.getModelElement());\n        }\n\n      \n    }\n\n}\n\n</code></pre>\n<p>Here are the screen shots of TOC part and content part :</p>\n<blockquote>\n<p>TOC :</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/nTnzH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nTnzH.png\" alt=\"TOC\" /></a></p>\n<blockquote>\n<p>Content :</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/gY0kI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gY0kI.png\" alt=\"Content part\" /></a></p>\n<p>What am I missing? Thank you all for your help.</p>\n<p><em><strong>UPDATE</strong></em></p>\n<p>When I add the line below it renders with no overflow but the page margins of TOC and content part differ (the TOC margin is way more than the content margin). See the picture attached please :</p>\n<pre><code>document.setMargins(30,60,36,20);\n</code></pre>\n<p>Right Margin difference between TOC and content:\n<a href=\"https://i.stack.imgur.com/ANsyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANsyJ.png\" alt=\" Right Margin difference between TOC and content\" /></a></p>\n<p><em><strong>UPDATE 2 :</strong></em></p>\n<p>When I comment the line</p>\n<pre><code>document.setMargins(30,60,36,20);\n</code></pre>\n<p>and set the font size on line :</p>\n<pre><code>document.add(p.setFont(font).setFontSize(10).setHorizontalAlignment(HorizontalAlignment.CENTER).setTextAlignment(TextAlignment.LEFT));\n</code></pre>\n<p>to 12 then it renders fine. What difference should possibly the font size cause for the page content and margins? Are not there standard page margins and page setups? Am I unknowingly (I am newbie to itextpdf) messing some standard implementations?</p>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":17165441,"reputation":4394,"user_id":12423905,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639420453,"creation_date":1639420453,"answer_id":70339384,"question_id":70339130,"body_markdown":"I fixed the issue, and I hate Android studio so much for that. Instead of writing this:\r\n\r\n    KEYPW=&#39;CENSORED&#39;\r\n\r\nyou have to write this\r\n\r\n    KEYPW=CENSORED\r\n\r\nDuh. Wasted another hour of my life\r\n\r\n","title":"Failed to read key key1 from store even tho key is 100% correct","body":"<p>I fixed the issue, and I hate Android studio so much for that. Instead of writing this:</p>\n<pre><code>KEYPW='CENSORED'\n</code></pre>\n<p>you have to write this</p>\n<pre><code>KEYPW=CENSORED\n</code></pre>\n<p>Duh. Wasted another hour of my life</p>\n"}],"owner":{"account_id":17165441,"reputation":4394,"user_id":12423905,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70339384,"answer_count":1,"score":1,"last_activity_date":1639420453,"creation_date":1639419075,"question_id":70339130,"body_markdown":"I am trying to create a release build for my app, but no matter what I do, it does not work. I get this error everytime:\r\n\r\n&gt; Task :app:packageRelease FAILED\r\n\r\n    Execution failed for task &#39;:app:packageRelease&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\r\n       &gt; com.android.ide.common.signing.KeytoolException: Failed to read key key1 from store &quot;C:\\Users\\CENSORED\\Desktop\\Ordner\\Privates\\Android Studio Key\\keystore.jks&quot;: keystore password was incorrect\r\n\r\nI created so many keys and passwords and this time (every time created it new), but it always says &quot;keystore password was incorrect&quot; even tho it is 100% correct!!\r\n\r\n    signingConfigs {\r\n        release {\r\n            storeFile file(&#39;C:\\\\Users\\\\EXAMPLE\\\\Desktop\\\\Ordner\\\\Privates\\\\Android Studio Key\\\\keystore.jks&#39;)\r\n            storePassword KEYPW\r\n            keyAlias &#39;key1&#39;\r\n            keyPassword KEYPW\r\n        }\r\n    }\r\n\r\n## gradle properties ##\r\n\r\n    KEYPW=&#39;CENSORED&#39;\r\n\r\n","title":"Failed to read key key1 from store even tho key is 100% correct","body":"<p>I am trying to create a release build for my app, but no matter what I do, it does not work. I get this error everytime:</p>\n<blockquote>\n<p>Task :app:packageRelease FAILED</p>\n</blockquote>\n<pre><code>Execution failed for task ':app:packageRelease'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key key1 from store &quot;C:\\Users\\CENSORED\\Desktop\\Ordner\\Privates\\Android Studio Key\\keystore.jks&quot;: keystore password was incorrect\n</code></pre>\n<p>I created so many keys and passwords and this time (every time created it new), but it always says &quot;keystore password was incorrect&quot; even tho it is 100% correct!!</p>\n<pre><code>signingConfigs {\n    release {\n        storeFile file('C:\\\\Users\\\\EXAMPLE\\\\Desktop\\\\Ordner\\\\Privates\\\\Android Studio Key\\\\keystore.jks')\n        storePassword KEYPW\n        keyAlias 'key1'\n        keyPassword KEYPW\n    }\n}\n</code></pre>\n<h2>gradle properties</h2>\n<pre><code>KEYPW='CENSORED'\n</code></pre>\n"},{"tags":["java","intellij-idea","playframework-2.0"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1369158512,"post_id":16676311,"comment_id":23995850,"body_markdown":"Seems there are no such methods defined.","body":"Seems there are no such methods defined."},{"owner":{"account_id":1309273,"reputation":1081,"user_id":1257622,"accept_rate":70,"display_name":"Conor Pender"},"score":2,"creation_date":1369159698,"post_id":16676311,"comment_id":23996447,"body_markdown":"I&#39;m not sure if you&#39;re just being a smart-ass, but I edited my question to include a segment of the routes file. Also, my Application has an index method. I know because it renders the home page.","body":"I&#39;m not sure if you&#39;re just being a smart-ass, but I edited my question to include a segment of the routes file. Also, my Application has an index method. I know because it renders the home page."},{"owner":{"account_id":1495456,"reputation":3026,"user_id":1401510,"accept_rate":75,"display_name":"nkr"},"score":0,"creation_date":1369160399,"post_id":16676311,"comment_id":23996832,"body_markdown":"Please link the Play tutorial where this code comes from.","body":"Please link the Play tutorial where this code comes from."},{"owner":{"account_id":1309273,"reputation":1081,"user_id":1257622,"accept_rate":70,"display_name":"Conor Pender"},"score":0,"creation_date":1369160523,"post_id":16676311,"comment_id":23996887,"body_markdown":"http://www.playframework.com/documentation/2.1.1-RC2/JavaGuide6\nThis is part six or the tutorial. The relevant part is at the top.","body":"<a href=\"http://www.playframework.com/documentation/2.1.1-RC2/JavaGuide6\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.1.1-RC2/JavaGuide6</a> This is part six or the tutorial. The relevant part is at the top."},{"owner":{"account_id":1495456,"reputation":3026,"user_id":1401510,"accept_rate":75,"display_name":"nkr"},"score":1,"creation_date":1369166761,"post_id":16676311,"comment_id":24000065,"body_markdown":"I have no problem, try ignoring the error at first, run `play compile` on your console an check IntelliJ again. Besides, a tip: write @nkr somewhere in your comment so I get a notice you replied.","body":"I have no problem, try ignoring the error at first, run <code>play compile</code> on your console an check IntelliJ again. Besides, a tip: write @nkr somewhere in your comment so I get a notice you replied."},{"owner":{"account_id":230468,"reputation":1713,"user_id":494087,"accept_rate":38,"display_name":"Jarno Lahtinen"},"score":0,"creation_date":1369638751,"post_id":16676311,"comment_id":24158500,"body_markdown":"I&#39;m having this same issue with my project in IntelliJ IDEA 12.1.13 and most new version of Play framework.","body":"I&#39;m having this same issue with my project in IntelliJ IDEA 12.1.13 and most new version of Play framework."},{"owner":{"account_id":2449868,"reputation":878,"user_id":2136410,"accept_rate":75,"display_name":"Fabinout"},"score":0,"creation_date":1382517822,"post_id":16676311,"comment_id":28985894,"body_markdown":"Having the same error &quot;Cannot resolve method &#39;routes&#39;&quot;, yet the server works perfectly as intended.","body":"Having the same error &quot;Cannot resolve method &#39;routes&#39;&quot;, yet the server works perfectly as intended."}],"answers":[{"tags":[],"owner":{"account_id":73322,"reputation":631,"user_id":211220,"display_name":"Markus Knittig"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1427879481,"creation_date":1373540734,"answer_id":17591730,"question_id":16676311,"body_markdown":"I was running into the same problem and found the solution here: https://github.com/playframework/Play20/issues/969\r\n\r\nIn short:\r\n\r\n - Create the directories `javascript` and `ref` under the controllers package\r\n - Run `activator compile` and now Intellij should get it  *// used to be &#39;play compile&#39;*\r\n - If you still got the errors try to run `activator idea` again // used to be &#39;play compile&#39;*","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>I was running into the same problem and found the solution here: <a href=\"https://github.com/playframework/Play20/issues/969\" rel=\"nofollow noreferrer\">https://github.com/playframework/Play20/issues/969</a></p>\n\n<p>In short:</p>\n\n<ul>\n<li>Create the directories <code>javascript</code> and <code>ref</code> under the controllers package</li>\n<li>Run <code>activator compile</code> and now Intellij should get it  <em>// used to be 'play compile'</em></li>\n<li>If you still got the errors try to run <code>activator idea</code> again // used to be 'play compile'*</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3358830,"reputation":121,"user_id":2821144,"display_name":"user2821144"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1383013300,"creation_date":1383013300,"answer_id":19648545,"question_id":16676311,"body_markdown":"Pulled from a link provided by @Markus Kittig. Great temporary fix. https://github.com/playframework/playframework/issues/1784#issuecomment-26345523\r\n\r\nSynopsis:\r\nAdd target/scala-XXX as a managed source and remove the app controllers and views sources flag inside File-&gt;Project Structure-&gt;Modules-&gt;Sources. Then recompile.\r\n\r\nWorks on IntelliJ Ultimate 12.1.{4|6}. Created the play application with the command line interface and generated a project file using `play idea`.  Used Play 2.2.0.","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>Pulled from a link provided by @Markus Kittig. Great temporary fix. <a href=\"https://github.com/playframework/playframework/issues/1784#issuecomment-26345523\" rel=\"noreferrer\">https://github.com/playframework/playframework/issues/1784#issuecomment-26345523</a></p>\n\n<p>Synopsis:\nAdd target/scala-XXX as a managed source and remove the app controllers and views sources flag inside File->Project Structure->Modules->Sources. Then recompile.</p>\n\n<p>Works on IntelliJ Ultimate 12.1.{4|6}. Created the play application with the command line interface and generated a project file using <code>play idea</code>.  Used Play 2.2.0.</p>\n"},{"tags":[],"owner":{"account_id":4046844,"reputation":426,"user_id":3327822,"display_name":"darren rose"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1392811071,"creation_date":1392809947,"answer_id":21879374,"question_id":16676311,"body_markdown":"**File** -&gt; **Project Structure**\r\n\r\nSelect **Sources** in Right Pane\r\n\r\n\r\nAdd Source folder \r\n\r\n*target/scala-XXX/classes\\_managed*\r\n\r\n*target/scala-XXX/src\\_managed/main*","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p><strong>File</strong> -> <strong>Project Structure</strong></p>\n\n<p>Select <strong>Sources</strong> in Right Pane</p>\n\n<p>Add Source folder </p>\n\n<p><em>target/scala-XXX/classes_managed</em></p>\n\n<p><em>target/scala-XXX/src_managed/main</em></p>\n"},{"tags":[],"owner":{"account_id":4588357,"reputation":11,"user_id":3722375,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402318352,"creation_date":1402318352,"answer_id":24120740,"question_id":16676311,"body_markdown":"This question was asked a year ago, but to answer for future queries by other coders, the problem is easily solved by adding a &quot;play.Routes&quot; path like this\r\n\r\n    public static Result javascriptRoutes() {\r\n        response().setContentType(&quot;text/javascript&quot;);\r\n        return ok(\r\n                play.Routes.javascriptRouter(&quot;jsRoutes&quot;,\r\n\r\n                        // Routes for Projects\r\n                        controllers.routes.javascript.Projects.add(),\r\n                        controllers.routes.javascript.Projects.delete(),\r\n                        controllers.routes.javascript.Projects.rename(),\r\n                        controllers.routes.javascript.Projects.addGroup()\r\n                )\r\n        );\r\n   }\r\n\r\n\r\nEnsure that you have the proper imports to the class:\r\n\r\n    import play.mvc.*;\r\n    import play.data.*;","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>This question was asked a year ago, but to answer for future queries by other coders, the problem is easily solved by adding a \"play.Routes\" path like this</p>\n\n<pre><code>public static Result javascriptRoutes() {\n    response().setContentType(\"text/javascript\");\n    return ok(\n            play.Routes.javascriptRouter(\"jsRoutes\",\n\n                    // Routes for Projects\n                    controllers.routes.javascript.Projects.add(),\n                    controllers.routes.javascript.Projects.delete(),\n                    controllers.routes.javascript.Projects.rename(),\n                    controllers.routes.javascript.Projects.addGroup()\n            )\n    );\n</code></pre>\n\n<p>}</p>\n\n<p>Ensure that you have the proper imports to the class:</p>\n\n<pre><code>import play.mvc.*;\nimport play.data.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":418421,"reputation":4901,"user_id":794967,"accept_rate":74,"display_name":"Aleksandar Stojadinovic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428499825,"creation_date":1428499825,"answer_id":29516073,"question_id":16676311,"body_markdown":"With IntelliJ 14.1 and Play 2.3.8 nothing of the above worked, but the advice from this [mailing list](http://grokbase.com/t/gg/play-framework/151vc026y5/intellij-idea-play-framework-2-3-7-issues) worked. (Almost) blatantly copied:\r\n\r\n&gt; Locate the target/scala-2.11/src_managed and target/scala-2.11/twirl\r\n&gt; directories in the project view, then right click and Mark Directory\r\n&gt; As -&gt; Generated Sources *(Root)*. \r\n\r\nI bumped the scala version and obviously in newer versions of IntelliJ the *Root* word has been added. Also, you cannot select this from the Project Structure window, the option is not available. It is possible only through the `Project` pane in the main window. If it refuses to be marked as `Generated Sources`, try to unmark the`target` directory (Mark Directory As -&gt; Unmark &lt;whatever&gt;). ","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>With IntelliJ 14.1 and Play 2.3.8 nothing of the above worked, but the advice from this <a href=\"http://grokbase.com/t/gg/play-framework/151vc026y5/intellij-idea-play-framework-2-3-7-issues\" rel=\"nofollow\">mailing list</a> worked. (Almost) blatantly copied:</p>\n\n<blockquote>\n  <p>Locate the target/scala-2.11/src_managed and target/scala-2.11/twirl\n  directories in the project view, then right click and Mark Directory\n  As -> Generated Sources <em>(Root)</em>. </p>\n</blockquote>\n\n<p>I bumped the scala version and obviously in newer versions of IntelliJ the <em>Root</em> word has been added. Also, you cannot select this from the Project Structure window, the option is not available. It is possible only through the <code>Project</code> pane in the main window. If it refuses to be marked as <code>Generated Sources</code>, try to unmark the<code>target</code> directory (Mark Directory As -> Unmark ). </p>\n"},{"tags":[],"owner":{"account_id":3956122,"reputation":456,"user_id":3264522,"display_name":"tapsey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440883633,"creation_date":1440883633,"answer_id":32290813,"question_id":16676311,"body_markdown":"I am using Idea 14.1.4 community edition, i managed to remove the index and route not resolved errors by right clicking on the target folder and marking it as not excluded. NB i run my project using the command line i can not find any run configuration in the ide.","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>I am using Idea 14.1.4 community edition, i managed to remove the index and route not resolved errors by right clicking on the target folder and marking it as not excluded. NB i run my project using the command line i can not find any run configuration in the ide.</p>\n"},{"tags":[],"owner":{"account_id":4820536,"reputation":5096,"user_id":3891342,"accept_rate":71,"display_name":"Daniel Shin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459098481,"creation_date":1459098481,"answer_id":36250170,"question_id":16676311,"body_markdown":"For people using Play 2.4.x or above, it seems that Play no longer produces reverse routing files for javascript in `src_managed` et al. \r\n\r\nInstead, you need to include `scala-2.xx/routes/main` directory as `Sources`.","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>For people using Play 2.4.x or above, it seems that Play no longer produces reverse routing files for javascript in <code>src_managed</code> et al. </p>\n\n<p>Instead, you need to include <code>scala-2.xx/routes/main</code> directory as <code>Sources</code>.</p>\n"},{"tags":[],"owner":{"account_id":2747028,"reputation":1791,"user_id":2367237,"accept_rate":20,"display_name":"Gonzalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639420406,"creation_date":1639420406,"answer_id":70339381,"question_id":16676311,"body_markdown":"I didn&#39;t find that folders in my PLay 2.8 build, so as it was a problem with IntelliJ I found an easier solution:\r\n\r\nhttps://stackoverflow.com/a/70339356/2367237","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>I didn't find that folders in my PLay 2.8 build, so as it was a problem with IntelliJ I found an easier solution:</p>\n<p><a href=\"https://stackoverflow.com/a/70339356/2367237\">https://stackoverflow.com/a/70339356/2367237</a></p>\n"}],"owner":{"account_id":1309273,"reputation":1081,"user_id":1257622,"accept_rate":70,"display_name":"Conor Pender"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13829,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":21879374,"answer_count":8,"score":15,"last_activity_date":1639420406,"creation_date":1369158374,"question_id":16676311,"body_markdown":"I&#39;m following one of the play framework tutorials, but I&#39;m getting compile errors whenever I try to use reverse routing. Firstly,\r\n\r\n    public static Result javascriptRoutes() {\r\n        response().setContentType(&quot;text/javascript&quot;);\r\n        return ok(\r\n            Routes.javascriptRouter(&quot;jsRoutes&quot;,\r\n                controllers.routes.javascript.Projects.add(),\r\n                controllers.routes.javascript.Projects.delete(),\r\n                controllers.routes.javascript.Projects.rename(),\r\n                controllers.routes.javascript.Projects.addGroup()\r\n            )\r\n        );\r\n    }\r\n\r\nwhere the error shown in intelliJ is &#39;cannot resolve method javascriptRouter(java.lang.String, ?, ?, ?, ?)&#39;\r\n\r\nBut also in the a unit test:\r\n\r\n    @Test\r\n    public void notAuthenticated() {\r\n        Result result = callAction(\r\n                controllers.routes.ref.Application.index(),\r\n                fakeRequest()\r\n        );\r\n        assertEquals(303, status(result));\r\n        assertEquals(&quot;/login&quot;, header(&quot;Location&quot;, result));\r\n    }\r\n\r\nwhere it cannot resolve the index method.\r\n\r\nIs this a problem with intelliJ, or am I missing something within play?\r\n\r\n\r\n\r\nFor the first part, here is the entry in my routes file:\r\n\r\n    GET     /assets/javascripts/routes  controllers.Application.javascriptRoutes()\r\n\r\nand my controller, Projects, has got the defined methods.","title":"Unable to resolve reverse routing methods in IntelliJ","body":"<p>I'm following one of the play framework tutorials, but I'm getting compile errors whenever I try to use reverse routing. Firstly,</p>\n\n<pre><code>public static Result javascriptRoutes() {\n    response().setContentType(\"text/javascript\");\n    return ok(\n        Routes.javascriptRouter(\"jsRoutes\",\n            controllers.routes.javascript.Projects.add(),\n            controllers.routes.javascript.Projects.delete(),\n            controllers.routes.javascript.Projects.rename(),\n            controllers.routes.javascript.Projects.addGroup()\n        )\n    );\n}\n</code></pre>\n\n<p>where the error shown in intelliJ is 'cannot resolve method javascriptRouter(java.lang.String, ?, ?, ?, ?)'</p>\n\n<p>But also in the a unit test:</p>\n\n<pre><code>@Test\npublic void notAuthenticated() {\n    Result result = callAction(\n            controllers.routes.ref.Application.index(),\n            fakeRequest()\n    );\n    assertEquals(303, status(result));\n    assertEquals(\"/login\", header(\"Location\", result));\n}\n</code></pre>\n\n<p>where it cannot resolve the index method.</p>\n\n<p>Is this a problem with intelliJ, or am I missing something within play?</p>\n\n<p>For the first part, here is the entry in my routes file:</p>\n\n<pre><code>GET     /assets/javascripts/routes  controllers.Application.javascriptRoutes()\n</code></pre>\n\n<p>and my controller, Projects, has got the defined methods.</p>\n"},{"tags":["java","eclipse","maven","jaxb"],"answers":[{"tags":[],"owner":{"account_id":23175946,"reputation":66,"user_id":17274465,"display_name":"jcurley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639419480,"creation_date":1639419480,"answer_id":70339216,"question_id":70248397,"body_markdown":"The issue stemmed from the Maven build running in Java 11 but our normal compile stage forking to a Java 1.8 executable. Because the Plexus compiler cannot fork to a new environment, there was not a way for it to access the Java EE dependencies. We just need to update our entire project to be compatible with Java 11 at compile-time.","title":"Use JAXB with plexus-compiler-eclipse plugin in maven profile","body":"<p>The issue stemmed from the Maven build running in Java 11 but our normal compile stage forking to a Java 1.8 executable. Because the Plexus compiler cannot fork to a new environment, there was not a way for it to access the Java EE dependencies. We just need to update our entire project to be compatible with Java 11 at compile-time.</p>\n"}],"owner":{"account_id":23175946,"reputation":66,"user_id":17274465,"display_name":"jcurley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70339216,"answer_count":1,"score":0,"last_activity_date":1639419480,"creation_date":1638806902,"question_id":70248397,"body_markdown":"I am working on a project where we want to use the `plexus-compiler-eclipse` plugin during a Jenkins pipeline to check for increases in the number of warnings generated by the Eclipse compiler. We still want to use the `javac` compiler for the normal build and test stage, so I am trying to create a maven profile we can run during the warnings stage that utilizes the Eclipse compiler. \r\n\r\nWhen I run the Eclipse compiler over our code, I get a compile error about JAXB dependencies being missing. I know this is due to our move to Java 11 from Java 1.8, but we do not get this error when building with the `javac` compiler. I have tried adding the `jakarta.xml.bind-api` dependency to the `maven-compiler-plugin`, but this does not help, nor does adding the `org.glassfish.jaxb` dependency or the `javax.xml.bind:jaxb-api` dependency. \r\n\r\nI cannot share the full pom because this project is proprietary, but the profile I&#39;m building looks like this:\r\n```xml\r\n&lt;profile&gt;\r\n    &lt;id&gt;eclipse-compile&lt;/id&gt;\r\n    &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n    &lt;/activation&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&gt;&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerId&gt;eclipse&lt;/compilerId&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;properties&gt;${project.basedir}/.settings/org.eclipse.jdt.core.prefs&lt;/properties&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;plexus-compiler-eclipse&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.8.8&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.25.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nI was putting the various JAXB dependencies I tried in the `&lt;dependencies&gt;` section under the `org.eclipse.jdt` entry.\r\n\r\nAnyone else encounter this or know what to do about it?","title":"Use JAXB with plexus-compiler-eclipse plugin in maven profile","body":"<p>I am working on a project where we want to use the <code>plexus-compiler-eclipse</code> plugin during a Jenkins pipeline to check for increases in the number of warnings generated by the Eclipse compiler. We still want to use the <code>javac</code> compiler for the normal build and test stage, so I am trying to create a maven profile we can run during the warnings stage that utilizes the Eclipse compiler.</p>\n<p>When I run the Eclipse compiler over our code, I get a compile error about JAXB dependencies being missing. I know this is due to our move to Java 11 from Java 1.8, but we do not get this error when building with the <code>javac</code> compiler. I have tried adding the <code>jakarta.xml.bind-api</code> dependency to the <code>maven-compiler-plugin</code>, but this does not help, nor does adding the <code>org.glassfish.jaxb</code> dependency or the <code>javax.xml.bind:jaxb-api</code> dependency.</p>\n<p>I cannot share the full pom because this project is proprietary, but the profile I'm building looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;eclipse-compile&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&gt;&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;compilerId&gt;eclipse&lt;/compilerId&gt;\n                        &lt;source&gt;${java.version}&lt;/source&gt;\n                        &lt;target&gt;${java.version}&lt;/target&gt;\n                        &lt;compilerArguments&gt;\n                            &lt;properties&gt;${project.basedir}/.settings/org.eclipse.jdt.core.prefs&lt;/properties&gt;\n                        &lt;/compilerArguments&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                            &lt;artifactId&gt;plexus-compiler-eclipse&lt;/artifactId&gt;\n                            &lt;version&gt;2.8.8&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n                            &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n                            &lt;version&gt;3.25.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>I was putting the various JAXB dependencies I tried in the <code>&lt;dependencies&gt;</code> section under the <code>org.eclipse.jdt</code> entry.</p>\n<p>Anyone else encounter this or know what to do about it?</p>\n"},{"tags":["java","multithreading","swing","concurrency","swingworker"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639420210,"post_id":70339199,"comment_id":124339176,"body_markdown":"Don&#39;t use a SwingWorker. Your save logic should be invoked from the EDT. You don&#39;t want the user updating the text components while you are attempting to save the data.","body":"Don&#39;t use a SwingWorker. Your save logic should be invoked from the EDT. You don&#39;t want the user updating the text components while you are attempting to save the data."},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1639422391,"post_id":70339199,"comment_id":124339836,"body_markdown":"Ok but even if I don&#39;t use a SwingWorker is the EDT going to wait for the user to save the file? I don&#39;t see the difference","body":"Ok but even if I don&#39;t use a SwingWorker is the EDT going to wait for the user to save the file? I don&#39;t see the difference"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1639423863,"post_id":70339199,"comment_id":124340304,"body_markdown":"Swing is single threaded so all code executed on the EDT executes in sequence. So your logic would display the option pane. Then if a save is required the data will be written to the file. When that is finished the frame will close.","body":"Swing is single threaded so all code executed on the EDT executes in sequence. So your logic would display the option pane. Then if a save is required the data will be written to the file. When that is finished the frame will close."},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1639429449,"post_id":70339199,"comment_id":124341979,"body_markdown":"I made it work by not using the swing worker and implementing guarded blocks at the end, thanks for the suggestion, synchronisation with a normal thread is much easier :D","body":"I made it work by not using the swing worker and implementing guarded blocks at the end, thanks for the suggestion, synchronisation with a normal thread is much easier :D"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639430872,"post_id":70339199,"comment_id":124342376,"body_markdown":"*synchronisation with a normal thread is much easier* - There is no need for any kind of Thread or synchronization. You just write the data to the file.","body":"<i>synchronisation with a normal thread is much easier</i> - There is no need for any kind of Thread or synchronization. You just write the data to the file."}],"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639419415,"creation_date":1639419415,"question_id":70339199,"body_markdown":"I am creating a swing clone of Notepad and I&#39;m trying to figure out a way to improve the &quot;do you want to save before exiting tab part.\r\n\r\nI have a method that is called when the user wants to exit from the application:\r\n\r\n    private void onQuit() {\r\n        if (textArea.getText().equals(&quot;&quot;) &amp;&amp; (path == &quot;&quot; || path == null)) {\r\n            System.exit(0);\r\n        } else {\r\n            int result = JOptionPane.showConfirmDialog(frame, &quot;Do you want to save before exiting?&quot;,\r\n                    &quot;Notepad&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\r\n            switch (result) {\r\n                case JOptionPane.YES_OPTION:\r\n                    save();  //saves the edits made by the users\r\n                    Thread thread = new Thread(() -&gt; {\r\n                        //fix this loop that is being called every second\r\n                        //I don&#39;t want to waste resources but can&#39;t figure out another way\r\n                        waiting =  true;\r\n                        while (waiting) {\r\n                            if ((saveWorker != null &amp;&amp; saveWorker.isDone()) || (saveAsWorker != null &amp;&amp; saveAsWorker.isDone())) {\r\n                                System.exit(0);\r\n                            }\r\n                        }\r\n                    });\r\n                    thread.start();\r\n                    break;\r\n                case JOptionPane.NO_OPTION:\r\n                    System.exit(0);\r\n                    break;\r\n            }\r\n        }\r\n\r\nGoing over the code I made I first check if the application actually needs to save what has been edited through the first if. The problem is in the else though, where I create a JOptionPane and try to implement what to do when the YES option is selected. In this option the first thing I do is call save(): \r\n\r\n    private void save() {\r\n        if (path == &quot;&quot; || path == null) {\r\n            saveAs();\r\n        } else {\r\n            saveWorker = new SwingWorker&lt;&gt;() {\r\n                @Override\r\n                protected NullType doInBackground() {\r\n                    try {\r\n                        if (!path.endsWith(&quot;.txt&quot;)) {\r\n                            FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        } else {\r\n                            FileWriter writer = new FileWriter(path);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        }\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return null;\r\n                }\r\n            };\r\n            saveWorker.execute();\r\n        }\r\n    }\r\n\r\nwhich also calls saveAs():\r\n\r\n    private void saveAs() {\r\n\r\n        saveAsWorker = new SwingWorker&lt;&gt;() {\r\n            @Override\r\n            protected String doInBackground() {\r\n                JFileChooser chooser = new JFileChooser();\r\n                int choice = chooser.showSaveDialog(frame);\r\n\r\n                String fileName = &quot;Untitled&quot;;\r\n\r\n                if (choice == JFileChooser.APPROVE_OPTION) {\r\n                    try {\r\n                        File file = chooser.getSelectedFile();\r\n                        path = file.toString();\r\n\r\n                        if (!path.endsWith(&quot;.txt&quot;)) {\r\n                            FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        } else {\r\n                            FileWriter writer = new FileWriter(path);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        }\r\n\r\n                        StringBuilder builder = new StringBuilder(path);\r\n                        fileName = builder.substring(builder.lastIndexOf(&quot;\\\\&quot;) + 1);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                return fileName;\r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                try {\r\n                    frame.setTitle(get() + &quot;.txt&quot;);\r\n                } catch (InterruptedException | ExecutionException exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n\r\n        saveAsWorker.execute();\r\n\r\n    }\r\n\r\nBoth of these methods use SwingWorker threads. Finally the point is, going back to what happens when the YES option is selected, I don&#39;t know how to let the Thread I created &quot;wait&quot; that the SwingWorkers are done. What I&#39;m doing at the moment (and it&#39;s working) is using a while (true) loop from that thread that keeps checking if those threads are done, but this of course wastes a lots of resources. I&#39;m sure there must be a way to do something like this: &quot;make the closing Thread wait until one worker says I&#39;m done you can close the application&quot;. I tried using guarded blocks from official java tutorials but they are hard to implement with SwingWorker and I don&#39;t know how to really work with the intrinsic lock either which I think might be a solution too, but in the end I&#39;m always stuck.\r\n\r\nApplication is actually just a class so I might as well send it so you can test things out\r\n\r\npublic class TextEditor implements ActionListener {\r\n\r\n    private JFrame frame;\r\n    private JTextArea textArea;\r\n    private JScrollPane scrollPane;\r\n    private JMenuBar menuBar;\r\n    private JMenu fileMenu, editMenu, fontMenu, sizeMenu;\r\n    private JMenuItem newItem, openItem, saveItem, saveAsItem, exitItem;    //fileMenu\r\n    private JMenuItem undoItem, redoItem, copyItem, pasteItem, cutItem;     //editMenu\r\n    private JMenuItem smallItem, mediumItem, largeItem;                             //sizeMenu\r\n\r\n    private UndoManager undoManager = new UndoManager();\r\n    private String path;\r\n    private SwingWorker&lt;NullType, NullType&gt; saveWorker;\r\n    private SwingWorker&lt;String, NullType&gt; saveAsWorker;\r\n    private boolean waiting;\r\n\r\n    //todo do you want to save before exiting?\r\n    //todo create frame of dimension depending size when it was closed\r\n    //todo implement fonts?\r\n    //todo add more customisable sizes?\r\n    //todo package the application and create an installer\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //custom look and feel\r\n        UIManager.setLookAndFeel(new FlatDarculaLaf() {\r\n            @Override\r\n            public void provideErrorFeedback(Component component) {\r\n                Toolkit toolkit = null;\r\n                if (component != null) {\r\n                    toolkit = component.getToolkit();\r\n                } else {\r\n                    toolkit = Toolkit.getDefaultToolkit();\r\n                }\r\n                //this line produces an annoying beep so just comment it out\r\n                //toolkit.beep();\r\n            }\r\n        });\r\n        SwingUtilities.invokeLater(() -&gt; new TextEditor(&quot;Untitled&quot; , 809, 500));\r\n    }\r\n\r\n    private TextEditor(String title, int width, int height) {\r\n        Image icon = new ImageIcon(&quot;src/main/resources/killua.png&quot;).getImage();\r\n\r\n        frame = new JFrame(title);\r\n        frame.setIconImage(icon);\r\n        frame.setSize(width, height);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n        frame.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                onQuit();\r\n            }\r\n        });\r\n\r\n\r\n        createMenuBar();\r\n\r\n        textArea = new JTextArea();\r\n        textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 35));\r\n        textArea.setLineWrap(true);\r\n        textArea.setWrapStyleWord(true);\r\n        textArea.getDocument().addUndoableEditListener(e -&gt; undoManager.addEdit(e.getEdit()));\r\n\r\n        scrollPane = new JScrollPane(textArea);\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n\r\n        frame.add(scrollPane);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private void onQuit() {\r\n        if (textArea.getText().equals(&quot;&quot;) &amp;&amp; (path == &quot;&quot; || path == null)) {\r\n            System.exit(0);\r\n        } else {\r\n            int result = JOptionPane.showConfirmDialog(frame, &quot;Do you want to save before exiting?&quot;,\r\n                    &quot;Notepad&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\r\n            switch (result) {\r\n                case JOptionPane.YES_OPTION:\r\n                    save();\r\n                    Thread thread = new Thread(() -&gt; {\r\n                        //fix this loop that is being called every second\r\n                        //I don&#39;t want to waste resources but can&#39;t figure out another way\r\n                        waiting =  true;\r\n                        while (waiting) {\r\n                            if ((saveWorker != null &amp;&amp; saveWorker.isDone()) || (saveAsWorker != null &amp;&amp; saveAsWorker.isDone())) {\r\n                                System.exit(0);\r\n                            }\r\n                        }\r\n                    });\r\n                    thread.start();\r\n                    break;\r\n                case JOptionPane.NO_OPTION:\r\n                    System.exit(0);\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String command = e.getActionCommand();\r\n        switch (command) {\r\n            case &quot;New&quot; -&gt; {\r\n                frame.setTitle(&quot;Untitled&quot;);\r\n                textArea.setText(&quot;&quot;);\r\n                path = &quot;&quot;;\r\n            }\r\n            case &quot;Open&quot; -&gt; open();\r\n            case &quot;SaveAs&quot; -&gt; saveAs();\r\n            case &quot;Save&quot; -&gt; save();\r\n            case &quot;Exit&quot; -&gt; onQuit();\r\n            case &quot;Undo&quot; -&gt; undoManager.undo();\r\n            case &quot;Redo&quot; -&gt; undoManager.redo();\r\n            case &quot;Copy&quot; -&gt; textArea.copy();\r\n            case &quot;Paste&quot; -&gt; textArea.paste();\r\n            case &quot;Cut&quot; -&gt; textArea.cut();\r\n            case &quot;Small&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 30));\r\n            case &quot;Medium&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 35));\r\n            case &quot;Large&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 40));\r\n        }\r\n    }\r\n\r\n    private void save() {\r\n        if (path == &quot;&quot; || path == null) {\r\n            saveAs();\r\n        } else {\r\n            saveWorker = new SwingWorker&lt;&gt;() {\r\n                @Override\r\n                protected NullType doInBackground() {\r\n                    try {\r\n                        if (!path.endsWith(&quot;.txt&quot;)) {\r\n                            FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        } else {\r\n                            FileWriter writer = new FileWriter(path);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        }\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return null;\r\n                }\r\n            };\r\n            saveWorker.execute();\r\n        }\r\n    }\r\n\r\n    private void saveAs() {\r\n\r\n        saveAsWorker = new SwingWorker&lt;&gt;() {\r\n            @Override\r\n            protected String doInBackground() {\r\n                JFileChooser chooser = new JFileChooser();\r\n                int choice = chooser.showSaveDialog(frame);\r\n\r\n                String fileName = &quot;Untitled&quot;;\r\n\r\n                if (choice == JFileChooser.APPROVE_OPTION) {\r\n                    try {\r\n                        File file = chooser.getSelectedFile();\r\n                        path = file.toString();\r\n\r\n                        if (!path.endsWith(&quot;.txt&quot;)) {\r\n                            FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        } else {\r\n                            FileWriter writer = new FileWriter(path);\r\n                            writer.write(textArea.getText());\r\n                            writer.close();\r\n                        }\r\n\r\n                        StringBuilder builder = new StringBuilder(path);\r\n                        fileName = builder.substring(builder.lastIndexOf(&quot;\\\\&quot;) + 1);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                return fileName;\r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                try {\r\n                    frame.setTitle(get() + &quot;.txt&quot;);\r\n                } catch (InterruptedException | ExecutionException exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n\r\n        saveAsWorker.execute();\r\n\r\n    }\r\n\r\n    private void open() {\r\n        SwingWorker&lt;List&lt;String&gt;, NullType&gt; worker = new SwingWorker&lt;&gt;() {\r\n            @Override\r\n            protected List&lt;String&gt; doInBackground() {\r\n                JFileChooser chooser = new JFileChooser();\r\n                int choice = chooser.showOpenDialog(frame);\r\n\r\n                String fileName = &quot;&quot;;\r\n                path = &quot;&quot;;\r\n                if (choice == JFileChooser.APPROVE_OPTION) {\r\n                    File file = chooser.getSelectedFile();\r\n                    StringBuilder stringBuilder = new StringBuilder(file.toString());\r\n                    fileName = stringBuilder.substring(stringBuilder.lastIndexOf(&quot;\\\\&quot;) + 1);\r\n                    path = file.getPath();\r\n                }\r\n\r\n                ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n\r\n                try {\r\n                    FileReader fileReader = new FileReader(path);\r\n                    BufferedReader reader = new BufferedReader(fileReader);\r\n\r\n                    String line;\r\n                    while ((line = reader.readLine()) != null)\r\n                        lines.add(line);\r\n\r\n                    fileReader.close();\r\n                    reader.close();\r\n\r\n                    lines.add(fileName);\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                return lines;\r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                try {\r\n                    textArea.setText(&quot;&quot;);\r\n                    List&lt;String&gt; lines = get();\r\n\r\n                    for (int i = 0; i &lt;= lines.size() - 2; i++)\r\n                        textArea.append(lines.get(i) + &quot;\\n&quot;);\r\n\r\n                    frame.setTitle(lines.get(lines.size() - 1));\r\n                } catch (InterruptedException | ExecutionException | IndexOutOfBoundsException exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n\r\n        worker.execute();\r\n    }\r\n\r\n    private void createMenuBar() {\r\n\r\n        menuBar = new JMenuBar();\r\n\r\n        fileMenu = new JMenu(&quot;File&quot;);\r\n        editMenu = new JMenu(&quot;Edit&quot;);\r\n        fontMenu = new JMenu(&quot;Font&quot;);\r\n        sizeMenu = new JMenu(&quot;Size&quot;);\r\n\r\n        List&lt;JMenu&gt; menus = Arrays.asList(fileMenu, editMenu, fontMenu, sizeMenu);\r\n        menus.forEach(menu -&gt; {\r\n            menu.getPopupMenu().setBorder(null);\r\n            menuBar.add(menu);\r\n        });\r\n\r\n        //file\r\n\r\n        newItem = new JMenuItem(&quot;New&quot;);\r\n        newItem.addActionListener(this);\r\n        newItem.setActionCommand(&quot;New&quot;);\r\n        fileMenu.add(newItem);\r\n\r\n        openItem = new JMenuItem(&quot;Open&quot;);\r\n        openItem.addActionListener(this);\r\n        openItem.setActionCommand(&quot;Open&quot;);\r\n        fileMenu.add(openItem);\r\n\r\n        saveItem = new JMenuItem(&quot;Save&quot;);\r\n        saveItem.addActionListener(this);\r\n        saveItem.setActionCommand(&quot;Save&quot;);\r\n        fileMenu.add(saveItem);\r\n\r\n        saveAsItem = new JMenuItem(&quot;SaveAs&quot;);\r\n        saveAsItem.addActionListener(this);\r\n        saveAsItem.setActionCommand(&quot;SaveAs&quot;);\r\n        fileMenu.add(saveAsItem);\r\n\r\n        exitItem = new JMenuItem(&quot;Exit&quot;);\r\n        exitItem.addActionListener(this);\r\n        exitItem.setActionCommand(&quot;Exit&quot;);\r\n        fileMenu.add(exitItem);\r\n\r\n        //edit\r\n\r\n        undoItem = new JMenuItem(&quot;Undo&quot;);\r\n        undoItem.addActionListener(this);\r\n        undoItem.setActionCommand(&quot;Undo&quot;);\r\n        editMenu.add(undoItem);\r\n\r\n        redoItem = new JMenuItem(&quot;Redo&quot;);\r\n        redoItem.addActionListener(this);\r\n        redoItem.setActionCommand(&quot;Redo&quot;);\r\n        editMenu.add(redoItem);\r\n\r\n        copyItem = new JMenuItem(&quot;Copy&quot;);\r\n        copyItem.addActionListener(this);\r\n        copyItem.setActionCommand(&quot;Copy&quot;);\r\n        editMenu.add(copyItem);\r\n\r\n        pasteItem = new JMenuItem(&quot;Paste&quot;);\r\n        pasteItem.addActionListener(this);\r\n        pasteItem.setActionCommand(&quot;Paste&quot;);\r\n        editMenu.add(pasteItem);\r\n\r\n        cutItem = new JMenuItem(&quot;Cut&quot;);\r\n        cutItem.addActionListener(this);\r\n        cutItem.setActionCommand(&quot;Cut&quot;);\r\n        editMenu.add(cutItem);\r\n\r\n        //font\r\n\r\n\r\n\r\n        //size\r\n\r\n        smallItem = new JMenuItem(&quot;Small&quot;);\r\n        smallItem.addActionListener(this);\r\n        smallItem.setActionCommand(&quot;Small&quot;);\r\n        sizeMenu.add(smallItem);\r\n\r\n        mediumItem = new JMenuItem(&quot;Medium&quot;);\r\n        mediumItem.addActionListener(this);\r\n        mediumItem.setActionCommand(&quot;Medium&quot;);\r\n        sizeMenu.add(mediumItem);\r\n\r\n        largeItem = new JMenuItem(&quot;Large&quot;);\r\n        largeItem.addActionListener(this);\r\n        largeItem.setActionCommand(&quot;Large&quot;);\r\n        sizeMenu.add(largeItem);\r\n\r\n        frame.setJMenuBar(menuBar);\r\n    }\r\n\r\n\r\n\r\n}\r\n","title":"Creating an efficient &quot;Do you want to save before exiting?&quot; tab exiting","body":"<p>I am creating a swing clone of Notepad and I'm trying to figure out a way to improve the &quot;do you want to save before exiting tab part.</p>\n<p>I have a method that is called when the user wants to exit from the application:</p>\n<pre><code>private void onQuit() {\n    if (textArea.getText().equals(&quot;&quot;) &amp;&amp; (path == &quot;&quot; || path == null)) {\n        System.exit(0);\n    } else {\n        int result = JOptionPane.showConfirmDialog(frame, &quot;Do you want to save before exiting?&quot;,\n                &quot;Notepad&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\n        switch (result) {\n            case JOptionPane.YES_OPTION:\n                save();  //saves the edits made by the users\n                Thread thread = new Thread(() -&gt; {\n                    //fix this loop that is being called every second\n                    //I don't want to waste resources but can't figure out another way\n                    waiting =  true;\n                    while (waiting) {\n                        if ((saveWorker != null &amp;&amp; saveWorker.isDone()) || (saveAsWorker != null &amp;&amp; saveAsWorker.isDone())) {\n                            System.exit(0);\n                        }\n                    }\n                });\n                thread.start();\n                break;\n            case JOptionPane.NO_OPTION:\n                System.exit(0);\n                break;\n        }\n    }\n</code></pre>\n<p>Going over the code I made I first check if the application actually needs to save what has been edited through the first if. The problem is in the else though, where I create a JOptionPane and try to implement what to do when the YES option is selected. In this option the first thing I do is call save():</p>\n<pre><code>private void save() {\n    if (path == &quot;&quot; || path == null) {\n        saveAs();\n    } else {\n        saveWorker = new SwingWorker&lt;&gt;() {\n            @Override\n            protected NullType doInBackground() {\n                try {\n                    if (!path.endsWith(&quot;.txt&quot;)) {\n                        FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    } else {\n                        FileWriter writer = new FileWriter(path);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    }\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                return null;\n            }\n        };\n        saveWorker.execute();\n    }\n}\n</code></pre>\n<p>which also calls saveAs():</p>\n<pre><code>private void saveAs() {\n\n    saveAsWorker = new SwingWorker&lt;&gt;() {\n        @Override\n        protected String doInBackground() {\n            JFileChooser chooser = new JFileChooser();\n            int choice = chooser.showSaveDialog(frame);\n\n            String fileName = &quot;Untitled&quot;;\n\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    File file = chooser.getSelectedFile();\n                    path = file.toString();\n\n                    if (!path.endsWith(&quot;.txt&quot;)) {\n                        FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    } else {\n                        FileWriter writer = new FileWriter(path);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    }\n\n                    StringBuilder builder = new StringBuilder(path);\n                    fileName = builder.substring(builder.lastIndexOf(&quot;\\\\&quot;) + 1);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            return fileName;\n        }\n\n        @Override\n        protected void done() {\n            try {\n                frame.setTitle(get() + &quot;.txt&quot;);\n            } catch (InterruptedException | ExecutionException exception) {\n                exception.printStackTrace();\n            }\n        }\n    };\n\n    saveAsWorker.execute();\n\n}\n</code></pre>\n<p>Both of these methods use SwingWorker threads. Finally the point is, going back to what happens when the YES option is selected, I don't know how to let the Thread I created &quot;wait&quot; that the SwingWorkers are done. What I'm doing at the moment (and it's working) is using a while (true) loop from that thread that keeps checking if those threads are done, but this of course wastes a lots of resources. I'm sure there must be a way to do something like this: &quot;make the closing Thread wait until one worker says I'm done you can close the application&quot;. I tried using guarded blocks from official java tutorials but they are hard to implement with SwingWorker and I don't know how to really work with the intrinsic lock either which I think might be a solution too, but in the end I'm always stuck.</p>\n<p>Application is actually just a class so I might as well send it so you can test things out</p>\n<p>public class TextEditor implements ActionListener {</p>\n<pre><code>private JFrame frame;\nprivate JTextArea textArea;\nprivate JScrollPane scrollPane;\nprivate JMenuBar menuBar;\nprivate JMenu fileMenu, editMenu, fontMenu, sizeMenu;\nprivate JMenuItem newItem, openItem, saveItem, saveAsItem, exitItem;    //fileMenu\nprivate JMenuItem undoItem, redoItem, copyItem, pasteItem, cutItem;     //editMenu\nprivate JMenuItem smallItem, mediumItem, largeItem;                             //sizeMenu\n\nprivate UndoManager undoManager = new UndoManager();\nprivate String path;\nprivate SwingWorker&lt;NullType, NullType&gt; saveWorker;\nprivate SwingWorker&lt;String, NullType&gt; saveAsWorker;\nprivate boolean waiting;\n\n//todo do you want to save before exiting?\n//todo create frame of dimension depending size when it was closed\n//todo implement fonts?\n//todo add more customisable sizes?\n//todo package the application and create an installer\n\n\npublic static void main(String[] args) throws Exception {\n    //custom look and feel\n    UIManager.setLookAndFeel(new FlatDarculaLaf() {\n        @Override\n        public void provideErrorFeedback(Component component) {\n            Toolkit toolkit = null;\n            if (component != null) {\n                toolkit = component.getToolkit();\n            } else {\n                toolkit = Toolkit.getDefaultToolkit();\n            }\n            //this line produces an annoying beep so just comment it out\n            //toolkit.beep();\n        }\n    });\n    SwingUtilities.invokeLater(() -&gt; new TextEditor(&quot;Untitled&quot; , 809, 500));\n}\n\nprivate TextEditor(String title, int width, int height) {\n    Image icon = new ImageIcon(&quot;src/main/resources/killua.png&quot;).getImage();\n\n    frame = new JFrame(title);\n    frame.setIconImage(icon);\n    frame.setSize(width, height);\n    frame.setLocationRelativeTo(null);\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n    frame.addWindowListener(new WindowAdapter() {\n        @Override\n        public void windowClosing(WindowEvent e) {\n            onQuit();\n        }\n    });\n\n\n    createMenuBar();\n\n    textArea = new JTextArea();\n    textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 35));\n    textArea.setLineWrap(true);\n    textArea.setWrapStyleWord(true);\n    textArea.getDocument().addUndoableEditListener(e -&gt; undoManager.addEdit(e.getEdit()));\n\n    scrollPane = new JScrollPane(textArea);\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n\n    frame.add(scrollPane);\n    frame.setVisible(true);\n}\n\nprivate void onQuit() {\n    if (textArea.getText().equals(&quot;&quot;) &amp;&amp; (path == &quot;&quot; || path == null)) {\n        System.exit(0);\n    } else {\n        int result = JOptionPane.showConfirmDialog(frame, &quot;Do you want to save before exiting?&quot;,\n                &quot;Notepad&quot;, JOptionPane.YES_NO_CANCEL_OPTION);\n        switch (result) {\n            case JOptionPane.YES_OPTION:\n                save();\n                Thread thread = new Thread(() -&gt; {\n                    //fix this loop that is being called every second\n                    //I don't want to waste resources but can't figure out another way\n                    waiting =  true;\n                    while (waiting) {\n                        if ((saveWorker != null &amp;&amp; saveWorker.isDone()) || (saveAsWorker != null &amp;&amp; saveAsWorker.isDone())) {\n                            System.exit(0);\n                        }\n                    }\n                });\n                thread.start();\n                break;\n            case JOptionPane.NO_OPTION:\n                System.exit(0);\n                break;\n        }\n    }\n\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String command = e.getActionCommand();\n    switch (command) {\n        case &quot;New&quot; -&gt; {\n            frame.setTitle(&quot;Untitled&quot;);\n            textArea.setText(&quot;&quot;);\n            path = &quot;&quot;;\n        }\n        case &quot;Open&quot; -&gt; open();\n        case &quot;SaveAs&quot; -&gt; saveAs();\n        case &quot;Save&quot; -&gt; save();\n        case &quot;Exit&quot; -&gt; onQuit();\n        case &quot;Undo&quot; -&gt; undoManager.undo();\n        case &quot;Redo&quot; -&gt; undoManager.redo();\n        case &quot;Copy&quot; -&gt; textArea.copy();\n        case &quot;Paste&quot; -&gt; textArea.paste();\n        case &quot;Cut&quot; -&gt; textArea.cut();\n        case &quot;Small&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 30));\n        case &quot;Medium&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 35));\n        case &quot;Large&quot; -&gt; textArea.setFont(new Font(&quot;&quot;, Font.PLAIN, 40));\n    }\n}\n\nprivate void save() {\n    if (path == &quot;&quot; || path == null) {\n        saveAs();\n    } else {\n        saveWorker = new SwingWorker&lt;&gt;() {\n            @Override\n            protected NullType doInBackground() {\n                try {\n                    if (!path.endsWith(&quot;.txt&quot;)) {\n                        FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    } else {\n                        FileWriter writer = new FileWriter(path);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    }\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                return null;\n            }\n        };\n        saveWorker.execute();\n    }\n}\n\nprivate void saveAs() {\n\n    saveAsWorker = new SwingWorker&lt;&gt;() {\n        @Override\n        protected String doInBackground() {\n            JFileChooser chooser = new JFileChooser();\n            int choice = chooser.showSaveDialog(frame);\n\n            String fileName = &quot;Untitled&quot;;\n\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    File file = chooser.getSelectedFile();\n                    path = file.toString();\n\n                    if (!path.endsWith(&quot;.txt&quot;)) {\n                        FileWriter writer = new FileWriter(path + &quot;.txt&quot;);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    } else {\n                        FileWriter writer = new FileWriter(path);\n                        writer.write(textArea.getText());\n                        writer.close();\n                    }\n\n                    StringBuilder builder = new StringBuilder(path);\n                    fileName = builder.substring(builder.lastIndexOf(&quot;\\\\&quot;) + 1);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            return fileName;\n        }\n\n        @Override\n        protected void done() {\n            try {\n                frame.setTitle(get() + &quot;.txt&quot;);\n            } catch (InterruptedException | ExecutionException exception) {\n                exception.printStackTrace();\n            }\n        }\n    };\n\n    saveAsWorker.execute();\n\n}\n\nprivate void open() {\n    SwingWorker&lt;List&lt;String&gt;, NullType&gt; worker = new SwingWorker&lt;&gt;() {\n        @Override\n        protected List&lt;String&gt; doInBackground() {\n            JFileChooser chooser = new JFileChooser();\n            int choice = chooser.showOpenDialog(frame);\n\n            String fileName = &quot;&quot;;\n            path = &quot;&quot;;\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                File file = chooser.getSelectedFile();\n                StringBuilder stringBuilder = new StringBuilder(file.toString());\n                fileName = stringBuilder.substring(stringBuilder.lastIndexOf(&quot;\\\\&quot;) + 1);\n                path = file.getPath();\n            }\n\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n\n            try {\n                FileReader fileReader = new FileReader(path);\n                BufferedReader reader = new BufferedReader(fileReader);\n\n                String line;\n                while ((line = reader.readLine()) != null)\n                    lines.add(line);\n\n                fileReader.close();\n                reader.close();\n\n                lines.add(fileName);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            return lines;\n        }\n\n        @Override\n        protected void done() {\n            try {\n                textArea.setText(&quot;&quot;);\n                List&lt;String&gt; lines = get();\n\n                for (int i = 0; i &lt;= lines.size() - 2; i++)\n                    textArea.append(lines.get(i) + &quot;\\n&quot;);\n\n                frame.setTitle(lines.get(lines.size() - 1));\n            } catch (InterruptedException | ExecutionException | IndexOutOfBoundsException exception) {\n                exception.printStackTrace();\n            }\n        }\n    };\n\n    worker.execute();\n}\n\nprivate void createMenuBar() {\n\n    menuBar = new JMenuBar();\n\n    fileMenu = new JMenu(&quot;File&quot;);\n    editMenu = new JMenu(&quot;Edit&quot;);\n    fontMenu = new JMenu(&quot;Font&quot;);\n    sizeMenu = new JMenu(&quot;Size&quot;);\n\n    List&lt;JMenu&gt; menus = Arrays.asList(fileMenu, editMenu, fontMenu, sizeMenu);\n    menus.forEach(menu -&gt; {\n        menu.getPopupMenu().setBorder(null);\n        menuBar.add(menu);\n    });\n\n    //file\n\n    newItem = new JMenuItem(&quot;New&quot;);\n    newItem.addActionListener(this);\n    newItem.setActionCommand(&quot;New&quot;);\n    fileMenu.add(newItem);\n\n    openItem = new JMenuItem(&quot;Open&quot;);\n    openItem.addActionListener(this);\n    openItem.setActionCommand(&quot;Open&quot;);\n    fileMenu.add(openItem);\n\n    saveItem = new JMenuItem(&quot;Save&quot;);\n    saveItem.addActionListener(this);\n    saveItem.setActionCommand(&quot;Save&quot;);\n    fileMenu.add(saveItem);\n\n    saveAsItem = new JMenuItem(&quot;SaveAs&quot;);\n    saveAsItem.addActionListener(this);\n    saveAsItem.setActionCommand(&quot;SaveAs&quot;);\n    fileMenu.add(saveAsItem);\n\n    exitItem = new JMenuItem(&quot;Exit&quot;);\n    exitItem.addActionListener(this);\n    exitItem.setActionCommand(&quot;Exit&quot;);\n    fileMenu.add(exitItem);\n\n    //edit\n\n    undoItem = new JMenuItem(&quot;Undo&quot;);\n    undoItem.addActionListener(this);\n    undoItem.setActionCommand(&quot;Undo&quot;);\n    editMenu.add(undoItem);\n\n    redoItem = new JMenuItem(&quot;Redo&quot;);\n    redoItem.addActionListener(this);\n    redoItem.setActionCommand(&quot;Redo&quot;);\n    editMenu.add(redoItem);\n\n    copyItem = new JMenuItem(&quot;Copy&quot;);\n    copyItem.addActionListener(this);\n    copyItem.setActionCommand(&quot;Copy&quot;);\n    editMenu.add(copyItem);\n\n    pasteItem = new JMenuItem(&quot;Paste&quot;);\n    pasteItem.addActionListener(this);\n    pasteItem.setActionCommand(&quot;Paste&quot;);\n    editMenu.add(pasteItem);\n\n    cutItem = new JMenuItem(&quot;Cut&quot;);\n    cutItem.addActionListener(this);\n    cutItem.setActionCommand(&quot;Cut&quot;);\n    editMenu.add(cutItem);\n\n    //font\n\n\n\n    //size\n\n    smallItem = new JMenuItem(&quot;Small&quot;);\n    smallItem.addActionListener(this);\n    smallItem.setActionCommand(&quot;Small&quot;);\n    sizeMenu.add(smallItem);\n\n    mediumItem = new JMenuItem(&quot;Medium&quot;);\n    mediumItem.addActionListener(this);\n    mediumItem.setActionCommand(&quot;Medium&quot;);\n    sizeMenu.add(mediumItem);\n\n    largeItem = new JMenuItem(&quot;Large&quot;);\n    largeItem.addActionListener(this);\n    largeItem.setActionCommand(&quot;Large&quot;);\n    sizeMenu.add(largeItem);\n\n    frame.setJMenuBar(menuBar);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":6853261,"reputation":358,"user_id":5269763,"display_name":"fabien t"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443213389,"creation_date":1443213389,"answer_id":32790276,"question_id":32790111,"body_markdown":"Maybe spring doesn&#39;t know the file ?\r\n\r\nThis can be fix on annotated your class where the `@Value(&quot;${swagger.scanner.can.run}&quot;) `is used :\r\n\r\n    @PropertySource(value=&quot;classpath:config.properties&quot;)\r\n\r\nRegards,","title":"Spring Condition not able to read value from property file","body":"<p>Maybe spring doesn't know the file ?</p>\n\n<p>This can be fix on annotated your class where the <code>@Value(\"${swagger.scanner.can.run}\")</code>is used :</p>\n\n<pre><code>@PropertySource(value=\"classpath:config.properties\")\n</code></pre>\n\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":1109209,"reputation":45,"user_id":1099993,"display_name":"user1099993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487917102,"creation_date":1487917102,"answer_id":42432051,"question_id":32790111,"body_markdown":"----------\r\nThe object of class implementing &quot;Condition&quot; is created via constructor from Spring, so you can not inject values using @Value annotation. You can do something like below in your code:\r\n  \r\n\r\n           \r\n    @Override        \r\n    public boolean matches(\r\n    ConditionContext arg0, \r\n                AnnotatedTypeMetadata arg1) {       \r\n            String prop = conditionContext.getEnvironment()\r\n                     .getProperty(&quot;arg0&quot;);   \r\n    //further code   \r\n         }    \r\n\r\n","title":"Spring Condition not able to read value from property file","body":"<hr>\n\n<p>The object of class implementing \"Condition\" is created via constructor from Spring, so you can not inject values using @Value annotation. You can do something like below in your code:</p>\n\n<pre><code>@Override        \npublic boolean matches(\nConditionContext arg0, \n            AnnotatedTypeMetadata arg1) {       \n        String prop = conditionContext.getEnvironment()\n                 .getProperty(\"arg0\");   \n//further code   \n     }    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1393411,"reputation":1096,"user_id":1323698,"display_name":"Qwertovsky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522251442,"creation_date":1522251442,"answer_id":49538678,"question_id":32790111,"body_markdown":"If you add `@Conditional` to config class then `APIScanningDecisionMaker` should implement `ConfigurationCondition`. And don&#39;t forget to add `@PropertySource` to config class.\r\n\r\n    import org.springframework.context.annotation.ConfigurationCondition;\r\n    \r\n    public class APIScanningDecisionMaker implement ConfigurationCondition {\r\n        @Override\r\n        public ConfigurationPhase getConfigurationPhase() {\r\n            return ConfigurationPhase.REGISTER_BEAN;\r\n        }\r\n    }\r\n\r\nProperties will have been loaded in `ConfigurationPhase.REGISTER_BEAN` phase.\r\n\r\nIf you use `@Conditional` for methods then you could implement `Condition`.","title":"Spring Condition not able to read value from property file","body":"<p>If you add <code>@Conditional</code> to config class then <code>APIScanningDecisionMaker</code> should implement <code>ConfigurationCondition</code>. And don't forget to add <code>@PropertySource</code> to config class.</p>\n\n<pre><code>import org.springframework.context.annotation.ConfigurationCondition;\n\npublic class APIScanningDecisionMaker implement ConfigurationCondition {\n    @Override\n    public ConfigurationPhase getConfigurationPhase() {\n        return ConfigurationPhase.REGISTER_BEAN;\n    }\n}\n</code></pre>\n\n<p>Properties will have been loaded in <code>ConfigurationPhase.REGISTER_BEAN</code> phase.</p>\n\n<p>If you use <code>@Conditional</code> for methods then you could implement <code>Condition</code>.</p>\n"},{"tags":[],"owner":{"account_id":6173800,"reputation":625,"user_id":5609463,"accept_rate":0,"display_name":"Mike"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1534939245,"creation_date":1534939245,"answer_id":51966414,"question_id":32790111,"body_markdown":"this works fine for me\r\n\r\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n        try {\r\n            InputStream i = conditionContext.getResourceLoader().getResource(&quot;prop.file&quot;).getInputStream();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(i));\r\n            StringBuilder out = new StringBuilder();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                out.append(line);\r\n            }\r\n            System.out.println(out.toString());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n \r\n        return true;\r\n    }","title":"Spring Condition not able to read value from property file","body":"<p>this works fine for me</p>\n\n<pre><code>public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n    try {\n        InputStream i = conditionContext.getResourceLoader().getResource(\"prop.file\").getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(i));\n        StringBuilder out = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            out.append(line);\n        }\n        System.out.println(out.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117490,"reputation":889,"user_id":2691447,"display_name":"msd.salehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639419354,"creation_date":1639419354,"answer_id":70339188,"question_id":32790111,"body_markdown":"You can manually load the properties file, if due to any problem its not loading into spring&#39;s context at the time it is constructing your Condition.\r\n\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n      try {\r\n          Properties appProps = new Properties();\r\n    appProps.load(context.getResourceLoader().getResource(&quot;classpath:app.properties&quot;).getInputStream());\r\n          String canRunFlagInStr = appProps.getProperty(&quot;swagger.scanner.can.run&quot;);\r\n          return Boolean.parseBoolean(canRunFlagInStr);\r\n      } catch (IOException e) {\r\n          throw new ApplicationContextException((&quot;Exception while loading context&quot;, e);\r\n      }\r\n    }","title":"Spring Condition not able to read value from property file","body":"<p>You can manually load the properties file, if due to any problem its not loading into spring's context at the time it is constructing your Condition.</p>\n<pre><code>@Override\npublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n  try {\n      Properties appProps = new Properties();\nappProps.load(context.getResourceLoader().getResource(&quot;classpath:app.properties&quot;).getInputStream());\n      String canRunFlagInStr = appProps.getProperty(&quot;swagger.scanner.can.run&quot;);\n      return Boolean.parseBoolean(canRunFlagInStr);\n  } catch (IOException e) {\n      throw new ApplicationContextException((&quot;Exception while loading context&quot;, e);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7000,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1639419354,"creation_date":1443212666,"question_id":32790111,"body_markdown":"I am trying to implement Spring Condition `org.springframework.context.annotation.Condition`as follows:\r\n\r\n    public class APIScanningDecisionMaker implements Condition {\r\n\r\n\t   @Override\r\n\t   public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\r\n\t\t// Not able to read the property &quot;swagger.scanner.can.run&quot;. It is always NULL.\r\n\t\tString canRunFlagInStr = context.getEnvironment().getProperty(&quot;swagger.scanner.can.run&quot;);\r\n       // Ignore the rest of the code.\r\n       }\r\n    }\r\n\r\nHowever, as shown in the above code, when I read the property &quot;swagger.scanner.can.run&quot; it is always NULL. In my property file I have set it to &quot;swagger.scanner.can.run=false&quot;.\r\n\r\nI also tried to use the `@Value(&quot;${swagger.scanner.can.run}&quot;)` but even that returns NULL. When I put a debug in this method I can see that it is being called.\r\n\r\nJust for the sake of completion I am using the `APIScanningDecisionMaker` as follows:\r\n\r\n    @Configuration\r\n    @EnableSwagger\r\n    @Conditional(APIScanningDecisionMaker.class)\r\n    public class CustomSwaggerConfig {\r\n      // Ignore the rest of the code\r\n    }\r\n\r\nIs there any reason why &quot;swagger.scanner.can.run&quot; is being retrieved as NULL?\r\n    ","title":"Spring Condition not able to read value from property file","body":"<p>I am trying to implement Spring Condition <code>org.springframework.context.annotation.Condition</code>as follows:</p>\n\n<pre><code>public class APIScanningDecisionMaker implements Condition {\n\n   @Override\n   public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n\n    // Not able to read the property \"swagger.scanner.can.run\". It is always NULL.\n    String canRunFlagInStr = context.getEnvironment().getProperty(\"swagger.scanner.can.run\");\n   // Ignore the rest of the code.\n   }\n}\n</code></pre>\n\n<p>However, as shown in the above code, when I read the property \"swagger.scanner.can.run\" it is always NULL. In my property file I have set it to \"swagger.scanner.can.run=false\".</p>\n\n<p>I also tried to use the <code>@Value(\"${swagger.scanner.can.run}\")</code> but even that returns NULL. When I put a debug in this method I can see that it is being called.</p>\n\n<p>Just for the sake of completion I am using the <code>APIScanningDecisionMaker</code> as follows:</p>\n\n<pre><code>@Configuration\n@EnableSwagger\n@Conditional(APIScanningDecisionMaker.class)\npublic class CustomSwaggerConfig {\n  // Ignore the rest of the code\n}\n</code></pre>\n\n<p>Is there any reason why \"swagger.scanner.can.run\" is being retrieved as NULL?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638715895,"creation_date":1638715895,"answer_id":70235478,"question_id":70235350,"body_markdown":"&gt; This is wrong because in reality only one should be picking something\r\n&gt; at a time and then smoking it so others can have it also.\r\n\r\nBecause your `Pusac` Thread class run method is not guarded by anyone, you need to `synchronize` the `run` code block using the same monitor which you used to lock for `smoke` method. You can try `synchronizing` both `smoke` and `run` method by `Agent.class` \r\n\r\n    public void smoke() {\r\n        synchronized(Agent.class) {\r\n            ......\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while(true) {\r\n            synchronized(Agent.class) {\r\n                ......\r\n            }\r\n        }\r\n    }","title":"Java MultiThreading task, three smokers and one agent","body":"<blockquote>\n<p>This is wrong because in reality only one should be picking something\nat a time and then smoking it so others can have it also.</p>\n</blockquote>\n<p>Because your <code>Pusac</code> Thread class run method is not guarded by anyone, you need to <code>synchronize</code> the <code>run</code> code block using the same monitor which you used to lock for <code>smoke</code> method. You can try <code>synchronizing</code> both <code>smoke</code> and <code>run</code> method by <code>Agent.class</code></p>\n<pre><code>public void smoke() {\n    synchronized(Agent.class) {\n        ......\n    }\n}\n\n@Override\npublic void run() {\n    while(true) {\n        synchronized(Agent.class) {\n            ......\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639419313,"creation_date":1638716285,"answer_id":70235533,"question_id":70235350,"body_markdown":"When sharing mutable variables between threads those variables must be handled differently as otherwise each of the reading threads might see different values.\r\n\r\ntldr:\r\n\r\nSimplest way to fix your existing program is most likely to define all of the variables &quot;volatile&quot;, like\r\n\r\n    volatile boolean paper;\r\n    volatile boolean tobacco;\r\n    volatile boolean lighters;\r\n\r\n\r\nThe somewhat longer explanation: for performance reasons threads may read variables not via (slow) RAM access, but fetch them from cache.\r\nThis works as long as only the same thread reads and writes the variable, but fails when you try to set the value in one thread and read it back from a different one. The reading thread may see still the older value.\r\n\r\nOne way to fix it is declare the variable volatile. This basically instructs the value to always be read from RAM - which should not make much of a difference for a project of this size.\r\n\r\nYou could also use java.util.concurrent.atomic.AtomicBoolean instead of a primitive boolean, which should result in the same thing for this use-case.\r\n\r\nAnother way to fix the issue is to ensure all write changes on the variable are within a synchronized-block. This way the overhead is on the write-process and no longer on the readers.\r\n\r\nHowever, as thread safety becomes a deep topic fast, if you are planning to do more multithreaded applications like this there is some extensive reading material on the topic out there ;-)","title":"Java MultiThreading task, three smokers and one agent","body":"<p>When sharing mutable variables between threads those variables must be handled differently as otherwise each of the reading threads might see different values.</p>\n<p>tldr:</p>\n<p>Simplest way to fix your existing program is most likely to define all of the variables &quot;volatile&quot;, like</p>\n<pre><code>volatile boolean paper;\nvolatile boolean tobacco;\nvolatile boolean lighters;\n</code></pre>\n<p>The somewhat longer explanation: for performance reasons threads may read variables not via (slow) RAM access, but fetch them from cache.\nThis works as long as only the same thread reads and writes the variable, but fails when you try to set the value in one thread and read it back from a different one. The reading thread may see still the older value.</p>\n<p>One way to fix it is declare the variable volatile. This basically instructs the value to always be read from RAM - which should not make much of a difference for a project of this size.</p>\n<p>You could also use java.util.concurrent.atomic.AtomicBoolean instead of a primitive boolean, which should result in the same thing for this use-case.</p>\n<p>Another way to fix the issue is to ensure all write changes on the variable are within a synchronized-block. This way the overhead is on the write-process and no longer on the readers.</p>\n<p>However, as thread safety becomes a deep topic fast, if you are planning to do more multithreaded applications like this there is some extensive reading material on the topic out there ;-)</p>\n"}],"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70235478,"answer_count":2,"score":1,"last_activity_date":1639419313,"creation_date":1638714803,"question_id":70235350,"body_markdown":"the task consists of three smokers which are three threads and one class called Agent which has three attributes\r\n**Tobacco**, **Lighters** and **Paper**.  \r\nSmokers only have one of these items with them, agent class is supposed to put two items randomly on the table and then **Smoker** is supposed to check if they are missing those two items and pick them up so they can use them for smoking.   \r\n\r\nI am having an issue where my output is acting bit odd, smokers tend to pick all of the items they are missing at the same time even though i think i put that they are not allowed to do that.\r\n\r\nMain class\r\n----------\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAgent a = new Agent();\r\n\t\t\r\n\t\tPusac p1 = new Pusac(0,a,&quot;Paper&quot;);\r\n\t\tPusac p2 = new Pusac(1,a,&quot;Tobacco&quot;);\r\n\t\tPusac p3 = new Pusac(2,a,&quot;Lighters&quot;);\r\n\r\n\t\tp1.start();\r\n\t\tp2.start();\r\n\t\tp3.start();\r\n\t}\r\n\r\n}  \r\n```  \r\nI make one agent using a constructor and I pass it to the constructor of smokers.Each smoker has one item, ID, and agent.\r\n   \r\n\r\nSmoker class\r\n------------\r\n\r\n```  \r\npublic class Pusac extends Thread {\r\n\r\n\tint id;\r\n\tAgent a;\r\n\tString owns;\r\n\t\r\n\tpublic Pusac(int id, Agent a, String owns) {\r\n\t\tthis.id = id;\r\n\t\tthis.a = a;\r\n\t\tthis.owns = owns;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile(true) {\r\n\t\ta.putTable();\r\n\t\tif(this.owns.equals(&quot;Paper&quot;) &amp;&amp; a.tobacco == true &amp;&amp; a.lighters == true){\r\n\t\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took tobacco and lighters.&quot;);\r\n\t            a.smoke();\r\n\t\t} else if(this.owns.equals(&quot;Tobacco&quot;) &amp;&amp; a.lighters == true &amp;&amp; a.paper == true) {\r\n\t\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took lighters and paper.&quot;);\r\n\t\t\t\ta.smoke();\r\n\t\t} else if(this.owns.equals(&quot;Lighters&quot;) &amp;&amp; a.paper == true &amp;&amp; a.tobacco == true) {\r\n\t\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took paper and tobacco.&quot;);\r\n\t\t\t\ta.smoke();\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n```  \r\nIn the smoker class function, I check if that agent has items needed for the current thread smoker and then I call the function that is in Agent class.     \r\n\r\nAgent class\r\n-----------\r\n\r\n```  \r\npublic class Agent {\r\n\r\n\tboolean paper;\r\n\tboolean tobacco;\r\n\tboolean lighters;\r\n\t\r\n\t\r\n\tpublic  void putTable() {\r\n\t\tRandom random = new Random();\r\n\t    int randomNumOne = random.nextInt(3);\r\n\t    \r\n\t    switch(randomNumOne) {\r\n\t    case 0:\r\n\t    \tpaper = true;\r\n\t    case 1: \r\n\t    \ttobacco = true;\r\n\t    case 2:\r\n\t    \tlighters = true;\r\n\t    }\r\n\t    \r\n\t    int randomNumTwo = random.nextInt(3);\r\n\t    \r\n\t    if(paper!=true &amp;&amp; randomNumTwo==0) {\r\n\t    \tpaper = true;\r\n\t    } else if(tobacco!=true &amp;&amp; randomNumTwo == 1) {\r\n\t    \ttobacco = true;\r\n\t    } else if(lighters != true &amp;&amp; randomNumTwo == 2) {\r\n\t    \tlighters = true;\r\n\t    }\r\n\t}\r\n\t\r\n\tpublic synchronized void smoke() {\r\n\t\tSystem.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; is smoking.&quot;);\r\n\t\ttry {\r\n\t\t\tThread.sleep(2000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif(((Pusac)Thread.currentThread()).owns.equals(&quot;Paper&quot;)) {\r\n\t\t\tthis.tobacco = false;\r\n\t\t\tthis.lighters = false;\r\n\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down tobacco and lighters.&quot;);\r\n\t\t} else if(((Pusac)Thread.currentThread()).owns.equals(&quot;Tobacco&quot;)) {\r\n\t\t\tthis.paper =false;\r\n\t\t\tthis.lighters =false;\r\n\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down paper and lighters.&quot;);\r\n\t\t} else if (((Pusac)Thread.currentThread()).owns.equals(&quot;Lighters&quot;)) {\r\n\t\t\tthis.tobacco =false;\r\n\t\t\tthis.paper =false;\r\n\t\t\tSystem.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down paper and tobacco.&quot;);\r\n\t\t}\r\n\t\t\r\n  }\r\n}\r\n```   \r\nA final class called Agent consists of a function that randomly puts two items on the table **items are boolean** and then I have function smoke that just checks which smoker was smoking and then sets everything to be **false**.   \r\n   \r\n\r\nOutput I am getting\r\n-------------------\r\n\r\n```  \r\nSmoker with ID 2 took paper and tobacco.\r\nSmoker with ID 1 took lighters and paper.\r\nSmoker with ID 0 took tobacco and lighters.\r\nSmoker with ID 2 is smoking.\r\nSmoker with ID 2 put down paper and tobacco.\r\nSmoker with ID 2 took paper and tobacco.\r\nSmoker with ID 0 is smoking.\r\nSmoker with ID 0 put down tobacco and lighters.\r\nSmoker with ID 0 took tobacco and lighters.\r\nSmoker with ID 1 is smoking.\r\n```   \r\n\r\nThis is wrong because in reality only one should be picking something at a time and then smoking it so others can have it also.   \r\n\r\nThank you for your help sincerely.","title":"Java MultiThreading task, three smokers and one agent","body":"<p>the task consists of three smokers which are three threads and one class called Agent which has three attributes\n<strong>Tobacco</strong>, <strong>Lighters</strong> and <strong>Paper</strong>.<br />\nSmokers only have one of these items with them, agent class is supposed to put two items randomly on the table and then <strong>Smoker</strong> is supposed to check if they are missing those two items and pick them up so they can use them for smoking.</p>\n<p>I am having an issue where my output is acting bit odd, smokers tend to pick all of the items they are missing at the same time even though i think i put that they are not allowed to do that.</p>\n<h2>Main class</h2>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Agent a = new Agent();\n        \n        Pusac p1 = new Pusac(0,a,&quot;Paper&quot;);\n        Pusac p2 = new Pusac(1,a,&quot;Tobacco&quot;);\n        Pusac p3 = new Pusac(2,a,&quot;Lighters&quot;);\n\n        p1.start();\n        p2.start();\n        p3.start();\n    }\n\n}  \n</code></pre>\n<p>I make one agent using a constructor and I pass it to the constructor of smokers.Each smoker has one item, ID, and agent.</p>\n<h2>Smoker class</h2>\n<pre><code>public class Pusac extends Thread {\n\n    int id;\n    Agent a;\n    String owns;\n    \n    public Pusac(int id, Agent a, String owns) {\n        this.id = id;\n        this.a = a;\n        this.owns = owns;\n    }\n    \n    @Override\n    public void run() {\n        while(true) {\n        a.putTable();\n        if(this.owns.equals(&quot;Paper&quot;) &amp;&amp; a.tobacco == true &amp;&amp; a.lighters == true){\n                System.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took tobacco and lighters.&quot;);\n                a.smoke();\n        } else if(this.owns.equals(&quot;Tobacco&quot;) &amp;&amp; a.lighters == true &amp;&amp; a.paper == true) {\n                System.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took lighters and paper.&quot;);\n                a.smoke();\n        } else if(this.owns.equals(&quot;Lighters&quot;) &amp;&amp; a.paper == true &amp;&amp; a.tobacco == true) {\n                System.out.println(&quot;Smoker with ID &quot; + this.id + &quot; took paper and tobacco.&quot;);\n                a.smoke();\n        }\n        }\n    }\n    \n}\n\n</code></pre>\n<p>In the smoker class function, I check if that agent has items needed for the current thread smoker and then I call the function that is in Agent class.</p>\n<h2>Agent class</h2>\n<pre><code>public class Agent {\n\n    boolean paper;\n    boolean tobacco;\n    boolean lighters;\n    \n    \n    public  void putTable() {\n        Random random = new Random();\n        int randomNumOne = random.nextInt(3);\n        \n        switch(randomNumOne) {\n        case 0:\n            paper = true;\n        case 1: \n            tobacco = true;\n        case 2:\n            lighters = true;\n        }\n        \n        int randomNumTwo = random.nextInt(3);\n        \n        if(paper!=true &amp;&amp; randomNumTwo==0) {\n            paper = true;\n        } else if(tobacco!=true &amp;&amp; randomNumTwo == 1) {\n            tobacco = true;\n        } else if(lighters != true &amp;&amp; randomNumTwo == 2) {\n            lighters = true;\n        }\n    }\n    \n    public synchronized void smoke() {\n        System.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; is smoking.&quot;);\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        if(((Pusac)Thread.currentThread()).owns.equals(&quot;Paper&quot;)) {\n            this.tobacco = false;\n            this.lighters = false;\n            System.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down tobacco and lighters.&quot;);\n        } else if(((Pusac)Thread.currentThread()).owns.equals(&quot;Tobacco&quot;)) {\n            this.paper =false;\n            this.lighters =false;\n            System.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down paper and lighters.&quot;);\n        } else if (((Pusac)Thread.currentThread()).owns.equals(&quot;Lighters&quot;)) {\n            this.tobacco =false;\n            this.paper =false;\n            System.out.println(&quot;Smoker with ID &quot; + ((Pusac)Thread.currentThread()).id + &quot; put down paper and tobacco.&quot;);\n        }\n        \n  }\n}\n</code></pre>\n<p>A final class called Agent consists of a function that randomly puts two items on the table <strong>items are boolean</strong> and then I have function smoke that just checks which smoker was smoking and then sets everything to be <strong>false</strong>.</p>\n<h2>Output I am getting</h2>\n<pre><code>Smoker with ID 2 took paper and tobacco.\nSmoker with ID 1 took lighters and paper.\nSmoker with ID 0 took tobacco and lighters.\nSmoker with ID 2 is smoking.\nSmoker with ID 2 put down paper and tobacco.\nSmoker with ID 2 took paper and tobacco.\nSmoker with ID 0 is smoking.\nSmoker with ID 0 put down tobacco and lighters.\nSmoker with ID 0 took tobacco and lighters.\nSmoker with ID 1 is smoking.\n</code></pre>\n<p>This is wrong because in reality only one should be picking something at a time and then smoking it so others can have it also.</p>\n<p>Thank you for your help sincerely.</p>\n"},{"tags":["java","xml","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639983945,"post_id":70338965,"comment_id":124478031,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639419257,"creation_date":1639419257,"answer_id":70339171,"question_id":70338965,"body_markdown":"Your \r\n\r\n    &lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\r\n                             input-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                             ref=&quot;ayobaSmsTransformer&quot;\r\n                             method=&quot;ayobaSmsResponseTransform&quot; /&gt;\r\n\r\nDoes not have an `output-channel` definition therefore it tries to resolve a `replyChannel` header which is not present in the message when you route from the `ayobaSmsValidationRouter`.\r\n\r\nYou showed only a `ayobaSmsRequestTransformer`, but it is not clear what sends messages to its `ayobaSMSChannel`. \r\n\r\nPerhaps you have a `&lt;gateway&gt;` upfront with respective messaging contracts on its methods. And perhaps you have a `void` for that `CACHED` token. And from here it looks like you don&#39;t use the latest Spring Integration. \r\n\r\nSee docs for more info: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway\r\n\r\n&gt;  \tStarting with version 5.4, when gateway method return type is void, the framework populates a replyChannel header as a nullChannel bean reference if such a header is not provided explicitly. This allows any possible reply from the downstream flow to be discarded, meeting the one-way gateway contract. \r\n\r\nAnd see the latest version to upgrade: https://spring.io/projects/spring-integration#learn","title":"Spring Integration no output-channel or replyChannel","body":"<p>Your</p>\n<pre><code>&lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\n                         input-channel=&quot;ayobaSmsOutputChannel&quot;\n                         ref=&quot;ayobaSmsTransformer&quot;\n                         method=&quot;ayobaSmsResponseTransform&quot; /&gt;\n</code></pre>\n<p>Does not have an <code>output-channel</code> definition therefore it tries to resolve a <code>replyChannel</code> header which is not present in the message when you route from the <code>ayobaSmsValidationRouter</code>.</p>\n<p>You showed only a <code>ayobaSmsRequestTransformer</code>, but it is not clear what sends messages to its <code>ayobaSMSChannel</code>.</p>\n<p>Perhaps you have a <code>&lt;gateway&gt;</code> upfront with respective messaging contracts on its methods. And perhaps you have a <code>void</code> for that <code>CACHED</code> token. And from here it looks like you don't use the latest Spring Integration.</p>\n<p>See docs for more info: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#gateway</a></p>\n<blockquote>\n<p>Starting with version 5.4, when gateway method return type is void, the framework populates a replyChannel header as a nullChannel bean reference if such a header is not provided explicitly. This allows any possible reply from the downstream flow to be discarded, meeting the one-way gateway contract.</p>\n</blockquote>\n<p>And see the latest version to upgrade: <a href=\"https://spring.io/projects/spring-integration#learn\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-integration#learn</a></p>\n"}],"owner":{"account_id":23226343,"reputation":1,"user_id":17317831,"display_name":"Muhammad Junaid Tariq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639419257,"creation_date":1639418269,"question_id":70338965,"body_markdown":"I am working on a scenario where I have to get token in 1st call and then validate that token in the 2nd call.\r\n\r\nMy spring integration files looks like \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:integration=&quot;http://www.springframework.org/schema/integration&quot;\r\n       xmlns:ws=&quot;http://www.springframework.org/schema/integration/ws&quot;\r\n       xmlns:http=&quot;http://www.springframework.org/schema/integration/http&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd\r\n       http://www.springframework.org/schema/integration/ws http://www.springframework.org/schema/integration/ws/spring-integration-ws.xsd\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd&quot;&gt;\r\n\r\n    &lt;!-- Entry channel into this flow is ucipTopupChannel --&gt;\r\n\r\n    &lt;integration:transformer id=&quot;ayobaSmsRequestTransformer&quot;\r\n                             input-channel=&quot;ayobaSMSChannel&quot;\r\n                             output-channel=&quot;ayobaSmsTransformerOutputChannel&quot;\r\n                             ref=&quot;ayobaSmsTransformer&quot;\r\n                             method=&quot;ayobaSmsRequestTransform&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsTransformerOutputChannel&quot; /&gt;\r\n\r\n    &lt;integration:header-value-router id=&quot;ayobaSmsValidationRouter&quot; input-channel=&quot;ayobaSmsTransformerOutputChannel&quot; header-name=&quot;VALIDATION&quot;&gt;\r\n        &lt;integration:mapping value=&quot;FAILED&quot; channel=&quot;ayobaSmsValidationFailedChannel&quot;  /&gt;\r\n        &lt;integration:mapping value=&quot;PASSED&quot; channel=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\r\n    &lt;/integration:header-value-router&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsValidationFailedChannel&quot; /&gt;\r\n\r\n    &lt;integration:service-activator input-channel=&quot;ayobaSmsValidationFailedChannel&quot; ref=&quot;validationFailedServiceActivator&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\r\n\r\n    &lt;integration:object-to-json-transformer id=&quot;ayobaJsonTransformer&quot;\r\n                                            input-channel=&quot;ayobaSmsValidationRouterOutputChannel&quot;\r\n                                            output-channel=&quot;ayobaJsonChannel&quot;\r\n                                            object-mapper=&quot;customObjectMapper&quot;\r\n                                            content-type=&quot;application/json&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaJsonChannel&quot; /&gt;\r\n\r\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\r\n                           extract-request-payload=&quot;true&quot;\r\n                           url-expression=&quot;headers[&#39;url&#39;]&quot;\r\n                           request-channel=&quot;ayobaJsonChannel&quot;\r\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\r\n                           expected-response-type=&quot;java.lang.String&quot;\r\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\r\n\r\n    &lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\r\n                             input-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                             ref=&quot;ayobaSmsTransformer&quot;\r\n                             method=&quot;ayobaSmsResponseTransform&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsOutputChannel&quot; /&gt;\r\n\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nBut now I have to check tokenExpiry for which I am trying to save my extra call, but I am getting below error\r\n\r\n&gt; Caused by: org.springframework.messaging.core.DestinationResolutionException: no output-channel or replyChannel header available\r\n\r\nand my config file looks like\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:integration=&quot;http://www.springframework.org/schema/integration&quot;\r\n       xmlns:ws=&quot;http://www.springframework.org/schema/integration/ws&quot;\r\n       xmlns:http=&quot;http://www.springframework.org/schema/integration/http&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd\r\n       http://www.springframework.org/schema/integration/ws http://www.springframework.org/schema/integration/ws/spring-integration-ws.xsd\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd&quot;&gt;\r\n\r\n    &lt;!-- Entry channel into this flow is ucipTopupChannel --&gt;\r\n\r\n    &lt;integration:transformer id=&quot;ayobaSmsRequestTransformer&quot;\r\n                             input-channel=&quot;ayobaSMSChannel&quot;\r\n                             output-channel=&quot;ayobaSmsTransformerOutputChannel&quot;\r\n                             ref=&quot;ayobaSmsTransformer&quot;\r\n                             method=&quot;ayobaSmsRequestTransform&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsTransformerOutputChannel&quot; /&gt;\r\n\r\n    &lt;integration:header-value-router id=&quot;ayobaSmsValidationRouter&quot; input-channel=&quot;ayobaSmsTransformerOutputChannel&quot; header-name=&quot;VALIDATION&quot;&gt;\r\n        &lt;integration:mapping value=&quot;FAILED&quot; channel=&quot;ayobaSmsValidationFailedChannel&quot;  /&gt;\r\n        &lt;integration:mapping value=&quot;PASSED&quot; channel=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\r\n        &lt;integration:mapping value=&quot;CACHED&quot; channel=&quot;ayobaSmsOutputChannel&quot; /&gt;\r\n    &lt;/integration:header-value-router&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsValidationFailedChannel&quot; /&gt;\r\n\r\n    &lt;integration:service-activator input-channel=&quot;ayobaSmsValidationFailedChannel&quot; ref=&quot;validationFailedServiceActivator&quot; output-channel=&quot;ayobaSmsOutputChannel&quot; requires-reply=&quot;false&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\r\n\r\n    &lt;integration:object-to-json-transformer id=&quot;ayobaJsonTransformer&quot;\r\n                                            input-channel=&quot;ayobaSmsValidationRouterOutputChannel&quot;\r\n                                            output-channel=&quot;ayobaJsonChannel&quot;\r\n                                            object-mapper=&quot;customObjectMapper&quot;\r\n                                            content-type=&quot;application/json&quot; /&gt;\r\n\r\n\r\n    &lt;integration:channel id=&quot;ayobaJsonChannel1&quot; /&gt;\r\n\r\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\r\n                           extract-request-payload=&quot;true&quot;\r\n                           url-expression=&quot;headers[&#39;url&#39;]&quot;\r\n                           request-channel=&quot;ayobaJsonChannel&quot;\r\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\r\n                           expected-response-type=&quot;java.lang.String&quot;\r\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaJsonChannel&quot; /&gt;\r\n\r\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\r\n                           extract-request-payload=&quot;true&quot;\r\n                           url-expression=&quot;headers[&#39;url&#39;]&quot;\r\n                           request-channel=&quot;ayobaJsonChannel&quot;\r\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\r\n                           expected-response-type=&quot;java.lang.String&quot;\r\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\r\n\r\n    &lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\r\n                             input-channel=&quot;ayobaSmsOutputChannel&quot;\r\n                             ref=&quot;ayobaSmsTransformer&quot;\r\n                             method=&quot;ayobaSmsResponseTransform&quot; /&gt;\r\n\r\n    &lt;integration:channel id=&quot;ayobaSmsOutputChannel&quot; /&gt;\r\n\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nNow, I am startled because for the last channel ```ayobaSmsResponseTransformer```, it works fine for the validation call and doesn&#39;t give error, but for my Cached Token call, it is throwing exception.\r\n","title":"Spring Integration no output-channel or replyChannel","body":"<p>I am working on a scenario where I have to get token in 1st call and then validate that token in the 2nd call.</p>\n<p>My spring integration files looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:integration=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:ws=&quot;http://www.springframework.org/schema/integration/ws&quot;\n       xmlns:http=&quot;http://www.springframework.org/schema/integration/http&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd\n       http://www.springframework.org/schema/integration/ws http://www.springframework.org/schema/integration/ws/spring-integration-ws.xsd\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd&quot;&gt;\n\n    &lt;!-- Entry channel into this flow is ucipTopupChannel --&gt;\n\n    &lt;integration:transformer id=&quot;ayobaSmsRequestTransformer&quot;\n                             input-channel=&quot;ayobaSMSChannel&quot;\n                             output-channel=&quot;ayobaSmsTransformerOutputChannel&quot;\n                             ref=&quot;ayobaSmsTransformer&quot;\n                             method=&quot;ayobaSmsRequestTransform&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsTransformerOutputChannel&quot; /&gt;\n\n    &lt;integration:header-value-router id=&quot;ayobaSmsValidationRouter&quot; input-channel=&quot;ayobaSmsTransformerOutputChannel&quot; header-name=&quot;VALIDATION&quot;&gt;\n        &lt;integration:mapping value=&quot;FAILED&quot; channel=&quot;ayobaSmsValidationFailedChannel&quot;  /&gt;\n        &lt;integration:mapping value=&quot;PASSED&quot; channel=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\n    &lt;/integration:header-value-router&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsValidationFailedChannel&quot; /&gt;\n\n    &lt;integration:service-activator input-channel=&quot;ayobaSmsValidationFailedChannel&quot; ref=&quot;validationFailedServiceActivator&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\n\n    &lt;integration:object-to-json-transformer id=&quot;ayobaJsonTransformer&quot;\n                                            input-channel=&quot;ayobaSmsValidationRouterOutputChannel&quot;\n                                            output-channel=&quot;ayobaJsonChannel&quot;\n                                            object-mapper=&quot;customObjectMapper&quot;\n                                            content-type=&quot;application/json&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaJsonChannel&quot; /&gt;\n\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\n                           extract-request-payload=&quot;true&quot;\n                           url-expression=&quot;headers['url']&quot;\n                           request-channel=&quot;ayobaJsonChannel&quot;\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\n                           expected-response-type=&quot;java.lang.String&quot;\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\n\n    &lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\n                             input-channel=&quot;ayobaSmsOutputChannel&quot;\n                             ref=&quot;ayobaSmsTransformer&quot;\n                             method=&quot;ayobaSmsResponseTransform&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsOutputChannel&quot; /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n<p>But now I have to check tokenExpiry for which I am trying to save my extra call, but I am getting below error</p>\n<blockquote>\n<p>Caused by: org.springframework.messaging.core.DestinationResolutionException: no output-channel or replyChannel header available</p>\n</blockquote>\n<p>and my config file looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:integration=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:ws=&quot;http://www.springframework.org/schema/integration/ws&quot;\n       xmlns:http=&quot;http://www.springframework.org/schema/integration/http&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd\n       http://www.springframework.org/schema/integration/ws http://www.springframework.org/schema/integration/ws/spring-integration-ws.xsd\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd&quot;&gt;\n\n    &lt;!-- Entry channel into this flow is ucipTopupChannel --&gt;\n\n    &lt;integration:transformer id=&quot;ayobaSmsRequestTransformer&quot;\n                             input-channel=&quot;ayobaSMSChannel&quot;\n                             output-channel=&quot;ayobaSmsTransformerOutputChannel&quot;\n                             ref=&quot;ayobaSmsTransformer&quot;\n                             method=&quot;ayobaSmsRequestTransform&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsTransformerOutputChannel&quot; /&gt;\n\n    &lt;integration:header-value-router id=&quot;ayobaSmsValidationRouter&quot; input-channel=&quot;ayobaSmsTransformerOutputChannel&quot; header-name=&quot;VALIDATION&quot;&gt;\n        &lt;integration:mapping value=&quot;FAILED&quot; channel=&quot;ayobaSmsValidationFailedChannel&quot;  /&gt;\n        &lt;integration:mapping value=&quot;PASSED&quot; channel=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\n        &lt;integration:mapping value=&quot;CACHED&quot; channel=&quot;ayobaSmsOutputChannel&quot; /&gt;\n    &lt;/integration:header-value-router&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsValidationFailedChannel&quot; /&gt;\n\n    &lt;integration:service-activator input-channel=&quot;ayobaSmsValidationFailedChannel&quot; ref=&quot;validationFailedServiceActivator&quot; output-channel=&quot;ayobaSmsOutputChannel&quot; requires-reply=&quot;false&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsValidationRouterOutputChannel&quot; /&gt;\n\n    &lt;integration:object-to-json-transformer id=&quot;ayobaJsonTransformer&quot;\n                                            input-channel=&quot;ayobaSmsValidationRouterOutputChannel&quot;\n                                            output-channel=&quot;ayobaJsonChannel&quot;\n                                            object-mapper=&quot;customObjectMapper&quot;\n                                            content-type=&quot;application/json&quot; /&gt;\n\n\n    &lt;integration:channel id=&quot;ayobaJsonChannel1&quot; /&gt;\n\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\n                           extract-request-payload=&quot;true&quot;\n                           url-expression=&quot;headers['url']&quot;\n                           request-channel=&quot;ayobaJsonChannel&quot;\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\n                           expected-response-type=&quot;java.lang.String&quot;\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaJsonChannel&quot; /&gt;\n\n    &lt;http:outbound-gateway id=&quot;ayobaSmsOutboundGateway&quot;\n                           extract-request-payload=&quot;true&quot;\n                           url-expression=&quot;headers['url']&quot;\n                           request-channel=&quot;ayobaJsonChannel&quot;\n                           reply-channel=&quot;ayobaSmsOutputChannel&quot;\n                           mapped-request-headers=&quot;contentType,ERSREFERENCE,Authorization&quot;\n                           expected-response-type=&quot;java.lang.String&quot;\n                           rest-template=&quot;ayobaRestTemplate&quot; /&gt;\n\n    &lt;integration:transformer id=&quot;ayobaSmsResponseTransformer&quot;\n                             input-channel=&quot;ayobaSmsOutputChannel&quot;\n                             ref=&quot;ayobaSmsTransformer&quot;\n                             method=&quot;ayobaSmsResponseTransform&quot; /&gt;\n\n    &lt;integration:channel id=&quot;ayobaSmsOutputChannel&quot; /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n<p>Now, I am startled because for the last channel <code>ayobaSmsResponseTransformer</code>, it works fine for the validation call and doesn't give error, but for my Cached Token call, it is throwing exception.</p>\n"},{"tags":["java","json-deserialization","netflix-zuul"],"comments":[{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":1,"creation_date":1639415559,"post_id":70338250,"comment_id":124337465,"body_markdown":"You may read the stream directly as String and look in it what matches your key/value and get it. I think this will avoid parsing and type checking elements into DTO so it will increase performance a little bit.","body":"You may read the stream directly as String and look in it what matches your key/value and get it. I think this will avoid parsing and type checking elements into DTO so it will increase performance a little bit."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":1,"creation_date":1639415685,"post_id":70338250,"comment_id":124337504,"body_markdown":"https://github.com/jsurfer/JsonSurfer and similar projects might be interesting for your use case","body":"<a href=\"https://github.com/jsurfer/JsonSurfer\" rel=\"nofollow noreferrer\">github.com/jsurfer/JsonSurfer</a> and similar projects might be interesting for your use case"},{"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"score":0,"creation_date":1639415806,"post_id":70338250,"comment_id":124337551,"body_markdown":"Thank you, that is def a good idea. Its less process intense than deserialization. Which is  what I am trying to get away from.","body":"Thank you, that is def a good idea. Its less process intense than deserialization. Which is  what I am trying to get away from."}],"answers":[{"tags":[],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639415476,"creation_date":1639415476,"answer_id":70338423,"question_id":70338250,"body_markdown":"At it&#39;s simplest the request payload can just be a string so you could read the input as a string and then parse what you want out using a regular expression or an ``indexOf`` or whatever suits best?","title":"Is there a better way to Optimize code that takes one value out of a Request body, the data comes in, in json format","body":"<p>At it's simplest the request payload can just be a string so you could read the input as a string and then parse what you want out using a regular expression or an <code>indexOf</code> or whatever suits best?</p>\n"},{"tags":[],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639418582,"creation_date":1639418582,"answer_id":70339042,"question_id":70338250,"body_markdown":"With thanks to everyone. I created this method. Streamed inputstream into a string Created a JSONObject which takes in and tokenizies the string\r\n\r\n```\r\n\r\n private String getURLFromRequest(ServletInputStream stream) throws IOException, JSONException {\r\n    \tString requestStr = IOUtils.toString(stream, &quot;UTF-8&quot;);\r\n    \tJSONObject jsonObj = new JSONObject(requestStr);\r\n    \treturn (String) jsonObj.get(&quot;url&quot;);\r\n    }\r\n```","title":"Is there a better way to Optimize code that takes one value out of a Request body, the data comes in, in json format","body":"<p>With thanks to everyone. I created this method. Streamed inputstream into a string Created a JSONObject which takes in and tokenizies the string</p>\n<pre><code>\n private String getURLFromRequest(ServletInputStream stream) throws IOException, JSONException {\n        String requestStr = IOUtils.toString(stream, &quot;UTF-8&quot;);\n        JSONObject jsonObj = new JSONObject(requestStr);\n        return (String) jsonObj.get(&quot;url&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70338423,"answer_count":2,"score":0,"last_activity_date":1639418582,"creation_date":1639414758,"question_id":70338250,"body_markdown":"I have an request object, that contains a huge amount of data. But there is a filter in my code, where I need to take out just one  element. At the moment I am Deserializing the whole object, which seems overkill to just get one element\r\n\r\nThis is part of a zuul filter\r\n```\r\nimport com.netflix.zuul.context.RequestContext;\r\n```\r\n\r\n```\r\n       RequestContext ct = RequestContext.getCurrentContext();\r\n       HttpServletRequest request = ctx.getRequest();\r\n       ObjectMapper mapper = new ObjectMapper();\r\n       ServletInputStream stream = null;\r\n       try {\r\n        \tstream = request.getInputStream();\r\n        \tGetPageRequest page = mapper.readValue(stream,GetPageRequest.class);\r\n        \tlog.info(&quot;URL IN BODY &quot;+page.getUrl());\r\n        \r\n```\r\nIt seems over kill to deserialize an entire object to get one element but I cant think of a more efficient and optomized way","title":"Is there a better way to Optimize code that takes one value out of a Request body, the data comes in, in json format","body":"<p>I have an request object, that contains a huge amount of data. But there is a filter in my code, where I need to take out just one  element. At the moment I am Deserializing the whole object, which seems overkill to just get one element</p>\n<p>This is part of a zuul filter</p>\n<pre><code>import com.netflix.zuul.context.RequestContext;\n</code></pre>\n<pre><code>       RequestContext ct = RequestContext.getCurrentContext();\n       HttpServletRequest request = ctx.getRequest();\n       ObjectMapper mapper = new ObjectMapper();\n       ServletInputStream stream = null;\n       try {\n            stream = request.getInputStream();\n            GetPageRequest page = mapper.readValue(stream,GetPageRequest.class);\n            log.info(&quot;URL IN BODY &quot;+page.getUrl());\n        \n</code></pre>\n<p>It seems over kill to deserialize an entire object to get one element but I cant think of a more efficient and optomized way</p>\n"},{"tags":["java","multithreading","block"],"comments":[{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":4,"creation_date":1305334407,"post_id":5999100,"comment_id":6938624,"body_markdown":"Why would the code above eat up all your cpu, it seems like it will only launch once a second. Anyways see this thread: http://stackoverflow.com/questions/289434/how-to-make-a-java-thread-wait-for-another-threads-output","body":"Why would the code above eat up all your cpu, it seems like it will only launch once a second. Anyways see this thread: <a href=\"http://stackoverflow.com/questions/289434/how-to-make-a-java-thread-wait-for-another-threads-output\" title=\"how to make a java thread wait for another threads output\">stackoverflow.com/questions/289434/&hellip;</a>"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1476291369,"post_id":5999100,"comment_id":67286239,"body_markdown":"For complete coverage of this subject, see Chapter 14 of _Java Concurrency in Practice_.  But more generally, you probably want to use higher-level utilities like `BlockingQueue`, `Semaphore`, or `CountDownLatch` rather than the low-level mechanisms.","body":"For complete coverage of this subject, see Chapter 14 of <i>Java Concurrency in Practice</i>.  But more generally, you probably want to use higher-level utilities like <code>BlockingQueue</code>, <code>Semaphore</code>, or <code>CountDownLatch</code> rather than the low-level mechanisms."}],"answers":[{"tags":[],"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"down_vote_count":4,"up_vote_count":86,"is_accepted":true,"score":82,"last_activity_date":1529772431,"creation_date":1305334373,"answer_id":5999146,"question_id":5999100,"body_markdown":"Polling like this is definitely the least preferred solution.\r\n\r\nI assume that you have another thread that will do something to make the condition true. There are several ways to synchronize threads. The easiest one in your case would be a notification via an Object:\r\n\r\nMain thread:\r\n\r\n    synchronized(syncObject) {\r\n        try {\r\n            // Calling wait() will block this thread until another thread\r\n            // calls notify() on the object.\r\n            syncObject.wait();\r\n        } catch (InterruptedException e) {\r\n            // Happens if someone interrupts your thread.\r\n        }\r\n    }\r\n\r\nOther thread:\r\n\r\n    // Do something\r\n    // If the condition is true, do the following:\r\n    synchronized(syncObject) {\r\n        syncObject.notify();\r\n    }\r\n\r\n`syncObject` itself can be a simple `Object`.\r\n\r\nThere are many other ways of inter-thread communication, but which one to use depends on what precisely you&#39;re doing.","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>Polling like this is definitely the least preferred solution.</p>\n\n<p>I assume that you have another thread that will do something to make the condition true. There are several ways to synchronize threads. The easiest one in your case would be a notification via an Object:</p>\n\n<p>Main thread:</p>\n\n<pre><code>synchronized(syncObject) {\n    try {\n        // Calling wait() will block this thread until another thread\n        // calls notify() on the object.\n        syncObject.wait();\n    } catch (InterruptedException e) {\n        // Happens if someone interrupts your thread.\n    }\n}\n</code></pre>\n\n<p>Other thread:</p>\n\n<pre><code>// Do something\n// If the condition is true, do the following:\nsynchronized(syncObject) {\n    syncObject.notify();\n}\n</code></pre>\n\n<p><code>syncObject</code> itself can be a simple <code>Object</code>.</p>\n\n<p>There are many other ways of inter-thread communication, but which one to use depends on what precisely you're doing.</p>\n"},{"tags":[],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1529773333,"creation_date":1305334425,"answer_id":5999152,"question_id":5999100,"body_markdown":"You could use a [semaphore][1].\r\n\r\nWhile the condition is not met, another thread acquires the semaphore.  \r\nYour thread would try to acquire it with `acquireUninterruptibly()`  \r\nor `tryAcquire(int permits, long timeout, TimeUnit unit)` and would be blocked.\r\n\r\nWhen the condition is met, the semaphore is also released and your thread would acquire it.\r\n\r\nYou could also try using a [`SynchronousQueue`][2] or a [`CountDownLatch`][3].\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/Semaphore.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/SynchronousQueue.html\r\n  [3]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>You could use a <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/Semaphore.html\" rel=\"noreferrer\">semaphore</a>.</p>\n\n<p>While the condition is not met, another thread acquires the semaphore.<br>\nYour thread would try to acquire it with <code>acquireUninterruptibly()</code><br>\nor <code>tryAcquire(int permits, long timeout, TimeUnit unit)</code> and would be blocked.</p>\n\n<p>When the condition is met, the semaphore is also released and your thread would acquire it.</p>\n\n<p>You could also try using a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/SynchronousQueue.html\" rel=\"noreferrer\"><code>SynchronousQueue</code></a> or a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\"><code>CountDownLatch</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1587461001,"creation_date":1305648060,"answer_id":6033741,"question_id":5999100,"body_markdown":"Similar to EboMike&#39;s answer you can use a mechanism similar to wait/notify/notifyAll but geared up for using a `Lock`.\r\n\r\nFor example,\r\n\r\n\r\n    public void doSomething() throws InterruptedException {\r\n    \tlock.lock();\r\n    \ttry {\r\n    \t\tcondition.await(); // releases lock and waits until doSomethingElse is called\r\n    \t} finally {\r\n    \t\tlock.unlock();\r\n    \t}\r\n    }\r\n    \r\n    public void doSomethingElse() {\r\n    \tlock.lock();\r\n    \ttry {\r\n    \t\tcondition.signal();\r\n    \t} finally {\r\n    \t\tlock.unlock();\r\n    \t}\r\n    }\r\n\r\nWhere you&#39;ll wait for some condition which is notified by another thread (in this case calling `doSomethingElse`), at that point, the first thread will continue...\r\n\r\nUsing `Lock`s over intrinsic synchronisation has lots of advantages but I just prefer having an explicit `Condition` object to represent the condition (you can have more than one which is a nice touch for things like producer-consumer).\r\n\r\nAlso, I can&#39;t help but notice how you deal with the interrupted exception in your example. You probably shouldn&#39;t consume the exception like this, instead reset the interrupt status flag using `Thread.currentThread().interrupt`. \r\n\r\nThis because if the exception is thrown, the interrupt status flag will have been reset (it&#39;s saying &quot;*I no longer remember being interrupted, I won&#39;t be able to tell anyone else that I have been if they ask*&quot;) and another process may rely on this question. The example being that something else has implemented an interruption policy based on this... phew. A further example might be that your interruption policy, rather that `while(true)` might have been implemented as `while(!Thread.currentThread().isInterrupted()` (which will also make your code be more... socially considerate).\r\n\r\nSo, in summary, using `Condition` is rougly equivalent to using wait/notify/notifyAll when you want to use a `Lock`, logging is evil and swallowing `InterruptedException` is naughty ;)\r\n\r\n","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>Similar to EboMike's answer you can use a mechanism similar to wait/notify/notifyAll but geared up for using a <code>Lock</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>public void doSomething() throws InterruptedException {\n    lock.lock();\n    try {\n        condition.await(); // releases lock and waits until doSomethingElse is called\n    } finally {\n        lock.unlock();\n    }\n}\n\npublic void doSomethingElse() {\n    lock.lock();\n    try {\n        condition.signal();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n\n<p>Where you'll wait for some condition which is notified by another thread (in this case calling <code>doSomethingElse</code>), at that point, the first thread will continue...</p>\n\n<p>Using <code>Lock</code>s over intrinsic synchronisation has lots of advantages but I just prefer having an explicit <code>Condition</code> object to represent the condition (you can have more than one which is a nice touch for things like producer-consumer).</p>\n\n<p>Also, I can't help but notice how you deal with the interrupted exception in your example. You probably shouldn't consume the exception like this, instead reset the interrupt status flag using <code>Thread.currentThread().interrupt</code>. </p>\n\n<p>This because if the exception is thrown, the interrupt status flag will have been reset (it's saying \"<em>I no longer remember being interrupted, I won't be able to tell anyone else that I have been if they ask</em>\") and another process may rely on this question. The example being that something else has implemented an interruption policy based on this... phew. A further example might be that your interruption policy, rather that <code>while(true)</code> might have been implemented as <code>while(!Thread.currentThread().isInterrupted()</code> (which will also make your code be more... socially considerate).</p>\n\n<p>So, in summary, using <code>Condition</code> is rougly equivalent to using wait/notify/notifyAll when you want to use a <code>Lock</code>, logging is evil and swallowing <code>InterruptedException</code> is naughty ;)</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1529773389,"creation_date":1412604720,"answer_id":26218153,"question_id":5999100,"body_markdown":"[EboMike&#39;s answer][1] and [Toby&#39;s answer][2] are both on the right track, but they both contain a fatal flaw.  The flaw is called _lost notification_.\r\n\r\nThe problem is, if a thread calls `foo.notify()`, it will not do anything at all unless some other thread is already sleeping in a `foo.wait()` call.  The object, `foo`, does not remember that it was notified.\r\n\r\nThere&#39;s a reason why you aren&#39;t allowed to call `foo.wait()` or `foo.notify()` unless the thread is synchronized on foo.  It&#39;s because the only way to avoid lost notification is to protect the condition with a mutex.  When it&#39;s done right, it looks like this:\r\n\r\nConsumer thread:\r\n\r\n    try {\r\n        synchronized(foo) {\r\n            while(! conditionIsTrue()) {\r\n                foo.wait();\r\n            }\r\n            doSomethingThatRequiresConditionToBeTrue();\r\n        }\r\n    } catch (InterruptedException e) {\r\n        handleInterruption();\r\n    }\r\n\r\nProducer thread:\r\n\r\n    synchronized(foo) {\r\n        doSomethingThatMakesConditionTrue();\r\n        foo.notify();\r\n    }\r\n\r\nThe code that changes the condition and the code that checks the condition is all synchronized on the same object, and the consumer thread explicitly tests the condition before it waits.  There is no way for the consumer to miss the notification and end up stuck forever in a `wait()` call when the condition is already true.\r\n\r\nAlso note that the `wait()` is in a loop.  That&#39;s because, in the general case, by the time the consumer re-acquires the `foo` lock and wakes up, some other thread might have made the condition false again.  Even if that&#39;s not possible in _your_ program, what is possible, in some operating systems, is for `foo.wait()` to return even when `foo.notify()` has not been called.  That&#39;s called a _spurious wakeup_, and it is allowed to happen because it makes wait/notify easier to implement on certain operating systems.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5999146/4298200\r\n  [2]: https://stackoverflow.com/a/6033741/4298200","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p><a href=\"https://stackoverflow.com/a/5999146/4298200\">EboMike's answer</a> and <a href=\"https://stackoverflow.com/a/6033741/4298200\">Toby's answer</a> are both on the right track, but they both contain a fatal flaw.  The flaw is called <em>lost notification</em>.</p>\n\n<p>The problem is, if a thread calls <code>foo.notify()</code>, it will not do anything at all unless some other thread is already sleeping in a <code>foo.wait()</code> call.  The object, <code>foo</code>, does not remember that it was notified.</p>\n\n<p>There's a reason why you aren't allowed to call <code>foo.wait()</code> or <code>foo.notify()</code> unless the thread is synchronized on foo.  It's because the only way to avoid lost notification is to protect the condition with a mutex.  When it's done right, it looks like this:</p>\n\n<p>Consumer thread:</p>\n\n<pre><code>try {\n    synchronized(foo) {\n        while(! conditionIsTrue()) {\n            foo.wait();\n        }\n        doSomethingThatRequiresConditionToBeTrue();\n    }\n} catch (InterruptedException e) {\n    handleInterruption();\n}\n</code></pre>\n\n<p>Producer thread:</p>\n\n<pre><code>synchronized(foo) {\n    doSomethingThatMakesConditionTrue();\n    foo.notify();\n}\n</code></pre>\n\n<p>The code that changes the condition and the code that checks the condition is all synchronized on the same object, and the consumer thread explicitly tests the condition before it waits.  There is no way for the consumer to miss the notification and end up stuck forever in a <code>wait()</code> call when the condition is already true.</p>\n\n<p>Also note that the <code>wait()</code> is in a loop.  That's because, in the general case, by the time the consumer re-acquires the <code>foo</code> lock and wakes up, some other thread might have made the condition false again.  Even if that's not possible in <em>your</em> program, what is possible, in some operating systems, is for <code>foo.wait()</code> to return even when <code>foo.notify()</code> has not been called.  That's called a <em>spurious wakeup</em>, and it is allowed to happen because it makes wait/notify easier to implement on certain operating systems.</p>\n"},{"tags":[],"owner":{"account_id":10904,"reputation":2639,"user_id":1729005,"display_name":"axblount"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1426607378,"creation_date":1426607378,"answer_id":29103667,"question_id":5999100,"body_markdown":"Lock-free solution(?)\r\n====================\r\n\r\nI had the same issue, but I wanted a solution that didn&#39;t use locks.\r\n\r\nProblem: I have at most one thread consuming from a queue. Multiple producer threads are constantly inserting into the queue and need to notify the consumer if it&#39;s waiting. The queue is lock-free so using locks for notification causes unnecessary blocking in producer threads. Each producer thread needs to acquire the lock before it can notify the waiting consumer. I believe I came up with a lock-free solution using [`LockSupport`][1] and [`AtomicReferenceFieldUpdater`][2]. If a lock-free barrier exists within the JDK, I couldn&#39;t find it. Both `CyclicBarrier` and `CoundDownLatch` use locks internally from what I could find.\r\n\r\nThis is my slightly abbreviated code. Just to be clear, this code will only allow _**one**_ thread to wait at a time. It could be modified to allow for multiple awaiters/consumers by using some type of atomic collection to store multiple owner (a `ConcurrentMap` may work).\r\n\r\nI have used this code and it seems to work. I have not tested it extensively. I suggest you read the documentation for [`LockSupport`][1] before use.\r\n\r\n    /* I release this code into the public domain.\r\n     * http://unlicense.org/UNLICENSE\r\n     */\r\n\r\n    import java.util.concurrent.atomic.AtomicReferenceFieldUpdater;\r\n    import java.util.concurrent.locks.LockSupport;\r\n    \r\n    /**\r\n     * A simple barrier for awaiting a signal.\r\n     * Only one thread at a time may await the signal.\r\n     */\r\n    public class SignalBarrier {\r\n        /**\r\n         * The Thread that is currently awaiting the signal.\r\n         * !!! Don&#39;t call this directly !!!\r\n         */\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        private volatile Thread _owner;\r\n    \r\n        /** Used to update the owner atomically */\r\n        private static final AtomicReferenceFieldUpdater&lt;SignalBarrier, Thread&gt; ownerAccess =\r\n            AtomicReferenceFieldUpdater.newUpdater(SignalBarrier.class, Thread.class, &quot;_owner&quot;);\r\n    \r\n        /** Create a new SignalBarrier without an owner. */\r\n        public SignalBarrier() {\r\n            _owner = null;\r\n        }\r\n    \r\n        /**\r\n         * Signal the owner that the barrier is ready.\r\n         * This has no effect if the SignalBarrer is unowned.\r\n         */\r\n        public void signal() {\r\n            // Remove the current owner of this barrier.\r\n            Thread t = ownerAccess.getAndSet(this, null);\r\n    \r\n            // If the owner wasn&#39;t null, unpark it.\r\n            if (t != null) {\r\n                LockSupport.unpark(t);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Claim the SignalBarrier and block until signaled.\r\n         *\r\n         * @throws IllegalStateException If the SignalBarrier already has an owner.\r\n         * @throws InterruptedException If the thread is interrupted while waiting.\r\n         */\r\n        public void await() throws InterruptedException {\r\n            // Get the thread that would like to await the signal.\r\n            Thread t = Thread.currentThread();\r\n    \r\n            // If a thread is attempting to await, the current owner should be null.\r\n            if (!ownerAccess.compareAndSet(this, null, t)) {\r\n                throw new IllegalStateException(&quot;A second thread tried to acquire a signal barrier that is already owned.&quot;);\r\n            }\r\n    \r\n            // The current thread has taken ownership of this barrier.\r\n            // Park the current thread until the signal. Record this\r\n            // signal barrier as the &#39;blocker&#39;.\r\n            LockSupport.park(this);\r\n            // If a thread has called #signal() the owner should already be null.\r\n            // However the documentation for LockSupport.unpark makes it clear that\r\n            // threads can wake up for absolutely no reason. Do a compare and set\r\n            // to make sure we don&#39;t wipe out a new owner, keeping in mind that only\r\n            // thread should be awaiting at any given moment!\r\n            ownerAccess.compareAndSet(this, t, null);\r\n    \r\n            // Check to see if we&#39;ve been unparked because of a thread interrupt.\r\n            if (t.isInterrupted())\r\n                throw new InterruptedException();\r\n        }\r\n    \r\n        /**\r\n         * Claim the SignalBarrier and block until signaled or the timeout expires.\r\n         *\r\n         * @throws IllegalStateException If the SignalBarrier already has an owner.\r\n         * @throws InterruptedException If the thread is interrupted while waiting.\r\n         *\r\n         * @param timeout The timeout duration in nanoseconds.\r\n         * @return The timeout minus the number of nanoseconds that passed while waiting.\r\n         */\r\n        public long awaitNanos(long timeout) throws InterruptedException {\r\n            if (timeout &lt;= 0)\r\n                return 0;\r\n            // Get the thread that would like to await the signal.\r\n            Thread t = Thread.currentThread();\r\n    \r\n            // If a thread is attempting to await, the current owner should be null.\r\n            if (!ownerAccess.compareAndSet(this, null, t)) {\r\n                throw new IllegalStateException(&quot;A second thread tried to acquire a signal barrier is already owned.&quot;);\r\n            }\r\n    \r\n            // The current thread owns this barrier.\r\n            // Park the current thread until the signal. Record this\r\n            // signal barrier as the &#39;blocker&#39;.\r\n            // Time the park.\r\n            long start = System.nanoTime();\r\n            LockSupport.parkNanos(this, timeout);\r\n            ownerAccess.compareAndSet(this, t, null);\r\n            long stop = System.nanoTime();\r\n    \r\n            // Check to see if we&#39;ve been unparked because of a thread interrupt.\r\n            if (t.isInterrupted())\r\n                throw new InterruptedException();\r\n    \r\n            // Return the number of nanoseconds left in the timeout after what we\r\n            // just waited.\r\n            return Math.max(timeout - stop + start, 0L);\r\n        }\r\n    }\r\n\r\nTo give a vague example of usage, I&#39;ll adopt james large&#39;s example:\r\n\r\n    SignalBarrier barrier = new SignalBarrier();\r\n\r\nConsumer thread (singular, *not plural!*):\r\n\r\n    try {\r\n        while(!conditionIsTrue()) {\r\n            barrier.await();\r\n        }\r\n        doSomethingThatRequiresConditionToBeTrue();\r\n    } catch (InterruptedException e) {\r\n        handleInterruption();\r\n    }\r\n\r\nProducer thread(s):\r\n\r\n    doSomethingThatMakesConditionTrue();\r\n    barrier.signal();\r\n\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html\r\n[2]:http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<h1>Lock-free solution(?)</h1>\n\n<p>I had the same issue, but I wanted a solution that didn't use locks.</p>\n\n<p>Problem: I have at most one thread consuming from a queue. Multiple producer threads are constantly inserting into the queue and need to notify the consumer if it's waiting. The queue is lock-free so using locks for notification causes unnecessary blocking in producer threads. Each producer thread needs to acquire the lock before it can notify the waiting consumer. I believe I came up with a lock-free solution using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\"><code>LockSupport</code></a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html\" rel=\"nofollow noreferrer\"><code>AtomicReferenceFieldUpdater</code></a>. If a lock-free barrier exists within the JDK, I couldn't find it. Both <code>CyclicBarrier</code> and <code>CoundDownLatch</code> use locks internally from what I could find.</p>\n\n<p>This is my slightly abbreviated code. Just to be clear, this code will only allow <em><strong>one</strong></em> thread to wait at a time. It could be modified to allow for multiple awaiters/consumers by using some type of atomic collection to store multiple owner (a <code>ConcurrentMap</code> may work).</p>\n\n<p>I have used this code and it seems to work. I have not tested it extensively. I suggest you read the documentation for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\"><code>LockSupport</code></a> before use.</p>\n\n<pre><code>/* I release this code into the public domain.\n * http://unlicense.org/UNLICENSE\n */\n\nimport java.util.concurrent.atomic.AtomicReferenceFieldUpdater;\nimport java.util.concurrent.locks.LockSupport;\n\n/**\n * A simple barrier for awaiting a signal.\n * Only one thread at a time may await the signal.\n */\npublic class SignalBarrier {\n    /**\n     * The Thread that is currently awaiting the signal.\n     * !!! Don't call this directly !!!\n     */\n    @SuppressWarnings(\"unused\")\n    private volatile Thread _owner;\n\n    /** Used to update the owner atomically */\n    private static final AtomicReferenceFieldUpdater&lt;SignalBarrier, Thread&gt; ownerAccess =\n        AtomicReferenceFieldUpdater.newUpdater(SignalBarrier.class, Thread.class, \"_owner\");\n\n    /** Create a new SignalBarrier without an owner. */\n    public SignalBarrier() {\n        _owner = null;\n    }\n\n    /**\n     * Signal the owner that the barrier is ready.\n     * This has no effect if the SignalBarrer is unowned.\n     */\n    public void signal() {\n        // Remove the current owner of this barrier.\n        Thread t = ownerAccess.getAndSet(this, null);\n\n        // If the owner wasn't null, unpark it.\n        if (t != null) {\n            LockSupport.unpark(t);\n        }\n    }\n\n    /**\n     * Claim the SignalBarrier and block until signaled.\n     *\n     * @throws IllegalStateException If the SignalBarrier already has an owner.\n     * @throws InterruptedException If the thread is interrupted while waiting.\n     */\n    public void await() throws InterruptedException {\n        // Get the thread that would like to await the signal.\n        Thread t = Thread.currentThread();\n\n        // If a thread is attempting to await, the current owner should be null.\n        if (!ownerAccess.compareAndSet(this, null, t)) {\n            throw new IllegalStateException(\"A second thread tried to acquire a signal barrier that is already owned.\");\n        }\n\n        // The current thread has taken ownership of this barrier.\n        // Park the current thread until the signal. Record this\n        // signal barrier as the 'blocker'.\n        LockSupport.park(this);\n        // If a thread has called #signal() the owner should already be null.\n        // However the documentation for LockSupport.unpark makes it clear that\n        // threads can wake up for absolutely no reason. Do a compare and set\n        // to make sure we don't wipe out a new owner, keeping in mind that only\n        // thread should be awaiting at any given moment!\n        ownerAccess.compareAndSet(this, t, null);\n\n        // Check to see if we've been unparked because of a thread interrupt.\n        if (t.isInterrupted())\n            throw new InterruptedException();\n    }\n\n    /**\n     * Claim the SignalBarrier and block until signaled or the timeout expires.\n     *\n     * @throws IllegalStateException If the SignalBarrier already has an owner.\n     * @throws InterruptedException If the thread is interrupted while waiting.\n     *\n     * @param timeout The timeout duration in nanoseconds.\n     * @return The timeout minus the number of nanoseconds that passed while waiting.\n     */\n    public long awaitNanos(long timeout) throws InterruptedException {\n        if (timeout &lt;= 0)\n            return 0;\n        // Get the thread that would like to await the signal.\n        Thread t = Thread.currentThread();\n\n        // If a thread is attempting to await, the current owner should be null.\n        if (!ownerAccess.compareAndSet(this, null, t)) {\n            throw new IllegalStateException(\"A second thread tried to acquire a signal barrier is already owned.\");\n        }\n\n        // The current thread owns this barrier.\n        // Park the current thread until the signal. Record this\n        // signal barrier as the 'blocker'.\n        // Time the park.\n        long start = System.nanoTime();\n        LockSupport.parkNanos(this, timeout);\n        ownerAccess.compareAndSet(this, t, null);\n        long stop = System.nanoTime();\n\n        // Check to see if we've been unparked because of a thread interrupt.\n        if (t.isInterrupted())\n            throw new InterruptedException();\n\n        // Return the number of nanoseconds left in the timeout after what we\n        // just waited.\n        return Math.max(timeout - stop + start, 0L);\n    }\n}\n</code></pre>\n\n<p>To give a vague example of usage, I'll adopt james large's example:</p>\n\n<pre><code>SignalBarrier barrier = new SignalBarrier();\n</code></pre>\n\n<p>Consumer thread (singular, <em>not plural!</em>):</p>\n\n<pre><code>try {\n    while(!conditionIsTrue()) {\n        barrier.await();\n    }\n    doSomethingThatRequiresConditionToBeTrue();\n} catch (InterruptedException e) {\n    handleInterruption();\n}\n</code></pre>\n\n<p>Producer thread(s):</p>\n\n<pre><code>doSomethingThatMakesConditionTrue();\nbarrier.signal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1529773318,"creation_date":1506936570,"answer_id":46522902,"question_id":5999100,"body_markdown":"As nobody published a solution with CountDownLatch. What about:\r\n\r\n    public class Lockeable {\r\n    \tprivate final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n    \r\n        public void doAfterEvent(){\r\n    \t\tcountDownLatch.await();\r\n            doSomething();\r\n        }\r\n    \r\n    \tpublic void reportDetonatingEvent(){\r\n    \t\tcountDownLatch.countDown();\r\n    \t}\r\n    }","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>As nobody published a solution with CountDownLatch. What about:</p>\n\n<pre><code>public class Lockeable {\n    private final CountDownLatch countDownLatch = new CountDownLatch(1);\n\n    public void doAfterEvent(){\n        countDownLatch.await();\n        doSomething();\n    }\n\n    public void reportDetonatingEvent(){\n        countDownLatch.countDown();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110607,"reputation":1018,"user_id":292620,"display_name":"rdesgroppes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639418330,"creation_date":1639418330,"answer_id":70338985,"question_id":5999100,"body_markdown":"One could also leverage `CompletableFuture`s (since Java 8):\r\n```java\r\nfinal CompletableFuture&lt;String&gt; question = new CompletableFuture&lt;&gt;();\r\n\r\n// from within the consumer thread:\r\nfinal String answer = question.get(); // or: event.get(7500000, TimeUnit.YEARS)\r\n\r\n// from within the producer thread:\r\nquestion.complete(&quot;42&quot;);\r\n```","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>One could also leverage <code>CompletableFuture</code>s (since Java 8):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;String&gt; question = new CompletableFuture&lt;&gt;();\n\n// from within the consumer thread:\nfinal String answer = question.get(); // or: event.get(7500000, TimeUnit.YEARS)\n\n// from within the producer thread:\nquestion.complete(&quot;42&quot;);\n</code></pre>\n"}],"owner":{"account_id":222505,"reputation":2944,"user_id":481143,"accept_rate":87,"display_name":"Rolan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169799,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"accepted_answer_id":5999146,"answer_count":7,"score":109,"last_activity_date":1639418330,"creation_date":1305333789,"question_id":5999100,"body_markdown":"I&#39;m writing a listener thread for a server, and at the moment I&#39;m using:\r\n\r\n    while (true){\r\n    \ttry {\r\n    \t\tif (condition){\r\n    \t\t\t//do something\r\n    \t\t\tcondition=false;\r\n    \t\t}\r\n    \t\tsleep(1000);\r\n\r\n    \t} catch (InterruptedException ex){\r\n    \t\tLogger.getLogger(server.class.getName()).log(Level.SEVERE, null, ex);\r\n    \t}\r\n    }\r\n\r\nWith the code above, I&#39;m running into issues with the run function eating all the cpu time looping.  The sleep function works, but it seems be a makeshift fix, not a solution.\r\n\r\nIs there some function which would block until the variable &#39;condition&#39; became &#39;true&#39;?\r\nOr is continual looping the standard method of waiting until a variable&#39;s value changes?\r\n","title":"is there a &#39;block until condition becomes true&#39; function in java?","body":"<p>I'm writing a listener thread for a server, and at the moment I'm using:</p>\n\n<pre><code>while (true){\n    try {\n        if (condition){\n            //do something\n            condition=false;\n        }\n        sleep(1000);\n\n    } catch (InterruptedException ex){\n        Logger.getLogger(server.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n\n<p>With the code above, I'm running into issues with the run function eating all the cpu time looping.  The sleep function works, but it seems be a makeshift fix, not a solution.</p>\n\n<p>Is there some function which would block until the variable 'condition' became 'true'?\nOr is continual looping the standard method of waiting until a variable's value changes?</p>\n"},{"tags":["java","junit","mocking","mockito"],"comments":[{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577874647,"post_id":59551680,"comment_id":105272072,"body_markdown":"what&#39;s the thrown exception message?","body":"what&#39;s the thrown exception message?"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":0,"creation_date":1577874808,"post_id":59551680,"comment_id":105272098,"body_markdown":"Thanks for responding! There is no exception - it just seems to completely ignore the `thenReturn(Optional.of(appUser))` part and actually performs the search on the repository - I have no idea why. A bit like when the `testCreateUser()` method simulates returning a password from the `bCryptPasswordEncoder`, I&#39;m trying to get the `testFindUserById` method to simulate returning a user from the repository.","body":"Thanks for responding! There is no exception - it just seems to completely ignore the <code>thenReturn(Optional.of(appUser))</code> part and actually performs the search on the repository - I have no idea why. A bit like when the <code>testCreateUser()</code> method simulates returning a password from the <code>bCryptPasswordEncoder</code>, I&#39;m trying to get the <code>testFindUserById</code> method to simulate returning a user from the repository."},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577874901,"post_id":59551680,"comment_id":105272125,"body_markdown":"from the response it seems that the code goes to the catch block - is that not the case?","body":"from the response it seems that the code goes to the catch block - is that not the case?"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":0,"creation_date":1577875222,"post_id":59551680,"comment_id":105272197,"body_markdown":"As I understand it (probably incorrectly) the search shouldn&#39;t ever actually be performed as mockito should pick up the call `Optional&lt;AppUser&gt; optionalAppUser = userRepository.findById(id);` and just return `Optional.of(appUser)` which can be used to build the ReponseEntity returned by the controller method.But that&#39;s not happening.","body":"As I understand it (probably incorrectly) the search shouldn&#39;t ever actually be performed as mockito should pick up the call <code>Optional&lt;AppUser&gt; optionalAppUser = userRepository.findById(id);</code> and just return <code>Optional.of(appUser)</code> which can be used to build the ReponseEntity returned by the controller method.But that&#39;s not happening."},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577875351,"post_id":59551680,"comment_id":105272226,"body_markdown":"yes, but from the response it seems it goes to the catch block instead - what exception did it catch?","body":"yes, but from the response it seems it goes to the catch block instead - what exception did it catch?"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":0,"creation_date":1577875813,"post_id":59551680,"comment_id":105272331,"body_markdown":"You are right - it is passing execution to the exception which handles the case when the id searched for is not in the repository. I wonder if there&#39;s a way to stop that clause from even executing in the test or if I could redesign the test, but I have no idea how.","body":"You are right - it is passing execution to the exception which handles the case when the id searched for is not in the repository. I wonder if there&#39;s a way to stop that clause from even executing in the test or if I could redesign the test, but I have no idea how."},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577875950,"post_id":59551680,"comment_id":105272359,"body_markdown":"can you log the exception message and add it to the running output?","body":"can you log the exception message and add it to the running output?"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":0,"creation_date":1577876135,"post_id":59551680,"comment_id":105272395,"body_markdown":"The Exception is something I designed myself to detect when a user id is not found, it&#39;s not a runtime exception.","body":"The Exception is something I designed myself to detect when a user id is not found, it&#39;s not a runtime exception."},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577876420,"post_id":59551680,"comment_id":105272448,"body_markdown":"ah, I see. everything seems to be correct - you could try using Mockito&#39;s any() when mocking the response to see if the problem is with given id. `when(userRepository.findById(any())).thenReturn(Optional.of(appUser));` and go from there","body":"ah, I see. everything seems to be correct - you could try using Mockito&#39;s any() when mocking the response to see if the problem is with given id. <code>when(userRepository.findById(any())).thenReturn(Optional.of(&zwnj;&#8203;appUser));</code> and go from there"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":0,"creation_date":1577876623,"post_id":59551680,"comment_id":105272503,"body_markdown":"Again you are right:\n`when(userRepository.findById(any())).thenReturn(optionalAppUser);` returns the correct response. Why?","body":"Again you are right: <code>when(userRepository.findById(any())).thenReturn(optionalAppU&zwnj;&#8203;ser);</code> returns the correct response. Why?"},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577881523,"post_id":59551680,"comment_id":105273450,"body_markdown":"perhaps it has something to do with the data type. Perhaps try changing  `public Optional&lt;AppUser&gt; findById(long id);` to `public Optional&lt;AppUser&gt; findById(Long id);`","body":"perhaps it has something to do with the data type. Perhaps try changing  <code>public Optional&lt;AppUser&gt; findById(long id);</code> to <code>public Optional&lt;AppUser&gt; findById(Long id);</code>"},{"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"score":1,"creation_date":1577883177,"post_id":59551680,"comment_id":105273819,"body_markdown":"Well, you&#39;re a legend. Your two small hints have enabled me to get 3 out of 4 of my test classes working completely. Thank you very much!","body":"Well, you&#39;re a legend. Your two small hints have enabled me to get 3 out of 4 of my test classes working completely. Thank you very much!"},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1577885015,"post_id":59551680,"comment_id":105274298,"body_markdown":"great, I&#39;ll post this as an answer.","body":"great, I&#39;ll post this as an answer."}],"answers":[{"tags":[],"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577885051,"creation_date":1577885051,"answer_id":59552911,"question_id":59551680,"body_markdown":"Seems to be a problem with autoboxing. Change the method ` public Optional&lt;AppUser&gt; findById(long id);` to accept Long instead.","title":"Mockito When...Then Return - return ignored?","body":"<p>Seems to be a problem with autoboxing. Change the method <code>public Optional&lt;AppUser&gt; findById(long id);</code> to accept Long instead.</p>\n"},{"tags":[],"owner":{"account_id":5595224,"reputation":379,"user_id":4433208,"display_name":"beer geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577896631,"creation_date":1577896631,"answer_id":59554207,"question_id":59551680,"body_markdown":"I think @Janar is correct, but I&#39;ll explain why.\r\n\r\nWhen you write &quot;when(userRepository.findById(0L)).thenReturn(Optional.of(appUser))&quot;, what Mockito does is set start monitoring calls to the indicated method (findById) and comparing the argument to &quot;0L&quot;, which is a Java long int, which is not an object. \r\n\r\nThe actual method takes a java.lang.Long, which is an object. The two are not equal.\r\n\r\nYou can fix it by changing the findById method, as @Janar suggests, but that is not what I would do. I assume that the production code is using a java.lang.Long for a practical reason. Instead, I would change the test to:\r\n\r\n````\r\nwhen(userRepository.findById(Long.valueOf(0L))).thenReturn(Optional.of(appUser));\r\n````","title":"Mockito When...Then Return - return ignored?","body":"<p>I think @Janar is correct, but I'll explain why.</p>\n\n<p>When you write \"when(userRepository.findById(0L)).thenReturn(Optional.of(appUser))\", what Mockito does is set start monitoring calls to the indicated method (findById) and comparing the argument to \"0L\", which is a Java long int, which is not an object. </p>\n\n<p>The actual method takes a java.lang.Long, which is an object. The two are not equal.</p>\n\n<p>You can fix it by changing the findById method, as @Janar suggests, but that is not what I would do. I assume that the production code is using a java.lang.Long for a practical reason. Instead, I would change the test to:</p>\n\n<pre><code>when(userRepository.findById(Long.valueOf(0L))).thenReturn(Optional.of(appUser));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639418310,"creation_date":1639418310,"answer_id":70338978,"question_id":59551680,"body_markdown":"My case was not the same of your findById but I hope it helps.\r\n\r\n**Summary:** \r\n&gt; mockito is sensible with the passed arguments and it works better with simple or **primitive data types**\r\n\r\nOn my case, this sentence was ignored:\r\n\r\n```\r\ndoReturn(result).when(scriptExecutor).\r\nrunScript(connection, new StringReader(&quot;selec * from dual;&quot;));\r\n```\r\n\r\nAfter some hours of attempts, I change the definition of **runScript** to receive a **simple string** instead **StringReader**. \r\n\r\nFrom this:\r\n```\r\npublic ArrayList runScript(Connection conn, StringReader reader)\r\n```\r\n\r\nTo this:\r\n\r\n```\r\npublic ArrayList runScript(Connection conn, String query)\r\n```\r\n\r\nThen the mocked sentence was picked and everything works as expected:\r\n\r\n```\r\ndoReturn(result).when(scriptExecutor).\r\nrunScript(connection, &quot;selec * from dual;&quot;);\r\n```\r\n\r\nBasically if I use a StringReader, didn,t work. But **with a simple String, it works!!**","title":"Mockito When...Then Return - return ignored?","body":"<p>My case was not the same of your findById but I hope it helps.</p>\n<p><strong>Summary:</strong></p>\n<blockquote>\n<p>mockito is sensible with the passed arguments and it works better with simple or <strong>primitive data types</strong></p>\n</blockquote>\n<p>On my case, this sentence was ignored:</p>\n<pre><code>doReturn(result).when(scriptExecutor).\nrunScript(connection, new StringReader(&quot;selec * from dual;&quot;));\n</code></pre>\n<p>After some hours of attempts, I change the definition of <strong>runScript</strong> to receive a <strong>simple string</strong> instead <strong>StringReader</strong>.</p>\n<p>From this:</p>\n<pre><code>public ArrayList runScript(Connection conn, StringReader reader)\n</code></pre>\n<p>To this:</p>\n<pre><code>public ArrayList runScript(Connection conn, String query)\n</code></pre>\n<p>Then the mocked sentence was picked and everything works as expected:</p>\n<pre><code>doReturn(result).when(scriptExecutor).\nrunScript(connection, &quot;selec * from dual;&quot;);\n</code></pre>\n<p>Basically if I use a StringReader, didn,t work. But <strong>with a simple String, it works!!</strong></p>\n"}],"owner":{"account_id":17432043,"reputation":1,"user_id":12635860,"display_name":"Matt Chermside"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639418310,"creation_date":1577874378,"question_id":59551680,"body_markdown":"I&#39;m currently on a course learning Spring-boot and I&#39;m stuck with testing a project -  any help is much appreciated as I&#39;m a beginner here. \r\n\r\nI have a rest controller test, using Mockito that appears to be ignoring &quot;ThenReturn&quot; when a method is invoked using Mockito.when(). \r\n\r\nHere is the whole class:\r\n\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.TestUtils;\r\nimport com.example.demo.model.persistence.AppUser;\r\nimport com.example.demo.model.persistence.repositories.CartRepository;\r\nimport com.example.demo.model.persistence.repositories.UserRepository;\r\nimport com.example.demo.model.requests.CreateUserRequest;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport java.util.Optional;\r\nimport static org.junit.Assert.*;\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class UserControllerTest {\r\n\r\n    private UserController userController;\r\n    private UserRepository userRepository = mock(UserRepository.class);\r\n    private CartRepository cartRepository = mock(CartRepository.class);\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder = mock(BCryptPasswordEncoder.class);\r\n\r\n    @Before\r\n    public void initTest(){\r\n        userController = new UserController();\r\n        TestUtils.injectObjects(userController, &quot;userRepository&quot;, userRepository);\r\n        TestUtils.injectObjects(userController, &quot;cartRepository&quot;, cartRepository);\r\n        TestUtils.injectObjects(userController, &quot;bCryptPasswordEncoder&quot;, bCryptPasswordEncoder);\r\n        AppUser appUser = TestUtils.getAppUser();\r\n        when(userRepository.findById(0L)).thenReturn(Optional.of(appUser));\r\n        when(bCryptPasswordEncoder.encode(&quot;testPassword&quot;)).thenReturn(&quot;hashedPassword&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void testFindUserById(){\r\n        ResponseEntity&lt;AppUser&gt; response = userController.findById(0L);\r\n        System.out.println(response);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testCreateUser() throws Exception{\r\n\r\n        CreateUserRequest createUserRequest = new CreateUserRequest();\r\n        createUserRequest.setUsername(&quot;testUser&quot;);\r\n        createUserRequest.setPassword(&quot;testPassword&quot;);\r\n        createUserRequest.setConfirmPassword(&quot;testPassword&quot;);\r\n\r\n        ResponseEntity&lt;AppUser&gt; response = userController.createUser(createUserRequest);\r\n\r\n        assertNotNull(response);\r\n        assertEquals(200, response.getStatusCodeValue());\r\n\r\n        AppUser createdUser = response.getBody();\r\n        assertNotNull(createdUser);\r\n        assertEquals(0, createdUser.getId());\r\n        assertEquals(&quot;testUser&quot;, createdUser.getUsername());\r\n        assertEquals(&quot;hashedPassword&quot;, createdUser.getPassword());\r\n    }\r\n}\r\n \r\n```\r\nThe test called &quot;testCreateUser&quot; passes without a problem. It&#39;s the test called &quot;testFindUserById&quot; that is giving me a problem.\r\n\r\nHere is the controller method I&#39;m trying to test (all working fine when tested in Postman):\r\n```\r\npublic ResponseEntity&lt;AppUser&gt; findById(@PathVariable Long id) {\r\n\t\ttry{\r\n\t\t\tlog.info(&quot;UserIDSearch = &quot; + id);\r\n\t\t\tSystem.out.println(&quot;UserIDSearch = &quot; + id);\r\n\t\t\tOptional&lt;AppUser&gt; optionalAppUser = userRepository.findById(id);\r\n\t\t\tif(optionalAppUser.isPresent()){\r\n\t\t\t\tlog.info(&quot;UserIdFound =  &quot; + id);\r\n\t\t\t\treturn ResponseEntity.ok(optionalAppUser.get());\r\n\t\t\t}else{\r\n\t\t\t\tthrow new ApiException(ExceptionTypes.SEARCHUSER, id.toString());\r\n\t\t\t}\r\n\t\t}catch(ApiException a){\r\n\t\t\t\treturn ResponseEntity.notFound().build();\r\n\t\t}\r\n\t}\r\n\r\n```\r\nThe repository being mocked in the test class is just a straightforward JpaRepository:\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n\tOptional&lt;AppUser&gt; findByUsername(String username);\r\n\tpublic Optional&lt;AppUser&gt; findById(long id);\r\n}\r\n```\r\nThe output I get from running the testFindUserById() test is the following:\r\n```\r\nUserIDSearch = 0\r\n&lt;404 NOT_FOUND Not Found,[]&gt;\r\n```\r\nI guess what I&#39;m trying to achieve here is that the test uses the when().thenReturn() to simulate an OK response from the mocked userRepository, but instead it actually performs the search and returns the &quot;Not found&quot;. Can anyone help? Thanks so much!\r\n\r\n\r\n","title":"Mockito When...Then Return - return ignored?","body":"<p>I'm currently on a course learning Spring-boot and I'm stuck with testing a project -  any help is much appreciated as I'm a beginner here. </p>\n\n<p>I have a rest controller test, using Mockito that appears to be ignoring \"ThenReturn\" when a method is invoked using Mockito.when(). </p>\n\n<p>Here is the whole class:</p>\n\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.TestUtils;\nimport com.example.demo.model.persistence.AppUser;\nimport com.example.demo.model.persistence.repositories.CartRepository;\nimport com.example.demo.model.persistence.repositories.UserRepository;\nimport com.example.demo.model.requests.CreateUserRequest;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport java.util.Optional;\nimport static org.junit.Assert.*;\nimport static org.mockito.Mockito.*;\n\npublic class UserControllerTest {\n\n    private UserController userController;\n    private UserRepository userRepository = mock(UserRepository.class);\n    private CartRepository cartRepository = mock(CartRepository.class);\n    private BCryptPasswordEncoder bCryptPasswordEncoder = mock(BCryptPasswordEncoder.class);\n\n    @Before\n    public void initTest(){\n        userController = new UserController();\n        TestUtils.injectObjects(userController, \"userRepository\", userRepository);\n        TestUtils.injectObjects(userController, \"cartRepository\", cartRepository);\n        TestUtils.injectObjects(userController, \"bCryptPasswordEncoder\", bCryptPasswordEncoder);\n        AppUser appUser = TestUtils.getAppUser();\n        when(userRepository.findById(0L)).thenReturn(Optional.of(appUser));\n        when(bCryptPasswordEncoder.encode(\"testPassword\")).thenReturn(\"hashedPassword\");\n    }\n\n    @Test\n    public void testFindUserById(){\n        ResponseEntity&lt;AppUser&gt; response = userController.findById(0L);\n        System.out.println(response);\n    }\n\n\n    @Test\n    public void testCreateUser() throws Exception{\n\n        CreateUserRequest createUserRequest = new CreateUserRequest();\n        createUserRequest.setUsername(\"testUser\");\n        createUserRequest.setPassword(\"testPassword\");\n        createUserRequest.setConfirmPassword(\"testPassword\");\n\n        ResponseEntity&lt;AppUser&gt; response = userController.createUser(createUserRequest);\n\n        assertNotNull(response);\n        assertEquals(200, response.getStatusCodeValue());\n\n        AppUser createdUser = response.getBody();\n        assertNotNull(createdUser);\n        assertEquals(0, createdUser.getId());\n        assertEquals(\"testUser\", createdUser.getUsername());\n        assertEquals(\"hashedPassword\", createdUser.getPassword());\n    }\n}\n\n</code></pre>\n\n<p>The test called \"testCreateUser\" passes without a problem. It's the test called \"testFindUserById\" that is giving me a problem.</p>\n\n<p>Here is the controller method I'm trying to test (all working fine when tested in Postman):</p>\n\n<pre><code>public ResponseEntity&lt;AppUser&gt; findById(@PathVariable Long id) {\n        try{\n            log.info(\"UserIDSearch = \" + id);\n            System.out.println(\"UserIDSearch = \" + id);\n            Optional&lt;AppUser&gt; optionalAppUser = userRepository.findById(id);\n            if(optionalAppUser.isPresent()){\n                log.info(\"UserIdFound =  \" + id);\n                return ResponseEntity.ok(optionalAppUser.get());\n            }else{\n                throw new ApiException(ExceptionTypes.SEARCHUSER, id.toString());\n            }\n        }catch(ApiException a){\n                return ResponseEntity.notFound().build();\n        }\n    }\n\n</code></pre>\n\n<p>The repository being mocked in the test class is just a straightforward JpaRepository:</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    Optional&lt;AppUser&gt; findByUsername(String username);\n    public Optional&lt;AppUser&gt; findById(long id);\n}\n</code></pre>\n\n<p>The output I get from running the testFindUserById() test is the following:</p>\n\n<pre><code>UserIDSearch = 0\n&lt;404 NOT_FOUND Not Found,[]&gt;\n</code></pre>\n\n<p>I guess what I'm trying to achieve here is that the test uses the when().thenReturn() to simulate an OK response from the mocked userRepository, but instead it actually performs the search and returns the \"Not found\". Can anyone help? Thanks so much!</p>\n"},{"tags":["java","reactjs","http-headers"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639418081,"creation_date":1639418081,"answer_id":70338935,"question_id":70331438,"body_markdown":"By default, CORS Spring configuration allows all origins and GET, HEAD and POST methods. This explains why it works with POST instead of DELETE and it also explains why it works using curl but not in the browser.\r\n\r\nYou can configure CORS globally with something along the following lines:\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/whatever-context-path/**&quot;)\r\n            .allowedOrigins(&quot;*&quot;) // You would want to configure only the domain of your FE application\r\n            .allowedMethods(&quot;GET&quot;, &quot;HEAD&quot;, &quot;POST&quot;, &quot;DELETE&quot;);\r\n    }\r\n} \r\n```\r\n\r\nYou can read more about this in the following online resources:\r\n - https://www.baeldung.com/spring-cors\r\n - https://spring.io/guides/gs/rest-service-cors/\r\n - https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/CorsRegistry.html","title":"Why delete method doesn&#39;t work when post method does?","body":"<p>By default, CORS Spring configuration allows all origins and GET, HEAD and POST methods. This explains why it works with POST instead of DELETE and it also explains why it works using curl but not in the browser.</p>\n<p>You can configure CORS globally with something along the following lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/whatever-context-path/**&quot;)\n            .allowedOrigins(&quot;*&quot;) // You would want to configure only the domain of your FE application\n            .allowedMethods(&quot;GET&quot;, &quot;HEAD&quot;, &quot;POST&quot;, &quot;DELETE&quot;);\n    }\n} \n</code></pre>\n<p>You can read more about this in the following online resources:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cors</a></li>\n<li><a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/CorsRegistry.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/CorsRegistry.html</a></li>\n</ul>\n"}],"owner":{"account_id":10380162,"reputation":13,"user_id":7655224,"display_name":"arturPabjanczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70338935,"answer_count":1,"score":0,"last_activity_date":1639418081,"creation_date":1639382114,"question_id":70331438,"body_markdown":"I am combining two applications, backend (java spring) and frontend (react). I have no communication for the deleteEvenTask request with DELETE http method. The same request when using POST http method, reaches the endpoint. Sending a DELETE query via curl also works. Other requests (getAllEvens with GET method, replaceEvenTask wuth POST method) also work.\r\n```\r\nconst url = &quot;http://localhost:8011/api/evens&quot;;\r\nconst EvenAPI = {\r\n  getAllEvens: async function () {\r\n    const options = {\r\n      method: &#39;GET&#39;\r\n    }\r\n    const response = await window.fetch(url, options);\r\n    return response.json();\r\n  },\r\n  replaceEvenTask: async function (evenTask) {\r\n    const options = {\r\n      method: &#39;POST&#39;,\r\n      body: (JSON.stringify(evenTask)),\r\n    }\r\n    return window.fetch(url, options);\r\n  },\r\n  deleteEvenTask: async function (id) {\r\n    const options = {\r\n      method: &#39;DELETE&#39;\r\n    }\r\n    return window.fetch(url + &#39;/&#39; + id, options);\r\n  }\r\n}\r\n\r\nexport default EvenAPI;\r\n```\r\n```\r\npackage pl.artapps.rest;\r\n\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport pl.artapps.entity.Issue;\r\nimport pl.artapps.service.IssueService;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/evens&quot;)\r\npublic class EvenController {\r\n\r\n    private static final String ACCESS_CONTROL_ALLOW_ORIGIN = &quot;Access-Control-Allow-Origin&quot;;\r\n    private final IssueService issueService;\r\n\r\n    public EvenController(IssueService issueService) {\r\n        this.issueService = issueService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Issue&gt;&gt; getEven() {\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n        return ResponseEntity.ok()\r\n                .headers(responseHeaders)\r\n                .body(issueService.findEvens());\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; updateEven(@RequestBody String issue) {\r\n        boolean updated = issueService.updateEven(issue);\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n        if (updated) {\r\n            return ResponseEntity.ok()\r\n                    .headers(responseHeaders)\r\n                    .body(&quot;updated&quot;);\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\r\n                    .headers(responseHeaders)\r\n                    .body(&quot;406&quot;);\r\n        }\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteEven(@PathVariable Long id) {\r\n        boolean deleted = issueService.deleteEven(id);\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n        if (deleted) {\r\n            return ResponseEntity.ok()\r\n                    .headers(responseHeaders)\r\n                    .body(&quot;deleted&quot;);\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\r\n                    .headers(responseHeaders)\r\n                    .body(&quot;406&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nErrors\r\n```\r\nXHR OPTIONS http://localhost:8011/api/evens/219 CORS Missing Allow Origin\r\n\r\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8011/api/evens/219. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 403.\r\n\r\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8011/api/evens/219. (Reason: CORS request did not succeed). Status code: (null).\r\n\r\nXHR DELETE http://localhost:8011/api/evens/219\r\n\r\nUncaught (in promise) TypeError: NetworkError when attempting to fetch resource.\r\n```\r\nThese two simple diffs make it working fine:\r\n```\r\nIndex: src/api/EvenAPI.js\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n&lt;+&gt;UTF-8\r\n===================================================================\r\ndiff --git a/src/api/EvenAPI.js b/src/api/EvenAPI.js\r\n--- a/src/api/EvenAPI.js\t(revision ff2dc11b6485d5d55da7b59473f177dd77691b22)\r\n+++ b/src/api/EvenAPI.js\t(date 1639381203588)\r\n@@ -16,7 +16,7 @@\r\n   },\r\n   deleteEvenTask: async function (id) {\r\n     const options = {\r\n-      method: &#39;DELETE&#39;\r\n+      method: &#39;POST&#39;\r\n     }\r\n     return window.fetch(url + &#39;/&#39; + id, options);\r\n   }\r\n```\r\n```\r\nIndex: src/main/java/pl/artapps/rest/EvenController.java\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n&lt;+&gt;UTF-8\r\n===================================================================\r\ndiff --git a/src/main/java/pl/artapps/rest/EvenController.java b/src/main/java/pl/artapps/rest/EvenController.java\r\n--- a/src/main/java/pl/artapps/rest/EvenController.java\t(revision ec8c30f5a6aa9283f444fa418103dc3c2f35a584)\r\n+++ b/src/main/java/pl/artapps/rest/EvenController.java\t(date 1639381151968)\r\n@@ -51,7 +51,7 @@\r\n         }\r\n     }\r\n \r\n-    @DeleteMapping(&quot;/{id}&quot;)\r\n+    @PostMapping(&quot;/{id}&quot;)\r\n     public ResponseEntity&lt;String&gt; deleteEven(@PathVariable Long id) {\r\n         boolean deleted = issueService.deleteEven(id);\r\n         HttpHeaders responseHeaders = new HttpHeaders();\r\n```","title":"Why delete method doesn&#39;t work when post method does?","body":"<p>I am combining two applications, backend (java spring) and frontend (react). I have no communication for the deleteEvenTask request with DELETE http method. The same request when using POST http method, reaches the endpoint. Sending a DELETE query via curl also works. Other requests (getAllEvens with GET method, replaceEvenTask wuth POST method) also work.</p>\n<pre><code>const url = &quot;http://localhost:8011/api/evens&quot;;\nconst EvenAPI = {\n  getAllEvens: async function () {\n    const options = {\n      method: 'GET'\n    }\n    const response = await window.fetch(url, options);\n    return response.json();\n  },\n  replaceEvenTask: async function (evenTask) {\n    const options = {\n      method: 'POST',\n      body: (JSON.stringify(evenTask)),\n    }\n    return window.fetch(url, options);\n  },\n  deleteEvenTask: async function (id) {\n    const options = {\n      method: 'DELETE'\n    }\n    return window.fetch(url + '/' + id, options);\n  }\n}\n\nexport default EvenAPI;\n</code></pre>\n<pre><code>package pl.artapps.rest;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport pl.artapps.entity.Issue;\nimport pl.artapps.service.IssueService;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/evens&quot;)\npublic class EvenController {\n\n    private static final String ACCESS_CONTROL_ALLOW_ORIGIN = &quot;Access-Control-Allow-Origin&quot;;\n    private final IssueService issueService;\n\n    public EvenController(IssueService issueService) {\n        this.issueService = issueService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Issue&gt;&gt; getEven() {\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n        return ResponseEntity.ok()\n                .headers(responseHeaders)\n                .body(issueService.findEvens());\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;String&gt; updateEven(@RequestBody String issue) {\n        boolean updated = issueService.updateEven(issue);\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n        if (updated) {\n            return ResponseEntity.ok()\n                    .headers(responseHeaders)\n                    .body(&quot;updated&quot;);\n        } else {\n            return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\n                    .headers(responseHeaders)\n                    .body(&quot;406&quot;);\n        }\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteEven(@PathVariable Long id) {\n        boolean deleted = issueService.deleteEven(id);\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n        if (deleted) {\n            return ResponseEntity.ok()\n                    .headers(responseHeaders)\n                    .body(&quot;deleted&quot;);\n        } else {\n            return ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE)\n                    .headers(responseHeaders)\n                    .body(&quot;406&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Errors</p>\n<pre><code>XHR OPTIONS http://localhost:8011/api/evens/219 CORS Missing Allow Origin\n\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8011/api/evens/219. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing). Status code: 403.\n\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8011/api/evens/219. (Reason: CORS request did not succeed). Status code: (null).\n\nXHR DELETE http://localhost:8011/api/evens/219\n\nUncaught (in promise) TypeError: NetworkError when attempting to fetch resource.\n</code></pre>\n<p>These two simple diffs make it working fine:</p>\n<pre><code>Index: src/api/EvenAPI.js\nIDEA additional info:\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\n&lt;+&gt;UTF-8\n===================================================================\ndiff --git a/src/api/EvenAPI.js b/src/api/EvenAPI.js\n--- a/src/api/EvenAPI.js    (revision ff2dc11b6485d5d55da7b59473f177dd77691b22)\n+++ b/src/api/EvenAPI.js    (date 1639381203588)\n@@ -16,7 +16,7 @@\n   },\n   deleteEvenTask: async function (id) {\n     const options = {\n-      method: 'DELETE'\n+      method: 'POST'\n     }\n     return window.fetch(url + '/' + id, options);\n   }\n</code></pre>\n<pre><code>Index: src/main/java/pl/artapps/rest/EvenController.java\nIDEA additional info:\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\n&lt;+&gt;UTF-8\n===================================================================\ndiff --git a/src/main/java/pl/artapps/rest/EvenController.java b/src/main/java/pl/artapps/rest/EvenController.java\n--- a/src/main/java/pl/artapps/rest/EvenController.java (revision ec8c30f5a6aa9283f444fa418103dc3c2f35a584)\n+++ b/src/main/java/pl/artapps/rest/EvenController.java (date 1639381151968)\n@@ -51,7 +51,7 @@\n         }\n     }\n \n-    @DeleteMapping(&quot;/{id}&quot;)\n+    @PostMapping(&quot;/{id}&quot;)\n     public ResponseEntity&lt;String&gt; deleteEven(@PathVariable Long id) {\n         boolean deleted = issueService.deleteEven(id);\n         HttpHeaders responseHeaders = new HttpHeaders();\n</code></pre>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1639417586,"post_id":70338815,"comment_id":124338272,"body_markdown":"If `nextInt()` fails, you need to move past the invalid token. If `nextInt()` succeeds, it moves to the next token automatically.","body":"If <code>nextInt()</code> fails, you need to move past the invalid token. If <code>nextInt()</code> succeeds, it moves to the next token automatically."},{"owner":{"account_id":20888762,"reputation":113,"user_id":15344674,"display_name":"Carter Karl Falkenberg"},"score":0,"creation_date":1639417664,"post_id":70338815,"comment_id":124338299,"body_markdown":"Oh, so because nextInt() was an int in the try block, it will not need to move past because it was valid (even though it was invalid by my subjective needs for the program). Thank you","body":"Oh, so because nextInt() was an int in the try block, it will not need to move past because it was valid (even though it was invalid by my subjective needs for the program). Thank you"}],"owner":{"account_id":20888762,"reputation":113,"user_id":15344674,"display_name":"Carter Karl Falkenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639419393,"answer_count":0,"score":0,"last_activity_date":1639417494,"creation_date":1639417494,"question_id":70338815,"body_markdown":"I have the following code, where I need the user to input an int &gt; 0.\r\n\r\n        int rows = 0;\r\n        while(rows &lt;= 0){\r\n            System.out.println(&quot;How many rows are in the matrix?&quot;);\r\n            try{\r\n                rows = scan.nextInt();\r\n                if (rows &lt;= 0){\r\n                    System.out.println(&quot;Invalid input, try again&quot;);\r\n                    //scan.nextLine(); // !A!\r\n                }\r\n            } catch(InputMismatchException e){\r\n                System.out.println(&quot;Invalid input, try again&quot;);\r\n                //scan.nextLine(); // !B!\r\n            } \r\n        }\r\n\r\nWhy does it work without uncommenting A, but does not work without uncommenting B? In other words, why does the catch block need scan.nextLine(), but the try block does not?\r\n\r\nAren&#39;t both of them printing a new line after? Why does the catch block have this requirement?","title":"Why do I need to reset the Scanner in a catch block, but not the try block? (Java)","body":"<p>I have the following code, where I need the user to input an int &gt; 0.</p>\n<pre><code>    int rows = 0;\n    while(rows &lt;= 0){\n        System.out.println(&quot;How many rows are in the matrix?&quot;);\n        try{\n            rows = scan.nextInt();\n            if (rows &lt;= 0){\n                System.out.println(&quot;Invalid input, try again&quot;);\n                //scan.nextLine(); // !A!\n            }\n        } catch(InputMismatchException e){\n            System.out.println(&quot;Invalid input, try again&quot;);\n            //scan.nextLine(); // !B!\n        } \n    }\n</code></pre>\n<p>Why does it work without uncommenting A, but does not work without uncommenting B? In other words, why does the catch block need scan.nextLine(), but the try block does not?</p>\n<p>Aren't both of them printing a new line after? Why does the catch block have this requirement?</p>\n"},{"tags":["java","spring","testing","junit","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1639477825,"post_id":70338282,"comment_id":124352902,"body_markdown":"First you must determine which entity is missing from your database, it should be easy under debugger. Then you should review how and when you create these entities, is it before test execution, inside same transaction, using liquibase?","body":"First you must determine which entity is missing from your database, it should be easy under debugger. Then you should review how and when you create these entities, is it before test execution, inside same transaction, using liquibase?"},{"owner":{"account_id":19684890,"reputation":47,"user_id":14411076,"display_name":"Franco Mendoza"},"score":0,"creation_date":1639497203,"post_id":70338282,"comment_id":124360667,"body_markdown":"Yes, it is using Liquibase. The problem was that in my application.yml I was not indicating that I wanted to use the csv files for the integration tests, as I indicated to geco17. Thank you very much Gael. Every time I learn something new from JHipster.","body":"Yes, it is using Liquibase. The problem was that in my application.yml I was not indicating that I wanted to use the csv files for the integration tests, as I indicated to geco17. Thank you very much Gael. Every time I learn something new from JHipster."}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639417073,"creation_date":1639417073,"answer_id":70338743,"question_id":70338282,"body_markdown":"I&#39;d suggest modifying your code with a bit of a refactor.\r\n\r\nMove the bulk of the method into a service like so\r\n\r\n    public int findAndSave(long id, long idGrupo) {\r\n\t\tOptional&lt;Persona&gt; persona = personaRepository.findById(id);\r\n\t\tif (!persona.isPresent()) {\r\n            return 1;\r\n\t\t}\r\n        Optional&lt;Grupo&gt; grupo = grupoRepository.findById(idGrupo);\r\n\t\tif (!grupo.isPresent()) {\r\n            return 2;\r\n        }\r\n\t\tPersona persona2 = persona.get();\r\n\t\tGrupo grupo2 = grupo.get();\r\n\t\tpersona2.setGrupo(grupo2);\r\n\t\tpersonaRepository.save(persona2);\r\n\t\treturn 0;\r\n    }\r\n\r\nThen the caller has\r\n\r\n\t@PutMapping(&quot;/personas/{id}/grupo/{idGrupo}&quot;)\r\n\tpublic ResponseEntity&lt;Void&gt; vincularGrupo(@PathVariable Long id, @PathVariable Long idGrupo) {\r\n\t\tlog.debug(&quot;REST request to vincularGrupo : {}&quot;, id);\r\n\t\tint result = vincularService.findAndSave(id, idGrupo);\r\n\t\tif (result == 0) {\r\n\t\t    return ResponseEntity.ok().build();\r\n\t\t}\r\n\t\t// handle 1, 2 or other error codes however you need to\r\n\t\treturn ResponseEntity.notFound().build();\r\n\t}\r\n\t\r\nAnd the test is simplified: you can inject a mock into it for the `vincularService` and test that you&#39;re hitting the endpoint (i.e. it&#39;s not giving you a not found because the url is wrong), and you can test the logic inside vincularService independently of how it&#39;s called (rest or some other way).","title":"Spring JUnit Expected Status 200 but was 404","body":"<p>I'd suggest modifying your code with a bit of a refactor.</p>\n<p>Move the bulk of the method into a service like so</p>\n<pre><code>public int findAndSave(long id, long idGrupo) {\n    Optional&lt;Persona&gt; persona = personaRepository.findById(id);\n    if (!persona.isPresent()) {\n        return 1;\n    }\n    Optional&lt;Grupo&gt; grupo = grupoRepository.findById(idGrupo);\n    if (!grupo.isPresent()) {\n        return 2;\n    }\n    Persona persona2 = persona.get();\n    Grupo grupo2 = grupo.get();\n    persona2.setGrupo(grupo2);\n    personaRepository.save(persona2);\n    return 0;\n}\n</code></pre>\n<p>Then the caller has</p>\n<pre><code>@PutMapping(&quot;/personas/{id}/grupo/{idGrupo}&quot;)\npublic ResponseEntity&lt;Void&gt; vincularGrupo(@PathVariable Long id, @PathVariable Long idGrupo) {\n    log.debug(&quot;REST request to vincularGrupo : {}&quot;, id);\n    int result = vincularService.findAndSave(id, idGrupo);\n    if (result == 0) {\n        return ResponseEntity.ok().build();\n    }\n    // handle 1, 2 or other error codes however you need to\n    return ResponseEntity.notFound().build();\n}\n</code></pre>\n<p>And the test is simplified: you can inject a mock into it for the <code>vincularService</code> and test that you're hitting the endpoint (i.e. it's not giving you a not found because the url is wrong), and you can test the logic inside vincularService independently of how it's called (rest or some other way).</p>\n"}],"owner":{"account_id":19684890,"reputation":47,"user_id":14411076,"display_name":"Franco Mendoza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639417073,"creation_date":1639414892,"question_id":70338282,"body_markdown":"I&#39;m using JUnit to test the routes of an application. The problem is that I am making a PUT request to a route, which I think should return a Status 200, but in reality it returns 404. I have already tried passing a string also and changing the PathVariable to String, using Long.parseLong() but I still get errors. I would like to know why it returns 404 and what am I doing wrong, when in my database exists the Persona with Id 1 and Grupo with Id 1. By the way, I am using JHipster and I am doing these tests in the PersonaResourceIT that is already defined. Thank you very much, here is the code:\r\n\r\nPersonaResource:\r\n\r\n    @PutMapping(&quot;/personas/{id}/grupo/{idGrupo}&quot;)\r\n    public ResponseEntity&lt;Void&gt; vincularGrupo(@PathVariable Long id, @PathVariable Long idGrupo) {\r\n        log.debug(&quot;REST request to vincularGrupo : {}&quot;, id);\r\n        Optional&lt;Persona&gt; persona = personaRepository.findById(id);\r\n        if (persona.isPresent()) {\r\n            Persona persona2 = persona.get();\r\n            Optional&lt;Grupo&gt; grupo = grupoRepository.findById(idGrupo);\r\n            if (grupo.isPresent()) {\r\n                Grupo grupo2 = grupo.get();\r\n                persona2.setGrupo(grupo2);\r\n                personaRepository.save(persona2);\r\n                return ResponseEntity.ok().build();\r\n            } else {\r\n                return ResponseEntity.notFound().build();\r\n            }\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\nPersonaResourceIT:\r\n\r\n        @Test\r\n        @Transactional\r\n        void asociarPersonaGrupoSuccess() throws Exception {\r\n            // Long id = (long) 1;\r\n            // Long idGrupo = (long) 1;\r\n            String id = &quot;1&quot;;\r\n            String idGrupo = &quot;1&quot;;\r\n            this.restPersonaMockMvc.perform(put(&quot;/api/personas/{id}/grupo/{idGrupo}&quot;, id, idGrupo))\r\n                                    .andExpect(status().isOk())\r\n                                    .andReturn();\r\n        }\r\nI also tried using Long id = 1L but it did not work. I keep getting a 404 status.","title":"Spring JUnit Expected Status 200 but was 404","body":"<p>I'm using JUnit to test the routes of an application. The problem is that I am making a PUT request to a route, which I think should return a Status 200, but in reality it returns 404. I have already tried passing a string also and changing the PathVariable to String, using Long.parseLong() but I still get errors. I would like to know why it returns 404 and what am I doing wrong, when in my database exists the Persona with Id 1 and Grupo with Id 1. By the way, I am using JHipster and I am doing these tests in the PersonaResourceIT that is already defined. Thank you very much, here is the code:</p>\n<p>PersonaResource:</p>\n<pre><code>@PutMapping(&quot;/personas/{id}/grupo/{idGrupo}&quot;)\npublic ResponseEntity&lt;Void&gt; vincularGrupo(@PathVariable Long id, @PathVariable Long idGrupo) {\n    log.debug(&quot;REST request to vincularGrupo : {}&quot;, id);\n    Optional&lt;Persona&gt; persona = personaRepository.findById(id);\n    if (persona.isPresent()) {\n        Persona persona2 = persona.get();\n        Optional&lt;Grupo&gt; grupo = grupoRepository.findById(idGrupo);\n        if (grupo.isPresent()) {\n            Grupo grupo2 = grupo.get();\n            persona2.setGrupo(grupo2);\n            personaRepository.save(persona2);\n            return ResponseEntity.ok().build();\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    } else {\n        return ResponseEntity.notFound().build();\n    }\n}\n</code></pre>\n<p>PersonaResourceIT:</p>\n<pre><code>    @Test\n    @Transactional\n    void asociarPersonaGrupoSuccess() throws Exception {\n        // Long id = (long) 1;\n        // Long idGrupo = (long) 1;\n        String id = &quot;1&quot;;\n        String idGrupo = &quot;1&quot;;\n        this.restPersonaMockMvc.perform(put(&quot;/api/personas/{id}/grupo/{idGrupo}&quot;, id, idGrupo))\n                                .andExpect(status().isOk())\n                                .andReturn();\n    }\n</code></pre>\n<p>I also tried using Long id = 1L but it did not work. I keep getting a 404 status.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1411071348,"creation_date":1411071348,"answer_id":25921577,"question_id":25921510,"body_markdown":"SEE http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html#tailMap(K)\r\n\r\n**Note**: several methods return submaps with restricted key ranges. Such ranges are half-open, that is, they include their low endpoint but not their high endpoint (where applicable). If you need a closed range (which includes both endpoints), and the key type allows for calculation of the successor of a given key, merely request the subrange from lowEndpoint to successor(highEndpoint). For example, suppose that m is a map whose keys are strings. The following idiom obtains a view containing all of the key-value mappings in m whose keys are between low and high, inclusive:\r\n\r\n    SortedMap&lt;String, V&gt; sub = m.subMap(low, high+&quot;\\0&quot;);\r\n\r\nA similar technique can be used to generate an open range (which contains neither endpoint). The following idiom obtains a view containing all of the key-value mappings in m whose keys are between low and high, exclusive:\r\n\r\n    SortedMap&lt;String, V&gt; sub = m.subMap(low+&quot;\\0&quot;, high);","title":"TreeMap.putAll giving key out of range","body":"<p>SEE <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html#tailMap(K)\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html#tailMap(K)</a></p>\n\n<p><strong>Note</strong>: several methods return submaps with restricted key ranges. Such ranges are half-open, that is, they include their low endpoint but not their high endpoint (where applicable). If you need a closed range (which includes both endpoints), and the key type allows for calculation of the successor of a given key, merely request the subrange from lowEndpoint to successor(highEndpoint). For example, suppose that m is a map whose keys are strings. The following idiom obtains a view containing all of the key-value mappings in m whose keys are between low and high, inclusive:</p>\n\n<pre><code>SortedMap&lt;String, V&gt; sub = m.subMap(low, high+\"\\0\");\n</code></pre>\n\n<p>A similar technique can be used to generate an open range (which contains neither endpoint). The following idiom obtains a view containing all of the key-value mappings in m whose keys are between low and high, exclusive:</p>\n\n<pre><code>SortedMap&lt;String, V&gt; sub = m.subMap(low+\"\\0\", high);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411071372,"creation_date":1411071372,"answer_id":25921584,"question_id":25921510,"body_markdown":"State from the [docs][1] \r\n\r\n    IllegalArgumentException if fromKey is greater than toKey; or if this map itself has a restricted range, and fromKey or toKey lies outside the bounds of the range\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#subMap(K,%20boolean,%20K,%20boolean)\r\n","title":"TreeMap.putAll giving key out of range","body":"<p>State from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#subMap(K,%20boolean,%20K,%20boolean)\" rel=\"nofollow\">docs</a> </p>\n\n<pre><code>IllegalArgumentException if fromKey is greater than toKey; or if this map itself has a restricted range, and fromKey or toKey lies outside the bounds of the range\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772915,"reputation":101,"user_id":16902521,"display_name":"Circulwyrd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639416973,"creation_date":1639416973,"answer_id":70338715,"question_id":25921510,"body_markdown":"I found this problem very awkward, as only soln I could find was to replace code in a function f() returning SortedMap:\r\n \r\nreturn docmap.headMap(nextkey); \r\n\r\nwhere the returned map has a &#39;restricted range&#39; (but there is no easy way to test this via a call that would be nice to have like map.isRangeRestricted()) \r\n\r\nwith code that copy constructs a new map based on the restricted-range map:\r\n\r\nreturn new TreeMap(docmap.headMap(nextkey))\r\n\r\nOtherwise the client code, which is making a call such as\r\n\r\nmmap.putAll(f()), where mmap is non-empty (and in this case also has a restricted range as earlier output from f() also), barfs.\r\n\r\nI also find it counterintuitive that mmap can apparently have a restricted range but not mind doing a putAll as long as the map whose contents are being added does not have a restricted range as well.\r\n ","title":"TreeMap.putAll giving key out of range","body":"<p>I found this problem very awkward, as only soln I could find was to replace code in a function f() returning SortedMap:</p>\n<p>return docmap.headMap(nextkey);</p>\n<p>where the returned map has a 'restricted range' (but there is no easy way to test this via a call that would be nice to have like map.isRangeRestricted())</p>\n<p>with code that copy constructs a new map based on the restricted-range map:</p>\n<p>return new TreeMap(docmap.headMap(nextkey))</p>\n<p>Otherwise the client code, which is making a call such as</p>\n<p>mmap.putAll(f()), where mmap is non-empty (and in this case also has a restricted range as earlier output from f() also), barfs.</p>\n<p>I also find it counterintuitive that mmap can apparently have a restricted range but not mind doing a putAll as long as the map whose contents are being added does not have a restricted range as well.</p>\n"}],"owner":{"account_id":1336729,"reputation":799,"user_id":1279301,"accept_rate":67,"display_name":"Sumit Kumar Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25921577,"answer_count":3,"score":1,"last_activity_date":1639416973,"creation_date":1411071069,"question_id":25921510,"body_markdown":"In my code,\r\n\r\n                SortedMap&lt;Integer, Data&gt; subMap;\r\n\t\t\t\r\n\t\t\t\tsubMap = (db.getDataMap()).tailMap(previousServer);\r\n\t\t\t\t\r\n\t\t\t\tSortedMap&lt;Integer, Data&gt;  temp = (db.getDataMap()).headMap(presentServer);\r\n\t\t\t\t//System.out.println(subMap);\r\n\t\t\t\t//System.out.println(temp);\r\n\t\t\t\tsubMap.putAll(temp);\r\n\t\t\t\r\nsuppose tailMap() returns nothing, so subMap is an empty Map, but temp has few key-value pair.\r\nSo adding temp to subMap via subMap.putAll(temp) is giving me &quot;key out of range&quot;.\r\nBut if i do temp.putAll(subMap) then everything works fine.\r\n\r\nWhat could be the reason here?","title":"TreeMap.putAll giving key out of range","body":"<p>In my code,</p>\n\n<pre><code>            SortedMap&lt;Integer, Data&gt; subMap;\n\n            subMap = (db.getDataMap()).tailMap(previousServer);\n\n            SortedMap&lt;Integer, Data&gt;  temp = (db.getDataMap()).headMap(presentServer);\n            //System.out.println(subMap);\n            //System.out.println(temp);\n            subMap.putAll(temp);\n</code></pre>\n\n<p>suppose tailMap() returns nothing, so subMap is an empty Map, but temp has few key-value pair.\nSo adding temp to subMap via subMap.putAll(temp) is giving me \"key out of range\".\nBut if i do temp.putAll(subMap) then everything works fine.</p>\n\n<p>What could be the reason here?</p>\n"},{"tags":["java","android","postman","retrofit"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1639336757,"post_id":70325940,"comment_id":124317410,"body_markdown":"Kindly note that Stackoverflow is not a free code converting service. Please show us the Java code you have written so far and you are struggling with. Please add some sampledata as well (keys, plaintext, signature), thanks.","body":"Kindly note that Stackoverflow is not a free code converting service. Please show us the Java code you have written so far and you are struggling with. Please add some sampledata as well (keys, plaintext, signature), thanks."},{"owner":{"account_id":18973743,"reputation":3,"user_id":13846671,"display_name":"Pankaj Patidar"},"score":0,"creation_date":1639417083,"post_id":70325940,"comment_id":124338064,"body_markdown":"@MichaelFehr I added my java code.","body":"@MichaelFehr I added my java code."}],"owner":{"account_id":18973743,"reputation":3,"user_id":13846671,"display_name":"Pankaj Patidar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639416966,"creation_date":1639329813,"question_id":70325940,"body_markdown":"I am unable to do this in my android app using java language. I am using the retrofit library for this but the problem is the signature. unable to generate proper signature which gives me an error. It is working in POSTMAN and getting proper responses. Help me to convert this in JAVA.\r\n\r\nDocumentation of API - https://docs.wazirx.com/#fund-details-user_data\r\n\r\nPOSTMAN PRE-REQUEST SCRIPT\r\nMAIN PARAMS --&gt; BASE_URL, API_KEY, SECRET_KEY, SIGNATURE &amp; TIMESTAMP in miliseconds.\r\n \r\n```   // Variables\r\n    var navigator = {}; //fake a navigator object for the lib\r\n    var window = {}; //fake a window object for the lib\r\n    const privateKey = pm.environment.get(&quot;rsa_private_key&quot;);\r\n    \r\n    const secretKey = pm.environment.get(&quot;secret_key&quot;);\r\n    \r\n    // Set Current Time\r\n    var time = new Date().getTime()\r\n    postman.setEnvironmentVariable(&quot;current_time&quot;, time)\r\n    \r\n    query_a = pm.request.url.query.toObject(true)\r\n    \r\n    // Generate Request Payload\r\n    let query_string_array = []\r\n    Object.keys(query_a).forEach(function(key) {\r\n        if (key == &#39;signature&#39;) { return }\r\n        if (key == &#39;timestamp&#39;) {\r\n            query_string_array.push(key + &quot;=&quot; + time)\r\n        }\r\n        else if (typeof query_a[key] == &quot;string&quot;) {\r\n            query_string_array.push(key + &quot;=&quot; + query_a[key])\r\n        } else {\r\n            query_a[key].forEach(function(value){\r\n                query_string_array.push(key + &quot;=&quot; + value)\r\n            })\r\n        }\r\n    })\r\n    \r\n    const payload = query_string_array.join(&quot;&amp;&quot;)\r\n    console.log(&quot;Request Payload = &quot;, payload)\r\n    \r\n    if(secretKey) {\r\n        const signature = CryptoJS.HmacSHA256(payload, secretKey) + &#39;&#39;\r\n        pm.environment.set(&quot;signature&quot;, signature)\r\n        console.log(&quot;Signature = &quot;+signature);\r\n    } else {\r\n        // Download RSA Library\r\n        pm.sendRequest(pm.environment.get(&quot;rsa_library_js&quot;), function (err, res) {\r\n    \r\n            if (err){\r\n                console.log(&quot;Error: &quot; + err);\r\n            }\r\n            else {\r\n                // Compile &amp; Run RSA Library\r\n                eval(res.text())();\r\n    \r\n                // Sign Payload\r\n                var signatureLib = new KJUR.crypto.Signature({&quot;alg&quot;: &quot;SHA256withRSA&quot;});\r\n                signatureLib.init(privateKey);\r\n                signatureLib.updateString(payload);\r\n                var signatureHash = hex2b64(signatureLib.sign());\r\n                console.log(&quot;Signature = &quot;, signatureHash)\r\n    \r\n                // Assign Values\r\n                pm.environment.set(&quot;signature&quot;, encodeURIComponent(signatureHash, &quot;UTF-8&quot;))\r\n            }\r\n        })\r\n    }\r\n\r\n\r\nJava Code: \r\n\r\n//REQUEST CLASS START --&gt;\r\n\r\npublic class Request {\r\nString baseUrl;\r\n    String apiKey=&quot;1***uR7&quot;;\r\n    String apiSecret=&quot;b1**qVmh&quot;;\r\n    Signature sign = new Signature();\r\n\r\n    public Request(String baseUrl, String apiKey, String apiSecret) {\r\n        this.baseUrl = baseUrl;\r\n        this.apiKey = apiKey;\r\n        this.apiSecret = apiSecret;\r\n    }\r\n\r\n    private void printResponse(HttpURLConnection con) throws IOException {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer response = new StringBuffer();\r\n\r\n        while ((inputLine = in.readLine()) != null) {\r\n            response.append(inputLine);\r\n        }\r\n        in.close();\r\n\r\n        System.out.println(response.toString());\r\n    }\r\n\r\n    private void printError(HttpURLConnection con) throws IOException {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                con.getErrorStream()));\r\n        String inputLine;\r\n        StringBuffer response = new StringBuffer();\r\n\r\n        while ((inputLine = in.readLine()) != null) {\r\n            response.append(inputLine);\r\n        }\r\n        in.close();\r\n\r\n        System.out.println(response.toString());\r\n    }\r\n\r\n    private String getTimeStamp() {\r\n        long timestamp = System.currentTimeMillis();\r\n        return &quot;timestamp=&quot; + timestamp;\r\n    }\r\n\r\n    //concatenate query parameters\r\n    private String joinQueryParameters(HashMap&lt;String,String&gt; parameters) {\r\n        String urlPath = &quot;&quot;;\r\n        boolean isFirst = true;\r\n\r\n        for (Map.Entry mapElement : parameters.entrySet()) {\r\n            if (isFirst) {\r\n                isFirst = false;\r\n                urlPath += mapElement.getKey() + &quot;=&quot; + mapElement.getValue();\r\n            } else {\r\n                urlPath += &quot;&amp;&quot; + mapElement.getKey() + &quot;=&quot; + mapElement.getValue();\r\n            }\r\n        }\r\n        return urlPath;\r\n    }\r\n\r\n    private void send(URL obj, String httpMethod) throws Exception {\r\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n        if (httpMethod != null) {\r\n            con.setRequestMethod(httpMethod);\r\n        }\r\n        //add API_KEY to header content\r\n        con.setRequestProperty(&quot;X-API-KEY&quot;, apiKey);\r\n\r\n        int responseCode = con.getResponseCode();\r\n        if (responseCode == HttpURLConnection.HTTP_OK) { // success\r\n            printResponse(con);\r\n        } else {\r\n            printError(con);\r\n        }\r\n\r\n    }\r\n\r\n    public void sendPublicRequest(HashMap&lt;String,String&gt; parameters, String urlPath) throws Exception {\r\n        String queryPath = joinQueryParameters(parameters);\r\n        URL obj = new URL(baseUrl + urlPath + &quot;?&quot; + queryPath);\r\n        System.out.println(&quot;url:&quot; + obj.toString());\r\n\r\n        send(obj, null);\r\n    }\r\n\r\n    public void sendSignedRequest(HashMap&lt;String,String&gt; parameters, String urlPath, String httpMethod) throws Exception {\r\n        String queryPath = &quot;&quot;;\r\n        String signature = &quot;&quot;;\r\n\r\n        if (!parameters.isEmpty()) {\r\n            queryPath += joinQueryParameters(parameters) + &quot;&amp;&quot; + getTimeStamp();\r\n        } else {\r\n            queryPath += getTimeStamp();\r\n        }\r\n        try {\r\n            signature = sign.getSignature(queryPath, apiSecret);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Please Ensure Your Secret Key Is Set Up Correctly! &quot; + e);\r\n            System.exit(0);\r\n        }\r\n        queryPath += &quot;&amp;signature=&quot; + signature;\r\n\r\n        URL obj = new URL(baseUrl + urlPath + &quot;?&quot; + queryPath);\r\n        System.out.println(&quot;url:&quot; + obj.toString());\r\n\r\n        send(obj, httpMethod);\r\n    }\r\n}\r\n\r\n//REQUEST CLASS END --&gt;\r\n\r\n//SPOT CLASS START --&gt;\r\npublic class Spot {\r\n    private static final String API_KEY = System.getenv(&quot;1***57&quot;);\r\n    private static final String API_SECRET = System.getenv(&quot;b****n8&quot;);\r\n    HashMap&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\r\n    Request httpRequest;\r\n\r\n    public Spot() {\r\n        String baseUrl = &quot;https://api.wazirx.com&quot;;\r\n        httpRequest = new Request(baseUrl, API_KEY, API_SECRET);\r\n    }\r\n    public void account() throws Exception {\r\n        httpRequest.sendSignedRequest(parameters, &quot;/sapi/v1/funds&quot;, &quot;GET&quot;);\r\n\r\n    }\r\n}\r\n//SPOT CLASS END--&gt;\r\n\r\n//SIGNATURE CLASS START--&gt;\r\n\r\npublic class Signature {\r\n    final String HMAC_SHA256 = &quot;HmacSHA256&quot;;\r\n\r\n    //convert byte array to hex string\r\n    private String bytesToHex(byte[] bytes) {\r\n        final char[] hexArray = &quot;0123456789abcdef&quot;.toCharArray();\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0, v; j &lt; bytes.length; j++) {\r\n            v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\n    public String getSignature(String data, String key) {\r\n        byte[] hmacSha256 = null;\r\n        try {\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(), HMAC_SHA256);\r\n            Mac mac = Mac.getInstance(HMAC_SHA256);\r\n            mac.init(secretKeySpec);\r\n            hmacSha256 = mac.doFinal(data.getBytes());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to calculate hmac-sha256&quot;, e);\r\n        }\r\n        return bytesToHex(hmacSha256);\r\n    }\r\n}\r\n//SIGNATURE CLASS END--&gt;\r\n","title":"Facing problem with signature parameter using Java in Android App","body":"<p>I am unable to do this in my android app using java language. I am using the retrofit library for this but the problem is the signature. unable to generate proper signature which gives me an error. It is working in POSTMAN and getting proper responses. Help me to convert this in JAVA.</p>\n<p>Documentation of API - <a href=\"https://docs.wazirx.com/#fund-details-user_data\" rel=\"nofollow noreferrer\">https://docs.wazirx.com/#fund-details-user_data</a></p>\n<p>POSTMAN PRE-REQUEST SCRIPT\nMAIN PARAMS --&gt; BASE_URL, API_KEY, SECRET_KEY, SIGNATURE &amp; TIMESTAMP in miliseconds.</p>\n<pre><code>    var navigator = {}; //fake a navigator object for the lib\n    var window = {}; //fake a window object for the lib\n    const privateKey = pm.environment.get(&quot;rsa_private_key&quot;);\n    \n    const secretKey = pm.environment.get(&quot;secret_key&quot;);\n    \n    // Set Current Time\n    var time = new Date().getTime()\n    postman.setEnvironmentVariable(&quot;current_time&quot;, time)\n    \n    query_a = pm.request.url.query.toObject(true)\n    \n    // Generate Request Payload\n    let query_string_array = []\n    Object.keys(query_a).forEach(function(key) {\n        if (key == 'signature') { return }\n        if (key == 'timestamp') {\n            query_string_array.push(key + &quot;=&quot; + time)\n        }\n        else if (typeof query_a[key] == &quot;string&quot;) {\n            query_string_array.push(key + &quot;=&quot; + query_a[key])\n        } else {\n            query_a[key].forEach(function(value){\n                query_string_array.push(key + &quot;=&quot; + value)\n            })\n        }\n    })\n    \n    const payload = query_string_array.join(&quot;&amp;&quot;)\n    console.log(&quot;Request Payload = &quot;, payload)\n    \n    if(secretKey) {\n        const signature = CryptoJS.HmacSHA256(payload, secretKey) + ''\n        pm.environment.set(&quot;signature&quot;, signature)\n        console.log(&quot;Signature = &quot;+signature);\n    } else {\n        // Download RSA Library\n        pm.sendRequest(pm.environment.get(&quot;rsa_library_js&quot;), function (err, res) {\n    \n            if (err){\n                console.log(&quot;Error: &quot; + err);\n            }\n            else {\n                // Compile &amp; Run RSA Library\n                eval(res.text())();\n    \n                // Sign Payload\n                var signatureLib = new KJUR.crypto.Signature({&quot;alg&quot;: &quot;SHA256withRSA&quot;});\n                signatureLib.init(privateKey);\n                signatureLib.updateString(payload);\n                var signatureHash = hex2b64(signatureLib.sign());\n                console.log(&quot;Signature = &quot;, signatureHash)\n    \n                // Assign Values\n                pm.environment.set(&quot;signature&quot;, encodeURIComponent(signatureHash, &quot;UTF-8&quot;))\n            }\n        })\n    }\n\n\nJava Code: \n\n//REQUEST CLASS START --&gt;\n\npublic class Request {\nString baseUrl;\n    String apiKey=&quot;1***uR7&quot;;\n    String apiSecret=&quot;b1**qVmh&quot;;\n    Signature sign = new Signature();\n\n    public Request(String baseUrl, String apiKey, String apiSecret) {\n        this.baseUrl = baseUrl;\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n    }\n\n    private void printResponse(HttpURLConnection con) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                con.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        System.out.println(response.toString());\n    }\n\n    private void printError(HttpURLConnection con) throws IOException {\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                con.getErrorStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        System.out.println(response.toString());\n    }\n\n    private String getTimeStamp() {\n        long timestamp = System.currentTimeMillis();\n        return &quot;timestamp=&quot; + timestamp;\n    }\n\n    //concatenate query parameters\n    private String joinQueryParameters(HashMap&lt;String,String&gt; parameters) {\n        String urlPath = &quot;&quot;;\n        boolean isFirst = true;\n\n        for (Map.Entry mapElement : parameters.entrySet()) {\n            if (isFirst) {\n                isFirst = false;\n                urlPath += mapElement.getKey() + &quot;=&quot; + mapElement.getValue();\n            } else {\n                urlPath += &quot;&amp;&quot; + mapElement.getKey() + &quot;=&quot; + mapElement.getValue();\n            }\n        }\n        return urlPath;\n    }\n\n    private void send(URL obj, String httpMethod) throws Exception {\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        if (httpMethod != null) {\n            con.setRequestMethod(httpMethod);\n        }\n        //add API_KEY to header content\n        con.setRequestProperty(&quot;X-API-KEY&quot;, apiKey);\n\n        int responseCode = con.getResponseCode();\n        if (responseCode == HttpURLConnection.HTTP_OK) { // success\n            printResponse(con);\n        } else {\n            printError(con);\n        }\n\n    }\n\n    public void sendPublicRequest(HashMap&lt;String,String&gt; parameters, String urlPath) throws Exception {\n        String queryPath = joinQueryParameters(parameters);\n        URL obj = new URL(baseUrl + urlPath + &quot;?&quot; + queryPath);\n        System.out.println(&quot;url:&quot; + obj.toString());\n\n        send(obj, null);\n    }\n\n    public void sendSignedRequest(HashMap&lt;String,String&gt; parameters, String urlPath, String httpMethod) throws Exception {\n        String queryPath = &quot;&quot;;\n        String signature = &quot;&quot;;\n\n        if (!parameters.isEmpty()) {\n            queryPath += joinQueryParameters(parameters) + &quot;&amp;&quot; + getTimeStamp();\n        } else {\n            queryPath += getTimeStamp();\n        }\n        try {\n            signature = sign.getSignature(queryPath, apiSecret);\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Please Ensure Your Secret Key Is Set Up Correctly! &quot; + e);\n            System.exit(0);\n        }\n        queryPath += &quot;&amp;signature=&quot; + signature;\n\n        URL obj = new URL(baseUrl + urlPath + &quot;?&quot; + queryPath);\n        System.out.println(&quot;url:&quot; + obj.toString());\n\n        send(obj, httpMethod);\n    }\n}\n\n//REQUEST CLASS END --&gt;\n\n//SPOT CLASS START --&gt;\npublic class Spot {\n    private static final String API_KEY = System.getenv(&quot;1***57&quot;);\n    private static final String API_SECRET = System.getenv(&quot;b****n8&quot;);\n    HashMap&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\n    Request httpRequest;\n\n    public Spot() {\n        String baseUrl = &quot;https://api.wazirx.com&quot;;\n        httpRequest = new Request(baseUrl, API_KEY, API_SECRET);\n    }\n    public void account() throws Exception {\n        httpRequest.sendSignedRequest(parameters, &quot;/sapi/v1/funds&quot;, &quot;GET&quot;);\n\n    }\n}\n//SPOT CLASS END--&gt;\n\n//SIGNATURE CLASS START--&gt;\n\npublic class Signature {\n    final String HMAC_SHA256 = &quot;HmacSHA256&quot;;\n\n    //convert byte array to hex string\n    private String bytesToHex(byte[] bytes) {\n        final char[] hexArray = &quot;0123456789abcdef&quot;.toCharArray();\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0, v; j &lt; bytes.length; j++) {\n            v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\n    public String getSignature(String data, String key) {\n        byte[] hmacSha256 = null;\n        try {\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(), HMAC_SHA256);\n            Mac mac = Mac.getInstance(HMAC_SHA256);\n            mac.init(secretKeySpec);\n            hmacSha256 = mac.doFinal(data.getBytes());\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to calculate hmac-sha256&quot;, e);\n        }\n        return bytesToHex(hmacSha256);\n    }\n}\n//SIGNATURE CLASS END--&gt;\n</code></pre>\n"},{"tags":["java","multithreading","java-stream"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639416788,"creation_date":1639416788,"answer_id":70338679,"question_id":70323454,"body_markdown":"Thread safety does not necessarily imply being accessed by only one thread. The important aspect is that there is no concurrent access, i.e. no access by more than one thread at the same time. If the access by different threads is temporally ordered and this ordering also ensures the necessary memory visibility, which is the responsibility of the caller, it still is a thread safe usage.\r\n\r\n[The `Spliterator` documentation] says:\r\n\r\n&gt; Despite their obvious utility in parallel algorithms, spliterators are not expected to be thread-safe; instead, implementations of parallel algorithms using spliterators should ensure that the spliterator is only used by one thread at a time. This is generally easy to attain via *serial thread-confinement*, which often is a natural consequence of typical parallel algorithms that work by recursive decomposition.\r\n\r\nThe spliterator doesn’t need to be confined to the same thread throughout its lifetime, but there should be a clear handover at the caller’s side ensuring that the old thread stops using it before the new thread starts using it.\r\n\r\nBut the important takeaway is, the spliterator doesn’t need to be thread safe, hence, the iterator wrapped by a spliterator also doesn’t need to be thread safe.\r\n\r\nNote that a typical behavior is splitting and handing over before starting traversal, but since an ordinary `Iterator` doesn’t support splitting, the wrapping spliterator has to iterate and buffer elements to implement splitting. Therefore, the `Iterator` experiences traversal by different threads (but one at a time) when the traversal has not been started from the `Stream` implementation’s perspective.\r\n\r\n---\r\n\r\nThat said, the `lines()` implementation of `BufferedReader` is a bad example which you should not follow. Since it’s centered around a single `readLine()` call, it would be natural to implement `Spliterator` directly instead of implementing a more complicated `Iterator` and have it wrapped via `spliteratorUnknownSize(…)`.\r\n\r\nSince your example is likewise centered around a single `poll()` call, it’s also straight-forward to implement `Spliterator` directly:\r\n\r\n```java\r\nclass SillySpliterator extends Spliterators.AbstractSpliterator&lt;String&gt; {\r\n    private final ArrayDeque&lt;String&gt; src = IntStream.range(1, 10000)\r\n        .mapToObj(Integer::toString).collect(toCollection(ArrayDeque::new));\r\n\r\n    SillySpliterator() {\r\n        super(Long.MAX_VALUE, ORDERED | NONNULL);\r\n    }\r\n\r\n    @Override\r\n    public boolean tryAdvance(Consumer&lt;? super String&gt; action) {\r\n        String nextRecord = src.poll();\r\n        if(nextRecord == null) return false;\r\n        action.accept(nextRecord);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nDepending on your real life case, you may also pass the actual deque size to the constructor and provide the `SIZED` characteristic.\r\n\r\nThen, you may use it like\r\n\r\n```java\r\nvar result = StreamSupport.stream(new SillySpliterator(), true)\r\n    .map(n -&gt; &quot;value = &quot; + n)\r\n    .collect(toList());\r\n```\r\n\r\n[The `Spliterator` documentation]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Spliterator.html","title":"Do parallel streams treat upstream iterators in a thread safe way?","body":"<p>Thread safety does not necessarily imply being accessed by only one thread. The important aspect is that there is no concurrent access, i.e. no access by more than one thread at the same time. If the access by different threads is temporally ordered and this ordering also ensures the necessary memory visibility, which is the responsibility of the caller, it still is a thread safe usage.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">The <code>Spliterator</code> documentation</a> says:</p>\n<blockquote>\n<p>Despite their obvious utility in parallel algorithms, spliterators are not expected to be thread-safe; instead, implementations of parallel algorithms using spliterators should ensure that the spliterator is only used by one thread at a time. This is generally easy to attain via <em>serial thread-confinement</em>, which often is a natural consequence of typical parallel algorithms that work by recursive decomposition.</p>\n</blockquote>\n<p>The spliterator doesn’t need to be confined to the same thread throughout its lifetime, but there should be a clear handover at the caller’s side ensuring that the old thread stops using it before the new thread starts using it.</p>\n<p>But the important takeaway is, the spliterator doesn’t need to be thread safe, hence, the iterator wrapped by a spliterator also doesn’t need to be thread safe.</p>\n<p>Note that a typical behavior is splitting and handing over before starting traversal, but since an ordinary <code>Iterator</code> doesn’t support splitting, the wrapping spliterator has to iterate and buffer elements to implement splitting. Therefore, the <code>Iterator</code> experiences traversal by different threads (but one at a time) when the traversal has not been started from the <code>Stream</code> implementation’s perspective.</p>\n<hr />\n<p>That said, the <code>lines()</code> implementation of <code>BufferedReader</code> is a bad example which you should not follow. Since it’s centered around a single <code>readLine()</code> call, it would be natural to implement <code>Spliterator</code> directly instead of implementing a more complicated <code>Iterator</code> and have it wrapped via <code>spliteratorUnknownSize(…)</code>.</p>\n<p>Since your example is likewise centered around a single <code>poll()</code> call, it’s also straight-forward to implement <code>Spliterator</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SillySpliterator extends Spliterators.AbstractSpliterator&lt;String&gt; {\n    private final ArrayDeque&lt;String&gt; src = IntStream.range(1, 10000)\n        .mapToObj(Integer::toString).collect(toCollection(ArrayDeque::new));\n\n    SillySpliterator() {\n        super(Long.MAX_VALUE, ORDERED | NONNULL);\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super String&gt; action) {\n        String nextRecord = src.poll();\n        if(nextRecord == null) return false;\n        action.accept(nextRecord);\n        return true;\n    }\n}\n</code></pre>\n<p>Depending on your real life case, you may also pass the actual deque size to the constructor and provide the <code>SIZED</code> characteristic.</p>\n<p>Then, you may use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>var result = StreamSupport.stream(new SillySpliterator(), true)\n    .map(n -&gt; &quot;value = &quot; + n)\n    .collect(toList());\n</code></pre>\n"}],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70338679,"answer_count":1,"score":9,"last_activity_date":1639416788,"creation_date":1639311460,"question_id":70323454,"body_markdown":"Today I was using a stream that was performing a `parallel()` operation after a map, however; the underlying source is an iterator which is not thread safe which is similar to the [BufferedReader.lines][1] implementation.\r\n\r\nI originally thought that trySplit would be called on the created thread, however; I observed that the accesses to the iterator have come from multiple threads.\r\n\r\nBy example, the following silly iterator implementation is just setup with enough elements to cause splitting and also keeps track of the unique threads that accessed the `hasNext` method.\r\n\r\n    class SillyIterator implements Iterator&lt;String&gt; {\r\n    \r\n        private final ArrayDeque&lt;String&gt; src =\r\n            IntStream.range(1, 10000)\r\n                .mapToObj(Integer::toString)\r\n                .collect(toCollection(ArrayDeque::new));\r\n        private Map&lt;String, String&gt; ts = new ConcurrentHashMap&lt;&gt;();\r\n        public Set&lt;String&gt; threads() { return ts.keySet(); }\r\n        private String nextRecord = null;\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            var n = Thread.currentThread().getName();\r\n            ts.put(n, n);\r\n            if (nextRecord != null) {\r\n                return true;\r\n            } else {\r\n                nextRecord = src.poll();\r\n                return nextRecord != null;\r\n            }\r\n        }\r\n        @Override\r\n        public String next() {\r\n            if (nextRecord != null || hasNext()) {\r\n                var rec = nextRecord;\r\n                nextRecord = null;\r\n                return rec;\r\n            }\r\n            throw new NoSuchElementException();\r\n        }\r\n\r\n    }\r\n\r\nUsing this to create a stream as follows:\r\n\r\n    var iter = new SillyIterator();\r\n    StreamSupport\r\n        .stream(Spliterators.spliteratorUnknownSize(\r\n            iter, Spliterator.ORDERED | Spliterator.NONNULL\r\n        ), false)\r\n        .map(n -&gt; &quot;value = &quot; + n)\r\n        .parallel()\r\n        .collect(toList());\r\n\r\n    System.out.println(iter.threads());\r\n\r\nThis on my system output the two fork join threads as well as the main thread, which kind of scared me.\r\n\r\n    [ForkJoinPool.commonPool-worker-1, ForkJoinPool.commonPool-worker-2, main]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()","title":"Do parallel streams treat upstream iterators in a thread safe way?","body":"<p>Today I was using a stream that was performing a <code>parallel()</code> operation after a map, however; the underlying source is an iterator which is not thread safe which is similar to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()\" rel=\"noreferrer\">BufferedReader.lines</a> implementation.</p>\n<p>I originally thought that trySplit would be called on the created thread, however; I observed that the accesses to the iterator have come from multiple threads.</p>\n<p>By example, the following silly iterator implementation is just setup with enough elements to cause splitting and also keeps track of the unique threads that accessed the <code>hasNext</code> method.</p>\n<pre><code>class SillyIterator implements Iterator&lt;String&gt; {\n\n    private final ArrayDeque&lt;String&gt; src =\n        IntStream.range(1, 10000)\n            .mapToObj(Integer::toString)\n            .collect(toCollection(ArrayDeque::new));\n    private Map&lt;String, String&gt; ts = new ConcurrentHashMap&lt;&gt;();\n    public Set&lt;String&gt; threads() { return ts.keySet(); }\n    private String nextRecord = null;\n\n    @Override\n    public boolean hasNext() {\n        var n = Thread.currentThread().getName();\n        ts.put(n, n);\n        if (nextRecord != null) {\n            return true;\n        } else {\n            nextRecord = src.poll();\n            return nextRecord != null;\n        }\n    }\n    @Override\n    public String next() {\n        if (nextRecord != null || hasNext()) {\n            var rec = nextRecord;\n            nextRecord = null;\n            return rec;\n        }\n        throw new NoSuchElementException();\n    }\n\n}\n</code></pre>\n<p>Using this to create a stream as follows:</p>\n<pre><code>var iter = new SillyIterator();\nStreamSupport\n    .stream(Spliterators.spliteratorUnknownSize(\n        iter, Spliterator.ORDERED | Spliterator.NONNULL\n    ), false)\n    .map(n -&gt; &quot;value = &quot; + n)\n    .parallel()\n    .collect(toList());\n\nSystem.out.println(iter.threads());\n</code></pre>\n<p>This on my system output the two fork join threads as well as the main thread, which kind of scared me.</p>\n<pre><code>[ForkJoinPool.commonPool-worker-1, ForkJoinPool.commonPool-worker-2, main]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1320240105,"post_id":7980364,"comment_id":9760405,"body_markdown":"It is impossible for any package to meet your *stated* requirement because it is so vague. Essentially, business hours are determined by a set of &quot;business rules&quot;. What kinds of business rules are you interested in?","body":"It is impossible for any package to meet your <i>stated</i> requirement because it is so vague. Essentially, business hours are determined by a set of &quot;business rules&quot;. What kinds of business rules are you interested in?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1320237717,"creation_date":1320237295,"answer_id":7980393,"question_id":7980364,"body_markdown":"You can create a class by using `Calendar` and see if its working day and working hour now.\r\n\r\n    class BusinessHour{\r\n    \r\n    public void isOpenNow(){\r\n      Calendar calNow = Calendar.getInstance();\r\n        //check the rules for example , if day is MOn-FRi and time is 9-18.\r\n      }\r\n    }\r\n\r\nI don&#39;t think there would be a ready made because each business has its own specification, You could probably make if configurable so that it fixes for all the business, provide the conf parameter externally to the class for better design","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>You can create a class by using <code>Calendar</code> and see if its working day and working hour now.</p>\n\n<pre><code>class BusinessHour{\n\npublic void isOpenNow(){\n  Calendar calNow = Calendar.getInstance();\n    //check the rules for example , if day is MOn-FRi and time is 9-18.\n  }\n}\n</code></pre>\n\n<p>I don't think there would be a ready made because each business has its own specification, You could probably make if configurable so that it fixes for all the business, provide the conf parameter externally to the class for better design</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320238275,"creation_date":1320238275,"answer_id":7980597,"question_id":7980364,"body_markdown":"There probably isn&#39;t a package that already implement your exact business logic. \r\n\r\nFor example, do you need to override the standard opening days on certain days of the year, e.g. closures for special events? What about public holidays, do you open for these?\r\n\r\nMy simple suggested solution would be:\r\n\r\n 1. Create a database table with (day, opening time, closing time) as fields \r\n 2. Create a function that take a day and time as parameters, and\r\n    looks up in the database table to see if is within the\r\n    opening/closing times for  given day \r\n 3. Provide an easy way for\r\n    business users to update the open/closing times after pre-populating\r\n    them with your standard times\r\n\r\n","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>There probably isn't a package that already implement your exact business logic. </p>\n\n<p>For example, do you need to override the standard opening days on certain days of the year, e.g. closures for special events? What about public holidays, do you open for these?</p>\n\n<p>My simple suggested solution would be:</p>\n\n<ol>\n<li>Create a database table with (day, opening time, closing time) as fields </li>\n<li>Create a function that take a day and time as parameters, and\nlooks up in the database table to see if is within the\nopening/closing times for  given day </li>\n<li>Provide an easy way for\nbusiness users to update the open/closing times after pre-populating\nthem with your standard times</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":459717,"reputation":3789,"user_id":860350,"display_name":"vladaman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346672112,"creation_date":1346672112,"answer_id":12247046,"question_id":7980364,"body_markdown":"I use following Object to store OpeningHours in HashSet&lt;OpeningHours&gt;. Example bellow can be easily simplified using seconds from Midnight instead of &quot;800&quot; or &quot;1600&quot; for hours but I like it this way.\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    public class OpeningHours {\r\n      public enum DAY {\r\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\r\n      }\r\n\r\n\tpublic OpeningHours(DAY day, Integer from, Integer to) {\r\n\t\tthis.day = day;\r\n\t\tthis.from = from; // format time using 800 for 8:00am or 2300 for 23:00\r\n\t\tthis.to = to;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;OpeningHours [day=&quot; + day + &quot;, from=&quot; + from + &quot;, to=&quot; + to + &quot;, isAllDay=&quot; + isAllDay + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic OpeningHours() {\r\n\r\n\t}\r\n\r\n\tpublic DAY day;\r\n\tpublic Integer from;\r\n\tpublic Integer to;\r\n\tpublic boolean isAllDay = false;\r\n\r\n\tpublic void isOpenx(DateTime start) {\r\n\r\n\t}\r\n\r\n\tpublic boolean isOpen(DateTime start) {\r\n\r\n\t\tif (day.ordinal() != start.getDayOfWeek() - 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (isAllDay)\r\n\t\t\treturn true;\r\n\r\n\t\tString f = String.format(&quot;%04d&quot;, from);\r\n\t\tString t = String.format(&quot;%04d&quot;, to);\r\n\r\n\t\tInteger fh = Integer.valueOf(f.substring(0, 2));\r\n\t\tInteger fm = Integer.valueOf(f.substring(2));\r\n\r\n\t\tInteger th = Integer.valueOf(t.substring(0, 2));\r\n\t\tInteger tm = Integer.valueOf(t.substring(2));\r\n\r\n\t\tDateTime intStart = start.withHourOfDay(fh).withMinuteOfHour(fm);\r\n\t\tDateTime intEnd = start.withHourOfDay(th).withMinuteOfHour(tm);\r\n\r\n\t\tif (intStart.equals(start) || intEnd.equals(start)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (intStart.isBefore(start) &amp;&amp; intEnd.isAfter(start)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n    }\r\n\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    HashSet&lt;OpeningHours&gt; hours = new HashSet&lt;OpeningHours&gt;();\r\n    hours.add(new OpeningHours(OpeningHours.DAY.MONDAY, 800, 1200));\r\n    hours.add(new OpeningHours(OpeningHours.DAY.MONDAY, 1230, 1600));\r\n\r\n\r\n    DateTime dateToCheck = new DateTime(2012, 9, 4, 8, 00, 0, 0);\r\n\r\n    for (OpeningHours item : hours) {\r\n      boolean isOpen = item.isOpen(dateToCheck );\r\n      if (isOpen){\r\n        System.out.println(&quot;Is Open!&quot;);\r\n      }\r\n    }","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>I use following Object to store OpeningHours in HashSet. Example bellow can be easily simplified using seconds from Midnight instead of \"800\" or \"1600\" for hours but I like it this way.</p>\n\n\n\n<pre><code>public class OpeningHours {\n  public enum DAY {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\n  }\n\npublic OpeningHours(DAY day, Integer from, Integer to) {\n    this.day = day;\n    this.from = from; // format time using 800 for 8:00am or 2300 for 23:00\n    this.to = to;\n}\n\n@Override\npublic String toString() {\n    return \"OpeningHours [day=\" + day + \", from=\" + from + \", to=\" + to + \", isAllDay=\" + isAllDay + \"]\";\n}\n\npublic OpeningHours() {\n\n}\n\npublic DAY day;\npublic Integer from;\npublic Integer to;\npublic boolean isAllDay = false;\n\npublic void isOpenx(DateTime start) {\n\n}\n\npublic boolean isOpen(DateTime start) {\n\n    if (day.ordinal() != start.getDayOfWeek() - 1) {\n        return false;\n    }\n\n    if (isAllDay)\n        return true;\n\n    String f = String.format(\"%04d\", from);\n    String t = String.format(\"%04d\", to);\n\n    Integer fh = Integer.valueOf(f.substring(0, 2));\n    Integer fm = Integer.valueOf(f.substring(2));\n\n    Integer th = Integer.valueOf(t.substring(0, 2));\n    Integer tm = Integer.valueOf(t.substring(2));\n\n    DateTime intStart = start.withHourOfDay(fh).withMinuteOfHour(fm);\n    DateTime intEnd = start.withHourOfDay(th).withMinuteOfHour(tm);\n\n    if (intStart.equals(start) || intEnd.equals(start)) {\n        return true;\n    }\n    if (intStart.isBefore(start) &amp;&amp; intEnd.isAfter(start)) {\n        return true;\n    }\n\n    return false;\n\n}\n}\n</code></pre>\n\n\n\n<pre><code>HashSet&lt;OpeningHours&gt; hours = new HashSet&lt;OpeningHours&gt;();\nhours.add(new OpeningHours(OpeningHours.DAY.MONDAY, 800, 1200));\nhours.add(new OpeningHours(OpeningHours.DAY.MONDAY, 1230, 1600));\n\n\nDateTime dateToCheck = new DateTime(2012, 9, 4, 8, 00, 0, 0);\n\nfor (OpeningHours item : hours) {\n  boolean isOpen = item.isOpen(dateToCheck );\n  if (isOpen){\n    System.out.println(\"Is Open!\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475225262,"creation_date":1475225262,"answer_id":39787336,"question_id":7980364,"body_markdown":"In Java 8, you can represent it as a set of openingTimes objects:\r\n\r\nThe set:\r\n\r\n     Set&lt;OpeningTimes&gt; openingTimes = new HashSet&lt;&gt;();\r\n\r\nOpeningTimes\r\n\r\n    import java.time.DayOfWeek;\r\n    import java.time.LocalTime;\r\n    \r\n    public class OpeningTimes {\r\n        private DayOfWeek dayOfWeek;\r\n        private LocalTime from;\r\n        private LocalTime to;\r\n    \r\n        public DayOfWeek getDayOfWeek() {\r\n            return dayOfWeek;\r\n        }\r\n    \r\n        public void setDayOfWeek(DayOfWeek dayOfWeek) {\r\n            this.dayOfWeek = dayOfWeek;\r\n        }\r\n    \r\n        public LocalTime getFrom() {\r\n            return from;\r\n        }\r\n    \r\n        public void setFrom(LocalTime from) {\r\n            this.from = from;\r\n        }\r\n    \r\n        public LocalTime getTo() {\r\n            return to;\r\n        }\r\n    \r\n        public void setTo(LocalTime to) {\r\n            this.to = to;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>In Java 8, you can represent it as a set of openingTimes objects:</p>\n\n<p>The set:</p>\n\n<pre><code> Set&lt;OpeningTimes&gt; openingTimes = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>OpeningTimes</p>\n\n<pre><code>import java.time.DayOfWeek;\nimport java.time.LocalTime;\n\npublic class OpeningTimes {\n    private DayOfWeek dayOfWeek;\n    private LocalTime from;\n    private LocalTime to;\n\n    public DayOfWeek getDayOfWeek() {\n        return dayOfWeek;\n    }\n\n    public void setDayOfWeek(DayOfWeek dayOfWeek) {\n        this.dayOfWeek = dayOfWeek;\n    }\n\n    public LocalTime getFrom() {\n        return from;\n    }\n\n    public void setFrom(LocalTime from) {\n        this.from = from;\n    }\n\n    public LocalTime getTo() {\n        return to;\n    }\n\n    public void setTo(LocalTime to) {\n        this.to = to;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639416728,"creation_date":1639416728,"answer_id":70338669,"question_id":7980364,"body_markdown":"The following class also takes into account the case when a thing (e.g. a building) is not open at all on the specified day.\r\n\r\n```java\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.time.LocalTime;\r\nimport java.util.Objects;\r\n\r\n/**\r\n * {@code OpeningHours} represents the opening hours of a single day of a &quot;thing&quot;\r\n * (e.g. a building). The opening- and closing hour are independent of timezones.\r\n */\r\npublic class OpeningHours {\r\n    private boolean opensToday;\r\n    private LocalTime openingHour;\r\n    private LocalTime closingHour;\r\n\r\n    /**\r\n     * A reusable {@code OpeningHours} that is always closed.\r\n     */\r\n    private static OpeningHours closedInstance = new OpeningHours();\r\n\r\n    /**\r\n     * Constructs a new {@code OpeningHours} for a thing that does not open at this specific day.\r\n     */\r\n    public OpeningHours() {\r\n        opensToday = false;\r\n    }\r\n\r\n    /**\r\n     * Constructs a new {@code OpeningHours} for a thing that does open today.\r\n     *\r\n     * @param openingHour the opening hour of the thing, inclusive. Must be strictly less than the closingHour\r\n     * @param closingHour the closing hour of the thing, exclusive. Must be strictly more than the openingHour\r\n     */\r\n    public OpeningHours(@NotNull LocalTime openingHour, @NotNull LocalTime closingHour) {\r\n        Objects.requireNonNull(openingHour);\r\n        Objects.requireNonNull(closingHour);\r\n\r\n        if (openingHour.compareTo(closingHour) &gt;= 0)\r\n            throw new IllegalArgumentException(&quot;the openingHour must be strictly less than the closingHour&quot;);\r\n\r\n        this.opensToday = true;\r\n        this.openingHour = openingHour;\r\n        this.closingHour = closingHour;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the thing this {@code OpeningHours} belongs to will open today.\r\n     *\r\n     * @return the value of {@link #opensToday}\r\n     */\r\n    public boolean opensToday() {\r\n        return opensToday;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the provided {@code time} is within the opening hours. More specifically this method returns\r\n     * {@code true} when {@code time} is equal to or greater than {@code this#getOpeningHour()} and strictly less\r\n     * than {@code this.getClosingHour()}.\r\n     *\r\n     * @param time the time at wh\r\n     * @return {@code true} if {@code time} is greater than or equal to {@link #openingHour} and strictly less than\r\n     *         {@link #closingHour}.\r\n     */\r\n    public boolean isOpen(LocalTime time) {\r\n        if (!opensToday)\r\n            return false;\r\n        return (openingHour.compareTo(time) &lt;= 0) &amp;&amp; (closingHour.compareTo(time) &gt; 0) ;\r\n    }\r\n\r\n    /**\r\n     * Returns whether the current time is within the opening hours.\r\n     * \r\n     * @see #isOpen(LocalTime)\r\n     */\r\n    public boolean isOpen() {\r\n        return this.isOpen(LocalTime.now());\r\n    }\r\n\r\n\r\n    /**\r\n     * @return an {@code OpeningHours} for a thing that is permanently closed on this day.\r\n     */\r\n    public OpeningHours getClosedInstance() {\r\n        return closedInstance;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        OpeningHours that = (OpeningHours) o;\r\n\r\n        if (opensToday != that.opensToday) return false;\r\n        if (!Objects.equals(openingHour, that.openingHour)) return false;\r\n        return Objects.equals(closingHour, that.closingHour);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = (opensToday ? 1 : 0);\r\n        result = 31 * result + (openingHour != null ? openingHour.hashCode() : 0);\r\n        result = 31 * result + (closingHour != null ? closingHour.hashCode() : 0);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OpeningHours{&quot; +\r\n                &quot;opensToday=&quot; + opensToday +\r\n                &quot;, openingHour=&quot; + openingHour +\r\n                &quot;, closingHour=&quot; + closingHour +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>The following class also takes into account the case when a thing (e.g. a building) is not open at all on the specified day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jetbrains.annotations.NotNull;\n\nimport java.time.LocalTime;\nimport java.util.Objects;\n\n/**\n * {@code OpeningHours} represents the opening hours of a single day of a &quot;thing&quot;\n * (e.g. a building). The opening- and closing hour are independent of timezones.\n */\npublic class OpeningHours {\n    private boolean opensToday;\n    private LocalTime openingHour;\n    private LocalTime closingHour;\n\n    /**\n     * A reusable {@code OpeningHours} that is always closed.\n     */\n    private static OpeningHours closedInstance = new OpeningHours();\n\n    /**\n     * Constructs a new {@code OpeningHours} for a thing that does not open at this specific day.\n     */\n    public OpeningHours() {\n        opensToday = false;\n    }\n\n    /**\n     * Constructs a new {@code OpeningHours} for a thing that does open today.\n     *\n     * @param openingHour the opening hour of the thing, inclusive. Must be strictly less than the closingHour\n     * @param closingHour the closing hour of the thing, exclusive. Must be strictly more than the openingHour\n     */\n    public OpeningHours(@NotNull LocalTime openingHour, @NotNull LocalTime closingHour) {\n        Objects.requireNonNull(openingHour);\n        Objects.requireNonNull(closingHour);\n\n        if (openingHour.compareTo(closingHour) &gt;= 0)\n            throw new IllegalArgumentException(&quot;the openingHour must be strictly less than the closingHour&quot;);\n\n        this.opensToday = true;\n        this.openingHour = openingHour;\n        this.closingHour = closingHour;\n    }\n\n    /**\n     * Returns whether the thing this {@code OpeningHours} belongs to will open today.\n     *\n     * @return the value of {@link #opensToday}\n     */\n    public boolean opensToday() {\n        return opensToday;\n    }\n\n    /**\n     * Returns whether the provided {@code time} is within the opening hours. More specifically this method returns\n     * {@code true} when {@code time} is equal to or greater than {@code this#getOpeningHour()} and strictly less\n     * than {@code this.getClosingHour()}.\n     *\n     * @param time the time at wh\n     * @return {@code true} if {@code time} is greater than or equal to {@link #openingHour} and strictly less than\n     *         {@link #closingHour}.\n     */\n    public boolean isOpen(LocalTime time) {\n        if (!opensToday)\n            return false;\n        return (openingHour.compareTo(time) &lt;= 0) &amp;&amp; (closingHour.compareTo(time) &gt; 0) ;\n    }\n\n    /**\n     * Returns whether the current time is within the opening hours.\n     * \n     * @see #isOpen(LocalTime)\n     */\n    public boolean isOpen() {\n        return this.isOpen(LocalTime.now());\n    }\n\n\n    /**\n     * @return an {@code OpeningHours} for a thing that is permanently closed on this day.\n     */\n    public OpeningHours getClosedInstance() {\n        return closedInstance;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        OpeningHours that = (OpeningHours) o;\n\n        if (opensToday != that.opensToday) return false;\n        if (!Objects.equals(openingHour, that.openingHour)) return false;\n        return Objects.equals(closingHour, that.closingHour);\n    }\n\n    @Override\n    public int hashCode() {\n        int result = (opensToday ? 1 : 0);\n        result = 31 * result + (openingHour != null ? openingHour.hashCode() : 0);\n        result = 31 * result + (closingHour != null ? closingHour.hashCode() : 0);\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OpeningHours{&quot; +\n                &quot;opensToday=&quot; + opensToday +\n                &quot;, openingHour=&quot; + openingHour +\n                &quot;, closingHour=&quot; + closingHour +\n                '}';\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":537940,"reputation":158,"user_id":906201,"accept_rate":50,"display_name":"Igor Toma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7042,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":5,"score":11,"last_activity_date":1639416728,"creation_date":1320237199,"question_id":7980364,"body_markdown":"I need to represent opening hours, and a method which returns true/false for a certain day and time.\r\nIs there any package which has this functionality already?\r\n\r\nEdit: Basically I would need to construct an object with data out of db or a file, then perform a basic check against the object, like if it&#39;s closed at a certain moment.\r\n\r\nThe problem was that some businesses will have working hours after 00:00 so it overlaps the next day.\r\nIn this case I figure out that the object should be able to support multiple time frames per day, also to cover lunch brakes.\r\n\r\n","title":"Which is the best way to represent the business opening hours in a Java object?","body":"<p>I need to represent opening hours, and a method which returns true/false for a certain day and time.\nIs there any package which has this functionality already?</p>\n\n<p>Edit: Basically I would need to construct an object with data out of db or a file, then perform a basic check against the object, like if it's closed at a certain moment.</p>\n\n<p>The problem was that some businesses will have working hours after 00:00 so it overlaps the next day.\nIn this case I figure out that the object should be able to support multiple time frames per day, also to cover lunch brakes.</p>\n"},{"tags":["java","apache","log4j","log4j2"],"comments":[{"owner":{"account_id":1250857,"reputation":428,"user_id":1211304,"accept_rate":74,"display_name":"nandini"},"score":0,"creation_date":1461910616,"post_id":36930807,"comment_id":61421617,"body_markdown":"Why is it? I wan to know what happens when we parametrize. I don&#39;t seem to find the code for the parametrization one. Also, If for log4j logger.info allows only object and throwable. not multiple arguments.","body":"Why is it? I wan to know what happens when we parametrize. I don&#39;t seem to find the code for the parametrization one. Also, If for log4j logger.info allows only object and throwable. not multiple arguments."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1461910953,"post_id":36930807,"comment_id":61421794,"body_markdown":"Well, instead of using an ancient logging framework like `log4j`, use a better one (or preferably a logging facade like `SLF4J`).","body":"Well, instead of using an ancient logging framework like <code>log4j</code>, use a better one (or preferably a logging facade like <code>SLF4J</code>)."},{"owner":{"account_id":1250857,"reputation":428,"user_id":1211304,"accept_rate":74,"display_name":"nandini"},"score":0,"creation_date":1461911340,"post_id":36930807,"comment_id":61422009,"body_markdown":"Yeah.. I was editing someone else&#39;s code. They already had log4j. I will change it. Thanks. I knew parametrization is better, but didn&#39;t know the reason. Your answer explains that. Thanks @kayaman :)","body":"Yeah.. I was editing someone else&#39;s code. They already had log4j. I will change it. Thanks. I knew parametrization is better, but didn&#39;t know the reason. Your answer explains that. Thanks @kayaman :)"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639416384,"creation_date":1461910862,"answer_id":36930920,"question_id":36930807,"body_markdown":"Even if there were nothing else, the additional [StringBuilder shenanigans][1] that happen when using `+` would make using parameters the obvious choice.\r\n\r\nNot to mention that when concatenating the values, the `toString()` method of all the parameters will be called even if the logging level isn&#39;t enabled, meaning that you&#39;re wasting CPU to build a String that will never be logged.\r\nThis would have an (albeit minor) effect if there are lots of `debug()` statements, when DEBUG level is usually disabled in production environments.\r\n\r\n  [1]: https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator","title":"logger usage, is parameterization better or using + to add arguments?","body":"<p>Even if there were nothing else, the additional <a href=\"https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator\">StringBuilder shenanigans</a> that happen when using <code>+</code> would make using parameters the obvious choice.</p>\n<p>Not to mention that when concatenating the values, the <code>toString()</code> method of all the parameters will be called even if the logging level isn't enabled, meaning that you're wasting CPU to build a String that will never be logged.\nThis would have an (albeit minor) effect if there are lots of <code>debug()</code> statements, when DEBUG level is usually disabled in production environments.</p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467294602,"creation_date":1461927140,"answer_id":36936437,"question_id":36930807,"body_markdown":"[Parameterized messages][1] avoid formatting the text until Log4j is certain that the message will be logged. This allows you to avoid surrounding the logger.debug(...) call with checks like `if (logger.isDebugEnabled())...` which gives cleaner code.\r\n\r\n&gt; This answer is based on modern logging frameworks, not outdated ones like Log4J.\r\n\r\nWhen you say &quot;outdated&quot; you must be talking about Log4j 1.x. As of 2014, Log4j 2 is the cutting edge open source logging framework. It takes some ideas from SLF4J, like [parameterized log messages][2], but adds a plugin system so you can easily add [custom appenders][3], custom layouts and [custom lookups][4]. Furthermore Log4j 2 has support for [custom log levels][5], [lambda expressions][6] and the lock-free and very performant [Async Loggers][7]. To spice things up, from release 2.6 Log4j 2 is [garbage-free][8].\r\n\r\nKayaman is probably talking about Log4j 1, which has been [End of Life][9] since August 2015.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/messages.html\r\n  [2]: http://logging.apache.org/log4j/2.x/log4j-api/xref/org/apache/logging/log4j/message/ParameterizedMessage.html\r\n  [3]: https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2/24220688#24220688\r\n  [4]: https://stackoverflow.com/questions/29745938/log4j2-2-1-custom-plugin-not-detected-by-packages-attribute/29761346#29761346\r\n  [5]: http://logging.apache.org/log4j/2.x/manual/customloglevels.html\r\n  [6]: http://logging.apache.org/log4j/2.x/manual/api.html#LambdaSupport\r\n  [7]: http://logging.apache.org/log4j/2.x/manual/async.html#Performance\r\n  [8]: https://issues.apache.org/jira/browse/LOG4J2-1270\r\n  [9]: https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces","title":"logger usage, is parameterization better or using + to add arguments?","body":"<p><a href=\"http://logging.apache.org/log4j/2.x/manual/messages.html\" rel=\"nofollow noreferrer\">Parameterized messages</a> avoid formatting the text until Log4j is certain that the message will be logged. This allows you to avoid surrounding the logger.debug(...) call with checks like <code>if (logger.isDebugEnabled())...</code> which gives cleaner code.</p>\n\n<blockquote>\n  <p>This answer is based on modern logging frameworks, not outdated ones like Log4J.</p>\n</blockquote>\n\n<p>When you say \"outdated\" you must be talking about Log4j 1.x. As of 2014, Log4j 2 is the cutting edge open source logging framework. It takes some ideas from SLF4J, like <a href=\"http://logging.apache.org/log4j/2.x/log4j-api/xref/org/apache/logging/log4j/message/ParameterizedMessage.html\" rel=\"nofollow noreferrer\">parameterized log messages</a>, but adds a plugin system so you can easily add <a href=\"https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2/24220688#24220688\">custom appenders</a>, custom layouts and <a href=\"https://stackoverflow.com/questions/29745938/log4j2-2-1-custom-plugin-not-detected-by-packages-attribute/29761346#29761346\">custom lookups</a>. Furthermore Log4j 2 has support for <a href=\"http://logging.apache.org/log4j/2.x/manual/customloglevels.html\" rel=\"nofollow noreferrer\">custom log levels</a>, <a href=\"http://logging.apache.org/log4j/2.x/manual/api.html#LambdaSupport\" rel=\"nofollow noreferrer\">lambda expressions</a> and the lock-free and very performant <a href=\"http://logging.apache.org/log4j/2.x/manual/async.html#Performance\" rel=\"nofollow noreferrer\">Async Loggers</a>. To spice things up, from release 2.6 Log4j 2 is <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1270\" rel=\"nofollow noreferrer\">garbage-free</a>.</p>\n\n<p>Kayaman is probably talking about Log4j 1, which has been <a href=\"https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\" rel=\"nofollow noreferrer\">End of Life</a> since August 2015.</p>\n"}],"owner":{"account_id":1250857,"reputation":428,"user_id":1211304,"accept_rate":74,"display_name":"nandini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":36930920,"answer_count":2,"score":3,"last_activity_date":1639416384,"creation_date":1461910431,"question_id":36930807,"body_markdown":"Which of the following is a better usage of logger? \r\n\r\n1. Parametrize (log4j 2)\r\n\r\n        logger.info(&quot;User {} has logged in using id {}&quot;, map.get(&quot;Name&quot;), user.getId());`\r\n\r\n2. Using + operator (log4j)\r\n       \r\n        logger.info(&quot;User&quot;+ map.get(&quot;Name&quot;) +&quot; has logged in using id &quot; +user.getId());`\r\n\r\nAnd why?","title":"logger usage, is parameterization better or using + to add arguments?","body":"<p>Which of the following is a better usage of logger? </p>\n\n<ol>\n<li><p>Parametrize (log4j 2)</p>\n\n<pre><code>logger.info(\"User {} has logged in using id {}\", map.get(\"Name\"), user.getId());`\n</code></pre></li>\n<li><p>Using + operator (log4j)</p>\n\n<pre><code>logger.info(\"User\"+ map.get(\"Name\") +\" has logged in using id \" +user.getId());`\n</code></pre></li>\n</ol>\n\n<p>And why?</p>\n"},{"tags":["java","dependency-management"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639416573,"post_id":70338186,"comment_id":124337814,"body_markdown":"&quot;Is there a tool that can trace code execution and generate cut-down Java classes that capture the methods that actually got executed?&quot; - Yes, it is called a Java Profiler. The rest of what you are asking, I don&#39;t know if it is at all possible.","body":"&quot;Is there a tool that can trace code execution and generate cut-down Java classes that capture the methods that actually got executed?&quot; - Yes, it is called a Java Profiler. The rest of what you are asking, I don&#39;t know if it is at all possible."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639416351,"creation_date":1639416351,"answer_id":70338591,"question_id":70338186,"body_markdown":"While it would be possible to create such a thing, it would depend on the runs being deterministic. If something changes, you&#39;d get a `MethodNotFoundError` when the control flow changes due to differences to the original run.\r\n\r\nImagine doing that to some calendar code, and then suddenly it&#39;s a leap year and the code that was &quot;optimized away&quot; needs to be run? Not a very robust solution, so not a part of a standard developer toolkit.\r\n\r\nIf you&#39;re trying to extract relevant code out of a spaghetti codebase, you could try running a profiler (`jvisualvm`) to see what code is being run. This would require that you get the software to the state that it&#39;s only running the code you&#39;re interested in, but so would your initial idea.","title":"Extract an execution thread into minimal java","body":"<p>While it would be possible to create such a thing, it would depend on the runs being deterministic. If something changes, you'd get a <code>MethodNotFoundError</code> when the control flow changes due to differences to the original run.</p>\n<p>Imagine doing that to some calendar code, and then suddenly it's a leap year and the code that was &quot;optimized away&quot; needs to be run? Not a very robust solution, so not a part of a standard developer toolkit.</p>\n<p>If you're trying to extract relevant code out of a spaghetti codebase, you could try running a profiler (<code>jvisualvm</code>) to see what code is being run. This would require that you get the software to the state that it's only running the code you're interested in, but so would your initial idea.</p>\n"}],"owner":{"account_id":7336061,"reputation":17,"user_id":5587405,"display_name":"Alan Wendt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1639416351,"creation_date":1639414491,"question_id":70338186,"body_markdown":"Is there a tool that can trace code execution and generate cut-down Java classes that capture the methods that actually got executed?  I&#39;m trying to pull some code out of\r\na big codebase without including tons of static dependencies.  Dynamic dependency\r\nextraction.\r\n\r\nFor example if method M of class C is never executed, the extracted code would leave that method out, along with everything that method uses and depends upon.","title":"Extract an execution thread into minimal java","body":"<p>Is there a tool that can trace code execution and generate cut-down Java classes that capture the methods that actually got executed?  I'm trying to pull some code out of\na big codebase without including tons of static dependencies.  Dynamic dependency\nextraction.</p>\n<p>For example if method M of class C is never executed, the extracted code would leave that method out, along with everything that method uses and depends upon.</p>\n"},{"tags":["java","jvm","classloader","instrumentation","javaagents"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1639404939,"post_id":70335946,"comment_id":124333013,"body_markdown":"ClassLoaders with modular Java changed, giving the feeling of: _snakess in the grass!_  An other way, like static jar patching would be better.","body":"ClassLoaders with modular Java changed, giving the feeling of: <i>snakess in the grass!</i>  An other way, like static jar patching would be better."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639405233,"creation_date":1639405233,"answer_id":70336132,"question_id":70335946,"body_markdown":"Have your Agent listen to the creation of new ClassLoaders and then attach instances of them to the new ClassLoaders.\r\n\r\nThis way you preserve your &quot;Agent listens to ClassLoader&quot; interface, even if it now extends beyond the one platform class loader you expected the Agent to listen to.","title":"Make a Java class visible from any ClassLoader","body":"<p>Have your Agent listen to the creation of new ClassLoaders and then attach instances of them to the new ClassLoaders.</p>\n<p>This way you preserve your &quot;Agent listens to ClassLoader&quot; interface, even if it now extends beyond the one platform class loader you expected the Agent to listen to.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639405873,"creation_date":1639405873,"answer_id":70336260,"question_id":70335946,"body_markdown":"You may be able to do something specific that works for `URLClassLoader`, but not all classes are loaded by an instance of URLClassLoader. Any OSGi project won&#39;t, most web servers also use their own classloaders in order to support hot reload, etc.\r\n\r\nAs far as I know there&#39;s no way to just casually update some &#39;global parent of all classloaders&#39; or inject one; there&#39;s no such parent, and even if there was, a classloader is free to ignore its parent entirely.\r\n\r\nTherefore the general answer is: __No__, you can&#39;t do that.\r\n\r\nBut, let&#39;s get our hacking hats on!\r\n\r\nYou&#39;re an agent already. One of the things you get to do as agent is to &#39;witness&#39; classes as they are being loaded. Just invoke `.addTransformer` on the instance of Instrumentation you get in your `agentmain` and register one.\r\n\r\nWhen you notice the `Program` class being loaded, do the following:\r\n\r\n* Take the bytecode and toss it through ASM, BCEL, Bytecode Buddy, or any other java &#39;class file reader/transformer&#39; framework.\r\n* Also open up a class from within your agent&#39;s code (I wouldn&#39;t use `Agent` itself, I&#39;d make a class called `ProgramAddonMethods` or whatnot as a container - everything inside is for the program to use / for your agent to &#39;inject&#39; into that program.\r\n* Add _every_ static member in `ProgramAddonMethods` directly to `Program`. As you do so, modify the typename on all accesses (both `INVOKESTATIC` and the read/write field opcodes) where the etypename is `ProgramAddonMethods` and make it the fully qualified name of the targeted class instead.\r\n* inject the INVOKESTATIC as you already do, but, rewrite it so that it&#39;s going to its own class, as you just copied all the static methods and fields over there.\r\n* Then return the bytecode of that modified class from your transformer.\r\n\r\nThis 100% guarantees you cannot possibly run into any module or classpath boundary issues and it will work with any classloader abstraction, guaranteed, but there are some caveats:\r\n\r\n* Just don&#39;t attempt to futz with instance anything. Make it all static methods and fields. You can make fake instance fields using an `IdentityHashMap` if you must (e.g. a `static IdentityHashMap&lt;Foo, String&gt; names;` is effectively identical to adding `private String name;` to the `Foo` class.. except it&#39;s a bit slower of course; presumably as you&#39;re already in a mess o reflection that&#39;s acceptable here).\r\n* Your code has to be &#39;dependency free&#39;. It cannot rely on anything else, no libraries other than `java.*`, not even a helper class. This idea quickly runs out of steam if the job you&#39;re injecting becomes complicated. If you must, __make__ a classloader for your own agent jar using the appropriate &#39;thread-safely initialize it only once&#39; guards, and have that load in a bundle that does have the benefit of allowing dependencies.\r\n\r\nThis is all highly complicated stuff but you appear to have already worked out how to inject INVOKESTATIC calls, so, I think you know how to do this.\r\n\r\nThis is precisely what lombok does to &#39;patch&#39; some methods in eclipse to ensure that things like save actions, auto-formatting, and syntax highlighting don&#39;t break - lombok injects knowledge of generated notes where appropriate and does it in this exact manner because eclipse uses a classloader platform called Equinox which makes any other solution problematic. You can look at it for inspiration or guidelines, though it&#39;s not particularly well documented. You&#39;re looking in particular at:\r\n\r\n* [The `lombok.eclipse.agent` package in the `eclipseAgent` source root](https://github.com/projectlombok/lombok/tree/master/src/eclipseAgent/lombok/eclipse/agent).\r\n* The [`lombok.patcher` project](https://github.com/projectlombok/lombok.patcher) which is lombok&#39;s only actual dependency, in particular the [`lombok.patcher.PatchScript.transplantMethod` method](https://github.com/projectlombok/lombok.patcher/blob/master/src/patcher/lombok/patcher/PatchScript.java#L196).\r\n\r\nNote that the next method may also interest you: lombok.patcher&#39;s &#39;insert&#39; doesn&#39;t move the method - it injects the body of the method directly in there (it &#39;inlines&#39;). This requires some serious finagling of the stack and is only advised for extremely simple one-liner-esque methods, and probably is excessive and unneccessary firepower for this problem.\r\n\r\nDISCLAIMER: I wrote most of that.\r\n","title":"Make a Java class visible from any ClassLoader","body":"<p>You may be able to do something specific that works for <code>URLClassLoader</code>, but not all classes are loaded by an instance of URLClassLoader. Any OSGi project won't, most web servers also use their own classloaders in order to support hot reload, etc.</p>\n<p>As far as I know there's no way to just casually update some 'global parent of all classloaders' or inject one; there's no such parent, and even if there was, a classloader is free to ignore its parent entirely.</p>\n<p>Therefore the general answer is: <strong>No</strong>, you can't do that.</p>\n<p>But, let's get our hacking hats on!</p>\n<p>You're an agent already. One of the things you get to do as agent is to 'witness' classes as they are being loaded. Just invoke <code>.addTransformer</code> on the instance of Instrumentation you get in your <code>agentmain</code> and register one.</p>\n<p>When you notice the <code>Program</code> class being loaded, do the following:</p>\n<ul>\n<li>Take the bytecode and toss it through ASM, BCEL, Bytecode Buddy, or any other java 'class file reader/transformer' framework.</li>\n<li>Also open up a class from within your agent's code (I wouldn't use <code>Agent</code> itself, I'd make a class called <code>ProgramAddonMethods</code> or whatnot as a container - everything inside is for the program to use / for your agent to 'inject' into that program.</li>\n<li>Add <em>every</em> static member in <code>ProgramAddonMethods</code> directly to <code>Program</code>. As you do so, modify the typename on all accesses (both <code>INVOKESTATIC</code> and the read/write field opcodes) where the etypename is <code>ProgramAddonMethods</code> and make it the fully qualified name of the targeted class instead.</li>\n<li>inject the INVOKESTATIC as you already do, but, rewrite it so that it's going to its own class, as you just copied all the static methods and fields over there.</li>\n<li>Then return the bytecode of that modified class from your transformer.</li>\n</ul>\n<p>This 100% guarantees you cannot possibly run into any module or classpath boundary issues and it will work with any classloader abstraction, guaranteed, but there are some caveats:</p>\n<ul>\n<li>Just don't attempt to futz with instance anything. Make it all static methods and fields. You can make fake instance fields using an <code>IdentityHashMap</code> if you must (e.g. a <code>static IdentityHashMap&lt;Foo, String&gt; names;</code> is effectively identical to adding <code>private String name;</code> to the <code>Foo</code> class.. except it's a bit slower of course; presumably as you're already in a mess o reflection that's acceptable here).</li>\n<li>Your code has to be 'dependency free'. It cannot rely on anything else, no libraries other than <code>java.*</code>, not even a helper class. This idea quickly runs out of steam if the job you're injecting becomes complicated. If you must, <strong>make</strong> a classloader for your own agent jar using the appropriate 'thread-safely initialize it only once' guards, and have that load in a bundle that does have the benefit of allowing dependencies.</li>\n</ul>\n<p>This is all highly complicated stuff but you appear to have already worked out how to inject INVOKESTATIC calls, so, I think you know how to do this.</p>\n<p>This is precisely what lombok does to 'patch' some methods in eclipse to ensure that things like save actions, auto-formatting, and syntax highlighting don't break - lombok injects knowledge of generated notes where appropriate and does it in this exact manner because eclipse uses a classloader platform called Equinox which makes any other solution problematic. You can look at it for inspiration or guidelines, though it's not particularly well documented. You're looking in particular at:</p>\n<ul>\n<li><a href=\"https://github.com/projectlombok/lombok/tree/master/src/eclipseAgent/lombok/eclipse/agent\" rel=\"nofollow noreferrer\">The <code>lombok.eclipse.agent</code> package in the <code>eclipseAgent</code> source root</a>.</li>\n<li>The <a href=\"https://github.com/projectlombok/lombok.patcher\" rel=\"nofollow noreferrer\"><code>lombok.patcher</code> project</a> which is lombok's only actual dependency, in particular the <a href=\"https://github.com/projectlombok/lombok.patcher/blob/master/src/patcher/lombok/patcher/PatchScript.java#L196\" rel=\"nofollow noreferrer\"><code>lombok.patcher.PatchScript.transplantMethod</code> method</a>.</li>\n</ul>\n<p>Note that the next method may also interest you: lombok.patcher's 'insert' doesn't move the method - it injects the body of the method directly in there (it 'inlines'). This requires some serious finagling of the stack and is only advised for extremely simple one-liner-esque methods, and probably is excessive and unneccessary firepower for this problem.</p>\n<p>DISCLAIMER: I wrote most of that.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639411625,"creation_date":1639411293,"answer_id":70337508,"question_id":70335946,"body_markdown":"You can add classes to the bootstrap class loader using [`appendToBootstrapClassLoaderSearch`]. This makes the classes of the specified jar file available to all classes whose defining class loader follows the standard delegation pattern.\r\n\r\nBut this requires the classes to be packaged in a jar file. When you specify the Agent’s own jar file, you have to be aware that classes loaded through the bootstrap loader are distinct from the classes loaded through the app loader, even when they originate from the same jar file. Further, the classes loaded by the bootstrap loader must not have dependencies to classes loaded by by other class loaders.\r\n\r\nIf your `getCustomMultiplier` method is supposed to interact with the running Agent, you have to separate the agent and the class containing this method.\r\n\r\n[`appendToBootstrapClassLoaderSearch`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToBootstrapClassLoaderSearch(java.util.jar.JarFile)","title":"Make a Java class visible from any ClassLoader","body":"<p>You can add classes to the bootstrap class loader using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToBootstrapClassLoaderSearch(java.util.jar.JarFile)\" rel=\"nofollow noreferrer\"><code>appendToBootstrapClassLoaderSearch</code></a>. This makes the classes of the specified jar file available to all classes whose defining class loader follows the standard delegation pattern.</p>\n<p>But this requires the classes to be packaged in a jar file. When you specify the Agent’s own jar file, you have to be aware that classes loaded through the bootstrap loader are distinct from the classes loaded through the app loader, even when they originate from the same jar file. Further, the classes loaded by the bootstrap loader must not have dependencies to classes loaded by by other class loaders.</p>\n<p>If your <code>getCustomMultiplier</code> method is supposed to interact with the running Agent, you have to separate the agent and the class containing this method.</p>\n"}],"owner":{"account_id":10007522,"reputation":1374,"user_id":7401478,"accept_rate":56,"display_name":"user7401478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2057,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70337508,"answer_count":3,"score":5,"last_activity_date":1639415821,"creation_date":1639404333,"question_id":70335946,"body_markdown":"I&#39;m using a Java Agent (Agent.class) to transform a method in a program (Program.class) in a way that includes a call to the Agent class.\r\n\r\n```diff\r\npublic Program.getMultiplier()F:\r\n    ALOAD 1\r\n    ALOAD 2\r\n    FDIV\r\n+   INVOKESTATIC Agent.getCustomMultiplier(F)F\r\n    FRETURN\r\n```\r\nI&#39;ve inspected the class loaders and their parents of both Agent and Program classes, and their hierarchy looks like this:\r\n- Agent.class: `AppClassLoader` &lt;- `PlatformClassLoader` &lt;- `null`\r\n- Program.class: `URLClassLoader` &lt;- `PlatformClassLoader` &lt;- `null`\r\n\r\nWhen the Program executes the added `INVOKESTATIC` instruction, it throws a ClassNotFoundException -- it cannot find the Agent class as it was loaded by a different class loader.\r\n\r\nAs a temporary solution, I&#39;ve tried forcing `AppClassLoader` to become a parent of `URLClassLoader` with reflection, which works in older Java versions but has been removed since Java 12.\r\n\r\nIs there a more reliable way to make sure my Agent class is visible from any class loader?","title":"Make a Java class visible from any ClassLoader","body":"<p>I'm using a Java Agent (Agent.class) to transform a method in a program (Program.class) in a way that includes a call to the Agent class.</p>\n<pre><code>public Program.getMultiplier()F:\n    ALOAD 1\n    ALOAD 2\n    FDIV\n+   INVOKESTATIC Agent.getCustomMultiplier(F)F\n    FRETURN\n</code></pre>\n<p>I've inspected the class loaders and their parents of both Agent and Program classes, and their hierarchy looks like this:</p>\n<ul>\n<li>Agent.class: <code>AppClassLoader</code> &lt;- <code>PlatformClassLoader</code> &lt;- <code>null</code></li>\n<li>Program.class: <code>URLClassLoader</code> &lt;- <code>PlatformClassLoader</code> &lt;- <code>null</code></li>\n</ul>\n<p>When the Program executes the added <code>INVOKESTATIC</code> instruction, it throws a ClassNotFoundException -- it cannot find the Agent class as it was loaded by a different class loader.</p>\n<p>As a temporary solution, I've tried forcing <code>AppClassLoader</code> to become a parent of <code>URLClassLoader</code> with reflection, which works in older Java versions but has been removed since Java 12.</p>\n<p>Is there a more reliable way to make sure my Agent class is visible from any class loader?</p>\n"},{"tags":["java","android","android-studio","android-asynctask","jsoup"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1639412608,"post_id":70337732,"comment_id":124336318,"body_markdown":"You are correct. What is the question?","body":"You are correct. What is the question?"},{"owner":{"account_id":23635986,"reputation":37,"user_id":17667046,"display_name":"NONAME"},"score":0,"creation_date":1639412727,"post_id":70337732,"comment_id":124336379,"body_markdown":"if the program enters this coded part of the program without the Internet, the program will crash.","body":"if the program enters this coded part of the program without the Internet, the program will crash."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1639412749,"post_id":70337732,"comment_id":124336387,"body_markdown":"Yes, what is the question?","body":"Yes, what is the question?"},{"owner":{"account_id":23635986,"reputation":37,"user_id":17667046,"display_name":"NONAME"},"score":0,"creation_date":1639412882,"post_id":70337732,"comment_id":124336454,"body_markdown":"the program should not crash when I access this coded part without internet. just a toast message that the internet is not available is enough. how can i do?","body":"the program should not crash when I access this coded part without internet. just a toast message that the internet is not available is enough. how can i do?"},{"owner":{"account_id":23635986,"reputation":37,"user_id":17667046,"display_name":"NONAME"},"score":0,"creation_date":1639413283,"post_id":70337732,"comment_id":124336627,"body_markdown":"I updated my question. please help to me this is very important.","body":"I updated my question. please help to me this is very important."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1639413786,"post_id":70337732,"comment_id":124336814,"body_markdown":"Please post the entire stack trace when complaining about a crash.  But here it&#39;s almost certainly because text1 is null when the network call fails, and you can&#39;t toast a null value.  Add an if statement to check and don&#39;t toast if its null (or toast an error message)","body":"Please post the entire stack trace when complaining about a crash.  But here it&#39;s almost certainly because text1 is null when the network call fails, and you can&#39;t toast a null value.  Add an if statement to check and don&#39;t toast if its null (or toast an error message)"}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639414103,"creation_date":1639414103,"answer_id":70338096,"question_id":70337732,"body_markdown":"If what you&#39;re looking for is just a message that the request couldn&#39;t be completed normally, it should be enough to change the catch block a bit:\r\n\r\n            try {\r\n\r\n                Document doc = (Document) Jsoup.connect(&quot;(warn: here my web)&quot;).get();\r\n                test1 = doc.text();\r\n            } catch (Exception e) {\r\n                // TODO your error message here\r\n                test1 = &quot;An exception occurred and it wasn&#39;t possible to get the document&quot;;\r\n                // TODO use a logging framework!\r\n                e.printStackTrace();\r\n            }","title":"when the device internet does not work (or is turned off) exits the program. (Jsoup)","body":"<p>If what you're looking for is just a message that the request couldn't be completed normally, it should be enough to change the catch block a bit:</p>\n<pre><code>        try {\n\n            Document doc = (Document) Jsoup.connect(&quot;(warn: here my web)&quot;).get();\n            test1 = doc.text();\n        } catch (Exception e) {\n            // TODO your error message here\n            test1 = &quot;An exception occurred and it wasn't possible to get the document&quot;;\n            // TODO use a logging framework!\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":23635986,"reputation":37,"user_id":17667046,"display_name":"NONAME"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1639414386,"accepted_answer_id":70338096,"answer_count":1,"score":-1,"last_activity_date":1639414708,"creation_date":1639412341,"question_id":70337732,"body_markdown":"JSOUP\r\n\r\nwhen the device internet does not work (or is turned off) exits the program. \r\n\r\nbut it works without problems (without app crash) while the internet is running.\r\n\r\nif the program enters this coded part of the program without the Internet, the program will crash. the program should not crash when I access this coded part without internet. just a toast message that the internet is not available is enough. how can i do?\r\n\r\n**EDIT:**\r\n\r\nthe problem is when I don&#39;t add a toast message.","title":"when the device internet does not work (or is turned off) exits the program. (Jsoup)","body":"<p>JSOUP</p>\n<p>when the device internet does not work (or is turned off) exits the program.</p>\n<p>but it works without problems (without app crash) while the internet is running.</p>\n<p>if the program enters this coded part of the program without the Internet, the program will crash. the program should not crash when I access this coded part without internet. just a toast message that the internet is not available is enough. how can i do?</p>\n<p><strong>EDIT:</strong></p>\n<p>the problem is when I don't add a toast message.</p>\n"},{"tags":["java","graph","display","graphstream","viewpanel"],"owner":{"account_id":23636211,"reputation":11,"user_id":17667222,"display_name":"Bogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639414355,"creation_date":1639414355,"question_id":70338157,"body_markdown":"The loading and parsing of the file proceeds without an obvious problem but the ViewPanel in which I try to display the graph does not show immediately when initiating the action that should lead to this. Instead the container in which the ViewPanel (=an object that inherits from JPanel) with the graph should show remains empty. This changes when I then click twice on the application window, for instance by first clicking the minimization icon and then enlarging the window again with a click on the corresponding icon. After these two clicks the desired graphs shows up on the screen which implies that the ViewPanel too is then doing what it should be doing. Those two clicks, however, are a nuisance, as far as I can see they have nothing to do with the code I wrote and they should not be necessary. How can I get rid of the necessity for them and have the graph displayed seamlessly after prompting the action that should lead to the graph being displayed? \r\n\r\nI am grateful for any kind of helpful advice. ","title":"Loading and parsing file and displaying said file as graph with Java GraphStream","body":"<p>The loading and parsing of the file proceeds without an obvious problem but the ViewPanel in which I try to display the graph does not show immediately when initiating the action that should lead to this. Instead the container in which the ViewPanel (=an object that inherits from JPanel) with the graph should show remains empty. This changes when I then click twice on the application window, for instance by first clicking the minimization icon and then enlarging the window again with a click on the corresponding icon. After these two clicks the desired graphs shows up on the screen which implies that the ViewPanel too is then doing what it should be doing. Those two clicks, however, are a nuisance, as far as I can see they have nothing to do with the code I wrote and they should not be necessary. How can I get rid of the necessity for them and have the graph displayed seamlessly after prompting the action that should lead to the graph being displayed?</p>\n<p>I am grateful for any kind of helpful advice.</p>\n"},{"tags":["java","kotlin","apache-httpclient-4.x","mockk","apache-httpasyncclient"],"owner":{"account_id":6464279,"reputation":51,"user_id":5006887,"display_name":"Celtivo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639414028,"creation_date":1639414028,"question_id":70338073,"body_markdown":"I am trying to figure out how to unit test the callback methods of a `FutureCallback&lt;HttpClient&gt;`, but can&#39;t quite figure it out.\r\n\r\nI have the following code:\r\n\r\n    val latch = CountDownLatch(10)\r\n    httpClient.execute(httpPost, object: FutureCallback&lt;HttpResponse&gt; {\r\n                    override fun completed(response: HttpResponse) {\r\n                                val outputStream = ByteArrayOutputStream()\r\n                                response.entity.writeTo(outputStream)\r\n                                result = DataObj.parseFrom(outputStream.toByteArray())\r\n                            } catch (e: IOException) {\r\n                                failed(e)\r\n                            } catch (e: InvalidProtocolBufferException) {\r\n                                e.printStackTrace()\r\n                            }\r\n                        }\r\n                        latch.countDown()\r\n                    }\r\n    \r\n                    override fun failed(e: Exception) {\r\n                        logger.error(e.localizedMessage, e)\r\n                        latch.countDown()\r\n                    }\r\n    \r\n                    override fun cancelled() {\r\n                        logger.error(&quot;Request cancelled.&quot;)\r\n                        latch.countDown()\r\n                    }\r\n                })\r\n\r\nI&#39;m unsure on how I can force the FutureCallback to excecute either completed, failed, or cancelled. Therefore the `latch.countDown()` is never called, meaning the test never ends.\r\n\r\nWhat is the correct method to test this kind of asynchronous function?","title":"How to unit test responses of FutureCallback with ApacheAsyncHttpClient","body":"<p>I am trying to figure out how to unit test the callback methods of a <code>FutureCallback&lt;HttpClient&gt;</code>, but can't quite figure it out.</p>\n<p>I have the following code:</p>\n<pre><code>val latch = CountDownLatch(10)\nhttpClient.execute(httpPost, object: FutureCallback&lt;HttpResponse&gt; {\n                override fun completed(response: HttpResponse) {\n                            val outputStream = ByteArrayOutputStream()\n                            response.entity.writeTo(outputStream)\n                            result = DataObj.parseFrom(outputStream.toByteArray())\n                        } catch (e: IOException) {\n                            failed(e)\n                        } catch (e: InvalidProtocolBufferException) {\n                            e.printStackTrace()\n                        }\n                    }\n                    latch.countDown()\n                }\n\n                override fun failed(e: Exception) {\n                    logger.error(e.localizedMessage, e)\n                    latch.countDown()\n                }\n\n                override fun cancelled() {\n                    logger.error(&quot;Request cancelled.&quot;)\n                    latch.countDown()\n                }\n            })\n</code></pre>\n<p>I'm unsure on how I can force the FutureCallback to excecute either completed, failed, or cancelled. Therefore the <code>latch.countDown()</code> is never called, meaning the test never ends.</p>\n<p>What is the correct method to test this kind of asynchronous function?</p>\n"},{"tags":["java","android","android-toolbar"],"answers":[{"tags":[],"owner":{"account_id":8456658,"reputation":20415,"user_id":6343685,"accept_rate":60,"display_name":"Harshad Pansuriya"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1464341852,"creation_date":1464339566,"answer_id":37479192,"question_id":37479043,"body_markdown":"Try this :\r\n\r\n     &lt;android.support.v7.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/double_height_toolbar&quot;\r\n        android:gravity=&quot;top&quot;\r\n        app:titleTextAppearance=&quot;@style/toolbarTitleText&quot;\r\n        android:background=&quot;@color/greyLight&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\r\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n        \r\n            &lt;TextView\r\n                android:id=&quot;@+id/product_details_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;top&quot;\r\n                android:title=&quot;@string/menuLabel1a&quot;\r\n                android:paddingTop=&quot;@dimen/padding_normal&quot;\r\n                style=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title.Inverse&quot;\r\n                android:maxLines=&quot;2&quot; /&gt;\r\n    \r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n**Other Solution is for ActionBar**\r\n\r\nThe default TextView of the ActionBar does not support line wrapping, and there is no exposed method to set it to wrap. So you can create a flexible layout, like this: **action_bar_title_layout.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/action_bar_title&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;2&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nThen set this as the custom layout on your ActionBar:\r\n\r\n    ActionBar actionBar = getActionBar();\r\n    actionBar.setDisplayShowCustomEnabled(true);\r\n    actionBar.setCustomView(R.layout.action_bar_title_layout);\r\n    ((TextView) findViewById(R.id.action_bar_title)).setText(\r\n        &quot;This is a long text title that will wrap to multiple lines, when necessary.&quot;);","title":"Android Multiline Toolbar Title","body":"<p>Try this :</p>\n\n<pre><code> &lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/toolbar2\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"@dimen/double_height_toolbar\"\n    android:gravity=\"top\"\n    app:titleTextAppearance=\"@style/toolbarTitleText\"\n    android:background=\"@color/greyLight\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"\n    app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/product_details_title\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"top\"\n            android:title=\"@string/menuLabel1a\"\n            android:paddingTop=\"@dimen/padding_normal\"\n            style=\"@android:style/TextAppearance.Holo.Widget.ActionBar.Title.Inverse\"\n            android:maxLines=\"2\" /&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p><strong>Other Solution is for ActionBar</strong></p>\n\n<p>The default TextView of the ActionBar does not support line wrapping, and there is no exposed method to set it to wrap. So you can create a flexible layout, like this: <strong>action_bar_title_layout.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/action_bar_title\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"wrap_content\"\n    android:gravity=\"center_vertical\"\n    android:ellipsize=\"end\"\n    android:maxLines=\"2\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Then set this as the custom layout on your ActionBar:</p>\n\n<pre><code>ActionBar actionBar = getActionBar();\nactionBar.setDisplayShowCustomEnabled(true);\nactionBar.setCustomView(R.layout.action_bar_title_layout);\n((TextView) findViewById(R.id.action_bar_title)).setText(\n    \"This is a long text title that will wrap to multiple lines, when necessary.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440369,"reputation":1181,"user_id":829900,"display_name":"Crisic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639413801,"creation_date":1639412971,"answer_id":70337862,"question_id":37479043,"body_markdown":"Found this solution who was work for me :\r\n\r\n    fun Toolbar.disableTitleSingleLine() {\r\n        for (i in 0..childCount) {\r\n            val child = getChildAt(i)\r\n            if (child is TextView) {\r\n                child.isSingleLine = false\r\n            }\r\n        }\r\n    }\r\n\r\nAccording `Toolbar` implementation, the title `TextView` is created when text been set.\r\nIt&#39;s important to call this extension after title set.","title":"Android Multiline Toolbar Title","body":"<p>Found this solution who was work for me :</p>\n<pre><code>fun Toolbar.disableTitleSingleLine() {\n    for (i in 0..childCount) {\n        val child = getChildAt(i)\n        if (child is TextView) {\n            child.isSingleLine = false\n        }\n    }\n}\n</code></pre>\n<p>According <code>Toolbar</code> implementation, the title <code>TextView</code> is created when text been set.\nIt's important to call this extension after title set.</p>\n"}],"owner":{"account_id":7967476,"reputation":1326,"user_id":6013291,"accept_rate":81,"display_name":"Dennis van Opstal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13039,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37479192,"answer_count":2,"score":10,"last_activity_date":1639413801,"creation_date":1464339125,"question_id":37479043,"body_markdown":"I have a Toolbar that when in landscape mode isn&#39;t as wide as usual, but it has more height than usual and for that reason I want to set the title to be multiline (2 lines to be precise) when it is in landscape. I have tried some things where I put a TextView inside of the Toolbar, but when I try to access the TextView to set it&#39;s title (since the the title is variable) I get a NullPointer after using findViewById.\r\n\r\nHere is some code of the current situation (without multiline):\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar2);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n            Display display = getWindowManager().getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            int width = (int)( size.x * 0.37);\r\n            int height =  Math.round(size.x * 0.63f * 0.25f);\r\n            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(width,height);\r\n            toolbar.setLayoutParams(params);\r\n        }\r\n        if (executeOnResume) {\r\n            currentProject = getIntent().getParcelableExtra(&quot;Project&quot;);\r\n            getSupportActionBar().setTitle(&quot;This is a pretty long piece of text, I hope it fits&quot;);\r\n            // A lot of irrelevant code...\r\n            //...\r\n            //...\r\n        } else { loadStuff();}\r\n    }\r\n\r\nAnd here is the toolbar xml:\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar2&quot;\r\n            android:title=&quot;@string/menuLabel1a&quot;\r\n            app:layout_widthPercent=&quot;37%&quot;\r\n            app:layout_heightPercent=&quot;26%&quot;\r\n            android:gravity=&quot;top&quot;\r\n            app:titleTextAppearance=&quot;@style/toolbarTitleText&quot;\r\n            android:background=&quot;@color/greyLight&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;","title":"Android Multiline Toolbar Title","body":"<p>I have a Toolbar that when in landscape mode isn't as wide as usual, but it has more height than usual and for that reason I want to set the title to be multiline (2 lines to be precise) when it is in landscape. I have tried some things where I put a TextView inside of the Toolbar, but when I try to access the TextView to set it's title (since the the title is variable) I get a NullPointer after using findViewById.</p>\n\n<p>Here is some code of the current situation (without multiline):</p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar2);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        Display display = getWindowManager().getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        int width = (int)( size.x * 0.37);\n        int height =  Math.round(size.x * 0.63f * 0.25f);\n        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(width,height);\n        toolbar.setLayoutParams(params);\n    }\n    if (executeOnResume) {\n        currentProject = getIntent().getParcelableExtra(\"Project\");\n        getSupportActionBar().setTitle(\"This is a pretty long piece of text, I hope it fits\");\n        // A lot of irrelevant code...\n        //...\n        //...\n    } else { loadStuff();}\n}\n</code></pre>\n\n<p>And here is the toolbar xml:</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar2\"\n        android:title=\"@string/menuLabel1a\"\n        app:layout_widthPercent=\"37%\"\n        app:layout_heightPercent=\"26%\"\n        android:gravity=\"top\"\n        app:titleTextAppearance=\"@style/toolbarTitleText\"\n        android:background=\"@color/greyLight\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n</code></pre>\n"},{"tags":["java","javascript","jsp"],"answers":[{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1402049299,"creation_date":1402048615,"answer_id":24079070,"question_id":24079031,"body_markdown":"&gt; Any new Technology or design pattern.\n\nYes, there is a new technology named `WebSocket`. It is bi-directional and full-duplex. That means server can trigger client. You can get support of `Websocket` on Java EE 7 or Spring 4.\n\n### See also:\n\n - [ Java EE 7 Websocket tutorial][1]\n - [Spring 4 Websocket tutorial][2]\n\n\n  [1]: http://docs.oracle.com/javaee/7/tutorial/doc/websocket.htm\n  [2]: http://syntx.io/using-websockets-in-java-using-spring-4/","title":"How to trigger a JSP page refresh from server.?","body":"<blockquote>\n<p>Any new Technology or design pattern.</p>\n</blockquote>\n<p>Yes, there is a new technology named <code>WebSocket</code>. It is bi-directional and full-duplex. That means server can trigger client. You can get support of <code>Websocket</code> on Java EE 7 or Spring 4.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://docs.oracle.com/javaee/7/tutorial/doc/websocket.htm\" rel=\"nofollow noreferrer\"> Java EE 7 Websocket tutorial</a></li>\n<li><a href=\"http://syntx.io/using-websockets-in-java-using-spring-4/\" rel=\"nofollow noreferrer\">Spring 4 Websocket tutorial</a></li>\n</ul>\n"}],"owner":{"account_id":2069349,"reputation":5382,"user_id":1844148,"accept_rate":67,"display_name":"Dileep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639413634,"creation_date":1402048527,"question_id":24079031,"body_markdown":"**Requirement :** \r\n\r\nTrigger a jsp page refresh when some value in the server changes. \r\n\r\nAjax is an option, but refreshing the JSP at a particular interval will increase the load on the server. Since i am dealing with a system that handles large amount of data, optimizing with the best having the higher priority. \r\n\r\nAny new Technology or design pattern that may help is greatly appreciated. \r\n\r\n&gt; **NB :** I have seen the technologies that match my requirement in HTML 5. But i am looking for something that works with everything.","title":"How to trigger a JSP page refresh from server.?","body":"<p><strong>Requirement :</strong> </p>\n\n<p>Trigger a jsp page refresh when some value in the server changes. </p>\n\n<p>Ajax is an option, but refreshing the JSP at a particular interval will increase the load on the server. Since i am dealing with a system that handles large amount of data, optimizing with the best having the higher priority. </p>\n\n<p>Any new Technology or design pattern that may help is greatly appreciated. </p>\n\n<blockquote>\n  <p><strong>NB :</strong> I have seen the technologies that match my requirement in HTML 5. But i am looking for something that works with everything.</p>\n</blockquote>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1639401100,"post_id":70334723,"comment_id":124331429,"body_markdown":"Why do you think that the exception has anything to do with `wait()` or `notify()`? What is the complete exception message and stack trace? Does it tell you from what line of your code the exception was thrown? Have you tried running the program in a debugger? Also, you say you want us to answer the question in your title, but it looks like you never finished typing it. Please edit for clarity.","body":"Why do you think that the exception has anything to do with <code>wait()</code> or <code>notify()</code>? What is the complete exception message and stack trace? Does it tell you from what line of your code the exception was thrown? Have you tried running the program in a debugger? Also, you say you want us to answer the question in your title, but it looks like you never finished typing it. Please edit for clarity."},{"owner":{"account_id":19303224,"reputation":1,"user_id":14110649,"display_name":"white tears"},"score":0,"creation_date":1639402074,"post_id":70334723,"comment_id":124331786,"body_markdown":"@SolomonSlow the exception occurs in `event.getMessage()).notify()` it says so in the console, and I have already described everything I possibly understand about this problem in my question","body":"@SolomonSlow the exception occurs in <code>event.getMessage()).notify()</code> it says so in the console, and I have already described everything I possibly understand about this problem in my question"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1639406710,"post_id":70334723,"comment_id":124333804,"body_markdown":"&quot;I have already described everything I possibly understand about this problem in my question&quot; - Do not *describe* the error message, instead add to the question post **as is**. The error message could contain more information than noted in your description. Would you fully understand the error message... then you won&#39;t ask your question at all, don&#39;t you think so?","body":"&quot;I have already described everything I possibly understand about this problem in my question&quot; - Do not <i>describe</i> the error message, instead add to the question post <b>as is</b>. The error message could contain more information than noted in your description. Would you fully understand the error message... then you won&#39;t ask your question at all, don&#39;t you think so?"},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1639428686,"post_id":70334723,"comment_id":124341749,"body_markdown":"Solomon Slow has given a good answer. But I&#39;d suggest refactoring your code. There is no need to create a new thread with each click of a button. Create one single thread (a Worker) which calls take() on a blocking queue in a while(true)-like loop. In onButtonClick() prepare an object with all required data and put it into the queue. This Job/Task Queue pattern will simplify the code and prevent some possible race conditions.","body":"Solomon Slow has given a good answer. But I&#39;d suggest refactoring your code. There is no need to create a new thread with each click of a button. Create one single thread (a Worker) which calls take() on a blocking queue in a while(true)-like loop. In onButtonClick() prepare an object with all required data and put it into the queue. This Job/Task Queue pattern will simplify the code and prevent some possible race conditions."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1639543729,"post_id":70334723,"comment_id":124372917,"body_markdown":"I&#39;d suggest reviewing a tutorial on `wait()` and `notify()` such as  https://www.baeldung.com/java-wait-notify. There are at least two problems here: 1) the code doesn&#39;t call `notify()` on the same object instance that `wait()` is called on; 2) the current thread doesn&#39;t own the monitor on the object that `notify()` is called on","body":"I&#39;d suggest reviewing a tutorial on <code>wait()</code> and <code>notify()</code> such as  <a href=\"https://www.baeldung.com/java-wait-notify\" rel=\"nofollow noreferrer\">baeldung.com/java-wait-notify</a>. There are at least two problems here: 1) the code doesn&#39;t call <code>notify()</code> on the same object instance that <code>wait()</code> is called on; 2) the current thread doesn&#39;t own the monitor on the object that <code>notify()</code> is called on"}],"owner":{"account_id":19303224,"reputation":1,"user_id":14110649,"display_name":"white tears"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639413583,"creation_date":1639398710,"question_id":70334723,"body_markdown":"Don&#39;t look at all of my code, just the wait() and notify() methods I need to pause the run() method after the loop has finished its work and resume it in the onButtonClick() class, but when I do this I get an exception: current thread is not owner. How do I implement what I wrote in the title of the question\r\n\r\n       private boolean isFirstPage;\r\n        private CommandContext ctx;\r\n        private ArrayList&lt;String&gt; linkQuestion;\r\n        private Message message;\r\n\r\n    private int page;\r\n\r\n    public QuestionListThreads(boolean isFirstPage, CommandContext ctx, ArrayList&lt;String&gt; linkQuestion, Message message) {\r\n        this.isFirstPage = isFirstPage;\r\n        this.ctx = ctx;\r\n        this.linkQuestion = linkQuestion;\r\n        this.message = message;\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (this) {\r\n            EmbedBuilder eb = new EmbedBuilder();\r\n            if (isFirstPage) {\r\n                for (; page &lt; 3; page++) {\r\n                    eb.addField(&quot;page &quot; + page, &quot;[link]&quot; + linkQuestion.get(page), false);\r\n                }\r\n                ctx.getChannel().sendMessage(eb.build()).setActionRow(Button.secondary(&quot;next&quot;, &quot;next&quot;)).queue();\r\n            } else {\r\n                page = 3;\r\n                for (int i = 0; i &lt; 3; i++, page++) {\r\n                    eb.addField(&quot;page &quot; + page, &quot;[link]&quot; + linkQuestion.get(page), false);\r\n                    if (i == 2) {\r\n                        message.editMessage(eb.build()).setActionRow(Button.secondary(&quot;next&quot;, &quot;next&quot;)).queue();\r\n                        try {\r\n                            this.wait();\r\n                            i = 0;\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n       \r\n    public void onButtonClick(ButtonClickEvent event) {\r\n        if (event.getComponentId().equals(&quot;next&quot;)) {\r\n            new QuestionListThreads(false, null, QuestionListCommand2.getLinkQuestion(),\r\n                    event.getMessage()).notify();\r\n        }","title":"How to suspend and resume a non-mainstream","body":"<p>Don't look at all of my code, just the wait() and notify() methods I need to pause the run() method after the loop has finished its work and resume it in the onButtonClick() class, but when I do this I get an exception: current thread is not owner. How do I implement what I wrote in the title of the question</p>\n<pre><code>   private boolean isFirstPage;\n    private CommandContext ctx;\n    private ArrayList&lt;String&gt; linkQuestion;\n    private Message message;\n\nprivate int page;\n\npublic QuestionListThreads(boolean isFirstPage, CommandContext ctx, ArrayList&lt;String&gt; linkQuestion, Message message) {\n    this.isFirstPage = isFirstPage;\n    this.ctx = ctx;\n    this.linkQuestion = linkQuestion;\n    this.message = message;\n\n\n}\n\n@Override\npublic void run() {\n    synchronized (this) {\n        EmbedBuilder eb = new EmbedBuilder();\n        if (isFirstPage) {\n            for (; page &lt; 3; page++) {\n                eb.addField(&quot;page &quot; + page, &quot;[link]&quot; + linkQuestion.get(page), false);\n            }\n            ctx.getChannel().sendMessage(eb.build()).setActionRow(Button.secondary(&quot;next&quot;, &quot;next&quot;)).queue();\n        } else {\n            page = 3;\n            for (int i = 0; i &lt; 3; i++, page++) {\n                eb.addField(&quot;page &quot; + page, &quot;[link]&quot; + linkQuestion.get(page), false);\n                if (i == 2) {\n                    message.editMessage(eb.build()).setActionRow(Button.secondary(&quot;next&quot;, &quot;next&quot;)).queue();\n                    try {\n                        this.wait();\n                        i = 0;\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n}\n   \npublic void onButtonClick(ButtonClickEvent event) {\n    if (event.getComponentId().equals(&quot;next&quot;)) {\n        new QuestionListThreads(false, null, QuestionListCommand2.getLinkQuestion(),\n                event.getMessage()).notify();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639412784,"creation_date":1639412454,"answer_id":70337763,"question_id":70337657,"body_markdown":"The problem is that Spring is trying to create a bean for `TempRequest` (and the only constructor available requires 2 `int`s and 2 `String`s). You actually don&#39;t need `TempRequest` as a Spring-managed Bean, so remove `@Component` annotation:\r\n```java\r\npublic class TempRequest {\r\n    (...)\r\n}\r\n```\r\n\r\nThen you also need to remove `TempRequest` as a property in `ReadWeatherController` because you actually don&#39;t need it:\r\n```java\r\n@RestController\r\npublic class ReadWeatherController {\r\n\r\n    //이제 여기다가 API를 만들면됨\r\n    @GetMapping(&quot;/todayMaxMin&quot;)\r\n    public String readWeather(\r\n            @RequestParam(value=&quot;x&quot;) int x,\r\n            @RequestParam(value=&quot;y&quot;) int y,\r\n            @RequestParam(value=&quot;baseDate&quot;) String baseDate) {\r\n        \r\n        String tempKey = baseDate+String.valueOf(x) + String.valueOf(y);\r\n        \r\n        TempRequest tr = new TempRequest(x, y, baseDate, tempKey);\r\n        \r\n        return tr.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAs a side note, please consider moving your main class `Application` to the package `com.wook` so that you avoid the need of adding all the packages in `@SpringBootApplication(scanBasePackages= {&quot;com.wook.controller&quot;,&quot;com.wook.model&quot;,&quot;com.wook.service&quot;})`:\r\n```java\r\npackage com.wook;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\n`@SpringBootApplication` encapsulates `@Configuration`, `@EnableAutoConfiguration`, and `@ComponentScan` annotations with their default attributes. The default value for `@ComponentScan` means that all the sub packages on the package the `@ComponentScan` is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project.","title":"&quot;Bean type int could not be found&quot; error, how can I solve it?","body":"<p>The problem is that Spring is trying to create a bean for <code>TempRequest</code> (and the only constructor available requires 2 <code>int</code>s and 2 <code>String</code>s). You actually don't need <code>TempRequest</code> as a Spring-managed Bean, so remove <code>@Component</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TempRequest {\n    (...)\n}\n</code></pre>\n<p>Then you also need to remove <code>TempRequest</code> as a property in <code>ReadWeatherController</code> because you actually don't need it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ReadWeatherController {\n\n    //이제 여기다가 API를 만들면됨\n    @GetMapping(&quot;/todayMaxMin&quot;)\n    public String readWeather(\n            @RequestParam(value=&quot;x&quot;) int x,\n            @RequestParam(value=&quot;y&quot;) int y,\n            @RequestParam(value=&quot;baseDate&quot;) String baseDate) {\n        \n        String tempKey = baseDate+String.valueOf(x) + String.valueOf(y);\n        \n        TempRequest tr = new TempRequest(x, y, baseDate, tempKey);\n        \n        return tr.toString();\n    }\n}\n</code></pre>\n<hr />\n<p>As a side note, please consider moving your main class <code>Application</code> to the package <code>com.wook</code> so that you avoid the need of adding all the packages in <code>@SpringBootApplication(scanBasePackages= {&quot;com.wook.controller&quot;,&quot;com.wook.model&quot;,&quot;com.wook.service&quot;})</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.wook;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@EnableScheduling\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p><code>@SpringBootApplication</code> encapsulates <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> annotations with their default attributes. The default value for <code>@ComponentScan</code> means that all the sub packages on the package the <code>@ComponentScan</code> is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project.</p>\n"},{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639412680,"creation_date":1639412680,"answer_id":70337803,"question_id":70337657,"body_markdown":"Do you really need a class-level variable `TempRequest tr` in `ReadWeatherController`? As I see no use of it, rather have a method level variable inside the `ReadWeatherController.readWeather()` method.\r\n\r\nWhat&#39;s happening is since you have `TempRequest tr` as a parameter in your  `ReadWeatherController` constructor, spring is trying to autowire `TempRequest` and `TempRequest` doesn&#39;t have a no-args constructor and the default all args constructor has int and string parameter in it. Since the first param in `TempRequest` constructor is type int and spring can&#39;t find bean type of int, spring is throwing `Consider defining a bean of type &#39;int&#39; in your configuration` error. Change the controller to the following\r\n\r\n```java\r\n@RestController\r\npublic class ReadWeatherController {\r\n\r\n\r\n    //이제 여기다가 API를 만들면됨\r\n    @GetMapping(&quot;/todayMaxMin&quot;)\r\n    public String readWeather(\r\n            @RequestParam(value=&quot;x&quot;)int x,\r\n            @RequestParam(value=&quot;y&quot;)int y,\r\n            @RequestParam(value=&quot;baseDate&quot;)String baseDate) {\r\n        \r\n        String tempKey = baseDate+String.valueOf(x)+String.valueOf(y);\r\n        \r\n        TempRequest tr = new TempRequest(x,y,baseDate,tempKey);\r\n        \r\n        return tr.toString();\r\n    }\r\n    \r\n}\r\n```\r\nThis should solve your problem.","title":"&quot;Bean type int could not be found&quot; error, how can I solve it?","body":"<p>Do you really need a class-level variable <code>TempRequest tr</code> in <code>ReadWeatherController</code>? As I see no use of it, rather have a method level variable inside the <code>ReadWeatherController.readWeather()</code> method.</p>\n<p>What's happening is since you have <code>TempRequest tr</code> as a parameter in your  <code>ReadWeatherController</code> constructor, spring is trying to autowire <code>TempRequest</code> and <code>TempRequest</code> doesn't have a no-args constructor and the default all args constructor has int and string parameter in it. Since the first param in <code>TempRequest</code> constructor is type int and spring can't find bean type of int, spring is throwing <code>Consider defining a bean of type 'int' in your configuration</code> error. Change the controller to the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ReadWeatherController {\n\n\n    //이제 여기다가 API를 만들면됨\n    @GetMapping(&quot;/todayMaxMin&quot;)\n    public String readWeather(\n            @RequestParam(value=&quot;x&quot;)int x,\n            @RequestParam(value=&quot;y&quot;)int y,\n            @RequestParam(value=&quot;baseDate&quot;)String baseDate) {\n        \n        String tempKey = baseDate+String.valueOf(x)+String.valueOf(y);\n        \n        TempRequest tr = new TempRequest(x,y,baseDate,tempKey);\n        \n        return tr.toString();\n    }\n    \n}\n</code></pre>\n<p>This should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639413167,"creation_date":1639413167,"answer_id":70337903,"question_id":70337657,"body_markdown":"You have a `@Component` with a constructor as defined below:\r\n\r\n    @Component\r\n    public class TempRequest {\r\n    ...    \r\n        public TempRequest(int x, int y, String baseDate, String tempKey) {\r\n            ...\r\n        }\r\n\r\nThe error message is saying it can&#39;t find beans of type `int` as declared in the component&#39;s constructor.\r\n\r\nIf this TempRequest is intentionally a bean (component) I would suggest refactoring as follows:\r\n\r\n    @Component\r\n    public class TempRequest {\r\n        ...    \r\n        public TempRequest(TempRequestConfig trc) {\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nAnd then you can define a `TempRequestConfig` bean:\r\n\r\n    @Component\r\n    public class TempRequestConfig {\r\n        public int getX() { ... }\r\n        public int getY() { ... }\r\n        public String getBaseDate() { ... }\r\n        public String getTempKey() { ... }\r\n    }\r\n\r\nThis way you can inject the config bean into your temp request bean with Spring&#39;s dependency injection.","title":"&quot;Bean type int could not be found&quot; error, how can I solve it?","body":"<p>You have a <code>@Component</code> with a constructor as defined below:</p>\n<pre><code>@Component\npublic class TempRequest {\n...    \n    public TempRequest(int x, int y, String baseDate, String tempKey) {\n        ...\n    }\n</code></pre>\n<p>The error message is saying it can't find beans of type <code>int</code> as declared in the component's constructor.</p>\n<p>If this TempRequest is intentionally a bean (component) I would suggest refactoring as follows:</p>\n<pre><code>@Component\npublic class TempRequest {\n    ...    \n    public TempRequest(TempRequestConfig trc) {\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>And then you can define a <code>TempRequestConfig</code> bean:</p>\n<pre><code>@Component\npublic class TempRequestConfig {\n    public int getX() { ... }\n    public int getY() { ... }\n    public String getBaseDate() { ... }\n    public String getTempKey() { ... }\n}\n</code></pre>\n<p>This way you can inject the config bean into your temp request bean with Spring's dependency injection.</p>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70337763,"answer_count":3,"score":2,"last_activity_date":1639413167,"creation_date":1639411986,"question_id":70337657,"body_markdown":"I made a TempRequest class and registed as a bean\r\n\r\nThe code below is TempRequest class.\r\n\r\n    package com.wook.model.dto;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class TempRequest {\r\n    \r\n    \tprivate int x;\r\n    \tprivate int y;\r\n    \tprivate String baseDate;\r\n    \tprivate String tempKey;\t\r\n    \t\r\n    \tpublic TempRequest(int x, int y, String baseDate, String tempKey) {\r\n    \t\tsuper();\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t\tthis.baseDate = baseDate;\r\n    \t\tthis.tempKey = tempKey;\r\n    \t}\r\n    \r\n    \tpublic String getTempKey() {\r\n    \t\treturn tempKey;\r\n    \t}\r\n    \r\n    \tpublic void setTempKey(String tempKey) {\r\n    \t\tthis.tempKey = tempKey;\r\n    \t}\r\n    \r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \r\n    \tpublic void setX(int x) {\r\n    \t\tthis.x = x;\r\n    \t}\r\n    \r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \r\n    \tpublic void setY(int y) {\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \r\n    \tpublic String getBaseDate() {\r\n    \t\treturn baseDate;\r\n    \t}\r\n    \r\n    \tpublic void setBaseDate(String baseDate) {\r\n    \t\tthis.baseDate = baseDate;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;TempRequest [x=&quot; + x + &quot;, y=&quot; + y + &quot;, baseDate=&quot; + baseDate + &quot;, tempKey=&quot; + tempKey + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nTo use TempRequest class I Autowired at ReadWeatherController class\r\n\r\nReadWeatherController Class\r\n\r\n    package com.wook.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.wook.model.dto.TempRequest;\r\n    \r\n    @RestController\r\n    public class ReadWeatherController {\r\n    \r\n    \tprivate TempRequest tr;\r\n    \r\n    \tpublic ReadWeatherController(TempRequest tr) {\r\n    \t\tsuper();\r\n    \t\tthis.tr = tr;\r\n    \t}\r\n    \r\n    \r\n    \t//이제 여기다가 API를 만들면됨\r\n    \t@GetMapping(&quot;/todayMaxMin&quot;)\r\n    \tpublic String readWeather(\r\n    \t\t\t@RequestParam(value=&quot;x&quot;)int x,\r\n    \t\t\t@RequestParam(value=&quot;y&quot;)int y,\r\n    \t\t\t@RequestParam(value=&quot;baseDate&quot;)String baseDate) {\r\n    \t\t\r\n    \t\tString tempKey = baseDate+String.valueOf(x)+String.valueOf(y);\r\n    \t\t\r\n    \t\ttr = new TempRequest(x,y,baseDate,tempKey);\r\n    \t\t\r\n    \t\treturn tr.toString();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd to use these beans I added a packges with using scanBasePackages in main class.\r\nApplication Class\r\n\r\n    package com.wook.run;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    \r\n    @EnableScheduling\r\n    @SpringBootApplication(scanBasePackages= {&quot;com.wook.controller&quot;,&quot;com.wook.model&quot;,&quot;com.wook.service&quot;})\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nHowever with this code I get an error like this.\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.wook.model.dto.TempRequest required a bean of type &#39;int&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;int&#39; in your configuration.\r\n\r\n\r\nHow can I solve this problem?","title":"&quot;Bean type int could not be found&quot; error, how can I solve it?","body":"<p>I made a TempRequest class and registed as a bean</p>\n<p>The code below is TempRequest class.</p>\n<pre><code>package com.wook.model.dto;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TempRequest {\n\n    private int x;\n    private int y;\n    private String baseDate;\n    private String tempKey; \n    \n    public TempRequest(int x, int y, String baseDate, String tempKey) {\n        super();\n        this.x = x;\n        this.y = y;\n        this.baseDate = baseDate;\n        this.tempKey = tempKey;\n    }\n\n    public String getTempKey() {\n        return tempKey;\n    }\n\n    public void setTempKey(String tempKey) {\n        this.tempKey = tempKey;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public String getBaseDate() {\n        return baseDate;\n    }\n\n    public void setBaseDate(String baseDate) {\n        this.baseDate = baseDate;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;TempRequest [x=&quot; + x + &quot;, y=&quot; + y + &quot;, baseDate=&quot; + baseDate + &quot;, tempKey=&quot; + tempKey + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>To use TempRequest class I Autowired at ReadWeatherController class</p>\n<p>ReadWeatherController Class</p>\n<pre><code>package com.wook.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.wook.model.dto.TempRequest;\n\n@RestController\npublic class ReadWeatherController {\n\n    private TempRequest tr;\n\n    public ReadWeatherController(TempRequest tr) {\n        super();\n        this.tr = tr;\n    }\n\n\n    //이제 여기다가 API를 만들면됨\n    @GetMapping(&quot;/todayMaxMin&quot;)\n    public String readWeather(\n            @RequestParam(value=&quot;x&quot;)int x,\n            @RequestParam(value=&quot;y&quot;)int y,\n            @RequestParam(value=&quot;baseDate&quot;)String baseDate) {\n        \n        String tempKey = baseDate+String.valueOf(x)+String.valueOf(y);\n        \n        tr = new TempRequest(x,y,baseDate,tempKey);\n        \n        return tr.toString();\n    }\n    \n}\n</code></pre>\n<p>And to use these beans I added a packges with using scanBasePackages in main class.\nApplication Class</p>\n<pre><code>package com.wook.run;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@EnableScheduling\n@SpringBootApplication(scanBasePackages= {&quot;com.wook.controller&quot;,&quot;com.wook.model&quot;,&quot;com.wook.service&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>However with this code I get an error like this.</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.wook.model.dto.TempRequest required a bean of type 'int' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'int' in your configuration.</p>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","amazon-web-services","mocking","mockito","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639166308,"creation_date":1639166308,"answer_id":70309780,"question_id":70309649,"body_markdown":"Exception message you&#39;ve received tells that `worker.run()` method was never called within your test. You could changes the set-up of increase sleeping time. The test passes as soon as `worker.run()` is called at least once.","title":"Wanted but not invoked. Actually, there were zero interactions with this mock. Kinesis.Worker AWS","body":"<p>Exception message you've received tells that <code>worker.run()</code> method was never called within your test. You could changes the set-up of increase sleeping time. The test passes as soon as <code>worker.run()</code> is called at least once.</p>\n"}],"owner":{"account_id":4784964,"reputation":475,"user_id":3865734,"accept_rate":20,"display_name":"Allanh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639413044,"creation_date":1639165439,"question_id":70309649,"body_markdown":"I have tried several things to solve this exception. This is an existent test in the application that I had never worked.\r\n\r\n     import com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisClientLibConfiguration;\r\n    import com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class TeamEventStreamWorkerTest {\r\n        @Mock\r\n        Worker worker;\r\n    \r\n        @Mock\r\n        KinesisClientLibConfiguration kinesisClientLibConfiguration;\r\n    \r\n        @Test\r\n        void onApplicationEvent() throws InterruptedException {\r\n            TeamEventStreamWorker teamEventStreamWorker = new TeamEventStreamWorker(null, null, null, kinesisClientLibConfiguration, null) {\r\n                Worker createDynamoDbStreamsWorker() {\r\n                    return worker;\r\n                }\r\n            };\r\n    \r\n            doNothing().when(worker).run();\r\n    \r\n            teamEventStreamWorker.onApplicationEvent(null);\r\n    \r\n            // Wait to make sure worker run is called by the async mechanism\r\n            Thread.sleep(1000);\r\n    \r\n            verify(worker).run();\r\n    \r\n        }\r\n    }\r\n\r\nI know the problem is with ***worker.run()*** method. worker and kinesis object are objects for the library of Kinesis from amazon.\r\n\r\nNote: The most strange thing is when I test in my local machine(IntelliJ) works perfect, but when I do a push and the Jenkins job starts to try, always returns the same error.\r\n","title":"Wanted but not invoked. Actually, there were zero interactions with this mock. Kinesis.Worker AWS","body":"<p>I have tried several things to solve this exception. This is an existent test in the application that I had never worked.</p>\n<pre><code> import com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisClientLibConfiguration;\nimport com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker;\n\n@ExtendWith(MockitoExtension.class)\nclass TeamEventStreamWorkerTest {\n    @Mock\n    Worker worker;\n\n    @Mock\n    KinesisClientLibConfiguration kinesisClientLibConfiguration;\n\n    @Test\n    void onApplicationEvent() throws InterruptedException {\n        TeamEventStreamWorker teamEventStreamWorker = new TeamEventStreamWorker(null, null, null, kinesisClientLibConfiguration, null) {\n            Worker createDynamoDbStreamsWorker() {\n                return worker;\n            }\n        };\n\n        doNothing().when(worker).run();\n\n        teamEventStreamWorker.onApplicationEvent(null);\n\n        // Wait to make sure worker run is called by the async mechanism\n        Thread.sleep(1000);\n\n        verify(worker).run();\n\n    }\n}\n</code></pre>\n<p>I know the problem is with <em><strong>worker.run()</strong></em> method. worker and kinesis object are objects for the library of Kinesis from amazon.</p>\n<p>Note: The most strange thing is when I test in my local machine(IntelliJ) works perfect, but when I do a push and the Jenkins job starts to try, always returns the same error.</p>\n"},{"tags":["java","android","material-components-android","material-components"],"owner":{"account_id":15139628,"reputation":329,"user_id":10925023,"display_name":"Cyrille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639412976,"creation_date":1638306048,"question_id":70176011,"body_markdown":"I&#39;m trying to update my theme with the new Material You, it&#39;s working when I select a color in Android parameter (Screenshot red part) but when I disable it (blue part) I&#39;ve got the default value color set in the SDK xml.\r\nExample with: @android:color/system_accent1_0\r\n\r\nI want to know how to check when user select it or not (red or blue part in screenshot), this way i will use another theme when disable. I guess I need to use the new method: applyToActivitiesIfAvailable :\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            DynamicColors.applyToActivitiesIfAvailable(this, R.style.AppDynamicTheme, (activity, themeResId) -&gt; {\r\n            // ...implement your own logic here. Return `true` if dynamic colors should be applied.\r\n            return true; // &lt;- How to know if it&#39;s enable or disable in Android parameter ?\r\n    });}\r\n\r\nMy 2nd question is about the icon of the application, when i put blank color in background of ic_launcher.xml it works but not with another color, do you know why ?\r\n\r\nThanks\r\n\r\n[![Android 12 material you cokors][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pEwU.jpg","title":"Android 12 and material you detection","body":"<p>I'm trying to update my theme with the new Material You, it's working when I select a color in Android parameter (Screenshot red part) but when I disable it (blue part) I've got the default value color set in the SDK xml.\nExample with: @android:color/system_accent1_0</p>\n<p>I want to know how to check when user select it or not (red or blue part in screenshot), this way i will use another theme when disable. I guess I need to use the new method: applyToActivitiesIfAvailable :</p>\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n        DynamicColors.applyToActivitiesIfAvailable(this, R.style.AppDynamicTheme, (activity, themeResId) -&gt; {\n        // ...implement your own logic here. Return `true` if dynamic colors should be applied.\n        return true; // &lt;- How to know if it's enable or disable in Android parameter ?\n});}\n</code></pre>\n<p>My 2nd question is about the icon of the application, when i put blank color in background of ic_launcher.xml it works but not with another color, do you know why ?</p>\n<p>Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/3pEwU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3pEwU.jpg\" alt=\"Android 12 material you cokors\" /></a></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1481415585,"post_id":41081726,"comment_id":69369558,"body_markdown":"Have you tried something? It&#39;s not clear what you&#39;re stuck on.","body":"Have you tried something? It&#39;s not clear what you&#39;re stuck on."},{"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"score":0,"creation_date":1481416202,"post_id":41081726,"comment_id":69369661,"body_markdown":"Sorry about that, I&#39;ve tried to better explain the issue I&#39;m trying to solve with an example of one of the approaches I&#39;ve been trying to take.","body":"Sorry about that, I&#39;ve tried to better explain the issue I&#39;m trying to solve with an example of one of the approaches I&#39;ve been trying to take."}],"answers":[{"tags":[],"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1481435237,"creation_date":1481428446,"answer_id":41082832,"question_id":41081726,"body_markdown":"Jackson will do it for you. Just annotate your objects with `@JsonIdentityInfo`:\r\n\r\n    @JsonIdentityInfo(scope=School.class, generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\n    public class School {\r\n        private Integer id;\r\n        private String name;\r\n\r\n        public School() {\r\n        }\r\n\r\n        public School(Integer id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    @JsonIdentityInfo(scope=Student.class, generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\n    public class Student {\r\n        private Integer id;\r\n        private String name;\r\n        private School school;\r\n\r\n        public Student() {\r\n        }\r\n\r\n        public Student(Integer id, String name, School school) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.school = school;\r\n        }\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public School getSchool() {\r\n            return school;\r\n        }\r\n\r\n        public void setSchool(School school) {\r\n            this.school = school;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        School school = new School(1, &quot;St Magdalene&#39;s&quot;);\r\n        Student mary = new Student(1, &quot;Mary&quot;, school);\r\n        Student bob = new Student(2, &quot;Bob&quot;, school);\r\n        Student[] students = new Student[] {mary, bob};\r\n\r\n        // Write out\r\n        String serialized = mapper.writeValueAsString(students);\r\n        System.out.println(&quot;Serialized: &quot; + serialized);\r\n        // Read in\r\n        Student[] deserialized = mapper.readValue(serialized, Student[].class);\r\n    }\r\n","title":"Deserialize with Jackson with reference to an existing object","body":"<p>Jackson will do it for you. Just annotate your objects with <code>@JsonIdentityInfo</code>:</p>\n\n<pre><code>@JsonIdentityInfo(scope=School.class, generator=ObjectIdGenerators.PropertyGenerator.class, property=\"id\")\npublic class School {\n    private Integer id;\n    private String name;\n\n    public School() {\n    }\n\n    public School(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n@JsonIdentityInfo(scope=Student.class, generator=ObjectIdGenerators.PropertyGenerator.class, property=\"id\")\npublic class Student {\n    private Integer id;\n    private String name;\n    private School school;\n\n    public Student() {\n    }\n\n    public Student(Integer id, String name, School school) {\n        this.id = id;\n        this.name = name;\n        this.school = school;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public School getSchool() {\n        return school;\n    }\n\n    public void setSchool(School school) {\n        this.school = school;\n    }\n}\n\npublic static void main(String[] args) throws IOException {\n    School school = new School(1, \"St Magdalene's\");\n    Student mary = new Student(1, \"Mary\", school);\n    Student bob = new Student(2, \"Bob\", school);\n    Student[] students = new Student[] {mary, bob};\n\n    // Write out\n    String serialized = mapper.writeValueAsString(students);\n    System.out.println(\"Serialized: \" + serialized);\n    // Read in\n    Student[] deserialized = mapper.readValue(serialized, Student[].class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":994572,"reputation":8429,"user_id":1010868,"accept_rate":69,"display_name":"Tomasz Gawel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639412373,"creation_date":1639412373,"answer_id":70337743,"question_id":41081726,"body_markdown":"With classes defined as below:\r\n   \r\n    @JsonIdentityInfo(property = &quot;id&quot;, generator = ObjectIdGenerators.PropertyGenerator.class)\r\n    class School {\r\n        public Integer id;\r\n        public String name;\r\n    }\r\n    \r\n    class Student {\r\n        public Integer id;\r\n        public String name;\r\n        @JsonIdentityReference(alwaysAsId = true)\r\n        public School school;\r\n    }\r\n\r\n    class All {\r\n        public List&lt;School&gt; schools;\r\n        public List&lt;Student&gt; students;\r\n    }\r\n\r\nThis works exactly as You intended:\r\n\r\n    @Test\r\n    public void test() throws JsonProcessingException {\r\n        var json = &quot;{&quot; +\r\n                &quot;\\&quot;schools\\&quot;:[&quot; +\r\n                &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;School A\\&quot;},&quot; +\r\n                &quot;{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;School B\\&quot;}&quot; +\r\n                &quot;],&quot; +\r\n                &quot;\\&quot;students\\&quot;:[&quot; +\r\n                &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;Bobby\\&quot;,\\&quot;school\\&quot;:1}&quot; +\r\n                &quot;]&quot; +\r\n                &quot;}&quot;;\r\n        var mapper = new ObjectMapper();\r\n        var all =  mapper.readValue(json, All.class);\r\n        Assertions.assertThat(all.students.get(0).school).isSameAs(all.schools.get(0));\r\n    }\r\n","title":"Deserialize with Jackson with reference to an existing object","body":"<p>With classes defined as below:</p>\n<pre><code>@JsonIdentityInfo(property = &quot;id&quot;, generator = ObjectIdGenerators.PropertyGenerator.class)\nclass School {\n    public Integer id;\n    public String name;\n}\n\nclass Student {\n    public Integer id;\n    public String name;\n    @JsonIdentityReference(alwaysAsId = true)\n    public School school;\n}\n\nclass All {\n    public List&lt;School&gt; schools;\n    public List&lt;Student&gt; students;\n}\n</code></pre>\n<p>This works exactly as You intended:</p>\n<pre><code>@Test\npublic void test() throws JsonProcessingException {\n    var json = &quot;{&quot; +\n            &quot;\\&quot;schools\\&quot;:[&quot; +\n            &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;School A\\&quot;},&quot; +\n            &quot;{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;School B\\&quot;}&quot; +\n            &quot;],&quot; +\n            &quot;\\&quot;students\\&quot;:[&quot; +\n            &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;Bobby\\&quot;,\\&quot;school\\&quot;:1}&quot; +\n            &quot;]&quot; +\n            &quot;}&quot;;\n    var mapper = new ObjectMapper();\n    var all =  mapper.readValue(json, All.class);\n    Assertions.assertThat(all.students.get(0).school).isSameAs(all.schools.get(0));\n}\n</code></pre>\n"}],"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5492,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41082832,"answer_count":2,"score":13,"last_activity_date":1639412373,"creation_date":1481415372,"question_id":41081726,"body_markdown":"JSON\r\n\r\n    {\r\n      &quot;schools&quot;: [\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;School A&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;name&quot;: &quot;School B&quot;\r\n        }\r\n      ],\r\n      &quot;students&quot;: [\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Bobby&quot;,\r\n          &quot;school&quot;: 1\r\n        }\r\n      ]\r\n    \r\n    }\r\n\r\nHow would I map the JSON into the following classes such that Bobby&#39;s school is mapped to the already instantiated School A.\r\n\r\n    public class School {\r\n      private Integer id;\r\n      private String name;\r\n    }\r\n    \r\n    public class Student {\r\n      private Integer id;\r\n      private String name;\r\n      private School school;\r\n    }\r\n\r\nI&#39;ve tried some weird stuff with the Student class...\r\n\r\n    public class Student {\r\n      private Integer id;\r\n      private String name;\r\n      private School school;\r\n    \r\n      @JsonProperty(&quot;school&quot;)\r\n      public void setSchool(Integer sid) {\r\n        for (School school : getSchools()) {\r\n          if (school.id == sid) {\r\n            this.school = school;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThe problem I&#39;m having is that both the schools and the students are being parsed from the JSON at the same time, so I&#39;m not sure how to get a list of the schools. Maybe I should parse these separately so I have the list of schools first?","title":"Deserialize with Jackson with reference to an existing object","body":"<p>JSON</p>\n\n<pre><code>{\n  \"schools\": [\n    {\n      \"id\": 1,\n      \"name\": \"School A\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"School B\"\n    }\n  ],\n  \"students\": [\n    {\n      \"id\": 1,\n      \"name\": \"Bobby\",\n      \"school\": 1\n    }\n  ]\n\n}\n</code></pre>\n\n<p>How would I map the JSON into the following classes such that Bobby's school is mapped to the already instantiated School A.</p>\n\n<pre><code>public class School {\n  private Integer id;\n  private String name;\n}\n\npublic class Student {\n  private Integer id;\n  private String name;\n  private School school;\n}\n</code></pre>\n\n<p>I've tried some weird stuff with the Student class...</p>\n\n<pre><code>public class Student {\n  private Integer id;\n  private String name;\n  private School school;\n\n  @JsonProperty(\"school\")\n  public void setSchool(Integer sid) {\n    for (School school : getSchools()) {\n      if (school.id == sid) {\n        this.school = school;\n        break;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>The problem I'm having is that both the schools and the students are being parsed from the JSON at the same time, so I'm not sure how to get a list of the schools. Maybe I should parse these separately so I have the list of schools first?</p>\n"},{"tags":["java","recursion","completable-future"],"answers":[{"tags":[],"owner":{"account_id":14237487,"reputation":107,"user_id":10284903,"display_name":"Peter Kažmirsk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639412367,"creation_date":1639412367,"answer_id":70337740,"question_id":70306924,"body_markdown":"I transformed my original code to something like this and it seems to be working:\r\n\r\n```\r\nprotected CompletableFuture&lt;List&lt;APIResult&lt;String&gt;&gt;&gt; generateDomainReport(\r\n            ExtendedDomainConfiguration domain,\r\n            ZonedDateTime chunkStartDate,\r\n            ZonedDateTime chunkEndDate) {\r\n\r\n        CompletableFuture&lt;APIResult&lt;String&gt;&gt; response = runReport(domain.getDomainName(), chunkStartDate, chunkEndDate);\r\n        return response.thenApplyAsync(report -&gt; {\r\n            // in case that count of report rows hit the limit, split timeWindow into two half,\r\n            // calculate middle date and run report for both intervals: &lt;startDate, middleDate&gt;; &lt;middleDate, endDate&gt;\r\n            if (isReportMaxRowCountReached(report.getContent(), domain.getMaxReportRowCount())) {\r\n                LOGGER.warn(String.format(\r\n                        &quot;CSV report limit row counts was reached. &quot; +\r\n                                &quot;Splitting window &lt;%s, %s&gt; into 2 parts and rerunning report&quot;,\r\n                        chunkStartDate, chunkEndDate));\r\n                Duration timeWindow = Duration.between(chunkStartDate, chunkEndDate);\r\n                ZonedDateTime chunkMiddleDate = chunkEndDate.minus(Duration.ofSeconds(timeWindow.getSeconds() / 2));\r\n                // recursively repeat until count of returned rows is under the limit\r\n                return generateDomainReport(domain, chunkStartDate, chunkMiddleDate)\r\n                        .thenCombineAsync(generateDomainReport(domain, chunkMiddleDate, chunkEndDate),\r\n                                (result1, result2) -&gt; {\r\n                                    List&lt;APIResult&lt;String&gt;&gt; result = new ArrayList&lt;&gt;(result1.size() + result2.size());\r\n                                    result.addAll(result1);\r\n                                    result.addAll(result2);\r\n                                    return result;\r\n                                }).join();\r\n            } else {\r\n                return List.of(report);\r\n            }\r\n        });\r\n    }\r\n```","title":"Collect CompletableFuture results in recursive calls","body":"<p>I transformed my original code to something like this and it seems to be working:</p>\n<pre><code>protected CompletableFuture&lt;List&lt;APIResult&lt;String&gt;&gt;&gt; generateDomainReport(\n            ExtendedDomainConfiguration domain,\n            ZonedDateTime chunkStartDate,\n            ZonedDateTime chunkEndDate) {\n\n        CompletableFuture&lt;APIResult&lt;String&gt;&gt; response = runReport(domain.getDomainName(), chunkStartDate, chunkEndDate);\n        return response.thenApplyAsync(report -&gt; {\n            // in case that count of report rows hit the limit, split timeWindow into two half,\n            // calculate middle date and run report for both intervals: &lt;startDate, middleDate&gt;; &lt;middleDate, endDate&gt;\n            if (isReportMaxRowCountReached(report.getContent(), domain.getMaxReportRowCount())) {\n                LOGGER.warn(String.format(\n                        &quot;CSV report limit row counts was reached. &quot; +\n                                &quot;Splitting window &lt;%s, %s&gt; into 2 parts and rerunning report&quot;,\n                        chunkStartDate, chunkEndDate));\n                Duration timeWindow = Duration.between(chunkStartDate, chunkEndDate);\n                ZonedDateTime chunkMiddleDate = chunkEndDate.minus(Duration.ofSeconds(timeWindow.getSeconds() / 2));\n                // recursively repeat until count of returned rows is under the limit\n                return generateDomainReport(domain, chunkStartDate, chunkMiddleDate)\n                        .thenCombineAsync(generateDomainReport(domain, chunkMiddleDate, chunkEndDate),\n                                (result1, result2) -&gt; {\n                                    List&lt;APIResult&lt;String&gt;&gt; result = new ArrayList&lt;&gt;(result1.size() + result2.size());\n                                    result.addAll(result1);\n                                    result.addAll(result2);\n                                    return result;\n                                }).join();\n            } else {\n                return List.of(report);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":14237487,"reputation":107,"user_id":10284903,"display_name":"Peter Kažmirsk&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70337740,"answer_count":1,"score":2,"last_activity_date":1639412367,"creation_date":1639150511,"question_id":70306924,"body_markdown":"I have following code, that is getting reports for given time interval from web API that returns CompletableFuture. In case that count of rows for returned report was exceeded, time interval will be splited into 2 half and API will be called for both halfs. This will be recursively repeated until count of rows satisfy condition. \r\n\r\nI would like to get **CompletableFuture&lt;List&lt;APIResult&lt;String&gt;&gt;&gt;** or even better **List&lt;CompletableFuture&lt;APIResult&lt;String&gt;&gt;&gt;** as result of this method.\r\n\r\nMy code run ok when there is no need for interval splitting. In case when recursion call is needed it will return just empty list and recursive calls are executed later on asynchronously. \r\n\r\n     protected CompletableFuture&lt;List&lt;APIResult&lt;String&gt;&gt;&gt; generateDomainReport(\r\n            ExtendedDomainConfiguration domain,\r\n            ZonedDateTime chunkStartDate,\r\n            ZonedDateTime chunkEndDate,\r\n            List&lt;APIResult&lt;String&gt;&gt; result) {\r\n\r\n        CompletableFuture&lt;APIResult&lt;String&gt;&gt; response = runReport(domain.getDomainName(), chunkStartDate, chunkEndDate);\r\n        return response.thenApply(report -&gt; {\r\n            // in case that count of report rows hit the limit, split timeWindow into two half,\r\n            // calculate middle date and run report for both intervals: &lt;startDate, middleDate&gt;; &lt;middleDate, endDate&gt;\r\n            if (isReportMaxRowCountReached(report.getContent(), domain.getMaxReportRowCount())) {\r\n                LOGGER.warn(String.format(\r\n                        &quot;Report limit row counts was reached. &quot; +\r\n                                &quot;Splitting window &lt;%s, %s&gt; into 2 parts and rerunning report&quot;,\r\n                        chunkStartDate, chunkEndDate));\r\n                Duration timeWindow = Duration.between(chunkStartDate, chunkEndDate);\r\n                ZonedDateTime chunkMiddleDate = chunkEndDate.minus(Duration.ofSeconds(timeWindow.getSeconds() / 2));\r\n                // recursively repeat until count of returned rows is under the limit\r\n                generateDomainReport(domain, chunkStartDate, chunkMiddleDate, result);\r\n                generateDomainReport(domain, chunkMiddleDate, chunkEndDate, result);\r\n            } else {\r\n                result.add(report);\r\n            }\r\n            return result;\r\n        });\r\n    }\r\n\r\n  I also tried use something like that but it didn&#39;t helped: \r\n\r\n```\r\nresponse\r\n.thenAccept(r -&gt; generateDomainReport(domain, chunkStartDate, chunkMiddleDate, result))\r\n.thenAccept(r -&gt; generateDomainReport(domain, chunkMiddleDate, chunkEndDate, result));\r\n```\r\n\r\nI will be thankful for any idea what I am doing wrong. Thanks","title":"Collect CompletableFuture results in recursive calls","body":"<p>I have following code, that is getting reports for given time interval from web API that returns CompletableFuture. In case that count of rows for returned report was exceeded, time interval will be splited into 2 half and API will be called for both halfs. This will be recursively repeated until count of rows satisfy condition.</p>\n<p>I would like to get <strong>CompletableFuture&lt;List&lt;APIResult&gt;&gt;</strong> or even better <strong>List&lt;CompletableFuture&lt;APIResult&gt;&gt;</strong> as result of this method.</p>\n<p>My code run ok when there is no need for interval splitting. In case when recursion call is needed it will return just empty list and recursive calls are executed later on asynchronously.</p>\n<pre><code> protected CompletableFuture&lt;List&lt;APIResult&lt;String&gt;&gt;&gt; generateDomainReport(\n        ExtendedDomainConfiguration domain,\n        ZonedDateTime chunkStartDate,\n        ZonedDateTime chunkEndDate,\n        List&lt;APIResult&lt;String&gt;&gt; result) {\n\n    CompletableFuture&lt;APIResult&lt;String&gt;&gt; response = runReport(domain.getDomainName(), chunkStartDate, chunkEndDate);\n    return response.thenApply(report -&gt; {\n        // in case that count of report rows hit the limit, split timeWindow into two half,\n        // calculate middle date and run report for both intervals: &lt;startDate, middleDate&gt;; &lt;middleDate, endDate&gt;\n        if (isReportMaxRowCountReached(report.getContent(), domain.getMaxReportRowCount())) {\n            LOGGER.warn(String.format(\n                    &quot;Report limit row counts was reached. &quot; +\n                            &quot;Splitting window &lt;%s, %s&gt; into 2 parts and rerunning report&quot;,\n                    chunkStartDate, chunkEndDate));\n            Duration timeWindow = Duration.between(chunkStartDate, chunkEndDate);\n            ZonedDateTime chunkMiddleDate = chunkEndDate.minus(Duration.ofSeconds(timeWindow.getSeconds() / 2));\n            // recursively repeat until count of returned rows is under the limit\n            generateDomainReport(domain, chunkStartDate, chunkMiddleDate, result);\n            generateDomainReport(domain, chunkMiddleDate, chunkEndDate, result);\n        } else {\n            result.add(report);\n        }\n        return result;\n    });\n}\n</code></pre>\n<p>I also tried use something like that but it didn't helped:</p>\n<pre><code>response\n.thenAccept(r -&gt; generateDomainReport(domain, chunkStartDate, chunkMiddleDate, result))\n.thenAccept(r -&gt; generateDomainReport(domain, chunkMiddleDate, chunkEndDate, result));\n</code></pre>\n<p>I will be thankful for any idea what I am doing wrong. Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1636624798,"post_id":69921762,"comment_id":123609033,"body_markdown":"What about removing `@Import(TestConfig.class)` for this particular test? Or are there multiple bean definitions in there? Also, can you try to name the `externalApi` differently for this integration test, maybe `innerExternalApi`. Somehow the Spring Context caching mechanism must identify that you&#39;re working with a different context here.","body":"What about removing <code>@Import(TestConfig.class)</code> for this particular test? Or are there multiple bean definitions in there? Also, can you try to name the <code>externalApi</code> differently for this integration test, maybe <code>innerExternalApi</code>. Somehow the Spring Context caching mechanism must identify that you&#39;re working with a different context here."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636591676,"creation_date":1636591676,"answer_id":69921967,"question_id":69921762,"body_markdown":"This _seems_ like a bug in the Spring runner; `@TestConfiguration` shouldn&#39;t be propagated. As a workaround, try adding `@DirtiesContext` to your test to force a refresh.","title":"Spring @TestConfiguration affecting other test classes","body":"<p>This <em>seems</em> like a bug in the Spring runner; <code>@TestConfiguration</code> shouldn't be propagated. As a workaround, try adding <code>@DirtiesContext</code> to your test to force a refresh.</p>\n"},{"tags":[],"owner":{"account_id":6701110,"reputation":188,"user_id":5167545,"display_name":"Madis M&#228;nni"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1639412345,"creation_date":1639412345,"answer_id":70337733,"question_id":69921762,"body_markdown":"This works:\r\n\r\nConfiguration class:\r\n\r\n    // @TestConfiguration\r\n    // Put this class in a separate file\r\n    // NB! Do not annotate this class with @TestConfiguration,\r\n    // or else the configuration will be propagated to other tests!\r\n    public class UkvServiceTestContextConfiguration {\r\n\r\n\r\nTest suite that uses this configuration:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    \r\n    // NB! Do not use a nested static configuration class, use an external configuration class.\r\n    // Nested static configuration class gets propagated to other tests!\r\n    @Import(UkvServiceTestContextConfiguration.class)\r\n\r\npublic class UkvServiceTest {","title":"Spring @TestConfiguration affecting other test classes","body":"<p>This works:</p>\n<p>Configuration class:</p>\n<pre><code>// @TestConfiguration\n// Put this class in a separate file\n// NB! Do not annotate this class with @TestConfiguration,\n// or else the configuration will be propagated to other tests!\npublic class UkvServiceTestContextConfiguration {\n</code></pre>\n<p>Test suite that uses this configuration:</p>\n<pre><code>@RunWith(SpringRunner.class)\n\n// NB! Do not use a nested static configuration class, use an external configuration class.\n// Nested static configuration class gets propagated to other tests!\n@Import(UkvServiceTestContextConfiguration.class)\n</code></pre>\n<p>public class UkvServiceTest {</p>\n"}],"owner":{"account_id":2006296,"reputation":992,"user_id":1796101,"accept_rate":86,"display_name":"Pedro Estev&#227;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1840,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1639412345,"creation_date":1636589947,"question_id":69921762,"body_markdown":"I have several integration test classes, they all import configuration from a single `@Configuration` class, which is creating an `externalApi` mocked bean in a particular way (for illustration purposes, passing `true` as a constructor argument):\r\n\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n  \r\n  @Bean\r\n  @Primary\r\n  ExternalApi externalApi() {\r\n    return new MockExternalApi(true); // &lt;-- true by default for all test classes\r\n  }\r\n}\r\n```\r\nBut for a particular integration test class, I need to create that bean differently (let&#39;s say passing `false` as a constructor argument). In order to do that, I tried using `@TestConfiguration` in a static inner class as follows:\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(&quot;spring.main.allow-bean-definition-overriding=true&quot;)\r\n@Import(TestConfig.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class ExampleIT {\r\n\r\n  @TestConfiguration\r\n  public static class ExternalApiConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    ExternalApi externalApi() {\r\n      return new MockExternalApi(false); // &lt;-- false for this particular test class\r\n    }\r\n  }\r\n\r\n  @Test\r\n  public void someTest() {...}\r\n}\r\n```\r\nThat works, however, when executing all my integration test classes at once (with `maven verify`, for example), all test classes executing after this one break. Since they share the same context, it seems that, after changing that bean, it remains changed (i.e., with that `false` argument) for all subsequent test classes as well. I tried to fix that using `@DirtiesContext` at the class level, so the context could be reloaded for next test classes, but it didn&#39;t work.\r\n\r\nIs there a way to achieve what I&#39;m trying to do?\r\n\r\n**Note**: If I add that same `@TestConfiguration` static inner class to all my other integration test classes, doing the opposite, i.e., creating the `externalApi` bean back with `true` arg, then they all work. But I certainly don&#39;t wish having to do that.","title":"Spring @TestConfiguration affecting other test classes","body":"<p>I have several integration test classes, they all import configuration from a single <code>@Configuration</code> class, which is creating an <code>externalApi</code> mocked bean in a particular way (for illustration purposes, passing <code>true</code> as a constructor argument):</p>\n<pre><code>@Configuration\npublic class TestConfig {\n  \n  @Bean\n  @Primary\n  ExternalApi externalApi() {\n    return new MockExternalApi(true); // &lt;-- true by default for all test classes\n  }\n}\n</code></pre>\n<p>But for a particular integration test class, I need to create that bean differently (let's say passing <code>false</code> as a constructor argument). In order to do that, I tried using <code>@TestConfiguration</code> in a static inner class as follows:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(&quot;spring.main.allow-bean-definition-overriding=true&quot;)\n@Import(TestConfig.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class ExampleIT {\n\n  @TestConfiguration\n  public static class ExternalApiConfig {\n\n    @Bean\n    @Primary\n    ExternalApi externalApi() {\n      return new MockExternalApi(false); // &lt;-- false for this particular test class\n    }\n  }\n\n  @Test\n  public void someTest() {...}\n}\n</code></pre>\n<p>That works, however, when executing all my integration test classes at once (with <code>maven verify</code>, for example), all test classes executing after this one break. Since they share the same context, it seems that, after changing that bean, it remains changed (i.e., with that <code>false</code> argument) for all subsequent test classes as well. I tried to fix that using <code>@DirtiesContext</code> at the class level, so the context could be reloaded for next test classes, but it didn't work.</p>\n<p>Is there a way to achieve what I'm trying to do?</p>\n<p><strong>Note</strong>: If I add that same <code>@TestConfiguration</code> static inner class to all my other integration test classes, doing the opposite, i.e., creating the <code>externalApi</code> bean back with <code>true</code> arg, then they all work. But I certainly don't wish having to do that.</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":14608154,"reputation":33,"user_id":10550338,"display_name":"Grindewald1900"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639412229,"creation_date":1639412229,"answer_id":70337708,"question_id":70337433,"body_markdown":"Try: \r\n\r\n1. `Build` -&gt; `Clean Project` and then `Build` again  \r\n2. `File` -&gt; `Invalidate cache/restart` \r\n3. check your `run/debug` configuration in the top toolbar, it should be `app` by default.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AH5mv.png","title":"Gradle screwed up my app in AndroidStudio, how to fix?","body":"<p>Try:</p>\n<ol>\n<li><code>Build</code> -&gt; <code>Clean Project</code> and then <code>Build</code> again</li>\n<li><code>File</code> -&gt; <code>Invalidate cache/restart</code></li>\n<li>check your <code>run/debug</code> configuration in the top toolbar, it should be <code>app</code> by default.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/AH5mv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AH5mv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2336055,"reputation":737,"user_id":2048374,"accept_rate":63,"display_name":"Berit Larsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639412229,"creation_date":1639410978,"question_id":70337433,"body_markdown":"I&#39;m working on a new app in AndroidStudio, everything was working fine, I was testing the app on my phone, etc.\r\nThen at some point AndroidStudio gave me a popup in the lower right corner, something about Gradle. I didn&#39;t quite understand it, and hit Accept or something like that. Then suddenly something happened to all my projects in AndroidStudio (not just the one I was working on):\r\n\r\n - All build modules are gone. \r\n - I can&#39;t make any new build modules, because &quot;Error: Gradle project sync failed. Please fix your project and try again&quot;. I never synced anything with Gradle previously, why do I suddenly need to do something like this?\r\n - Clicking &quot;Sync project with Gradle files&quot; doesn&#39;t work: &quot;Plugin [id: &#39;com.android.application&#39;] was not found in any of the following sources&quot;. Where does &quot;com.android.application&quot; even come from? I never added any plugins anywhere.\r\n - &quot;Everything&quot; is wrong in all my Java files, I even get &quot;Cannot resolve symbol &#39;AppCompatActivity&#39;&quot; and &quot;Cannot resolve method &#39;OnCreate(android.os.Bundle)&#39;&quot;. Wtf?\r\n - All my Java files have this red symbol, which says &quot;Java file outside of source root&quot;. Why are they suddenly in the wrong place?\r\n\r\nNothing is working anymore, restarting AndroidStudio doesn&#39;t change anything, switching project doesn&#39;t change anything, and where did my build modules go?\r\nHow do I make this go back to normal?","title":"Gradle screwed up my app in AndroidStudio, how to fix?","body":"<p>I'm working on a new app in AndroidStudio, everything was working fine, I was testing the app on my phone, etc.\nThen at some point AndroidStudio gave me a popup in the lower right corner, something about Gradle. I didn't quite understand it, and hit Accept or something like that. Then suddenly something happened to all my projects in AndroidStudio (not just the one I was working on):</p>\n<ul>\n<li>All build modules are gone.</li>\n<li>I can't make any new build modules, because &quot;Error: Gradle project sync failed. Please fix your project and try again&quot;. I never synced anything with Gradle previously, why do I suddenly need to do something like this?</li>\n<li>Clicking &quot;Sync project with Gradle files&quot; doesn't work: &quot;Plugin [id: 'com.android.application'] was not found in any of the following sources&quot;. Where does &quot;com.android.application&quot; even come from? I never added any plugins anywhere.</li>\n<li>&quot;Everything&quot; is wrong in all my Java files, I even get &quot;Cannot resolve symbol 'AppCompatActivity'&quot; and &quot;Cannot resolve method 'OnCreate(android.os.Bundle)'&quot;. Wtf?</li>\n<li>All my Java files have this red symbol, which says &quot;Java file outside of source root&quot;. Why are they suddenly in the wrong place?</li>\n</ul>\n<p>Nothing is working anymore, restarting AndroidStudio doesn't change anything, switching project doesn't change anything, and where did my build modules go?\nHow do I make this go back to normal?</p>\n"},{"tags":["java","count","floating-point","digits"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1639409470,"post_id":70337055,"comment_id":124335002,"body_markdown":"Try running your code in a debugger, so that you can step through it line by line and see what the values of variables are at each point in the code. Or try adding `System.out.println(...);` statements at strategic points to understand what&#39;s happening.","body":"Try running your code in a debugger, so that you can step through it line by line and see what the values of variables are at each point in the code. Or try adding <code>System.out.println(...);</code> statements at strategic points to understand what&#39;s happening."},{"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":0,"creation_date":1639422437,"post_id":70337055,"comment_id":124339849,"body_markdown":"using binary floating point types (e.g. `float` or `double`) cause a number of implementation artifacts for you to deal with. using `BigDecimal` might be more suitable unless you&#39;re specifically learning about ieee754 numbers","body":"using binary floating point types (e.g. <code>float</code> or <code>double</code>) cause a number of implementation artifacts for you to deal with. using <code>BigDecimal</code> might be more suitable unless you&#39;re specifically learning about ieee754 numbers"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639412078,"creation_date":1639412078,"answer_id":70337676,"question_id":70337055,"body_markdown":"If some debug logging is added to the second loop, it can be seen, that when multiplying a `double` number by 10, there is a tiny error which does not allow the comparison `n == (int) n` ever become true.\r\n\r\nIt is actually a known issue that floating-point arithmetics has a certain computation error, so it should be taken into account when comparing the `double n` to its counterpart with the decimal point shifted right:\r\n```java\r\ndo {\r\n    count++;\r\n    n = n * 10;\r\n    System.out.println(count + &quot; - &quot; + n);\r\n} while (Math.abs(n - (int) n) &gt; 1E-7);\r\n\r\nSystem.out.println(count + &quot; total digits present in the number.&quot;);\r\n```\r\nOutput:\r\n```\r\n58.234\r\nBefore Decimal Digits: 2\r\n3 - 582.34\r\n4 - 5823.400000000001\r\n5 - 58234.00000000001\r\n5 total digits present in the number.\r\n```","title":"Why does this java code to count digit of floating value goes in loop for this value?","body":"<p>If some debug logging is added to the second loop, it can be seen, that when multiplying a <code>double</code> number by 10, there is a tiny error which does not allow the comparison <code>n == (int) n</code> ever become true.</p>\n<p>It is actually a known issue that floating-point arithmetics has a certain computation error, so it should be taken into account when comparing the <code>double n</code> to its counterpart with the decimal point shifted right:</p>\n<pre class=\"lang-java prettyprint-override\"><code>do {\n    count++;\n    n = n * 10;\n    System.out.println(count + &quot; - &quot; + n);\n} while (Math.abs(n - (int) n) &gt; 1E-7);\n\nSystem.out.println(count + &quot; total digits present in the number.&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>58.234\nBefore Decimal Digits: 2\n3 - 582.34\n4 - 5823.400000000001\n5 - 58234.00000000001\n5 total digits present in the number.\n</code></pre>\n"}],"owner":{"account_id":23092994,"reputation":31,"user_id":17203573,"display_name":"Harsh Lakhara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70337676,"answer_count":1,"score":1,"last_activity_date":1639412078,"creation_date":1639409211,"question_id":70337055,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass FloatDigit {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tdouble n = sc.nextDouble();\r\n\t\tint x = (int) n;\r\n\t\tint count = 0;\r\n\t\tdo {\r\n\t\t\tcount++;\r\n\t\t\tx = x / 10;\r\n\t\t} while (x != 0);\r\n\r\n\t\tSystem.out.println(&quot;Before Decimal Digits: &quot; + count); \r\n        //it gets stuck from here only\r\n\r\n\t\tdo {\r\n\t\t\tcount++;\r\n\t\t\tn = n * 10;\r\n\t\t} while (n != (int) n);\r\n\t\tSystem.out.println(count + &quot; total digits present in there in number.&quot;);\r\n\t}\r\n}\r\n```\r\nThis goes in an infinite loop for the value: 58.2354/58.234. It is working fine with other values too and longer values too.","title":"Why does this java code to count digit of floating value goes in loop for this value?","body":"<pre><code>import java.util.Scanner;\n\nclass FloatDigit {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        double n = sc.nextDouble();\n        int x = (int) n;\n        int count = 0;\n        do {\n            count++;\n            x = x / 10;\n        } while (x != 0);\n\n        System.out.println(&quot;Before Decimal Digits: &quot; + count); \n        //it gets stuck from here only\n\n        do {\n            count++;\n            n = n * 10;\n        } while (n != (int) n);\n        System.out.println(count + &quot; total digits present in there in number.&quot;);\n    }\n}\n</code></pre>\n<p>This goes in an infinite loop for the value: 58.2354/58.234. It is working fine with other values too and longer values too.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1615738082,"post_id":66616073,"comment_id":117778472,"body_markdown":"Maybe you missed to upgrade facing an already fixed issue: https://github.com/eclipse/lemminx/issues/419","body":"Maybe you missed to upgrade facing an already fixed issue: <a href=\"https://github.com/eclipse/lemminx/issues/419\" rel=\"nofollow noreferrer\">github.com/eclipse/lemminx/issues/419</a>"}],"answers":[{"tags":[],"owner":{"account_id":16707523,"reputation":391,"user_id":12138701,"display_name":"Cl&#233;ment Gibert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639412066,"creation_date":1624458585,"answer_id":68101818,"question_id":66616073,"body_markdown":"I have the same problem with each XML files in my Eclipse. In my case this is caused because I use an enterprise proxy and an &quot;older&quot; version of Eclipse (2019). That put a lot of &quot;red cross errors&quot; on all of my projects folders but that will not avoid it to work. I think you can fix it by configuring &quot;Network Connections&quot; in a newer version.","title":"error while downloading web-app_4_0.xsd in dynamic web app eclipse","body":"<p>I have the same problem with each XML files in my Eclipse. In my case this is caused because I use an enterprise proxy and an &quot;older&quot; version of Eclipse (2019). That put a lot of &quot;red cross errors&quot; on all of my projects folders but that will not avoid it to work. I think you can fix it by configuring &quot;Network Connections&quot; in a newer version.</p>\n"}],"owner":{"account_id":18344699,"reputation":37,"user_id":13360115,"display_name":"akalanka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68101818,"answer_count":1,"score":1,"last_activity_date":1639412066,"creation_date":1615653991,"question_id":66616073,"body_markdown":"when I try to make maven dynamic web project in eclipse this error occurred  \r\n\r\n&gt; Error while downloading &#39;http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#39; to C:\\Users\\akalanka\\.lemminx\\cache\\http\\xmlns.jcp.org\\xml\\ns\\javaee\\web-app_4_0.xsd.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;","title":"error while downloading web-app_4_0.xsd in dynamic web app eclipse","body":"<p>when I try to make maven dynamic web project in eclipse this error occurred</p>\n<blockquote>\n<p>Error while downloading 'http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd' to C:\\Users\\akalanka.lemminx\\cache\\http\\xmlns.jcp.org\\xml\\ns\\javaee\\web-app_4_0.xsd.</p>\n</blockquote>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n</code></pre>\n"},{"tags":["java","maven","gradle","javafx","openjfx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1639429631,"post_id":70335216,"comment_id":124342034,"body_markdown":"The javafx 17 modules in maven central (used by gradle) are broken, try using [javafx 17.0.1](https://stackoverflow.com/a/69137635/1155209).","body":"The javafx 17 modules in maven central (used by gradle) are broken, try using <a href=\"https://stackoverflow.com/a/69137635/1155209\">javafx 17.0.1</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1639429712,"post_id":70335216,"comment_id":124342049,"body_markdown":"All of the implementation is packed into the platform specific jars which will (if everything works correctly) also be downloaded and used for your environment without you having to specify anything else (at least maven works that way, I don&#39;t use gradle, but I believe it will be the same).  The non-platform specific jars are very small because they contain no implementation, it is just how the JavaFX team chose to package the maven artifacts.","body":"All of the implementation is packed into the platform specific jars which will (if everything works correctly) also be downloaded and used for your environment without you having to specify anything else (at least maven works that way, I don&#39;t use gradle, but I believe it will be the same).  The non-platform specific jars are very small because they contain no implementation, it is just how the JavaFX team chose to package the maven artifacts."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1639430553,"post_id":70335216,"comment_id":124342273,"body_markdown":"@jewelsea is doesn&#39;t download. Why would it?","body":"@jewelsea is doesn&#39;t download. Why would it?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1639430813,"post_id":70335216,"comment_id":124342355,"body_markdown":"I don&#39;t know how the mechanism works, I just know that it works, at least if you use Maven, and I am sure Gradle is not different in that respect.  You can see the [javafx-base artifacts here](https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/), javafx-base-17.0.1.jar is only 302 bytes.  javafx-base-17.0.1-win.jar is 746018 bytes.  Without the platform specific jars you don&#39;t have an implementation.","body":"I don&#39;t know how the mechanism works, I just know that it works, at least if you use Maven, and I am sure Gradle is not different in that respect.  You can see the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/\" rel=\"nofollow noreferrer\">javafx-base artifacts here</a>, javafx-base-17.0.1.jar is only 302 bytes.  javafx-base-17.0.1-win.jar is 746018 bytes.  Without the platform specific jars you don&#39;t have an implementation."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1639430948,"post_id":70335216,"comment_id":124342401,"body_markdown":"I checked it out to see how it works, it&#39;s pretty simple, the platform specific artifact is a dependency of the the non-platform specific artifact.  See the [pom.xml](https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/javafx-base-17.0.1.pom).  Fetching transitive dependencies is something both maven and gradle will do by default.","body":"I checked it out to see how it works, it&#39;s pretty simple, the platform specific artifact is a dependency of the the non-platform specific artifact.  See the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/javafx-base-17.0.1.pom\" rel=\"nofollow noreferrer\">pom.xml</a>.  Fetching transitive dependencies is something both maven and gradle will do by default."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":1,"creation_date":1639431054,"post_id":70335216,"comment_id":124342433,"body_markdown":"Hm, it really worked. May be 17-th was really broken...","body":"Hm, it really worked. May be 17-th was really broken..."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1639431079,"post_id":70335216,"comment_id":124342444,"body_markdown":"Yes, it really is . . .","body":"Yes, it really is . . ."}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639431116,"answer_count":0,"score":0,"last_activity_date":1639411980,"creation_date":1639401090,"question_id":70335216,"body_markdown":"I wrote \r\n\r\n    // https://mvnrepository.com/artifact/org.openjfx/javafx-base\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: &#39;17.0.1&#39;\r\n\r\nin my geadle file and got empty jar. On [jars page][1] I see, that [generic jar][2] is really empty, while platform specific are not. \r\n\r\nHow should I describe my dependency here then?\r\n\r\n***\r\n\r\nNext I wrote\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    }\r\n    \r\n    javafx {\r\n        version = &quot;17&quot;\r\n        modules = [ &#39;javafx.base&#39; ]\r\n    }\r\n\r\nbut this didn&#39;t help\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/\r\n  [2]: https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/javafx-base-17.0.1.jar","title":"Getting empty jars while importing javafx libraries with maven or gradle","body":"<p>I wrote</p>\n<pre><code>// https://mvnrepository.com/artifact/org.openjfx/javafx-base\nimplementation group: 'org.openjfx', name: 'javafx-base', version: '17.0.1'\n</code></pre>\n<p>in my geadle file and got empty jar. On <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/\" rel=\"nofollow noreferrer\">jars page</a> I see, that <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-base/17.0.1/javafx-base-17.0.1.jar\" rel=\"nofollow noreferrer\">generic jar</a> is really empty, while platform specific are not.</p>\n<p>How should I describe my dependency here then?</p>\n<hr />\n<p>Next I wrote</p>\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = [ 'javafx.base' ]\n}\n</code></pre>\n<p>but this didn't help</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1381155606,"post_id":19223577,"comment_id":28456404,"body_markdown":"This is probably better suited for [the IntelliJ IDEA bug tracker](http://youtrack.jetbrains.com/issues/IDEA), along with a proper test case demonstrating the issue.","body":"This is probably better suited for <a href=\"http://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">the IntelliJ IDEA bug tracker</a>, along with a proper test case demonstrating the issue."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1381233980,"post_id":19223577,"comment_id":28490681,"body_markdown":"Post your &quot;simple Java class&quot; if you can.","body":"Post your &quot;simple Java class&quot; if you can."},{"owner":{"account_id":1734650,"reputation":764,"user_id":1587504,"accept_rate":43,"display_name":"user1587504"},"score":0,"creation_date":1381234602,"post_id":19223577,"comment_id":28491011,"body_markdown":"Even simple hello world program has this problem and as an eg. I just tried this small program compilation &amp; I see same behavior. \n\npublic class MyImpl\n{\n    public static void main(String av[])\n    {\n        System.out.println(&quot;Hello IntelliJ12!!&quot;);\n    }\n}","body":"Even simple hello world program has this problem and as an eg. I just tried this small program compilation &amp; I see same behavior.   public class MyImpl {     public static void main(String av[])     {         System.out.println(&quot;Hello IntelliJ12!!&quot;);     } }"}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381155321,"creation_date":1381155321,"answer_id":19227174,"question_id":19223577,"body_markdown":"Have you tried to disable the GWT compiler?\r\n\r\nYou can turn off the module check boxes, which are found at `Project Structure -&gt; Facets -&gt; GWT`\r\n\r\nWhile it isn&#39;t usually helpful with OOM errors, please post your stack trace.","title":"OutOfMemoryError with IntelliJ12 IDE","body":"<p>Have you tried to disable the GWT compiler?</p>\n\n<p>You can turn off the module check boxes, which are found at <code>Project Structure -&gt; Facets -&gt; GWT</code></p>\n\n<p>While it isn't usually helpful with OOM errors, please post your stack trace.</p>\n"}],"owner":{"account_id":1734650,"reputation":764,"user_id":1587504,"accept_rate":43,"display_name":"user1587504"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1981,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1639411852,"creation_date":1381145031,"question_id":19223577,"body_markdown":"Have set heap size to use 2096 in IntelliJ12.\r\n\r\n    Settings -&gt; Compiler -&gt; Java Compiler -&gt; Maximum heap size (MB).\r\n\r\n \r\n\r\nBut still I get &#39;*Error:java: java.lang.OutOfMemoryError: Java heap space*&#39; , when I tried compiling simple Java class.  It use to compile fine with IntelliJ 11 .\r\n\r\nCouldn&#39;t able to figure out why it is taking long time [ as seen in status bar - it does full &#39;Parsing java...&#39; &amp; tries compiling ] &amp; failing after 5+ min.s as opposed to few seconds with IntelliJ11.\r\n\r\nAlso, it works just fine with compilation from command line with javac.\r\n\r\nAdding stacktrace:\r\n\r\n    Information:Using javac 1.7.0_25 to compile java sources\r\n    Information:java: The system is out of resources.\r\n    Information:java: Consult the following stack trace for details.\r\n    Information:java: \tat java.lang.Integer.valueOf(Integer.java:642)\r\n    Information:java: \tat com.sun.tools.javac.parser.EndPosParser.storeEnd(EndPosParser.java:64)\r\n    Information:java: \tat com.sun.tools.javac.parser.EndPosParser.toP(EndPosParser.java:77)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.term3(JavacParser.java:1008)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.term2(JavacParser.java:701)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.term1(JavacParser.java:672)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.term(JavacParser.java:628)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.term(JavacParser.java:610)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.parseType(JavacParser.java:604)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.catchTypes(JavacParser.java:1888)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.catchClause(JavacParser.java:1876)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.parseStatement(JavacParser.java:1771)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:1598)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:1561)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:1575)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.methodDeclaratorRest(JavacParser.java:2696)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.classOrInterfaceBodyDeclaration(JavacParser.java:2645)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.classOrInterfaceBody(JavacParser.java:2573)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.classDeclaration(JavacParser.java:2421)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.classOrInterfaceOrEnumDeclaration(JavacParser.java:2362)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.typeDeclaration(JavacParser.java:2351)\r\n    Information:java: \tat com.sun.tools.javac.parser.JavacParser.parseCompilationUnit(JavacParser.java:2289)\r\n    Information:java: \tat com.sun.tools.javac.parser.EndPosParser.parseCompilationUnit(EndPosParser.java:83)\r\n    Information:java: \tat com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:595)\r\n    Information:java: \tat com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:632)\r\n    Information:java: \tat com.sun.tools.javac.main.JavaCompiler.parseFiles(JavaCompiler.java:909)\r\n    Information:java: \tat com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\r\n    Information:java: \tat com.sun.tools.javac.main.Main.compile(Main.java:439)\r\n    Information:java: \tat com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\r\n    Information:java: \tat org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:165)\r\n    Information:java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:364)\r\n    Information:java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:276)\r\n    Information:java: **Errors occurred while compiling module &#39;PROJ-NAME&#39;**\r\n    Information:Compilation completed with 1 error and 0 warnings in 8 min 32 sec\r\n    Information:1 error\r\n    Information:0 warnings\r\n    **Error:java: OutOfMemoryError: insufficient memory**\r\n\r\n","title":"OutOfMemoryError with IntelliJ12 IDE","body":"<p>Have set heap size to use 2096 in IntelliJ12.</p>\n\n<pre><code>Settings -&gt; Compiler -&gt; Java Compiler -&gt; Maximum heap size (MB).\n</code></pre>\n\n<p>But still I get '<em>Error:java: java.lang.OutOfMemoryError: Java heap space</em>' , when I tried compiling simple Java class.  It use to compile fine with IntelliJ 11 .</p>\n\n<p>Couldn't able to figure out why it is taking long time [ as seen in status bar - it does full 'Parsing java...' &amp; tries compiling ] &amp; failing after 5+ min.s as opposed to few seconds with IntelliJ11.</p>\n\n<p>Also, it works just fine with compilation from command line with javac.</p>\n\n<p>Adding stacktrace:</p>\n\n<pre><code>Information:Using javac 1.7.0_25 to compile java sources\nInformation:java: The system is out of resources.\nInformation:java: Consult the following stack trace for details.\nInformation:java:   at java.lang.Integer.valueOf(Integer.java:642)\nInformation:java:   at com.sun.tools.javac.parser.EndPosParser.storeEnd(EndPosParser.java:64)\nInformation:java:   at com.sun.tools.javac.parser.EndPosParser.toP(EndPosParser.java:77)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.term3(JavacParser.java:1008)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.term2(JavacParser.java:701)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.term1(JavacParser.java:672)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.term(JavacParser.java:628)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.term(JavacParser.java:610)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.parseType(JavacParser.java:604)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.catchTypes(JavacParser.java:1888)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.catchClause(JavacParser.java:1876)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.parseStatement(JavacParser.java:1771)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.blockStatements(JavacParser.java:1598)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:1561)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.block(JavacParser.java:1575)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.methodDeclaratorRest(JavacParser.java:2696)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.classOrInterfaceBodyDeclaration(JavacParser.java:2645)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.classOrInterfaceBody(JavacParser.java:2573)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.classDeclaration(JavacParser.java:2421)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.classOrInterfaceOrEnumDeclaration(JavacParser.java:2362)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.typeDeclaration(JavacParser.java:2351)\nInformation:java:   at com.sun.tools.javac.parser.JavacParser.parseCompilationUnit(JavacParser.java:2289)\nInformation:java:   at com.sun.tools.javac.parser.EndPosParser.parseCompilationUnit(EndPosParser.java:83)\nInformation:java:   at com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:595)\nInformation:java:   at com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:632)\nInformation:java:   at com.sun.tools.javac.main.JavaCompiler.parseFiles(JavaCompiler.java:909)\nInformation:java:   at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\nInformation:java:   at com.sun.tools.javac.main.Main.compile(Main.java:439)\nInformation:java:   at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\nInformation:java:   at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:165)\nInformation:java:   at org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:364)\nInformation:java:   at org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:276)\nInformation:java: **Errors occurred while compiling module 'PROJ-NAME'**\nInformation:Compilation completed with 1 error and 0 warnings in 8 min 32 sec\nInformation:1 error\nInformation:0 warnings\n**Error:java: OutOfMemoryError: insufficient memory**\n</code></pre>\n"},{"tags":["java","string","binary","int"],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":415,"is_accepted":true,"score":415,"last_activity_date":1268105183,"creation_date":1268105183,"answer_id":2406441,"question_id":2406432,"body_markdown":"    Integer.toBinaryString(int i)","title":"Converting an int to a binary string representation in Java?","body":"<pre><code>Integer.toBinaryString(int i)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77782,"reputation":4807,"user_id":221781,"accept_rate":100,"display_name":"izilotti"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1612348121,"creation_date":1355554823,"answer_id":13890161,"question_id":2406432,"body_markdown":"There is also the [java.lang.Integer.toString(int i, int base)][1] method, which would be more appropriate if your code might one day handle bases other than 2 (binary). Keep in mind that this method only gives you an unsigned representation of the integer i, and if it is negative, it will tack on a negative sign at the front. It won&#39;t use two&#39;s complement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int,%20int)","title":"Converting an int to a binary string representation in Java?","body":"<p>There is also the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int,%20int)\" rel=\"noreferrer\">java.lang.Integer.toString(int i, int base)</a> method, which would be more appropriate if your code might one day handle bases other than 2 (binary). Keep in mind that this method only gives you an unsigned representation of the integer i, and if it is negative, it will tack on a negative sign at the front. It won't use two's complement.</p>\n"},{"tags":[],"owner":{"account_id":553127,"reputation":12116,"user_id":918472,"accept_rate":71,"display_name":"Rupesh Yadav"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1417179208,"creation_date":1417179208,"answer_id":27189112,"question_id":2406432,"body_markdown":"One more way- By using [_java.lang.Integer_](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html) you can get string representation of the first argument `i` in the `radix (Octal - 8, Hex - 16, Binary - 2)` specified by the second argument.\r\n\r\n     Integer.toString(i, radix)\r\n\r\n*Example_*\r\n\r\n    private void getStrtingRadix() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t /* returns the string representation of the \r\n              unsigned integer in concern radix*/\r\n             System.out.println(&quot;Binary eqivalent of 100 = &quot; + Integer.toString(100, 2));\r\n    \t     System.out.println(&quot;Octal eqivalent of 100 = &quot; + Integer.toString(100, 8));\r\n    \t     System.out.println(&quot;Decimal eqivalent of 100 = &quot; + Integer.toString(100, 10));\r\n    \t     System.out.println(&quot;Hexadecimal eqivalent of 100 = &quot; + Integer.toString(100, 16));\r\n    \t}\r\n\r\n*OutPut_*\r\n\r\n    Binary eqivalent of 100 = 1100100\r\n    Octal eqivalent of 100 = 144\r\n    Decimal eqivalent of 100 = 100\r\n    Hexadecimal eqivalent of 100 = 64","title":"Converting an int to a binary string representation in Java?","body":"<p>One more way- By using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\"><em>java.lang.Integer</em></a> you can get string representation of the first argument <code>i</code> in the <code>radix (Octal - 8, Hex - 16, Binary - 2)</code> specified by the second argument.</p>\n\n<pre><code> Integer.toString(i, radix)\n</code></pre>\n\n<p><em>Example_</em></p>\n\n<pre><code>private void getStrtingRadix() {\n        // TODO Auto-generated method stub\n         /* returns the string representation of the \n          unsigned integer in concern radix*/\n         System.out.println(\"Binary eqivalent of 100 = \" + Integer.toString(100, 2));\n         System.out.println(\"Octal eqivalent of 100 = \" + Integer.toString(100, 8));\n         System.out.println(\"Decimal eqivalent of 100 = \" + Integer.toString(100, 10));\n         System.out.println(\"Hexadecimal eqivalent of 100 = \" + Integer.toString(100, 16));\n    }\n</code></pre>\n\n<p><em>OutPut_</em></p>\n\n<pre><code>Binary eqivalent of 100 = 1100100\nOctal eqivalent of 100 = 144\nDecimal eqivalent of 100 = 100\nHexadecimal eqivalent of 100 = 64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5907936,"reputation":77,"user_id":4863488,"display_name":"Artavazd Manukyan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432474123,"creation_date":1432474123,"answer_id":30424041,"question_id":2406432,"body_markdown":"    public class Main  {\r\n    \r\n       public static String toBinary(int n, int l ) throws Exception {\r\n           double pow =  Math.pow(2, l);\r\n           StringBuilder binary = new StringBuilder();\r\n            if ( pow &lt; n ) {\r\n                throw new Exception(&quot;The length must be big from number &quot;);\r\n            }\r\n           int shift = l- 1;\r\n           for (; shift &gt;= 0 ; shift--) {\r\n               int bit = (n &gt;&gt; shift) &amp; 1;\r\n               if (bit == 1) {\r\n                   binary.append(&quot;1&quot;);\r\n               } else {\r\n                   binary.append(&quot;0&quot;);\r\n               }\r\n           }\r\n           return binary.toString();\r\n       }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(&quot; binary = &quot; + toBinary(7, 4));\r\n            System.out.println(&quot; binary = &quot; + Integer.toString(7,2));\r\n        }\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<pre><code>public class Main  {\n\n   public static String toBinary(int n, int l ) throws Exception {\n       double pow =  Math.pow(2, l);\n       StringBuilder binary = new StringBuilder();\n        if ( pow &lt; n ) {\n            throw new Exception(\"The length must be big from number \");\n        }\n       int shift = l- 1;\n       for (; shift &gt;= 0 ; shift--) {\n           int bit = (n &gt;&gt; shift) &amp; 1;\n           if (bit == 1) {\n               binary.append(\"1\");\n           } else {\n               binary.append(\"0\");\n           }\n       }\n       return binary.toString();\n   }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(\" binary = \" + toBinary(7, 4));\n        System.out.println(\" binary = \" + Integer.toString(7,2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2001955,"reputation":592,"user_id":1792773,"display_name":"AbbyPaden"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438225523,"creation_date":1438225523,"answer_id":31714555,"question_id":2406432,"body_markdown":"This is something I wrote a few minutes ago just messing around. Hope it helps!\r\n\r\n    public class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;Integer&gt; powers = new ArrayList&lt;Integer&gt;();\r\n\t\tArrayList&lt;Integer&gt; binaryStore = new ArrayList&lt;Integer&gt;();\r\n\t\t\r\n\t\tpowers.add(128);\r\n\t\tpowers.add(64);\r\n\t\tpowers.add(32);\r\n\t\tpowers.add(16);\r\n\t\tpowers.add(8);\r\n\t\tpowers.add(4);\r\n\t\tpowers.add(2);\r\n\t\tpowers.add(1);\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Welcome to Paden9000 binary converter. Please enter an integer you wish to convert: &quot;);\r\n\t\tint input = sc.nextInt();\r\n\t\tint printableInput = input;\r\n\t\t\r\n\t\tfor (int i : powers) {\r\n\t\t\tif (input &lt; i) {\r\n\t\t\t\tbinaryStore.add(0);\t\t\r\n\t\t\t} else {\r\n\t\t\t\tinput = input - i;\r\n\t\t\t\tbinaryStore.add(1);\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tString newString= binaryStore.toString();\r\n\t\tString finalOutput = newString.replace(&quot;[&quot;, &quot;&quot;)\r\n\t\t\t\t.replace(&quot; &quot;, &quot;&quot;)\r\n\t\t\t\t.replace(&quot;]&quot;, &quot;&quot;)\r\n\t\t\t\t.replace(&quot;,&quot;, &quot;&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Integer value: &quot; + printableInput + &quot;\\nBinary value: &quot; + finalOutput);\r\n\t\tsc.close();\r\n\t}\t\r\n}","title":"Converting an int to a binary string representation in Java?","body":"<p>This is something I wrote a few minutes ago just messing around. Hope it helps!</p>\n\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n\n    ArrayList&lt;Integer&gt; powers = new ArrayList&lt;Integer&gt;();\n    ArrayList&lt;Integer&gt; binaryStore = new ArrayList&lt;Integer&gt;();\n\n    powers.add(128);\n    powers.add(64);\n    powers.add(32);\n    powers.add(16);\n    powers.add(8);\n    powers.add(4);\n    powers.add(2);\n    powers.add(1);\n\n    Scanner sc = new Scanner(System.in);\n    System.out.println(\"Welcome to Paden9000 binary converter. Please enter an integer you wish to convert: \");\n    int input = sc.nextInt();\n    int printableInput = input;\n\n    for (int i : powers) {\n        if (input &lt; i) {\n            binaryStore.add(0);     \n        } else {\n            input = input - i;\n            binaryStore.add(1);             \n        }           \n    }\n\n    String newString= binaryStore.toString();\n    String finalOutput = newString.replace(\"[\", \"\")\n            .replace(\" \", \"\")\n            .replace(\"]\", \"\")\n            .replace(\",\", \"\");\n\n    System.out.println(\"Integer value: \" + printableInput + \"\\nBinary value: \" + finalOutput);\n    sc.close();\n}   \n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6683232,"reputation":108,"user_id":5155556,"display_name":"Rachit Srivastava"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1454766305,"creation_date":1454765100,"answer_id":35241540,"question_id":2406432,"body_markdown":"Using built-in function:\r\n    \r\n    String binaryNum = Integer.toBinaryString(int num);\r\n    \r\nIf you don&#39;t want to use the built-in function for converting int to binary then you can also do this:\r\n\r\n    import java.util.*;\r\n    public class IntToBinary {\r\n        public static void main(String[] args) {\r\n            Scanner d = new Scanner(System.in);\r\n            int n;\r\n            n = d.nextInt();\r\n            StringBuilder sb = new StringBuilder();\r\n            while(n &gt; 0){\r\n            int r = n%2;\r\n            sb.append(r);\r\n            n = n/2;\r\n            }\r\n            System.out.println(sb.reverse());        \r\n        }\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<p>Using built-in function:</p>\n\n<pre><code>String binaryNum = Integer.toBinaryString(int num);\n</code></pre>\n\n<p>If you don't want to use the built-in function for converting int to binary then you can also do this:</p>\n\n<pre><code>import java.util.*;\npublic class IntToBinary {\n    public static void main(String[] args) {\n        Scanner d = new Scanner(System.in);\n        int n;\n        n = d.nextInt();\n        StringBuilder sb = new StringBuilder();\n        while(n &gt; 0){\n        int r = n%2;\n        sb.append(r);\n        n = n/2;\n        }\n        System.out.println(sb.reverse());        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8280015,"reputation":69,"user_id":6225013,"display_name":"Sidarth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464178656,"creation_date":1464176373,"answer_id":37436029,"question_id":2406432,"body_markdown":"**Convert Integer to Binary:**\r\n    \r\n    import java.util.Scanner;\r\n\r\n    public class IntegerToBinary {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t    Scanner input = new Scanner( System.in );\r\n\r\n\t\t    System.out.println(&quot;Enter Integer: &quot;);\r\n\t\t    String integerString =input.nextLine();\r\n\r\n\t\t    System.out.println(&quot;Binary Number: &quot;+Integer.toBinaryString(Integer.parseInt(integerString)));\r\n\t    }\r\n\r\n    }\r\n\r\n**Output:**\r\n\r\nEnter Integer: \r\n\r\n10\r\n\r\nBinary Number: 1010","title":"Converting an int to a binary string representation in Java?","body":"<p><strong>Convert Integer to Binary:</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class IntegerToBinary {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner( System.in );\n\n        System.out.println(\"Enter Integer: \");\n        String integerString =input.nextLine();\n\n        System.out.println(\"Binary Number: \"+Integer.toBinaryString(Integer.parseInt(integerString)));\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>Enter Integer: </p>\n\n<p>10</p>\n\n<p>Binary Number: 1010</p>\n"},{"tags":[],"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469525101,"creation_date":1469524174,"answer_id":38585634,"question_id":2406432,"body_markdown":"The simplest approach is to check whether or not the number is odd. If it is, by definition, its right-most binary number will be &quot;1&quot; (2^0). After we&#39;ve determined this, we bit shift the number to the right and check the same value using recursion.\r\n\r\n\r\n    @Test\r\n    public void shouldPrintBinary() {\r\n        StringBuilder sb = new StringBuilder();\r\n        convert(1234, sb);\r\n    }\r\n\r\n    private void convert(int n, StringBuilder sb) {\r\n\r\n        if (n &gt; 0) {\r\n            sb.append(n % 2);\r\n            convert(n &gt;&gt; 1, sb);\r\n        } else {\r\n            System.out.println(sb.reverse().toString());\r\n        }\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<p>The simplest approach is to check whether or not the number is odd. If it is, by definition, its right-most binary number will be \"1\" (2^0). After we've determined this, we bit shift the number to the right and check the same value using recursion.</p>\n\n<pre><code>@Test\npublic void shouldPrintBinary() {\n    StringBuilder sb = new StringBuilder();\n    convert(1234, sb);\n}\n\nprivate void convert(int n, StringBuilder sb) {\n\n    if (n &gt; 0) {\n        sb.append(n % 2);\n        convert(n &gt;&gt; 1, sb);\n    } else {\n        System.out.println(sb.reverse().toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9098415,"reputation":329,"user_id":6771533,"display_name":"Ariel Badilla"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1609990653,"creation_date":1472497080,"answer_id":39213284,"question_id":2406432,"body_markdown":"    public static string intToBinary(int n)\r\n    {\r\n        String s = &quot;&quot;;\r\n        while (n &gt; 0)\r\n        {\r\n            s =  ( (n % 2 ) == 0 ? &quot;0&quot; : &quot;1&quot;) +s;\r\n            n = n / 2;\r\n        }\r\n        return s;\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<pre><code>public static string intToBinary(int n)\n{\n    String s = &quot;&quot;;\n    while (n &gt; 0)\n    {\n        s =  ( (n % 2 ) == 0 ? &quot;0&quot; : &quot;1&quot;) +s;\n        n = n / 2;\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1738901,"reputation":21,"user_id":1590857,"display_name":"Sandeep Saini"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477281491,"creation_date":1477281491,"answer_id":40210480,"question_id":2406432,"body_markdown":"This should be quite simple with something like this :\r\n\t\r\n    public static String toBinary(int number){\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tif(number == 0)\r\n\t\t\treturn &quot;0&quot;;\r\n\t\twhile(number&gt;=1){\r\n\t\t\tsb.append(number%2);\r\n\t\t\tnumber = number / 2;\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.reverse().toString();\r\n\t\t\r\n\t}","title":"Converting an int to a binary string representation in Java?","body":"<p>This should be quite simple with something like this :</p>\n\n<pre><code>public static String toBinary(int number){\n    StringBuilder sb = new StringBuilder();\n\n    if(number == 0)\n        return \"0\";\n    while(number&gt;=1){\n        sb.append(number%2);\n        number = number / 2;\n    }\n\n    return sb.reverse().toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964251,"reputation":2674,"user_id":7372432,"display_name":"amoljdv06"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486039262,"creation_date":1486039262,"answer_id":42002550,"question_id":2406432,"body_markdown":"This can be expressed in pseudocode as:\r\n\r\n    while(n &gt; 0):\r\n        remainder = n%2;\r\n        n = n/2;\r\n        Insert remainder to front of a list or push onto a stack\r\n    \r\n    Print list or stack","title":"Converting an int to a binary string representation in Java?","body":"<p>This can be expressed in pseudocode as:</p>\n\n<pre><code>while(n &gt; 0):\n    remainder = n%2;\n    n = n/2;\n    Insert remainder to front of a list or push onto a stack\n\nPrint list or stack\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486412491,"creation_date":1486412491,"answer_id":42076590,"question_id":2406432,"body_markdown":"here is my methods, it is a little bit convince that number of bytes fixed\r\n\r\n    private void printByte(int value) {\r\n    String currentBinary = Integer.toBinaryString(256 + value);\r\n    System.out.println(currentBinary.substring(currentBinary.length() - 8));\r\n    }\r\n\r\n    public int binaryToInteger(String binary) {\r\n    char[] numbers = binary.toCharArray();\r\n    int result = 0;\r\n    for(int i=numbers.length - 1; i&gt;=0; i--)\r\n      if(numbers[i]==&#39;1&#39;)\r\n        result += Math.pow(2, (numbers.length-i - 1));\r\n    return result;\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<p>here is my methods, it is a little bit convince that number of bytes fixed</p>\n\n<pre><code>private void printByte(int value) {\nString currentBinary = Integer.toBinaryString(256 + value);\nSystem.out.println(currentBinary.substring(currentBinary.length() - 8));\n}\n\npublic int binaryToInteger(String binary) {\nchar[] numbers = binary.toCharArray();\nint result = 0;\nfor(int i=numbers.length - 1; i&gt;=0; i--)\n  if(numbers[i]=='1')\n    result += Math.pow(2, (numbers.length-i - 1));\nreturn result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519085802,"creation_date":1519085802,"answer_id":48876111,"question_id":2406432,"body_markdown":"You should really use [Integer.toBinaryString()][1] (as shown above), but if for some reason you want your own:\r\n\r\n    // Like Integer.toBinaryString, but always returns 32 chars\r\n    public static String asBitString(int value) {\r\n      final char[] buf = new char[32];\r\n      for (int i = 31; i &gt;= 0; i--) {\r\n        buf[31 - i] = ((1 &lt;&lt; i) &amp; value) == 0 ? &#39;0&#39; : &#39;1&#39;;\r\n      }\r\n      return new String(buf);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toBinaryString-int-","title":"Converting an int to a binary string representation in Java?","body":"<p>You should really use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#toBinaryString-int-\" rel=\"nofollow noreferrer\">Integer.toBinaryString()</a> (as shown above), but if for some reason you want your own:</p>\n\n<pre><code>// Like Integer.toBinaryString, but always returns 32 chars\npublic static String asBitString(int value) {\n  final char[] buf = new char[32];\n  for (int i = 31; i &gt;= 0; i--) {\n    buf[31 - i] = ((1 &lt;&lt; i) &amp; value) == 0 ? '0' : '1';\n  }\n  return new String(buf);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536942870,"creation_date":1536942234,"answer_id":52335863,"question_id":2406432,"body_markdown":"Using bit shift is a little quicker... \r\n\r\n    public static String convertDecimalToBinary(int N) {\r\n\r\n        StringBuilder binary = new StringBuilder(32);\r\n        \r\n        while (N &gt; 0 ) {\r\n            binary.append( N % 2 );\r\n            N &gt;&gt;= 1;\r\n         }\r\n    \r\n        return binary.reverse().toString();\r\n    \r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<p>Using bit shift is a little quicker... </p>\n\n<pre><code>public static String convertDecimalToBinary(int N) {\n\n    StringBuilder binary = new StringBuilder(32);\n\n    while (N &gt; 0 ) {\n        binary.append( N % 2 );\n        N &gt;&gt;= 1;\n     }\n\n    return binary.reverse().toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11835644,"reputation":9,"user_id":8661051,"display_name":"Ahmed Saka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619252031,"creation_date":1564829246,"answer_id":57337603,"question_id":2406432,"body_markdown":"    public class BinaryConverter {\r\n\r\n        public static String binaryConverter(int number) {\r\n            String binary = &quot;&quot;;\r\n            if (number == 1){\r\n                binary = &quot;1&quot;;\r\n                return binary;\r\n            }\r\n            if (number == 0){\r\n                binary = &quot;0&quot;;\r\n                return binary;\r\n            }\r\n            if (number &gt; 1) {\r\n                String i = Integer.toString(number % 2);\r\n\r\n                binary = binary + i;\r\n                binaryConverter(number/2);\r\n            }\r\n            return binary;\r\n        }\r\n    }","title":"Converting an int to a binary string representation in Java?","body":"<pre><code>public class BinaryConverter {\n\n    public static String binaryConverter(int number) {\n        String binary = &quot;&quot;;\n        if (number == 1){\n            binary = &quot;1&quot;;\n            return binary;\n        }\n        if (number == 0){\n            binary = &quot;0&quot;;\n            return binary;\n        }\n        if (number &gt; 1) {\n            String i = Integer.toString(number % 2);\n\n            binary = binary + i;\n            binaryConverter(number/2);\n        }\n        return binary;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18056496,"reputation":130,"user_id":13124828,"display_name":"Adnan Arshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627721047,"creation_date":1627721047,"answer_id":68600534,"question_id":2406432,"body_markdown":"In order to make it exactly 8 bit, I made a slight addition to @sandeep-saini &#39;s answer:\r\n\r\n```\r\npublic static String intToBinary(int number){\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        if(number == 0)\r\n            return &quot;0&quot;;\r\n        while(number&gt;=1){\r\n            sb.append(number%2);\r\n            number = number / 2;\r\n        }\r\n        while (sb.length() &lt; 8){\r\n            sb.append(&quot;0&quot;);\r\n        }\r\n\r\n        return sb.reverse().toString();\r\n\r\n    }\r\n```\r\n\r\nSo now for an input of `1` you get an output of `00000001`","title":"Converting an int to a binary string representation in Java?","body":"<p>In order to make it exactly 8 bit, I made a slight addition to @sandeep-saini 's answer:</p>\n<pre><code>public static String intToBinary(int number){\n        StringBuilder sb = new StringBuilder();\n\n        if(number == 0)\n            return &quot;0&quot;;\n        while(number&gt;=1){\n            sb.append(number%2);\n            number = number / 2;\n        }\n        while (sb.length() &lt; 8){\n            sb.append(&quot;0&quot;);\n        }\n\n        return sb.reverse().toString();\n\n    }\n</code></pre>\n<p>So now for an input of <code>1</code> you get an output of <code>00000001</code></p>\n"},{"tags":[],"owner":{"account_id":6022910,"reputation":36,"user_id":4729507,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632572877,"creation_date":1632571796,"answer_id":69326013,"question_id":2406432,"body_markdown":"    public static String intToBinaryString(int n) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; 32 &amp;&amp; n != 0; i++) {\r\n            sb.append((n&amp;1) == 1 ? &quot;1&quot; : &quot;0&quot;);\r\n            n &gt;&gt;= 1;\r\n        }\r\n        return sb.reverse().toString();\r\n    }\r\n\r\nWe cannot use `n%2` to check the first bit, because it&#39;s not right for negtive integer. We should use `n&amp;1`.","title":"Converting an int to a binary string representation in Java?","body":"<pre><code>public static String intToBinaryString(int n) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; 32 &amp;&amp; n != 0; i++) {\n        sb.append((n&amp;1) == 1 ? &quot;1&quot; : &quot;0&quot;);\n        n &gt;&gt;= 1;\n    }\n    return sb.reverse().toString();\n}\n</code></pre>\n<p>We cannot use <code>n%2</code> to check the first bit, because it's not right for negtive integer. We should use <code>n&amp;1</code>.</p>\n"},{"tags":[],"owner":{"account_id":14238592,"reputation":1332,"user_id":13018789,"display_name":"Kalhara Tennakoon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634911002,"creation_date":1634911002,"answer_id":69678139,"question_id":2406432,"body_markdown":"if the int value is 15, you can convert it to a binary as follows.\r\n\r\n```\r\nint x = 15;\r\n\r\nInteger.toBinaryString(x);\r\n```\r\n\r\nif you have the binary value, you can convert it into int value as follows.\r\n\r\n```\r\nString binaryValue = &quot;1010&quot;;\r\n\r\nInteger.parseInt(binaryValue, 2);\r\n```","title":"Converting an int to a binary string representation in Java?","body":"<p>if the int value is 15, you can convert it to a binary as follows.</p>\n<pre><code>int x = 15;\n\nInteger.toBinaryString(x);\n</code></pre>\n<p>if you have the binary value, you can convert it into int value as follows.</p>\n<pre><code>String binaryValue = &quot;1010&quot;;\n\nInteger.parseInt(binaryValue, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4224834,"reputation":51,"user_id":3458591,"display_name":"thanhtrdang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639411469,"creation_date":1639411469,"answer_id":70337545,"question_id":2406432,"body_markdown":"My 2cents:\r\n```\r\npublic class Integer2Binary {\r\n    public static void main(String[] args) {\r\n        final int integer12 = 12;\r\n        System.out.println(integer12 + &quot; -&gt; &quot; + integer2Binary(integer12));\r\n        // 12 -&gt; 00000000000000000000000000001100\r\n    }\r\n\r\n    private static String integer2Binary(int n) {\r\n        return new StringBuilder(Integer.toBinaryString(n))\r\n            .insert(0, &quot;0&quot;.repeat(Integer.numberOfLeadingZeros(n)))\r\n            .toString();\r\n    }\r\n}\r\n```","title":"Converting an int to a binary string representation in Java?","body":"<p>My 2cents:</p>\n<pre><code>public class Integer2Binary {\n    public static void main(String[] args) {\n        final int integer12 = 12;\n        System.out.println(integer12 + &quot; -&gt; &quot; + integer2Binary(integer12));\n        // 12 -&gt; 00000000000000000000000000001100\n    }\n\n    private static String integer2Binary(int n) {\n        return new StringBuilder(Integer.toBinaryString(n))\n            .insert(0, &quot;0&quot;.repeat(Integer.numberOfLeadingZeros(n)))\n            .toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":72830,"reputation":14738,"user_id":210070,"accept_rate":100,"display_name":"Tyler Treat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382665,"favorite_count":0,"down_vote_count":1,"up_vote_count":208,"accepted_answer_id":2406441,"answer_count":19,"score":207,"last_activity_date":1639411469,"creation_date":1268105000,"question_id":2406432,"body_markdown":"What would be the best way (ideally, simplest) to convert an int to a binary string representation in Java?\r\n\r\nFor example, say the int is 156. The binary string representation of this would be &quot;10011100&quot;.","title":"Converting an int to a binary string representation in Java?","body":"<p>What would be the best way (ideally, simplest) to convert an int to a binary string representation in Java?</p>\n\n<p>For example, say the int is 156. The binary string representation of this would be \"10011100\".</p>\n"},{"tags":["java","mockito","grpc"],"comments":[{"owner":{"account_id":10461152,"reputation":426,"user_id":7711863,"display_name":"Noah"},"score":0,"creation_date":1639409346,"post_id":70336693,"comment_id":124334945,"body_markdown":"Have you tried making the test class `public` as the error message suggests, and as the example you linked to does?","body":"Have you tried making the test class <code>public</code> as the error message suggests, and as the example you linked to does?"},{"owner":{"account_id":20006244,"reputation":41,"user_id":14664250,"display_name":"iChartreuse"},"score":0,"creation_date":1639411091,"post_id":70336693,"comment_id":124335698,"body_markdown":"Oh yes, it is public - That was the first thing I fixed, but it still results in the exact same error despite being public.\nUpdating code in question.","body":"Oh yes, it is public - That was the first thing I fixed, but it still results in the exact same error despite being public. Updating code in question."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1639412343,"post_id":70336693,"comment_id":124336215,"body_markdown":"`com.ServiceManagerTest$1` (the $1 means this is the anonymous extension of `ServiceManagerServiceImplBase`) isn&#39;t a test class, so it makes sense junit couldn&#39;t run it. But why is junit trying to run it? What are you using to run junit (Maven, Gradle, an IDE, etc)? I expect you have a wildcard in your configuration that is globbing all classes to run with junit instead of just `*Test` classes.","body":"<code>com.ServiceManagerTest$1</code> (the $1 means this is the anonymous extension of <code>ServiceManagerServiceImplBase</code>) isn&#39;t a test class, so it makes sense junit couldn&#39;t run it. But why is junit trying to run it? What are you using to run junit (Maven, Gradle, an IDE, etc)? I expect you have a wildcard in your configuration that is globbing all classes to run with junit instead of just <code>*Test</code> classes."},{"owner":{"account_id":20006244,"reputation":41,"user_id":14664250,"display_name":"iChartreuse"},"score":0,"creation_date":1639413836,"post_id":70336693,"comment_id":124336834,"body_markdown":"Yes, I am using ant with a junit task in which I have the structure using &quot;com/**/*.class&quot; to identify my classfiles. I also double checked that my grpc ImplBase class files are also included in the same directories. I have several non-grpc unit tests working fine.","body":"Yes, I am using ant with a junit task in which I have the structure using &quot;com/**/*.class&quot; to identify my classfiles. I also double checked that my grpc ImplBase class files are also included in the same directories. I have several non-grpc unit tests working fine."}],"owner":{"account_id":20006244,"reputation":41,"user_id":14664250,"display_name":"iChartreuse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639411003,"creation_date":1639407672,"question_id":70336693,"body_markdown":"I want to mock my grpc server so I can test my client but I am having an issue using junit (4.13.2) with mockito (4.1.0) to unit test my grpc client - I&#39;ve been attempting to follow along using [grpc-java/HelloWorldClientTest.java](https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldClientTest.java), but have been getting the following error:\r\n\r\n```\r\n[junit] Running com.ServiceManagerTest$1\r\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.072 sec\r\n     [java] Timeout: killed the sub-process\r\n     [java] Java Result: -1\r\n\r\nBUILD FAILED\r\n/home/user/repos/test/build.xml:256: Test com.ServiceManagerTest$1 failed\r\n```\r\n\r\nThe raw unit test result shows this error:\r\n```\r\n&lt;testcase classname=&quot;com.ServiceManagerTest$1&quot; name=&quot;initializationError&quot; time=&quot;0.006&quot;&gt;\r\n    &lt;error message=&quot;Invalid test class &amp;apos;com.ServiceManagerTest$1&amp;apos;:&amp;#xa;  1. The class com.ServiceManagerTest$1 is not public.&amp;#xa;  2. Test class should have exactly one public constructor&amp;#xa;  3. No runnable methods&quot; type=&quot;org.junit.runners.model.InvalidTestClassError&quot;&gt;org.junit.runners.model.InvalidTestClassError: Invalid test class &amp;apos;com.ServiceManagerTest$1&amp;apos;:\r\n    1. The class com.ServiceManagerTest$1 is not public.\r\n    2. Test class should have exactly one public constructor\r\n    3. No runnable methods\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    &lt;/error&gt;\r\n&lt;/testcase&gt;\r\n```\r\nI learned that this issue occurs immediately once I implement the mock service and its override:\r\n\r\n```\r\nprivate final ServiceManagerServiceGrpc.ServiceManagerServiceImplBase serviceImpl =\r\n            mock(ServiceManagerServiceGrpc.ServiceManagerServiceImplBase.class, delegatesTo(\r\n                    new ServiceManagerServiceGrpc.ServiceManagerServiceImplBase() {\r\n\r\n                        @Override\r\n                        public void update(UpdateRequest request,\r\n                                                          StreamObserver&lt;UpdateResponse&gt; responseObserver) {\r\n                            responseObserver.onNext(UpdateResponse.getDefaultInstance());\r\n                            responseObserver.onCompleted();\r\n                        }\r\n                    }\r\n            ));\r\n```\r\n\r\n\r\nFull Unit Test Here:\r\n```\r\npackage com.ServiceManager;\r\n\r\nimport io.grpc.ManagedChannel;\r\nimport io.grpc.inprocess.InProcessChannelBuilder;\r\nimport io.grpc.inprocess.InProcessServerBuilder;\r\nimport io.grpc.stub.StreamObserver;\r\nimport io.grpc.testing.GrpcCleanupRule;\r\n\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.verify;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.JUnit4;\r\nimport org.mockito.ArgumentCaptor;\r\nimport org.mockito.ArgumentMatchers;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertTrue;\r\nimport static org.mockito.AdditionalAnswers.delegatesTo;\r\n\r\n\r\n@RunWith(JUnit4.class)\r\npublic class ServiceManagerTest {\r\n\r\n    /**\r\n     * This rule manages automatic graceful shutdown for the registered servers\r\n     * and channels at the end of the test\r\n     */\r\n    @Rule\r\n    public final GrpcCleanupRule grpcCleanup = new GrpcCleanupRule();\r\n\r\n\r\n    private final ServiceManagerServiceGrpc.ServiceManagerServiceImplBase serviceImpl =\r\n            mock(ServiceManagerServiceGrpc.ServiceManagerServiceImplBase.class, delegatesTo(\r\n                    new ServiceManagerServiceGrpc.ServiceManagerServiceImplBase() {\r\n\r\n                        @Override\r\n                        public void update(UpdateRequest request,\r\n                                                          StreamObserver&lt;UpdateResponse&gt; responseObserver) {\r\n                            responseObserver.onNext(UpdateResponse.getDefaultInstance());\r\n                            responseObserver.onCompleted();\r\n                        }\r\n                    }\r\n            ));\r\n\r\n    private ServiceManager client = null;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n\r\n        // Generate a unique in-process server name\r\n        String serverName = InProcessServerBuilder.generateName();\r\n\r\n        // Create a temporary server, add the service, and register with grpc cleanup for automatic shutdown\r\n        grpcCleanup.register(InProcessServerBuilder\r\n                .forName(serverName).directExecutor().addService(serviceImpl).build().start());\r\n\r\n        // Create a client channel and register for automatic shutdown\r\n        ManagedChannel channel =\r\n                grpcCleanup.register(InProcessChannelBuilder\r\n                        .forName(serverName).directExecutor().build());\r\n\r\n        // Create a ServiceManager client using the in-process channel\r\n        client = new ServiceManager(channel);\r\n    }\r\n\r\n    @Test\r\n    public void testUpdateRequest() {\r\n        ArgumentCaptor&lt;UpdateRequest&gt; requestCaptor =\r\n                ArgumentCaptor.forClass(UpdateRequest.class);\r\n\r\n        client.update(&quot;3&quot;);\r\n        verify(serviceImpl)\r\n                .update(requestCaptor.capture(), ArgumentMatchers.&lt;StreamObserver&lt;UpdateResponse&gt;&gt;any());\r\n        assertEquals(&quot;3&quot;, requestCaptor.getValue().getUpdateId());\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI was able to narrow it down to once I implemented that mock service the issue occurs.\r\n\r\nI&#39;ve also tried moving the declaration of the mock service implementation within the unit test itself to see if was just misbehaving when scoped at the class level - However, that resulted in the same issue.\r\n\r\nSo why does including this implementation of the grpc service cause confusion with classes?\r\n\r\n","title":"Unit Test Class it not Public when using mockito to mock grpc server","body":"<p>I want to mock my grpc server so I can test my client but I am having an issue using junit (4.13.2) with mockito (4.1.0) to unit test my grpc client - I've been attempting to follow along using <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/test/java/io/grpc/examples/helloworld/HelloWorldClientTest.java\" rel=\"nofollow noreferrer\">grpc-java/HelloWorldClientTest.java</a>, but have been getting the following error:</p>\n<pre><code>[junit] Running com.ServiceManagerTest$1\n    [junit] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.072 sec\n     [java] Timeout: killed the sub-process\n     [java] Java Result: -1\n\nBUILD FAILED\n/home/user/repos/test/build.xml:256: Test com.ServiceManagerTest$1 failed\n</code></pre>\n<p>The raw unit test result shows this error:</p>\n<pre><code>&lt;testcase classname=&quot;com.ServiceManagerTest$1&quot; name=&quot;initializationError&quot; time=&quot;0.006&quot;&gt;\n    &lt;error message=&quot;Invalid test class &amp;apos;com.ServiceManagerTest$1&amp;apos;:&amp;#xa;  1. The class com.ServiceManagerTest$1 is not public.&amp;#xa;  2. Test class should have exactly one public constructor&amp;#xa;  3. No runnable methods&quot; type=&quot;org.junit.runners.model.InvalidTestClassError&quot;&gt;org.junit.runners.model.InvalidTestClassError: Invalid test class &amp;apos;com.ServiceManagerTest$1&amp;apos;:\n    1. The class com.ServiceManagerTest$1 is not public.\n    2. Test class should have exactly one public constructor\n    3. No runnable methods\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    &lt;/error&gt;\n&lt;/testcase&gt;\n</code></pre>\n<p>I learned that this issue occurs immediately once I implement the mock service and its override:</p>\n<pre><code>private final ServiceManagerServiceGrpc.ServiceManagerServiceImplBase serviceImpl =\n            mock(ServiceManagerServiceGrpc.ServiceManagerServiceImplBase.class, delegatesTo(\n                    new ServiceManagerServiceGrpc.ServiceManagerServiceImplBase() {\n\n                        @Override\n                        public void update(UpdateRequest request,\n                                                          StreamObserver&lt;UpdateResponse&gt; responseObserver) {\n                            responseObserver.onNext(UpdateResponse.getDefaultInstance());\n                            responseObserver.onCompleted();\n                        }\n                    }\n            ));\n</code></pre>\n<p>Full Unit Test Here:</p>\n<pre><code>package com.ServiceManager;\n\nimport io.grpc.ManagedChannel;\nimport io.grpc.inprocess.InProcessChannelBuilder;\nimport io.grpc.inprocess.InProcessServerBuilder;\nimport io.grpc.stub.StreamObserver;\nimport io.grpc.testing.GrpcCleanupRule;\n\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.JUnit4;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.ArgumentMatchers;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertTrue;\nimport static org.mockito.AdditionalAnswers.delegatesTo;\n\n\n@RunWith(JUnit4.class)\npublic class ServiceManagerTest {\n\n    /**\n     * This rule manages automatic graceful shutdown for the registered servers\n     * and channels at the end of the test\n     */\n    @Rule\n    public final GrpcCleanupRule grpcCleanup = new GrpcCleanupRule();\n\n\n    private final ServiceManagerServiceGrpc.ServiceManagerServiceImplBase serviceImpl =\n            mock(ServiceManagerServiceGrpc.ServiceManagerServiceImplBase.class, delegatesTo(\n                    new ServiceManagerServiceGrpc.ServiceManagerServiceImplBase() {\n\n                        @Override\n                        public void update(UpdateRequest request,\n                                                          StreamObserver&lt;UpdateResponse&gt; responseObserver) {\n                            responseObserver.onNext(UpdateResponse.getDefaultInstance());\n                            responseObserver.onCompleted();\n                        }\n                    }\n            ));\n\n    private ServiceManager client = null;\n\n    @Before\n    public void setUp() throws Exception {\n\n        // Generate a unique in-process server name\n        String serverName = InProcessServerBuilder.generateName();\n\n        // Create a temporary server, add the service, and register with grpc cleanup for automatic shutdown\n        grpcCleanup.register(InProcessServerBuilder\n                .forName(serverName).directExecutor().addService(serviceImpl).build().start());\n\n        // Create a client channel and register for automatic shutdown\n        ManagedChannel channel =\n                grpcCleanup.register(InProcessChannelBuilder\n                        .forName(serverName).directExecutor().build());\n\n        // Create a ServiceManager client using the in-process channel\n        client = new ServiceManager(channel);\n    }\n\n    @Test\n    public void testUpdateRequest() {\n        ArgumentCaptor&lt;UpdateRequest&gt; requestCaptor =\n                ArgumentCaptor.forClass(UpdateRequest.class);\n\n        client.update(&quot;3&quot;);\n        verify(serviceImpl)\n                .update(requestCaptor.capture(), ArgumentMatchers.&lt;StreamObserver&lt;UpdateResponse&gt;&gt;any());\n        assertEquals(&quot;3&quot;, requestCaptor.getValue().getUpdateId());\n    }\n}\n\n\n</code></pre>\n<p>I was able to narrow it down to once I implemented that mock service the issue occurs.</p>\n<p>I've also tried moving the declaration of the mock service implementation within the unit test itself to see if was just misbehaving when scoped at the class level - However, that resulted in the same issue.</p>\n<p>So why does including this implementation of the grpc service cause confusion with classes?</p>\n"},{"tags":["java","json","android-studio","android-assets"],"owner":{"account_id":20585330,"reputation":29,"user_id":16760939,"display_name":"ayaz khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639410548,"creation_date":1639336487,"question_id":70326858,"body_markdown":"File Name:  week.json\r\n&gt;I have a problem with Nested Json Objects.I don&#39;t know how to implement this with coding as i am new with json objects.  I don&#39;t know how to fetch this nested JSon Objects from a json file. \r\n\r\n        {\r\n    \t&quot;Saturday&quot;: {\r\n    \t\t&quot;1&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t},\r\n    \t\t&quot;2&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t}\r\n    \t},\r\n    \t&quot;Sunday&quot;: {\r\n    \t\t&quot;1&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t},\r\n    \t\t&quot;2&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t}\r\n    \t},\r\n    \r\n    \t&quot;Monday&quot;: {\r\n    \t\t&quot;1&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t},\r\n    \t\t&quot;2&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t}\r\n    \t},\r\n    \r\n           &quot;Tuesday&quot;: {\r\n    \t\t&quot;1&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t},\r\n    \t\t&quot;2&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t},\r\n    \r\n                   &quot;3&quot;: {\r\n    \t\t\t&quot;english&quot;: &quot;Lorem Epsum&quot;,\r\n    \t\t\t&quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\r\n    \t\t\t&quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n&gt;How to fetch this nested Json object in Recycler view? did not work with nested json objects. anyone please help???","title":"How to Parse Nested JSON Object in Android studio from Json assets file?","body":"<p>File Name:  week.json</p>\n<blockquote>\n<p>I have a problem with Nested Json Objects.I don't know how to implement this with coding as i am new with json objects.  I don't know how to fetch this nested JSon Objects from a json file.</p>\n</blockquote>\n<pre><code>    {\n    &quot;Saturday&quot;: {\n        &quot;1&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        },\n        &quot;2&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        }\n    },\n    &quot;Sunday&quot;: {\n        &quot;1&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        },\n        &quot;2&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        }\n    },\n\n    &quot;Monday&quot;: {\n        &quot;1&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        },\n        &quot;2&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        }\n    },\n\n       &quot;Tuesday&quot;: {\n        &quot;1&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        },\n        &quot;2&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        },\n\n               &quot;3&quot;: {\n            &quot;english&quot;: &quot;Lorem Epsum&quot;,\n            &quot;Hindi&quot;: &quot;Lorem Ipsum in hindi&quot;,\n            &quot;Urdu&quot;: &quot;Lorem ipsum in urdu&quot;\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>How to fetch this nested Json object in Recycler view? did not work with nested json objects. anyone please help???</p>\n</blockquote>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639310040,"creation_date":1639309574,"answer_id":70323235,"question_id":70273363,"body_markdown":"There could be a lot of things under the hood of those graphics, but I would recommend to use `Java Flight Recorder` as a first step.\r\nIt allows to see memory allocation per each thread (and who exactly allocated) the memory:\r\n * https://www.baeldung.com/java-flight-recorder-monitoring\r\n * https://docs.oracle.com/javase/10/troubleshoot/troubleshoot-performance-issues-using-jfr.htm\r\n\r\nRegarding huge number of classes its better to inspect your heap using [Eclipse Memory Analyzer](https://www.eclipse.org/mat/) with [Calcite plugin](https://github.com/vlsi/mat-calcite-plugin) that allows to write SQL-related quires to objects from heap dump like\r\n```sql\r\nselect toString(file) file_str, count(*) cnt, sum(retainedSize(this)) sum_retained, sum(shallowSize(this)) sum_shallow\r\n  from java.net.URL\r\n group by toString(file)\r\nhaving count(*)&gt;1\r\n order by sum(retainedSize(this)) desc\r\n```\r\nSo, \r\n1. you can easily write queries for count/group by cases.\r\n2. it would be good to check your transitive dependencies because quite often a lot of unused libraries with their dependencies are exists in project and could be loaded during startup (especially in Spring ecosystem). \r\nFor mvn based projects you may use command `mvn dependency:tree` for this\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html or \r\n https://stackoverflow.com/questions/3342908/how-to-get-a-dependency-tree-for-an-artifact\r\n3. Please check your code or frameworks that you are using, because maybe they are generating too much classes during work (proxy, etc.), maybe huge number of classes is expected due to architecture of project where you are working...","title":"Junit tests run : memory metaspace usage and classes loaded very hight","body":"<p>There could be a lot of things under the hood of those graphics, but I would recommend to use <code>Java Flight Recorder</code> as a first step.\nIt allows to see memory allocation per each thread (and who exactly allocated) the memory:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-flight-recorder-monitoring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-flight-recorder-monitoring</a></li>\n<li><a href=\"https://docs.oracle.com/javase/10/troubleshoot/troubleshoot-performance-issues-using-jfr.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/troubleshoot/troubleshoot-performance-issues-using-jfr.htm</a></li>\n</ul>\n<p>Regarding huge number of classes its better to inspect your heap using <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a> with <a href=\"https://github.com/vlsi/mat-calcite-plugin\" rel=\"nofollow noreferrer\">Calcite plugin</a> that allows to write SQL-related quires to objects from heap dump like</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select toString(file) file_str, count(*) cnt, sum(retainedSize(this)) sum_retained, sum(shallowSize(this)) sum_shallow\n  from java.net.URL\n group by toString(file)\nhaving count(*)&gt;1\n order by sum(retainedSize(this)) desc\n</code></pre>\n<p>So,</p>\n<ol>\n<li>you can easily write queries for count/group by cases.</li>\n<li>it would be good to check your transitive dependencies because quite often a lot of unused libraries with their dependencies are exists in project and could be loaded during startup (especially in Spring ecosystem).\nFor mvn based projects you may use command <code>mvn dependency:tree</code> for this\n<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html</a> or\n<a href=\"https://stackoverflow.com/questions/3342908/how-to-get-a-dependency-tree-for-an-artifact\">How to get a dependency tree for an artifact?</a></li>\n<li>Please check your code or frameworks that you are using, because maybe they are generating too much classes during work (proxy, etc.), maybe huge number of classes is expected due to architecture of project where you are working...</li>\n</ol>\n"}],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1639410475,"creation_date":1638958910,"question_id":70273363,"body_markdown":"When we run junit test, actualy with maven, it use lot of RAM. We have more than 8000 unit tests and it take 30 minutes to finish.\r\nOur stack is based on spring and hibernate, unit test are more integration tests because it&#39;s used un database (Mariadb) to run.\r\nWe use also Mockito and Powermokito.\r\n\r\nI monitor with JVisualVM :\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nSo I&#39;m very surpising by metaspace usage and classes loaded.\r\nI need to optimize that, any advice will be welcome.\r\n\r\n\r\nUPDATE :\r\nWe split unit test in 2 tests suites, one with powermock and one without powermock, and we fork surfire lauch. \r\nSo we get that kind of curve only for powermock jvm (uge increase of metaspace memory). \r\nSo I found an advice to use @PowerMockIgnore, but we already use it.\r\nAnyway spliting in 2 tests suites reduce memory usage. \r\n\r\n  [1]: https://i.stack.imgur.com/MmDW4.png\r\n  [2]: https://i.stack.imgur.com/ELzK5.png\r\n  [3]: https://i.stack.imgur.com/q0zYP.png","title":"Junit tests run : memory metaspace usage and classes loaded very hight","body":"<p>When we run junit test, actualy with maven, it use lot of RAM. We have more than 8000 unit tests and it take 30 minutes to finish.\nOur stack is based on spring and hibernate, unit test are more integration tests because it's used un database (Mariadb) to run.\nWe use also Mockito and Powermokito.</p>\n<p>I monitor with JVisualVM :\n<a href=\"https://i.stack.imgur.com/MmDW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmDW4.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ELzK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELzK5.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/q0zYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0zYP.png\" alt=\"enter image description here\" /></a></p>\n<p>So I'm very surpising by metaspace usage and classes loaded.\nI need to optimize that, any advice will be welcome.</p>\n<p>UPDATE :\nWe split unit test in 2 tests suites, one with powermock and one without powermock, and we fork surfire lauch.\nSo we get that kind of curve only for powermock jvm (uge increase of metaspace memory).\nSo I found an advice to use @PowerMockIgnore, but we already use it.\nAnyway spliting in 2 tests suites reduce memory usage.</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1360547203,"creation_date":1360547203,"answer_id":14804828,"question_id":14804808,"body_markdown":"One way: Seed each Random instance with a UUID (GUID) converted (hashed? but probably not just a cast) to a long.\r\n\r\n- [Generate UUID in Java][1]\r\n\r\nOther answers suggest using [nanoTime][2], which may be suitable depending on the speed of the hardware, but I prefer the UUID route.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/325443/generate-uuid-in-java\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#nanoTime%28%29","title":"Seed a random generator without time in java cross-plateform-ably","body":"<p>One way: Seed each Random instance with a UUID (GUID) converted (hashed? but probably not just a cast) to a long.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/325443/generate-uuid-in-java\">Generate UUID in Java</a></li>\n</ul>\n\n<p>Other answers suggest using <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#nanoTime%28%29\" rel=\"nofollow noreferrer\">nanoTime</a>, which may be suitable depending on the speed of the hardware, but I prefer the UUID route.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360603059,"creation_date":1360547210,"answer_id":14804829,"question_id":14804808,"body_markdown":"You can use `System.nanoTime()`, instead of `System.currentTimeMillis()`.\r\n\r\nJust delay the creation of the second thread by 30ms, that will cause nanoTime() to be randomly differnet from nanoTime() of thread1 \r\n\r\nSo there is one practical view of your question, for this view nanoTime() i consider sufficient.&lt;br&gt;\r\n\r\nThe other view, is a more theoretical for military safe enryption. There you want to use special hardware that use physical randomness (random registers). But that is not your intention.\r\n\r\n","title":"Seed a random generator without time in java cross-plateform-ably","body":"<p>You can use <code>System.nanoTime()</code>, instead of <code>System.currentTimeMillis()</code>.</p>\n\n<p>Just delay the creation of the second thread by 30ms, that will cause nanoTime() to be randomly differnet from nanoTime() of thread1 </p>\n\n<p>So there is one practical view of your question, for this view nanoTime() i consider sufficient.<br></p>\n\n<p>The other view, is a more theoretical for military safe enryption. There you want to use special hardware that use physical randomness (random registers). But that is not your intention.</p>\n"},{"tags":[],"owner":{"account_id":2029842,"reputation":18250,"user_id":1813858,"display_name":"iTech"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1360548681,"creation_date":1360547314,"answer_id":14804845,"question_id":14804808,"body_markdown":"You can use `System.nanoTime()` which will reduce the likelihood that both threads with have the same seed.\r\n\r\nOr create a thread-safe utility class to get for you the random number object while ensuring that it uses a different seed for each new instance.\r\n\r\nAlso, you can assign for each thread a *numeric id* as the thread name and append it to the seed","title":"Seed a random generator without time in java cross-plateform-ably","body":"<p>You can use <code>System.nanoTime()</code> which will reduce the likelihood that both threads with have the same seed.</p>\n\n<p>Or create a thread-safe utility class to get for you the random number object while ensuring that it uses a different seed for each new instance.</p>\n\n<p>Also, you can assign for each thread a <em>numeric id</em> as the thread name and append it to the seed</p>\n"},{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639410391,"creation_date":1361137522,"answer_id":14926435,"question_id":14804808,"body_markdown":"You can use [`SecureRandom`][1] to generate seeds for your two random number generators. It uses a service provider infrastructure which can use platform-specific entropy sources, so on systems where it is available, you&#39;ll likely get entropy from `/dev/random` without having to worry about it in your code. The [UUID][2] mentioned in [another answer][3] is generated from such a source, at least [in OpenJDK 7.6][4].\r\n\r\nThat said, notice that since Java 7, the preferred way to use PRNGs in multiple threads is [`ThreadLocalRandom`][5]. I&#39;m not sure but it seems to me that the main goal here is avoiding synchronization overhead, not seeding issues. At least in OpenJDK 7.6, the [constructor][6] uses the [default `Random` constructor][7], which in turn uses the high-resolution system time (given in nanoseconds, but not neccessarily with that actual resolution), combined with the current value of a static variable. The latter ensures different seeds even for instances created during the same tick of the system clock, so your original problem should be gone even when simply constructing `Random` instances using the default constructor.\r\n\r\nThis uniquification was [introduced][8] in 2010, in response to [bug report #6937857][9]. The report was reported against Java 7 and was also fixed in Java 7, but according to the mercurial repository, this change should have been first included in the [`jdk7-b94` release][10].\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\r\n  [2]: https://stackoverflow.com/a/14804828/1468366\r\n  [3]: https://stackoverflow.com/a/14804828/1468366\r\n  [4]: http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/UUID.java\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html\r\n  [6]: http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/concurrent/ThreadLocalRandom.java\r\n  [7]: http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/Random.java\r\n  [8]: http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/rev/df4d3e3e465a\r\n  [9]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6937857\r\n  [10]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/log/cf44386c8fe3","title":"Seed a random generator without time in java cross-plateform-ably","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a> to generate seeds for your two random number generators. It uses a service provider infrastructure which can use platform-specific entropy sources, so on systems where it is available, you'll likely get entropy from <code>/dev/random</code> without having to worry about it in your code. The <a href=\"https://stackoverflow.com/a/14804828/1468366\">UUID</a> mentioned in <a href=\"https://stackoverflow.com/a/14804828/1468366\">another answer</a> is generated from such a source, at least <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/UUID.java\" rel=\"nofollow noreferrer\">in OpenJDK 7.6</a>.</p>\n<p>That said, notice that since Java 7, the preferred way to use PRNGs in multiple threads is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a>. I'm not sure but it seems to me that the main goal here is avoiding synchronization overhead, not seeding issues. At least in OpenJDK 7.6, the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/concurrent/ThreadLocalRandom.java\" rel=\"nofollow noreferrer\">constructor</a> uses the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/util/Random.java\" rel=\"nofollow noreferrer\">default <code>Random</code> constructor</a>, which in turn uses the high-resolution system time (given in nanoseconds, but not neccessarily with that actual resolution), combined with the current value of a static variable. The latter ensures different seeds even for instances created during the same tick of the system clock, so your original problem should be gone even when simply constructing <code>Random</code> instances using the default constructor.</p>\n<p>This uniquification was <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/rev/df4d3e3e465a\" rel=\"nofollow noreferrer\">introduced</a> in 2010, in response to <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6937857\" rel=\"nofollow noreferrer\">bug report #6937857</a>. The report was reported against Java 7 and was also fixed in Java 7, but according to the mercurial repository, this change should have been first included in the <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/log/cf44386c8fe3\" rel=\"nofollow noreferrer\"><code>jdk7-b94</code> release</a>.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383479641,"creation_date":1383479641,"answer_id":19752640,"question_id":14804808,"body_markdown":"### Don&#39;t do anything. It works!\n\nThis is the code of java.util.Random:\n\n    public Random() {\n        this(seedUniquifier() ^ System.nanoTime());\n    }\n\nAs the name says, the `seedUniquifier` makes the seed unique. It works both in a single thread and multithreaded:\n\n    private static long seedUniquifier() {\n        // L&#39;Ecuyer, &quot;Tables of Linear Congruential Generators of\n        // Different Sizes and Good Lattice Structure&quot;, 1999\n        for (;;) {\n            long current = seedUniquifier.get();\n            long next = current * 181783497276652981L;\n            if (seedUniquifier.compareAndSet(current, next))\n                return next;\n        }\n    }\n","title":"Seed a random generator without time in java cross-plateform-ably","body":"<h3>Don't do anything. It works!</h3>\n<p>This is the code of java.util.Random:</p>\n<pre><code>public Random() {\n    this(seedUniquifier() ^ System.nanoTime());\n}\n</code></pre>\n<p>As the name says, the <code>seedUniquifier</code> makes the seed unique. It works both in a single thread and multithreaded:</p>\n<pre><code>private static long seedUniquifier() {\n    // L'Ecuyer, &quot;Tables of Linear Congruential Generators of\n    // Different Sizes and Good Lattice Structure&quot;, 1999\n    for (;;) {\n        long current = seedUniquifier.get();\n        long next = current * 181783497276652981L;\n        if (seedUniquifier.compareAndSet(current, next))\n            return next;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1017211,"reputation":1542,"user_id":1028504,"accept_rate":100,"display_name":"YankeeWhiskey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1815,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14804828,"answer_count":5,"score":7,"last_activity_date":1639410391,"creation_date":1360547056,"question_id":14804808,"body_markdown":"I&#39;m initializing two random number generators on two threads almost simultaneously and I want the two generators behaves completely different. I will call `Random.nextInt(7)` on two generators one right after another very often. Using `System.currentTimeMillis()` is not a good idea because it looks like my computer is so fast that there&#39;s a large chance that the number I get from the two generators are the same. So is there any way to config the `Random` so that though they are called one right after another, they still behave differently? I want the solution to be cross-platform compatible so any platform-specific idea such as read from `/dev/random` is not acceptable. Thanks for help.","title":"Seed a random generator without time in java cross-plateform-ably","body":"<p>I'm initializing two random number generators on two threads almost simultaneously and I want the two generators behaves completely different. I will call <code>Random.nextInt(7)</code> on two generators one right after another very often. Using <code>System.currentTimeMillis()</code> is not a good idea because it looks like my computer is so fast that there's a large chance that the number I get from the two generators are the same. So is there any way to config the <code>Random</code> so that though they are called one right after another, they still behave differently? I want the solution to be cross-platform compatible so any platform-specific idea such as read from <code>/dev/random</code> is not acceptable. Thanks for help.</p>\n"},{"tags":["java","soap","memory-leaks","websphere","apache-axis"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1638004706,"post_id":69812071,"comment_id":123975868,"body_markdown":"You could try creating a single `SOAPConnectionFactory` instance instead of creating a new one every time.","body":"You could try creating a single <code>SOAPConnectionFactory</code> instance instead of creating a new one every time."},{"owner":{"account_id":14660465,"reputation":99,"user_id":10587819,"display_name":"hamwac5"},"score":0,"creation_date":1638265790,"post_id":69812071,"comment_id":124036534,"body_markdown":"should i define it as a static variable ? i think creating single instance may introduce multithreading problems ?","body":"should i define it as a static variable ? i think creating single instance may introduce multithreading problems ?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1638304497,"post_id":69812071,"comment_id":124052165,"body_markdown":"Yes, you should define it as a static variable. And it should be thread-safe (as explained [here](https://stackoverflow.com/a/36229337/12763954)).","body":"Yes, you should define it as a static variable. And it should be thread-safe (as explained <a href=\"https://stackoverflow.com/a/36229337/12763954\">here</a>)."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638033108,"creation_date":1637836936,"answer_id":70109686,"question_id":69812071,"body_markdown":"Regarding your first question: Why does Apache Axis2 get used when you use the default JDK class SOAPConnection?\r\nThe class SOAPConnection is actually just a part of an API that could have different implementations. In your case WebSphere provides an implementation of this API based on Apache Axis2, that&#39;s why you are seeing objects of those classes lingering.\r\nThe [SOAPConnection Javadocs](https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPConnection.html) state:\r\n\r\n&gt; The SOAPConnection class is optional. Some implementations may not implement this interface in which case the call to SOAPConnectionFactory.newInstance() (see below) will throw an UnsupportedOperationException. \r\n\r\nAbout the second part of your question, I have a hypothesis. In the Javadocs I could not find if a call to *SOAPConnection.close()* is mandatory, but usually resource classes with a *close()* method do require cleaning up or else they create memory or other resource leaks.\r\nYour code does call *close()*, however if an exception occurs somewhere before closing the connection, the execution would jump straight to *catch (...)* and the connection will not be cleaned up, thus creating a memory leak. Maybe this happens every time a SOAP call throws an exception and this leaked the memory you are observing.\r\n\r\nYou could solve this by using a try-resource-close pattern described here: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\nTry the following change in your code.\r\n\r\n**Edit**:\r\n\r\n    public String soapBind(List&lt;ContextItem&gt; dic, String serviceId, String urlWs, String applicationId) throws SOAPException, Exception {\r\n        try {\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n            try (MySOAPConnection mySoapConnection = new MySOAPConnection(soapConnectionFactory)) {\r\n                SOAPConnection soapConnection = mySoapConnection.connection;\r\n                SOAPMessage msg = soapCall(dic, serviceId, applicationId); // Send SOAP Message to SOAP Server\r\n    \r\n                String url = urlWs;\r\n                LOGGER.info(&quot;CALLING WS ....&quot;);\r\n                SOAPMessage soapResponse = soapConnection.call(msg, url);\r\n    \r\n                // print SOAP Response\r\n               \r\n                //soapResponse.writeTo(System.out);\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                soapResponse.writeTo(out);\r\n                \r\n                String strMsg = new String(out.toByteArray());\r\n                LOGGER.info(&quot;Response SOAP Message: {}&quot;,strMsg);\r\n                return strMsg;\r\n            }\r\n        } catch (SOAPException ex) {\r\n            throw ex;\r\n        } catch (UnsupportedOperationException ex) {\r\n            throw ex;\r\n        } catch (Exception ex) {\r\n            throw ex;\r\n        }\r\n    }\r\n    \r\n    public class MySOAPConnection implements AutoCloseable {\r\n\r\n        public final SOAPConnection connection;\r\n        \r\n        public MySOAPConnection(SOAPConnectionFactory soapConnectionFactory)\r\n        {\r\n            this.connection = soapConnectionFactory.createConnection();\r\n        }\r\n        \r\n        @Override\r\n        public void close() throws Exception {\r\n            this.connection.close();            \r\n        }\r\n    }\r\n\r\nNote that when you use try-resource-close, the *close()* method should not be called explicitly, otherwise you would get double *close()*!\r\n\r\n","title":"WebSphere 8 memory leaks","body":"<p>Regarding your first question: Why does Apache Axis2 get used when you use the default JDK class SOAPConnection?\nThe class SOAPConnection is actually just a part of an API that could have different implementations. In your case WebSphere provides an implementation of this API based on Apache Axis2, that's why you are seeing objects of those classes lingering.\nThe <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPConnection.html\" rel=\"nofollow noreferrer\">SOAPConnection Javadocs</a> state:</p>\n<blockquote>\n<p>The SOAPConnection class is optional. Some implementations may not implement this interface in which case the call to SOAPConnectionFactory.newInstance() (see below) will throw an UnsupportedOperationException.</p>\n</blockquote>\n<p>About the second part of your question, I have a hypothesis. In the Javadocs I could not find if a call to <em>SOAPConnection.close()</em> is mandatory, but usually resource classes with a <em>close()</em> method do require cleaning up or else they create memory or other resource leaks.\nYour code does call <em>close()</em>, however if an exception occurs somewhere before closing the connection, the execution would jump straight to <em>catch (...)</em> and the connection will not be cleaned up, thus creating a memory leak. Maybe this happens every time a SOAP call throws an exception and this leaked the memory you are observing.</p>\n<p>You could solve this by using a try-resource-close pattern described here: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a>\nTry the following change in your code.</p>\n<p><strong>Edit</strong>:</p>\n<pre><code>public String soapBind(List&lt;ContextItem&gt; dic, String serviceId, String urlWs, String applicationId) throws SOAPException, Exception {\n    try {\n        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n        try (MySOAPConnection mySoapConnection = new MySOAPConnection(soapConnectionFactory)) {\n            SOAPConnection soapConnection = mySoapConnection.connection;\n            SOAPMessage msg = soapCall(dic, serviceId, applicationId); // Send SOAP Message to SOAP Server\n\n            String url = urlWs;\n            LOGGER.info(&quot;CALLING WS ....&quot;);\n            SOAPMessage soapResponse = soapConnection.call(msg, url);\n\n            // print SOAP Response\n           \n            //soapResponse.writeTo(System.out);\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            soapResponse.writeTo(out);\n            \n            String strMsg = new String(out.toByteArray());\n            LOGGER.info(&quot;Response SOAP Message: {}&quot;,strMsg);\n            return strMsg;\n        }\n    } catch (SOAPException ex) {\n        throw ex;\n    } catch (UnsupportedOperationException ex) {\n        throw ex;\n    } catch (Exception ex) {\n        throw ex;\n    }\n}\n\npublic class MySOAPConnection implements AutoCloseable {\n\n    public final SOAPConnection connection;\n    \n    public MySOAPConnection(SOAPConnectionFactory soapConnectionFactory)\n    {\n        this.connection = soapConnectionFactory.createConnection();\n    }\n    \n    @Override\n    public void close() throws Exception {\n        this.connection.close();            \n    }\n}\n</code></pre>\n<p>Note that when you use try-resource-close, the <em>close()</em> method should not be called explicitly, otherwise you would get double <em>close()</em>!</p>\n"},{"tags":[],"owner":{"account_id":14660465,"reputation":99,"user_id":10587819,"display_name":"hamwac5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639410380,"creation_date":1639410380,"answer_id":70337305,"question_id":69812071,"body_markdown":"Using RestTemplate instead of SOAPConnection fixed the memory leaks : \r\n\r\n       final RestTemplate restTemplate = new RestTemplate();\r\n                final HttpHeaders headers = new HttpHeaders();\r\n                headers.add(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n                final HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message, headers);\r\n                final String result = restTemplate.postForObject(wsUrl, request, String.class);\r\n                return result;","title":"WebSphere 8 memory leaks","body":"<p>Using RestTemplate instead of SOAPConnection fixed the memory leaks :</p>\n<pre><code>   final RestTemplate restTemplate = new RestTemplate();\n            final HttpHeaders headers = new HttpHeaders();\n            headers.add(&quot;Content-Type&quot;, &quot;text/xml&quot;);\n            final HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message, headers);\n            final String result = restTemplate.postForObject(wsUrl, request, String.class);\n            return result;\n</code></pre>\n"}],"owner":{"account_id":14660465,"reputation":99,"user_id":10587819,"display_name":"hamwac5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70337305,"answer_count":2,"score":1,"last_activity_date":1639410380,"creation_date":1635863288,"question_id":69812071,"body_markdown":"I have an application deployed to WebSphere 8.5 (the app is developed using java8/Spring 4) and every day I get many dump files, so I decided to analyze it using Eclipse Memory Analyzer and the result is: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is I do not use axis for calling web service, I only use Jersy for Rest Web Services and \r\nThe default jdk class SoapConnection for soap web services, here is some code examples: \r\nFor Soap :\r\n\r\n    public String soapBind(List&lt;ContextItem&gt; dic, String serviceId, String urlWs, String applicationId) throws SOAPException, Exception {\r\n        try {\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n            SOAPMessage msg = soapCall(dic, serviceId, applicationId); // Send SOAP Message to SOAP Server\r\n    \r\n            String url = urlWs;\r\n            LOGGER.info(&quot;CALLING WS ....&quot;);\r\n            SOAPMessage soapResponse = soapConnection.call(msg, url);\r\n    \r\n            // print SOAP Response\r\n           \r\n            //soapResponse.writeTo(System.out);\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            soapResponse.writeTo(out);\r\n            soapConnection.close();\r\n    \r\n            String strMsg = new String(out.toByteArray());\r\n            LOGGER.info(&quot;Response SOAP Message: {}&quot;,strMsg);\r\n            return strMsg;\r\n    \r\n        } catch (SOAPException ex) {\r\n            throw ex;\r\n        } catch (UnsupportedOperationException ex) {\r\n            throw ex;\r\n        } catch (Exception ex) {\r\n            throw ex;\r\n        }\r\n    }\r\n\r\nFor Rest : \r\n\r\n    Client client = Client.create();\r\n     WebResource webResource = client\r\n     .resource(urlFicheClientProf);\r\n    //\r\n     ServiceContext serviceContext = this.getServiceContext();\r\n    //\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n     ClientResponse response = webResource\r\n     .queryParam(&quot;customerId&quot;, radical)\r\n     .queryParam(&quot;serviceContext&quot;,\r\n     URLEncoder.encode(mapper.writeValueAsString(serviceContext),\r\n     &quot;UTF-8&quot;))\r\n     .post(ClientResponse.class);\r\n\r\nI am wondering why the Axis.Client Out of memory has occurred and how can I fix it. If anyone could help me figure it out I would be very grateful .\r\n\r\n  [1]: https://i.stack.imgur.com/vr5st.png","title":"WebSphere 8 memory leaks","body":"<p>I have an application deployed to WebSphere 8.5 (the app is developed using java8/Spring 4) and every day I get many dump files, so I decided to analyze it using Eclipse Memory Analyzer and the result is:</p>\n<p><a href=\"https://i.stack.imgur.com/vr5st.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vr5st.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is I do not use axis for calling web service, I only use Jersy for Rest Web Services and\nThe default jdk class SoapConnection for soap web services, here is some code examples:\nFor Soap :</p>\n<pre><code>public String soapBind(List&lt;ContextItem&gt; dic, String serviceId, String urlWs, String applicationId) throws SOAPException, Exception {\n    try {\n        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n        SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n        SOAPMessage msg = soapCall(dic, serviceId, applicationId); // Send SOAP Message to SOAP Server\n\n        String url = urlWs;\n        LOGGER.info(&quot;CALLING WS ....&quot;);\n        SOAPMessage soapResponse = soapConnection.call(msg, url);\n\n        // print SOAP Response\n       \n        //soapResponse.writeTo(System.out);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        soapResponse.writeTo(out);\n        soapConnection.close();\n\n        String strMsg = new String(out.toByteArray());\n        LOGGER.info(&quot;Response SOAP Message: {}&quot;,strMsg);\n        return strMsg;\n\n    } catch (SOAPException ex) {\n        throw ex;\n    } catch (UnsupportedOperationException ex) {\n        throw ex;\n    } catch (Exception ex) {\n        throw ex;\n    }\n}\n</code></pre>\n<p>For Rest :</p>\n<pre><code>Client client = Client.create();\n WebResource webResource = client\n .resource(urlFicheClientProf);\n//\n ServiceContext serviceContext = this.getServiceContext();\n//\nObjectMapper mapper = new ObjectMapper();\n\n ClientResponse response = webResource\n .queryParam(&quot;customerId&quot;, radical)\n .queryParam(&quot;serviceContext&quot;,\n URLEncoder.encode(mapper.writeValueAsString(serviceContext),\n &quot;UTF-8&quot;))\n .post(ClientResponse.class);\n</code></pre>\n<p>I am wondering why the Axis.Client Out of memory has occurred and how can I fix it. If anyone could help me figure it out I would be very grateful .</p>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-7","elasticsearch-6.8"],"owner":{"account_id":6417708,"reputation":11,"user_id":4975363,"display_name":"JNS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639410332,"creation_date":1635432413,"question_id":69756279,"body_markdown":"We are using the Java library for Elastic Search version 6.8. We are trying to send an UpdateRequest to do partial updates to our fields. A couple of our fields are Objects (-&gt; maps: key, value)\r\n\r\nWhen sending a request for example: \r\n\r\n        var updateRequest = new UpdateRequest();\r\n        updateRequest.index(...);\r\n        updateRequest.type(...);\r\n        updateRequest.id(...);\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; mapWithEntries = Map.of(&quot;Main&quot;, List.of(&quot;test@test.com&quot;));\r\n\r\n        XContentBuilder content = jsonBuilder()\r\n                .startObject()\r\n                .field(&quot;emails&quot;, mapWithEntries)\r\n                .endObject();\r\n\r\n        updateRequest.doc(content);\r\n        updateRequest.fetchSource(true);\r\n        updateRequest.docAsUpsert(false);\r\n        return updateRequest;\r\n\r\n\r\nWe notice that our new &quot;mapWithEntries&quot; gets merged with the existing map values for the field &quot;emails&quot;. Noted that the documentation at [update by merging documents][1] does describe this behaviour. \r\n\r\nIs it possible to overwrite the existing value for &quot;emails&quot; that only the newly &quot;mapWithEntries&quot; is available?\r\n-&gt; updating via script would cause a lot of rework.\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-docs-update.html","title":"ElasticSearch 6.8 Java library: when sending an UpdateRequest overwrite a field of type Object instead of merging","body":"<p>We are using the Java library for Elastic Search version 6.8. We are trying to send an UpdateRequest to do partial updates to our fields. A couple of our fields are Objects (-&gt; maps: key, value)</p>\n<p>When sending a request for example:</p>\n<pre><code>    var updateRequest = new UpdateRequest();\n    updateRequest.index(...);\n    updateRequest.type(...);\n    updateRequest.id(...);\n\n    Map&lt;String, List&lt;String&gt;&gt; mapWithEntries = Map.of(&quot;Main&quot;, List.of(&quot;test@test.com&quot;));\n\n    XContentBuilder content = jsonBuilder()\n            .startObject()\n            .field(&quot;emails&quot;, mapWithEntries)\n            .endObject();\n\n    updateRequest.doc(content);\n    updateRequest.fetchSource(true);\n    updateRequest.docAsUpsert(false);\n    return updateRequest;\n</code></pre>\n<p>We notice that our new &quot;mapWithEntries&quot; gets merged with the existing map values for the field &quot;emails&quot;. Noted that the documentation at <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/java-docs-update.html\" rel=\"nofollow noreferrer\">update by merging documents</a> does describe this behaviour.</p>\n<p>Is it possible to overwrite the existing value for &quot;emails&quot; that only the newly &quot;mapWithEntries&quot; is available?\n-&gt; updating via script would cause a lot of rework.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580476803,"creation_date":1580476803,"answer_id":60004753,"question_id":60004601,"body_markdown":"No, DynamoDB does not support a general purpose &quot;ORDER BY columnname&quot; feature.\r\n\r\nDynamoDB tables are key/value, where key values must be unique. The key can be a single partition key or a composite of a partition key and a sort key. You can also create secondary indexes.\r\n\r\nIf you want DynamoDB to support queries sorted on a particular attribute (column) then you need to create a [Global Secondary Index][1] (GSI) that supports it. Then you can query the GSI.\r\n\r\nWithout a supporting GSI, you would have to sort the query results client-side.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html","title":"How to get a sorted result from DynamoDB at runtime","body":"<p>No, DynamoDB does not support a general purpose \"ORDER BY columnname\" feature.</p>\n\n<p>DynamoDB tables are key/value, where key values must be unique. The key can be a single partition key or a composite of a partition key and a sort key. You can also create secondary indexes.</p>\n\n<p>If you want DynamoDB to support queries sorted on a particular attribute (column) then you need to create a <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html\" rel=\"nofollow noreferrer\">Global Secondary Index</a> (GSI) that supports it. Then you can query the GSI.</p>\n\n<p>Without a supporting GSI, you would have to sort the query results client-side.</p>\n"}],"owner":{"account_id":2807605,"reputation":587,"user_id":2414526,"display_name":"OneNoOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60004753,"answer_count":1,"score":1,"last_activity_date":1639410154,"creation_date":1580476133,"question_id":60004601,"body_markdown":"I have a dynamoDB table with a lot of fields. Is there a way to make a query on it and receive the results sorted according to a certain field that is chosen at runtime by the user using AWS SDK for java?\r\n\r\nI know that `.withScanIndexForward()` allows to define if it is in ascending or descending order, but I would like to tell which column to sort each time the query is requested.\r\n\r\n","title":"How to get a sorted result from DynamoDB at runtime","body":"<p>I have a dynamoDB table with a lot of fields. Is there a way to make a query on it and receive the results sorted according to a certain field that is chosen at runtime by the user using AWS SDK for java?</p>\n<p>I know that <code>.withScanIndexForward()</code> allows to define if it is in ascending or descending order, but I would like to tell which column to sort each time the query is requested.</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1639403806,"post_id":70335657,"comment_id":124332536,"body_markdown":"_Use one single Scanner for System.in._  Better yet, refrain from Scanner and use `java.io.Console` which is less error prone. However you must run from the command line (not the IDE&#39;s &quot;command line&quot;), and do int conversion yourself: `Integer.parseInt(String)`.","body":"<i>Use one single Scanner for System.in.</i>  Better yet, refrain from Scanner and use <code>java.io.Console</code> which is less error prone. However you must run from the command line (not the IDE&#39;s &quot;command line&quot;), and do int conversion yourself: <code>Integer.parseInt(String)</code>."},{"owner":{"account_id":23634571,"reputation":1,"user_id":17665832,"display_name":"Alphamonatric"},"score":0,"creation_date":1639410723,"post_id":70335657,"comment_id":124335558,"body_markdown":"Hmm, this is my first time seeing those terms. I will definitely check those out. Thanks!","body":"Hmm, this is my first time seeing those terms. I will definitely check those out. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":8519084,"reputation":409,"user_id":6386639,"display_name":"Vivek Swansi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639405593,"creation_date":1639405593,"answer_id":70336205,"question_id":70335657,"body_markdown":"        class Main {\r\n    \r\n            public static final Scanner in = new Scanner(System.in);\r\n    \r\n            public static void main(String[] args) {\r\n                in.useDelimiter(&quot;\\r?\\n&quot;);\r\n                Student student = new Student();\r\n    \r\n                System.out.println(&quot;Press 1 to Record for Midterm&quot;);\r\n                System.out.println(&quot;Press 2 to Record for Final Term&quot;);\r\n                int record = in.nextInt();\r\n    \r\n                if (record == 1) {\r\n                    student.setTerm(TermType.MID);\r\n                    System.out.println(&quot;Enter 8 subjects and their corresponding grades:&quot;);\r\n                    System.out.println(&quot;Enter Subject and grades space separated.  Example -  \\nMaths 79&quot;);\r\n                    System.out.println();\r\n    \r\n    \r\n                    for (int i = 0; i &lt; 8; i++) {\r\n                        System.out.println(&quot;Enter Subject &quot; + (i + 1) + &quot; details&quot;);\r\n                        String subjectAndGrade = in.next();\r\n    \r\n                        int index = subjectAndGrade.lastIndexOf(&quot; &quot;);\r\n                        String subject = subjectAndGrade.substring(0, index);\r\n                        int grade = Integer.parseInt(subjectAndGrade.substring(index + 1));\r\n                        student.getSubjects().add(new Subject(grade, subject));\r\n                    }\r\n                    System.out.println(&quot;Enter Grade Successful&quot;);\r\n    \r\n                    System.out.println(&quot;========================================================&quot;);\r\n                    System.out.println(&quot;Details: &quot;);\r\n    \r\n                    System.out.println(&quot;Term Type &quot; + student.getTerm());\r\n                    for(int i = 0; i&lt; student.getSubjects().size(); i++) {\r\n                        System.out.println(&quot;Subject: &quot; + student.getSubjects().get(i).getSubjectName() + &quot;, Grade: &quot; + student.getSubjects().get(i).getGradeScore());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        class Student {\r\n            private List&lt;Subject&gt; subjects = new ArrayList&lt;&gt;();\r\n            private TermType term;\r\n    \r\n            public List&lt;Subject&gt; getSubjects() {\r\n                return subjects;\r\n            }\r\n    \r\n            public void setSubjects(List&lt;Subject&gt; subjects) {\r\n                this.subjects = subjects;\r\n            }\r\n    \r\n            public TermType getTerm() {\r\n                return term;\r\n            }\r\n    \r\n            public void setTerm(TermType term) {\r\n                this.term = term;\r\n            }\r\n        }\r\n    \r\n        class Subject {\r\n            private int gradeScore;\r\n            private String subjectName;\r\n    \r\n            public Subject(int gradeScore, String subjectName) {\r\n                this.gradeScore = gradeScore;\r\n                this.subjectName = subjectName;\r\n            }\r\n    \r\n            public double getGradeScore() {\r\n                return gradeScore;\r\n            }\r\n    \r\n            public void setGradeScore(int gradeScore) {\r\n                this.gradeScore = gradeScore;\r\n            }\r\n    \r\n            public String getSubjectName() {\r\n                return subjectName;\r\n            }\r\n    \r\n            public void setSubjectName(String subjectName) {\r\n                this.subjectName = subjectName;\r\n            }\r\n        }\r\n\r\nscanners work by separating the input into a sequence of &#39;tokens&#39; and &#39;delimiters&#39;. Out of the box, &#39;one or more whitespace characters&#39; is the delimiter.\r\n\r\n","title":"How do you connect a single scanner to two arrays?","body":"<pre><code>    class Main {\n\n        public static final Scanner in = new Scanner(System.in);\n\n        public static void main(String[] args) {\n            in.useDelimiter(&quot;\\r?\\n&quot;);\n            Student student = new Student();\n\n            System.out.println(&quot;Press 1 to Record for Midterm&quot;);\n            System.out.println(&quot;Press 2 to Record for Final Term&quot;);\n            int record = in.nextInt();\n\n            if (record == 1) {\n                student.setTerm(TermType.MID);\n                System.out.println(&quot;Enter 8 subjects and their corresponding grades:&quot;);\n                System.out.println(&quot;Enter Subject and grades space separated.  Example -  \\nMaths 79&quot;);\n                System.out.println();\n\n\n                for (int i = 0; i &lt; 8; i++) {\n                    System.out.println(&quot;Enter Subject &quot; + (i + 1) + &quot; details&quot;);\n                    String subjectAndGrade = in.next();\n\n                    int index = subjectAndGrade.lastIndexOf(&quot; &quot;);\n                    String subject = subjectAndGrade.substring(0, index);\n                    int grade = Integer.parseInt(subjectAndGrade.substring(index + 1));\n                    student.getSubjects().add(new Subject(grade, subject));\n                }\n                System.out.println(&quot;Enter Grade Successful&quot;);\n\n                System.out.println(&quot;========================================================&quot;);\n                System.out.println(&quot;Details: &quot;);\n\n                System.out.println(&quot;Term Type &quot; + student.getTerm());\n                for(int i = 0; i&lt; student.getSubjects().size(); i++) {\n                    System.out.println(&quot;Subject: &quot; + student.getSubjects().get(i).getSubjectName() + &quot;, Grade: &quot; + student.getSubjects().get(i).getGradeScore());\n                }\n            }\n        }\n    }\n\n    class Student {\n        private List&lt;Subject&gt; subjects = new ArrayList&lt;&gt;();\n        private TermType term;\n\n        public List&lt;Subject&gt; getSubjects() {\n            return subjects;\n        }\n\n        public void setSubjects(List&lt;Subject&gt; subjects) {\n            this.subjects = subjects;\n        }\n\n        public TermType getTerm() {\n            return term;\n        }\n\n        public void setTerm(TermType term) {\n            this.term = term;\n        }\n    }\n\n    class Subject {\n        private int gradeScore;\n        private String subjectName;\n\n        public Subject(int gradeScore, String subjectName) {\n            this.gradeScore = gradeScore;\n            this.subjectName = subjectName;\n        }\n\n        public double getGradeScore() {\n            return gradeScore;\n        }\n\n        public void setGradeScore(int gradeScore) {\n            this.gradeScore = gradeScore;\n        }\n\n        public String getSubjectName() {\n            return subjectName;\n        }\n\n        public void setSubjectName(String subjectName) {\n            this.subjectName = subjectName;\n        }\n    }\n</code></pre>\n<p>scanners work by separating the input into a sequence of 'tokens' and 'delimiters'. Out of the box, 'one or more whitespace characters' is the delimiter.</p>\n"},{"tags":[],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639407423,"creation_date":1639407423,"answer_id":70336634,"question_id":70335657,"body_markdown":"Break out the grade collection into a new function, and pass along the array you want to collect the grades into. \r\n\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        int gradeType = 0;\r\n\r\n        // Use a single scanner for all input\r\n        Scanner aScanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Press 1 to Record for Midterm&quot;);\r\n        System.out.println(&quot;Press 2 to Record for Final Term&quot;);\r\n        gradeType = aScanner.nextInt();\r\n\r\n        String[] subjects = { &quot;Subject A&quot;, &quot;Subject B&quot; };\r\n        int[] midtermGrades = new int[subjects.length];\r\n        int[] finalGrades = new int[subjects.length];\r\n\r\n        int[] gradesToCollect;\r\n\r\n        // Use gradesToCollect to reference the array you want to\r\n        // collect into.\r\n        //\r\n        // Alternatively, we could call collectGrades() in both the if/else\r\n        // condition\r\n        if (gradeType == 1) {\r\n            gradesToCollect = midtermGrades;\r\n        } else {\r\n            gradesToCollect = finalGrades;\r\n        }\r\n\r\n        collectGrades(subjects, gradesToCollect, aScanner);\r\n\r\n        System.out.println(&quot;\\n\\nThese are the collected grades&quot;);\r\n        System.out.println(&quot;Mid  Final&quot;);\r\n        for (int i = 0; i &lt; subjects.length; i++) {\r\n            System.out.format(&quot;%3d  %3d\\n&quot;, midtermGrades[i], finalGrades[i]);\r\n        }\r\n    }\r\n\r\n    // Collect a grade for each subject into the given grades array.\r\n    public static void collectGrades(final String[] subjects, final int[] grades, Scanner scn) {\r\n\r\n        System.out.format(&quot;Enter %s subjects and their corresponding grades:&quot;,\r\n                subjects.length);\r\n        System.out.println();\r\n\r\n        for (int i = 0; i &lt; subjects.length; i++) {\r\n            System.out.format(&quot;Enter Grade for %s : &quot;, subjects[i]);\r\n            grades[i] = scn.nextInt();\r\n            if (i == (subjects.length))\r\n                System.out.println();\r\n        }\r\n        System.out.println(&quot;Enter Grade Successful&quot;);\r\n    }\r\n\r\n\r\n```\r\n","title":"How do you connect a single scanner to two arrays?","body":"<p>Break out the grade collection into a new function, and pass along the array you want to collect the grades into.</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n\n        int gradeType = 0;\n\n        // Use a single scanner for all input\n        Scanner aScanner = new Scanner(System.in);\n\n        System.out.println(&quot;Press 1 to Record for Midterm&quot;);\n        System.out.println(&quot;Press 2 to Record for Final Term&quot;);\n        gradeType = aScanner.nextInt();\n\n        String[] subjects = { &quot;Subject A&quot;, &quot;Subject B&quot; };\n        int[] midtermGrades = new int[subjects.length];\n        int[] finalGrades = new int[subjects.length];\n\n        int[] gradesToCollect;\n\n        // Use gradesToCollect to reference the array you want to\n        // collect into.\n        //\n        // Alternatively, we could call collectGrades() in both the if/else\n        // condition\n        if (gradeType == 1) {\n            gradesToCollect = midtermGrades;\n        } else {\n            gradesToCollect = finalGrades;\n        }\n\n        collectGrades(subjects, gradesToCollect, aScanner);\n\n        System.out.println(&quot;\\n\\nThese are the collected grades&quot;);\n        System.out.println(&quot;Mid  Final&quot;);\n        for (int i = 0; i &lt; subjects.length; i++) {\n            System.out.format(&quot;%3d  %3d\\n&quot;, midtermGrades[i], finalGrades[i]);\n        }\n    }\n\n    // Collect a grade for each subject into the given grades array.\n    public static void collectGrades(final String[] subjects, final int[] grades, Scanner scn) {\n\n        System.out.format(&quot;Enter %s subjects and their corresponding grades:&quot;,\n                subjects.length);\n        System.out.println();\n\n        for (int i = 0; i &lt; subjects.length; i++) {\n            System.out.format(&quot;Enter Grade for %s : &quot;, subjects[i]);\n            grades[i] = scn.nextInt();\n            if (i == (subjects.length))\n                System.out.println();\n        }\n        System.out.println(&quot;Enter Grade Successful&quot;);\n    }\n\n\n</code></pre>\n"}],"owner":{"account_id":23634571,"reputation":1,"user_id":17665832,"display_name":"Alphamonatric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70336634,"answer_count":2,"score":0,"last_activity_date":1639409891,"creation_date":1639403040,"question_id":70335657,"body_markdown":"Basically, I&#39;m trying to ask the user&#39;s input and the input should store in two arrays using a single scanner. Using two would ask the user twice and that would be impractical. The code looks like this\r\n\r\n```\r\nint record = 0;\r\nScanner midOrFinal = new Scanner(System.in);\r\nScanner scansubjects = new Scanner(System.in);\r\nScanner scangrades = new Scanner(System.in);\r\n\t\r\nSystem.out.println(&quot;Press 1 to Record for Midterm&quot;);\r\nSystem.out.println(&quot;Press 2 to Record for Final Term&quot;);\r\nrecord = midOrFinal.nextInt();\r\n\t\r\nint midterm[] = new int[8];\r\nint grades[] = new int[8];\r\n\t\r\n{ \r\n  if ( record == 1 )\r\n    System.out.println(&quot;Enter 8 subjects and their corresponding grades:&quot;);\r\n\r\n  System.out.println();\r\n\t\r\n  int i = 0;\r\n\t\r\n  for( i = 0; i &lt; 8; i++ )\r\n  {   \r\n    System.out.println(subjects[i]);                               \r\n\tSystem.out.print(&quot;Enter Grade: &quot;);               \r\n\tgrades[i] = scangrades.nextInt();            \r\n\tif( i == ( subjects.length) )\r\n      System.out.println();\r\n  }\r\n  System.out.println(&quot;Enter Grade Successful&quot;);       \r\n}\r\n```\r\n\r\nIf the user chooses option 1, the user will be given some subjects in an array (which I didn&#39;t include) and asked to input the grades. The input shall then proceed to the midterm OR finalterm array but I can&#39;t seem to do it by using one scanner.\r\n\r\nIf there are better ideas than my proposed idea, then please share. I&#39;m still very new in Java and  my first time using stackoverflow. Thanks!","title":"How do you connect a single scanner to two arrays?","body":"<p>Basically, I'm trying to ask the user's input and the input should store in two arrays using a single scanner. Using two would ask the user twice and that would be impractical. The code looks like this</p>\n<pre><code>int record = 0;\nScanner midOrFinal = new Scanner(System.in);\nScanner scansubjects = new Scanner(System.in);\nScanner scangrades = new Scanner(System.in);\n    \nSystem.out.println(&quot;Press 1 to Record for Midterm&quot;);\nSystem.out.println(&quot;Press 2 to Record for Final Term&quot;);\nrecord = midOrFinal.nextInt();\n    \nint midterm[] = new int[8];\nint grades[] = new int[8];\n    \n{ \n  if ( record == 1 )\n    System.out.println(&quot;Enter 8 subjects and their corresponding grades:&quot;);\n\n  System.out.println();\n    \n  int i = 0;\n    \n  for( i = 0; i &lt; 8; i++ )\n  {   \n    System.out.println(subjects[i]);                               \n    System.out.print(&quot;Enter Grade: &quot;);               \n    grades[i] = scangrades.nextInt();            \n    if( i == ( subjects.length) )\n      System.out.println();\n  }\n  System.out.println(&quot;Enter Grade Successful&quot;);       \n}\n</code></pre>\n<p>If the user chooses option 1, the user will be given some subjects in an array (which I didn't include) and asked to input the grades. The input shall then proceed to the midterm OR finalterm array but I can't seem to do it by using one scanner.</p>\n<p>If there are better ideas than my proposed idea, then please share. I'm still very new in Java and  my first time using stackoverflow. Thanks!</p>\n"},{"tags":["javascript","java","web-crawler","htmlunit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925366,"post_id":70123289,"comment_id":123958868,"body_markdown":"Does this answer your question? [HtmlUnit ignore JavaScript errors?](https://stackoverflow.com/questions/21294707/htmlunit-ignore-javascript-errors)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21294707/htmlunit-ignore-javascript-errors\">HtmlUnit ignore JavaScript errors?</a>"},{"owner":{"account_id":23440339,"reputation":25,"user_id":17497922,"display_name":"Santiago Luca"},"score":0,"creation_date":1637927268,"post_id":70123289,"comment_id":123959459,"body_markdown":"@tgdavies not really, they suggest to supress the error with client.getOptions().setThrowExceptionOnScriptError(false);\nbut when I use it I keep getting the same error and it doesn&#39;t print the webpage name anywhere. I&#39;m so confused at this point, should I switch to another crawling tool instead of HtmlUnit?","body":"@tgdavies not really, they suggest to supress the error with client.getOptions().setThrowExceptionOnScriptError(false); but when I use it I keep getting the same error and it doesn&#39;t print the webpage name anywhere. I&#39;m so confused at this point, should I switch to another crawling tool instead of HtmlUnit?"}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638339853,"creation_date":1638339853,"answer_id":70179903,"question_id":70123289,"body_markdown":"        try (final WebClient webClient = new WebClient()) {\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n            final HtmlPage page = webClient.getPage(&quot;https://www.tripadvisor.com&quot;);\r\n            // final HtmlPage page = webClient.getPage(&quot;https://www.youtube.com&quot;);\r\n\r\n            System.out.println(&quot;****************&quot;);\r\n            System.out.println(page.getTitleText());\r\n            System.out.println(&quot;****************&quot;);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;ERROR &quot; + e);\r\n        }\r\n\r\nAt least with the recent version oh HtmlUnit this produces\r\n\r\n    ****************\r\n    Tripadvisor: Read Reviews, Compare Prices &amp; Book\r\n    ****************\r\n\r\nWhat does setThrowExceptionOnScriptError do?\r\n\r\n    /**\r\n     * Changes the behavior of this webclient when a script error occurs.\r\n     * @param enabled indicates if exception should be thrown or not\r\n     */\r\n\r\nHtmlUnit uses Rhino (https://github.com/mozilla/rhino) as base for the JavaScript support. And Rhino does not support all the language features available in JavaScript today (getting better with every version https://htmlunit.sourceforge.io/changes-report.html). But at least some of the pages around using this features (e.g. to track you) and because of this you see the error. HtmlUnit was originally designed as testing framework, because of this it stops at every error.\r\n\r\nIf you change that (see the option setting above) you still get the log output for every error but the javascript processing continues (same in real browsers). An you can also change the logging - see https://htmlunit.sourceforge.io/logging.html.","title":"Java: HtmlUnit problem retrieving page title","body":"<pre><code>    try (final WebClient webClient = new WebClient()) {\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n        final HtmlPage page = webClient.getPage(&quot;https://www.tripadvisor.com&quot;);\n        // final HtmlPage page = webClient.getPage(&quot;https://www.youtube.com&quot;);\n\n        System.out.println(&quot;****************&quot;);\n        System.out.println(page.getTitleText());\n        System.out.println(&quot;****************&quot;);\n    }\n    catch (Exception e){\n        System.out.println(&quot;ERROR &quot; + e);\n    }\n</code></pre>\n<p>At least with the recent version oh HtmlUnit this produces</p>\n<pre><code>****************\nTripadvisor: Read Reviews, Compare Prices &amp; Book\n****************\n</code></pre>\n<p>What does setThrowExceptionOnScriptError do?</p>\n<pre><code>/**\n * Changes the behavior of this webclient when a script error occurs.\n * @param enabled indicates if exception should be thrown or not\n */\n</code></pre>\n<p>HtmlUnit uses Rhino (<a href=\"https://github.com/mozilla/rhino\" rel=\"nofollow noreferrer\">https://github.com/mozilla/rhino</a>) as base for the JavaScript support. And Rhino does not support all the language features available in JavaScript today (getting better with every version <a href=\"https://htmlunit.sourceforge.io/changes-report.html\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/changes-report.html</a>). But at least some of the pages around using this features (e.g. to track you) and because of this you see the error. HtmlUnit was originally designed as testing framework, because of this it stops at every error.</p>\n<p>If you change that (see the option setting above) you still get the log output for every error but the javascript processing continues (same in real browsers). An you can also change the logging - see <a href=\"https://htmlunit.sourceforge.io/logging.html\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/logging.html</a>.</p>\n"}],"owner":{"account_id":23440339,"reputation":25,"user_id":17497922,"display_name":"Santiago Luca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70179903,"answer_count":1,"score":1,"last_activity_date":1639409820,"creation_date":1637924041,"question_id":70123289,"body_markdown":"This is my first StackOverflow post so I&#39;ll try to describe my problem as good as I can.\r\n\r\nI want to create a program to retrieve the reviews from TripAdvisor pages, I tried to do it via API but they didnt respond when I requested the API key, so my alternative is to do it with a WebCrawler. \r\n\r\nTo do so I have a Spring project and using HtmlUnit,a tool I never used, so in order to test it my first exercise is to retrieve the title of a webpage so I have the following code implemented:\r\n\r\n\r\n    @PostConstruct\r\n    public void init() throws Exception {\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;));\r\n\r\n        getRequest.getPageName();\r\n\r\n    }\r\n\r\nThat calls the following method:\r\n\r\n    @Test\r\n    public void getPageName() throws Exception {\r\n        try (final WebClient webClient = new WebClient()) {\r\n            final HtmlPage page = webClient.getPage(&quot;https://www.tripadvisor.com&quot;);\r\n            \r\n            System.out.println(page.getTitleText());\r\n\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;ERROR &quot; + e);\r\n        }\r\n    }\r\nWhen I run the code with https://www.google.com I get the response &quot;Google&quot; as excpected, but when I try it with https://www.tripadvisor.com or https://www.youtube.com I get an error that I can&#39;t understand:\r\n\r\n    Caused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: syntax error (https://static.tacdn.com/assets/DDGchX.17d9b05f.js#1)\r\n\r\nI did a quick research to see what does the problem mean, I found a couple of posts regarding a similar case, but I can&#39;t understand what is the cause. Is it related to a Javascript problem? Or a permissions problem? \r\n\r\nIf more information is required to analyze the problem do not hesitate on asking for it, thanks in advance for the spent time of any reader and sorry if i disrespected any of the StackOverflow rules/protocols.\r\n","title":"Java: HtmlUnit problem retrieving page title","body":"<p>This is my first StackOverflow post so I'll try to describe my problem as good as I can.</p>\n<p>I want to create a program to retrieve the reviews from TripAdvisor pages, I tried to do it via API but they didnt respond when I requested the API key, so my alternative is to do it with a WebCrawler.</p>\n<p>To do so I have a Spring project and using HtmlUnit,a tool I never used, so in order to test it my first exercise is to retrieve the title of a webpage so I have the following code implemented:</p>\n<pre><code>@PostConstruct\npublic void init() throws Exception {\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Europe/Madrid&quot;));\n\n    getRequest.getPageName();\n\n}\n</code></pre>\n<p>That calls the following method:</p>\n<pre><code>@Test\npublic void getPageName() throws Exception {\n    try (final WebClient webClient = new WebClient()) {\n        final HtmlPage page = webClient.getPage(&quot;https://www.tripadvisor.com&quot;);\n        \n        System.out.println(page.getTitleText());\n\n    }\n    catch (Exception e){\n        System.out.println(&quot;ERROR &quot; + e);\n    }\n}\n</code></pre>\n<p>When I run the code with <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a> I get the response &quot;Google&quot; as excpected, but when I try it with <a href=\"https://www.tripadvisor.com\" rel=\"nofollow noreferrer\">https://www.tripadvisor.com</a> or <a href=\"https://www.youtube.com\" rel=\"nofollow noreferrer\">https://www.youtube.com</a> I get an error that I can't understand:</p>\n<pre><code>Caused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: syntax error (https://static.tacdn.com/assets/DDGchX.17d9b05f.js#1)\n</code></pre>\n<p>I did a quick research to see what does the problem mean, I found a couple of posts regarding a similar case, but I can't understand what is the cause. Is it related to a Javascript problem? Or a permissions problem?</p>\n<p>If more information is required to analyze the problem do not hesitate on asking for it, thanks in advance for the spent time of any reader and sorry if i disrespected any of the StackOverflow rules/protocols.</p>\n"},{"tags":["java","spring-boot","docusignapi","docusigncompositetmplts"],"answers":[{"tags":[],"owner":{"account_id":3753515,"reputation":41,"user_id":3120470,"display_name":"Ahmed Shorim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639409738,"creation_date":1639404362,"answer_id":70335948,"question_id":70335676,"body_markdown":"What you are missing over here is to login to be able to provide user consent, which can be done through any of the following ways mentioned over [here][1]\r\n\r\n**Update:**\r\n\r\nReplying to the comment regarding an example, not sure if you are using the SDK or directly calling the API but here goes both:\r\n\r\n1- If you are using the SDK, you should be able to go through the authentication process of the JWT using this [guide][2].\r\n\r\n2- If you are calling the API directly, you can follow this [guide][3]. Start with step number 2 if you already have the consent.\r\n\r\n\r\n  [1]: https://developers.docusign.com/platform/auth/consent/\r\n  [2]: https://developers.docusign.com/docs/esign-rest-api/sdk-tools/java/auth/\r\n  [3]: https://developers.docusign.com/platform/auth/jwt/jwt-get-token/","title":"How Can I implement JWT grant authentication without login to docusign from browser","body":"<p>What you are missing over here is to login to be able to provide user consent, which can be done through any of the following ways mentioned over <a href=\"https://developers.docusign.com/platform/auth/consent/\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Update:</strong></p>\n<p>Replying to the comment regarding an example, not sure if you are using the SDK or directly calling the API but here goes both:</p>\n<p>1- If you are using the SDK, you should be able to go through the authentication process of the JWT using this <a href=\"https://developers.docusign.com/docs/esign-rest-api/sdk-tools/java/auth/\" rel=\"nofollow noreferrer\">guide</a>.</p>\n<p>2- If you are calling the API directly, you can follow this <a href=\"https://developers.docusign.com/platform/auth/jwt/jwt-get-token/\" rel=\"nofollow noreferrer\">guide</a>. Start with step number 2 if you already have the consent.</p>\n"}],"owner":{"account_id":2749346,"reputation":43,"user_id":2369052,"display_name":"riza446"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70335948,"answer_count":1,"score":0,"last_activity_date":1639409738,"creation_date":1639403151,"question_id":70335676,"body_markdown":"I want to implement DocuSign JWT grant authentication. I went through examples provided by DocuSign and I am able to run the application perfectly. But I need to implement DocuSign in my application which is of providing Restful APIs using Spring boot and DocuSign login should happen without explicit login. In the given example, it will ask for explicit login as shown in the image. [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nn4TP.png\r\n\r\nWhat setting do I need to change in the example or any sample example where I can give account details inside the code so that it will be authenticated automatically and using JWT grant it generates an access token. Using FeignClient can I call this API `https://account-d.docusign.com/oauth/auth?response_type=YOUR_RESPONSE_TYPE&amp;scope=YOUR_REQUESTED_SCOPES&amp;client_id=YOUR_INTEGRATION_KEY&amp;state=YOUR_CUSTOM_STATE&amp;redirect_uri=YOUR_REDIRECT_URI`","title":"How Can I implement JWT grant authentication without login to docusign from browser","body":"<p>I want to implement DocuSign JWT grant authentication. I went through examples provided by DocuSign and I am able to run the application perfectly. But I need to implement DocuSign in my application which is of providing Restful APIs using Spring boot and DocuSign login should happen without explicit login. In the given example, it will ask for explicit login as shown in the image. <a href=\"https://i.stack.imgur.com/Nn4TP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What setting do I need to change in the example or any sample example where I can give account details inside the code so that it will be authenticated automatically and using JWT grant it generates an access token. Using FeignClient can I call this API <code>https://account-d.docusign.com/oauth/auth?response_type=YOUR_RESPONSE_TYPE&amp;scope=YOUR_REQUESTED_SCOPES&amp;client_id=YOUR_INTEGRATION_KEY&amp;state=YOUR_CUSTOM_STATE&amp;redirect_uri=YOUR_REDIRECT_URI</code></p>\n"},{"tags":["java","android","file","inputstream","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639390215,"creation_date":1639390215,"answer_id":70332940,"question_id":70332849,"body_markdown":"No, `Class.getResourceAsStream(…)` will only work for resources present on the application‘s classpath.\n\nTo get a stream for a file at an arbitrary filesystem location, use a FileInputStream:\n\n    try (var fis = new FileInputStream(pathToYourFile)) { … }","title":"Is there a way to use getResourceAsStream method to read a json file present in data directory path?","body":"<p>No, <code>Class.getResourceAsStream(…)</code> will only work for resources present on the application‘s classpath.</p>\n<p>To get a stream for a file at an arbitrary filesystem location, use a FileInputStream:</p>\n<pre><code>try (var fis = new FileInputStream(pathToYourFile)) { … }\n</code></pre>\n"}],"owner":{"account_id":11457375,"reputation":13,"user_id":8397967,"display_name":"pragati ahuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70332940,"answer_count":1,"score":0,"last_activity_date":1639409695,"creation_date":1639389809,"question_id":70332849,"body_markdown":"I have a file present in data directory path like this: `/data/user/0/com.example.myapplication/files/data/en-US/ProjectStrings.json`.\r\n\r\nThis is what I am using to get the input stream:\r\n\r\n    InputStream ins = ProjectManager.class.getResourceAsStream(&quot;/data/user/0/com.example.myapplication/files/data/en-US/&quot;).\r\n\r\nHere ins is coming as null. \r\n\r\nMaybe the path that I am giving to getResourceAsStream is not correct. Please suggest what should the relative path that I should provide to this api to read ProjectStrings.json file.","title":"Is there a way to use getResourceAsStream method to read a json file present in data directory path?","body":"<p>I have a file present in data directory path like this: <code>/data/user/0/com.example.myapplication/files/data/en-US/ProjectStrings.json</code>.</p>\n<p>This is what I am using to get the input stream:</p>\n<pre><code>InputStream ins = ProjectManager.class.getResourceAsStream(&quot;/data/user/0/com.example.myapplication/files/data/en-US/&quot;).\n</code></pre>\n<p>Here ins is coming as null.</p>\n<p>Maybe the path that I am giving to getResourceAsStream is not correct. Please suggest what should the relative path that I should provide to this api to read ProjectStrings.json file.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1639398732,"post_id":70334654,"comment_id":124330612,"body_markdown":"Setting the ID manually is never a good idea, you could very easily have a conflict with an existing ID. Why do you need to do this?","body":"Setting the ID manually is never a good idea, you could very easily have a conflict with an existing ID. Why do you need to do this?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639409397,"creation_date":1639409047,"answer_id":70337006,"question_id":70334654,"body_markdown":"If the `@Id` field of an entity does not have `@GeneratedValue` , it allows you to assign the ID for that entity manually. \r\n\r\nThat means you can create another entity that maps to the same table for the use-case that require to manually configure the ID and use the entity with `@GeneratedValue` for the normal case. \r\n\r\nBy using some inheritance design , you may have something like :\r\n\r\n``` java\r\n@MappedSuperclass\r\npublic class Employee  {\r\n\r\n    @Column\r\n    private String email;\r\n\r\n    @Column\r\n    private String title;\r\n    \r\n    ......\r\n}\r\n```\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;employee&quot;)\r\npublic class DefaultEmployee extends Employee {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;userSeqGen&quot;, sequenceName = &quot;userSeq&quot;, initialValue = 100, allocationSize = 50)\r\n    @GeneratedValue(generator = &quot;userSeqGen&quot;)\r\n    private Integer id;\r\n}\r\n```\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;employee&quot;)\r\npublic class ManuallyAssignedIdEmployee extends Employee {\r\n\r\n    @Id\r\n    private Integer id;\r\n\r\n    public ManuallyAssignedIdEmployee(Integer id){\r\n       this.id = id;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nIf you need to create an employee with manually assigned id , create `ManuallyAssignedIdEmployee` instance. Otherwise , create `DefaultEmployee` instance.\r\n\r\nPlease note that since you are manually assigned ID for some cases  , it is your responsibility to make sure that the manually assigned ID will not mess up with the ID that is auto-generated from the DB sequence. (e.g the manually assigned Id is already auto-generated and used by other records or the auto-generated ID in the future cannot be used as you already manually assigned it to some records in the past etc.)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Overriding id generated by sequence","body":"<p>If the <code>@Id</code> field of an entity does not have <code>@GeneratedValue</code> , it allows you to assign the ID for that entity manually.</p>\n<p>That means you can create another entity that maps to the same table for the use-case that require to manually configure the ID and use the entity with <code>@GeneratedValue</code> for the normal case.</p>\n<p>By using some inheritance design , you may have something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic class Employee  {\n\n    @Column\n    private String email;\n\n    @Column\n    private String title;\n    \n    ......\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class DefaultEmployee extends Employee {\n\n    @Id\n    @SequenceGenerator(name = &quot;userSeqGen&quot;, sequenceName = &quot;userSeq&quot;, initialValue = 100, allocationSize = 50)\n    @GeneratedValue(generator = &quot;userSeqGen&quot;)\n    private Integer id;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class ManuallyAssignedIdEmployee extends Employee {\n\n    @Id\n    private Integer id;\n\n    public ManuallyAssignedIdEmployee(Integer id){\n       this.id = id;\n    }\n\n\n}\n</code></pre>\n<p>If you need to create an employee with manually assigned id , create <code>ManuallyAssignedIdEmployee</code> instance. Otherwise , create <code>DefaultEmployee</code> instance.</p>\n<p>Please note that since you are manually assigned ID for some cases  , it is your responsibility to make sure that the manually assigned ID will not mess up with the ID that is auto-generated from the DB sequence. (e.g the manually assigned Id is already auto-generated and used by other records or the auto-generated ID in the future cannot be used as you already manually assigned it to some records in the past etc.)</p>\n"}],"owner":{"account_id":197033,"reputation":2505,"user_id":1319205,"accept_rate":63,"display_name":"CrazyCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639409397,"creation_date":1639398385,"question_id":70334654,"body_markdown":"I am using SequenceGenerator for generating a primary key for my entities. Now there is a use case wherein I need to use the given id instead of the id generated by the sequence. \r\n\r\nI tried setting the id field by given value and saving it but the custom id has been overridden by the sequence. So is there any way to tell the hibernate to use the given id if it is not null or generate a new one using sequence if the id is not set explicitly?\r\n\r\nMy current id generator\r\n\r\n        @Id\r\n    \t@SequenceGenerator(name = &quot;userSeqGen&quot;, sequenceName = &quot;userSeq&quot;, initialValue = 100, allocationSize = 50)\r\n        @GeneratedValue(generator = &quot;userSeqGen&quot;)\r\n    \tprivate Integer id;\r\n\r\n","title":"Overriding id generated by sequence","body":"<p>I am using SequenceGenerator for generating a primary key for my entities. Now there is a use case wherein I need to use the given id instead of the id generated by the sequence.</p>\n<p>I tried setting the id field by given value and saving it but the custom id has been overridden by the sequence. So is there any way to tell the hibernate to use the given id if it is not null or generate a new one using sequence if the id is not set explicitly?</p>\n<p>My current id generator</p>\n<pre><code>    @Id\n    @SequenceGenerator(name = &quot;userSeqGen&quot;, sequenceName = &quot;userSeq&quot;, initialValue = 100, allocationSize = 50)\n    @GeneratedValue(generator = &quot;userSeqGen&quot;)\n    private Integer id;\n</code></pre>\n"},{"tags":["java","string","swing","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1639390155,"post_id":70332901,"comment_id":124327544,"body_markdown":"You are always creating a new ArrayList with `questions = new ArrayList&lt;&gt;();` in the actionPerformed method. You&#39;ll need to initialize the List once and only add to when the button is clicked, not always create a new list.","body":"You are always creating a new ArrayList with <code>questions = new ArrayList&lt;&gt;();</code> in the actionPerformed method. You&#39;ll need to initialize the List once and only add to when the button is clicked, not always create a new list."},{"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"score":1,"creation_date":1639390252,"post_id":70332901,"comment_id":124327589,"body_markdown":"Not only that, I also don&#39;t see the `ActionListener` being added anywhere. You may want to take a look at [_How to Write an Action Listener_](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html).","body":"Not only that, I also don&#39;t see the <code>ActionListener</code> being added anywhere. You may want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\"><i>How to Write an Action Listener</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639408732,"creation_date":1639391170,"answer_id":70333152,"question_id":70332901,"body_markdown":"Remove the `while` as it is unecessary, because when the button is clicked `actionPerformed()` will fire only once.\r\n\r\nAlso, `questions = new ArrayList&lt;&gt;()` inside `actionPerformed()` will always re-initialize the object `questions` to a new memory locations, hence the loss of the values you had added to it before.\r\n\r\n```java\r\npublic class AddQuestions implements ActionListener {\r\n\r\n  public ArrayList&lt;String&gt; questions=new ArrayList&lt;&gt;();\r\n  JLabel questionLabel = new JLabel();\r\n  JTextField question = new JTextField();\r\n  JButton addButton = new JButton();\r\n  \r\n  @Override\r\n  public void actionPerformed(ActionEvent e) {\r\n    if (e.getSource() == addButton){\r\n      \r\n      String value = question.getText();\r\n      questions.add(value);\r\n      System.out.println(value);\r\n      question.setText(&quot;&quot;);\r\n      \r\n      \r\n    }\r\n    System.out.println(questions);\r\n    System.out.println(questions.size());\r\n    \r\n  }\r\n}\r\n```\r\n\r\nI suggest you read more about java by reading [_Java Programming_ by Joyce Farrell][1], it is a great book for beginners. It has a ton of programming exercises for you to memorize java.\r\n\r\n  [1]: https://books.google.de/books/about/Java_Programming.html?id=-EWDtAEACAAJ","title":"Adding a String in an ArrayList everytime a button is clicked","body":"<p>Remove the <code>while</code> as it is unecessary, because when the button is clicked <code>actionPerformed()</code> will fire only once.</p>\n<p>Also, <code>questions = new ArrayList&lt;&gt;()</code> inside <code>actionPerformed()</code> will always re-initialize the object <code>questions</code> to a new memory locations, hence the loss of the values you had added to it before.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddQuestions implements ActionListener {\n\n  public ArrayList&lt;String&gt; questions=new ArrayList&lt;&gt;();\n  JLabel questionLabel = new JLabel();\n  JTextField question = new JTextField();\n  JButton addButton = new JButton();\n  \n  @Override\n  public void actionPerformed(ActionEvent e) {\n    if (e.getSource() == addButton){\n      \n      String value = question.getText();\n      questions.add(value);\n      System.out.println(value);\n      question.setText(&quot;&quot;);\n      \n      \n    }\n    System.out.println(questions);\n    System.out.println(questions.size());\n    \n  }\n}\n</code></pre>\n<p>I suggest you read more about java by reading <a href=\"https://books.google.de/books/about/Java_Programming.html?id=-EWDtAEACAAJ\" rel=\"nofollow noreferrer\"><em>Java Programming</em> by Joyce Farrell</a>, it is a great book for beginners. It has a ton of programming exercises for you to memorize java.</p>\n"},{"tags":[],"owner":{"account_id":19626143,"reputation":60,"user_id":14365411,"display_name":"Ganesh Gholap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639409214,"creation_date":1639409214,"answer_id":70337057,"question_id":70332901,"body_markdown":"Everytime when after clicking on the Button the new object is creating for ArrayList So you need to initialize the object of ArrayList before the event i.e. above the actionPerformed event method.","title":"Adding a String in an ArrayList everytime a button is clicked","body":"<p>Everytime when after clicking on the Button the new object is creating for ArrayList So you need to initialize the object of ArrayList before the event i.e. above the actionPerformed event method.</p>\n"}],"owner":{"account_id":18650887,"reputation":31,"user_id":13594367,"display_name":"Gabriele"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70333152,"answer_count":2,"score":-1,"last_activity_date":1639409214,"creation_date":1639390034,"question_id":70332901,"body_markdown":"I am new to java and I am trying to create a quiz app for my final project using java. I want to add the text inputted in the textField to my ArrayList everytime the button is clicked. I tried making it but the ArrayList only contains one element even after inputting a text many times. here is the code:\r\n```\r\npublic class AddQuestions implements ActionListener {\r\n\r\n    public ArrayList&lt;String&gt; questions;\r\n    JLabel questionLabel = new JLabel();\r\n    JTextField question = new JTextField();\r\n    JButton addButton = new JButton();\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == addButton){\r\n            while(addButton == e.getSource()){\r\n                String value = question.getText();\r\n                questions = new ArrayList&lt;&gt;();\r\n                questions.add(value);\r\n                System.out.println(value);\r\n                question.setText(&quot;&quot;);\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(questions);\r\n        System.out.println(questions.size());\r\n\r\n    }\r\n}\r\n```","title":"Adding a String in an ArrayList everytime a button is clicked","body":"<p>I am new to java and I am trying to create a quiz app for my final project using java. I want to add the text inputted in the textField to my ArrayList everytime the button is clicked. I tried making it but the ArrayList only contains one element even after inputting a text many times. here is the code:</p>\n<pre><code>public class AddQuestions implements ActionListener {\n\n    public ArrayList&lt;String&gt; questions;\n    JLabel questionLabel = new JLabel();\n    JTextField question = new JTextField();\n    JButton addButton = new JButton();\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == addButton){\n            while(addButton == e.getSource()){\n                String value = question.getText();\n                questions = new ArrayList&lt;&gt;();\n                questions.add(value);\n                System.out.println(value);\n                question.setText(&quot;&quot;);\n                break;\n            }\n        }\n        System.out.println(questions);\n        System.out.println(questions.size());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638869932,"post_id":70238146,"comment_id":124196379,"body_markdown":"If you understand Kotlin, this article will help, [How to read data from Cloud Firestore using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"If you understand Kotlin, this article will help, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">How to read data from Cloud Firestore using get()?</a>."}],"answers":[{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638744509,"creation_date":1638744509,"answer_id":70239245,"question_id":70238146,"body_markdown":"CountDownLatch may be helpful here.","title":"Return a value only when all async tasks from a loop are done","body":"<p>CountDownLatch may be helpful here.</p>\n"},{"tags":[],"owner":{"account_id":23495663,"reputation":46,"user_id":17546133,"display_name":"AnchorInk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639409196,"creation_date":1639409196,"answer_id":70337052,"question_id":70238146,"body_markdown":"After severals tests, I finally found a solution.\r\nBased on my question 1st script, I did this :\r\n\r\n    public interface convertListOfUidInPseudoListener {\r\n        void onCallbackConvertListOfUidInPseudo(List&lt;String&gt; membersPseudos);\r\n    }\r\n    \r\n    public void convertListOfUidInPseudo(List&lt;String&gt; membersUid, convertListOfUidInPseudoListener callback){\r\n        AtomicInteger nbDone = new AtomicInteger (0);\r\n        for (int i=0; i&lt;membersUid.size(); i++){\r\n            int finalI = i;\r\n            this.getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {\r\n                membersUid.set(finalI,playerPseudo);\r\n                int tasksDone = nbDone.getAndIncrement();// Here is the solution\r\n                System.out.println(playerPseudo);\r\n                System.out.println(tasksDone);\r\n    \r\n                if (tasksDone==membersUid.size()-1){\r\n                    callback.onCallbackConvertListOfUidInPseudo(membersUid);\r\n                    System.out.println(membersUid);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nIt&#39;s the same, but instead of reading directly the AtomicInteger (*nbDone*), I first define an other variable (*tasksDone*) which is equal to *nbDone*. For the moment, I have no problem with this solution.\r\n\r\nHere the Logcat :\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo2*\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 0*\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo1*\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 1*\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo3*\r\n\r\n*2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 2*\r\n\r\n*2021-12-13 15:57:47.125 23255-23255/com.example.rtw2 I/System.out: [UserPseudo2, UserPseudo1, UserPseudo3]*\r\n\r\nI don&#39;t exactly know why the script from my question doesn&#39;t works and this works, but it works.\r\n\r\n(**Just my opinion, but I&#39;m clearly not expert** : As an Atomic variable is defined in multiple threads, I suppose that following it&#39;s evolution may be complicated, and so &#39;&#39;freezing&#39;&#39; it&#39;s value by defining another variable solve here the problem.)","title":"Return a value only when all async tasks from a loop are done","body":"<p>After severals tests, I finally found a solution.\nBased on my question 1st script, I did this :</p>\n<pre><code>public interface convertListOfUidInPseudoListener {\n    void onCallbackConvertListOfUidInPseudo(List&lt;String&gt; membersPseudos);\n}\n\npublic void convertListOfUidInPseudo(List&lt;String&gt; membersUid, convertListOfUidInPseudoListener callback){\n    AtomicInteger nbDone = new AtomicInteger (0);\n    for (int i=0; i&lt;membersUid.size(); i++){\n        int finalI = i;\n        this.getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {\n            membersUid.set(finalI,playerPseudo);\n            int tasksDone = nbDone.getAndIncrement();// Here is the solution\n            System.out.println(playerPseudo);\n            System.out.println(tasksDone);\n\n            if (tasksDone==membersUid.size()-1){\n                callback.onCallbackConvertListOfUidInPseudo(membersUid);\n                System.out.println(membersUid);\n            }\n        });\n    }\n}\n</code></pre>\n<p>It's the same, but instead of reading directly the AtomicInteger (<em>nbDone</em>), I first define an other variable (<em>tasksDone</em>) which is equal to <em>nbDone</em>. For the moment, I have no problem with this solution.</p>\n<p>Here the Logcat :</p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo2</em></p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 0</em></p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo1</em></p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 1</em></p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: UserPseudo3</em></p>\n<p><em>2021-12-13 15:57:47.124 23255-23255/com.example.rtw2 I/System.out: 2</em></p>\n<p><em>2021-12-13 15:57:47.125 23255-23255/com.example.rtw2 I/System.out: [UserPseudo2, UserPseudo1, UserPseudo3]</em></p>\n<p>I don't exactly know why the script from my question doesn't works and this works, but it works.</p>\n<p>(<strong>Just my opinion, but I'm clearly not expert</strong> : As an Atomic variable is defined in multiple threads, I suppose that following it's evolution may be complicated, and so ''freezing'' it's value by defining another variable solve here the problem.)</p>\n"}],"owner":{"account_id":23495663,"reputation":46,"user_id":17546133,"display_name":"AnchorInk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70337052,"answer_count":2,"score":0,"last_activity_date":1639409196,"creation_date":1638735180,"question_id":70238146,"body_markdown":"I&#39;m working on a project on android Studio with Firebase.\r\n\r\nI have in my project a list of UserID that I want to &#39;&#39;convert&#39;&#39; in UserPseudos. To do this for a single element, I use the following method (which works as I want to) :\r\n\r\n    public interface getPlayerPseudoByUidCallback {\r\n        void onCallbackGetPlayerPseudoByUid(String playerPseudo);\r\n    }\r\n\r\n    public void getPlayerPseudoByUid(String playerUid,getPlayerPseudoByUidCallback callback){\r\n        getAllUsersDatas().whereEqualTo(UID_FIELD,playerUid).get().addOnSuccessListener(queryDocumentSnapshots -&gt; {\r\n            callback.onCallbackGetPlayerPseudoByUid((String) queryDocumentSnapshots.getDocuments().get(0).get(PSEUDO_FIELD));\r\n        });\r\n    }\r\n\r\n\r\nThen, I wrote the following method to do the same for each elements from my list :\r\n\r\n    public interface convertListOfUidInPseudoListener {\r\n        void onCallbackConvertListOfUidInPseudo(List&lt;String&gt; membersPseudos);\r\n    }\r\n\r\n    public void convertListOfUidInPseudo(List&lt;String&gt; membersUid,convertListOfUidInPseudoListener callback){\r\n        AtomicReference&lt;Integer&gt; nbDone = new AtomicReference&lt;&gt;(0);// I use it to know how many tasks are done\r\n        for (int i=0; i&lt;membersUid.size(); i++){\r\n            int finalI = i;// Because variable used in labmda expression should be final\r\n            this.getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {// The method above\r\n                membersUid.set(finalI,playerPseudo);// I do the &#39;&#39;conversion&#39;&#39;\r\n                nbDone.set(nbDone.get() + 1);// A task is done\r\n                System.out.println(playerPseudo);\r\n                if (nbDone.get()==membersUid.size()-1){// I suppose this happen when the current task is the last one\r\n                    callback.onCallbackConvertListOfUidInPseudo(membersUid);// I send my result\r\n                    System.out.println(membersUid);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**My problem is the following :**\r\n\r\n\r\nI&#39;m trying to use the AtomicReference ***nbDone*** to check when all my tasks are done, but it still call my callback even if all my list&#39;s elements are not &#39;&#39;converted&#39;&#39; ...\r\n\r\nHere what I see in Logcat :\r\n\r\n*2021-12-05 20:25:10.607 8282-8282/com.example.rtw2 I/System.out: UserPseudo1*\r\n\r\n*2021-12-05 20:25:10.607 8282-8282/com.example.rtw2 I/System.out: UserPseudo3*\r\n\r\n*2021-12-05 20:25:10.608 8282-8282/com.example.rtw2 I/System.out: [UserPseudo3, 3zSja22AiNegKNFAYdmmX2YiGsz1, UserPseudo1]*\r\n\r\n*2021-12-05 20:25:10.609 8282-8282/com.example.rtw2 I/System.out: UserPseudo2*\r\n\r\nSo as you can see, my callback function is called before all my tasks are done ...\r\n\r\n**My question is :**\r\n\r\nHow to ensure that all asynchronous tasks from my for loop are done before sending the result through my interface ?\r\n\r\n--\r\n\r\nThank you for your help,\r\n\r\nDon&#39;t hesitate to ask for more if needed,\r\n\r\n--\r\n\r\n**EDIT (12/06/2021):**\r\n\r\nCozimeter helped my by referencing *Class CountDownLatch* which do exactly what I want to do !\r\n\r\nI read the documentation and I did the following :\r\n\r\n        public void convertListOfUidInPseudo(List&lt;String&gt; membersUid, convertListOfUidInPseudoListener callback) {\r\n            CountDownLatch startSignal = new CountDownLatch(1);\r\n            CountDownLatch doneSignal = new CountDownLatch(membersUid.size());\r\n    \r\n            for (int i=0; i&lt;membersUid.size(); i++){\r\n                new Thread(new Converter(startSignal, doneSignal, membersUid, i)).start();\r\n            }\r\n    \r\n            try {\r\n                startSignal.countDown();\r\n                System.out.println(&quot;startSignal&quot;);\r\n                doneSignal.await();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;All tasks done&quot;);\r\n            System.out.println(membersUid);\r\n            callback.onCallbackConvertListOfUidInPseudo(membersUid);\r\n        }\r\n    \r\n        class Converter implements Runnable {\r\n            private final CountDownLatch startSignal;\r\n            private final CountDownLatch doneSignal;\r\n            public List&lt;String&gt; membersUid;\r\n            public Integer i;\r\n    \r\n            Converter(CountDownLatch startSignal, CountDownLatch doneSignal,List&lt;String&gt; membersUid, Integer i) {\r\n                this.startSignal = startSignal;\r\n                this.doneSignal = doneSignal;\r\n                this.membersUid = membersUid;\r\n                this.i = i;\r\n            }\r\n            public void run() {\r\n                try {\r\n                    startSignal.await();\r\n                    doWork();\r\n                    doneSignal.countDown();\r\n                } catch (InterruptedException ex) {} // return;\r\n            }\r\n    \r\n            void doWork() {\r\n                getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {\r\n                    membersUid.set(i, playerPseudo);\r\n                    System.out.println(&quot;Conversion of :&quot;+playerPseudo);\r\n                    //doneSignal.countDown();// -&gt; Make my app crash ...\r\n                });\r\n    //            membersUid.set(i, &quot;UserPseudo&quot;);\r\n            }\r\n        }\r\n\r\nBut unfortunately, my logcat send me this :\r\n\r\n*startSignal*\r\n\r\n*All tasks done*\r\n\r\n*[Sr0JUXiycASpo6tnAZR3VYcpcl23, E0m5kJWxRZhVJ7anhboSvIdD15Z2, 3zSja22AiNegKNFAYdmmX2YiGsz1]*\r\n\r\n*Conversion of :UserPseudo3*\r\n\r\n*Conversion of :UserPseudo*\r\n\r\n*Conversion of :UserPseudo2*\r\n\r\nI then tried to write *doneSignal.countDown()* inside of my lambda expression in the *doWork()*, but it makes my app crash ...\r\n\r\nSo my result is still sended before all my tasks are completed.","title":"Return a value only when all async tasks from a loop are done","body":"<p>I'm working on a project on android Studio with Firebase.</p>\n<p>I have in my project a list of UserID that I want to ''convert'' in UserPseudos. To do this for a single element, I use the following method (which works as I want to) :</p>\n<pre><code>public interface getPlayerPseudoByUidCallback {\n    void onCallbackGetPlayerPseudoByUid(String playerPseudo);\n}\n\npublic void getPlayerPseudoByUid(String playerUid,getPlayerPseudoByUidCallback callback){\n    getAllUsersDatas().whereEqualTo(UID_FIELD,playerUid).get().addOnSuccessListener(queryDocumentSnapshots -&gt; {\n        callback.onCallbackGetPlayerPseudoByUid((String) queryDocumentSnapshots.getDocuments().get(0).get(PSEUDO_FIELD));\n    });\n}\n</code></pre>\n<p>Then, I wrote the following method to do the same for each elements from my list :</p>\n<pre><code>public interface convertListOfUidInPseudoListener {\n    void onCallbackConvertListOfUidInPseudo(List&lt;String&gt; membersPseudos);\n}\n\npublic void convertListOfUidInPseudo(List&lt;String&gt; membersUid,convertListOfUidInPseudoListener callback){\n    AtomicReference&lt;Integer&gt; nbDone = new AtomicReference&lt;&gt;(0);// I use it to know how many tasks are done\n    for (int i=0; i&lt;membersUid.size(); i++){\n        int finalI = i;// Because variable used in labmda expression should be final\n        this.getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {// The method above\n            membersUid.set(finalI,playerPseudo);// I do the ''conversion''\n            nbDone.set(nbDone.get() + 1);// A task is done\n            System.out.println(playerPseudo);\n            if (nbDone.get()==membersUid.size()-1){// I suppose this happen when the current task is the last one\n                callback.onCallbackConvertListOfUidInPseudo(membersUid);// I send my result\n                System.out.println(membersUid);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>My problem is the following :</strong></p>\n<p>I'm trying to use the AtomicReference <em><strong>nbDone</strong></em> to check when all my tasks are done, but it still call my callback even if all my list's elements are not ''converted'' ...</p>\n<p>Here what I see in Logcat :</p>\n<p><em>2021-12-05 20:25:10.607 8282-8282/com.example.rtw2 I/System.out: UserPseudo1</em></p>\n<p><em>2021-12-05 20:25:10.607 8282-8282/com.example.rtw2 I/System.out: UserPseudo3</em></p>\n<p><em>2021-12-05 20:25:10.608 8282-8282/com.example.rtw2 I/System.out: [UserPseudo3, 3zSja22AiNegKNFAYdmmX2YiGsz1, UserPseudo1]</em></p>\n<p><em>2021-12-05 20:25:10.609 8282-8282/com.example.rtw2 I/System.out: UserPseudo2</em></p>\n<p>So as you can see, my callback function is called before all my tasks are done ...</p>\n<p><strong>My question is :</strong></p>\n<p>How to ensure that all asynchronous tasks from my for loop are done before sending the result through my interface ?</p>\n<p>--</p>\n<p>Thank you for your help,</p>\n<p>Don't hesitate to ask for more if needed,</p>\n<p>--</p>\n<p><strong>EDIT (12/06/2021):</strong></p>\n<p>Cozimeter helped my by referencing <em>Class CountDownLatch</em> which do exactly what I want to do !</p>\n<p>I read the documentation and I did the following :</p>\n<pre><code>    public void convertListOfUidInPseudo(List&lt;String&gt; membersUid, convertListOfUidInPseudoListener callback) {\n        CountDownLatch startSignal = new CountDownLatch(1);\n        CountDownLatch doneSignal = new CountDownLatch(membersUid.size());\n\n        for (int i=0; i&lt;membersUid.size(); i++){\n            new Thread(new Converter(startSignal, doneSignal, membersUid, i)).start();\n        }\n\n        try {\n            startSignal.countDown();\n            System.out.println(&quot;startSignal&quot;);\n            doneSignal.await();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;All tasks done&quot;);\n        System.out.println(membersUid);\n        callback.onCallbackConvertListOfUidInPseudo(membersUid);\n    }\n\n    class Converter implements Runnable {\n        private final CountDownLatch startSignal;\n        private final CountDownLatch doneSignal;\n        public List&lt;String&gt; membersUid;\n        public Integer i;\n\n        Converter(CountDownLatch startSignal, CountDownLatch doneSignal,List&lt;String&gt; membersUid, Integer i) {\n            this.startSignal = startSignal;\n            this.doneSignal = doneSignal;\n            this.membersUid = membersUid;\n            this.i = i;\n        }\n        public void run() {\n            try {\n                startSignal.await();\n                doWork();\n                doneSignal.countDown();\n            } catch (InterruptedException ex) {} // return;\n        }\n\n        void doWork() {\n            getPlayerPseudoByUid(membersUid.get(i), playerPseudo -&gt; {\n                membersUid.set(i, playerPseudo);\n                System.out.println(&quot;Conversion of :&quot;+playerPseudo);\n                //doneSignal.countDown();// -&gt; Make my app crash ...\n            });\n//            membersUid.set(i, &quot;UserPseudo&quot;);\n        }\n    }\n</code></pre>\n<p>But unfortunately, my logcat send me this :</p>\n<p><em>startSignal</em></p>\n<p><em>All tasks done</em></p>\n<p><em>[Sr0JUXiycASpo6tnAZR3VYcpcl23, E0m5kJWxRZhVJ7anhboSvIdD15Z2, 3zSja22AiNegKNFAYdmmX2YiGsz1]</em></p>\n<p><em>Conversion of :UserPseudo3</em></p>\n<p><em>Conversion of :UserPseudo</em></p>\n<p><em>Conversion of :UserPseudo2</em></p>\n<p>I then tried to write <em>doneSignal.countDown()</em> inside of my lambda expression in the <em>doWork()</em>, but it makes my app crash ...</p>\n<p>So my result is still sended before all my tasks are completed.</p>\n"},{"tags":["java","testng","testng-annotation-test"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639408364,"creation_date":1639408025,"answer_id":70336782,"question_id":70334772,"body_markdown":"You can use the classes prefixed with `Xml` to achieve this:\r\n\r\n```java\r\nXmlClass xmlClass = new XmlClass(TestNGTest.class.getName());\r\n// now mention the methods to be included. You may use setExcludedMethods depending on the requirement.\r\nXmlInclude method = new XmlInclude(&quot;test2&quot;);\r\nxmlClass.setIncludedMethods(List.of(method));\r\n// or xmlClass.setExcludedMethods(List.of(&quot;test&quot;));\r\n```\r\n\r\nNow create xml suite and xml test:\r\n```java\r\nXmlSuite suite = new XmlSuite();\r\nsuite.setName(&quot;suite&quot;);\r\n\r\nXmlTest test = new XmlTest(suite);\r\n// internally, the test method is also added to the suite object\r\ntest.setName(&quot;sample&quot;);\r\ntest.setXmlClasses(List.of(xmlClass));\r\n```\r\n\r\nFinal create `TestNG` object:\r\n\r\n```java\r\nTestNG t = new TestNG();\r\nt.setXmlSuites(List.of(suite));\r\nt.run();\r\n```\r\n\r\n**Note:** `List.of` is a method available only in java 9 or above. If you are using a lower version, then you may use `java.util.Arrays.asList`","title":"How to run the specified testng case by code?","body":"<p>You can use the classes prefixed with <code>Xml</code> to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlClass xmlClass = new XmlClass(TestNGTest.class.getName());\n// now mention the methods to be included. You may use setExcludedMethods depending on the requirement.\nXmlInclude method = new XmlInclude(&quot;test2&quot;);\nxmlClass.setIncludedMethods(List.of(method));\n// or xmlClass.setExcludedMethods(List.of(&quot;test&quot;));\n</code></pre>\n<p>Now create xml suite and xml test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlSuite suite = new XmlSuite();\nsuite.setName(&quot;suite&quot;);\n\nXmlTest test = new XmlTest(suite);\n// internally, the test method is also added to the suite object\ntest.setName(&quot;sample&quot;);\ntest.setXmlClasses(List.of(xmlClass));\n</code></pre>\n<p>Final create <code>TestNG</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestNG t = new TestNG();\nt.setXmlSuites(List.of(suite));\nt.run();\n</code></pre>\n<p><strong>Note:</strong> <code>List.of</code> is a method available only in java 9 or above. If you are using a lower version, then you may use <code>java.util.Arrays.asList</code></p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639408804,"creation_date":1639408804,"answer_id":70336964,"question_id":70334772,"body_markdown":"You can do that by adding a method interceptor like this:\r\n\r\n```java\r\npublic class TestNGTest implements IMethodInterceptor {\r\n\r\n    @Test\r\n    public void test() {\r\n\r\n        System.out.println(&quot;test  ########&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void test2() {\r\n\r\n        System.out.println(&quot;test2 ************&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        TestNG testSuite = new TestNG();\r\n\r\n        testSuite.setTestClasses(new Class[] { TestNGTest.class });\r\n        testSuite.setMethodInterceptor(new TestNGTest());\r\n        testSuite.setDefaultSuiteName(&quot;setDefaultSuiteName&quot;);\r\n        testSuite.setDefaultTestName(&quot;setDefaultTestName&quot;);\r\n        testSuite.run();\r\n    }\r\n\r\n    @Override\r\n    public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\r\n        return methods\r\n                .stream()\r\n                .filter(iMethodInstance -&gt; &quot;test2&quot;.equals(iMethodInstance.getMethod().getMethodName()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```","title":"How to run the specified testng case by code?","body":"<p>You can do that by adding a method interceptor like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestNGTest implements IMethodInterceptor {\n\n    @Test\n    public void test() {\n\n        System.out.println(&quot;test  ########&quot;);\n    }\n\n    @Test\n    public void test2() {\n\n        System.out.println(&quot;test2 ************&quot;);\n    }\n\n    public static void main(String[] args) throws Exception {\n        TestNG testSuite = new TestNG();\n\n        testSuite.setTestClasses(new Class[] { TestNGTest.class });\n        testSuite.setMethodInterceptor(new TestNGTest());\n        testSuite.setDefaultSuiteName(&quot;setDefaultSuiteName&quot;);\n        testSuite.setDefaultTestName(&quot;setDefaultTestName&quot;);\n        testSuite.run();\n    }\n\n    @Override\n    public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\n        return methods\n                .stream()\n                .filter(iMethodInstance -&gt; &quot;test2&quot;.equals(iMethodInstance.getMethod().getMethodName()))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14779482,"reputation":64,"user_id":10673322,"display_name":"rocco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70336782,"answer_count":2,"score":1,"last_activity_date":1639408804,"creation_date":1639398897,"question_id":70334772,"body_markdown":"How to run the specified `testNG` case by code? The following code:\r\n```java\r\npublic class TestNGTest {\r\n\r\n    @Test\r\n    public void test() {\r\n        System.out.println(&quot;test  ########&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void test2() {\r\n        System.out.println(&quot;test2 ************&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        TestNG testSuite = new TestNG();\r\n\r\n        testSuite.setTestClasses(new Class[] { TestNGTest.class });\r\n        testSuite.setDefaultSuiteName(&quot;setDefaultSuiteName&quot;);\r\n        testSuite.setDefaultTestName(&quot;setDefaultTestName&quot;);\r\n        testSuite.run();\r\n    }\r\n}\r\n```\r\nThis would run both the test cases. How to specifically run &quot;test2&quot; only?\r\n\r\nExpected output:\r\n```\r\ntest2 ************\r\n```","title":"How to run the specified testng case by code?","body":"<p>How to run the specified <code>testNG</code> case by code? The following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestNGTest {\n\n    @Test\n    public void test() {\n        System.out.println(&quot;test  ########&quot;);\n    }\n\n    @Test\n    public void test2() {\n        System.out.println(&quot;test2 ************&quot;);\n    }\n\n    public static void main(String[] args) throws Exception {\n        TestNG testSuite = new TestNG();\n\n        testSuite.setTestClasses(new Class[] { TestNGTest.class });\n        testSuite.setDefaultSuiteName(&quot;setDefaultSuiteName&quot;);\n        testSuite.setDefaultTestName(&quot;setDefaultTestName&quot;);\n        testSuite.run();\n    }\n}\n</code></pre>\n<p>This would run both the test cases. How to specifically run &quot;test2&quot; only?</p>\n<p>Expected output:</p>\n<pre><code>test2 ************\n</code></pre>\n"},{"tags":["java","resteasy","rest-client"],"answers":[{"tags":[],"owner":{"account_id":164436,"reputation":1000,"user_id":387175,"accept_rate":88,"display_name":"KevinO"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1639408537,"creation_date":1611354597,"answer_id":65853591,"question_id":65069283,"body_markdown":"Version 4.0.0 of RestEasy Client converted ResteasyClientBuilder to an abstract class and provided `ResteasyClientBuilderImpl` as the actual implementation that you&#39;re looking for.\r\n\r\nBut you should be using the new `builder` when generating a client. \r\n\r\n```\r\nclient = ClientBuilder.newBuilder().build();\r\nbase_target = client.target(&quot;http://localhost:8080/demorest/webresources/&quot;);\r\n```","title":"Cannot instantiate the type ResteasyClientBuilder","body":"<p>Version 4.0.0 of RestEasy Client converted ResteasyClientBuilder to an abstract class and provided <code>ResteasyClientBuilderImpl</code> as the actual implementation that you're looking for.</p>\n<p>But you should be using the new <code>builder</code> when generating a client.</p>\n<pre><code>client = ClientBuilder.newBuilder().build();\nbase_target = client.target(&quot;http://localhost:8080/demorest/webresources/&quot;);\n</code></pre>\n"}],"owner":{"account_id":18517476,"reputation":61,"user_id":13491293,"display_name":"TANMAY BHAYANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8711,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1639408537,"creation_date":1606719815,"question_id":65069283,"body_markdown":"I am trying to build a simple Resteasy client, using proxy framework. I am getting a error, &quot;Cannot instantiate the type ResteasyClientBuilder&quot;.\r\nThis is the Client class.\r\n```\r\npackage com.RestClient.Clients;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.core.UriBuilder;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClient;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyWebTarget;\r\n\r\nimport com.RestClient.Models.Student;\r\n\r\npublic class ClientClass {\r\n\tResteasyClient client;\r\n\tResteasyWebTarget base_target,student_target;\r\n\tClientInterface proxy;\r\n\tpublic ClientClass() {\r\n\t\tclient = new ResteasyClientBuilder().build();&lt;---------error\r\n\t\tbase_target = client.target(UriBuilder.fromPath(&quot;http://localhost:8080/demorest/webresources/&quot;));\r\n\t    student_target = base_target.path(&quot;students&quot;);\r\n\t}\r\n\tpublic int registerStudent(Student s) {\r\n\t\tResponse res = proxy.createStudent(s);\r\n\t\treturn res.getStatus();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nI was following [this][1] tutorial.\r\n\r\n\r\n  [1]: https://www.baeldung.com/resteasy-client-tutorial","title":"Cannot instantiate the type ResteasyClientBuilder","body":"<p>I am trying to build a simple Resteasy client, using proxy framework. I am getting a error, &quot;Cannot instantiate the type ResteasyClientBuilder&quot;.\nThis is the Client class.</p>\n<pre><code>package com.RestClient.Clients;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.UriBuilder;\nimport org.jboss.resteasy.client.jaxrs.ResteasyClient;\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\nimport org.jboss.resteasy.client.jaxrs.ResteasyWebTarget;\n\nimport com.RestClient.Models.Student;\n\npublic class ClientClass {\n    ResteasyClient client;\n    ResteasyWebTarget base_target,student_target;\n    ClientInterface proxy;\n    public ClientClass() {\n        client = new ResteasyClientBuilder().build();&lt;---------error\n        base_target = client.target(UriBuilder.fromPath(&quot;http://localhost:8080/demorest/webresources/&quot;));\n        student_target = base_target.path(&quot;students&quot;);\n    }\n    public int registerStudent(Student s) {\n        Response res = proxy.createStudent(s);\n        return res.getStatus();\n        \n    }\n}\n</code></pre>\n<p>I was following <a href=\"https://www.baeldung.com/resteasy-client-tutorial\" rel=\"nofollow noreferrer\">this</a> tutorial.</p>\n"},{"tags":["java","jaxb","maven-plugin","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":5953130,"reputation":66,"user_id":4680600,"display_name":"rslkvk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639408429,"creation_date":1639405094,"answer_id":70336101,"question_id":69086526,"body_markdown":"There is a new element named `&lt;staleFileDirectory&gt;`. ","title":"StaleFile element not allowed with jaxb2 version 2","body":"<p>There is a new element named <code>&lt;staleFileDirectory&gt;</code>.</p>\n"}],"owner":{"account_id":16928524,"reputation":115,"user_id":12243508,"display_name":"Jane Hayes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70336101,"answer_count":1,"score":0,"last_activity_date":1639408429,"creation_date":1631010482,"question_id":69086526,"body_markdown":"I&#39;m upgrading our jaxb2-maven-plugin from version 1.5 to 2.5. After changing the schemaDirectory and schemaFiles to use the source tags it builds and works as before.\r\n\r\nHowever the staleFile tag is being highlighted as an error in intellij with the message &quot;Element staleFile is not allowed here&quot;\r\n\r\nI&#39;ve not been able to find any documentation on what to do with this tag in version 2+ of jaxb\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n            &lt;extension&gt;true&lt;/extension&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n               &lt;id&gt;company-binding-directAuthorizeReq&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                   &lt;goal&gt;xjc&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                   &lt;sources&gt;\r\n                       &lt;source&gt;${company.schema.location}/directAuthorizeReq.xsd&lt;/source&gt;\r\n                   &lt;/sources&gt;\r\n                   &lt;outputDirectory&gt;${generated.source.location}&lt;/outputDirectory&gt;\r\n                   &lt;packageName&gt;${company.model.package}.directAuthorizeReq&lt;/packageName&gt;\r\n                   &lt;staleFile&gt;${project.build.directory}/jaxb2/.jaxb-staleFlag-directAuthorizeReq&lt;/staleFile&gt;\r\n               &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n ```","title":"StaleFile element not allowed with jaxb2 version 2","body":"<p>I'm upgrading our jaxb2-maven-plugin from version 1.5 to 2.5. After changing the schemaDirectory and schemaFiles to use the source tags it builds and works as before.</p>\n<p>However the staleFile tag is being highlighted as an error in intellij with the message &quot;Element staleFile is not allowed here&quot;</p>\n<p>I've not been able to find any documentation on what to do with this tag in version 2+ of jaxb</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;extension&gt;true&lt;/extension&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;id&gt;company-binding-directAuthorizeReq&lt;/id&gt;\n               &lt;goals&gt;\n                   &lt;goal&gt;xjc&lt;/goal&gt;\n               &lt;/goals&gt;\n               &lt;configuration&gt;\n                   &lt;sources&gt;\n                       &lt;source&gt;${company.schema.location}/directAuthorizeReq.xsd&lt;/source&gt;\n                   &lt;/sources&gt;\n                   &lt;outputDirectory&gt;${generated.source.location}&lt;/outputDirectory&gt;\n                   &lt;packageName&gt;${company.model.package}.directAuthorizeReq&lt;/packageName&gt;\n                   &lt;staleFile&gt;${project.build.directory}/jaxb2/.jaxb-staleFlag-directAuthorizeReq&lt;/staleFile&gt;\n               &lt;/configuration&gt;\n           &lt;/execution&gt;\n       &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1639406754,"post_id":70336431,"comment_id":124333822,"body_markdown":"A `String` isn&#39;t an `Item`. So checking if a `String` is contained in a list of `Item`s will obviously never match.","body":"A <code>String</code> isn&#39;t an <code>Item</code>. So checking if a <code>String</code> is contained in a list of <code>Item</code>s will obviously never match."},{"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"score":0,"creation_date":1639406902,"post_id":70336431,"comment_id":124333887,"body_markdown":"I edited it, I pasted my old code. Check it out again, but I get your point, how can I check if identifier is in the list?","body":"I edited it, I pasted my old code. Check it out again, but I get your point, how can I check if identifier is in the list?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1639407292,"post_id":70336431,"comment_id":124334050,"body_markdown":"Instead of `contains` you could do something like `items.stream().anyMatch(i -&gt; i.identifier.equals(name));`","body":"Instead of <code>contains</code> you could do something like <code>items.stream().anyMatch(i -&gt; i.identifier.equals(name));</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639406895,"creation_date":1639406895,"answer_id":70336501,"question_id":70336431,"body_markdown":"Your list contains an `Item` object whose `.getIdentifier()` method will return `1234`.\r\n\r\nThat is, of course, __not__ the same thing as the string `1234`, therefore, trivially, `contains` returns false.\r\n\r\nIt&#39;s like me asking you: Hey, does this orchard of apple trees contain this painting of an apple? Of course it doesn&#39;t: The orchard contains no paintings.\r\n\r\n\r\nYou have to loop through the entire list yourself (write a for loop or use the stream API) to check. Java is OO and thus the notion that an object has an &#39;identifier&#39; is not a general principle. That&#39;s something your `Item` class has, but not other classes.\r\n\r\nAlternatively, your `List&lt;item&gt;` is probably not the right datatype if you want this; perhaps that should be a `Map&lt;String, String&gt;` that maps identifiers onto names. Then you can simply use `.containsKey`.\r\n","title":"How to check if a String is contained in the ArrayList? Contains doesn&#39;t work","body":"<p>Your list contains an <code>Item</code> object whose <code>.getIdentifier()</code> method will return <code>1234</code>.</p>\n<p>That is, of course, <strong>not</strong> the same thing as the string <code>1234</code>, therefore, trivially, <code>contains</code> returns false.</p>\n<p>It's like me asking you: Hey, does this orchard of apple trees contain this painting of an apple? Of course it doesn't: The orchard contains no paintings.</p>\n<p>You have to loop through the entire list yourself (write a for loop or use the stream API) to check. Java is OO and thus the notion that an object has an 'identifier' is not a general principle. That's something your <code>Item</code> class has, but not other classes.</p>\n<p>Alternatively, your <code>List&lt;item&gt;</code> is probably not the right datatype if you want this; perhaps that should be a <code>Map&lt;String, String&gt;</code> that maps identifiers onto names. Then you can simply use <code>.containsKey</code>.</p>\n"},{"tags":[],"owner":{"account_id":23635249,"reputation":1,"user_id":17666422,"display_name":"Stephone hu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639408378,"creation_date":1639408378,"answer_id":70336868,"question_id":70336431,"body_markdown":"you can overwirte Item&#39;s equals methods,like this code:\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Item item = (Item) o;\r\n        return Objects.equals(identifier, item.identifier) ||\r\n                Objects.equals(name, item.name);\r\n    }","title":"How to check if a String is contained in the ArrayList? Contains doesn&#39;t work","body":"<p>you can overwirte Item's equals methods,like this code:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Item item = (Item) o;\n    return Objects.equals(identifier, item.identifier) ||\n            Objects.equals(name, item.name);\n}\n</code></pre>\n"}],"owner":{"account_id":22465273,"reputation":9,"user_id":16666525,"display_name":"Vincenzo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1639410152,"answer_count":2,"score":-2,"last_activity_date":1639408378,"creation_date":1639406591,"question_id":70336431,"body_markdown":"My code is almost ready I just can&#39;t solve a simple problem.\r\nI want to add and identification code and the item attched to it in an ArrayList.\r\nExample, parentheses are just to clearify what I want to do, they are not part of code or output:\r\n\r\n - 3ZU2SD34: The Elder Scrolls (-! added)\r\n - 9ZU5SD54: Fifa 21           (-! added)\r\n - 3ZU2SD34: The Elder Scrolls (-! not added, ID already on the list)\r\n - 3ZU2SD34: Final Fantasy     (-! not added, ID already on the list)\r\n - 4ZU8SD89: NBA 2K22          (-! added)\r\n\r\n...and so on.\r\n\r\nMy code looks like this:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            ArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\n            while (true) {\r\n\r\n                System.out.println(&quot;Identifier? (empty will stop)&quot;);\r\n                String identifier = scanner.nextLine();\r\n\r\n                if (identifier.isEmpty()) {\r\n                    break;\r\n                }\r\n\r\n                System.out.println(&quot;Name? (empty will stop)&quot;);\r\n                String name = scanner.nextLine();\r\n\r\n                if (name.isEmpty()) {\r\n                break;\r\n                }\r\n                /*if (!items.contains(identifier)){   This doesn&#39;t work\r\n                    items.add(new Item(identifier, name));\r\n                }*/\r\n                \r\n                if (!items.contains(new Item(identifier,name))) {\r\n                items.add(new Item(identifier, name));  //this works fine, but I want to skip even if only the ID is equal\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;==Items==&quot;);\r\n            for (Item lines : items) {\r\n               System.out.println(lines);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nIdentifier? (empty will stop)\r\n1234\r\nName? (empty will stop)\r\nTest1\r\nIdentifier? (empty will stop)\r\n1234\r\nName? (empty will stop)\r\nTest2\r\nIdentifier? (empty will stop)\r\n1234\r\nName? (empty will stop)\r\nTest1\r\nIdentifier? (empty will stop)\r\n5555\r\nName? (empty will stop)\r\nTest3\r\nIdentifier? (empty will stop)\r\n\r\n\r\n==Items==\r\n1234: Test1\r\n1234: Test2\r\n5555: Test3\r\n\r\n```\r\n\r\n\r\nMy code adds everything execpt identical Items, but I want it to skip same identification too. How can I do it?\r\nProbably there is such an easy way, but I can&#39;t figure it out.","title":"How to check if a String is contained in the ArrayList? Contains doesn&#39;t work","body":"<p>My code is almost ready I just can't solve a simple problem.\nI want to add and identification code and the item attched to it in an ArrayList.\nExample, parentheses are just to clearify what I want to do, they are not part of code or output:</p>\n<ul>\n<li>3ZU2SD34: The Elder Scrolls (-! added)</li>\n<li>9ZU5SD54: Fifa 21           (-! added)</li>\n<li>3ZU2SD34: The Elder Scrolls (-! not added, ID already on the list)</li>\n<li>3ZU2SD34: Final Fantasy     (-! not added, ID already on the list)</li>\n<li>4ZU8SD89: NBA 2K22          (-! added)</li>\n</ul>\n<p>...and so on.</p>\n<p>My code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n    import java.util.Scanner;\n\n    public class Main {\n\n        public static void main(String[] args) {\n            Scanner scanner = new Scanner(System.in);\n            ArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\n\n            while (true) {\n\n                System.out.println(&quot;Identifier? (empty will stop)&quot;);\n                String identifier = scanner.nextLine();\n\n                if (identifier.isEmpty()) {\n                    break;\n                }\n\n                System.out.println(&quot;Name? (empty will stop)&quot;);\n                String name = scanner.nextLine();\n\n                if (name.isEmpty()) {\n                break;\n                }\n                /*if (!items.contains(identifier)){   This doesn't work\n                    items.add(new Item(identifier, name));\n                }*/\n                \n                if (!items.contains(new Item(identifier,name))) {\n                items.add(new Item(identifier, name));  //this works fine, but I want to skip even if only the ID is equal\n                }\n            }\n\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;==Items==&quot;);\n            for (Item lines : items) {\n               System.out.println(lines);\n            }\n        }\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Identifier? (empty will stop)\n1234\nName? (empty will stop)\nTest1\nIdentifier? (empty will stop)\n1234\nName? (empty will stop)\nTest2\nIdentifier? (empty will stop)\n1234\nName? (empty will stop)\nTest1\nIdentifier? (empty will stop)\n5555\nName? (empty will stop)\nTest3\nIdentifier? (empty will stop)\n\n\n==Items==\n1234: Test1\n1234: Test2\n5555: Test3\n\n</code></pre>\n<p>My code adds everything execpt identical Items, but I want it to skip same identification too. How can I do it?\nProbably there is such an easy way, but I can't figure it out.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":50263,"reputation":22896,"user_id":149872,"accept_rate":100,"display_name":"Elias Dorneles"},"score":1,"creation_date":1335294123,"post_id":9875588,"comment_id":13261379,"body_markdown":"I would love if Eclipse implemented that!","body":"I would love if Eclipse implemented that!"}],"answers":[{"tags":[],"owner":{"account_id":1134402,"reputation":2079,"user_id":1119778,"display_name":"Mike Bockus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332778166,"creation_date":1332778166,"answer_id":9875679,"question_id":9875588,"body_markdown":"When you&#39;re editing your formatting profile, select the &#39;New Lines&#39; tab.  There&#39;s a grouping labelled &#39;Annotations&#39; on that preference page.  You should be able to deselect the preferences to &quot;Insert new line after annotations on members/parameters/local variables&quot; ","title":"How to stop Eclipse from splitting annotations into new lines","body":"<p>When you're editing your formatting profile, select the 'New Lines' tab.  There's a grouping labelled 'Annotations' on that preference page.  You should be able to deselect the preferences to \"Insert new line after annotations on members/parameters/local variables\" </p>\n"},{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1332778199,"creation_date":1332778199,"answer_id":9875692,"question_id":9875588,"body_markdown":"IMHO the closest you can get is:\r\n\r\n    @Setter @Getter @sthElse @oneMore @etc private String query;\r\n\r\n(via Formatter-&gt;New Lines-&gt;Insert new lines after annotations on Method","title":"How to stop Eclipse from splitting annotations into new lines","body":"<p>IMHO the closest you can get is:</p>\n\n<pre><code>@Setter @Getter @sthElse @oneMore @etc private String query;\n</code></pre>\n\n<p>(via Formatter->New Lines->Insert new lines after annotations on Method</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517789786,"creation_date":1389618942,"answer_id":21092271,"question_id":9875588,"body_markdown":"One hack that allows you to force a newline whenever you want is to add a in-line comment (`//`) to the end of the line.  For example, when I have annotations on parameters, I want them to line up like this:\r\n\r\n\tpublic ModelView finish(//\r\n\t\t\t@PathParam(&quot;stampId&quot;)//\r\n\t\t\tlong stampId, //\r\n\r\nInstead of like this:\r\n\r\n\tpublic ModelView finish(@PathParam(&quot;stampId&quot;) long stampId,\r\n\r\nMy use of `//` gives me more fine grained control over this.  So if you change the \r\n&quot;insert new lines after annotations&quot; setting you should be able to get:\r\n\r\n    @Setter @Getter @sthElse @oneMore @etc //\r\n    private String query;\r\n\r\nI&#39;m sure if I took a look at the Eclipse formatting code I could add it there but I don&#39;t have the time for that.  :-)\r\n","title":"How to stop Eclipse from splitting annotations into new lines","body":"<p>One hack that allows you to force a newline whenever you want is to add a in-line comment (<code>//</code>) to the end of the line.  For example, when I have annotations on parameters, I want them to line up like this:</p>\n\n<pre><code>public ModelView finish(//\n        @PathParam(\"stampId\")//\n        long stampId, //\n</code></pre>\n\n<p>Instead of like this:</p>\n\n<pre><code>public ModelView finish(@PathParam(\"stampId\") long stampId,\n</code></pre>\n\n<p>My use of <code>//</code> gives me more fine grained control over this.  So if you change the \n\"insert new lines after annotations\" setting you should be able to get:</p>\n\n<pre><code>@Setter @Getter @sthElse @oneMore @etc //\nprivate String query;\n</code></pre>\n\n<p>I'm sure if I took a look at the Eclipse formatting code I could add it there but I don't have the time for that.  :-)</p>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639408374,"creation_date":1639392984,"answer_id":70333524,"question_id":9875588,"body_markdown":"On Eclipse 2020-12 (4.18) or later, [Annotations wrapping settings](https://www.eclipse.org/eclipse/news/4.18/jdt.php#JavaFormatter) exist.\r\n\r\n- Line Wrapping &gt; Wrapping settings &gt; Annotations &gt; On fields: **Do not wrap**","title":"How to stop Eclipse from splitting annotations into new lines","body":"<p>On Eclipse 2020-12 (4.18) or later, <a href=\"https://www.eclipse.org/eclipse/news/4.18/jdt.php#JavaFormatter\" rel=\"nofollow noreferrer\">Annotations wrapping settings</a> exist.</p>\n<ul>\n<li>Line Wrapping &gt; Wrapping settings &gt; Annotations &gt; On fields: <strong>Do not wrap</strong></li>\n</ul>\n"}],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3177,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21092271,"answer_count":4,"score":10,"last_activity_date":1639408374,"creation_date":1332777784,"question_id":9875588,"body_markdown":"\t@Setter\r\n\t@Getter\r\n\tprivate String query;\r\n\r\nI get something like this after formatting, how to prevent it and keep my annotations in one line? I didn&#39;t find any usable setting inside Formater configuration.\r\n\r\n\t@Setter @Getter @sthElse @oneMore @etc\r\n\tprivate String query;\r\nThis is how I would like it to be","title":"How to stop Eclipse from splitting annotations into new lines","body":"<pre><code>@Setter\n@Getter\nprivate String query;\n</code></pre>\n\n<p>I get something like this after formatting, how to prevent it and keep my annotations in one line? I didn't find any usable setting inside Formater configuration.</p>\n\n<pre><code>@Setter @Getter @sthElse @oneMore @etc\nprivate String query;\n</code></pre>\n\n<p>This is how I would like it to be</p>\n"},{"tags":["java","maven","jakarta-ee","glassfish","apache-commons-fileupload"],"comments":[{"owner":{"account_id":6714591,"reputation":490,"user_id":5176800,"accept_rate":80,"display_name":"Filou"},"score":1,"creation_date":1639383039,"post_id":70297251,"comment_id":124325326,"body_markdown":"This is most likely not related to your concrete `java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener` error, but which GlassFish version are you using exactly? As far as I know GlassFish 6.0.0 still does not support JDK11. GlassFish 6.1 is the first to support h JDK11 https://projects.eclipse.org/projects/ee4j.glassfish/releases/6.1.0","body":"This is most likely not related to your concrete <code>java.lang.NoClassDefFoundError: javax&#47;servlet&#47;ServletContextListener</code> error, but which GlassFish version are you using exactly? As far as I know GlassFish 6.0.0 still does not support JDK11. GlassFish 6.1 is the first to support h JDK11 <a href=\"https://projects.eclipse.org/projects/ee4j.glassfish/releases/6.1.0\" rel=\"nofollow noreferrer\">projects.eclipse.org/projects/ee4j.glassfish/releases/6.1.0</a>"},{"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"score":1,"creation_date":1639404784,"post_id":70297251,"comment_id":124332946,"body_markdown":"Yes, I&#39;m using Glassfish 6.1","body":"Yes, I&#39;m using Glassfish 6.1"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1639406536,"post_id":70297251,"comment_id":124333717,"body_markdown":"GlassFish 6.x is Jakarta EE 9.x, which uses the `jakarta.*` package namespace. To be able to use your code with GlassFish 6.1 (and thus JakartaEE 9), you will need to change the packages imported by your code. If you want to continue to use the `javax.*` package namespace, you need to downgrade to a Jakarta EE 8 version, which is GlassFish 5.1.","body":"GlassFish 6.x is Jakarta EE 9.x, which uses the <code>jakarta.*</code> package namespace. To be able to use your code with GlassFish 6.1 (and thus JakartaEE 9), you will need to change the packages imported by your code. If you want to continue to use the <code>javax.*</code> package namespace, you need to downgrade to a Jakarta EE 8 version, which is GlassFish 5.1."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639407429,"post_id":70297251,"comment_id":124334112,"body_markdown":"It looks like commons-fileupload doesn&#39;t support JakartaEE ... yet.","body":"It looks like commons-fileupload doesn&#39;t support JakartaEE ... yet."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639408311,"creation_date":1639407978,"answer_id":70336773,"question_id":70297251,"body_markdown":"Your problems stem from the incompatibility between the Java EE 8 or earlier versus Jakarta EE 9 or later.\r\n\r\nIt looks the most recent official release of Apache Commons FileUpload still depends on the Java EE APIs.  However, looking at the commit history on GitHub, this commit:\r\n\r\n  - https://github.com/apache/commons-fileupload/commit/18db2b7e5a471b5bd81dab119db43c9efceda3cf\r\n\r\npurports to remove Java EE and Jakarta EE dependencies from the Java code.   So, if were to check out the source  at that commit or later, you should be able to build a version of `commons-fileupload` that will run on either Java EE or Jakarta EE.\r\n\r\n(Note: I haven&#39;t tried this out.) \r\n\r\nReading between the lines, I expect that will be a new official release of this library fairly soon.  Apparently, the Java EE dependency in `commons-fileupload` is a blocker for some other Apache Foundation projects.\r\n\r\n----------------------\r\n\r\nThe other alternative would be to keep your application at Java EE 8 (or earlier) for now, and use GlassFish 5.1 or earlier ... which requires Java 8 rather than Java 11.","title":"Migration java 8 to 11. java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener","body":"<p>Your problems stem from the incompatibility between the Java EE 8 or earlier versus Jakarta EE 9 or later.</p>\n<p>It looks the most recent official release of Apache Commons FileUpload still depends on the Java EE APIs.  However, looking at the commit history on GitHub, this commit:</p>\n<ul>\n<li><a href=\"https://github.com/apache/commons-fileupload/commit/18db2b7e5a471b5bd81dab119db43c9efceda3cf\" rel=\"nofollow noreferrer\">https://github.com/apache/commons-fileupload/commit/18db2b7e5a471b5bd81dab119db43c9efceda3cf</a></li>\n</ul>\n<p>purports to remove Java EE and Jakarta EE dependencies from the Java code.   So, if were to check out the source  at that commit or later, you should be able to build a version of <code>commons-fileupload</code> that will run on either Java EE or Jakarta EE.</p>\n<p>(Note: I haven't tried this out.)</p>\n<p>Reading between the lines, I expect that will be a new official release of this library fairly soon.  Apparently, the Java EE dependency in <code>commons-fileupload</code> is a blocker for some other Apache Foundation projects.</p>\n<hr />\n<p>The other alternative would be to keep your application at Java EE 8 (or earlier) for now, and use GlassFish 5.1 or earlier ... which requires Java 8 rather than Java 11.</p>\n"}],"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2507,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1639408311,"creation_date":1639087226,"question_id":70297251,"body_markdown":"- I am migrating an application from java8 to java11, the changes I have made are :\r\n1. I updated the maven compiler.version from 3.3 to 3.8.0\r\n2. I updated the maven compiler.source from 1.8 to 11\r\n3. I updated the maven compiler.target from 1.8 to 11\r\n4. I replaced the javax dependencies with the corresponding jakarta ones, I followed the instructions in this [post][1].\r\n\r\n- I am using Eclipse and Glassfish 6.1.0, in glassfish I have to add some libraries that are important for the project, but I have had problems adding the commons-fileupload one, I found that the Apache Commons code that uses the javax package. * package does not compile with Jakarta EE 9 and GlassFish 6.1.0 code and the commons-fileupload depends on javax.servlet and the GlassFish admin console uses it to load implementations.\r\n\r\n- Also, I&#39;m working with:\r\n    * JDK 11\r\n    * GWT Eclipse Plugin 2.8.1\r\n    * Eclipse 2021-03 (4.19.0) Build id: 20210312-0638\r\n\t* Glassfish 6.1.0\r\n\r\nWhen I try to deploy the application I get this error: \r\n```\r\n[2021-12-07T14:34:55.416-0500] [glassfish 6.1] [SEVERE] [AS-WEB-CORE-00108] [jakarta.enterprise.web.core] [tid: _ThreadID=47 _ThreadName=admin-listener(3)] [timeMillis: 1638905695416] [levelValue: 1000] [[\r\n  ContainerBase.addChild: start: \r\norg.apache.catalina.LifecycleException: java.lang.IllegalArgumentException: java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\r\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:5537)\r\n\tat com.sun.enterprise.web.WebModule.start(WebModule.java:507)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:877)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:860)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:644)\r\n... \r\nCaused by: java.lang.IllegalArgumentException: java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\r\n\tat org.apache.catalina.core.StandardContext.addListener(StandardContext.java:2867)\r\n\tat org.apache.catalina.core.StandardContext.addApplicationListener(StandardContext.java:2073)\r\n\tat com.sun.enterprise.web.TomcatDeploymentConfig.configureApplicationListener(TomcatDeploymentConfig.java:212)\r\n\tat com.sun.enterprise.web.TomcatDeploymentConfig.configureWebModule(TomcatDeploymentConfig.java:71)\r\n\tat com.sun.enterprise.web.WebModuleContextConfig.start(WebModuleContextConfig.java:215)\r\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:295)\r\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:122)\r\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:5534)\r\n\t... 73 more\r\n\r\n```\r\n---\r\nI attached both full [pom.xml][2] and server&#168;[log][3] files.\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.focussscm&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;focussSCMParent&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.5.0&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;../focussSCMModel&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussSCMJobsWSClientJobService&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussWSClientDataExchangeService&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussSCMBusiness&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussSCMJobs&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussSCMSecurity&lt;/module&gt;\r\n\t\t&lt;module&gt;../focussSCM&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;!-- Explictly specify a default encoding to avoid relying on the OS locale. --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;Cp1252&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.build.scriptEncoding&gt;Cp1252&lt;/project.build.scriptEncoding&gt;\r\n\r\n\t\t&lt;!-- Artifact versions --&gt;\r\n\t\t&lt;axis.version&gt;1.4&lt;/axis.version&gt;\r\n\t\t&lt;commons-fileupload.version&gt;1.4&lt;/commons-fileupload.version&gt;\r\n\t\t&lt;commons.discovery.version&gt;0.2&lt;/commons.discovery.version&gt;\r\n\t\t&lt;gwt.version&gt;2.9.0&lt;/gwt.version&gt;\r\n\t\t&lt;gwt-highcharts.version&gt;1.7.0&lt;/gwt-highcharts.version&gt;\r\n\t\t&lt;gwtext.version&gt;2.0.5&lt;/gwtext.version&gt;\r\n\t\t&lt;itext.version&gt;5.4.2&lt;/itext.version&gt;\r\n\t\t&lt;jackson.version&gt;1.8.10&lt;/jackson.version&gt;\r\n\t\t&lt;jakarta-faces.version&gt;3.0.2&lt;/jakarta-faces.version&gt;\r\n\t\t&lt;jakarta.ws.rs.version&gt;3.0.0&lt;/jakarta.ws.rs.version&gt;\r\n\t\t&lt;jakarta.xml.ws.version&gt;4.0.0-RC1&lt;/jakarta.xml.ws.version&gt;\r\n\t\t&lt;jakarta.mail.version&gt;2.0.1&lt;/jakarta.mail.version&gt;\r\n\t\t&lt;jakarta.ejb.version&gt;4.0.0&lt;/jakarta.ejb.version&gt;\r\n\t\t&lt;jakarta.activation-api.version&gt;2.0.1&lt;/jakarta.activation-api.version&gt;\r\n\t\t&lt;javax.wsdl.version&gt;1.5.1&lt;/javax.wsdl.version&gt;\r\n\t\t&lt;jakarta.jws-api.version&gt;3.0.0&lt;/jakarta.jws-api.version&gt;\r\n\t\t&lt;jakartarpc-api.version&gt;1.1.4&lt;/jakartarpc-api.version&gt;\r\n\t\t&lt;jms.version&gt;1.1&lt;/jms.version&gt;\r\n\t\t&lt;jmxri.version&gt;1.2.1&lt;/jmxri.version&gt;\r\n\t\t&lt;jmxtools.version&gt;1.2.1&lt;/jmxtools.version&gt;\r\n\t\t&lt;json.version&gt;20171018&lt;/json.version&gt;\r\n\t\t&lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\r\n\t\t&lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\r\n\t\t&lt;poi.version&gt;3.9&lt;/poi.version&gt;\r\n\t\t&lt;org.quartz-scheduler.version&gt;1.5.2&lt;/org.quartz-scheduler.version&gt;\r\n\t\t&lt;servlet-api.version&gt;5.0.0&lt;/servlet-api.version&gt;\r\n\t\t&lt;smartgwt.version&gt;4.0-focuss&lt;/smartgwt.version&gt;\r\n\t\t\r\n\t\t&lt;spring.version&gt;5.2.8.RELEASE&lt;/spring.version&gt;\r\n\t\t&lt;spring.security.version&gt;5.3.4.RELEASE&lt;/spring.security.version&gt;\r\n\t\t&lt;slf4j-log4j.version&gt;1.8.0-beta4&lt;/slf4j-log4j.version&gt;\r\n\t\t\r\n\t\t&lt;spring-security-web.version&gt;3.1.4.RELEASE&lt;/spring-security-web.version&gt;\r\n\t\t&lt;spring-webmvc.version&gt;3.0.7.RELEASE&lt;/spring-webmvc.version&gt;\r\n\t\t&lt;gwt.directory&gt;pages/module/gwt&lt;/gwt.directory&gt;\r\n\r\n\t\t&lt;!-- Glassfish server variables --&gt;  \r\n`&lt;glassfish.glassfishDirectory&gt;C:\\Development\\Apps\\Glassfish6&lt;/glassfish.glassfishDirectory&gt;`\r\n\t\t&lt;glassfish.user&gt;User&lt;/glassfish.user&gt;\r\n\t\t&lt;glassfish.adminPassword&gt;123456&lt;/glassfish.adminPassword&gt;\r\n\t\t&lt;glassfish.domain.name&gt;fscmFocuss&lt;/glassfish.domain.name&gt;\r\n\t\t&lt;glassfish.domain.host&gt;localhost&lt;/glassfish.domain.host&gt;\r\n\t\t&lt;glassfish.domain.adminPort&gt;1234&lt;/glassfish.domain.adminPort&gt;\r\n\r\n\r\n\t\t&lt;!-- Maven GWT compiler version and parameters --&gt;\r\n\t\t&lt;maven.compiler.version&gt;3.8.0&lt;/maven.compiler.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.resources.version&gt;3.2.0&lt;/maven.resources.version&gt;\r\n\t\t&lt;compiler.style&gt;OBF&lt;/compiler.style&gt;\r\n\t\t&lt;compiler.log.level&gt;INFO&lt;/compiler.log.level&gt;\r\n\t\t&lt;glassfish.port&gt;8081&lt;/glassfish.port&gt;\r\n\t\t&lt;install.plugin.version&gt;2.5.2&lt;/install.plugin.version&gt;\r\n\r\n\t\t&lt;!-- Maven War plugin version and parameters --&gt;\r\n\t\t&lt;war.plugin.version&gt;3.0.0&lt;/war.plugin.version&gt;\r\n\r\n\t\t&lt;!-- Maven ear plugin version and parameters --&gt;\r\n\t\t&lt;ear.plugin.version&gt;2.10.1&lt;/ear.plugin.version&gt;\r\n\r\n\t\t&lt;cargo.maven3.plugin.version&gt;1.9.3&lt;/cargo.maven3.plugin.version&gt;\r\n\t\t\r\n\t\t&lt;!-- ${basedir}/local.properties --&gt;\r\n\t\t&lt;dropbox.home&gt;${dropbox.home.dir}&lt;/dropbox.home&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;!-- package\\GWT\\gwt-servlet.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${gwt.version}&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\gwt\\gwt-2.5.1\\gwt-user.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-user --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${gwt.version}&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.gwtext/gwtext --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.gwtext&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gwtext&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${gwtext.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${gwt.version}&lt;/version&gt;\r\n\t\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;gwt&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${gwt.version}&lt;/version&gt;\r\n\t\t\t    &lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t&lt;!-- only_for_building\\gwt\\smartgwtpro-4.0\\lib --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;smartgwt-pro&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${smartgwt.version}&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;!-- Exclusion: required to avoid conflicting with the asm dependency below --&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;asm&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\gwt\\HighCharts\\org.moxieapps.gwt.highcharts-1.5.0.jar --&gt;\r\n\t\t\t&lt;!-- https://highcharts4gwt.github.io/ --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.moxieapps.gwt&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;org.moxieapps.gwt.highcharts&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${gwt-highcharts.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\t\r\n\r\n\t\t\t&lt;!-- only_for_building\\axis\\axis.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis/axis --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${axis.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\itextpdf-5.4.2 --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${itext.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\log4j\\log4j-1.2.15.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n\t\t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;artifactId&gt;log4j-core&lt;/artifactId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;version&gt;${log4j.version}&lt;/version&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\poi-3.9 --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${poi.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${poi.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- package\\json --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-core-lgpl --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-mapper-lgpl --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- only_for_building\\json --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${json.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.xml.rpc/jakarta.xml.rpc-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.xml.rpc&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.xml.rpc-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakartarpc-api.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${servlet-api.version}&lt;/version&gt;\r\n\t\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.ws.rs/jakarta.ws.rs-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.ws.rs.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.xml.ws.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.mail.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.ejb.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.jws-api.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.activation/jakarta.activation-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta.activation-api.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.faces --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${jakarta-faces.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t&lt;!-- package\\fileUpload\\commons-fileupload-1.4.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${commons-fileupload.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\r\n\t\t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;artifactId&gt;quartz&lt;/artifactId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/opensymphony/quartz --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;opensymphony&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\r\n\t\t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;artifactId&gt;quartz&lt;/artifactId&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-discovery/commons-discovery --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${commons.discovery.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime.3_7_1/javax.wsdl --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.eclipse.birt.runtime.3_7_1&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;javax.wsdl&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${javax.wsdl.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Security: Spring Core --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;!-- Security: Spring Security --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\r\n\t\t\t&lt;!-- Logging: Slf4j --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${slf4j-log4j.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t    \r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${slf4j-log4j.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jstl.version}&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- New --&gt;\r\n \r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.cargo/cargo-maven2-plugin --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;${cargo.maven3.plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;*/.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Plugin to compile the project. Included here only to specifically \r\n\t\t\t\tdefine the source and target versions of the project. Usage: mvn compile \r\n\t\t\t\t(will compile java files to classes) --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\t\t\t\t\t\r\n\t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\t\t\t\t\t\r\n\t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\t\t\t\t\t\r\n\t\t\t\t&lt;/configuration&gt;\t\t\t\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;9.2.14.v20151106&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t  &lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt; \r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${install.plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\r\n\t\t\t\t&lt;!-- Plugin to compile GWT Java code to JavaScript. Usage: mvn gwt:compile \r\n\t\t\t\t\t(will compile GWT files to JavaScript) --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${gwt.version}&lt;/version&gt;\r\n\t                &lt;executions&gt;\r\n\t                    &lt;execution&gt;\r\n\t                        &lt;id&gt;compile&lt;/id&gt;\r\n\t                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t                        &lt;goals&gt;\r\n\t                            &lt;goal&gt;compile&lt;/goal&gt;\r\n\t                            &lt;goal&gt;test&lt;/goal&gt;\r\n\t                        &lt;/goals&gt;\r\n\t                    &lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;generateAsync&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t                &lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;!-- Compiler parameters --&gt;\r\n\t\t\t\t\t\t&lt;extraJvmArgs&gt;-Xmx1024m -Xss1024k -Dgwt.nowarn.legacy.tools&lt;/extraJvmArgs&gt;\r\n\t\t\t\t\t\t&lt;draftCompile&gt;true&lt;/draftCompile&gt;\r\n\t\t\t\t\t\t&lt;debugSuspend&gt;false&lt;/debugSuspend&gt;\r\n\t\t\t\t\t\t&lt;logLevel&gt;${compiler.log.level}&lt;/logLevel&gt;\r\n\t\t\t\t\t\t&lt;style&gt;${compiler.style}&lt;/style&gt;\r\n\t\t\t\t\t\t&lt;!-- Launch parameters with external server --&gt;\r\n\t\t\t\t\t\t&lt;!-- Add the app to Glassfish embedded server and set the server to \r\n\t\t\t\t\t\t\tpublsh automatically after each compile --&gt;\r\n\t\t\t\t\t\t&lt;noServer&gt;true&lt;/noServer&gt;\r\n\t\t\t\t\t\t&lt;!-- Build parameters --&gt;\r\n\t\t\t\t\t\t&lt;webappDirectory&gt;${project.build.directory}/${project.build.finalName}/${gwt.directory}&lt;/webappDirectory&gt;\r\n\t\t\t\t\t\t&lt;deploy&gt;${project.build.directory}/${project.build.finalName}/${gwt.directory}&lt;/deploy&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${war.plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;container&gt;\r\n\t\t\t\t\t\t\t&lt;containerId&gt;glassfish4x&lt;/containerId&gt;\r\n\t\t\t\t\t\t\t&lt;type&gt;installed&lt;/type&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Path to directory where glassfish is installed --&gt;\r\n\t\t\t\t\t\t\t&lt;home&gt;${glassfish.glassfishDirectory}&lt;/home&gt;\r\n\t\t\t\t\t\t&lt;/container&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;type&gt;existing&lt;/type&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Path to domains directory --&gt;\r\n\t\t\t\t\t\t\t&lt;home&gt;${glassfish.glassfishDirectory}/glassfish/domains&lt;/home&gt;\r\n\t\t\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Domain name where application will be deployed. --&gt;\r\n\t\t\t\t\t\t\t\t&lt;cargo.glassfish.domain.name&gt;${glassfish.domain.name}&lt;/cargo.glassfish.domain.name&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Glassfish host --&gt;\r\n\t\t\t\t\t\t\t\t&lt;cargo.hostname&gt;${glassfish.domain.host}&lt;/cargo.hostname&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Glassfish admin port --&gt;\r\n\t\t\t\t\t\t\t\t&lt;cargo.glassfish.admin.port&gt;${glassfish.domain.adminPort}&lt;/cargo.glassfish.admin.port&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Glassfish user to authenticate --&gt;\r\n\t\t\t\t\t\t\t\t&lt;cargo.remote.username&gt;admin&lt;/cargo.remote.username&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Glassfish password to authenticate --&gt;\r\n\t\t\t\t\t\t\t\t&lt;cargo.remote.password&gt;${glassfish.adminPassword}&lt;/cargo.remote.password&gt;\r\n\t\t\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself.--&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;[2.8.0,)&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;site&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n\t\t\t\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t  \r\n\t\t\t\t    &lt;executions&gt;\r\n\t\t\t\t    \t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;initialize&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t    &lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: http://%20https://tuxtor.shekalug.org/consideraciones-generales-al-actualizar-proyectos-java-empresariales-desde-java-8-hacia-java-11/\r\n  [2]: https://drive.google.com/file/d/15ihZ3NobILxrdJg1ApDY2aCNfkV_1uTr/view?usp=sharing\r\n  [3]: https://drive.google.com/file/d/1HQef2Xe-AVUuoN3PILhGthVdx0sHFYc3/view?usp=sharing","title":"Migration java 8 to 11. java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener","body":"<ul>\n<li>I am migrating an application from java8 to java11, the changes I have made are :</li>\n</ul>\n<ol>\n<li>I updated the maven compiler.version from 3.3 to 3.8.0</li>\n<li>I updated the maven compiler.source from 1.8 to 11</li>\n<li>I updated the maven compiler.target from 1.8 to 11</li>\n<li>I replaced the javax dependencies with the corresponding jakarta ones, I followed the instructions in this <a href=\"http://%20https://tuxtor.shekalug.org/consideraciones-generales-al-actualizar-proyectos-java-empresariales-desde-java-8-hacia-java-11/\" rel=\"nofollow noreferrer\">post</a>.</li>\n</ol>\n<ul>\n<li><p>I am using Eclipse and Glassfish 6.1.0, in glassfish I have to add some libraries that are important for the project, but I have had problems adding the commons-fileupload one, I found that the Apache Commons code that uses the javax package. * package does not compile with Jakarta EE 9 and GlassFish 6.1.0 code and the commons-fileupload depends on javax.servlet and the GlassFish admin console uses it to load implementations.</p>\n</li>\n<li><p>Also, I'm working with:</p>\n<ul>\n<li>JDK 11</li>\n<li>GWT Eclipse Plugin 2.8.1</li>\n<li>Eclipse 2021-03 (4.19.0) Build id: 20210312-0638</li>\n<li>Glassfish 6.1.0</li>\n</ul>\n</li>\n</ul>\n<p>When I try to deploy the application I get this error:</p>\n<pre><code>[2021-12-07T14:34:55.416-0500] [glassfish 6.1] [SEVERE] [AS-WEB-CORE-00108] [jakarta.enterprise.web.core] [tid: _ThreadID=47 _ThreadName=admin-listener(3)] [timeMillis: 1638905695416] [levelValue: 1000] [[\n  ContainerBase.addChild: start: \norg.apache.catalina.LifecycleException: java.lang.IllegalArgumentException: java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:5537)\n    at com.sun.enterprise.web.WebModule.start(WebModule.java:507)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:877)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:860)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:644)\n... \nCaused by: java.lang.IllegalArgumentException: java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\n    at org.apache.catalina.core.StandardContext.addListener(StandardContext.java:2867)\n    at org.apache.catalina.core.StandardContext.addApplicationListener(StandardContext.java:2073)\n    at com.sun.enterprise.web.TomcatDeploymentConfig.configureApplicationListener(TomcatDeploymentConfig.java:212)\n    at com.sun.enterprise.web.TomcatDeploymentConfig.configureWebModule(TomcatDeploymentConfig.java:71)\n    at com.sun.enterprise.web.WebModuleContextConfig.start(WebModuleContextConfig.java:215)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:295)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:122)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:5534)\n    ... 73 more\n\n</code></pre>\n<hr />\n<p>I attached both full <a href=\"https://drive.google.com/file/d/15ihZ3NobILxrdJg1ApDY2aCNfkV_1uTr/view?usp=sharing\" rel=\"nofollow noreferrer\">pom.xml</a> and server¨<a href=\"https://drive.google.com/file/d/1HQef2Xe-AVUuoN3PILhGthVdx0sHFYc3/view?usp=sharing\" rel=\"nofollow noreferrer\">log</a> files.</p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.focussscm&lt;/groupId&gt;\n    &lt;artifactId&gt;focussSCMParent&lt;/artifactId&gt;\n    &lt;version&gt;5.5.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n    &lt;modules&gt;\n        &lt;module&gt;../focussSCMModel&lt;/module&gt;\n        &lt;module&gt;../focussSCMJobsWSClientJobService&lt;/module&gt;\n        &lt;module&gt;../focussWSClientDataExchangeService&lt;/module&gt;\n        &lt;module&gt;../focussSCMBusiness&lt;/module&gt;\n        &lt;module&gt;../focussSCMJobs&lt;/module&gt;\n        &lt;module&gt;../focussSCMSecurity&lt;/module&gt;\n        &lt;module&gt;../focussSCM&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Explictly specify a default encoding to avoid relying on the OS locale. --&gt;\n        &lt;project.build.sourceEncoding&gt;Cp1252&lt;/project.build.sourceEncoding&gt;\n        &lt;project.build.scriptEncoding&gt;Cp1252&lt;/project.build.scriptEncoding&gt;\n\n        &lt;!-- Artifact versions --&gt;\n        &lt;axis.version&gt;1.4&lt;/axis.version&gt;\n        &lt;commons-fileupload.version&gt;1.4&lt;/commons-fileupload.version&gt;\n        &lt;commons.discovery.version&gt;0.2&lt;/commons.discovery.version&gt;\n        &lt;gwt.version&gt;2.9.0&lt;/gwt.version&gt;\n        &lt;gwt-highcharts.version&gt;1.7.0&lt;/gwt-highcharts.version&gt;\n        &lt;gwtext.version&gt;2.0.5&lt;/gwtext.version&gt;\n        &lt;itext.version&gt;5.4.2&lt;/itext.version&gt;\n        &lt;jackson.version&gt;1.8.10&lt;/jackson.version&gt;\n        &lt;jakarta-faces.version&gt;3.0.2&lt;/jakarta-faces.version&gt;\n        &lt;jakarta.ws.rs.version&gt;3.0.0&lt;/jakarta.ws.rs.version&gt;\n        &lt;jakarta.xml.ws.version&gt;4.0.0-RC1&lt;/jakarta.xml.ws.version&gt;\n        &lt;jakarta.mail.version&gt;2.0.1&lt;/jakarta.mail.version&gt;\n        &lt;jakarta.ejb.version&gt;4.0.0&lt;/jakarta.ejb.version&gt;\n        &lt;jakarta.activation-api.version&gt;2.0.1&lt;/jakarta.activation-api.version&gt;\n        &lt;javax.wsdl.version&gt;1.5.1&lt;/javax.wsdl.version&gt;\n        &lt;jakarta.jws-api.version&gt;3.0.0&lt;/jakarta.jws-api.version&gt;\n        &lt;jakartarpc-api.version&gt;1.1.4&lt;/jakartarpc-api.version&gt;\n        &lt;jms.version&gt;1.1&lt;/jms.version&gt;\n        &lt;jmxri.version&gt;1.2.1&lt;/jmxri.version&gt;\n        &lt;jmxtools.version&gt;1.2.1&lt;/jmxtools.version&gt;\n        &lt;json.version&gt;20171018&lt;/json.version&gt;\n        &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\n        &lt;poi.version&gt;3.9&lt;/poi.version&gt;\n        &lt;org.quartz-scheduler.version&gt;1.5.2&lt;/org.quartz-scheduler.version&gt;\n        &lt;servlet-api.version&gt;5.0.0&lt;/servlet-api.version&gt;\n        &lt;smartgwt.version&gt;4.0-focuss&lt;/smartgwt.version&gt;\n        \n        &lt;spring.version&gt;5.2.8.RELEASE&lt;/spring.version&gt;\n        &lt;spring.security.version&gt;5.3.4.RELEASE&lt;/spring.security.version&gt;\n        &lt;slf4j-log4j.version&gt;1.8.0-beta4&lt;/slf4j-log4j.version&gt;\n        \n        &lt;spring-security-web.version&gt;3.1.4.RELEASE&lt;/spring-security-web.version&gt;\n        &lt;spring-webmvc.version&gt;3.0.7.RELEASE&lt;/spring-webmvc.version&gt;\n        &lt;gwt.directory&gt;pages/module/gwt&lt;/gwt.directory&gt;\n\n        &lt;!-- Glassfish server variables --&gt;  \n`&lt;glassfish.glassfishDirectory&gt;C:\\Development\\Apps\\Glassfish6&lt;/glassfish.glassfishDirectory&gt;`\n        &lt;glassfish.user&gt;User&lt;/glassfish.user&gt;\n        &lt;glassfish.adminPassword&gt;123456&lt;/glassfish.adminPassword&gt;\n        &lt;glassfish.domain.name&gt;fscmFocuss&lt;/glassfish.domain.name&gt;\n        &lt;glassfish.domain.host&gt;localhost&lt;/glassfish.domain.host&gt;\n        &lt;glassfish.domain.adminPort&gt;1234&lt;/glassfish.domain.adminPort&gt;\n\n\n        &lt;!-- Maven GWT compiler version and parameters --&gt;\n        &lt;maven.compiler.version&gt;3.8.0&lt;/maven.compiler.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.resources.version&gt;3.2.0&lt;/maven.resources.version&gt;\n        &lt;compiler.style&gt;OBF&lt;/compiler.style&gt;\n        &lt;compiler.log.level&gt;INFO&lt;/compiler.log.level&gt;\n        &lt;glassfish.port&gt;8081&lt;/glassfish.port&gt;\n        &lt;install.plugin.version&gt;2.5.2&lt;/install.plugin.version&gt;\n\n        &lt;!-- Maven War plugin version and parameters --&gt;\n        &lt;war.plugin.version&gt;3.0.0&lt;/war.plugin.version&gt;\n\n        &lt;!-- Maven ear plugin version and parameters --&gt;\n        &lt;ear.plugin.version&gt;2.10.1&lt;/ear.plugin.version&gt;\n\n        &lt;cargo.maven3.plugin.version&gt;1.9.3&lt;/cargo.maven3.plugin.version&gt;\n        \n        &lt;!-- ${basedir}/local.properties --&gt;\n        &lt;dropbox.home&gt;${dropbox.home.dir}&lt;/dropbox.home&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- package\\GWT\\gwt-servlet.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\n                &lt;version&gt;${gwt.version}&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- only_for_building\\gwt\\gwt-2.5.1\\gwt-user.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-user --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\n                &lt;version&gt;${gwt.version}&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.gwtext/gwtext --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.gwtext&lt;/groupId&gt;\n                &lt;artifactId&gt;gwtext&lt;/artifactId&gt;\n                &lt;version&gt;${gwtext.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\n                &lt;version&gt;${gwt.version}&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt&lt;/artifactId&gt;\n                &lt;version&gt;${gwt.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n                        \n            &lt;!-- only_for_building\\gwt\\smartgwtpro-4.0\\lib --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\n                &lt;artifactId&gt;smartgwt-pro&lt;/artifactId&gt;\n                &lt;version&gt;${smartgwt.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;!-- Exclusion: required to avoid conflicting with the asm dependency below --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- only_for_building\\gwt\\HighCharts\\org.moxieapps.gwt.highcharts-1.5.0.jar --&gt;\n            &lt;!-- https://highcharts4gwt.github.io/ --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.moxieapps.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;org.moxieapps.gwt.highcharts&lt;/artifactId&gt;\n                &lt;version&gt;${gwt-highcharts.version}&lt;/version&gt;\n            &lt;/dependency&gt;           \n\n            &lt;!-- only_for_building\\axis\\axis.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.axis/axis --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n                &lt;artifactId&gt;axis&lt;/artifactId&gt;\n                &lt;version&gt;${axis.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- only_for_building\\itextpdf-5.4.2 --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n                &lt;version&gt;${itext.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- only_for_building\\log4j\\log4j-1.2.15.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;log4j-core&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;version&gt;${log4j.version}&lt;/version&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n\n            &lt;!-- only_for_building\\poi-3.9 --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;version&gt;${poi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;${poi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- package\\json --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-core-lgpl --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-mapper-lgpl --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-mapper-lgpl&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- only_for_building\\json --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\n                &lt;version&gt;${json.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.rpc/jakarta.xml.rpc-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.xml.rpc&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.xml.rpc-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakartarpc-api.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;${servlet-api.version}&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.ws.rs/jakarta.ws.rs-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.ws.rs.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.ws/jakarta.xml.ws-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.xml.ws.version}&lt;/version&gt;\n            &lt;/dependency&gt;       \n\n\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.mail.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.ejb.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.jws-api.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/jakarta.activation/jakarta.activation-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta.activation-api.version}&lt;/version&gt;\n            &lt;/dependency&gt;       \n\n\n            &lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.faces --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n                &lt;version&gt;${jakarta-faces.version}&lt;/version&gt;\n            &lt;/dependency&gt;                           \n                        \n\n            &lt;!-- package\\fileUpload\\commons-fileupload-1.4.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n                &lt;version&gt;${commons-fileupload.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;quartz&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/opensymphony/quartz --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;opensymphony&lt;/groupId&gt;\n                &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n                &lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;quartz&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;version&gt;${org.quartz-scheduler.version}&lt;/version&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-discovery/commons-discovery --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n                &lt;version&gt;${commons.discovery.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime.3_7_1/javax.wsdl --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.birt.runtime.3_7_1&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.wsdl&lt;/artifactId&gt;\n                &lt;version&gt;${javax.wsdl.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Security: Spring Core --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- Security: Spring Security --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n                    \n            &lt;!-- Logging: Slf4j --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j-log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j-log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n                &lt;version&gt;${jstl.version}&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- New --&gt;\n \n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.cargo/cargo-maven2-plugin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${cargo.maven3.plugin.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;*/.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;!-- Plugin to compile the project. Included here only to specifically \n                define the source and target versions of the project. Usage: mvn compile \n                (will compile java files to classes) --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;                 \n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;                   \n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;                   \n                &lt;/configuration&gt;            \n\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.2.14.v20151106&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                  &lt;version&gt;2.6&lt;/version&gt;\n                &lt;/plugin&gt; \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${install.plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n        \n                &lt;!-- Plugin to compile GWT Java code to JavaScript. Usage: mvn gwt:compile \n                    (will compile GWT files to JavaScript) --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${gwt.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;compile&lt;/id&gt;\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generateAsync&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- Compiler parameters --&gt;\n                        &lt;extraJvmArgs&gt;-Xmx1024m -Xss1024k -Dgwt.nowarn.legacy.tools&lt;/extraJvmArgs&gt;\n                        &lt;draftCompile&gt;true&lt;/draftCompile&gt;\n                        &lt;debugSuspend&gt;false&lt;/debugSuspend&gt;\n                        &lt;logLevel&gt;${compiler.log.level}&lt;/logLevel&gt;\n                        &lt;style&gt;${compiler.style}&lt;/style&gt;\n                        &lt;!-- Launch parameters with external server --&gt;\n                        &lt;!-- Add the app to Glassfish embedded server and set the server to \n                            publsh automatically after each compile --&gt;\n                        &lt;noServer&gt;true&lt;/noServer&gt;\n                        &lt;!-- Build parameters --&gt;\n                        &lt;webappDirectory&gt;${project.build.directory}/${project.build.finalName}/${gwt.directory}&lt;/webappDirectory&gt;\n                        &lt;deploy&gt;${project.build.directory}/${project.build.finalName}/${gwt.directory}&lt;/deploy&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${war.plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n            \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                    &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;container&gt;\n                            &lt;containerId&gt;glassfish4x&lt;/containerId&gt;\n                            &lt;type&gt;installed&lt;/type&gt;\n                            &lt;!-- Path to directory where glassfish is installed --&gt;\n                            &lt;home&gt;${glassfish.glassfishDirectory}&lt;/home&gt;\n                        &lt;/container&gt;\n                        &lt;configuration&gt;\n                            &lt;type&gt;existing&lt;/type&gt;\n                            &lt;!-- Path to domains directory --&gt;\n                            &lt;home&gt;${glassfish.glassfishDirectory}/glassfish/domains&lt;/home&gt;\n                            &lt;properties&gt;\n                                &lt;!-- Domain name where application will be deployed. --&gt;\n                                &lt;cargo.glassfish.domain.name&gt;${glassfish.domain.name}&lt;/cargo.glassfish.domain.name&gt;\n                                &lt;!-- Glassfish host --&gt;\n                                &lt;cargo.hostname&gt;${glassfish.domain.host}&lt;/cargo.hostname&gt;\n                                &lt;!-- Glassfish admin port --&gt;\n                                &lt;cargo.glassfish.admin.port&gt;${glassfish.domain.adminPort}&lt;/cargo.glassfish.admin.port&gt;\n                                &lt;!-- Glassfish user to authenticate --&gt;\n                                &lt;cargo.remote.username&gt;admin&lt;/cargo.remote.username&gt;\n                                &lt;!-- Glassfish password to authenticate --&gt;\n                                &lt;cargo.remote.password&gt;${glassfish.adminPassword}&lt;/cargo.remote.password&gt;\n                            &lt;/properties&gt;\n                        &lt;/configuration&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;!--This plugin's configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself.--&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                                        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n                                        &lt;versionRange&gt;[2.8.0,)&lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;compile&lt;/goal&gt;\n                                            &lt;goal&gt;site&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;ignore&gt;&lt;/ignore&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                  \n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;initialize&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639512934,"post_id":70335689,"comment_id":124366592,"body_markdown":"Does this answer your question? [log4j-slf4j-impl / log4j v2 - setting custom log4j.xml destination](https://stackoverflow.com/questions/70352815/log4j-slf4j-impl-log4j-v2-setting-custom-log4j-xml-destination)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70352815/log4j-slf4j-impl-log4j-v2-setting-custom-log4j-xml-destination\">log4j-slf4j-impl / log4j v2 - setting custom log4j.xml destination</a>"}],"answers":[{"tags":[],"owner":{"account_id":10968702,"reputation":119,"user_id":8059682,"display_name":"Klaus Friese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639407667,"creation_date":1639407667,"answer_id":70336690,"question_id":70335689,"body_markdown":"Okay, this works.\r\n\r\nI can disable the DOMConfigurator and use an log4j2.xml in the classpath - just have to transfer the config settings to the new format.","title":"Migrating log4j using bridge and DOMConfigurator?","body":"<p>Okay, this works.</p>\n<p>I can disable the DOMConfigurator and use an log4j2.xml in the classpath - just have to transfer the config settings to the new format.</p>\n"}],"owner":{"account_id":10968702,"reputation":119,"user_id":8059682,"display_name":"Klaus Friese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639407667,"creation_date":1639403189,"question_id":70335689,"body_markdown":"I like to migrate from an older 1.2.x version of log4j, according to the docs I can use the bridge (log4j-1.2-api-2.15.0.jar), but one of the requirements is:\r\n\r\n&quot;They must not configure by calling the classes DOMConfigurator or PropertyConfigurator&quot;\r\n\r\nUnfortunately we&#39;re using the DOMConfigurator to set our logging configuration.\r\n\r\nIf I remove this - is the bridge looking for an log4j.xml now and can it read the old config format? Or must I convert the config file to the new format and name it log4j2.xml?\r\nWould removing the DOMConfigurator code and place and log4j.xml or log4j2.xml in the classpath work?\r\n\r\nThanks\r\nKlaus","title":"Migrating log4j using bridge and DOMConfigurator?","body":"<p>I like to migrate from an older 1.2.x version of log4j, according to the docs I can use the bridge (log4j-1.2-api-2.15.0.jar), but one of the requirements is:</p>\n<p>&quot;They must not configure by calling the classes DOMConfigurator or PropertyConfigurator&quot;</p>\n<p>Unfortunately we're using the DOMConfigurator to set our logging configuration.</p>\n<p>If I remove this - is the bridge looking for an log4j.xml now and can it read the old config format? Or must I convert the config file to the new format and name it log4j2.xml?\nWould removing the DOMConfigurator code and place and log4j.xml or log4j2.xml in the classpath work?</p>\n<p>Thanks\nKlaus</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1639385781,"post_id":70331952,"comment_id":124326150,"body_markdown":"You may have a situation where the constraint cannot be satisfied at all. So your `while` loop starts over and over again.","body":"You may have a situation where the constraint cannot be satisfied at all. So your <code>while</code> loop starts over and over again."},{"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"score":0,"creation_date":1639385966,"post_id":70331952,"comment_id":124326207,"body_markdown":"Ok, that was what I was thinking as well! Is there a way to force my entire code to restart, if the constraints cannot be satisfied, so if my while loop continuously restarts? Something with like a time constraint?","body":"Ok, that was what I was thinking as well! Is there a way to force my entire code to restart, if the constraints cannot be satisfied, so if my while loop continuously restarts? Something with like a time constraint?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1639386519,"post_id":70331952,"comment_id":124326374,"body_markdown":"Time does not matter … – Try a counter for the restarts: if after `x` restarts, no solution could be found, give in.","body":"Time does not matter … – Try a counter for the restarts: if after <code>x</code> restarts, no solution could be found, give in."},{"owner":{"account_id":11260126,"reputation":173,"user_id":8968052,"display_name":"Kujoen"},"score":0,"creation_date":1639386647,"post_id":70331952,"comment_id":124326418,"body_markdown":"Instead of giving the advice to just kill the loop after a counter, I would recommend you try to edit your question to deliver a minimal, reproducible example to recreate the problem, so that you we/you can solve the problem and not try to &quot;patch&quot; the problems effect.","body":"Instead of giving the advice to just kill the loop after a counter, I would recommend you try to edit your question to deliver a minimal, reproducible example to recreate the problem, so that you we/you can solve the problem and not try to &quot;patch&quot; the problems effect."},{"owner":{"account_id":50723,"reputation":3791,"user_id":151344,"accept_rate":60,"display_name":"Alderath"},"score":0,"creation_date":1639388792,"post_id":70331952,"comment_id":124327120,"body_markdown":"Have you tried running it in a debugger? Or added traces so that you can see the values of the variables related to the if condition when it gets stuck in the while loop?","body":"Have you tried running it in a debugger? Or added traces so that you can see the values of the variables related to the if condition when it gets stuck in the while loop?"},{"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"score":0,"creation_date":1639390235,"post_id":70331952,"comment_id":124327585,"body_markdown":"@Alderath: I just checked with the debugger. It stays stuck because the distance constraints cannot be met and runs through the while loop indefinitely.","body":"@Alderath: I just checked with the debugger. It stays stuck because the distance constraints cannot be met and runs through the while loop indefinitely."},{"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"score":0,"creation_date":1639390241,"post_id":70331952,"comment_id":124327587,"body_markdown":"@tquadrat: I will try this. Is there a way to make the code restart at a specific location, or just restart entirely?","body":"@tquadrat: I will try this. Is there a way to make the code restart at a specific location, or just restart entirely?"},{"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"score":0,"creation_date":1639392021,"post_id":70331952,"comment_id":124328290,"body_markdown":"@Kujoen: I have edited my question. Does this help?","body":"@Kujoen: I have edited my question. Does this help?"},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1639396166,"post_id":70331952,"comment_id":124329735,"body_markdown":"@Samboff Could you please provide values for\ndim, dis, WSNr, ioPlace\nin the last code to reproduce the issue ?","body":"@Samboff Could you please provide values for dim, dis, WSNr, ioPlace in the last code to reproduce the issue ?"},{"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"score":0,"creation_date":1639400197,"post_id":70331952,"comment_id":124331125,"body_markdown":"@Anddo: I have added the values :)","body":"@Anddo: I have added the values :)"}],"answers":[{"tags":[],"owner":{"account_id":17061418,"reputation":1,"user_id":12344750,"display_name":"ryan davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639395651,"creation_date":1639395651,"answer_id":70334058,"question_id":70331952,"body_markdown":"You need a breakout. Add a counter or timer or check off coords as you try them until they are all checked. The way it is now there is no way to end the loop if your conditions in the &quot;if&quot; statement are always meet, it will just keep setting &#39;l&#39; to 0 and your while loop just keeps looping.\r\n","title":"Java getting stuck in while loop","body":"<p>You need a breakout. Add a counter or timer or check off coords as you try them until they are all checked. The way it is now there is no way to end the loop if your conditions in the &quot;if&quot; statement are always meet, it will just keep setting 'l' to 0 and your while loop just keeps looping.</p>\n"},{"tags":[],"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639407616,"creation_date":1639407616,"answer_id":70336672,"question_id":70331952,"body_markdown":"As mentioned in the question&#39;s comments, you need to limit the loop. As a quick solution, you can have a counter that limits the while loop functionality and reset the entire logic which its probability to NOT go into same situation again is high. But that really should be handled better and check in which case exactly the loop would not end.\r\n\r\nIf the reason found and could be handled by the breaking conditions then it would be better as it would be more definite solution. Nevertheless, limiting the iteration for emergency is almost a must have. Here is simple sample on your code that would do something similar\r\n\r\n```java\r\npublic static double[][] initialPop(double[] dim, double dis, int WSNr, double[] ioPlace) {\r\n        boolean reset = false;\r\n        double[][] placed = null;\r\n\r\n        while (!reset) {\r\n            int[] WStoPlace = new int[WSNr - 2];\r\n            for (int i = 1; i &lt; WSNr - 1; i++) {\r\n                WStoPlace[i - 1] = (i);\r\n            }\r\n\r\n            placed = new double[WSNr - 2][3];\r\n            double ObjectX;\r\n            double ObjectY;\r\n\r\n            // now place the first object\r\n            ObjectX = dim[1] / 2;\r\n            ObjectY = dim[3] / 2;\r\n            placed[0][0] = WStoPlace[0];\r\n            placed[0][1] = ObjectX;\r\n            placed[0][2] = ObjectY;\r\n\r\n            for (int i = 1; i &lt; WSNr - 2; i++) {\r\n                //place the ith object\r\n                ObjectX = Math.random() * (dim[1] - dim[0]) + dim[0] * 0.5;\r\n                ObjectY = Math.random() * (dim[3] - dim[2]) + dim[2] * 0.5;\r\n\r\n                // Problem is the while, not the for so we define the limit here\r\n                int limit = 100;\r\n                int counter = 0;\r\n\r\n                // Make sure it&#39;s false as it might be changed in some iteration before!\r\n                // I promised, check the comments below !\r\n                reset = false; \r\n\r\n                int l = 0;\r\n                while (l &lt; i) {\r\n                    double dis2 = Math.abs(ObjectX - placed[l][1]) + Math.abs(ObjectY - placed[l][2]);\r\n                    if (dis2 &lt; dis) {\r\n                        ObjectX = Math.random() * (dim[1] - dim[0]) + dim[0] * 0.5;\r\n                        ObjectX = Math.random() * (dim[3] - dim[2]) + dim[2] * 0.5;\r\n                        l = 0;\r\n                    } else {\r\n                        l++;\r\n                    }\r\n                    if (counter &gt;= limit) { // Now that&#39;s enough !\r\n                        reset = true;\r\n                        break;\r\n                    }\r\n                    counter++;\r\n                }\r\n\r\n                if (reset) { // I said it&#39;s enough, I want full reset so ...\r\n                    reset = false; // going to break to the while-loop that checking this, and we want to enter again !\r\n                    break;\r\n                } else {\r\n                    // Not sure at this point this will be the last execution\r\n                    // So just make it true, so we do not enter the entire logic again\r\n                    // after finally settling to our result !!!!\r\n                    // If it&#39;s not the last execution which means we are entering another for-loop iteration then\r\n                    // we will reset this to false, i promise !\r\n                    reset = true;\r\n                    // Add the newly placed object\r\n                    placed[i][0] = WStoPlace[i];\r\n                    placed[i][1] = ObjectX;\r\n                    placed[i][2] = ObjectY;\r\n                }\r\n\r\n            }\r\n        }\r\n        return placed;\r\n    }\r\n```","title":"Java getting stuck in while loop","body":"<p>As mentioned in the question's comments, you need to limit the loop. As a quick solution, you can have a counter that limits the while loop functionality and reset the entire logic which its probability to NOT go into same situation again is high. But that really should be handled better and check in which case exactly the loop would not end.</p>\n<p>If the reason found and could be handled by the breaking conditions then it would be better as it would be more definite solution. Nevertheless, limiting the iteration for emergency is almost a must have. Here is simple sample on your code that would do something similar</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double[][] initialPop(double[] dim, double dis, int WSNr, double[] ioPlace) {\n        boolean reset = false;\n        double[][] placed = null;\n\n        while (!reset) {\n            int[] WStoPlace = new int[WSNr - 2];\n            for (int i = 1; i &lt; WSNr - 1; i++) {\n                WStoPlace[i - 1] = (i);\n            }\n\n            placed = new double[WSNr - 2][3];\n            double ObjectX;\n            double ObjectY;\n\n            // now place the first object\n            ObjectX = dim[1] / 2;\n            ObjectY = dim[3] / 2;\n            placed[0][0] = WStoPlace[0];\n            placed[0][1] = ObjectX;\n            placed[0][2] = ObjectY;\n\n            for (int i = 1; i &lt; WSNr - 2; i++) {\n                //place the ith object\n                ObjectX = Math.random() * (dim[1] - dim[0]) + dim[0] * 0.5;\n                ObjectY = Math.random() * (dim[3] - dim[2]) + dim[2] * 0.5;\n\n                // Problem is the while, not the for so we define the limit here\n                int limit = 100;\n                int counter = 0;\n\n                // Make sure it's false as it might be changed in some iteration before!\n                // I promised, check the comments below !\n                reset = false; \n\n                int l = 0;\n                while (l &lt; i) {\n                    double dis2 = Math.abs(ObjectX - placed[l][1]) + Math.abs(ObjectY - placed[l][2]);\n                    if (dis2 &lt; dis) {\n                        ObjectX = Math.random() * (dim[1] - dim[0]) + dim[0] * 0.5;\n                        ObjectX = Math.random() * (dim[3] - dim[2]) + dim[2] * 0.5;\n                        l = 0;\n                    } else {\n                        l++;\n                    }\n                    if (counter &gt;= limit) { // Now that's enough !\n                        reset = true;\n                        break;\n                    }\n                    counter++;\n                }\n\n                if (reset) { // I said it's enough, I want full reset so ...\n                    reset = false; // going to break to the while-loop that checking this, and we want to enter again !\n                    break;\n                } else {\n                    // Not sure at this point this will be the last execution\n                    // So just make it true, so we do not enter the entire logic again\n                    // after finally settling to our result !!!!\n                    // If it's not the last execution which means we are entering another for-loop iteration then\n                    // we will reset this to false, i promise !\n                    reset = true;\n                    // Add the newly placed object\n                    placed[i][0] = WStoPlace[i];\n                    placed[i][1] = ObjectX;\n                    placed[i][2] = ObjectY;\n                }\n\n            }\n        }\n        return placed;\n    }\n</code></pre>\n"}],"owner":{"account_id":17908977,"reputation":33,"user_id":13011496,"display_name":"Samboff"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1639407616,"creation_date":1639385413,"question_id":70331952,"body_markdown":"So I have created this program to randomly place objects in a room with a number of constraints. One such constraint is that every object has to be at least `dis` distance away from every other object already placed in the room. My entire code works well, however I often have to problem that the code stays stuck in the while loop. Here is that part of the code:\r\n\r\n    // distance vector to check whether the distance is kept\r\n\tdouble[] dis2 = new double[k+1];\r\n\t\t\t\r\n\t// distance vector to check whether the distance to the input/output is kept\r\n\tdouble[] dis4 = new double[2];\r\n\tdis4[0] = Math.abs(NewObjectX - inputX) + Math.abs(NewObjectY - inputY);\r\n\tdis4[1] = Math.abs(NewObjectX - outputX) + Math.abs(NewObjectY - outputY);\r\n\t\t\t\r\n\t// Check the distance constraints\r\n\tint l = 0;\r\n\twhile (l&lt;k+1) {\r\n\t\tdis2[l] = Math.abs(NewObjectX - PlacedX[l]) + Math.abs(NewObjectY - PlacedY[l]);\r\n\t\tif (dis2[l]&lt;dis || dis3&gt;2.5*dis || dis4[0]&lt;dis || dis4[1]&lt;dis) {\r\n\t\t\tNewObjectX = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\r\n\t\t\tNewObjectY = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\r\n\t\t\tdis3 = Math.abs(NewObjectX - PlacedX[k]) + Math.abs(NewObjectY - PlacedY[k]);\r\n\t\t\tdis4[0] = Math.abs(NewObjectX - inputX) + Math.abs(NewObjectY - inputY);\r\n\t\t\tdis4[1] = Math.abs(NewObjectX - outputX) + Math.abs(NewObjectY - outputY);\r\n\t\t\tl=0;\r\n\t\t} else {\r\n\t\t\tl++;\r\n\t\t}\r\n\t}\r\n\r\nWhat happens: I randomly place a machine in the room and then I check the distance constraints with every already placed object in the while loop:\r\n\r\n - In the while loop, I check the distance constraint with the first, then second and so on objects that have already been placed.\r\n - If the distance constraints are not met, then a new randomly selected spot is selected and I restart the while loop `l=0`\r\n\r\nI am not sure why my code sometimes stays stuck in that loop and most of the time works perfectly. \r\n\r\nCould someone help me? Did I make an error?\r\n\r\nThank you so much :)\r\nSam\r\n\r\n**EDIT:**\r\n\r\nHere is a copy of the simplified code with only 1 constraint instead of 4 in the while loop:\r\n\r\n    public static double[][] initialPop(double[] dim, double dis, int WSNr, double[] ioPlace) {\r\n\t\t\r\n\t\tint[] WStoPlace = new int[WSNr-2];\r\n\t\tfor (int i=1; i&lt;WSNr-1; i++) {\r\n\t\t\tWStoPlace[i-1] = (i);\r\n\t\t}\r\n\t\t\r\n\t\tdouble[][] placed = new double[WSNr-2][3];\r\n\t\tdouble ObjectX;\r\n\t\tdouble ObjectY;\r\n\t\t\r\n\t\t// now place the first object\r\n\t\tObjectX = dim[1]/2;\r\n\t\tObjectY = dim[3]/2;\r\n\t\tplaced[0][0] = WStoPlace[0];\r\n\t\tplaced[0][1] = ObjectX ;\r\n\t\tplaced[0][2] = ObjectY;\r\n\t\t\r\n\t\tfor (int i=1; i&lt;WSNr-2; i++) {\r\n\t\t\t//place the ith object\r\n\t\t\tObjectX = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\r\n\t\t\tObjectY = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\r\n\t\t\t\r\n\t\t\tint l=0;\r\n\t\t\twhile (l&lt;i) {\r\n\t\t\t\tdouble dis2 = Math.abs(ObjectX  - placed[l][1]) + Math.abs(ObjectY - placed[l][2]);\r\n\t\t\t\tif (dis2&lt;dis) {\r\n\t\t\t\t\tObjectX  = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\r\n\t\t\t\t\tObjectX  = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\r\n\t\t\t\t\tl=0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tl++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Add the newly placed object\r\n\t\t\tplaced[i][0] = WStoPlace[i];\r\n\t\t\tplaced[i][1] = ObjectX;\r\n\t\t\tplaced[i][2] = ObjectY;\r\n\t\t}\r\n\t\treturn placed;\t\r\n\t}\r\n\r\nThis code is then called by my main program in a for-loop:\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\t// define all the variables ...\r\n\t\tint popFlow = 5;\r\n\t\tdouble[] dim = new double [4];\r\n\t\tdim[0] = 3; // length of WS (x)\r\n\t\tdim[2] = 3; // width of WS (y)\r\n\t\tdim[1] = 100; // length of facility (x)\r\n\t\tdim[3] = 40;\r\n\t\tdouble dis = 8;\r\n\t\tint WSNr = 22;\r\n\t\tdouble[] ioPlace = new double[4];\r\n\t\tioPlace[0] = 0;\t\t// int xi = 0;\r\n\t\tioPlace[1] = 5;\t\t// int yi = 2;\r\n\t\tioPlace[2] = 100;\t// int xo = 50;\r\n\t\tioPlace[3] = 35;\r\n\t\tdouble[][] TotalPop = new double[popFlow][2*WSNr];\r\n\r\n\t\t\r\n\t\t// Flow-related placed Workstations\r\n\t\tfor (int i=0; i&lt;popFlow; i++) {\r\n\t\t\tdouble [][] Pos = initialPop(dim, dis, WSNr, ioPlace);\r\n\t\t\tfor (int j=0; j&lt;WSNr-2; j++) {\r\n\t\t\t\tint Value = (int) Pos[j][0];\r\n\t\t\t\tTotalPop[i][Value] = Pos[j][1];\r\n\t\t\t\tTotalPop[i][Value+WSNr] = Pos[j][2];\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java getting stuck in while loop","body":"<p>So I have created this program to randomly place objects in a room with a number of constraints. One such constraint is that every object has to be at least <code>dis</code> distance away from every other object already placed in the room. My entire code works well, however I often have to problem that the code stays stuck in the while loop. Here is that part of the code:</p>\n<pre><code>// distance vector to check whether the distance is kept\ndouble[] dis2 = new double[k+1];\n        \n// distance vector to check whether the distance to the input/output is kept\ndouble[] dis4 = new double[2];\ndis4[0] = Math.abs(NewObjectX - inputX) + Math.abs(NewObjectY - inputY);\ndis4[1] = Math.abs(NewObjectX - outputX) + Math.abs(NewObjectY - outputY);\n        \n// Check the distance constraints\nint l = 0;\nwhile (l&lt;k+1) {\n    dis2[l] = Math.abs(NewObjectX - PlacedX[l]) + Math.abs(NewObjectY - PlacedY[l]);\n    if (dis2[l]&lt;dis || dis3&gt;2.5*dis || dis4[0]&lt;dis || dis4[1]&lt;dis) {\n        NewObjectX = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\n        NewObjectY = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\n        dis3 = Math.abs(NewObjectX - PlacedX[k]) + Math.abs(NewObjectY - PlacedY[k]);\n        dis4[0] = Math.abs(NewObjectX - inputX) + Math.abs(NewObjectY - inputY);\n        dis4[1] = Math.abs(NewObjectX - outputX) + Math.abs(NewObjectY - outputY);\n        l=0;\n    } else {\n        l++;\n    }\n}\n</code></pre>\n<p>What happens: I randomly place a machine in the room and then I check the distance constraints with every already placed object in the while loop:</p>\n<ul>\n<li>In the while loop, I check the distance constraint with the first, then second and so on objects that have already been placed.</li>\n<li>If the distance constraints are not met, then a new randomly selected spot is selected and I restart the while loop <code>l=0</code></li>\n</ul>\n<p>I am not sure why my code sometimes stays stuck in that loop and most of the time works perfectly.</p>\n<p>Could someone help me? Did I make an error?</p>\n<p>Thank you so much :)\nSam</p>\n<p><strong>EDIT:</strong></p>\n<p>Here is a copy of the simplified code with only 1 constraint instead of 4 in the while loop:</p>\n<pre><code>public static double[][] initialPop(double[] dim, double dis, int WSNr, double[] ioPlace) {\n    \n    int[] WStoPlace = new int[WSNr-2];\n    for (int i=1; i&lt;WSNr-1; i++) {\n        WStoPlace[i-1] = (i);\n    }\n    \n    double[][] placed = new double[WSNr-2][3];\n    double ObjectX;\n    double ObjectY;\n    \n    // now place the first object\n    ObjectX = dim[1]/2;\n    ObjectY = dim[3]/2;\n    placed[0][0] = WStoPlace[0];\n    placed[0][1] = ObjectX ;\n    placed[0][2] = ObjectY;\n    \n    for (int i=1; i&lt;WSNr-2; i++) {\n        //place the ith object\n        ObjectX = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\n        ObjectY = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\n        \n        int l=0;\n        while (l&lt;i) {\n            double dis2 = Math.abs(ObjectX  - placed[l][1]) + Math.abs(ObjectY - placed[l][2]);\n            if (dis2&lt;dis) {\n                ObjectX  = Math.random()*(dim[1]-dim[0]) + dim[0]*0.5;\n                ObjectX  = Math.random()*(dim[3]-dim[2]) + dim[2]*0.5;\n                l=0;\n            } else {\n                l++;\n            }\n        }\n        \n        // Add the newly placed object\n        placed[i][0] = WStoPlace[i];\n        placed[i][1] = ObjectX;\n        placed[i][2] = ObjectY;\n    }\n    return placed;  \n}\n</code></pre>\n<p>This code is then called by my main program in a for-loop:</p>\n<pre><code>public static void main(String[] args) {\n    \n    // define all the variables ...\n    int popFlow = 5;\n    double[] dim = new double [4];\n    dim[0] = 3; // length of WS (x)\n    dim[2] = 3; // width of WS (y)\n    dim[1] = 100; // length of facility (x)\n    dim[3] = 40;\n    double dis = 8;\n    int WSNr = 22;\n    double[] ioPlace = new double[4];\n    ioPlace[0] = 0;     // int xi = 0;\n    ioPlace[1] = 5;     // int yi = 2;\n    ioPlace[2] = 100;   // int xo = 50;\n    ioPlace[3] = 35;\n    double[][] TotalPop = new double[popFlow][2*WSNr];\n\n    \n    // Flow-related placed Workstations\n    for (int i=0; i&lt;popFlow; i++) {\n        double [][] Pos = initialPop(dim, dis, WSNr, ioPlace);\n        for (int j=0; j&lt;WSNr-2; j++) {\n            int Value = (int) Pos[j][0];\n            TotalPop[i][Value] = Pos[j][1];\n            TotalPop[i][Value+WSNr] = Pos[j][2];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1639407359,"post_id":70336583,"comment_id":124334082,"body_markdown":"It&#39;s because floating-point math is not infinitely precise. You&#39;re working with approximations of fractions, not with actual ratios.","body":"It&#39;s because floating-point math is not infinitely precise. You&#39;re working with approximations of fractions, not with actual ratios."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1639407374,"post_id":70336583,"comment_id":124334089,"body_markdown":"are you aware of the limitations of floating point arithmetics?","body":"are you aware of the limitations of floating point arithmetics?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1639412090,"post_id":70336583,"comment_id":124336088,"body_markdown":"In cases like this I decide on a desired degree of accuracy and then round accordingly.  Or you could find a `BigDecimal` package that implements transcendental functions.  I found [logarithm-of-a-bigdecimal](https://stackoverflow.com/questions/739532/logarithm-of-a-bigdecimal) on this site.  But doubles only have 53 bits of precision to work with.","body":"In cases like this I decide on a desired degree of accuracy and then round accordingly.  Or you could find a <code>BigDecimal</code> package that implements transcendental functions.  I found <a href=\"https://stackoverflow.com/questions/739532/logarithm-of-a-bigdecimal\">logarithm-of-a-bigdecimal</a> on this site.  But doubles only have 53 bits of precision to work with."}],"owner":{"account_id":4465942,"reputation":561,"user_id":3633589,"accept_rate":43,"display_name":"Sadiq Khoja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639407425,"answer_count":0,"score":0,"last_activity_date":1639407238,"creation_date":1639407238,"question_id":70336583,"body_markdown":"why `Math.log(n) / Math.log(3)` is not always equal to `Math.log10(n) / Math.log10(3)`, There&#39;s a fractional difference. Is it due type that is return by Math.log or it&#39;s calculation flaw in the library?\r\n\r\n**Code:**\r\n```\r\nSystem.out.println(&quot;Math.log10(243) / Math.log10(3) = &quot; + Math.log10(243) / Math.log10(3));\r\nSystem.out.println(&quot;Math.log(243) / Math.log(3) = &quot; + Math.log(243) / Math.log(3));\r\n\r\nSystem.out.println(&quot;Math.log10(19683) / Math.log10(3) = &quot; + Math.log10(19683) / Math.log10(3));\r\nSystem.out.println(&quot;Math.log(19683) / Math.log(3) = &quot; + Math.log(19683) / Math.log(3));\r\n\r\nSystem.out.println(&quot;Math.log10(59049) / Math.log10(3) = &quot; + Math.log10(59049) / Math.log10(3));\r\nSystem.out.println(&quot;Math.log(59049) / Math.log(3) = &quot; + Math.log(59049) / Math.log(3));\r\n\r\nSystem.out.println(&quot;Math.log10(1594322) / Math.log10(3) = &quot; + Math.log10(1594322) / Math.log10(3));\r\nSystem.out.println(&quot;Math.log(1594322) / Math.log(3) = &quot; + Math.log(1594322) / Math.log(3));\r\n```\r\n\r\n**Output**\r\n```\r\nMath.log10(243) / Math.log10(3) = 5.0\r\nMath.log(243) / Math.log(3) = 4.999999999999999\r\nMath.log10(19683) / Math.log10(3) = 9.0\r\nMath.log(19683) / Math.log(3) = 9.0\r\nMath.log10(59049) / Math.log10(3) = 10.0\r\nMath.log(59049) / Math.log(3) = 9.999999999999998\r\nMath.log10(1594322) / Math.log10(3) = 12.999999429074592\r\nMath.log(1594322) / Math.log(3) = 12.99999942907459\r\n```","title":"Java log10 vs log","body":"<p>why <code>Math.log(n) / Math.log(3)</code> is not always equal to <code>Math.log10(n) / Math.log10(3)</code>, There's a fractional difference. Is it due type that is return by Math.log or it's calculation flaw in the library?</p>\n<p><strong>Code:</strong></p>\n<pre><code>System.out.println(&quot;Math.log10(243) / Math.log10(3) = &quot; + Math.log10(243) / Math.log10(3));\nSystem.out.println(&quot;Math.log(243) / Math.log(3) = &quot; + Math.log(243) / Math.log(3));\n\nSystem.out.println(&quot;Math.log10(19683) / Math.log10(3) = &quot; + Math.log10(19683) / Math.log10(3));\nSystem.out.println(&quot;Math.log(19683) / Math.log(3) = &quot; + Math.log(19683) / Math.log(3));\n\nSystem.out.println(&quot;Math.log10(59049) / Math.log10(3) = &quot; + Math.log10(59049) / Math.log10(3));\nSystem.out.println(&quot;Math.log(59049) / Math.log(3) = &quot; + Math.log(59049) / Math.log(3));\n\nSystem.out.println(&quot;Math.log10(1594322) / Math.log10(3) = &quot; + Math.log10(1594322) / Math.log10(3));\nSystem.out.println(&quot;Math.log(1594322) / Math.log(3) = &quot; + Math.log(1594322) / Math.log(3));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Math.log10(243) / Math.log10(3) = 5.0\nMath.log(243) / Math.log(3) = 4.999999999999999\nMath.log10(19683) / Math.log10(3) = 9.0\nMath.log(19683) / Math.log(3) = 9.0\nMath.log10(59049) / Math.log10(3) = 10.0\nMath.log(59049) / Math.log(3) = 9.999999999999998\nMath.log10(1594322) / Math.log10(3) = 12.999999429074592\nMath.log(1594322) / Math.log(3) = 12.99999942907459\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1639407158,"creation_date":1501508155,"answer_id":45417463,"question_id":26421357,"body_markdown":"You can access path variables, just prefix them with `#`.  In your case, the correct syntax would be:\r\n\r\n    .antMatchers(&quot;/path/{token}/**&quot;).access(&quot;@myBean.authorise(#token)&quot;)\r\n\r\nI&#39;m not sure when this was introduced, but I know it is now supported. Reference: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html","title":"Spring Security custom method with path variable and ant matcher","body":"<p>You can access path variables, just prefix them with <code>#</code>.  In your case, the correct syntax would be:</p>\n<pre><code>.antMatchers(&quot;/path/{token}/**&quot;).access(&quot;@myBean.authorise(#token)&quot;)\n</code></pre>\n<p>I'm not sure when this was introduced, but I know it is now supported. Reference: <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html</a></p>\n"}],"owner":{"account_id":2579172,"reputation":802,"user_id":2236236,"accept_rate":57,"display_name":"DairyLea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7167,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":45417463,"answer_count":1,"score":12,"last_activity_date":1639407158,"creation_date":1413536005,"question_id":26421357,"body_markdown":"I am using spring boot, web MVC and spring security with java configuration. My URLs are &#39;RESTful&#39; and would like to add custom authorisation methods.\r\n\r\n\r\nFor Example:\r\n\r\n    .antMatchers(&quot;/path/*/**&quot;).access(&quot;@myBean.authorise()&quot;)\r\n\r\nI want to achieve something like this:\r\n\r\n    .antMatchers(&quot;/path/{token}/**&quot;).access(&quot;@myBean.authorise(token)&quot;)\r\n\r\nI understand that I can pass in the `HttpServletRequest` and manually strip the path, but would like to avoid this! Also not too keen on method level security, would rather keep the config in one place as I have many controllers.\r\n\r\nThanks!","title":"Spring Security custom method with path variable and ant matcher","body":"<p>I am using spring boot, web MVC and spring security with java configuration. My URLs are 'RESTful' and would like to add custom authorisation methods.</p>\n\n<p>For Example:</p>\n\n<pre><code>.antMatchers(\"/path/*/**\").access(\"@myBean.authorise()\")\n</code></pre>\n\n<p>I want to achieve something like this:</p>\n\n<pre><code>.antMatchers(\"/path/{token}/**\").access(\"@myBean.authorise(token)\")\n</code></pre>\n\n<p>I understand that I can pass in the <code>HttpServletRequest</code> and manually strip the path, but would like to avoid this! Also not too keen on method level security, would rather keep the config in one place as I have many controllers.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1639381336,"post_id":70331292,"comment_id":124324872,"body_markdown":"put listener on button, check the button id which want should clear then call setText(&quot;&quot;) or clearText or some equivalent method on the component","body":"put listener on button, check the button id which want should clear then call setText(&quot;&quot;) or clearText or some equivalent method on the component"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648978056,"post_id":70331292,"comment_id":126755380,"body_markdown":"You have to up vote the answer if it is helpfull","body":"You have to up vote the answer if it is helpfull"}],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639381940,"creation_date":1639381940,"answer_id":70331406,"question_id":70331292,"body_markdown":"You want to put `setText(&quot;&quot;)` inside button listener...\r\n```\r\ndelete = new JButton(&quot;Clear&quot;);\r\ndelete.addActionListener(new ActionListener() {\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        questionarea.setText(&quot;&quot;);\r\n    }\r\n});\r\n```","title":"How to clear textarea with button?","body":"<p>You want to put <code>setText(&quot;&quot;)</code> inside button listener...</p>\n<pre><code>delete = new JButton(&quot;Clear&quot;);\ndelete.addActionListener(new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        questionarea.setText(&quot;&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22905449,"reputation":71,"user_id":17221819,"display_name":"coderhelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70331406,"answer_count":1,"score":1,"last_activity_date":1639407099,"creation_date":1639381212,"question_id":70331292,"body_markdown":"This is my first time with Java. How do I clear the text in a textarea with button? My code for entering etc. is like this:\r\n\r\n```\r\n        enter = new JButton(&quot;Enter&quot;);\r\n        enter.setActionCommand(&quot;enter&quot;);\r\n        enter.addActionListener(this);\r\n        delete = new JButton(&quot;Clear&quot;);\r\n        delete.setActionCommand(&quot;delete&quot;);\r\n//      delete.addActionListener(questionarea.setText(&quot;&quot;));\r\n               \r\n        //Create and set JPanels\r\n        topPanel = new JPanel();\r\n        deletePanel = new JPanel();\r\n        bottomPanel = new JPanel();\r\n\t\t\r\n        topPanel.setLayout(new GridLayout(1, 1));\r\n        bottomPanel.setLayout(new GridLayout(1, 3));\r\n        deletePanel.setLayout(new GridLayout(1, 3));\r\n\t\t\r\n        //Area for user input\r\n        questionarea = new JTextArea();\r\n        questionarea.setFont(new Font(&quot;Silom&quot;, Font.PLAIN, 50));\r\n        questionarea.setEditable(false);\r\n        \r\n        //Adding components to panel\r\n        topPanel.add(questionarea, BorderLayout.CENTER);\r\n        bottomPanel.add(enter);\r\n        deletePanel.add(delete);\r\n        \r\n        //Adding panels to JFrame\r\n        add(timerPanel);\r\n        add(bottomPanel); \r\n        add(deletePanel);\r\n```\r\n\r\nI used the textarea here where I enter numbers to answer a simple addition or subtraction question:\r\n```\r\n    public void generateRandomProblem()\r\n    {\t\t\r\n\tif(prob == 0)\r\n\t{\r\n            opert = &#39;+&#39;;\r\n            Answer = A + B;\r\n\t}\t\r\n        else\r\n        {\r\n            opert = &#39;-&#39;;\r\n            Answer = A - B;\r\n        }\r\n               \r\n        String q = &quot;&quot; + A + &quot; &quot; + opert + &quot; &quot; + B + &quot; = &quot;;\r\n        questionarea.setText(q);\r\n    }\r\n```","title":"How to clear textarea with button?","body":"<p>This is my first time with Java. How do I clear the text in a textarea with button? My code for entering etc. is like this:</p>\n<pre><code>        enter = new JButton(&quot;Enter&quot;);\n        enter.setActionCommand(&quot;enter&quot;);\n        enter.addActionListener(this);\n        delete = new JButton(&quot;Clear&quot;);\n        delete.setActionCommand(&quot;delete&quot;);\n//      delete.addActionListener(questionarea.setText(&quot;&quot;));\n               \n        //Create and set JPanels\n        topPanel = new JPanel();\n        deletePanel = new JPanel();\n        bottomPanel = new JPanel();\n        \n        topPanel.setLayout(new GridLayout(1, 1));\n        bottomPanel.setLayout(new GridLayout(1, 3));\n        deletePanel.setLayout(new GridLayout(1, 3));\n        \n        //Area for user input\n        questionarea = new JTextArea();\n        questionarea.setFont(new Font(&quot;Silom&quot;, Font.PLAIN, 50));\n        questionarea.setEditable(false);\n        \n        //Adding components to panel\n        topPanel.add(questionarea, BorderLayout.CENTER);\n        bottomPanel.add(enter);\n        deletePanel.add(delete);\n        \n        //Adding panels to JFrame\n        add(timerPanel);\n        add(bottomPanel); \n        add(deletePanel);\n</code></pre>\n<p>I used the textarea here where I enter numbers to answer a simple addition or subtraction question:</p>\n<pre><code>    public void generateRandomProblem()\n    {       \n    if(prob == 0)\n    {\n            opert = '+';\n            Answer = A + B;\n    }   \n        else\n        {\n            opert = '-';\n            Answer = A - B;\n        }\n               \n        String q = &quot;&quot; + A + &quot; &quot; + opert + &quot; &quot; + B + &quot; = &quot;;\n        questionarea.setText(q);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","integration-testing","spring-bean"],"comments":[{"owner":{"account_id":11187627,"reputation":418,"user_id":8209328,"display_name":"Kovsharov"},"score":0,"creation_date":1639402310,"post_id":70335365,"comment_id":124331899,"body_markdown":"Does that answer your question? https://stackoverflow.com/a/55662387/8209328","body":"Does that answer your question? <a href=\"https://stackoverflow.com/a/55662387/8209328\">stackoverflow.com/a/55662387/8209328</a>"},{"owner":{"account_id":9715833,"reputation":57,"user_id":7206287,"display_name":"Jose Climent"},"score":0,"creation_date":1639412506,"post_id":70335365,"comment_id":124336281,"body_markdown":"@Kovsharov it helps I think, now the errors are different but at least I&#39;m not blocked, thanks!","body":"@Kovsharov it helps I think, now the errors are different but at least I&#39;m not blocked, thanks!"},{"owner":{"account_id":9715833,"reputation":57,"user_id":7206287,"display_name":"Jose Climent"},"score":0,"creation_date":1639413376,"post_id":70335365,"comment_id":124336670,"body_markdown":"The problem I have now is it&#39;s trying to convert my mocks to other objects through interfaces and it&#39;s getting messy. Isn&#39;t there a way of just mock the class that starts all the redis stuff so it doesn&#39;t actually load all the config in the end? I feel like I&#39;m running in circles.","body":"The problem I have now is it&#39;s trying to convert my mocks to other objects through interfaces and it&#39;s getting messy. Isn&#39;t there a way of just mock the class that starts all the redis stuff so it doesn&#39;t actually load all the config in the end? I feel like I&#39;m running in circles."}],"answers":[{"tags":[],"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639407070,"creation_date":1639407070,"answer_id":70336547,"question_id":70335365,"body_markdown":"Try \r\n\r\n    @EnableAutoConfiguration(exclude=RqueueListenerAutoConfig.class)","title":"Spring Boot Integration test mock external dependency","body":"<p>Try</p>\n<pre><code>@EnableAutoConfiguration(exclude=RqueueListenerAutoConfig.class)\n</code></pre>\n"}],"owner":{"account_id":9715833,"reputation":57,"user_id":7206287,"display_name":"Jose Climent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70336547,"answer_count":1,"score":0,"last_activity_date":1639407070,"creation_date":1639401793,"question_id":70335365,"body_markdown":"I&#39;m trying to create integration tests for my Spring Boot app. The idea is to launch an embedded postgres db and run http calls with TestRestTemplate to my controllers.\r\n\r\nThe problem is my project has a dependency we use for redis queues.\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.sonus21&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rqueue-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.0-RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI&#39;ve tried to mock out the dependencies and most of them work, but with this one it complains I guess because it is a `@Configuration` not a `@Component`:\r\n\r\nDependency config class:\r\n\r\n```\r\n@Configuration\r\n@AutoConfigureAfter({RedisAutoConfiguration.class})\r\n@ComponentScan({&quot;com.github.sonus21.rqueue.web&quot;, &quot;com.github.sonus21.rqueue.dao&quot;})\r\npublic class RqueueListenerAutoConfig extends RqueueListenerBaseConfig {\r\n    public RqueueListenerAutoConfig() {\r\n    }\r\n...\r\n}\r\n```\r\n\r\nMy test config class\r\n```\r\n@TestConfiguration\r\npublic class TestRestTemplateConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public RqueueListenerAutoConfig rqueueListenerAutoConfig() {\r\n        return Mockito.mock(RqueueListenerAutoConfig.class);\r\n    }\r\n\r\n    ....\r\n}\r\n```\r\n\r\nI&#39;ve tried with `@AutoConfigureOrder(1)` at my config class but the original `RqueueListenerAutoConfig` launches before anything and my mocked beans haven&#39;t been declared yet.\r\n\r\nTo be honest mocking every service on that dependency is a pain, but I haven&#39;t figured out a way to mock the whole dependency with a single configuration. I tried not loading the dependency when I&#39;m on the test profile but since it runs spring context my code needs it.\r\n\r\nMy test class has the following config:\r\n\r\n```\r\n@SpringBootTest\r\n@Import(TestRestTemplateConfig.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class TestClass {\r\n...\r\n}\r\n```\r\nAny clues?\r\n\r\nThanks.","title":"Spring Boot Integration test mock external dependency","body":"<p>I'm trying to create integration tests for my Spring Boot app. The idea is to launch an embedded postgres db and run http calls with TestRestTemplate to my controllers.</p>\n<p>The problem is my project has a dependency we use for redis queues.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.sonus21&lt;/groupId&gt;\n      &lt;artifactId&gt;rqueue-spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;2.9.0-RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I've tried to mock out the dependencies and most of them work, but with this one it complains I guess because it is a <code>@Configuration</code> not a <code>@Component</code>:</p>\n<p>Dependency config class:</p>\n<pre><code>@Configuration\n@AutoConfigureAfter({RedisAutoConfiguration.class})\n@ComponentScan({&quot;com.github.sonus21.rqueue.web&quot;, &quot;com.github.sonus21.rqueue.dao&quot;})\npublic class RqueueListenerAutoConfig extends RqueueListenerBaseConfig {\n    public RqueueListenerAutoConfig() {\n    }\n...\n}\n</code></pre>\n<p>My test config class</p>\n<pre><code>@TestConfiguration\npublic class TestRestTemplateConfig {\n\n    @Bean\n    @Primary\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public RqueueListenerAutoConfig rqueueListenerAutoConfig() {\n        return Mockito.mock(RqueueListenerAutoConfig.class);\n    }\n\n    ....\n}\n</code></pre>\n<p>I've tried with <code>@AutoConfigureOrder(1)</code> at my config class but the original <code>RqueueListenerAutoConfig</code> launches before anything and my mocked beans haven't been declared yet.</p>\n<p>To be honest mocking every service on that dependency is a pain, but I haven't figured out a way to mock the whole dependency with a single configuration. I tried not loading the dependency when I'm on the test profile but since it runs spring context my code needs it.</p>\n<p>My test class has the following config:</p>\n<pre><code>@SpringBootTest\n@Import(TestRestTemplateConfig.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class TestClass {\n...\n}\n</code></pre>\n<p>Any clues?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","maven","intellij-idea","log4j"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1639406660,"post_id":70335755,"comment_id":124333784,"body_markdown":"The CVE-2021-44228 is only applicable to Log4J2 (version 2.x) and not to the older Log4J 1.x (such as 1.2.17). The IntelliJ core jar is part of IntelliJ IDEA itself, this is not in your Android application APK.","body":"The CVE-2021-44228 is only applicable to Log4J2 (version 2.x) and not to the older Log4J 1.x (such as 1.2.17). The IntelliJ core jar is part of IntelliJ IDEA itself, this is not in your Android application APK."}],"answers":[{"tags":[],"owner":{"account_id":2327294,"reputation":623,"user_id":2041475,"display_name":"MikkelT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639406038,"creation_date":1639406038,"answer_id":70336297,"question_id":70335755,"body_markdown":"IntelliJ is of course just an advanced text editor and has no relation to the android application itself, so no, I wouldn&#39;t worry. It might be an insecurity for JetBrains, though, but that&#39;s really their problem","title":"Android IntelliJ core library containing log4j 1.2.17","body":"<p>IntelliJ is of course just an advanced text editor and has no relation to the android application itself, so no, I wouldn't worry. It might be an insecurity for JetBrains, though, but that's really their problem</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639406887,"creation_date":1639406887,"answer_id":70336498,"question_id":70335755,"body_markdown":"CVE-2021-44228 is only applicable to Log4J2 versions 2.0-beta9 and newer upto and including 2.14.1, see: https://logging.apache.org/log4j/2.x/security.html\r\n\r\nIt does not apply to older versions such as Log4J 1.2.17.\r\n\r\nThe JAR file `intellij-core-26.5.4.jar` is part of IntelliJ IDEA itself, and is not something that is included with the APK of your own application when you create an Android application with IntelliJ or Android Studio.\r\n","title":"Android IntelliJ core library containing log4j 1.2.17","body":"<p>CVE-2021-44228 is only applicable to Log4J2 versions 2.0-beta9 and newer upto and including 2.14.1, see: <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/security.html</a></p>\n<p>It does not apply to older versions such as Log4J 1.2.17.</p>\n<p>The JAR file <code>intellij-core-26.5.4.jar</code> is part of IntelliJ IDEA itself, and is not something that is included with the APK of your own application when you create an Android application with IntelliJ or Android Studio.</p>\n"}],"owner":{"account_id":12506289,"reputation":56,"user_id":9103035,"display_name":"Arthur Rousseau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70336498,"answer_count":2,"score":2,"last_activity_date":1639406887,"creation_date":1639403507,"question_id":70335755,"body_markdown":"Thanks to the CVE-2021-44228, we decided to integrate the OWASP Dependency check gradle plugin to our Android projects.\r\n\r\nWe&#39;ve been surprised to see that the mentioned CVE was present in an IntelliJ dependency :\r\n\r\nOne or more dependencies were identified with known vulnerabilities in app:\r\n...\r\nintellij-core-26.5.4.jar\\META-INF/maven/log4j/log4j/pom.xml (pkg:maven/log4j/log4j@1.2.17, cpe:2.3:a:apache:log4j:1.2.17:*:*:*:*:*:*:*) : CVE-2019-17571, CVE-2020-9488, CVE-2021-44228\r\n\r\n\r\nWe have three questions about it : \r\n- Should we be worried about this identified vulnerability ?\r\n- How is the intellij-core-26.5.4.jar pulled ?\r\n- Is this jar present in our final APK ?\r\n","title":"Android IntelliJ core library containing log4j 1.2.17","body":"<p>Thanks to the CVE-2021-44228, we decided to integrate the OWASP Dependency check gradle plugin to our Android projects.</p>\n<p>We've been surprised to see that the mentioned CVE was present in an IntelliJ dependency :</p>\n<p>One or more dependencies were identified with known vulnerabilities in app:\n...\nintellij-core-26.5.4.jar\\META-INF/maven/log4j/log4j/pom.xml (pkg:maven/log4j/log4j@1.2.17, cpe:2.3:a:apache:log4j:1.2.17:<em>:</em>:<em>:</em>:<em>:</em>:*) : CVE-2019-17571, CVE-2020-9488, CVE-2021-44228</p>\n<p>We have three questions about it :</p>\n<ul>\n<li>Should we be worried about this identified vulnerability ?</li>\n<li>How is the intellij-core-26.5.4.jar pulled ?</li>\n<li>Is this jar present in our final APK ?</li>\n</ul>\n"},{"tags":["java","javafx","colors","textfield"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1639344190,"post_id":70327501,"comment_id":124319066,"body_markdown":"Both `TextField` and `TextArea` can only have one style for all the text, at least with how their default skins are implemented. To have text with multiple styles you might want to look into using `TextFlow` plus multiple `Text` nodes. There&#39;s also a library out there called _RichTextFX_ which may provide what you want.","body":"Both <code>TextField</code> and <code>TextArea</code> can only have one style for all the text, at least with how their default skins are implemented. To have text with multiple styles you might want to look into using <code>TextFlow</code> plus multiple <code>Text</code> nodes. There&#39;s also a library out there called <i>RichTextFX</i> which may provide what you want."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1639375345,"post_id":70327501,"comment_id":124323712,"body_markdown":"That said, selected text in a text field has a different style from other text in the field, and the style of both is configurable independently by css. Perhaps you could select the last character in the field.  It may help you or may not.","body":"That said, selected text in a text field has a different style from other text in the field, and the style of both is configurable independently by css. Perhaps you could select the last character in the field.  It may help you or may not."},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1639406778,"post_id":70327501,"comment_id":124333833,"body_markdown":"@Slaw I added a sample code for `RichTextFX`","body":"@Slaw I added a sample code for <code>RichTextFX</code>"}],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639406701,"creation_date":1639406701,"answer_id":70336452,"question_id":70327501,"body_markdown":"As mentioned in the comments, you can use [RichTextFX][1] to highlight input texts with different styles. Here is a sample code:\r\n\r\n**Java:**\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.fxmisc.richtext.StyleClassedTextField;\r\nimport org.fxmisc.richtext.StyledTextField;\r\nimport org.fxmisc.richtext.model.StyleSpans;\r\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\r\n\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\npublic class HighlightedTextFieldExample extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        StyledTextField&lt;Collection&lt;String&gt;, Collection&lt;String&gt;&gt; textField = new StyleClassedTextField();\r\n        textField.lengthProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n            if (newValue &gt; 0) {\r\n                StyleSpans&lt;Collection&lt;String&gt;&gt; styleSpans = new StyleSpansBuilder&lt;Collection&lt;String&gt;&gt;()\r\n                        .add(Collections.emptyList(), newValue - 1) // no style (leading characters)\r\n                        .add(Collections.singleton(&quot;last-character&quot;), 1) // add a style class for the last character\r\n                        .create();\r\n                textField.setStyleSpans(0, styleSpans);\r\n            }\r\n        });\r\n        textField.setPrefWidth(400);\r\n\r\n        Scene scene = new Scene(textField);\r\n        scene.getStylesheets().add(HighlightedTextFieldExample.class.getResource(&quot;highlighting.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.setTitle(&quot;Last Character Highlighting Example&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n**CSS Style File (`highlighter.css`):**\r\n```css\r\n.last-character {\r\n    -fx-fill: red;\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://github.com/FXMisc/RichTextFX\r\n  [2]: https://i.stack.imgur.com/KasSw.gif","title":"How to only change color of the last character in a javafx TextField","body":"<p>As mentioned in the comments, you can use <a href=\"https://github.com/FXMisc/RichTextFX\" rel=\"nofollow noreferrer\">RichTextFX</a> to highlight input texts with different styles. Here is a sample code:</p>\n<p><strong>Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.fxmisc.richtext.StyleClassedTextField;\nimport org.fxmisc.richtext.StyledTextField;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\n\nimport java.util.Collection;\nimport java.util.Collections;\n\npublic class HighlightedTextFieldExample extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        StyledTextField&lt;Collection&lt;String&gt;, Collection&lt;String&gt;&gt; textField = new StyleClassedTextField();\n        textField.lengthProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n            if (newValue &gt; 0) {\n                StyleSpans&lt;Collection&lt;String&gt;&gt; styleSpans = new StyleSpansBuilder&lt;Collection&lt;String&gt;&gt;()\n                        .add(Collections.emptyList(), newValue - 1) // no style (leading characters)\n                        .add(Collections.singleton(&quot;last-character&quot;), 1) // add a style class for the last character\n                        .create();\n                textField.setStyleSpans(0, styleSpans);\n            }\n        });\n        textField.setPrefWidth(400);\n\n        Scene scene = new Scene(textField);\n        scene.getStylesheets().add(HighlightedTextFieldExample.class.getResource(&quot;highlighting.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.setTitle(&quot;Last Character Highlighting Example&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>CSS Style File (<code>highlighter.css</code>):</strong></p>\n<pre class=\"lang-css prettyprint-override\"><code>.last-character {\n    -fx-fill: red;\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KasSw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KasSw.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23628299,"reputation":61,"user_id":17660450,"display_name":"BigWinnz101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639406840,"creation_date":1639341421,"question_id":70327501,"body_markdown":"I am trying to make a typing game, I created a text field for user input and am trying to make the game so that the last char of the textfield is red if it doesn&#39;t match the corresponding char in the words to be typed. Below is what I have so far along with the current types of relevant nodes. \r\n```java\r\nLabel wordsToType = new Label();\r\nTextField userInput = new TextField();\r\nStringBuilder wordsTyped = new StringBuilder();\r\nTextField lastChar = new TextField();\r\n\r\nuserInput.setOnKeyReleased(e -&gt; {\r\n    wordsTyped.append(userInput.getText()); // words typed is a string builder of what is in userInput\r\n\r\n    if (wordsTyped.toString().charAt(wordsTyped.length() - 1) - wordsToType.getText().charAt(wordsTyped.length() - 1) != 0) {\r\n        lastChar.setText(e.getText());\r\n        lastChar.setStyle(&quot;-fx-text-fill: red; -fx-font-size: 16px;&quot;);\r\n        wordsTyped.setLength(wordsTyped.length() - 1); // deletes last char from wordsTyped\r\n        userInput.setText(wordsTyped.toString() + lastChar.getText());\r\n        userInput.end();\r\n    }\r\n    wordsTyped.delete(0, wordsTyped.length());\r\n});\r\n```","title":"How to only change color of the last character in a javafx TextField","body":"<p>I am trying to make a typing game, I created a text field for user input and am trying to make the game so that the last char of the textfield is red if it doesn't match the corresponding char in the words to be typed. Below is what I have so far along with the current types of relevant nodes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Label wordsToType = new Label();\nTextField userInput = new TextField();\nStringBuilder wordsTyped = new StringBuilder();\nTextField lastChar = new TextField();\n\nuserInput.setOnKeyReleased(e -&gt; {\n    wordsTyped.append(userInput.getText()); // words typed is a string builder of what is in userInput\n\n    if (wordsTyped.toString().charAt(wordsTyped.length() - 1) - wordsToType.getText().charAt(wordsTyped.length() - 1) != 0) {\n        lastChar.setText(e.getText());\n        lastChar.setStyle(&quot;-fx-text-fill: red; -fx-font-size: 16px;&quot;);\n        wordsTyped.setLength(wordsTyped.length() - 1); // deletes last char from wordsTyped\n        userInput.setText(wordsTyped.toString() + lastChar.getText());\n        userInput.end();\n    }\n    wordsTyped.delete(0, wordsTyped.length());\n});\n</code></pre>\n"},{"tags":["java","spring","oracle"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1448036493,"post_id":33831083,"comment_id":55427882,"body_markdown":"I&#39;m inclined to speculate that the Spring JDBC driver is attempting to parse your query, and chokes when it does not recognize the Oracle `REPLACE()` function and / or `chr()` function.","body":"I&#39;m inclined to speculate that the Spring JDBC driver is attempting to parse your query, and chokes when it does not recognize the Oracle <code>REPLACE()</code> function and / or <code>chr()</code> function."}],"answers":[{"tags":[],"owner":{"account_id":3762407,"reputation":111,"user_id":3126943,"display_name":"Fado"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1448036033,"creation_date":1448036033,"answer_id":33831239,"question_id":33831083,"body_markdown":"Try some thing like :\r\n\r\nSELECT REPLACE(CLIENT.FirstName, chr(13), &#39; &#39;)  columnNameX FROM client_table CLIENT","title":"&quot;Invalid Column Name&quot; thrown In Java Spring Batch, but not in Oracle Sql Developer","body":"<p>Try some thing like :</p>\n\n<p>SELECT REPLACE(CLIENT.FirstName, chr(13), ' ')  columnNameX FROM client_table CLIENT</p>\n"},{"tags":[],"owner":{"account_id":4633115,"reputation":758,"user_id":3755036,"display_name":"chickenman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521731298,"creation_date":1521731298,"answer_id":49432121,"question_id":33831083,"body_markdown":"It is not the sql that has failed but you are misspelling the column name somewhere in your code. ","title":"&quot;Invalid Column Name&quot; thrown In Java Spring Batch, but not in Oracle Sql Developer","body":"<p>It is not the sql that has failed but you are misspelling the column name somewhere in your code. </p>\n"},{"tags":[],"owner":{"account_id":7719340,"reputation":85,"user_id":5846031,"display_name":"thelearner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617266450,"creation_date":1617266450,"answer_id":66901188,"question_id":33831083,"body_markdown":"you need to check the spelling of columns in your query as well as where you will be getting the result set. I was facing the same problem and the problem was in spelling in one of the &quot;rs.getString(&quot;COLUMN_NAME&quot;)&quot;.","title":"&quot;Invalid Column Name&quot; thrown In Java Spring Batch, but not in Oracle Sql Developer","body":"<p>you need to check the spelling of columns in your query as well as where you will be getting the result set. I was facing the same problem and the problem was in spelling in one of the &quot;rs.getString(&quot;COLUMN_NAME&quot;)&quot;.</p>\n"}],"owner":{"account_id":3059428,"reputation":1563,"user_id":2592424,"accept_rate":79,"display_name":"beckah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33831239,"answer_count":3,"score":1,"last_activity_date":1639406726,"creation_date":1448035537,"question_id":33831083,"body_markdown":"Using Java Spring Batch, I am generating a file based off of a query sent to a Oracle database:\r\n\r\n    SELECT \r\n    REPLACE(CLIENT.FirstName, chr(13), &#39; &#39;)\r\n    FROM client_table CLIENT;\r\n\r\nThis query works fine when I run it in Oracle SQL Developer when I spool the result, but doesn&#39;t work when I try to utilize it to generate a file in Java Spring batch. It throws the error:\r\n\r\n    Message=Encountered an error executing step preparePrimaryIpData in job extract-primary-ip-job\r\n    org.springframework.jdbc.BadSqlGrammarException: Attempt to process next row failed; bad SQL grammar [\r\n    \r\n                 SELECT \r\n                 REPLACE(CLIENT.FirstName, chr(13), &#39; &#39;)\r\n                 FROM client_table CLIENT\r\n    \r\n     ]; nested exception is java.sql.SQLException: Invalid column name\r\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:237)\r\n\r\nWhy is this working fine in Oracle Sql Developer but not when I try to utilize it in Java Spring Batch?\r\n\r\nAlso, the alias is necessary, because my actual query has a lot more joins, I just wanted to simplify it as an example.","title":"&quot;Invalid Column Name&quot; thrown In Java Spring Batch, but not in Oracle Sql Developer","body":"<p>Using Java Spring Batch, I am generating a file based off of a query sent to a Oracle database:</p>\n\n<pre><code>SELECT \nREPLACE(CLIENT.FirstName, chr(13), ' ')\nFROM client_table CLIENT;\n</code></pre>\n\n<p>This query works fine when I run it in Oracle SQL Developer when I spool the result, but doesn't work when I try to utilize it to generate a file in Java Spring batch. It throws the error:</p>\n\n<pre><code>Message=Encountered an error executing step preparePrimaryIpData in job extract-primary-ip-job\norg.springframework.jdbc.BadSqlGrammarException: Attempt to process next row failed; bad SQL grammar [\n\n             SELECT \n             REPLACE(CLIENT.FirstName, chr(13), ' ')\n             FROM client_table CLIENT\n\n ]; nested exception is java.sql.SQLException: Invalid column name\nat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:237)\n</code></pre>\n\n<p>Why is this working fine in Oracle Sql Developer but not when I try to utilize it in Java Spring Batch?</p>\n\n<p>Also, the alias is necessary, because my actual query has a lot more joins, I just wanted to simplify it as an example.</p>\n"},{"tags":["java","c++","rsa","sha1","crypto++"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1639404119,"post_id":70335601,"comment_id":124332662,"body_markdown":"At least the paddings seem to be inconsistent, the Java code uses PKCS#1 v1.5 for `SHA1withRSA`, the C/C++ code applies PSS for `RSASS&lt;PSS, SHA1&gt;`.","body":"At least the paddings seem to be inconsistent, the Java code uses PKCS#1 v1.5 for <code>SHA1withRSA</code>, the C/C++ code applies PSS for <code>RSASS&lt;PSS, SHA1&gt;</code>."},{"owner":{"account_id":21847,"reputation":12082,"user_id":53420,"accept_rate":59,"display_name":"RED SOFT ADAIR"},"score":0,"creation_date":1639404278,"post_id":70335601,"comment_id":124332721,"body_markdown":"@Topaco - thanks for your answer - Is there a way to add this padding to cryprocpp? I didnt find any.","body":"@Topaco - thanks for your answer - Is there a way to add this padding to cryprocpp? I didnt find any."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1639404415,"post_id":70335601,"comment_id":124332777,"body_markdown":"Have a look [here](https://cryptopp.com/wiki/RSA_Signature_Schemes#Signature_Scheme_.28PKCS_v1.5.29). Maybe this will help.","body":"Have a look <a href=\"https://cryptopp.com/wiki/RSA_Signature_Schemes#Signature_Scheme_.28PKCS_v1.5.29\" rel=\"nofollow noreferrer\">here</a>. Maybe this will help."},{"owner":{"account_id":21847,"reputation":12082,"user_id":53420,"accept_rate":59,"display_name":"RED SOFT ADAIR"},"score":0,"creation_date":1639404719,"post_id":70335601,"comment_id":124332919,"body_markdown":"@Topaco! Thanks for the hint. see my own answer!","body":"@Topaco! Thanks for the hint. see my own answer!"}],"answers":[{"tags":[],"owner":{"account_id":21847,"reputation":12082,"user_id":53420,"accept_rate":59,"display_name":"RED SOFT ADAIR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639404675,"creation_date":1639404675,"answer_id":70336013,"question_id":70335601,"body_markdown":"The solution is\r\n\r\n    RSASS&lt;PKCS1v15, SHA1&gt;::Verifier verifier(publicKey);   \r\n\r\nInstead of \r\n\r\n    RSASS&lt;PSS, SHA1&gt;::Verifier verifier(publicKey); \r\n\r\nThanks a lot to @Topaco!\r\n\r\n","title":"How to validate a RSA SHA1 signature in C++ generated in a java program","body":"<p>The solution is</p>\n<pre><code>RSASS&lt;PKCS1v15, SHA1&gt;::Verifier verifier(publicKey);   \n</code></pre>\n<p>Instead of</p>\n<pre><code>RSASS&lt;PSS, SHA1&gt;::Verifier verifier(publicKey); \n</code></pre>\n<p>Thanks a lot to @Topaco!</p>\n"}],"owner":{"account_id":21847,"reputation":12082,"user_id":53420,"accept_rate":59,"display_name":"RED SOFT ADAIR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639406430,"creation_date":1639402802,"question_id":70335601,"body_markdown":"We have a java program that signs a xml file with a private key like this:\r\n\r\n    byte[] privateKeyBytes = ...; // read from the .der file\r\n    PKCS8EncodedKeySpec privateSpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n    KeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    PrivateKey = privateKeyFactory.generatePrivate(privateSpec);\r\n    \r\n    Signature rsaSignature = Signature.getInstance(&quot;SHA1withRSA&quot;);\r\n    rsaSignature.initSign(privateKey);\r\n    rsaSignature.update(data);\r\n    \r\n    byte[] signature = rsaSignature.sign();\r\n\r\nNow i have to validate this signature in C++ using cryptocpp. What i tried:\r\n\r\n \r\n\r\n    void Load(const std::string&amp; filename, BufferedTransformation&amp; bt)\r\n    {\r\n        FileSource file(filename.c_str(), true /*pumpAll*/);\r\n        file.TransferTo(bt);\r\n        bt.MessageEnd();\r\n    }\r\n    void LoadKeyFile(const std::string&amp; filename, PublicKey &amp; key)\r\n    {\r\n        ByteQueue queue;\r\n        Load(filename, queue);\r\n        key.Load(queue);    \r\n    }\r\n        \r\n    void verifySignature(std::string xmlString, std::string signature)\r\n    {\r\n        RSA::PublicKey publicKey;\r\n        LoadKeyFile(..., publicKey);\r\n        RSASS&lt;PSS, SHA1&gt;::Verifier verifier(publicKey);   \r\n        // also tried RSASS&lt;PSSR, SHA1&gt;::Verifier verifier(publicKey);   \r\n        \r\n        \r\n        if (!verifier.VerifyMessage((byte*)xmlString.c_str(), xmlString.size(),  \r\n                                    (byte*)signature.c_str(), signature.size()) )\r\n        {\r\n             // always returns false\r\n        }\r\n    }\r\n\r\nI validated that the data passed as xmlString is binary identical with the one used for creating the signature in java. The signature is base64 encoded and i also tried using it decoded.\r\nI always failed so far.\r\n\r\nIf i create a signature with the private key using cryptopp - then validating the created signature works without problems.\r\n\r\nWhat may be the problem here? I am sure this has already been done?\r\n","title":"How to validate a RSA SHA1 signature in C++ generated in a java program","body":"<p>We have a java program that signs a xml file with a private key like this:</p>\n<pre><code>byte[] privateKeyBytes = ...; // read from the .der file\nPKCS8EncodedKeySpec privateSpec = new PKCS8EncodedKeySpec(privateKeyBytes);\nKeyFactory privateKeyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\nPrivateKey = privateKeyFactory.generatePrivate(privateSpec);\n\nSignature rsaSignature = Signature.getInstance(&quot;SHA1withRSA&quot;);\nrsaSignature.initSign(privateKey);\nrsaSignature.update(data);\n\nbyte[] signature = rsaSignature.sign();\n</code></pre>\n<p>Now i have to validate this signature in C++ using cryptocpp. What i tried:</p>\n<pre><code>void Load(const std::string&amp; filename, BufferedTransformation&amp; bt)\n{\n    FileSource file(filename.c_str(), true /*pumpAll*/);\n    file.TransferTo(bt);\n    bt.MessageEnd();\n}\nvoid LoadKeyFile(const std::string&amp; filename, PublicKey &amp; key)\n{\n    ByteQueue queue;\n    Load(filename, queue);\n    key.Load(queue);    \n}\n    \nvoid verifySignature(std::string xmlString, std::string signature)\n{\n    RSA::PublicKey publicKey;\n    LoadKeyFile(..., publicKey);\n    RSASS&lt;PSS, SHA1&gt;::Verifier verifier(publicKey);   \n    // also tried RSASS&lt;PSSR, SHA1&gt;::Verifier verifier(publicKey);   \n    \n    \n    if (!verifier.VerifyMessage((byte*)xmlString.c_str(), xmlString.size(),  \n                                (byte*)signature.c_str(), signature.size()) )\n    {\n         // always returns false\n    }\n}\n</code></pre>\n<p>I validated that the data passed as xmlString is binary identical with the one used for creating the signature in java. The signature is base64 encoded and i also tried using it decoded.\nI always failed so far.</p>\n<p>If i create a signature with the private key using cryptopp - then validating the created signature works without problems.</p>\n<p>What may be the problem here? I am sure this has already been done?</p>\n"},{"tags":["java","jsp","liferay"],"answers":[{"tags":[],"owner":{"account_id":16254427,"reputation":385,"user_id":11737417,"display_name":"Pedro Blandim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635481885,"creation_date":1635481187,"answer_id":69763582,"question_id":69659998,"body_markdown":"The *nameMap* you pass to *addGroup* method should have at least your default locale. Try replacing \r\n\r\n```lang-java\r\n    nameMap.put(LocaleUtil.NETHERLANDS, name);\r\n```\r\nby \r\n```lang-java \r\n    nameMap.put(LocaleUtil.getDefault(), name);\r\n```\r\nAnd don&#39;t forget to translate the *name* accordingly to the default locale.\r\n\r\n**LocaleUtil** package is\r\n```lang-java\r\n    import com.liferay.portal.kernel.util.LocaleUtil;\r\n```\r\nobs.: I&#39;m using Liferay version 7.3.10 GA1\r\n","title":"Create sites(groups) programmatically in liferay","body":"<p>The <em>nameMap</em> you pass to <em>addGroup</em> method should have at least your default locale. Try replacing</p>\n<pre class=\"lang-java prettyprint-override\"><code>    nameMap.put(LocaleUtil.NETHERLANDS, name);\n</code></pre>\n<p>by</p>\n<pre class=\"lang-java prettyprint-override\"><code>    nameMap.put(LocaleUtil.getDefault(), name);\n</code></pre>\n<p>And don't forget to translate the <em>name</em> accordingly to the default locale.</p>\n<p><strong>LocaleUtil</strong> package is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.liferay.portal.kernel.util.LocaleUtil;\n</code></pre>\n<p>obs.: I'm using Liferay version 7.3.10 GA1</p>\n"}],"owner":{"account_id":20696487,"reputation":57,"user_id":15196570,"display_name":"Lincolnmyth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69763582,"answer_count":1,"score":2,"last_activity_date":1639406403,"creation_date":1634810953,"question_id":69659998,"body_markdown":"The past week I&#39;ve been trying to make this work but I just can&#39;t get it done myself(I&#39;m new to both java and liferay). So I was hoping someone could help.\r\n\r\nI&#39;m trying to make sites in liferay with the press of a button so users can create their own. Here&#39;s some of the code I have already:\r\n\r\n    public void addGroup(ActionRequest request, ActionResponse response)  {\r\n\t\t\r\n\t\tThemeDisplay theme = (ThemeDisplay) request.getAttribute(WebKeys.THEME_DISPLAY);  \r\n\t\t\r\n\t\tlong userId = theme.getUserId();\r\n\t\t\r\n\t\tString friendly = &quot;/hilversum&quot;;\r\n\t\t\r\n\t\tString name = &quot;hilversum&quot;;\r\n\t\t\r\n\t\tMap&lt;Locale, String&gt; nameMap = new HashMap&lt;Locale, String&gt;();\r\n\t\tnameMap.put(LocaleUtil.NETHERLANDS, name);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tGroupLocalServiceUtil.addGroup( userId, GroupConstants.DEFAULT_PARENT_GROUP_ID, &quot;&quot;, 37632, GroupConstants.DEFAULT_LIVE_GROUP_ID, \r\n\t\t\t\t\tnameMap, null, GroupConstants.TYPE_SITE_OPEN, false, GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION, friendly, true, true, new ServiceContext() );\r\n\t\t} catch (PortalException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis method is used in my jsp when someone presses submit on a form with a portlet actionURL.\r\nWhen I press the button however I get an exception: com.liferay.portal.kernel.exception.GroupKeyException\r\n\tat com.liferay.portal.service.impl.GroupLocalServiceImpl.validateGroupKey(GroupLocalServiceImpl.java:4868)\r\n\tat com.liferay.portal.service.impl.GroupLocalServiceImpl.addGroup(GroupLocalServiceImpl.java:387)\r\n\tat com.liferay.portal.service.impl.GroupLocalServiceImpl.addGroup(GroupLocalServiceImpl.java:481)\r\n\r\nAm I doing something wrong in my code? or are the variables I give to the addGroup method wrong?","title":"Create sites(groups) programmatically in liferay","body":"<p>The past week I've been trying to make this work but I just can't get it done myself(I'm new to both java and liferay). So I was hoping someone could help.</p>\n<p>I'm trying to make sites in liferay with the press of a button so users can create their own. Here's some of the code I have already:</p>\n<pre><code>public void addGroup(ActionRequest request, ActionResponse response)  {\n    \n    ThemeDisplay theme = (ThemeDisplay) request.getAttribute(WebKeys.THEME_DISPLAY);  \n    \n    long userId = theme.getUserId();\n    \n    String friendly = &quot;/hilversum&quot;;\n    \n    String name = &quot;hilversum&quot;;\n    \n    Map&lt;Locale, String&gt; nameMap = new HashMap&lt;Locale, String&gt;();\n    nameMap.put(LocaleUtil.NETHERLANDS, name);\n    \n    try {\n        GroupLocalServiceUtil.addGroup( userId, GroupConstants.DEFAULT_PARENT_GROUP_ID, &quot;&quot;, 37632, GroupConstants.DEFAULT_LIVE_GROUP_ID, \n                nameMap, null, GroupConstants.TYPE_SITE_OPEN, false, GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION, friendly, true, true, new ServiceContext() );\n    } catch (PortalException e) {\n        \n        e.printStackTrace();\n    }\n    \n}\n</code></pre>\n<p>This method is used in my jsp when someone presses submit on a form with a portlet actionURL.\nWhen I press the button however I get an exception: com.liferay.portal.kernel.exception.GroupKeyException\nat com.liferay.portal.service.impl.GroupLocalServiceImpl.validateGroupKey(GroupLocalServiceImpl.java:4868)\nat com.liferay.portal.service.impl.GroupLocalServiceImpl.addGroup(GroupLocalServiceImpl.java:387)\nat com.liferay.portal.service.impl.GroupLocalServiceImpl.addGroup(GroupLocalServiceImpl.java:481)</p>\n<p>Am I doing something wrong in my code? or are the variables I give to the addGroup method wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634828947,"creation_date":1634828947,"answer_id":69664455,"question_id":69664365,"body_markdown":"There is nothing to run, since your main is in the inner class (ExThread). It needs to be in the outer class (project42).","title":"This will compile correctly however it says there is nothing to run in two different IDE","body":"<p>There is nothing to run, since your main is in the inner class (ExThread). It needs to be in the outer class (project42).</p>\n"}],"owner":{"account_id":23103101,"reputation":21,"user_id":17212230,"display_name":"Justin Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639406388,"creation_date":1634828584,"question_id":69664365,"body_markdown":"This will compile correctly however it says there is nothing to run in two different IDE. What seems to be the issue here. I have added lines to just print hi to troubleshoot but still nothing.\r\n\r\n    import java.util.concurrent.*;\r\n\r\n    //Creates class\r\n    public class project42 {\r\n        static class ExThread extends Thread {\r\n            //Variables are set\r\n            Semaphore sema;\r\n            String theName;\r\n    \r\n            //\r\n            public ExThread(Semaphore sema, String theName) {\r\n                super(theName);\r\n                this.sema = sema;\r\n                this.theName = theName;\r\n            }\r\n    \r\n            public void run() {\r\n                //test For Westbound\r\n                if (this.getName().equals(&quot;Westbound Cars&quot;)) {\r\n                    try {\r\n                        System.out.println(theName + &quot; are waiting&quot;);\r\n                        sema.acquire();\r\n                        System.out.println(theName + &quot; are attempting&quot;);\r\n                        for (int i = 1; i &lt; 6; i++) {\r\n                            System.out.println(&quot;Westbound: &quot; + i + &quot; is waiting&quot;);\r\n                            Thread.sleep(1000);\r\n                            System.out.println(&quot;Westbound: &quot; + i + &quot; has crossed&quot;);\r\n                            Thread.sleep(1000);\r\n                        }\r\n                    } catch (InterruptedException exc) {\r\n                        System.out.println(exc);\r\n                    }\r\n                    System.out.println(theName + &quot; has crossed the bridge&quot;);\r\n                    sema.release();\r\n                } else {\r\n                    //Test for eastbound\r\n                    System.out.println(theName + &quot; are waiting&quot;);\r\n                    try {\r\n                        System.out.println(theName + &quot; are waiting&quot;);\r\n                        sema.acquire();\r\n                        System.out.println(theName + &quot; are attempting&quot;);\r\n                        for (int i = 1; i &lt; 6; i++) {\r\n                            System.out.println(&quot;Eastbound &quot; + i + &quot;is crossing&quot;);\r\n                            Thread.sleep(1000);\r\n                            System.out.println(&quot;Eastboud &quot; + i + &quot; is crossed&quot;);\r\n                            Thread.sleep(1000);\r\n                        }\r\n                    } catch (InterruptedException exc) {\r\n                        System.out.println(exc);\r\n                    }\r\n                    System.out.println(theName + &quot; have crossed the bridge&quot;);\r\n                    sema.release();\r\n                }\r\n            }\r\n    \r\n            //main class\r\n            public static void main(String[] args) throws InterruptedException {\r\n                System.out.print(&quot;hi&quot;);\r\n                Semaphore sema = new Semaphore(1);\r\n                //creates cars\r\n                ExThread et1 = new ExThread(sema, &quot;Westbound Cars&quot;);\r\n                ExThread et2 = new ExThread(sema, &quot;WEastbound Cars&quot;);\r\n                //runs program\r\n                et1.start();\r\n                et2.start();\r\n    \r\n                et1.join();\r\n                et1.join();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"This will compile correctly however it says there is nothing to run in two different IDE","body":"<p>This will compile correctly however it says there is nothing to run in two different IDE. What seems to be the issue here. I have added lines to just print hi to troubleshoot but still nothing.</p>\n<pre><code>import java.util.concurrent.*;\n\n//Creates class\npublic class project42 {\n    static class ExThread extends Thread {\n        //Variables are set\n        Semaphore sema;\n        String theName;\n\n        //\n        public ExThread(Semaphore sema, String theName) {\n            super(theName);\n            this.sema = sema;\n            this.theName = theName;\n        }\n\n        public void run() {\n            //test For Westbound\n            if (this.getName().equals(&quot;Westbound Cars&quot;)) {\n                try {\n                    System.out.println(theName + &quot; are waiting&quot;);\n                    sema.acquire();\n                    System.out.println(theName + &quot; are attempting&quot;);\n                    for (int i = 1; i &lt; 6; i++) {\n                        System.out.println(&quot;Westbound: &quot; + i + &quot; is waiting&quot;);\n                        Thread.sleep(1000);\n                        System.out.println(&quot;Westbound: &quot; + i + &quot; has crossed&quot;);\n                        Thread.sleep(1000);\n                    }\n                } catch (InterruptedException exc) {\n                    System.out.println(exc);\n                }\n                System.out.println(theName + &quot; has crossed the bridge&quot;);\n                sema.release();\n            } else {\n                //Test for eastbound\n                System.out.println(theName + &quot; are waiting&quot;);\n                try {\n                    System.out.println(theName + &quot; are waiting&quot;);\n                    sema.acquire();\n                    System.out.println(theName + &quot; are attempting&quot;);\n                    for (int i = 1; i &lt; 6; i++) {\n                        System.out.println(&quot;Eastbound &quot; + i + &quot;is crossing&quot;);\n                        Thread.sleep(1000);\n                        System.out.println(&quot;Eastboud &quot; + i + &quot; is crossed&quot;);\n                        Thread.sleep(1000);\n                    }\n                } catch (InterruptedException exc) {\n                    System.out.println(exc);\n                }\n                System.out.println(theName + &quot; have crossed the bridge&quot;);\n                sema.release();\n            }\n        }\n\n        //main class\n        public static void main(String[] args) throws InterruptedException {\n            System.out.print(&quot;hi&quot;);\n            Semaphore sema = new Semaphore(1);\n            //creates cars\n            ExThread et1 = new ExThread(sema, &quot;Westbound Cars&quot;);\n            ExThread et2 = new ExThread(sema, &quot;WEastbound Cars&quot;);\n            //runs program\n            et1.start();\n            et2.start();\n\n            et1.join();\n            et1.join();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2935339,"reputation":1799,"user_id":2514402,"accept_rate":70,"display_name":"Sam"},"score":0,"creation_date":1639526389,"post_id":69405779,"comment_id":124370026,"body_markdown":"Please post a solution if you discover it. This is stmying me too.","body":"Please post a solution if you discover it. This is stmying me too."}],"owner":{"account_id":18853451,"reputation":63,"user_id":13752025,"display_name":"Bibin M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639406108,"creation_date":1633090708,"question_id":69405779,"body_markdown":"I am trying to run the mlkit demo application from github on my local setup in Android studio , but when i am trying to build i am getting below error \r\n&quot;Cannot determine path to &#39;tools.jar&#39; library for Android API 26 Platform (C:/Users/&lt;name&gt;/AppData/Local/Android/Sdk)&quot;\r\n I have tried installing jdk 8 which has tools.jar and put the java home path to the same jdk path but still error persists \r\n\r\nAlso when i try for android app bundle i get another issue as gradle plugin should be 3.2 or higher although my gradle plugin is higher than 3.2 \r\n\r\nAny help is appreciated ","title":"Android Studio - tools.jar error while trying to build the project","body":"<p>I am trying to run the mlkit demo application from github on my local setup in Android studio , but when i am trying to build i am getting below error\n&quot;Cannot determine path to 'tools.jar' library for Android API 26 Platform (C:/Users//AppData/Local/Android/Sdk)&quot;\nI have tried installing jdk 8 which has tools.jar and put the java home path to the same jdk path but still error persists</p>\n<p>Also when i try for android app bundle i get another issue as gradle plugin should be 3.2 or higher although my gradle plugin is higher than 3.2</p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1373173,"reputation":89,"user_id":3621482,"display_name":"Double_A"},"score":0,"creation_date":1639406076,"post_id":70336072,"comment_id":124333518,"body_markdown":"Would it not be possible to mock LegacyClass? (After some refactoring of course, to e.g. inject the legacy class into MyClass.)","body":"Would it not be possible to mock LegacyClass? (After some refactoring of course, to e.g. inject the legacy class into MyClass.)"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1639424743,"post_id":70336072,"comment_id":124340553,"body_markdown":"Mockito works via overriding methods, and `private` methods aren&#39;t usually available for override because they&#39;re not visible outside the class definition. You&#39;re going to either need to make minimal changes to your class under test (e.g. extract the construction of LegacyClass to an mockable/overridable method) or use PowerMock. See the full list here: [How to use Mockito when we cannot pass a mock object to an instance of a class](https://stackoverflow.com/q/27552499/1426891)","body":"Mockito works via overriding methods, and <code>private</code> methods aren&#39;t usually available for override because they&#39;re not visible outside the class definition. You&#39;re going to either need to make minimal changes to your class under test (e.g. extract the construction of LegacyClass to an mockable/overridable method) or use PowerMock. See the full list here: <a href=\"https://stackoverflow.com/q/27552499/1426891\">How to use Mockito when we cannot pass a mock object to an instance of a class</a>"}],"owner":{"account_id":17569613,"reputation":169,"user_id":12745566,"display_name":"cosimoth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639405926,"creation_date":1639404987,"question_id":70336072,"body_markdown":"I want to test public `methodToTest()`.\r\n```\r\npublic class MyClass {\r\n    private String id;\r\n\r\n    public MyClass(String id) {}\r\n\r\n    public Object methodToTest() {\r\n        res = internalMethod();\r\n        // logic on res\r\n        return res;\r\n    }\r\n\r\n    private internalMethod() {\r\n        foo = LegacyClass(id);\r\n        res = foo.doSomething(); // DB operations here\r\n        return res;\r\n    }\r\n}\r\n\r\npublic class LegacyClass {\r\n    private static DB db = DefaultDb();\r\n    private String id;\r\n\r\n    public LegacyClass(String id) {}\r\n \r\n    public Object doSomething() {\r\n        return db.foo(id);\r\n    }\r\n}\r\n```\r\nIn my test, I&#39;ve tried:\r\n- @Mock on DB: not work. because can not @InjectMocks on LegacyClass instance as it is created inside internal method\r\n- @Spy on MyClass instance and doReturn-when on internalMethod (make it visible for test): not work. maybe it&#39;s some limitation on @Spy.\r\n\r\nIs there any options except using `PowerMock`?","title":"Mock internal method or legacy code with Mockito","body":"<p>I want to test public <code>methodToTest()</code>.</p>\n<pre><code>public class MyClass {\n    private String id;\n\n    public MyClass(String id) {}\n\n    public Object methodToTest() {\n        res = internalMethod();\n        // logic on res\n        return res;\n    }\n\n    private internalMethod() {\n        foo = LegacyClass(id);\n        res = foo.doSomething(); // DB operations here\n        return res;\n    }\n}\n\npublic class LegacyClass {\n    private static DB db = DefaultDb();\n    private String id;\n\n    public LegacyClass(String id) {}\n \n    public Object doSomething() {\n        return db.foo(id);\n    }\n}\n</code></pre>\n<p>In my test, I've tried:</p>\n<ul>\n<li>@Mock on DB: not work. because can not @InjectMocks on LegacyClass instance as it is created inside internal method</li>\n<li>@Spy on MyClass instance and doReturn-when on internalMethod (make it visible for test): not work. maybe it's some limitation on @Spy.</li>\n</ul>\n<p>Is there any options except using <code>PowerMock</code>?</p>\n"},{"tags":["java","heap-memory","velocity","turbine"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":1,"creation_date":1346870453,"post_id":12287752,"comment_id":16482152,"body_markdown":"Is it reproducible? If so, could you find out memory details using Visual VM (or) JConsole before rendering the page?","body":"Is it reproducible? If so, could you find out memory details using Visual VM (or) JConsole before rendering the page?"},{"owner":{"account_id":24025,"reputation":5424,"user_id":60789,"accept_rate":95,"display_name":"Sheldon Ross"},"score":0,"creation_date":1346870810,"post_id":12287752,"comment_id":16482272,"body_markdown":"Very, happens every time I try to generate a page past a certain size.  I can probably work around it, but it&#39;s just frustrating because I don&#39;t understand why or how it&#39;s happening. I&#39;m definitely not running out of heap space (maybe for that thread or something?).","body":"Very, happens every time I try to generate a page past a certain size.  I can probably work around it, but it&#39;s just frustrating because I don&#39;t understand why or how it&#39;s happening. I&#39;m definitely not running out of heap space (maybe for that thread or something?)."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1346870838,"post_id":12287752,"comment_id":16482285,"body_markdown":"Line 2271 of Arrays.java is `byte[] copy = new byte[newLength];`, but that should allow up to `Integer.MAX_VALUE - 5` of length.  I don&#39;t know the issue, but I comment this with the hope that it sparks someone&#39;s mind.","body":"Line 2271 of Arrays.java is <code>byte[] copy = new byte[newLength];</code>, but that should allow up to <code>Integer.MAX_VALUE - 5</code> of length.  I don&#39;t know the issue, but I comment this with the hope that it sparks someone&#39;s mind."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1346871036,"post_id":12287752,"comment_id":16482362,"body_markdown":"@Vulcan: I think that means, Arrays class trying to reserve MAX_VALUE-5 bytes, but heap saying I can&#39;t because at least those many bytes are not available. There might be some memory leak which is filling up the heap while loading this page.","body":"@Vulcan: I think that means, Arrays class trying to reserve MAX_VALUE-5 bytes, but heap saying I can&#39;t because at least those many bytes are not available. There might be some memory leak which is filling up the heap while loading this page."},{"owner":{"account_id":290705,"reputation":7460,"user_id":592392,"accept_rate":75,"display_name":"jolivier"},"score":0,"creation_date":1346871088,"post_id":12287752,"comment_id":16482375,"body_markdown":"what is the size of the array it tries to create at this point?","body":"what is the size of the array it tries to create at this point?"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1346871202,"post_id":12287752,"comment_id":16482407,"body_markdown":"@Nambari `Integer.MAX_VALUE - 5` bytes aren&#39;t attempted to be reserved; the creation of an array uses the memory it needs to, and no more.","body":"@Nambari <code>Integer.MAX_VALUE - 5</code> bytes aren&#39;t attempted to be reserved; the creation of an array uses the memory it needs to, and no more."},{"owner":{"account_id":179030,"reputation":13845,"user_id":411393,"accept_rate":100,"display_name":"QuantumMechanic"},"score":0,"creation_date":1346871324,"post_id":12287752,"comment_id":16482453,"body_markdown":"Is this a 32-bit or 64-bit Java?  What is the overall process size?  How much RAM and swap are in the machine?  How much swap is available?\n\nI saw something like this once and it was because the computer was out of swap space.  So even though my max heap was something like 16GB and the JVM was only using 2GB of heap, Java still game an OutOfMemoryException because when it went to increase the heap the operating system-level memory allocation failed (because all my RAM and swap was exhausted).","body":"Is this a 32-bit or 64-bit Java?  What is the overall process size?  How much RAM and swap are in the machine?  How much swap is available?  I saw something like this once and it was because the computer was out of swap space.  So even though my max heap was something like 16GB and the JVM was only using 2GB of heap, Java still game an OutOfMemoryException because when it went to increase the heap the operating system-level memory allocation failed (because all my RAM and swap was exhausted)."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":1,"creation_date":1346871984,"post_id":12287752,"comment_id":16482718,"body_markdown":"Are you certain the OPTS were picked up? Can you run this against jconsole to see for sure the arguments are set correctly.","body":"Are you certain the OPTS were picked up? Can you run this against jconsole to see for sure the arguments are set correctly."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1346874562,"post_id":12287752,"comment_id":16483760,"body_markdown":"If you a minimum heap size of 4 GB, it don&#39;t see how you can have more than 100 MB used. I suspect you are using more memory than you think.","body":"If you a minimum heap size of 4 GB, it don&#39;t see how you can have more than 100 MB used. I suspect you are using more memory than you think."},{"owner":{"account_id":24025,"reputation":5424,"user_id":60789,"accept_rate":95,"display_name":"Sheldon Ross"},"score":0,"creation_date":1346875057,"post_id":12287752,"comment_id":16483956,"body_markdown":"The java opts were tweaked that large in an attempt to fix the problem. They are being picked up, and I use more memory in other parts of the application. For example I use iText to generate very large pdf reports, and it works fine.","body":"The java opts were tweaked that large in an attempt to fix the problem. They are being picked up, and I use more memory in other parts of the application. For example I use iText to generate very large pdf reports, and it works fine."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":1,"creation_date":1346882146,"post_id":12287752,"comment_id":16486613,"body_markdown":"Can you post the relevant velocity template? Maybe there is some endless loop which makes the resulting document infinite in size?\n\nMaybe you can redirect the OutputStream to stdout just to see what is generated up to the point where allocation fails?","body":"Can you post the relevant velocity template? Maybe there is some endless loop which makes the resulting document infinite in size?  Maybe you can redirect the OutputStream to stdout just to see what is generated up to the point where allocation fails?"}],"answers":[{"tags":[],"owner":{"account_id":1810774,"reputation":592,"user_id":1646887,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1346875185,"creation_date":1346875185,"answer_id":12288853,"question_id":12287752,"body_markdown":"I suspect that your `-Xmn` is causing the problem, by reserving too large a chunk of the initial heap for the young generation. I would suggesting running your server without this, and seeing what happens.\r\n\r\nMy reasoning for this is that the failure occurs on `ByteArrayOutputStream.grow()`, which is creating a new array that is some percentage larger than the existing one. Large arrays (&gt; 512M) get put directly into the tenured generation, so if too much space is reserved for the young generation, there may not be enough available in tenured.\r\n\r\nAnother possibility is that your rendered template is far larger than you think it is. Although the most likely cause for this is a loop, and I don&#39;t see that in the stack trace.\r\n\r\nFinally, add the `-XX:+HeapDumpOnOutOfMemoryError` option when starting. If your output arrays are growing too large, you&#39;ll see this in the heap dump (use `jhat` to examine the dump).","title":"Java heap out of memory but not really","body":"<p>I suspect that your <code>-Xmn</code> is causing the problem, by reserving too large a chunk of the initial heap for the young generation. I would suggesting running your server without this, and seeing what happens.</p>\n\n<p>My reasoning for this is that the failure occurs on <code>ByteArrayOutputStream.grow()</code>, which is creating a new array that is some percentage larger than the existing one. Large arrays (> 512M) get put directly into the tenured generation, so if too much space is reserved for the young generation, there may not be enough available in tenured.</p>\n\n<p>Another possibility is that your rendered template is far larger than you think it is. Although the most likely cause for this is a loop, and I don't see that in the stack trace.</p>\n\n<p>Finally, add the <code>-XX:+HeapDumpOnOutOfMemoryError</code> option when starting. If your output arrays are growing too large, you'll see this in the heap dump (use <code>jhat</code> to examine the dump).</p>\n"}],"owner":{"account_id":24025,"reputation":5424,"user_id":60789,"accept_rate":95,"display_name":"Sheldon Ross"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1346982579,"accepted_answer_id":12288853,"answer_count":1,"score":1,"last_activity_date":1639405637,"creation_date":1346870339,"question_id":12287752,"body_markdown":"So getting this error when trying to render a page on using Velocity via Turbine servlet. The thing is I have tons of memory, and the servlet itself never crashes. It just fails on this request. The page it&#39;s trying to render is maybe 10M.\r\n\r\nAnyone have any thoughts/suggestions?\r\n\r\n     java.lang.OutOfMemoryError: Java heap space\r\n     java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOf(Arrays.java:2271) at\r\n     java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:113) at\r\n     java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n     at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:140)\r\n     at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221) at\r\n     sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:282) at\r\n     sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125) at\r\n     sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135) at\r\n     java.io.OutputStreamWriter.write(OutputStreamWriter.java:220) at\r\n     java.io.Writer.write(Writer.java:157) at\r\n     org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:321)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:109)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:128)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:128)\r\n     at\r\n     org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\r\n     at org.apache.velocity.Template.merge(Template.java:296) at\r\n     org.apache.velocity.app.Velocity.mergeTemplate(Velocity.java:492) at\r\n     org.apache.velocity.app.Velocity.mergeTemplate(Velocity.java:461) at\r\n     org.apache.turbine.services.velocity.TurbineVelocityService.executeRequest(TurbineVelocityService.java:455)\r\n     at\r\n     org.apache.turbine.services.velocity.TurbineVelocityService.handleRequest(TurbineVelocityService.java:321)\r\n     at\r\n     org.apache.turbine.services.velocity.TurbineVelocity.handleRequest(TurbineVelocity.java:109)\r\n     at\r\n     org.apache.turbine.modules.layouts.VelocityOnlyLayout.doBuild(VelocityOnlyLayout.java:155)\r\n     at org.apache.turbine.modules.Layout.build(Layout.java:91) at\r\n     org.apache.turbine.modules.LayoutLoader.exec(LayoutLoader.java:138) at\r\n     org.apache.turbine.modules.pages.DefaultPage.doBuild(DefaultPage.java:191)\r\n     at org.apache.turbine.modules.Page.build(Page.java:91) at\r\n     org.apache.turbine.modules.PageLoader.exec(PageLoader.java:136)\r\n\r\n`JAVA_OPTS= -Xms4096M -Xmn2048M -Xmx13128M`\r\n\r\nMemory usage under top never gets above 100M.\r\n","title":"Java heap out of memory but not really","body":"<p>So getting this error when trying to render a page on using Velocity via Turbine servlet. The thing is I have tons of memory, and the servlet itself never crashes. It just fails on this request. The page it's trying to render is maybe 10M.</p>\n\n<p>Anyone have any thoughts/suggestions?</p>\n\n<pre><code> java.lang.OutOfMemoryError: Java heap space\n java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOf(Arrays.java:2271) at\n java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:113) at\n java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\n at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:140)\n at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221) at\n sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:282) at\n sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125) at\n sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135) at\n java.io.OutputStreamWriter.write(OutputStreamWriter.java:220) at\n java.io.Writer.write(Writer.java:157) at\n org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:321)\n at\n org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\n at\n org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:109)\n at\n org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\n at\n org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\n at\n org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:128)\n at\n org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:94)\n at\n org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\n at\n org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:128)\n at\n org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:271)\n at org.apache.velocity.Template.merge(Template.java:296) at\n org.apache.velocity.app.Velocity.mergeTemplate(Velocity.java:492) at\n org.apache.velocity.app.Velocity.mergeTemplate(Velocity.java:461) at\n org.apache.turbine.services.velocity.TurbineVelocityService.executeRequest(TurbineVelocityService.java:455)\n at\n org.apache.turbine.services.velocity.TurbineVelocityService.handleRequest(TurbineVelocityService.java:321)\n at\n org.apache.turbine.services.velocity.TurbineVelocity.handleRequest(TurbineVelocity.java:109)\n at\n org.apache.turbine.modules.layouts.VelocityOnlyLayout.doBuild(VelocityOnlyLayout.java:155)\n at org.apache.turbine.modules.Layout.build(Layout.java:91) at\n org.apache.turbine.modules.LayoutLoader.exec(LayoutLoader.java:138) at\n org.apache.turbine.modules.pages.DefaultPage.doBuild(DefaultPage.java:191)\n at org.apache.turbine.modules.Page.build(Page.java:91) at\n org.apache.turbine.modules.PageLoader.exec(PageLoader.java:136)\n</code></pre>\n\n<p><code>JAVA_OPTS= -Xms4096M -Xmn2048M -Xmx13128M</code></p>\n\n<p>Memory usage under top never gets above 100M.</p>\n"},{"tags":["java","list","heap-memory"],"comments":[{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":0,"creation_date":1347901654,"post_id":12464011,"comment_id":16764249,"body_markdown":"ArrayLists are actually implemented using Object[] http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/tip/src/share/classes/java/util/ArrayList.java","body":"ArrayLists are actually implemented using Object[] <a href=\"http://hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/tip/src/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7-gate/jdk/file/tip/src/share/&hellip;</a>"},{"owner":{"account_id":228413,"reputation":3817,"user_id":490696,"display_name":"deleted_user"},"score":4,"creation_date":1347901679,"post_id":12464011,"comment_id":16764262,"body_markdown":"The source code of ArrayList is freely available on the web.","body":"The source code of ArrayList is freely available on the web."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":1,"creation_date":1347901758,"post_id":12464011,"comment_id":16764291,"body_markdown":"`ArrayList` is backed by an array under the hood.","body":"<code>ArrayList</code> is backed by an array under the hood."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347901723,"creation_date":1347901723,"answer_id":12464044,"question_id":12464011,"body_markdown":"&gt; So I assume ArrayLists are stored in the heap in contiguous locations\r\n\r\nIt is generally the case but nothing prevents a JVM from doing something different (nothing in the JVM specifications says that an array has to be stored in continuous blocks).\r\n\r\nSee also [this related post][1].\r\n\r\n&gt; what if it happens that there is another object that was stored in the heap that would prevent the ArrayList from growing?\r\n\r\nThe arraylist object will ask the JVM to give it more space, which the JVM will allocate as it wishes (or throw an OutOfMemoryException if it can&#39;t).\r\n\r\n [1]: https://stackoverflow.com/questions/10224888/java-are-1-d-arrays-always-contiguous-in-memory","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<blockquote>\n  <p>So I assume ArrayLists are stored in the heap in contiguous locations</p>\n</blockquote>\n\n<p>It is generally the case but nothing prevents a JVM from doing something different (nothing in the JVM specifications says that an array has to be stored in continuous blocks).</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/10224888/java-are-1-d-arrays-always-contiguous-in-memory\">this related post</a>.</p>\n\n<blockquote>\n  <p>what if it happens that there is another object that was stored in the heap that would prevent the ArrayList from growing?</p>\n</blockquote>\n\n<p>The arraylist object will ask the JVM to give it more space, which the JVM will allocate as it wishes (or throw an OutOfMemoryException if it can't).</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1347901825,"creation_date":1347901825,"answer_id":12464066,"question_id":12464011,"body_markdown":"`ArrayList` can grow to any size limited by the available memory by discarding its old array, allocating a brand-new one, and copying the values from the old array into the new one. This operation can take `O(n)` for any given insertion, the [amortized cost is `O(1)`][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2182597/335858","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<p><code>ArrayList</code> can grow to any size limited by the available memory by discarding its old array, allocating a brand-new one, and copying the values from the old array into the new one. This operation can take <code>O(n)</code> for any given insertion, the <a href=\"https://stackoverflow.com/q/2182597/335858\">amortized cost is <code>O(1)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1068081,"reputation":8008,"user_id":1068058,"accept_rate":84,"display_name":"ajon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347902057,"creation_date":1347902057,"answer_id":12464116,"question_id":12464011,"body_markdown":"Looking at the source code (thanks @GilbertoGaxiola) the initial ArrayList creates an object[] of size 10.  As it needs more space, it doubles the size and copies the contents of the old array into the new array.  It doesn&#39;t take very many times filling up before this array is huge, which makes this a great implementation.","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<p>Looking at the source code (thanks @GilbertoGaxiola) the initial ArrayList creates an object[] of size 10.  As it needs more space, it doubles the size and copies the contents of the old array into the new array.  It doesn't take very many times filling up before this array is huge, which makes this a great implementation.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347902643,"creation_date":1347902643,"answer_id":12464246,"question_id":12464011,"body_markdown":"&gt; So I assume ArrayLists are stored in the heap in contiguous locations (Thats the reason they have an O(1) get method).\r\n\r\nAll of the other answers are here on correct, but I want to address an incorrect assumption you&#39;ve made here:\r\n\r\n`ArrayList.get()` is O(1) not because of how the array is stored in memory, but because the cost of the element access is constant and *not proportional* to the number of elements in the ArrayList.\r\n\r\nO(1) here does not mean that a lookup can be done in a single operation - it means that the complexity is constant with respect to the size of the backing array.\r\n\r\nWhen you call `ArrayList.get(i)` the JVM still needs to translate the array index into a virtual memory address, which involves your OS translating the address into a real one - but it&#39;s O(1) because the complexity is the same if the array has 1 element or 5000.\r\n\r\nIn comparison, `LinkedList.get(i)` is not O(1) because the LinkedList class needs to walk through each node until it finds node `i` - the complexity is in proportion to the overall size of the list and the magnitude of `i`.\r\n\r\nThe assumption that the array is stored in contiguous locations is also incorrect. ","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<blockquote>\n  <p>So I assume ArrayLists are stored in the heap in contiguous locations (Thats the reason they have an O(1) get method).</p>\n</blockquote>\n\n<p>All of the other answers are here on correct, but I want to address an incorrect assumption you've made here:</p>\n\n<p><code>ArrayList.get()</code> is O(1) not because of how the array is stored in memory, but because the cost of the element access is constant and <em>not proportional</em> to the number of elements in the ArrayList.</p>\n\n<p>O(1) here does not mean that a lookup can be done in a single operation - it means that the complexity is constant with respect to the size of the backing array.</p>\n\n<p>When you call <code>ArrayList.get(i)</code> the JVM still needs to translate the array index into a virtual memory address, which involves your OS translating the address into a real one - but it's O(1) because the complexity is the same if the array has 1 element or 5000.</p>\n\n<p>In comparison, <code>LinkedList.get(i)</code> is not O(1) because the LinkedList class needs to walk through each node until it finds node <code>i</code> - the complexity is in proportion to the overall size of the list and the magnitude of <code>i</code>.</p>\n\n<p>The assumption that the array is stored in contiguous locations is also incorrect. </p>\n"},{"tags":[],"owner":{"account_id":3986008,"reputation":11,"user_id":3286552,"display_name":"chandrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391843255,"creation_date":1391843255,"answer_id":21643122,"question_id":12464011,"body_markdown":"The last explanation is absolutely correct. The os has to ultimately translate the index to a real address. So the time taken for translation is constant for all indexes. Regarding storage the secnd last explanation is correct, the size just doubles if you have to store more elements .","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<p>The last explanation is absolutely correct. The os has to ultimately translate the index to a real address. So the time taken for translation is constant for all indexes. Regarding storage the secnd last explanation is correct, the size just doubles if you have to store more elements .</p>\n"}],"owner":{"account_id":386151,"reputation":4104,"user_id":743761,"accept_rate":65,"display_name":"Keeto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2467,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12464066,"answer_count":5,"score":4,"last_activity_date":1639405609,"creation_date":1347901519,"question_id":12464011,"body_markdown":"I believe there is a difference between LinkedLists and ArrayLists. ArrayLists are nothing but dynamic arrays. So I assume ArrayLists are stored in the heap in contiguous locations (Thats the reason they have an O(1) get method). The question is, what if it happens that there is another object that was stored in the heap that would prevent the ArrayList from growing? How is it implemented in this case? If the remaining of the ArrayList is stored in other non-conrigous area of the heap, the get method wont be an O(1).\r\n\r\nFor instance, assume that there is an object in memory location 10. After that, an ArrayList is created at memory location 5. For simplicity assume each element in the array list is just one byte. This means the ArrayList can grow to 5 elements only.","title":"How is an ArrayList data structure indexed and dynamic at the same time? How is it implemented?","body":"<p>I believe there is a difference between LinkedLists and ArrayLists. ArrayLists are nothing but dynamic arrays. So I assume ArrayLists are stored in the heap in contiguous locations (Thats the reason they have an O(1) get method). The question is, what if it happens that there is another object that was stored in the heap that would prevent the ArrayList from growing? How is it implemented in this case? If the remaining of the ArrayList is stored in other non-conrigous area of the heap, the get method wont be an O(1).</p>\n\n<p>For instance, assume that there is an object in memory location 10. After that, an ArrayList is created at memory location 5. For simplicity assume each element in the array list is just one byte. This means the ArrayList can grow to 5 elements only.</p>\n"},{"tags":["java","spring-boot","hexagonal-architecture"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1639407306,"post_id":70336201,"comment_id":124334058,"body_markdown":"Maybe you just forgot to make ListOfWorkerImpl as bean (put @Component at the class)","body":"Maybe you just forgot to make ListOfWorkerImpl as bean (put @Component at the class)"},{"owner":{"account_id":18133122,"reputation":29,"user_id":13187998,"display_name":"gbeto Jean-Jos&#233;"},"score":0,"creation_date":1639410153,"post_id":70336201,"comment_id":124335325,"body_markdown":"error still persists after adding @Component in ListOfWorkerImpl class","body":"error still persists after adding @Component in ListOfWorkerImpl class"},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1639412839,"post_id":70336201,"comment_id":124336433,"body_markdown":"You should use names of the packages, not names of classes in the `scanBasePackages` value of `@SpringBootApplication` (first 3 entries are class names)","body":"You should use names of the packages, not names of classes in the <code>scanBasePackages</code> value of <code>@SpringBootApplication</code> (first 3 entries are class names)"}],"owner":{"account_id":18133122,"reputation":29,"user_id":13187998,"display_name":"gbeto Jean-Jos&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639405581,"creation_date":1639405581,"question_id":70336201,"body_markdown":"here is the aborescence of the packages\r\n```\r\ncom\r\n  +-bass_trans.java_spring_eclips_management\r\n      +-GestionBassTransApplication.java\r\n      |\r\n      +-worker\r\n          +-adaters\r\n          |  +-in\r\n          |  |   +-WorkerController.java (Rest controller use ListOfWorkerImpl)\r\n          |  +-out\r\n          |      +-ListWorkerImpl.java (class implements ListOfWorkerRepository)\r\n          +-application\r\n          |   +-port\r\n          |         +-in\r\n          |         |  +-ListOfWorker.java (interface)\r\n          |         +-out\r\n          |             +-ListOfWorkerRepository.java (interface)\r\n          +-usecase\r\n               +-ListOfWorkerImpl (class implements ListOfWorker)\r\n```\r\n // here is my controller class\r\n```\r\n@RestController\r\n@RequestMapping()\r\npublic class WorkerController {\r\n\t\r\n\tprivate ListOfWorker listOfWorker;\r\n\t\r\n\t@Autowired\r\n    public WorkerController(ListOfWorker listOfWorker) {\r\n        this.listOfWorker = listOfWorker;\r\n    }\r\n\t\r\n\t@GetMapping(&quot;/listWorkers&quot;)\r\n\tpublic List&lt;Worker&gt; getWorkers() {\r\n\t\treturn listOfWorker.findAll();\r\n        \r\n    }\r\n\t\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String sayHello(){\t\t\r\n\t\treturn &quot;Hello&quot;;\r\n\t}}\r\n          \r\n```\r\n\r\n To solve the error concerning required a bean of type... i use this solution\r\n          \r\n```\r\n@SpringBootApplication(scanBasePackages={\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.out.ListOfWorkerRepository&quot;,\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&quot;\r\n//....)}\r\n```\r\nnow i found \r\n```This application has no explicit mapping for /error in spring boot```\r\n to resolved i use \r\n```\r\n@SpringBootApplication(scanBasePackages={\r\n  &quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in&quot;\r\n//...)}\r\n```\r\nafter that line **required a bean of type...** reappears\r\n\r\ni thing that is caus of  \r\n``` bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController``` \r\n\r\n// main class\r\n```\r\n@SpringBootApplication(scanBasePackages={\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.out.ListOfWorkerRepository&quot;,\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&quot;,\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController&quot;,\r\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in&quot;,\r\n})\r\npublic class GestionBassTransApplication implements CommandLineRunner{\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(GestionBassTransApplication.class, args);\r\n\t}\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t}\r\n\r\n}\r\n```\r\n// complete error \r\n```\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController required a bean of type &#39;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&#39; in your configuration.\r\n```\r\n// This application has no explicit mapping...\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nMon Dec 13 15:24:37 WAT 2021\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n```\r\n\r\nhow  how can i solve these errors","title":"how to fix required a bean of type and This application has no explicit mapping for /error in spring boot","body":"<p>here is the aborescence of the packages</p>\n<pre><code>com\n  +-bass_trans.java_spring_eclips_management\n      +-GestionBassTransApplication.java\n      |\n      +-worker\n          +-adaters\n          |  +-in\n          |  |   +-WorkerController.java (Rest controller use ListOfWorkerImpl)\n          |  +-out\n          |      +-ListWorkerImpl.java (class implements ListOfWorkerRepository)\n          +-application\n          |   +-port\n          |         +-in\n          |         |  +-ListOfWorker.java (interface)\n          |         +-out\n          |             +-ListOfWorkerRepository.java (interface)\n          +-usecase\n               +-ListOfWorkerImpl (class implements ListOfWorker)\n</code></pre>\n<p>// here is my controller class</p>\n<pre><code>@RestController\n@RequestMapping()\npublic class WorkerController {\n    \n    private ListOfWorker listOfWorker;\n    \n    @Autowired\n    public WorkerController(ListOfWorker listOfWorker) {\n        this.listOfWorker = listOfWorker;\n    }\n    \n    @GetMapping(&quot;/listWorkers&quot;)\n    public List&lt;Worker&gt; getWorkers() {\n        return listOfWorker.findAll();\n        \n    }\n    \n    @GetMapping(&quot;/hello&quot;)\n    public String sayHello(){       \n        return &quot;Hello&quot;;\n    }}\n          \n</code></pre>\n<p>To solve the error concerning required a bean of type... i use this solution</p>\n<pre><code>@SpringBootApplication(scanBasePackages={\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.out.ListOfWorkerRepository&quot;,\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&quot;\n//....)}\n</code></pre>\n<p>now i found\n<code>This application has no explicit mapping for /error in spring boot</code>\nto resolved i use</p>\n<pre><code>@SpringBootApplication(scanBasePackages={\n  &quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in&quot;\n//...)}\n</code></pre>\n<p>after that line <strong>required a bean of type...</strong> reappears</p>\n<p>i thing that is caus of<br />\n<code> bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController</code></p>\n<p>// main class</p>\n<pre><code>@SpringBootApplication(scanBasePackages={\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.out.ListOfWorkerRepository&quot;,\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker&quot;,\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController&quot;,\n&quot;bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in&quot;,\n})\npublic class GestionBassTransApplication implements CommandLineRunner{\n    public static void main(String[] args) {\n        SpringApplication.run(GestionBassTransApplication.class, args);\n    }\n    @Override\n    public void run(String... args) throws Exception {\n\n    }\n\n}\n</code></pre>\n<p>// complete error</p>\n<pre><code>\nDescription:\n\nParameter 0 of constructor in bj.com.bass_trans.java_spring_eclips_management.worker.adapters.in.WorkerController required a bean of type 'bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'bj.com.bass_trans.java_spring_eclips_management.worker.application.port.in.ListOfWorker' in your configuration.\n</code></pre>\n<p>// This application has no explicit mapping...</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Dec 13 15:24:37 WAT 2021\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n<p>how  how can i solve these errors</p>\n"},{"tags":["java","hashmap","hashtable"],"comments":[{"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"score":0,"creation_date":1345099096,"post_id":11981852,"comment_id":15975207,"body_markdown":"because key can&#39;t be duplicated in a single map.","body":"because key can&#39;t be duplicated in a single map."},{"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"score":2,"creation_date":1345099175,"post_id":11981852,"comment_id":15975233,"body_markdown":"Maybe this [answer](http://stackoverflow.com/a/7556445/579828) will help you.","body":"Maybe this <a href=\"http://stackoverflow.com/a/7556445/579828\">answer</a> will help you."},{"owner":{"account_id":887656,"reputation":3026,"user_id":926701,"display_name":"Alexandre Dupriez"},"score":8,"creation_date":1345099213,"post_id":11981852,"comment_id":15975248,"body_markdown":"The Hashtable wants to enforce a contract by doing this. This contract ensures that the get(.) method applied to an hashtable will return null if and only if the key is not in the map.","body":"The Hashtable wants to enforce a contract by doing this. This contract ensures that the get(.) method applied to an hashtable will return null if and only if the key is not in the map."},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1415123962,"post_id":11981852,"comment_id":42069422,"body_markdown":"possible duplicate of [Why does Hashtable not take null key?](http://stackoverflow.com/questions/7556357/why-does-hashtable-not-take-null-key)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7556357/why-does-hashtable-not-take-null-key\">Why does Hashtable not take null key?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1376202,"reputation":24775,"user_id":1341006,"accept_rate":99,"display_name":"Jainendra"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1483604173,"creation_date":1345099125,"answer_id":11981897,"question_id":11981852,"body_markdown":"Hashtable is the older class, and its use is generally discouraged. Perhaps they saw the need for a null key, and more importantly - null values, and added it in the HashMap implementation.\r\n\r\nHashMap is newer, and has more advanced capabilities, which are basically just an improvement on the Hashtable functionality. When HashMap was created, it was specifically designed to handle null values as keys and handles them as a special case.\r\n\r\n**Edit**\r\n\r\nFrom `Hashtable` [JavaDoc][1]:\r\n\r\n&gt; To successfully store and retrieve objects from a Hashtable, the\r\n&gt; objects used as keys must implement the hashCode method and the equals method.\r\n\r\nSince `null` isn&#39;t an object, you can&#39;t call `.equals()` or `.hashCode()` on it, so the `Hashtable` can&#39;t compute a hash to use it as a key.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Hashtable.html","title":"Why Hashtable does not allow null keys or values?","body":"<p>Hashtable is the older class, and its use is generally discouraged. Perhaps they saw the need for a null key, and more importantly - null values, and added it in the HashMap implementation.</p>\n\n<p>HashMap is newer, and has more advanced capabilities, which are basically just an improvement on the Hashtable functionality. When HashMap was created, it was specifically designed to handle null values as keys and handles them as a special case.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>From <code>Hashtable</code> <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Hashtable.html\" rel=\"noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>To successfully store and retrieve objects from a Hashtable, the\n  objects used as keys must implement the hashCode method and the equals method.</p>\n</blockquote>\n\n<p>Since <code>null</code> isn't an object, you can't call <code>.equals()</code> or <code>.hashCode()</code> on it, so the <code>Hashtable</code> can't compute a hash to use it as a key.</p>\n"},{"tags":[],"owner":{"account_id":1058549,"reputation":8394,"user_id":1060686,"accept_rate":84,"display_name":"NotGaeL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459345426,"creation_date":1438880774,"answer_id":31861751,"question_id":11981852,"body_markdown":"The reason is the reason on the accepted answer: Hashtable is old.\r\n\r\nHowever, the use of Hashtable IS NOT discouraged in favor of HashMap in every scenario.\r\n\r\n - **Hashtable is synchronized, so it is [THREAD-SAFE][1]. HashMap is not.**\r\n\r\n\r\nNeither Hashtable nor ConcurrentHashMap support null keys or values. HashMap does.\r\n\r\nIf you want a drop-in replacement that doesn&#39;t require anything else than changing the class and works in every scenario, there is none. The most similar option would be [ConcurrentHashMap][2] (which is thread safe but doesn&#39;t support locking the whole table):\r\n\r\n&gt; This class is fully interoperable with Hashtable in programs that rely\r\n&gt; on its thread safety but not on its synchronization details.\r\n\r\nHashMap is a better replacement for single threaded applications or any time synchronization is not a requirement, because of the performance impact synchronization introduces.\r\n\r\nSources:\r\n\r\n - [Hashtable][3]\r\n - [HashMap][4]\r\n - [ConcurrentHashMap][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html","title":"Why Hashtable does not allow null keys or values?","body":"<p>The reason is the reason on the accepted answer: Hashtable is old.</p>\n\n<p>However, the use of Hashtable IS NOT discouraged in favor of HashMap in every scenario.</p>\n\n<ul>\n<li><strong>Hashtable is synchronized, so it is <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow\">THREAD-SAFE</a>. HashMap is not.</strong></li>\n</ul>\n\n<p>Neither Hashtable nor ConcurrentHashMap support null keys or values. HashMap does.</p>\n\n<p>If you want a drop-in replacement that doesn't require anything else than changing the class and works in every scenario, there is none. The most similar option would be <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow\">ConcurrentHashMap</a> (which is thread safe but doesn't support locking the whole table):</p>\n\n<blockquote>\n  <p>This class is fully interoperable with Hashtable in programs that rely\n  on its thread safety but not on its synchronization details.</p>\n</blockquote>\n\n<p>HashMap is a better replacement for single threaded applications or any time synchronization is not a requirement, because of the performance impact synchronization introduces.</p>\n\n<p>Sources:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html\" rel=\"nofollow\">Hashtable</a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow\">HashMap</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow\">ConcurrentHashMap</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7006015,"reputation":325,"user_id":5370360,"accept_rate":70,"display_name":"Arijit Dasgupta"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1456787830,"creation_date":1456787830,"answer_id":35711688,"question_id":11981852,"body_markdown":"**HashTable - Does not allow null keys**   \r\nThis is because, in put(K key, V value) method, we have `key.hashcode()` which throws null pointer exception.   \r\n**HashTable - Does not allow null value**   \r\nThis is because, in put(K key, V value) method we have `if(value==null){throw new NullPointerException`\r\n\r\nHashMap allows null values as it doesn&#39;t have any checks like HashTable, while it allows only one null key. This is done with the help of putForNullKey method, which add the value to the 0th index of the internal Array every time the key is provided as null","title":"Why Hashtable does not allow null keys or values?","body":"<p><strong>HashTable - Does not allow null keys</strong><br>\nThis is because, in put(K key, V value) method, we have <code>key.hashcode()</code> which throws null pointer exception.<br>\n<strong>HashTable - Does not allow null value</strong><br>\nThis is because, in put(K key, V value) method we have <code>if(value==null){throw new NullPointerException</code></p>\n\n<p>HashMap allows null values as it doesn't have any checks like HashTable, while it allows only one null key. This is done with the help of putForNullKey method, which add the value to the 0th index of the internal Array every time the key is provided as null</p>\n"},{"tags":[],"owner":{"account_id":6549553,"reputation":21,"user_id":5064409,"display_name":"Rehan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473410097,"creation_date":1473409545,"answer_id":39407081,"question_id":11981852,"body_markdown":"so to conclude\r\n\r\nBecause in HashTable when you put an element it will take into account key and value hash. Basically you will have something like :\r\n\r\n    public Object put(Object key, Object value){\r\n    \r\n        key.hashCode();\r\n    \r\n        //some code\r\n    \r\n        value.hashCode();\r\n    \r\n    }\r\n\r\n\r\nHashTable - Does not allow null keys\r\nThis is because, in put(K key, V value) method, we have key.hashcode() which throws null pointer exception.\r\nHashTable - Does not allow null value\r\nThis is because, in put(K key, V value) method we have if(value==null){throw new NullPointerException\r\n\r\nHashMap allows null values as it doesn&#39;t have any checks like HashTable, while it allows only one null key. This is done with the help of putForNullKey method, which add the value to the 0th index of the internal Array every time the key is provided as null\r\n\r\n\r\n\r\n","title":"Why Hashtable does not allow null keys or values?","body":"<p>so to conclude</p>\n\n<p>Because in HashTable when you put an element it will take into account key and value hash. Basically you will have something like :</p>\n\n<pre><code>public Object put(Object key, Object value){\n\n    key.hashCode();\n\n    //some code\n\n    value.hashCode();\n\n}\n</code></pre>\n\n<p>HashTable - Does not allow null keys\nThis is because, in put(K key, V value) method, we have key.hashcode() which throws null pointer exception.\nHashTable - Does not allow null value\nThis is because, in put(K key, V value) method we have if(value==null){throw new NullPointerException</p>\n\n<p>HashMap allows null values as it doesn't have any checks like HashTable, while it allows only one null key. This is done with the help of putForNullKey method, which add the value to the 0th index of the internal Array every time the key is provided as null</p>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483593529,"creation_date":1483593529,"answer_id":41477758,"question_id":11981852,"body_markdown":"Hash table is very old class , from JDK 1.0\r\n \r\n To understand this, first of all we need to understand comments written on this class by author.\r\n“This class implements a hashtable, which maps keys to values. Any non-null object can be used as a key or as a value. \r\nTo successfully store and retrieve objects from a hashtable, the objects used as keys must implement the \r\nhashCode method and the equals method.”\r\n \r\nHashTable class is implemented on hashing mechanism, that’s mean to store any key-value pair, its required hash code of key object. If key would be null, it will not able to given hash ,it will through null pointer exception and similar case for value \r\nit is throwing null if the value is null.\r\n \r\nBut later on it was realized that null key and value has its own importance that is \r\nwhy one null key and multiple null values are allowed in later implemented classes like HashMap class.\r\n \r\nFor  hash map null  keys will allow and there is a null check is there for keys \r\nif the key is null then that element will be stored in a zero location in Entry array. null key we can  use for some default value..\r\n\r\n=&gt; Hashtable methods are synchronised it neveruses object based locking.\r\n\r\nHashMap implements by considering it special\r\n\r\n     static final int hash(Object key) {\r\n            int h;\r\n            return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);\r\n        }\r\n\r\n\t\r\nJava 8 you cannot infer types for hash table.\r\n\r\n    private Map&lt;String,String&gt; hashtable = new Hashtable&lt;&gt;(); // Not Allowed\r\n    \r\n    private Map&lt;String,String&gt; hashtable = new HashMap&lt;&gt;(); // Allowed\r\n\r\n","title":"Why Hashtable does not allow null keys or values?","body":"<p>Hash table is very old class , from JDK 1.0</p>\n\n<p>To understand this, first of all we need to understand comments written on this class by author.\n“This class implements a hashtable, which maps keys to values. Any non-null object can be used as a key or as a value. \nTo successfully store and retrieve objects from a hashtable, the objects used as keys must implement the \nhashCode method and the equals method.”</p>\n\n<p>HashTable class is implemented on hashing mechanism, that’s mean to store any key-value pair, its required hash code of key object. If key would be null, it will not able to given hash ,it will through null pointer exception and similar case for value \nit is throwing null if the value is null.</p>\n\n<p>But later on it was realized that null key and value has its own importance that is \nwhy one null key and multiple null values are allowed in later implemented classes like HashMap class.</p>\n\n<p>For  hash map null  keys will allow and there is a null check is there for keys \nif the key is null then that element will be stored in a zero location in Entry array. null key we can  use for some default value..</p>\n\n<p>=> Hashtable methods are synchronised it neveruses object based locking.</p>\n\n<p>HashMap implements by considering it special</p>\n\n<pre><code> static final int hash(Object key) {\n        int h;\n        return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);\n    }\n</code></pre>\n\n<p>Java 8 you cannot infer types for hash table.</p>\n\n<pre><code>private Map&lt;String,String&gt; hashtable = new Hashtable&lt;&gt;(); // Not Allowed\n\nprivate Map&lt;String,String&gt; hashtable = new HashMap&lt;&gt;(); // Allowed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7845989,"reputation":544,"user_id":5931059,"display_name":"punitoza"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1590083784,"creation_date":1533833498,"answer_id":51772282,"question_id":11981852,"body_markdown":"The main reason why Hashtable and ConcurrentHashMap do not allow null keys or values is because of the expectation that they are going to be used in a multi-threaded environment. For a minute, let&#39;s assume that null values are allowed. In this case the hashtable&#39;s &quot;get&quot; method has ambiguous behavior. It can return null if the key is not found in the map or it can return null if the key is found and its value is null. When a code expects null values, it usually checks if the key is present in the map so that it can know whether the key is not present or the key is present but value is null. Now this code breaks in a multi-threaded environment. Let&#39;s take a look at below code:\r\n\r\n    if (map.contains(key)) {\r\n        return map.get(key);\r\n    } else {\r\n        throw new KeyNotFoundException;\r\n    }\r\nIn the above code, let&#39;s say thread t1 calls the contains method and finds the key and it assumes that key is present and is ready for returning the value whether it is null or not. Now before it calls map.get, another thread t2 removes that key from the map. Now t1 resumes and returns null. However as per the code, the correct answer for t1 is KeyNotFoundException because the key has been removed. But still it returns the null and thus the expected behavior is broken. \r\n\r\nNow, for a regular HashMap, it is assumed, that it is going to get called by a single thread, hence there is no possibility of key getting removed in the middle of &quot;contains&quot; check and &quot;get&quot;. So HashMap can tolerate null values. However for Hashtable and ConcurrentHashMap, the expectations are clear that multiple threads are going to act on the data. Hence they cannot afford to allow null values and give out incorrect answer. Same logic goes for keys. Now the counter argument can be - the contains and get steps could fail for non null values for Hashtables and ConcurrentHashMaps, because another thread can modify the map/table before the second step gets executed. That is correct, it can happen. But since Hashtables and ConcurrentHashMaps do not allow null keys and values, it is not necessary for them to implement contains and get check in the first place. They can directly get the value because they know that if the get method returns null, the only reason for that is the key is not present and not because the value could be null. The contains and get check is necessary only for HashMaps because they allow the null values and thus need to resolve the ambiguity about whether the key is not found or the value is null. ","title":"Why Hashtable does not allow null keys or values?","body":"<p>The main reason why Hashtable and ConcurrentHashMap do not allow null keys or values is because of the expectation that they are going to be used in a multi-threaded environment. For a minute, let's assume that null values are allowed. In this case the hashtable's \"get\" method has ambiguous behavior. It can return null if the key is not found in the map or it can return null if the key is found and its value is null. When a code expects null values, it usually checks if the key is present in the map so that it can know whether the key is not present or the key is present but value is null. Now this code breaks in a multi-threaded environment. Let's take a look at below code:</p>\n\n<pre><code>if (map.contains(key)) {\n    return map.get(key);\n} else {\n    throw new KeyNotFoundException;\n}\n</code></pre>\n\n<p>In the above code, let's say thread t1 calls the contains method and finds the key and it assumes that key is present and is ready for returning the value whether it is null or not. Now before it calls map.get, another thread t2 removes that key from the map. Now t1 resumes and returns null. However as per the code, the correct answer for t1 is KeyNotFoundException because the key has been removed. But still it returns the null and thus the expected behavior is broken. </p>\n\n<p>Now, for a regular HashMap, it is assumed, that it is going to get called by a single thread, hence there is no possibility of key getting removed in the middle of \"contains\" check and \"get\". So HashMap can tolerate null values. However for Hashtable and ConcurrentHashMap, the expectations are clear that multiple threads are going to act on the data. Hence they cannot afford to allow null values and give out incorrect answer. Same logic goes for keys. Now the counter argument can be - the contains and get steps could fail for non null values for Hashtables and ConcurrentHashMaps, because another thread can modify the map/table before the second step gets executed. That is correct, it can happen. But since Hashtables and ConcurrentHashMaps do not allow null keys and values, it is not necessary for them to implement contains and get check in the first place. They can directly get the value because they know that if the get method returns null, the only reason for that is the key is not present and not because the value could be null. The contains and get check is necessary only for HashMaps because they allow the null values and thus need to resolve the ambiguity about whether the key is not found or the value is null. </p>\n"},{"tags":[],"owner":{"account_id":2484796,"reputation":2643,"user_id":2163429,"accept_rate":32,"display_name":"Jiacai Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540436012,"creation_date":1540436012,"answer_id":52980658,"question_id":11981852,"body_markdown":"Just as @Jainendra said, HashTable doesn&#39;t allow null key for call key.hashCode() in `put()`.\r\n\r\nBut it seems that no one clearly answer why null value isn&#39;t allowed.\r\n\r\n    public synchronized V put(K key, V value) {\r\n        // Make sure the value is not null\r\n        if (value == null) {\r\n            throw new NullPointerException();\r\n        }\r\n\r\n        // Makes sure the key is not already in the hashtable.\r\n        Entry&lt;?,?&gt; tab[] = table;\r\n        int hash = key.hashCode();\r\n        int index = (hash &amp; 0x7FFFFFFF) % tab.length;\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Entry&lt;K,V&gt; entry = (Entry&lt;K,V&gt;)tab[index];\r\n        for(; entry != null ; entry = entry.next) {\r\n            if ((entry.hash == hash) &amp;&amp; entry.key.equals(key)) {\r\n                V old = entry.value;\r\n                entry.value = value;\r\n                return old;\r\n            }\r\n        }\r\n\r\n        addEntry(hash, key, value, index);\r\n        return null;\r\n    }\r\n\r\nThe null check in put doesn&#39;t explain why null value is illegal, it just ensure non-null invariant.\r\n\r\nThe concrete answer for not allow null value is HashTable will call `value.equals` when call `contains/remove`.","title":"Why Hashtable does not allow null keys or values?","body":"<p>Just as @Jainendra said, HashTable doesn't allow null key for call key.hashCode() in <code>put()</code>.</p>\n\n<p>But it seems that no one clearly answer why null value isn't allowed.</p>\n\n<pre><code>public synchronized V put(K key, V value) {\n    // Make sure the value is not null\n    if (value == null) {\n        throw new NullPointerException();\n    }\n\n    // Makes sure the key is not already in the hashtable.\n    Entry&lt;?,?&gt; tab[] = table;\n    int hash = key.hashCode();\n    int index = (hash &amp; 0x7FFFFFFF) % tab.length;\n    @SuppressWarnings(\"unchecked\")\n    Entry&lt;K,V&gt; entry = (Entry&lt;K,V&gt;)tab[index];\n    for(; entry != null ; entry = entry.next) {\n        if ((entry.hash == hash) &amp;&amp; entry.key.equals(key)) {\n            V old = entry.value;\n            entry.value = value;\n            return old;\n        }\n    }\n\n    addEntry(hash, key, value, index);\n    return null;\n}\n</code></pre>\n\n<p>The null check in put doesn't explain why null value is illegal, it just ensure non-null invariant.</p>\n\n<p>The concrete answer for not allow null value is HashTable will call <code>value.equals</code> when call <code>contains/remove</code>.</p>\n"},{"tags":[],"owner":{"account_id":14676233,"reputation":81,"user_id":10599184,"display_name":"Pritesh Ladhe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541232425,"creation_date":1541232425,"answer_id":53129553,"question_id":11981852,"body_markdown":"Default Hashtable implementation has null check which thorws null pointer exception.\r\nLater on java developers might have realized the importance of null keys(for some default value etc) and values and that why HashMap got introduced.\r\n\r\nFor HashMap, null check is there for keys if the key is null then that element will be stored in a location where hashcode is not required.","title":"Why Hashtable does not allow null keys or values?","body":"<p>Default Hashtable implementation has null check which thorws null pointer exception.\nLater on java developers might have realized the importance of null keys(for some default value etc) and values and that why HashMap got introduced.</p>\n\n<p>For HashMap, null check is there for keys if the key is null then that element will be stored in a location where hashcode is not required.</p>\n"},{"tags":[],"owner":{"account_id":10983760,"reputation":1014,"user_id":8070135,"display_name":"daemonThread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595227716,"creation_date":1595227716,"answer_id":62989954,"question_id":11981852,"body_markdown":"Hashtable does not allow null keys but HashMap allows one null key and any number of null values. There is a simple explanation behind that.\r\n\r\n`put()` method in hashmap **does not call hashcode() when null is passed** as key and null Key is handled as a special case. HashMap puts null key in bucket 0 and maps null as key to passed value.\r\n\r\n    public V put(K key, V value) {\r\n            if (key == null)\r\n                return putForNullKey(value);\r\n            int hash = hash(key);\r\n            int i = indexFor(hash, table.length);\r\n            for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\r\n                Object k;\r\n                if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\r\n                    V oldValue = e.value;\r\n                    e.value = value;\r\n                    e.recordAccess(this);\r\n                    return oldValue;\r\n                }\r\n            }\r\n     \r\n            modCount++;\r\n            addEntry(hash, key, value, i);\r\n            return null;\r\n        }\r\n\r\nAs seen in the algorithm the `put()` method checks if the key is null and call putForNullKey(value) and return. This putForNullKey will create a entry in bucket at 0 index. Index zero is always reserved for null key in the bucket.\r\n\r\nOn the other hand, in case of hashtable **objects used as keys must implement the hashCode method and the equals** method. Since null is not an object, it can’t implement these methods.","title":"Why Hashtable does not allow null keys or values?","body":"<p>Hashtable does not allow null keys but HashMap allows one null key and any number of null values. There is a simple explanation behind that.</p>\n<p><code>put()</code> method in hashmap <strong>does not call hashcode() when null is passed</strong> as key and null Key is handled as a special case. HashMap puts null key in bucket 0 and maps null as key to passed value.</p>\n<pre><code>public V put(K key, V value) {\n        if (key == null)\n            return putForNullKey(value);\n        int hash = hash(key);\n        int i = indexFor(hash, table.length);\n        for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\n            Object k;\n            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\n                V oldValue = e.value;\n                e.value = value;\n                e.recordAccess(this);\n                return oldValue;\n            }\n        }\n \n        modCount++;\n        addEntry(hash, key, value, i);\n        return null;\n    }\n</code></pre>\n<p>As seen in the algorithm the <code>put()</code> method checks if the key is null and call putForNullKey(value) and return. This putForNullKey will create a entry in bucket at 0 index. Index zero is always reserved for null key in the bucket.</p>\n<p>On the other hand, in case of hashtable <strong>objects used as keys must implement the hashCode method and the equals</strong> method. Since null is not an object, it can’t implement these methods.</p>\n"},{"tags":[],"owner":{"account_id":14319026,"reputation":31,"user_id":10342997,"display_name":"Gautam Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639405551,"creation_date":1639405551,"answer_id":70336195,"question_id":11981852,"body_markdown":"**Hashtable is a class which came with the first version of java. When it was released Java engineers tried to discourage the use of null keys or maybe did not realize its usefulness. So, they did not allow it in the Hashtable.**\r\n\r\nThe put method to insert key value pair in **Hashtable throws NullPointerException** if value is null. Since Hashtable is based on hashing mechanism, hash is calculated for keys, which throws NullPointerException if key is null.\r\n\r\n**Later Java engineers must have realized that having a null key and values has its uses like using them for default cases. So, they provided HashMap class with collection framework in Java 5 with capability of storing null key and values.**\r\n\r\nThe put method to insert key value pair in HashMap checks for null key and stores it at the first location of the internal table array. It isn’t afraid of the null values and does not throw NullPointerException like Hashtable does.\r\n\r\nNow, there can be only one null key as keys have to be unique although we can have multiple null values associated with different keys.","title":"Why Hashtable does not allow null keys or values?","body":"<p><strong>Hashtable is a class which came with the first version of java. When it was released Java engineers tried to discourage the use of null keys or maybe did not realize its usefulness. So, they did not allow it in the Hashtable.</strong></p>\n<p>The put method to insert key value pair in <strong>Hashtable throws NullPointerException</strong> if value is null. Since Hashtable is based on hashing mechanism, hash is calculated for keys, which throws NullPointerException if key is null.</p>\n<p><strong>Later Java engineers must have realized that having a null key and values has its uses like using them for default cases. So, they provided HashMap class with collection framework in Java 5 with capability of storing null key and values.</strong></p>\n<p>The put method to insert key value pair in HashMap checks for null key and stores it at the first location of the internal table array. It isn’t afraid of the null values and does not throw NullPointerException like Hashtable does.</p>\n<p>Now, there can be only one null key as keys have to be unique although we can have multiple null values associated with different keys.</p>\n"}],"owner":{"account_id":457364,"reputation":2538,"user_id":856634,"accept_rate":40,"display_name":"Love Hasija"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84301,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":11981897,"answer_count":10,"score":44,"last_activity_date":1639405551,"creation_date":1345098886,"question_id":11981852,"body_markdown":"As specified in JDK documentation, Hashtable does not allow null keys or values. HashMap allows one null key and any number of null values. Why is this?","title":"Why Hashtable does not allow null keys or values?","body":"<p>As specified in JDK documentation, Hashtable does not allow null keys or values. HashMap allows one null key and any number of null values. Why is this?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1639413732,"post_id":70336040,"comment_id":124336787,"body_markdown":"How did you import it?","body":"How did you import it?"},{"owner":{"account_id":21306063,"reputation":15,"user_id":15681283,"display_name":"Ketterle"},"score":0,"creation_date":1639418954,"post_id":70336040,"comment_id":124338788,"body_markdown":"Hi! File -&gt; Import -&gt; Existing Gradle Project -&gt; I selected the folder -&gt; Finish","body":"Hi! File -&gt; Import -&gt; Existing Gradle Project -&gt; I selected the folder -&gt; Finish"}],"owner":{"account_id":21306063,"reputation":15,"user_id":15681283,"display_name":"Ketterle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639404816,"creation_date":1639404816,"question_id":70336040,"body_markdown":"The thing is that I&#39;m struggling to import a Gradle project to Eclipse and it&#39;s really pissing me off. It&#39;s like it can&#39;t be recognized as a project since there&#39;s no way to edit the buildpath. I don&#39;t have any idea what this is about. I&#39;ve been told about the JDBC driver, about the build path, about everything...but I haven&#39;t been able to fix it so far. The console throws the error:\r\n\r\n***Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package jdk.internal.jrtfs in both module jrt.fs and module java.base***\r\n\r\nBy the way: the project is about connecting Eclipse to a DB using PostgreSQL.\r\n\r\nI&#39;m attaching a couple of screenshots:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nAnd the one showing there&#39;s no buildpath options:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIkng.png\r\n  [2]: https://i.stack.imgur.com/r3AgU.png\r\n\r\n\r\nThanks in advance!","title":"Troubles importing Gradle project to Eclipse: Error occurred during initialization of boot layer","body":"<p>The thing is that I'm struggling to import a Gradle project to Eclipse and it's really pissing me off. It's like it can't be recognized as a project since there's no way to edit the buildpath. I don't have any idea what this is about. I've been told about the JDBC driver, about the build path, about everything...but I haven't been able to fix it so far. The console throws the error:</p>\n<p><em><strong>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package jdk.internal.jrtfs in both module jrt.fs and module java.base</strong></em></p>\n<p>By the way: the project is about connecting Eclipse to a DB using PostgreSQL.</p>\n<p>I'm attaching a couple of screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/fIkng.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIkng.png\" alt=\"enter image description here\" /></a></p>\n<p>And the one showing there's no buildpath options:</p>\n<p><a href=\"https://i.stack.imgur.com/r3AgU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3AgU.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","floating-point","precision"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1639404207,"post_id":70335785,"comment_id":124332693,"body_markdown":"Floating point is just an approximation, a limited sum of powers of 2. A `float` is an even worse approximation than `double`, hence a cast to double will show the floats approximation errors. `strictfp` prevented the FPU (floating point processor) to use 10 bytes floating point instead of 8. More or less irrelevant to this question. Floating point does not have a precision, number of digits after decimal point.","body":"Floating point is just an approximation, a limited sum of powers of 2. A <code>float</code> is an even worse approximation than <code>double</code>, hence a cast to double will show the floats approximation errors. <code>strictfp</code> prevented the FPU (floating point processor) to use 10 bytes floating point instead of 8. More or less irrelevant to this question. Floating point does not have a precision, number of digits after decimal point."},{"owner":{"display_name":"user14215102"},"score":0,"creation_date":1639404333,"post_id":70335785,"comment_id":124332744,"body_markdown":"https://en.wikipedia.org/wiki/Machine_epsilon &lt;- the difference between 13.9 and the number you are seeing is on the order of single precision epsilon, so the conversion f-to-d was most likely accurate, that&#39;s what the number was all along","body":"<a href=\"https://en.wikipedia.org/wiki/Machine_epsilon\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Machine_epsilon</a> &lt;- the difference between 13.9 and the number you are seeing is on the order of single precision epsilon, so the conversion f-to-d was most likely accurate, that&#39;s what the number was all along"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1639404146,"creation_date":1639404146,"answer_id":70335899,"question_id":70335785,"body_markdown":"&gt; Based on my reading this is a bug in the implementation?\r\n\r\nNo. It&#39;s a bug in your expectations. The `double` value you&#39;re seeing is exactly the same value as the `float` value. The precise value is 13.8999996185302734375.\r\n\r\nThat&#39;s *not* the same as &quot;the closest `double` value to 13.9&quot; which is 13.9000000000000003552713678800500929355621337890625.\r\n\r\nYou&#39;re assigning the value 13.8999996185302734375 to a `double` value, and then printing the string representation - which is 13.899999618530273 as that&#39;s enough precision to completely distinguish it from other `double` values. If it were to print 13.9, that *would* be a bug, as there&#39;s a `double` value that&#39;s closer to 13.9, namely 13.9000000000000003552713678800500929355621337890625.","title":"Safely convert `float` to `double` without loss of precision","body":"<blockquote>\n<p>Based on my reading this is a bug in the implementation?</p>\n</blockquote>\n<p>No. It's a bug in your expectations. The <code>double</code> value you're seeing is exactly the same value as the <code>float</code> value. The precise value is 13.8999996185302734375.</p>\n<p>That's <em>not</em> the same as &quot;the closest <code>double</code> value to 13.9&quot; which is 13.9000000000000003552713678800500929355621337890625.</p>\n<p>You're assigning the value 13.8999996185302734375 to a <code>double</code> value, and then printing the string representation - which is 13.899999618530273 as that's enough precision to completely distinguish it from other <code>double</code> values. If it were to print 13.9, that <em>would</em> be a bug, as there's a <code>double</code> value that's closer to 13.9, namely 13.9000000000000003552713678800500929355621337890625.</p>\n"}],"owner":{"account_id":55661,"reputation":8798,"user_id":166732,"accept_rate":100,"display_name":"asm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70335899,"answer_count":1,"score":2,"last_activity_date":1639404146,"creation_date":1639403649,"question_id":70335785,"body_markdown":"I have the following head scratcher, demonstrated in `jshell` `11.0.12` and `17.0.1` here\r\n\r\n```\r\njshell&gt; 13.9f\r\n$1 ==&gt; 13.9\r\n\r\njshell&gt; 13.9\r\n$2 ==&gt; 13.9\r\n\r\njshell&gt; (double) 13.9f\r\n$3 ==&gt; 13.899999618530273\r\n```\r\n\r\nThe same thing occurs in a simple compiled class in both versions\r\n\r\n```java\r\nstrictfp public class Test {\r\n\r\n    public strictfp static void main(String[] args) {\r\n        System.out.format(&quot;%s%n&quot;, (double) 13.9f);\r\n        System.out.format(&quot;%s%n&quot;, 13.9f);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n╰─➤  java Test      \r\n13.899999618530273\r\n13.9\r\n```\r\n\r\n\r\nAlthough 17 warns that `strictfp` is no longer required\r\n\r\n```\r\nwarning: [strictfp] as of release 17, all floating-point expressions are evaluated strictly and &#39;strictfp&#39; is not required\r\n```\r\n\r\nThe [JLS](https://docs.oracle.com/javase/specs/jls/se17/jls17.pdf) says this in section 5.1.2\r\n\r\n```\r\nA widening primitive conversion does not lose information about the overall\r\nmagnitude of a numeric value in the following cases, where the numeric value is\r\npreserved exactly:\r\n• from an integral type to another integral type\r\n• from byte, short, or char to a floating-point type\r\n• from int to double\r\n• from float to double\r\n```\r\n\r\nIn 14 it contained the following after the bullet list\r\n```\r\nA widening primitive conversion from float to double that is not strictfp may\r\nlose information about the overall magnitude of the converted value.\r\n```\r\n\r\nBased on my reading this is a bug in the implementation? The only reliable way I&#39;ve found to perform this conversion is `Double.parseDouble(Float.toString(13.9f))`.","title":"Safely convert `float` to `double` without loss of precision","body":"<p>I have the following head scratcher, demonstrated in <code>jshell</code> <code>11.0.12</code> and <code>17.0.1</code> here</p>\n<pre><code>jshell&gt; 13.9f\n$1 ==&gt; 13.9\n\njshell&gt; 13.9\n$2 ==&gt; 13.9\n\njshell&gt; (double) 13.9f\n$3 ==&gt; 13.899999618530273\n</code></pre>\n<p>The same thing occurs in a simple compiled class in both versions</p>\n<pre class=\"lang-java prettyprint-override\"><code>strictfp public class Test {\n\n    public strictfp static void main(String[] args) {\n        System.out.format(&quot;%s%n&quot;, (double) 13.9f);\n        System.out.format(&quot;%s%n&quot;, 13.9f);\n    }\n\n}\n</code></pre>\n<pre><code>╰─➤  java Test      \n13.899999618530273\n13.9\n</code></pre>\n<p>Although 17 warns that <code>strictfp</code> is no longer required</p>\n<pre><code>warning: [strictfp] as of release 17, all floating-point expressions are evaluated strictly and 'strictfp' is not required\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/jls17.pdf\" rel=\"nofollow noreferrer\">JLS</a> says this in section 5.1.2</p>\n<pre><code>A widening primitive conversion does not lose information about the overall\nmagnitude of a numeric value in the following cases, where the numeric value is\npreserved exactly:\n• from an integral type to another integral type\n• from byte, short, or char to a floating-point type\n• from int to double\n• from float to double\n</code></pre>\n<p>In 14 it contained the following after the bullet list</p>\n<pre><code>A widening primitive conversion from float to double that is not strictfp may\nlose information about the overall magnitude of the converted value.\n</code></pre>\n<p>Based on my reading this is a bug in the implementation? The only reliable way I've found to perform this conversion is <code>Double.parseDouble(Float.toString(13.9f))</code>.</p>\n"},{"tags":["java","apache-flink","confluent-platform"],"comments":[{"owner":{"account_id":5433881,"reputation":1294,"user_id":4323911,"display_name":"BrightFlow"},"score":0,"creation_date":1639351237,"post_id":70326470,"comment_id":124320289,"body_markdown":"Maybe `user.get(&quot;col3&quot;)` returns null?","body":"Maybe <code>user.get(&quot;col3&quot;)</code> returns null?"}],"answers":[{"tags":[],"owner":{"account_id":13472617,"reputation":425,"user_id":10060134,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639392064,"creation_date":1639392064,"answer_id":70333333,"question_id":70326470,"body_markdown":"When you have `null` vallue in your topic for **col3** and you trying to access it `.toString()` you have your exception and it&#39;s normal behavior for `null.toString()`.\r\n\r\nYou should test if `col3` is not `null` ","title":"Parsing Avro messages in flink , giving null pointer exception if field is nullable in Avro Schema","body":"<p>When you have <code>null</code> vallue in your topic for <strong>col3</strong> and you trying to access it <code>.toString()</code> you have your exception and it's normal behavior for <code>null.toString()</code>.</p>\n<p>You should test if <code>col3</code> is not <code>null</code></p>\n"}],"owner":{"account_id":6812824,"reputation":756,"user_id":5242436,"accept_rate":44,"display_name":"anwaar_hell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70333333,"answer_count":1,"score":0,"last_activity_date":1639404075,"creation_date":1639333535,"question_id":70326470,"body_markdown":"I need to parse the messages from confluent Kafka stored in Avro. But while applying filter it is giving null pointer exception, without filter i was able to write back into kafka but while applying filter, it is giving null pointer exception.\r\n\r\n```\r\n public static void main(String[] args) throws Exception {\r\n\r\n        Properties config = new Properties();\r\n        config.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        config.setProperty(&quot;group.id&quot;,&quot;topic&quot;);\r\n        String schemaRegistryUrl  = &quot;http://localhost:8091&quot;;\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        \r\n        DataStream&lt;topic1&gt; streamIn = env\r\n                .addSource(\r\n                        new FlinkKafkaConsumer&lt;&gt;(\r\n                                &quot;topic1&quot;,\r\n                                ConfluentRegistryAvroDeserializationSchema.forSpecific(topic1.class, schemaRegistryUrl),\r\n                                config\r\n                        ).setStartFromEarliest());\r\n\t\t\t\t\t\t\r\n\t\t//Question here : want to return only rows which need to qulify below as with below it is giving null pointer exception\r\n\r\n\t\tDataStreamSink fltrtsrm_so=streamIn.filter((new FilterFunction&lt;topic1&gt;() {\r\n            public boolean filter(topic1 user) throws Exception {\r\n                return user.get(&quot;col3&quot;).toString().equals(&quot;New&quot;);\r\n            }\r\n        })).print();\t\t\r\n\t\t//Also let me know if there is any better way to do it as for me its just the start..)\r\n```\r\n\r\nHere is the Schema:\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;testclass&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;topic1&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;col1&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;col2&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n\t{\r\n      &quot;default&quot;: null,\r\n      &quot;name&quot;: &quot;col3&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;default&quot;: null,\r\n      &quot;name&quot;: &quot;col4&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ]\r\n    }\r\n\t]\r\n}\r\n```","title":"Parsing Avro messages in flink , giving null pointer exception if field is nullable in Avro Schema","body":"<p>I need to parse the messages from confluent Kafka stored in Avro. But while applying filter it is giving null pointer exception, without filter i was able to write back into kafka but while applying filter, it is giving null pointer exception.</p>\n<pre><code> public static void main(String[] args) throws Exception {\n\n        Properties config = new Properties();\n        config.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        config.setProperty(&quot;group.id&quot;,&quot;topic&quot;);\n        String schemaRegistryUrl  = &quot;http://localhost:8091&quot;;\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        \n        DataStream&lt;topic1&gt; streamIn = env\n                .addSource(\n                        new FlinkKafkaConsumer&lt;&gt;(\n                                &quot;topic1&quot;,\n                                ConfluentRegistryAvroDeserializationSchema.forSpecific(topic1.class, schemaRegistryUrl),\n                                config\n                        ).setStartFromEarliest());\n                        \n        //Question here : want to return only rows which need to qulify below as with below it is giving null pointer exception\n\n        DataStreamSink fltrtsrm_so=streamIn.filter((new FilterFunction&lt;topic1&gt;() {\n            public boolean filter(topic1 user) throws Exception {\n                return user.get(&quot;col3&quot;).toString().equals(&quot;New&quot;);\n            }\n        })).print();        \n        //Also let me know if there is any better way to do it as for me its just the start..)\n</code></pre>\n<p>Here is the Schema:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;testclass&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;topic1&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;col1&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;col2&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;default&quot;: null,\n      &quot;name&quot;: &quot;col3&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ]\n    },\n    {\n      &quot;default&quot;: null,\n      &quot;name&quot;: &quot;col4&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ]\n    }\n    ]\n}\n</code></pre>\n"},{"tags":["java","android","game-development"],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639404045,"creation_date":1639404045,"answer_id":70335873,"question_id":70335828,"body_markdown":"Try : \r\n\r\n    private boolean isNotACollision(int index, int actualIndex, List&lt;Integer&gt; collisionNodes) {\r\n        boolean shopMapCollision = (title.equals(&quot;shop&quot;)\r\n                &amp;&amp; !collisionNodes.contains(index) &amp;&amp; !collisionNodes.contains(actualIndex));\r\n        return shopMapCollision;\r\n    }","title":"Android combine multiple booleans with elements from List&lt;Integer&gt;","body":"<p>Try :</p>\n<pre><code>private boolean isNotACollision(int index, int actualIndex, List&lt;Integer&gt; collisionNodes) {\n    boolean shopMapCollision = (title.equals(&quot;shop&quot;)\n            &amp;&amp; !collisionNodes.contains(index) &amp;&amp; !collisionNodes.contains(actualIndex));\n    return shopMapCollision;\n}\n</code></pre>\n"}],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70335873,"answer_count":1,"score":0,"last_activity_date":1639404045,"creation_date":1639403806,"question_id":70335828,"body_markdown":"Hello I am developing a game and working on collision detection. For now my method does not allow to add elements dynamically, as you can see I am adding collision nodes (`11,12,13,...`) manually. Here is my code:\r\n\r\n    private boolean isNotACollision(int index, int actualIndex) {\r\n        return title.equals(&quot;shop&quot;)\r\n                &amp;&amp; index != 11 &amp;&amp; index != 12 &amp;&amp; index != 13 &amp;&amp; index != 21 &amp;&amp; index != 23 &amp;&amp; index != 31 &amp;&amp; index != 33\r\n                &amp;&amp; actualIndex != 11 &amp;&amp; actualIndex != 12 &amp;&amp; actualIndex != 13 &amp;&amp; actualIndex != 21 &amp;&amp; actualIndex != 23 &amp;&amp; actualIndex != 31 &amp;&amp; actualIndex != 33;\r\n    }\r\n\r\nI want to dynamically build a `boolean isNotCollision()` depending on number of elements of collision in List&lt;Integer&gt;. I want to rebuild it in a way that it hase `List&lt;Integer&gt; collisionNodes` as an argument.\r\n\r\n    private boolean isNotACollision(int index, int actualIndex, List&lt;Integer&gt; collisionNodes) {\r\n        boolean shopMapCollision = (title.equals(&quot;shop&quot;)\r\n                &amp;&amp; WHAT HERE??;\r\n        return shopMapCollision;\r\n    }","title":"Android combine multiple booleans with elements from List&lt;Integer&gt;","body":"<p>Hello I am developing a game and working on collision detection. For now my method does not allow to add elements dynamically, as you can see I am adding collision nodes (<code>11,12,13,...</code>) manually. Here is my code:</p>\n<pre><code>private boolean isNotACollision(int index, int actualIndex) {\n    return title.equals(&quot;shop&quot;)\n            &amp;&amp; index != 11 &amp;&amp; index != 12 &amp;&amp; index != 13 &amp;&amp; index != 21 &amp;&amp; index != 23 &amp;&amp; index != 31 &amp;&amp; index != 33\n            &amp;&amp; actualIndex != 11 &amp;&amp; actualIndex != 12 &amp;&amp; actualIndex != 13 &amp;&amp; actualIndex != 21 &amp;&amp; actualIndex != 23 &amp;&amp; actualIndex != 31 &amp;&amp; actualIndex != 33;\n}\n</code></pre>\n<p>I want to dynamically build a <code>boolean isNotCollision()</code> depending on number of elements of collision in List. I want to rebuild it in a way that it hase <code>List&lt;Integer&gt; collisionNodes</code> as an argument.</p>\n<pre><code>private boolean isNotACollision(int index, int actualIndex, List&lt;Integer&gt; collisionNodes) {\n    boolean shopMapCollision = (title.equals(&quot;shop&quot;)\n            &amp;&amp; WHAT HERE??;\n    return shopMapCollision;\n}\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"score":0,"creation_date":1638746866,"post_id":70239070,"comment_id":124164054,"body_markdown":"@RequestParam can be used to pass values.May be you can share some more info and some code to have better understanding of the problem you are facing.","body":"@RequestParam can be used to pass values.May be you can share some more info and some code to have better understanding of the problem you are facing."},{"owner":{"account_id":18905790,"reputation":1,"user_id":13792967,"display_name":"Kenned Larsen"},"score":0,"creation_date":1638747521,"post_id":70239070,"comment_id":124164167,"body_markdown":"I have a controller method that I wish to pass a variable from a javascript function.\n```\n@GetMapping(&quot;/project/task&quot;)\n    public String test(@RequestParam long id) {\n        // create model from task id that goes to new view page\n        return &quot;taskpage&quot;;\n    }\n```\nThe javascript function retrieves the variable (task id), when clicking on a task (gantt diagram from google charts api).\n```\n$.ajax({\n   contentType: &quot;application/json&quot;,\n   type: &quot;GET&quot;,\n   data: taskId\n   url: &quot;/project/task/&quot;+id,\n   });\n }\n```\nIt doesnt work without requestbody (which doesnt load the new page)","body":"I have a controller method that I wish to pass a variable from a javascript function. ``` @GetMapping(&quot;/project/task&quot;)     public String test(@RequestParam long id) {         // create model from task id that goes to new view page         return &quot;taskpage&quot;;     } ``` The javascript function retrieves the variable (task id), when clicking on a task (gantt diagram from google charts api). ``` $.ajax({    contentType: &quot;application/json&quot;,    type: &quot;GET&quot;,    data: taskId    url: &quot;/project/task/&quot;+id,    });  } ``` It doesnt work without requestbody (which doesnt load the new page)"},{"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"score":0,"creation_date":1638747880,"post_id":70239070,"comment_id":124164216,"body_markdown":"From Javascript you are passing id in the url. So you can use @PathVariable to get it in controller. @GetMapping(“project/task/{id}”) public String test(@PathVariable Long id)","body":"From Javascript you are passing id in the url. So you can use @PathVariable to get it in controller. @GetMapping(“project/task/{id}”) public String test(@PathVariable Long id)"},{"owner":{"account_id":18905790,"reputation":1,"user_id":13792967,"display_name":"Kenned Larsen"},"score":0,"creation_date":1638748724,"post_id":70239070,"comment_id":124164344,"body_markdown":"@Cozimetzer\nThat almost works, except it still won&#39;t load the new html page, but stays on the same page.. hmm..","body":"@Cozimetzer That almost works, except it still won&#39;t load the new html page, but stays on the same page.. hmm.."}],"answers":[{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639404005,"creation_date":1639403668,"answer_id":70335795,"question_id":70239070,"body_markdown":"If you&#39;re using Thymeleaf then just reference the template you want to return to the user by its filename.\r\n\r\n    @Controller\r\n    public class YourController {\r\n\r\n        @GetMapping(&quot;/someUrl&quot;)\r\n        public String getTemplate(@RequestParam String templateName){\r\n            return templateName;\r\n        }\r\n    }\r\n\r\nThis would be the bare minimum that you&#39;d need, assuming your templates are in the correct folder - by default in `resources/static`. If the frontend sends a `GET (/someUrl?templateName=xyz)` to the backend, it would return the `xyz.html` from your templates. If it does not find the template that was requested in the parameters then it will return a 404.\r\n\r\nEdit: Reading through the comments I realized there might be a confusion between `@RequestParam` and `@PathVariable`. In case you want to use a path variable to define the template name, so that the frontend can call `GET (/someUrl/xyz)`, then you can do\r\n\r\n    @Controller\r\n    public class YourController {\r\n\r\n        @GetMapping(&quot;/someUrl/{templateName}&quot;)\r\n        public String getTemplate(@PathVariable String templateName){\r\n            return templateName;\r\n        }\r\n    }\r\n\r\nResources for both below:\r\n\r\nhttps://www.baeldung.com/spring-request-param\r\n\r\nhttps://www.baeldung.com/spring-pathvariable","title":"Passing javascript variable to spring MVC controller with request param","body":"<p>If you're using Thymeleaf then just reference the template you want to return to the user by its filename.</p>\n<pre><code>@Controller\npublic class YourController {\n\n    @GetMapping(&quot;/someUrl&quot;)\n    public String getTemplate(@RequestParam String templateName){\n        return templateName;\n    }\n}\n</code></pre>\n<p>This would be the bare minimum that you'd need, assuming your templates are in the correct folder - by default in <code>resources/static</code>. If the frontend sends a <code>GET (/someUrl?templateName=xyz)</code> to the backend, it would return the <code>xyz.html</code> from your templates. If it does not find the template that was requested in the parameters then it will return a 404.</p>\n<p>Edit: Reading through the comments I realized there might be a confusion between <code>@RequestParam</code> and <code>@PathVariable</code>. In case you want to use a path variable to define the template name, so that the frontend can call <code>GET (/someUrl/xyz)</code>, then you can do</p>\n<pre><code>@Controller\npublic class YourController {\n\n    @GetMapping(&quot;/someUrl/{templateName}&quot;)\n    public String getTemplate(@PathVariable String templateName){\n        return templateName;\n    }\n}\n</code></pre>\n<p>Resources for both below:</p>\n<p><a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n<p><a href=\"https://www.baeldung.com/spring-pathvariable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-pathvariable</a></p>\n"}],"owner":{"account_id":18905790,"reputation":1,"user_id":13792967,"display_name":"Kenned Larsen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639404005,"creation_date":1638742991,"question_id":70239070,"body_markdown":"Is it possible to send a javascript variable to a controller endpoint, and then have the controller return a new view?\r\nI&#39;ve tried using a requestbody and ajax to do it, which passes the variable correctly, but is unable to load a new view.\r\n\r\nMaybe there&#39;s a way to do it with thymeleaf?\r\n","title":"Passing javascript variable to spring MVC controller with request param","body":"<p>Is it possible to send a javascript variable to a controller endpoint, and then have the controller return a new view?\nI've tried using a requestbody and ajax to do it, which passes the variable correctly, but is unable to load a new view.</p>\n<p>Maybe there's a way to do it with thymeleaf?</p>\n"},{"tags":["java","google-colaboratory","cplex"],"owner":{"account_id":10026887,"reputation":113,"user_id":7414813,"display_name":"A.Omidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639403573,"creation_date":1639403573,"question_id":70335767,"body_markdown":"As IBM CPLEX can be accessed on the google colab by using python programming I was wondering if, is there any way to use that by java programming on the colab? If so, how we can import the CPLEX java library to this?\r\n\r\nP.S: Java programming embedded in the colab and one can write and run the program by that. \r\n\r\n","title":"How to use CPLEX on google colab with java programming?","body":"<p>As IBM CPLEX can be accessed on the google colab by using python programming I was wondering if, is there any way to use that by java programming on the colab? If so, how we can import the CPLEX java library to this?</p>\n<p>P.S: Java programming embedded in the colab and one can write and run the program by that.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1639394081,"post_id":70333710,"comment_id":124329026,"body_markdown":"What&#39;s the error/wrong output?","body":"What&#39;s the error/wrong output?"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":1,"creation_date":1639394156,"post_id":70333710,"comment_id":124329059,"body_markdown":"... you sure the regex matches the input at all? It doesn&#39;t look like","body":"... you sure the regex matches the input at all? It doesn&#39;t look like"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1639394427,"post_id":70333710,"comment_id":124329162,"body_markdown":"I think you are using `^` incorrectly.  It is supposed to match the first character ... and you are using it 3 times.  Maybe you mean to put an alternation (`|`) between the groups?  At any rate the reason you can&#39;t retrieve groups is because the regex doesn&#39;t match the input string.  (You should test the result of the `find` or `match` call ....)","body":"I think you are using <code>^</code> incorrectly.  It is supposed to match the first character ... and you are using it 3 times.  Maybe you mean to put an alternation (<code>|</code>) between the groups?  At any rate the reason you can&#39;t retrieve groups is because the regex doesn&#39;t match the input string.  (You should test the result of the <code>find</code> or <code>match</code> call ....)"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1639398457,"post_id":70333710,"comment_id":124330509,"body_markdown":"Hi all, I updated the question to include why I am trying to have multiple patterns in one regex. Im trying to use Java Matcher and using javas feature to match strings based on groups in a regex. pls see attached link. thx.","body":"Hi all, I updated the question to include why I am trying to have multiple patterns in one regex. Im trying to use Java Matcher and using javas feature to match strings based on groups in a regex. pls see attached link. thx."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639403395,"creation_date":1639395796,"answer_id":70334088,"question_id":70333710,"body_markdown":"Your pattern `^0\\\\d{10})(^\\\\d{10})(^63\\\\d{10})` does not match, as it asserts the start of the string 3 times in a row followed by matching digits.\r\n\r\nInstead you can use a match only instead of a capture group, and optionally match either 0 or 63 followed by 10 digits.\r\n\r\nUsing `find()` you can first check if there is a match, as find tries to find the next match and returns a boolean.\r\n\r\nFor a match only, you can use:\r\n\r\n    ^(?:0|63)?\\d{10}\\b\r\n\r\n- `^` Start of string\r\n- `(?:0|63)?` Optionally match 0 or 63\r\n- `\\d{10}` Match 10 digits\r\n- `\\b` A word boundary to prevent a partial word match\r\n\r\nFor example:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;^(?:0|63)?\\\\d{10}\\\\b&quot;);\r\n    String input = &quot;09187654321&quot;;\r\n    Matcher m = pattern.matcher(input);\r\n    if (m.find()) {\r\n        System.out.println(m.group());\t\r\n    }\r\n\r\nSee a [Java demo](https://ideone.com/m1vgzk) and a [regex demo](https://regex101.com/r/VtHyC8/1).\r\n\r\nUsing matches, the pattern should match the whole string, which is the case for the given example data.\r\n\r\n    String input = &quot;09187654321&quot;;\r\n    if (input.matches(&quot;^(?:0|63)?\\\\d{10}\\\\b&quot;)) {\r\n        System.out.println(input + &quot; matches.&quot;);        \r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n**EDIT**\r\n\r\nIf you must have 3 capture groups, you can use an alternation between the groups and add a word boundary at the end:\r\n\r\n    ^(?:(0\\d{10})|(\\d{10})|(63\\d{10}))\\b\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `(?:` Non capture group\r\n  - `(0\\d{10})` Capture group 1, match 0 and 10 digits\r\n  - `|` Or\r\n  - `(\\d{10})` Capture group 2, match 10 digits\r\n  - `|` Or\r\n  - `(63\\d{10})` Capture group 3, match 63 and 10 digits\r\n- `)\\b` Close the non capture group a and add a word boundary\r\n\r\n[Regex demo](https://regex101.com/r/DYAurH/1)\r\n\r\nFor example\r\n\r\n    private String getInputtedDigitsLocal(final String mobileNumber) {\r\n    \tfinal Pattern pattern = Pattern.compile(&quot;^(?:(0\\\\d{10})|(\\\\d{10})|(63\\\\d{10}))\\\\b&quot;);\r\n    \tfinal Matcher matcher = pattern.matcher(mobileNumber);\r\n    \tString extractedMobileNumber = &quot;_&quot;;\r\n    \r\n    \tif (matcher.find()) {\r\n    \t    if (matcher.group(1) != null) {\r\n    \t        extractedMobileNumber = &quot;..&quot;;\r\n    \t    }\r\n    \t    if (matcher.group(2) != null) {\r\n    \t        extractedMobileNumber = &quot;..&quot;;\r\n    \t    }\r\n    \t    if (matcher.group(3) != null) {\r\n    \t        extractedMobileNumber = &quot;..&quot;;\r\n    \t    }\r\n    \t} else {\r\n    \t    extractedMobileNumber=&quot;NOT SUPPORTED FORMAT&quot;;\r\n    \t}\r\n    \treturn extractedMobileNumber;\r\n    }\r\n\r\nSee a [Java demo](https://ideone.com/1znzV9)","title":"Regex match group not working even if .find() and matches() were already called","body":"<p>Your pattern <code>^0\\\\d{10})(^\\\\d{10})(^63\\\\d{10})</code> does not match, as it asserts the start of the string 3 times in a row followed by matching digits.</p>\n<p>Instead you can use a match only instead of a capture group, and optionally match either 0 or 63 followed by 10 digits.</p>\n<p>Using <code>find()</code> you can first check if there is a match, as find tries to find the next match and returns a boolean.</p>\n<p>For a match only, you can use:</p>\n<pre><code>^(?:0|63)?\\d{10}\\b\n</code></pre>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?:0|63)?</code> Optionally match 0 or 63</li>\n<li><code>\\d{10}</code> Match 10 digits</li>\n<li><code>\\b</code> A word boundary to prevent a partial word match</li>\n</ul>\n<p>For example:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;^(?:0|63)?\\\\d{10}\\\\b&quot;);\nString input = &quot;09187654321&quot;;\nMatcher m = pattern.matcher(input);\nif (m.find()) {\n    System.out.println(m.group());  \n}\n</code></pre>\n<p>See a <a href=\"https://ideone.com/m1vgzk\" rel=\"nofollow noreferrer\">Java demo</a> and a <a href=\"https://regex101.com/r/VtHyC8/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>Using matches, the pattern should match the whole string, which is the case for the given example data.</p>\n<pre><code>String input = &quot;09187654321&quot;;\nif (input.matches(&quot;^(?:0|63)?\\\\d{10}\\\\b&quot;)) {\n    System.out.println(input + &quot; matches.&quot;);        \n}\n</code></pre>\n<hr>\n<p><strong>EDIT</strong></p>\n<p>If you must have 3 capture groups, you can use an alternation between the groups and add a word boundary at the end:</p>\n<pre><code>^(?:(0\\d{10})|(\\d{10})|(63\\d{10}))\\b\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>(0\\d{10})</code> Capture group 1, match 0 and 10 digits</li>\n<li><code>|</code> Or</li>\n<li><code>(\\d{10})</code> Capture group 2, match 10 digits</li>\n<li><code>|</code> Or</li>\n<li><code>(63\\d{10})</code> Capture group 3, match 63 and 10 digits</li>\n</ul>\n</li>\n<li><code>)\\b</code> Close the non capture group a and add a word boundary</li>\n</ul>\n<p><a href=\"https://regex101.com/r/DYAurH/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>For example</p>\n<pre><code>private String getInputtedDigitsLocal(final String mobileNumber) {\n    final Pattern pattern = Pattern.compile(&quot;^(?:(0\\\\d{10})|(\\\\d{10})|(63\\\\d{10}))\\\\b&quot;);\n    final Matcher matcher = pattern.matcher(mobileNumber);\n    String extractedMobileNumber = &quot;_&quot;;\n\n    if (matcher.find()) {\n        if (matcher.group(1) != null) {\n            extractedMobileNumber = &quot;..&quot;;\n        }\n        if (matcher.group(2) != null) {\n            extractedMobileNumber = &quot;..&quot;;\n        }\n        if (matcher.group(3) != null) {\n            extractedMobileNumber = &quot;..&quot;;\n        }\n    } else {\n        extractedMobileNumber=&quot;NOT SUPPORTED FORMAT&quot;;\n    }\n    return extractedMobileNumber;\n}\n</code></pre>\n<p>See a <a href=\"https://ideone.com/1znzV9\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70334088,"answer_count":1,"score":0,"last_activity_date":1639403395,"creation_date":1639393984,"question_id":70333710,"body_markdown":"I&#39;ve already tried adding the matcher.find() and matcher.matches() in order to query matching string values, but still its not working. \r\n\r\nI am trying to have 3 group patterns to match, and for my example here, I want to match and find group 1 of pattern enclosed in the first round parenthesis.\r\n\r\n    public class RegexGroupExample2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPattern pattern = Pattern.compile(&quot;(^0\\\\d{10})(^\\\\d{10})(^63\\\\d{10})&quot;);\r\n    \t\t  String input = &quot;09187654321&quot;;\r\n    \t\t  Matcher m = pattern.matcher(input);\r\n    \t\t  m.find();\r\n              // m.matches();\r\n    \t\t  String grp1 = m.group(1);\r\n    \t\t  System.out.println(&quot;Group 1 &quot; + grp1);\r\n    \t\t  System.out.println(input);\r\n    \t\t}\r\n    \t}\r\n    \r\n\r\nWhy is the grp1 not being retrieved?, afaik this code should work as I already called .find() or .matches() which is required for using .group() methods.\r\n\r\n[For reference, I&#39;m trying to apply the accepted answer here that uses matcher.group(int) to match strings][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/237061/using-regular-expressions-to-extract-a-value-in-java\r\n\r\n\r\nAttached below is the code that I will have if I dont implement Java Match Group feature just like in the answer which is in link above, I would have at least 5 declaration for each patterns and matchers instead of just one Pattern and Matchers to determine what patterns matched. \r\n\r\n    private String getInputtedDigitsLocal(final String mobileNumber) {\r\n            String extractedMobileNumber = &quot;_&quot;;\r\n    //        final Pattern pattern = Pattern.compile(&quot;(^0\\\\d{10}$)||(^\\\\d{10}$)||^\\\\+63\\\\d{10}$||(^63\\\\d{10}$)&quot;);\r\n    //        final Matcher matcher = pattern.matcher(mobileNumber);\r\n    \r\n            final Pattern pattern1 = Pattern.compile(&quot;^0\\\\d{10}$&quot;);\r\n            final Pattern pattern2 = Pattern.compile(&quot;^\\\\d{10}$&quot;);\r\n            final Pattern pattern3 = Pattern.compile(&quot;^\\\\+63\\\\d{10}$&quot;);\r\n            final Pattern pattern4 = Pattern.compile(&quot;^63\\\\d{10}$&quot;);\r\n            final Matcher matcher1 = pattern1.matcher(mobileNumber);\r\n            final Matcher matcher2 = pattern2.matcher(mobileNumber);\r\n            final Matcher matcher3 = pattern3.matcher(mobileNumber);\r\n            final Matcher matcher4 = pattern4.matcher(mobileNumber);\r\n            if (matcher1.find()) {\r\n                // test Data 0918765321\r\n                extractedMobileNumber = mobileNumber;\r\n            } else if (matcher2.find()) {\r\n                // test Data 9187654321\r\n                extractedMobileNumber = &quot;0&quot; + mobileNumber;\r\n    \r\n            } else if (matcher3.find()) {\r\n                //test Data +639187654321\r\n                extractedMobileNumber=mobileNumber+&quot;Draft&quot;;\r\n            } else if (matcher4.find()) {\r\n                //test Data 639187654321\r\n                extractedMobileNumber=mobileNumber+&quot;Draft&quot;;\r\n            } else {\r\n                extractedMobileNumber=&quot;NOT SUPPORTED FORMAT&quot;;\r\n            }\r\n    \r\n    \r\n            return extractedMobileNumber;\r\n        }","title":"Regex match group not working even if .find() and matches() were already called","body":"<p>I've already tried adding the matcher.find() and matcher.matches() in order to query matching string values, but still its not working.</p>\n<p>I am trying to have 3 group patterns to match, and for my example here, I want to match and find group 1 of pattern enclosed in the first round parenthesis.</p>\n<pre><code>public class RegexGroupExample2 {\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(&quot;(^0\\\\d{10})(^\\\\d{10})(^63\\\\d{10})&quot;);\n          String input = &quot;09187654321&quot;;\n          Matcher m = pattern.matcher(input);\n          m.find();\n          // m.matches();\n          String grp1 = m.group(1);\n          System.out.println(&quot;Group 1 &quot; + grp1);\n          System.out.println(input);\n        }\n    }\n</code></pre>\n<p>Why is the grp1 not being retrieved?, afaik this code should work as I already called .find() or .matches() which is required for using .group() methods.</p>\n<p><a href=\"https://stackoverflow.com/questions/237061/using-regular-expressions-to-extract-a-value-in-java\">For reference, I'm trying to apply the accepted answer here that uses matcher.group(int) to match strings</a></p>\n<p>Attached below is the code that I will have if I dont implement Java Match Group feature just like in the answer which is in link above, I would have at least 5 declaration for each patterns and matchers instead of just one Pattern and Matchers to determine what patterns matched.</p>\n<pre><code>private String getInputtedDigitsLocal(final String mobileNumber) {\n        String extractedMobileNumber = &quot;_&quot;;\n//        final Pattern pattern = Pattern.compile(&quot;(^0\\\\d{10}$)||(^\\\\d{10}$)||^\\\\+63\\\\d{10}$||(^63\\\\d{10}$)&quot;);\n//        final Matcher matcher = pattern.matcher(mobileNumber);\n\n        final Pattern pattern1 = Pattern.compile(&quot;^0\\\\d{10}$&quot;);\n        final Pattern pattern2 = Pattern.compile(&quot;^\\\\d{10}$&quot;);\n        final Pattern pattern3 = Pattern.compile(&quot;^\\\\+63\\\\d{10}$&quot;);\n        final Pattern pattern4 = Pattern.compile(&quot;^63\\\\d{10}$&quot;);\n        final Matcher matcher1 = pattern1.matcher(mobileNumber);\n        final Matcher matcher2 = pattern2.matcher(mobileNumber);\n        final Matcher matcher3 = pattern3.matcher(mobileNumber);\n        final Matcher matcher4 = pattern4.matcher(mobileNumber);\n        if (matcher1.find()) {\n            // test Data 0918765321\n            extractedMobileNumber = mobileNumber;\n        } else if (matcher2.find()) {\n            // test Data 9187654321\n            extractedMobileNumber = &quot;0&quot; + mobileNumber;\n\n        } else if (matcher3.find()) {\n            //test Data +639187654321\n            extractedMobileNumber=mobileNumber+&quot;Draft&quot;;\n        } else if (matcher4.find()) {\n            //test Data 639187654321\n            extractedMobileNumber=mobileNumber+&quot;Draft&quot;;\n        } else {\n            extractedMobileNumber=&quot;NOT SUPPORTED FORMAT&quot;;\n        }\n\n\n        return extractedMobileNumber;\n    }\n</code></pre>\n"},{"tags":["java","javafx","methods"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1639403308,"post_id":70335581,"comment_id":124332310,"body_markdown":"please work through a tutorial on how to use fxml - in short: it _injects_ the fields into the controller.","body":"please work through a tutorial on how to use fxml - in short: it <i>injects</i> the fields into the controller."},{"owner":{"account_id":23634503,"reputation":11,"user_id":17665773,"display_name":"Maxim"},"score":0,"creation_date":1639403462,"post_id":70335581,"comment_id":124332377,"body_markdown":"thanks, sorry about arrows","body":"thanks, sorry about arrows"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1639403491,"post_id":70335581,"comment_id":124332388,"body_markdown":"no problem, I was too quick :) good you solved that!","body":"no problem, I was too quick :) good you solved that!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1639404557,"post_id":70335581,"comment_id":124332838,"body_markdown":"As suggested, use a controller class instead of navigating the scene graph with lookups, etc. Also, it doesn&#39;t make much sense to put a `ListView` inside a `ScrollPane`; a list view will manage its own scrolling.","body":"As suggested, use a controller class instead of navigating the scene graph with lookups, etc. Also, it doesn&#39;t make much sense to put a <code>ListView</code> inside a <code>ScrollPane</code>; a list view will manage its own scrolling."}],"owner":{"account_id":23634503,"reputation":11,"user_id":17665773,"display_name":"Maxim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639403393,"creation_date":1639402717,"question_id":70335581,"body_markdown":"I have ListView&lt;FlowPane&gt; with TextField and ProgressBar. \r\n\r\nI want to get text from TextField by pressing button delbtn, but i cant figure out how i can reach this textfield in flowpane, in onClick(), flowpane is adding to listView.\r\n\r\nI tried to use ListView.getItems() method, so i have FlowPane that i need, but i dont know how to get textField from this FlowPane.\r\n\r\nAnd i tried to get flowPane.getChildren().get(0), i can see my text in console output[Output screen][1]\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        URL xmlUrl = getClass().getResource(&quot;fx.fxml&quot;);\r\n        loader.setLocation(xmlUrl);\r\n        Parent root = loader.load();\r\n        ScrollPane scrollPane = (ScrollPane) root.lookup(&quot;#scrlpn&quot;);\r\n        scrollPane.setFitToWidth(true);\r\n        scrollPane.setFitToHeight(true);\r\n        ListView&lt;FlowPane&gt; listView = new ListView&lt;&gt;();\r\n        scrollPane.setContent(listView);\r\n        TextField fieldAdd = (TextField) root.lookup(&quot;#edit_PID&quot;);\r\n        Button buttonAdd = (Button) root.lookup(&quot;#btnAdd&quot;);\r\n        buttonAdd.setOnAction(actionEvent -&gt; onClick(fieldAdd.getText().toString(), listView));\r\n        Button btnDel = (Button) root.lookup(&quot;#delbtn&quot;);\r\n        btnDel.setOnAction(actionEvent -&gt; onDel(listView));\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n    \r\n    private void onDel(ListView&lt;FlowPane&gt; listView) {\r\n        FlowPane flowPane;\r\n        for (int i = 0; i &lt; listView.getItems().size(); i++) {\r\n            flowPane = listView.getItems().get(i);\r\n            System.out.println(flowPane.getChildren().get(0));\r\n        }\r\n    }\r\n    \r\n    public void onClick(String procID, ListView&lt;FlowPane&gt; listProgress) {\r\n        ProgressBar progressBar = new ProgressBar();\r\n        progressBar.setProgress(0);\r\n        listProgress.getItems().add(new FlowPane(10, 10, new Text(procID), progressBar));\r\n    }\r\n\r\n[1]: https://i.stack.imgur.com/8TomW.png","title":"How i can get access to my textField in FlowPane? JavaFX","body":"<p>I have ListView with TextField and ProgressBar.</p>\n<p>I want to get text from TextField by pressing button delbtn, but i cant figure out how i can reach this textfield in flowpane, in onClick(), flowpane is adding to listView.</p>\n<p>I tried to use ListView.getItems() method, so i have FlowPane that i need, but i dont know how to get textField from this FlowPane.</p>\n<p>And i tried to get flowPane.getChildren().get(0), i can see my text in console output<a href=\"https://i.stack.imgur.com/8TomW.png\" rel=\"nofollow noreferrer\">Output screen</a></p>\n<pre><code>@Override\npublic void start(Stage stage) throws Exception {\n    FXMLLoader loader = new FXMLLoader();\n    URL xmlUrl = getClass().getResource(&quot;fx.fxml&quot;);\n    loader.setLocation(xmlUrl);\n    Parent root = loader.load();\n    ScrollPane scrollPane = (ScrollPane) root.lookup(&quot;#scrlpn&quot;);\n    scrollPane.setFitToWidth(true);\n    scrollPane.setFitToHeight(true);\n    ListView&lt;FlowPane&gt; listView = new ListView&lt;&gt;();\n    scrollPane.setContent(listView);\n    TextField fieldAdd = (TextField) root.lookup(&quot;#edit_PID&quot;);\n    Button buttonAdd = (Button) root.lookup(&quot;#btnAdd&quot;);\n    buttonAdd.setOnAction(actionEvent -&gt; onClick(fieldAdd.getText().toString(), listView));\n    Button btnDel = (Button) root.lookup(&quot;#delbtn&quot;);\n    btnDel.setOnAction(actionEvent -&gt; onDel(listView));\n    stage.setScene(new Scene(root));\n    stage.show();\n}\n\nprivate void onDel(ListView&lt;FlowPane&gt; listView) {\n    FlowPane flowPane;\n    for (int i = 0; i &lt; listView.getItems().size(); i++) {\n        flowPane = listView.getItems().get(i);\n        System.out.println(flowPane.getChildren().get(0));\n    }\n}\n\npublic void onClick(String procID, ListView&lt;FlowPane&gt; listProgress) {\n    ProgressBar progressBar = new ProgressBar();\n    progressBar.setProgress(0);\n    listProgress.getItems().add(new FlowPane(10, 10, new Text(procID), progressBar));\n}\n</code></pre>\n"},{"tags":["java","keycloak","openid-connect"],"answers":[{"tags":[],"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639403150,"creation_date":1639403150,"answer_id":70335675,"question_id":70335627,"body_markdown":"You typically tend to move to the BFF-pattern to better secure your SPA applications so that you do not have to deal with tokens directly in the SPA application.\r\n\r\nDo read more about the SPA pattern here:\r\n\r\n[The BFF Pattern (Backend for Frontend): An Introduction][1]\r\n\r\nThis video is also a good intro to what you have to do:\r\n\r\n[alert‘OAuth 2 0’; // The impact of XSS on OAuth 2 0 in SPAs][2]\r\n\r\n\r\n  [1]: https://blog.bitsrc.io/bff-pattern-backend-for-frontend-an-introduction-e4fa965128bf\r\n  [2]: https://www.youtube.com/watch?v=lEnbi4KClVw&amp;ab_channel=PhilippeDeRyck","title":"Keycloak public vs confidental client","body":"<p>You typically tend to move to the BFF-pattern to better secure your SPA applications so that you do not have to deal with tokens directly in the SPA application.</p>\n<p>Do read more about the SPA pattern here:</p>\n<p><a href=\"https://blog.bitsrc.io/bff-pattern-backend-for-frontend-an-introduction-e4fa965128bf\" rel=\"nofollow noreferrer\">The BFF Pattern (Backend for Frontend): An Introduction</a></p>\n<p>This video is also a good intro to what you have to do:</p>\n<p><a href=\"https://www.youtube.com/watch?v=lEnbi4KClVw&amp;ab_channel=PhilippeDeRyck\" rel=\"nofollow noreferrer\">alert‘OAuth 2 0’; // The impact of XSS on OAuth 2 0 in SPAs</a></p>\n"}],"owner":{"account_id":15456494,"reputation":45,"user_id":11150392,"display_name":"deevelop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70335675,"answer_count":1,"score":4,"last_activity_date":1639403150,"creation_date":1639402911,"question_id":70335627,"body_markdown":"I have a frontend and backend application (angular + spring boot). The frontend is served as static web content, then it sends the REST calls to the backend API on the same port.\r\n\r\nKeycloak with OpenID protocol is used for users authentication and role management. Upon an request which requires authentication, the browser is redirected to Keycloak, user gives username and password then user roles are returned to the browser written into the access token. \r\n\r\nLater the frontend sends this access token with every request, the backend checks the token signature against Keycloaks public key before fulfilling the request.\r\n\r\nCurrently it works fine with one public client in Keycloak. But I am required to switch to confidential client.\r\n\r\nHow is this even possible? My understanding is that confidential application requires the client secret in the token request, which can not be sent to the browser... because it is secret.\r\n\r\nCan someone please explain? ","title":"Keycloak public vs confidental client","body":"<p>I have a frontend and backend application (angular + spring boot). The frontend is served as static web content, then it sends the REST calls to the backend API on the same port.</p>\n<p>Keycloak with OpenID protocol is used for users authentication and role management. Upon an request which requires authentication, the browser is redirected to Keycloak, user gives username and password then user roles are returned to the browser written into the access token.</p>\n<p>Later the frontend sends this access token with every request, the backend checks the token signature against Keycloaks public key before fulfilling the request.</p>\n<p>Currently it works fine with one public client in Keycloak. But I am required to switch to confidential client.</p>\n<p>How is this even possible? My understanding is that confidential application requires the client secret in the token request, which can not be sent to the browser... because it is secret.</p>\n<p>Can someone please explain?</p>\n"},{"tags":["java","gradle","log4j"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639401992,"creation_date":1639401992,"answer_id":70335409,"question_id":70335233,"body_markdown":"I see no evidence that it&#39;s &quot;discontinued&quot;, it&#39;s just effectively feature-complete. They haven&#39;t *needed* to update it, so they haven&#39;t updated it.\r\n\r\n&gt; Is updating this submodule necessary?\r\n\r\nNo. There hasn&#39;t even been a release of this since 2017, so there&#39;s nothing to update it to.\r\n\r\n&gt; Which submodule contains the exploit?\r\n\r\nlog4j-core\r\n\r\n","title":"What is the current version of log4j-nosql and is it save?","body":"<p>I see no evidence that it's &quot;discontinued&quot;, it's just effectively feature-complete. They haven't <em>needed</em> to update it, so they haven't updated it.</p>\n<blockquote>\n<p>Is updating this submodule necessary?</p>\n</blockquote>\n<p>No. There hasn't even been a release of this since 2017, so there's nothing to update it to.</p>\n<blockquote>\n<p>Which submodule contains the exploit?</p>\n</blockquote>\n<p>log4j-core</p>\n"}],"owner":{"account_id":7894461,"reputation":1857,"user_id":5963631,"accept_rate":71,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70335409,"answer_count":1,"score":-1,"last_activity_date":1639402830,"creation_date":1639401182,"question_id":70335233,"body_markdown":"For obvious reasons I am trying to update log4j to version 2.15.\r\n\r\nHowever the submodule log4j-nosql seems to be discontinued after 2.9.1: https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-nosql/\r\n\r\nIs updating this submodule necessary? Which submodule contains the exploit?","title":"What is the current version of log4j-nosql and is it save?","body":"<p>For obvious reasons I am trying to update log4j to version 2.15.</p>\n<p>However the submodule log4j-nosql seems to be discontinued after 2.9.1: <a href=\"https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-nosql/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-nosql/</a></p>\n<p>Is updating this submodule necessary? Which submodule contains the exploit?</p>\n"},{"tags":["java","javafx","java-platform-module-system","java-17","jdeps"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":1,"creation_date":1636729018,"post_id":69943899,"comment_id":123641489,"body_markdown":"Can you share a list of all JAR files (or/and their Maven coordinates) being on the class path? Or is the entire app and its build configuration available online?","body":"Can you share a list of all JAR files (or/and their Maven coordinates) being on the class path? Or is the entire app and its build configuration available online?"},{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":1,"creation_date":1636729960,"post_id":69943899,"comment_id":123641909,"body_markdown":"Which jdeps version is running here? What does `~/path/to/jdk/bin/java -version` print?","body":"Which jdeps version is running here? What does <code>~&#47;path&#47;to&#47;jdk&#47;bin&#47;java -version</code> print?"},{"owner":{"account_id":1256449,"reputation":1131,"user_id":1281217,"accept_rate":100,"display_name":"dzim"},"score":0,"creation_date":1636729981,"post_id":69943899,"comment_id":123641920,"body_markdown":"I can certainly share the jar file, but the app itself is not open source, gimme a second and I&#39;ll edit the question.","body":"I can certainly share the jar file, but the app itself is not open source, gimme a second and I&#39;ll edit the question."},{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1636730752,"post_id":69943899,"comment_id":123642270,"body_markdown":"Thanks for listing them -- will check if they are listed as &quot;suspicious&quot; here https://github.com/sormuras/modules#suspicious-artifacts\n\nOne more thing: what does &quot;mvn compile org.apache.maven.plugins:maven-dependency-plugin:3.1.1:resolve -DexcludeTransitive&quot; print?","body":"Thanks for listing them -- will check if they are listed as &quot;suspicious&quot; here <a href=\"https://github.com/sormuras/modules#suspicious-artifacts\" rel=\"nofollow noreferrer\">github.com/sormuras/modules#suspicious-artifacts</a>  One more thing: what does &quot;mvn compile org.apache.maven.plugins:maven-dependency-plugin:3.1.1:resol&zwnj;&#8203;ve -DexcludeTransitive&quot; print?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1636747022,"post_id":69943899,"comment_id":123648205,"body_markdown":"Looking at the jdeps source for the first error: https://github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/VersionHelper.java#L60 it should be printing a message like: https://github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/resources/jdeps.properties#L246 i.e. it seems like it&#39;s complaining that the same class has multiple versions. But, that should be fine I think...","body":"Looking at the jdeps source for the first error: <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/VersionHelper.java#L60\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/&hellip;</a> it should be printing a message like: <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/resources/jdeps.properties#L246\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/jdk.jdeps/share/&hellip;</a> i.e. it seems like it&#39;s complaining that the same class has multiple versions. But, that should be fine I think..."},{"owner":{"account_id":1256449,"reputation":1131,"user_id":1281217,"accept_rate":100,"display_name":"dzim"},"score":0,"creation_date":1636962129,"post_id":69943899,"comment_id":123688006,"body_markdown":"@JornVernee thanks for looking into it as well. One question might be: Why doesn&#39;t jdeps print the message in the stack trace. That probably would help a bit. Is there a way to make the command more verbose (the option seem to do something else)?","body":"@JornVernee thanks for looking into it as well. One question might be: Why doesn&#39;t jdeps print the message in the stack trace. That probably would help a bit. Is there a way to make the command more verbose (the option seem to do something else)?"},{"owner":{"account_id":1256449,"reputation":1131,"user_id":1281217,"accept_rate":100,"display_name":"dzim"},"score":0,"creation_date":1636967366,"post_id":69943899,"comment_id":123689656,"body_markdown":"Note: When I use the one-line command (instead of the multi-line one) and remove the dependency to gmapfx, I&#39;m greeted with the same error, but for junit. Since junit makes no sense to keep in the final build, I filtered them out. Now I&#39;m back with the not-so-helpful MultiReleaseException. Once again I&#39;m back to &#129335;... &#128521;","body":"Note: When I use the one-line command (instead of the multi-line one) and remove the dependency to gmapfx, I&#39;m greeted with the same error, but for junit. Since junit makes no sense to keep in the final build, I filtered them out. Now I&#39;m back with the not-so-helpful MultiReleaseException. Once again I&#39;m back to 🤷... 😉"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1636990867,"post_id":69943899,"comment_id":123698920,"body_markdown":"I think the error message not being printed correctly is a bug, and I&#39;ve filed [JDK-8277123](https://bugs.openjdk.java.net/browse/JDK-8277123) for it. Maybe you could find out which jar file it&#39;s failing on? (e.g. try running all jars through jdeps one by one), and then check what is contained in `META-INF/versions` in the failing jar. I think that would help to create a smaller reproducer.","body":"I think the error message not being printed correctly is a bug, and I&#39;ve filed <a href=\"https://bugs.openjdk.java.net/browse/JDK-8277123\" rel=\"nofollow noreferrer\">JDK-8277123</a> for it. Maybe you could find out which jar file it&#39;s failing on? (e.g. try running all jars through jdeps one by one), and then check what is contained in <code>META-INF&#47;versions</code> in the failing jar. I think that would help to create a smaller reproducer."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1637026926,"post_id":69943899,"comment_id":123709911,"body_markdown":"Okay, the exception you are seeing is a bug as well, likely caused by 2 different jar files having a module-info.class file in a different versioned directory (or just a class with the same name, but that seems less likely) [JDK-8277165](https://bugs.openjdk.java.net/browse/JDK-8277165). The reason it&#39;s sometimes not happening is likely because there&#39;s a data race going on as well [JDK-8277166](https://bugs.openjdk.java.net/browse/JDK-8277166).","body":"Okay, the exception you are seeing is a bug as well, likely caused by 2 different jar files having a module-info.class file in a different versioned directory (or just a class with the same name, but that seems less likely) <a href=\"https://bugs.openjdk.java.net/browse/JDK-8277165\" rel=\"nofollow noreferrer\">JDK-8277165</a>. The reason it&#39;s sometimes not happening is likely because there&#39;s a data race going on as well <a href=\"https://bugs.openjdk.java.net/browse/JDK-8277166\" rel=\"nofollow noreferrer\">JDK-8277166</a>."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1639402581,"creation_date":1637180602,"answer_id":70011064,"question_id":69943899,"body_markdown":"Update: These issues have been fixed, and a patched version of `jdeps` is available as part of the early access build for JDK 18 at: http://jdk.java.net/18/ (starting from build 26)\r\n\r\n---\r\n\r\nTurning my comments into an answer. There seem to be 3 bugs going on here:\r\n\r\n 1. The `MultiReleaseException` seems to be because `jdeps` can not handle classes in different jars that have the same name, such as `module-info.class`, but are stored in a different `META-INF/versions/xxx` directory. ([JDK-8277165](https://bugs.openjdk.java.net/browse/JDK-8277165))\r\n 2. The fact that this exception is sometimes suddenly not occuring seems to be the result of a race condition in the code that checks for the above; classes of the same name having multiple versions. ([JDK-8277166](https://bugs.openjdk.java.net/browse/JDK-8277166))\r\n 3. The `MultiReleaseException` is missing it&#39;s exception message since it&#39;s thrown as part of an asynchronous task, which wraps it in an `ExecutionException`, which then leads to `jdeps` not reporting the exception correctly. ([JDK-8277123](https://bugs.openjdk.java.net/browse/JDK-8277123))\r\n\r\nAs for a workaround, I don&#39;t think there&#39;s a good one at this point, except maybe for editing all the jars on the class path so that they put the `module-info.class` in the same `META-INF/versions/xxx` directory (but, this might have other consequences as well, so you probably don&#39;t want to run with the edited jars, and only use them for `jdeps`).\r\n\r\n","title":"jdeps can&#39;t print-module-deps due to a MultiReleaseException","body":"<p>Update: These issues have been fixed, and a patched version of <code>jdeps</code> is available as part of the early access build for JDK 18 at: <a href=\"http://jdk.java.net/18/\" rel=\"noreferrer\">http://jdk.java.net/18/</a> (starting from build 26)</p>\n<hr />\n<p>Turning my comments into an answer. There seem to be 3 bugs going on here:</p>\n<ol>\n<li>The <code>MultiReleaseException</code> seems to be because <code>jdeps</code> can not handle classes in different jars that have the same name, such as <code>module-info.class</code>, but are stored in a different <code>META-INF/versions/xxx</code> directory. (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8277165\" rel=\"noreferrer\">JDK-8277165</a>)</li>\n<li>The fact that this exception is sometimes suddenly not occuring seems to be the result of a race condition in the code that checks for the above; classes of the same name having multiple versions. (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8277166\" rel=\"noreferrer\">JDK-8277166</a>)</li>\n<li>The <code>MultiReleaseException</code> is missing it's exception message since it's thrown as part of an asynchronous task, which wraps it in an <code>ExecutionException</code>, which then leads to <code>jdeps</code> not reporting the exception correctly. (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8277123\" rel=\"noreferrer\">JDK-8277123</a>)</li>\n</ol>\n<p>As for a workaround, I don't think there's a good one at this point, except maybe for editing all the jars on the class path so that they put the <code>module-info.class</code> in the same <code>META-INF/versions/xxx</code> directory (but, this might have other consequences as well, so you probably don't want to run with the edited jars, and only use them for <code>jdeps</code>).</p>\n"}],"owner":{"account_id":1256449,"reputation":1131,"user_id":1281217,"accept_rate":100,"display_name":"dzim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":70011064,"answer_count":1,"score":10,"last_activity_date":1639402581,"creation_date":1636724793,"question_id":69943899,"body_markdown":"We have a JavaFX based application which is **not** modularized (there are reasons, a legacy library is involved) but we build an custom runtime using `jdeps` and `jlink`.\r\n\r\nWe&#39;ve recently rewritten the app and added a couple of new dependencies, as well as removing others. Now the script that is building the application suddenly stopped working during the `jdeps` call.\r\n\r\n**Note:** This is happening on Linux – I&#39;ve yet to test other OS&#39;ses, but I don&#39;t expect another result.\r\n\r\nWhen the script calls\r\n```\r\n~/path/to/jdk/bin/jdeps -q --multi-release 11 --ignore-missing-deps --print-module-deps --class-path ~/path/to/app/target/package/libs/* target/classes/ch/cnlab/uxtest/MainKt.class\r\n```\r\nthe result is always\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:271)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.parse(DependencyFinder.java:133)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.transitiveArchiveDeps(DepsAnalyzer.java:217)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.run(DepsAnalyzer.java:138)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.ModuleExportsAnalyzer.run(ModuleExportsAnalyzer.java:74)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask$ListModuleDeps.run(JdepsTask.java:1047)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:574)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\nCaused by: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:267)\r\n\t... 8 more\r\nCaused by: com.sun.tools.jdeps.MultiReleaseException\r\n\tat jdk.jdeps/com.sun.tools.jdeps.VersionHelper.add(VersionHelper.java:62)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileReader.readClassFile(ClassFileReader.java:360)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileIterator.hasNext(ClassFileReader.java:402)\r\n\tat jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.lambda$parse$5(DependencyFinder.java:179)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI couldn&#39;t find much in regards to this specific exception and everything I&#39;ve found so far was not applicable to our situation.\r\n\r\nTo not wait as long as the build takes to reach this point, I&#39;ve let the program print out the command before it gets executed and use it on a terminal. Then it get&#39;s a bit weirder:\r\n```\r\nException in thread &quot;main&quot; java.lang.module.FindException: Module org.slf4j not found, required by com.dlsc.gmapsfx\r\n        at java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\r\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n        at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\n```\r\n\r\nWhy of all sudden to I get a different exception? Which one is correct now? I have no clue.  \r\nFact is, the jar containing `org.slf4j` only has the automatic module name.\r\n\r\nI really have have no idea, what I should do with little information... If someone else can point to something, I&#39;d be glad.\r\n\r\nThanks,\r\nDaniel\r\n\r\n**PS:** The following code prints the command and executes it:\r\n```shell\r\necho &quot;detecting required modules&quot;\r\nCMD=&quot;$JDK/bin/jdeps -q --multi-release ${JAVA_VERSION} --ignore-missing-deps --print-module-deps --class-path ${OUT_LIBS}/* ${MAIN_CLASS_FILE}&quot;; echo &quot;$CMD&quot;\r\ndetected_modules=$(&quot;$JDK&quot;/bin/jdeps -q \\\r\n  --multi-release ${JAVA_VERSION} \\\r\n  --ignore-missing-deps \\\r\n  --print-module-deps \\\r\n  --class-path &quot;${OUT_LIBS}/*&quot; \\\r\n    &quot;${MAIN_CLASS_FILE}&quot;) || exit\r\necho &quot;detected modules: ${detected_modules}&quot;\r\n```\r\nThey really seem to create different result... &#129335;\r\n\r\n**PPS:** If I remove the `--multi-release` part, I get a different error, that `jackson` is multi-release, but I need to specify what I want...\r\n```\r\nError: jackson-core-2.13.0.jar is a multi-release jar file but --multi-release option is not set\r\n```\r\n\r\n---\r\n\r\n**Edit #1**\r\n\r\nIn the pom file, we have the following deps\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\r\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kotlinx-coroutines-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${kotlinx.coroutines.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kotlinx-coroutines-jdk8&lt;/artifactId&gt;\r\n    &lt;version&gt;${kotlinx.coroutines.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.insert-koin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;koin-core-jvm&lt;/artifactId&gt;\r\n    &lt;version&gt;${koin.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.insert-koin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;koin-test-jvm&lt;/artifactId&gt;\r\n    &lt;version&gt;${koin.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.simpleframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;simple-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;${simplexml.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n    &lt;version&gt;${proguard.version}&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${junit.version}&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;${junit.version}&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ikonli-materialdesign2-pack&lt;/artifactId&gt;\r\n    &lt;version&gt;${ikonli.mdi2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n    &lt;version&gt;${ikonli.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n    &lt;version&gt;${controlsfx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.dlsc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;GMapsFX&lt;/artifactId&gt;\r\n    &lt;version&gt;${gmapfx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;${sqlite.jdbc.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- some custom deps from our company --&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.conscrypt&lt;/groupId&gt;\r\n    &lt;artifactId&gt;conscrypt-openjdk&lt;/artifactId&gt;\r\n    &lt;version&gt;${conscrypt.version}&lt;/version&gt;\r\n    &lt;classifier&gt;${os.detected.classifier}&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\nResulting in the following JAR files (minus our own):\r\n```\r\nannotations-13.0.jar\r\napiguardian-api-1.1.2.jar\r\nconscrypt-openjdk-2.5.2-linux-x86_64.jar\r\ncontrolsfx-11.1.0.jar\r\nGMapsFX-11.0.2.jar\r\nhamcrest-core-1.3.jar\r\nikonli-core-12.2.0.jar\r\nikonli-javafx-12.2.0.jar\r\nikonli-materialdesign2-pack-12.2.0.jar\r\njackson-annotations-2.13.0.jar\r\njackson-core-2.13.0.jar\r\njackson-databind-2.13.0.jar\r\njackson-module-kotlin-2.13.0.jar\r\njakarta.activation-1.2.2.jar\r\njakarta.activation-api-1.2.2.jar\r\njakarta.xml.bind-api-2.3.3.jar\r\njaxb-impl-2.3.3.jar\r\njunit-4.12.jar\r\njunit-jupiter-api-5.8.1.jar\r\njunit-jupiter-engine-5.8.1.jar\r\njunit-platform-commons-1.8.1.jar\r\njunit-platform-engine-1.8.1.jar\r\nkoin-core-jvm-3.1.3.jar\r\nkoin-test-jvm-3.1.3.jar\r\nkotlin-reflect-1.5.31.jar\r\nkotlin-stdlib-1.5.31.jar\r\nkotlin-stdlib-common-1.5.30.jar\r\nkotlin-stdlib-jdk7-1.5.31.jar\r\nkotlin-stdlib-jdk8-1.5.31.jar\r\nkotlin-test-1.5.31.jar\r\nkotlin-test-annotations-common-1.5.30.jar\r\nkotlin-test-common-1.5.30.jar\r\nkotlin-test-junit-1.5.31.jar\r\nkotlinx-coroutines-core-1.5.2.jar\r\nkotlinx-coroutines-core-jvm-1.5.2.jar\r\nkotlinx-coroutines-jdk8-1.5.2.jar\r\nlog4j-api-2.14.1.jar\r\nlog4j-core-2.14.1.jar\r\nlog4j-web-2.14.1.jar\r\nlogback-classic-1.2.3.jar\r\nlogback-core-1.2.3.jar\r\nokhttp-4.9.2.jar\r\nokio-2.8.0.jar\r\nopentest4j-1.2.0.jar\r\nproguard-base-6.2.2.jar\r\nsimple-xml-2.7.1.jar\r\nslf4j-api-1.7.29.jar\r\nsqlite-jdbc-3.36.0.3.jar\r\nstax-1.2.0.jar\r\nstax-api-1.0.1.jar\r\nxpp3-1.1.3.3.jar\r\n```\r\n\r\nThe Java version in use is **Bell Soft&#39;s Full Liberica JDK 17**, we used all recent versions since 14 or 15 where it worked well **prior** to the rebuild of the UI.\r\n\r\n---\r\n\r\n**edit #2:**\r\n\r\nThe result of\r\n```\r\nmvn compile org.apache.maven.plugins:maven-dependency-plugin:3.1.1:resolve -DexcludeTransitive\r\n```\r\nis\r\n```\r\n[INFO] The following files have been resolved:\r\n[INFO]    com.fasterxml.jackson.core:jackson-databind:jar:2.13.0:compile -- module com.fasterxml.jackson.databind\r\n[INFO]    com.squareup.okhttp3:okhttp:jar:4.9.2:compile -- module okhttp3 [auto]\r\n[INFO]    com.fasterxml.jackson.core:jackson-annotations:jar:2.13.0:compile -- module com.fasterxml.jackson.annotation\r\n[INFO]    org.openjfx:javafx-fxml:jar:17.0.1:compile -- module javafx.fxmlEmpty [auto]\r\n[INFO]    org.openjfx:javafx-web:jar:17.0.1:compile -- module javafx.webEmpty [auto]\r\n[INFO]    org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.5.31:compile -- module kotlin.stdlib.jdk8\r\n[INFO]    io.insert-koin:koin-core-jvm:jar:3.1.3:compile -- module koin.core.jvm (auto)\r\n[INFO]    org.jetbrains.kotlin:kotlin-test-junit:jar:1.5.31:test -- module kotlin.test.junit\r\n[INFO]    org.simpleframework:simple-xml:jar:2.7.1:compile -- module simple.xml [auto]\r\n[INFO]    org.apache.logging.log4j:log4j-core:jar:2.14.1:compile -- module org.apache.logging.log4j.core [auto]\r\n[INFO]    io.insert-koin:koin-test-jvm:jar:3.1.3:compile -- module koin.test.jvm (auto)\r\n[INFO]    org.junit.jupiter:junit-jupiter-engine:jar:5.8.1:test -- module org.junit.jupiter.engine\r\n[INFO]    org.xerial:sqlite-jdbc:jar:3.36.0.3:compile -- module org.xerial.sqlitejdbc [auto]\r\n[INFO]    net.sf.proguard:proguard-base:jar:6.2.2:runtime -- module proguard.base (auto)\r\n[INFO]    org.openjfx:javafx-graphics:jar:17.0.1:compile -- module javafx.graphicsEmpty [auto]\r\n[INFO]    org.jetbrains.kotlinx:kotlinx-coroutines-core:jar:1.5.2:compile -- module kotlinx.coroutines.core (auto)\r\n[INFO]    org.apache.logging.log4j:log4j-web:jar:2.14.1:compile -- module org.apache.logging.log4j.web [auto]\r\n[INFO]    ch.&lt;ourgroup&gt;:&lt;our-artifact&gt;:1.8.8:compile -- module &lt;our-lib&gt; (auto)\r\n[INFO]    org.openjfx:javafx-controls:jar:17.0.1:compile -- module javafx.controlsEmpty [auto]\r\n[INFO]    org.controlsfx:controlsfx:jar:11.1.0:compile -- module org.controlsfx.controls\r\n[INFO]    com.fasterxml.jackson.core:jackson-core:jar:2.13.0:compile -- module com.fasterxml.jackson.core\r\n[INFO]    com.fasterxml.jackson.module:jackson-module-kotlin:jar:2.13.0:compile -- module com.fasterxml.jackson.kotlin\r\n[INFO]    org.apache.logging.log4j:log4j-api:jar:2.14.1:compile -- module org.apache.logging.log4j\r\n[INFO]    org.openjfx:javafx-base:jar:17.0.1:compile -- module javafx.baseEmpty [auto]\r\n[INFO]    org.junit.jupiter:junit-jupiter-api:jar:5.8.1:test -- module org.junit.jupiter.api\r\n[INFO]    org.kordamp.ikonli:ikonli-javafx:jar:12.2.0:compile -- module org.kordamp.ikonli.javafx\r\n[INFO]    com.dlsc:GMapsFX:jar:11.0.2:compile -- module com.dlsc.gmapsfx\r\n[INFO]    org.jetbrains.kotlin:kotlin-reflect:jar:1.5.31:compile -- module kotlin.reflect\r\n[INFO]    org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:jar:1.5.2:compile -- module kotlinx.coroutines.jdk8 (auto)\r\n[INFO]    org.kordamp.ikonli:ikonli-materialdesign2-pack:jar:12.2.0:compile -- module org.kordamp.ikonli.materialdesign2\r\n[INFO]    org.conscrypt:conscrypt-openjdk:jar:linux-x86_64:2.5.2:compile -- module org.conscrypt [auto]\r\n```","title":"jdeps can&#39;t print-module-deps due to a MultiReleaseException","body":"<p>We have a JavaFX based application which is <strong>not</strong> modularized (there are reasons, a legacy library is involved) but we build an custom runtime using <code>jdeps</code> and <code>jlink</code>.</p>\n<p>We've recently rewritten the app and added a couple of new dependencies, as well as removing others. Now the script that is building the application suddenly stopped working during the <code>jdeps</code> call.</p>\n<p><strong>Note:</strong> This is happening on Linux – I've yet to test other OS'ses, but I don't expect another result.</p>\n<p>When the script calls</p>\n<pre><code>~/path/to/jdk/bin/jdeps -q --multi-release 11 --ignore-missing-deps --print-module-deps --class-path ~/path/to/app/target/package/libs/* target/classes/ch/cnlab/uxtest/MainKt.class\n</code></pre>\n<p>the result is always</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\n    at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:271)\n    at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.parse(DependencyFinder.java:133)\n    at jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.transitiveArchiveDeps(DepsAnalyzer.java:217)\n    at jdk.jdeps/com.sun.tools.jdeps.DepsAnalyzer.run(DepsAnalyzer.java:138)\n    at jdk.jdeps/com.sun.tools.jdeps.ModuleExportsAnalyzer.run(ModuleExportsAnalyzer.java:74)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask$ListModuleDeps.run(JdepsTask.java:1047)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:574)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n    at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\nCaused by: java.util.concurrent.ExecutionException: com.sun.tools.jdeps.MultiReleaseException\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.waitForTasksCompleted(DependencyFinder.java:267)\n    ... 8 more\nCaused by: com.sun.tools.jdeps.MultiReleaseException\n    at jdk.jdeps/com.sun.tools.jdeps.VersionHelper.add(VersionHelper.java:62)\n    at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileReader.readClassFile(ClassFileReader.java:360)\n    at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader$JarFileIterator.hasNext(ClassFileReader.java:402)\n    at jdk.jdeps/com.sun.tools.jdeps.DependencyFinder.lambda$parse$5(DependencyFinder.java:179)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I couldn't find much in regards to this specific exception and everything I've found so far was not applicable to our situation.</p>\n<p>To not wait as long as the build takes to reach this point, I've let the program print out the command before it gets executed and use it on a terminal. Then it get's a bit weirder:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.module.FindException: Module org.slf4j not found, required by com.dlsc.gmapsfx\n        at java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n        at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\n</code></pre>\n<p>Why of all sudden to I get a different exception? Which one is correct now? I have no clue.<br />\nFact is, the jar containing <code>org.slf4j</code> only has the automatic module name.</p>\n<p>I really have have no idea, what I should do with little information... If someone else can point to something, I'd be glad.</p>\n<p>Thanks,\nDaniel</p>\n<p><strong>PS:</strong> The following code prints the command and executes it:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>echo &quot;detecting required modules&quot;\nCMD=&quot;$JDK/bin/jdeps -q --multi-release ${JAVA_VERSION} --ignore-missing-deps --print-module-deps --class-path ${OUT_LIBS}/* ${MAIN_CLASS_FILE}&quot;; echo &quot;$CMD&quot;\ndetected_modules=$(&quot;$JDK&quot;/bin/jdeps -q \\\n  --multi-release ${JAVA_VERSION} \\\n  --ignore-missing-deps \\\n  --print-module-deps \\\n  --class-path &quot;${OUT_LIBS}/*&quot; \\\n    &quot;${MAIN_CLASS_FILE}&quot;) || exit\necho &quot;detected modules: ${detected_modules}&quot;\n</code></pre>\n<p>They really seem to create different result... 🤷</p>\n<p><strong>PPS:</strong> If I remove the <code>--multi-release</code> part, I get a different error, that <code>jackson</code> is multi-release, but I need to specify what I want...</p>\n<pre><code>Error: jackson-core-2.13.0.jar is a multi-release jar file but --multi-release option is not set\n</code></pre>\n<hr />\n<p><strong>Edit #1</strong></p>\n<p>In the pom file, we have the following deps</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n    &lt;version&gt;${use.javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlinx-coroutines-core&lt;/artifactId&gt;\n    &lt;version&gt;${kotlinx.coroutines.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlinx-coroutines-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;${kotlinx.coroutines.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.insert-koin&lt;/groupId&gt;\n    &lt;artifactId&gt;koin-core-jvm&lt;/artifactId&gt;\n    &lt;version&gt;${koin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.insert-koin&lt;/groupId&gt;\n    &lt;artifactId&gt;koin-test-jvm&lt;/artifactId&gt;\n    &lt;version&gt;${koin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.simpleframework&lt;/groupId&gt;\n    &lt;artifactId&gt;simple-xml&lt;/artifactId&gt;\n    &lt;version&gt;${simplexml.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;${okhttp.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\n    &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n    &lt;version&gt;${proguard.version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n    &lt;artifactId&gt;ikonli-materialdesign2-pack&lt;/artifactId&gt;\n    &lt;version&gt;${ikonli.mdi2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n    &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n    &lt;version&gt;${ikonli.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n    &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n    &lt;version&gt;${controlsfx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.dlsc&lt;/groupId&gt;\n    &lt;artifactId&gt;GMapsFX&lt;/artifactId&gt;\n    &lt;version&gt;${gmapfx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;${sqlite.jdbc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- some custom deps from our company --&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.conscrypt&lt;/groupId&gt;\n    &lt;artifactId&gt;conscrypt-openjdk&lt;/artifactId&gt;\n    &lt;version&gt;${conscrypt.version}&lt;/version&gt;\n    &lt;classifier&gt;${os.detected.classifier}&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Resulting in the following JAR files (minus our own):</p>\n<pre><code>annotations-13.0.jar\napiguardian-api-1.1.2.jar\nconscrypt-openjdk-2.5.2-linux-x86_64.jar\ncontrolsfx-11.1.0.jar\nGMapsFX-11.0.2.jar\nhamcrest-core-1.3.jar\nikonli-core-12.2.0.jar\nikonli-javafx-12.2.0.jar\nikonli-materialdesign2-pack-12.2.0.jar\njackson-annotations-2.13.0.jar\njackson-core-2.13.0.jar\njackson-databind-2.13.0.jar\njackson-module-kotlin-2.13.0.jar\njakarta.activation-1.2.2.jar\njakarta.activation-api-1.2.2.jar\njakarta.xml.bind-api-2.3.3.jar\njaxb-impl-2.3.3.jar\njunit-4.12.jar\njunit-jupiter-api-5.8.1.jar\njunit-jupiter-engine-5.8.1.jar\njunit-platform-commons-1.8.1.jar\njunit-platform-engine-1.8.1.jar\nkoin-core-jvm-3.1.3.jar\nkoin-test-jvm-3.1.3.jar\nkotlin-reflect-1.5.31.jar\nkotlin-stdlib-1.5.31.jar\nkotlin-stdlib-common-1.5.30.jar\nkotlin-stdlib-jdk7-1.5.31.jar\nkotlin-stdlib-jdk8-1.5.31.jar\nkotlin-test-1.5.31.jar\nkotlin-test-annotations-common-1.5.30.jar\nkotlin-test-common-1.5.30.jar\nkotlin-test-junit-1.5.31.jar\nkotlinx-coroutines-core-1.5.2.jar\nkotlinx-coroutines-core-jvm-1.5.2.jar\nkotlinx-coroutines-jdk8-1.5.2.jar\nlog4j-api-2.14.1.jar\nlog4j-core-2.14.1.jar\nlog4j-web-2.14.1.jar\nlogback-classic-1.2.3.jar\nlogback-core-1.2.3.jar\nokhttp-4.9.2.jar\nokio-2.8.0.jar\nopentest4j-1.2.0.jar\nproguard-base-6.2.2.jar\nsimple-xml-2.7.1.jar\nslf4j-api-1.7.29.jar\nsqlite-jdbc-3.36.0.3.jar\nstax-1.2.0.jar\nstax-api-1.0.1.jar\nxpp3-1.1.3.3.jar\n</code></pre>\n<p>The Java version in use is <strong>Bell Soft's Full Liberica JDK 17</strong>, we used all recent versions since 14 or 15 where it worked well <strong>prior</strong> to the rebuild of the UI.</p>\n<hr />\n<p><strong>edit #2:</strong></p>\n<p>The result of</p>\n<pre><code>mvn compile org.apache.maven.plugins:maven-dependency-plugin:3.1.1:resolve -DexcludeTransitive\n</code></pre>\n<p>is</p>\n<pre><code>[INFO] The following files have been resolved:\n[INFO]    com.fasterxml.jackson.core:jackson-databind:jar:2.13.0:compile -- module com.fasterxml.jackson.databind\n[INFO]    com.squareup.okhttp3:okhttp:jar:4.9.2:compile -- module okhttp3 [auto]\n[INFO]    com.fasterxml.jackson.core:jackson-annotations:jar:2.13.0:compile -- module com.fasterxml.jackson.annotation\n[INFO]    org.openjfx:javafx-fxml:jar:17.0.1:compile -- module javafx.fxmlEmpty [auto]\n[INFO]    org.openjfx:javafx-web:jar:17.0.1:compile -- module javafx.webEmpty [auto]\n[INFO]    org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.5.31:compile -- module kotlin.stdlib.jdk8\n[INFO]    io.insert-koin:koin-core-jvm:jar:3.1.3:compile -- module koin.core.jvm (auto)\n[INFO]    org.jetbrains.kotlin:kotlin-test-junit:jar:1.5.31:test -- module kotlin.test.junit\n[INFO]    org.simpleframework:simple-xml:jar:2.7.1:compile -- module simple.xml [auto]\n[INFO]    org.apache.logging.log4j:log4j-core:jar:2.14.1:compile -- module org.apache.logging.log4j.core [auto]\n[INFO]    io.insert-koin:koin-test-jvm:jar:3.1.3:compile -- module koin.test.jvm (auto)\n[INFO]    org.junit.jupiter:junit-jupiter-engine:jar:5.8.1:test -- module org.junit.jupiter.engine\n[INFO]    org.xerial:sqlite-jdbc:jar:3.36.0.3:compile -- module org.xerial.sqlitejdbc [auto]\n[INFO]    net.sf.proguard:proguard-base:jar:6.2.2:runtime -- module proguard.base (auto)\n[INFO]    org.openjfx:javafx-graphics:jar:17.0.1:compile -- module javafx.graphicsEmpty [auto]\n[INFO]    org.jetbrains.kotlinx:kotlinx-coroutines-core:jar:1.5.2:compile -- module kotlinx.coroutines.core (auto)\n[INFO]    org.apache.logging.log4j:log4j-web:jar:2.14.1:compile -- module org.apache.logging.log4j.web [auto]\n[INFO]    ch.&lt;ourgroup&gt;:&lt;our-artifact&gt;:1.8.8:compile -- module &lt;our-lib&gt; (auto)\n[INFO]    org.openjfx:javafx-controls:jar:17.0.1:compile -- module javafx.controlsEmpty [auto]\n[INFO]    org.controlsfx:controlsfx:jar:11.1.0:compile -- module org.controlsfx.controls\n[INFO]    com.fasterxml.jackson.core:jackson-core:jar:2.13.0:compile -- module com.fasterxml.jackson.core\n[INFO]    com.fasterxml.jackson.module:jackson-module-kotlin:jar:2.13.0:compile -- module com.fasterxml.jackson.kotlin\n[INFO]    org.apache.logging.log4j:log4j-api:jar:2.14.1:compile -- module org.apache.logging.log4j\n[INFO]    org.openjfx:javafx-base:jar:17.0.1:compile -- module javafx.baseEmpty [auto]\n[INFO]    org.junit.jupiter:junit-jupiter-api:jar:5.8.1:test -- module org.junit.jupiter.api\n[INFO]    org.kordamp.ikonli:ikonli-javafx:jar:12.2.0:compile -- module org.kordamp.ikonli.javafx\n[INFO]    com.dlsc:GMapsFX:jar:11.0.2:compile -- module com.dlsc.gmapsfx\n[INFO]    org.jetbrains.kotlin:kotlin-reflect:jar:1.5.31:compile -- module kotlin.reflect\n[INFO]    org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:jar:1.5.2:compile -- module kotlinx.coroutines.jdk8 (auto)\n[INFO]    org.kordamp.ikonli:ikonli-materialdesign2-pack:jar:12.2.0:compile -- module org.kordamp.ikonli.materialdesign2\n[INFO]    org.conscrypt:conscrypt-openjdk:jar:linux-x86_64:2.5.2:compile -- module org.conscrypt [auto]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":9304187,"reputation":1405,"user_id":6908551,"display_name":"Alexandru Somai"},"score":0,"creation_date":1639037943,"post_id":70286554,"comment_id":124247400,"body_markdown":"Off-topic, just a friendly recommendation, please use English comments in your code, as well :) (it will be useful for future developers).","body":"Off-topic, just a friendly recommendation, please use English comments in your code, as well :) (it will be useful for future developers)."},{"owner":{"account_id":8616323,"reputation":1114,"user_id":6453015,"accept_rate":38,"display_name":"Marco Castano"},"score":0,"creation_date":1639038119,"post_id":70286554,"comment_id":124247464,"body_markdown":"It is a project I&#39;m developing for studying Spring Boot :)","body":"It is a project I&#39;m developing for studying Spring Boot :)"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1639343357,"post_id":70286554,"comment_id":124318883,"body_markdown":"Just to clarify - do you mean how to limit the size of the collection that is *saved* or *retrieved*?","body":"Just to clarify - do you mean how to limit the size of the collection that is <i>saved</i> or <i>retrieved</i>?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1639343404,"post_id":70286554,"comment_id":124318892,"body_markdown":"Does this answer your question? [Is it possible to limit the size of a @OneToMany collection with Hibernate or JPA Annotations?](https://stackoverflow.com/questions/26328187/is-it-possible-to-limit-the-size-of-a-onetomany-collection-with-hibernate-or-jp)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26328187/is-it-possible-to-limit-the-size-of-a-onetomany-collection-with-hibernate-or-jp\">Is it possible to limit the size of a @OneToMany collection with Hibernate or JPA Annotations?</a>"}],"owner":{"account_id":8616323,"reputation":1114,"user_id":6453015,"accept_rate":38,"display_name":"Marco Castano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639402375,"creation_date":1639037603,"question_id":70286554,"body_markdown":"I have an entity called Client:\r\n\r\n```\r\n@Entity\r\npublic class Client extends User {\r\n\r\n    \r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @OneToMany(mappedBy = &quot;client&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;Activity&gt; activities = new HashSet&lt;&gt;();\r\n\r\n\r\n```\r\n\r\nWhen I retrieve a Client object, also my nested collection are filled. Which is the best way to limit the size of these collection? I should avoid to retrieve them and manually execute a query for each collection? Which should be the best approach considering performance?","title":"Limit nested collection size in Spring Boot application","body":"<p>I have an entity called Client:</p>\n<pre><code>@Entity\npublic class Client extends User {\n\n    \n\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    @OneToMany(mappedBy = &quot;client&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Activity&gt; activities = new HashSet&lt;&gt;();\n\n\n</code></pre>\n<p>When I retrieve a Client object, also my nested collection are filled. Which is the best way to limit the size of these collection? I should avoid to retrieve them and manually execute a query for each collection? Which should be the best approach considering performance?</p>\n"},{"tags":["java","spring","mongodb","junit"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1639401030,"post_id":70335130,"comment_id":124331401,"body_markdown":"Sounds like the mock `MongoTemplate` is not being injected into the class under test.  Does the code use constructor injection or @Value injection?  Please update the question with the rest of the test class and the class under test.","body":"Sounds like the mock <code>MongoTemplate</code> is not being injected into the class under test.  Does the code use constructor injection or @Value injection?  Please update the question with the rest of the test class and the class under test."},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1639402337,"post_id":70335130,"comment_id":124331913,"body_markdown":"@AndrewS i edited my post . please check it again .tnx","body":"@AndrewS i edited my post . please check it again .tnx"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1639442730,"post_id":70335130,"comment_id":124345072,"body_markdown":"Since it&#39;s being injected with `@Resource` you&#39;ll need `@ExtendWith` with spring so that the dependency is actually injected. (Or create a constructor to avoid the unit test from having to create a spring context.)","body":"Since it&#39;s being injected with <code>@Resource</code> you&#39;ll need <code>@ExtendWith</code> with spring so that the dependency is actually injected. (Or create a constructor to avoid the unit test from having to create a spring context.)"}],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639402289,"creation_date":1639400634,"question_id":70335130,"body_markdown":"How to write unit test (via Junit) for MongoTemplate updateFirst() method ?\r\n\r\nI have this service class:\r\n\r\n        @Service\r\n    public class TemplateServiceImpl implements TemplateService\r\n    {\r\n        @Resource\r\n        private TemplateRepository templateRepository;\r\n    \r\n        @Resource\r\n        private MongoTemplate mongoTemplate;\r\n    \r\n        @Override\r\n        public TemplateDto create(TemplateDto templateDto)\r\n        {\r\n            TemplateDto result;\r\n            templateDto.setDeleted(false);\r\n            result = templateRepository.insert(templateDto);\r\n            return result;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean update(ObjectId id, TemplateDto templateDto)\r\n        {\r\n            if (templateDto != null)\r\n            {\r\n                Update update = new Update();\r\n    \r\n                if (templateDto.getName() != null)\r\n                {\r\n                    update.set(&quot;name&quot;, templateDto.getName());\r\n                }\r\n                if (templateDto.getTemplate() != null)\r\n                {\r\n                    update.set(&quot;template&quot;, templateDto.getTemplate());\r\n                }\r\n                if (templateDto.isDeleted())\r\n                {\r\n                    update.set(&quot;deleted&quot;, Boolean.TRUE);\r\n                }\r\n                update.set(&quot;lastUpdate&quot;, new Date());\r\n                return mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(id)), update, &quot;template&quot;)\r\n                        .wasAcknowledged();\r\n            }\r\n            return false;\r\n        }\r\n        \r\n    }\r\n\r\nI want write unit test for update method .\r\nThis is my relevant test class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TemplateServiceImplTest\r\n    {\r\n    \r\n        @InjectMocks\r\n        private static TemplateServiceImpl templateService;\r\n    \r\n        @Mock\r\n        private static TemplateRepository templateRepository;\r\n        @Mock\r\n        private static MongoTemplate mongoTemplate;\r\n        private static TemplateDto templateDto;\r\n        private static List&lt;TemplateDto&gt; listOfTemplates;\r\n        private static String requestBody;\r\n    \r\n    \r\n        @BeforeAll\r\n        private static void setUp(){\r\n            templateDto = createTemplateDto();\r\n            listOfTemplates = createListOfTemplate();\r\n            requestBody = createRequesyBody();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void create()\r\n        {\r\n            when(templateRepository.insert(templateDto)).thenReturn(templateDto);\r\n            TemplateDto actualResult = templateService.create(TemplateServiceImplTest.templateDto);\r\n            assertThat(actualResult).isNotNull();\r\n            assertThat(actualResult).isInstanceOf(TemplateDto.class);\r\n            assertThat(actualResult.getId()).isEqualTo(templateDto.getId());\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void update()\r\n        {\r\n            Update update = new Update();\r\n    /*\r\n            when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\r\n                    UpdateResult.acknowledged());\r\n    */\r\n    \r\n    /*\r\n            given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\r\n    */\r\n    \r\n            boolean actualResult = templateService.update(templateDto.getId(), templateDto);\r\n            assertThat(actualResult).isNotNull();\r\n            assertThat(actualResult).isTrue();\r\n        }\r\n    // other methods...\r\n    }\r\n\r\n\r\nI mocked MongoTemplate like this:\r\n\r\n    @Mock\r\n    private static MongoTemplate mongoTemplate;\r\nwhen I run test I get NPE for mongoTemplate at update method , I searched and I saw this 2 approach:\r\n\r\n                when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\r\n                    UpdateResult.acknowledged());\r\n    // Or\r\n    \r\n            given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\r\n\r\nBut None of them worked! . \r\nThank you all .","title":"Unit test for MongoTemplate updateFirst() method in Junit","body":"<p>How to write unit test (via Junit) for MongoTemplate updateFirst() method ?</p>\n<p>I have this service class:</p>\n<pre><code>    @Service\npublic class TemplateServiceImpl implements TemplateService\n{\n    @Resource\n    private TemplateRepository templateRepository;\n\n    @Resource\n    private MongoTemplate mongoTemplate;\n\n    @Override\n    public TemplateDto create(TemplateDto templateDto)\n    {\n        TemplateDto result;\n        templateDto.setDeleted(false);\n        result = templateRepository.insert(templateDto);\n        return result;\n    }\n\n\n    @Override\n    public boolean update(ObjectId id, TemplateDto templateDto)\n    {\n        if (templateDto != null)\n        {\n            Update update = new Update();\n\n            if (templateDto.getName() != null)\n            {\n                update.set(&quot;name&quot;, templateDto.getName());\n            }\n            if (templateDto.getTemplate() != null)\n            {\n                update.set(&quot;template&quot;, templateDto.getTemplate());\n            }\n            if (templateDto.isDeleted())\n            {\n                update.set(&quot;deleted&quot;, Boolean.TRUE);\n            }\n            update.set(&quot;lastUpdate&quot;, new Date());\n            return mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(id)), update, &quot;template&quot;)\n                    .wasAcknowledged();\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n<p>I want write unit test for update method .\nThis is my relevant test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TemplateServiceImplTest\n{\n\n    @InjectMocks\n    private static TemplateServiceImpl templateService;\n\n    @Mock\n    private static TemplateRepository templateRepository;\n    @Mock\n    private static MongoTemplate mongoTemplate;\n    private static TemplateDto templateDto;\n    private static List&lt;TemplateDto&gt; listOfTemplates;\n    private static String requestBody;\n\n\n    @BeforeAll\n    private static void setUp(){\n        templateDto = createTemplateDto();\n        listOfTemplates = createListOfTemplate();\n        requestBody = createRequesyBody();\n    }\n\n\n    @Test\n    void create()\n    {\n        when(templateRepository.insert(templateDto)).thenReturn(templateDto);\n        TemplateDto actualResult = templateService.create(TemplateServiceImplTest.templateDto);\n        assertThat(actualResult).isNotNull();\n        assertThat(actualResult).isInstanceOf(TemplateDto.class);\n        assertThat(actualResult.getId()).isEqualTo(templateDto.getId());\n    }\n\n\n    @Test\n    void update()\n    {\n        Update update = new Update();\n/*\n        when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\n                UpdateResult.acknowledged());\n*/\n\n/*\n        given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\n*/\n\n        boolean actualResult = templateService.update(templateDto.getId(), templateDto);\n        assertThat(actualResult).isNotNull();\n        assertThat(actualResult).isTrue();\n    }\n// other methods...\n}\n</code></pre>\n<p>I mocked MongoTemplate like this:</p>\n<pre><code>@Mock\nprivate static MongoTemplate mongoTemplate;\n</code></pre>\n<p>when I run test I get NPE for mongoTemplate at update method , I searched and I saw this 2 approach:</p>\n<pre><code>            when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\n                UpdateResult.acknowledged());\n// Or\n\n        given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\n</code></pre>\n<p>But None of them worked! .\nThank you all .</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":1,"creation_date":1639157561,"post_id":70308239,"comment_id":124285181,"body_markdown":"What json library are you using? Jackson?","body":"What json library are you using? Jackson?"},{"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"score":0,"creation_date":1639159874,"post_id":70308239,"comment_id":124286025,"body_markdown":"Hi, dpr. The json response comes from an external service.","body":"Hi, dpr. The json response comes from an external service."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639161728,"post_id":70308239,"comment_id":124286645,"body_markdown":"@Sergio, that does not answer @ dpr question. Which library are you using to serialize / deserialize JSON from / to Java object? Jackson? Gson?","body":"@Sergio, that does not answer @ dpr question. Which library are you using to serialize / deserialize JSON from / to Java object? Jackson? Gson?"},{"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"score":0,"creation_date":1639216159,"post_id":70308239,"comment_id":124295405,"body_markdown":"Sorry @dpr, @ Jo&#227;o Dias. I did not understand. I use the default Spring Boot library called by spring-boot-starter-web which should be Jackson.","body":"Sorry @dpr, @ Jo&#227;o Dias. I did not understand. I use the default Spring Boot library called by spring-boot-starter-web which should be Jackson."}],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639163792,"creation_date":1639163792,"answer_id":70309417,"question_id":70308239,"body_markdown":"I suppose you’re using Jackson to deserialize JSON as this is - I think - the default for spring.\n\nWith Jackson you can annotate the model class to omit `null` values in the JSON string representation:\n\n    @JsonInclude(Include.NON_NULL)\n    public class Model { … }","title":"java model mock response json","body":"<p>I suppose you’re using Jackson to deserialize JSON as this is - I think - the default for spring.</p>\n<p>With Jackson you can annotate the model class to omit <code>null</code> values in the JSON string representation:</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class Model { … }\n</code></pre>\n"}],"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70309417,"answer_count":1,"score":1,"last_activity_date":1639402274,"creation_date":1639156907,"question_id":70308239,"body_markdown":"I am creating a Rest service which calls an external service.\r\nI have this problem: the external service I call responds in two ways depending on the case of Success or Failed. This is json:\r\n```\r\njson{\r\n    &quot;result&quot;: &quot;001&quot;,\r\n    &quot;status&quot;: &quot;Success&quot;,\r\n    &quot;response&quot;: {\r\n        &quot;codiceCase&quot;: &quot;CAS-46759-Q8P7X3&quot;,\r\n        &quot;guidCase&quot;: &quot;88458d32-dd42-ec11-8c62-0022489d2f61&quot;}\r\n} \r\nOR \r\n{\r\n    &quot;result&quot;: &quot;002&quot;,\r\n    &quot;status&quot;: &quot;Failed&quot;,\r\n    &quot;errorManagement&quot;: {\r\n        &quot;errorCode&quot;: &quot;E02&quot;,\r\n        &quot;errorDescription&quot;: &quot;field not value in body&quot;\r\n    }\r\n}\r\n```\r\n\r\nWell I created 3 simple classes:\r\n1) class XXX...  private String result, status; .... getter &amp; setter\r\n2) class Response... private String codiceCase, guidCase; ... getter &amp; setter\r\n3) class ErrorManagement...private String errorCode, errorDescription;... getter &amp; setter\r\nBut when I populate with my mock, the json is always formed with the class field that I don&#39;t care for example:\r\n \r\n```\r\n{\r\n    &quot;result&quot;: &quot;001&quot;,\r\n    &quot;status&quot;: &quot;Success&quot;,\r\n    &quot;response&quot;: {\r\n        &quot;codiceCase&quot;: &quot;CAS-46759-Q8P7X3&quot;,\r\n        &quot;guidCase&quot;: &quot;88458d32-dd42-ec11-8c62-0022489d2f61&quot;    },\r\n        {\r\n***&quot;errorMessage&quot;**: null}\r\n}\r\n```\r\nHow can I get only 2 of the 3 classes returned as json in my mock?\r\nThanks for your help.\r\n\r\n","title":"java model mock response json","body":"<p>I am creating a Rest service which calls an external service.\nI have this problem: the external service I call responds in two ways depending on the case of Success or Failed. This is json:</p>\n<pre><code>json{\n    &quot;result&quot;: &quot;001&quot;,\n    &quot;status&quot;: &quot;Success&quot;,\n    &quot;response&quot;: {\n        &quot;codiceCase&quot;: &quot;CAS-46759-Q8P7X3&quot;,\n        &quot;guidCase&quot;: &quot;88458d32-dd42-ec11-8c62-0022489d2f61&quot;}\n} \nOR \n{\n    &quot;result&quot;: &quot;002&quot;,\n    &quot;status&quot;: &quot;Failed&quot;,\n    &quot;errorManagement&quot;: {\n        &quot;errorCode&quot;: &quot;E02&quot;,\n        &quot;errorDescription&quot;: &quot;field not value in body&quot;\n    }\n}\n</code></pre>\n<p>Well I created 3 simple classes:</p>\n<ol>\n<li>class XXX...  private String result, status; .... getter &amp; setter</li>\n<li>class Response... private String codiceCase, guidCase; ... getter &amp; setter</li>\n<li>class ErrorManagement...private String errorCode, errorDescription;... getter &amp; setter\nBut when I populate with my mock, the json is always formed with the class field that I don't care for example:</li>\n</ol>\n<pre><code>{\n    &quot;result&quot;: &quot;001&quot;,\n    &quot;status&quot;: &quot;Success&quot;,\n    &quot;response&quot;: {\n        &quot;codiceCase&quot;: &quot;CAS-46759-Q8P7X3&quot;,\n        &quot;guidCase&quot;: &quot;88458d32-dd42-ec11-8c62-0022489d2f61&quot;    },\n        {\n***&quot;errorMessage&quot;**: null}\n}\n</code></pre>\n<p>How can I get only 2 of the 3 classes returned as json in my mock?\nThanks for your help.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1639398844,"post_id":70334716,"comment_id":124330661,"body_markdown":"You&#39;re using the same index (`i`) for the new and old array. Are you sure that&#39;s correct?","body":"You&#39;re using the same index (<code>i</code>) for the new and old array. Are you sure that&#39;s correct?"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1639400206,"post_id":70334716,"comment_id":124331133,"body_markdown":"If there is only one movie (and you delete it) or if you delete all movies, then your `deletedMovies` definition is going to cause an exception  on the last movie&#39;s assignment. I recommend an `ArrayList&lt;String&gt;` instead.","body":"If there is only one movie (and you delete it) or if you delete all movies, then your <code>deletedMovies</code> definition is going to cause an exception  on the last movie&#39;s assignment. I recommend an <code>ArrayList&lt;String&gt;</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":23634120,"reputation":21,"user_id":17665438,"display_name":"Natalia Chico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639402265,"creation_date":1639399893,"answer_id":70334967,"question_id":70334716,"body_markdown":"Need a separate variable to specify the index in deleteMovies.\r\n    \r\n    int j = 0;\r\n    for(int i = 0; i &lt; movies.length; i++){\r\n        if (!movies[i].equals(movieDel)) {\r\n            deleteMovies[j]=movies[i];\r\n            j++;\r\n        }\r\n    }\r\n  ","title":"When removing a specific element, it is returning &#39;null&#39; for others","body":"<p>Need a separate variable to specify the index in deleteMovies.</p>\n<pre><code>int j = 0;\nfor(int i = 0; i &lt; movies.length; i++){\n    if (!movies[i].equals(movieDel)) {\n        deleteMovies[j]=movies[i];\n        j++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639401961,"creation_date":1639401961,"answer_id":70335400,"question_id":70334716,"body_markdown":"You almost got your delete function correct, but you&#39;re incrementing i twice in the delete for loop which is causing your strange output. You need to index the deletedMovies array with a separate index like this:\r\n\r\n```\r\n    private static void removeMovies (String[] movies) {\r\n        reenterUser();\r\n        String[] deleteMovies = new String [movies.length - 1];\r\n        Scanner input =new Scanner(System.in);\r\n        System.out.println(&quot;Which movie would you like to delete?&quot;);\r\n        String movieDel = input.nextLine();\r\n   \r\n     int j = 0;\r\n        for(int i = 0; i &lt; movies.length; i++) {\r\n            if (!movies[i].equals(movieDel)) {\r\n                deleteMovies[j++] = movies[i];\r\n            }\r\n        }\r\n            System.out.println(&quot;You have deleted a movie!&quot;);\r\n\r\n            System.out.println(&quot;This is an updated list of movies available at the rental store: &quot;);\r\n            printMoviesDeleted(deleteMovies);\r\n\r\n        }\r\n```","title":"When removing a specific element, it is returning &#39;null&#39; for others","body":"<p>You almost got your delete function correct, but you're incrementing i twice in the delete for loop which is causing your strange output. You need to index the deletedMovies array with a separate index like this:</p>\n<pre><code>    private static void removeMovies (String[] movies) {\n        reenterUser();\n        String[] deleteMovies = new String [movies.length - 1];\n        Scanner input =new Scanner(System.in);\n        System.out.println(&quot;Which movie would you like to delete?&quot;);\n        String movieDel = input.nextLine();\n   \n     int j = 0;\n        for(int i = 0; i &lt; movies.length; i++) {\n            if (!movies[i].equals(movieDel)) {\n                deleteMovies[j++] = movies[i];\n            }\n        }\n            System.out.println(&quot;You have deleted a movie!&quot;);\n\n            System.out.println(&quot;This is an updated list of movies available at the rental store: &quot;);\n            printMoviesDeleted(deleteMovies);\n\n        }\n</code></pre>\n"}],"owner":{"account_id":23516699,"reputation":85,"user_id":17564501,"display_name":"Newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1639402265,"creation_date":1639398679,"question_id":70334716,"body_markdown":" I am trying to remove a specific movie from the array based on user input but the output is kind of wonky, all elements are supposed to be shifted up and I&#39;m not sure what&#39;s wrong. output: https://i.stack.imgur.com/9Wl4M.jpg\r\n\r\n\r\n    private static void listMovies() { \r\n\t\tString[]movies = {&quot;The Avengers&quot;,&quot;Rush Hour&quot;,&quot;Fast &amp; Furious 7&quot;,&quot;The Ugly Truth&quot;,&quot;Spiderman&quot;};\r\n\t\t\r\n\t\tfor(int i=0; i&lt;movies.length; i++) {\r\n\t\t\tSystem.out.println((i+1)+&quot;) &quot;+movies[i]);\r\n\t\t}\r\n\t}\r\n\tprivate static void removeMovies (String[] movies) { \r\n\t\treenterUser(); \r\n        String[] deleteMovies = new String [movies.length-1]; \r\n\r\n        Scanner input =new Scanner(System.in); \r\n        System.out.println(&quot;Which movie would you like to delete?&quot;);\r\n    String movieDel = input.nextLine(); \r\n    \tfor(int i = 0; i &lt; movies.length; i++){\r\n    \t\tif (!movies[i].equals(movieDel)) {\r\n    \t\t\tdeleteMovies[i]=movies[i]; \r\n    \t\t\ti++; \r\n    \t}\t\r\n    \tSystem.out.println(&quot;You have deleted a movie!&quot;); \r\n    \r\n        System.out.println(&quot;This is an updated list of movies available at the rental store: &quot;);\r\n    \tprintMoviesDeleted(deleteMovies); \r\n    \t  \r\n    \t}\r\n    private static void printMoviesDeleted(String[]movies) { \r\n\r\n\t\tfor (int i=0; i&lt;movies.length;i++) { \r\n\t\t\t  System.out.println((i+1)+&quot;) &quot; +movies[i]);\r\n\t\t}\r\n\t}","title":"When removing a specific element, it is returning &#39;null&#39; for others","body":"<p>I am trying to remove a specific movie from the array based on user input but the output is kind of wonky, all elements are supposed to be shifted up and I'm not sure what's wrong. output: <a href=\"https://i.stack.imgur.com/9Wl4M.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9Wl4M.jpg</a></p>\n<pre><code>private static void listMovies() { \n    String[]movies = {&quot;The Avengers&quot;,&quot;Rush Hour&quot;,&quot;Fast &amp; Furious 7&quot;,&quot;The Ugly Truth&quot;,&quot;Spiderman&quot;};\n    \n    for(int i=0; i&lt;movies.length; i++) {\n        System.out.println((i+1)+&quot;) &quot;+movies[i]);\n    }\n}\nprivate static void removeMovies (String[] movies) { \n    reenterUser(); \n    String[] deleteMovies = new String [movies.length-1]; \n\n    Scanner input =new Scanner(System.in); \n    System.out.println(&quot;Which movie would you like to delete?&quot;);\nString movieDel = input.nextLine(); \n    for(int i = 0; i &lt; movies.length; i++){\n        if (!movies[i].equals(movieDel)) {\n            deleteMovies[i]=movies[i]; \n            i++; \n    }   \n    System.out.println(&quot;You have deleted a movie!&quot;); \n\n    System.out.println(&quot;This is an updated list of movies available at the rental store: &quot;);\n    printMoviesDeleted(deleteMovies); \n      \n    }\nprivate static void printMoviesDeleted(String[]movies) { \n\n    for (int i=0; i&lt;movies.length;i++) { \n          System.out.println((i+1)+&quot;) &quot; +movies[i]);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1614166413,"creation_date":1614166413,"answer_id":66350069,"question_id":66348462,"body_markdown":"Try to change dependencies order like below:\r\n\r\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n    compileOnly &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n\r\nI&#39;ve tested it just now and it works.\r\n\r\nP.S. IDK why this order is required, got it from lombok-mapstruct-binding related article long time ago","title":"Lombok causing MapStruct compileJava build failure after upgrading to Gradle 5.0","body":"<p>Try to change dependencies order like below:</p>\n<pre><code>compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\ncompileOnly &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\nannotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\nannotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n</code></pre>\n<p>I've tested it just now and it works.</p>\n<p>P.S. IDK why this order is required, got it from lombok-mapstruct-binding related article long time ago</p>\n"}],"owner":{"account_id":1542774,"reputation":149,"user_id":1437012,"display_name":"Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2864,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66350069,"answer_count":1,"score":4,"last_activity_date":1639402198,"creation_date":1614160487,"question_id":66348462,"body_markdown":"We are trying to upgrade from Gradle 4.5 to 5.0. After upgrade, compileJava is failing because Mapstruct is not able to resolve values (getters not available obviously) used in @Mapping annotation. This was working fine in Gradle 4.5 .\r\n\r\nThe code is like this\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface CAndACodeGenConverter extends BaseConverter&lt;CGen, AGen&gt; {\r\n\r\n    @Mapping(target = &quot;owner&quot;, source = &quot;owner.name&quot;)\r\n    @Mapping(target = &quot;useCA&quot;, source = &quot;defaultCA&quot;)\r\n    AGen convertToDto(CGen entity);\r\n}\r\n```\r\nOur build.gradle is like this\r\n```\r\n    mapstructVersion = &quot;1.4.1.Final&quot;\r\n    lombokVersion = &quot;1.18.12&quot;\r\n    lombokMapstructBindingVersion = &quot;0.2.0&quot;\r\n\r\n    compileOnly(&#39;org.projectlombok:lombok:1.18.12&#39;)\r\n    compile(&quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;)\r\n    implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\r\n \r\n```\r\n\r\nThe error we are getting is \r\n```\r\nerror: No property named &quot;owner.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\n```\r\nThis was working fine in Gradle 4.5 .\r\n\r\n\r\n","title":"Lombok causing MapStruct compileJava build failure after upgrading to Gradle 5.0","body":"<p>We are trying to upgrade from Gradle 4.5 to 5.0. After upgrade, compileJava is failing because Mapstruct is not able to resolve values (getters not available obviously) used in @Mapping annotation. This was working fine in Gradle 4.5 .</p>\n<p>The code is like this</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CAndACodeGenConverter extends BaseConverter&lt;CGen, AGen&gt; {\n\n    @Mapping(target = &quot;owner&quot;, source = &quot;owner.name&quot;)\n    @Mapping(target = &quot;useCA&quot;, source = &quot;defaultCA&quot;)\n    AGen convertToDto(CGen entity);\n}\n</code></pre>\n<p>Our build.gradle is like this</p>\n<pre><code>    mapstructVersion = &quot;1.4.1.Final&quot;\n    lombokVersion = &quot;1.18.12&quot;\n    lombokMapstructBindingVersion = &quot;0.2.0&quot;\n\n    compileOnly('org.projectlombok:lombok:1.18.12')\n    compile(&quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;)\n    implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\n \n</code></pre>\n<p>The error we are getting is</p>\n<pre><code>error: No property named &quot;owner.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\n</code></pre>\n<p>This was working fine in Gradle 4.5 .</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1639319368,"post_id":70320899,"comment_id":124313305,"body_markdown":"Tried adding `requires org.apache.commons.compress;` in module-info.java solve the problem.","body":"Tried adding <code>requires org.apache.commons.compress;</code> in module-info.java solve the problem."},{"owner":{"account_id":23622681,"reputation":31,"user_id":17655670,"display_name":"hnsvhns"},"score":0,"creation_date":1639320750,"post_id":70320899,"comment_id":124313589,"body_markdown":"@samabcde Hi!! Thank you so much this worked!! I assumed that the IDE would warn me if I missed anything else just like it did when I was importing certain classes from Apache (such as warning me about putting a directive in module-info). At one point, I also began looking into JPMS but given by how much I didn&#39;t knew about about modularization, I didn&#39;t think I could do JPMS correctly too. Again, thank you!","body":"@samabcde Hi!! Thank you so much this worked!! I assumed that the IDE would warn me if I missed anything else just like it did when I was importing certain classes from Apache (such as warning me about putting a directive in module-info). At one point, I also began looking into JPMS but given by how much I didn&#39;t knew about about modularization, I didn&#39;t think I could do JPMS correctly too. Again, thank you!"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1639320892,"post_id":70320899,"comment_id":124313624,"body_markdown":"I feel like the problem is in the poi ooxml library, it should include `requires org.apache.commons.compress;` in module.info. What I provided is just a workaround.","body":"I feel like the problem is in the poi ooxml library, it should include <code>requires org.apache.commons.compress;</code> in module.info. What I provided is just a workaround."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639287513,"creation_date":1639287513,"answer_id":70321199,"question_id":70320899,"body_markdown":"A piece as it says about a zip archive in the error.\r\nThere is no actual stream assigned with the place e,g, you have a String path but analogous there is not actually so much as an actual .io.File related part of the code.\r\nThere is however a constructor for such document that takes a Stream argument on construction.","title":"Caused by: java.lang.IllegalAccessError: superclass access check class apache (in module x) that cannot access another apache class (in mod y)","body":"<p>A piece as it says about a zip archive in the error.\nThere is no actual stream assigned with the place e,g, you have a String path but analogous there is not actually so much as an actual .io.File related part of the code.\nThere is however a constructor for such document that takes a Stream argument on construction.</p>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639401964,"creation_date":1639401964,"answer_id":70335403,"question_id":70320899,"body_markdown":"This issue is due to missing requires in apache poi 5.0.0, which is fixed in  5.1.0.\r\n\r\n*5.1.0 module-info.java*\r\n```java\r\nmodule org.apache.poi.ooxml {\r\n    requires org.apache.poi.poi;\r\n    requires org.apache.xmlbeans;\r\n    requires org.apache.poi.ooxml.schemas;\r\n    requires org.apache.commons.collections4;\r\n    requires org.apache.commons.codec;\r\n    requires org.apache.commons.compress;\r\n    requires org.apache.commons.io;\r\n    requires commons.math3;\r\n...\r\n```\r\n*5.0.0 module-info.java*\r\n```\r\nmodule org.apache.poi.ooxml {\r\n    requires org.apache.commons.collections4;\r\n    requires org.apache.commons.codec;\r\n    requires commons.math3;\r\n...\r\n```\r\n\r\nAdding `requires org.apache.commons.compress;` in your project module-info.java can solve the problem.\r\nBut it looks like there are many `requires` added in version 5.1.0 which may be due to similar issue. So to prevent other similar error, I would suggest upgrading poi to version 5.1.0 or above.","title":"Caused by: java.lang.IllegalAccessError: superclass access check class apache (in module x) that cannot access another apache class (in mod y)","body":"<p>This issue is due to missing requires in apache poi 5.0.0, which is fixed in  5.1.0.</p>\n<p><em>5.1.0 module-info.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>module org.apache.poi.ooxml {\n    requires org.apache.poi.poi;\n    requires org.apache.xmlbeans;\n    requires org.apache.poi.ooxml.schemas;\n    requires org.apache.commons.collections4;\n    requires org.apache.commons.codec;\n    requires org.apache.commons.compress;\n    requires org.apache.commons.io;\n    requires commons.math3;\n...\n</code></pre>\n<p><em>5.0.0 module-info.java</em></p>\n<pre><code>module org.apache.poi.ooxml {\n    requires org.apache.commons.collections4;\n    requires org.apache.commons.codec;\n    requires commons.math3;\n...\n</code></pre>\n<p>Adding <code>requires org.apache.commons.compress;</code> in your project module-info.java can solve the problem.\nBut it looks like there are many <code>requires</code> added in version 5.1.0 which may be due to similar issue. So to prevent other similar error, I would suggest upgrading poi to version 5.1.0 or above.</p>\n"}],"owner":{"account_id":23622681,"reputation":31,"user_id":17655670,"display_name":"hnsvhns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70335403,"answer_count":2,"score":2,"last_activity_date":1639401964,"creation_date":1639282568,"question_id":70320899,"body_markdown":"I&#39;m new to modularized java 16 projects as well as using the maven build system whilst trying to implement the program using IntelliJ, JAVAFX and APACHE POI-OOXML.\r\n\r\nFor simplicity, I am implementing a button&#39;s event handler that instantiates a class that is responsible for using Apache:\r\n[ControllerCode][1]\r\n\r\nThe problem then happens here: [line 24 of this code][2]\r\n\r\nHere is the stack trace:\r\n``` /Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=64361:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/hans/.m2/repository/org/openjfx/javafx-controls/16/javafx-controls-16.jar:/Users/hans/.m2/repository/org/openjfx/javafx-graphics/16/javafx-graphics-16.jar:/Users/hans/.m2/repository/org/openjfx/javafx-base/16/javafx-base-16.jar:/Users/hans/.m2/repository/org/openjfx/javafx-fxml/16/javafx-fxml-16.jar:/Users/hans/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.30/jcl-over-slf4j-1.7.30.jar:/Users/hans/.m2/repository/org/apache/commons/commons-compress/1.20/commons-compress-1.20.jar:/Users/hans/.m2/repository/com/github/virtuald/curvesapi/1.06/curvesapi-1.06.jar:/Users/hans/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.2.1/woodstox-core-5.2.1.jar:/Users/hans/.m2/repository/org/codehaus/woodstox/stax2-api/4.2/stax2-api-4.2.jar:/Users/hans/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2/jakarta.xml.bind-api-2.3.2.jar:/Users/hans/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-anim/1.13/batik-anim-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-shared-resources/1.13/batik-shared-resources-1.13.jar:/Users/hans/.m2/repository/xml-apis/xml-apis-ext/1.3.04/xml-apis-ext-1.3.04.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-awt-util/1.13/batik-awt-util-1.13.jar:/Users/hans/.m2/repository/commons-io/commons-io/1.3.1/commons-io-1.3.1.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-bridge/1.13/batik-bridge-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-codec/1.13/batik-codec-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-constants/1.13/batik-constants-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-css/1.13/batik-css-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-dom/1.13/batik-dom-1.13.jar:/Users/hans/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar:/Users/hans/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar:/Users/hans/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-ext/1.13/batik-ext-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-extension/1.13/batik-extension-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-gui-util/1.13/batik-gui-util-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-gvt/1.13/batik-gvt-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-i18n/1.13/batik-i18n-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-parser/1.13/batik-parser-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-rasterizer-ext/1.13/batik-rasterizer-ext-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-rasterizer/1.13/batik-rasterizer-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-script/1.13/batik-script-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-slideshow/1.13/batik-slideshow-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-squiggle-ext/1.13/batik-squiggle-ext-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-squiggle/1.13/batik-squiggle-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-svg-dom/1.13/batik-svg-dom-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-svgbrowser/1.13/batik-svgbrowser-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-svggen/1.13/batik-svggen-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-svgpp/1.13/batik-svgpp-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-svgrasterizer/1.13/batik-svgrasterizer-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-swing/1.13/batik-swing-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-transcoder/1.13/batik-transcoder-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-util/1.13/batik-util-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-ttf2svg/1.13/batik-ttf2svg-1.13.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-xml/1.13/batik-xml-1.13.jar -p /Users/hans/.m2/repository/org/apache/poi/poi/5.0.0/poi-5.0.0.jar:/Users/hans/.m2/repository/org/controlsfx/controlsfx/11.1.0/controlsfx-11.1.0.jar:/Users/hans/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/hans/.m2/repository/org/apache/santuario/xmlsec/2.2.1/xmlsec-2.2.1.jar:/Users/hans/.m2/repository/org/apache/poi/poi-ooxml-lite/5.0.0/poi-ooxml-lite-5.0.0.jar:/Users/hans/.m2/repository/org/openjfx/javafx-graphics/16/javafx-graphics-16-mac.jar:/Users/hans/.m2/repository/org/apache/commons/commons-math3/3.6.1/commons-math3-3.6.1.jar:/Users/hans/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.68/bcpkix-jdk15on-1.68.jar:/Users/hans/.m2/repository/com/zaxxer/SparseBitSet/1.2/SparseBitSet-1.2.jar:/Users/hans/.m2/repository/org/apache/commons/commons-collections4/4.4/commons-collections4-4.4.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/batik-all/1.13/batik-all-1.13.jar:/Users/hans/.m2/repository/org/apache/pdfbox/fontbox/2.0.22/fontbox-2.0.22.jar:/Users/hans/.m2/repository/org/apache/pdfbox/pdfbox/2.0.22/pdfbox-2.0.22.jar:/Users/hans/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/Users/hans/.m2/repository/org/apache/xmlbeans/xmlbeans/4.0.0/xmlbeans-4.0.0.jar:/Users/hans/.m2/repository/org/apache/xmlgraphics/xmlgraphics-commons/2.4/xmlgraphics-commons-2.4.jar:/Users/hans/.m2/repository/org/apache/poi/poi-ooxml/5.0.0/poi-ooxml-5.0.0.jar:/Users/hans/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.68/bcprov-jdk15on-1.68.jar:/Users/hans/.m2/repository/org/openjfx/javafx-base/16/javafx-base-16-mac.jar:/Users/hans/IdeaProjects/demo3/target/classes:/Users/hans/.m2/repository/org/openjfx/javafx-fxml/16/javafx-fxml-16-mac.jar:/Users/hans/.m2/repository/de/rototor/pdfbox/graphics2d/0.30/graphics2d-0.30.jar:/Users/hans/.m2/repository/org/openjfx/javafx-controls/16/javafx-controls-16-mac.jar -m com.example.demo3/com.example.demo3.HelloApplication --add-illegal-access=permit\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1862)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1729)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8889)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3856)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1851)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2584)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:409)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:299)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:447)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:412)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:446)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1859)\r\n\t... 44 more\r\nCaused by: java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0x2db197a2) because module org.apache.poi.ooxml does not read unnamed module @0x2db197a2\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1088)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:182)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:814)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:735)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:660)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:634)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\tat org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.create(OPCPackage.java:379)\r\n\tat org.apache.poi.ooxml/org.apache.poi.xwpf.usermodel.XWPFDocument.newPackage(XWPFDocument.java:140)\r\n\tat org.apache.poi.ooxml/org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:130)\r\n\tat com.example.demo3/com.example.demo3.DataManager.createLessonWord(DataManager.java:24)\r\n\tat com.example.demo3/com.example.demo3.HelloController.onHelloButtonClick(HelloController.java:23)\r\n\t... 56 more\r\n ```\r\nI am completely new to all of these but I feel as though this line from the stack trace above is the culprit:\r\n``` \r\nCaused by: java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0x2db197a2) because module org.apache.poi.ooxml does not read unnamed module @0x2db197a2\r\n ```\r\n\r\nHere is the module-info:\r\n``` \r\nmodule com.example.demo3 {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires org.apache.poi.ooxml;\r\n\r\n\r\n    opens com.example.demo3 to javafx.fxml;\r\n\r\n    exports com.example.demo3;\r\n} \r\n```\r\nMy maven dependencies:\r\n``` \r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n        &lt;version&gt;16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n        &lt;version&gt;11.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt; \r\n```\r\n\r\nI would appreciate all help that I can get :)\r\n\r\n  [1]: https://i.stack.imgur.com/ABnIL.png\r\n  [2]: https://i.stack.imgur.com/LbvXS.png","title":"Caused by: java.lang.IllegalAccessError: superclass access check class apache (in module x) that cannot access another apache class (in mod y)","body":"<p>I'm new to modularized java 16 projects as well as using the maven build system whilst trying to implement the program using IntelliJ, JAVAFX and APACHE POI-OOXML.</p>\n<p>For simplicity, I am implementing a button's event handler that instantiates a class that is responsible for using Apache:\n<a href=\"https://i.stack.imgur.com/ABnIL.png\" rel=\"nofollow noreferrer\">ControllerCode</a></p>\n<p>The problem then happens here: <a href=\"https://i.stack.imgur.com/LbvXS.png\" rel=\"nofollow noreferrer\">line 24 of this code</a></p>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1862)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1729)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8889)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3856)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1851)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2584)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:409)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:299)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:447)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:412)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:446)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1859)\n    ... 44 more\nCaused by: java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0x2db197a2) because module org.apache.poi.ooxml does not read unnamed module @0x2db197a2\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1088)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:182)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:814)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:735)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:660)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:634)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.create(OPCPackage.java:379)\n    at org.apache.poi.ooxml/org.apache.poi.xwpf.usermodel.XWPFDocument.newPackage(XWPFDocument.java:140)\n    at org.apache.poi.ooxml/org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:130)\n    at com.example.demo3/com.example.demo3.DataManager.createLessonWord(DataManager.java:24)\n    at com.example.demo3/com.example.demo3.HelloController.onHelloButtonClick(HelloController.java:23)\n    ... 56 more\n</code></pre>\n<p>I am completely new to all of these but I feel as though this line from the stack trace above is the culprit:</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0x2db197a2) because module org.apache.poi.ooxml does not read unnamed module @0x2db197a2\n</code></pre>\n<p>Here is the module-info:</p>\n<pre><code>module com.example.demo3 {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires org.apache.poi.ooxml;\n\n\n    opens com.example.demo3 to javafx.fxml;\n\n    exports com.example.demo3;\n} \n</code></pre>\n<p>My maven dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;16&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n        &lt;version&gt;11.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt; \n</code></pre>\n<p>I would appreciate all help that I can get :)</p>\n"},{"tags":["java","javafx","geometry","shapes"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1639406961,"post_id":70332786,"comment_id":124333908,"body_markdown":"To make this mre usebale I believe `@FXML private StackPane stackPane = new StackPane();` should be `@FXML private StackPane stackPane;`","body":"To make this mre usebale I believe <code>@FXML private StackPane stackPane = new StackPane();</code> should be <code>@FXML private StackPane stackPane;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639401511,"creation_date":1639401511,"answer_id":70335299,"question_id":70332786,"body_markdown":"That&#39;s why I often don&#39;t use event handlers directly on geometries. Instead I add a single event handler to the pane and when a event happens I iterate over my geometries manually. Especially for very thin lines, which are always difficult to hit exactly with the mouse, I test whether the geometry intersects a little rectangle defined around the event location. That way I could even select invisible lines without problem :-) This procedure is also helpful for more complex selection schemes, e.g., if you want to have a list of all possible selection candidates etc.","title":"JavaFX how to trigger events on Geometries?","body":"<p>That's why I often don't use event handlers directly on geometries. Instead I add a single event handler to the pane and when a event happens I iterate over my geometries manually. Especially for very thin lines, which are always difficult to hit exactly with the mouse, I test whether the geometry intersects a little rectangle defined around the event location. That way I could even select invisible lines without problem :-) This procedure is also helpful for more complex selection schemes, e.g., if you want to have a list of all possible selection candidates etc.</p>\n"}],"owner":{"account_id":23587358,"reputation":47,"user_id":17625634,"display_name":"Dav3o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70335299,"answer_count":1,"score":1,"last_activity_date":1639401511,"creation_date":1639389448,"question_id":70332786,"body_markdown":"I&#39;m writting an JavaFX application, where i use UTM32 coordinates for my geometries, i have a dynamic stroke width dependent on my zoom level. The issue is that i can&#39;t trigger events when my stroke width is decreased at a certain factor. If you use Intellij you can start a new fx-project and copy following code to reproduce this behaviour: \r\n\r\n**hello-view.fxml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;248.0&quot; prefWidth=&quot;335.0&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.2&quot;\r\n      xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n    &lt;Pane fx:id=&quot;mapPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n            &lt;/StackPane&gt;\r\n        &lt;/children&gt;\r\n    &lt;/Pane&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n***HelloApplication.java***\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n**HelloController.java**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.ScrollEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.scene.shape.Shape;\r\n\r\nimport java.net.URL;\r\nimport java.util.Random;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class HelloController implements Initializable {\r\n    private final Group mapGroup = new Group();\r\n    @FXML\r\n    private StackPane stackPane = new StackPane();\r\n    @FXML\r\n    public Pane mapPane;\r\n    double mouseAnchorX, mouseAnchorY, translateAnchorX, translateAnchorY;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        addLines();\r\n        stackPane.getChildren().add(mapGroup);\r\n        mapPane.setOnScroll(onMouseScrolledEventHandler());\r\n        mapPane.setOnMousePressed(onMousePressedEventHandler());\r\n    }\r\n\r\n    private void addLines() {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            Line line = new Line(getRandomDouble(5000000, 5000002), getRandomDouble(5000000, 5000002),\r\n                    getRandomDouble(5000000, 5000002), getRandomDouble(5000000, 5000002));\r\n            line.addEventHandler(MouseEvent.MOUSE_PRESSED, onShapeSelected());\r\n            (line).setSmooth(true);\r\n            mapGroup.getChildren().add(line);\r\n        }\r\n    }\r\n\r\n    private double getRandomDouble(double rangeMin, double rangeMax) {\r\n        Random rand = new Random();\r\n        return rangeMin + (rangeMax - rangeMin) * rand.nextDouble();\r\n    }\r\n\r\n    private EventHandler&lt;MouseEvent&gt; onShapeSelected() {\r\n        return mouseEvent -&gt; {\r\n            if (!mouseEvent.isPrimaryButtonDown()) {\r\n                return;\r\n            }\r\n            System.out.println(&quot;Event triggered&quot;);\r\n            ((Shape) mouseEvent.getSource()).setStroke(Color.RED);\r\n        };\r\n    }\r\n\r\n    public void decreaseStrokeWidth(double val) {\r\n        for (Node shape : mapGroup.getChildren()) {\r\n            ((Shape) shape).setStrokeWidth(val);\r\n        }\r\n    }\r\n\r\n    private EventHandler&lt;MouseEvent&gt; onMousePressedEventHandler() {\r\n        return event -&gt; {\r\n            if (event.isPrimaryButtonDown()) {\r\n                if (!event.getPickResult().getIntersectedNode().getParent().equals(mapGroup)) {\r\n                    for (Node shape : mapGroup.getChildren()) {\r\n                        ((Shape) shape).setStroke(Color.BLACK);\r\n                    }\r\n                }\r\n            }\r\n            if (event.isSecondaryButtonDown()) {\r\n                mouseAnchorX = event.getSceneX();\r\n                mouseAnchorY = event.getSceneY();\r\n                translateAnchorX = mapGroup.getTranslateX();\r\n                translateAnchorY = mapGroup.getTranslateY();\r\n            }\r\n        };\r\n    }\r\n\r\n    private EventHandler&lt;ScrollEvent&gt; onMouseScrolledEventHandler() {\r\n        return event -&gt; {\r\n            double scale = mapGroup.getScaleY();\r\n            double oldScale = scale;\r\n            scale = event.getDeltaY() &lt; 0 ? (scale / 1.1) : (scale * 1.1);\r\n            double dx = (event.getSceneX() - (mapGroup.getBoundsInParent().getWidth() / 2 + mapGroup.getBoundsInParent().getMinX()));\r\n            double dy = (event.getSceneY() - (mapGroup.getBoundsInParent().getHeight() / 2 + mapGroup.getBoundsInParent().getMinY()));\r\n            double f = (scale / oldScale) - 1;\r\n            mapGroup.setScaleX(scale);\r\n            mapGroup.setScaleY(scale);\r\n            mapGroup.setTranslateX(mapGroup.getTranslateX() - f * dx);\r\n            mapGroup.setTranslateY(mapGroup.getTranslateY() - f * dy);\r\n            decreaseStrokeWidth(Math.max(1 / scale, 0.2)); // Change this parameter\r\n            event.consume();\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nYou can change the coordinate range of the lines and the strokewidth. Now can anyone explain this beaviour to me and can give me some suggestions how to deal with this issue. I really wan&#39;t to find a workaround for this, but my guess is that it has something to do with internal interpolation.","title":"JavaFX how to trigger events on Geometries?","body":"<p>I'm writting an JavaFX application, where i use UTM32 coordinates for my geometries, i have a dynamic stroke width dependent on my zoom level. The issue is that i can't trigger events when my stroke width is decreased at a certain factor. If you use Intellij you can start a new fx-project and copy following code to reproduce this behaviour:</p>\n<p><strong>hello-view.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;248.0&quot; prefWidth=&quot;335.0&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.2&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Pane fx:id=&quot;mapPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\n        &lt;children&gt;\n            &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot;&gt;\n            &lt;/StackPane&gt;\n        &lt;/children&gt;\n    &lt;/Pane&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><em><strong>HelloApplication.java</strong></em></p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>HelloController.java</strong></p>\n<pre><code>package com.example.demo;\n\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Group;\nimport javafx.scene.Node;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.scene.shape.Shape;\n\nimport java.net.URL;\nimport java.util.Random;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n    private final Group mapGroup = new Group();\n    @FXML\n    private StackPane stackPane = new StackPane();\n    @FXML\n    public Pane mapPane;\n    double mouseAnchorX, mouseAnchorY, translateAnchorX, translateAnchorY;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        addLines();\n        stackPane.getChildren().add(mapGroup);\n        mapPane.setOnScroll(onMouseScrolledEventHandler());\n        mapPane.setOnMousePressed(onMousePressedEventHandler());\n    }\n\n    private void addLines() {\n        for (int i = 0; i &lt; 10; ++i) {\n            Line line = new Line(getRandomDouble(5000000, 5000002), getRandomDouble(5000000, 5000002),\n                    getRandomDouble(5000000, 5000002), getRandomDouble(5000000, 5000002));\n            line.addEventHandler(MouseEvent.MOUSE_PRESSED, onShapeSelected());\n            (line).setSmooth(true);\n            mapGroup.getChildren().add(line);\n        }\n    }\n\n    private double getRandomDouble(double rangeMin, double rangeMax) {\n        Random rand = new Random();\n        return rangeMin + (rangeMax - rangeMin) * rand.nextDouble();\n    }\n\n    private EventHandler&lt;MouseEvent&gt; onShapeSelected() {\n        return mouseEvent -&gt; {\n            if (!mouseEvent.isPrimaryButtonDown()) {\n                return;\n            }\n            System.out.println(&quot;Event triggered&quot;);\n            ((Shape) mouseEvent.getSource()).setStroke(Color.RED);\n        };\n    }\n\n    public void decreaseStrokeWidth(double val) {\n        for (Node shape : mapGroup.getChildren()) {\n            ((Shape) shape).setStrokeWidth(val);\n        }\n    }\n\n    private EventHandler&lt;MouseEvent&gt; onMousePressedEventHandler() {\n        return event -&gt; {\n            if (event.isPrimaryButtonDown()) {\n                if (!event.getPickResult().getIntersectedNode().getParent().equals(mapGroup)) {\n                    for (Node shape : mapGroup.getChildren()) {\n                        ((Shape) shape).setStroke(Color.BLACK);\n                    }\n                }\n            }\n            if (event.isSecondaryButtonDown()) {\n                mouseAnchorX = event.getSceneX();\n                mouseAnchorY = event.getSceneY();\n                translateAnchorX = mapGroup.getTranslateX();\n                translateAnchorY = mapGroup.getTranslateY();\n            }\n        };\n    }\n\n    private EventHandler&lt;ScrollEvent&gt; onMouseScrolledEventHandler() {\n        return event -&gt; {\n            double scale = mapGroup.getScaleY();\n            double oldScale = scale;\n            scale = event.getDeltaY() &lt; 0 ? (scale / 1.1) : (scale * 1.1);\n            double dx = (event.getSceneX() - (mapGroup.getBoundsInParent().getWidth() / 2 + mapGroup.getBoundsInParent().getMinX()));\n            double dy = (event.getSceneY() - (mapGroup.getBoundsInParent().getHeight() / 2 + mapGroup.getBoundsInParent().getMinY()));\n            double f = (scale / oldScale) - 1;\n            mapGroup.setScaleX(scale);\n            mapGroup.setScaleY(scale);\n            mapGroup.setTranslateX(mapGroup.getTranslateX() - f * dx);\n            mapGroup.setTranslateY(mapGroup.getTranslateY() - f * dy);\n            decreaseStrokeWidth(Math.max(1 / scale, 0.2)); // Change this parameter\n            event.consume();\n        };\n    }\n}\n</code></pre>\n<p>You can change the coordinate range of the lines and the strokewidth. Now can anyone explain this beaviour to me and can give me some suggestions how to deal with this issue. I really wan't to find a workaround for this, but my guess is that it has something to do with internal interpolation.</p>\n"},{"tags":["java","spring-boot","components"],"comments":[{"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"score":2,"creation_date":1639400279,"post_id":70334882,"comment_id":124331160,"body_markdown":"Please add some code to make it clear what `a list with the components` means. Otherwise read about [`@Order`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html)","body":"Please add some code to make it clear what <code>a list with the components</code> means. Otherwise read about <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\"><code>@Order</code></a>"},{"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"score":0,"creation_date":1639400411,"post_id":70334882,"comment_id":124331210,"body_markdown":"I change question.","body":"I change question."}],"answers":[{"tags":[],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639401183,"creation_date":1639400842,"answer_id":70335166,"question_id":70334882,"body_markdown":"I find @Order annotations it will work\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html","title":"Prioritizing components spring boot","body":"<p>I find @Order annotations it will work</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html</a></p>\n"}],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639401183,"creation_date":1639399430,"question_id":70334882,"body_markdown":"How can I prioritize components to load first?","title":"Prioritizing components spring boot","body":"<p>How can I prioritize components to load first?</p>\n"},{"tags":["java","mongodb","uuid","codec","bson"],"comments":[{"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"score":1,"creation_date":1638898565,"post_id":70246835,"comment_id":124208191,"body_markdown":"I think it&#39;s a case for [StringCodec](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/StringCodec.java) from [uuid-creator](https://github.com/f4b6a3/uuid-creator). Please, read this [wiki page](https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#stringcodec).","body":"I think it&#39;s a case for <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/StringCodec.java\" rel=\"nofollow noreferrer\">StringCodec</a> from <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>. Please, read this <a href=\"https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#stringcodec\" rel=\"nofollow noreferrer\">wiki page</a>."}],"answers":[{"tags":[],"owner":{"account_id":4846036,"reputation":107,"user_id":3909639,"display_name":"bluepix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639401066,"creation_date":1639401066,"answer_id":70335210,"question_id":70246835,"body_markdown":"Thanks to the input from @fabiolimace I implemented a simple PropertyCodecProvider which returns for the UUID type the codec below\r\n\r\n    public class UuidCodec implements Codec&lt;UUID&gt; {\r\n     @Override\r\n     public void encode(BsonWriter writer, UUID value, EncoderContext encoderContext) {\r\n        if (value != null) {\r\n            writer.writeString(value.toString());\r\n        }\r\n     }\r\n\r\n     @Override\r\n     public UUID decode(BsonReader reader, DecoderContext decoderContext) {\r\n        String uuidString = reader.readString();\r\n        if (uuidString == null || uuidString.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        return UUID.fromString(uuidString);\r\n     }\r\n\r\n     @Override\r\n     public Class&lt;UUID&gt; getEncoderClass() {\r\n        return UUID.class;\r\n     }\r\n    }\r\n\r\nHope this helps others with a similar challenge.","title":"UUID represented as Bson String","body":"<p>Thanks to the input from @fabiolimace I implemented a simple PropertyCodecProvider which returns for the UUID type the codec below</p>\n<pre><code>public class UuidCodec implements Codec&lt;UUID&gt; {\n @Override\n public void encode(BsonWriter writer, UUID value, EncoderContext encoderContext) {\n    if (value != null) {\n        writer.writeString(value.toString());\n    }\n }\n\n @Override\n public UUID decode(BsonReader reader, DecoderContext decoderContext) {\n    String uuidString = reader.readString();\n    if (uuidString == null || uuidString.isEmpty()) {\n        return null;\n    }\n\n    return UUID.fromString(uuidString);\n }\n\n @Override\n public Class&lt;UUID&gt; getEncoderClass() {\n    return UUID.class;\n }\n}\n</code></pre>\n<p>Hope this helps others with a similar challenge.</p>\n"}],"owner":{"account_id":4846036,"reputation":107,"user_id":3909639,"display_name":"bluepix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70335210,"answer_count":1,"score":1,"last_activity_date":1639401066,"creation_date":1638799916,"question_id":70246835,"body_markdown":"I think I really have a simple use case but I&#39;m struggling hard to make it work with MongoDB.\r\n\r\nI have a POJO which looks like\r\n\r\n    public class Item {\r\n      @BsonRepresentation(value = BsonType.STRING)\r\n      private UUID id;\r\n      private String version;\r\n      // more..\r\n\r\n      // getter/setters\r\n    }\r\n\r\nYou see the POJO has the id specified as UUID. But the Bson representation is a string.\r\n\r\nI tried to write my custom codec only for the UUID class but this does not really work. The registry looks like\r\n\r\n    CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\r\n        MongoClientSettings.getDefaultCodecRegistry(),\r\n        fromProviders(PojoCodecProvider.builder().automatic(true).build()),\r\n        CodecRegistries.fromCodecs(\r\n                new UuidCodec()\r\n        )\r\n    )\r\n\r\nI would like to write a codec only for the UUID case not for the whole Item class. But as I think I really go into the wrong direction I need any help. How should this be implemented?\r\n\r\n","title":"UUID represented as Bson String","body":"<p>I think I really have a simple use case but I'm struggling hard to make it work with MongoDB.</p>\n<p>I have a POJO which looks like</p>\n<pre><code>public class Item {\n  @BsonRepresentation(value = BsonType.STRING)\n  private UUID id;\n  private String version;\n  // more..\n\n  // getter/setters\n}\n</code></pre>\n<p>You see the POJO has the id specified as UUID. But the Bson representation is a string.</p>\n<p>I tried to write my custom codec only for the UUID class but this does not really work. The registry looks like</p>\n<pre><code>CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\n    MongoClientSettings.getDefaultCodecRegistry(),\n    fromProviders(PojoCodecProvider.builder().automatic(true).build()),\n    CodecRegistries.fromCodecs(\n            new UuidCodec()\n    )\n)\n</code></pre>\n<p>I would like to write a codec only for the UUID case not for the whole Item class. But as I think I really go into the wrong direction I need any help. How should this be implemented?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8228,"page":1764,"page_size":100}
