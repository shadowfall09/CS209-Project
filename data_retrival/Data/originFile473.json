{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":3,"creation_date":1362404907,"post_id":15202997,"comment_id":21423467,"body_markdown":"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7","body":"<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7</a>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":1,"creation_date":1362405038,"post_id":15202997,"comment_id":21423543,"body_markdown":"See - http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html or maybe just write a test.","body":"See - <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/Class.html</a> or maybe just write a test."},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":7,"creation_date":1401984884,"post_id":15202997,"comment_id":37108261,"body_markdown":"@GrahamBorland The javadoc says **&quot;as defined by the Java Language Specification&quot;** - so you can look it up in that document. Just because it is not a clickable link people can still do a minimal effort and click on the first search engine result.","body":"@GrahamBorland The javadoc says <b>&quot;as defined by the Java Language Specification&quot;</b> - so you can look it up in that document. Just because it is not a clickable link people can still do a minimal effort and click on the first search engine result."},{"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":80,"creation_date":1416394815,"post_id":15202997,"comment_id":42555884,"body_markdown":"@vbence: Most people would rather get things done than look up the JLS for trivial things like this. Hence, this is the first Google result :)","body":"@vbence: Most people would rather get things done than look up the JLS for trivial things like this. Hence, this is the first Google result :)"}],"answers":[{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":2,"up_vote_count":1322,"is_accepted":true,"score":1320,"last_activity_date":1656407960,"creation_date":1362406047,"answer_id":15203417,"question_id":15202997,"body_markdown":"If you&#39;re unsure about something, try writing a test first.\r\n\r\nI did this:\r\n\r\n```java\r\nclass ClassNameTest {\r\n    public static void main(final String... arguments) {\r\n        printNamesForClass(\r\n            int.class,\r\n            &quot;int.class (primitive)&quot;);\r\n        printNamesForClass(\r\n            String.class,\r\n            &quot;String.class (ordinary class)&quot;);\r\n        printNamesForClass(\r\n            java.util.HashMap.SimpleEntry.class,\r\n            &quot;java.util.HashMap.SimpleEntry.class (nested class)&quot;);\r\n        printNamesForClass(\r\n            new java.io.Serializable(){}.getClass(),\r\n            &quot;new java.io.Serializable(){}.getClass() (anonymous inner class)&quot;);\r\n    }\r\n\r\n    private static void printNamesForClass(final Class&lt;?&gt; clazz, final String label) {\r\n        System.out.println(label + &quot;:&quot;);\r\n        System.out.println(&quot;    getName():          &quot; + clazz.getName());\r\n        System.out.println(&quot;    getCanonicalName(): &quot; + clazz.getCanonicalName());\r\n        System.out.println(&quot;    getSimpleName():    &quot; + clazz.getSimpleName());\r\n        System.out.println(&quot;    getTypeName():      &quot; + clazz.getTypeName()); // added in Java 8\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nPrints:\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\nint.class (primitive):\r\n    getName():          int\r\n    getCanonicalName(): int\r\n    getSimpleName():    int\r\n    getTypeName():      int\r\n\r\nString.class (ordinary class):\r\n    getName():          java.lang.String\r\n    getCanonicalName(): java.lang.String\r\n    getSimpleName():    String\r\n    getTypeName():      java.lang.String\r\n\r\njava.util.HashMap.SimpleEntry.class (nested class):\r\n    getName():          java.util.AbstractMap$SimpleEntry\r\n    getCanonicalName(): java.util.AbstractMap.SimpleEntry\r\n    getSimpleName():    SimpleEntry\r\n    getTypeName():      java.util.AbstractMap$SimpleEntry\r\n\r\nnew java.io.Serializable(){}.getClass() (anonymous inner class):\r\n    getName():          ClassNameTest$1\r\n    getCanonicalName(): null\r\n    getSimpleName():    \r\n    getTypeName():      ClassNameTest$1\r\n```\r\n\r\nThere&#39;s an empty entry in the last block where `getSimpleName` returns an empty string.\r\n\r\nThe upshot looking at this is:\r\n\r\n&gt; - the **name** is the name that you&#39;d use to dynamically load the class with, for example, a call to `Class.forName` with the default `ClassLoader`. Within the scope of a certain `ClassLoader`, all classes have unique names.\r\n&gt; - the **canonical name** is the name that would be used in an import statement. It might be useful during `toString` or logging operations. When the `javac` compiler has complete view of a classpath, it enforces uniqueness of canonical names within it by clashing fully qualified class and package names at compile time. However JVMs must accept such name clashes, and thus canonical names do not uniquely identify classes within a `ClassLoader`. (In hindsight, a better name for this getter would have been `getJavaName`; but this method dates from a time when the JVM was used solely to run Java programs.)\r\n&gt; - the **simple name** loosely identifies the class, again might be useful during `toString` or logging operations but is not guaranteed to be unique.\r\n&gt; - the **type name** returns &quot;an informative string for the name of this type&quot;, &quot;It&#39;s like `toString`: it&#39;s purely informative and has no contract value&quot;. (as written by sir4ur0n)\r\n\r\nAlso you can commonly reference the Java Language Specification documentation for these types technical Java API details:\r\n\r\n&gt; - Here&#39;s the Java 11 **Specification** on this subject matter:  https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7\r\n&gt; \r\n&gt; `Example 6.7-2.` and `Example 6.7-2.` goes over `Fully Qualified Names` and `Fully Qualified Names v. Canonical Name` respectively","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>If you're unsure about something, try writing a test first.</p>\n<p>I did this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassNameTest {\n    public static void main(final String... arguments) {\n        printNamesForClass(\n            int.class,\n            &quot;int.class (primitive)&quot;);\n        printNamesForClass(\n            String.class,\n            &quot;String.class (ordinary class)&quot;);\n        printNamesForClass(\n            java.util.HashMap.SimpleEntry.class,\n            &quot;java.util.HashMap.SimpleEntry.class (nested class)&quot;);\n        printNamesForClass(\n            new java.io.Serializable(){}.getClass(),\n            &quot;new java.io.Serializable(){}.getClass() (anonymous inner class)&quot;);\n    }\n\n    private static void printNamesForClass(final Class&lt;?&gt; clazz, final String label) {\n        System.out.println(label + &quot;:&quot;);\n        System.out.println(&quot;    getName():          &quot; + clazz.getName());\n        System.out.println(&quot;    getCanonicalName(): &quot; + clazz.getCanonicalName());\n        System.out.println(&quot;    getSimpleName():    &quot; + clazz.getSimpleName());\n        System.out.println(&quot;    getTypeName():      &quot; + clazz.getTypeName()); // added in Java 8\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int.class (primitive):\n    getName():          int\n    getCanonicalName(): int\n    getSimpleName():    int\n    getTypeName():      int\n\nString.class (ordinary class):\n    getName():          java.lang.String\n    getCanonicalName(): java.lang.String\n    getSimpleName():    String\n    getTypeName():      java.lang.String\n\njava.util.HashMap.SimpleEntry.class (nested class):\n    getName():          java.util.AbstractMap$SimpleEntry\n    getCanonicalName(): java.util.AbstractMap.SimpleEntry\n    getSimpleName():    SimpleEntry\n    getTypeName():      java.util.AbstractMap$SimpleEntry\n\nnew java.io.Serializable(){}.getClass() (anonymous inner class):\n    getName():          ClassNameTest$1\n    getCanonicalName(): null\n    getSimpleName():    \n    getTypeName():      ClassNameTest$1\n</code></pre>\n<p>There's an empty entry in the last block where <code>getSimpleName</code> returns an empty string.</p>\n<p>The upshot looking at this is:</p>\n<blockquote>\n<ul>\n<li>the <strong>name</strong> is the name that you'd use to dynamically load the class with, for example, a call to <code>Class.forName</code> with the default <code>ClassLoader</code>. Within the scope of a certain <code>ClassLoader</code>, all classes have unique names.</li>\n<li>the <strong>canonical name</strong> is the name that would be used in an import statement. It might be useful during <code>toString</code> or logging operations. When the <code>javac</code> compiler has complete view of a classpath, it enforces uniqueness of canonical names within it by clashing fully qualified class and package names at compile time. However JVMs must accept such name clashes, and thus canonical names do not uniquely identify classes within a <code>ClassLoader</code>. (In hindsight, a better name for this getter would have been <code>getJavaName</code>; but this method dates from a time when the JVM was used solely to run Java programs.)</li>\n<li>the <strong>simple name</strong> loosely identifies the class, again might be useful during <code>toString</code> or logging operations but is not guaranteed to be unique.</li>\n<li>the <strong>type name</strong> returns &quot;an informative string for the name of this type&quot;, &quot;It's like <code>toString</code>: it's purely informative and has no contract value&quot;. (as written by sir4ur0n)</li>\n</ul>\n</blockquote>\n<p>Also you can commonly reference the Java Language Specification documentation for these types technical Java API details:</p>\n<blockquote>\n<ul>\n<li>Here's the Java 11 <strong>Specification</strong> on this subject matter:  <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7\" rel=\"noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7</a></li>\n</ul>\n<p><code>Example 6.7-2.</code> and <code>Example 6.7-2.</code> goes over <code>Fully Qualified Names</code> and <code>Fully Qualified Names v. Canonical Name</code> respectively</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":2,"up_vote_count":85,"is_accepted":false,"score":83,"last_activity_date":1534847149,"creation_date":1399561605,"answer_id":23545622,"question_id":15202997,"body_markdown":"In addition to Nick Holt&#39;s observations, I ran a few cases for `Array` data type:\r\n\r\n&lt;!-- language: lang-java --&gt;\t\r\n\t\t\r\n\t//primitive Array\r\n\tint demo[] = new int[5];\r\n\tClass&lt;? extends int[]&gt; clzz = demo.getClass();\r\n\tSystem.out.println(clzz.getName());\r\n\tSystem.out.println(clzz.getCanonicalName());\r\n\tSystem.out.println(clzz.getSimpleName());\t\t\r\n\t\t\r\n\tSystem.out.println();\r\n\t\t\r\n\t\t\r\n\t//Object Array\r\n\tInteger demo[] = new Integer[5]; \r\n\tClass&lt;? extends Integer[]&gt; clzz = demo.getClass();\r\n\tSystem.out.println(clzz.getName());\r\n\tSystem.out.println(clzz.getCanonicalName());\r\n\tSystem.out.println(clzz.getSimpleName());\r\n\t\t\r\n\t\t\r\nAbove code snippet prints:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [I\r\n    int[]\r\n    int[]\r\n    \r\n    [Ljava.lang.Integer;\r\n    java.lang.Integer[]\r\n    Integer[]\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>In addition to Nick Holt's observations, I ran a few cases for <code>Array</code> data type:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//primitive Array\nint demo[] = new int[5];\nClass&lt;? extends int[]&gt; clzz = demo.getClass();\nSystem.out.println(clzz.getName());\nSystem.out.println(clzz.getCanonicalName());\nSystem.out.println(clzz.getSimpleName());       \n\nSystem.out.println();\n\n\n//Object Array\nInteger demo[] = new Integer[5]; \nClass&lt;? extends Integer[]&gt; clzz = demo.getClass();\nSystem.out.println(clzz.getName());\nSystem.out.println(clzz.getCanonicalName());\nSystem.out.println(clzz.getSimpleName());\n</code></pre>\n\n<p>Above code snippet prints:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[I\nint[]\nint[]\n\n[Ljava.lang.Integer;\njava.lang.Integer[]\nInteger[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258390,"reputation":14093,"user_id":540552,"accept_rate":86,"display_name":"Victor Stafusa - BozoNaCadeia"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1554264173,"creation_date":1428535998,"answer_id":29527145,"question_id":15202997,"body_markdown":"Adding local classes, lambdas and the `toString()` method to complete the previous two answers. Further, I add arrays of lambdas and arrays of anonymous classes (which do not make any sense in practice though):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.example;\r\n    \r\n    public final class TestClassNames {\r\n        private static void showClass(Class&lt;?&gt; c) {\r\n            System.out.println(&quot;getName():          &quot; + c.getName());\r\n            System.out.println(&quot;getCanonicalName(): &quot; + c.getCanonicalName());\r\n            System.out.println(&quot;getSimpleName():    &quot; + c.getSimpleName());\r\n            System.out.println(&quot;toString():         &quot; + c.toString());\r\n            System.out.println();\r\n        }\r\n    \r\n        private static void x(Runnable r) {\r\n            showClass(r.getClass());\r\n            showClass(java.lang.reflect.Array.newInstance(r.getClass(), 1).getClass()); // Obtains an array class of a lambda base type.\r\n        }\r\n    \r\n        public static class NestedClass {}\r\n    \r\n        public class InnerClass {}\r\n    \r\n        public static void main(String[] args) {\r\n            class LocalClass {}\r\n            showClass(void.class);\r\n            showClass(int.class);\r\n            showClass(String.class);\r\n            showClass(Runnable.class);\r\n            showClass(SomeEnum.class);\r\n            showClass(SomeAnnotation.class);\r\n            showClass(int[].class);\r\n            showClass(String[].class);\r\n            showClass(NestedClass.class);\r\n            showClass(InnerClass.class);\r\n            showClass(LocalClass.class);\r\n            showClass(LocalClass[].class);\r\n            Object anonymous = new java.io.Serializable() {};\r\n            showClass(anonymous.getClass());\r\n            showClass(java.lang.reflect.Array.newInstance(anonymous.getClass(), 1).getClass()); // Obtains an array class of an anonymous base type.\r\n            x(() -&gt; {});\r\n        }\r\n    }\r\n    \r\n    enum SomeEnum {\r\n       BLUE, YELLOW, RED;\r\n    }\r\n    \r\n    @interface SomeAnnotation {}\r\n\r\nThis is the full output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    getName():          void\r\n    getCanonicalName(): void\r\n    getSimpleName():    void\r\n    toString():         void\r\n    \r\n    getName():          int\r\n    getCanonicalName(): int\r\n    getSimpleName():    int\r\n    toString():         int\r\n    \r\n    getName():          java.lang.String\r\n    getCanonicalName(): java.lang.String\r\n    getSimpleName():    String\r\n    toString():         class java.lang.String\r\n    \r\n    getName():          java.lang.Runnable\r\n    getCanonicalName(): java.lang.Runnable\r\n    getSimpleName():    Runnable\r\n    toString():         interface java.lang.Runnable\r\n    \r\n    getName():          com.example.SomeEnum\r\n    getCanonicalName(): com.example.SomeEnum\r\n    getSimpleName():    SomeEnum\r\n    toString():         class com.example.SomeEnum\r\n    \r\n    getName():          com.example.SomeAnnotation\r\n    getCanonicalName(): com.example.SomeAnnotation\r\n    getSimpleName():    SomeAnnotation\r\n    toString():         interface com.example.SomeAnnotation\r\n    \r\n    getName():          [I\r\n    getCanonicalName(): int[]\r\n    getSimpleName():    int[]\r\n    toString():         class [I\r\n    \r\n    getName():          [Ljava.lang.String;\r\n    getCanonicalName(): java.lang.String[]\r\n    getSimpleName():    String[]\r\n    toString():         class [Ljava.lang.String;\r\n    \r\n    getName():          com.example.TestClassNames$NestedClass\r\n    getCanonicalName(): com.example.TestClassNames.NestedClass\r\n    getSimpleName():    NestedClass\r\n    toString():         class com.example.TestClassNames$NestedClass\r\n    \r\n    getName():          com.example.TestClassNames$InnerClass\r\n    getCanonicalName(): com.example.TestClassNames.InnerClass\r\n    getSimpleName():    InnerClass\r\n    toString():         class com.example.TestClassNames$InnerClass\r\n    \r\n    getName():          com.example.TestClassNames$1LocalClass\r\n    getCanonicalName(): null\r\n    getSimpleName():    LocalClass\r\n    toString():         class com.example.TestClassNames$1LocalClass\r\n    \r\n    getName():          [Lcom.example.TestClassNames$1LocalClass;\r\n    getCanonicalName(): null\r\n    getSimpleName():    LocalClass[]\r\n    toString():         class [Lcom.example.TestClassNames$1LocalClass;\r\n    \r\n    getName():          com.example.TestClassNames$1\r\n    getCanonicalName(): null\r\n    getSimpleName():    \r\n    toString():         class com.example.TestClassNames$1\r\n    \r\n    getName():          [Lcom.example.TestClassNames$1;\r\n    getCanonicalName(): null\r\n    getSimpleName():    []\r\n    toString():         class [Lcom.example.TestClassNames$1;\r\n    \r\n    getName():          com.example.TestClassNames$$Lambda$1/1175962212\r\n    getCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212\r\n    getSimpleName():    TestClassNames$$Lambda$1/1175962212\r\n    toString():         class com.example.TestClassNames$$Lambda$1/1175962212\r\n    \r\n    getName():          [Lcom.example.TestClassNames$$Lambda$1;\r\n    getCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212[]\r\n    getSimpleName():    TestClassNames$$Lambda$1/1175962212[]\r\n    toString():         class [Lcom.example.TestClassNames$$Lambda$1;\r\n\r\nSo, here are the rules. First, lets start with primitive types and `void`:\r\n\r\n1. If the class object represents a primitive type or `void`, all the four methods simply returns its name.\r\n\r\nNow the rules for the `getName()` method:\r\n\r\n2. Every non-lambda and non-array class or interface (i.e, top-level, nested, inner, local and anonymous) has a name (which is returned by `getName()`) that is the package name followed by a dot (if there is a package), followed by the name of its class-file as generated by the compiler (whithout the suffix `.class`). If there is no package, it is simply the name of the class-file. If the class is an inner, nested, local or anonymous class, the compiler should generate at least one `$` in its class-file name. Note that for anonymous classes, the class name would end with a dollar-sign followed by a number.\r\n3. Lambda class names are generally unpredictable, and you shouldn&#39;t care about they anyway. Exactly, their name is the name of the enclosing class, followed by `$$Lambda$`, followed by a number, followed by a slash, followed by another number.\r\n4. The class descriptor of the primitives are `Z` for `boolean`, `B` for `byte`, `S` for `short`, `C` for `char`, `I` for `int`, `J` for `long`, `F` for `float` and `D` for `double`. For non-array classes and interfaces the class descriptor is `L` followed by what is given by `getName()` followed by `;`. For array classes, the class descriptor is `[` followed by the class descriptor of the component type (which may be itself another array class).\r\n5. For array classes, the `getName()` method returns its class descriptor. This rule seems to fail only for array classes whose the component type is a lambda (which possibly is a bug), but hopefully this should not matter anyway because there is no point even on the existence of array classes whose component type is a lambda.\r\n\r\nNow, the `toString()` method:\r\n\r\n6. If the class instance represents an interface (or an annotation, which is a special type of interface), the `toString()` returns `&quot;interface &quot; + getName()`. If it is a primitive, it returns simply `getName()`. If it is something else (a class type, even if it is a pretty weird one), it returns `&quot;class &quot; + getName()`.\r\n\r\nThe `getCanonicalName()` method:\r\n\r\n7. For top-level classes and interfaces, the `getCanonicalName()` method returns just what the `getName()` method returns.\r\n8. The `getCanonicalName()` method returns `null` for anonymous or local classes and for array classes of those.\r\n9. For inner and nested classes and interfaces, the `getCanonicalName()` method returns what the `getName()` method would replacing the compiler-introduced dollar-signs by dots.\r\n10. For array classes, the `getCanonicalName()` method returns `null` if the canonical name of the component type is `null`. Otherwise, it returns the canonical name of the component type followed by `[]`.\r\n\r\nThe `getSimpleName()` method:\r\n\r\n11. For top-level, nested, inner and local classes, the `getSimpleName()` returns the name of the class as written in the source file.\r\n12. For anonymous classes the `getSimpleName()` returns an empty `String`.\r\n13. For lambda classes the `getSimpleName()` just returns what the `getName()` would return without the package name. This do not makes much sense and looks like a bug for me, but there is no point in calling `getSimpleName()` on a lambda class to start with.\r\n14. For array classes the `getSimpleName()` method returns the simple name of the component class followed by `[]`. This have the funny/weird side-effect that array classes whose component type is an anonymous class have just `[]` as their simple names.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>Adding local classes, lambdas and the <code>toString()</code> method to complete the previous two answers. Further, I add arrays of lambdas and arrays of anonymous classes (which do not make any sense in practice though):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic final class TestClassNames {\n    private static void showClass(Class&lt;?&gt; c) {\n        System.out.println(\"getName():          \" + c.getName());\n        System.out.println(\"getCanonicalName(): \" + c.getCanonicalName());\n        System.out.println(\"getSimpleName():    \" + c.getSimpleName());\n        System.out.println(\"toString():         \" + c.toString());\n        System.out.println();\n    }\n\n    private static void x(Runnable r) {\n        showClass(r.getClass());\n        showClass(java.lang.reflect.Array.newInstance(r.getClass(), 1).getClass()); // Obtains an array class of a lambda base type.\n    }\n\n    public static class NestedClass {}\n\n    public class InnerClass {}\n\n    public static void main(String[] args) {\n        class LocalClass {}\n        showClass(void.class);\n        showClass(int.class);\n        showClass(String.class);\n        showClass(Runnable.class);\n        showClass(SomeEnum.class);\n        showClass(SomeAnnotation.class);\n        showClass(int[].class);\n        showClass(String[].class);\n        showClass(NestedClass.class);\n        showClass(InnerClass.class);\n        showClass(LocalClass.class);\n        showClass(LocalClass[].class);\n        Object anonymous = new java.io.Serializable() {};\n        showClass(anonymous.getClass());\n        showClass(java.lang.reflect.Array.newInstance(anonymous.getClass(), 1).getClass()); // Obtains an array class of an anonymous base type.\n        x(() -&gt; {});\n    }\n}\n\nenum SomeEnum {\n   BLUE, YELLOW, RED;\n}\n\n@interface SomeAnnotation {}\n</code></pre>\n\n<p>This is the full output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>getName():          void\ngetCanonicalName(): void\ngetSimpleName():    void\ntoString():         void\n\ngetName():          int\ngetCanonicalName(): int\ngetSimpleName():    int\ntoString():         int\n\ngetName():          java.lang.String\ngetCanonicalName(): java.lang.String\ngetSimpleName():    String\ntoString():         class java.lang.String\n\ngetName():          java.lang.Runnable\ngetCanonicalName(): java.lang.Runnable\ngetSimpleName():    Runnable\ntoString():         interface java.lang.Runnable\n\ngetName():          com.example.SomeEnum\ngetCanonicalName(): com.example.SomeEnum\ngetSimpleName():    SomeEnum\ntoString():         class com.example.SomeEnum\n\ngetName():          com.example.SomeAnnotation\ngetCanonicalName(): com.example.SomeAnnotation\ngetSimpleName():    SomeAnnotation\ntoString():         interface com.example.SomeAnnotation\n\ngetName():          [I\ngetCanonicalName(): int[]\ngetSimpleName():    int[]\ntoString():         class [I\n\ngetName():          [Ljava.lang.String;\ngetCanonicalName(): java.lang.String[]\ngetSimpleName():    String[]\ntoString():         class [Ljava.lang.String;\n\ngetName():          com.example.TestClassNames$NestedClass\ngetCanonicalName(): com.example.TestClassNames.NestedClass\ngetSimpleName():    NestedClass\ntoString():         class com.example.TestClassNames$NestedClass\n\ngetName():          com.example.TestClassNames$InnerClass\ngetCanonicalName(): com.example.TestClassNames.InnerClass\ngetSimpleName():    InnerClass\ntoString():         class com.example.TestClassNames$InnerClass\n\ngetName():          com.example.TestClassNames$1LocalClass\ngetCanonicalName(): null\ngetSimpleName():    LocalClass\ntoString():         class com.example.TestClassNames$1LocalClass\n\ngetName():          [Lcom.example.TestClassNames$1LocalClass;\ngetCanonicalName(): null\ngetSimpleName():    LocalClass[]\ntoString():         class [Lcom.example.TestClassNames$1LocalClass;\n\ngetName():          com.example.TestClassNames$1\ngetCanonicalName(): null\ngetSimpleName():    \ntoString():         class com.example.TestClassNames$1\n\ngetName():          [Lcom.example.TestClassNames$1;\ngetCanonicalName(): null\ngetSimpleName():    []\ntoString():         class [Lcom.example.TestClassNames$1;\n\ngetName():          com.example.TestClassNames$$Lambda$1/1175962212\ngetCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212\ngetSimpleName():    TestClassNames$$Lambda$1/1175962212\ntoString():         class com.example.TestClassNames$$Lambda$1/1175962212\n\ngetName():          [Lcom.example.TestClassNames$$Lambda$1;\ngetCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212[]\ngetSimpleName():    TestClassNames$$Lambda$1/1175962212[]\ntoString():         class [Lcom.example.TestClassNames$$Lambda$1;\n</code></pre>\n\n<p>So, here are the rules. First, lets start with primitive types and <code>void</code>:</p>\n\n<ol>\n<li>If the class object represents a primitive type or <code>void</code>, all the four methods simply returns its name.</li>\n</ol>\n\n<p>Now the rules for the <code>getName()</code> method:</p>\n\n<ol start=\"2\">\n<li>Every non-lambda and non-array class or interface (i.e, top-level, nested, inner, local and anonymous) has a name (which is returned by <code>getName()</code>) that is the package name followed by a dot (if there is a package), followed by the name of its class-file as generated by the compiler (whithout the suffix <code>.class</code>). If there is no package, it is simply the name of the class-file. If the class is an inner, nested, local or anonymous class, the compiler should generate at least one <code>$</code> in its class-file name. Note that for anonymous classes, the class name would end with a dollar-sign followed by a number.</li>\n<li>Lambda class names are generally unpredictable, and you shouldn't care about they anyway. Exactly, their name is the name of the enclosing class, followed by <code>$$Lambda$</code>, followed by a number, followed by a slash, followed by another number.</li>\n<li>The class descriptor of the primitives are <code>Z</code> for <code>boolean</code>, <code>B</code> for <code>byte</code>, <code>S</code> for <code>short</code>, <code>C</code> for <code>char</code>, <code>I</code> for <code>int</code>, <code>J</code> for <code>long</code>, <code>F</code> for <code>float</code> and <code>D</code> for <code>double</code>. For non-array classes and interfaces the class descriptor is <code>L</code> followed by what is given by <code>getName()</code> followed by <code>;</code>. For array classes, the class descriptor is <code>[</code> followed by the class descriptor of the component type (which may be itself another array class).</li>\n<li>For array classes, the <code>getName()</code> method returns its class descriptor. This rule seems to fail only for array classes whose the component type is a lambda (which possibly is a bug), but hopefully this should not matter anyway because there is no point even on the existence of array classes whose component type is a lambda.</li>\n</ol>\n\n<p>Now, the <code>toString()</code> method:</p>\n\n<ol start=\"6\">\n<li>If the class instance represents an interface (or an annotation, which is a special type of interface), the <code>toString()</code> returns <code>\"interface \" + getName()</code>. If it is a primitive, it returns simply <code>getName()</code>. If it is something else (a class type, even if it is a pretty weird one), it returns <code>\"class \" + getName()</code>.</li>\n</ol>\n\n<p>The <code>getCanonicalName()</code> method:</p>\n\n<ol start=\"7\">\n<li>For top-level classes and interfaces, the <code>getCanonicalName()</code> method returns just what the <code>getName()</code> method returns.</li>\n<li>The <code>getCanonicalName()</code> method returns <code>null</code> for anonymous or local classes and for array classes of those.</li>\n<li>For inner and nested classes and interfaces, the <code>getCanonicalName()</code> method returns what the <code>getName()</code> method would replacing the compiler-introduced dollar-signs by dots.</li>\n<li>For array classes, the <code>getCanonicalName()</code> method returns <code>null</code> if the canonical name of the component type is <code>null</code>. Otherwise, it returns the canonical name of the component type followed by <code>[]</code>.</li>\n</ol>\n\n<p>The <code>getSimpleName()</code> method:</p>\n\n<ol start=\"11\">\n<li>For top-level, nested, inner and local classes, the <code>getSimpleName()</code> returns the name of the class as written in the source file.</li>\n<li>For anonymous classes the <code>getSimpleName()</code> returns an empty <code>String</code>.</li>\n<li>For lambda classes the <code>getSimpleName()</code> just returns what the <code>getName()</code> would return without the package name. This do not makes much sense and looks like a bug for me, but there is no point in calling <code>getSimpleName()</code> on a lambda class to start with.</li>\n<li>For array classes the <code>getSimpleName()</code> method returns the simple name of the component class followed by <code>[]</code>. This have the funny/weird side-effect that array classes whose component type is an anonymous class have just <code>[]</code> as their simple names.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1582360140,"creation_date":1462180539,"answer_id":36978943,"question_id":15202997,"body_markdown":"I&#39;ve been confused by the wide range of different naming schemes as well, and was just about to ask and answer my own question on this when I found this question here. I think my findings fit it well enough, and complement what&#39;s already here. My focus is looking for *documentation* on the various terms, and adding some more related terms that might crop up in other places.\r\n\r\nConsider the following example:\r\n\r\n    package a.b;\r\n    class C {\r\n      static class D extends C {\r\n      }\r\n      D d;\r\n      D[] ds;\r\n    }\r\n\r\n* The **simple name** of `D` is `D`. That&#39;s just the part you wrote when declaring the class. [Anonymous classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9) have no simple name. [`Class.getSimpleName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--) returns this name or the empty string. It is possible for the simple name to contain a `$` if you write it like this, since `$` is a valid part of an identifier as per [JLS section 3.8](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8) (even if it is somewhat discouraged).\r\n\r\n* According to [the JLS section 6.7](http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.7), both `a.b.C.D` and `a.b.C.D.D.D` would be **fully qualified names**, but only `a.b.C.D` would be the **canonical name** of `D`. So every canonical name is a fully qualified name, but the converse is not always true. [`Class.getCanonicalName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getCanonicalName--) will return the canonical name or `null`.\r\n\r\n* [`Class.getName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--) is documented to return the **binary name**, as specified in [JLS section 13.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-13.html#jls-13.1). In this case it returns `a.b.C$D` for `D` and `[La.b.C$D;` for `D[]`.\r\n\r\n* [This answer](https://stackoverflow.com/a/13343540/1468366) demonstrates that it is possible for two classes loaded by the same class loader to have the same **canonical name** but distinct **binary names**. Neither name is sufficient to reliably deduce the other: if you have the canonical name, you don&#39;t know which parts of the name are packages and which are containing classes. If you have the binary name, you don&#39;t know which `$` were introduced as separators and which were part of some simple name. (The class file [stores the binary name](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.1) of the [class itself](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1) and its [enclosing class](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6), which allows the runtime to [make this distinction](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/5be9c5bfcfe9/src/share/classes/java/lang/Class.java#l1280).)\r\n\r\n* [Anonymous classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9) and [local classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.3) have no **fully qualified names** but still have a **binary name**. The same holds for classes nested inside such classes. *Every* class has a binary name.\r\n\r\n* Running `javap -v -private` on `a/b/C.class` shows that the bytecode refers to the type of `d` as `La/b/C$D;` and that of the array `ds` as `[La/b/C$D;`. These are called **descriptors**, and they are specified in [JVMS section 4.3](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3).\r\n\r\n* The class name `a/b/C$D` used in both of these descriptors is what you get by replacing `.` by `/` in the binary name. The JVM spec apparently calls this the **internal form of the binary name**. [JVMS section 4.2.1](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.1) describes it, and states that the difference from the binary name were for historical reasons.\r\n\r\n* The **file name** of a class in one of the typical filename-based class loaders is what you get if you interpret the `/` in the internal form of the binary name as a directory separator, and append the file name extension `.class` to it. It&#39;s resolved relative to the class path used by the class loader in question.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>I've been confused by the wide range of different naming schemes as well, and was just about to ask and answer my own question on this when I found this question here. I think my findings fit it well enough, and complement what's already here. My focus is looking for <em>documentation</em> on the various terms, and adding some more related terms that might crop up in other places.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>package a.b;\nclass C {\n  static class D extends C {\n  }\n  D d;\n  D[] ds;\n}\n</code></pre>\n\n<ul>\n<li><p>The <strong>simple name</strong> of <code>D</code> is <code>D</code>. That's just the part you wrote when declaring the class. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9\" rel=\"noreferrer\">Anonymous classes</a> have no simple name. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--\" rel=\"noreferrer\"><code>Class.getSimpleName()</code></a> returns this name or the empty string. It is possible for the simple name to contain a <code>$</code> if you write it like this, since <code>$</code> is a valid part of an identifier as per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8\" rel=\"noreferrer\">JLS section 3.8</a> (even if it is somewhat discouraged).</p></li>\n<li><p>According to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.7\" rel=\"noreferrer\">the JLS section 6.7</a>, both <code>a.b.C.D</code> and <code>a.b.C.D.D.D</code> would be <strong>fully qualified names</strong>, but only <code>a.b.C.D</code> would be the <strong>canonical name</strong> of <code>D</code>. So every canonical name is a fully qualified name, but the converse is not always true. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getCanonicalName--\" rel=\"noreferrer\"><code>Class.getCanonicalName()</code></a> will return the canonical name or <code>null</code>.</p></li>\n<li><p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"noreferrer\"><code>Class.getName()</code></a> is documented to return the <strong>binary name</strong>, as specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-13.html#jls-13.1\" rel=\"noreferrer\">JLS section 13.1</a>. In this case it returns <code>a.b.C$D</code> for <code>D</code> and <code>[La.b.C$D;</code> for <code>D[]</code>.</p></li>\n<li><p><a href=\"https://stackoverflow.com/a/13343540/1468366\">This answer</a> demonstrates that it is possible for two classes loaded by the same class loader to have the same <strong>canonical name</strong> but distinct <strong>binary names</strong>. Neither name is sufficient to reliably deduce the other: if you have the canonical name, you don't know which parts of the name are packages and which are containing classes. If you have the binary name, you don't know which <code>$</code> were introduced as separators and which were part of some simple name. (The class file <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.1\" rel=\"noreferrer\">stores the binary name</a> of the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1\" rel=\"noreferrer\">class itself</a> and its <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6\" rel=\"noreferrer\">enclosing class</a>, which allows the runtime to <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/5be9c5bfcfe9/src/share/classes/java/lang/Class.java#l1280\" rel=\"noreferrer\">make this distinction</a>.)</p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9\" rel=\"noreferrer\">Anonymous classes</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.3\" rel=\"noreferrer\">local classes</a> have no <strong>fully qualified names</strong> but still have a <strong>binary name</strong>. The same holds for classes nested inside such classes. <em>Every</em> class has a binary name.</p></li>\n<li><p>Running <code>javap -v -private</code> on <code>a/b/C.class</code> shows that the bytecode refers to the type of <code>d</code> as <code>La/b/C$D;</code> and that of the array <code>ds</code> as <code>[La/b/C$D;</code>. These are called <strong>descriptors</strong>, and they are specified in <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3\" rel=\"noreferrer\">JVMS section 4.3</a>.</p></li>\n<li><p>The class name <code>a/b/C$D</code> used in both of these descriptors is what you get by replacing <code>.</code> by <code>/</code> in the binary name. The JVM spec apparently calls this the <strong>internal form of the binary name</strong>. <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.1\" rel=\"noreferrer\">JVMS section 4.2.1</a> describes it, and states that the difference from the binary name were for historical reasons.</p></li>\n<li><p>The <strong>file name</strong> of a class in one of the typical filename-based class loaders is what you get if you interpret the <code>/</code> in the internal form of the binary name as a directory separator, and append the file name extension <code>.class</code> to it. It's resolved relative to the class path used by the class loader in question.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4763281,"reputation":131,"user_id":3850131,"accept_rate":0,"display_name":"Kiran"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464909145,"creation_date":1464909145,"answer_id":37603567,"question_id":15202997,"body_markdown":"this is best document I found describing getName(), getSimpleName(), getCanonicalName()\r\n\r\nhttps://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/\r\n\r\n\r\n    // Primitive type\r\n    int.class.getName();          // -&gt; int\r\n    int.class.getCanonicalName(); // -&gt; int\r\n    int.class.getSimpleName();    // -&gt; int\r\n     \r\n    // Standard class\r\n    Integer.class.getName();          // -&gt; java.lang.Integer\r\n    Integer.class.getCanonicalName(); // -&gt; java.lang.Integer\r\n    Integer.class.getSimpleName();    // -&gt; Integer\r\n     \r\n    // Inner class\r\n    Map.Entry.class.getName();          // -&gt; java.util.Map$Entry\r\n    Map.Entry.class.getCanonicalName(); // -&gt; java.util.Map.Entry\r\n    Map.Entry.class.getSimpleName();    // -&gt; Entry     \r\n     \r\n    // Anonymous inner class\r\n    Class&lt;?&gt; anonymousInnerClass = new Cloneable() {}.getClass();\r\n    anonymousInnerClass.getName();          // -&gt; somepackage.SomeClass$1\r\n    anonymousInnerClass.getCanonicalName(); // -&gt; null\r\n    anonymousInnerClass.getSimpleName();    // -&gt; // An empty string\r\n     \r\n    // Array of primitives\r\n    Class&lt;?&gt; primitiveArrayClass = new int[0].getClass();\r\n    primitiveArrayClass.getName();          // -&gt; [I\r\n    primitiveArrayClass.getCanonicalName(); // -&gt; int[]\r\n    primitiveArrayClass.getSimpleName();    // -&gt; int[]\r\n     \r\n    // Array of objects\r\n    Class&lt;?&gt; objectArrayClass = new Integer[0].getClass();\r\n    objectArrayClass.getName();          // -&gt; [Ljava.lang.Integer;\r\n    objectArrayClass.getCanonicalName(); // -&gt; java.lang.Integer[]\r\n    objectArrayClass.getSimpleName();    // -&gt; Integer[]\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>this is best document I found describing getName(), getSimpleName(), getCanonicalName()</p>\n\n<p><a href=\"https://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/\" rel=\"noreferrer\">https://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/</a></p>\n\n<pre><code>// Primitive type\nint.class.getName();          // -&gt; int\nint.class.getCanonicalName(); // -&gt; int\nint.class.getSimpleName();    // -&gt; int\n\n// Standard class\nInteger.class.getName();          // -&gt; java.lang.Integer\nInteger.class.getCanonicalName(); // -&gt; java.lang.Integer\nInteger.class.getSimpleName();    // -&gt; Integer\n\n// Inner class\nMap.Entry.class.getName();          // -&gt; java.util.Map$Entry\nMap.Entry.class.getCanonicalName(); // -&gt; java.util.Map.Entry\nMap.Entry.class.getSimpleName();    // -&gt; Entry     \n\n// Anonymous inner class\nClass&lt;?&gt; anonymousInnerClass = new Cloneable() {}.getClass();\nanonymousInnerClass.getName();          // -&gt; somepackage.SomeClass$1\nanonymousInnerClass.getCanonicalName(); // -&gt; null\nanonymousInnerClass.getSimpleName();    // -&gt; // An empty string\n\n// Array of primitives\nClass&lt;?&gt; primitiveArrayClass = new int[0].getClass();\nprimitiveArrayClass.getName();          // -&gt; [I\nprimitiveArrayClass.getCanonicalName(); // -&gt; int[]\nprimitiveArrayClass.getSimpleName();    // -&gt; int[]\n\n// Array of objects\nClass&lt;?&gt; objectArrayClass = new Integer[0].getClass();\nobjectArrayClass.getName();          // -&gt; [Ljava.lang.Integer;\nobjectArrayClass.getCanonicalName(); // -&gt; java.lang.Integer[]\nobjectArrayClass.getSimpleName();    // -&gt; Integer[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476022530,"creation_date":1476022530,"answer_id":39944575,"question_id":15202997,"body_markdown":"    \tpublic void printReflectionClassNames(){\r\n\t\tStringBuffer buffer = new StringBuffer();\r\n\t\tClass clazz= buffer.getClass();\r\n\t\tSystem.out.println(&quot;Reflection on String Buffer Class&quot;);\r\n\t\tSystem.out.println(&quot;Name: &quot;+clazz.getName());\r\n\t\tSystem.out.println(&quot;Simple Name: &quot;+clazz.getSimpleName());\r\n\t\tSystem.out.println(&quot;Canonical Name: &quot;+clazz.getCanonicalName());\r\n\t\tSystem.out.println(&quot;Type Name: &quot;+clazz.getTypeName());\r\n\t}\r\n\r\n    outputs:\r\n    Reflection on String Buffer Class\r\n    Name: java.lang.StringBuffer\r\n    Simple Name: StringBuffer\r\n    Canonical Name: java.lang.StringBuffer\r\n    Type Name: java.lang.StringBuffer\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<pre><code>    public void printReflectionClassNames(){\n    StringBuffer buffer = new StringBuffer();\n    Class clazz= buffer.getClass();\n    System.out.println(\"Reflection on String Buffer Class\");\n    System.out.println(\"Name: \"+clazz.getName());\n    System.out.println(\"Simple Name: \"+clazz.getSimpleName());\n    System.out.println(\"Canonical Name: \"+clazz.getCanonicalName());\n    System.out.println(\"Type Name: \"+clazz.getTypeName());\n}\n\noutputs:\nReflection on String Buffer Class\nName: java.lang.StringBuffer\nSimple Name: StringBuffer\nCanonical Name: java.lang.StringBuffer\nType Name: java.lang.StringBuffer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1503452756,"creation_date":1503451648,"answer_id":45829250,"question_id":15202997,"body_markdown":"It is interesting to note that `getCanonicalName()` and `getSimpleName()` can raise `InternalError` when the class name is malformed. This happens for some non-Java JVM languages, e.g., Scala.\r\n\r\nConsider the following (Scala 2.11 on Java 8):\r\n\r\n    scala&gt; case class C()\r\n    defined class C\r\n\r\n    scala&gt; val c = C()\r\n    c: C = C()\r\n\r\n    scala&gt; c.getClass.getSimpleName\r\n    java.lang.InternalError: Malformed class name\r\n      at java.lang.Class.getSimpleName(Class.java:1330)\r\n      ... 32 elided\r\n\r\n    scala&gt; c.getClass.getCanonicalName\r\n    java.lang.InternalError: Malformed class name\r\n      at java.lang.Class.getSimpleName(Class.java:1330)\r\n      at java.lang.Class.getCanonicalName(Class.java:1399)\r\n      ... 32 elided\r\n\r\n    scala&gt; c.getClass.getName\r\n    res2: String = C\r\n\r\nThis can be a problem for mixed language environments or environments that dynamically load bytecode, e.g., app servers and other platform software.\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>It is interesting to note that <code>getCanonicalName()</code> and <code>getSimpleName()</code> can raise <code>InternalError</code> when the class name is malformed. This happens for some non-Java JVM languages, e.g., Scala.</p>\n\n<p>Consider the following (Scala 2.11 on Java 8):</p>\n\n<pre><code>scala&gt; case class C()\ndefined class C\n\nscala&gt; val c = C()\nc: C = C()\n\nscala&gt; c.getClass.getSimpleName\njava.lang.InternalError: Malformed class name\n  at java.lang.Class.getSimpleName(Class.java:1330)\n  ... 32 elided\n\nscala&gt; c.getClass.getCanonicalName\njava.lang.InternalError: Malformed class name\n  at java.lang.Class.getSimpleName(Class.java:1330)\n  at java.lang.Class.getCanonicalName(Class.java:1399)\n  ... 32 elided\n\nscala&gt; c.getClass.getName\nres2: String = C\n</code></pre>\n\n<p>This can be a problem for mixed language environments or environments that dynamically load bytecode, e.g., app servers and other platform software.</p>\n"},{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570421358,"creation_date":1570420471,"answer_id":58263351,"question_id":15202997,"body_markdown":"**getName()**  returns the name of the entity (class, interface, array class, primitive type, or void) represented by this Class object, as a String.\r\n\r\n**getCanonicalName()**  returns the canonical name of the underlying class as defined by the Java Language Specification.\r\n\r\n**getSimpleName()**   returns the simple name of the underlying class, that is the name it has been given in the source code.\r\n\r\n    package com.practice;\r\n\r\n    public class ClassName {\r\n    public static void main(String[] args) {\r\n\r\n      ClassName c = new ClassName();\r\n      Class cls = c.getClass();\r\n\r\n      // returns the canonical name of the underlying class if it exists\r\n      System.out.println(&quot;Class = &quot; + cls.getCanonicalName());    //Class = com.practice.ClassName\r\n      System.out.println(&quot;Class = &quot; + cls.getName());             //Class = com.practice.ClassName\r\n      System.out.println(&quot;Class = &quot; + cls.getSimpleName());       //Class = ClassName\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getName());             // -&gt; Class = java.util.Map$Entry\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getCanonicalName());    // -&gt; Class = java.util.Map.Entry\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getSimpleName());       // -&gt; Class = Entry \r\n      }\r\n    }\r\n\r\nOne difference is that if you use an *anonymous class* you can get a null value when trying to get the name of the class using the `getCanonicalName()`\r\n\r\nAnother fact is that `getName()` method behaves differently than the `getCanonicalName()` method for *inner classes*. `getName()` uses a dollar as the separator between the enclosing class canonical name and the inner class simple name.\r\n\r\n\r\nTo know more about [retrieving a class name in Java][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-class-name","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p><strong>getName()</strong>  returns the name of the entity (class, interface, array class, primitive type, or void) represented by this Class object, as a String.</p>\n\n<p><strong>getCanonicalName()</strong>  returns the canonical name of the underlying class as defined by the Java Language Specification.</p>\n\n<p><strong>getSimpleName()</strong>   returns the simple name of the underlying class, that is the name it has been given in the source code.</p>\n\n<pre><code>package com.practice;\n\npublic class ClassName {\npublic static void main(String[] args) {\n\n  ClassName c = new ClassName();\n  Class cls = c.getClass();\n\n  // returns the canonical name of the underlying class if it exists\n  System.out.println(\"Class = \" + cls.getCanonicalName());    //Class = com.practice.ClassName\n  System.out.println(\"Class = \" + cls.getName());             //Class = com.practice.ClassName\n  System.out.println(\"Class = \" + cls.getSimpleName());       //Class = ClassName\n  System.out.println(\"Class = \" + Map.Entry.class.getName());             // -&gt; Class = java.util.Map$Entry\n  System.out.println(\"Class = \" + Map.Entry.class.getCanonicalName());    // -&gt; Class = java.util.Map.Entry\n  System.out.println(\"Class = \" + Map.Entry.class.getSimpleName());       // -&gt; Class = Entry \n  }\n}\n</code></pre>\n\n<p>One difference is that if you use an <em>anonymous class</em> you can get a null value when trying to get the name of the class using the <code>getCanonicalName()</code></p>\n\n<p>Another fact is that <code>getName()</code> method behaves differently than the <code>getCanonicalName()</code> method for <em>inner classes</em>. <code>getName()</code> uses a dollar as the separator between the enclosing class canonical name and the inner class simple name.</p>\n\n<p>To know more about <a href=\"https://www.baeldung.com/java-class-name\" rel=\"nofollow noreferrer\">retrieving a class name in Java</a>.</p>\n"}],"owner":{"account_id":1006247,"reputation":15843,"user_id":1019952,"accept_rate":60,"display_name":"Mohamed Taher Alrefaie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326781,"favorite_count":0,"down_vote_count":9,"up_vote_count":1164,"accepted_answer_id":15203417,"answer_count":8,"score":1155,"last_activity_date":1682542247,"creation_date":1362404728,"question_id":15202997,"body_markdown":"In Java, what is the difference between these:\r\n\r\n    Object o1 = ....\r\n    o1.getClass().getSimpleName();\r\n    o1.getClass().getName();\r\n    o1.getClass().getCanonicalName();\r\n\r\n\r\nI have checked the Javadoc multiple times and yet this never explains it well.\r\nI also ran a test and that didn&#39;t reflect any real meaning behind the way these methods are called.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>In Java, what is the difference between these:</p>\n\n<pre><code>Object o1 = ....\no1.getClass().getSimpleName();\no1.getClass().getName();\no1.getClass().getCanonicalName();\n</code></pre>\n\n<p>I have checked the Javadoc multiple times and yet this never explains it well.\nI also ran a test and that didn't reflect any real meaning behind the way these methods are called.</p>\n"},{"tags":["java","android","kotlin","whatsapp"],"owner":{"account_id":24830822,"reputation":182,"user_id":18710014,"display_name":"Himanshu Yadav Anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682541479,"creation_date":1682541479,"question_id":76114906,"body_markdown":"The chat itemview of recyclerview of whatsapp message screen is having different type of text view , please refer the screenshot below, and let me know how can I create one like that .\r\n\r\nIn the image you can see the margin between the message text and time textview , I cannot figure out that how it is changing the bottom margin when we try to send a message to overlap the time text .\r\n\r\n[![screenshot of whatsapp chat ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVUBT.jpg","title":"How to create itemview like Whatsapp message Itemview of recyclerview","body":"<p>The chat itemview of recyclerview of whatsapp message screen is having different type of text view , please refer the screenshot below, and let me know how can I create one like that .</p>\n<p>In the image you can see the margin between the message text and time textview , I cannot figure out that how it is changing the bottom margin when we try to send a message to overlap the time text .</p>\n<p><a href=\"https://i.stack.imgur.com/gVUBT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVUBT.jpg\" alt=\"screenshot of whatsapp chat \" /></a></p>\n"},{"tags":["java","unicode","comments"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":3,"creation_date":1433840882,"post_id":30727515,"comment_id":49511623,"body_markdown":"Although strange, I don&#39;t see this as a real issue. Regular users wouldn&#39;t know the difference between code hidden in a comment and regular code so to them it doesn&#39;t matter. Then, it might be a team member hiding code from the other members, but developers will react when seeing a strange comment like this, and either delete it or investigate. If this were to get through and put into use, a VCS will tell you which person did it, so one would get caught.","body":"Although strange, I don&#39;t see this as a real issue. Regular users wouldn&#39;t know the difference between code hidden in a comment and regular code so to them it doesn&#39;t matter. Then, it might be a team member hiding code from the other members, but developers will react when seeing a strange comment like this, and either delete it or investigate. If this were to get through and put into use, a VCS will tell you which person did it, so one would get caught."},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":202,"creation_date":1433840944,"post_id":30727515,"comment_id":49511660,"body_markdown":"One interesting thing is at least that **OP&#39;s IDE obviously gets it wrong** and displays incorrect highlighting,","body":"One interesting thing is at least that <b>OP&#39;s IDE obviously gets it wrong</b> and displays incorrect highlighting,"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":14,"creation_date":1433841038,"post_id":30727515,"comment_id":49511724,"body_markdown":"Possibly related: http://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code","body":"Possibly related: <a href=\"http://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code\" title=\"why does java permit escaped unicode characters in the source code\">stackoverflow.com/questions/4448180/&hellip;</a>"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":6,"creation_date":1433841070,"post_id":30727515,"comment_id":49511746,"body_markdown":"@Tobb: Yes, the authoritative answer can only come from the designers. However, there may be information somehwere on why this was done (compatibility, limitation of tools etc.), so it *is* answerable.","body":"@Tobb: Yes, the authoritative answer can only come from the designers. However, there may be information somehwere on why this was done (compatibility, limitation of tools etc.), so it <i>is</i> answerable."},{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":2,"creation_date":1433841179,"post_id":30727515,"comment_id":49511819,"body_markdown":"&#39;cause newline character is also allowed ... i had it tested with c++ and c# these languages are skiping the lines after reading // but java seems to parse the line complete and interprete the code as newline char.","body":"&#39;cause newline character is also allowed ... i had it tested with c++ and c# these languages are skiping the lines after reading // but java seems to parse the line complete and interprete the code as newline char."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":48,"creation_date":1433841342,"post_id":30727515,"comment_id":49511928,"body_markdown":"@Tobb But Java designers [are visiting SO](http://stackoverflow.com/a/23476994/1393766) so it is *possible* to get answers by one of them. Also they may exist resources which already answer this question.","body":"@Tobb But Java designers <a href=\"http://stackoverflow.com/a/23476994/1393766\">are visiting SO</a> so it is <i>possible</i> to get answers by one of them. Also they may exist resources which already answer this question."},{"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"score":2,"creation_date":1433841807,"post_id":30727515,"comment_id":49512257,"body_markdown":"I don&#39;t know for sure, but I suspect it&#39;s just a side effect of the general decision to process unidoce chars inside comments. Perhaps to allow code comments in foreign languages, or with mathematical greek signs. Personally I&#39;d avoid it... (javadoc might be an exception, but then I don&#39;t need this feature because HTML has its own support for special chars).","body":"I don&#39;t know for sure, but I suspect it&#39;s just a side effect of the general decision to process unidoce chars inside comments. Perhaps to allow code comments in foreign languages, or with mathematical greek signs. Personally I&#39;d avoid it... (javadoc might be an exception, but then I don&#39;t need this feature because HTML has its own support for special chars)."},{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":2,"creation_date":1433843359,"post_id":30727515,"comment_id":49513367,"body_markdown":"http://stackoverflow.com/questions/3866187/why-cant-i-use-u000d-and-u000a-as-cr-and-lf-in-java funny example","body":"<a href=\"http://stackoverflow.com/questions/3866187/why-cant-i-use-u000d-and-u000a-as-cr-and-lf-in-java\" title=\"why cant i use u000d and u000a as cr and lf in java\">stackoverflow.com/questions/3866187/&hellip;</a> funny example"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":10,"creation_date":1433849475,"post_id":30727515,"comment_id":49517677,"body_markdown":"Unicode escapes are allowed **anywhere** and are always parsed before everything else. The intent is that any source file can be converted to an equivalent file containing only ASCII characters.","body":"Unicode escapes are allowed <b>anywhere</b> and are always parsed before everything else. The intent is that any source file can be converted to an equivalent file containing only ASCII characters."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":1,"creation_date":1433849522,"post_id":30727515,"comment_id":49517717,"body_markdown":"Related: http://stackoverflow.com/q/13116648/319403","body":"Related: <a href=\"http://stackoverflow.com/q/13116648/319403\">stackoverflow.com/q/13116648/319403</a>"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":2,"creation_date":1433854002,"post_id":30727515,"comment_id":49521013,"body_markdown":"@dhke: This is also displayed as a comment in Eclipse, so do you know any IDE which does **not** display it as a comment?","body":"@dhke: This is also displayed as a comment in Eclipse, so do you know any IDE which does <b>not</b> display it as a comment?"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":1,"creation_date":1433857128,"post_id":30727515,"comment_id":49523590,"body_markdown":"@Thomas Netbeans (at least in 8.0.2) terminates the comment after the Unicode escaped newline, showing the `println()` as code. It also shows the same behaviour as the compiler for the escaped comment start code from https://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code","body":"@Thomas Netbeans (at least in 8.0.2) terminates the comment after the Unicode escaped newline, showing the <code>println()</code> as code. It also shows the same behaviour as the compiler for the escaped comment start code from <a href=\"https://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code\" title=\"why does java permit escaped unicode characters in the source code\">stackoverflow.com/questions/4448180/&hellip;</a>"},{"owner":{"account_id":4959811,"reputation":5014,"user_id":3991344,"accept_rate":92,"display_name":"Pokechu22"},"score":5,"creation_date":1433863209,"post_id":30727515,"comment_id":49528564,"body_markdown":"This also means that invalid Unicode escapes in comments cause compile errors (such as a windows path continuing `\\users`), which can be annoying.","body":"This also means that invalid Unicode escapes in comments cause compile errors (such as a windows path continuing <code>\\users</code>), which can be annoying."},{"owner":{"account_id":986239,"reputation":1789,"user_id":1004651,"accept_rate":67,"display_name":"Matthias"},"score":9,"creation_date":1433876106,"post_id":30727515,"comment_id":49536874,"body_markdown":"@dhke The OP didn&#39;t mention how his/her IDE displays that code. The only thing about highlighting that we can tell from the question text is that the Java code highlighter here in SO gets it wrong.","body":"@dhke The OP didn&#39;t mention how his/her IDE displays that code. The only thing about highlighting that we can tell from the question text is that the Java code highlighter here in SO gets it wrong."},{"owner":{"account_id":204638,"reputation":2131,"user_id":452979,"display_name":"CuriousRabbit"},"score":2,"creation_date":1433885789,"post_id":30727515,"comment_id":49542323,"body_markdown":"What you are showing is a bug in the IDE. It&#39;s perfectly valid code. That the IDE does not SHOW it as code is the bug. IDEs need to stop assuming compilers are not cognizant of unicode.","body":"What you are showing is a bug in the IDE. It&#39;s perfectly valid code. That the IDE does not SHOW it as code is the bug. IDEs need to stop assuming compilers are not cognizant of unicode."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":5,"creation_date":1433886094,"post_id":30727515,"comment_id":49542465,"body_markdown":"@CuriousRabbit, what makes you draw the conclusion that it&#39;s a bug in OP&#39;s IDE? (How do you even know OP is *using* an IDE?)","body":"@CuriousRabbit, what makes you draw the conclusion that it&#39;s a bug in OP&#39;s IDE? (How do you even know OP is <i>using</i> an IDE?)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":42,"creation_date":1433890462,"post_id":30727515,"comment_id":49544125,"body_markdown":"The simple answer is that the code isn&#39;t in a comment at all, by the rules of the language, so the question is ill-formed.","body":"The simple answer is that the code isn&#39;t in a comment at all, by the rules of the language, so the question is ill-formed."},{"owner":{"account_id":34404,"reputation":81844,"user_id":97248,"accept_rate":91,"display_name":"pts"},"score":1,"creation_date":1436477442,"post_id":30727515,"comment_id":50643264,"body_markdown":"`\\u000d` is the carriage return; `\\u000a` would be the newline. Either of them finishes the `//` comment.","body":"<code>\\u000d</code> is the carriage return; <code>\\u000a</code> would be the newline. Either of them finishes the <code>&#47;&#47;</code> comment."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":764,"is_accepted":true,"score":764,"last_activity_date":1477713384,"creation_date":1433841230,"answer_id":30727799,"question_id":30727515,"body_markdown":"Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don&#39;t even need to figure out where comments begin and end!\r\n\r\nAs stated in [JLS Section 3.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3) this allows any ASCII based tool to process the source files:\r\n\r\n&gt; [...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]\r\n\r\nThis gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. \r\n\r\nBeing able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.\r\n\r\nThere are many gotchas on this theme and [*Java Puzzlers*](http://www.javapuzzlers.com/) by Joshua Bloch and Neal Gafter included the following variant:\r\n\r\n&gt; Is this a legal Java program? If so, what does it print?\r\n&gt;\r\n&gt;     \\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\r\n&gt;     \\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\r\n&gt;     \\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\r\n&gt;     \\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\r\n&gt;     \\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\r\n&gt;     \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\r\n&gt;     \\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\r\n&gt;     \\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\r\n&gt;     \\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\r\n&gt;     \\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\r\n&gt;     \\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\r\n\r\n(This program turns out to be a plain &quot;Hello World&quot; program.)\r\n\r\nIn the solution to the puzzler, they point out the following:\r\n\r\n&gt; More seriously, this puzzle serves to reinforce the lessons of the previous three: **Unicode escapes are essential when you need to insert characters that cant be represented in any other way into your program. Avoid them in all other cases.**\r\n\r\n\r\n----------\r\n\r\nSource: [Java: Executing code in comments?!](http://programming.guide/java/executing-code-in-comments.html)","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don't even need to figure out where comments begin and end!</p>\n\n<p>As stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3\">JLS Section 3.3</a> this allows any ASCII based tool to process the source files:</p>\n\n<blockquote>\n  <p>[...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]</p>\n</blockquote>\n\n<p>This gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. </p>\n\n<p>Being able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.</p>\n\n<p>There are many gotchas on this theme and <a href=\"http://www.javapuzzlers.com/\"><em>Java Puzzlers</em></a> by Joshua Bloch and Neal Gafter included the following variant:</p>\n\n<blockquote>\n  <p>Is this a legal Java program? If so, what does it print?</p>\n\n<pre><code>\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\n\\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\n\\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\n\\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\n\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\n\\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\n\\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\n\\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\n\\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\n</code></pre>\n</blockquote>\n\n<p>(This program turns out to be a plain \"Hello World\" program.)</p>\n\n<p>In the solution to the puzzler, they point out the following:</p>\n\n<blockquote>\n  <p>More seriously, this puzzle serves to reinforce the lessons of the previous three: <strong>Unicode escapes are essential when you need to insert characters that cant be represented in any other way into your program. Avoid them in all other cases.</strong></p>\n</blockquote>\n\n<hr>\n\n<p>Source: <a href=\"http://programming.guide/java/executing-code-in-comments.html\">Java: Executing code in comments?!</a></p>\n"},{"tags":[],"owner":{"account_id":165234,"reputation":136753,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"down_vote_count":11,"up_vote_count":81,"is_accepted":false,"score":70,"last_activity_date":1601347402,"creation_date":1433863000,"answer_id":30736170,"question_id":30727515,"body_markdown":"The `\\u000d` escape terminates a comment because `\\u` escapes are uniformly converted to the corresponding Unicode characters *before* the program is tokenized.  You could equally use `\\u0057\\u0057` instead of `//` to *begin* a comment.\r\n\r\nThis is a bug in your IDE, which should syntax-highlight the line to make it clear that the `\\u000d` ends the comment.\r\n\r\nThis is also a design error in the language.  It can&#39;t be corrected now, because that would break programs that depend on it.  `\\u` escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that &quot;makes sense&quot; (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the `\\u000d` escape, without interfering with the cases where `\\u` escapes are usefulnote that that *includes* use of `\\u` escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where `\\u` escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display `\\u` escapes as the corresponding characters in *any* context, though.)\r\n\r\nThere is a similar design error in the C family,&lt;sup&gt;1&lt;/sup&gt; where backslash-newline is processed before comment boundaries are determined, so e.g.\r\n\r\n```c\r\n// this is a comment \\\r\n   this is still in the comment!\r\n```\r\n\r\nI bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it&#39;s an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case &amp;mdash; trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever &amp;mdash; that needs to be wedged in, it&#39;s easier to add a transformation pass *before* the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; For pedants: I am aware that this aspect of C was 100% intentional, with the rationale &amp;mdash; I am not making this up &amp;mdash; that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The <code>\\u000d</code> escape terminates a comment because <code>\\u</code> escapes are uniformly converted to the corresponding Unicode characters <em>before</em> the program is tokenized.  You could equally use <code>\\u0057\\u0057</code> instead of <code>//</code> to <em>begin</em> a comment.</p>\n<p>This is a bug in your IDE, which should syntax-highlight the line to make it clear that the <code>\\u000d</code> ends the comment.</p>\n<p>This is also a design error in the language.  It can't be corrected now, because that would break programs that depend on it.  <code>\\u</code> escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that &quot;makes sense&quot; (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the <code>\\u000d</code> escape, without interfering with the cases where <code>\\u</code> escapes are usefulnote that that <em>includes</em> use of <code>\\u</code> escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where <code>\\u</code> escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display <code>\\u</code> escapes as the corresponding characters in <em>any</em> context, though.)</p>\n<p>There is a similar design error in the C family,<sup>1</sup> where backslash-newline is processed before comment boundaries are determined, so e.g.</p>\n<pre class=\"lang-c prettyprint-override\"><code>// this is a comment \\\n   this is still in the comment!\n</code></pre>\n<p>I bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it's an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case  trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever  that needs to be wedged in, it's easier to add a transformation pass <em>before</em> the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.</p>\n<p><sup>1</sup> For pedants: I am aware that this aspect of C was 100% intentional, with the rationale  I am not making this up  that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":8,"up_vote_count":29,"is_accepted":false,"score":21,"last_activity_date":1436397593,"creation_date":1433868466,"answer_id":30738171,"question_id":30727515,"body_markdown":"I agree with @zwol that this is a design mistake; but I&#39;m even more critical of it.\r\n\r\n`\\u` escape is useful in string and char literals; and that&#39;s the only place that it should exist. It should be handled the same way as other escapes like `\\n`; and `&quot;\\u000A&quot;` *should* mean exactly `&quot;\\n&quot;`.\r\n\r\nThere is absolutely no point of having `\\uxxxx` in comments - nobody can read that.\r\n\r\nSimilarly, there&#39;s no point of using `\\uxxxx` in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what&#39;s the last time we&#39;ve seen that?\r\n\r\nThe designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.\r\n\r\n*(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)*","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>I agree with @zwol that this is a design mistake; but I'm even more critical of it.</p>\n\n<p><code>\\u</code> escape is useful in string and char literals; and that's the only place that it should exist. It should be handled the same way as other escapes like <code>\\n</code>; and <code>\"\\u000A\"</code> <em>should</em> mean exactly <code>\"\\n\"</code>.</p>\n\n<p>There is absolutely no point of having <code>\\uxxxx</code> in comments - nobody can read that.</p>\n\n<p>Similarly, there's no point of using <code>\\uxxxx</code> in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what's the last time we've seen that?</p>\n\n<p>The designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.</p>\n\n<p><em>(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)</em></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1436628698,"creation_date":1433872750,"answer_id":30739477,"question_id":30727515,"body_markdown":"Since this hasnt addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:\r\n\r\nThe idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesnt look like a problem, but back then it wasnt easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.\r\n\r\nSo, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and `String` literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.\r\n\r\nThis is a reversible process and the interesting point is that the translation can be done by a tool which doesnt need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.\r\n\r\nThis is the reason for another weird feature which hasnt even mentioned: the `\\uuuuuuxxxx` syntax:\r\n\r\nWhen a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional `u` into the sequence, converting `\\ucafe` to `\\uucafe`. The meaning doesnt change, but when converting into the other direction, the tool should just remove one `u` and replace only sequences containing a single `u` by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>Since this hasnt addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:</p>\n\n<p>The idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesnt look like a problem, but back then it wasnt easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.</p>\n\n<p>So, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and <code>String</code> literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.</p>\n\n<p>This is a reversible process and the interesting point is that the translation can be done by a tool which doesnt need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.</p>\n\n<p>This is the reason for another weird feature which hasnt even mentioned: the <code>\\uuuuuuxxxx</code> syntax:</p>\n\n<p>When a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional <code>u</code> into the sequence, converting <code>\\ucafe</code> to <code>\\uucafe</code>. The meaning doesnt change, but when converting into the other direction, the tool should just remove one <code>u</code> and replace only sequences containing a single <code>u</code> by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature</p>\n"},{"tags":[],"owner":{"account_id":2614934,"reputation":696,"user_id":2264197,"display_name":"Jonathan Gibbons"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1435772567,"creation_date":1433875536,"answer_id":30740325,"question_id":30727515,"body_markdown":"This was an intentional design choice that goes all the way back to the original design of Java.\r\n\r\nTo those folks who ask &quot;who wants Unicode escapes in comments?&quot;, I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.\r\n\r\nIt is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>This was an intentional design choice that goes all the way back to the original design of Java.</p>\n\n<p>To those folks who ask \"who wants Unicode escapes in comments?\", I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.</p>\n\n<p>It is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.</p>\n"},{"tags":[],"owner":{"account_id":1170257,"reputation":2183,"user_id":1147600,"display_name":"Pepijn Schmitz"},"down_vote_count":1,"up_vote_count":110,"is_accepted":false,"score":109,"last_activity_date":1433957837,"creation_date":1433957837,"answer_id":30763499,"question_id":30727515,"body_markdown":"I&#39;m going to completely ineffectually add the point, just because I can&#39;t help myself and I haven&#39;t seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!\r\n\r\nIn Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String... args) {\r\n       // The comment below is no typo. \r\n       // \r\n     System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nIMHO the most correct answer is therefore: the code executes because it isn&#39;t in a comment; it&#39;s on the next line. &quot;Executing code in comments&quot; is not allowed in Java, just like you would expect.\r\n\r\nMuch of the confusion stems from the fact that syntax highlighters and IDEs aren&#39;t sophisticated enough to take this situation into account. They either don&#39;t process the unicode escapes at all, or they do it after parsing the code instead of before, like `javac` does.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>I'm going to completely ineffectually add the point, just because I can't help myself and I haven't seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!</p>\n\n<p>In Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n   // The comment below is no typo. \n   // \n System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>IMHO the most correct answer is therefore: the code executes because it isn't in a comment; it's on the next line. \"Executing code in comments\" is not allowed in Java, just like you would expect.</p>\n\n<p>Much of the confusion stems from the fact that syntax highlighters and IDEs aren't sophisticated enough to take this situation into account. They either don't process the unicode escapes at all, or they do it after parsing the code instead of before, like <code>javac</code> does.</p>\n"},{"tags":[],"owner":{"account_id":161215,"reputation":12004,"user_id":381801,"accept_rate":82,"display_name":"Martijn"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1436628812,"creation_date":1434110363,"answer_id":30802558,"question_id":30727515,"body_markdown":"The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.\r\n\r\nA plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:\r\n\r\n* You want to be able to use any BMP character.\r\n* You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.\r\n* You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.\r\n\r\nThis is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.\r\n\r\nThe easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don&#39;t exist.\r\n\r\nThe upside to this is that it&#39;s easy to specify, so it makes the specification simpler, and it&#39;s easy to implement.\r\n\r\nThe downside is, well, your example.\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.</p>\n\n<p>A plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:</p>\n\n<ul>\n<li>You want to be able to use any BMP character.</li>\n<li>You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.</li>\n<li>You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.</li>\n</ul>\n\n<p>This is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.</p>\n\n<p>The easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don't exist.</p>\n\n<p>The upside to this is that it's easy to specify, so it makes the specification simpler, and it's easy to implement.</p>\n\n<p>The downside is, well, your example.</p>\n"},{"tags":[],"owner":{"account_id":24749,"reputation":113,"user_id":63146,"display_name":"Jim Sawyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629156881,"creation_date":1628903573,"answer_id":68779645,"question_id":30727515,"body_markdown":"&quot;The reason for this is that the Java compiler parses the Unicode character \\u000d as a new line&quot;.\r\n\r\nIf true, then that&#39;s precisely where the error occurs.\r\n\r\nJava compilers should perhaps refuse to compile this source, because (as Java source code) it is ill-formed, thus either bad to begin with, tampered with en route, or mutated by something in the tool-chain that does not understand the transformation rules. They should *not* blindly transform it.\r\n\r\nIf the editor in question is an ASCII-only tool, then said editor is doing the right thing--treating the Unicode escape sequence as a meaningless string of characters in (an ill-formed) comment.\r\n\r\nIf the editor in question is a Unicode-aware tool, then it is also doing the right thing--leaving the Unicode escape sequence &quot;as is&quot;, and treating it as a meaningless string of characters in (an ill-formed) comment.\r\n\r\nLossless, reversible conversion requires transformations that map 1-1 onto--thus the intersection of the two sets must be empty. Here the two sets in question can overlap even if no characters are modified by a correctly implemented escape-ify-ing transformation because escaped-Unicode in the range (000-07F) might already be present in the input stream.\r\n \r\nIf the goal is lossless, reversible conversion between Unicode and ASCII, the requirement for transforming to/from ASCII is to escape-ify/re-encode any Unicode characters greater than hex 007F, and leave the rest alone.\r\n\r\nHaving done that, a language that is Unicode aware will treat escaped-Unicode characters as an error anywhere other than inside a comment or a string--they must not be converted within comments, but they must be converted within strings--therefore conversion must not happen until *after* lexical analysis has turned the source into tokens (i.e. lexemes), allowing conversions to be done in a type-safe manner. \r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>&quot;The reason for this is that the Java compiler parses the Unicode character \\u000d as a new line&quot;.</p>\n<p>If true, then that's precisely where the error occurs.</p>\n<p>Java compilers should perhaps refuse to compile this source, because (as Java source code) it is ill-formed, thus either bad to begin with, tampered with en route, or mutated by something in the tool-chain that does not understand the transformation rules. They should <em>not</em> blindly transform it.</p>\n<p>If the editor in question is an ASCII-only tool, then said editor is doing the right thing--treating the Unicode escape sequence as a meaningless string of characters in (an ill-formed) comment.</p>\n<p>If the editor in question is a Unicode-aware tool, then it is also doing the right thing--leaving the Unicode escape sequence &quot;as is&quot;, and treating it as a meaningless string of characters in (an ill-formed) comment.</p>\n<p>Lossless, reversible conversion requires transformations that map 1-1 onto--thus the intersection of the two sets must be empty. Here the two sets in question can overlap even if no characters are modified by a correctly implemented escape-ify-ing transformation because escaped-Unicode in the range (000-07F) might already be present in the input stream.</p>\n<p>If the goal is lossless, reversible conversion between Unicode and ASCII, the requirement for transforming to/from ASCII is to escape-ify/re-encode any Unicode characters greater than hex 007F, and leave the rest alone.</p>\n<p>Having done that, a language that is Unicode aware will treat escaped-Unicode characters as an error anywhere other than inside a comment or a string--they must not be converted within comments, but they must be converted within strings--therefore conversion must not happen until <em>after</em> lexical analysis has turned the source into tokens (i.e. lexemes), allowing conversions to be done in a type-safe manner.</p>\n"}],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85140,"favorite_count":0,"down_vote_count":21,"up_vote_count":1430,"accepted_answer_id":30727799,"answer_count":8,"score":1409,"last_activity_date":1682541313,"creation_date":1433840536,"question_id":30727515,"body_markdown":"The following code produces the output &quot;Hello World!&quot; (no really, try it).\r\n\r\n    public static void main(String... args) {\r\n\r\n       // The comment below is not a typo.\r\n       // \\u000d System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nThe reason for this is that the Java compiler parses the Unicode character `\\u000d` as a new line and gets transformed into:\r\n\r\n    public static void main(String... args) {\r\n\r\n       // The comment below is not a typo.\r\n       //\r\n       System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nThus resulting into a comment being &quot;executed&quot;.\r\n\r\nSince this can be used to &quot;hide&quot; malicious code or whatever an evil programmer can conceive, **why is it allowed in comments**?\r\n\r\nWhy is this allowed by the Java specification?\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The following code produces the output \"Hello World!\" (no really, try it).</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   // \\u000d System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>The reason for this is that the Java compiler parses the Unicode character <code>\\u000d</code> as a new line and gets transformed into:</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   //\n   System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>Thus resulting into a comment being \"executed\".</p>\n\n<p>Since this can be used to \"hide\" malicious code or whatever an evil programmer can conceive, <strong>why is it allowed in comments</strong>?</p>\n\n<p>Why is this allowed by the Java specification?</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682504775,"creation_date":1682504775,"answer_id":76109714,"question_id":76109540,"body_markdown":"You can use an in-memory database if you want to avoid mocking the repository. This will give you more flexibility (for instance, the test will not care if you call `saveWallet` 3 times or `saveAllWallets(...)` once). On the other hand, the mocks will make the test run much faster, so it&#39;s basically a trade-off.\r\n\r\nIn your case, you have to decide if you want to use a `@DataJpaTest` and the in-memory database. This will mean you need to set up the DB connection as explained [in this article][1]. To test, you will then use @Autowire for the repositories instead of trying to mock them.\r\n\r\nAlternatively, you can use `@Mock` or `@MockBean` for the repositories and do not set up an in-memory DB (and no longer user `@DataJpaTest`).\r\n\r\nLastly, you should avoid mocking the class you want to test. So, if you want to test a WalletService that uses WaleltRepo, you can mock WalletRepo. But if you want to test WalletRepo that talks to the DB, you&#39;ll need to &quot;mock&quot; the DB by providing this in-memory solution\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-h2-database","title":"JUnit5 repository class test cases","body":"<p>You can use an in-memory database if you want to avoid mocking the repository. This will give you more flexibility (for instance, the test will not care if you call <code>saveWallet</code> 3 times or <code>saveAllWallets(...)</code> once). On the other hand, the mocks will make the test run much faster, so it's basically a trade-off.</p>\n<p>In your case, you have to decide if you want to use a <code>@DataJpaTest</code> and the in-memory database. This will mean you need to set up the DB connection as explained <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">in this article</a>. To test, you will then use @Autowire for the repositories instead of trying to mock them.</p>\n<p>Alternatively, you can use <code>@Mock</code> or <code>@MockBean</code> for the repositories and do not set up an in-memory DB (and no longer user <code>@DataJpaTest</code>).</p>\n<p>Lastly, you should avoid mocking the class you want to test. So, if you want to test a WalletService that uses WaleltRepo, you can mock WalletRepo. But if you want to test WalletRepo that talks to the DB, you'll need to &quot;mock&quot; the DB by providing this in-memory solution</p>\n"},{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682540591,"creation_date":1682538920,"answer_id":76114603,"question_id":76109540,"body_markdown":"&gt; So my question is when do we really need a database connection for\r\n&gt; test cases?\r\n\r\nThis depends on the type of test that you are writing, normally when you are testing something in your application that crosses a boundary to an external system/database, you write integration tests. In this case, by connecting to a database integration tests are more suitable since you are making sure that fetching/saving data is being done correctly.\r\n\r\nIn this case, you would actually need a `test` database which can be achieved in 2 ways:\r\n\r\n1. H2 in-memory database (you need to add the dependency, and configure it ...)\r\n2. Test Containers (you can spin up in docker container the same database technology you are using but for testing)\r\n\r\n&gt; how do we write JUnit 5 test cases without a database connection\r\n\r\nThen you would need to run Unit Tests, instead of Integration test, which is what you are doing here. In a unit test, you would `mock` your services, whereas, in an Integration Test, you will boot up your spring application and use the actual injected services. To make your tests work in this you would need to avoid loading your application context this could be done by simply removing `@DataJpaTest` and `AutoConfigureTestDatabase` because these annotations are basically telling your test that you are writing an integration test meaning you will actually run you spring boot application and load its context.\r\n\r\nIn general, it&#39;s a better practice to be writing an Integration Test, and remove the `mock` annotation on your repository to actually using an inject service\r\n\r\n\r\n\r\n","title":"JUnit5 repository class test cases","body":"<blockquote>\n<p>So my question is when do we really need a database connection for\ntest cases?</p>\n</blockquote>\n<p>This depends on the type of test that you are writing, normally when you are testing something in your application that crosses a boundary to an external system/database, you write integration tests. In this case, by connecting to a database integration tests are more suitable since you are making sure that fetching/saving data is being done correctly.</p>\n<p>In this case, you would actually need a <code>test</code> database which can be achieved in 2 ways:</p>\n<ol>\n<li>H2 in-memory database (you need to add the dependency, and configure it ...)</li>\n<li>Test Containers (you can spin up in docker container the same database technology you are using but for testing)</li>\n</ol>\n<blockquote>\n<p>how do we write JUnit 5 test cases without a database connection</p>\n</blockquote>\n<p>Then you would need to run Unit Tests, instead of Integration test, which is what you are doing here. In a unit test, you would <code>mock</code> your services, whereas, in an Integration Test, you will boot up your spring application and use the actual injected services. To make your tests work in this you would need to avoid loading your application context this could be done by simply removing <code>@DataJpaTest</code> and <code>AutoConfigureTestDatabase</code> because these annotations are basically telling your test that you are writing an integration test meaning you will actually run you spring boot application and load its context.</p>\n<p>In general, it's a better practice to be writing an Integration Test, and remove the <code>mock</code> annotation on your repository to actually using an inject service</p>\n"}],"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76109714,"answer_count":2,"score":0,"last_activity_date":1682540591,"creation_date":1682503664,"question_id":76109540,"body_markdown":"**This my JUni5 repository levele test cases**\r\n\r\n\r\n```\r\n@DataJpaTest\r\n@ExtendWith(MockitoExtension.class)\r\n@AutoConfigureTestDatabase(replace = Replace.NONE)\r\nclass WalletRepositoryTest {\r\n    @Mock private WalletRepository walletRepository;\r\n    @Mock private UserRepository userRepository;\r\n    private static final User USER = createUser();\r\n    private static final WalletDetail WALLET_DETAIL = createWalletDetail(USER);\r\n\r\n    private static User createUser() {\r\n        final var user = new User();\r\n        user.setUserId(1);\r\n        user.setUid(&quot;4dcd810b-b9b1-4006-89a2-b50e9ed5ee67&quot;);\r\n        user.setName(&quot;guest&quot;);\r\n        user.setMobileNo(&quot;1234567890&quot;);\r\n        user.setEmail(&quot;guest98787@guest.com&quot;);\r\n        user.setPassword(&quot;1234abc&quot;);\r\n        return user;\r\n    }\r\n\r\n    private static WalletDetail createWalletDetail(final User user) {\r\n        final var walletDetail = new WalletDetail();\r\n        walletDetail.setWalletId(1);\r\n        walletDetail.setUid(&quot;86bd3f49-f9bc-425c-b5a1-2f353e9061ff&quot;);\r\n        walletDetail.setUser(user);\r\n        walletDetail.setWalletAmount(20.0);\r\n        return walletDetail;\r\n    }\r\n    @Test\r\n    void findByUser() {\r\n        when(userRepository.save(any(User.class))).thenReturn(USER);\r\n        when(walletRepository.save(any(WalletDetail.class))).thenReturn(WALLET_DETAIL);\r\n        when(walletRepository.findByUser(anyInt())).thenReturn(WALLET_DETAIL);\r\n\r\n        userRepository.save(USER);\r\n        walletRepository.save(WALLET_DETAIL);\r\n\r\n        final var result = walletRepository.findByUser(1);\r\n\r\n        assertNotNull(result);\r\n        assertEquals(1, result.getWalletId());\r\n    }\r\n}\r\n```\r\n\r\n\r\nin my project, I am using Gradle\r\nAnd using PostgreSQL database\r\n\r\nwhen in my system closes the database connection my test cases not working when I create a build.\r\n\r\n**show this error**\r\n\r\n```\r\nWalletRepositoryTest &gt; findByUser() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1762\r\n            Caused by: org.flywaydb.core.internal.exception.FlywaySqlException at JdbcUtils.java:60\r\n                Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:342\r\n                    Caused by: java.net.ConnectException at Net.java:-2\r\n```\r\n\r\n\r\n\r\n\r\n**So my question is when do we really need a database connection for test cases?**\r\n\r\nand how do we write JUnit 5 test cases without a database connection","title":"JUnit5 repository class test cases","body":"<p><strong>This my JUni5 repository levele test cases</strong></p>\n<pre><code>@DataJpaTest\n@ExtendWith(MockitoExtension.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\nclass WalletRepositoryTest {\n    @Mock private WalletRepository walletRepository;\n    @Mock private UserRepository userRepository;\n    private static final User USER = createUser();\n    private static final WalletDetail WALLET_DETAIL = createWalletDetail(USER);\n\n    private static User createUser() {\n        final var user = new User();\n        user.setUserId(1);\n        user.setUid(&quot;4dcd810b-b9b1-4006-89a2-b50e9ed5ee67&quot;);\n        user.setName(&quot;guest&quot;);\n        user.setMobileNo(&quot;1234567890&quot;);\n        user.setEmail(&quot;guest98787@guest.com&quot;);\n        user.setPassword(&quot;1234abc&quot;);\n        return user;\n    }\n\n    private static WalletDetail createWalletDetail(final User user) {\n        final var walletDetail = new WalletDetail();\n        walletDetail.setWalletId(1);\n        walletDetail.setUid(&quot;86bd3f49-f9bc-425c-b5a1-2f353e9061ff&quot;);\n        walletDetail.setUser(user);\n        walletDetail.setWalletAmount(20.0);\n        return walletDetail;\n    }\n    @Test\n    void findByUser() {\n        when(userRepository.save(any(User.class))).thenReturn(USER);\n        when(walletRepository.save(any(WalletDetail.class))).thenReturn(WALLET_DETAIL);\n        when(walletRepository.findByUser(anyInt())).thenReturn(WALLET_DETAIL);\n\n        userRepository.save(USER);\n        walletRepository.save(WALLET_DETAIL);\n\n        final var result = walletRepository.findByUser(1);\n\n        assertNotNull(result);\n        assertEquals(1, result.getWalletId());\n    }\n}\n</code></pre>\n<p>in my project, I am using Gradle\nAnd using PostgreSQL database</p>\n<p>when in my system closes the database connection my test cases not working when I create a build.</p>\n<p><strong>show this error</strong></p>\n<pre><code>WalletRepositoryTest &gt; findByUser() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1762\n            Caused by: org.flywaydb.core.internal.exception.FlywaySqlException at JdbcUtils.java:60\n                Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:342\n                    Caused by: java.net.ConnectException at Net.java:-2\n</code></pre>\n<p><strong>So my question is when do we really need a database connection for test cases?</strong></p>\n<p>and how do we write JUnit 5 test cases without a database connection</p>\n"},{"tags":["java","spring","properties-file"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682532005,"post_id":76113346,"comment_id":134232665,"body_markdown":"Have you tried anything?","body":"Have you tried anything?"},{"owner":{"account_id":13838717,"reputation":25,"user_id":9989621,"display_name":"nicstratis"},"score":0,"creation_date":1682539962,"post_id":76113346,"comment_id":134234068,"body_markdown":"I manage to combine 2 values to create a new one but didn&#39;t find a way to use only a part of existing value to create a new one.","body":"I manage to combine 2 values to create a new one but didn&#39;t find a way to use only a part of existing value to create a new one."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682540415,"creation_date":1682540415,"answer_id":76114798,"question_id":76113346,"body_markdown":"You seem to need to use [Spring Expression Language][1] (SpEL).\r\n\r\nThe expression could be something like:\r\n```\r\n&quot;#{&#39;${prop1}&#39;.substring(1,3)}&quot;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"Java properties file. Using part of a value to create another value (key-value)","body":"<p>You seem to need to use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring Expression Language</a> (SpEL).</p>\n<p>The expression could be something like:</p>\n<pre><code>&quot;#{'${prop1}'.substring(1,3)}&quot;\n</code></pre>\n"}],"owner":{"account_id":13838717,"reputation":25,"user_id":9989621,"display_name":"nicstratis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1682678553,"accepted_answer_id":76114798,"answer_count":1,"score":-2,"last_activity_date":1682540415,"creation_date":1682528465,"question_id":76113346,"body_markdown":"I know that by using the ${} we can use the value of another key.\r\n\r\nwhat if we want to use part of that value? for example, ignore the first 10 chars and use this value. \r\n\r\nor using regular expressions for more complex stuff.\r\n\r\ncan this be done using only properties.file?\r\n\r\ntried to find a kind of substr for this but I was able only to find ${}","title":"Java properties file. Using part of a value to create another value (key-value)","body":"<p>I know that by using the ${} we can use the value of another key.</p>\n<p>what if we want to use part of that value? for example, ignore the first 10 chars and use this value.</p>\n<p>or using regular expressions for more complex stuff.</p>\n<p>can this be done using only properties.file?</p>\n<p>tried to find a kind of substr for this but I was able only to find ${}</p>\n"},{"tags":["java","wildfly","log4j2","jboss-logging"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682509267,"post_id":76109417,"comment_id":134226464,"body_markdown":"Does this answer your question? [Log message as json format in wildfly logs](https://stackoverflow.com/questions/59469499/log-message-as-json-format-in-wildfly-logs)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59469499/log-message-as-json-format-in-wildfly-logs\">Log message as json format in wildfly logs</a>"},{"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"score":0,"creation_date":1682514682,"post_id":76109417,"comment_id":134227948,"body_markdown":"Thank you, but no it doesn&#39;t answer my question. In your referenced link the problem is about &quot;how to log in json format with wildfly&quot;. My current setup (see last sub-title of my question) already does that much, but when it appends also my java-application-json-logs, it escapes my java-application-json-log turning those logs into non-json.","body":"Thank you, but no it doesn&#39;t answer my question. In your referenced link the problem is about &quot;how to log in json format with wildfly&quot;. My current setup (see last sub-title of my question) already does that much, but when it appends also my java-application-json-logs, it escapes my java-application-json-log turning those logs into non-json."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1682517259,"post_id":76109417,"comment_id":134228653,"body_markdown":"Do you need to use a log4j configuration file?","body":"Do you need to use a log4j configuration file?"},{"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"score":0,"creation_date":1682518115,"post_id":76109417,"comment_id":134228933,"body_markdown":"Hi James, yes on java application side I have to use log4j2, I cannot swap it with another logging lib.","body":"Hi James, yes on java application side I have to use log4j2, I cannot swap it with another logging lib."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682539465,"creation_date":1682518171,"answer_id":76111775,"question_id":76109417,"body_markdown":"You&#39;re using both the logging configuration in WildFly and including a logging configuration in your deployment with a handler which is writing to `System.out`. WildFly wraps `System.out` and `System.err` in a logger. When another log manager writes to one of the standard streams, then it&#39;s processed through the log manager.\r\n\r\nWith JSON logging you&#39;ve got three options. \r\n\r\n1. You can accept the JSON output that WildFly outputs and remove your logging configuration from your deployment. Note that this will be the most consistent output and include logs from WildFly.\r\n2. You can set the [`direct`][1] configuration parameter to `true`. Do note the remarks there of how messages could still be interwined.\r\n3. Write your JSON output to a file instead of the console.\r\n\r\nDo note with the second option you may end up with two different JSON formats.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender","title":"java - jboss logmanager breaks json format of my application json-logs from log4j2 by escaping quotes","body":"<p>You're using both the logging configuration in WildFly and including a logging configuration in your deployment with a handler which is writing to <code>System.out</code>. WildFly wraps <code>System.out</code> and <code>System.err</code> in a logger. When another log manager writes to one of the standard streams, then it's processed through the log manager.</p>\n<p>With JSON logging you've got three options.</p>\n<ol>\n<li>You can accept the JSON output that WildFly outputs and remove your logging configuration from your deployment. Note that this will be the most consistent output and include logs from WildFly.</li>\n<li>You can set the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender\" rel=\"nofollow noreferrer\"><code>direct</code></a> configuration parameter to <code>true</code>. Do note the remarks there of how messages could still be interwined.</li>\n<li>Write your JSON output to a file instead of the console.</li>\n</ol>\n<p>Do note with the second option you may end up with two different JSON formats.</p>\n"}],"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76111775,"answer_count":1,"score":2,"last_activity_date":1682539465,"creation_date":1682502929,"question_id":76109417,"body_markdown":"## Context is:\r\nI have switched from logging to file as text towards logging to stdout as json, to send the log messages as parsable json-logs to the elastic stack with kibana.\r\n\r\nThe wildfly server (version 22.0.1.Final or 26.1.3.Final) uses the jboss logger which I also switched from Textbased logging to structured parsable json logs writing them also to stdout.\r\n\r\nThe jboss logger takes the logs from our java application (with log4j2) and wraps them into it&#39;s own log message enriching it with more context.\r\n\r\n## Problem is:\r\nthe application json-logs are getting escaped by the jboss logger before appending it, therefore breaking the json format and making it unparsable for the rest of our workflow.\r\n\r\n\r\nThis is the result with the setting jboss-logger in json format &amp; log4j2 in json format - see the key &#39;message&#39; where quotation marks are escaped like `\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;` instead of `&quot;log.level&quot;: &quot;INFO&quot;`\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-26T09:01:50.489+02:00&quot;,\r\n    &quot;sequence&quot;: 295,\r\n    &quot;loggerClassName&quot;: &quot;org.jboss.logmanager.Logger&quot;,\r\n    &quot;loggerName&quot;: &quot;stdout&quot;,\r\n    &quot;level&quot;: &quot;INFO&quot;,\r\n    &quot;message&quot;: &quot;{\\&quot;@timestamp\\&quot;:\\&quot;2023-04-25T12:01:50.488Z\\&quot;,\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;,\\&quot;message\\&quot;:\\&quot;creating a new account for userid 146\\&quot;, \\&quot;ecs.version\\&quot;: \\&quot;1.2.0\\&quot;,\\&quot;service.name\\&quot;:\\&quot;my_project_x\\&quot;,\\&quot;service.version\\&quot;:\\&quot;5.67\\&quot;,\\&quot;event.dataset\\&quot;:\\&quot;my_project_x.log\\&quot;,\\&quot;process.thread.name\\&quot;:\\&quot;default task-2\\&quot;,\\&quot;log.logger\\&quot;:\\&quot;org.my_project_x.logic.AccountImpl\\&quot;,\\&quot;hostname\\&quot;:\\&quot;Lenovo\\&quot;,\\&quot;environment\\&quot;:\\&quot;develop\\&quot;,\\&quot;user.id\\&quot;:\\&quot;146\\&quot;,\\&quot;log\\&quot;:{\\&quot;origin\\&quot;:{\\&quot;file\\&quot;:{\\&quot;name\\&quot;:\\&quot;AccountImpl.java\\&quot;,\\&quot;line\\&quot;:720},\\&quot;function\\&quot;:\\&quot;addAccount\\&quot;}}}&quot;,\r\n    &quot;threadName&quot;: &quot;default task-2&quot;,\r\n    &quot;threadId&quot;: 183,\r\n    &quot;mdc&quot;: {},\r\n    &quot;ndc&quot;: &quot;&quot;,\r\n    &quot;hostName&quot;: &quot;lenovo-p14s&quot;,\r\n    &quot;processName&quot;: &quot;jboss-modules.jar&quot;,\r\n    &quot;processId&quot;: 64672\r\n}\r\n```\r\n\r\n\r\nthen I tried turning the jboss logger back to Text format while leaving the application logs as json in log4j2.\r\nLike this the application logs stay correctly in the json format:\r\n```\r\n2023-04-26 10:49:59,407 INFO  [stdout] (default task-6) {&quot;@timestamp&quot;:&quot;2023-04-26T10:49:59,407Z&quot;,&quot;log.level&quot;: &quot;INFO&quot;,&quot;message&quot;:&quot;creating a new account for userid 166.&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;my_project_x&quot;,&quot;service.version&quot;:&quot;5.67&quot;,&quot;event.dataset&quot;:&quot;my_project_x.log&quot;,&quot;process.thread.name&quot;:&quot;default task-6&quot;,&quot;log.logger&quot;:&quot;org.my_project_x.logic.AccountImpl&quot;,&quot;hostname&quot;:&quot;Lenovo&quot;,&quot;environment&quot;:&quot;develop&quot;,&quot;user.id&quot;:&quot;166&quot;,&quot;log&quot;:{&quot;origin&quot;:{&quot;file&quot;:{&quot;name&quot;:&quot;AccountImpl.java&quot;,&quot;line&quot;:720},&quot;function&quot;:&quot;addAccount&quot;}}}\r\n```\r\nbut I would like to have the jboss logs also in the json format, while leaving my application logs in valid json format.\r\n\r\n# Question is:\r\nI could not find any way to disable the escaping of the application logs when turning on the json format for the jboss logger. Is there any way to have our application logs in correct json format, while also having the jboss logs in json, resulting in a valid json (application log4j2) in json (jboss log).\r\n\r\nAny help will be appreciated.\r\n\r\nRegards,\r\n\r\n### ps: my setup if needed\r\nfor wildfly / jboss logger\r\n```\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;\r\n    &lt;console-handler name=&quot;CONSOLE&quot;&gt;\r\n        &lt;level name=&quot;INFO&quot;/&gt;\r\n        &lt;formatter&gt;\r\n            &lt;named-formatter name=&quot;JSON&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n    &lt;/console-handler&gt;\r\n    &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\r\n        &lt;formatter&gt;\r\n            &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n        &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\r\n        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n        &lt;append value=&quot;true&quot;/&gt;\r\n    &lt;/periodic-rotating-file-handler&gt;\r\n    &lt;logger category=&quot;com.arjuna&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;io.jaegertracing.Configuration&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\r\n        &lt;level name=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;sun.rmi&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root-logger&gt;\r\n        &lt;level name=&quot;INFO&quot;/&gt;\r\n        &lt;handlers&gt;\r\n            &lt;handler name=&quot;CONSOLE&quot;/&gt;\r\n            &lt;handler name=&quot;FILE&quot;/&gt;\r\n        &lt;/handlers&gt;\r\n    &lt;/root-logger&gt;\r\n    &lt;formatter name=&quot;PATTERN&quot;&gt;\r\n        &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n    &lt;/formatter&gt;\r\n    &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n        &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n    &lt;/formatter&gt;\r\n    &lt;formatter name=&quot;JSON&quot;&gt;\r\n        &lt;json-formatter/&gt;\r\n    &lt;/formatter&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nfor log4j2 (version 2.19.0) in the java application:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;org.my_project_x.logging&quot; status=&quot;WARN&quot; strict=&quot;true&quot; verbose=&quot;true&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;myConsoleLog&quot;&gt;\r\n            &lt;IgnoreExceptions&gt;false&lt;/IgnoreExceptions&gt;\r\n            &lt;EcsLayout serviceName=&quot;my_project_x&quot; serviceVersion=&quot;${serverVersion}&quot; includeOrigin=&quot;true&quot; eventDataset=&quot;my_project_x.log&quot;&gt;\r\n                &lt;KeyValuePair key=&quot;hostname&quot; value=&quot;%hostname&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;environment&quot; value=&quot;develop&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;user.id&quot; value=&quot;%userId&quot;/&gt;\r\n            &lt;/EcsLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.my_project_x&quot;&gt;\r\n            &lt;Level&gt;INFO&lt;/Level&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Root&gt;\r\n            &lt;AppenderRef ref=&quot;myConsoleLog&quot;/&gt;\r\n            &lt;Level&gt;WARN&lt;/Level&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"java - jboss logmanager breaks json format of my application json-logs from log4j2 by escaping quotes","body":"<h2>Context is:</h2>\n<p>I have switched from logging to file as text towards logging to stdout as json, to send the log messages as parsable json-logs to the elastic stack with kibana.</p>\n<p>The wildfly server (version 22.0.1.Final or 26.1.3.Final) uses the jboss logger which I also switched from Textbased logging to structured parsable json logs writing them also to stdout.</p>\n<p>The jboss logger takes the logs from our java application (with log4j2) and wraps them into it's own log message enriching it with more context.</p>\n<h2>Problem is:</h2>\n<p>the application json-logs are getting escaped by the jboss logger before appending it, therefore breaking the json format and making it unparsable for the rest of our workflow.</p>\n<p>This is the result with the setting jboss-logger in json format &amp; log4j2 in json format - see the key 'message' where quotation marks are escaped like <code>\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;</code> instead of <code>&quot;log.level&quot;: &quot;INFO&quot;</code></p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-26T09:01:50.489+02:00&quot;,\n    &quot;sequence&quot;: 295,\n    &quot;loggerClassName&quot;: &quot;org.jboss.logmanager.Logger&quot;,\n    &quot;loggerName&quot;: &quot;stdout&quot;,\n    &quot;level&quot;: &quot;INFO&quot;,\n    &quot;message&quot;: &quot;{\\&quot;@timestamp\\&quot;:\\&quot;2023-04-25T12:01:50.488Z\\&quot;,\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;,\\&quot;message\\&quot;:\\&quot;creating a new account for userid 146\\&quot;, \\&quot;ecs.version\\&quot;: \\&quot;1.2.0\\&quot;,\\&quot;service.name\\&quot;:\\&quot;my_project_x\\&quot;,\\&quot;service.version\\&quot;:\\&quot;5.67\\&quot;,\\&quot;event.dataset\\&quot;:\\&quot;my_project_x.log\\&quot;,\\&quot;process.thread.name\\&quot;:\\&quot;default task-2\\&quot;,\\&quot;log.logger\\&quot;:\\&quot;org.my_project_x.logic.AccountImpl\\&quot;,\\&quot;hostname\\&quot;:\\&quot;Lenovo\\&quot;,\\&quot;environment\\&quot;:\\&quot;develop\\&quot;,\\&quot;user.id\\&quot;:\\&quot;146\\&quot;,\\&quot;log\\&quot;:{\\&quot;origin\\&quot;:{\\&quot;file\\&quot;:{\\&quot;name\\&quot;:\\&quot;AccountImpl.java\\&quot;,\\&quot;line\\&quot;:720},\\&quot;function\\&quot;:\\&quot;addAccount\\&quot;}}}&quot;,\n    &quot;threadName&quot;: &quot;default task-2&quot;,\n    &quot;threadId&quot;: 183,\n    &quot;mdc&quot;: {},\n    &quot;ndc&quot;: &quot;&quot;,\n    &quot;hostName&quot;: &quot;lenovo-p14s&quot;,\n    &quot;processName&quot;: &quot;jboss-modules.jar&quot;,\n    &quot;processId&quot;: 64672\n}\n</code></pre>\n<p>then I tried turning the jboss logger back to Text format while leaving the application logs as json in log4j2.\nLike this the application logs stay correctly in the json format:</p>\n<pre><code>2023-04-26 10:49:59,407 INFO  [stdout] (default task-6) {&quot;@timestamp&quot;:&quot;2023-04-26T10:49:59,407Z&quot;,&quot;log.level&quot;: &quot;INFO&quot;,&quot;message&quot;:&quot;creating a new account for userid 166.&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;my_project_x&quot;,&quot;service.version&quot;:&quot;5.67&quot;,&quot;event.dataset&quot;:&quot;my_project_x.log&quot;,&quot;process.thread.name&quot;:&quot;default task-6&quot;,&quot;log.logger&quot;:&quot;org.my_project_x.logic.AccountImpl&quot;,&quot;hostname&quot;:&quot;Lenovo&quot;,&quot;environment&quot;:&quot;develop&quot;,&quot;user.id&quot;:&quot;166&quot;,&quot;log&quot;:{&quot;origin&quot;:{&quot;file&quot;:{&quot;name&quot;:&quot;AccountImpl.java&quot;,&quot;line&quot;:720},&quot;function&quot;:&quot;addAccount&quot;}}}\n</code></pre>\n<p>but I would like to have the jboss logs also in the json format, while leaving my application logs in valid json format.</p>\n<h1>Question is:</h1>\n<p>I could not find any way to disable the escaping of the application logs when turning on the json format for the jboss logger. Is there any way to have our application logs in correct json format, while also having the jboss logs in json, resulting in a valid json (application log4j2) in json (jboss log).</p>\n<p>Any help will be appreciated.</p>\n<p>Regards,</p>\n<h3>ps: my setup if needed</h3>\n<p>for wildfly / jboss logger</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;\n    &lt;console-handler name=&quot;CONSOLE&quot;&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;JSON&quot;/&gt;\n        &lt;/formatter&gt;\n    &lt;/console-handler&gt;\n    &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\n        &lt;/formatter&gt;\n        &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\n        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\n        &lt;append value=&quot;true&quot;/&gt;\n    &lt;/periodic-rotating-file-handler&gt;\n    &lt;logger category=&quot;com.arjuna&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;io.jaegertracing.Configuration&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\n        &lt;level name=&quot;DEBUG&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;sun.rmi&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root-logger&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;handlers&gt;\n            &lt;handler name=&quot;CONSOLE&quot;/&gt;\n            &lt;handler name=&quot;FILE&quot;/&gt;\n        &lt;/handlers&gt;\n    &lt;/root-logger&gt;\n    &lt;formatter name=&quot;PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n    &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n    &lt;formatter name=&quot;JSON&quot;&gt;\n        &lt;json-formatter/&gt;\n    &lt;/formatter&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>for log4j2 (version 2.19.0) in the java application:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;org.my_project_x.logging&quot; status=&quot;WARN&quot; strict=&quot;true&quot; verbose=&quot;true&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;myConsoleLog&quot;&gt;\n            &lt;IgnoreExceptions&gt;false&lt;/IgnoreExceptions&gt;\n            &lt;EcsLayout serviceName=&quot;my_project_x&quot; serviceVersion=&quot;${serverVersion}&quot; includeOrigin=&quot;true&quot; eventDataset=&quot;my_project_x.log&quot;&gt;\n                &lt;KeyValuePair key=&quot;hostname&quot; value=&quot;%hostname&quot;/&gt;\n                &lt;KeyValuePair key=&quot;environment&quot; value=&quot;develop&quot;/&gt;\n                &lt;KeyValuePair key=&quot;user.id&quot; value=&quot;%userId&quot;/&gt;\n            &lt;/EcsLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.my_project_x&quot;&gt;\n            &lt;Level&gt;INFO&lt;/Level&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Root&gt;\n            &lt;AppenderRef ref=&quot;myConsoleLog&quot;/&gt;\n            &lt;Level&gt;WARN&lt;/Level&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","jvm","stack-machine"],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682279345,"creation_date":1682279345,"answer_id":76086934,"question_id":76086392,"body_markdown":"To evaluate `a = b * c`, for example, it&#39;s `push b; push c; multiply; pop a`.  \r\n\r\nAfter the multiply, b and c are not &#39;in&#39; the stack. The values were only temporarily there.\r\n\r\nI think the appropriate way to look at the operand stack is to consider it as a set of fast registers. Like general-register machines, arithmetic is done in the fast registers; the stack has the benefit that the &#39;register addresses&#39; are implicit, saving some instruction bits.\r\n\r\nIf you want b and c to be &#39;always&#39; in the stack, which means they&#39;re at arbitrary locations relative to the stack top, then you&#39;ve just turned your stack into a non-stack machine since you either need 3-address instructions (like &#39;multiply a,b,c&#39;) or you need an accumulator (so &#39;load a; multiply b; store c&#39;), where in each case a,b,c are the addresses of some locations in the stack - possibly encoded as offsets from the stack top.  \r\n\r\nWhat makes that a &#39;non-stack&#39; architecture is that arithmetic is no longer being done on the topmost cells of the stack, implicitly identified, but instead is between arbitrary locations explicitly identified.\r\n\r\n","title":"Why does the JVM have a separate array of local variables?","body":"<p>To evaluate <code>a = b * c</code>, for example, it's <code>push b; push c; multiply; pop a</code>.</p>\n<p>After the multiply, b and c are not 'in' the stack. The values were only temporarily there.</p>\n<p>I think the appropriate way to look at the operand stack is to consider it as a set of fast registers. Like general-register machines, arithmetic is done in the fast registers; the stack has the benefit that the 'register addresses' are implicit, saving some instruction bits.</p>\n<p>If you want b and c to be 'always' in the stack, which means they're at arbitrary locations relative to the stack top, then you've just turned your stack into a non-stack machine since you either need 3-address instructions (like 'multiply a,b,c') or you need an accumulator (so 'load a; multiply b; store c'), where in each case a,b,c are the addresses of some locations in the stack - possibly encoded as offsets from the stack top.</p>\n<p>What makes that a 'non-stack' architecture is that arithmetic is no longer being done on the topmost cells of the stack, implicitly identified, but instead is between arbitrary locations explicitly identified.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682539299,"creation_date":1682539299,"answer_id":76114652,"question_id":76086392,"body_markdown":"&gt; Is this design rationale recorded somewhere?\r\n\r\nI doubt that you will find a satisfying answer to this question.\r\n\r\nWhen people began working on what is now known as Java around 30 years ago this wasn&#39;t a big commitee and some elaborate process . It was a small group of people working tightly together and explicitly formed to _work autonomously without the bureaucracy that was stalling other Sun projects&quot;_. The process was therefore probably more: someone proposed something to the group, there was some discussion and then it was decided without much writing down of rationales.\r\n\r\nSource for the &quot;small group&quot;: https://en.wikipedia.org/wiki/Java_(software_platform)#History\r\n\r\n----\r\nSome thoughts on the other points you&#39;ve made:\r\n\r\n&gt; I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do)\r\n\r\nWithout local variables you would have to replace `iload`, `aload` and some more variants with `ipick`, `apick` and similar variants that pick a value from some offset from the top of the operand stack and push it on top of the operand stack.\r\n\r\nSimilarly you would need to replace `istore`, `astore` and some more variants with `ireplace`, `areplace` and similar variants that pop a value from the operand stack and replace the value at some offset of the top of the operand stack with the popped value.\r\n\r\nThe main difference between the existing instructions and the proposed instructions would be that the existing instructions always use the same offset for a specific local variable while the proposed instructions would have to use different offsets for a specific local variable depending on how much values have been pushed to the operand stack.\r\n\r\n&gt; but how does one know whether that tradeoff would be worth it? \r\n\r\nIMHO not using local variables would make Java byte code harder to work with (for example when doing [Verification of class Files](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.10)) without reaping any benefits.\r\n\r\nNote that at runtime there are no separate memory spaces for local variables and the operand stack. Conceptually the JVM uses one [Frame](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6) per method invocation and this frame contains the local variables and the operand stack.","title":"Why does the JVM have a separate array of local variables?","body":"<blockquote>\n<p>Is this design rationale recorded somewhere?</p>\n</blockquote>\n<p>I doubt that you will find a satisfying answer to this question.</p>\n<p>When people began working on what is now known as Java around 30 years ago this wasn't a big commitee and some elaborate process . It was a small group of people working tightly together and explicitly formed to <em>work autonomously without the bureaucracy that was stalling other Sun projects&quot;</em>. The process was therefore probably more: someone proposed something to the group, there was some discussion and then it was decided without much writing down of rationales.</p>\n<p>Source for the &quot;small group&quot;: <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)#History\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_(software_platform)#History</a></p>\n<hr />\n<p>Some thoughts on the other points you've made:</p>\n<blockquote>\n<p>I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do)</p>\n</blockquote>\n<p>Without local variables you would have to replace <code>iload</code>, <code>aload</code> and some more variants with <code>ipick</code>, <code>apick</code> and similar variants that pick a value from some offset from the top of the operand stack and push it on top of the operand stack.</p>\n<p>Similarly you would need to replace <code>istore</code>, <code>astore</code> and some more variants with <code>ireplace</code>, <code>areplace</code> and similar variants that pop a value from the operand stack and replace the value at some offset of the top of the operand stack with the popped value.</p>\n<p>The main difference between the existing instructions and the proposed instructions would be that the existing instructions always use the same offset for a specific local variable while the proposed instructions would have to use different offsets for a specific local variable depending on how much values have been pushed to the operand stack.</p>\n<blockquote>\n<p>but how does one know whether that tradeoff would be worth it?</p>\n</blockquote>\n<p>IMHO not using local variables would make Java byte code harder to work with (for example when doing <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">Verification of class Files</a>) without reaping any benefits.</p>\n<p>Note that at runtime there are no separate memory spaces for local variables and the operand stack. Conceptually the JVM uses one <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6\" rel=\"nofollow noreferrer\">Frame</a> per method invocation and this frame contains the local variables and the operand stack.</p>\n"}],"owner":{"account_id":1577388,"reputation":14849,"user_id":1463507,"accept_rate":75,"display_name":"kqr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76114652,"answer_count":2,"score":0,"last_activity_date":1682539299,"creation_date":1682272299,"question_id":76086392,"body_markdown":"This question is sort of the opposite of this existing one: https://stackoverflow.com/q/61302770/1463507\r\n\r\nThat question asks why the JVM does not operate directly on the local variables. I&#39;m wondering, since we have the stack anyway, why not operate only on the stack and forego the local variables entirely? \r\n\r\nI guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do), but how does one know whether that tradeoff would be worth it? Is this design rationale recorded somewhere?\r\n\r\nThe specification is light on rationale (https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1), but I suspect that&#39;s because the specification is the wrong document for it, and maybe there&#39;s an annotated specification somewhere like with Ada?","title":"Why does the JVM have a separate array of local variables?","body":"<p>This question is sort of the opposite of this existing one: <a href=\"https://stackoverflow.com/q/61302770/1463507\">What is the role of operand stack in JVM?</a></p>\n<p>That question asks why the JVM does not operate directly on the local variables. I'm wondering, since we have the stack anyway, why not operate only on the stack and forego the local variables entirely?</p>\n<p>I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do), but how does one know whether that tradeoff would be worth it? Is this design rationale recorded somewhere?</p>\n<p>The specification is light on rationale (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1</a>), but I suspect that's because the specification is the wrong document for it, and maybe there's an annotated specification somewhere like with Ada?</p>\n"},{"tags":["java","tomcat","netbeans"],"comments":[{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682521509,"post_id":76112305,"comment_id":134229959,"body_markdown":"I don&#39;t think Tomcat 8 is compatible with Java 17. Try using Tomcat 9 (if you&#39;re using Java EE or Jakarta EE 8 or lower), or Tomcat 10 (if you&#39;re using Jakarta EE 9 or higher, including Spring 6 or Spring Boot 3).","body":"I don&#39;t think Tomcat 8 is compatible with Java 17. Try using Tomcat 9 (if you&#39;re using Java EE or Jakarta EE 8 or lower), or Tomcat 10 (if you&#39;re using Jakarta EE 9 or higher, including Spring 6 or Spring Boot 3)."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682522103,"post_id":76112305,"comment_id":134230129,"body_markdown":"i&#39;m using jdk 17 actually (just edited the post). Which version do you think should I have? (sorry, all those terms EE, jarkarta are unknown to me)","body":"i&#39;m using jdk 17 actually (just edited the post). Which version do you think should I have? (sorry, all those terms EE, jarkarta are unknown to me)"},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682522390,"post_id":76112305,"comment_id":134230219,"body_markdown":"&#39;jdk 17&#39; is Java 17...","body":"&#39;jdk 17&#39; is Java 17..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682523442,"post_id":76112305,"comment_id":134230540,"body_markdown":"There is a [useful grid on Tomcat&#39;s web site](https://tomcat.apache.org/whichversion.html) showing version compatibility between Tomcat and Java. Note that it shows your version of Tomcat (&quot;_8.0.x_&quot;) has been _&quot;superseded&quot;_. So pick whatever newer version of Tomcat is compatible with your requirements. Any of them should work fine with Java 17. Update your question if you still have problems when using a valid Tomcat version.","body":"There is a <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">useful grid on Tomcat&#39;s web site</a> showing version compatibility between Tomcat and Java. Note that it shows your version of Tomcat (&quot;<i>8.0.x</i>&quot;) has been <i>&quot;superseded&quot;</i>. So pick whatever newer version of Tomcat is compatible with your requirements. Any of them should work fine with Java 17. Update your question if you still have problems when using a valid Tomcat version."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682523817,"post_id":76112305,"comment_id":134230650,"body_markdown":"Just updated to tomcat10. Same error skomisa. What do you think it can be?","body":"Just updated to tomcat10. Same error skomisa. What do you think it can be?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682524891,"post_id":76112305,"comment_id":134230977,"body_markdown":"What you are showing us as server log data does not look like the server log to me. The contents suggest you were looking in one of the `*access_log*.txt` files. Can you double-check? Make sure to look in the latest `catalina*.log` and `localhost*.log` files for the most relevant root cause error message(s) related to the failed deployment.","body":"What you are showing us as server log data does not look like the server log to me. The contents suggest you were looking in one of the <code>*access_log*.txt</code> files. Can you double-check? Make sure to look in the latest <code>catalina*.log</code> and <code>localhost*.log</code> files for the most relevant root cause error message(s) related to the failed deployment."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682528561,"post_id":76112305,"comment_id":134231949,"body_markdown":"I agree with Andrew that the messages you are showing seem to be coming from **access.log**. But in some of those messages the response is HTTP 401 (Unauthorized). There can be multiple reasons for that, so first update your question to completely remove the irrelevant Tomcat 8 data, and instead show the error messages you get when using Tomcat 10, particularly in the server log (_&quot;catalina.log&quot;_). As a separate matter, also verify that you can still access the Tomcat server despite your problems, by going to `http://localhost:8080`. State in your question whether that works or not.","body":"I agree with Andrew that the messages you are showing seem to be coming from <b>access.log</b>. But in some of those messages the response is HTTP 401 (Unauthorized). There can be multiple reasons for that, so first update your question to completely remove the irrelevant Tomcat 8 data, and instead show the error messages you get when using Tomcat 10, particularly in the server log (<i>&quot;catalina.log&quot;</i>). As a separate matter, also verify that you can still access the Tomcat server despite your problems, by going to <code>http:&#47;&#47;localhost:8080</code>. State in your question whether that works or not."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682529235,"post_id":76112305,"comment_id":134232089,"body_markdown":"Andrew sorry to bother you with those really simple and dumb (possibly)  questions but I can&#39;t find any other log files besides the &quot;/var/log/tomcat10/localhost.2023-04-26.log&quot;, catalina.err and catalina.out which in both cases (catalina.out and .err) are not used.","body":"Andrew sorry to bother you with those really simple and dumb (possibly)  questions but I can&#39;t find any other log files besides the &quot;/var/log/tomcat10/localhost.2023-04-26.log&quot;, catalina.err and catalina.out which in both cases (catalina.out and .err) are not used."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682530300,"post_id":76112305,"comment_id":134232306,"body_markdown":"Where is your Tomcat installed? Look in there (if you didn&#39;t already). Side note: to ping someone who has commented in your question, use the `@` symbol followed by their user name (no spaces):  @andrewjames","body":"Where is your Tomcat installed? Look in there (if you didn&#39;t already). Side note: to ping someone who has commented in your question, use the <code>@</code> symbol followed by their user name (no spaces):  @andrewjames"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682532594,"post_id":76112305,"comment_id":134232770,"body_markdown":"It looks like I mislead you about the log files. Because you are using Arch L:inux (which I have never used), [this is how logging works:](https://wiki.archlinux.org/title/tomcat#:~:text=Tomcat%20when%20used%20with%20official,%2Flog%2Ftomcatn%2Fcatalina.) _&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log. This means that files /var/log/tomcatn/catalina.err and /var/log/tomcatn/catalina.out are not used.&quot;_. My apologies.","body":"It looks like I mislead you about the log files. Because you are using Arch L:inux (which I have never used), <a href=\"https://wiki.archlinux.org/title/tomcat#:~:text=Tomcat%20when%20used%20with%20official,%2Flog%2Ftomcatn%2Fcatalina.\" rel=\"nofollow noreferrer\">this is how logging works:</a> <i>&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log. This means that files /var/log/tomcatn/catalina.err and /var/log/tomcatn/catalina.out are not used.&quot;</i>. My apologies."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682532864,"post_id":76112305,"comment_id":134232816,"body_markdown":"Just a guess, but is your problem possibly arising because you have not updated the &quot;[CHANGE_ME]&quot; passwords in file **tomcat-users.xml**, as described in section [2 Initial configuration](https://wiki.archlinux.org/title/tomcat#Initial_configuration)? See also [Tomcat 9 can&#39;t log into manager/html](https://stackoverflow.com/q/50750252/2985643). I don&#39;t think that is the cause of those _401_ errors in your log, but if you haven&#39;t already updated **tomcat-users.xml** you definitely need to do that regardless.","body":"Just a guess, but is your problem possibly arising because you have not updated the &quot;[CHANGE_ME]&quot; passwords in file <b>tomcat-users.xml</b>, as described in section <a href=\"https://wiki.archlinux.org/title/tomcat#Initial_configuration\" rel=\"nofollow noreferrer\">2 Initial configuration</a>? See also <a href=\"https://stackoverflow.com/q/50750252/2985643\">Tomcat 9 can&#39;t log into manager/html</a>. I don&#39;t think that is the cause of those <i>401</i> errors in your log, but if you haven&#39;t already updated <b>tomcat-users.xml</b> you definitely need to do that regardless."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682538925,"post_id":76112305,"comment_id":134233881,"body_markdown":"@skomisa I did actually, i think it has to due to the user roles (permissions) that exists inside tomcat, but I basically set all permissions/roles to the &quot;root&quot; user I created but  it still returns those 401 errors","body":"@skomisa I did actually, i think it has to due to the user roles (permissions) that exists inside tomcat, but I basically set all permissions/roles to the &quot;root&quot; user I created but  it still returns those 401 errors"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682541112,"post_id":76112305,"comment_id":134234289,"body_markdown":"OK. Note that the error message in your question states _&quot;See the server log for details&quot;_, so check the server log and update your question with those details. That is essential for resolving your issue. From the [Arch Linux/Tomcat documentation on logging](https://wiki.archlinux.org/title/tomcat#Logging): _&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log&quot;_.","body":"OK. Note that the error message in your question states <i>&quot;See the server log for details&quot;</i>, so check the server log and update your question with those details. That is essential for resolving your issue. From the <a href=\"https://wiki.archlinux.org/title/tomcat#Logging\" rel=\"nofollow noreferrer\">Arch Linux/Tomcat documentation on logging</a>: <i>&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log&quot;</i>."}],"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682539066,"creation_date":1682521429,"question_id":76112305,"body_markdown":"I&#39;m currently using NetBeans 16.1 and Tomcat 10 with Java 17 and trying to run a web application.\r\n\r\nWhen I try to run it, it appears this message:\r\n\r\n&gt; In-place deployment at /home/henriquedelben/Documentos/WebApplication1/build/web\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1\r\nFAIL - Failed to deploy application at context path [/WebApplication1]\r\n/home/henriquedelben/Documentos/WebApplication1/nbproject/build-impl.xml:1030: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 0 seconds)\r\n\r\nI know that on Arch Linux&#39;s version, Tomcat&#39;s default deploy location is /var/lib/tomcat8/webapps. Is it because it&#39;s not deploying on the right place or something?\r\n\r\nThe connection to Tomcat 10 is made with a user with all manager-* permissions and using by default port 8080 \r\n\r\nHere is the log file in /var/log/tomcat10/localhost.2023-04-26.log\r\n\r\nobs.: As far as arch linux documentation goes, I  don&#39;t know about any other server log files (besides catalina.err and catalina.out)\r\n\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 200 82\r\n\r\nWhen I set up the web server, i went to Tools&gt;Servers and added &quot;Apache Tomcat or TomEE&quot; and both catalina home and base and set to: &quot;/usr/share/tomcat8&quot; which is the main folder on arch linux&#39;s installation using pacman\r\n\r\n","title":"Can&#39;t deploy Java web application using Tomcat and NetBeans on arch linux","body":"<p>I'm currently using NetBeans 16.1 and Tomcat 10 with Java 17 and trying to run a web application.</p>\n<p>When I try to run it, it appears this message:</p>\n<blockquote>\n<p>In-place deployment at /home/henriquedelben/Documentos/WebApplication1/build/web\nDeployment is in progress...\ndeploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1\nFAIL - Failed to deploy application at context path [/WebApplication1]\n/home/henriquedelben/Documentos/WebApplication1/nbproject/build-impl.xml:1030: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 0 seconds)</p>\n</blockquote>\n<p>I know that on Arch Linux's version, Tomcat's default deploy location is /var/lib/tomcat8/webapps. Is it because it's not deploying on the right place or something?</p>\n<p>The connection to Tomcat 10 is made with a user with all manager-* permissions and using by default port 8080</p>\n<p>Here is the log file in /var/log/tomcat10/localhost.2023-04-26.log</p>\n<p>obs.: As far as arch linux documentation goes, I  don't know about any other server log files (besides catalina.err and catalina.out)</p>\n<pre><code>127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 200 82\n</code></pre>\n<p>When I set up the web server, i went to Tools&gt;Servers and added &quot;Apache Tomcat or TomEE&quot; and both catalina home and base and set to: &quot;/usr/share/tomcat8&quot; which is the main folder on arch linux's installation using pacman</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1682536844,"post_id":76114308,"comment_id":134233537,"body_markdown":"What if there are multiple processes doing the exact same thing at the same time?  Who wins?  It is generally considered better practice to do an insert and handle a key constraint instead.  Your DB does needs a unique constraint on `code_number` to do this.","body":"What if there are multiple processes doing the exact same thing at the same time?  Who wins?  It is generally considered better practice to do an insert and handle a key constraint instead.  Your DB does needs a unique constraint on <code>code_number</code> to do this."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682540714,"post_id":76114308,"comment_id":134234228,"body_markdown":"I agree with @stdunbar; just add a unique index on code_number and try the save operation, catching the constraint violation exception.","body":"I agree with @stdunbar; just add a unique index on code_number and try the save operation, catching the constraint violation exception."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682622252,"post_id":76114308,"comment_id":134249069,"body_markdown":"[`UPSERT`](https://en.wikipedia.org/wiki/Merge_(SQL))","body":"<a href=\"https://en.wikipedia.org/wiki/Merge_(SQL)\" rel=\"nofollow noreferrer\"><code>UPSERT</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682539000,"creation_date":1682539000,"answer_id":76114618,"question_id":76114308,"body_markdown":"There are few points that you are missing here\r\n&lt;Li&gt;Concurrency - your assumption is that your code will always be executed by one thread at a time. But the truth is there could be two or more threads trying to insert the exact code number in parallel.\r\n&lt;br/&gt; you may call bunch of methods from a single method from service layer and could make it synchronized but again what if there are multiple instances of your application running on separate JVM or VM or machines. So, it&#39;s better to use unique constraint at the database level.&lt;/li&gt;\r\n&lt;li&gt; Performance - By executing this check/query everytime, you are wasting resources like CPU cycle of application OS, Database, and consuming network bandwidth too. &lt;/li&gt;","title":"How to check if record exists before insert - Spring JPA","body":"<p>There are few points that you are missing here</p>\n<Li>Concurrency - your assumption is that your code will always be executed by one thread at a time. But the truth is there could be two or more threads trying to insert the exact code number in parallel.\n<br/> you may call bunch of methods from a single method from service layer and could make it synchronized but again what if there are multiple instances of your application running on separate JVM or VM or machines. So, it's better to use unique constraint at the database level.</li>\n<li> Performance - By executing this check/query everytime, you are wasting resources like CPU cycle of application OS, Database, and consuming network bandwidth too. </li>\n"}],"owner":{"account_id":21477997,"reputation":51,"user_id":15825902,"display_name":"Djorkaeff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682665704,"accepted_answer_id":76114618,"answer_count":1,"score":1,"last_activity_date":1682539000,"creation_date":1682536542,"question_id":76114308,"body_markdown":"In the project that I am doing, I want to check if a record with the same data already exists in a specific field in the database, if it already exists then do not insert, if it does not exist that does insert, I am searching the way to reach the expected result, but I don&#39;t know if there are other alternatives to obtain the result I expect.\r\n\r\n\r\nThis is my code that I am using.\r\n\r\nEntity:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class Users {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id_user&quot;)\r\n\tprivate Long idUser;\r\n\r\n\t@Column(name = &quot;user&quot;, nullable = false, length = 150)\r\n\tprivate String user;\r\n\r\n\t@Column(name = &quot;code_number&quot;, nullable = false, length = 10)\r\n\tprivate String codeNumber;\r\n\r\n        public Long getIdUser() {\r\n\t\treturn idUser;\r\n\t}\r\n\r\n\tpublic void setIdUser(Long idUser) {\r\n\t\tthis.idUser = idUser;\r\n\t}\r\n\r\n        public String getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(String user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n        public String getCodeNumber() {\r\n\t\treturn codeNumber;\r\n\t}\r\n\r\n\tpublic void setCodeNumber(String codeNumber) {\r\n\t\tthis.codeNumber = codeNumber;\r\n\t}\r\n}\r\n```\r\n\r\nQuery/Repository:\r\n\r\n```\r\n@Query(nativeQuery= true, value=&quot;SELECT DISTINCT(code_number) FROM users WHERE code_number= :codeNumber&quot;)\r\nboolean findByCodeNumber(String codeNumber);\r\n```\r\n\r\nConditional:\r\n\r\n```\r\npublic String processUserRegister(Users users) {\r\n    if(repo.findByCodeNumber(users.getCodeNumber())) {\r\n        return &quot;redirect:/error&quot;;\r\n    } else {\r\n        return &quot;redirect:/success&quot;;\r\n    }\r\n}\r\n```","title":"How to check if record exists before insert - Spring JPA","body":"<p>In the project that I am doing, I want to check if a record with the same data already exists in a specific field in the database, if it already exists then do not insert, if it does not exist that does insert, I am searching the way to reach the expected result, but I don't know if there are other alternatives to obtain the result I expect.</p>\n<p>This is my code that I am using.</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_user&quot;)\n    private Long idUser;\n\n    @Column(name = &quot;user&quot;, nullable = false, length = 150)\n    private String user;\n\n    @Column(name = &quot;code_number&quot;, nullable = false, length = 10)\n    private String codeNumber;\n\n        public Long getIdUser() {\n        return idUser;\n    }\n\n    public void setIdUser(Long idUser) {\n        this.idUser = idUser;\n    }\n\n        public String getUser() {\n        return user;\n    }\n\n    public void setUser(String user) {\n        this.user = user;\n    }\n\n        public String getCodeNumber() {\n        return codeNumber;\n    }\n\n    public void setCodeNumber(String codeNumber) {\n        this.codeNumber = codeNumber;\n    }\n}\n</code></pre>\n<p>Query/Repository:</p>\n<pre><code>@Query(nativeQuery= true, value=&quot;SELECT DISTINCT(code_number) FROM users WHERE code_number= :codeNumber&quot;)\nboolean findByCodeNumber(String codeNumber);\n</code></pre>\n<p>Conditional:</p>\n<pre><code>public String processUserRegister(Users users) {\n    if(repo.findByCodeNumber(users.getCodeNumber())) {\n        return &quot;redirect:/error&quot;;\n    } else {\n        return &quot;redirect:/success&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","date","if-statement","while-loop"],"comments":[{"owner":{"account_id":15165138,"reputation":459,"user_id":10942864,"display_name":"Stitt"},"score":0,"creation_date":1682508617,"post_id":76110110,"comment_id":134226294,"body_markdown":"You are only handling each digit once due to the nature of your while loop. I imagine that you want to have the bottom two lines of your while loop in and `else{}` statement, but even then, I don&#39;t believe you will see the result you expect.","body":"You are only handling each digit once due to the nature of your while loop. I imagine that you want to have the bottom two lines of your while loop in and <code>else{}</code> statement, but even then, I don&#39;t believe you will see the result you expect."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682511562,"post_id":76110110,"comment_id":134227064,"body_markdown":"It seems pretty clear that your code turns 2020 into 3131 since you are only considering incrementing each digit individually. You wanted 3111, but there is nothing in your code that would turn the 2 in the 10ths place into a 1. An idea would be to start from the most significant digit and whenever one digit is incremented, you can just replace every less significant digit with 1 regardless what it was.","body":"It seems pretty clear that your code turns 2020 into 3131 since you are only considering incrementing each digit individually. You wanted 3111, but there is nothing in your code that would turn the 2 in the 10ths place into a 1. An idea would be to start from the most significant digit and whenever one digit is incremented, you can just replace every less significant digit with 1 regardless what it was."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682513453,"post_id":76110110,"comment_id":134227579,"body_markdown":"You wrote: _if i input ... 1600 ... the nearest odd date will be ... 1711_ Actually I think it will be 1599.","body":"You wrote: <i>if i input ... 1600 ... the nearest odd date will be ... 1711</i> Actually I think it will be 1599."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682528011,"post_id":76110110,"comment_id":134231833,"body_markdown":"*calculate the closest date to the original that has all odd digits* Did you mean the closest *later* year?","body":"<i>calculate the closest date to the original that has all odd digits</i> Did you mean the closest <i>later</i> year?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682534248,"post_id":76110110,"comment_id":134233057,"body_markdown":"@Abra Its not perfectly clear, but I interpret the word *increment* in the title to mean the next *higher* year value (so not 1599). Id prefer it this had been clear from the body of the question.","body":"@Abra Its not perfectly clear, but I interpret the word <i>increment</i> in the title to mean the next <i>higher</i> year value (so not 1599). Id prefer it this had been clear from the body of the question."}],"answers":[{"tags":[],"owner":{"account_id":10700005,"reputation":43,"user_id":11908014,"display_name":"M Shahzeb Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682530222,"creation_date":1682513181,"answer_id":76110913,"question_id":76110110,"body_markdown":"Here is the solution to your problem (In JavaScript, although the algorithm will work for you)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getOddYear (year) {\r\n\r\n        // convert to string\r\n        const yearString = year.toString();\r\n        \r\n        // initialize an empty string to be used to store transformedYearDigits\r\n        let modYearString = &#39;&#39;;\r\n        \r\n        // a boolean to check if any of the digits has been transformed already\r\n        let transformedOneAlready = false;\r\n\r\n        // loop over each of the digits\r\n        for (let index = 0; index &lt; yearString.length; index++) {\r\n            \r\n            // check if current digit is even\r\n            if (yearString[index] % 2 === 0 &amp;&amp; !transformedOneAlready) {    \r\n                modYearString = modYearString.concat(\r\n                    parseInt(yearString[index]) + 1\r\n                )\r\n                transformedOneAlready = true;    \r\n            }\r\n            // if transformations has occured: replace the consequent digits with 1(lowest odd number)\r\n            else if (transformedOneAlready){\r\n                modYearString = modYearString.concat(1)\r\n            }\r\n            // if the digit is already odd and no transformation has occured\r\n            else {\r\n                modYearString = modYearString.concat(yearString[index])\r\n            }\r\n        };\r\n\r\n        // print the comparison of input and output\r\n        console.log(year, &#39; --&gt; &#39;,modYearString)\r\n        // convert the transformed year to a number from string\r\n        return parseInt(modYearString);\r\n    }\r\n\r\n\r\n    // run the function for each of the numbers in the array\r\n    [2020,1911,2034,2344,3241,3048,3035,3481].forEach(\r\n        (e)=&gt;getOddYear(e)\r\n    )\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAll you have to do is \r\n 1. find the leftmost even digit\r\n 2. increment it with 1\r\n 3. replace all the consequent digits with the lowest odd number i.e. 1\r\n 4. keep the consequent digits as is, if no even number is found","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>Here is the solution to your problem (In JavaScript, although the algorithm will work for you)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getOddYear (year) {\n\n    // convert to string\n    const yearString = year.toString();\n    \n    // initialize an empty string to be used to store transformedYearDigits\n    let modYearString = '';\n    \n    // a boolean to check if any of the digits has been transformed already\n    let transformedOneAlready = false;\n\n    // loop over each of the digits\n    for (let index = 0; index &lt; yearString.length; index++) {\n        \n        // check if current digit is even\n        if (yearString[index] % 2 === 0 &amp;&amp; !transformedOneAlready) {    \n            modYearString = modYearString.concat(\n                parseInt(yearString[index]) + 1\n            )\n            transformedOneAlready = true;    \n        }\n        // if transformations has occured: replace the consequent digits with 1(lowest odd number)\n        else if (transformedOneAlready){\n            modYearString = modYearString.concat(1)\n        }\n        // if the digit is already odd and no transformation has occured\n        else {\n            modYearString = modYearString.concat(yearString[index])\n        }\n    };\n\n    // print the comparison of input and output\n    console.log(year, ' --&gt; ',modYearString)\n    // convert the transformed year to a number from string\n    return parseInt(modYearString);\n}\n\n\n// run the function for each of the numbers in the array\n[2020,1911,2034,2344,3241,3048,3035,3481].forEach(\n    (e)=&gt;getOddYear(e)\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>All you have to do is</p>\n<ol>\n<li>find the leftmost even digit</li>\n<li>increment it with 1</li>\n<li>replace all the consequent digits with the lowest odd number i.e. 1</li>\n<li>keep the consequent digits as is, if no even number is found</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21747100,"reputation":1,"user_id":19985542,"display_name":"Marie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682525215,"creation_date":1682513333,"answer_id":76110939,"question_id":76110110,"body_markdown":"For everyone who needs it heres the answer:\r\n\r\n```\r\nboolean allOdd = true;\r\nString yearString = Integer.toString(year);\r\nfor (char digit : yearString.toCharArray()) {\r\n\tint num = Character.getNumericValue(digit);\r\n\tif (num % 2 == 0) {\r\n\t\tallOdd = false;\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nif (!allOdd) {\r\n\tint increment = 1;\r\n\twhile (true) {\r\n\t\tint newYear = year + increment;\r\n\t\tString newYearString = Integer.toString(newYear);\r\n\t\tboolean newAllOdd = true;\r\n\t\tfor (char digit : newYearString.toCharArray()) {\r\n\t\t\tint num = Character.getNumericValue(digit);\r\n\t\t\tif (num % 2 == 0) {\r\n\t\t\t\tnewAllOdd = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newAllOdd) {\r\n\t\t\tyear = newYear;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tincrement += 2;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>For everyone who needs it heres the answer:</p>\n<pre><code>boolean allOdd = true;\nString yearString = Integer.toString(year);\nfor (char digit : yearString.toCharArray()) {\n    int num = Character.getNumericValue(digit);\n    if (num % 2 == 0) {\n        allOdd = false;\n        break;\n    }\n}\n\nif (!allOdd) {\n    int increment = 1;\n    while (true) {\n        int newYear = year + increment;\n        String newYearString = Integer.toString(newYear);\n        boolean newAllOdd = true;\n        for (char digit : newYearString.toCharArray()) {\n            int num = Character.getNumericValue(digit);\n            if (num % 2 == 0) {\n                newAllOdd = false;\n                break;\n            }\n        }\n        if (newAllOdd) {\n            year = newYear;\n            break;\n        }\n        increment += 2;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538887,"creation_date":1682528928,"answer_id":76113396,"question_id":76110110,"body_markdown":"&gt;Increment a year until all digits are odd (closest odd date to original date)\r\n\r\nHere is one approach.\r\n```\r\nint[] s = {\r\n        2020,1900,1570,1620,3461\r\n};\r\nfor (int year : s) {\r\n    System.out.printf(&quot;year = %4d, closest = %4d%n&quot;, year,\r\n            closestOddYear(year));\r\n}\r\n```\r\nprints\r\n```\r\nyear = 2020, closest = 3111\r\nyear = 1900, closest = 1911\r\nyear = 1570, closest = 1571\r\nyear = 1620, closest = 1711\r\nyear = 3461, closest = 3511\r\n```\r\nStarting with the initial year, the method normalizes the year to the first odd one that is equal to or greater the argument.  Subsequent years are increased by 2, skipping the even years since the first low order digit must be odd regardless of the others. This method simply iterates over the odd years until the one meeting the requirements is found. \r\n```\r\npublic static int closestOddYear(int year) {\r\n    year += ((year &amp; 1) == 1) ? 0 : 1;\r\n    while (!areDigitsOdd(year)) {\r\n            year += 2;\r\n    }\r\n    return year;\r\n}\r\n\r\n```\r\nThis method just checks the `lsb` of each exposed digit to see if it is odd.  Since all odd numbers have the lower order bit set, this just ANDs 1 with that bit.  A result of `0` would indicate an even digit, and `1` would be odd. The method short circuits to `false` if any encountered digit is even.  Otherwise it returns `true`.\r\n```\r\npublic static boolean areDigitsOdd(int year) {\r\n    while (year &gt; 0) {\r\n        if ((year &amp; 1) != 1) {\r\n            return false;\r\n        }\r\n        year /= 10;\r\n    }\r\n    return true;\r\n}","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<blockquote>\n<p>Increment a year until all digits are odd (closest odd date to original date)</p>\n</blockquote>\n<p>Here is one approach.</p>\n<pre><code>int[] s = {\n        2020,1900,1570,1620,3461\n};\nfor (int year : s) {\n    System.out.printf(&quot;year = %4d, closest = %4d%n&quot;, year,\n            closestOddYear(year));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>year = 2020, closest = 3111\nyear = 1900, closest = 1911\nyear = 1570, closest = 1571\nyear = 1620, closest = 1711\nyear = 3461, closest = 3511\n</code></pre>\n<p>Starting with the initial year, the method normalizes the year to the first odd one that is equal to or greater the argument.  Subsequent years are increased by 2, skipping the even years since the first low order digit must be odd regardless of the others. This method simply iterates over the odd years until the one meeting the requirements is found.</p>\n<pre><code>public static int closestOddYear(int year) {\n    year += ((year &amp; 1) == 1) ? 0 : 1;\n    while (!areDigitsOdd(year)) {\n            year += 2;\n    }\n    return year;\n}\n\n</code></pre>\n<p>This method just checks the <code>lsb</code> of each exposed digit to see if it is odd.  Since all odd numbers have the lower order bit set, this just ANDs 1 with that bit.  A result of <code>0</code> would indicate an even digit, and <code>1</code> would be odd. The method short circuits to <code>false</code> if any encountered digit is even.  Otherwise it returns <code>true</code>.</p>\n<pre><code>public static boolean areDigitsOdd(int year) {\n    while (year &gt; 0) {\n        if ((year &amp; 1) != 1) {\n            return false;\n        }\n        year /= 10;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":21747100,"reputation":1,"user_id":19985542,"display_name":"Marie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76110939,"answer_count":3,"score":0,"last_activity_date":1682538887,"creation_date":1682507846,"question_id":76110110,"body_markdown":"My program requires that I take in a year (E.g. 2020) and check that every number in the year is odd(has only 3, 5, 7, 9). if every number in the year is not odd, then I need to calculate the closest date to the original that has all odd digits. in order to do this I have coded an if statement that checks if the last digit is odd and then checks all the others, if they are even then it increments. However, i am having an issue where the last two digits in a date aren&#39;t correct. for example it will output correctly if i input 1900 or 1600 or 1570 - the nearest odd date will be 1911 and 1711 and 1571 respectively. however, if i enter a date where last two digits aren&#39;t zero then the output is wrong (E.g. 2020&#39;s output should be 3111 but it instead output 3131). I have been going back and forth on how to change this but it only results in more errors. if anyone could help fix this code or provide some logic of how to go about fixing it that would be great.\r\n\r\n\r\n```\r\n// Increment the last digit of the year to make it odd\r\n                if (year % 10 % 2 == 0) {\r\n                    year++;\r\n                    System.out.println(&quot;year after increment:&quot; + year);\r\n                }\r\n// check all other digits and increment\r\n                int temp = year / 10;\r\n                int i = 10;\r\n                while (temp &gt; 0) {\r\n                    if (temp % i % 2 == 0) {\r\n                        year += i;\r\n                    }\r\n                    i *= 10;\r\n                    temp /= 10;\r\n                }\r\n                System.out.println(&quot;Year:&quot; + year);\r\n```\r\n\r\n\r\nI tried:\r\n2020\r\n1900\r\n1570\r\n1620\r\n3461\r\n\r\nI expected an output of:\r\n3111\r\n1911\r\n1571\r\n1711\r\n3511\r\n\r\nWhat i got:\r\n3131\r\n1911\r\n1571\r\n1731\r\n3571","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>My program requires that I take in a year (E.g. 2020) and check that every number in the year is odd(has only 3, 5, 7, 9). if every number in the year is not odd, then I need to calculate the closest date to the original that has all odd digits. in order to do this I have coded an if statement that checks if the last digit is odd and then checks all the others, if they are even then it increments. However, i am having an issue where the last two digits in a date aren't correct. for example it will output correctly if i input 1900 or 1600 or 1570 - the nearest odd date will be 1911 and 1711 and 1571 respectively. however, if i enter a date where last two digits aren't zero then the output is wrong (E.g. 2020's output should be 3111 but it instead output 3131). I have been going back and forth on how to change this but it only results in more errors. if anyone could help fix this code or provide some logic of how to go about fixing it that would be great.</p>\n<pre><code>// Increment the last digit of the year to make it odd\n                if (year % 10 % 2 == 0) {\n                    year++;\n                    System.out.println(&quot;year after increment:&quot; + year);\n                }\n// check all other digits and increment\n                int temp = year / 10;\n                int i = 10;\n                while (temp &gt; 0) {\n                    if (temp % i % 2 == 0) {\n                        year += i;\n                    }\n                    i *= 10;\n                    temp /= 10;\n                }\n                System.out.println(&quot;Year:&quot; + year);\n</code></pre>\n<p>I tried:\n2020\n1900\n1570\n1620\n3461</p>\n<p>I expected an output of:\n3111\n1911\n1571\n1711\n3511</p>\n<p>What i got:\n3131\n1911\n1571\n1731\n3571</p>\n"},{"tags":["java","kotlin","android-11","saf"],"owner":{"account_id":28421395,"reputation":1,"user_id":21743421,"display_name":"Atlantis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682538843,"creation_date":1682538531,"question_id":76114545,"body_markdown":"I have a test program that requests access to the **Android/obb** folder, but I do not know how I can move files to this folder. I tried to use standard kotlin functions to manage files, but it didn&#39;t give any result. I also have a similar version written in Java.\r\n\r\n    private fun moveFile(src: File, dest: File): Boolean {\r\n        return src.renameTo(dest)\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private val handleIntentActivityResult =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {\r\n            if (it.resultCode != Activity.RESULT_OK)\r\n                return@registerForActivityResult\r\n            val directoryUri = it.data?.data ?: return@registerForActivityResult\r\n            contentResolver.takePersistableUriPermission(\r\n                directoryUri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\n            )\r\n            if (checkIfGotAccess())\r\n                onGotAccess()\r\n            else\r\n                Log.d(&quot;AppLog&quot;, &quot;you didn&#39;t grant permission to the correct folder&quot;)\r\n        }\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val openDirectoryButton = findViewById&lt;Button&gt;(R.id.button1)\r\n        val test = findViewById&lt;Button&gt;(R.id.button2)\r\n        val test1 = findViewById&lt;Button&gt;(R.id.button3)\r\n        openDirectoryButton.setOnClickListener {\r\n            openDirectory()\r\n        }\r\n        test.setOnClickListener {\r\n            main()\r\n        }\r\n        test1.setOnClickListener {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                main1()\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.R)\r\n    private fun main1() {\r\n        val uri = Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;)\r\n\r\n        startActivity(\r\n            Intent(\r\n                Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\r\n                uri\r\n            )\r\n        )\r\n    }\r\n\r\n    private fun main() {\r\n        val from = File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;)\r\n        val to = File(Environment.getExternalStorageDirectory(), &quot;Android/obb/video.mp4&quot;)\r\n        try {\r\n            val isSuccess = moveFile(from, to)\r\n            if (isSuccess) {\r\n                val text = &quot;File Moved Successfully!&quot;\r\n                val duration = Toast.LENGTH_SHORT\r\n\r\n                val toast = Toast.makeText(applicationContext, text, duration)\r\n                toast.show()\r\n            } else {\r\n                val text = &quot;File Moved Failed!&quot;\r\n                val duration = Toast.LENGTH_SHORT\r\n\r\n                val toast = Toast.makeText(applicationContext, text, duration)\r\n                toast.show()\r\n            }\r\n        } catch (ex: IOException) {\r\n            ex.printStackTrace()\r\n        }\r\n    }\r\n\r\n    private fun checkIfGotAccess(): Boolean {\r\n        return contentResolver.persistedUriPermissions.indexOfFirst { uriPermission -&gt;\r\n            uriPermission.uri.equals(androidTreeUri) &amp;&amp; uriPermission.isReadPermission &amp;&amp; uriPermission.isWritePermission\r\n        } &gt;= 0\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private fun onGotAccess() {\r\n        Log.d(&quot;AppLog&quot;, &quot;got access to Android folder. showing content of each folder:&quot;)\r\n        @Suppress(&quot;DEPRECATION&quot;)\r\n        File(Environment.getExternalStorageDirectory(), &quot;Android/obb&quot;).listFiles()?.forEach { androidSubFolder -&gt;\r\n            val docId = &quot;$ANDROID_DOCID/${androidSubFolder.name}&quot;\r\n            val childrenUri = DocumentsContract.buildChildDocumentsUriUsingTree(androidTreeUri, docId)\r\n            val contentResolver = this.contentResolver\r\n            Log.d(&quot;AppLog&quot;, &quot;content of:${androidSubFolder.absolutePath} :&quot;)\r\n            contentResolver.query(childrenUri, null, null, null)\r\n                ?.use { cursor -&gt;\r\n                    val filesCount = cursor.count\r\n                    Log.d(&quot;AppLog&quot;, &quot;filesCount:$filesCount&quot;)\r\n                    val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\r\n                    val mimeIndex = cursor.getColumnIndex(&quot;mime_type&quot;)\r\n                    while (cursor.moveToNext()) {\r\n                        val displayName = cursor.getString(nameIndex)\r\n                        val mimeType = cursor.getString(mimeIndex)\r\n                        Log.d(&quot;AppLog&quot;, &quot;  $displayName isFolder?${mimeType == DocumentsContract.Document.MIME_TYPE_DIR}&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    private fun openDirectory() {\r\n        if (checkIfGotAccess())\r\n            onGotAccess()\r\n        else {\r\n            val primaryStorageVolume = (getSystemService(STORAGE_SERVICE) as StorageManager).primaryStorageVolume\r\n            val intent =\r\n                primaryStorageVolume.createOpenDocumentTreeIntent().putExtra(EXTRA_INITIAL_URI, androidUri)\r\n            handleIntentActivityResult.launch(intent)\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        private const val ANDROID_DOCID = &quot;primary:Android/obb&quot;\r\n        private const val EXTERNAL_STORAGE_PROVIDER_AUTHORITY = &quot;com.android.externalstorage.documents&quot;\r\n        private val androidUri = DocumentsContract.buildDocumentUri(\r\n            EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\r\n        )\r\n        private val androidTreeUri = DocumentsContract.buildTreeDocumentUri(\r\n            EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\r\n        )\r\n    }\r\n\r\nI think I need to use **SAF** but haven&#39;t found the way I need in my situation.","title":"How can I move files to the Android/obb folder on api31 and above","body":"<p>I have a test program that requests access to the <strong>Android/obb</strong> folder, but I do not know how I can move files to this folder. I tried to use standard kotlin functions to manage files, but it didn't give any result. I also have a similar version written in Java.</p>\n<pre><code>private fun moveFile(src: File, dest: File): Boolean {\n    return src.renameTo(dest)\n}\n\n@RequiresApi(Build.VERSION_CODES.O)\nprivate val handleIntentActivityResult =\n    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {\n        if (it.resultCode != Activity.RESULT_OK)\n            return@registerForActivityResult\n        val directoryUri = it.data?.data ?: return@registerForActivityResult\n        contentResolver.takePersistableUriPermission(\n            directoryUri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        )\n        if (checkIfGotAccess())\n            onGotAccess()\n        else\n            Log.d(&quot;AppLog&quot;, &quot;you didn't grant permission to the correct folder&quot;)\n    }\n\n\n@RequiresApi(Build.VERSION_CODES.Q)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val openDirectoryButton = findViewById&lt;Button&gt;(R.id.button1)\n    val test = findViewById&lt;Button&gt;(R.id.button2)\n    val test1 = findViewById&lt;Button&gt;(R.id.button3)\n    openDirectoryButton.setOnClickListener {\n        openDirectory()\n    }\n    test.setOnClickListener {\n        main()\n    }\n    test1.setOnClickListener {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            main1()\n        }\n    }\n}\n\n@RequiresApi(Build.VERSION_CODES.R)\nprivate fun main1() {\n    val uri = Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;)\n\n    startActivity(\n        Intent(\n            Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\n            uri\n        )\n    )\n}\n\nprivate fun main() {\n    val from = File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;)\n    val to = File(Environment.getExternalStorageDirectory(), &quot;Android/obb/video.mp4&quot;)\n    try {\n        val isSuccess = moveFile(from, to)\n        if (isSuccess) {\n            val text = &quot;File Moved Successfully!&quot;\n            val duration = Toast.LENGTH_SHORT\n\n            val toast = Toast.makeText(applicationContext, text, duration)\n            toast.show()\n        } else {\n            val text = &quot;File Moved Failed!&quot;\n            val duration = Toast.LENGTH_SHORT\n\n            val toast = Toast.makeText(applicationContext, text, duration)\n            toast.show()\n        }\n    } catch (ex: IOException) {\n        ex.printStackTrace()\n    }\n}\n\nprivate fun checkIfGotAccess(): Boolean {\n    return contentResolver.persistedUriPermissions.indexOfFirst { uriPermission -&gt;\n        uriPermission.uri.equals(androidTreeUri) &amp;&amp; uriPermission.isReadPermission &amp;&amp; uriPermission.isWritePermission\n    } &gt;= 0\n}\n\n@RequiresApi(Build.VERSION_CODES.O)\nprivate fun onGotAccess() {\n    Log.d(&quot;AppLog&quot;, &quot;got access to Android folder. showing content of each folder:&quot;)\n    @Suppress(&quot;DEPRECATION&quot;)\n    File(Environment.getExternalStorageDirectory(), &quot;Android/obb&quot;).listFiles()?.forEach { androidSubFolder -&gt;\n        val docId = &quot;$ANDROID_DOCID/${androidSubFolder.name}&quot;\n        val childrenUri = DocumentsContract.buildChildDocumentsUriUsingTree(androidTreeUri, docId)\n        val contentResolver = this.contentResolver\n        Log.d(&quot;AppLog&quot;, &quot;content of:${androidSubFolder.absolutePath} :&quot;)\n        contentResolver.query(childrenUri, null, null, null)\n            ?.use { cursor -&gt;\n                val filesCount = cursor.count\n                Log.d(&quot;AppLog&quot;, &quot;filesCount:$filesCount&quot;)\n                val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\n                val mimeIndex = cursor.getColumnIndex(&quot;mime_type&quot;)\n                while (cursor.moveToNext()) {\n                    val displayName = cursor.getString(nameIndex)\n                    val mimeType = cursor.getString(mimeIndex)\n                    Log.d(&quot;AppLog&quot;, &quot;  $displayName isFolder?${mimeType == DocumentsContract.Document.MIME_TYPE_DIR}&quot;)\n                }\n            }\n    }\n}\n@RequiresApi(Build.VERSION_CODES.Q)\nprivate fun openDirectory() {\n    if (checkIfGotAccess())\n        onGotAccess()\n    else {\n        val primaryStorageVolume = (getSystemService(STORAGE_SERVICE) as StorageManager).primaryStorageVolume\n        val intent =\n            primaryStorageVolume.createOpenDocumentTreeIntent().putExtra(EXTRA_INITIAL_URI, androidUri)\n        handleIntentActivityResult.launch(intent)\n    }\n}\n\ncompanion object {\n    private const val ANDROID_DOCID = &quot;primary:Android/obb&quot;\n    private const val EXTERNAL_STORAGE_PROVIDER_AUTHORITY = &quot;com.android.externalstorage.documents&quot;\n    private val androidUri = DocumentsContract.buildDocumentUri(\n        EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\n    )\n    private val androidTreeUri = DocumentsContract.buildTreeDocumentUri(\n        EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\n    )\n}\n</code></pre>\n<p>I think I need to use <strong>SAF</strong> but haven't found the way I need in my situation.</p>\n"},{"tags":["java","latex","tex"],"comments":[{"owner":{"account_id":537765,"reputation":43147,"user_id":906113,"accept_rate":70,"display_name":"str"},"score":3,"creation_date":1354970824,"post_id":13777558,"comment_id":18943447,"body_markdown":"LaTeX is a huge library, and I bet you can call it from the command line (also using Java).","body":"LaTeX is a huge library, and I bet you can call it from the command line (also using Java)."}],"answers":[{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1354971258,"creation_date":1354971258,"answer_id":13777649,"question_id":13777558,"body_markdown":"LaTeX is a **full programming language**. Parsing it means executing the program.\r\n\r\nWhile it seems to be simple in many of the common cases - `\\section` etc. - it is by far not trivial. In fact, it should be turing complete. And some parts will even have a more or less different syntax. Take TIKZ for example - an excellent graph drawing library for LaTeX. It&#39;s syntax is somewhat like latex, but other parts are more that of modern programming languages. And a lot is like stylesheets.\r\n\r\nHowever, you might be able to get away with supporting just **part of the latex syntax**. Have a look at what [Texlipse][1] does. It&#39;s in Java.\r\n\r\n  [1]: http://texlipse.sf.net/","title":"Full LaTeX parser in Java","body":"<p>LaTeX is a <strong>full programming language</strong>. Parsing it means executing the program.</p>\n\n<p>While it seems to be simple in many of the common cases - <code>\\section</code> etc. - it is by far not trivial. In fact, it should be turing complete. And some parts will even have a more or less different syntax. Take TIKZ for example - an excellent graph drawing library for LaTeX. It's syntax is somewhat like latex, but other parts are more that of modern programming languages. And a lot is like stylesheets.</p>\n\n<p>However, you might be able to get away with supporting just <strong>part of the latex syntax</strong>. Have a look at what <a href=\"http://texlipse.sf.net/\" rel=\"noreferrer\">Texlipse</a> does. It's in Java.</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682538700,"creation_date":1585859477,"answer_id":61000600,"question_id":13777558,"body_markdown":"The heading said parsing and google lead me to here. Thus, I also include an example of `JLaTeXMath` and hints on other parsers.\r\n\r\n## SnuggleTeX\r\n\r\n[SnuggleTeX](https://github.com/davemckain/snuggletex) BSD License - has a good parser, too. \r\n\r\n```java\r\n        /* Create vanilla SnuggleEngine and new SnuggleSession */\r\n        SnuggleEngine engine = new SnuggleEngine();\r\n        SnuggleSession session = engine.createSession();\r\n        \r\n        /* Parse some very basic Math Mode input */\r\n        SnuggleInput input = new SnuggleInput(&quot;$$ x+2=3 $$&quot;);\r\n        session.parseInput(input);\r\n        \r\n        /* Convert the results to an XML String, which in this case will\r\n         * be a single MathML &lt;math&gt;...&lt;/math&gt; element. */\r\n        String xmlString = session.buildXMLString();\r\n```\r\n\r\nSource: &lt;https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java&gt;.\r\n\r\nIt can even do `\\newcommand`:\r\n\r\n```latex\r\n\\newcommand{\\test}[1]{Hello #1}\\test{There} more text afterwards\r\nHello There more text afterwards\r\n```\r\n\r\nSource: https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt\r\n\r\n## JLaTeXMath\r\n\r\nI would use [JLaTeXMath](https://github.com/opencollab/jlatexmath) if GPL license is OK: \r\n\r\n&gt; &quot;JLaTeXMath is the best Java library to display LaTeX code.&quot;\r\n\r\n```java\r\n\r\nimport org.scilab.forge.jlatexmath.TeXConstants;\r\nimport org.scilab.forge.jlatexmath.TeXFormula;\r\n\r\npublic class Example5 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String latex = &quot;\\\\begin{array}{|c|l|||r|c|}&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\text{Matrix}&amp;\\\\multicolumn{2}{|c|}{\\\\text{Multicolumns}}&amp;\\\\text{Font sizes commands}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\begin{pmatrix}\\\\alpha_{11}&amp;\\\\cdots&amp;\\\\alpha_{1n}\\\\cr\\\\hdotsfor{3}\\\\cr\\\\alpha_{n1}&amp;\\\\cdots&amp;\\\\alpha_{nn}\\\\end{pmatrix}&amp;\\\\Large \\\\text{Large Right}&amp;\\\\small \\\\text{small Left}&amp;\\\\tiny \\\\text{tiny Tiny}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\multicolumn{4}{|c|}{\\\\Huge \\\\text{Huge Multicolumns}}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\end{array}&quot;;\r\n\r\n        TeXFormula formula = new TeXFormula(latex);\r\n        formula.createPNG(TeXConstants.STYLE_DISPLAY, 20, &quot;target/Example5.png&quot;, Color.white, Color.black);\r\n    }\r\n}\r\n```\r\n\r\nSource for TeXFormula: &lt;https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244&gt;\r\n\r\n\r\n## Other solutions\r\n\r\n* [JavaTex](http://javatex.sourceforge.net/): https://sourceforge.net/projects/javatex/files/javatex/V0.2/. Seems to be a complete LaTeX engine.\r\n* [JavaTeX from CTAN](https://ctan.org/pkg/javatex?lang=de) - from 1998, but might still perform well.\r\n\r\n(partially based on https://tex.stackexchange.com/q/41609/9075)","title":"Full LaTeX parser in Java","body":"<p>The heading said parsing and google lead me to here. Thus, I also include an example of <code>JLaTeXMath</code> and hints on other parsers.</p>\n<h2>SnuggleTeX</h2>\n<p><a href=\"https://github.com/davemckain/snuggletex\" rel=\"nofollow noreferrer\">SnuggleTeX</a> BSD License - has a good parser, too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        /* Create vanilla SnuggleEngine and new SnuggleSession */\n        SnuggleEngine engine = new SnuggleEngine();\n        SnuggleSession session = engine.createSession();\n        \n        /* Parse some very basic Math Mode input */\n        SnuggleInput input = new SnuggleInput(&quot;$$ x+2=3 $$&quot;);\n        session.parseInput(input);\n        \n        /* Convert the results to an XML String, which in this case will\n         * be a single MathML &lt;math&gt;...&lt;/math&gt; element. */\n        String xmlString = session.buildXMLString();\n</code></pre>\n<p>Source: <a href=\"https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java\" rel=\"nofollow noreferrer\">https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java</a>.</p>\n<p>It can even do <code>\\newcommand</code>:</p>\n<pre class=\"lang-latex prettyprint-override\"><code>\\newcommand{\\test}[1]{Hello #1}\\test{There} more text afterwards\nHello There more text afterwards\n</code></pre>\n<p>Source: <a href=\"https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt\" rel=\"nofollow noreferrer\">https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt</a></p>\n<h2>JLaTeXMath</h2>\n<p>I would use <a href=\"https://github.com/opencollab/jlatexmath\" rel=\"nofollow noreferrer\">JLaTeXMath</a> if GPL license is OK:</p>\n<blockquote>\n<p>&quot;JLaTeXMath is the best Java library to display LaTeX code.&quot;</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.scilab.forge.jlatexmath.TeXConstants;\nimport org.scilab.forge.jlatexmath.TeXFormula;\n\npublic class Example5 {\n\n    public static void main(String[] args) {\n\n        String latex = &quot;\\\\begin{array}{|c|l|||r|c|}&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\text{Matrix}&amp;\\\\multicolumn{2}{|c|}{\\\\text{Multicolumns}}&amp;\\\\text{Font sizes commands}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\begin{pmatrix}\\\\alpha_{11}&amp;\\\\cdots&amp;\\\\alpha_{1n}\\\\cr\\\\hdotsfor{3}\\\\cr\\\\alpha_{n1}&amp;\\\\cdots&amp;\\\\alpha_{nn}\\\\end{pmatrix}&amp;\\\\Large \\\\text{Large Right}&amp;\\\\small \\\\text{small Left}&amp;\\\\tiny \\\\text{tiny Tiny}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\multicolumn{4}{|c|}{\\\\Huge \\\\text{Huge Multicolumns}}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\end{array}&quot;;\n\n        TeXFormula formula = new TeXFormula(latex);\n        formula.createPNG(TeXConstants.STYLE_DISPLAY, 20, &quot;target/Example5.png&quot;, Color.white, Color.black);\n    }\n}\n</code></pre>\n<p>Source for TeXFormula: <a href=\"https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244\" rel=\"nofollow noreferrer\">https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244</a></p>\n<h2>Other solutions</h2>\n<ul>\n<li><a href=\"http://javatex.sourceforge.net/\" rel=\"nofollow noreferrer\">JavaTex</a>: <a href=\"https://sourceforge.net/projects/javatex/files/javatex/V0.2/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/javatex/files/javatex/V0.2/</a>. Seems to be a complete LaTeX engine.</li>\n<li><a href=\"https://ctan.org/pkg/javatex?lang=de\" rel=\"nofollow noreferrer\">JavaTeX from CTAN</a> - from 1998, but might still perform well.</li>\n</ul>\n<p>(partially based on <a href=\"https://tex.stackexchange.com/q/41609/9075\">https://tex.stackexchange.com/q/41609/9075</a>)</p>\n"}],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8689,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1597308911,"accepted_answer_id":13777649,"answer_count":2,"score":7,"last_activity_date":1682538700,"creation_date":1354970580,"question_id":13777558,"body_markdown":"I&#39;ve written [small Java application][1] to create printable flashcards for my Maths revision.\r\n\r\nAt the moment, I&#39;m using [JLaTeXMath][2] to generate the images for each side from LaTeX.\r\n\r\nThe only problem is, that JLaTeXMath seems to be limited to LaTeX formula. I want to use the same program to create flashcards for other subjects such as Biology, where the questions and answers will be text based (rather than equation based) and LaTeX formula&#39;s aren&#39;t suitable for this.\r\n\r\nAre there any Java libraries that can parse LaTeX?\r\nOr is there a better way of doing this?\r\n\r\n\r\n  [1]: https://github.com/Todd-Davies/MathsIdentities\r\n  [2]: http://forge.scilab.org/index.php/p/jlatexmath/\r\n","title":"Full LaTeX parser in Java","body":"<p>I've written <a href=\"https://github.com/Todd-Davies/MathsIdentities\" rel=\"noreferrer\">small Java application</a> to create printable flashcards for my Maths revision.</p>\n\n<p>At the moment, I'm using <a href=\"http://forge.scilab.org/index.php/p/jlatexmath/\" rel=\"noreferrer\">JLaTeXMath</a> to generate the images for each side from LaTeX.</p>\n\n<p>The only problem is, that JLaTeXMath seems to be limited to LaTeX formula. I want to use the same program to create flashcards for other subjects such as Biology, where the questions and answers will be text based (rather than equation based) and LaTeX formula's aren't suitable for this.</p>\n\n<p>Are there any Java libraries that can parse LaTeX?\nOr is there a better way of doing this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1682539338,"post_id":76114556,"comment_id":134233953,"body_markdown":"Have you tried to add `@ExceptionHandler(ClientAbortException.class) `  above the API resource that you wish to handle?","body":"Have you tried to add <code>@ExceptionHandler(ClientAbortException.class) </code>  above the API resource that you wish to handle?"},{"owner":{"account_id":6220861,"reputation":399,"user_id":4840535,"accept_rate":100,"display_name":"Phong6698"},"score":0,"creation_date":1682585371,"post_id":76114556,"comment_id":134240168,"body_markdown":"@Roland `@ExceptionHandler(ClientAbortException.class)?` needs to be over an exception handler method. In this case it&#39;s the `handleLockException` method.","body":"@Roland <code>@ExceptionHandler(ClientAbortException.class)?</code> needs to be over an exception handler method. In this case it&#39;s the <code>handleLockException</code> method."}],"owner":{"account_id":6220861,"reputation":399,"user_id":4840535,"accept_rate":100,"display_name":"Phong6698"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682538583,"creation_date":1682538583,"question_id":76114556,"body_markdown":"When a client aborts a request it throws out a `ClientAbortException`.\r\nAccording to this [answer][1], the exception can be catched with `@ExceptionHandler(ClientAbortException.class)`. With that, all methods in that Controller will get handled. \r\n\r\nSo my question is, how can the `ClientAbortException` be handled for only one specific method in a Controller class?\r\n\r\n\r\nFor example I want the method `with` be handled and `without` not be handled. But currently both would be handled because of `@ExceptionHandler(ClientAbortException.class)`.\r\n``` java\r\n@Slf4j\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(value = &quot;/api/report&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class ReportResource {\r\n\r\n    private ReportApplicationService reportApplicationService;\r\n\r\n    @PostMapping(&quot;with&quot;)\r\n    public ResponseEntity with(@RequestBody FindReport findReport) throws Exception {\r\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\r\n    }\r\n\r\n    @PostMapping(&quot;without&quot;)\r\n    public ResponseEntity without(@RequestBody FindReport findReport) throws Exception {\r\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\r\n    }\r\n\r\n    @ExceptionHandler(ClientAbortException.class)\r\n    public void handleLockException(ClientAbortException exception, HttpServletRequest request) {\r\n        final String message = &quot;ClientAbortException generated by request {} {} from remote address {} with X-FORWARDED-FOR {}&quot;;\r\n        final String headerXFF = request.getHeader(&quot;X-FORWARDED-FOR&quot;);\r\n        log.warn(message, request.getMethod(), request.getRequestURL(), request.getRemoteAddr(), headerXFF);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65423702/4840535","title":"Handle ClientAbortException on a specific method in Spring","body":"<p>When a client aborts a request it throws out a <code>ClientAbortException</code>.\nAccording to this <a href=\"https://stackoverflow.com/a/65423702/4840535\">answer</a>, the exception can be catched with <code>@ExceptionHandler(ClientAbortException.class)</code>. With that, all methods in that Controller will get handled.</p>\n<p>So my question is, how can the <code>ClientAbortException</code> be handled for only one specific method in a Controller class?</p>\n<p>For example I want the method <code>with</code> be handled and <code>without</code> not be handled. But currently both would be handled because of <code>@ExceptionHandler(ClientAbortException.class)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@AllArgsConstructor\n@RequestMapping(value = &quot;/api/report&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class ReportResource {\n\n    private ReportApplicationService reportApplicationService;\n\n    @PostMapping(&quot;with&quot;)\n    public ResponseEntity with(@RequestBody FindReport findReport) throws Exception {\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\n    }\n\n    @PostMapping(&quot;without&quot;)\n    public ResponseEntity without(@RequestBody FindReport findReport) throws Exception {\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\n    }\n\n    @ExceptionHandler(ClientAbortException.class)\n    public void handleLockException(ClientAbortException exception, HttpServletRequest request) {\n        final String message = &quot;ClientAbortException generated by request {} {} from remote address {} with X-FORWARDED-FOR {}&quot;;\n        final String headerXFF = request.getHeader(&quot;X-FORWARDED-FOR&quot;);\n        log.warn(message, request.getMethod(), request.getRequestURL(), request.getRemoteAddr(), headerXFF);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jar","jruby","warbler"],"answers":[{"tags":[],"owner":{"account_id":8324,"reputation":10946,"user_id":14952,"accept_rate":83,"display_name":"Robert Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333334535,"creation_date":1333334535,"answer_id":9970308,"question_id":9963018,"body_markdown":"According to the Warbler bug you refer to, the fix has been merged, but it looks like no gem has been released since.\r\n\r\nI suggest you try building a latest warbler gem from the github source, as per [this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2577346/how-to-install-gem-from-github-source","title":"Create a standalone jar with JRuby","body":"<p>According to the Warbler bug you refer to, the fix has been merged, but it looks like no gem has been released since.</p>\n\n<p>I suggest you try building a latest warbler gem from the github source, as per <a href=\"https://stackoverflow.com/questions/2577346/how-to-install-gem-from-github-source\">this question</a></p>\n"},{"tags":[],"owner":{"account_id":46231,"reputation":1122,"user_id":136492,"display_name":"manat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1339736554,"creation_date":1339674472,"answer_id":11032432,"question_id":9963018,"body_markdown":"Rawr is quite simpler for the standalone app. In your case, I guess you haven&#39;t specified the main class yet. You should check it on build_configuration.rb \r\n\r\n    # The main ruby file to invoke, minus the .rb extension\r\n    # default value: &quot;main&quot;\r\n    #\r\n    c.main_ruby_file = &quot;hello&quot;\r\n\r\nwhere in my case, hello.rb is the main ruby file.\r\n","title":"Create a standalone jar with JRuby","body":"<p>Rawr is quite simpler for the standalone app. In your case, I guess you haven't specified the main class yet. You should check it on build_configuration.rb </p>\n\n<pre><code># The main ruby file to invoke, minus the .rb extension\n# default value: \"main\"\n#\nc.main_ruby_file = \"hello\"\n</code></pre>\n\n<p>where in my case, hello.rb is the main ruby file.</p>\n"}],"owner":{"account_id":1152536,"reputation":452,"user_id":1133942,"accept_rate":75,"display_name":"The_Fritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11032432,"answer_count":2,"score":2,"last_activity_date":1682538522,"creation_date":1333269469,"question_id":9963018,"body_markdown":"I made some little programs with Swing-components in JRuby. Now I want to convert these to .jar-archives.\r\n\r\nThe first option I found is **warbler**: https://github.com/jruby/warbler\r\nMaking a jar should be as simple as:\r\n\r\n    $ chmod a+x bin/mylittleprogram.rb\r\n    $ warble jar\r\n\r\nBut warble is aborted with an error: &quot;can&#39;t modify frozen string&quot;\r\nsame issue as here: https://github.com/jruby/warbler/issues/76\r\n\r\nI&#39;m a newbie and, frankly speaking, I don&#39;t get from the thread at github **what to do** (like: look for x in file y and change it to z) to make it work. Like the guy who started the thread, I have an Ubuntu OS (11.04) und MRI and JRuby installed. \r\n\r\n\r\nI also found rawr: http://rawr.rubyforge.org/\r\nMaking a jar should work as follows:\r\n\r\n    rawr install\r\n    rake rawr:jar\r\n    java -jar package/jar/your_jar_file.jar\r\n\r\nIn my case, I get an error:\r\n\r\n    Exception in thread &quot;main&quot; org.jruby.exceptions.RaiseException: (LoadError) no such file to load -- main\r\n\r\nMy Question: Which of these two options will be easier to use?\r\nIt would be also very helpful, to get an explanation what warbler and rawr do in the background. \r\n\r\nMany thanks in advance!","title":"Create a standalone jar with JRuby","body":"<p>I made some little programs with Swing-components in JRuby. Now I want to convert these to .jar-archives.</p>\n\n<p>The first option I found is <strong>warbler</strong>: <a href=\"https://github.com/jruby/warbler\" rel=\"nofollow\">https://github.com/jruby/warbler</a>\nMaking a jar should be as simple as:</p>\n\n<pre><code>$ chmod a+x bin/mylittleprogram.rb\n$ warble jar\n</code></pre>\n\n<p>But warble is aborted with an error: \"can't modify frozen string\"\nsame issue as here: <a href=\"https://github.com/jruby/warbler/issues/76\" rel=\"nofollow\">https://github.com/jruby/warbler/issues/76</a></p>\n\n<p>I'm a newbie and, frankly speaking, I don't get from the thread at github <strong>what to do</strong> (like: look for x in file y and change it to z) to make it work. Like the guy who started the thread, I have an Ubuntu OS (11.04) und MRI and JRuby installed. </p>\n\n<p>I also found rawr: <a href=\"http://rawr.rubyforge.org/\" rel=\"nofollow\">http://rawr.rubyforge.org/</a>\nMaking a jar should work as follows:</p>\n\n<pre><code>rawr install\nrake rawr:jar\njava -jar package/jar/your_jar_file.jar\n</code></pre>\n\n<p>In my case, I get an error:</p>\n\n<pre><code>Exception in thread \"main\" org.jruby.exceptions.RaiseException: (LoadError) no such file to load -- main\n</code></pre>\n\n<p>My Question: Which of these two options will be easier to use?\nIt would be also very helpful, to get an explanation what warbler and rawr do in the background. </p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot","openapi","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538292,"creation_date":1682538292,"answer_id":76114512,"question_id":76105965,"body_markdown":"This is expected behavior.  The server url doesn&#39;t go above the method.  Even if it did, it wouldn&#39;t look as you are expecting. Instead, it would have the full server address, like this:\r\n```java\r\n@RequestMapping(value = &quot;https://my.api.com/employee/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)\r\n```\r\n\r\nWhen I used your example with [`openapi-generator V4.3.1`][1] to generate code, I got two classes.  One interface called `DefaultApi` and one Controller, which implements `DefaultApi` called `DefaultApiController`.  The `DefaultApi` interface looked like this\r\n```java\r\n@RequestMapping(value = &quot;/address&quot;,\r\n    produces = { &quot;application/json&quot; }, \r\n    method = RequestMethod.GET)\r\ndefault ResponseEntity&lt;Response&gt; stackOverflowAnswer() {\r\n    return getDelegate().stackOverflowAnswer();\r\n}\r\n```\r\nNotice the value in the `RequestMapping` is `/address`.\r\n\r\nThe key here is the api implementation, which sets the `RequestMapping` at the class level.\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;${openapi.stackOverflowAnswer.base-path:/employee/details/v2}&quot;)\r\npublic class DefaultApiController implements DefaultApi {\r\n```\r\n\r\nNotice here how the RequestMapping has a value appended to it.  This value is expected to be set by you in your application.properties or Spring Configuration file.\r\n\r\nHowever, I don&#39;t recommend that.  You should make your own controller, which implements the `DefaultApi`.  This is where you would implement your controller with your logic for how that controller (and API) should handle any requests and responses.\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/releases/tag/v4.3.1","title":"open-api codegen doesn&#39;t add context path to the request-path url","body":"<p>This is expected behavior.  The server url doesn't go above the method.  Even if it did, it wouldn't look as you are expecting. Instead, it would have the full server address, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;https://my.api.com/employee/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)\n</code></pre>\n<p>When I used your example with <a href=\"https://github.com/OpenAPITools/openapi-generator/releases/tag/v4.3.1\" rel=\"nofollow noreferrer\"><code>openapi-generator V4.3.1</code></a> to generate code, I got two classes.  One interface called <code>DefaultApi</code> and one Controller, which implements <code>DefaultApi</code> called <code>DefaultApiController</code>.  The <code>DefaultApi</code> interface looked like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/address&quot;,\n    produces = { &quot;application/json&quot; }, \n    method = RequestMethod.GET)\ndefault ResponseEntity&lt;Response&gt; stackOverflowAnswer() {\n    return getDelegate().stackOverflowAnswer();\n}\n</code></pre>\n<p>Notice the value in the <code>RequestMapping</code> is <code>/address</code>.</p>\n<p>The key here is the api implementation, which sets the <code>RequestMapping</code> at the class level.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;${openapi.stackOverflowAnswer.base-path:/employee/details/v2}&quot;)\npublic class DefaultApiController implements DefaultApi {\n</code></pre>\n<p>Notice here how the RequestMapping has a value appended to it.  This value is expected to be set by you in your application.properties or Spring Configuration file.</p>\n<p>However, I don't recommend that.  You should make your own controller, which implements the <code>DefaultApi</code>.  This is where you would implement your controller with your logic for how that controller (and API) should handle any requests and responses.</p>\n"}],"owner":{"account_id":12537544,"reputation":155,"user_id":9123737,"display_name":"Runtime Terror - BS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682538292,"creation_date":1682462969,"question_id":76105965,"body_markdown":"I use OAS 3.0 yaml spec to define APIs and use openapi-generator (v4.3.1) to generate controller interface and models.\r\n\r\nBelow is the spec for which the codegen works fine (notice the urls in the &#39;**paths**&#39; and &#39;**servers**&#39; keys):\r\n\r\n```\r\nopenapi: &#39;3.0.0&#39;\r\ninfo:\r\n  version: 1.0.0\r\n  title: &quot;My API&quot;\r\nservers:\r\n  - url: https://my.api.com/employee\r\n    description: Employee API\r\npaths:\r\n  /details/v2/address:\r\n    get:\r\n      // &lt;rest of the spec&gt; ..\r\n```\r\n\r\nHowever, I have been asked to move &quot;/details/v2&quot; to the **servers.url** key at the top of the spec as this part of the url is common for all the endpoints.\r\n\r\nSo now the modified spec is something like.\r\n\r\n```\r\nopenapi: &#39;3.0.0&#39;\r\ninfo:\r\n  version: 1.0.0\r\n  title: &quot;My API&quot;\r\nservers:\r\n  - url: https://my.api.com/employee/details/v2\r\n    description: Employee API\r\npaths:\r\n  /address:\r\n    get:\r\n      // &lt;rest of the spec&gt; ..\r\n```\r\n\r\nBut the problem is that the newly generated interface does not contain the expected url in the RequestMapping annotation. Below is actual and expected code:\r\n\r\n**actual generated code:** `@RequestMapping(value = &quot;/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)`\r\n\r\n**expected code:** `@RequestMapping(value = &quot;/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)`\r\n\r\nI am guessing this either requires change either in the spec or in the openapi-generator config.\r\n\r\nPlease let me know what could be done to fix this.","title":"open-api codegen doesn&#39;t add context path to the request-path url","body":"<p>I use OAS 3.0 yaml spec to define APIs and use openapi-generator (v4.3.1) to generate controller interface and models.</p>\n<p>Below is the spec for which the codegen works fine (notice the urls in the '<strong>paths</strong>' and '<strong>servers</strong>' keys):</p>\n<pre><code>openapi: '3.0.0'\ninfo:\n  version: 1.0.0\n  title: &quot;My API&quot;\nservers:\n  - url: https://my.api.com/employee\n    description: Employee API\npaths:\n  /details/v2/address:\n    get:\n      // &lt;rest of the spec&gt; ..\n</code></pre>\n<p>However, I have been asked to move &quot;/details/v2&quot; to the <strong>servers.url</strong> key at the top of the spec as this part of the url is common for all the endpoints.</p>\n<p>So now the modified spec is something like.</p>\n<pre><code>openapi: '3.0.0'\ninfo:\n  version: 1.0.0\n  title: &quot;My API&quot;\nservers:\n  - url: https://my.api.com/employee/details/v2\n    description: Employee API\npaths:\n  /address:\n    get:\n      // &lt;rest of the spec&gt; ..\n</code></pre>\n<p>But the problem is that the newly generated interface does not contain the expected url in the RequestMapping annotation. Below is actual and expected code:</p>\n<p><strong>actual generated code:</strong> <code>@RequestMapping(value = &quot;/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)</code></p>\n<p><strong>expected code:</strong> <code>@RequestMapping(value = &quot;/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)</code></p>\n<p>I am guessing this either requires change either in the spec or in the openapi-generator config.</p>\n<p>Please let me know what could be done to fix this.</p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682516008,"post_id":76111304,"comment_id":134228312,"body_markdown":"For starters stop mixing JUnit4/JUnit5. `@RunWith(SpringRunner.class)` is for JUnit4, your `@BeforeEach` indicates JUnit5.","body":"For starters stop mixing JUnit4/JUnit5. <code>@RunWith(SpringRunner.class)</code> is for JUnit4, your <code>@BeforeEach</code> indicates JUnit5."},{"owner":{"account_id":23696256,"reputation":1,"user_id":17719943,"display_name":"Connor"},"score":0,"creation_date":1682520197,"post_id":76111304,"comment_id":134229581,"body_markdown":"I got &quot;java.lang.NullPointerException: Cannot invoke &quot;com.myshoppingdemo.service.UserServiceImpl.checkIfUserIsNull(long)&quot; because &quot;this.userServiceImpl&quot; is null\n&quot; after I commented out @RunWith(SpringRunner.class)","body":"I got &quot;java.lang.NullPointerException: Cannot invoke &quot;com.myshoppingdemo.service.UserServiceImpl.checkIfUserIsNul&zwnj;&#8203;l(long)&quot; because &quot;this.userServiceImpl&quot; is null &quot; after I commented out @RunWith(SpringRunner.class)"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682520302,"post_id":76111304,"comment_id":134229619,"body_markdown":"@Connor for junit5, use `@ExtendWith(SpringExtension.class)`","body":"@Connor for junit5, use <code>@ExtendWith(SpringExtension.class)</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682522895,"post_id":76111304,"comment_id":134230384,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538124,"creation_date":1682538124,"answer_id":76114499,"question_id":76111304,"body_markdown":"One of the first issues I have noticed is basically using Junit4 and Junit5 interchangeably which is wrong and can cause weird issues. Another piece of advice is basically while running Integration Tests make sure that either you are running your tests on completely new H2 instances, or in the `beforeEach` delete all records and let each test setup the needed data. Otherwise you will start coupling your test data which could lead to fuzzy results depending on your tests run","title":"Integration test fails in my Spring Boot application","body":"<p>One of the first issues I have noticed is basically using Junit4 and Junit5 interchangeably which is wrong and can cause weird issues. Another piece of advice is basically while running Integration Tests make sure that either you are running your tests on completely new H2 instances, or in the <code>beforeEach</code> delete all records and let each test setup the needed data. Otherwise you will start coupling your test data which could lead to fuzzy results depending on your tests run</p>\n"}],"owner":{"account_id":23696256,"reputation":1,"user_id":17719943,"display_name":"Connor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682538124,"creation_date":1682515486,"question_id":76111304,"body_markdown":"I&#39;m working on integration tests in my Spring Boot application. And I use H2 database for testing.\r\n\r\nI get \r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :true\r\nActual   :false\r\n```\r\n\r\nafter I run assertTrue(userServiceImpl.checkIfUserIsNull(1L)); in isUserNullCheck in UserServiceTest. I think I set up the database properly but the test always fails and I can&#39;t find the problem. \r\n\r\nUser\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;\\&quot;user\\&quot;&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;username&quot;)\r\n\tprivate String userName;\r\n\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\t@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;users_roles&quot;, \r\n\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate Collection&lt;Role&gt; roles;\r\n\r\n\tpublic User() {\r\n\t}\r\n\r\n\tpublic User(String userName, String password, String firstName, String lastName, String email) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic User(String userName, String password, String firstName, String lastName, String email,\r\n\t\t\tCollection&lt;Role&gt; roles) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic Collection&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Collection&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User{&quot; + &quot;id=&quot; + id + &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; + &quot;, password=&#39;&quot; + &quot;*********&quot; + &#39;\\&#39;&#39;\r\n\t\t\t\t+ &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; + &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; + &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39;\r\n\t\t\t\t+ &quot;, roles=&quot; + roles + &#39;}&#39;;\r\n\t}\r\n}\r\n```\r\n\r\nUserservice\r\n\r\n```\r\npublic interface UserService extends UserDetailsService {\r\n\r\n\tpublic Optional&lt;User&gt; findByUserName(String userName);\r\n\r\n\tpublic void save(CrmUser crmUser);\r\n\r\n\tvoid deleteById(Long theId);\r\n\r\n\tpublic boolean checkIfUserIsNull(long id);\r\n\r\n}\r\n```\r\nUserServiceImpl\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class UserServiceImpl implements UserService {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Lazy\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UserServiceImpl.class);\r\n\r\n    @Override\r\n    @Transactional\r\n    public Optional&lt;User&gt; findByUserName(String userName) {\r\n        // check the database if the user already exists\r\n        return userRepository.findByUserName(userName);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void save(CrmUser crmUser) {\r\n        User user = new User();\r\n        // assign user details to the user object\r\n        user.setUserName(crmUser.getUserName());\r\n        user.setPassword(passwordEncoder.encode(crmUser.getPassword()));\r\n        user.setFirstName(crmUser.getFirstName());\r\n        user.setLastName(crmUser.getLastName());\r\n        user.setEmail(crmUser.getEmail());\r\n\r\n        // give user default role of &quot;CUSTOMER&quot;\r\n        Optional&lt;Role&gt; roleCustomer = roleRepository.findRoleByName(&quot;ROLE_CUSTOMER&quot;);\r\n        log.info(&quot;The role &quot; + roleCustomer);\r\n        if (!roleCustomer.isPresent()) {\r\n            throw new NoSuchElementException(&quot;The role is not found&quot;);\r\n        } else {\r\n            user.setRoles(Collections.singletonList(roleCustomer.get()));\r\n        }\r\n        // save user in the database\r\n        userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void deleteById(Long theId) {\r\n        Session currentSession = entityManager.unwrap(Session.class);\r\n        Query theQuery = currentSession.createQuery(&quot;delete from User where id=:userId&quot;);\r\n        theQuery.setParameter(&quot;userId&quot;, theId);\r\n        theQuery.executeUpdate();\r\n    }\r\n\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = userRepository.findByUserName(userName);\r\n        log.info(&quot;user is present: &quot; + user.isPresent());\r\n        if (!user.isPresent()) {\r\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n        }\r\n        log.info(&quot;password: &quot; + user.get().getPassword());\r\n        return new org.springframework.security.core.userdetails.User(user.get().getUserName(), user.get().getPassword(),\r\n                mapRolesToAuthorities(user.get().getRoles()));\r\n    }\r\nprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\r\n        if (roles == null) {\r\n            return Collections.emptyList();\r\n        }\r\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n    }\r\n\r\n    public boolean checkIfUserIsNull(long id) {\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n        return user.isPresent();\r\n    }\r\n}\r\n```\r\n\r\nUserRepository\r\n```\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByUserName(String userName);\r\n}\r\n```\r\n\r\napplication-test.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;INIT=CREATE SCHEMA IF NOT EXISTS &quot;user&quot;\\\\;SET SCHEMA &quot;user&quot;;DB_CLOSE_DELAY=-1\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.datasource.initialization-mode=always\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql = true\r\n\r\nsql.script.create.user1=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (1,&#39;john&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;John&#39;,&#39;Doe&#39;,&#39;john@luv2code.com&#39;)\r\nsql.script.create.user2=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (2,&#39;mary&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;Mary&#39;,&#39;Public&#39;,&#39;mary@luv2code.com&#39;)\r\nsql.script.create.user3=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (3,&#39;susan&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;Susan&#39;,&#39;Adams&#39;,&#39;susan@luv2code.com&#39;)\r\n\r\n\r\nsql.script.create.role1=INSERT INTO `role` (id,name) VALUES (1,&#39;ROLE_CUSTOMER&#39;)\r\nsql.script.create.role2=INSERT INTO `role` (id,name) VALUES (2,&#39;ROLE_ADMIN&#39;)\r\n\r\nsql.script.create.users_roles.user1=INSERT INTO `users_roles` (user_id,role_id) VALUES (1, 1)\r\nsql.script.create.users_roles.user2=INSERT INTO `users_roles` (user_id,role_id) VALUES (2, 2)\r\nsql.script.create.users_roles.user3=INSERT INTO `users_roles` (user_id,role_id) VALUES (3, 2)\r\n\r\nsql.script.delete.user=DELETE FROM user\r\nsql.script.delete.role=DELETE FROM role\r\nsql.script.delete.users_roles=DELETE FROM users_roles\r\n```\r\n\r\nUserServiceTest\r\n\r\n```\r\n@TestPropertySource(&quot;/application-test.properties&quot;)\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    private static JdbcTemplate jdbc;\r\n@Autowired\r\n    private UserServiceImpl userServiceImpl;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UserServiceTest.class);\r\n\r\n    @Value(&quot;${sql.script.create.user1}&quot;)\r\n    private String sqlCreateUser1;\r\n\r\n    @Value(&quot;${sql.script.create.user2}&quot;)\r\n    private String sqlCreateUser2;\r\n\r\n    @Value(&quot;${sql.script.create.user3}&quot;)\r\n    private String sqlCreateUser3;\r\n\r\n    @Value(&quot;${sql.script.create.role1}&quot;)\r\n    private String sqlCreateRole1;\r\n\r\n    @Value(&quot;${sql.script.create.role2}&quot;)\r\n    private String sqlCreateRole2;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user1}&quot;)\r\n    private String sqlCreateUsersRolesUser1;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\r\n    private String sqlCreateUsersRolesUser2;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\r\n    private String sqlCreateUsersRolesUser3;\r\n\r\n    @Value(&quot;${sql.script.delete.user}&quot;)\r\n    private String sqlDeleteUser;\r\n\r\n    @Value(&quot;${sql.script.delete.role}&quot;)\r\n    private String sqlDeleteRole;\r\n\r\n    @Value(&quot;${sql.script.delete.users_roles}&quot;)\r\n    private String sqlDeleteUsersRoles;\r\n\r\n    @BeforeEach\r\n    public void setupDatabase() {\r\n        jdbc.execute(sqlCreateUser1);\r\n        jdbc.execute(sqlCreateUser2);\r\n        jdbc.execute(sqlCreateUser3);\r\n        jdbc.execute(sqlCreateRole1);\r\n        jdbc.execute(sqlCreateRole2);\r\n        jdbc.execute(sqlCreateUsersRolesUser1);\r\n        jdbc.execute(sqlCreateUsersRolesUser2);\r\n        jdbc.execute(sqlCreateUsersRolesUser3);\r\n    }\r\n\r\n    @Test\r\n    public void isUserNullCheck() {\r\n        assertTrue(userServiceImpl.checkIfUserIsNull(1L));\r\n        assertFalse(userServiceImpl.checkIfUserIsNull(0L));\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterAll() {\r\n        jdbc.execute(sqlDeleteUser);\r\n        jdbc.execute(sqlDeleteRole);\r\n        jdbc.execute(sqlDeleteUsersRoles);\r\n    }\r\n}\r\n```\r\n\r\nI checked the sql statements and the code. They seem fine. I can&#39;t find the problem.","title":"Integration test fails in my Spring Boot application","body":"<p>I'm working on integration tests in my Spring Boot application. And I use H2 database for testing.</p>\n<p>I get</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :true\nActual   :false\n</code></pre>\n<p>after I run assertTrue(userServiceImpl.checkIfUserIsNull(1L)); in isUserNullCheck in UserServiceTest. I think I set up the database properly but the test always fails and I can't find the problem.</p>\n<p>User</p>\n<pre><code>@Entity\n@Table(name = &quot;\\&quot;user\\&quot;&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;, \n    joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Collection&lt;Role&gt; roles;\n\n    public User() {\n    }\n\n    public User(String userName, String password, String firstName, String lastName, String email) {\n        this.userName = userName;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n    }\n\n    public User(String userName, String password, String firstName, String lastName, String email,\n            Collection&lt;Role&gt; roles) {\n        this.userName = userName;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.roles = roles;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; + &quot;id=&quot; + id + &quot;, userName='&quot; + userName + '\\'' + &quot;, password='&quot; + &quot;*********&quot; + '\\''\n                + &quot;, firstName='&quot; + firstName + '\\'' + &quot;, lastName='&quot; + lastName + '\\'' + &quot;, email='&quot; + email + '\\''\n                + &quot;, roles=&quot; + roles + '}';\n    }\n}\n</code></pre>\n<p>Userservice</p>\n<pre><code>public interface UserService extends UserDetailsService {\n\n    public Optional&lt;User&gt; findByUserName(String userName);\n\n    public void save(CrmUser crmUser);\n\n    void deleteById(Long theId);\n\n    public boolean checkIfUserIsNull(long id);\n\n}\n</code></pre>\n<p>UserServiceImpl</p>\n<pre><code>@Service\n@Transactional\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    private EntityManager entityManager;\n\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Lazy\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    private static final Logger log = LoggerFactory.getLogger(UserServiceImpl.class);\n\n    @Override\n    @Transactional\n    public Optional&lt;User&gt; findByUserName(String userName) {\n        // check the database if the user already exists\n        return userRepository.findByUserName(userName);\n    }\n\n    @Override\n    @Transactional\n    public void save(CrmUser crmUser) {\n        User user = new User();\n        // assign user details to the user object\n        user.setUserName(crmUser.getUserName());\n        user.setPassword(passwordEncoder.encode(crmUser.getPassword()));\n        user.setFirstName(crmUser.getFirstName());\n        user.setLastName(crmUser.getLastName());\n        user.setEmail(crmUser.getEmail());\n\n        // give user default role of &quot;CUSTOMER&quot;\n        Optional&lt;Role&gt; roleCustomer = roleRepository.findRoleByName(&quot;ROLE_CUSTOMER&quot;);\n        log.info(&quot;The role &quot; + roleCustomer);\n        if (!roleCustomer.isPresent()) {\n            throw new NoSuchElementException(&quot;The role is not found&quot;);\n        } else {\n            user.setRoles(Collections.singletonList(roleCustomer.get()));\n        }\n        // save user in the database\n        userRepository.save(user);\n    }\n\n    @Override\n    @Transactional\n    public void deleteById(Long theId) {\n        Session currentSession = entityManager.unwrap(Session.class);\n        Query theQuery = currentSession.createQuery(&quot;delete from User where id=:userId&quot;);\n        theQuery.setParameter(&quot;userId&quot;, theId);\n        theQuery.executeUpdate();\n    }\n\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findByUserName(userName);\n        log.info(&quot;user is present: &quot; + user.isPresent());\n        if (!user.isPresent()) {\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n        log.info(&quot;password: &quot; + user.get().getPassword());\n        return new org.springframework.security.core.userdetails.User(user.get().getUserName(), user.get().getPassword(),\n                mapRolesToAuthorities(user.get().getRoles()));\n    }\nprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\n        if (roles == null) {\n            return Collections.emptyList();\n        }\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n    }\n\n    public boolean checkIfUserIsNull(long id) {\n        Optional&lt;User&gt; user = userRepository.findById(id);\n        return user.isPresent();\n    }\n}\n</code></pre>\n<p>UserRepository</p>\n<pre><code>\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUserName(String userName);\n}\n</code></pre>\n<p>application-test.properties</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;INIT=CREATE SCHEMA IF NOT EXISTS &quot;user&quot;\\\\;SET SCHEMA &quot;user&quot;;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.datasource.initialization-mode=always\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql = true\n\nsql.script.create.user1=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (1,'john','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','John','Doe','john@luv2code.com')\nsql.script.create.user2=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (2,'mary','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','Mary','Public','mary@luv2code.com')\nsql.script.create.user3=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (3,'susan','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','Susan','Adams','susan@luv2code.com')\n\n\nsql.script.create.role1=INSERT INTO `role` (id,name) VALUES (1,'ROLE_CUSTOMER')\nsql.script.create.role2=INSERT INTO `role` (id,name) VALUES (2,'ROLE_ADMIN')\n\nsql.script.create.users_roles.user1=INSERT INTO `users_roles` (user_id,role_id) VALUES (1, 1)\nsql.script.create.users_roles.user2=INSERT INTO `users_roles` (user_id,role_id) VALUES (2, 2)\nsql.script.create.users_roles.user3=INSERT INTO `users_roles` (user_id,role_id) VALUES (3, 2)\n\nsql.script.delete.user=DELETE FROM user\nsql.script.delete.role=DELETE FROM role\nsql.script.delete.users_roles=DELETE FROM users_roles\n</code></pre>\n<p>UserServiceTest</p>\n<pre><code>@TestPropertySource(&quot;/application-test.properties&quot;)\n@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private static JdbcTemplate jdbc;\n@Autowired\n    private UserServiceImpl userServiceImpl;\n\n    private static final Logger log = LoggerFactory.getLogger(UserServiceTest.class);\n\n    @Value(&quot;${sql.script.create.user1}&quot;)\n    private String sqlCreateUser1;\n\n    @Value(&quot;${sql.script.create.user2}&quot;)\n    private String sqlCreateUser2;\n\n    @Value(&quot;${sql.script.create.user3}&quot;)\n    private String sqlCreateUser3;\n\n    @Value(&quot;${sql.script.create.role1}&quot;)\n    private String sqlCreateRole1;\n\n    @Value(&quot;${sql.script.create.role2}&quot;)\n    private String sqlCreateRole2;\n\n    @Value(&quot;${sql.script.create.users_roles.user1}&quot;)\n    private String sqlCreateUsersRolesUser1;\n\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\n    private String sqlCreateUsersRolesUser2;\n\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\n    private String sqlCreateUsersRolesUser3;\n\n    @Value(&quot;${sql.script.delete.user}&quot;)\n    private String sqlDeleteUser;\n\n    @Value(&quot;${sql.script.delete.role}&quot;)\n    private String sqlDeleteRole;\n\n    @Value(&quot;${sql.script.delete.users_roles}&quot;)\n    private String sqlDeleteUsersRoles;\n\n    @BeforeEach\n    public void setupDatabase() {\n        jdbc.execute(sqlCreateUser1);\n        jdbc.execute(sqlCreateUser2);\n        jdbc.execute(sqlCreateUser3);\n        jdbc.execute(sqlCreateRole1);\n        jdbc.execute(sqlCreateRole2);\n        jdbc.execute(sqlCreateUsersRolesUser1);\n        jdbc.execute(sqlCreateUsersRolesUser2);\n        jdbc.execute(sqlCreateUsersRolesUser3);\n    }\n\n    @Test\n    public void isUserNullCheck() {\n        assertTrue(userServiceImpl.checkIfUserIsNull(1L));\n        assertFalse(userServiceImpl.checkIfUserIsNull(0L));\n    }\n\n    @AfterEach\n    public void afterAll() {\n        jdbc.execute(sqlDeleteUser);\n        jdbc.execute(sqlDeleteRole);\n        jdbc.execute(sqlDeleteUsersRoles);\n    }\n}\n</code></pre>\n<p>I checked the sql statements and the code. They seem fine. I can't find the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5827331,"reputation":1,"user_id":5810132,"display_name":"Shaswati"},"score":0,"creation_date":1453205692,"post_id":34875520,"comment_id":57490918,"body_markdown":"The fully qualified name solved the conflict, Thanks !","body":"The fully qualified name solved the conflict, Thanks !"},{"owner":{"account_id":1428032,"reputation":5782,"user_id":1351076,"accept_rate":60,"display_name":"krlzlx"},"score":0,"creation_date":1453207022,"post_id":34875520,"comment_id":57491728,"body_markdown":"Then validate the answer that helped you!","body":"Then validate the answer that helped you!"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453203007,"creation_date":1453203007,"answer_id":34875652,"question_id":34875520,"body_markdown":"Two options:\r\n\r\n1. Fully qualify the name of the selenium-provided class, avoiding the need for the conflicting import:\r\n\r\n        ChromeDriver myChromeDriver = new ChromeDriver(); // One from same package\r\n        org.openqa.selenium.chrome.ChromeDriver theirChromeDriver = new org.openqa.selenium.chrome.ChromeDriver();  // One from selenium\r\n\r\n2. Rename your `ChromeDriver` class.","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>Two options:</p>\n\n<ol>\n<li><p>Fully qualify the name of the selenium-provided class, avoiding the need for the conflicting import:</p>\n\n<pre><code>ChromeDriver myChromeDriver = new ChromeDriver(); // One from same package\norg.openqa.selenium.chrome.ChromeDriver theirChromeDriver = new org.openqa.selenium.chrome.ChromeDriver();  // One from selenium\n</code></pre></li>\n<li><p>Rename your <code>ChromeDriver</code> class.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8223586,"reputation":13,"user_id":6186528,"display_name":"Mahesh kafle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682537553,"creation_date":1682537456,"answer_id":76114419,"question_id":34875520,"body_markdown":"You could have named your .java file as TakesScreenshot.java this is the reason you got the issue. Just rename your file from TakesScreenshot.java to TakesScreenshotDemo.java or sth else.","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>You could have named your .java file as TakesScreenshot.java this is the reason you got the issue. Just rename your file from TakesScreenshot.java to TakesScreenshotDemo.java or sth else.</p>\n"}],"owner":{"account_id":5827331,"reputation":1,"user_id":5810132,"display_name":"Shaswati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1682537553,"creation_date":1453202662,"question_id":34875520,"body_markdown":"While trying to set chrome browser for selenium testing I am facing this conflict, please help !","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>While trying to set chrome browser for selenium testing I am facing this conflict, please help !</p>\n"},{"tags":["java","integer","double","runtime","long-integer"],"answers":[{"tags":[],"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682536910,"creation_date":1682536910,"answer_id":76114353,"question_id":76114289,"body_markdown":"`(long)(Math.pow((i+1),2)-((3*i)+1)+i)` from your first solution, you are casting the result of your equation as a long which supports very large numbers. in your second you are not casting to a long, so java assumes the result is an int. when the result of that equation starts to become very large, it no longer fits in an int so you are getting unexpected results from the later iterations of your for loop.","title":"Not showing correct output for a input 100000 - Runtime error","body":"<p><code>(long)(Math.pow((i+1),2)-((3*i)+1)+i)</code> from your first solution, you are casting the result of your equation as a long which supports very large numbers. in your second you are not casting to a long, so java assumes the result is an int. when the result of that equation starts to become very large, it no longer fits in an int so you are getting unexpected results from the later iterations of your for loop.</p>\n"}],"owner":{"account_id":26795674,"reputation":1,"user_id":20388452,"display_name":"vinit yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682549561,"answer_count":1,"score":0,"last_activity_date":1682536910,"creation_date":1682536337,"question_id":76114289,"body_markdown":"Sigma of Equation\r\nGiven a number N, find the value of the below equation for the given number.\r\n\r\nEquation\r\n\r\n    N\r\n      {(X + 1)^2 - (3X + 1) + X}\r\n    X = 1\r\n\r\nInput Format\r\n&gt;First line contains an integer n\r\n\r\nOutput Format\r\n&gt;Single line output representing the value.\r\n\r\nExample 1\r\n\r\n    Input\r\n    1\r\n    Output\r\n    1\r\n\r\nExample 2\r\n\r\n    Input\r\n    2\r\n    Output\r\n    5\r\n\r\nExplanation\r\n\r\n    {(1+1)&#178; - (3x1+1) + (1)} + {(2+1)&#178; - (3x2+1) +2} = 4 - 4 +1 + 9 -7 +2 = 5\r\n\r\nConstraints\r\n\r\n    1 &lt;= n &lt;= 105\r\n\r\n### **I have two solution one is working and second is not working for some test cases like n=100000.\r\n# Solution 1(Working):**\r\n```\r\n\r\nimport java.util.*;\r\nimport static java.lang.Math.ceil;\r\n\r\nclass Solution {\r\n    public long SigmaEquation(int n ) {\r\n\t\tlong ans=0;\r\n\t\tfor(int i=1; i&lt;=n; i++){\r\n\t\t\tans = ans + (long)(Math.pow((i+1),2)-((3*i)+1)+i);\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        Solution Obj = new Solution();\r\n        System.out.println(Obj.SigmaEquation(n));\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n### **Solution 2(error for some test cases like n= 100000 ):-**\r\n```\r\n\r\nimport java.util.*;\r\nimport static java.lang.Math.ceil;\r\n\r\nclass Solution {\r\n    public long SigmaEquation(int n ) {\r\n\t\tlong ans=0;\r\n\t\tfor(int i=1; i&lt;=n; i++){\r\n\t\t\tans = ans + (((i+1)*(i+1))-((3*i)+1)+i);\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        Solution Obj = new Solution();\r\n        System.out.println(Obj.SigmaEquation(n));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Getting this issue for solution 2 why?\r\n### and why the same issue solved in solution 1 program?\r\n\r\n### Wrong Answer\r\n\r\n    Time Limit : 171ms\r\n    Time Taken By Your Code : 152ms\r\n\r\n### Input\r\n\r\n    100000\r\n\r\n### Correct Output\r\n\r\n    333338333350000\r\n\r\n### Your Output\r\n\r\n    18104913692784\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Not showing correct output for a input 100000 - Runtime error","body":"<p>Sigma of Equation\nGiven a number N, find the value of the below equation for the given number.</p>\n<p>Equation</p>\n<pre><code>N\n  {(X + 1)^2 - (3X + 1) + X}\nX = 1\n</code></pre>\n<p>Input Format</p>\n<blockquote>\n<p>First line contains an integer n</p>\n</blockquote>\n<p>Output Format</p>\n<blockquote>\n<p>Single line output representing the value.</p>\n</blockquote>\n<p>Example 1</p>\n<pre><code>Input\n1\nOutput\n1\n</code></pre>\n<p>Example 2</p>\n<pre><code>Input\n2\nOutput\n5\n</code></pre>\n<p>Explanation</p>\n<pre><code>{(1+1) - (3x1+1) + (1)} + {(2+1) - (3x2+1) +2} = 4 - 4 +1 + 9 -7 +2 = 5\n</code></pre>\n<p>Constraints</p>\n<pre><code>1 &lt;= n &lt;= 105\n</code></pre>\n<h3>**I have two solution one is working and second is not working for some test cases like n=100000.</h3>\n<h1>Solution 1(Working):**</h1>\n<pre><code>\nimport java.util.*;\nimport static java.lang.Math.ceil;\n\nclass Solution {\n    public long SigmaEquation(int n ) {\n        long ans=0;\n        for(int i=1; i&lt;=n; i++){\n            ans = ans + (long)(Math.pow((i+1),2)-((3*i)+1)+i);\n        }\n        return ans;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        Solution Obj = new Solution();\n        System.out.println(Obj.SigmaEquation(n));\n\n    }\n}\n\n\n</code></pre>\n<h3><strong>Solution 2(error for some test cases like n= 100000 ):-</strong></h3>\n<pre><code>\nimport java.util.*;\nimport static java.lang.Math.ceil;\n\nclass Solution {\n    public long SigmaEquation(int n ) {\n        long ans=0;\n        for(int i=1; i&lt;=n; i++){\n            ans = ans + (((i+1)*(i+1))-((3*i)+1)+i);\n        }\n        return ans;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        Solution Obj = new Solution();\n        System.out.println(Obj.SigmaEquation(n));\n\n    }\n}\n\n</code></pre>\n<h3>Getting this issue for solution 2 why?</h3>\n<h3>and why the same issue solved in solution 1 program?</h3>\n<h3>Wrong Answer</h3>\n<pre><code>Time Limit : 171ms\nTime Taken By Your Code : 152ms\n</code></pre>\n<h3>Input</h3>\n<pre><code>100000\n</code></pre>\n<h3>Correct Output</h3>\n<pre><code>333338333350000\n</code></pre>\n<h3>Your Output</h3>\n<pre><code>18104913692784\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"score":0,"creation_date":1396888493,"post_id":22918059,"comment_id":34980418,"body_markdown":"Blocking call? How about `wait()` method?","body":"Blocking call? How about <code>wait()</code> method?"},{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":0,"creation_date":1396888507,"post_id":22918059,"comment_id":34980426,"body_markdown":"You could also just spawn off another thread.","body":"You could also just spawn off another thread."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682536549,"creation_date":1396888492,"answer_id":22918122,"question_id":22918059,"body_markdown":"You can use [ScheduledThreadPoolExecutor][1]. For example:\r\n\r\n```java\r\nvar scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n\r\nvar scheduledFuture = scheduler.schedule(this::method,  5, TimeUnit.SECONDS);\r\n\r\n\r\npublic String method() {\r\n    System.out.println(&quot;Executed!&quot;);\r\n    return &quot;Called!&quot;;\r\n}\r\n```\r\n\r\nFirst a `ScheduledExecutorService` is created with one thread in. \r\n\r\nThen an anonymous implementation of the `Callable` interface is created and passed to the `schedule()` method. The two last parameters specify that the `Callable` should be executed after 5 seconds.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n","title":"Is there any alternative to Thread.sleep()?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var scheduler = Executors.newScheduledThreadPool(1);\n\n\nvar scheduledFuture = scheduler.schedule(this::method,  5, TimeUnit.SECONDS);\n\n\npublic String method() {\n    System.out.println(&quot;Executed!&quot;);\n    return &quot;Called!&quot;;\n}\n</code></pre>\n<p>First a <code>ScheduledExecutorService</code> is created with one thread in.</p>\n<p>Then an anonymous implementation of the <code>Callable</code> interface is created and passed to the <code>schedule()</code> method. The two last parameters specify that the <code>Callable</code> should be executed after 5 seconds.</p>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22918122,"answer_count":1,"score":2,"last_activity_date":1682536549,"creation_date":1396888293,"question_id":22918059,"body_markdown":"I need to perform some waiting between one call and another.\r\nProblem is that this waiting will be made in a library so it is not a good practice to put a Thread.sleep() there. No swing involved, this library is a jna interface.\r\n\r\nSo..is there any alternative suited for my case?","title":"Is there any alternative to Thread.sleep()?","body":"<p>I need to perform some waiting between one call and another.\nProblem is that this waiting will be made in a library so it is not a good practice to put a Thread.sleep() there. No swing involved, this library is a jna interface.</p>\n\n<p>So..is there any alternative suited for my case?</p>\n"},{"tags":["java","spring-boot","yaml","springdoc-openapi-maven-plugin"],"comments":[{"owner":{"account_id":4476677,"reputation":2544,"user_id":3641635,"display_name":"Zilog80"},"score":0,"creation_date":1696844456,"post_id":76114262,"comment_id":136200296,"body_markdown":"You must add two execution goals as pre and post integration tests to the spring-boot-maven-plugin: start and stop. The springdoc-openapi-maven-plugin needs spring-boot to start a local server to produce the docs as it is mean to operate at runtime.","body":"You must add two execution goals as pre and post integration tests to the spring-boot-maven-plugin: start and stop. The springdoc-openapi-maven-plugin needs spring-boot to start a local server to produce the docs as it is mean to operate at runtime."}],"owner":{"account_id":7347810,"reputation":389,"user_id":5594989,"accept_rate":83,"display_name":"Sergio Antonio Snchez Camarero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682536165,"creation_date":1682536050,"question_id":76114262,"body_markdown":"I&#39;m trying to generate a file openapi.yaml with the correct annotation and with the &quot;springdoc-openapi-maven-plugin:1.4&quot;\r\nThe project is structured in a hexagonal architecture ande the dependency and plugin are on a submodule of rest package.\r\nI have tested this plugin in the step with a simple architecture and it worked but with this hexagonal architecture not work.\r\n\r\nI&#39;m ussing this dependencys:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\nAnd I have this plugin:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;1.4&lt;/version&gt;\r\n       &lt;executions&gt;\r\n          &lt;execution&gt;\r\n             &lt;phase&gt;integration-test&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n       &lt;configuration&gt;\r\n          &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs&lt;/apiDocsUrl&gt;\r\n          &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\r\n          &lt;outputDir&gt;${project.basedir}/src/main/resources&lt;/outputDir&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd when I execute &quot;generate&quot; of the plugin, this returned this: \r\n\r\n\r\n\r\n    [INFO] --- springdoc-openapi-maven-plugin:1.4:generate (default-cli) @ server-api-openapi ---\r\n    [ERROR] An error has occured\r\n    java.net.ConnectException: Connection refused\r\n        at sun.nio.ch.Net.connect0 (Native Method)\r\n        at sun.nio.ch.Net.connect (Net.java:579)\r\n        at sun.nio.ch.Net.connect (Net.java:568)\r\n        at sun.nio.ch.NioSocketImpl.connect (NioSocketImpl.java:588)\r\n        at java.net.Socket.connect (Socket.java:633)\r\n        at java.net.Socket.connect (Socket.java:583)\r\n        at sun.net.NetworkClient.doConnect (NetworkClient.java:183)\r\n        at sun.net.www.http.HttpClient.openServer (HttpClient.java:531)\r\n        at sun.net.www.http.HttpClient.openServer (HttpClient.java:636)\r\n        at sun.net.www.http.HttpClient.&lt;init&gt; (HttpClient.java:279)\r\n        at sun.net.www.http.HttpClient.New (HttpClient.java:384)\r\n        at sun.net.www.http.HttpClient.New (HttpClient.java:406)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient (HttpURLConnection.java:1309)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect0 (HttpURLConnection.java:1242)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect (HttpURLConnection.java:1128)\r\n        at sun.net.www.protocol.http.HttpURLConnection.connect (HttpURLConnection.java:1057)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0 (HttpURLConnection.java:1665)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream (HttpURLConnection.java:1589)\r\n        at java.net.HttpURLConnection.getResponseCode (HttpURLConnection.java:529)\r\n        at org.springdoc.maven.plugin.SpringDocMojo.execute (SpringDocMojo.java:110)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n\r\nCould anyone help me?\r\n\r\nThanks","title":"Generate OpenApi 3 with annotation SpringBoot v3","body":"<p>I'm trying to generate a file openapi.yaml with the correct annotation and with the &quot;springdoc-openapi-maven-plugin:1.4&quot;\nThe project is structured in a hexagonal architecture ande the dependency and plugin are on a submodule of rest package.\nI have tested this plugin in the step with a simple architecture and it worked but with this hexagonal architecture not work.</p>\n<p>I'm ussing this dependencys:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And I have this plugin:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;1.4&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;phase&gt;integration-test&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n         &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;configuration&gt;\n      &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs&lt;/apiDocsUrl&gt;\n      &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\n      &lt;outputDir&gt;${project.basedir}/src/main/resources&lt;/outputDir&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And when I execute &quot;generate&quot; of the plugin, this returned this:</p>\n<pre><code>[INFO] --- springdoc-openapi-maven-plugin:1.4:generate (default-cli) @ server-api-openapi ---\n[ERROR] An error has occured\njava.net.ConnectException: Connection refused\n    at sun.nio.ch.Net.connect0 (Native Method)\n    at sun.nio.ch.Net.connect (Net.java:579)\n    at sun.nio.ch.Net.connect (Net.java:568)\n    at sun.nio.ch.NioSocketImpl.connect (NioSocketImpl.java:588)\n    at java.net.Socket.connect (Socket.java:633)\n    at java.net.Socket.connect (Socket.java:583)\n    at sun.net.NetworkClient.doConnect (NetworkClient.java:183)\n    at sun.net.www.http.HttpClient.openServer (HttpClient.java:531)\n    at sun.net.www.http.HttpClient.openServer (HttpClient.java:636)\n    at sun.net.www.http.HttpClient.&lt;init&gt; (HttpClient.java:279)\n    at sun.net.www.http.HttpClient.New (HttpClient.java:384)\n    at sun.net.www.http.HttpClient.New (HttpClient.java:406)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient (HttpURLConnection.java:1309)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0 (HttpURLConnection.java:1242)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect (HttpURLConnection.java:1128)\n    at sun.net.www.protocol.http.HttpURLConnection.connect (HttpURLConnection.java:1057)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0 (HttpURLConnection.java:1665)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream (HttpURLConnection.java:1589)\n    at java.net.HttpURLConnection.getResponseCode (HttpURLConnection.java:529)\n    at org.springdoc.maven.plugin.SpringDocMojo.execute (SpringDocMojo.java:110)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<p>Could anyone help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1682536485,"post_id":76114227,"comment_id":134233475,"body_markdown":"you can enable spring DEBUG level logs and post them in full here so we can see the reason for the 401. Also, `WebSecurityConfigurerAdapter` is deprecated, and you should upgrade to spring boot 3 and Spring Security 6. Also is there any reason to why you are not using the built in handling of JWTs that already comes with spring security? https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html and here is an example https://github.com/Tandolf/spring-security-jwt-demo","body":"you can enable spring DEBUG level logs and post them in full here so we can see the reason for the 401. Also, <code>WebSecurityConfigurerAdapter</code> is deprecated, and you should upgrade to spring boot 3 and Spring Security 6. Also is there any reason to why you are not using the built in handling of JWTs that already comes with spring security? <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> and here is an example <a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a>"}],"owner":{"account_id":25845523,"reputation":45,"user_id":19580434,"display_name":"HelloTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682535790,"creation_date":1682535790,"question_id":76114227,"body_markdown":"I&#39;m trying to bundle my React and Springboot Project to run on the same port. Whenever I run them separately, it works fine. React running on 3000 and springboot server running on 8080. However, whenever I try to run the JAR file I get a 401 error. I have the maven resources plugin copying the frontend files to the static folder. How can I solve this error? All my security files down below...\r\n\r\n**SecurityConfig.java**\r\n```\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@EnableWebMvc\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    public static final String[] PUBLIC_URL={\r\n            &quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;,&quot;/login&quot;,\r\n            &quot;/api/v1/auth/register&quot;,\r\n            &quot;/api/v1/auth/authenticate&quot;,\r\n            &quot;/api/v1/articles/**&quot;,\r\n            &quot;/api/v1/comments/get/**&quot;,\r\n            &quot;/api/v1/contact/**&quot;,\r\n            &quot;/api/v1/admin/login&quot;,\r\n            &quot;/api/v1/file/**&quot;,\r\n            &quot;/api/v1/seller/login**&quot;\r\n    };\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired\r\n    private CustomUserDetailService customUserDetailService;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .antMatchers(PUBLIC_URL).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(customUserDetailService).passwordEncoder(passwordEncoder);\r\n\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n**JwtAuthenticationEntryPoint.java**\r\n```\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                         AuthenticationException authException) throws IOException, ServletException {\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Access Denined !&quot;);\r\n\r\n    }\r\n}\r\n```\r\n**JWTAuthenticationfilter.java**\r\n```\r\n@Component\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtTokenHelper jwtTokenHelper;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\r\n\r\n        String requestToken = request.getHeader(&quot;Authorization&quot;);\r\n        System.out.println(requestToken);\r\n\r\n        String username = null;\r\n        String token = null;\r\n\r\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\r\n\r\n            token = requestToken.substring(7);\r\n\r\n            try {\r\n                username = jwtTokenHelper.extractUsername(token);\r\n            } catch (IllegalArgumentException r) {\r\n                System.out.println(&quot;Unable to get Jwt token&quot;);\r\n            } catch (ExpiredJwtException e) {\r\n                System.out.println(&quot;Token has expired&quot;);\r\n            } catch (MalformedJwtException e) {\r\n                System.out.println(&quot;invalid jwt&quot;);\r\n\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Jwt token does not start with Bearer&quot;);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n            if (jwtTokenHelper.validateToken(token, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken=new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            } else {\r\n                System.out.println(&quot;invalid jwt&quot;);\r\n\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;invalid jwt&quot;);\r\n\r\n        }\r\n\r\n        try {\r\n            filterChain.doFilter(request,response);\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n            throw new RuntimeException(e);\r\n        } catch (ServletException e) {\r\n            System.out.println(e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n**Pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;GameReviewz&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;GameReviewz&lt;/name&gt;\r\n    &lt;description&gt;SpringBoot Application for GameReviewz&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;from&gt;\r\n                        &lt;image&gt;openjdk:17&lt;/image&gt;\r\n                    &lt;/from&gt;\r\n                    &lt;container&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8080&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                        &lt;format&gt;OCI&lt;/format&gt;\r\n                    &lt;/container&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;build-frontend&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;!-- Use the latest released version:\r\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n                        &lt;version&gt;1.12.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n                            &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;install node and npm&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;nodeVersion&gt;v16.16.0&lt;/nodeVersion&gt;\r\n                                    &lt;npmVersion&gt;8.11.0&lt;/npmVersion&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm install&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm run build&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\r\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;resources&gt;\r\n                                        &lt;resource&gt;\r\n                                            &lt;directory&gt;src/frontend/build&lt;/directory&gt;\r\n                                        &lt;/resource&gt;\r\n                                    &lt;/resources&gt;\r\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n ","title":"Bundle React and Springboot Project","body":"<p>I'm trying to bundle my React and Springboot Project to run on the same port. Whenever I run them separately, it works fine. React running on 3000 and springboot server running on 8080. However, whenever I try to run the JAR file I get a 401 error. I have the maven resources plugin copying the frontend files to the static folder. How can I solve this error? All my security files down below...</p>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebMvc\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    public static final String[] PUBLIC_URL={\n            &quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;,&quot;/login&quot;,\n            &quot;/api/v1/auth/register&quot;,\n            &quot;/api/v1/auth/authenticate&quot;,\n            &quot;/api/v1/articles/**&quot;,\n            &quot;/api/v1/comments/get/**&quot;,\n            &quot;/api/v1/contact/**&quot;,\n            &quot;/api/v1/admin/login&quot;,\n            &quot;/api/v1/file/**&quot;,\n            &quot;/api/v1/seller/login**&quot;\n    };\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private CustomUserDetailService customUserDetailService;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .antMatchers(PUBLIC_URL).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailService).passwordEncoder(passwordEncoder);\n\n    }\n\n\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><strong>JwtAuthenticationEntryPoint.java</strong></p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                         AuthenticationException authException) throws IOException, ServletException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Access Denined !&quot;);\n\n    }\n}\n</code></pre>\n<p><strong>JWTAuthenticationfilter.java</strong></p>\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private JwtTokenHelper jwtTokenHelper;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\n\n        String requestToken = request.getHeader(&quot;Authorization&quot;);\n        System.out.println(requestToken);\n\n        String username = null;\n        String token = null;\n\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\n\n            token = requestToken.substring(7);\n\n            try {\n                username = jwtTokenHelper.extractUsername(token);\n            } catch (IllegalArgumentException r) {\n                System.out.println(&quot;Unable to get Jwt token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;Token has expired&quot;);\n            } catch (MalformedJwtException e) {\n                System.out.println(&quot;invalid jwt&quot;);\n\n            }\n        } else {\n            System.out.println(&quot;Jwt token does not start with Bearer&quot;);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n            if (jwtTokenHelper.validateToken(token, userDetails)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken=new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            } else {\n                System.out.println(&quot;invalid jwt&quot;);\n\n            }\n\n        } else {\n            System.out.println(&quot;invalid jwt&quot;);\n\n        }\n\n        try {\n            filterChain.doFilter(request,response);\n        } catch (IOException e) {\n            System.out.println(e);\n            throw new RuntimeException(e);\n        } catch (ServletException e) {\n            System.out.println(e);\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;GameReviewz&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;GameReviewz&lt;/name&gt;\n    &lt;description&gt;SpringBoot Application for GameReviewz&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;openjdk:17&lt;/image&gt;\n                    &lt;/from&gt;\n                    &lt;container&gt;\n                        &lt;ports&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                        &lt;/ports&gt;\n                        &lt;format&gt;OCI&lt;/format&gt;\n                    &lt;/container&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;build-frontend&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;!-- Use the latest released version:\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                        &lt;version&gt;1.12.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node and npm&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;nodeVersion&gt;v16.16.0&lt;/nodeVersion&gt;\n                                    &lt;npmVersion&gt;8.11.0&lt;/npmVersion&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;src/frontend/build&lt;/directory&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-time","iso8601","datetimeoffset"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1682415154,"post_id":76099560,"comment_id":134207729,"body_markdown":"Your observation is correct. Have you got a question? What is it? In the ISO 8601 standard the colon is optional. java.time including `ISO_DATE_TIME` parses *the most common* ISO 8601 variants, not all of them. The inability to parse the offset without the colon is probably the best known example of an ISO 8601 variant that is not parsed natively. If you need to parse it, you can build your own formatter as also shown under the question that you are linking to.","body":"Your observation is correct. Have you got a question? What is it? In the ISO 8601 standard the colon is optional. java.time including <code>ISO_DATE_TIME</code> parses <i>the most common</i> ISO 8601 variants, not all of them. The inability to parse the offset without the colon is probably the best known example of an ISO 8601 variant that is not parsed natively. If you need to parse it, you can build your own formatter as also shown under the question that you are linking to."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682415676,"post_id":76099560,"comment_id":134207855,"body_markdown":"As per the official documentation -&gt; There no mention of what you are claiming.\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME.","body":"As per the official documentation -&gt; There no mention of what you are claiming. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1682416879,"post_id":76099560,"comment_id":134208151,"body_markdown":"&quot;As per the official documentation -&gt; There no mention of what you are claiming.&quot; follow the link for &quot;offset ID&quot; (3rd bullet). It says &quot;There are 3 formats&quot;, one of which is simply Z, the other two require a colon.","body":"&quot;As per the official documentation -&gt; There no mention of what you are claiming.&quot; follow the link for &quot;offset ID&quot; (3rd bullet). It says &quot;There are 3 formats&quot;, one of which is simply Z, the other two require a colon."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682421118,"post_id":76099560,"comment_id":134209068,"body_markdown":"@AndyTurner : yes Thanks for mentioning, in doc list the formats thats handled https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\nThe ID is minor variation to the standard ISO-8601 formatted string for the offset. There are three formats:\n\nZ - for UTC (ISO-8601)\n+hh:mm or -hh:mm - if the seconds are zero (ISO-8601)\n+hh:mm:ss or -hh:mm:ss - if the seconds are non-zero (not ISO-8601)","body":"@AndyTurner : yes Thanks for mentioning, in doc list the formats thats handled <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a> The ID is minor variation to the standard ISO-8601 formatted string for the offset. There are three formats:  Z - for UTC (ISO-8601) +hh:mm or -hh:mm - if the seconds are zero (ISO-8601) +hh:mm:ss or -hh:mm:ss - if the seconds are non-zero (not ISO-8601)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682421570,"post_id":76099560,"comment_id":134209171,"body_markdown":"Thanks for the question. I have pasted it into the question for you. More depth and clarity to your question is always welcome and should always be given as edits to your original question. You may then at-sign ping me (or who asked) in a comment if you find it appropriate to notify of the edit.","body":"Thanks for the question. I have pasted it into the question for you. More depth and clarity to your question is always welcome and should always be given as edits to your original question. You may then at-sign ping me (or who asked) in a comment if you find it appropriate to notify of the edit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682421953,"post_id":76099560,"comment_id":134209252,"body_markdown":"For why it doesnt: Wed either have to enter into a guessing game or ask the original developers, Stephen Colebourne in particular. My interpretation is what I have already said: they deliberately chose to support the most common ISO variants and not all of them. Supporting all possible ISO 8601 formats would have been a **major** extension to java.time, so quite clearly not what they would want. And then they had to draw the line somewhere. In the big picture I personally find that leaving out the variant without colon in the offset seems fair.","body":"For why it doesnt: Wed either have to enter into a guessing game or ask the original developers, Stephen Colebourne in particular. My interpretation is what I have already said: they deliberately chose to support the most common ISO variants and not all of them. Supporting all possible ISO 8601 formats would have been a <b>major</b> extension to java.time, so quite clearly not what they would want. And then they had to draw the line somewhere. In the big picture I personally find that leaving out the variant without colon in the offset seems fair."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682423444,"post_id":76099560,"comment_id":134209618,"body_markdown":"And to be honest, with the update your question was closed with the wrong reason, it is no more missing clarity, but should probably instead have been closed as opinion-based or unanswerable because it requires mind reading. Stack Overflow works well with questions that can be answered with facts, and unless were lucky to find an authoritative source for the design criteria of java.time, Im afraid that this question cant.","body":"And to be honest, with the update your question was closed with the wrong reason, it is no more missing clarity, but should probably instead have been closed as opinion-based or unanswerable because it requires mind reading. Stack Overflow works well with questions that can be answered with facts, and unless were lucky to find an authoritative source for the design criteria of java.time, Im afraid that this question cant."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682425248,"post_id":76099560,"comment_id":134210114,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253314/discussion-between-mohamed-afzal-and-ole-v-v).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253314/discussion-between-mohamed-afzal-and-ole-v-v\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682535668,"creation_date":1682517562,"answer_id":76111689,"question_id":76099560,"body_markdown":"The ISO-8601 standard has changed over the years. To my recollection, the offset without colon was only originally supported when using the basic ISO format where separators are omitted, eg. either use &quot;2022-03-17T23:00:00.000+00:00&quot; or &quot;20220317T230000.000+0000&quot; but not a mixture (2004 version of ISO-8601).\r\n\r\nFor the method in question, java.time supports the common ISO  format with separators. It was always the case that advanced use cases would need to create their own formatter, for which good support was designed. Key to the design of the method was the idea of round-tripping - the `parse(String)` method parses the output from `toString()` (unless using a specific formatter).","title":"Why cant Java 8 DateTimeFormatter.ISO_DATE_TIME handle offset zone without colon in it, ISO standards have 4 Offset formats.?","body":"<p>The ISO-8601 standard has changed over the years. To my recollection, the offset without colon was only originally supported when using the basic ISO format where separators are omitted, eg. either use &quot;2022-03-17T23:00:00.000+00:00&quot; or &quot;20220317T230000.000+0000&quot; but not a mixture (2004 version of ISO-8601).</p>\n<p>For the method in question, java.time supports the common ISO  format with separators. It was always the case that advanced use cases would need to create their own formatter, for which good support was designed. Key to the design of the method was the idea of round-tripping - the <code>parse(String)</code> method parses the output from <code>toString()</code> (unless using a specific formatter).</p>\n"}],"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76111689,"answer_count":1,"score":0,"last_activity_date":1682535668,"creation_date":1682414550,"question_id":76099560,"body_markdown":"    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        // date/time\r\n        .append(DateTimeFormatter.ISO_DATE_TIME)\r\n        .toFormatter();\r\n    \r\n    //can&#39;t handle the first example\r\n    \r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+0000&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00:00&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000Z&quot;, formatter));\r\n\r\nSolution / work around is in\r\nhttps://stackoverflow.com/questions/46487403/java-8-date-and-time-parse-iso-8601-string-without-colon-in-offset\r\n\r\nI am checking why Java 8 ISO_DATE_TIME can&#39;t handle the format which is an ISO Complaint -\r\nhttps://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\r\n\r\n    &lt;time&gt;Z\r\n    &lt;time&gt;&#177;hh:mm\r\n    &lt;time&gt;&#177;hhmm\r\n    &lt;time&gt;&#177;hh\r\n\r\nMy question is simple and straightforward -&gt; Why is Java 8 not handling formats mentioned as part of ISO Standard ( only 4 ISO offset formats )?\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\r\n\r\n","title":"Why cant Java 8 DateTimeFormatter.ISO_DATE_TIME handle offset zone without colon in it, ISO standards have 4 Offset formats.?","body":"<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    // date/time\n    .append(DateTimeFormatter.ISO_DATE_TIME)\n    .toFormatter();\n\n//can't handle the first example\n\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+0000&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00:00&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000Z&quot;, formatter));\n</code></pre>\n<p>Solution / work around is in\n<a href=\"https://stackoverflow.com/questions/46487403/java-8-date-and-time-parse-iso-8601-string-without-colon-in-offset\">Java 8 Date and Time: parse ISO 8601 string without colon in offset</a></p>\n<p>I am checking why Java 8 ISO_DATE_TIME can't handle the format which is an ISO Complaint -\n<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators</a></p>\n<pre><code>&lt;time&gt;Z\n&lt;time&gt;hh:mm\n&lt;time&gt;hhmm\n&lt;time&gt;hh\n</code></pre>\n<p>My question is simple and straightforward -&gt; Why is Java 8 not handling formats mentioned as part of ISO Standard ( only 4 ISO offset formats )?</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--</a></p>\n"},{"tags":["java","spring","project-reactor"],"owner":{"account_id":344269,"reputation":347,"user_id":676483,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682534684,"creation_date":1682534684,"question_id":76114078,"body_markdown":"I am trying to download several files from remote locations, adding them to a zip file and then sending the resulting zip file to another location. The files in the zip can be quite big, big enough to cause all kinds of buffer issues, so it really should be a streaming solution.\r\n\r\nWhat I have made so far works if I download the files in another thread, writing it to a PipedOutputStream which is connected to a PipedInputStream.\r\n\r\nSee this example:\r\n\r\n```java\r\nvoid test() throws IOException {\r\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\r\n    var pipedInputStream = new PipedInputStream();\r\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\r\n\r\n    var thread = new Thread(() -&gt; {\r\n        try {\r\n            var zip = new ZipOutputStream(pipedOutputStream);\r\n\r\n            for (var i = 0; i &lt; 10; i++) {\r\n                // This should really be a web request for a remote file, which should\r\n                // return an InputStream that can be piped into the zip output stream\r\n                zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\r\n                new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\r\n                    .transferTo(zip);\r\n                zip.closeEntry();\r\n            }\r\n\r\n            zip.close();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    });\r\n\r\n    thread.start();\r\n\r\n    var response = webClient.post()\r\n        .uri(outputLocation)\r\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\r\n        .retrieve()\r\n        .bodyToMono(JsonNode.class)\r\n        .block();\r\n\r\n    System.out.println(&quot;Response: &quot; + response);\r\n}\r\n```\r\n\r\nWhat I am really wondering about is how to get this done in a more reactor appropriate way? \r\n\r\nAnother attempt I did was to first create the upload request, and subscribing to it, but the program finishes before it can say it is complete.\r\n\r\nSee\r\n```java\r\nvoid test2() throws IOException {\r\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\r\n    var pipedInputStream = new PipedInputStream();\r\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\r\n\r\n    var response = webClient.post()\r\n        .uri(outputLocation)\r\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\r\n        .retrieve()\r\n        .bodyToMono(JsonNode.class)\r\n        .subscribe((a) -&gt; {\r\n            System.out.println(&quot;Completed&quot;);\r\n        });\r\n\r\n    try {\r\n        var zip = new ZipOutputStream(pipedOutputStream);\r\n\r\n        for (var i = 0; i &lt; 10; i++) {\r\n            // This should really be a web request for a remote file, which should\r\n            // return an InputStream that can be piped into the zip output stream\r\n            zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\r\n            // should be: downloadFile().transferTo(zip);\r\n            new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\r\n                .transferTo(zip);\r\n            zip.closeEntry();\r\n        }\r\n\r\n        zip.close();\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    // This method returns before the &quot;Completed&quot; part is outputted, due to how \r\n    // this whole system works. How do I &quot;block&quot; until the upload request is done?\r\n}\r\n```\r\n\r\nMy suspicion is that I should be creating some kind of Flux and passing that to the request as a body producer, but how would that even work?\r\n\r\n","title":"How can a spring WebClient response be piped, zipped and forwarded to another request?","body":"<p>I am trying to download several files from remote locations, adding them to a zip file and then sending the resulting zip file to another location. The files in the zip can be quite big, big enough to cause all kinds of buffer issues, so it really should be a streaming solution.</p>\n<p>What I have made so far works if I download the files in another thread, writing it to a PipedOutputStream which is connected to a PipedInputStream.</p>\n<p>See this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test() throws IOException {\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\n    var pipedInputStream = new PipedInputStream();\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\n\n    var thread = new Thread(() -&gt; {\n        try {\n            var zip = new ZipOutputStream(pipedOutputStream);\n\n            for (var i = 0; i &lt; 10; i++) {\n                // This should really be a web request for a remote file, which should\n                // return an InputStream that can be piped into the zip output stream\n                zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\n                new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\n                    .transferTo(zip);\n                zip.closeEntry();\n            }\n\n            zip.close();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n\n    thread.start();\n\n    var response = webClient.post()\n        .uri(outputLocation)\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\n        .retrieve()\n        .bodyToMono(JsonNode.class)\n        .block();\n\n    System.out.println(&quot;Response: &quot; + response);\n}\n</code></pre>\n<p>What I am really wondering about is how to get this done in a more reactor appropriate way?</p>\n<p>Another attempt I did was to first create the upload request, and subscribing to it, but the program finishes before it can say it is complete.</p>\n<p>See</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test2() throws IOException {\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\n    var pipedInputStream = new PipedInputStream();\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\n\n    var response = webClient.post()\n        .uri(outputLocation)\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\n        .retrieve()\n        .bodyToMono(JsonNode.class)\n        .subscribe((a) -&gt; {\n            System.out.println(&quot;Completed&quot;);\n        });\n\n    try {\n        var zip = new ZipOutputStream(pipedOutputStream);\n\n        for (var i = 0; i &lt; 10; i++) {\n            // This should really be a web request for a remote file, which should\n            // return an InputStream that can be piped into the zip output stream\n            zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\n            // should be: downloadFile().transferTo(zip);\n            new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\n                .transferTo(zip);\n            zip.closeEntry();\n        }\n\n        zip.close();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    // This method returns before the &quot;Completed&quot; part is outputted, due to how \n    // this whole system works. How do I &quot;block&quot; until the upload request is done?\n}\n</code></pre>\n<p>My suspicion is that I should be creating some kind of Flux and passing that to the request as a body producer, but how would that even work?</p>\n"},{"tags":["java","android","jdbc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1682530144,"post_id":76113511,"comment_id":134232270,"body_markdown":"Why don&#39;t you use `COALESCE` in the query instead?","body":"Why don&#39;t you use <code>COALESCE</code> in the query instead?"},{"owner":{"account_id":6024811,"reputation":351,"user_id":5518907,"accept_rate":30,"display_name":" "},"score":0,"creation_date":1682530333,"post_id":76113511,"comment_id":134232312,"body_markdown":"I understand MySQL way too, but the question is about java way.","body":"I understand MySQL way too, but the question is about java way."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682532922,"post_id":76113511,"comment_id":134232828,"body_markdown":"Its not beautiful, but if you prefer: `Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;)`.","body":"Its not beautiful, but if you prefer: <code>Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682558334,"post_id":76113511,"comment_id":134236472,"body_markdown":"Better than using `Optional` is `Objects.requireNonNullElse(rs.getString(&quot;column&quot;), &quot;&quot;)` was this what you were after?","body":"Better than using <code>Optional</code> is <code>Objects.requireNonNullElse(rs.getString(&quot;column&quot;), &quot;&quot;)</code> was this what you were after?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688846868,"post_id":76113511,"comment_id":135129869,"body_markdown":"you can create a function that accepts resultset and index and return string or &quot;&quot;, like: getStringFromResultSet(rs, index)","body":"you can create a function that accepts resultset and index and return string or &quot;&quot;, like: getStringFromResultSet(rs, index)"}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682533342,"creation_date":1682533342,"answer_id":76113929,"question_id":76113511,"body_markdown":"If the only downside of the last solution that you proposed is complex syntax, why not create a function like this?\r\n\r\n    private String getStringOrNull(String columnName) {\r\n        String output = rs.getString(&quot;column&quot;);\r\n        return output == null ? &quot;&quot; : output;\r\n    }\r\n\r\nOr if you don&#39;t want extract the separate function, you can use `Optional` instead:\r\n\r\n    String output = Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;);\r\n\r\n","title":"Simplest way to get correct string from ResultSet, or empty string if null","body":"<p>If the only downside of the last solution that you proposed is complex syntax, why not create a function like this?</p>\n<pre><code>private String getStringOrNull(String columnName) {\n    String output = rs.getString(&quot;column&quot;);\n    return output == null ? &quot;&quot; : output;\n}\n</code></pre>\n<p>Or if you don't want extract the separate function, you can use <code>Optional</code> instead:</p>\n<pre><code>String output = Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":6024811,"reputation":351,"user_id":5518907,"accept_rate":30,"display_name":" "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682533342,"creation_date":1682529827,"question_id":76113511,"body_markdown":"I have some ResultSet from SELECT MySQL query. The value is string, but it can be null. What is the simplest and shortest way to get correct string from ResultSet, or empty string if null?\r\n\r\n    String.valueOf(rs.getObject(&quot;column&quot;));\r\n\r\nshort way, but may be, not correct and fast\r\n\r\n    output = rs.getString(&quot;column&quot;);\r\n    if(output == null){output= &quot;&quot;;}\r\n\r\nright way, but long, with additional variable, and not comfortable especially when I have to create parceble value from ResultSet - something like:\r\n\r\n    Discount.create(rs.getString(&quot;Code&quot;), rs.getString(&quot;Df&quot;), rs.getString(&quot;Di&quot;));\r\n\r\nAre there any other ideas? (I understand that I can make my parceble values nullable)","title":"Simplest way to get correct string from ResultSet, or empty string if null","body":"<p>I have some ResultSet from SELECT MySQL query. The value is string, but it can be null. What is the simplest and shortest way to get correct string from ResultSet, or empty string if null?</p>\n<pre><code>String.valueOf(rs.getObject(&quot;column&quot;));\n</code></pre>\n<p>short way, but may be, not correct and fast</p>\n<pre><code>output = rs.getString(&quot;column&quot;);\nif(output == null){output= &quot;&quot;;}\n</code></pre>\n<p>right way, but long, with additional variable, and not comfortable especially when I have to create parceble value from ResultSet - something like:</p>\n<pre><code>Discount.create(rs.getString(&quot;Code&quot;), rs.getString(&quot;Df&quot;), rs.getString(&quot;Di&quot;));\n</code></pre>\n<p>Are there any other ideas? (I understand that I can make my parceble values nullable)</p>\n"},{"tags":["java","shortest-path","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1682526176,"post_id":76111418,"comment_id":134231319,"body_markdown":"@nohanon Is there an order in which you want to visit those obligatory vertices, i.e.: in your example, are you looking for a shortest path where vertices B and D are visited consecutively somewhere along the path from A to F, or are you looking for a shortest path that connects A to F that also visits B and D somewhere along that route but not necessarily consecutively or in that specific order?","body":"@nohanon Is there an order in which you want to visit those obligatory vertices, i.e.: in your example, are you looking for a shortest path where vertices B and D are visited consecutively somewhere along the path from A to F, or are you looking for a shortest path that connects A to F that also visits B and D somewhere along that route but not necessarily consecutively or in that specific order?"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1682526249,"post_id":76111418,"comment_id":134231347,"body_markdown":"JGraphT doesn&#39;t have a class `ConstrainedShortestPathAlgorithm` or anything similar. This code generated by chatGPT is impressive though. If JGraphT were to have such a class, this is exactly how we would have implemented it :)","body":"JGraphT doesn&#39;t have a class <code>ConstrainedShortestPathAlgorithm</code> or anything similar. This code generated by chatGPT is impressive though. If JGraphT were to have such a class, this is exactly how we would have implemented it :)"},{"owner":{"account_id":28423553,"reputation":19,"user_id":21745278,"display_name":"nohahanon"},"score":0,"creation_date":1682551030,"post_id":76111418,"comment_id":134235796,"body_markdown":"@JorisKinbable &gt;&gt; Is there an order in which you want to visit those obligatory vertices\n: yes\n&gt;&gt; not necessarily consecutively or in that specific order? :\nyes","body":"@JorisKinbable &gt;&gt; Is there an order in which you want to visit those obligatory vertices : yes &gt;&gt; not necessarily consecutively or in that specific order? : yes"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1683578702,"post_id":76111418,"comment_id":134385463,"body_markdown":"Did the answer below answer your question? If so, click the &#39;accept&#39; answer button. If not, consider indicating what&#39;s missing.","body":"Did the answer below answer your question? If so, click the &#39;accept&#39; answer button. If not, consider indicating what&#39;s missing."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682533210,"creation_date":1682528945,"answer_id":76113398,"question_id":76111418,"body_markdown":"JGraphT does not have a class `ConstrainedShortestPathAlgorithm`, perhaps in the future. I assume that you are looking for a shortest path that (i) connects your source and target vertices and (ii) a pre-specified subset of &#39;obligatory&#39; vertices are visited along that path, but not necessary in that order. So in your example, a shortest path could be A-D-E-B-F. In this path, vertices B and D are visited, but not in this order.\r\n\r\nClaim: this problem is NP-hard. Proof: Pick a traveling salesman problem instance, add 2 vertices, say S and T, and connect them to all other vertices with zero cost. Then find a shortest path from S to T, that must pass through all other vertices in the graph. The resulting problem would solve your TSP problem.\r\n\r\nSince your problem is NP-hard, depending on the graph it would make solving this problem quite challenging. Nevertheless, to solve your problem, here&#39;s 2 alternative solution approaches:\r\n\r\n1. Create a new, undirected graph, say G&#39;, containing your source vertex S, target vertex T and all obligatory vertices. Next, add edge (S,T) with weight 0. For every other pair of vertices i and j in G&#39;, compute the shortest path from i to j in your original graph G using any shortest path algorithm (e.g. Dijkstra&#39;s algorithm). If such path exists, add edge (i,j) to G&#39; and set its weight equal to the length of the shortest path. Omit edge (i,j) if no such shortest path exists. Finally, solve a Traveling Salesman Problem on the resulting graph G&#39;. This will provide you with an optimal order in which you have to visit your vertices.  As a final step, you would have to reconstruct a solution in terms of the original graph G. As per example, imagine that your TSP tour would be: A-D-B-F. The optimal solution would then be a concatenation of the shortest paths: P(A,D) - P(D,B) - P(B-F), where P(i,j) is the shortest path from i to j in G.\r\n\r\n2. A heuristic but easy way to solve your problem is to first order your set of obligatory vertices, and then find a shortest path between them. This works particularly well on map-based graphs. Imagine you want to compute a shortest-path roadtrip that starts in Amsterdam and ends Rome. Along the way you want to visit Paris and Brussels. In this example, {Paris,Brussels} are your obligatory vertices. You could simply order the set of obligatory vertices, e.g. &#39;go to the nearest city first&#39;. From Amsterdam, the nearest city in your obligatory set is Brussels. The second nearest city is Paris. So you would want to visit Brussels first, and then Paris. You could then compute the shortest path Amsterdam to Brussels, add to that the shortest path from Brussels to Paris, and finally add to that the shortest path from Paris to Rome. For geographical networks this could work very well.\r\n\r\nNote: both approaches can be implemented in JGraphT. The first approach requires a shortest path algorithm and an algorithm to solve TSP problems, the 2nd approach only uses shortest path algorithms. JGraphT has both. W.r.t. TSP algorithms, JGraphT has both exact and heuristic algorithms. The scalability of JGraphT&#39;s exact TSP algorithm is limited; if you would need to solve really large instances, you&#39;d be better of using the Concorde TSP solver.","title":"How to find a shortest path that must pass through a predefined subset of vertices","body":"<p>JGraphT does not have a class <code>ConstrainedShortestPathAlgorithm</code>, perhaps in the future. I assume that you are looking for a shortest path that (i) connects your source and target vertices and (ii) a pre-specified subset of 'obligatory' vertices are visited along that path, but not necessary in that order. So in your example, a shortest path could be A-D-E-B-F. In this path, vertices B and D are visited, but not in this order.</p>\n<p>Claim: this problem is NP-hard. Proof: Pick a traveling salesman problem instance, add 2 vertices, say S and T, and connect them to all other vertices with zero cost. Then find a shortest path from S to T, that must pass through all other vertices in the graph. The resulting problem would solve your TSP problem.</p>\n<p>Since your problem is NP-hard, depending on the graph it would make solving this problem quite challenging. Nevertheless, to solve your problem, here's 2 alternative solution approaches:</p>\n<ol>\n<li><p>Create a new, undirected graph, say G', containing your source vertex S, target vertex T and all obligatory vertices. Next, add edge (S,T) with weight 0. For every other pair of vertices i and j in G', compute the shortest path from i to j in your original graph G using any shortest path algorithm (e.g. Dijkstra's algorithm). If such path exists, add edge (i,j) to G' and set its weight equal to the length of the shortest path. Omit edge (i,j) if no such shortest path exists. Finally, solve a Traveling Salesman Problem on the resulting graph G'. This will provide you with an optimal order in which you have to visit your vertices.  As a final step, you would have to reconstruct a solution in terms of the original graph G. As per example, imagine that your TSP tour would be: A-D-B-F. The optimal solution would then be a concatenation of the shortest paths: P(A,D) - P(D,B) - P(B-F), where P(i,j) is the shortest path from i to j in G.</p>\n</li>\n<li><p>A heuristic but easy way to solve your problem is to first order your set of obligatory vertices, and then find a shortest path between them. This works particularly well on map-based graphs. Imagine you want to compute a shortest-path roadtrip that starts in Amsterdam and ends Rome. Along the way you want to visit Paris and Brussels. In this example, {Paris,Brussels} are your obligatory vertices. You could simply order the set of obligatory vertices, e.g. 'go to the nearest city first'. From Amsterdam, the nearest city in your obligatory set is Brussels. The second nearest city is Paris. So you would want to visit Brussels first, and then Paris. You could then compute the shortest path Amsterdam to Brussels, add to that the shortest path from Brussels to Paris, and finally add to that the shortest path from Paris to Rome. For geographical networks this could work very well.</p>\n</li>\n</ol>\n<p>Note: both approaches can be implemented in JGraphT. The first approach requires a shortest path algorithm and an algorithm to solve TSP problems, the 2nd approach only uses shortest path algorithms. JGraphT has both. W.r.t. TSP algorithms, JGraphT has both exact and heuristic algorithms. The scalability of JGraphT's exact TSP algorithm is limited; if you would need to solve really large instances, you'd be better of using the Concorde TSP solver.</p>\n"}],"owner":{"account_id":28423553,"reputation":19,"user_id":21745278,"display_name":"nohahanon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76113398,"answer_count":1,"score":0,"last_activity_date":1682533210,"creation_date":1682516130,"question_id":76111418,"body_markdown":"I wanna get the shortest path with specifying vertices that must be passed. I asked chatGPT to solve it and I got a code but a library doesn&#39;t exist: org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm\r\nWhat is the instead library? Or what is correct code?\r\n\r\n```\r\nimport org.jgrapht.Graph;\r\nimport org.jgrapht.GraphPath;\r\nimport org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm;\r\nimport org.jgrapht.graph.DefaultWeightedEdge;\r\nimport org.jgrapht.graph.SimpleWeightedGraph;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        // Create a simple weighted graph\r\n        Graph&lt;String, DefaultWeightedEdge&gt; graph = new SimpleWeightedGraph&lt;&gt;(DefaultWeightedEdge.class);\r\n\r\n        // Add vertices\r\n        List&lt;String&gt; vertices = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\r\n        for (String vertex : vertices)\r\n            graph.addVertex(vertex);\r\n\r\n        // Add edges with weights\r\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;B&quot;), 3);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;C&quot;), 1);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;C&quot;), 1);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;D&quot;), 2);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;D&quot;), 2);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;E&quot;), 4);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;D&quot;, &quot;F&quot;), 3);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;E&quot;, &quot;F&quot;), 2);\r\n\r\n        // Set constraints to pass through vertices &quot;B&quot; and &quot;D&quot;\r\n        Set&lt;String&gt; constraints = new HashSet&lt;&gt;(Arrays.asList(&quot;B&quot;, &quot;D&quot;));\r\n\r\n        // Find the shortest path while passing through the specified constraints\r\n        ConstrainedShortestPathAlgorithm&lt;String, DefaultWeightedEdge&gt; cspa = new ConstrainedShortestPathAlgorithm&lt;&gt;(\r\n                graph);\r\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = cspa.getShortestPath(&quot;A&quot;, &quot;F&quot;,\r\n                new VertexSetConstraint&lt;&gt;(constraints));\r\n\r\n        // Print the shortest path\r\n        System.out.println(&quot;Shortest path while passing through vertices &quot; + constraints + &quot;: &quot;\r\n                + shortestPath.getVertexList() + &quot;, weight=&quot; + shortestPath.getWeight());\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using jgrapht-1.5.1.\r\nI checked folders but the library doesn&#39;t exist.","title":"How to find a shortest path that must pass through a predefined subset of vertices","body":"<p>I wanna get the shortest path with specifying vertices that must be passed. I asked chatGPT to solve it and I got a code but a library doesn't exist: org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm\nWhat is the instead library? Or what is correct code?</p>\n<pre><code>import org.jgrapht.Graph;\nimport org.jgrapht.GraphPath;\nimport org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport org.jgrapht.graph.SimpleWeightedGraph;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // Create a simple weighted graph\n        Graph&lt;String, DefaultWeightedEdge&gt; graph = new SimpleWeightedGraph&lt;&gt;(DefaultWeightedEdge.class);\n\n        // Add vertices\n        List&lt;String&gt; vertices = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\n        for (String vertex : vertices)\n            graph.addVertex(vertex);\n\n        // Add edges with weights\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;B&quot;), 3);\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;C&quot;), 1);\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;C&quot;), 1);\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;D&quot;), 2);\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;D&quot;), 2);\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;E&quot;), 4);\n        graph.setEdgeWeight(graph.addEdge(&quot;D&quot;, &quot;F&quot;), 3);\n        graph.setEdgeWeight(graph.addEdge(&quot;E&quot;, &quot;F&quot;), 2);\n\n        // Set constraints to pass through vertices &quot;B&quot; and &quot;D&quot;\n        Set&lt;String&gt; constraints = new HashSet&lt;&gt;(Arrays.asList(&quot;B&quot;, &quot;D&quot;));\n\n        // Find the shortest path while passing through the specified constraints\n        ConstrainedShortestPathAlgorithm&lt;String, DefaultWeightedEdge&gt; cspa = new ConstrainedShortestPathAlgorithm&lt;&gt;(\n                graph);\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = cspa.getShortestPath(&quot;A&quot;, &quot;F&quot;,\n                new VertexSetConstraint&lt;&gt;(constraints));\n\n        // Print the shortest path\n        System.out.println(&quot;Shortest path while passing through vertices &quot; + constraints + &quot;: &quot;\n                + shortestPath.getVertexList() + &quot;, weight=&quot; + shortestPath.getWeight());\n    }\n}\n</code></pre>\n<p>I'm using jgrapht-1.5.1.\nI checked folders but the library doesn't exist.</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1537503579,"post_id":52436468,"comment_id":91816180,"body_markdown":"will the number of spaces around `id` always be the same?","body":"will the number of spaces around <code>id</code> always be the same?"},{"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"score":0,"creation_date":1537595025,"post_id":52436468,"comment_id":91850606,"body_markdown":"No, it depends on user input","body":"No, it depends on user input"},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1537746003,"post_id":52436468,"comment_id":91884304,"body_markdown":"The best way for key `id` would be to `trim()` the user input in your frontend app. As for the value `1`, you can trim it in the controller.","body":"The best way for key <code>id</code> would be to <code>trim()</code> the user input in your frontend app. As for the value <code>1</code>, you can trim it in the controller."},{"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"score":0,"creation_date":1537758019,"post_id":52436468,"comment_id":91886233,"body_markdown":"Hi @Kartik, the input is from others&#39; java code and my code can&#39;t relay on others&#39; code for some reason. So there is no frontend. For now, the only solution I can do is receiving the input as a map, and format every element in the map, then convert them to my object. But it is not graceful I think","body":"Hi @Kartik, the input is from others&#39; java code and my code can&#39;t relay on others&#39; code for some reason. So there is no frontend. For now, the only solution I can do is receiving the input as a map, and format every element in the map, then convert them to my object. But it is not graceful I think"}],"answers":[{"tags":[],"owner":{"account_id":12705257,"reputation":399,"user_id":9230755,"display_name":"Artem Namednev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589394908,"creation_date":1537510124,"answer_id":52437587,"question_id":52436468,"body_markdown":"You may use `@JsonProperty` annotation like this:\r\n\r\n    class ID {\r\n\r\n        @JsonProperty(&quot;id   &quot;)\r\n        String id;\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n    }\r\n    \r\nAnd then:\r\n\r\n    String id = myIdClassInstance.getId().trim();\r\n\r\nBut this will work only in cases where the number of spaces is fixed.\r\n\r\nAlso, you can access the fields of the object only at clearly defined names.\r\n\r\nIf you really want that `&quot;id&quot;` and `&quot;id    &quot;` to point to the same field, you will need to format the JSON manually before sending it.","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>You may use <code>@JsonProperty</code> annotation like this:</p>\n\n<pre><code>class ID {\n\n    @JsonProperty(\"id   \")\n    String id;\n\n    public String getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>String id = myIdClassInstance.getId().trim();\n</code></pre>\n\n<p>But this will work only in cases where the number of spaces is fixed.</p>\n\n<p>Also, you can access the fields of the object only at clearly defined names.</p>\n\n<p>If you really want that <code>\"id\"</code> and <code>\"id    \"</code> to point to the same field, you will need to format the JSON manually before sending it.</p>\n"},{"tags":[],"owner":{"account_id":28426035,"reputation":1,"user_id":21747401,"display_name":"Alice Cooper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682533146,"creation_date":1682532960,"answer_id":76113889,"question_id":52436468,"body_markdown":"In my opinion, it is better to edit JSON beforehand and remove extra spaces. \r\n\r\n    var json = &quot;{\\&quot;id   \\&quot;: \\&quot;   1\\&quot;}&quot;;\r\n    json = json.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\r\nYou&#39;ll get: `{&quot;id&quot;:&quot;1&quot;}`\r\nAnd then your POJO class will be correct.\r\n\r\nAfter you can try to deserialize this json via Jackson. For example:\r\n\r\n    var id = mapper.readValue(json, ID.class);","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>In my opinion, it is better to edit JSON beforehand and remove extra spaces.</p>\n<pre><code>var json = &quot;{\\&quot;id   \\&quot;: \\&quot;   1\\&quot;}&quot;;\njson = json.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n</code></pre>\n<p>You'll get: <code>{&quot;id&quot;:&quot;1&quot;}</code>\nAnd then your POJO class will be correct.</p>\n<p>After you can try to deserialize this json via Jackson. For example:</p>\n<pre><code>var id = mapper.readValue(json, ID.class);\n</code></pre>\n"}],"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682533146,"creation_date":1537502894,"question_id":52436468,"body_markdown":"Input json: \r\n\r\n    {&quot;id   &quot;: &quot;   1&quot;}\r\n\r\njava class defineded:\r\n\r\n    class ID {\r\n        String id;\r\n    }\r\nhow to correctly get the ID object with &quot;id = 1&quot; instead of  &quot;id = null&quot; \r\n\r\n\r\n","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>Input json: </p>\n\n<pre><code>{\"id   \": \"   1\"}\n</code></pre>\n\n<p>java class defineded:</p>\n\n<pre><code>class ID {\n    String id;\n}\n</code></pre>\n\n<p>how to correctly get the ID object with \"id = 1\" instead of  \"id = null\" </p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"score":3,"creation_date":1271107949,"post_id":2625579,"comment_id":2638439,"body_markdown":"What is the question? `&lt;clinit&gt;` is not a generic method but the (compiler-generated magic) name of the special constructor method which does class initialization.","body":"What is the question? <code>&lt;clinit&gt;</code> is not a generic method but the (compiler-generated magic) name of the special constructor method which does class initialization."},{"owner":{"account_id":34651,"reputation":3177,"user_id":97992,"accept_rate":80,"display_name":"Droo"},"score":0,"creation_date":1271108986,"post_id":2625579,"comment_id":2638567,"body_markdown":"Sorry...should have been more clear.  I think I incorrectly assumed that the static block had something to do with the static generic type.","body":"Sorry...should have been more clear.  I think I incorrectly assumed that the static block had something to do with the static generic type."}],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1393603572,"creation_date":1271107875,"answer_id":2625609,"question_id":2625579,"body_markdown":"    return Collections.&lt;ComplexObject&gt; emptyList();\r\n\r\nUsing this will get rid of warnings from Eclipse about non-generic collections.\r\n\r\nHaving said that, a typed empty list is going to be functionally identical to an untyped empty list due to empty list being immutable and Java erasing generic types at compile time.\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<pre><code>return Collections.&lt;ComplexObject&gt; emptyList();\n</code></pre>\n\n<p>Using this will get rid of warnings from Eclipse about non-generic collections.</p>\n\n<p>Having said that, a typed empty list is going to be functionally identical to an untyped empty list due to empty list being immutable and Java erasing generic types at compile time.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271107995,"creation_date":1271107995,"answer_id":2625616,"question_id":2625579,"body_markdown":"`&lt;clinit&gt;` is the name of the method into which the class initialization code is collected by during compilation. (That is, all of the code inside `static {}` blocks, and the initializers of static members, in source code order.)\r\n\r\nIt has nothing to do with explicit type parameters in method invocations.","title":"Type-safe, generic, empty Collections with static generics","body":"<p><code>&lt;clinit&gt;</code> is the name of the method into which the class initialization code is collected by during compilation. (That is, all of the code inside <code>static {}</code> blocks, and the initializers of static members, in source code order.)</p>\n\n<p>It has nothing to do with explicit type parameters in method invocations.</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271108128,"creation_date":1271108128,"answer_id":2625633,"question_id":2625579,"body_markdown":"`&lt;clinit&gt;` is the static initializer block. It is a block of code which is executed exactly once (when the class is loaded).\r\n\r\nSo, instead of writing\r\n\r\n\r\n    class  A  {\r\n       static int x = 5;\r\n    }\r\n\r\nOne can write:\r\n   \r\n    class A {\r\n       static int x;\r\n\r\n       static {  // static initializer starts\r\n          x = 5; \r\n       }\r\n    }\r\n\r\nThese two classes are equivalent. Inside a static initializer block one can place arbitrary code and thus initialize static fields with the results of complicated calculations.\r\n\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<p><code>&lt;clinit&gt;</code> is the static initializer block. It is a block of code which is executed exactly once (when the class is loaded).</p>\n\n<p>So, instead of writing</p>\n\n<pre><code>class  A  {\n   static int x = 5;\n}\n</code></pre>\n\n<p>One can write:</p>\n\n<pre><code>class A {\n   static int x;\n\n   static {  // static initializer starts\n      x = 5; \n   }\n}\n</code></pre>\n\n<p>These two classes are equivalent. Inside a static initializer block one can place arbitrary code and thus initialize static fields with the results of complicated calculations.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1271110100,"creation_date":1271110100,"answer_id":2625806,"question_id":2625579,"body_markdown":"&gt; EDIT: How is the static Generic type\r\n&gt; accomplished?\r\n\r\nhttp://www.docjar.com/html/api/java/util/Collections.java.html\r\n\r\n    public class Collections {\r\n        ...\r\n        public static final List EMPTY_LIST = new EmptyList&lt;Object&gt;();\r\n        ...\r\n        public static final &lt;T&gt; List&lt;T&gt; emptyList() {\r\n            return (List&lt;T&gt;) EMPTY_LIST;\r\n        }\r\n        ...\r\n    }\r\n\r\nYou can see the link for the implementation of the EmptyList class if you&#39;re curious, but for your question, it doesn&#39;t matter.\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<blockquote>\n  <p>EDIT: How is the static Generic type\n  accomplished?</p>\n</blockquote>\n\n<p><a href=\"http://www.docjar.com/html/api/java/util/Collections.java.html\" rel=\"noreferrer\">http://www.docjar.com/html/api/java/util/Collections.java.html</a></p>\n\n<pre><code>public class Collections {\n    ...\n    public static final List EMPTY_LIST = new EmptyList&lt;Object&gt;();\n    ...\n    public static final &lt;T&gt; List&lt;T&gt; emptyList() {\n        return (List&lt;T&gt;) EMPTY_LIST;\n    }\n    ...\n}\n</code></pre>\n\n<p>You can see the link for the implementation of the EmptyList class if you're curious, but for your question, it doesn't matter.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682533035,"creation_date":1682533035,"answer_id":76113895,"question_id":2625579,"body_markdown":"For those who are looking for a similar solution, but for more current time (2023/Apr) where one has moved on to using `List.of()` as a terse replacement for `Collections.emptyList()`...\r\n\r\nIn the same way the type is prefixed to the method in\r\n\r\n`Collections.&lt;ComplexObject&gt;emptyList();`\r\n\r\nUse the same method-prefix pattern:\r\n\r\n`List.&lt;ComplexObject&gt;of();`","title":"Type-safe, generic, empty Collections with static generics","body":"<p>For those who are looking for a similar solution, but for more current time (2023/Apr) where one has moved on to using <code>List.of()</code> as a terse replacement for <code>Collections.emptyList()</code>...</p>\n<p>In the same way the type is prefixed to the method in</p>\n<p><code>Collections.&lt;ComplexObject&gt;emptyList();</code></p>\n<p>Use the same method-prefix pattern:</p>\n<p><code>List.&lt;ComplexObject&gt;of();</code></p>\n"}],"owner":{"account_id":34651,"reputation":3177,"user_id":97992,"accept_rate":80,"display_name":"Droo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16350,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":2625806,"answer_count":5,"score":13,"last_activity_date":1682533035,"creation_date":1271107591,"question_id":2625579,"body_markdown":"I return empty collections vs. null whenever possible.  I switch between two methods for  doing so using [java.util.Collections][1]:\r\n\r\n    return Collections.EMPTY_LIST;\r\n    return Collections.emptyList();\r\n\r\nwhere `emptyList()` is supposed to be type-safe.  But I recently discovered:\r\n\r\n    return Collections.&lt;ComplexObject&gt; emptyList();\r\n    return Collections.&lt;ComplexObject&gt; singletonList(new ComplexObject());\r\n\r\netc.\r\n\r\nI see this method in Eclipse Package Explorer:\r\n\r\n    &lt;clinit&gt; () : void\r\n\r\nbut I don&#39;t see how this is done in the source code (1.5).  How is this magic tomfoolerie happening!!\r\n\r\n**EDIT:\r\nHow is the static Generic type accomplished?**\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html","title":"Type-safe, generic, empty Collections with static generics","body":"<p>I return empty collections vs. null whenever possible.  I switch between two methods for  doing so using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html\" rel=\"noreferrer\">java.util.Collections</a>:</p>\n\n<pre><code>return Collections.EMPTY_LIST;\nreturn Collections.emptyList();\n</code></pre>\n\n<p>where <code>emptyList()</code> is supposed to be type-safe.  But I recently discovered:</p>\n\n<pre><code>return Collections.&lt;ComplexObject&gt; emptyList();\nreturn Collections.&lt;ComplexObject&gt; singletonList(new ComplexObject());\n</code></pre>\n\n<p>etc.</p>\n\n<p>I see this method in Eclipse Package Explorer:</p>\n\n<pre><code>&lt;clinit&gt; () : void\n</code></pre>\n\n<p>but I don't see how this is done in the source code (1.5).  How is this magic tomfoolerie happening!!</p>\n\n<p><strong>EDIT:\nHow is the static Generic type accomplished?</strong></p>\n"},{"tags":["java","spring-boot","datatables","pagination"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682535931,"post_id":76113873,"comment_id":134233378,"body_markdown":"Yes that is correct: use the `serverSide: true` option. An overview of how that works is here: [Server-side processing](https://datatables.net/manual/server-side). **Whenever a user performs a filter, sort or page change action in DataTables, DataTables will automatically generate the correct Ajax request** to the server. The Ajax response must conform to the expected [JSON structure](https://datatables.net/manual/server-side#Example-data). Only 1 page of data is needed.","body":"Yes that is correct: use the <code>serverSide: true</code> option. An overview of how that works is here: <a href=\"https://datatables.net/manual/server-side\" rel=\"nofollow noreferrer\">Server-side processing</a>. <b>Whenever a user performs a filter, sort or page change action in DataTables, DataTables will automatically generate the correct Ajax request</b> to the server. The Ajax response must conform to the expected <a href=\"https://datatables.net/manual/server-side#Example-data\" rel=\"nofollow noreferrer\">JSON structure</a>. Only 1 page of data is needed."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":1,"creation_date":1682539406,"post_id":76113873,"comment_id":134233966,"body_markdown":"Update: I&#39;m allowed to use the jQuery lib for server-side processing, however, I was alerted to the fact that the issue is that I&#39;m stilling loading all the data entries when I use the .findAll() `public List&lt;Employee&gt; findAll(String keyword);`method in the repository, is there a way to only pull like 10 data entries at a time on the controller method?","body":"Update: I&#39;m allowed to use the jQuery lib for server-side processing, however, I was alerted to the fact that the issue is that I&#39;m stilling loading all the data entries when I use the .findAll() <code>public List&lt;Employee&gt; findAll(String keyword);</code>method in the repository, is there a way to only pull like 10 data entries at a time on the controller method?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682546127,"post_id":76113873,"comment_id":134235227,"body_markdown":"&quot;_is there a way to only pull like 10 data entries at a time on the controller method?_&quot; - That sounds like a much more focused question than the original one. DataTables is irrelevant for this new question - it&#39;s more a Spring Data question (I think). Personally, I would probably not try to use Spring&#39;s `Page` or `Pageable` for this - because you also need to account for filtering (as well as pagination and sorting). But someone with deeper understanding of Spring&#39;s `Page` or `Pageable` may be able to help (where I fail - sorry).","body":"&quot;<i>is there a way to only pull like 10 data entries at a time on the controller method?</i>&quot; - That sounds like a much more focused question than the original one. DataTables is irrelevant for this new question - it&#39;s more a Spring Data question (I think). Personally, I would probably not try to use Spring&#39;s <code>Page</code> or <code>Pageable</code> for this - because you also need to account for filtering (as well as pagination and sorting). But someone with deeper understanding of Spring&#39;s <code>Page</code> or <code>Pageable</code> may be able to help (where I fail - sorry)."}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682532857,"creation_date":1682532857,"question_id":76113873,"body_markdown":"I want to sort and filter data from a MySQL DB with the DataTables library, however, I would like to use the Spring paging and sorting repository for pagination. Why? because I&#39;m of the belief that the DataTables library would load all the data from the db at once thus increasing loading times. I want to use Spring to load a specified number of data entries at once for faster loading times.\r\n\r\nFor example: If the database has 100k entries to load all of that at once would result in slow loading speeds, but if I were to implement paging with spring and only load 10 per tab, speeds would be faster. So if I&#39;m on page one of the list, the data on page two isn&#39;t loaded until a button like `next` or `2` is clicked.\r\n\r\nI have a working project in which I did sorting, filtering and paging with the Spring repository, I&#39;ll include some of the necessary code now: \r\n\r\n**The following is the service interface methods:**\r\n```\r\npackage net.javaguides.springboot.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.domain.Page;\r\n\r\nimport net.javaguides.springboot.model.Employee;\r\n\r\npublic interface EmployeeService {\r\n\r\n\tList&lt;Employee&gt; findAll(String keyword);\r\n\r\n\tList&lt;Employee&gt; getAllEmployees();\r\n\r\n\tvoid saveEmployee(Employee employee);\r\n\r\n\tEmployee getEmployeeById(long id);\r\n\r\n\tvoid deleteEmployeeById(long id);\r\n\r\n\tPage&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\r\n\r\n\tPage&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword);\r\n}\r\n\r\n```\r\n**This is the implementations of the methods:**\r\n```\r\npackage net.javaguides.springboot.service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport net.javaguides.springboot.model.Employee;\r\nimport net.javaguides.springboot.repository.EmployeeRepository;\r\n\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepository employeeRepository;\r\n\r\n\t@Override\r\n\tpublic List&lt;Employee&gt; findAll(String keyword) {\r\n\t\treturn employeeRepository.findAll(keyword);\r\n\t}\r\n\r\n\tpublic Employee get(Long id) {\r\n\t\treturn employeeRepository.findById(id).get();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Employee&gt; getAllEmployees() {\r\n\t\treturn employeeRepository.findAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void saveEmployee(Employee employee) {\r\n\t\tthis.employeeRepository.save(employee);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee getEmployeeById(long id) {\r\n\t\tOptional&lt;Employee&gt; optional = employeeRepository.findById(id);\r\n\t\tEmployee employee = null;\r\n\t\tif (optional.isPresent()) {\r\n\t\t\temployee = optional.get();\r\n\t\t} else {\r\n\t\t\tthrow new RuntimeException(&quot; Employee not found for id :: &quot; + id);\r\n\t\t}\r\n\t\treturn employee;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteEmployeeById(long id) {\r\n\t\tthis.employeeRepository.deleteById(id);\r\n\t}\r\n\r\n\r\n\r\n\tpublic Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\r\n\t\tSort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n\t\t\tSort.by(sortField).descending();\r\n\t\t\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n\t\treturn this.employeeRepository.findAll(pageable);\r\n\t}\r\n\r\n\tpublic Page&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword) {\r\n\t\tSort sort = Sort.by(sortField);\r\n\t\tsort = sortDir.equals(&quot;asc&quot;) ? sort.ascending() : sort.descending();\r\n\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n\r\n\t\tPage&lt;Employee&gt; page;\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tpage = employeeRepository.findByFirstNameContainingOrLastNameContaining(keyword, keyword, pageable);\r\n\t\t} else {\r\n\t\t\tpage = employeeRepository.findAll(pageable);\r\n\t\t}\r\n\r\n\t\treturn page;\r\n\t}\r\n}\r\n//This is the entire Service class\r\n```\r\n\r\n**This is the controller class:**\r\n```\r\npackage net.javaguides.springboot.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport net.javaguides.springboot.model.Employee;\r\nimport net.javaguides.springboot.service.EmployeeService;\r\n\r\n@Controller\r\npublic class EmployeeController {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeService employeeService;\r\n\t\r\n\t// display list of employees\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\r\n\t\treturn findPaginated(1, &quot;firstName&quot;, &quot;asc&quot;, keyword, model);\r\n\t}\r\n\r\n\t@GetMapping(&quot;/showNewEmployeeForm&quot;)\r\n\tpublic String showNewEmployeeForm(Model model) {\r\n\t\t// create model attribute to bind form data\r\n\t\tEmployee employee = new Employee();\r\n\t\tmodel.addAttribute(&quot;employee&quot;, employee);\r\n\t\treturn &quot;new_employee&quot;;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/saveEmployee&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\r\n\t\t// save employee to database\r\n\t\temployeeService.saveEmployee(employee);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/showFormForUpdate/{id}&quot;)\r\n\tpublic String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\r\n\r\n\t\t// get employee from the service\r\n\t\tEmployee employee = employeeService.getEmployeeById(id);\r\n\r\n\t\t// set employee as a model attribute to pre-populate the form\r\n\t\tmodel.addAttribute(&quot;employee&quot;, employee);\r\n\t\treturn &quot;update_employee&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/deleteEmployee/{id}&quot;)\r\n\tpublic String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\r\n\t\t// call delete employee method\r\n\t\tthis.employeeService.deleteEmployeeById(id);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n\r\n\r\n\t@GetMapping(&quot;/page/{pageNo}&quot;)\r\n\tpublic String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\r\n\t\t\t\t\t\t\t\t@RequestParam(value = &quot;sortField&quot;) String sortField,\r\n\t\t\t\t\t\t\t\t@RequestParam(value = &quot;sortDir&quot;, defaultValue = &quot;asc&quot;) String sortDir,\r\n\t\t\t\t\t\t\t\t@RequestParam(value = &quot;keyword&quot;, required = false) String keyword,\r\n\t\t\t\t\t\t\t\tModel model) {\r\n\t\tint pageSize = 10;\r\n\t\tSort.Direction direction = Sort.Direction.ASC;\r\n\t\tPage&lt;Employee&gt; page;\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tpage = employeeService.searchEmployees(pageNo, pageSize, sortField, sortDir, keyword);\r\n\t\t} else {\r\n\t\t\tpage = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\r\n\t\t}\r\n\t\tList&lt;Employee&gt; listEmployees = page.getContent();\r\n\r\n\t\tmodel.addAttribute(&quot;currentPage&quot;, pageNo);\r\n\t\tmodel.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\r\n\t\tmodel.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\r\n\r\n\t\tmodel.addAttribute(&quot;sortField&quot;, sortField);\r\n\t\tmodel.addAttribute(&quot;sortDir&quot;, sortDir);\r\n\t\tmodel.addAttribute(&quot;keyword&quot;, keyword);\r\n\t\tmodel.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n\r\n\t\tmodel.addAttribute(&quot;listEmployees&quot;, listEmployees);\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n**Lastly, the HTML markup:**\r\n```\r\n&lt;link rel=&quot;stylesheet&quot;\r\n\thref=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\r\n\tintegrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\r\n\tcrossorigin=&quot;anonymous&quot;&gt;\r\n\t&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js&quot; integrity=&quot;sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;div class=&quot;container my-2&quot;&gt;\r\n\t&lt;h1&gt;Employees List&lt;/h1&gt;\r\n\t\t&lt;form th:action=&quot;@{/}&quot;&gt;\r\n\t\t\tFilter: &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot; th:value=&quot;${keyword}&quot; required /&gt;\r\n\t\t\t&amp;nbsp;\r\n\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\r\n\t\t\t&amp;nbsp;\r\n\t\t\t&lt;input type=&quot;button&quot; value=&quot;Clear&quot; id=&quot;btnClear&quot; onclick=&quot;clearSearch()&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t\tSort by email: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;email&quot;/&gt;\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir==&#39;asc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir==&#39;desc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\r\n\t\t&lt;/form&gt;\r\n\t\t&lt;br&gt;\r\n\t\tSort by lastname: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;lastName&quot;/&gt;\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir==&#39;asc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir==&#39;desc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\r\n\t\t&lt;/form&gt;\r\n\t\t&lt;br&gt;\r\n\t\tSort by firstname: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;firstName&quot;/&gt;\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir==&#39;asc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir==&#39;desc&#39;}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\r\n\t\t&lt;/form&gt;\r\n\r\n\t\t&lt;a th:href = &quot;@{/showNewEmployeeForm}&quot; class=&quot;btn btn-primary btn-sm mb-3&quot;&gt; Add Employee &lt;/a&gt;&lt;br&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;input type=&quot;checkbox&quot; id=&quot;female-checkbox&quot;&gt;\r\n\t\t\t&lt;label for=&quot;female-checkbox&quot;&gt;Show All Employees&lt;/label&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;table border=&quot;1&quot; class = &quot;table table-striped table-responsive-md&quot;&gt;\r\n\t\t\t&lt;thead&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=firstName&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\tEmployee First Name&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=lastName&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\t\tEmployee Last Name&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=email&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\t\tEmployee Email&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t\tGender\r\n&lt;!--\t\t\t\t\t\t&lt;label for=&quot;showFemaleEmployeesCheckbox&quot;&gt;Show Female Employees&lt;/label&gt;--&gt;\r\n&lt;!--\t\t\t\t\t\t&lt;input type=&quot;checkbox&quot; onchange=&quot;showAll()&quot; id=&quot;showAllCheckbox&quot;&gt; Show all genders--&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt; Actions &lt;/th&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/thead&gt;\r\n\t\t\t&lt;tbody&gt;\r\n\t\t\t&lt;tr th:each=&quot;employee : ${listEmployees}&quot;&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${employee.firstName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${employee.lastName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${employee.email}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${employee.gender}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{/showFormForUpdate/{id}(id=${employee.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{/deleteEmployee/{id}(id=${employee.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/tbody&gt;\r\n\t\t&lt;/table&gt;\r\n\r\n\t\t&lt;div th:if = &quot;${totalPages &gt; 1}&quot;&gt;\r\n\t\t\t&lt;div class = &quot;row col-sm-10&quot;&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-2&quot;&gt;\r\n\t\t\t\t\tTotal Rows: [[${totalItems}]]\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-1&quot;&gt;\r\n\t\t\t\t\t&lt;span th:each=&quot;i: ${#numbers.sequence(1, totalPages)}&quot; style=&quot;display: flex;&quot;&gt;\r\n\t\t\t\t\t\t&lt;a th:if=&quot;${currentPage != i}&quot; th:href=&quot;@{&#39;/page/&#39; + ${i}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;[[${i}]]&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;span th:unless=&quot;${currentPage != i}&quot;&gt;[[${i}]]&lt;/span&gt;  &amp;nbsp; &amp;nbsp;\r\n\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-1&quot;&gt;\r\n\t\t\t\t\t&lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{&#39;/page/&#39; + ${currentPage + 1}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;Next&lt;/a&gt;\r\n\t\t\t\t\t&lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Next&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t &lt;div class=&quot;col-sm-1&quot;&gt;\r\n    \t\t\t\t&lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{&#39;/page/&#39; + ${totalPages}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;Last&lt;/a&gt;\r\n\t\t\t\t\t&lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Last&lt;/span&gt;\r\n   \t\t\t\t &lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n```\r\nWith the code I sent you should be able to use Paging, Sorting and Filtering with the PagingAndSorting Repository from Spring boot.\r\n\r\nTo re-iterate, I want to use the PagingAndSorting repository to only use pagination in order to load data on the server side and not on the front-end, but still continue to use the DataTables for searching and sorting. I&#39;m aware that the DataTables library can load the data on the server-side, but does that mean that the data in only loaded when it requested? i.e. clicking `next` or `previous` etc.","title":"How to combine jQuery DataTables and the PagingAndSorting Repository in Spring boot?","body":"<p>I want to sort and filter data from a MySQL DB with the DataTables library, however, I would like to use the Spring paging and sorting repository for pagination. Why? because I'm of the belief that the DataTables library would load all the data from the db at once thus increasing loading times. I want to use Spring to load a specified number of data entries at once for faster loading times.</p>\n<p>For example: If the database has 100k entries to load all of that at once would result in slow loading speeds, but if I were to implement paging with spring and only load 10 per tab, speeds would be faster. So if I'm on page one of the list, the data on page two isn't loaded until a button like <code>next</code> or <code>2</code> is clicked.</p>\n<p>I have a working project in which I did sorting, filtering and paging with the Spring repository, I'll include some of the necessary code now:</p>\n<p><strong>The following is the service interface methods:</strong></p>\n<pre><code>package net.javaguides.springboot.service;\n\nimport java.util.List;\n\nimport org.springframework.data.domain.Page;\n\nimport net.javaguides.springboot.model.Employee;\n\npublic interface EmployeeService {\n\n    List&lt;Employee&gt; findAll(String keyword);\n\n    List&lt;Employee&gt; getAllEmployees();\n\n    void saveEmployee(Employee employee);\n\n    Employee getEmployeeById(long id);\n\n    void deleteEmployeeById(long id);\n\n    Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\n\n    Page&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword);\n}\n\n</code></pre>\n<p><strong>This is the implementations of the methods:</strong></p>\n<pre><code>package net.javaguides.springboot.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.stereotype.Service;\n\nimport net.javaguides.springboot.model.Employee;\nimport net.javaguides.springboot.repository.EmployeeRepository;\n\n@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Override\n    public List&lt;Employee&gt; findAll(String keyword) {\n        return employeeRepository.findAll(keyword);\n    }\n\n    public Employee get(Long id) {\n        return employeeRepository.findById(id).get();\n    }\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        return employeeRepository.findAll();\n    }\n\n    @Override\n    public void saveEmployee(Employee employee) {\n        this.employeeRepository.save(employee);\n    }\n\n    @Override\n    public Employee getEmployeeById(long id) {\n        Optional&lt;Employee&gt; optional = employeeRepository.findById(id);\n        Employee employee = null;\n        if (optional.isPresent()) {\n            employee = optional.get();\n        } else {\n            throw new RuntimeException(&quot; Employee not found for id :: &quot; + id);\n        }\n        return employee;\n    }\n\n    @Override\n    public void deleteEmployeeById(long id) {\n        this.employeeRepository.deleteById(id);\n    }\n\n\n\n    public Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n            Sort.by(sortField).descending();\n        \n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n        return this.employeeRepository.findAll(pageable);\n    }\n\n    public Page&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword) {\n        Sort sort = Sort.by(sortField);\n        sort = sortDir.equals(&quot;asc&quot;) ? sort.ascending() : sort.descending();\n\n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n\n        Page&lt;Employee&gt; page;\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            page = employeeRepository.findByFirstNameContainingOrLastNameContaining(keyword, keyword, pageable);\n        } else {\n            page = employeeRepository.findAll(pageable);\n        }\n\n        return page;\n    }\n}\n//This is the entire Service class\n</code></pre>\n<p><strong>This is the controller class:</strong></p>\n<pre><code>package net.javaguides.springboot.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport net.javaguides.springboot.model.Employee;\nimport net.javaguides.springboot.service.EmployeeService;\n\n@Controller\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n    \n    // display list of employees\n    @GetMapping(&quot;/&quot;)\n    public String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\n        return findPaginated(1, &quot;firstName&quot;, &quot;asc&quot;, keyword, model);\n    }\n\n    @GetMapping(&quot;/showNewEmployeeForm&quot;)\n    public String showNewEmployeeForm(Model model) {\n        // create model attribute to bind form data\n        Employee employee = new Employee();\n        model.addAttribute(&quot;employee&quot;, employee);\n        return &quot;new_employee&quot;;\n    }\n\n    @PostMapping(&quot;/saveEmployee&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\n        // save employee to database\n        employeeService.saveEmployee(employee);\n        return &quot;redirect:/&quot;;\n    }\n\n    @GetMapping(&quot;/showFormForUpdate/{id}&quot;)\n    public String showFormForUpdate(@PathVariable ( value = &quot;id&quot;) long id, Model model) {\n\n        // get employee from the service\n        Employee employee = employeeService.getEmployeeById(id);\n\n        // set employee as a model attribute to pre-populate the form\n        model.addAttribute(&quot;employee&quot;, employee);\n        return &quot;update_employee&quot;;\n    }\n\n    @GetMapping(&quot;/deleteEmployee/{id}&quot;)\n    public String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\n        // call delete employee method\n        this.employeeService.deleteEmployeeById(id);\n        return &quot;redirect:/&quot;;\n    }\n\n\n    @GetMapping(&quot;/page/{pageNo}&quot;)\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\n                                @RequestParam(value = &quot;sortField&quot;) String sortField,\n                                @RequestParam(value = &quot;sortDir&quot;, defaultValue = &quot;asc&quot;) String sortDir,\n                                @RequestParam(value = &quot;keyword&quot;, required = false) String keyword,\n                                Model model) {\n        int pageSize = 10;\n        Sort.Direction direction = Sort.Direction.ASC;\n        Page&lt;Employee&gt; page;\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            page = employeeService.searchEmployees(pageNo, pageSize, sortField, sortDir, keyword);\n        } else {\n            page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\n        }\n        List&lt;Employee&gt; listEmployees = page.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\n\n        model.addAttribute(&quot;sortField&quot;, sortField);\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\n        model.addAttribute(&quot;keyword&quot;, keyword);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>Lastly, the HTML markup:</strong></p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\n    crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js&quot; integrity=&quot;sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container my-2&quot;&gt;\n    &lt;h1&gt;Employees List&lt;/h1&gt;\n        &lt;form th:action=&quot;@{/}&quot;&gt;\n            Filter: &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot; th:value=&quot;${keyword}&quot; required /&gt;\n            &amp;nbsp;\n            &lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\n            &amp;nbsp;\n            &lt;input type=&quot;button&quot; value=&quot;Clear&quot; id=&quot;btnClear&quot; onclick=&quot;clearSearch()&quot; /&gt;\n        &lt;/form&gt;\n        Sort by email: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;email&quot;/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir=='asc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir=='desc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\n        &lt;/form&gt;\n        &lt;br&gt;\n        Sort by lastname: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;lastName&quot;/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir=='asc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir=='desc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\n        &lt;/form&gt;\n        &lt;br&gt;\n        Sort by firstname: &lt;form th:action=&quot;@{/page/1}&quot; method=&quot;get&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;sortField&quot; value=&quot;firstName&quot;/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;asc&quot; th:checked=&quot;${sortDir=='asc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Ascending\n            &lt;input type=&quot;radio&quot; name=&quot;sortDir&quot; value=&quot;desc&quot; th:checked=&quot;${sortDir=='desc'}&quot; onchange=&quot;this.form.submit()&quot;/&gt; Descending\n        &lt;/form&gt;\n\n        &lt;a th:href = &quot;@{/showNewEmployeeForm}&quot; class=&quot;btn btn-primary btn-sm mb-3&quot;&gt; Add Employee &lt;/a&gt;&lt;br&gt;\n        &lt;div&gt;\n            &lt;input type=&quot;checkbox&quot; id=&quot;female-checkbox&quot;&gt;\n            &lt;label for=&quot;female-checkbox&quot;&gt;Show All Employees&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;table border=&quot;1&quot; class = &quot;table table-striped table-responsive-md&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;\n                        &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=firstName&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                        Employee First Name&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                    &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=lastName&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                            Employee Last Name&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                    &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=email&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                            Employee Email&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                        Gender\n&lt;!--                        &lt;label for=&quot;showFemaleEmployeesCheckbox&quot;&gt;Show Female Employees&lt;/label&gt;--&gt;\n&lt;!--                        &lt;input type=&quot;checkbox&quot; onchange=&quot;showAll()&quot; id=&quot;showAllCheckbox&quot;&gt; Show all genders--&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt; Actions &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n            &lt;tr th:each=&quot;employee : ${listEmployees}&quot;&gt;\n                &lt;td th:text=&quot;${employee.firstName}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${employee.lastName}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${employee.email}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${employee.gender}&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;a th:href=&quot;@{/showFormForUpdate/{id}(id=${employee.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\n                    &lt;a th:href=&quot;@{/deleteEmployee/{id}(id=${employee.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;div th:if = &quot;${totalPages &gt; 1}&quot;&gt;\n            &lt;div class = &quot;row col-sm-10&quot;&gt;\n                &lt;div class = &quot;col-sm-2&quot;&gt;\n                    Total Rows: [[${totalItems}]]\n                &lt;/div&gt;\n                &lt;div class = &quot;col-sm-1&quot;&gt;\n                    &lt;span th:each=&quot;i: ${#numbers.sequence(1, totalPages)}&quot; style=&quot;display: flex;&quot;&gt;\n                        &lt;a th:if=&quot;${currentPage != i}&quot; th:href=&quot;@{'/page/' + ${i}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;[[${i}]]&lt;/a&gt;\n                        &lt;span th:unless=&quot;${currentPage != i}&quot;&gt;[[${i}]]&lt;/span&gt;  &amp;nbsp; &amp;nbsp;\n                    &lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class = &quot;col-sm-1&quot;&gt;\n                    &lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{'/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;Next&lt;/a&gt;\n                    &lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Next&lt;/span&gt;\n                &lt;/div&gt;\n\n                 &lt;div class=&quot;col-sm-1&quot;&gt;\n                    &lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{'/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;Last&lt;/a&gt;\n                    &lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Last&lt;/span&gt;\n                 &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>With the code I sent you should be able to use Paging, Sorting and Filtering with the PagingAndSorting Repository from Spring boot.</p>\n<p>To re-iterate, I want to use the PagingAndSorting repository to only use pagination in order to load data on the server side and not on the front-end, but still continue to use the DataTables for searching and sorting. I'm aware that the DataTables library can load the data on the server-side, but does that mean that the data in only loaded when it requested? i.e. clicking <code>next</code> or <code>previous</code> etc.</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682530054,"creation_date":1682530054,"answer_id":76113534,"question_id":76112405,"body_markdown":"The problem is that the cell that you just edited is still in &quot;edit mode&quot; when you click on the _Save_ button. Refer to this bug: [JDK-6349059][1]\r\n\r\nThe bug states that the problem was solved by setting a [custom property][2]. I assumed that the property is set when a `JTable` is created but according to my check, it is not. Hence I could reproduce your problem. Explicitly setting the property solves the problem. I suggest that you add the following line to method `initializeComponent` (of class `JTableDemo2`):\r\n```java\r\njtable.putClientProperty(&quot;terminateEditOnFocusLost&quot;, Boolean.TRUE);\r\n```\r\nAlso note that the default [layout][3] for [the content pane of] `JFrame` is [BorderLayout][4] so I suggest adding the `JTable` to a `JScrollPane` and setting the `JScrollPane` as the &quot;center&quot; component. Consider the following code (which includes all the changes I suggested, above):\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\n\r\npublic class JTableDemo2 extends JFrame implements ActionListener {\r\n\r\n    private JButton addBtn;\r\n    private JButton resetBtn;\r\n    private JTable jtable;\r\n    private StudentModel studentModel;\r\n\r\n    private JTableDemo2() {\r\n        setBounds(300, 200, 550, 400);\r\n        addWindowListener(new WindowAdapter() {\r\n            public void windowClosing(WindowEvent we) {\r\n                dispose();\r\n            }\r\n        });\r\n        initializeComponent();\r\n    }\r\n\r\n    void initializeComponent() {\r\n        JPanel panel = new JPanel();\r\n        studentModel = new StudentModel(getDummyData());\r\n        addBtn = new JButton(&quot;Save&quot;);\r\n        addBtn.addActionListener(this);\r\n        resetBtn = new JButton(&quot;Close&quot;);\r\n        resetBtn.addActionListener(this);\r\n        jtable = new JTable(studentModel);\r\n        add(new JScrollPane(jtable), BorderLayout.CENTER);\r\n        panel.add(addBtn);\r\n        panel.add(resetBtn);\r\n        add(panel, BorderLayout.LINE_END);\r\n        jtable.putClientProperty(&quot;terminateEditOnFocusLost&quot;, Boolean.TRUE);\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        JTableDemo2 object = new JTableDemo2();\r\n        object.setVisible(true);\r\n    }\r\n\r\n    private Map&lt;String, String&gt; getDummyData() {\r\n        Map&lt;String, String&gt; rowData = new HashMap&lt;&gt;();\r\n        rowData.put(&quot;Age&quot;, &quot;&quot;);\r\n        rowData.put(&quot;Name&quot;, &quot;&quot;);\r\n        return rowData;\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == addBtn) {\r\n            System.out.println(&quot;studentModel.getAttributeMap() :&quot; + studentModel.getAttributeMap());\r\n        }\r\n    }\r\n}\r\n```\r\nI also suggest that you refer to [How to Use Tables][5].\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-6349059\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html#properties\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/BorderLayout.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","title":"Not getting last updated value in Jtable Cell","body":"<p>The problem is that the cell that you just edited is still in &quot;edit mode&quot; when you click on the <em>Save</em> button. Refer to this bug: <a href=\"https://bugs.openjdk.org/browse/JDK-6349059\" rel=\"nofollow noreferrer\">JDK-6349059</a></p>\n<p>The bug states that the problem was solved by setting a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html#properties\" rel=\"nofollow noreferrer\">custom property</a>. I assumed that the property is set when a <code>JTable</code> is created but according to my check, it is not. Hence I could reproduce your problem. Explicitly setting the property solves the problem. I suggest that you add the following line to method <code>initializeComponent</code> (of class <code>JTableDemo2</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>jtable.putClientProperty(&quot;terminateEditOnFocusLost&quot;, Boolean.TRUE);\n</code></pre>\n<p>Also note that the default <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout</a> for [the content pane of] <code>JFrame</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\">BorderLayout</a> so I suggest adding the <code>JTable</code> to a <code>JScrollPane</code> and setting the <code>JScrollPane</code> as the &quot;center&quot; component. Consider the following code (which includes all the changes I suggested, above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\n\npublic class JTableDemo2 extends JFrame implements ActionListener {\n\n    private JButton addBtn;\n    private JButton resetBtn;\n    private JTable jtable;\n    private StudentModel studentModel;\n\n    private JTableDemo2() {\n        setBounds(300, 200, 550, 400);\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent we) {\n                dispose();\n            }\n        });\n        initializeComponent();\n    }\n\n    void initializeComponent() {\n        JPanel panel = new JPanel();\n        studentModel = new StudentModel(getDummyData());\n        addBtn = new JButton(&quot;Save&quot;);\n        addBtn.addActionListener(this);\n        resetBtn = new JButton(&quot;Close&quot;);\n        resetBtn.addActionListener(this);\n        jtable = new JTable(studentModel);\n        add(new JScrollPane(jtable), BorderLayout.CENTER);\n        panel.add(addBtn);\n        panel.add(resetBtn);\n        add(panel, BorderLayout.LINE_END);\n        jtable.putClientProperty(&quot;terminateEditOnFocusLost&quot;, Boolean.TRUE);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        JTableDemo2 object = new JTableDemo2();\n        object.setVisible(true);\n    }\n\n    private Map&lt;String, String&gt; getDummyData() {\n        Map&lt;String, String&gt; rowData = new HashMap&lt;&gt;();\n        rowData.put(&quot;Age&quot;, &quot;&quot;);\n        rowData.put(&quot;Name&quot;, &quot;&quot;);\n        return rowData;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == addBtn) {\n            System.out.println(&quot;studentModel.getAttributeMap() :&quot; + studentModel.getAttributeMap());\n        }\n    }\n}\n</code></pre>\n<p>I also suggest that you refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>.</p>\n"}],"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76113534,"answer_count":1,"score":0,"last_activity_date":1682530421,"creation_date":1682521968,"question_id":76112405,"body_markdown":"I am creating Java _Swing_ UI. Following is my UI\r\n\r\n[enter image description here](https://i.stack.imgur.com/U0gfc.png)\r\n\r\nI am using `JTable` here. Here we are allowing user to update _Attribute_ value. \r\nSo when I update _Age_ it internally fires `setValueAt` method which updates the given, but when we update the second value, i.e. _Name_ and after that click _Save_ button, somehow I am not getting updated value of _Name_.\r\n\r\nReason is when I unclick _Name_ row, in that case it internally fires `setValueAt` method. So any way to fire `setValueAt` method when I click button so that I can get the updated values?\r\n\r\n**EDIT:**\r\n\r\nModel Class\r\n```java\r\npublic class StudentModel extends AbstractTableModel {\r\n    private static final long serialVersionUID = 1L;\r\n    private final Map&lt;String, String&gt; userProperty = new HashMap&lt;&gt;();\r\n    private final String[] header = new String[]{&quot;Attribute Name&quot;, &quot;Attribute Value&quot;};\r\n    private String[] keys;\r\n\r\n    public StudentModel(Map&lt;String, String&gt; attributeMap) {\r\n        this.userProperty.putAll(attributeMap);\r\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return userProperty.size();\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return header.length;\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int col) {\r\n        if (col == 0) {\r\n            return header[0];\r\n        } else {\r\n            return header[1];\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        if (columnIndex == 0) {\r\n            return keys[rowIndex];\r\n        } else {\r\n            return userProperty.get(keys[rowIndex]);\r\n        }\r\n    }\r\n\r\n    public void removeAllRows() {\r\n        this.userProperty.clear();\r\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\r\n    }\r\n\r\n    public void addRow(Map&lt;String, String&gt; newRows) {\r\n        this.userProperty.putAll(newRows);\r\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\r\n    }\r\n\r\n    public void updateTable() {\r\n        fireTableDataChanged();\r\n    }\r\n\r\n    @Override\r\n    public boolean isCellEditable(int row, int column) {\r\n        return column == 1;\r\n    }\r\n\r\n    @Override\r\n    public void setValueAt(Object value, int row, int col) {\r\n        userProperty.put(keys[row], String.valueOf(value));\r\n        fireTableCellUpdated(row, col);\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getAttributeMap() {\r\n        return userProperty;\r\n    }\r\n}\r\n```\r\n**UI Class:**\r\n```java\r\npublic class JTableDemo2 extends JFrame implements ActionListener {\r\n    private JButton addBtn;\r\n    private JButton resetBtn;\r\n    private JTable jtable;\r\n    private StudentModel studentModel;\r\n\r\n    private JTableDemo2() {\r\n        setBounds(300, 200, 550, 400);\r\n        addWindowListener(new WindowAdapter() {\r\n            public void windowClosing(WindowEvent we) {\r\n                dispose();\r\n            }\r\n        });\r\n        initializeComponent();\r\n    }\r\n\r\n    void initializeComponent() {\r\n        JPanel panel = new JPanel();\r\n        studentModel = new StudentModel(getDummyData());\r\n        addBtn = new JButton(&quot;Save&quot;);\r\n        addBtn.addActionListener(this);\r\n        resetBtn = new JButton(&quot;Close&quot;);\r\n        resetBtn.addActionListener(this);\r\n        jtable = new JTable(studentModel);\r\n        panel.add(new JScrollPane(jtable));\r\n        panel.add(addBtn);\r\n        panel.add(resetBtn);\r\n        add(panel);\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        JTableDemo2 object = new JTableDemo2();\r\n        object.setVisible(true);\r\n    }\r\n\r\n    private Map&lt;String, String&gt; getDummyData() {\r\n        Map&lt;String, String&gt; rowData = new HashMap&lt;&gt;();\r\n        rowData.put(&quot;Age&quot;, &quot;&quot;);\r\n        rowData.put(&quot;Name&quot;, &quot;&quot;);\r\n        return rowData;\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == addBtn) {\r\n            System.out.println(&quot;studentModel.getAttributeMap() :&quot; + studentModel.getAttributeMap());\r\n        }\r\n    }\r\n}\r\n```\r\n**Output after clicking button:**\r\n\r\n[enter image description here][1]\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9wR0s.png","title":"Not getting last updated value in Jtable Cell","body":"<p>I am creating Java <em>Swing</em> UI. Following is my UI</p>\n<p><a href=\"https://i.stack.imgur.com/U0gfc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am using <code>JTable</code> here. Here we are allowing user to update <em>Attribute</em> value.\nSo when I update <em>Age</em> it internally fires <code>setValueAt</code> method which updates the given, but when we update the second value, i.e. <em>Name</em> and after that click <em>Save</em> button, somehow I am not getting updated value of <em>Name</em>.</p>\n<p>Reason is when I unclick <em>Name</em> row, in that case it internally fires <code>setValueAt</code> method. So any way to fire <code>setValueAt</code> method when I click button so that I can get the updated values?</p>\n<p><strong>EDIT:</strong></p>\n<p>Model Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentModel extends AbstractTableModel {\n    private static final long serialVersionUID = 1L;\n    private final Map&lt;String, String&gt; userProperty = new HashMap&lt;&gt;();\n    private final String[] header = new String[]{&quot;Attribute Name&quot;, &quot;Attribute Value&quot;};\n    private String[] keys;\n\n    public StudentModel(Map&lt;String, String&gt; attributeMap) {\n        this.userProperty.putAll(attributeMap);\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\n    }\n\n    @Override\n    public int getRowCount() {\n        return userProperty.size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return header.length;\n    }\n\n    @Override\n    public String getColumnName(int col) {\n        if (col == 0) {\n            return header[0];\n        } else {\n            return header[1];\n        }\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        if (columnIndex == 0) {\n            return keys[rowIndex];\n        } else {\n            return userProperty.get(keys[rowIndex]);\n        }\n    }\n\n    public void removeAllRows() {\n        this.userProperty.clear();\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\n    }\n\n    public void addRow(Map&lt;String, String&gt; newRows) {\n        this.userProperty.putAll(newRows);\n        keys = this.userProperty.keySet().toArray(new String[this.userProperty.size()]);\n    }\n\n    public void updateTable() {\n        fireTableDataChanged();\n    }\n\n    @Override\n    public boolean isCellEditable(int row, int column) {\n        return column == 1;\n    }\n\n    @Override\n    public void setValueAt(Object value, int row, int col) {\n        userProperty.put(keys[row], String.valueOf(value));\n        fireTableCellUpdated(row, col);\n    }\n\n    public Map&lt;String, String&gt; getAttributeMap() {\n        return userProperty;\n    }\n}\n</code></pre>\n<p><strong>UI Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JTableDemo2 extends JFrame implements ActionListener {\n    private JButton addBtn;\n    private JButton resetBtn;\n    private JTable jtable;\n    private StudentModel studentModel;\n\n    private JTableDemo2() {\n        setBounds(300, 200, 550, 400);\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent we) {\n                dispose();\n            }\n        });\n        initializeComponent();\n    }\n\n    void initializeComponent() {\n        JPanel panel = new JPanel();\n        studentModel = new StudentModel(getDummyData());\n        addBtn = new JButton(&quot;Save&quot;);\n        addBtn.addActionListener(this);\n        resetBtn = new JButton(&quot;Close&quot;);\n        resetBtn.addActionListener(this);\n        jtable = new JTable(studentModel);\n        panel.add(new JScrollPane(jtable));\n        panel.add(addBtn);\n        panel.add(resetBtn);\n        add(panel);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        JTableDemo2 object = new JTableDemo2();\n        object.setVisible(true);\n    }\n\n    private Map&lt;String, String&gt; getDummyData() {\n        Map&lt;String, String&gt; rowData = new HashMap&lt;&gt;();\n        rowData.put(&quot;Age&quot;, &quot;&quot;);\n        rowData.put(&quot;Name&quot;, &quot;&quot;);\n        return rowData;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == addBtn) {\n            System.out.println(&quot;studentModel.getAttributeMap() :&quot; + studentModel.getAttributeMap());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output after clicking button:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9wR0s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Thanks.</p>\n"},{"tags":["java","exception","logging","quarkus"],"comments":[{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":1,"creation_date":1682554295,"post_id":76113566,"comment_id":134236084,"body_markdown":"Hello dear, can you please help us with the following information so that we can help you better - **1.** Provide us the line of code which is producing stacktrace logging which you want to be removed from the log file being generated. **2.** Also, please share the code/xml of the configuration which you have tried so far but it didn&#39;t work. **3.** How did you define your own JSON provider? Can you please share its code with us.","body":"Hello dear, can you please help us with the following information so that we can help you better - <b>1.</b> Provide us the line of code which is producing stacktrace logging which you want to be removed from the log file being generated. <b>2.</b> Also, please share the code/xml of the configuration which you have tried so far but it didn&#39;t work. <b>3.</b> How did you define your own JSON provider? Can you please share its code with us."}],"owner":{"account_id":28425855,"reputation":1,"user_id":21747246,"display_name":"begit48"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682530396,"creation_date":1682530396,"question_id":76113566,"body_markdown":"I would like to exclude stacktrace from quarkus json log for specific category. (using quarkiverse logging)\r\n\r\nI&#39;ve tried multiple quarkus configurations but nothing really worked. I&#39;ve also tried defining my own json provider but that is not solution i am looking for. Any ideas?","title":"Customizing quarkus json logging","body":"<p>I would like to exclude stacktrace from quarkus json log for specific category. (using quarkiverse logging)</p>\n<p>I've tried multiple quarkus configurations but nothing really worked. I've also tried defining my own json provider but that is not solution i am looking for. Any ideas?</p>\n"},{"tags":["java","spring-boot","validation"],"owner":{"account_id":27231613,"reputation":1,"user_id":20759238,"display_name":"David Ezeokeke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682530170,"creation_date":1682111477,"question_id":76076727,"body_markdown":"\r\nHey I&#39;m trying to make a billing service in java/spring boot, but am getting stuck in my login validation.\r\n\r\nHere is my login and registration form\r\n\r\n```\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n    &lt;h1&gt;BillEm&lt;/h1&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col&quot;&gt;\r\n                &lt;h1&gt;Register&lt;/h1&gt;\r\n                &lt;form:form action=&quot;/register&quot; method=&quot;post&quot; modelAttribute=&quot;newStore&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Store Name&lt;/label&gt;\r\n                        &lt;form:input path=&quot;storeName&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;storeName&quot; class=&quot;text-danger&quot; /&gt;`enter code here`\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                    \t&lt;label&gt;Location&lt;/label&gt;\r\n                    \t&lt;form:input path=&quot;location&quot; class=&quot;form-control&quot; /&gt;\r\n                    \t&lt;form:errors path=&quot;location&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Email&lt;/label&gt;\r\n                        &lt;form:input path=&quot;email&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;email&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Password&lt;/label&gt;\r\n                        &lt;form:input path=&quot;password&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;password&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Confirm Password&lt;/label&gt;\r\n                        &lt;form:input path=&quot;confirm&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;confirm&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Register Store&quot; class=&quot;btn btn-primary&quot; /&gt;\r\n                &lt;/form:form&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col&quot;&gt;\r\n            &lt;h1&gt;Login&lt;/h1&gt;\r\n            &lt;form:form action=&quot;/login&quot; method=&quot;post&quot; modelAttribute=&quot;newStore&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Email&lt;/label&gt;\r\n                        &lt;form:input path=&quot;email&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;email&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Password&lt;/label&gt;\r\n                        &lt;form:input path=&quot;password&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;form:errors path=&quot;password&quot; class=&quot;text-danger&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Login Store&quot; class=&quot;btn btn-primary&quot; /&gt;\r\n                &lt;/form:form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nThis is my login method which should check if the email exists in my db or if the password matches the one in the DB.\r\n```\r\npublic Store loginStore(LoginStore loginStore, BindingResult result) {\r\n    Store store = getByEmail(loginStore.getEmail());\r\n    if (store == null) {\r\n        result.rejectValue(&quot;email&quot;, &quot;Invalid Credentials&quot;);\r\n        return null;\r\n    }\r\n    if(!BCrypt.checkpw(loginStore.getPassword(), store.getPassword())) {\r\n        result.rejectValue(&quot;email&quot;, &quot;Invalid Credentials&quot;);\r\n        return null;\r\n    }\r\n    if (result.hasErrors()){\r\n        return null;\r\n    }\r\n    return store;\r\n}\r\n```\r\nHere is my post mapping which uses the method\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\npublic String login(@Valid @ModelAttribute(&quot;newLogin&quot;) LoginStore newLogin, BindingResult result, Model model, HttpSession session) {\r\n\r\n    //creates new store model and checks if the email exists or if the password matches the email\r\n\r\n    Store storeLoggingIn = storeServ.loginStore(newLogin, result);\r\n    \r\n    //checks for errors\r\n    if (result.hasErrors()) {\r\n        model.addAttribute(&quot;newStore&quot;, new Store());\r\n        return &quot;Main/LogAndReg.jsp&quot;;\r\n    }\r\n    //stores the data into the stores session\r\n    session.setAttribute(&quot;store_id&quot;, storeLoggingIn.getId());\r\n    return &quot;redirect:/takeOrder&quot;;\r\n}\r\n```\r\nThis is the error I keep getting which doesn&#39;t make sense to me because I&#39;m trying to check for this error. But its skipping that one and going to the next validation.\r\n\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;com.david.billEm.models.Store.getPassword()&quot; because &quot;store&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;com.david.billEm.models.Store.getPassword()&quot; because &quot;store&quot; is null\r\n\r\nIve tried making it to a store === null but the ide says thats its a syntax error.\r\n\r\nUpdate: I&#39;ve got it to not show me the error by returning null after the result.rejectValue(etc) but now the validation message isnt popping up.","title":"Error where my login validation isnt validating and breaks if the email that is entered doesnt exist","body":"<p>Hey I'm trying to make a billing service in java/spring boot, but am getting stuck in my login validation.</p>\n<p>Here is my login and registration form</p>\n<pre><code>&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;BillEm&lt;/h1&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col&quot;&gt;\n                &lt;h1&gt;Register&lt;/h1&gt;\n                &lt;form:form action=&quot;/register&quot; method=&quot;post&quot; modelAttribute=&quot;newStore&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Store Name&lt;/label&gt;\n                        &lt;form:input path=&quot;storeName&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;storeName&quot; class=&quot;text-danger&quot; /&gt;`enter code here`\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Location&lt;/label&gt;\n                        &lt;form:input path=&quot;location&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;location&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Email&lt;/label&gt;\n                        &lt;form:input path=&quot;email&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;email&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Password&lt;/label&gt;\n                        &lt;form:input path=&quot;password&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;password&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Confirm Password&lt;/label&gt;\n                        &lt;form:input path=&quot;confirm&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;confirm&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Register Store&quot; class=&quot;btn btn-primary&quot; /&gt;\n                &lt;/form:form&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col&quot;&gt;\n            &lt;h1&gt;Login&lt;/h1&gt;\n            &lt;form:form action=&quot;/login&quot; method=&quot;post&quot; modelAttribute=&quot;newStore&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Email&lt;/label&gt;\n                        &lt;form:input path=&quot;email&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;email&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label&gt;Password&lt;/label&gt;\n                        &lt;form:input path=&quot;password&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;form:errors path=&quot;password&quot; class=&quot;text-danger&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Login Store&quot; class=&quot;btn btn-primary&quot; /&gt;\n                &lt;/form:form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n<p>This is my login method which should check if the email exists in my db or if the password matches the one in the DB.</p>\n<pre><code>public Store loginStore(LoginStore loginStore, BindingResult result) {\n    Store store = getByEmail(loginStore.getEmail());\n    if (store == null) {\n        result.rejectValue(&quot;email&quot;, &quot;Invalid Credentials&quot;);\n        return null;\n    }\n    if(!BCrypt.checkpw(loginStore.getPassword(), store.getPassword())) {\n        result.rejectValue(&quot;email&quot;, &quot;Invalid Credentials&quot;);\n        return null;\n    }\n    if (result.hasErrors()){\n        return null;\n    }\n    return store;\n}\n</code></pre>\n<p>Here is my post mapping which uses the method</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\npublic String login(@Valid @ModelAttribute(&quot;newLogin&quot;) LoginStore newLogin, BindingResult result, Model model, HttpSession session) {\n\n    //creates new store model and checks if the email exists or if the password matches the email\n\n    Store storeLoggingIn = storeServ.loginStore(newLogin, result);\n    \n    //checks for errors\n    if (result.hasErrors()) {\n        model.addAttribute(&quot;newStore&quot;, new Store());\n        return &quot;Main/LogAndReg.jsp&quot;;\n    }\n    //stores the data into the stores session\n    session.setAttribute(&quot;store_id&quot;, storeLoggingIn.getId());\n    return &quot;redirect:/takeOrder&quot;;\n}\n</code></pre>\n<p>This is the error I keep getting which doesn't make sense to me because I'm trying to check for this error. But its skipping that one and going to the next validation.</p>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;com.david.billEm.models.Store.getPassword()&quot; because &quot;store&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.david.billEm.models.Store.getPassword()&quot; because &quot;store&quot; is null</p>\n<p>Ive tried making it to a store === null but the ide says thats its a syntax error.</p>\n<p>Update: I've got it to not show me the error by returning null after the result.rejectValue(etc) but now the validation message isnt popping up.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1682587499,"post_id":76113496,"comment_id":134240649,"body_markdown":"Personally, I would just do this in the `setPerson()` method.","body":"Personally, I would just do this in the <code>setPerson()</code> method."}],"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682529739,"creation_date":1682529739,"question_id":76113496,"body_markdown":"Im looking for the best way of doing the following thing. I have an entity with this two fields:\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;person_id&quot;)\r\n    private Person person;\r\n    \r\n \r\n    @Column(name = &quot;person_name&quot;)\r\n    private String personName;\r\n\r\n\r\nI need that every time I persist or update this entity, it sets automatically personName with the field name of the entity Person.\r\n\r\nI know you could use @PreSave and @PreUpdate and do something like this:\r\n\r\n    @PreSave\r\n    @PreUpdate\r\n    public void setName(){\r\n    this.personName=this.persona.getName();\r\n    }\r\n\r\nBut I was wondering if exists something more &quot;clever&quot;, I mean, something like an hibernate annotation that require less code.\r\n\r\nThanks","title":"Best way to update field of entity that depends of another field in the same entity","body":"<p>Im looking for the best way of doing the following thing. I have an entity with this two fields:</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;person_id&quot;)\nprivate Person person;\n\n\n@Column(name = &quot;person_name&quot;)\nprivate String personName;\n</code></pre>\n<p>I need that every time I persist or update this entity, it sets automatically personName with the field name of the entity Person.</p>\n<p>I know you could use @PreSave and @PreUpdate and do something like this:</p>\n<pre><code>@PreSave\n@PreUpdate\npublic void setName(){\nthis.personName=this.persona.getName();\n}\n</code></pre>\n<p>But I was wondering if exists something more &quot;clever&quot;, I mean, something like an hibernate annotation that require less code.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550911373,"creation_date":1550911373,"answer_id":54839780,"question_id":54836719,"body_markdown":"Yes, it does matter. If `cascade` is defined only on parent, when you make any changes on parent and persist it, then the essential changes on children will also be performed, but changing children won&#39;t affect parent entity. Same, when only child entity is cascading changes.","title":"Cascade - changes are propagated from non owning side as well?","body":"<p>Yes, it does matter. If <code>cascade</code> is defined only on parent, when you make any changes on parent and persist it, then the essential changes on children will also be performed, but changing children won't affect parent entity. Same, when only child entity is cascading changes.</p>\n"}],"owner":{"account_id":15294072,"reputation":55,"user_id":11034753,"display_name":"Ben G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54839780,"answer_count":1,"score":0,"last_activity_date":1682528772,"creation_date":1550879074,"question_id":54836719,"body_markdown":"I am new to Hibernate. I had read that when using `CascadeType.ALL` to persist, changes are propogated from the owning side. I have below example where I am saving the non owning entity and the owning entity is also saved. \r\n\r\n    class Account { \r\n    \r\n    \t\r\n    \t@OneToMany(mappedBy=&quot;account&quot; , cascade=CascadeType.ALL)\r\n    \tList&lt;Transaction&gt; list= new ArrayList&lt;Transaction&gt;();\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    class Transaction {\r\n    \r\n        @ManyToOne\r\n    \t@JoinColumn(name=&quot;account_id&quot;)\r\n    \tAccount account;\r\n    }\r\n\r\n    Account a = new Account(&quot;savings&quot;);\r\n\t\t\r\n\tTransaction t1 = new Transaction(&quot;shoe purchase&quot;, 45);\r\n\t\r\n\tt1.setAccount(a);\r\n\t\r\n    a.getList().add(t1);\r\n    \r\n    \r\n    accountRepository.save(a); //If cascaded is on account\r\n\r\n\r\nDoes it matter which side cascade is on? In this case I could have used `CascadeType.PERSIST`.\r\n\r\nAnother question I had was do we write unidirectional mapping for `OneToMany`/`ManyToOne` relationships? ","title":"Cascade - changes are propagated from non owning side as well?","body":"<p>I am new to Hibernate. I had read that when using <code>CascadeType.ALL</code> to persist, changes are propogated from the owning side. I have below example where I am saving the non owning entity and the owning entity is also saved.</p>\n<pre><code>class Account { \n\n    \n    @OneToMany(mappedBy=&quot;account&quot; , cascade=CascadeType.ALL)\n    List&lt;Transaction&gt; list= new ArrayList&lt;Transaction&gt;();\n    \n    \n}\n\nclass Transaction {\n\n    @ManyToOne\n    @JoinColumn(name=&quot;account_id&quot;)\n    Account account;\n}\n\nAccount a = new Account(&quot;savings&quot;);\n    \nTransaction t1 = new Transaction(&quot;shoe purchase&quot;, 45);\n\nt1.setAccount(a);\n\na.getList().add(t1);\n\n\naccountRepository.save(a); //If cascaded is on account\n</code></pre>\n<p>Does it matter which side cascade is on? In this case I could have used <code>CascadeType.PERSIST</code>.</p>\n<p>Another question I had was do we write unidirectional mapping for <code>OneToMany</code>/<code>ManyToOne</code> relationships?</p>\n"},{"tags":["java","spring-boot","metrics"],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682528717,"creation_date":1682528717,"question_id":76113375,"body_markdown":"I have gateway and routes:\r\n```\r\nspring:\r\n  application:\r\n    name: test-gateway\r\n  cloud:\r\n    loadbalancer:\r\n      retry:\r\n        enabled: true\r\n\r\nzuul:\r\n  retryable: true\r\n  set-content-length: true\r\n  routes:\r\n    test:\r\n      path: /**\r\n      serviceId: TEST\r\n      stripPrefix: false\r\n```\r\nTest application has his own prometheus metrics \r\nbut zuul takes its and show from test application\r\n\r\nhow make just zuul metric:\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: prometheus\r\n    ```\r\n this config in gateway appliaction.yml shows test metrics not gateway :(\r\n\r\n","title":"Zuul how not include routes endpoint metrics to gateway metric","body":"<p>I have gateway and routes:</p>\n<pre><code>spring:\n  application:\n    name: test-gateway\n  cloud:\n    loadbalancer:\n      retry:\n        enabled: true\n\nzuul:\n  retryable: true\n  set-content-length: true\n  routes:\n    test:\n      path: /**\n      serviceId: TEST\n      stripPrefix: false\n</code></pre>\n<p>Test application has his own prometheus metrics\nbut zuul takes its and show from test application</p>\n<p>how make just zuul metric:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: prometheus\n    ```\n this config in gateway appliaction.yml shows test metrics not gateway :(\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1682528673,"post_id":76113313,"comment_id":134231967,"body_markdown":"One has to assume a one to many relationship there","body":"One has to assume a one to many relationship there"},{"owner":{"account_id":13814098,"reputation":1,"user_id":9971092,"display_name":"Kumar"},"score":0,"creation_date":1682579256,"post_id":76113313,"comment_id":134238857,"body_markdown":"Yaa, But it comes under self join right.","body":"Yaa, But it comes under self join right."}],"owner":{"account_id":13814098,"reputation":1,"user_id":9971092,"display_name":"Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682528390,"creation_date":1682528293,"question_id":76113313,"body_markdown":"I Have Ratings JPA Entity, I am trying to fetch the details of rating in the form of native sql query.\r\n\r\nBy using Projection of JPA concept, I am trying to fetch the results in the maner of \r\n```\r\n{\r\nratingCount\r\naverageRating,\r\nList&lt;Rating&gt; ratings\r\n}\r\n```\r\n\r\nBut i am getting error in the query it self saying sub query returing more then one value.\r\n\r\nBelow I am attaching query and Projection class. \r\n\r\n\r\nI have wrote the query:\r\n\r\nQuery is:\r\n```\r\nselect COUNT(pr.product_id) AS totalRatingCount,\r\n        AVG(pr.rating) AS averageRating, \r\n        (SELECT pri.product_id FROM Product_rating pri \r\n        WHERE pr.product_id in (13)\r\n        ) as ratings \r\nfrom Product_rating pr where pr.product_id=13;\r\n```\r\n\r\nI have created the Projection class:\r\n\r\n```\r\nclass ProductRatingResultsI {\r\n    long getTotalRatingCount();\r\n\tlong getAverageRating();\r\n\tList&lt;ProductRatingI&gt; getRatings();\r\n}\r\n\r\n\r\nProductRatingI{\r\n    long getRatingId();\r\n\tdouble getRating();\r\n\tString getComment();\r\n\tString getReviewrName();\r\n\tDate getReviewDate();\r\n\tint getCustomerId();\r\n}\r\n\r\n```\r\n\r\nBut in the query it self I am facing the issue, Please help me to resolve the issue.","title":"JPA Projection with variables and List In the Projection Interface","body":"<p>I Have Ratings JPA Entity, I am trying to fetch the details of rating in the form of native sql query.</p>\n<p>By using Projection of JPA concept, I am trying to fetch the results in the maner of</p>\n<pre><code>{\nratingCount\naverageRating,\nList&lt;Rating&gt; ratings\n}\n</code></pre>\n<p>But i am getting error in the query it self saying sub query returing more then one value.</p>\n<p>Below I am attaching query and Projection class.</p>\n<p>I have wrote the query:</p>\n<p>Query is:</p>\n<pre><code>select COUNT(pr.product_id) AS totalRatingCount,\n        AVG(pr.rating) AS averageRating, \n        (SELECT pri.product_id FROM Product_rating pri \n        WHERE pr.product_id in (13)\n        ) as ratings \nfrom Product_rating pr where pr.product_id=13;\n</code></pre>\n<p>I have created the Projection class:</p>\n<pre><code>class ProductRatingResultsI {\n    long getTotalRatingCount();\n    long getAverageRating();\n    List&lt;ProductRatingI&gt; getRatings();\n}\n\n\nProductRatingI{\n    long getRatingId();\n    double getRating();\n    String getComment();\n    String getReviewrName();\n    Date getReviewDate();\n    int getCustomerId();\n}\n\n</code></pre>\n<p>But in the query it self I am facing the issue, Please help me to resolve the issue.</p>\n"},{"tags":["java","spring-boot","logging","logback"],"owner":{"account_id":17519568,"reputation":71,"user_id":12705919,"display_name":"Neha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682527584,"creation_date":1682527584,"question_id":76113223,"body_markdown":"I am new to logback and trying to understand how it works. \r\n\r\nI have create logback-spring.xml and added below RollingFIleAppender\r\n\r\nI want to rollover if the file reaches 10MB... Say between 26th April 12:00 AM and 26th April 9 PM, rollover happens everytime the file reaches 10MB, but if the size of the file current log file is 5 MB and it never increases, will it rollover the next day?\r\n\r\n     &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;logs\\logFile.html&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;!-- daily rollover --&gt;\r\n          &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n              class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n              &lt;!-- or whenever the file size reaches 50MB --&gt;\r\n            &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n          &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n          &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n          &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n          &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\r\n          &lt;/layout&gt;         \r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt; \r\n    \r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\nExample\r\n\r\n    logFile.html               -&gt;            Size of this file at 26th April 9 PM is 5 MB and \r\n                                             size does not increase until 26th April 11:59 \r\n                                             PM...This file is is not rolled over until \r\n                                             then...Will it be rolled over to next day? i.e \r\n                                             logFile.2023-04-27.0.html\r\n    logFile.2023-04-26.0.html\r\n    logFile.2023-04-26.1.html\r\n    logFile.2023-04-26.2.html","title":"How does logback rollover work for the last file?","body":"<p>I am new to logback and trying to understand how it works.</p>\n<p>I have create logback-spring.xml and added below RollingFIleAppender</p>\n<p>I want to rollover if the file reaches 10MB... Say between 26th April 12:00 AM and 26th April 9 PM, rollover happens everytime the file reaches 10MB, but if the size of the file current log file is 5 MB and it never increases, will it rollover the next day?</p>\n<pre><code> &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;logs\\logFile.html&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- daily rollover --&gt;\n      &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n          class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n          &lt;!-- or whenever the file size reaches 50MB --&gt;\n        &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;!-- keep 30 days' worth of history --&gt;\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\n      &lt;/layout&gt;         \n    &lt;/encoder&gt;\n  &lt;/appender&gt; \n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n        &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\n    &lt;/root&gt;\n</code></pre>\n<p>Example</p>\n<pre><code>logFile.html               -&gt;            Size of this file at 26th April 9 PM is 5 MB and \n                                         size does not increase until 26th April 11:59 \n                                         PM...This file is is not rolled over until \n                                         then...Will it be rolled over to next day? i.e \n                                         logFile.2023-04-27.0.html\nlogFile.2023-04-26.0.html\nlogFile.2023-04-26.1.html\nlogFile.2023-04-26.2.html\n</code></pre>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682530021,"post_id":76113170,"comment_id":134232246,"body_markdown":"You cannot load an mp4 file in a WebView.","body":"You cannot load an mp4 file in a WebView."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1682553444,"post_id":76113170,"comment_id":134236032,"body_markdown":"@blackapps presumably that&#39;s why they want to download it instead","body":"@blackapps presumably that&#39;s why they want to download it instead"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682584093,"post_id":76113170,"comment_id":134239878,"body_markdown":"@Ryan M, yes. And that is what will happen instead automatically.","body":"@Ryan M, yes. And that is what will happen instead automatically."},{"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"score":0,"creation_date":1682587864,"post_id":76113170,"comment_id":134240744,"body_markdown":"it will not happen automatically for me. I don&#39;t know what I did wrong but the download function does not get called when I click in mp4 file url!","body":"it will not happen automatically for me. I don&#39;t know what I did wrong but the download function does not get called when I click in mp4 file url!"}],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682527180,"creation_date":1682527180,"question_id":76113170,"body_markdown":"I use `webview` of android in my app, I&#39;m wondering if there is a function in `webview` in which I can check that the opened link is file or a website page. for example if the link is for mp4 file I want to download the file otherwise load the url in `webview`. here is my download listener function:\r\n\r\n    webView.setDownloadListener(new DownloadListener() {\r\n            @Override\r\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\r\n                DownloadFileManager.getInstance().startDownload(url, userAgent, contentDisposition, mimetype, contentLength);\r\n            }\r\n        });\r\nthis is the called function:\r\n\r\n    public void startDownload(String url, String userAgent,\r\n                              String contentDisposition, String mimetype,\r\n                              long contentLength) {\r\n        if (PermissionHelper.isStoragePermissionGranted()) {\r\n            String fileName = FileNameGenerator.getUniqueNameForDownloadedFile(url, contentDisposition, mimetype);\r\n            long downloadManagerId = AndroidDownloadManagerHelper.downloadUrl(url, contentDisposition, mimetype, fileName);\r\n            this.saveDownloadEntity(fileName, contentLength, downloadManagerId);\r\n            this.runningDownloadItems.add(new DownloadItem(downloadManagerId));\r\n            this.startDownloadProgressJob();\r\n        }\r\n    }\r\n\r\nwhat should I do?","title":"how to check if a link is a downloading file or a website in android webview?","body":"<p>I use <code>webview</code> of android in my app, I'm wondering if there is a function in <code>webview</code> in which I can check that the opened link is file or a website page. for example if the link is for mp4 file I want to download the file otherwise load the url in <code>webview</code>. here is my download listener function:</p>\n<pre><code>webView.setDownloadListener(new DownloadListener() {\n        @Override\n        public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n            DownloadFileManager.getInstance().startDownload(url, userAgent, contentDisposition, mimetype, contentLength);\n        }\n    });\n</code></pre>\n<p>this is the called function:</p>\n<pre><code>public void startDownload(String url, String userAgent,\n                          String contentDisposition, String mimetype,\n                          long contentLength) {\n    if (PermissionHelper.isStoragePermissionGranted()) {\n        String fileName = FileNameGenerator.getUniqueNameForDownloadedFile(url, contentDisposition, mimetype);\n        long downloadManagerId = AndroidDownloadManagerHelper.downloadUrl(url, contentDisposition, mimetype, fileName);\n        this.saveDownloadEntity(fileName, contentLength, downloadManagerId);\n        this.runningDownloadItems.add(new DownloadItem(downloadManagerId));\n        this.startDownloadProgressJob();\n    }\n}\n</code></pre>\n<p>what should I do?</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1682527040,"creation_date":1507546621,"answer_id":46644809,"question_id":46644500,"body_markdown":"I would stub that `Provider` and make it return the `prototypeMock` every time using the `@Before` method invoked before each of the tests:\r\n\r\n    @Mock\r\n    private javax.inject.Provider&lt;MyPrototype&gt; prototypeFactoryStub;\r\n        \r\n    @Mock \r\n    MyPrototype prototypeMock;\r\n    \r\n    @InjectMocks \r\n    MySingleton sut;\r\n    \r\n    @Before\r\n    public void init(){\r\n       MockitoAnnotations.initMocks(this); // optional\r\n    \r\n       when(prototypeFactoryStub.get()).thenReturn(prototypeMock);\r\n    }\r\n\r\n    @Test\r\n    public void testPrototype() {\r\n        sut.doStuff();\r\n        verify(prototypeMock, times(1)).invoke();\r\n    }\r\n","title":"Mockito: How to mock javax.inject.Provider-created prototype beans?","body":"<p>I would stub that <code>Provider</code> and make it return the <code>prototypeMock</code> every time using the <code>@Before</code> method invoked before each of the tests:</p>\n<pre><code>@Mock\nprivate javax.inject.Provider&lt;MyPrototype&gt; prototypeFactoryStub;\n    \n@Mock \nMyPrototype prototypeMock;\n\n@InjectMocks \nMySingleton sut;\n\n@Before\npublic void init(){\n   MockitoAnnotations.initMocks(this); // optional\n\n   when(prototypeFactoryStub.get()).thenReturn(prototypeMock);\n}\n\n@Test\npublic void testPrototype() {\n    sut.doStuff();\n    verify(prototypeMock, times(1)).invoke();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1746109,"reputation":3512,"user_id":1596294,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568739648,"creation_date":1568739648,"answer_id":57978919,"question_id":46644500,"body_markdown":"    @Mock \r\n    MyPrototype prototype;\r\n\r\n    @Spy\r\n    Provider&lt;MyPrototype&gt; prototypeProvider = new Provider&lt;MyPrototype&gt;() {\r\n        public MyPrototype get() {return prototype;}\r\n    };\r\n\r\n    @InjectMocks \r\n    MySingleton sut;","title":"Mockito: How to mock javax.inject.Provider-created prototype beans?","body":"<pre><code>@Mock \nMyPrototype prototype;\n\n@Spy\nProvider&lt;MyPrototype&gt; prototypeProvider = new Provider&lt;MyPrototype&gt;() {\n    public MyPrototype get() {return prototype;}\n};\n\n@InjectMocks \nMySingleton sut;\n</code></pre>\n"}],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8423,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46644809,"answer_count":2,"score":7,"last_activity_date":1682527040,"creation_date":1507545615,"question_id":46644500,"body_markdown":"I have a singleton Spring bean which creates prototype beans; those are retrieved from a `javax.inject.Provider` field:\r\n\r\n    @Component\r\n    public class MySingleton {\r\n        @Autowired\r\n        private javax.inject.Provider&lt;MyPrototype&gt; prototypeFactory;\r\n\r\n        public void doStuff() {\r\n            MyPrototype bean = prototypeFactory.get();\r\n            bean.invoke();\r\n        }\r\n    }\r\n\r\n    @Component\r\n    @Scope(&quot;prototype&quot;)\r\n    public class MyPrototype {\r\n        public void invoke() {}\r\n    }\r\n\r\nNow I would like to create a JUnit-Test for the Singleton:\r\n\r\n    @Mock \r\n    MyPrototype prototype;\r\n    @InjectMocks \r\n    MySingleton sut;\r\n    @Test\r\n    public void testPrototype() {\r\n        sut.doStuff();\r\n        verify(prototype, times(1)).invoke();\r\n    }\r\n\r\nBut that understandably doesn&#39;t properly setup the Singleton&#39;s `Provider`.\r\n\r\nIs there any way to do that? I&#39;d like to avoid creating a Singleton Factory bean which creates the Prototype instances.\r\n\r\nOr, would it maybe be elegantly possible using a `@Lookup`-factory method for the Singleton? I haven&#39;t looked into that at all yet.","title":"Mockito: How to mock javax.inject.Provider-created prototype beans?","body":"<p>I have a singleton Spring bean which creates prototype beans; those are retrieved from a <code>javax.inject.Provider</code> field:</p>\n\n<pre><code>@Component\npublic class MySingleton {\n    @Autowired\n    private javax.inject.Provider&lt;MyPrototype&gt; prototypeFactory;\n\n    public void doStuff() {\n        MyPrototype bean = prototypeFactory.get();\n        bean.invoke();\n    }\n}\n\n@Component\n@Scope(\"prototype\")\npublic class MyPrototype {\n    public void invoke() {}\n}\n</code></pre>\n\n<p>Now I would like to create a JUnit-Test for the Singleton:</p>\n\n<pre><code>@Mock \nMyPrototype prototype;\n@InjectMocks \nMySingleton sut;\n@Test\npublic void testPrototype() {\n    sut.doStuff();\n    verify(prototype, times(1)).invoke();\n}\n</code></pre>\n\n<p>But that understandably doesn't properly setup the Singleton's <code>Provider</code>.</p>\n\n<p>Is there any way to do that? I'd like to avoid creating a Singleton Factory bean which creates the Prototype instances.</p>\n\n<p>Or, would it maybe be elegantly possible using a <code>@Lookup</code>-factory method for the Singleton? I haven't looked into that at all yet.</p>\n"},{"tags":["java","mysql","spring","hibernate","many-to-many"],"owner":{"account_id":26207050,"reputation":3,"user_id":19886512,"display_name":"cinosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682526689,"creation_date":1682526598,"question_id":76113089,"body_markdown":"There are two tables:\r\n```\r\npublic class Bet{\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    ....\r\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;bets&quot;)\r\n    Set&lt;Match&gt; matches = new HashSet&lt;&gt;();\r\n}\r\n```\r\nand\r\n```\r\n@Table(name=&quot;event&quot;)\r\npublic class Match{\r\n    @Id\r\n    private Long id;\r\n    ...\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinTable(\r\n            name = &quot;bet_event&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;bet_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;event_id&quot;) }\r\n    )\r\n    private Set&lt;Bet&gt; bets = new HashSet&lt;&gt;();\r\n\r\n    public void addBet(Bet bet) {\r\n        this.bets.add(bet);\r\n        bet.getMatches().add(this);\r\n    }\r\n}\r\n```\r\n\r\nMatch object is created from API response. It has defined ID field, so it doesn&#39;t need to be  generated. I want to write method that would create new Bet, add to it all passed matches and then add this bet object to the set of bets in every single match. At the moment I have something like this, but it doesn&#39;t work:\r\n\r\n```\r\npublic void createBet(List&lt;Match&gt; matches){\r\n        Bet bet = Bet.builder()\r\n                .id(1L)\r\n                .matches(new HashSet&lt;&gt;())\r\n                ...\r\n                .build();\r\n\r\n        bet.setMatches(new HashSet&lt;&gt;(matches));\r\n        bet = betRepository.save(bet);\r\n\r\n        for(var match : matches) {\r\n            if(matchRepository.existsById(match.getId())){\r\n                var tempMatch = matchRepository.findById(match.getId()).get();\r\n                matchRepository.deleteById(tempMatch.getId());\r\n                tempMatch.addBet(bet);\r\n                matchRepository.save(tempMatch);\r\n            }\r\n            else{\r\n                match.addBet(bet);\r\n                matchRepository.save(match);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\nWhen I try to add second and more bets I receive error:\r\n\r\n`Multiple representations of the same entity [(...).Bet#1] are being merged. Detached: [(...).Bet@16c7455b]; Detached: [(...).Bet@7b76045f]`\r\n\r\nHow to make it work?\r\n","title":"Adding new element to many-to-many relation in Hibernate","body":"<p>There are two tables:</p>\n<pre><code>public class Bet{\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    ....\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;bets&quot;)\n    Set&lt;Match&gt; matches = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Table(name=&quot;event&quot;)\npublic class Match{\n    @Id\n    private Long id;\n    ...\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinTable(\n            name = &quot;bet_event&quot;,\n            joinColumns = { @JoinColumn(name = &quot;bet_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;event_id&quot;) }\n    )\n    private Set&lt;Bet&gt; bets = new HashSet&lt;&gt;();\n\n    public void addBet(Bet bet) {\n        this.bets.add(bet);\n        bet.getMatches().add(this);\n    }\n}\n</code></pre>\n<p>Match object is created from API response. It has defined ID field, so it doesn't need to be  generated. I want to write method that would create new Bet, add to it all passed matches and then add this bet object to the set of bets in every single match. At the moment I have something like this, but it doesn't work:</p>\n<pre><code>public void createBet(List&lt;Match&gt; matches){\n        Bet bet = Bet.builder()\n                .id(1L)\n                .matches(new HashSet&lt;&gt;())\n                ...\n                .build();\n\n        bet.setMatches(new HashSet&lt;&gt;(matches));\n        bet = betRepository.save(bet);\n\n        for(var match : matches) {\n            if(matchRepository.existsById(match.getId())){\n                var tempMatch = matchRepository.findById(match.getId()).get();\n                matchRepository.deleteById(tempMatch.getId());\n                tempMatch.addBet(bet);\n                matchRepository.save(tempMatch);\n            }\n            else{\n                match.addBet(bet);\n                matchRepository.save(match);\n            }\n        }\n    }\n\n</code></pre>\n<p>When I try to add second and more bets I receive error:</p>\n<p><code>Multiple representations of the same entity [(...).Bet#1] are being merged. Detached: [(...).Bet@16c7455b]; Detached: [(...).Bet@7b76045f]</code></p>\n<p>How to make it work?</p>\n"},{"tags":["java","json","spring-boot","jackson","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682525063,"creation_date":1682525063,"answer_id":76112859,"question_id":76111805,"body_markdown":"Your java class is not matching the json model. You need a &quot;personData&quot; object which looks like a map where the keys are *Date* objects and the values are *List&lt;Person&gt;*. This is how it worked for me:\r\n\r\n```java\r\npublic class HistoricalApiResponse {\r\n    public Map&lt;Date, List&lt;Person&gt;&gt; personsData;\r\n}\r\n\r\npublic class Person {\r\n\tpublic Integer age;\r\n\tpublic String country;\r\n\t@JsonProperty(&quot;updated_at&quot;) // needed for mapping\r\n\tpublic Date upatedAt;\r\n}\r\n```\r\n\r\nAnd here&#39;s how you can test it:\r\n```java\r\n@Test\r\nvoid test() throws JsonProcessingException {\r\n\tString json = &quot;&quot;&quot;\r\n\t\t\t{\r\n\t\t\t\t&quot;personsData&quot;: {\r\n\t\t\t\t\t&quot;2023-02-27&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;country&quot;: &quot;INDIA&quot;,\r\n\t\t\t\t\t\t\t&quot;age&quot;: 19,\r\n\t\t\t\t\t\t\t&quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;country&quot;: &quot;UK&quot;,\r\n\t\t\t\t\t\t\t&quot;age&quot;: 29,\r\n\t\t\t\t\t\t\t&quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t&quot;2023-02-25&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;country&quot;: &quot;JPY&quot;,\r\n\t\t\t\t\t\t\t&quot;age&quot;: 39,\r\n\t\t\t\t\t\t\t&quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;country&quot;: &quot;CHINA&quot;,\r\n\t\t\t\t\t\t\t&quot;age&quot;: 39,\r\n\t\t\t\t\t\t\t&quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&quot;&quot;&quot;;\r\n\r\n\tvar om = new ObjectMapper();\r\n\tHistoricalApiResponse response = om.readValue(json, HistoricalApiResponse.class);\r\n\t\r\n\tSystem.out.println(response);\r\n}\r\n```\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type HistoricalData from Object value JsonToken.START_OBJECT","body":"<p>Your java class is not matching the json model. You need a &quot;personData&quot; object which looks like a map where the keys are <em>Date</em> objects and the values are <em>List</em>. This is how it worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoricalApiResponse {\n    public Map&lt;Date, List&lt;Person&gt;&gt; personsData;\n}\n\npublic class Person {\n    public Integer age;\n    public String country;\n    @JsonProperty(&quot;updated_at&quot;) // needed for mapping\n    public Date upatedAt;\n}\n</code></pre>\n<p>And here's how you can test it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() throws JsonProcessingException {\n    String json = &quot;&quot;&quot;\n            {\n                &quot;personsData&quot;: {\n                    &quot;2023-02-27&quot;: [\n                        {\n                            &quot;country&quot;: &quot;INDIA&quot;,\n                            &quot;age&quot;: 19,\n                            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n                        },\n                        {\n                            &quot;country&quot;: &quot;UK&quot;,\n                            &quot;age&quot;: 29,\n                            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n                        }\n                    ],\n                    &quot;2023-02-25&quot;: [\n                        {\n                            &quot;country&quot;: &quot;JPY&quot;,\n                            &quot;age&quot;: 39,\n                            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n                        },\n                        {\n                            &quot;country&quot;: &quot;CHINA&quot;,\n                            &quot;age&quot;: 39,\n                            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n                        }\n                    ]\n                }\n            }\n            &quot;&quot;&quot;;\n\n    var om = new ObjectMapper();\n    HistoricalApiResponse response = om.readValue(json, HistoricalApiResponse.class);\n    \n    System.out.println(response);\n}\n</code></pre>\n"}],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76112859,"answer_count":1,"score":0,"last_activity_date":1682526394,"creation_date":1682518304,"question_id":76111805,"body_markdown":"Iam triying to call external API from SpringBoot, once i recive the response im trying to save in a dto Object.\r\n\r\n     HistoricalApiResponse responseMap = restTemplate.getForObject(\r\n                    url,\r\n                    HistoricalApiResponse.class);\r\n\r\nsample response in below formate\r\n\r\n    {\r\n    &quot;personsData&quot;: {\r\n        &quot;2023-02-27&quot;: [\r\n        \r\n            {\r\n                &quot;country&quot;: &quot;INDIA&quot;,\r\n                &quot;age&quot;: 19,\r\n                &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n            },\r\n            \r\n            {\r\n                &quot;country&quot;: &quot;UK&quot;,\r\n                &quot;age&quot;: 29,\r\n                &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n            }\r\n            \r\n        ],\r\n        &quot;2023-02-25&quot;: [\r\n        \r\n            {\r\n                &quot;country&quot;: &quot;JPY&quot;,\r\n                &quot;age&quot;: 39,\r\n                &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n            },\r\n            \r\n            \r\n            {\r\n                &quot;country&quot;: &quot;CHINA&quot;,\r\n                &quot;age&quot;: 39,\r\n                &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\r\n            }\r\n            \r\n        ]\r\n    }\r\n}\r\n\r\n\r\nI have wrote HistoricalApiResponse class in below formate.\r\n```java\r\npublic class HistoricalApiResponse {\r\n    HistoricalData[] historicalData;\r\n}\r\n\r\nclass HistoricalData{\r\n     List&lt;Person&gt; personsData;\r\n}\r\n\r\nclass Person{\r\n    Integer age;\r\n    String country;\r\n    Date upatedAt;\r\n\r\n}\r\n```\r\n\r\nIm getting below exception\r\n Cannot deserialize value of type `[LHistoricalData;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[LHistoricalData;` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\nI have tried by changing HistoricalData to list, map and other ways. but getting some other exception. Im not able to find excat java class for above response.\r\n\r\nCan you guys please help what&#39;s the Structure of Response class for the JSON.","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type HistoricalData from Object value JsonToken.START_OBJECT","body":"<p>Iam triying to call external API from SpringBoot, once i recive the response im trying to save in a dto Object.</p>\n<pre><code> HistoricalApiResponse responseMap = restTemplate.getForObject(\n                url,\n                HistoricalApiResponse.class);\n</code></pre>\n<p>sample response in below formate</p>\n<pre><code>{\n&quot;personsData&quot;: {\n    &quot;2023-02-27&quot;: [\n    \n        {\n            &quot;country&quot;: &quot;INDIA&quot;,\n            &quot;age&quot;: 19,\n            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n        },\n        \n        {\n            &quot;country&quot;: &quot;UK&quot;,\n            &quot;age&quot;: 29,\n            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n        }\n        \n    ],\n    &quot;2023-02-25&quot;: [\n    \n        {\n            &quot;country&quot;: &quot;JPY&quot;,\n            &quot;age&quot;: 39,\n            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n        },\n        \n        \n        {\n            &quot;country&quot;: &quot;CHINA&quot;,\n            &quot;age&quot;: 39,\n            &quot;updated_at&quot;: &quot;2022-06-24T00:00:11.483Z&quot;\n        }\n        \n    ]\n}\n</code></pre>\n<p>}</p>\n<p>I have wrote HistoricalApiResponse class in below formate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoricalApiResponse {\n    HistoricalData[] historicalData;\n}\n\nclass HistoricalData{\n     List&lt;Person&gt; personsData;\n}\n\nclass Person{\n    Integer age;\n    String country;\n    Date upatedAt;\n\n}\n</code></pre>\n<p>Im getting below exception\nCannot deserialize value of type <code>[LHistoricalData;</code> from Object value (token <code>JsonToken.START_OBJECT</code>); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>[LHistoricalData;</code> from Object value (token <code>JsonToken.START_OBJECT</code>)</p>\n<p>I have tried by changing HistoricalData to list, map and other ways. but getting some other exception. Im not able to find excat java class for above response.</p>\n<p>Can you guys please help what's the Structure of Response class for the JSON.</p>\n"},{"tags":["java","apache-kafka","zeebe"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682543315,"post_id":76112156,"comment_id":134234732,"body_markdown":"Please clarify with documentation to &quot;Zeebe Kafka Connector&quot; what data format it expects, or will create.","body":"Please clarify with documentation to &quot;Zeebe Kafka Connector&quot; what data format it expects, or will create."}],"owner":{"account_id":18514133,"reputation":101,"user_id":13488635,"display_name":"mohammad amin rahimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682526360,"creation_date":1682520529,"question_id":76112156,"body_markdown":"I&#39;m trying to send a json into kafka using zeebe kafka connector. zeebe changes the format of json. it replaces colon (:) with equal (=) and replaces double quotation (&quot;) with quotation (&#39;).\r\n\r\nfor example:\r\n\r\n```json\r\n{ &quot;id&quot;: &quot;1234&quot;}\r\n```\r\n\r\nchanges into\r\n\r\n```js\r\n{ &#39;id&#39;=&#39;1234&#39;}\r\n```\r\n\r\nbut I don&#39;t want this transformation happen.how can I solve this problem?","title":"how to send json into kafka using zeebe kafka connector?","body":"<p>I'm trying to send a json into kafka using zeebe kafka connector. zeebe changes the format of json. it replaces colon (:) with equal (=) and replaces double quotation (&quot;) with quotation (').</p>\n<p>for example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;id&quot;: &quot;1234&quot;}\n</code></pre>\n<p>changes into</p>\n<pre class=\"lang-js prettyprint-override\"><code>{ 'id'='1234'}\n</code></pre>\n<p>but I don't want this transformation happen.how can I solve this problem?</p>\n"},{"tags":["java","jquery","file","spring-mvc"],"comments":[{"owner":{"account_id":178480,"reputation":2702,"user_id":410487,"accept_rate":66,"display_name":"Yaobin Then"},"score":0,"creation_date":1684991719,"post_id":76113033,"comment_id":134598931,"body_markdown":"Were you able to solve this? I&#39;m facing the same issue after upgrading to Spring Boot 3","body":"Were you able to solve this? I&#39;m facing the same issue after upgrading to Spring Boot 3"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682526189,"creation_date":1682526189,"question_id":76113033,"body_markdown":"I have a problem when i try to use fileupload to upload image file in java i use ajax to upload image. but when I run it, it gives an error: &quot;Unable to process parts as no multi-part configuration has been provided&quot; please help me\r\n\r\nthis is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\r\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;project name&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthis is my servlet.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\t&lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n\t\r\n\t&lt;bean id=&quot;multipartResolver&quot;\r\n    class=&quot;org.springframework.web.multipart.support.StandardServletMultipartResolver&quot;&gt;\r\n  &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\nthis is my js:\r\n```\r\n$(document).ready(function(){\r\n\t\r\n\tvar files =[];\r\n\t$(&quot;#productPhotos&quot;).change(function(event){\r\n\t\tfiles = event.target.files;\r\n\t\tforms = new FormData();\r\n\t\tforms.append(&quot;file&quot;,files[0]);\r\n\t\t\r\n\t\t$.ajax({\r\n            url: &quot;/shophai/api/uploadfile&quot;,\r\n            type: &quot;POST&quot;,\r\n            data:forms ,\r\n            contentType:false,\r\n            processData:false,\r\n            enctype:&quot;multipart/form-data&quot;,\r\n            success: function (value) {\t\r\n            }\r\n        })\r\n\t});\r\n});\r\n```\r\nthis is my APIController:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;api/&quot;)\r\npublic class APIController {\r\n\t@Autowired\r\n    ServletContext servletContext;\r\n    \r\n    @PostMapping(&quot;uploadfile&quot;)\r\n    @ResponseBody\r\n    public String UpLoadFile(MultipartHttpServletRequest request) {\r\n    \tString PathToProducts = servletContext.getRealPath(&quot;/resources/Image/&quot;);\r\n    \tIterator&lt;String&gt; imageName = request.getFileNames();\r\n    \tMultipartFile imageFile =request.getFile(imageName.next());\r\n    \t\r\n    \tFile fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\r\n    \ttry {\r\n\t\t\timageFile.transferTo(fileSave);\r\n\t\t} catch (IllegalStateException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \tSystem.out.println(PathToProducts);\r\n    \t\r\n    \treturn&quot;&quot;;\r\n    }\r\n\r\n\r\n}\r\n```","title":"Error&quot;Unable to process parts as no multi-part configuration has been provided&quot;","body":"<p>I have a problem when i try to use fileupload to upload image file in java i use ajax to upload image. but when I run it, it gives an error: &quot;Unable to process parts as no multi-part configuration has been provided&quot; please help me</p>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\n\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    \n    &lt;bean id=&quot;multipartResolver&quot;\n    class=&quot;org.springframework.web.multipart.support.StandardServletMultipartResolver&quot;&gt;\n  &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>this is my js:</p>\n<pre><code>$(document).ready(function(){\n    \n    var files =[];\n    $(&quot;#productPhotos&quot;).change(function(event){\n        files = event.target.files;\n        forms = new FormData();\n        forms.append(&quot;file&quot;,files[0]);\n        \n        $.ajax({\n            url: &quot;/shophai/api/uploadfile&quot;,\n            type: &quot;POST&quot;,\n            data:forms ,\n            contentType:false,\n            processData:false,\n            enctype:&quot;multipart/form-data&quot;,\n            success: function (value) { \n            }\n        })\n    });\n});\n</code></pre>\n<p>this is my APIController:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;api/&quot;)\npublic class APIController {\n    @Autowired\n    ServletContext servletContext;\n    \n    @PostMapping(&quot;uploadfile&quot;)\n    @ResponseBody\n    public String UpLoadFile(MultipartHttpServletRequest request) {\n        String PathToProducts = servletContext.getRealPath(&quot;/resources/Image/&quot;);\n        Iterator&lt;String&gt; imageName = request.getFileNames();\n        MultipartFile imageFile =request.getFile(imageName.next());\n        \n        File fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\n        try {\n            imageFile.transferTo(fileSave);\n        } catch (IllegalStateException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(PathToProducts);\n        \n        return&quot;&quot;;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","ssl","activemq-artemis"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682025402,"post_id":76067294,"comment_id":134155254,"body_markdown":"A TLS server&#39;s keystore must contain both a privatekey _and_ matching certificate in the _same entry_. Did/does your `server-keystore.jks` contain a privatekey in alias `server`? Check `keytool -list -keystore server-keystore.jks -alias server`. If not, dupe https://stackoverflow.com/questions/68284274/java-ssl-tls-no-available-authentication-scheme . PS: the log you uploaded doesn&#39;t include the initialization of the KeyManager -- look at that and I bet you&#39;ll find no privatekey was loaded from the keystore.","body":"A TLS server&#39;s keystore must contain both a privatekey <i>and</i> matching certificate in the <i>same entry</i>. Did/does your <code>server-keystore.jks</code> contain a privatekey in alias <code>server</code>? Check <code>keytool -list -keystore server-keystore.jks -alias server</code>. If not, dupe <a href=\"https://stackoverflow.com/questions/68284274/java-ssl-tls-no-available-authentication-scheme\" title=\"java ssl tls no available authentication scheme\">stackoverflow.com/questions/68284274/&hellip;</a> . PS: the log you uploaded doesn&#39;t include the initialization of the KeyManager -- look at that and I bet you&#39;ll find no privatekey was loaded from the keystore."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1682025889,"post_id":76067294,"comment_id":134155351,"body_markdown":"Never mind; now that we know you used `openssl` to generate the (private)key we know it isn&#39;t in the JKS. keytool cannot directly use an OpenSSL privatekey. Instead you must use `openssl pkcs12 -export` to combine the privatekey and cert into PKCS12, which you can either convert to JKS or use directly in any Java since about 2016 -- this has been asked and answered a hundred times, search for &#39;convert PEM key to Java&#39;. OR use the software from www.keystore-explorer.org to read OpenSSL key PLUS cert(s) into Java keystore.","body":"Never mind; now that we know you used <code>openssl</code> to generate the (private)key we know it isn&#39;t in the JKS. keytool cannot directly use an OpenSSL privatekey. Instead you must use <code>openssl pkcs12 -export</code> to combine the privatekey and cert into PKCS12, which you can either convert to JKS or use directly in any Java since about 2016 -- this has been asked and answered a hundred times, search for &#39;convert PEM key to Java&#39;. OR use the software from www.keystore-explorer.org to read OpenSSL key PLUS cert(s) into Java keystore."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682392336,"post_id":76067294,"comment_id":134204157,"body_markdown":"Any feedback here? Did you get this sorted?","body":"Any feedback here? Did you get this sorted?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1682408730,"post_id":76067294,"comment_id":134206210,"body_markdown":"However, static connectors are not working now. It is throwing this error - ```unable to authorise cluster control: AMQ219016: Connection failure detected. Unblocking a blocking call that will never get a response.``` I have added static cluster config above in the question","body":"However, static connectors are not working now. It is throwing this error - <code>unable to authorise cluster control: AMQ219016: Connection failure detected. Unblocking a blocking call that will never get a response.</code> I have added static cluster config above in the question"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1682490604,"post_id":76067294,"comment_id":134222337,"body_markdown":"Hi @JustinBertram, can you please look onto the above query?","body":"Hi @JustinBertram, can you please look onto the above query?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682523730,"post_id":76067294,"comment_id":134230629,"body_markdown":"I recommend you ask a _new_ question about the inability to authorise the cluster control, and post an answer for what you did to resolve the original issue and mark it as correct. Each question on Stack Overflow is meant to cover just _one_ issue. You&#39;re using this as a kind of catch-all for all your SSL-related problems.","body":"I recommend you ask a <i>new</i> question about the inability to authorise the cluster control, and post an answer for what you did to resolve the original issue and mark it as correct. Each question on Stack Overflow is meant to cover just <i>one</i> issue. You&#39;re using this as a kind of catch-all for all your SSL-related problems."}],"answers":[{"tags":[],"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682525844,"creation_date":1682525844,"answer_id":76112984,"question_id":76067294,"body_markdown":"I used the below command to create a ```.p12``` file from the signed cert and key that was created while creating the csr.\r\n```\r\nopenssl pkcs12 -export -in my-cer.cer -inkey activemq.key -name &#39;server&#39; -out keystore.p12\r\n```\r\n\r\nAfter creating the above ```.p12``` file, I added that to the keystone jks using the below command, and now this works.\r\n```\r\nkeytool -importkeystore -srckeystore keystore.p12 -srcstoretype pkcs12 -srcalias server -destkeystore my_keystore.jks -deststoretype jks -deststorepass securepass -destalias server\r\n```","title":"SSLHandshakeException: No available authentication scheme","body":"<p>I used the below command to create a <code>.p12</code> file from the signed cert and key that was created while creating the csr.</p>\n<pre><code>openssl pkcs12 -export -in my-cer.cer -inkey activemq.key -name 'server' -out keystore.p12\n</code></pre>\n<p>After creating the above <code>.p12</code> file, I added that to the keystone jks using the below command, and now this works.</p>\n<pre><code>keytool -importkeystore -srckeystore keystore.p12 -srcstoretype pkcs12 -srcalias server -destkeystore my_keystore.jks -deststoretype jks -deststorepass securepass -destalias server\n</code></pre>\n"}],"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76112984,"answer_count":1,"score":0,"last_activity_date":1682526062,"creation_date":1682016106,"question_id":76067294,"body_markdown":"I generated a CSR with the following command:\r\n```\r\nopenssl req -new -out activemq.csr -newkey rsa:2048 -nodes -sha256 -keyout activemq.key -config req.conf\r\n```\r\nI received back `my-cer.cer` after submitting my CSR, from which I created a JKS keystore:\r\n```\r\nkeytool -importcert -noprompt -alias server -file my-cer.cer -keypass $KEY_PASS -keystore server-keystore.jks -storepass $STORE_PASS -storetype JKS\r\n```\r\n\r\nSimilarly made a client JKS keystore with the CA.cer file.\r\nBut when I am trying to connect to broker on port 61616, I get this error on ActiveMQ Artemis broker -\r\n\r\n```\r\nWARN  [org.apache.activemq.artemis.core.server] AMQ222208: SSL handshake failed for client from /127.0.0.1:65172: javax.net.ssl.SSLHandshakeException: No available authentication scheme.\r\n```\r\n\r\nOn the client side:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:340) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:681) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:636) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:454) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:433) ~[na:na]\r\n\tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637) ~[na:na]\r\n\tat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\n\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) ~[artemis-commons-2.19.1.jar:2.19.1]\r\n```\r\n\r\nAcceptor:\r\n```xml\r\n&lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true;supportAdvisory=false;suppressInternalManagementObjects=false;sslEnabled=true;keyStorePath=/Users/subhidh/Desktop/ssl/server-keystore.jks;keyStorePassword=securepass&lt;/acceptor&gt;\r\n```\r\n\r\nURL used in `jndi.properties`:\r\n```\r\ntcp://127.0.0.1:61616?sslEnabled=true&amp;trustStorePath=/Users/subhidh/Desktop/ssl/truststore.jks&amp;trustStorePassword=securepass\r\n```\r\n\r\nJava Version - OpenJDK 17.0.5 2022-10-18 LTS\r\n\r\nActiveMQ Artemis 2.28.0\r\n\r\nI searched for this issue - most of the people are saying to use RSA instead of DSA so I checked the cer with:\r\n```\r\nopenssl x509 -in my-cer.cer -text\r\n```\r\nAnd it said:\r\n```\r\nSignature Algorithm: sha256WithRSAEncryption\r\n```\r\nHere is the output after setting `-Djavax.net.debug=ssl,handshake`:\r\n```\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.561 IST|SSLCipher.java:1870|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\ncountdown value = 137438953472\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLCipher.java:2024|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\ncountdown value = 137438953472\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|ServerNameExtension.java:529|Ignore unavailable extension: server_name\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLExtensions.java:272|Ignore, context unavailable extension: server_name\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|MaxFragExtension.java:459|Ignore unavailable max_fragment_length extension\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLExtensions.java:272|Ignore, context unavailable extension: max_fragment_length\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.565 IST|AlpnExtension.java:383|Ignore unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.565 IST|SSLExtensions.java:272|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.567 IST|EncryptedExtensions.java:137|Produced EncryptedExtensions message (\r\n&quot;EncryptedExtensions&quot;: [\r\n  &quot;supported_groups (10)&quot;: {\r\n    &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n  }\r\n]\r\n)\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.568 IST|X509Authentication.java:304|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.569 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp256r1_sha256\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.569 IST|X509Authentication.java:304|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.571 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp384r1_sha384\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.571 IST|X509Authentication.java:304|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp521r1_sha512\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha256\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha384\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha512\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha256\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha384\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha512\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha256\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha384\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha512\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|X509Authentication.java:304|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_sha1\r\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|X509Authentication.java:304|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha1\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|CertificateMessage.java:1094|No available authentication scheme\r\njavax.net.ssl|ERROR|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.578 IST|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): No available authentication scheme (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No available authentication scheme\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\r\n        at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)\r\n        at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1246)\r\n        at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1182)\r\n        at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:840)\r\n        at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:801)\r\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\r\n        at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1549)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1395)\r\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.handlerRemoved(ByteToMessageDecoder.java:266)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:536)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)\r\n        at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:387)\r\n        at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213)\r\n        at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)}\r\n\r\n)\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.583 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.585 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.585 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\r\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.588 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\r\n2023-04-21 02:19:17,591 WARN  [org.apache.activemq.artemis.core.server] AMQ222208: SSL handshake failed for client from /127.0.0.1:52212: javax.net.ssl.SSLHandshakeException: No available authentication scheme.\r\n```\r\n\r\n\r\n  [1]: https://gist.github.com/subhidh/c87bc01a448bff09b698ae023fa1aa1f","title":"SSLHandshakeException: No available authentication scheme","body":"<p>I generated a CSR with the following command:</p>\n<pre><code>openssl req -new -out activemq.csr -newkey rsa:2048 -nodes -sha256 -keyout activemq.key -config req.conf\n</code></pre>\n<p>I received back <code>my-cer.cer</code> after submitting my CSR, from which I created a JKS keystore:</p>\n<pre><code>keytool -importcert -noprompt -alias server -file my-cer.cer -keypass $KEY_PASS -keystore server-keystore.jks -storepass $STORE_PASS -storetype JKS\n</code></pre>\n<p>Similarly made a client JKS keystore with the CA.cer file.\nBut when I am trying to connect to broker on port 61616, I get this error on ActiveMQ Artemis broker -</p>\n<pre><code>WARN  [org.apache.activemq.artemis.core.server] AMQ222208: SSL handshake failed for client from /127.0.0.1:65172: javax.net.ssl.SSLHandshakeException: No available authentication scheme.\n</code></pre>\n<p>On the client side:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:340) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:681) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:636) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:454) ~[na:na]\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:433) ~[na:na]\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637) ~[na:na]\n    at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) ~[artemis-commons-2.19.1.jar:2.19.1]\n</code></pre>\n<p>Acceptor:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true;supportAdvisory=false;suppressInternalManagementObjects=false;sslEnabled=true;keyStorePath=/Users/subhidh/Desktop/ssl/server-keystore.jks;keyStorePassword=securepass&lt;/acceptor&gt;\n</code></pre>\n<p>URL used in <code>jndi.properties</code>:</p>\n<pre><code>tcp://127.0.0.1:61616?sslEnabled=true&amp;trustStorePath=/Users/subhidh/Desktop/ssl/truststore.jks&amp;trustStorePassword=securepass\n</code></pre>\n<p>Java Version - OpenJDK 17.0.5 2022-10-18 LTS</p>\n<p>ActiveMQ Artemis 2.28.0</p>\n<p>I searched for this issue - most of the people are saying to use RSA instead of DSA so I checked the cer with:</p>\n<pre><code>openssl x509 -in my-cer.cer -text\n</code></pre>\n<p>And it said:</p>\n<pre><code>Signature Algorithm: sha256WithRSAEncryption\n</code></pre>\n<p>Here is the output after setting <code>-Djavax.net.debug=ssl,handshake</code>:</p>\n<pre><code>javax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.561 IST|SSLCipher.java:1870|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLCipher.java:2024|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|ServerNameExtension.java:529|Ignore unavailable extension: server_name\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLExtensions.java:272|Ignore, context unavailable extension: server_name\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|MaxFragExtension.java:459|Ignore unavailable max_fragment_length extension\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.563 IST|SSLExtensions.java:272|Ignore, context unavailable extension: max_fragment_length\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.565 IST|AlpnExtension.java:383|Ignore unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.565 IST|SSLExtensions.java:272|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.567 IST|EncryptedExtensions.java:137|Produced EncryptedExtensions message (\n&quot;EncryptedExtensions&quot;: [\n  &quot;supported_groups (10)&quot;: {\n    &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n  }\n]\n)\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.568 IST|X509Authentication.java:304|No X.509 cert selected for EC\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.569 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp256r1_sha256\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.569 IST|X509Authentication.java:304|No X.509 cert selected for EC\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.571 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp384r1_sha384\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.571 IST|X509Authentication.java:304|No X.509 cert selected for EC\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_secp521r1_sha512\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.572 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha256\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha384\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.573 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_rsae_sha512\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha256\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha384\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pss_pss_sha512\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha256\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.574 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha384\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha512\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|X509Authentication.java:304|No X.509 cert selected for EC\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.575 IST|CertificateMessage.java:1084|Unavailable authentication scheme: ecdsa_sha1\njavax.net.ssl|ALL|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|X509Authentication.java:304|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|CertificateMessage.java:1084|Unavailable authentication scheme: rsa_pkcs1_sha1\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.576 IST|CertificateMessage.java:1094|No available authentication scheme\njavax.net.ssl|ERROR|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.578 IST|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): No available authentication scheme (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No available authentication scheme\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\n        at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:440)\n        at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1246)\n        at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1182)\n        at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:840)\n        at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:801)\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\n        at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1549)\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1395)\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.handler.codec.ByteToMessageDecoder.handlerRemoved(ByteToMessageDecoder.java:266)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:536)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)\n        at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:387)\n        at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213)\n        at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)}\n\n)\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.583 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.585 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.585 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\njavax.net.ssl|WARNING|63|Thread-1 (activemq-netty-threads)|2023-04-21 02:19:17.588 IST|SSLEngineOutputRecord.java:182|outbound has closed, ignore outbound application data\n2023-04-21 02:19:17,591 WARN  [org.apache.activemq.artemis.core.server] AMQ222208: SSL handshake failed for client from /127.0.0.1:52212: javax.net.ssl.SSLHandshakeException: No available authentication scheme.\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1682535522,"post_id":76111814,"comment_id":134233288,"body_markdown":"I believe the presence of a cyclic dependency error is intentional and you should not seek to resolve it by simply ignoring it. It is worth noting that one of the key benefits of using microservices architecture is to minimize dependencies between services. Therefore, it might be useful to consider extracting the common logic into a separate service as a potential solution to reduce the coupling between the services","body":"I believe the presence of a cyclic dependency error is intentional and you should not seek to resolve it by simply ignoring it. It is worth noting that one of the key benefits of using microservices architecture is to minimize dependencies between services. Therefore, it might be useful to consider extracting the common logic into a separate service as a potential solution to reduce the coupling between the services"}],"answers":[{"tags":[],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682525841,"creation_date":1682524857,"answer_id":76112836,"question_id":76111814,"body_markdown":"To fix this issue, you need to exclude one or both of the modules from annotation processing. \r\nYou can try adding this to your build.gradle file.\r\n\r\n```\r\nconfigurations {\r\n    compileOnly {\r\n        exclude module: &#39;rooms&#39;\r\n        exclude module: &#39;students&#39;\r\n    }\r\n}\r\n```\r\n\r\nNote: Cyclic dependencies are not recommended. You should consider resolving them.\r\n\r\nMaven pom.xml\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;rooms/**&lt;/exclude&gt;\r\n          &lt;exclude&gt;students/**&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Is there a way to fix Java Springboot error related to module cycles?","body":"<p>To fix this issue, you need to exclude one or both of the modules from annotation processing.\nYou can try adding this to your build.gradle file.</p>\n<pre><code>configurations {\n    compileOnly {\n        exclude module: 'rooms'\n        exclude module: 'students'\n    }\n}\n</code></pre>\n<p>Note: Cyclic dependencies are not recommended. You should consider resolving them.</p>\n<p>Maven pom.xml</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;rooms/**&lt;/exclude&gt;\n          &lt;exclude&gt;students/**&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":15890376,"reputation":43,"user_id":11465681,"display_name":"George Jonathan Osafo-Osei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682525841,"creation_date":1682518340,"question_id":76111814,"body_markdown":"I have developed a springboot micro service where two modules communicate with each other. However, whenever i try to run a module, i get this error: \r\n\r\n    Annotation processing is not supported for module cycles. Please ensure that all modules from cycle [rooms,students] are excluded from annotation processing\r\n\r\n\r\nHow will I fix it?","title":"Is there a way to fix Java Springboot error related to module cycles?","body":"<p>I have developed a springboot micro service where two modules communicate with each other. However, whenever i try to run a module, i get this error:</p>\n<pre><code>Annotation processing is not supported for module cycles. Please ensure that all modules from cycle [rooms,students] are excluded from annotation processing\n</code></pre>\n<p>How will I fix it?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":8910696,"reputation":466,"user_id":6651050,"display_name":"mswatosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682525526,"creation_date":1682440935,"answer_id":76103587,"question_id":76103101,"body_markdown":"That syntax appears to be for the MongoDb command line. Here&#39;s the javadoc for the MongoCollection class:  \r\nhttps://javadoc.io/doc/org.mongodb/mongodb-driver-sync/latest/com/mongodb/client/MongoCollection.html\r\n\r\nThis looks like what you&#39;re trying to use:\r\n```java\r\njava.lang.String createIndex(Bson keys,\r\n                             IndexOptions indexOptions)\r\n\r\n```\r\nSo `{&quot;userID&quot;: 1 }` will need to be a Bson object, and `{unique : true}` will need to be an IndexOptions object.\r\n\r\nEdit:  \r\nFor example something like this:\r\n```java\r\nIndexOptions indexOptions = new IndexOptions().unique(true);  \r\ncollection.createIndex(Indexes.ascending(&quot;userID&quot;), indexOptions); \r\n```","title":"How to set uniqueness for a member of a class while inserting the class to Mongo DB in java","body":"<p>That syntax appears to be for the MongoDb command line. Here's the javadoc for the MongoCollection class:<br />\n<a href=\"https://javadoc.io/doc/org.mongodb/mongodb-driver-sync/latest/com/mongodb/client/MongoCollection.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mongodb/mongodb-driver-sync/latest/com/mongodb/client/MongoCollection.html</a></p>\n<p>This looks like what you're trying to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.String createIndex(Bson keys,\n                             IndexOptions indexOptions)\n\n</code></pre>\n<p>So <code>{&quot;userID&quot;: 1 }</code> will need to be a Bson object, and <code>{unique : true}</code> will need to be an IndexOptions object.</p>\n<p>Edit:<br />\nFor example something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IndexOptions indexOptions = new IndexOptions().unique(true);  \ncollection.createIndex(Indexes.ascending(&quot;userID&quot;), indexOptions); \n</code></pre>\n"}],"owner":{"account_id":6073176,"reputation":820,"user_id":4741292,"accept_rate":50,"display_name":"Pravin Junnarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76103587,"answer_count":1,"score":1,"last_activity_date":1682525526,"creation_date":1682437726,"question_id":76103101,"body_markdown":"I am new to Java and I am writing code to insert a user class to MongoDB and retrieve data based on a unique user ID. \r\nFor that, I want to set userID as a unique value while inserting my class user into MongoDB. \r\n\r\nmy code snippet, \r\n\r\nI have a user class with members \r\n\r\n```\r\n{\r\nString userID,\r\nString Name, etc\r\n}\r\n```\r\n\r\nMy add user function with db (as MongoDatabase instance injected) looks like\r\n\r\n```\r\npublic String addUser(User user){\r\n    ...\r\n    MongoCollection&lt;User&gt; userCollection = db.getCollection(&lt;collection_name&gt;, User.class);\r\n```\r\n\r\nI am using MongoCollection&lt;TDocument\\&gt; interface to allow class as a data. As per the [link][1] mentioned in other Stackoverflow answers, I am trying to use CreateIndex() method as below\r\n \r\n```    \r\n    userCollection.createIndex({&quot;userID&quot;: 1 }, {unique : true});\r\n    ...\r\n}\r\n````\r\n\r\nBut it&#39;s not working. showing syntax errors. \r\n\r\n\r\nBy using MongoCollection&lt;Document\\&gt; it might be possible but I wanted to check if it&#39;s possible with class. \r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/core/index-unique/","title":"How to set uniqueness for a member of a class while inserting the class to Mongo DB in java","body":"<p>I am new to Java and I am writing code to insert a user class to MongoDB and retrieve data based on a unique user ID.\nFor that, I want to set userID as a unique value while inserting my class user into MongoDB.</p>\n<p>my code snippet,</p>\n<p>I have a user class with members</p>\n<pre><code>{\nString userID,\nString Name, etc\n}\n</code></pre>\n<p>My add user function with db (as MongoDatabase instance injected) looks like</p>\n<pre><code>public String addUser(User user){\n    ...\n    MongoCollection&lt;User&gt; userCollection = db.getCollection(&lt;collection_name&gt;, User.class);\n</code></pre>\n<p>I am using MongoCollection&lt;TDocument&gt; interface to allow class as a data. As per the <a href=\"https://www.mongodb.com/docs/manual/core/index-unique/\" rel=\"nofollow noreferrer\">link</a> mentioned in other Stackoverflow answers, I am trying to use CreateIndex() method as below</p>\n<pre><code>    userCollection.createIndex({&quot;userID&quot;: 1 }, {unique : true});\n    ...\n}\n</code></pre>\n<p>But it's not working. showing syntax errors.</p>\n<p>By using MongoCollection&lt;Document&gt; it might be possible but I wanted to check if it's possible with class.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1606666662,"post_id":65051836,"comment_id":115023572,"body_markdown":"Sounds a little bit odd that one/some tables gets created. Can you please try to add `spring.datasource.initialization-mode=always`","body":"Sounds a little bit odd that one/some tables gets created. Can you please try to add <code>spring.datasource.initialization-mode=always</code>"},{"owner":{"account_id":3266925,"reputation":35,"user_id":2751239,"display_name":"Jai Kiran"},"score":0,"creation_date":1606675147,"post_id":65051836,"comment_id":115026189,"body_markdown":"I already have that in my application.yml file","body":"I already have that in my application.yml file"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":1,"creation_date":1606677288,"post_id":65051836,"comment_id":115026806,"body_markdown":"This URL should cover your case: https://www.baeldung.com/spring-security-jdbc-authentication","body":"This URL should cover your case: <a href=\"https://www.baeldung.com/spring-security-jdbc-authentication\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-jdbc-authentication</a>"},{"owner":{"account_id":14170644,"reputation":412,"user_id":10237300,"display_name":"learner"},"score":0,"creation_date":1687239083,"post_id":65051836,"comment_id":134904624,"body_markdown":"Did you able to solve the issue?","body":"Did you able to solve the issue?"}],"answers":[{"tags":[],"owner":{"account_id":27707659,"reputation":46,"user_id":21150956,"display_name":"Amith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682525278,"creation_date":1682525278,"answer_id":76112900,"question_id":65051836,"body_markdown":"You have set ddl-auto: none in you application.yml file. Try changing it ot ddl-auto: &#39;create&#39; and also enable show-sql.\r\n\r\nExample:\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: &#39;create&#39;\r\n    show-sql: true\r\n```","title":"Spring boot jpa not generating spring security tables &quot;users&quot; and &quot;authorities&quot;","body":"<p>You have set ddl-auto: none in you application.yml file. Try changing it ot ddl-auto: 'create' and also enable show-sql.</p>\n<p>Example:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: 'create'\n    show-sql: true\n</code></pre>\n"}],"owner":{"account_id":3266925,"reputation":35,"user_id":2751239,"display_name":"Jai Kiran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682525278,"creation_date":1606580645,"question_id":65051836,"body_markdown":"I am trying to implement basic JDBC authentication in my spring boot application using spring JPA and schema.sql to create tables on startup. I have a few other tables which are successfully getting generated on application startup. But &quot;users&quot; and &quot;authorities&quot; tables do not get created for some reason. \r\n\r\n**schema.sql**\r\n\r\n```\r\nDROP TABLE IF EXISTS authorities;\r\nDROP TABLE IF EXISTS users;\r\nDROP TABLE IF EXISTS rx_patient;\r\n\r\n#Basic Authentication\r\ncreate table users\r\n(\r\n    username varchar(50)  not null\r\n        primary key,\r\n    password varchar(100) not null,\r\n    enabled  tinyint(1)   not null\r\n);\r\n\r\ncreate table authorities\r\n(\r\n    username  varchar(50) not null,\r\n    authority varchar(50) not null,\r\n    constraint ix_auth_username\r\n        unique (username, authority),\r\n    constraint fk_authorities_users\r\n        foreign key (username) references users (username)\r\n);\r\n\r\ncreate table rx_patient\r\n(\r\n    patient_id          varchar(50)  null,\r\n    phone_number        varchar(20)  not null,\r\n    patient_name        char(30)     null,\r\n    facility            int          null,\r\n    first_name          char(40)     null,\r\n    last_name           char(40)     null,\r\n    address             varchar(100) null,\r\n    primary_email       varchar(30)  null,\r\n    `preferred_ method` char(10)     null,\r\n    dob                 varchar(20)  null,\r\n    constraint rx_patient_phone_number_uindex\r\n        unique (phone_number)\r\n);\r\n\r\nalter table rx_patient\r\n    add primary key (phone_number);\r\n```\r\n\r\n&gt; The rx_patient table gets generated successfully on startup but the other two tables do not.\r\n\r\n**application.yml**\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: com.mysql.jdbc.Driver\r\n    password: root\r\n    url: jdbc:mysql://localhost:3306/rxascension\r\n    username: root\r\n    initialization-mode: always\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\nI am unable to figure out if I am missing some configuration or something. Thanks in advance.\r\n\r\n*Console logs*\r\n\r\n```\r\n&#39;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:59191,suspend=y,server=n -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:/Users/jaikiranmathukumalli/Library/Caches/JetBrains/IntelliJIdea2020.2/captureAgent/debugger-agent.jar -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/jaikiranmathukumalli/honeybee/AscensionRx-Api/target/classes:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-config-server/2.2.0.RELEASE/spring-cloud-config-server-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-config-client/2.2.0.RELEASE/spring-cloud-config-client-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-commons/2.2.0.RELEASE/spring-cloud-commons-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-context/2.2.0.RELEASE/spring-cloud-context-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-web/5.2.9.RELEASE/spring-web-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.3.4.RELEASE/spring-boot-starter-web-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.3.4.RELEASE/spring-boot-starter-json-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.11.2/jackson-datatype-jdk8-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.11.2/jackson-module-parameter-names-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.3.4.RELEASE/spring-boot-starter-tomcat-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.38/tomcat-embed-core-9.0.38.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jakarta.el/3.0.3/jakarta.el-3.0.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.38/tomcat-embed-websocket-9.0.38.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-webmvc/5.2.9.RELEASE/spring-webmvc-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-crypto/5.3.4.RELEASE/spring-security-crypto-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-rsa/1.0.7.RELEASE/spring-security-rsa-1.0.7.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/jaikiranmathukumalli/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/jaikiranmathukumalli/.m2/repository/org/eclipse/jgit/org.eclipse.jgit/5.1.3.201810200350-r/org.eclipse.jgit-5.1.3.201810200350-r.jar:/Users/jaikiranmathukumalli/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/Users/jaikiranmathukumalli/.m2/repository/com/jcraft/jzlib/1.1.1/jzlib-1.1.1.jar:/Users/jaikiranmathukumalli/.m2/repository/com/googlecode/javaewah/JavaEWAH/1.1.6/JavaEWAH-1.1.6.jar:/Users/jaikiranmathukumalli/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/jaikiranmathukumalli/.m2/repository/org/eclipse/jgit/org.eclipse.jgit.http.apache/5.1.3.201810200350-r/org.eclipse.jgit.http.apache-5.1.3.201810200350-r.jar:/Users/jaikiranmathukumalli/.m2/repository/org/yaml/snakeyaml/1.26/snakeyaml-1.26.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.11.2/jackson-dataformat-yaml-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/2.3.4.RELEASE/spring-boot-starter-actuator-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter/2.3.4.RELEASE/spring-boot-starter-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.3.4.RELEASE/spring-boot-starter-logging-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.13.3/log4j-to-slf4j-2.13.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/logging/log4j/log4j-api/2.13.3/log4j-api-2.13.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/2.3.4.RELEASE/spring-boot-actuator-autoconfigure-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-actuator/2.3.4.RELEASE/spring-boot-actuator-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.11.2/jackson-datatype-jsr310-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/micrometer/micrometer-core/1.5.5/micrometer-core-1.5.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-security/2.3.4.RELEASE/spring-boot-starter-security-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-aop/5.2.9.RELEASE/spring-aop-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-beans/5.2.9.RELEASE/spring-beans-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-config/5.3.4.RELEASE/spring-security-config-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-core/5.3.4.RELEASE/spring-security-core-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-context/5.2.9.RELEASE/spring-context-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-web/5.3.4.RELEASE/spring-security-web-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-expression/5.2.9.RELEASE/spring-expression-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-devtools/2.3.4.RELEASE/spring-boot-devtools-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot/2.3.4.RELEASE/spring-boot-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.3.4.RELEASE/spring-boot-autoconfigure-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.3.4.RELEASE/spring-boot-starter-data-jpa-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.3.4.RELEASE/spring-boot-starter-aop-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/aspectj/aspectjweaver/1.9.6/aspectjweaver-1.9.6.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.3.4.RELEASE/spring-boot-starter-jdbc-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/zaxxer/HikariCP/3.4.5/HikariCP-3.4.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-jdbc/5.2.9.RELEASE/spring-jdbc-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hibernate/hibernate-core/5.4.21.Final/hibernate-core-5.4.21.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/jaikiranmathukumalli/.m2/repository/net/bytebuddy/byte-buddy/1.10.14/byte-buddy-1.10.14.jar:/Users/jaikiranmathukumalli/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/jaikiranmathukumalli/.m2/repository/org/jboss/jandex/2.1.3.Final/jandex-2.1.3.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/jaikiranmathukumalli/.m2/repository/org/dom4j/dom4j/2.1.3/dom4j-2.1.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.3/jaxb-runtime-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jaxb/txw2/2.3.3/txw2-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.11/istack-commons-runtime-3.0.11.jar:/Users/jaikiranmathukumalli/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/data/spring-data-jpa/2.3.4.RELEASE/spring-data-jpa-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/data/spring-data-commons/2.3.4.RELEASE/spring-data-commons-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-orm/5.2.9.RELEASE/spring-orm-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-tx/5.2.9.RELEASE/spring-tx-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-aspects/5.2.9.RELEASE/spring-aspects-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/twilio/sdk/twilio/7.54.0/twilio-7.54.0.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/guava/29.0-android/guava-29.0-android.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/checkerframework/checker-compat-qual/2.5.5/checker-compat-qual-2.5.5.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.4/error_prone_annotations-2.3.4.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/jaikiranmathukumalli/.m2/repository/joda-time/joda-time/2.10.6/joda-time-2.10.6.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-api/0.11.2/jjwt-api-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-jackson/0.11.2/jjwt-jackson-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-impl/0.11.2/jjwt-impl-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/httpcomponents/httpclient/4.5.12/httpclient-4.5.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.11.2/jackson-core-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.11.2/jackson-annotations-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.11.2/jackson-databind-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/jaikiranmathukumalli/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/jaikiranmathukumalli/.m2/repository/mysql/mysql-connector-java/5.1.48/mysql-connector-java-5.1.48.jar:/Users/jaikiranmathukumalli/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/commons/commons-lang3/3.10/commons-lang3-3.10.jar:/Users/jaikiranmathukumalli/.m2/repository/org/modelmapper/modelmapper/2.3.8/modelmapper-2.3.8.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-core/5.2.9.RELEASE/spring-core-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-jcl/5.2.9.RELEASE/spring-jcl-5.2.9.RELEASE.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar org.ascension.rx.dsrxapi.AscensionRxApiApplication\r\nConnected to the target VM, address: &#39;127.0.0.1:59191&#39;, transport: &#39;socket&#39;\r\n2020-11-28 12:57:49.340  INFO 15029 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2020-11-28 12:57:49.488  INFO 15029 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.3.4.RELEASE)\r\n\r\n2020-11-28 12:57:49.610  INFO 15029 --- [  restartedMain] o.a.r.dsrxapi.AscensionRxApiApplication  : The following profiles are active: local\r\n2020-11-28 12:57:50.463  INFO 15029 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\r\n2020-11-28 12:57:50.550  INFO 15029 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82ms. Found 4 JPA repository interfaces.\r\n2020-11-28 12:57:50.717  INFO 15029 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9f60a6c3-33da-3fbe-87ff-d85102167992\r\n2020-11-28 12:57:50.824  INFO 15029 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2020-11-28 12:57:51.097  INFO 15029 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2020-11-28 12:57:51.103  INFO 15029 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-11-28 12:57:51.103  INFO 15029 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.38]\r\n2020-11-28 12:57:51.178  INFO 15029 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2020-11-28 12:57:51.178  INFO 15029 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1557 ms\r\n2020-11-28 12:57:51.452  INFO 15029 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n2020-11-28 12:57:51.679  INFO 15029 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n2020-11-28 12:57:51.839  INFO 15029 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n2020-11-28 12:57:51.982  INFO 15029 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2020-11-28 12:57:52.018  INFO 15029 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.21.Final\r\n2020-11-28 12:57:52.108  INFO 15029 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2020-11-28 12:57:52.195  INFO 15029 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n2020-11-28 12:57:52.739  INFO 15029 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2020-11-28 12:57:52.746  INFO 15029 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2020-11-28 12:57:52.791  WARN 15029 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2020-11-28 12:57:52.892  INFO 15029 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\r\n2020-11-28 12:57:52.893  INFO 15029 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;taskExecutor&#39;\r\n2020-11-28 12:57:53.399  INFO 15029 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3064c0e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@16c89c59, org.springframework.security.web.header.HeaderWriterFilter@c372e3f, org.springframework.security.web.authentication.logout.LogoutFilter@6a76f49b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12ece543, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fb0c833, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@886e2bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70c2ada7, org.springframework.security.web.session.SessionManagementFilter@6d08056c, org.springframework.security.web.access.ExceptionTranslationFilter@54ad04ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b6440dc]\r\n2020-11-28 12:57:53.498  INFO 15029 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2020-11-28 12:57:53.580  INFO 15029 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2020-11-28 12:57:53.584  INFO 15029 --- [  restartedMain] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories\r\n2020-11-28 12:57:54.062  INFO 15029 --- [  restartedMain] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\r\n2020-11-28 12:57:54.074  INFO 15029 --- [  restartedMain] o.a.r.dsrxapi.AscensionRxApiApplication  : Started AscensionRxApiApplication in 5.316 seconds (JVM running for 6.183)\r\n2020-11-28 12:57:54.519  INFO 15029 --- [)-192.168.1.242] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2020-11-28 12:57:54.519  INFO 15029 --- [)-192.168.1.242] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2020-11-28 12:57:54.528  INFO 15029 --- [)-192.168.1.242] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms&#39;\r\n```","title":"Spring boot jpa not generating spring security tables &quot;users&quot; and &quot;authorities&quot;","body":"<p>I am trying to implement basic JDBC authentication in my spring boot application using spring JPA and schema.sql to create tables on startup. I have a few other tables which are successfully getting generated on application startup. But &quot;users&quot; and &quot;authorities&quot; tables do not get created for some reason.</p>\n<p><strong>schema.sql</strong></p>\n<pre><code>DROP TABLE IF EXISTS authorities;\nDROP TABLE IF EXISTS users;\nDROP TABLE IF EXISTS rx_patient;\n\n#Basic Authentication\ncreate table users\n(\n    username varchar(50)  not null\n        primary key,\n    password varchar(100) not null,\n    enabled  tinyint(1)   not null\n);\n\ncreate table authorities\n(\n    username  varchar(50) not null,\n    authority varchar(50) not null,\n    constraint ix_auth_username\n        unique (username, authority),\n    constraint fk_authorities_users\n        foreign key (username) references users (username)\n);\n\ncreate table rx_patient\n(\n    patient_id          varchar(50)  null,\n    phone_number        varchar(20)  not null,\n    patient_name        char(30)     null,\n    facility            int          null,\n    first_name          char(40)     null,\n    last_name           char(40)     null,\n    address             varchar(100) null,\n    primary_email       varchar(30)  null,\n    `preferred_ method` char(10)     null,\n    dob                 varchar(20)  null,\n    constraint rx_patient_phone_number_uindex\n        unique (phone_number)\n);\n\nalter table rx_patient\n    add primary key (phone_number);\n</code></pre>\n<blockquote>\n<p>The rx_patient table gets generated successfully on startup but the other two tables do not.</p>\n</blockquote>\n<p><strong>application.yml</strong></p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.jdbc.Driver\n    password: root\n    url: jdbc:mysql://localhost:3306/rxascension\n    username: root\n    initialization-mode: always\n  jpa:\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>I am unable to figure out if I am missing some configuration or something. Thanks in advance.</p>\n<p><em>Console logs</em></p>\n<pre><code>'/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:59191,suspend=y,server=n -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:/Users/jaikiranmathukumalli/Library/Caches/JetBrains/IntelliJIdea2020.2/captureAgent/debugger-agent.jar -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/jaikiranmathukumalli/honeybee/AscensionRx-Api/target/classes:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-config-server/2.2.0.RELEASE/spring-cloud-config-server-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-config-client/2.2.0.RELEASE/spring-cloud-config-client-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-commons/2.2.0.RELEASE/spring-cloud-commons-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/cloud/spring-cloud-context/2.2.0.RELEASE/spring-cloud-context-2.2.0.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-web/5.2.9.RELEASE/spring-web-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.3.4.RELEASE/spring-boot-starter-web-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.3.4.RELEASE/spring-boot-starter-json-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.11.2/jackson-datatype-jdk8-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.11.2/jackson-module-parameter-names-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.3.4.RELEASE/spring-boot-starter-tomcat-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.38/tomcat-embed-core-9.0.38.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jakarta.el/3.0.3/jakarta.el-3.0.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.38/tomcat-embed-websocket-9.0.38.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-webmvc/5.2.9.RELEASE/spring-webmvc-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-crypto/5.3.4.RELEASE/spring-security-crypto-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-rsa/1.0.7.RELEASE/spring-security-rsa-1.0.7.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/jaikiranmathukumalli/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/jaikiranmathukumalli/.m2/repository/org/eclipse/jgit/org.eclipse.jgit/5.1.3.201810200350-r/org.eclipse.jgit-5.1.3.201810200350-r.jar:/Users/jaikiranmathukumalli/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/Users/jaikiranmathukumalli/.m2/repository/com/jcraft/jzlib/1.1.1/jzlib-1.1.1.jar:/Users/jaikiranmathukumalli/.m2/repository/com/googlecode/javaewah/JavaEWAH/1.1.6/JavaEWAH-1.1.6.jar:/Users/jaikiranmathukumalli/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/jaikiranmathukumalli/.m2/repository/org/eclipse/jgit/org.eclipse.jgit.http.apache/5.1.3.201810200350-r/org.eclipse.jgit.http.apache-5.1.3.201810200350-r.jar:/Users/jaikiranmathukumalli/.m2/repository/org/yaml/snakeyaml/1.26/snakeyaml-1.26.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.11.2/jackson-dataformat-yaml-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/2.3.4.RELEASE/spring-boot-starter-actuator-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter/2.3.4.RELEASE/spring-boot-starter-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.3.4.RELEASE/spring-boot-starter-logging-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.13.3/log4j-to-slf4j-2.13.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/logging/log4j/log4j-api/2.13.3/log4j-api-2.13.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/2.3.4.RELEASE/spring-boot-actuator-autoconfigure-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-actuator/2.3.4.RELEASE/spring-boot-actuator-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.11.2/jackson-datatype-jsr310-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/micrometer/micrometer-core/1.5.5/micrometer-core-1.5.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-security/2.3.4.RELEASE/spring-boot-starter-security-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-aop/5.2.9.RELEASE/spring-aop-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-beans/5.2.9.RELEASE/spring-beans-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-config/5.3.4.RELEASE/spring-security-config-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-core/5.3.4.RELEASE/spring-security-core-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-context/5.2.9.RELEASE/spring-context-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/security/spring-security-web/5.3.4.RELEASE/spring-security-web-5.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-expression/5.2.9.RELEASE/spring-expression-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-devtools/2.3.4.RELEASE/spring-boot-devtools-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot/2.3.4.RELEASE/spring-boot-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.3.4.RELEASE/spring-boot-autoconfigure-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.3.4.RELEASE/spring-boot-starter-data-jpa-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.3.4.RELEASE/spring-boot-starter-aop-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/aspectj/aspectjweaver/1.9.6/aspectjweaver-1.9.6.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.3.4.RELEASE/spring-boot-starter-jdbc-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/zaxxer/HikariCP/3.4.5/HikariCP-3.4.5.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-jdbc/5.2.9.RELEASE/spring-jdbc-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hibernate/hibernate-core/5.4.21.Final/hibernate-core-5.4.21.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/jaikiranmathukumalli/.m2/repository/net/bytebuddy/byte-buddy/1.10.14/byte-buddy-1.10.14.jar:/Users/jaikiranmathukumalli/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/jaikiranmathukumalli/.m2/repository/org/jboss/jandex/2.1.3.Final/jandex-2.1.3.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/jaikiranmathukumalli/.m2/repository/org/dom4j/dom4j/2.1.3/dom4j-2.1.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.3/jaxb-runtime-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/org/glassfish/jaxb/txw2/2.3.3/txw2-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.11/istack-commons-runtime-3.0.11.jar:/Users/jaikiranmathukumalli/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/data/spring-data-jpa/2.3.4.RELEASE/spring-data-jpa-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/data/spring-data-commons/2.3.4.RELEASE/spring-data-commons-2.3.4.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-orm/5.2.9.RELEASE/spring-orm-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-tx/5.2.9.RELEASE/spring-tx-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-aspects/5.2.9.RELEASE/spring-aspects-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/com/twilio/sdk/twilio/7.54.0/twilio-7.54.0.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/guava/29.0-android/guava-29.0-android.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/checkerframework/checker-compat-qual/2.5.5/checker-compat-qual-2.5.5.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.4/error_prone_annotations-2.3.4.jar:/Users/jaikiranmathukumalli/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/jaikiranmathukumalli/.m2/repository/joda-time/joda-time/2.10.6/joda-time-2.10.6.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-api/0.11.2/jjwt-api-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-jackson/0.11.2/jjwt-jackson-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/io/jsonwebtoken/jjwt-impl/0.11.2/jjwt-impl-0.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/httpcomponents/httpclient/4.5.12/httpclient-4.5.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.11.2/jackson-core-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.11.2/jackson-annotations-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.11.2/jackson-databind-2.11.2.jar:/Users/jaikiranmathukumalli/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/jaikiranmathukumalli/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/jaikiranmathukumalli/.m2/repository/mysql/mysql-connector-java/5.1.48/mysql-connector-java-5.1.48.jar:/Users/jaikiranmathukumalli/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/jaikiranmathukumalli/.m2/repository/org/apache/commons/commons-lang3/3.10/commons-lang3-3.10.jar:/Users/jaikiranmathukumalli/.m2/repository/org/modelmapper/modelmapper/2.3.8/modelmapper-2.3.8.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/jaikiranmathukumalli/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-core/5.2.9.RELEASE/spring-core-5.2.9.RELEASE.jar:/Users/jaikiranmathukumalli/.m2/repository/org/springframework/spring-jcl/5.2.9.RELEASE/spring-jcl-5.2.9.RELEASE.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar org.ascension.rx.dsrxapi.AscensionRxApiApplication\nConnected to the target VM, address: '127.0.0.1:59191', transport: 'socket'\n2020-11-28 12:57:49.340  INFO 15029 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2020-11-28 12:57:49.488  INFO 15029 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.4.RELEASE)\n\n2020-11-28 12:57:49.610  INFO 15029 --- [  restartedMain] o.a.r.dsrxapi.AscensionRxApiApplication  : The following profiles are active: local\n2020-11-28 12:57:50.463  INFO 15029 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\n2020-11-28 12:57:50.550  INFO 15029 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82ms. Found 4 JPA repository interfaces.\n2020-11-28 12:57:50.717  INFO 15029 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9f60a6c3-33da-3fbe-87ff-d85102167992\n2020-11-28 12:57:50.824  INFO 15029 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2020-11-28 12:57:51.097  INFO 15029 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-11-28 12:57:51.103  INFO 15029 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-11-28 12:57:51.103  INFO 15029 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.38]\n2020-11-28 12:57:51.178  INFO 15029 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-11-28 12:57:51.178  INFO 15029 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1557 ms\n2020-11-28 12:57:51.452  INFO 15029 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2020-11-28 12:57:51.679  INFO 15029 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2020-11-28 12:57:51.839  INFO 15029 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nSat Nov 28 12:57:51 CST 2020 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2020-11-28 12:57:51.982  INFO 15029 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-11-28 12:57:52.018  INFO 15029 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.21.Final\n2020-11-28 12:57:52.108  INFO 15029 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-11-28 12:57:52.195  INFO 15029 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2020-11-28 12:57:52.739  INFO 15029 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-11-28 12:57:52.746  INFO 15029 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-11-28 12:57:52.791  WARN 15029 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2020-11-28 12:57:52.892  INFO 15029 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\n2020-11-28 12:57:52.893  INFO 15029 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'taskExecutor'\n2020-11-28 12:57:53.399  INFO 15029 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3064c0e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@16c89c59, org.springframework.security.web.header.HeaderWriterFilter@c372e3f, org.springframework.security.web.authentication.logout.LogoutFilter@6a76f49b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12ece543, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fb0c833, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@886e2bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70c2ada7, org.springframework.security.web.session.SessionManagementFilter@6d08056c, org.springframework.security.web.access.ExceptionTranslationFilter@54ad04ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b6440dc]\n2020-11-28 12:57:53.498  INFO 15029 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'\n2020-11-28 12:57:53.580  INFO 15029 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2020-11-28 12:57:53.584  INFO 15029 --- [  restartedMain] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories\n2020-11-28 12:57:54.062  INFO 15029 --- [  restartedMain] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\n2020-11-28 12:57:54.074  INFO 15029 --- [  restartedMain] o.a.r.dsrxapi.AscensionRxApiApplication  : Started AscensionRxApiApplication in 5.316 seconds (JVM running for 6.183)\n2020-11-28 12:57:54.519  INFO 15029 --- [)-192.168.1.242] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2020-11-28 12:57:54.519  INFO 15029 --- [)-192.168.1.242] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2020-11-28 12:57:54.528  INFO 15029 --- [)-192.168.1.242] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms'\n</code></pre>\n"},{"tags":["java","tostring","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1682526596,"post_id":76112885,"comment_id":134231445,"body_markdown":"The lombok issue tracker is available via `https://www.projectlombok.org/` - make sure to mention the bug, specifically, is that lombok&#39;s toString fails to recognize it needs to invoke `Arrays.toString` here due to the nonnull annotations.","body":"The lombok issue tracker is available via <code>https:&#47;&#47;www.projectlombok.org&#47;</code> - make sure to mention the bug, specifically, is that lombok&#39;s toString fails to recognize it needs to invoke <code>Arrays.toString</code> here due to the nonnull annotations."}],"owner":{"account_id":24127029,"reputation":33,"user_id":18095171,"display_name":"sixqf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682525183,"creation_date":1682525183,"question_id":76112885,"body_markdown":"Lombok&#39;s @ToString annotation generates bad String for field:\r\n```java\r\nprivate @NonNull String @NonNull [] answers;\r\n```\r\n\r\n\r\nClass code:\r\n```java\r\n@Getter\r\n@Builder\r\n@ToString\r\npublic class SongEntryDto extends EntityDto {\r\n    @ToString.Exclude\r\n    private byte @NonNull [] data;\r\n    private @NonNull String @NonNull [] answers;\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nSongEntryDto(answers=[Ljava.lang.String;@68f7aae2)\r\n```\r\n\r\n","title":"lombok @ToString for field marked as @NonNull String @NonNull [] name","body":"<p>Lombok's @ToString annotation generates bad String for field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private @NonNull String @NonNull [] answers;\n</code></pre>\n<p>Class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\n@ToString\npublic class SongEntryDto extends EntityDto {\n    @ToString.Exclude\n    private byte @NonNull [] data;\n    private @NonNull String @NonNull [] answers;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>SongEntryDto(answers=[Ljava.lang.String;@68f7aae2)\n</code></pre>\n"},{"tags":["java","docker","build","spotify-docker-client"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":2,"creation_date":1534434526,"post_id":51880466,"comment_id":90713306,"body_markdown":"where are `dockerClient`, `image`, and `dockerfilefilename` declared, and what are they","body":"where are <code>dockerClient</code>, <code>image</code>, and <code>dockerfilefilename</code> declared, and what are they"},{"owner":{"account_id":14045862,"reputation":61,"user_id":10235158,"display_name":"PSilvestre"},"score":0,"creation_date":1534513657,"post_id":51880466,"comment_id":90744424,"body_markdown":"I edited the page to include the requested information.","body":"I edited the page to include the requested information."},{"owner":{"account_id":147945,"reputation":1314,"user_id":359398,"accept_rate":100,"display_name":"Pawe Motyl"},"score":0,"creation_date":1537025893,"post_id":51880466,"comment_id":91638033,"body_markdown":"Any chance that you fixed or worked around the problem? I&#39;ve encountered the same issue yesterday and up till now have no clue why is it happening :(","body":"Any chance that you fixed or worked around the problem? I&#39;ve encountered the same issue yesterday and up till now have no clue why is it happening :("},{"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"score":0,"creation_date":1538692928,"post_id":51880466,"comment_id":92243378,"body_markdown":"I got the same message from maven plugin and I was able to solve it by removing `.dockerignore` file: https://github.com/spotify/dockerfile-maven/issues/25#issuecomment-310667051","body":"I got the same message from maven plugin and I was able to solve it by removing <code>.dockerignore</code> file: <a href=\"https://github.com/spotify/dockerfile-maven/issues/25#issuecomment-310667051\" rel=\"nofollow noreferrer\">github.com/spotify/dockerfile-maven/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":147945,"reputation":1314,"user_id":359398,"accept_rate":100,"display_name":"Pawe Motyl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537027007,"creation_date":1537027007,"answer_id":52346366,"question_id":51880466,"body_markdown":"I have encountered the same problem (as I&#39;ve stated in comment to the question) and managed to fix it. The error that you get is a generic one and results from a failed sanity check inside the Docker client code that can be caused by a myriad of different things. \r\n\r\nTo get the specific reason that caused the sanity check fail you can look into `message.error()` in the progress handler - in my case the error message that was there was very clear.","title":"Can&#39;t build docker image from Dockerfile","body":"<p>I have encountered the same problem (as I've stated in comment to the question) and managed to fix it. The error that you get is a generic one and results from a failed sanity check inside the Docker client code that can be caused by a myriad of different things. </p>\n\n<p>To get the specific reason that caused the sanity check fail you can look into <code>message.error()</code> in the progress handler - in my case the error message that was there was very clear.</p>\n"},{"tags":[],"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554189707,"creation_date":1554189707,"answer_id":55469059,"question_id":51880466,"body_markdown":"I had the following problem at my end. In my dockerfile, the maintainer was mis-spelled.\r\nPlease debug by trying to build the image using docker build -t &lt;tag-name&gt; .","title":"Can&#39;t build docker image from Dockerfile","body":"<p>I had the following problem at my end. In my dockerfile, the maintainer was mis-spelled.\nPlease debug by trying to build the image using docker build -t  .</p>\n"},{"tags":[],"owner":{"account_id":7300276,"reputation":548,"user_id":5563348,"accept_rate":14,"display_name":"alturium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682524610,"creation_date":1682524610,"answer_id":76112802,"question_id":51880466,"body_markdown":"In the Dockerfile, had added an environment variable but missed ENV.\r\n\r\nCorrect: \r\nENV KEYCLOAK_ADMIN=keycloak\r\n\r\nBad:\r\nKEYCLOAK_ADMIN=keycloak","title":"Can&#39;t build docker image from Dockerfile","body":"<p>In the Dockerfile, had added an environment variable but missed ENV.</p>\n<p>Correct:\nENV KEYCLOAK_ADMIN=keycloak</p>\n<p>Bad:\nKEYCLOAK_ADMIN=keycloak</p>\n"}],"owner":{"account_id":14045862,"reputation":61,"user_id":10235158,"display_name":"PSilvestre"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8385,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1682524610,"creation_date":1534432830,"question_id":51880466,"body_markdown":"Hello I&#39;m trying to build a Docker image from a Docker file and get the following error:\r\n\r\n&gt; java.lang.IllegalStateException: Could not acquire image ID or digest following build\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:444) ~[guava-21.0.jar:na]\r\n\tat com.spotify.docker.client.DefaultDockerClient$BuildProgressHandler.getImageId(DefaultDockerClient.java:298) ~[docker-client-8.11.7.jar:8.11.7]\r\n\tat com.spotify.docker.client.DefaultDockerClient$BuildProgressHandler.access$1200(DefaultDockerClient.java:287) ~[docker-client-8.11.7.jar:8.11.7]\r\n\tat com.spotify.docker.client.DefaultDockerClient.build(DefaultDockerClient.java:1481) ~[docker-client-8.11.7.jar:8.11.7]\r\n\r\n\r\n\r\nI can build the same exact Dockerfile from the command line, but I can&#39;t debug this as the stack trace isn&#39;t very informative. Below I leave some information that may be relevant:\r\n\r\n### Docker version:\r\nClient:\r\n Version:      17.03.2-ce\r\n API version:  1.27\r\nServer:\r\n Version:      17.03.2-ce\r\n API version:  1.27 (minimum version 1.12)\r\n\r\n### spotify/docker-client version: 8.11.7\r\n\r\n### How I call the docker build function: \r\n\r\n    final AtomicReference&lt;String&gt; imageIdFromMessage = new AtomicReference&lt;&gt;();\r\n    \r\n    final String returnedImageId = dockerClient.build(\r\n    \r\n    Paths.get(&quot;/absolute/path/to/folder&quot;), image.getImageName(), dockerfilefilename,new ProgressHandler() {\r\n        @Override\r\n        public void progress(ProgressMessage message) throws DockerException {\r\n    \r\n            final String imageId = message.buildImageId();\r\n    \r\n            if (imageId != null) {\r\n                imageIdFromMessage.set(imageId);\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\nI can submit any other relevant info and would appreciate any help or ideas.\r\n\r\nEdit to add requested info:\r\n\r\n`image` is a personal data representation of a docker image, the only relevant thing about it is it has the name I want to tag the docker. \r\n\r\n`dockerfilefilename` again is just a string that contains the filename of the dockerfile. For example, the string &quot;Dockerfile&quot;.\r\n\r\n\r\n`dockerClient` is an instance of DockerClient. It was created like this:\r\n\r\n`\r\n\r\n        DockerClient dc = DefaultDockerClient.fromEnv().build();\r\n        final RegistryAuth registryAuth = RegistryAuth.builder() //TODO change to external config\r\n                .email(&quot;REDACTED&quot;)\r\n                .username(&quot;REDACTED&quot;)\r\n                .password(&quot;REDACTED&quot;)\r\n                .build();\r\n        final int statusCode = dc.auth(registryAuth);\r\n\r\n        return dc;\r\n\r\n`\r\n\r\nI have checked and the status code is in fact 200. I&#39;ve tried many Docker commands with the driver which are successful. ","title":"Can&#39;t build docker image from Dockerfile","body":"<p>Hello I'm trying to build a Docker image from a Docker file and get the following error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Could not acquire image ID or digest following build\n      at com.google.common.base.Preconditions.checkState(Preconditions.java:444) ~[guava-21.0.jar:na]\n      at com.spotify.docker.client.DefaultDockerClient$BuildProgressHandler.getImageId(DefaultDockerClient.java:298) ~[docker-client-8.11.7.jar:8.11.7]\n      at com.spotify.docker.client.DefaultDockerClient$BuildProgressHandler.access$1200(DefaultDockerClient.java:287) ~[docker-client-8.11.7.jar:8.11.7]\n      at com.spotify.docker.client.DefaultDockerClient.build(DefaultDockerClient.java:1481) ~[docker-client-8.11.7.jar:8.11.7]</p>\n</blockquote>\n\n<p>I can build the same exact Dockerfile from the command line, but I can't debug this as the stack trace isn't very informative. Below I leave some information that may be relevant:</p>\n\n<h3>Docker version:</h3>\n\n<p>Client:\n Version:      17.03.2-ce\n API version:  1.27\nServer:\n Version:      17.03.2-ce\n API version:  1.27 (minimum version 1.12)</p>\n\n<h3>spotify/docker-client version: 8.11.7</h3>\n\n<h3>How I call the docker build function:</h3>\n\n<pre><code>final AtomicReference&lt;String&gt; imageIdFromMessage = new AtomicReference&lt;&gt;();\n\nfinal String returnedImageId = dockerClient.build(\n\nPaths.get(\"/absolute/path/to/folder\"), image.getImageName(), dockerfilefilename,new ProgressHandler() {\n    @Override\n    public void progress(ProgressMessage message) throws DockerException {\n\n        final String imageId = message.buildImageId();\n\n        if (imageId != null) {\n            imageIdFromMessage.set(imageId);\n        }\n    }\n});\n</code></pre>\n\n<p>I can submit any other relevant info and would appreciate any help or ideas.</p>\n\n<p>Edit to add requested info:</p>\n\n<p><code>image</code> is a personal data representation of a docker image, the only relevant thing about it is it has the name I want to tag the docker. </p>\n\n<p><code>dockerfilefilename</code> again is just a string that contains the filename of the dockerfile. For example, the string \"Dockerfile\".</p>\n\n<p><code>dockerClient</code> is an instance of DockerClient. It was created like this:</p>\n\n<p>`</p>\n\n<pre><code>    DockerClient dc = DefaultDockerClient.fromEnv().build();\n    final RegistryAuth registryAuth = RegistryAuth.builder() //TODO change to external config\n            .email(\"REDACTED\")\n            .username(\"REDACTED\")\n            .password(\"REDACTED\")\n            .build();\n    final int statusCode = dc.auth(registryAuth);\n\n    return dc;\n</code></pre>\n\n<p>`</p>\n\n<p>I have checked and the status code is in fact 200. I've tried many Docker commands with the driver which are successful. </p>\n"},{"tags":["java","spring","spring-integration","sftp","spring-integration-dsl"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1682522656,"post_id":76112007,"comment_id":134230303,"body_markdown":"That `Problem occurred while synchronizing...` comes with a cause. Can we see, please, the whole stack trace for that error?","body":"That <code>Problem occurred while synchronizing...</code> comes with a cause. Can we see, please, the whole stack trace for that error?"},{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1682524264,"post_id":76112007,"comment_id":134230801,"body_markdown":"Yes I will edit the question to include stack trace @ArtemBilan","body":"Yes I will edit the question to include stack trace @ArtemBilan"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1682524916,"post_id":76112007,"comment_id":134230983,"body_markdown":"`Caused by: org.apache.sshd.common.SshException: Application error` - not too much. I suggest to consult with your SFTP server to see if there is some cause on its side. `DefaultAuthFuture` - it looks like something might be wrong with your credentials.","body":"<code>Caused by: org.apache.sshd.common.SshException: Application error</code> - not too much. I suggest to consult with your SFTP server to see if there is some cause on its side. <code>DefaultAuthFuture</code> - it looks like something might be wrong with your credentials."},{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1682525136,"post_id":76112007,"comment_id":134231034,"body_markdown":"I am able to get into the server using FileZilla (See Photo) - however using the Spring Integration Java DSL approach as written above I get the error. I will consult with the vendor and see if they see anything on their side. Thanks","body":"I am able to get into the server using FileZilla (See Photo) - however using the Spring Integration Java DSL approach as written above I get the error. I will consult with the vendor and see if they see anything on their side. Thanks"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1686773191,"post_id":76112007,"comment_id":134846954,"body_markdown":"Can you tell us, please, what is the solution? Post that as a answer to your own question to give other community members a clue what to do in similar situation. I make this assumption since I see that you post other questions based on an SFTP channel adapter. Therefore it sounds like an original connection problem has been fixed.","body":"Can you tell us, please, what is the solution? Post that as a answer to your own question to give other community members a clue what to do in similar situation. I make this assumption since I see that you post other questions based on an SFTP channel adapter. Therefore it sounds like an original connection problem has been fixed."},{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1687883173,"post_id":76112007,"comment_id":134998021,"body_markdown":"@ArtemBilan - It was on the vendor side of things, therefore placing an answer to my question here doesn&#39;t seem like a viable solution.","body":"@ArtemBilan - It was on the vendor side of things, therefore placing an answer to my question here doesn&#39;t seem like a viable solution."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1687883807,"post_id":76112007,"comment_id":134998181,"body_markdown":"Im voting to close this question because the solution is vendor-sensitive.","body":"Im voting to close this question because the solution is vendor-sensitive."}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693617256,"answer_count":0,"score":1,"last_activity_date":1682524460,"creation_date":1682519637,"question_id":76112007,"body_markdown":"I am attempting to SFTP into a remote server and in doing so I am receiving `Problem occurred while synchronizing &#39;download&#39; to local directory`\r\n\r\nI have attempted changing the remote directory to `/`, `/download`, and just `download`. I have also tried removing some of the other code pieces that I will paste below. Also here is the directory structure of the remote server.\r\n\r\nDirectory Structure:\r\n[Directory Structure](https://i.stack.imgur.com/ihXMG.png)\r\n\r\n```\r\n    @Bean\r\n    public IntegrationFlow retrieveMarketingMetadata(){\r\n        return IntegrationFlow\r\n                .from(Sftp.inboundAdapter(config.getSftpSessionFactory())\r\n                                .preserveTimestamp(true)\r\n                                .remoteDirectory(sftpProps.getRemoteDirectory())\r\n                                .regexFilter(&quot;.*\\\\.csv$&quot;)\r\n                                .localFilenameExpression(&quot;#this.toUpperCase() + &#39;.a&#39;&quot;) // TODO: Figure out filename\r\n                                .localDirectory(new File(&quot;sftp-inbound&quot;)),\r\n                        e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\r\n                                .autoStartup(true)\r\n                                .poller(Pollers.fixedDelay(5000)))\r\n                .handle(m -&gt; log.info(&quot;Payload: {}&quot;, m.getPayload())) // TODO: Add another handle for Transformation\r\n                .get();\r\n    }\r\n```\r\n\r\nEDIT FULL STACK TRACE:\r\n```\r\n2023-04-26T09:20:05.183-05:00  WARN 97376 --- [-nio2-thread-11] o.a.s.c.k.AcceptAllServerKeyVerifier     : Server at my.server.com/xx.xx.xx.xxx:22 presented unverified RSA key: SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n2023-04-26T09:20:05.786-05:00 ERROR 97376 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;/download&#39; to local directory\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\r\n\tat org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\r\n\tat org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:443)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\r\n\t... 20 more\r\nCaused by: org.springframework.integration.util.PoolItemNotAvailableException: Failed to obtain pooled item\r\n\tat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:196)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory.getSession(CachingSessionFactory.java:134)\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\r\n\t... 21 more\r\nCaused by: java.lang.IllegalStateException: failed to create SFTP Session\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:291)\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:67)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\r\n\tat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\r\n\tat org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:206)\r\n\tat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:187)\r\n\t... 23 more\r\nCaused by: org.apache.sshd.common.SshException: Application error\r\n\tat org.apache.sshd.common.future.AbstractSshFuture.verifyResult(AbstractSshFuture.java:127)\r\n\tat org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:39)\r\n\tat org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:32)\r\n\tat org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:43)\r\n\tat org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:68)\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initClientSession(DefaultSftpSessionFactory.java:318)\r\n\tat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:281)\r\n\t... 28 more\r\n```","title":"Spring Integration SFTP - Problem occurred while synchronizing &#39;download&#39; to local directory","body":"<p>I am attempting to SFTP into a remote server and in doing so I am receiving <code>Problem occurred while synchronizing 'download' to local directory</code></p>\n<p>I have attempted changing the remote directory to <code>/</code>, <code>/download</code>, and just <code>download</code>. I have also tried removing some of the other code pieces that I will paste below. Also here is the directory structure of the remote server.</p>\n<p>Directory Structure:\n<a href=\"https://i.stack.imgur.com/ihXMG.png\" rel=\"nofollow noreferrer\">Directory Structure</a></p>\n<pre><code>    @Bean\n    public IntegrationFlow retrieveMarketingMetadata(){\n        return IntegrationFlow\n                .from(Sftp.inboundAdapter(config.getSftpSessionFactory())\n                                .preserveTimestamp(true)\n                                .remoteDirectory(sftpProps.getRemoteDirectory())\n                                .regexFilter(&quot;.*\\\\.csv$&quot;)\n                                .localFilenameExpression(&quot;#this.toUpperCase() + '.a'&quot;) // TODO: Figure out filename\n                                .localDirectory(new File(&quot;sftp-inbound&quot;)),\n                        e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\n                                .autoStartup(true)\n                                .poller(Pollers.fixedDelay(5000)))\n                .handle(m -&gt; log.info(&quot;Payload: {}&quot;, m.getPayload())) // TODO: Add another handle for Transformation\n                .get();\n    }\n</code></pre>\n<p>EDIT FULL STACK TRACE:</p>\n<pre><code>2023-04-26T09:20:05.183-05:00  WARN 97376 --- [-nio2-thread-11] o.a.s.c.k.AcceptAllServerKeyVerifier     : Server at my.server.com/xx.xx.xx.xxx:22 presented unverified RSA key: SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxx\n2023-04-26T09:20:05.786-05:00 ERROR 97376 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing '/download' to local directory\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\n    at org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\n    at org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:443)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\n    ... 20 more\nCaused by: org.springframework.integration.util.PoolItemNotAvailableException: Failed to obtain pooled item\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:196)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory.getSession(CachingSessionFactory.java:134)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\n    ... 21 more\nCaused by: java.lang.IllegalStateException: failed to create SFTP Session\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:291)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:67)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85)\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82)\n    at org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:206)\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:187)\n    ... 23 more\nCaused by: org.apache.sshd.common.SshException: Application error\n    at org.apache.sshd.common.future.AbstractSshFuture.verifyResult(AbstractSshFuture.java:127)\n    at org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:39)\n    at org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:32)\n    at org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:43)\n    at org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:68)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initClientSession(DefaultSftpSessionFactory.java:318)\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:281)\n    ... 28 more\n</code></pre>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":1860420,"reputation":2294,"user_id":1685098,"display_name":"Logan Pickup"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1682524402,"creation_date":1373842521,"answer_id":17644605,"question_id":17644429,"body_markdown":"See http://code.google.com/p/libgdx/wiki/InputEvent - you need to handle input events instead of polling, by extending InputProcessor and passing your custom input processor to Gdx.input.setInputProcessor().\r\n\r\nEDIT:\r\n\r\n    public class MyInputProcessor implements InputProcessor {\r\n       @Override\r\n       public boolean touchDown (int x, int y, int pointer, int button) {\r\n          if (button == Input.Buttons.LEFT) {\r\n              // Some stuff\r\n              return true;     \r\n          }\r\n          return false;\r\n       }\r\n    }\r\n\r\nAnd wherever you want to use that:\r\n\r\n    MyInputProcessor inputProcessor = new MyInputProcessor();\r\n    Gdx.input.setInputProcessor(inputProcessor);\r\n\r\nIf find it easier to use this pattern:\r\n\r\n    \r\n    class AwesomeGameClass {\r\n        public void init() {\r\n            Gdx.input.setInputProcessor(new InputProcessor() {\r\n                @Override\r\n                public boolean touchDown(int x, int y, int pointer, int button) {\r\n                    if (button == Input.Buttons.LEFT) {\r\n                        onMouseDown();\r\n                        return true;\r\n                    }\r\n                    return false\r\n                }\r\n                \r\n                ... the other implementations for InputProcessor go here, if you&#39;re using Eclipse or Intellij they&#39;ll add them in automatically ...\r\n            });\r\n        }\r\n        \r\n        private void onMouseDown() {\r\n        }\r\n    }","title":"Libgdx Mouse just clicked","body":"<p>See <a href=\"http://code.google.com/p/libgdx/wiki/InputEvent\" rel=\"nofollow noreferrer\">http://code.google.com/p/libgdx/wiki/InputEvent</a> - you need to handle input events instead of polling, by extending InputProcessor and passing your custom input processor to Gdx.input.setInputProcessor().</p>\n<p>EDIT:</p>\n<pre><code>public class MyInputProcessor implements InputProcessor {\n   @Override\n   public boolean touchDown (int x, int y, int pointer, int button) {\n      if (button == Input.Buttons.LEFT) {\n          // Some stuff\n          return true;     \n      }\n      return false;\n   }\n}\n</code></pre>\n<p>And wherever you want to use that:</p>\n<pre><code>MyInputProcessor inputProcessor = new MyInputProcessor();\nGdx.input.setInputProcessor(inputProcessor);\n</code></pre>\n<p>If find it easier to use this pattern:</p>\n<pre><code>class AwesomeGameClass {\n    public void init() {\n        Gdx.input.setInputProcessor(new InputProcessor() {\n            @Override\n            public boolean touchDown(int x, int y, int pointer, int button) {\n                if (button == Input.Buttons.LEFT) {\n                    onMouseDown();\n                    return true;\n                }\n                return false\n            }\n            \n            ... the other implementations for InputProcessor go here, if you're using Eclipse or Intellij they'll add them in automatically ...\n        });\n    }\n    \n    private void onMouseDown() {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182090,"reputation":6832,"user_id":416549,"display_name":"nEx.Software"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1373850422,"creation_date":1373850422,"answer_id":17645384,"question_id":17644429,"body_markdown":"You can use `Gdx.input.justTouched()`, which is true in the first frame where the mouse is clicked. Or, as the other answer states, you can use an InputProcessor (or InputAdapter) and handle the `touchDown` event:\r\n\r\n    Gdx.input.setInputProcessor(new InputAdapter() {\r\n        public boolean touchDown(int screenX, int screenY, int pointer, int button) {\r\n            if (button == Buttons.LEFT) {\r\n                // do something\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"Libgdx Mouse just clicked","body":"<p>You can use <code>Gdx.input.justTouched()</code>, which is true in the first frame where the mouse is clicked. Or, as the other answer states, you can use an InputProcessor (or InputAdapter) and handle the <code>touchDown</code> event:</p>\n\n<pre><code>Gdx.input.setInputProcessor(new InputAdapter() {\n    public boolean touchDown(int screenX, int screenY, int pointer, int button) {\n        if (button == Buttons.LEFT) {\n            // do something\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1588673,"reputation":1792,"user_id":1472483,"accept_rate":69,"display_name":"MarsPeople"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568669458,"creation_date":1568669458,"answer_id":57964662,"question_id":17644429,"body_markdown":"Without InputProcessor you can use easy like this in your render loop:\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        if(Gdx.input.isButtonJustPressed(Input.Buttons.LEFT)){\r\n            //TODO:\r\n        }\r\n    }","title":"Libgdx Mouse just clicked","body":"<p>Without InputProcessor you can use easy like this in your render loop:</p>\n\n<pre><code>@Override\npublic void render(float delta) {\n    if(Gdx.input.isButtonJustPressed(Input.Buttons.LEFT)){\n        //TODO:\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19149,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":17644605,"answer_count":3,"score":8,"last_activity_date":1682524402,"creation_date":1373840911,"question_id":17644429,"body_markdown":"I&#39;m trying to get when the mouse just clicked, not when the mouse is pressed.\r\nI mean I use a code in a loop and if I detect if the mouse is pressed the code will execute a lot of time, but I want execute the code only Once, when the mouse has just clicked.\r\n\r\nThis is my code :\r\n\r\n    if (Gdx.input.isButtonPressed(Input.Buttons.LEFT)){\r\n\r\n\t\t\t\t//Some stuff\r\n    }","title":"Libgdx Mouse just clicked","body":"<p>I'm trying to get when the mouse just clicked, not when the mouse is pressed.\nI mean I use a code in a loop and if I detect if the mouse is pressed the code will execute a lot of time, but I want execute the code only Once, when the mouse has just clicked.</p>\n\n<p>This is my code :</p>\n\n<pre><code>if (Gdx.input.isButtonPressed(Input.Buttons.LEFT)){\n\n            //Some stuff\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1682527392,"post_id":76112193,"comment_id":134231625,"body_markdown":"CORS is _not_ meant to strengthen security.","body":"CORS is <i>not</i> meant to strengthen security."},{"owner":{"account_id":18733863,"reputation":219,"user_id":13658665,"display_name":"HappyKoala"},"score":0,"creation_date":1682528264,"post_id":76112193,"comment_id":134231887,"body_markdown":"Is there any way to ensure that the api can only be accessed from the front-end application?","body":"Is there any way to ensure that the api can only be accessed from the front-end application?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1682543306,"post_id":76112193,"comment_id":134234730,"body_markdown":"No. But you should put authentication/authorisation in place, if the API isn&#39;t meant to be public.","body":"No. But you should put authentication/authorisation in place, if the API isn&#39;t meant to be public."}],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682521093,"creation_date":1682521093,"answer_id":76112246,"question_id":76112193,"body_markdown":"Use this:\r\n\r\n      @Bean\r\n      public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n          @Override\r\n          public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n          }\r\n        };\r\n      }\r\n\r\nAlso update your `SecurityFilterChain`. Don&#39;t disable cors. :\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .csrf()\r\n            .disable()\r\n            .cors()\r\n            .and()\r\n            .authorizeRequests.......\r\n          ","title":"Global cors not working in spring security 3.0.0","body":"<p>Use this:</p>\n<pre><code>  @Bean\n  public WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n      @Override\n      public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n      }\n    };\n  }\n</code></pre>\n<p>Also update your <code>SecurityFilterChain</code>. Don't disable cors. :</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n        .csrf()\n        .disable()\n        .cors()\n        .and()\n        .authorizeRequests.......\n      \n</code></pre>\n"}],"owner":{"account_id":18733863,"reputation":219,"user_id":13658665,"display_name":"HappyKoala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682523025,"creation_date":1682520735,"question_id":76112193,"body_markdown":"When I tested my app locally using postman it was very confusing, I was able to access any /public path api, what am I doing wrong, but I found that my code really didn&#39;t do anything to protect the cors,\r\nI following this official guild:\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\r\n\r\n\r\n\r\n```\r\n    public static final String[] URL_WHITELIST = new String[]{\r\n            &quot;/static/**&quot;,\r\n            &quot;/api/public/**&quot;\r\n    };\r\n    public static final String[] URL_ANONYMOUS = new String[]{\r\n            &quot;/api/auth/sign-in&quot;,\r\n    };\r\n\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n            //...\r\n                .securityMatcher(&quot;/api/**&quot;)\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(URL_ANONYMOUS).anonymous()\r\n                .requestMatchers(URL_WHITELIST).permitAll()\r\n                .anyRequest().authenticated();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource(){\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(https://example.com,https://admin.example.com));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;OPTIONS&quot;));\r\n        configuration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```","title":"Global cors not working in spring security 3.0.0","body":"<p>When I tested my app locally using postman it was very confusing, I was able to access any /public path api, what am I doing wrong, but I found that my code really didn't do anything to protect the cors,\nI following this official guild:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title</a></p>\n<pre><code>    public static final String[] URL_WHITELIST = new String[]{\n            &quot;/static/**&quot;,\n            &quot;/api/public/**&quot;\n    };\n    public static final String[] URL_ANONYMOUS = new String[]{\n            &quot;/api/auth/sign-in&quot;,\n    };\n\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n            //...\n                .securityMatcher(&quot;/api/**&quot;)\n                .authorizeHttpRequests()\n                .requestMatchers(URL_ANONYMOUS).anonymous()\n                .requestMatchers(URL_WHITELIST).permitAll()\n                .anyRequest().authenticated();\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource(){\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(https://example.com,https://admin.example.com));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;OPTIONS&quot;));\n        configuration.setMaxAge(3600L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","arraylist","concurrency"],"comments":[{"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"score":0,"creation_date":1512302320,"post_id":47618044,"comment_id":82194373,"body_markdown":"The Order Is Not Important in this phase.","body":"The Order Is Not Important in this phase."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1512303218,"creation_date":1512302080,"answer_id":47618095,"question_id":47618044,"body_markdown":"The fact that your object is a singleton is irrelevant. What matters is shared mutable state. So, if your computation don&#39;t mutate shared state,  and every computation is thus independant from the others, you can just use a parallel stream:\r\n\r\n    myList.parallelStream()\r\n          .flatMap(first -&gt; myList.stream().map(second -&gt; MyCalculator.getInstance().calcul(first, second)))\r\n          .collect(Collectors.toList());","title":"how to use Multithreading With ArrayList in Java","body":"<p>The fact that your object is a singleton is irrelevant. What matters is shared mutable state. So, if your computation don't mutate shared state,  and every computation is thus independant from the others, you can just use a parallel stream:</p>\n\n<pre><code>myList.parallelStream()\n      .flatMap(first -&gt; myList.stream().map(second -&gt; MyCalculator.getInstance().calcul(first, second)))\n      .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47618095,"answer_count":1,"score":-1,"last_activity_date":1682522909,"creation_date":1512301709,"question_id":47618044,"body_markdown":"I have a program that works perfectly, unfortunately I have some calculations that takes a lot of time, some minutes.\r\n\r\nMy objective is to use multithreading to accelerate the parts that take so much time.\r\n\r\nIn this example I give the prototype of the part that I should parallelize.\r\n    \r\n    public static ArrayList&lt;Object2&gt; createListOfObject2(ArrayList&lt;Object1&gt; mylist) {\r\n        ArrayList&lt;Object2&gt; listToReturn = new ArrayList&lt;&gt;();\r\n        Object2 object2;\r\n        for (int i = 0; i &lt; mylist.size(); i++) {\r\n            for (int j = 0; j &lt; mylist.size(); j++) {\r\n                object2 = heavyCalcul(mylist, i, j);\r\n                listToReturn.add(object2);\r\n            }\r\n        }\r\n        return listToReturn;\r\n    }\r\n    private static Object2 heavyCalcul(ArrayList&lt;Object1&gt; mylist, int i, int j) {\r\n        int weight = MyCalculator.getInstance().calcul(mylist.get(i),mylist.get(j));\r\n        Object2 Object2 = new Object2(weight);\r\n        return Object2;\r\n    }\r\n\r\n\r\nAs you can see the method \r\n\r\n    public static ArrayList&lt;Object2&gt; createListOfObject2(ArrayList&lt;Object1&gt; mylist)\r\n\r\ngets a list of Object1, and should create another list of object2.\r\n\r\nI made two for loops, and each time I create an object2 forming by two object, it should take O(n&#178;) time. For bigger list it takes a long time.\r\n\r\nSo where should I put the multithreading and which type of list should I use?\r\n\r\nThe second Problem is that the class MyCalculator is a singleton Class, and I create only one object of it, and in my opinion even using multithreading the real program will not benefit of multithreading.\r\n\r\nWhat are the rules I should follow to use multithreading?\r\n\r\nMany Thanks.","title":"how to use Multithreading With ArrayList in Java","body":"<p>I have a program that works perfectly, unfortunately I have some calculations that takes a lot of time, some minutes.</p>\n<p>My objective is to use multithreading to accelerate the parts that take so much time.</p>\n<p>In this example I give the prototype of the part that I should parallelize.</p>\n<pre><code>public static ArrayList&lt;Object2&gt; createListOfObject2(ArrayList&lt;Object1&gt; mylist) {\n    ArrayList&lt;Object2&gt; listToReturn = new ArrayList&lt;&gt;();\n    Object2 object2;\n    for (int i = 0; i &lt; mylist.size(); i++) {\n        for (int j = 0; j &lt; mylist.size(); j++) {\n            object2 = heavyCalcul(mylist, i, j);\n            listToReturn.add(object2);\n        }\n    }\n    return listToReturn;\n}\nprivate static Object2 heavyCalcul(ArrayList&lt;Object1&gt; mylist, int i, int j) {\n    int weight = MyCalculator.getInstance().calcul(mylist.get(i),mylist.get(j));\n    Object2 Object2 = new Object2(weight);\n    return Object2;\n}\n</code></pre>\n<p>As you can see the method</p>\n<pre><code>public static ArrayList&lt;Object2&gt; createListOfObject2(ArrayList&lt;Object1&gt; mylist)\n</code></pre>\n<p>gets a list of Object1, and should create another list of object2.</p>\n<p>I made two for loops, and each time I create an object2 forming by two object, it should take O(n) time. For bigger list it takes a long time.</p>\n<p>So where should I put the multithreading and which type of list should I use?</p>\n<p>The second Problem is that the class MyCalculator is a singleton Class, and I create only one object of it, and in my opinion even using multithreading the real program will not benefit of multithreading.</p>\n<p>What are the rules I should follow to use multithreading?</p>\n<p>Many Thanks.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1682523859,"post_id":76112544,"comment_id":134230670,"body_markdown":"What do you mean combine them? Are you just looking to change the endpoints? Did you look at the [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring.customizing-management-server-context-path)?","body":"What do you mean combine them? Are you just looking to change the endpoints? Did you look at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.monitoring.customizing-management-server-context-path\" rel=\"nofollow noreferrer\">docs</a>?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682523992,"post_id":76112544,"comment_id":134230713,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":28424523,"reputation":9,"user_id":21746083,"display_name":"wolavi1124"},"score":0,"creation_date":1682535780,"post_id":76112544,"comment_id":134233341,"body_markdown":"@ChristopherSchneider what I mean is I want to change a specific healthcheck&#39;s endpoint. So, assume I have 10 endpoints, 2 of them I want to change. I want to reach 8 of them using `.../api/actuator/health`, the other 2, I want a custom thing, so that my endpoint call will be short for regular health checks. I don&#39;t know how to override a specific health checks endpoint. Right now, calling `.../api/actuator/health` gives all health checks. I want to exclude slow ones from there, and call them separately, manually, by overriding their endpoint urls.","body":"@ChristopherSchneider what I mean is I want to change a specific healthcheck&#39;s endpoint. So, assume I have 10 endpoints, 2 of them I want to change. I want to reach 8 of them using <code>...&#47;api&#47;actuator&#47;health</code>, the other 2, I want a custom thing, so that my endpoint call will be short for regular health checks. I don&#39;t know how to override a specific health checks endpoint. Right now, calling <code>...&#47;api&#47;actuator&#47;health</code> gives all health checks. I want to exclude slow ones from there, and call them separately, manually, by overriding their endpoint urls."}],"owner":{"account_id":28424523,"reputation":9,"user_id":21746083,"display_name":"wolavi1124"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682522726,"creation_date":1682522726,"question_id":76112544,"body_markdown":"in my application, I have multiple HealthIndicators. Some of them (external services) are being implemented in this manner:\r\n\r\n```java\r\nprivate static HealthIndicator createHealthIndicator(VersionedService service) {\r\n        return () -&gt; {\r\n            try {\r\n                VersionInfo version = service.getCurrentVersion(); // this calls external service, which is slow\r\n                return Health.up()\r\n                        .withDetail(&quot;version&quot;, version.getTechnicalName())\r\n                        .build();\r\n            } catch (Exception ex) {\r\n                return Health.down().build();\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nI am reaching health endpoint using `.../api/actuator/health`. The problem I have is, I have **some** external Services, which takes ages to retrieve information form all services. And if a service is responding really slow, I am receiving the response very slowly.\r\n\r\nWhat is the best practice for this purpose?\r\n\r\n\r\n                               \r\n1- I can use `/api/actuator/health/&lt;service-name&gt;` endpoints separately in the frontend to retrieve health checks for each component. But since I have multiple services (and a couple of them could be removed/added later), this is somehow hard-coded approach and I need to send multiple calls to the backend. In other words, I don&#39;t want to send `.../api/actuator/health/service1`, `.../api/actuator/health/service2`, `.../api/actuator/health/service3`, ... , `.../api/actuator/health/some-external-service1`, `.../api/actuator/health/some-external-service2`.\r\n\r\n2- If I can somehow override the url of those external Services, I can manually call them from the front-end and at least I will have many of the health check results combined in a request, and slow ones separately. In other words, calling the normal health-check endpoint (`.../api/actuator/health`) will give me all health-checks except the ones that I override in the backend and I will call slow-ones `../api/actuator/health-&lt;some-slow-external-service&gt;` from front-end manually. The problem with this approach is I don&#39;t know how to override health-check url for a given `HealthIndicator`.\r\n\r\n3- Any other recommendations?\r\n\r\nAs a side note, I am not using reactive\r\n","title":"HealthIndicator with custom url or seperate multiple HealthIndicators","body":"<p>in my application, I have multiple HealthIndicators. Some of them (external services) are being implemented in this manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static HealthIndicator createHealthIndicator(VersionedService service) {\n        return () -&gt; {\n            try {\n                VersionInfo version = service.getCurrentVersion(); // this calls external service, which is slow\n                return Health.up()\n                        .withDetail(&quot;version&quot;, version.getTechnicalName())\n                        .build();\n            } catch (Exception ex) {\n                return Health.down().build();\n            }\n        };\n    }\n</code></pre>\n<p>I am reaching health endpoint using <code>.../api/actuator/health</code>. The problem I have is, I have <strong>some</strong> external Services, which takes ages to retrieve information form all services. And if a service is responding really slow, I am receiving the response very slowly.</p>\n<p>What is the best practice for this purpose?</p>\n<p>1- I can use <code>/api/actuator/health/&lt;service-name&gt;</code> endpoints separately in the frontend to retrieve health checks for each component. But since I have multiple services (and a couple of them could be removed/added later), this is somehow hard-coded approach and I need to send multiple calls to the backend. In other words, I don't want to send <code>.../api/actuator/health/service1</code>, <code>.../api/actuator/health/service2</code>, <code>.../api/actuator/health/service3</code>, ... , <code>.../api/actuator/health/some-external-service1</code>, <code>.../api/actuator/health/some-external-service2</code>.</p>\n<p>2- If I can somehow override the url of those external Services, I can manually call them from the front-end and at least I will have many of the health check results combined in a request, and slow ones separately. In other words, calling the normal health-check endpoint (<code>.../api/actuator/health</code>) will give me all health-checks except the ones that I override in the backend and I will call slow-ones <code>../api/actuator/health-&lt;some-slow-external-service&gt;</code> from front-end manually. The problem with this approach is I don't know how to override health-check url for a given <code>HealthIndicator</code>.</p>\n<p>3- Any other recommendations?</p>\n<p>As a side note, I am not using reactive</p>\n"},{"tags":["java","spring-boot","microservices","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682522547,"creation_date":1682522547,"answer_id":76112518,"question_id":76112419,"body_markdown":"  \r\nJust add headers and params to `RestTemplate` object.\r\n\r\n\r\n    final String uri = &quot;http://localhost:8080/service&quot;;\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    headers.set(&quot;KEY&quot;, &quot;myKey&quot;);\r\n    headers.set(&quot;ID&quot;, &quot;myId&quot;);\r\n    headers.set(&quot;AUTH_HEADER&quot;, &quot;myAuthHeader&quot;);\r\n\r\n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;param1&quot;, &quot;value1&quot;);\r\n\r\n    HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params , headers);\r\n\r\n    ResponseEntity&lt;MyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, request, MyResponse.class);\r\n\r\n    if(response.getStatusCode() == HttpStatus.OK) {\r\n      MyResponse resObj = response.getBody();\r\n      // do something with the response\r\n    }","title":"How to consume service Using Resttemplate.exchange","body":"<p>Just add headers and params to <code>RestTemplate</code> object.</p>\n<pre><code>final String uri = &quot;http://localhost:8080/service&quot;;\n\nRestTemplate restTemplate = new RestTemplate();\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\nheaders.set(&quot;KEY&quot;, &quot;myKey&quot;);\nheaders.set(&quot;ID&quot;, &quot;myId&quot;);\nheaders.set(&quot;AUTH_HEADER&quot;, &quot;myAuthHeader&quot;);\n\nMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;param1&quot;, &quot;value1&quot;);\n\nHttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params , headers);\n\nResponseEntity&lt;MyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, request, MyResponse.class);\n\nif(response.getStatusCode() == HttpStatus.OK) {\n  MyResponse resObj = response.getBody();\n  // do something with the response\n}\n</code></pre>\n"}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76112518,"answer_count":1,"score":1,"last_activity_date":1682522547,"creation_date":1682522068,"question_id":76112419,"body_markdown":"&gt; I want to make a service call using Resttemplate.exchange method:\r\n&gt; See the below is my service to which i want to consume:\r\n\r\n    @PostMapping(value = &quot;/service&quot;, consumes = { &quot;application/x-www-form-urlencoded&quot; })\r\n    \tpublic ServiceObligationResponse retrieveServiceObligationResponsesByServiceObligationRequests(\r\n    \t\t\t@Valid @RequestParam Map&lt;String, String&gt; params,\r\n    \t\t\t@RequestHeader(value = KEY, required = true) String key,\r\n    \t\t\t@RequestHeader(value = ID, required = true) String id,\r\n    \t\t\t@RequestHeader(value = AUTH_HEADER, required = true) String authHeader)\r\n    \t\t\tthrows CustomUnAuthorizedException {\r\n     Some code ............... \r\n    }\r\n\r\nPlease help i am new to microservice","title":"How to consume service Using Resttemplate.exchange","body":"<blockquote>\n<p>I want to make a service call using Resttemplate.exchange method:\nSee the below is my service to which i want to consume:</p>\n</blockquote>\n<pre><code>@PostMapping(value = &quot;/service&quot;, consumes = { &quot;application/x-www-form-urlencoded&quot; })\n    public ServiceObligationResponse retrieveServiceObligationResponsesByServiceObligationRequests(\n            @Valid @RequestParam Map&lt;String, String&gt; params,\n            @RequestHeader(value = KEY, required = true) String key,\n            @RequestHeader(value = ID, required = true) String id,\n            @RequestHeader(value = AUTH_HEADER, required = true) String authHeader)\n            throws CustomUnAuthorizedException {\n Some code ............... \n}\n</code></pre>\n<p>Please help i am new to microservice</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1682505927,"post_id":76109803,"comment_id":134225779,"body_markdown":"Forget about the list for once, try to solve this for a single word first, as the &quot;now do a list&quot; step seems entirely separate from that. Have you tried that? If so, please [edit] your question to show your attempt (even if it doesn&#39;t work).","body":"Forget about the list for once, try to solve this for a single word first, as the &quot;now do a list&quot; step seems entirely separate from that. Have you tried that? If so, please <a href=\"https://stackoverflow.com/posts/76109803/edit\">edit</a> your question to show your attempt (even if it doesn&#39;t work)."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1682506346,"post_id":76109803,"comment_id":134225957,"body_markdown":"The recommended approach for solving this kind of elementary interview question is to create a hash-set, add each character to it, (duplicates will be silently discarded,) then finally convert the hash-set to a list.","body":"The recommended approach for solving this kind of elementary interview question is to create a hash-set, add each character to it, (duplicates will be silently discarded,) then finally convert the hash-set to a list."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1682506508,"post_id":76109803,"comment_id":134225899,"body_markdown":"Does the order of the letters in the result matter?","body":"Does the order of the letters in the result matter?"},{"owner":{"account_id":4890996,"reputation":1347,"user_id":3942142,"accept_rate":36,"display_name":"jayendra bhatt"},"score":0,"creation_date":1682506620,"post_id":76109803,"comment_id":134225922,"body_markdown":"@Bohemian yes it does","body":"@Bohemian yes it does"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682507290,"creation_date":1682506398,"answer_id":76109913,"question_id":76109803,"body_markdown":"This is one way to eliminate the duplicated letters from one word:\r\n\r\n```java\r\npublic String removeDuplicates(String text) {\r\n\tMap&lt;String, List&lt;String&gt;&gt; charsVsCount = Arrays.stream(text.split(&quot;&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(c -&gt; c, LinkedHashMap::new, Collectors.toList()));\r\n\r\n\t\treturn charsVsCount.entrySet().stream()\r\n\t\t\t\t.filter(entry -&gt; entry.getValue().size() == 1)\r\n\t\t\t\t.map(entry -&gt; entry.getKey())\r\n\t\t\t\t.collect(Collectors.joining(&quot;&quot;));\r\n}\r\n```\r\n\r\nNow, if you have a list of words, you&#39;ll apply this logic for each of them, and, in the end, we&#39;ll merge them back together:\r\n```java\r\nvar result = words.stream()\r\n\t\t.map(word -&gt; removeDuplicates(word))\r\n\t\t.collect(Collectors.joining(&quot;&quot;));\r\n\r\nassertEquals(&quot;orpatdhte&quot;, result);\r\n```\r\n","title":"how to concat all non repeated characters using java 8","body":"<p>This is one way to eliminate the duplicated letters from one word:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String removeDuplicates(String text) {\n    Map&lt;String, List&lt;String&gt;&gt; charsVsCount = Arrays.stream(text.split(&quot;&quot;))\n                .collect(Collectors.groupingBy(c -&gt; c, LinkedHashMap::new, Collectors.toList()));\n\n        return charsVsCount.entrySet().stream()\n                .filter(entry -&gt; entry.getValue().size() == 1)\n                .map(entry -&gt; entry.getKey())\n                .collect(Collectors.joining(&quot;&quot;));\n}\n</code></pre>\n<p>Now, if you have a list of words, you'll apply this logic for each of them, and, in the end, we'll merge them back together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var result = words.stream()\n        .map(word -&gt; removeDuplicates(word))\n        .collect(Collectors.joining(&quot;&quot;));\n\nassertEquals(&quot;orpatdhte&quot;, result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682522406,"creation_date":1682507213,"answer_id":76110023,"question_id":76109803,"body_markdown":"Because this is homework/interview question, I&#39;ll only provide pseudo code:\r\n\r\nFor each word:\r\n- count the frequency of each letter, preserving the order encountered\r\n- discard letters with a frequency greater than 1\r\n- concatenate letters to result\r\n\r\nThere are multiple ways of coding this.\r\n\r\nNote:  A `HashMap` won&#39;t help much due the requirement to preserve letter order, but there is another implementation of Map that is ideally suited.\r\n\r\nHint: It can be coded with a single line of code (albeit slightly long).","title":"how to concat all non repeated characters using java 8","body":"<p>Because this is homework/interview question, I'll only provide pseudo code:</p>\n<p>For each word:</p>\n<ul>\n<li>count the frequency of each letter, preserving the order encountered</li>\n<li>discard letters with a frequency greater than 1</li>\n<li>concatenate letters to result</li>\n</ul>\n<p>There are multiple ways of coding this.</p>\n<p>Note:  A <code>HashMap</code> won't help much due the requirement to preserve letter order, but there is another implementation of Map that is ideally suited.</p>\n<p>Hint: It can be coded with a single line of code (albeit slightly long).</p>\n"},{"tags":[],"owner":{"account_id":4890996,"reputation":1347,"user_id":3942142,"accept_rate":36,"display_name":"jayendra bhatt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682512971,"creation_date":1682512971,"answer_id":76110871,"question_id":76109803,"body_markdown":"I finally able to find a single liner for the above requirement ,\r\n\r\njust to note i have used LinkedHashMap in the groupingBy clause inorder to maintain the sequence of non repeated characters\r\n     \r\n    List&lt;String&gt; l = Arrays.asList(&quot;non&quot;, &quot;repeated&quot;, &quot;character&quot;);\r\n    \r\n    System.out.println(l.stream().map(word -&gt;   \r\n    \t{ return Arrays.stream(word.split(&quot;&quot;)).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new,Collectors.counting())).entrySet().stream().filter(e-&gt; e.getValue()==1).map(e-&gt;e.getKey()).collect(Collectors.joining());\r\n    }).collect(Collectors.joining()));","title":"how to concat all non repeated characters using java 8","body":"<p>I finally able to find a single liner for the above requirement ,</p>\n<p>just to note i have used LinkedHashMap in the groupingBy clause inorder to maintain the sequence of non repeated characters</p>\n<pre><code>List&lt;String&gt; l = Arrays.asList(&quot;non&quot;, &quot;repeated&quot;, &quot;character&quot;);\n\nSystem.out.println(l.stream().map(word -&gt;   \n    { return Arrays.stream(word.split(&quot;&quot;)).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new,Collectors.counting())).entrySet().stream().filter(e-&gt; e.getValue()==1).map(e-&gt;e.getKey()).collect(Collectors.joining());\n}).collect(Collectors.joining()));\n</code></pre>\n"}],"owner":{"account_id":4890996,"reputation":1347,"user_id":3942142,"accept_rate":36,"display_name":"jayendra bhatt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76109913,"answer_count":3,"score":-2,"last_activity_date":1682522406,"creation_date":1682505540,"question_id":76109803,"body_markdown":"Want to get the non repeated characters in each word in a list and concat them to a new word using java 8:\r\n\r\nEx : [ non, repeated, character ]-&gt; orpatdhte\r\n\r\nAny hints ?","title":"how to concat all non repeated characters using java 8","body":"<p>Want to get the non repeated characters in each word in a list and concat them to a new word using java 8:</p>\n<p>Ex : [ non, repeated, character ]-&gt; orpatdhte</p>\n<p>Any hints ?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682521911,"creation_date":1682521407,"answer_id":76112301,"question_id":76111922,"body_markdown":"If `@JsonIgnore` annotation doesn&#39;t work for this case, lets try `@JsonManagedReference` and `@JsonBackReference` : \r\n\r\nCabinet:\r\n\r\n    @OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\r\n\r\n\r\nMedecin:\r\n\r\n    @ManyToOne\r\n    @JsonBackReference\r\n    private Cabinet cabinet;\r\n\r\n\r\nAlso check this please:\r\nhttps://stackoverflow.com/a/43473926/10277150","title":"Could not write JSON: Infinite recursion (StackOverflowError)] with root cause","body":"<p>If <code>@JsonIgnore</code> annotation doesn't work for this case, lets try <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> :</p>\n<p>Cabinet:</p>\n<pre><code>@OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\n@JsonManagedReference\nprivate List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Medecin:</p>\n<pre><code>@ManyToOne\n@JsonBackReference\nprivate Cabinet cabinet;\n</code></pre>\n<p>Also check this please:\n<a href=\"https://stackoverflow.com/a/43473926/10277150\">https://stackoverflow.com/a/43473926/10277150</a></p>\n"},{"tags":[],"owner":{"account_id":20678789,"reputation":572,"user_id":15182834,"display_name":"I&#39;m Weverton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682521892,"creation_date":1682521892,"answer_id":76112389,"question_id":76111922,"body_markdown":"As you first object instantiated is Cabinet, you should annotate medecins attribute with this tag: [@JsonManagedReference][1]\r\n\r\nAnd then, the second one is Medecin, annotate cabinet attribute with this tag: [@JsonBackReference][2]\r\n\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Medecin extends User {\r\n        private int inp;\r\n        private String specialite;\r\n        @ManyToOne\r\n        @JsonBackReference\r\n        private Cabinet cabinet;\r\n    }\r\n\r\n        @Entity(name = &quot;Cabinet&quot;)\r\n        @Data\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        public class Cabinet {\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n            @Column(name = &quot;cabinet_id&quot;)\r\n            private Long id;\r\n            private String denomination;\r\n            private String adresse;\r\n            private int telephone;\r\n            private double longitude;\r\n            private double latitude;\r\n            @OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\r\n            @JsonManagedReference\r\n            private List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonManagedReference.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonBackReference.html","title":"Could not write JSON: Infinite recursion (StackOverflowError)] with root cause","body":"<p>As you first object instantiated is Cabinet, you should annotate medecins attribute with this tag: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonManagedReference.html\" rel=\"nofollow noreferrer\">@JsonManagedReference</a></p>\n<p>And then, the second one is Medecin, annotate cabinet attribute with this tag: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonBackReference.html\" rel=\"nofollow noreferrer\">@JsonBackReference</a></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Medecin extends User {\n    private int inp;\n    private String specialite;\n    @ManyToOne\n    @JsonBackReference\n    private Cabinet cabinet;\n}\n\n    @Entity(name = &quot;Cabinet&quot;)\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class Cabinet {\n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        @Column(name = &quot;cabinet_id&quot;)\n        private Long id;\n        private String denomination;\n        private String adresse;\n        private int telephone;\n        private double longitude;\n        private double latitude;\n        @OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\n        @JsonManagedReference\n        private List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n"}],"owner":{"account_id":16217139,"reputation":377,"user_id":11709683,"display_name":"Anas Hafidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76112389,"answer_count":2,"score":1,"last_activity_date":1682521911,"creation_date":1682519086,"question_id":76111922,"body_markdown":"I am working on a spring boot app with postgresql.\r\nI have three classes: User, Medcin that inherits from User, and Cabinet. In relationships, the Medcin can be in one Cabinet, and Cabinet can have one or more Medcin\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n\r\n@AllArgsConstructor\r\n@Table(name = &quot;_user&quot;)\r\n\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n    private String adress;\r\n    private String cin;\r\n    private String login;\r\n    private String password;\r\n\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Medecin extends User {\r\n    private int inp;\r\n    private String specialite;\r\n    @ManyToOne\r\n    private Cabinet cabinet;}\r\n```\r\n\r\n\r\n```java\r\n    @Entity(name = &quot;Cabinet&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Cabinet {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;cabinet_id&quot;)\r\n        private Long id;\r\n        private String denomination;\r\n        private String adresse;\r\n        private int telephone;\r\n        private double longitude;\r\n        private double latitude;\r\n        @OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n```\r\n\r\nin the post request to create a cabinet I send in the body \r\n\r\n```json\r\n{\r\n    &quot;denomination&quot;: &quot;Cabinet name&quot;,\r\n    &quot;adresse&quot;: &quot;Cabinet address&quot;,\r\n    &quot;telephone&quot;: 123456789,\r\n    &quot;longitude&quot;: 0.0,\r\n    &quot;latitude&quot;: 0.0\r\n}\r\n\r\n```\r\n\r\nThen I create a Medcin the same way, like this:\r\n\r\n```json\r\n{\r\n    &quot;email&quot;: &quot;medecin@example.com&quot;,\r\n    &quot;password&quot;: &quot;password&quot;,\r\n    &quot;firstName&quot;: &quot;ww&quot;,\r\n    &quot;lastName&quot;: &quot;Doe&quot;,\r\n    &quot;inp&quot;: 1234567,\r\n    &quot;specialite&quot;: &quot;Cardiology&quot;,\r\n    &quot;cabinet&quot;: {\r\n        &quot;id&quot;: 1\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen I do a get request to get the Medcin, but I got a result like this. I want it to return the Cabinet information I created before, but it&#39;s null.\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;firstName&quot;: &quot;ww&quot;,\r\n    &quot;lastName&quot;: &quot;Doe&quot;,\r\n    &quot;age&quot;: 0,\r\n    &quot;adress&quot;: null,\r\n    &quot;cin&quot;: null,\r\n    &quot;login&quot;: null,\r\n    &quot;password&quot;: &quot;password&quot;,\r\n    &quot;inp&quot;: 1234567,\r\n    &quot;specialite&quot;: &quot;Cardiology&quot;,\r\n    &quot;cabinet&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;denomination&quot;: null,\r\n        &quot;adresse&quot;: null,\r\n        &quot;telephone&quot;: 0,\r\n        &quot;longitude&quot;: 0.0,\r\n        &quot;latitude&quot;: 0.0,\r\n        &quot;medecins&quot;: null\r\n    }\r\n}\r\n```\r\nThen I do a get request to get cabinets, and I get the following error:\r\n```none\r\nCould not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n```","title":"Could not write JSON: Infinite recursion (StackOverflowError)] with root cause","body":"<p>I am working on a spring boot app with postgresql.\nI have three classes: User, Medcin that inherits from User, and Cabinet. In relationships, the Medcin can be in one Cabinet, and Cabinet can have one or more Medcin</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n\n@AllArgsConstructor\n@Table(name = &quot;_user&quot;)\n\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private int age;\n    private String adress;\n    private String cin;\n    private String login;\n    private String password;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Medecin extends User {\n    private int inp;\n    private String specialite;\n    @ManyToOne\n    private Cabinet cabinet;}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity(name = &quot;Cabinet&quot;)\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class Cabinet {\n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        @Column(name = &quot;cabinet_id&quot;)\n        private Long id;\n        private String denomination;\n        private String adresse;\n        private int telephone;\n        private double longitude;\n        private double latitude;\n        @OneToMany(mappedBy = &quot;cabinet&quot;, cascade = CascadeType.ALL)\n        private List&lt;Medecin&gt; medecins = new ArrayList&lt;&gt;();\n    }\n\n</code></pre>\n<p>in the post request to create a cabinet I send in the body</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;denomination&quot;: &quot;Cabinet name&quot;,\n    &quot;adresse&quot;: &quot;Cabinet address&quot;,\n    &quot;telephone&quot;: 123456789,\n    &quot;longitude&quot;: 0.0,\n    &quot;latitude&quot;: 0.0\n}\n\n</code></pre>\n<p>Then I create a Medcin the same way, like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;email&quot;: &quot;medecin@example.com&quot;,\n    &quot;password&quot;: &quot;password&quot;,\n    &quot;firstName&quot;: &quot;ww&quot;,\n    &quot;lastName&quot;: &quot;Doe&quot;,\n    &quot;inp&quot;: 1234567,\n    &quot;specialite&quot;: &quot;Cardiology&quot;,\n    &quot;cabinet&quot;: {\n        &quot;id&quot;: 1\n    }\n}\n</code></pre>\n<p>Then I do a get request to get the Medcin, but I got a result like this. I want it to return the Cabinet information I created before, but it's null.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;firstName&quot;: &quot;ww&quot;,\n    &quot;lastName&quot;: &quot;Doe&quot;,\n    &quot;age&quot;: 0,\n    &quot;adress&quot;: null,\n    &quot;cin&quot;: null,\n    &quot;login&quot;: null,\n    &quot;password&quot;: &quot;password&quot;,\n    &quot;inp&quot;: 1234567,\n    &quot;specialite&quot;: &quot;Cardiology&quot;,\n    &quot;cabinet&quot;: {\n        &quot;id&quot;: 1,\n        &quot;denomination&quot;: null,\n        &quot;adresse&quot;: null,\n        &quot;telephone&quot;: 0,\n        &quot;longitude&quot;: 0.0,\n        &quot;latitude&quot;: 0.0,\n        &quot;medecins&quot;: null\n    }\n}\n</code></pre>\n<p>Then I do a get request to get cabinets, and I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","derby"],"comments":[{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682521824,"post_id":76112228,"comment_id":134230058,"body_markdown":"I don&#39;t use Derby, but I believe you need to add the derbyclient dependency as well.","body":"I don&#39;t use Derby, but I believe you need to add the derbyclient dependency as well."},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682521968,"post_id":76112228,"comment_id":134230095,"body_markdown":"NVM, reading the Derby documentation, it seems just derby should be sufficient.","body":"NVM, reading the Derby documentation, it seems just derby should be sufficient."}],"owner":{"account_id":13024800,"reputation":483,"user_id":9413110,"display_name":"VIBHOR GOYAL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682521723,"creation_date":1682520964,"question_id":76112228,"body_markdown":"I am trying to configure Derby with the Spring boot application. It is just a basic starter project with some basic configuration.\r\n\r\nMy pom.xml looks like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.weddingWines&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wedding-wines&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;name&gt;api&lt;/name&gt;\r\n    &lt;description&gt;Backend for Wedding Wines&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derby --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen trying to run the project, I get the following error: \r\n\r\n```none\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nIs there any specific URL for the embedded database? I have tried with multiple options but nothing is working. Please help me out with it.\r\n\r\n","title":"Apache Derby: Failed to determine a suitable driver class","body":"<p>I am trying to configure Derby with the Spring boot application. It is just a basic starter project with some basic configuration.</p>\n<p>My pom.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;com.weddingWines&lt;/groupId&gt;\n        &lt;artifactId&gt;wedding-wines&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;name&gt;api&lt;/name&gt;\n    &lt;description&gt;Backend for Wedding Wines&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.derby/derby --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When trying to run the project, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Is there any specific URL for the embedded database? I have tried with multiple options but nothing is working. Please help me out with it.</p>\n"},{"tags":["java","akka","akka-stream"],"answers":[{"tags":[],"owner":{"account_id":1918987,"reputation":2839,"user_id":1730917,"accept_rate":71,"display_name":"Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682521721,"creation_date":1682521721,"answer_id":76112361,"question_id":76098558,"body_markdown":"The reason of error was an issue in handling of a specific error in `process` method. An exception was thrown in this case, and apparently, throwing exception causes dropping all existing elements from the queue with `StreamDetachedException reason.\r\n\r\n```\r\n.exceptionally(e -&gt; {\r\n\t// ...\r\n\telse if (e.getCause() instanceof FooException) {\r\n\t\tthrow new RuntimeException(e); // cause\r\n\t}\r\n    // ....\r\n});\r\n```\r\nReturning error object instead of throwing exception, resolved the issue.","title":"Akka Streams: StreamDetachedException when offering to a QueueSource","body":"<p>The reason of error was an issue in handling of a specific error in <code>process</code> method. An exception was thrown in this case, and apparently, throwing exception causes dropping all existing elements from the queue with `StreamDetachedException reason.</p>\n<pre><code>.exceptionally(e -&gt; {\n    // ...\n    else if (e.getCause() instanceof FooException) {\n        throw new RuntimeException(e); // cause\n    }\n    // ....\n});\n</code></pre>\n<p>Returning error object instead of throwing exception, resolved the issue.</p>\n"}],"owner":{"account_id":1918987,"reputation":2839,"user_id":1730917,"accept_rate":71,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76112361,"answer_count":1,"score":1,"last_activity_date":1682521721,"creation_date":1682407387,"question_id":76098558,"body_markdown":"We have a `DownloadFileFlow` class which uses `Akka Streams` &amp; `Akka Http` for downloading files from difference domains; Sometimes (~50%) in offering to the `QueueSource` we encounter `StreamDetachedException` error immediately:\r\n\r\n```\r\njava.util.concurrent.CompletionException: akka.stream.StreamDetachedException: Stage with GraphStageLogic akka.stream.impl.QueueSource$$anon$1-queueSource stopped before async invocation was processed\r\n   at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332)\r\n   at java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:747)\r\n   at java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735)\r\n   at java.base/java.util.concurrent.CompletableFuture.thenAcceptAsync(CompletableFuture.java:2186)\r\n   at scala.concurrent.java8.FuturesConvertersImpl$CF.thenAccept(FutureConvertersImpl.scala:29)\r\n   at scala.concurrent.java8.FuturesConvertersImpl$CF.thenAccept(FutureConvertersImpl.scala:18)\r\n   at x.y.z.DownloadFileFlow.offer(DownloadFileFlow.java:60)\r\n```\r\n\r\nWe have no clue what could be the cause of the error, but there is a `postStop` method in `akka.stream.impl.QueueSource`, which we doubt it, but don&#39;t know the cause of stop:\r\n\r\n```\r\noverride def postStop(): Unit = {\r\n  val exception = new StreamDetachedException()\r\n  completion.tryFailure(exception)\r\n}\r\n```\r\n\r\nCould the reason for this problem be that we have a resource leak somewhere? For example not consuming the http-response-entity in some cases?\r\n\r\n1) SourceQueue reference:\r\n\r\n```\r\nAtomicReference&lt;SourceQueueWithComplete&lt;FileDownloadEnvelope&gt;&gt; queueRef = new AtomicReference&lt;&gt;()\r\n```\r\n\r\n2) Definition:\r\n\r\n```\r\nRestartSource.onFailuresWithBackoff(\r\n     RestartSettings.create(props.getRecoverMinBackOff(), props.getRecoverMaxBackOff(), RANDOM_FACTOR),\r\n    \t() -&gt; Source.&lt;FileDownloadEnvelope&gt;queue(props.getBufferSize(), OverflowStrategy.backpressure(), props.getMaxConcurrentOffers())\r\n    \t\t.filter(this::checkExpiration)\r\n    \t\t.map(x -&gt; Pair.create(createContext(x), x))\r\n    \t\t.flatMapConcat(this::authIfNeeded)\r\n    \t\t.mapAsyncUnordered(props.getParallelism(), this::process)\r\n    \t\t.map(this::reply)\r\n    \t\t.mapMaterializedValue(x -&gt; {\r\n\t\t\t\tthis.queueRef.set(x);\r\n\t\t\t\treturn x;\r\n\t\t\t}))\r\n    .runWith(Sink.ignore(), actorSystem);\r\n```\r\n\r\n3) Access (`offer` method):\r\n\r\n```\r\npublic void offer(FileDownloadEnvelope envelope) {\r\n\tqueueRef.get().offer(envelope)\r\n\t\t.thenAccept(x -&gt; {\r\n\t\t\tif (!x.isEnqueued())\r\n\t\t\t\treplyError(envelope);\r\n\t\t}).exceptionally(e -&gt; { // StreamDetachedException catched here\r\n\t\t\treplyError(envelope);\r\n\t\t\treturn null;\r\n\t\t});\r\n}\r\n```\r\n\r\nAkka Http Props:\r\n```\r\nakka.http.host-connection-pool.min-connections: &quot;10&quot;\r\nakka.http.host-connection-pool.max-connections: &quot;2000&quot;\r\nakka.http.host-connection-pool.max-open-requests: &quot;4096&quot;\r\nakka.http.host-connection-pool.max-retries: &quot;0&quot;\r\nakka.http.host-connection-pool.client.connecting-timeout: 2s\r\nakka.http.host-connection-pool.client.idle-timeout: 5s\r\n```\r\n\r\nStream props:\r\n```\r\nBUFFER-SIZE: &quot;2000&quot;\r\nMAX-CONCURRENT-OFFERS: &quot;2000&quot;\r\nPARALLELISM: &quot;70&quot;\r\nRECOVER-MIN-BACK-OFF: 100ms\r\nRECOVER-MAX-BACK-OFF: 500ms\r\n```\r\n\r\nAnd we are using `akka &amp; akka-stream: 2.6.19` &amp; `akka-http: 10.2.0`","title":"Akka Streams: StreamDetachedException when offering to a QueueSource","body":"<p>We have a <code>DownloadFileFlow</code> class which uses <code>Akka Streams</code> &amp; <code>Akka Http</code> for downloading files from difference domains; Sometimes (~50%) in offering to the <code>QueueSource</code> we encounter <code>StreamDetachedException</code> error immediately:</p>\n<pre><code>java.util.concurrent.CompletionException: akka.stream.StreamDetachedException: Stage with GraphStageLogic akka.stream.impl.QueueSource$$anon$1-queueSource stopped before async invocation was processed\n   at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332)\n   at java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:747)\n   at java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735)\n   at java.base/java.util.concurrent.CompletableFuture.thenAcceptAsync(CompletableFuture.java:2186)\n   at scala.concurrent.java8.FuturesConvertersImpl$CF.thenAccept(FutureConvertersImpl.scala:29)\n   at scala.concurrent.java8.FuturesConvertersImpl$CF.thenAccept(FutureConvertersImpl.scala:18)\n   at x.y.z.DownloadFileFlow.offer(DownloadFileFlow.java:60)\n</code></pre>\n<p>We have no clue what could be the cause of the error, but there is a <code>postStop</code> method in <code>akka.stream.impl.QueueSource</code>, which we doubt it, but don't know the cause of stop:</p>\n<pre><code>override def postStop(): Unit = {\n  val exception = new StreamDetachedException()\n  completion.tryFailure(exception)\n}\n</code></pre>\n<p>Could the reason for this problem be that we have a resource leak somewhere? For example not consuming the http-response-entity in some cases?</p>\n<ol>\n<li>SourceQueue reference:</li>\n</ol>\n<pre><code>AtomicReference&lt;SourceQueueWithComplete&lt;FileDownloadEnvelope&gt;&gt; queueRef = new AtomicReference&lt;&gt;()\n</code></pre>\n<ol start=\"2\">\n<li>Definition:</li>\n</ol>\n<pre><code>RestartSource.onFailuresWithBackoff(\n     RestartSettings.create(props.getRecoverMinBackOff(), props.getRecoverMaxBackOff(), RANDOM_FACTOR),\n        () -&gt; Source.&lt;FileDownloadEnvelope&gt;queue(props.getBufferSize(), OverflowStrategy.backpressure(), props.getMaxConcurrentOffers())\n            .filter(this::checkExpiration)\n            .map(x -&gt; Pair.create(createContext(x), x))\n            .flatMapConcat(this::authIfNeeded)\n            .mapAsyncUnordered(props.getParallelism(), this::process)\n            .map(this::reply)\n            .mapMaterializedValue(x -&gt; {\n                this.queueRef.set(x);\n                return x;\n            }))\n    .runWith(Sink.ignore(), actorSystem);\n</code></pre>\n<ol start=\"3\">\n<li>Access (<code>offer</code> method):</li>\n</ol>\n<pre><code>public void offer(FileDownloadEnvelope envelope) {\n    queueRef.get().offer(envelope)\n        .thenAccept(x -&gt; {\n            if (!x.isEnqueued())\n                replyError(envelope);\n        }).exceptionally(e -&gt; { // StreamDetachedException catched here\n            replyError(envelope);\n            return null;\n        });\n}\n</code></pre>\n<p>Akka Http Props:</p>\n<pre><code>akka.http.host-connection-pool.min-connections: &quot;10&quot;\nakka.http.host-connection-pool.max-connections: &quot;2000&quot;\nakka.http.host-connection-pool.max-open-requests: &quot;4096&quot;\nakka.http.host-connection-pool.max-retries: &quot;0&quot;\nakka.http.host-connection-pool.client.connecting-timeout: 2s\nakka.http.host-connection-pool.client.idle-timeout: 5s\n</code></pre>\n<p>Stream props:</p>\n<pre><code>BUFFER-SIZE: &quot;2000&quot;\nMAX-CONCURRENT-OFFERS: &quot;2000&quot;\nPARALLELISM: &quot;70&quot;\nRECOVER-MIN-BACK-OFF: 100ms\nRECOVER-MAX-BACK-OFF: 500ms\n</code></pre>\n<p>And we are using <code>akka &amp; akka-stream: 2.6.19</code> &amp; <code>akka-http: 10.2.0</code></p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":27432334,"reputation":53,"user_id":20928817,"display_name":"Ephemere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682521214,"creation_date":1682521214,"answer_id":76112269,"question_id":76112086,"body_markdown":"OK minutes after I found a solution... The problem may be that the created agent isn&#39;t in the flowchart at the moment, so I have to &quot;put&quot; it in the flowcharts using an `enter` block and the codes following: \r\n\r\n\tAgent1 a = new Agent1();\r\n\tenter.take(a);\r\n\tStorageCell cell = storage.getRandomFreeCell();\r\n\tcell.store(a);\r\n\r\nAfter that, the agent can be stored in the storage. ","title":"Why does store() function in Anylogic throw an error when calling it to store an agent in a cell?","body":"<p>OK minutes after I found a solution... The problem may be that the created agent isn't in the flowchart at the moment, so I have to &quot;put&quot; it in the flowcharts using an <code>enter</code> block and the codes following:</p>\n<pre><code>Agent1 a = new Agent1();\nenter.take(a);\nStorageCell cell = storage.getRandomFreeCell();\ncell.store(a);\n</code></pre>\n<p>After that, the agent can be stored in the storage.</p>\n"}],"owner":{"account_id":27432334,"reputation":53,"user_id":20928817,"display_name":"Ephemere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682521214,"creation_date":1682520029,"question_id":76112086,"body_markdown":"I&#39;m trying to create and store agents of type Agent1 in my `storage` from MHL using codes: \r\n       \r\n```\r\nAgent1 a = new Agent1();\r\nStorageCell cell = storage.getRandomFreeCell();\r\ncell.store(a);\r\n```\r\nIt seems to be correct and can be compiled. The first two lines can be executed. But the third didn&#39;t work and threw an error:  \r\n\r\n    java.lang.NullPointerException\r\n    \r\n    \tat com.anylogic.engine.Utilities.time(Unknown Source)\r\n    \r\n    \tat com.anylogic.libraries.processmodeling.ExtEntityImpl.&lt;init&gt;(Unknown Source)\r\n    \r\n    \tat com.anylogic.libraries.processmodeling.ExtEntityImpl$1.a(Unknown Source)\r\n    \r\n    \tat com.anylogic.libraries.processmodeling.ExtEntityImpl$1.create(Unknown Source)\r\n    \r\n    \tat com.anylogic.engine.Agent.c(Unknown Source)\r\n    \r\n    \tat com.anylogic.engine.Agent.c(Unknown Source)\r\n    \r\n    \tat com.anylogic.engine.ExtAgentWithSpatialMetricsDelegate.e(Unknown Source)\r\n    \r\n    \tat com.anylogic.engine.ExtEntityDelegate.getColor(Unknown Source)\r\n    \r\n    \tat com.anylogic.engine.Agent.getColor(Unknown Source)\r\n\r\nI tried another way of just using `store()` for the `storage`. \r\n```\r\nAgent1 a = new Agent1();\r\nstorage.store(a);\r\n```\r\n\r\nBut the same error occurred too. ","title":"Why does store() function in Anylogic throw an error when calling it to store an agent in a cell?","body":"<p>I'm trying to create and store agents of type Agent1 in my <code>storage</code> from MHL using codes:</p>\n<pre><code>Agent1 a = new Agent1();\nStorageCell cell = storage.getRandomFreeCell();\ncell.store(a);\n</code></pre>\n<p>It seems to be correct and can be compiled. The first two lines can be executed. But the third didn't work and threw an error:</p>\n<pre><code>java.lang.NullPointerException\n\n    at com.anylogic.engine.Utilities.time(Unknown Source)\n\n    at com.anylogic.libraries.processmodeling.ExtEntityImpl.&lt;init&gt;(Unknown Source)\n\n    at com.anylogic.libraries.processmodeling.ExtEntityImpl$1.a(Unknown Source)\n\n    at com.anylogic.libraries.processmodeling.ExtEntityImpl$1.create(Unknown Source)\n\n    at com.anylogic.engine.Agent.c(Unknown Source)\n\n    at com.anylogic.engine.Agent.c(Unknown Source)\n\n    at com.anylogic.engine.ExtAgentWithSpatialMetricsDelegate.e(Unknown Source)\n\n    at com.anylogic.engine.ExtEntityDelegate.getColor(Unknown Source)\n\n    at com.anylogic.engine.Agent.getColor(Unknown Source)\n</code></pre>\n<p>I tried another way of just using <code>store()</code> for the <code>storage</code>.</p>\n<pre><code>Agent1 a = new Agent1();\nstorage.store(a);\n</code></pre>\n<p>But the same error occurred too.</p>\n"},{"tags":["java","hoverfly"],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682521132,"creation_date":1682506584,"question_id":76109934,"body_markdown":"I am trying to simulate HTTPS API in Hoverfly but getting below error\r\n\r\n```\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI tried setting `localHoverflyConfig.disableTlsVerification();` but this also not working.\r\n\r\nApplication runs inside `Docker Container` and I am importing the certificate inside cacerts inside docker file using `keytool`\r\n\r\nNot able to find proper documentation for Java.\r\n","title":"Simulate HTTPS API using Hoverfly","body":"<p>I am trying to simulate HTTPS API in Hoverfly but getting below error</p>\n<pre><code>Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I tried setting <code>localHoverflyConfig.disableTlsVerification();</code> but this also not working.</p>\n<p>Application runs inside <code>Docker Container</code> and I am importing the certificate inside cacerts inside docker file using <code>keytool</code></p>\n<p>Not able to find proper documentation for Java.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"score":0,"creation_date":1651845744,"post_id":72142515,"comment_id":127467864,"body_markdown":"Values have just been surounded by double quotes, haven&#39;t they? What about your 2 other requirements?","body":"Values have just been surounded by double quotes, haven&#39;t they? What about your 2 other requirements?"},{"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"score":0,"creation_date":1651846041,"post_id":72142515,"comment_id":127468003,"body_markdown":"I haven&#39;t tried  to implement it yet: in the question I put the input fields, and the output I want to obtain (with all three requirements combined)","body":"I haven&#39;t tried  to implement it yet: in the question I put the input fields, and the output I want to obtain (with all three requirements combined)"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1652082023,"post_id":72142515,"comment_id":127510477,"body_markdown":"Is [this feature request](https://github.com/spring-projects/spring-batch/issues/1139) what you are looking for? If yes, please upvote the issue or add a comment with your use case. We will consider it for a future release. Thank you upfront.","body":"Is <a href=\"https://github.com/spring-projects/spring-batch/issues/1139\" rel=\"nofollow noreferrer\">this feature request</a> what you are looking for? If yes, please upvote the issue or add a comment with your use case. We will consider it for a future release. Thank you upfront."},{"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"score":0,"creation_date":1652093331,"post_id":72142515,"comment_id":127514283,"body_markdown":"@MahmoudBenHassine I have upvoted the feature request because that would solve the &quot;field quoting&quot; requirement of my use case.\nHowever, I would still need to specify custom escaping rules for special characters.\nFor the time being, I could create a subclass of DelimitedLineAggregator containing the logic that I need. What do you think?","body":"@MahmoudBenHassine I have upvoted the feature request because that would solve the &quot;field quoting&quot; requirement of my use case. However, I would still need to specify custom escaping rules for special characters. For the time being, I could create a subclass of DelimitedLineAggregator containing the logic that I need. What do you think?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1652110373,"post_id":72142515,"comment_id":127520984,"body_markdown":"Thank you for upvoting the issue. Extending `DelimitedLineAggregator` would work indeed if you want to add custom behaviour.","body":"Thank you for upvoting the issue. Extending <code>DelimitedLineAggregator</code> would work indeed if you want to add custom behaviour."}],"answers":[{"tags":[],"owner":{"account_id":6790269,"reputation":185,"user_id":5227666,"display_name":"ACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651852519,"creation_date":1651852519,"answer_id":72144325,"question_id":72142515,"body_markdown":"Basically, you just want to process your fields before writing it. You could do it with these 2 ways\r\n\r\nLet&#39;s say this method processes your field\r\n\r\n```java\r\npublic String escape(String str) {\r\n    str = &quot;\\&quot;&quot; + str + &quot;\\&quot;&quot;;\r\n    str = str.replace(&quot;|&quot;, &quot;\\\\|&quot;);\r\n    str = str.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n    return str;\r\n}\r\n```\r\n\r\n**1 - Process it during processor** - preferred\r\n```java\r\n@Override\r\npublic A process(B b) throws Exception {\r\n    A a = new A();\r\n    //Process b to a...    \r\n\r\n    a.setField1(escape(a.getField1)); //For each fields\r\n    return a;\r\n}\r\n```\r\n\r\n**2 - Process it before writing in custom Writer**\r\n```java\r\npublic class EscapeFlatFileItemWriter&lt;A&gt; extends FlatFileItemWriter&lt;A&gt; {\r\n\r\n    @Override\r\n    public void write(List&lt;? extends A&gt; items) throws Exception {\r\n        for (A a : items) {\r\n            a.setField1(escape(a.getField1)); //For each fields\r\n        }\r\n        super.write(items);\r\n    }\r\n}\r\n```\r\n","title":"Spring Batch FlatFileItemWriter - output customization","body":"<p>Basically, you just want to process your fields before writing it. You could do it with these 2 ways</p>\n<p>Let's say this method processes your field</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String escape(String str) {\n    str = &quot;\\&quot;&quot; + str + &quot;\\&quot;&quot;;\n    str = str.replace(&quot;|&quot;, &quot;\\\\|&quot;);\n    str = str.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n    return str;\n}\n</code></pre>\n<p><strong>1 - Process it during processor</strong> - preferred</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic A process(B b) throws Exception {\n    A a = new A();\n    //Process b to a...    \n\n    a.setField1(escape(a.getField1)); //For each fields\n    return a;\n}\n</code></pre>\n<p><strong>2 - Process it before writing in custom Writer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EscapeFlatFileItemWriter&lt;A&gt; extends FlatFileItemWriter&lt;A&gt; {\n\n    @Override\n    public void write(List&lt;? extends A&gt; items) throws Exception {\n        for (A a : items) {\n            a.setField1(escape(a.getField1)); //For each fields\n        }\n        super.write(items);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1682521023,"creation_date":1652376253,"answer_id":72219824,"question_id":72142515,"body_markdown":"        public final class CustomDelimitedLineAggregator&lt;T&gt; extends ExtractorLineAggregator&lt;T&gt; {\r\n    private String delimiterChar = &quot;,&quot;;\r\n    private String quoteChar = &quot;\\&quot;&quot;;\r\n    private String escapeChar = &quot;\\\\&quot;;\r\n\r\n    public CustomDelimitedLineAggregator() {\r\n    }\r\n\r\n    public CustomDelimitedLineAggregator(String delimiterChar) {\r\n        this.delimiterChar = delimiterChar;\r\n    }\r\n\r\n    // getters and setters..\r\n\r\n    @Override\r\n    public String doAggregate(Object[] fieldList) {\r\n        if (isEmpty(fieldList)) {\r\n            return quote(&quot;&quot;);\r\n        }\r\n\r\n        if (fieldList.length == 1) {\r\n            return quote(escape((valueOf(fieldList[0]))));\r\n        }\r\n\r\n        String aggregated = &quot;&quot;;\r\n        for (int i = 0; i &lt; fieldList.length; i++) {\r\n            if (i &gt; 0) {\r\n                aggregated += delimiterChar;\r\n            }\r\n            String field = valueOf(fieldList[i]);\r\n            aggregated+=(quote(escape(field)));\r\n        }\r\n        return aggregated;\r\n    }\r\n\r\n    public String doAggregate(List&lt;String&gt; fieldList) {\r\n        if (isEmpty(fieldList)) {\r\n            return doAggregate((Object[]) null);\r\n        }\r\n        return doAggregate(fieldList.toArray(new Object[0]));\r\n    }\r\n\r\n    private String escape(String s) {\r\n        if (s == null) {\r\n            return null;\r\n        }\r\n        return s.replace(escapeChar, escapeChar + escapeChar)\r\n                .replace(quoteChar, escapeChar + quoteChar);\r\n    }\r\n\r\n    private String quote(String s) {\r\n        if (s == null) {\r\n            return quoteChar + quoteChar;\r\n        }\r\n        return quoteChar + s + quoteChar;\r\n    }\r\n}","title":"Spring Batch FlatFileItemWriter - output customization","body":"<pre><code>    public final class CustomDelimitedLineAggregator&lt;T&gt; extends ExtractorLineAggregator&lt;T&gt; {\nprivate String delimiterChar = &quot;,&quot;;\nprivate String quoteChar = &quot;\\&quot;&quot;;\nprivate String escapeChar = &quot;\\\\&quot;;\n\npublic CustomDelimitedLineAggregator() {\n}\n\npublic CustomDelimitedLineAggregator(String delimiterChar) {\n    this.delimiterChar = delimiterChar;\n}\n\n// getters and setters..\n\n@Override\npublic String doAggregate(Object[] fieldList) {\n    if (isEmpty(fieldList)) {\n        return quote(&quot;&quot;);\n    }\n\n    if (fieldList.length == 1) {\n        return quote(escape((valueOf(fieldList[0]))));\n    }\n\n    String aggregated = &quot;&quot;;\n    for (int i = 0; i &lt; fieldList.length; i++) {\n        if (i &gt; 0) {\n            aggregated += delimiterChar;\n        }\n        String field = valueOf(fieldList[i]);\n        aggregated+=(quote(escape(field)));\n    }\n    return aggregated;\n}\n\npublic String doAggregate(List&lt;String&gt; fieldList) {\n    if (isEmpty(fieldList)) {\n        return doAggregate((Object[]) null);\n    }\n    return doAggregate(fieldList.toArray(new Object[0]));\n}\n\nprivate String escape(String s) {\n    if (s == null) {\n        return null;\n    }\n    return s.replace(escapeChar, escapeChar + escapeChar)\n            .replace(quoteChar, escapeChar + quoteChar);\n}\n\nprivate String quote(String s) {\n    if (s == null) {\n        return quoteChar + quoteChar;\n    }\n    return quoteChar + s + quoteChar;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72219824,"answer_count":2,"score":0,"last_activity_date":1682521023,"creation_date":1651844756,"question_id":72142515,"body_markdown":"I would have the need to produce a CSV File with the following requirements:\r\n\r\n * Every field is surrounded by double quotes\r\n * Double quotes are escaped with backslash\r\n * Backslash is escaped with backslash\r\n\r\nInput:\r\n\r\n- Field1\r\n- Field2With\\Backslash&quot;DoubleQuotes&quot;And|Pipe\r\n- Field3\r\n\r\nExpected output:\r\n\r\n    &quot;Field1&quot;|&quot;Field2With\\\\Backslash\\&quot;DoubleQuotes\\&quot;And|Pipe&quot;|&quot;Field3&quot;\r\n\r\nIs it possible to obtain such an output?","title":"Spring Batch FlatFileItemWriter - output customization","body":"<p>I would have the need to produce a CSV File with the following requirements:</p>\n<ul>\n<li>Every field is surrounded by double quotes</li>\n<li>Double quotes are escaped with backslash</li>\n<li>Backslash is escaped with backslash</li>\n</ul>\n<p>Input:</p>\n<ul>\n<li>Field1</li>\n<li>Field2With\\Backslash&quot;DoubleQuotes&quot;And|Pipe</li>\n<li>Field3</li>\n</ul>\n<p>Expected output:</p>\n<pre><code>&quot;Field1&quot;|&quot;Field2With\\\\Backslash\\&quot;DoubleQuotes\\&quot;And|Pipe&quot;|&quot;Field3&quot;\n</code></pre>\n<p>Is it possible to obtain such an output?</p>\n"},{"tags":["java","rsa","signature","verification"],"comments":[{"owner":{"account_id":534704,"reputation":1733,"user_id":904540,"accept_rate":83,"display_name":"SecStone"},"score":0,"creation_date":1332334863,"post_id":9795118,"comment_id":12486890,"body_markdown":"Thank you very much! I fixed these two issues and it works perfectly. If you&#39;d like to add your points as an answer, I will mark it as a solution.","body":"Thank you very much! I fixed these two issues and it works perfectly. If you&#39;d like to add your points as an answer, I will mark it as a solution."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1346091839,"post_id":9795118,"comment_id":16251895,"body_markdown":"Could you indicate what you did to get SHA-256 to work for PERL, there is [this other question](http://stackoverflow.com/questions/12142381/is-there-a-perl-implementation-of-sha256withrsa)...","body":"Could you indicate what you did to get SHA-256 to work for PERL, there is <a href=\"http://stackoverflow.com/questions/12142381/is-there-a-perl-implementation-of-sha256withrsa\">this other question</a>..."},{"owner":{"account_id":4213579,"reputation":85,"user_id":3450546,"accept_rate":89,"display_name":"user3450546"},"score":0,"creation_date":1633418469,"post_id":9795118,"comment_id":122747273,"body_markdown":"What did you do? I am stuck in same position. Tried to make both the change but didnt work. In SCALA it looks like `var signature = Signature.getInstance(&quot;SHA256withRSA&quot; )` and in PERL `$publickey-&gt;verify_message($signature, $datatosign, &#39;SHA256&#39;, &#39;v1.5&#39;)`","body":"What did you do? I am stuck in same position. Tried to make both the change but didnt work. In SCALA it looks like <code>var signature = Signature.getInstance(&quot;SHA256withRSA&quot; )</code> and in PERL <code>$publickey-&gt;verify_message($signature, $datatosign, &#39;SHA256&#39;, &#39;v1.5&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1332368437,"creation_date":1332368437,"answer_id":9813725,"question_id":9795118,"body_markdown":"Your first clue that something might be wrong is that you never tell Perl what hash function to use, but you tell Java to use SHA256. You have a lot of work to do on the Perl side. Also, the default padding scheme for Crypt::RSA seems to be PSS, whereas for Java it is PKCSv1.5","title":"Interaction between Crypt::RSA (Perl) and java.security.Signature (Java)","body":"<p>Your first clue that something might be wrong is that you never tell Perl what hash function to use, but you tell Java to use SHA256. You have a lot of work to do on the Perl side. Also, the default padding scheme for Crypt::RSA seems to be PSS, whereas for Java it is PKCSv1.5</p>\n"}],"owner":{"account_id":534704,"reputation":1733,"user_id":904540,"accept_rate":83,"display_name":"SecStone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9813725,"answer_count":1,"score":1,"last_activity_date":1682520912,"creation_date":1332278261,"question_id":9795118,"body_markdown":"I&#39;d like to sign a file by using a RSA keypair. For this purpose I have this Perl script:\r\n\r\n    #!/usr/bin/perl\r\n    \r\n    use Crypt::RSA;\r\n    \r\n    my $data = ... # File contents\r\n    \r\n    my $rsa = new Crypt::RSA; \r\n    my $key = new Crypt::RSA::Key::Private(Filename =&gt; &quot;stackoverflow.priv&quot;, Password =&gt; &quot;*****&quot;);\r\n    my $signature = $rsa-&gt;sign(Message =&gt; $data, Key =&gt; $key, Armour =&gt; 0);\r\n    \r\n    # Write signature to file\r\n    \r\nOn the client side, I&#39;d like to use the following Java function to verify the file:\r\n\r\n\r\n    private static final String PUBLICKEY_MOD = &quot;190343051422614110006523776876348493...&quot;;\r\n    private static String PUBLICKEY_EXP = &quot;65537&quot;;\r\n    \r\n    public boolean check() {\r\n         byte[] data = ... // Data\r\n         byte[] dataSignature = ... // Signature (as calculated in the Perl script)\r\n         \r\n         Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n         \r\n         signature.initVerify(getPublicKey());\r\n         signature.update(data);\r\n         return signature.verify(dataSignature);\r\n    }\r\n    \r\n    private PublicKey getPublicKey() {\r\n        RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(PUBLICKEY_MOD), new BigInteger(PUBLICKEY_EXP));\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return factory.generatePublic(spec);\r\n    }\r\n\r\nHowever, `check()` always reports false. These things I already checked:\r\n\r\n - `data` and `dataSignature` are correctly read\r\n - `PUBLICKEY_MOD` and `PUBLICKEY_EXP` are correct\r\n - `getPublicKey()` returns a PublicKey which has the correct attributes\r\n - the private key and the public key are part of the same pair\r\n\r\nDoes anyone know how to verify the file correctly? Is `signature` correctly instanced?\r\n","title":"Interaction between Crypt::RSA (Perl) and java.security.Signature (Java)","body":"<p>I'd like to sign a file by using a RSA keypair. For this purpose I have this Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Crypt::RSA;\n\nmy $data = ... # File contents\n\nmy $rsa = new Crypt::RSA; \nmy $key = new Crypt::RSA::Key::Private(Filename =&gt; \"stackoverflow.priv\", Password =&gt; \"*****\");\nmy $signature = $rsa-&gt;sign(Message =&gt; $data, Key =&gt; $key, Armour =&gt; 0);\n\n# Write signature to file\n</code></pre>\n\n<p>On the client side, I'd like to use the following Java function to verify the file:</p>\n\n<pre><code>private static final String PUBLICKEY_MOD = \"190343051422614110006523776876348493...\";\nprivate static String PUBLICKEY_EXP = \"65537\";\n\npublic boolean check() {\n     byte[] data = ... // Data\n     byte[] dataSignature = ... // Signature (as calculated in the Perl script)\n\n     Signature signature = Signature.getInstance(\"SHA256withRSA\");\n\n     signature.initVerify(getPublicKey());\n     signature.update(data);\n     return signature.verify(dataSignature);\n}\n\nprivate PublicKey getPublicKey() {\n    RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(PUBLICKEY_MOD), new BigInteger(PUBLICKEY_EXP));\n    KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n    return factory.generatePublic(spec);\n}\n</code></pre>\n\n<p>However, <code>check()</code> always reports false. These things I already checked:</p>\n\n<ul>\n<li><code>data</code> and <code>dataSignature</code> are correctly read</li>\n<li><code>PUBLICKEY_MOD</code> and <code>PUBLICKEY_EXP</code> are correct</li>\n<li><code>getPublicKey()</code> returns a PublicKey which has the correct attributes</li>\n<li>the private key and the public key are part of the same pair</li>\n</ul>\n\n<p>Does anyone know how to verify the file correctly? Is <code>signature</code> correctly instanced?</p>\n"},{"tags":["java","spring","spring-mvc","tomcat7"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1396969681,"post_id":22938689,"comment_id":35022089,"body_markdown":"How do you start/stop your standalone tomcat instance? Clear your log and restart. I`d like to see the `No Spring WebApp...`.","body":"How do you start/stop your standalone tomcat instance? Clear your log and restart. I<code>d like to see the </code>No Spring WebApp...`."},{"owner":{"account_id":2287739,"reputation":1192,"user_id":2011380,"accept_rate":33,"display_name":"Aron"},"score":0,"creation_date":1396973018,"post_id":22938689,"comment_id":35024528,"body_markdown":"I use sudo service tomcat7 restart, I see the log file in: /var/lib/tomcat7/logs","body":"I use sudo service tomcat7 restart, I see the log file in: /var/lib/tomcat7/logs"},{"owner":{"account_id":2287739,"reputation":1192,"user_id":2011380,"accept_rate":33,"display_name":"Aron"},"score":0,"creation_date":1396973110,"post_id":22938689,"comment_id":35024586,"body_markdown":"Apr 8, 2014 3:25:38 PM org.apache.catalina.core.ApplicationContext log\nINFO: No Spring WebApplicationInitializer types detected on classpath","body":"Apr 8, 2014 3:25:38 PM org.apache.catalina.core.ApplicationContext log INFO: No Spring WebApplicationInitializer types detected on classpath"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1396974528,"post_id":22938689,"comment_id":35025502,"body_markdown":"Edit your question and add the full log. Also specify the name of your app.","body":"Edit your question and add the full log. Also specify the name of your app."}],"answers":[{"tags":[],"owner":{"account_id":2693469,"reputation":147,"user_id":2326165,"display_name":"oleh.kovaliuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398554516,"creation_date":1398554516,"answer_id":23317571,"question_id":22938689,"body_markdown":"This is common error, make sure that your file.war is built correctly. Just open .war file and check that your WebApplicationInitializer is there.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>This is common error, make sure that your file.war is built correctly. Just open .war file and check that your WebApplicationInitializer is there.</p>\n"},{"tags":[],"owner":{"account_id":2287739,"reputation":1192,"user_id":2011380,"accept_rate":33,"display_name":"Aron"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1682520763,"creation_date":1398760694,"answer_id":23359625,"question_id":22938689,"body_markdown":"I found the error:\r\nI have a library that it was built using jdk 1.6. The Spring main controller and components are in this library. And how I use jdk 1.7, It does not find the classes built in 1.6. \r\n\r\nThe solution was built all using &quot;compiler compliance level: 1.7&quot; and &quot;Generated .class files compatibility: 1.6&quot;, &quot;Source compatibility: 1.6&quot;.\r\n\r\nI setup this option in Eclipse: \r\nPreferences\\Java\\Compiler.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>I found the error:\nI have a library that it was built using jdk 1.6. The Spring main controller and components are in this library. And how I use jdk 1.7, It does not find the classes built in 1.6.</p>\n<p>The solution was built all using &quot;compiler compliance level: 1.7&quot; and &quot;Generated .class files compatibility: 1.6&quot;, &quot;Source compatibility: 1.6&quot;.</p>\n<p>I setup this option in Eclipse:\nPreferences\\Java\\Compiler.</p>\n"},{"tags":[],"owner":{"account_id":1855980,"reputation":504,"user_id":1681554,"accept_rate":0,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408663246,"creation_date":1408663246,"answer_id":25437428,"question_id":22938689,"body_markdown":"I also had the same problem. My maven had tomcat7 plugin but the JRE environment was 1.6. I changed my tomcat7 to tomcat6 and the error was gone.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>I also had the same problem. My maven had tomcat7 plugin but the JRE environment was 1.6. I changed my tomcat7 to tomcat6 and the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":4673460,"reputation":2327,"user_id":3784642,"accept_rate":0,"display_name":"Bernard Hauzeur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433773217,"creation_date":1433528047,"answer_id":30673179,"question_id":22938689,"body_markdown":"I had this info message &quot;No Spring WebApplicationInitializer types detected on classpath&quot; while deploying a WAR with spring integration beans in WebLogic server.\r\nActually, I could observe that the servlet URL returned 404 Not Found and beside that info message with a negative tone &quot;No Spring ...etc&quot; in Server logs, nothing else was seemingly in error in my spring config; no build or deployment errors, no complaints.\r\nIndeed, I suspected that the beans.xml (spring context XML) was actually not picked up at all and that was bound to the very specific organizing of artefacts in Oracle&#39;s jDeveloper. The solution is to play carefully with the &#39;contributors&#39; and &#39;filters&#39; for the WEB-INF/classes category when you edit your deployment profile under the &#39;deployment&#39; topic in project properties.\r\n\r\nPrecisely, I would advise to name your spring context by the jDeveloper default &quot;beans.xml&quot; and place it side by side to the WEB-INF subdirectory itself (under your web Apllication source path, e.g. like &lt;...your project path&gt;/public_html/). Then in the WEB-INF/classes category (when editing the deployment profile) your can check the Project HTML root directory in the &#39;contributor&#39; list, and then select the beans.xml in filters, and then ensure your web.xml features a context-param value like classpath:beans.xml.\r\n\r\nOnce that was fixed, I was able to progress and after some more bean config changes and implementations, the message &quot;No Spring WebApplicationInitializer types detected on classpath&quot; came back! Actually, I did not notice when and why exactly it came back. This second time, I added a \r\n\r\n    public class HttpGatewayInit implements WebApplicationInitializer { ... }\r\n\r\nwhich implements empty inherited methods, and the whole application works fine!\r\n \r\n...If you feel that java EE development has been getting a bit too crazy with cascades of XML configuration files (some edited manually, others through wizards) intepreted by cascades of variant initializers, let me insist that I fully share your point.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>I had this info message \"No Spring WebApplicationInitializer types detected on classpath\" while deploying a WAR with spring integration beans in WebLogic server.\nActually, I could observe that the servlet URL returned 404 Not Found and beside that info message with a negative tone \"No Spring ...etc\" in Server logs, nothing else was seemingly in error in my spring config; no build or deployment errors, no complaints.\nIndeed, I suspected that the beans.xml (spring context XML) was actually not picked up at all and that was bound to the very specific organizing of artefacts in Oracle's jDeveloper. The solution is to play carefully with the 'contributors' and 'filters' for the WEB-INF/classes category when you edit your deployment profile under the 'deployment' topic in project properties.</p>\n\n<p>Precisely, I would advise to name your spring context by the jDeveloper default \"beans.xml\" and place it side by side to the WEB-INF subdirectory itself (under your web Apllication source path, e.g. like &lt;...your project path>/public_html/). Then in the WEB-INF/classes category (when editing the deployment profile) your can check the Project HTML root directory in the 'contributor' list, and then select the beans.xml in filters, and then ensure your web.xml features a context-param value like classpath:beans.xml.</p>\n\n<p>Once that was fixed, I was able to progress and after some more bean config changes and implementations, the message \"No Spring WebApplicationInitializer types detected on classpath\" came back! Actually, I did not notice when and why exactly it came back. This second time, I added a </p>\n\n<pre><code>public class HttpGatewayInit implements WebApplicationInitializer { ... }\n</code></pre>\n\n<p>which implements empty inherited methods, and the whole application works fine!</p>\n\n<p>...If you feel that java EE development has been getting a bit too crazy with cascades of XML configuration files (some edited manually, others through wizards) intepreted by cascades of variant initializers, let me insist that I fully share your point.</p>\n"},{"tags":[],"owner":{"account_id":1299010,"reputation":603,"user_id":1249304,"accept_rate":82,"display_name":"Sabry Shawally"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446451385,"creation_date":1446451385,"answer_id":33473074,"question_id":22938689,"body_markdown":"Make sure that your log4j is configured correctly, there&#39;s probably an exception that is being thrown, but you&#39;re only seeing half of the picture.\r\n\r\nPlease see https://stackoverflow.com/a/16817018/1249304","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>Make sure that your log4j is configured correctly, there's probably an exception that is being thrown, but you're only seeing half of the picture.</p>\n\n<p>Please see <a href=\"https://stackoverflow.com/a/16817018/1249304\">https://stackoverflow.com/a/16817018/1249304</a></p>\n"},{"tags":[],"owner":{"account_id":7533556,"reputation":1,"user_id":5720758,"display_name":"user5720758"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451226579,"creation_date":1451226579,"answer_id":34481388,"question_id":22938689,"body_markdown":"For eclipse users:\r\nsolution is simple just change the nature of project Spring Tools-&gt;add spring project nature\r\n\r\ndone.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>For eclipse users:\nsolution is simple just change the nature of project Spring Tools->add spring project nature</p>\n\n<p>done.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1456965792,"creation_date":1456965792,"answer_id":35761058,"question_id":22938689,"body_markdown":"My silly reason was: *Build Automatically* was disabled!","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>My silly reason was: <em>Build Automatically</em> was disabled!</p>\n"},{"tags":[],"owner":{"account_id":405906,"reputation":131,"user_id":775086,"display_name":"neeranzan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1493594872,"creation_date":1493594872,"answer_id":43712420,"question_id":22938689,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;          \r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\nThis is the important plugin that should be in pom.xml. I spent my two days debugging and researching. This was the solution. This is Apache plugin to tell maven to use the the given Compiler.","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;          \n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n\n<p>This is the important plugin that should be in pom.xml. I spent my two days debugging and researching. This was the solution. This is Apache plugin to tell maven to use the the given Compiler.</p>\n"},{"tags":[],"owner":{"account_id":112054,"reputation":4536,"user_id":295716,"accept_rate":62,"display_name":"Antoine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512418397,"creation_date":1512418397,"answer_id":47641239,"question_id":22938689,"body_markdown":"I had similar problem with Tomcat 8 embedded in java7 application. \r\n\r\nWhen I launched Tomcat in my application, it worked. But when I launched it through Maven for integration test purpose, I got this error : &quot;No Spring WebApplicationInitializer types detected on classpath&quot;. \r\n\r\nI fixed it by upgrading `org.apache.tomcat.embed:tomcat-embed-*` dependencies from version 8.0.29 to 8.0.47. ","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>I had similar problem with Tomcat 8 embedded in java7 application. </p>\n\n<p>When I launched Tomcat in my application, it worked. But when I launched it through Maven for integration test purpose, I got this error : \"No Spring WebApplicationInitializer types detected on classpath\". </p>\n\n<p>I fixed it by upgrading <code>org.apache.tomcat.embed:tomcat-embed-*</code> dependencies from version 8.0.29 to 8.0.47. </p>\n"}],"owner":{"account_id":2287739,"reputation":1192,"user_id":2011380,"accept_rate":33,"display_name":"Aron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133742,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":9,"score":33,"last_activity_date":1682520763,"creation_date":1396964055,"question_id":22938689,"body_markdown":"I have a spring project that runs fine on my tomcat7 server when I deploy from eclipse: Run As &gt;&gt; Run on server.\r\nIn the eclipse tab &quot;Servers&quot; I see:\r\n\r\n    Servers\r\n     Tomcat v7.0 Server at localhost [Started, Synchronized]\r\n       my_project [Synchronized]\r\n         spring-web-3.2.4-RELEASE.jar\r\n\r\nMy project:\r\n\r\n* does not use web.xml, I use javaconf @ annotations.\r\n* does not use maven, I use a User Library\r\n\r\nI see that the project is in:\r\n\r\n    /srv/applications/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\r\n\r\nAnd, I also see the folders: conf,logs,temp,webapps,work,wtpwebapps\r\n\r\nI confirm that all runs fine on my tomcat7 server when I deploy from eclipse!\r\n\r\nIn eclipse console I get:\r\n\r\n    Apr 08, 2014 3:26:59 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.j2ee.server:my_project&#39; did not find a matching property.\r\n    Apr 08, 2014 3:27:00 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8888&quot;]\r\n    Apr 08, 2014 3:27:00 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8843&quot;]\r\n    Apr 08, 2014 3:27:01 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 3215 ms\r\n    Apr 08, 2014 3:27:01 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Apr 08, 2014 3:27:01 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.26\r\n    Apr 08, 2014 3:27:11 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Spring WebApplicationInitializers detected on classpath: [my_project.web.context.WebApplicationInitializer@3599e94c]\r\n    Apr 08, 2014 3:27:12 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n    Apr 08, 2014 3:27:24 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring FrameworkServlet &#39;dispatcher&#39;\r\n    Apr 08, 2014 3:27:24 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8888&quot;]\r\n    Apr 08, 2014 3:27:24 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8843&quot;]\r\n    Apr 08, 2014 3:27:24 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 23821 ms\r\n\r\nNow: The problem\r\nIt is when I deploy the same app (using a file .war) in the same tomcat7 server /var/lib/tomcat7/webapps\r\n\r\nI can open the my initial page web BUT without data,\r\n\r\nI see in the log:\r\n\r\n    INFO: No Spring WebApplicationInitializer types detected on classpath\r\n\r\nWhen I restart tomcat7 I get in the log file:\r\n\r\n    INFO: Destroying ProtocolHandler [&quot;http-bio-8843&quot;]\r\n    Apr 8, 2014 3:25:30 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.j2ee.server:my_project&#39; did not find a matching property.\r\n    Apr 8, 2014 3:25:30 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8888&quot;]\r\n    Apr 8, 2014 3:25:31 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8843&quot;]\r\n    Apr 8, 2014 3:25:31 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 1664 ms\r\n    Apr 8, 2014 3:25:31 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Apr 8, 2014 3:25:31 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.26\r\n    Apr 8, 2014 3:25:38 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8888&quot;]\r\n    Apr 8, 2014 3:25:38 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8843&quot;]\r\n    Apr 8, 2014 3:25:38 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 7576 ms\r\n","title":"INFO: No Spring WebApplicationInitializer types detected on classpath","body":"<p>I have a spring project that runs fine on my tomcat7 server when I deploy from eclipse: Run As >> Run on server.\nIn the eclipse tab \"Servers\" I see:</p>\n\n<pre><code>Servers\n Tomcat v7.0 Server at localhost [Started, Synchronized]\n   my_project [Synchronized]\n     spring-web-3.2.4-RELEASE.jar\n</code></pre>\n\n<p>My project:</p>\n\n<ul>\n<li>does not use web.xml, I use javaconf @ annotations.</li>\n<li>does not use maven, I use a User Library</li>\n</ul>\n\n<p>I see that the project is in:</p>\n\n<pre><code>/srv/applications/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0\n</code></pre>\n\n<p>And, I also see the folders: conf,logs,temp,webapps,work,wtpwebapps</p>\n\n<p>I confirm that all runs fine on my tomcat7 server when I deploy from eclipse!</p>\n\n<p>In eclipse console I get:</p>\n\n<pre><code>Apr 08, 2014 3:26:59 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.j2ee.server:my_project' did not find a matching property.\nApr 08, 2014 3:27:00 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8888\"]\nApr 08, 2014 3:27:00 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8843\"]\nApr 08, 2014 3:27:01 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 3215 ms\nApr 08, 2014 3:27:01 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nApr 08, 2014 3:27:01 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.26\nApr 08, 2014 3:27:11 PM org.apache.catalina.core.ApplicationContext log\nINFO: Spring WebApplicationInitializers detected on classpath: [my_project.web.context.WebApplicationInitializer@3599e94c]\nApr 08, 2014 3:27:12 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\nApr 08, 2014 3:27:24 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring FrameworkServlet 'dispatcher'\nApr 08, 2014 3:27:24 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8888\"]\nApr 08, 2014 3:27:24 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8843\"]\nApr 08, 2014 3:27:24 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 23821 ms\n</code></pre>\n\n<p>Now: The problem\nIt is when I deploy the same app (using a file .war) in the same tomcat7 server /var/lib/tomcat7/webapps</p>\n\n<p>I can open the my initial page web BUT without data,</p>\n\n<p>I see in the log:</p>\n\n<pre><code>INFO: No Spring WebApplicationInitializer types detected on classpath\n</code></pre>\n\n<p>When I restart tomcat7 I get in the log file:</p>\n\n<pre><code>INFO: Destroying ProtocolHandler [\"http-bio-8843\"]\nApr 8, 2014 3:25:30 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.j2ee.server:my_project' did not find a matching property.\nApr 8, 2014 3:25:30 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8888\"]\nApr 8, 2014 3:25:31 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8843\"]\nApr 8, 2014 3:25:31 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1664 ms\nApr 8, 2014 3:25:31 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nApr 8, 2014 3:25:31 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.26\nApr 8, 2014 3:25:38 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8888\"]\nApr 8, 2014 3:25:38 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8843\"]\nApr 8, 2014 3:25:38 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 7576 ms\n</code></pre>\n"},{"tags":["java","inheritance","abstract-class"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1682518140,"post_id":76111647,"comment_id":134228937,"body_markdown":"The question asks for &quot;the best explanation&quot;. If you don&#39;t understand some of the explanations then maybe these do not fall into the category of &quot;best explanation&quot;.","body":"The question asks for &quot;the best explanation&quot;. If you don&#39;t understand some of the explanations then maybe these do not fall into the category of &quot;best explanation&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682520486,"creation_date":1682518334,"answer_id":76111812,"question_id":76111647,"body_markdown":"Say `Dog` has a `.speak()` method, but `Snake` doesn&#39;t. You could cast an animal from the array to a `Dog` and use `.speak()`. Provided the array was only populated with `Dog` instances.\r\n\r\nSince there is not casting (b) is not correct.\r\n\r\nOption (a) sounds correct because `animals[i]` returns an `Animal` and it must have the method `.speak();`. The way the option is written though, it is suggesting that the array is only fill with `Animal` instances that have a `.speak()`, other instances might not have the method. If `Animal` did not have a method `speak()` method then this would not compile or run. ","title":"What is meant by array has been casted to associate the method with the correct child class?","body":"<p>Say <code>Dog</code> has a <code>.speak()</code> method, but <code>Snake</code> doesn't. You could cast an animal from the array to a <code>Dog</code> and use <code>.speak()</code>. Provided the array was only populated with <code>Dog</code> instances.</p>\n<p>Since there is not casting (b) is not correct.</p>\n<p>Option (a) sounds correct because <code>animals[i]</code> returns an <code>Animal</code> and it must have the method <code>.speak();</code>. The way the option is written though, it is suggesting that the array is only fill with <code>Animal</code> instances that have a <code>.speak()</code>, other instances might not have the method. If <code>Animal</code> did not have a method <code>speak()</code> method then this would not compile or run.</p>\n"},{"tags":[],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682518442,"creation_date":1682518442,"answer_id":76111825,"question_id":76111647,"body_markdown":"From my interpretation of the options : \r\n* The (a) option would suggest that only the child class Dog and Snake have a speak() method defined and that the `animals` array contains only Dog or Snake and no Chimpanzee.\r\n\r\n* The (b) option would suggest that the `animals` array contains only instances of the parent class Animal and that those objects are cast during the execution to either Snake Dog or Chimpanzee to use the speak() method of the subclasses.\r\n\r\nBut the phrasing of the two option is weird, and it&#39;s unclear if it&#39;s the intended interpretation for the options.","title":"What is meant by array has been casted to associate the method with the correct child class?","body":"<p>From my interpretation of the options :</p>\n<ul>\n<li><p>The (a) option would suggest that only the child class Dog and Snake have a speak() method defined and that the <code>animals</code> array contains only Dog or Snake and no Chimpanzee.</p>\n</li>\n<li><p>The (b) option would suggest that the <code>animals</code> array contains only instances of the parent class Animal and that those objects are cast during the execution to either Snake Dog or Chimpanzee to use the speak() method of the subclasses.</p>\n</li>\n</ul>\n<p>But the phrasing of the two option is weird, and it's unclear if it's the intended interpretation for the options.</p>\n"}],"owner":{"account_id":28414227,"reputation":21,"user_id":21737217,"display_name":"user21737217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1682520486,"creation_date":1682517342,"question_id":76111647,"body_markdown":"I was practicing for AP comp sci A when I saw the following question:\r\n\r\nAn inheritance hierarchy is as follows:\r\nThe classes Dog, Snake, and Chimpanzee are child classes of the abstract class Animal.\r\nWhat is the best explanation for why the code segment `animals[i].speak();` does not give us an error at run-time, assuming that the following line appears earlier in the code? `Animal[] animals = new Animal[10];`\r\n\r\n\r\n(a) The `animals` array holds only references to Animal objects that have a `speak()` method defined in that child class.\r\n\r\n(b) The `animals` array is cast as the correct child class explicitly so that the `speak()` method is associated with the correct child class.\r\n\r\n(c) The `Animal` class has a method called `speak()` that is inherited and defined by all child classes.\r\n\r\n(d) The `Animal` class is an instantiable class that has its own `speak()` method defined.\r\n\r\n(e) The `Animal` class is a child class of `Dog`, which has a `speak()` method defined.\r\n\r\n\r\nI am confused about options (a) and (b). Can anyone please explain what these options are saying?","title":"What is meant by array has been casted to associate the method with the correct child class?","body":"<p>I was practicing for AP comp sci A when I saw the following question:</p>\n<p>An inheritance hierarchy is as follows:\nThe classes Dog, Snake, and Chimpanzee are child classes of the abstract class Animal.\nWhat is the best explanation for why the code segment <code>animals[i].speak();</code> does not give us an error at run-time, assuming that the following line appears earlier in the code? <code>Animal[] animals = new Animal[10];</code></p>\n<p>(a) The <code>animals</code> array holds only references to Animal objects that have a <code>speak()</code> method defined in that child class.</p>\n<p>(b) The <code>animals</code> array is cast as the correct child class explicitly so that the <code>speak()</code> method is associated with the correct child class.</p>\n<p>(c) The <code>Animal</code> class has a method called <code>speak()</code> that is inherited and defined by all child classes.</p>\n<p>(d) The <code>Animal</code> class is an instantiable class that has its own <code>speak()</code> method defined.</p>\n<p>(e) The <code>Animal</code> class is a child class of <code>Dog</code>, which has a <code>speak()</code> method defined.</p>\n<p>I am confused about options (a) and (b). Can anyone please explain what these options are saying?</p>\n"},{"tags":["java","spring","mongodb","performance","spring-data-mongodb"],"comments":[{"owner":{"account_id":2310423,"reputation":1418,"user_id":2028671,"display_name":"Sachith Dickwella"},"score":0,"creation_date":1512392129,"post_id":47633812,"comment_id":82225273,"body_markdown":"Did you try MongoRepository ?? Refer this [link](https://spring.io/guides/gs/accessing-data-mongodb/) and let me know.","body":"Did you try MongoRepository ?? Refer this <a href=\"https://spring.io/guides/gs/accessing-data-mongodb/\" rel=\"nofollow noreferrer\">link</a> and let me know."},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512395287,"post_id":47633812,"comment_id":82227250,"body_markdown":"Hi @SachithDickwella !\nI&#39;ve try it with the method like that\n\n    _public List&lt;MessageMongo&gt; findByIppAndCodeMesureAndDateMesureBetweenOrderByDateMesureAsc(final String ipp, final String codeMesure,\n                                                                                           final LocalDate dateDebut, final LocalDate dateFin);_\n\n\nBut it&#39;s worse, i&#39;ve got **1,67sec**","body":"Hi @SachithDickwella ! I&#39;ve try it with the method like that      <i>public List&lt;MessageMongo&gt; findByIppAndCodeMesureAndDateMesureBetweenOrderByDateMesureA&zwnj;&#8203;sc(final String ipp, final String codeMesure,                                                                                            final LocalDate dateDebut, final LocalDate dateFin);</i>   But it&#39;s worse, i&#39;ve got <b>1,67sec</b>"},{"owner":{"account_id":3162965,"reputation":656,"user_id":2673549,"display_name":"Sunand Padmanabhan"},"score":0,"creation_date":1512395606,"post_id":47633812,"comment_id":82227503,"body_markdown":"Is it taking time same amount of time if try to call find twice, within a single execution context? Can you enable springframework mongodb logs and paste it here?","body":"Is it taking time same amount of time if try to call find twice, within a single execution context? Can you enable springframework mongodb logs and paste it here?"},{"owner":{"account_id":357200,"reputation":1411,"user_id":697213,"accept_rate":38,"display_name":"TruckDriver"},"score":0,"creation_date":1512397084,"post_id":47633812,"comment_id":82228536,"body_markdown":"What is the resultant query in each case? Is it exactly same??","body":"What is the resultant query in each case? Is it exactly same??"},{"owner":{"account_id":357200,"reputation":1411,"user_id":697213,"accept_rate":38,"display_name":"TruckDriver"},"score":0,"creation_date":1512397164,"post_id":47633812,"comment_id":82228593,"body_markdown":"Maybe it&#39;s taking time in converting the result set to pojo back","body":"Maybe it&#39;s taking time in converting the result set to pojo back"},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512398490,"post_id":47633812,"comment_id":82229369,"body_markdown":"@Timothy\nI passed the same query object, named : &quot;myquery&quot; as you can see. I don&#39;t know what find method is doing, but there is a issue ihmo.\nI&#39;ll try to activate it, but this is a very simple project !\nMy Document contains many attributes (15) but the traditionnal way is really fast and it doesn&#39;t seems to take time.","body":"@Timothy I passed the same query object, named : &quot;myquery&quot; as you can see. I don&#39;t know what find method is doing, but there is a issue ihmo. I&#39;ll try to activate it, but this is a very simple project ! My Document contains many attributes (15) but the traditionnal way is really fast and it doesn&#39;t seems to take time."},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512398895,"post_id":47633812,"comment_id":82229625,"body_markdown":"@SunandPadmanabhan it is taking same time, with twice or more calls. I&#39;ve enable logs, but there are really few logs in spring data mongodb, i copy them in the original post here","body":"@SunandPadmanabhan it is taking same time, with twice or more calls. I&#39;ve enable logs, but there are really few logs in spring data mongodb, i copy them in the original post here"},{"owner":{"account_id":2310423,"reputation":1418,"user_id":2028671,"display_name":"Sachith Dickwella"},"score":0,"creation_date":1512403845,"post_id":47633812,"comment_id":82232976,"body_markdown":"@J&#233;r&#233;mie, Try to add indexes on which you are using columns and try again!","body":"@J&#233;r&#233;mie, Try to add indexes on which you are using columns and try again!"},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512404771,"post_id":47633812,"comment_id":82233565,"body_markdown":"@SachithDickwella as I said, it is not a query problem and indexes are already presents ;-)\nThe same query is passed in the two case, only the find method is really slow.","body":"@SachithDickwella as I said, it is not a query problem and indexes are already presents ;-) The same query is passed in the two case, only the find method is really slow."},{"owner":{"account_id":3162965,"reputation":656,"user_id":2673549,"display_name":"Sunand Padmanabhan"},"score":0,"creation_date":1512410159,"post_id":47633812,"comment_id":82236679,"body_markdown":"From the logs I can see that spring data is issuing 2 queries find and getMore, also from the logs timestamp, value these 2 commands are the one taking majority of time. Whereas using Mongodb driver you are fetching the cursor and directly iterating the results via cursor.","body":"From the logs I can see that spring data is issuing 2 queries find and getMore, also from the logs timestamp, value these 2 commands are the one taking majority of time. Whereas using Mongodb driver you are fetching the cursor and directly iterating the results via cursor."},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512427597,"post_id":47633812,"comment_id":82245111,"body_markdown":"Thanks Sunand. Indeed there are two queries, but results return in less than 100ms\nfirst find : 59,567 to 59,592\nsecond getMore : 59,796 to 59,862\nand then i&#39;ve the majority time spended in ... nowhere :)\n59,862 to 01,213 : so ... 1351 ms :-/\njust in the spring data layers","body":"Thanks Sunand. Indeed there are two queries, but results return in less than 100ms first find : 59,567 to 59,592 second getMore : 59,796 to 59,862 and then i&#39;ve the majority time spended in ... nowhere :) 59,862 to 01,213 : so ... 1351 ms :-/ just in the spring data layers"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1512472736,"post_id":47633812,"comment_id":82262729,"body_markdown":"How many time did you repeat the query? Are you aware of Java needing a few iterations till it runs fast? There&#39;s a lot of code in the framework which needs to be optimized. The first time call is very costly, after a few iterations, the overhead probably becomes negligible. And there&#39;s also classloading....","body":"How many time did you repeat the query? Are you aware of Java needing a few iterations till it runs fast? There&#39;s a lot of code in the framework which needs to be optimized. The first time call is very costly, after a few iterations, the overhead probably becomes negligible. And there&#39;s also classloading...."},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1512481557,"post_id":47633812,"comment_id":82268372,"body_markdown":"Hello @maaartinus ! Thanks for your answer, I &#39;m aware with Java warmup,  but with 100 calls, i&#39;ve the same poor performance with spring data :-(","body":"Hello @maaartinus ! Thanks for your answer, I &#39;m aware with Java warmup,  but with 100 calls, i&#39;ve the same poor performance with spring data :-("},{"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1524043979,"post_id":47633812,"comment_id":86807521,"body_markdown":"Can you please provide a sample project that&#39;s reproducing the difference? It looks like @johannes-rudolph&#39;s answer is the closest thing I can imagine as on 1.x we don&#39;t cache the failure to load a class described in the source document&#39;s `_class` property. I checked 2.0 and the caching for that is in place there. Did you try 2.0 already?","body":"Can you please provide a sample project that&#39;s reproducing the difference? It looks like @johannes-rudolph&#39;s answer is the closest thing I can imagine as on 1.x we don&#39;t cache the failure to load a class described in the source document&#39;s <code>_class</code> property. I checked 2.0 and the caching for that is in place there. Did you try 2.0 already?"},{"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"score":0,"creation_date":1526998546,"post_id":47633812,"comment_id":87953170,"body_markdown":"Hello ! \nSorry, i&#39;ve change office, so i can&#39;t access anymore to this project","body":"Hello !  Sorry, i&#39;ve change office, so i can&#39;t access anymore to this project"}],"answers":[{"tags":[],"owner":{"account_id":42972,"reputation":35428,"user_id":125407,"accept_rate":94,"display_name":"Johannes Rudolph"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518681839,"creation_date":1518681839,"answer_id":48802480,"question_id":47633812,"body_markdown":"I&#39;m not sure if this applies to your exact case but I had a very similar situation with a lot of time being wasted in `ClassUtils.forName()` and `ClassLoader.load()`. \r\n\r\nI&#39;ve inspected the situation under the debugger and the root cause in my case was that the class I was trying to deserialize the document to had been moved to a different package. In this case, Spring Data can&#39;t properly cache type information and issues a slow and expensive `ClassLoader.load()` on the\r\npersisted `_class` field **for each document**!\r\n\r\nOf course, this class load is doomed to fail because it references a class that no longer exists at the location stored int the `_class` field of the document. ","title":"performance issue on Spring Data Mongodb","body":"<p>I'm not sure if this applies to your exact case but I had a very similar situation with a lot of time being wasted in <code>ClassUtils.forName()</code> and <code>ClassLoader.load()</code>. </p>\n\n<p>I've inspected the situation under the debugger and the root cause in my case was that the class I was trying to deserialize the document to had been moved to a different package. In this case, Spring Data can't properly cache type information and issues a slow and expensive <code>ClassLoader.load()</code> on the\npersisted <code>_class</code> field <strong>for each document</strong>!</p>\n\n<p>Of course, this class load is doomed to fail because it references a class that no longer exists at the location stored int the <code>_class</code> field of the document. </p>\n"}],"owner":{"account_id":9936490,"reputation":91,"user_id":7354673,"display_name":"J&#233;r&#233;mie"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6968,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1682520237,"creation_date":1512391800,"question_id":47633812,"body_markdown":"I&#39;ve got an issue on spring data mongodb, in a method, I request a simple &quot;find&quot; which retrieve ~1000 Documents.\r\n\r\nmy spring data code is here:\r\n\r\n    Query myquery = query(where(&quot;ipp&quot;).is(ipp).and(CODE_MESURE).in(codes).and(DATE_MESURE).gte(iDateDebut).lt(iDateFin));\r\n    return template.find(myquery, MessageMongo.class);\r\n\r\nAnd with JProfiler, I&#39;ve got **~1,4sec** in the &quot;find&quot; method of MongoTemplate class.\r\nNote: The request to MongoDB is not the problem, execution take less than 20ms.\r\n[![enter image description here][1]][1]\r\n\r\nBut if try to request the same query with mongo java driver by traditional way:\r\n\r\n    final DBCollection collection = template.getCollection(Constantes.MONGO_COLLECTION_MESSAGES_PARAMETRES_VITAUX);\r\n     final DBCursor cursor = collection.find(myquery.getQueryObject());\r\n    final List&lt;MessageMongo&gt; tab = new ArrayList&lt;&gt;();\r\n     while (cursor.hasNext()) {\r\n      final DBObject d = cursor.next();\r\n      tab.add(new MessageMongo((String) d.get(&quot;origine&quot;), (String) d.get(&quot;appareil&quot;),\r\n          (String) d.get(&quot;chambre&quot;), (String) d.get(&quot;lit&quot;), (String) d.get(&quot;uf&quot;), (String) d.get(&quot;ipp&quot;),\r\n          (String) d.get(&quot;domaineIpp&quot;), (String) d.get(&quot;iep&quot;), (String) d.get(&quot;domaineIep&quot;), (String) d.get(&quot;ej&quot;),\r\n          ((Date) d.get(&quot;dateReception&quot;)).toInstant(), (String) d.get(&quot;codeMesure&quot;),\r\n          (String) d.get(&quot;uniteMesure&quot;), (Double) d.get(&quot;valeurMesure&quot;), ((Date) d.get(&quot;dateMesure&quot;)).toInstant()));\r\n     }\r\n    return tab;\r\n\r\nMy method execute in ~140ms (**10x faster** than mongoTemplate style !)\r\n[![enter image description here][2]][2]\r\nis there a bug in Spring Data Mongo, or I missed something to configure?\r\nI prefer to write with, it is easier to read, but performance is so poor.\r\n\r\nthe Document class:\r\n\r\n    @Document(collection = Constantes.MONGO_COLLECTION_MESSAGES_PARAMETRES_VITAUX)\r\n    public class MessageMongo implements MessageModel {\r\n      @Id\r\n      private String id;\r\n      private final String origine;\r\n      private final String appareil;\r\n      private final String chambre;\r\n      private final String lit;\r\n      private final String uf;\r\n      @Indexed\r\n      private final String ipp;\r\n      private final String domaineIpp;\r\n      private final String iep;\r\n      private final String domaineIep;\r\n      private final String ej;\r\n      private final Instant dateReception;\r\n      @Indexed\r\n      private final String codeMesure;\r\n      private final String uniteMesure;\r\n      private final Double valeurMesure;\r\n      @Indexed\r\n      private final Instant dateMesure;\r\n    . . .\r\n\r\nEDIT: **1,67sec** if I use MongoRepository with the named method: \r\n\r\n    public List&lt;MessageMongo&gt; findByIppAndCodeMesureInAndDateMesureBetween(final String ipp, final List&lt;String&gt; codesMesure, final Instant from, final Instant to);\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nEDIT2:\r\nlogs of spring data:\r\n\r\n    2017/12/04 15:44:59,455 INFO  [nio-8180-exec-4] fr.sib.sillage.biometrie.service.impl.MongoMessageService    : findByIppAndCodesBetweenDate ipp=102828799, codes=[147842], dateDebut=2017-12-02T13:46:59,dateFin=2017-12-03T01:46:59  \r\n    2017/12/04 15:44:59,482 DEBUG [nio-8180-exec-4] o.s.data.mongodb.repository.query.MongoQueryCreator          : Created query Query: { &quot;ipp&quot; : &quot;102828799&quot;, &quot;codeMesure&quot; : { &quot;$in&quot; : [ &quot;147842&quot;]}, &quot;dateMesure&quot; : { &quot;$gt&quot; : { $java : 2017-12-02T12:46:59Z }, &quot;$lt&quot; : { $java : 2017-12-03T00:46:59Z } } }, Fields: null, Sort: null\r\n    2017/12/04 15:44:59,517 DEBUG [nio-8180-exec-4] org.springframework.data.mongodb.core.MongoTemplate          : find using query: { &quot;ipp&quot; : &quot;102828799&quot; , &quot;codeMesure&quot; : { &quot;$in&quot; : [ &quot;147842&quot;]} , &quot;dateMesure&quot; : { &quot;$gt&quot; : { &quot;$date&quot; : &quot;2017-12-02T12:46:59.000Z&quot;} , &quot;$lt&quot; : { &quot;$date&quot; : &quot;2017-12-03T00:46:59.000Z&quot;}}} fields: null for class: class fr.sib.sillage.biometrie.model.MessageMongo in collection: parametresVitaux\r\n    2017/12/04 15:44:59,517 DEBUG [nio-8180-exec-4] org.springframework.data.mongodb.core.MongoDbUtils           : Getting Mongo Database name=[LilleNoSQLDatabase]\r\n    2017/12/04 15:44:59,567 INFO  [nio-8180-exec-4] org.mongodb.driver.connection                                : Opened connection [connectionId{localValue:6, serverValue:3003}] to hades:27017\r\n    2017/12/04 15:44:59,567 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Sending command {find : BsonString{value=&#39;parametresVitaux&#39;}} to database LilleNoSQLDatabase on connection [connectionId{localValue:6, serverValue:3003}] to server hades:27017\r\n    2017/12/04 15:44:59,592 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Command execution completed\r\n    2017/12/04 15:44:59,796 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Sending command {getMore : BsonInt64{value=63695089133}} to database LilleNoSQLDatabase on connection [connectionId{localValue:5, serverValue:3004}] to server hades:27017\r\n    2017/12/04 15:44:59,862 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Command execution completed\r\n    2017/12/04 15:45:01,213 INFO  [nio-8180-exec-4] fr.sib.sillage.biometrie.service.impl.MongoMessageService    : findByIppAndCodesBetweenDate size=1281\r\n\r\n\r\nEDIT 3:  \r\nI&#39;ve expand the call Tree with org.springframework in full view in JProfiler, so I can view what&#39;s wrong with Spring Data MongoDB,\r\nand here is the majority of time spent:\r\n[![enter image description here][4]][4]\r\n**2,5 sec total** with\r\n\r\n - 1,290 calls of   \r\n   org.springframework.data.convert.DefaultTypeMapper.readType (1,462   \r\n   ms)\r\n   \r\n - 1,290 calls of\r\n   org.springframework.data.mongodb.core.convert.MappingMongoConverter.read\r\n   (1,026 ms)\r\n\r\nAnd what&#39;s the composition of two methods : \r\nA majority of Class.forName (erk !) in the first readType\r\n[![enter image description here][5]][5]\r\n\r\nAnd it&#39;s less clear on the second call to MappingMongoConverter.read\r\n[![enter image description here][6]][6]\r\n\r\nI hope it will be easier to find the issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wo9vB.png\r\n  [2]: https://i.stack.imgur.com/KclyX.png\r\n  [3]: https://i.stack.imgur.com/YlzdT.png\r\n  [4]: https://i.stack.imgur.com/31sHi.png\r\n  [5]: https://i.stack.imgur.com/YqcuV.png\r\n  [6]: https://i.stack.imgur.com/53rQR.png","title":"performance issue on Spring Data Mongodb","body":"<p>I've got an issue on spring data mongodb, in a method, I request a simple &quot;find&quot; which retrieve ~1000 Documents.</p>\n<p>my spring data code is here:</p>\n<pre><code>Query myquery = query(where(&quot;ipp&quot;).is(ipp).and(CODE_MESURE).in(codes).and(DATE_MESURE).gte(iDateDebut).lt(iDateFin));\nreturn template.find(myquery, MessageMongo.class);\n</code></pre>\n<p>And with JProfiler, I've got <strong>~1,4sec</strong> in the &quot;find&quot; method of MongoTemplate class.\nNote: The request to MongoDB is not the problem, execution take less than 20ms.\n<a href=\"https://i.stack.imgur.com/wo9vB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wo9vB.png\" alt=\"enter image description here\" /></a></p>\n<p>But if try to request the same query with mongo java driver by traditional way:</p>\n<pre><code>final DBCollection collection = template.getCollection(Constantes.MONGO_COLLECTION_MESSAGES_PARAMETRES_VITAUX);\n final DBCursor cursor = collection.find(myquery.getQueryObject());\nfinal List&lt;MessageMongo&gt; tab = new ArrayList&lt;&gt;();\n while (cursor.hasNext()) {\n  final DBObject d = cursor.next();\n  tab.add(new MessageMongo((String) d.get(&quot;origine&quot;), (String) d.get(&quot;appareil&quot;),\n      (String) d.get(&quot;chambre&quot;), (String) d.get(&quot;lit&quot;), (String) d.get(&quot;uf&quot;), (String) d.get(&quot;ipp&quot;),\n      (String) d.get(&quot;domaineIpp&quot;), (String) d.get(&quot;iep&quot;), (String) d.get(&quot;domaineIep&quot;), (String) d.get(&quot;ej&quot;),\n      ((Date) d.get(&quot;dateReception&quot;)).toInstant(), (String) d.get(&quot;codeMesure&quot;),\n      (String) d.get(&quot;uniteMesure&quot;), (Double) d.get(&quot;valeurMesure&quot;), ((Date) d.get(&quot;dateMesure&quot;)).toInstant()));\n }\nreturn tab;\n</code></pre>\n<p>My method execute in ~140ms (<strong>10x faster</strong> than mongoTemplate style !)\n<a href=\"https://i.stack.imgur.com/KclyX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KclyX.png\" alt=\"enter image description here\" /></a>\nis there a bug in Spring Data Mongo, or I missed something to configure?\nI prefer to write with, it is easier to read, but performance is so poor.</p>\n<p>the Document class:</p>\n<pre><code>@Document(collection = Constantes.MONGO_COLLECTION_MESSAGES_PARAMETRES_VITAUX)\npublic class MessageMongo implements MessageModel {\n  @Id\n  private String id;\n  private final String origine;\n  private final String appareil;\n  private final String chambre;\n  private final String lit;\n  private final String uf;\n  @Indexed\n  private final String ipp;\n  private final String domaineIpp;\n  private final String iep;\n  private final String domaineIep;\n  private final String ej;\n  private final Instant dateReception;\n  @Indexed\n  private final String codeMesure;\n  private final String uniteMesure;\n  private final Double valeurMesure;\n  @Indexed\n  private final Instant dateMesure;\n. . .\n</code></pre>\n<p>EDIT: <strong>1,67sec</strong> if I use MongoRepository with the named method:</p>\n<pre><code>public List&lt;MessageMongo&gt; findByIppAndCodeMesureInAndDateMesureBetween(final String ipp, final List&lt;String&gt; codesMesure, final Instant from, final Instant to);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YlzdT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YlzdT.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT2:\nlogs of spring data:</p>\n<pre><code>2017/12/04 15:44:59,455 INFO  [nio-8180-exec-4] fr.sib.sillage.biometrie.service.impl.MongoMessageService    : findByIppAndCodesBetweenDate ipp=102828799, codes=[147842], dateDebut=2017-12-02T13:46:59,dateFin=2017-12-03T01:46:59  \n2017/12/04 15:44:59,482 DEBUG [nio-8180-exec-4] o.s.data.mongodb.repository.query.MongoQueryCreator          : Created query Query: { &quot;ipp&quot; : &quot;102828799&quot;, &quot;codeMesure&quot; : { &quot;$in&quot; : [ &quot;147842&quot;]}, &quot;dateMesure&quot; : { &quot;$gt&quot; : { $java : 2017-12-02T12:46:59Z }, &quot;$lt&quot; : { $java : 2017-12-03T00:46:59Z } } }, Fields: null, Sort: null\n2017/12/04 15:44:59,517 DEBUG [nio-8180-exec-4] org.springframework.data.mongodb.core.MongoTemplate          : find using query: { &quot;ipp&quot; : &quot;102828799&quot; , &quot;codeMesure&quot; : { &quot;$in&quot; : [ &quot;147842&quot;]} , &quot;dateMesure&quot; : { &quot;$gt&quot; : { &quot;$date&quot; : &quot;2017-12-02T12:46:59.000Z&quot;} , &quot;$lt&quot; : { &quot;$date&quot; : &quot;2017-12-03T00:46:59.000Z&quot;}}} fields: null for class: class fr.sib.sillage.biometrie.model.MessageMongo in collection: parametresVitaux\n2017/12/04 15:44:59,517 DEBUG [nio-8180-exec-4] org.springframework.data.mongodb.core.MongoDbUtils           : Getting Mongo Database name=[LilleNoSQLDatabase]\n2017/12/04 15:44:59,567 INFO  [nio-8180-exec-4] org.mongodb.driver.connection                                : Opened connection [connectionId{localValue:6, serverValue:3003}] to hades:27017\n2017/12/04 15:44:59,567 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Sending command {find : BsonString{value='parametresVitaux'}} to database LilleNoSQLDatabase on connection [connectionId{localValue:6, serverValue:3003}] to server hades:27017\n2017/12/04 15:44:59,592 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Command execution completed\n2017/12/04 15:44:59,796 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Sending command {getMore : BsonInt64{value=63695089133}} to database LilleNoSQLDatabase on connection [connectionId{localValue:5, serverValue:3004}] to server hades:27017\n2017/12/04 15:44:59,862 DEBUG [nio-8180-exec-4] org.mongodb.driver.protocol.command                          : Command execution completed\n2017/12/04 15:45:01,213 INFO  [nio-8180-exec-4] fr.sib.sillage.biometrie.service.impl.MongoMessageService    : findByIppAndCodesBetweenDate size=1281\n</code></pre>\n<p>EDIT 3:<br />\nI've expand the call Tree with org.springframework in full view in JProfiler, so I can view what's wrong with Spring Data MongoDB,\nand here is the majority of time spent:\n<a href=\"https://i.stack.imgur.com/31sHi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31sHi.png\" alt=\"enter image description here\" /></a>\n<strong>2,5 sec total</strong> with</p>\n<ul>\n<li><p>1,290 calls of<br />\norg.springframework.data.convert.DefaultTypeMapper.readType (1,462<br />\nms)</p>\n</li>\n<li><p>1,290 calls of\norg.springframework.data.mongodb.core.convert.MappingMongoConverter.read\n(1,026 ms)</p>\n</li>\n</ul>\n<p>And what's the composition of two methods :\nA majority of Class.forName (erk !) in the first readType\n<a href=\"https://i.stack.imgur.com/YqcuV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YqcuV.png\" alt=\"enter image description here\" /></a></p>\n<p>And it's less clear on the second call to MappingMongoConverter.read\n<a href=\"https://i.stack.imgur.com/53rQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53rQR.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope it will be easier to find the issue.</p>\n"},{"tags":["javascript","java","node.js","mongodb","web-crawler"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1682320244,"post_id":76089179,"comment_id":134190450,"body_markdown":"If want to standardize them before writing to MongoDB, then your application should handle that, if the data is already written to the DB, then you can write an aggregation pipeline","body":"If want to standardize them before writing to MongoDB, then your application should handle that, if the data is already written to the DB, then you can write an aggregation pipeline"},{"owner":{"account_id":3210922,"reputation":69,"user_id":2710961,"accept_rate":56,"display_name":"user2710961"},"score":0,"creation_date":1682324973,"post_id":76089179,"comment_id":134191373,"body_markdown":"Thanks @CharchitKapoor. That would be great help if you can further explain on how to do it with aggregation pipeline for the given data or what would be the logic for doing it at application end.","body":"Thanks @CharchitKapoor. That would be great help if you can further explain on how to do it with aggregation pipeline for the given data or what would be the logic for doing it at application end."}],"answers":[{"tags":[],"owner":{"account_id":223209,"reputation":333,"user_id":482261,"accept_rate":67,"display_name":"Harinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682520229,"creation_date":1682459192,"answer_id":76105672,"question_id":76089179,"body_markdown":"Typically you want to standardize the data before it ends up in your data store (MongoDB for you). \r\n\r\nYou don&#39;t specify which crawler you are currently using, but with [Norconex Web Crawler](https://opensource.norconex.com/crawlers/web/), there are a few options available to you. I&#39;m listing them here in order of complexity.\r\n\r\n1. [ReplaceTagger](https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/ReplaceTagger.html). \r\nThe following example replaces occurrences of &quot;Thousand&quot; with &quot;000&quot; in the &quot;amount&quot; field. \r\n```\r\n&lt;handler class=&quot;ReplaceTagger&quot;&gt;\r\n  &lt;replace&gt;\r\n    &lt;fieldMatcher&gt;amount&lt;/fieldMatcher&gt;\r\n    &lt;valueMatcher replaceAll=&quot;true&quot;&gt;\r\n      Thousand\r\n    &lt;/valueMatcher&gt;\r\n    &lt;toValue&gt;000&lt;/toValue&gt;\r\n  &lt;/replace&gt;\r\n&lt;/handler&gt;\r\n```\r\nYou can add multiple `&lt;replace&gt;` tags. \r\n\r\n2.[RegexTagger](https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/RegexTagger.html).  \r\n```\r\n&lt;handler class=&quot;RegexTagger&quot;&gt;\r\n  &lt;pattern toField=&quot;emails&quot;&gt;\r\n    [A-Za-z0-9+_.-]+?@[a-zA-Z0-9.-]+\r\n  &lt;/pattern&gt;\r\n  &lt;pattern\r\n      fieldGroup=&quot;1&quot;\r\n      valueGroup=&quot;2&quot;&gt;\r\n    &lt;![CDATA[\r\n     &lt;tr&gt;&lt;td class=&quot;label&quot;&gt;(.*?)&lt;/td&gt;&lt;td class=&quot;value&quot;&gt;(.*?)&lt;/td&gt;&lt;/tr&gt;\r\n   ]]&gt;\r\n  &lt;/pattern&gt;\r\n&lt;/handler&gt;\r\n```\r\nThe first pattern in the above example extracts what look like email addresses in to an &quot;email&quot; field (simplified regex). The second pattern extracts field names and values from &quot;label&quot; and &quot;value&quot; cells on a given HTML table.\r\n\r\nFor more complex use cases, you can provide your own script.\r\n\r\n3. [ScriptTagger](https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/ScriptTagger.html)\r\nThe following example replaces occurrences of `Thousand` with `000` in the `amount` field. \r\n```\r\n&lt;handler class=&quot;ScriptTagger&quot;&gt;\r\n  &lt;script&gt;\r\n\t&lt;![CDATA[\r\n\t  amount = metadata.getString(&#39;amount&#39;, &#39;a default value&#39;).replace(/Thousand/g, &#39;000&#39;);\r\n\t  metadata.set(&#39;amount&#39;, amount);\r\n \t]]&gt;\r\n  &lt;/script&gt;\r\n&lt;/handler&gt;\r\n```\r\n\r\n4. If there is a need to modify the entire document as you see fit, there is the [ScriptTransformer](https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/transformer/impl/ScriptTransformer.html). It works in a similar fashion as `ScriptTagger`, just that it allows you to modify the document content as well.\r\n\r\nDisclaimer: I work for Norconex.","title":"Data crawled has different units used for same data/field. How to standardize the units before writing them into the DB","body":"<p>Typically you want to standardize the data before it ends up in your data store (MongoDB for you).</p>\n<p>You don't specify which crawler you are currently using, but with <a href=\"https://opensource.norconex.com/crawlers/web/\" rel=\"nofollow noreferrer\">Norconex Web Crawler</a>, there are a few options available to you. I'm listing them here in order of complexity.</p>\n<ol>\n<li><a href=\"https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/ReplaceTagger.html\" rel=\"nofollow noreferrer\">ReplaceTagger</a>.\nThe following example replaces occurrences of &quot;Thousand&quot; with &quot;000&quot; in the &quot;amount&quot; field.</li>\n</ol>\n<pre><code>&lt;handler class=&quot;ReplaceTagger&quot;&gt;\n  &lt;replace&gt;\n    &lt;fieldMatcher&gt;amount&lt;/fieldMatcher&gt;\n    &lt;valueMatcher replaceAll=&quot;true&quot;&gt;\n      Thousand\n    &lt;/valueMatcher&gt;\n    &lt;toValue&gt;000&lt;/toValue&gt;\n  &lt;/replace&gt;\n&lt;/handler&gt;\n</code></pre>\n<p>You can add multiple <code>&lt;replace&gt;</code> tags.</p>\n<p>2.<a href=\"https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/RegexTagger.html\" rel=\"nofollow noreferrer\">RegexTagger</a>.</p>\n<pre><code>&lt;handler class=&quot;RegexTagger&quot;&gt;\n  &lt;pattern toField=&quot;emails&quot;&gt;\n    [A-Za-z0-9+_.-]+?@[a-zA-Z0-9.-]+\n  &lt;/pattern&gt;\n  &lt;pattern\n      fieldGroup=&quot;1&quot;\n      valueGroup=&quot;2&quot;&gt;\n    &lt;![CDATA[\n     &lt;tr&gt;&lt;td class=&quot;label&quot;&gt;(.*?)&lt;/td&gt;&lt;td class=&quot;value&quot;&gt;(.*?)&lt;/td&gt;&lt;/tr&gt;\n   ]]&gt;\n  &lt;/pattern&gt;\n&lt;/handler&gt;\n</code></pre>\n<p>The first pattern in the above example extracts what look like email addresses in to an &quot;email&quot; field (simplified regex). The second pattern extracts field names and values from &quot;label&quot; and &quot;value&quot; cells on a given HTML table.</p>\n<p>For more complex use cases, you can provide your own script.</p>\n<ol start=\"3\">\n<li><a href=\"https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/tagger/impl/ScriptTagger.html\" rel=\"nofollow noreferrer\">ScriptTagger</a>\nThe following example replaces occurrences of <code>Thousand</code> with <code>000</code> in the <code>amount</code> field.</li>\n</ol>\n<pre><code>&lt;handler class=&quot;ScriptTagger&quot;&gt;\n  &lt;script&gt;\n    &lt;![CDATA[\n      amount = metadata.getString('amount', 'a default value').replace(/Thousand/g, '000');\n      metadata.set('amount', amount);\n    ]]&gt;\n  &lt;/script&gt;\n&lt;/handler&gt;\n</code></pre>\n<ol start=\"4\">\n<li>If there is a need to modify the entire document as you see fit, there is the <a href=\"https://opensource.norconex.com/importer/v3/apidocs/com/norconex/importer/handler/transformer/impl/ScriptTransformer.html\" rel=\"nofollow noreferrer\">ScriptTransformer</a>. It works in a similar fashion as <code>ScriptTagger</code>, just that it allows you to modify the document content as well.</li>\n</ol>\n<p>Disclaimer: I work for Norconex.</p>\n"}],"owner":{"account_id":3210922,"reputation":69,"user_id":2710961,"accept_rate":56,"display_name":"user2710961"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682520229,"creation_date":1682318485,"question_id":76089179,"body_markdown":"I am crawling the data from some websites which has some fields like *&quot;amount&quot;*, *&quot;weight&quot;* etc. \r\n\r\nFor *&quot;amount&quot;* field the values I am getting are like:\r\n````&quot;$ 75 Thousand&quot;, &quot;$ 1.2 Lakh&quot;, &quot;$ 1500&quot; etc.````\r\nAnd similarly for *&quot;weight&quot;* the values are like:\r\n````&quot;15 Kg&quot;, &quot;25 Kgs&quot;, &quot;600 gm&quot;, &quot;15,000 gm&quot; etc.````\r\n\r\nHow to standardize all these values to a same unit before writing them to the DB?\r\nAnd also if I want to convert these values to a number instead of string after standardizing the unit, how to do that?\r\n\r\nI am using MongoDB as a datastore. Does MongoDB have any inbuilt option for this?","title":"Data crawled has different units used for same data/field. How to standardize the units before writing them into the DB","body":"<p>I am crawling the data from some websites which has some fields like <em>&quot;amount&quot;</em>, <em>&quot;weight&quot;</em> etc.</p>\n<p>For <em>&quot;amount&quot;</em> field the values I am getting are like:\n<code>&quot;$ 75 Thousand&quot;, &quot;$ 1.2 Lakh&quot;, &quot;$ 1500&quot; etc.</code>\nAnd similarly for <em>&quot;weight&quot;</em> the values are like:\n<code>&quot;15 Kg&quot;, &quot;25 Kgs&quot;, &quot;600 gm&quot;, &quot;15,000 gm&quot; etc.</code></p>\n<p>How to standardize all these values to a same unit before writing them to the DB?\nAnd also if I want to convert these values to a number instead of string after standardizing the unit, how to do that?</p>\n<p>I am using MongoDB as a datastore. Does MongoDB have any inbuilt option for this?</p>\n"},{"tags":["java","angular","angular-material","angular-ui-router"],"owner":{"account_id":18476803,"reputation":49,"user_id":13460112,"display_name":"sourav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682520085,"creation_date":1682520085,"question_id":76112095,"body_markdown":"I have a sidenav with 3 list elements. one of the route will be opened in the angular app and rest 2 routes will be opened on a new browser window.\r\n\r\nAngular router is working for the route opened with in the app. But angular router is not able to highlight the current route for the external windows.\r\n\r\n","title":"Angular routerLinkActive not working when we open a route on a new window","body":"<p>I have a sidenav with 3 list elements. one of the route will be opened in the angular app and rest 2 routes will be opened on a new browser window.</p>\n<p>Angular router is working for the route opened with in the app. But angular router is not able to highlight the current route for the external windows.</p>\n"},{"tags":["java","android","maven","jcenter","jitpack"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1622270705,"post_id":67748512,"comment_id":119749279,"body_markdown":"There is an [open issue on the project&#39;s github about repositories](https://github.com/BelooS/ChipsLayoutManager/issues/69), just download and build the source yourself.","body":"There is an <a href=\"https://github.com/BelooS/ChipsLayoutManager/issues/69\" rel=\"nofollow noreferrer\">open issue on the project&#39;s github about repositories</a>, just download and build the source yourself."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622270668,"creation_date":1622270668,"answer_id":67748547,"question_id":67748512,"body_markdown":"If its not uploaded to Maven Central, then you can&#39;t get it from Maven Central.  These are file repositiories, they have to have the file to give it to you.  Use jcenter, download the code of the library and build it a as a local library, or find another library with similar functionality.","title":"Could not find com.beloo.widget:ChipsLayoutManager:0.3.7","body":"<p>If its not uploaded to Maven Central, then you can't get it from Maven Central.  These are file repositiories, they have to have the file to give it to you.  Use jcenter, download the code of the library and build it a as a local library, or find another library with similar functionality.</p>\n"},{"tags":[],"owner":{"account_id":345151,"reputation":6511,"user_id":1811719,"accept_rate":78,"display_name":"Stan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682520052,"creation_date":1682520052,"answer_id":76112091,"question_id":67748512,"body_markdown":"[It could be found at JitPack.io][1] (You can try to search for any lib there.)  \r\nyou should declare it as following:\r\n\r\n    implementation &#39;com.github.BelooS:ChipsLayoutManager:v0.3.7&#39;\r\n\r\n\r\n\r\n  [1]: https://jitpack.io/#BelooS/ChipsLayoutManager/v0.3.7","title":"Could not find com.beloo.widget:ChipsLayoutManager:0.3.7","body":"<p><a href=\"https://jitpack.io/#BelooS/ChipsLayoutManager/v0.3.7\" rel=\"nofollow noreferrer\">It could be found at JitPack.io</a> (You can try to search for any lib there.)<br />\nyou should declare it as following:</p>\n<pre><code>implementation 'com.github.BelooS:ChipsLayoutManager:v0.3.7'\n</code></pre>\n"}],"owner":{"account_id":18950319,"reputation":180,"user_id":13828186,"display_name":"Gaurav Dureja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682520052,"creation_date":1622270476,"question_id":67748512,"body_markdown":"I am using repositories mavenCentral() because jcenter() is deprecated. I want to implement com.beloo.widget:ChipsLayoutManager:0.3.7. But this is uploaded on jcenter().\r\n\r\nAny Solutions to use com.beloo.widget:ChipsLayoutManager:0.3.7 in mavenCentral()\r\n````\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n````\r\n\r\n````\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    implementation &#39;com.github.pchmn:MaterialChipsInput:1.0.8&#39;\r\n    implementation &#39;com.beloo.widget:ChipsLayoutManager:0.3.7&#39;\r\n\r\n}\r\n````\r\n\r\nError:\r\n\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.beloo.widget:ChipsLayoutManager:0.3.7.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\r\n       - https://repo.maven.apache.org/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\r\n       - https://jitpack.io/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\r\n     Required by:\r\n         project :app\r\n         project :app &gt; com.github.pchmn:MaterialChipsInput:1.0.8\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html","title":"Could not find com.beloo.widget:ChipsLayoutManager:0.3.7","body":"<p>I am using repositories mavenCentral() because jcenter() is deprecated. I want to implement com.beloo.widget:ChipsLayoutManager:0.3.7. But this is uploaded on jcenter().</p>\n<p>Any Solutions to use com.beloo.widget:ChipsLayoutManager:0.3.7 in mavenCentral()</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n</code></pre>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.github.pchmn:MaterialChipsInput:1.0.8'\n    implementation 'com.beloo.widget:ChipsLayoutManager:0.3.7'\n\n}\n</code></pre>\n<p>Error:</p>\n<p>Execution failed for task ':app:checkDebugAarMetadata'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not find com.beloo.widget:ChipsLayoutManager:0.3.7.\nSearched in the following locations:\n- <a href=\"https://dl.google.com/dl/android/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom</a>\n- <a href=\"https://repo.maven.apache.org/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom</a>\n- <a href=\"https://jitpack.io/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom\" rel=\"nofollow noreferrer\">https://jitpack.io/com/beloo/widget/ChipsLayoutManager/0.3.7/ChipsLayoutManager-0.3.7.pom</a>\nRequired by:\nproject :app\nproject :app &gt; com.github.pchmn:MaterialChipsInput:1.0.8</p>\n</blockquote>\n<p>Possible solution:</p>\n<ul>\n<li>Declare repository providing the artifact, see the documentation at <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html</a></li>\n</ul>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682516929,"post_id":76110285,"comment_id":134228571,"body_markdown":"If your Maven dependency is using the newer **Jakarta** JAXB library, then your code cannot use the older **javax** classes. Your code should not even compile. I would expect to see `jakarta.xml.bind.annotation.*` and not `javax.xml.bind.annotation.*`. (Also, what is `NamespaceMapper`?). Can you provide a [mre] which can easily be copied and run?","body":"If your Maven dependency is using the newer <b>Jakarta</b> JAXB library, then your code cannot use the older <b>javax</b> classes. Your code should not even compile. I would expect to see <code>jakarta.xml.bind.annotation.*</code> and not <code>javax.xml.bind.annotation.*</code>. (Also, what is <code>NamespaceMapper</code>?). Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which can easily be copied and run?"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682519970,"creation_date":1682519970,"answer_id":76112073,"question_id":76110285,"body_markdown":"Here is an approach using recent `jakarta` libraries (as opposed to the older `javax` libraries):\r\n\r\nIn the POM, I use these dependencies:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nTo access both the `DateTimeString` element value and the `format` attribute value, you need an additional class to model the XML nested structure.\r\n\r\nClass `DateTimeString`:\r\n\r\n```java\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlAttribute;\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlValue;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;DateTimeString&quot;)\r\npublic class DateTimeString {\r\n\r\n    @XmlValue\r\n    protected int value;\r\n    @XmlAttribute(name = &quot;format&quot;)\r\n    protected Byte format;\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public Byte getFormat() {\r\n        return format;\r\n    }\r\n\r\n    public void setFormat(Byte value) {\r\n        this.format = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DateTimeString{&quot;\r\n                + &quot;format=&quot; + format + &quot; value=&quot; + value\r\n                + &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe above code shows what I referred to in my comments in the question: the change from `javax` to `jakarta` for all the import statements.\r\n\r\n(You may want to improve my `toString` format.)\r\n\r\nTo use this new class, I also changed the `IssueDateTime` class to refer to this class - so, for example, I changed this:\r\n\r\n    private String dateTimeString;\r\n\r\nto this:\r\n\r\n    private DateTimeString dateTimeString;\r\n\r\n...and so on.\r\n\r\n---\r\n\r\nUnmarshalling code:\r\n\r\n```java\r\nJAXBContext jc = JAXBContext.newInstance(CrossIndustryInvoice.class);\r\nUnmarshaller unmarshaller = jc.createUnmarshaller();\r\nFile xml = new File(&quot;CrossIndustryInvoice.xml&quot;);\r\n\r\nCrossIndustryInvoice cii = (CrossIndustryInvoice) unmarshaller.unmarshal(xml);\r\nSystem.out.println(cii);\r\n```\r\n\r\nMy output from my modified `toString` methods:\r\n\r\n```\r\nCrossIndustryInvoice{issueDateTime=IssueDateTime{dateTimeString=DateTimeString{format=102 value=20230101}}}\r\n```\r\n\r\n---\r\n\r\n**Background**\r\n\r\nIf you are not familiar with the `javax` migration to `jakarta` situation, see here for an overview: [Transition from Java EE to Jakarta EE](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee)","title":"canno&#39;t read xml attribute using jaxb","body":"<p>Here is an approach using recent <code>jakarta</code> libraries (as opposed to the older <code>javax</code> libraries):</p>\n<p>In the POM, I use these dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>To access both the <code>DateTimeString</code> element value and the <code>format</code> attribute value, you need an additional class to model the XML nested structure.</p>\n<p>Class <code>DateTimeString</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlValue;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;DateTimeString&quot;)\npublic class DateTimeString {\n\n    @XmlValue\n    protected int value;\n    @XmlAttribute(name = &quot;format&quot;)\n    protected Byte format;\n\n    public int getValue() {\n        return value;\n    }\n\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public Byte getFormat() {\n        return format;\n    }\n\n    public void setFormat(Byte value) {\n        this.format = value;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DateTimeString{&quot;\n                + &quot;format=&quot; + format + &quot; value=&quot; + value\n                + '}';\n    }\n\n}\n</code></pre>\n<p>The above code shows what I referred to in my comments in the question: the change from <code>javax</code> to <code>jakarta</code> for all the import statements.</p>\n<p>(You may want to improve my <code>toString</code> format.)</p>\n<p>To use this new class, I also changed the <code>IssueDateTime</code> class to refer to this class - so, for example, I changed this:</p>\n<pre><code>private String dateTimeString;\n</code></pre>\n<p>to this:</p>\n<pre><code>private DateTimeString dateTimeString;\n</code></pre>\n<p>...and so on.</p>\n<hr />\n<p>Unmarshalling code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JAXBContext jc = JAXBContext.newInstance(CrossIndustryInvoice.class);\nUnmarshaller unmarshaller = jc.createUnmarshaller();\nFile xml = new File(&quot;CrossIndustryInvoice.xml&quot;);\n\nCrossIndustryInvoice cii = (CrossIndustryInvoice) unmarshaller.unmarshal(xml);\nSystem.out.println(cii);\n</code></pre>\n<p>My output from my modified <code>toString</code> methods:</p>\n<pre><code>CrossIndustryInvoice{issueDateTime=IssueDateTime{dateTimeString=DateTimeString{format=102 value=20230101}}}\n</code></pre>\n<hr />\n<p><strong>Background</strong></p>\n<p>If you are not familiar with the <code>javax</code> migration to <code>jakarta</code> situation, see here for an overview: <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">Transition from Java EE to Jakarta EE</a></p>\n"}],"owner":{"account_id":15589290,"reputation":63,"user_id":11246856,"display_name":"medi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76112073,"answer_count":1,"score":0,"last_activity_date":1682519970,"creation_date":1682509183,"question_id":76110285,"body_markdown":"i have this xml file \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n    &lt;rsm:CrossIndustryInvoice xmlns:ram=&quot;urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:100&quot; xmlns:rsm=&quot;urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:100&quot; xmlns:udt=&quot;urn:un:unece:uncefact:data:standard:UnqualifiedDataType:100&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;ram:IssueDateTime&gt;\r\n        &lt;udt:DateTimeString format=&quot;102&quot;&gt;20230101&lt;/udt:DateTimeString&gt;\r\n    &lt;/ram:IssueDateTime&gt;\r\n    &lt;/rsm:CrossIndustryInvoice&gt;\r\ni created the CrossIndustryInvoice class :\r\n\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    @XmlRootElement(name = &quot;CrossIndustryInvoice&quot;, namespace = NamespaceMapper.RSM_URI)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class CrossIndustryInvoice {\r\n        @XmlElement(name = &quot;IssueDateTime&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private IssueDateTime issueDateTime;\r\n    \r\n        public IssueDateTime getIssueDateTime() {\r\n            return issueDateTime;\r\n        }\r\n    \r\n        public void setIssueDateTime(IssueDateTime issueDateTime) {\r\n            this.issueDateTime = issueDateTime;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;CrossIndustryInvoice{&quot; +\r\n                    &quot;issueDateTime=&quot; + issueDateTime +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\nand the IssueDateTime\r\n   \r\n\r\n     import javax.xml.bind.annotation.*;\r\n    \r\n    \r\n    @XmlRootElement(name = &quot;IssueDateTime&quot;, namespace = NamespaceMapper.RAM_URI)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class IssueDateTime {\r\n    \r\n       \r\n    \r\n        @XmlElement(name = &quot;DateTimeString&quot;, namespace = NamespaceMapper.UDT_URI)\r\n        private String dateTimeString;\r\n    \r\n        @XmlAttribute(name = &quot;format&quot;)\r\n        private String format;\r\n    \r\n        public String getDateTimeString() {\r\n            return dateTimeString;\r\n        }\r\n    \r\n        public void setDateTimeString(String dateTimeString) {\r\n            this.dateTimeString = dateTimeString;\r\n        }\r\n    \r\n        public String getFormat() {\r\n            return format;\r\n        }\r\n    \r\n        public void setFormat(String format) {\r\n            this.format = format;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;IssueDateTime{&quot; +\r\n                    &quot;dateTimeString=&#39;&quot; + dateTimeString + &#39;\\&#39;&#39; +\r\n                    &quot;, format=&#39;&quot; + format + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nwhen i tried to unmarshal the format attribute is always null.\r\ni&#39;ve tried to change the @XmlAttribute over the setter and getter method but it generate the following exception : \r\n\r\ncom.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\nThe class has two properties of the same name (&quot;format&quot;)\r\nthe maven dependency is the following : \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;","title":"canno&#39;t read xml attribute using jaxb","body":"<p>i have this xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;rsm:CrossIndustryInvoice xmlns:ram=&quot;urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:100&quot; xmlns:rsm=&quot;urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:100&quot; xmlns:udt=&quot;urn:un:unece:uncefact:data:standard:UnqualifiedDataType:100&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n&lt;ram:IssueDateTime&gt;\n    &lt;udt:DateTimeString format=&quot;102&quot;&gt;20230101&lt;/udt:DateTimeString&gt;\n&lt;/ram:IssueDateTime&gt;\n&lt;/rsm:CrossIndustryInvoice&gt;\n</code></pre>\n<p>i created the CrossIndustryInvoice class :</p>\n<pre><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n@XmlRootElement(name = &quot;CrossIndustryInvoice&quot;, namespace = NamespaceMapper.RSM_URI)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class CrossIndustryInvoice {\n    @XmlElement(name = &quot;IssueDateTime&quot;, namespace = NamespaceMapper.RAM_URI)\n    private IssueDateTime issueDateTime;\n\n    public IssueDateTime getIssueDateTime() {\n        return issueDateTime;\n    }\n\n    public void setIssueDateTime(IssueDateTime issueDateTime) {\n        this.issueDateTime = issueDateTime;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;CrossIndustryInvoice{&quot; +\n                &quot;issueDateTime=&quot; + issueDateTime +\n                '}';\n    }\n}\n</code></pre>\n<p>and the IssueDateTime</p>\n<pre><code> import javax.xml.bind.annotation.*;\n\n\n@XmlRootElement(name = &quot;IssueDateTime&quot;, namespace = NamespaceMapper.RAM_URI)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class IssueDateTime {\n\n   \n\n    @XmlElement(name = &quot;DateTimeString&quot;, namespace = NamespaceMapper.UDT_URI)\n    private String dateTimeString;\n\n    @XmlAttribute(name = &quot;format&quot;)\n    private String format;\n\n    public String getDateTimeString() {\n        return dateTimeString;\n    }\n\n    public void setDateTimeString(String dateTimeString) {\n        this.dateTimeString = dateTimeString;\n    }\n\n    public String getFormat() {\n        return format;\n    }\n\n    public void setFormat(String format) {\n        this.format = format;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;IssueDateTime{&quot; +\n                &quot;dateTimeString='&quot; + dateTimeString + '\\'' +\n                &quot;, format='&quot; + format + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>when i tried to unmarshal the format attribute is always null.\ni've tried to change the @XmlAttribute over the setter and getter method but it generate the following exception :</p>\n<p>com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nThe class has two properties of the same name (&quot;format&quot;)\nthe maven dependency is the following :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682519912,"creation_date":1682519912,"answer_id":76112059,"question_id":76111977,"body_markdown":"I don&#39;t even know which RDBMS you are actually using, but `DATE_PART()` does look to be native SQL of some flavor.  However, since it appears you were storing text dates, you could just use JPQL here with `SUBSTRING()`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Query(value=&quot;SELECT DISTINCT SUBSTRING(e.date, 1, 4) AS years &quot; +\r\n                 &quot;FROM Expensive e WHERE e.user_id = :userId AND e.date IS NOT NULL &quot; +\r\n                 &quot;ORDER BY SUBSTRING(e.date, 1, 4) DESC&quot;)\r\n    List&lt;Integer&gt; findDistinctYears(Long userId);","title":"need JPA method for below query","body":"<p>I don't even know which RDBMS you are actually using, but <code>DATE_PART()</code> does look to be native SQL of some flavor.  However, since it appears you were storing text dates, you could just use JPQL here with <code>SUBSTRING()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=&quot;SELECT DISTINCT SUBSTRING(e.date, 1, 4) AS years &quot; +\n             &quot;FROM Expensive e WHERE e.user_id = :userId AND e.date IS NOT NULL &quot; +\n             &quot;ORDER BY SUBSTRING(e.date, 1, 4) DESC&quot;)\nList&lt;Integer&gt; findDistinctYears(Long userId);\n</code></pre>\n"}],"owner":{"account_id":7908530,"reputation":29,"user_id":5973244,"display_name":"jayaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1682519912,"creation_date":1682519434,"question_id":76111977,"body_markdown":"i need only years of my &quot;Expensive&quot; table &quot;date&quot; feild \r\ndate data is &quot;2023-01-01&quot;,&quot;2022-01-01&quot; etc\r\nneed only list of years with desc order [2023,2022]\r\n\r\n    @Query(value=&quot;SELECT DISTINCT DATE_PART(&#39;year&#39;, CAST(e.date AS DATE)) AS years &quot; +\r\n                &quot;FROM Expensive e WHERE e.user_id = :userId AND e.date IS NOT NULL ORDER BY years DESC&quot;, nativeQuery = true)\r\n        List&lt;Integer&gt; findDistinctYears(Long userId);","title":"need JPA method for below query","body":"<p>i need only years of my &quot;Expensive&quot; table &quot;date&quot; feild\ndate data is &quot;2023-01-01&quot;,&quot;2022-01-01&quot; etc\nneed only list of years with desc order [2023,2022]</p>\n<pre><code>@Query(value=&quot;SELECT DISTINCT DATE_PART('year', CAST(e.date AS DATE)) AS years &quot; +\n            &quot;FROM Expensive e WHERE e.user_id = :userId AND e.date IS NOT NULL ORDER BY years DESC&quot;, nativeQuery = true)\n    List&lt;Integer&gt; findDistinctYears(Long userId);\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","java-time","jackson2"],"answers":[{"tags":[],"owner":{"account_id":8754628,"reputation":582,"user_id":6546584,"display_name":"desoss"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1505485207,"creation_date":1505485207,"answer_id":46241800,"question_id":46241440,"body_markdown":"I&#39;ve faced a similar problem in my production environment too.\r\nI&#39;ve solved it with this method in my Application.java (the class with main method):\r\n\r\n    @PostConstruct\r\n    void started() {\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n    }\r\nHope it could help you.","title":"Spring boot + Jackson - Always convert dates to UTC","body":"<p>I've faced a similar problem in my production environment too.\nI've solved it with this method in my Application.java (the class with main method):</p>\n\n<pre><code>@PostConstruct\nvoid started() {\n    TimeZone.setDefault(TimeZone.getTimeZone(\"Etc/UTC\"));\n}\n</code></pre>\n\n<p>Hope it could help you.</p>\n"}],"owner":{"account_id":2269813,"reputation":344,"user_id":1997540,"accept_rate":100,"display_name":"Alberson Melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17368,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46241800,"answer_count":1,"score":7,"last_activity_date":1682519889,"creation_date":1505484067,"question_id":46241440,"body_markdown":"I&#39;m saving the dates on my database *without timestamp*, so I want to standarize the way the dates are received by my Spring Boot Rest Controllers, so the services can be deployed anywhere in the world (AWS EC2, etc).\r\n\r\nI tried to set the following properties, didn&#39;t help:\r\n\r\n    spring.jackson.time-zone=UTC\r\n\r\nThere is another property, which is always `true`, so I didn&#39;t set, that is: \r\n\r\n    spring.jackson.deserialization.adjust-dates-to-context-time-zone=true\r\n\r\nI&#39;m deploying to 2 separate Ubuntu containers, one at `UTC` timezone and another in my current timezone `America/Sao_Paulo` which is (GMT -3).\r\n\r\nExample payload: \r\n\r\n    {&quot;date&quot;:&quot;2017-09-15T18:58:00.000Z&quot;}\r\n\r\nWhen the service is deployed on S&#227;o Paulo, it receives:\r\n\r\n    2017-09-15 18:58:00.000000\r\n\r\nWhich is **correct**.\r\n\r\nWhen the service is deployed on UTC, it receives:\r\n\r\n    2017-09-15 15:58:00.000000\r\n\r\nWhich is **incorrect**.\r\n\r\nI&#39;m storing the date information in Java with `LocalDateTime`.\r\n\r\nExample model:\r\n\r\n    import java.time.LocalDateTime;\r\n    \r\n    class Model {\r\n        private LocalDateTime date;\r\n    \r\n        public LocalDateTime getDate() {\r\n    \t    return date;\r\n        }\r\n    \r\n        public void setDate(LocalDateTime date) {\r\n    \t    this.date = date;\r\n        }\r\n    }\r\n\r\nExample resource:\r\n\r\n    @RestController\r\n    class Resource {\r\n        @RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;?&gt; add(@RequestBody Model model) {\r\n            System.out.println(model.getDate());\r\n            // persistence ommited\r\n            return ResponseEntity.created(URI.create(&quot;&quot;)).build();\r\n        }\r\n    }\r\n\r\nI cannot change the timezone of all my production machines, I must solve this with Jackson and Java (if possible).\r\n\r\nAnother restriction: must not annotate my model classes to do this.\r\n\r\nMy `pom.xml` (relevant part)\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Spring boot + Jackson - Always convert dates to UTC","body":"<p>I'm saving the dates on my database <em>without timestamp</em>, so I want to standarize the way the dates are received by my Spring Boot Rest Controllers, so the services can be deployed anywhere in the world (AWS EC2, etc).</p>\n\n<p>I tried to set the following properties, didn't help:</p>\n\n<pre><code>spring.jackson.time-zone=UTC\n</code></pre>\n\n<p>There is another property, which is always <code>true</code>, so I didn't set, that is: </p>\n\n<pre><code>spring.jackson.deserialization.adjust-dates-to-context-time-zone=true\n</code></pre>\n\n<p>I'm deploying to 2 separate Ubuntu containers, one at <code>UTC</code> timezone and another in my current timezone <code>America/Sao_Paulo</code> which is (GMT -3).</p>\n\n<p>Example payload: </p>\n\n<pre><code>{\"date\":\"2017-09-15T18:58:00.000Z\"}\n</code></pre>\n\n<p>When the service is deployed on So Paulo, it receives:</p>\n\n<pre><code>2017-09-15 18:58:00.000000\n</code></pre>\n\n<p>Which is <strong>correct</strong>.</p>\n\n<p>When the service is deployed on UTC, it receives:</p>\n\n<pre><code>2017-09-15 15:58:00.000000\n</code></pre>\n\n<p>Which is <strong>incorrect</strong>.</p>\n\n<p>I'm storing the date information in Java with <code>LocalDateTime</code>.</p>\n\n<p>Example model:</p>\n\n<pre><code>import java.time.LocalDateTime;\n\nclass Model {\n    private LocalDateTime date;\n\n    public LocalDateTime getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n}\n</code></pre>\n\n<p>Example resource:</p>\n\n<pre><code>@RestController\nclass Resource {\n    @RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.POST)\n    @ResponseBody\n    public ResponseEntity&lt;?&gt; add(@RequestBody Model model) {\n        System.out.println(model.getDate());\n        // persistence ommited\n        return ResponseEntity.created(URI.create(\"\")).build();\n    }\n}\n</code></pre>\n\n<p>I cannot change the timezone of all my production machines, I must solve this with Jackson and Java (if possible).</p>\n\n<p>Another restriction: must not annotate my model classes to do this.</p>\n\n<p>My <code>pom.xml</code> (relevant part)</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":28418718,"reputation":1,"user_id":21741082,"display_name":"Antonio Tostado"},"score":0,"creation_date":1682481768,"post_id":76107069,"comment_id":134221177,"body_markdown":"Or do You think this problem is with my firebase project?","body":"Or do You think this problem is with my firebase project?"}],"owner":{"account_id":28418718,"reputation":1,"user_id":21741082,"display_name":"Antonio Tostado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682519608,"creation_date":1682481519,"question_id":76107069,"body_markdown":"As it says in the title, I have trouble with Google authentication in my Android app.\r\nThe problem is that when I run the app and sign up with my own Google account, everything&#39;s fine there, I can sign up with my Google account, but other people cannot sign up, I don&#39;t know why, they push the button &quot;Sign in for Google&quot; and the system asks them which account the want to sign up with, but then nothing happens.\r\n\r\nThe code its already in production by the way.\r\n\r\nHow can I fix this in order that other people can sign up with a Google account?\r\n\r\n```\r\n// [START config_signin]\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        // [END config_signin]\r\n\r\n        onGoogle.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                signIn();\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if (mAuthProvider.getUserSession() != null){\r\n            Intent intent = new Intent(MainActivity.this,HomeActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    // [START onactivityresult]\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, &quot;Google sign in failed&quot;, e);\r\n            }\r\n        }\r\n    }\r\n    // [END onactivityresult]\r\n\r\n    // [START auth_with_google]\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        mDialog.show();\r\n        mAuthProvider.googleLogin(idToken).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            String id = mAuthProvider.getUid();\r\n                            checkUserExist(id);\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            /*Log.d(TAG, &quot;signInWithCredential:success&quot;);\r\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                            startActivity(intent);*/\r\n\r\n                        } else {\r\n                            mDialog.dismiss();\r\n                            // If sign in fails, display a message to the user.\r\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\r\n\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void checkUserExist(String id) {\r\n        mUsersProvider.getUser(id).addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()){\r\n                    mDialog.dismiss();\r\n                    Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                else {\r\n                    String email = mAuthProvider.getEmail();\r\n                    User user = new User();\r\n                    user.setEmail(email);\r\n                    user.setId(id);\r\n                    mUsersProvider.create(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            mDialog.dismiss();\r\n                            if (task.isSuccessful()){\r\n                                Intent intent = new Intent(MainActivity.this, CompleteProfileActivity.class);\r\n                                startActivity(intent);\r\n                            }else Toast.makeText(MainActivity.this, &quot;Erro al crear usuario&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n    // [END auth_with_google]\r\n```\r\n","title":"Sign Up with Google authentication in Firebase","body":"<p>As it says in the title, I have trouble with Google authentication in my Android app.\nThe problem is that when I run the app and sign up with my own Google account, everything's fine there, I can sign up with my Google account, but other people cannot sign up, I don't know why, they push the button &quot;Sign in for Google&quot; and the system asks them which account the want to sign up with, but then nothing happens.</p>\n<p>The code its already in production by the way.</p>\n<p>How can I fix this in order that other people can sign up with a Google account?</p>\n<pre><code>// [START config_signin]\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\n        // [END config_signin]\n\n        onGoogle.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                signIn();\n            }\n        });\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        if (mAuthProvider.getUserSession() != null){\n            Intent intent = new Intent(MainActivity.this,HomeActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n        }\n    }\n\n    // [START onactivityresult]\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                // Google Sign In was successful, authenticate with Firebase\n                GoogleSignInAccount account = task.getResult(ApiException.class);\n                Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\n                firebaseAuthWithGoogle(account.getIdToken());\n            } catch (ApiException e) {\n                // Google Sign In failed, update UI appropriately\n                Log.w(TAG, &quot;Google sign in failed&quot;, e);\n            }\n        }\n    }\n    // [END onactivityresult]\n\n    // [START auth_with_google]\n    private void firebaseAuthWithGoogle(String idToken) {\n        mDialog.show();\n        mAuthProvider.googleLogin(idToken).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            String id = mAuthProvider.getUid();\n                            checkUserExist(id);\n                            // Sign in success, update UI with the signed-in user's information\n                            /*Log.d(TAG, &quot;signInWithCredential:success&quot;);\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                            startActivity(intent);*/\n\n                        } else {\n                            mDialog.dismiss();\n                            // If sign in fails, display a message to the user.\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\n\n                        }\n                    }\n                });\n    }\n\n    private void checkUserExist(String id) {\n        mUsersProvider.getUser(id).addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                if (documentSnapshot.exists()){\n                    mDialog.dismiss();\n                    Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                    startActivity(intent);\n                }\n                else {\n                    String email = mAuthProvider.getEmail();\n                    User user = new User();\n                    user.setEmail(email);\n                    user.setId(id);\n                    mUsersProvider.create(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            mDialog.dismiss();\n                            if (task.isSuccessful()){\n                                Intent intent = new Intent(MainActivity.this, CompleteProfileActivity.class);\n                                startActivity(intent);\n                            }else Toast.makeText(MainActivity.this, &quot;Erro al crear usuario&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                }\n            }\n        });\n    }\n    // [END auth_with_google]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"score":0,"creation_date":1507328628,"post_id":46614338,"comment_id":80181478,"body_markdown":"Is the JAR file located in the same directory from where you are trying to invoke it? You don&#39;t have to specify the jar file immediately after -jar option. Please check [here](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html).","body":"Is the JAR file located in the same directory from where you are trying to invoke it? You don&#39;t have to specify the jar file immediately after -jar option. Please check <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":9479853,"reputation":126,"user_id":7048148,"display_name":"Bastian Klein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507329907,"creation_date":1507326778,"answer_id":46614425,"question_id":46614338,"body_markdown":"**EDITED**\r\n\r\nThe line shown in the question should work. I have tried it in an own demo project: `java -jar -Dspring.profiles.active=dev build/libs/demo-0.0.1-SNAPSHOT.jar`\r\n\r\nSo I assume @Indra Basak comment points into the correct direction. It looks as though the path to your jarfile is not correct.","title":"Issue run spring boot profiles jar","body":"<p><strong>EDITED</strong></p>\n\n<p>The line shown in the question should work. I have tried it in an own demo project: <code>java -jar -Dspring.profiles.active=dev build/libs/demo-0.0.1-SNAPSHOT.jar</code></p>\n\n<p>So I assume @Indra Basak comment points into the correct direction. It looks as though the path to your jarfile is not correct.</p>\n"},{"tags":[],"owner":{"account_id":5712111,"reputation":331,"user_id":4513725,"display_name":"Lewis Florez R"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1629522623,"creation_date":1629486221,"answer_id":68867011,"question_id":46614338,"body_markdown":"For powershell, I found a solution, I put a double quote (&quot;&quot;) `&quot;-Dspring.profiles.active=dev&quot;` and worked well. So the full command should be like below-\r\n\r\n    java -jar &quot;-Dspring.profiles.active=dev&quot; [name].jar\r\n\r\n","title":"Issue run spring boot profiles jar","body":"<p>For powershell, I found a solution, I put a double quote (&quot;&quot;) <code>&quot;-Dspring.profiles.active=dev&quot;</code> and worked well. So the full command should be like below-</p>\n<pre><code>java -jar &quot;-Dspring.profiles.active=dev&quot; [name].jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1959852,"reputation":365,"user_id":1761818,"accept_rate":25,"display_name":"user1761818"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682519431,"creation_date":1682519431,"answer_id":76111975,"question_id":46614338,"body_markdown":"Your command is not correct it must be: java -jar [name].jar --spring.profiles.active=dev ","title":"Issue run spring boot profiles jar","body":"<p>Your command is not correct it must be: java -jar [name].jar --spring.profiles.active=dev</p>\n"}],"owner":{"account_id":5712111,"reputation":331,"user_id":4513725,"display_name":"Lewis Florez R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6203,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1682519431,"creation_date":1507326242,"question_id":46614338,"body_markdown":"I&#39;m runing spring boot jar in a console\r\n\r\n    java -jar -Dspring.profiles.active=dev [name].jar\r\n\r\nI don&#39;t understand why I get this error:\r\n\r\n&gt; Unable to access jarfile .profiles.active=","title":"Issue run spring boot profiles jar","body":"<p>I'm runing spring boot jar in a console</p>\n\n<pre><code>java -jar -Dspring.profiles.active=dev [name].jar\n</code></pre>\n\n<p>I don't understand why I get this error:</p>\n\n<blockquote>\n  <p>Unable to access jarfile .profiles.active=</p>\n</blockquote>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513168397,"creation_date":1513161593,"answer_id":47791000,"question_id":47790877,"body_markdown":"Change your logger level to `level=&quot;DEBUG&quot;` from `INFO`\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot;/&gt;","title":"logback - Debug Level does not work","body":"<p>Change your logger level to <code>level=\"DEBUG\"</code> from <code>INFO</code></p>\n\n<pre><code>&lt;logger name=\"org.springframework\" level=\"DEBUG\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513167428,"creation_date":1513167428,"answer_id":47792849,"question_id":47790877,"body_markdown":"Try adding appender to your logger like below\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;level value=&quot;DEBUG&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\nPLease refer this question and solution \r\n\r\n\r\nhttps://stackoverflow.com/questions/37186027/spring-logging-not-working-with-log4j-or-logback","title":"logback - Debug Level does not work","body":"<p>Try adding appender to your logger like below</p>\n\n<pre><code>&lt;logger name=\"org.springframework\" additivity=\"false\"&gt;\n&lt;level value=\"DEBUG\" /&gt;\n&lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>PLease refer this question and solution </p>\n\n<p><a href=\"https://stackoverflow.com/questions/37186027/spring-logging-not-working-with-log4j-or-logback\">Spring : Logging not working with log4j or logback</a></p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682519375,"creation_date":1682519375,"answer_id":76111968,"question_id":47790877,"body_markdown":"Just adding something that worked for me for a similar scenario.\r\n\r\nI chanced to have both `logback.xml` and `application.properties` in my classpath for a **Spring Boot** application. In my `application.properties` I had\r\n\r\n```\r\nlogging.level.root=INFO\r\n```\r\n\r\nwhich effectively narrowed down anything that got handled by Logback, so settings in `logback.xml` seemed to have no effect as far as the log levels lower than INFO were concertned.","title":"logback - Debug Level does not work","body":"<p>Just adding something that worked for me for a similar scenario.</p>\n<p>I chanced to have both <code>logback.xml</code> and <code>application.properties</code> in my classpath for a <strong>Spring Boot</strong> application. In my <code>application.properties</code> I had</p>\n<pre><code>logging.level.root=INFO\n</code></pre>\n<p>which effectively narrowed down anything that got handled by Logback, so settings in <code>logback.xml</code> seemed to have no effect as far as the log levels lower than INFO were concertned.</p>\n"}],"owner":{"account_id":10390370,"reputation":1913,"user_id":7661910,"accept_rate":96,"display_name":"en Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47792849,"answer_count":3,"score":0,"last_activity_date":1682519375,"creation_date":1513161268,"question_id":47790877,"body_markdown":"I have a JAVA EE application that uses logback (intended as a successor to the popular log4j project)\r\n\r\nHere the `logback.xml` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \t\r\n    \t&lt;!-- trace, debug, info, warn, error, fatal --&gt;\r\n    \t&lt;timestamp key=&quot;myTimestamp&quot; datePattern=&quot;yyyy-MM-dd&#39;_&#39;HH-mm-ss.SSS&quot;/&gt;\t\r\n    \t\r\n    \r\n        &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n            &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n        &lt;/contextListener&gt;\r\n    \r\n        &lt;!-- To enable JMX Management --&gt;\r\n        &lt;jmxConfigurator/&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{&quot;yyyy-MM-dd HH:mm&quot;}  [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        \t&lt;file&gt;telefonica.log&lt;/file&gt; \r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;telefonica.%i.log.zip&lt;/fileNamePattern&gt;             \r\n                &lt;minIndex&gt;1&lt;/minIndex&gt;\r\n                &lt;maxIndex&gt;3&lt;/maxIndex&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\r\n            &lt;/triggeringPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{&quot;yyyy-MM-dd HH:mm&quot;} [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    \t\r\n    \r\n        &lt;logger name=&quot;com.telefonica \t                   level=&quot;debug&quot; /&gt;\r\n        &lt;logger name=&quot;org.springframework&quot; \t           level=&quot;debug&quot; /&gt;\r\n        &lt;logger name=&quot;org.springframework.web&quot; \t\t   level=&quot;debug&quot; /&gt;\r\n        &lt;logger name=&quot;org.springframework.security&quot;    level=&quot;debug&quot; /&gt;\r\n    \r\n        &lt;root level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nIn 1 of the class inside the package `com.telefonica` I have this code\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public static final Logger log = LoggerFactory.getLogger(TS.class);\r\n    \r\n    log.debug (&quot;logging to WS &quot; + WS_VERSION);\r\n\r\nand I don&#39;t see anything in the console, but I see it when I put  `log.info (&quot;logging to WS &quot; + WS_VERSION);`","title":"logback - Debug Level does not work","body":"<p>I have a JAVA EE application that uses logback (intended as a successor to the popular log4j project)</p>\n\n<p>Here the <code>logback.xml</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n\n    &lt;!-- trace, debug, info, warn, error, fatal --&gt;\n    &lt;timestamp key=\"myTimestamp\" datePattern=\"yyyy-MM-dd'_'HH-mm-ss.SSS\"/&gt;  \n\n\n    &lt;contextListener class=\"ch.qos.logback.classic.jul.LevelChangePropagator\"&gt;\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n    &lt;/contextListener&gt;\n\n    &lt;!-- To enable JMX Management --&gt;\n    &lt;jmxConfigurator/&gt;\n\n    &lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{\"yyyy-MM-dd HH:mm\"}  [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;telefonica.log&lt;/file&gt; \n\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;telefonica.%i.log.zip&lt;/fileNamePattern&gt;             \n            &lt;minIndex&gt;1&lt;/minIndex&gt;\n            &lt;maxIndex&gt;3&lt;/maxIndex&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\"&gt;\n            &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\n        &lt;/triggeringPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{\"yyyy-MM-dd HH:mm\"} [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n\n    &lt;logger name=\"com.telefonica                      level=\"debug\" /&gt;\n    &lt;logger name=\"org.springframework\"             level=\"debug\" /&gt;\n    &lt;logger name=\"org.springframework.web\"         level=\"debug\" /&gt;\n    &lt;logger name=\"org.springframework.security\"    level=\"debug\" /&gt;\n\n    &lt;root level=\"debug\"&gt;\n        &lt;appender-ref ref=\"CONSOLE\" /&gt;\n        &lt;appender-ref ref=\"FILE\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>In 1 of the class inside the package <code>com.telefonica</code> I have this code</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic static final Logger log = LoggerFactory.getLogger(TS.class);\n\nlog.debug (\"logging to WS \" + WS_VERSION);\n</code></pre>\n\n<p>and I don't see anything in the console, but I see it when I put  <code>log.info (\"logging to WS \" + WS_VERSION);</code></p>\n"},{"tags":["java","spring","mongodb","amazon-web-services","dns"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682519939,"post_id":76111951,"comment_id":134229513,"body_markdown":"Please show your properties that are defining the mongo host or url.","body":"Please show your properties that are defining the mongo host or url."}],"owner":{"account_id":28424080,"reputation":11,"user_id":21745719,"display_name":"Lloyd Ollerhead"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682519260,"creation_date":1682519260,"question_id":76111951,"body_markdown":"I am connecting to a MongoDB instance from a Java project running via Maven in IntelliJ. However, the DNS lookup for the DB fails. The exact inner exception is as follows:\r\n\r\n```\r\nCaused by: javax.naming.CommunicationException: DNS error [Root exception is java.net.SocketTimeoutException: Receive timed out]; remaining name &#39;&lt;DBADDRESS&gt;.mongodb.net&#39;\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsClient.query(DnsClient.java:316)\r\n\tat jdk.naming.dns/com.sun.jndi.dns.Resolver.query(Resolver.java:81)\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:434)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:129)\r\n\tat java.naming/javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:171)\r\n\tat com.mongodb.internal.dns.JndiDnsClient.getResourceRecordData(JndiDnsClient.java:41)\r\n\t... 116 more\r\nCaused by: java.net.SocketTimeoutException: Receive timed out\r\n\tat java.base/sun.nio.ch.DatagramChannelImpl.trustedBlockingReceive(DatagramChannelImpl.java:703)\r\n\tat java.base/sun.nio.ch.DatagramChannelImpl.blockingReceive(DatagramChannelImpl.java:633)\r\n\tat java.base/sun.nio.ch.DatagramSocketAdaptor.receive(DatagramSocketAdaptor.java:240)\r\n\tat java.base/java.net.DatagramSocket.receive(DatagramSocket.java:700)\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsClient.doUdpQuery(DnsClient.java:425)\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsClient.query(DnsClient.java:214)\r\n```\r\n\r\n\r\n\r\n\r\nI am able to connect to this DB from Mongo Compass just fine, and other people on my team are able to connect with this Java program on machines with identical architecture. They are on the same VPN and WiFi as me, and I have verified the DNS lookup is going to the exact same nameserver. \r\n\r\nOther things I have tried:\r\n* recloning the entire repo\r\n* clearing any DNS caches\r\n* changing nameserver\r\n* updating drivers and maven packages\r\n\r\nDoes anyone have any suggestions? Or is there any additional info I can provide that may help?","title":"Why am I failing DNS lookup when connecting to MongoDB from IntelliJ?","body":"<p>I am connecting to a MongoDB instance from a Java project running via Maven in IntelliJ. However, the DNS lookup for the DB fails. The exact inner exception is as follows:</p>\n<pre><code>Caused by: javax.naming.CommunicationException: DNS error [Root exception is java.net.SocketTimeoutException: Receive timed out]; remaining name '&lt;DBADDRESS&gt;.mongodb.net'\n    at jdk.naming.dns/com.sun.jndi.dns.DnsClient.query(DnsClient.java:316)\n    at jdk.naming.dns/com.sun.jndi.dns.Resolver.query(Resolver.java:81)\n    at jdk.naming.dns/com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:434)\n    at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:129)\n    at java.naming/javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:171)\n    at com.mongodb.internal.dns.JndiDnsClient.getResourceRecordData(JndiDnsClient.java:41)\n    ... 116 more\nCaused by: java.net.SocketTimeoutException: Receive timed out\n    at java.base/sun.nio.ch.DatagramChannelImpl.trustedBlockingReceive(DatagramChannelImpl.java:703)\n    at java.base/sun.nio.ch.DatagramChannelImpl.blockingReceive(DatagramChannelImpl.java:633)\n    at java.base/sun.nio.ch.DatagramSocketAdaptor.receive(DatagramSocketAdaptor.java:240)\n    at java.base/java.net.DatagramSocket.receive(DatagramSocket.java:700)\n    at jdk.naming.dns/com.sun.jndi.dns.DnsClient.doUdpQuery(DnsClient.java:425)\n    at jdk.naming.dns/com.sun.jndi.dns.DnsClient.query(DnsClient.java:214)\n</code></pre>\n<p>I am able to connect to this DB from Mongo Compass just fine, and other people on my team are able to connect with this Java program on machines with identical architecture. They are on the same VPN and WiFi as me, and I have verified the DNS lookup is going to the exact same nameserver.</p>\n<p>Other things I have tried:</p>\n<ul>\n<li>recloning the entire repo</li>\n<li>clearing any DNS caches</li>\n<li>changing nameserver</li>\n<li>updating drivers and maven packages</li>\n</ul>\n<p>Does anyone have any suggestions? Or is there any additional info I can provide that may help?</p>\n"},{"tags":["java","linux","spring","spring-boot","jvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682515269,"post_id":76110943,"comment_id":134228126,"body_markdown":"Not that I&#39;m aware of. You are killing the process... What you are asking is much like I have a desktop PC, I pull the power cord but I want the system to ask me if I want to save the word document I was editing. Only a quit/abort `kill -3/-6` will do this, next to that Spring Boot already does a proper shutdown of the context so you shouldn&#39;t need this class in the first place. If you have a servlet app you can specify `server.shutdown=graceful` to allow your servlet container to cleanly stop. But not with a -9/-15 afaik.","body":"Not that I&#39;m aware of. You are killing the process... What you are asking is much like I have a desktop PC, I pull the power cord but I want the system to ask me if I want to save the word document I was editing. Only a quit/abort <code>kill -3&#47;-6</code> will do this, next to that Spring Boot already does a proper shutdown of the context so you shouldn&#39;t need this class in the first place. If you have a servlet app you can specify <code>server.shutdown=graceful</code> to allow your servlet container to cleanly stop. But not with a -9/-15 afaik."}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682518570,"creation_date":1682518570,"answer_id":76111844,"question_id":76110943,"body_markdown":"apparently it is impossible to put a shutdown hook on a system kill sig. But it is possible to create a shutdown hook on application exit via ctrl c for example\r\n\r\n    Thread printingHook = new Thread(() -&gt; System.out.println(&quot;In the middle of a shutdown&quot;));\r\n    Runtime.getRuntime().addShutdownHook(printingHook);\r\n\r\nIt looks like a good alternative","title":"How to gracefully shutdown a spring-boot app after system kill signal","body":"<p>apparently it is impossible to put a shutdown hook on a system kill sig. But it is possible to create a shutdown hook on application exit via ctrl c for example</p>\n<pre><code>Thread printingHook = new Thread(() -&gt; System.out.println(&quot;In the middle of a shutdown&quot;));\nRuntime.getRuntime().addShutdownHook(printingHook);\n</code></pre>\n<p>It looks like a good alternative</p>\n"}],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111844,"answer_count":1,"score":0,"last_activity_date":1682518570,"creation_date":1682513378,"question_id":76110943,"body_markdown":"I am trying to make a java spring boot application shutdown properly after a system kill signal call on said application.\r\n\r\nI want to let the application close all sessions/transactions when being shutdown via a system command. \r\n\r\neg. kill -9; kill -15; taskkill /f; etc\r\n \r\n\r\nI have tried using a spring component shutdown callback as follows\r\n\r\n```\r\n@Component\r\npublic class ApplicationShutdown {\r\n    private final ConfigurableApplicationContext applicationContext;\r\n\r\n    public ApplicationShutdown( ConfigurableApplicationContext applicationContext ) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @PreDestroy\r\n    public void onShutDown() {\r\n        applicationContext.close();\r\n    }\r\n}\r\n\r\n```\r\nI was hoping that killing the java process would trigger this callback, but it is not the case.\r\n\r\nWhen I call taskkill /pid &lt;pid&gt; (windows env) I am prompted that the process cannot shutdown without force.\r\n\r\nwhen I call taskkill /f /pid , the application shuts down immediatly without triggering the spring callback.\r\n\r\nIs it possible to have my application react a certain way to a system kill signal ?","title":"How to gracefully shutdown a spring-boot app after system kill signal","body":"<p>I am trying to make a java spring boot application shutdown properly after a system kill signal call on said application.</p>\n<p>I want to let the application close all sessions/transactions when being shutdown via a system command.</p>\n<p>eg. kill -9; kill -15; taskkill /f; etc</p>\n<p>I have tried using a spring component shutdown callback as follows</p>\n<pre><code>@Component\npublic class ApplicationShutdown {\n    private final ConfigurableApplicationContext applicationContext;\n\n    public ApplicationShutdown( ConfigurableApplicationContext applicationContext ) {\n        this.applicationContext = applicationContext;\n    }\n\n    @PreDestroy\n    public void onShutDown() {\n        applicationContext.close();\n    }\n}\n\n</code></pre>\n<p>I was hoping that killing the java process would trigger this callback, but it is not the case.</p>\n<p>When I call taskkill /pid  (windows env) I am prompted that the process cannot shutdown without force.</p>\n<p>when I call taskkill /f /pid , the application shuts down immediatly without triggering the spring callback.</p>\n<p>Is it possible to have my application react a certain way to a system kill signal ?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":3191420,"reputation":1344,"user_id":2695569,"display_name":"solar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1473974386,"creation_date":1439931678,"answer_id":32082470,"question_id":32079022,"body_markdown":"Try this, it would include all JARs in the local repository, so you wouldn&#39;t have to specify it every time:\r\n\r\n    dependencies {\r\n       compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    }\r\nAlso, you should know that when referencing a file via\r\n\r\n    files(&quot;relative/path/to/a.jar&quot;)\r\n\r\npath is evaluated relative to the buildscript this snippet is in. So when your `build.gradle` file is located in `/a/project/build.gradle`, then the jar should be in `/a/project/relative/path/to/a.jar`. \r\nIn a multiproject gradle build you can put the the jar in a folder relative to the root - project and reference it in all subprojects via\r\n\r\n    rootProject.files(&quot;relative/to/root/a.jar&quot;)\r\n\r\nSo take this to account and re-check if your gradle settings are correct.","title":"Gradle absolute / relative path","body":"<p>Try this, it would include all JARs in the local repository, so you wouldn't have to specify it every time:</p>\n\n<pre><code>dependencies {\n   compile fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n\n<p>Also, you should know that when referencing a file via</p>\n\n<pre><code>files(\"relative/path/to/a.jar\")\n</code></pre>\n\n<p>path is evaluated relative to the buildscript this snippet is in. So when your <code>build.gradle</code> file is located in <code>/a/project/build.gradle</code>, then the jar should be in <code>/a/project/relative/path/to/a.jar</code>. \nIn a multiproject gradle build you can put the the jar in a folder relative to the root - project and reference it in all subprojects via</p>\n\n<pre><code>rootProject.files(\"relative/to/root/a.jar\")\n</code></pre>\n\n<p>So take this to account and re-check if your gradle settings are correct.</p>\n"},{"tags":[],"owner":{"account_id":2454452,"reputation":379,"user_id":2139991,"display_name":"libeasy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475157270,"creation_date":1475157270,"answer_id":39772312,"question_id":32079022,"body_markdown":"Your libs folder is misplaced. You have to put it under ``MigraeneBook/app`` , not directly under ``MigraeneBook``.","title":"Gradle absolute / relative path","body":"<p>Your libs folder is misplaced. You have to put it under <code>MigraeneBook/app</code> , not directly under <code>MigraeneBook</code>.</p>\n"},{"tags":[],"owner":{"account_id":3747452,"reputation":421,"user_id":3115798,"accept_rate":100,"display_name":"Dr4gon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1479058356,"creation_date":1479058356,"answer_id":40576762,"question_id":32079022,"body_markdown":"First off in my opinion adding manual libs - if can be avoided - is bad practice because you need to maintain the lib and path yourself.\r\n\r\nI had a quick look at the maven repo and it seems they don&#39;t have this specific lib there. This is what I&#39;d expect:\r\n\r\n    compile(&#39;com.anypackage.name.PushLinkAndroid-5.3.0.jar&#39;)\r\n\r\nSince this is probably not up to you than rather to the developer team of https://www.pushlink.com/changelog.xhtml it can&#39;t be helped.\r\n\r\nNow to your problem: Did you start your build with --stacktrace?\r\n\r\nFrom what I can gather from this\r\n\r\n    compile files(&#39;C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar&#39;)\r\n\r\nyou&#39;re using a Windows system. This is troublesome at some points because Gradle expect the paths to look like this:\r\n\r\n    C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar\r\n\r\nMy wild guess here is that gradle does something like this when you don&#39;t specify the path yourself:\r\n\r\n    C:\\Users\\Kai\\AndroidStudioProjects\\ProjectA\\libs/PushLinkAndroid-5.3.0.jar\r\n\r\nYou can verify the behaviour with this gradle task:\r\n\r\n    task printBuildDir() {\r\n        def buildDir = &quot;${buildDir}&quot;\r\n        println buildDir\r\n        def fixedDir = buildDir.replaceAll(&#39;\\\\\\\\&#39;, &#39;/&#39;)\r\n        println fixedDir\r\n    }\r\n\r\nIf my guess is correct, you got a couple of choices:\r\n\r\n 1. Use the full path\r\n 2. Use a gradle builtin path such as buildDir and replace the \\ accordingly to the example (I&#39;m not sure whether this works exactly like my example in dependencies tag, maybe you need to define a global variable yourself)\r\n 3. Get the developers of PushLink to put this lib up to Maven Repo ","title":"Gradle absolute / relative path","body":"<p>First off in my opinion adding manual libs - if can be avoided - is bad practice because you need to maintain the lib and path yourself.</p>\n\n<p>I had a quick look at the maven repo and it seems they don't have this specific lib there. This is what I'd expect:</p>\n\n<pre><code>compile('com.anypackage.name.PushLinkAndroid-5.3.0.jar')\n</code></pre>\n\n<p>Since this is probably not up to you than rather to the developer team of <a href=\"https://www.pushlink.com/changelog.xhtml\" rel=\"nofollow noreferrer\">https://www.pushlink.com/changelog.xhtml</a> it can't be helped.</p>\n\n<p>Now to your problem: Did you start your build with --stacktrace?</p>\n\n<p>From what I can gather from this</p>\n\n<pre><code>compile files('C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar')\n</code></pre>\n\n<p>you're using a Windows system. This is troublesome at some points because Gradle expect the paths to look like this:</p>\n\n<pre><code>C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar\n</code></pre>\n\n<p>My wild guess here is that gradle does something like this when you don't specify the path yourself:</p>\n\n<pre><code>C:\\Users\\Kai\\AndroidStudioProjects\\ProjectA\\libs/PushLinkAndroid-5.3.0.jar\n</code></pre>\n\n<p>You can verify the behaviour with this gradle task:</p>\n\n<pre><code>task printBuildDir() {\n    def buildDir = \"${buildDir}\"\n    println buildDir\n    def fixedDir = buildDir.replaceAll('\\\\\\\\', '/')\n    println fixedDir\n}\n</code></pre>\n\n<p>If my guess is correct, you got a couple of choices:</p>\n\n<ol>\n<li>Use the full path</li>\n<li>Use a gradle builtin path such as buildDir and replace the \\ accordingly to the example (I'm not sure whether this works exactly like my example in dependencies tag, maybe you need to define a global variable yourself)</li>\n<li>Get the developers of PushLink to put this lib up to Maven Repo </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6840219,"reputation":3832,"user_id":5260872,"display_name":"Nishan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523480265,"creation_date":1523480265,"answer_id":49784362,"question_id":32079022,"body_markdown":"Specifying each JAR filenames is also a posibility.\r\n\r\n    dependencies {\r\n        compile files(&#39;lib/dependency_one.jar&#39;, &#39;lib/dependency_two.jar&#39;)\r\n    }\r\n\r\nThis will tell Gradle to include dependency_one.jar and dependency_two.jar during compilation.\r\nTo confirm that all required JARs included in compiling configuration, you can create this helper task,\r\n\r\n    task listJars &lt;&lt; {\r\n        configurations.compile.each { File file -&gt; println file.name }\r\n    }\r\nThen run it,\r\n\r\n    $ gradle -q listJars\r\n    hibernate-core-3.6.7.Final.jar\r\n    antlr-2.7.6.jar\r\n    commons-collections-3.1.jar\r\n    dom4j-1.6.1.jar\r\n    hibernate-commons-annotations-3.2.0.Final.jar\r\n    hibernate-jpa-2.0-api-1.0.1.Final.jar\r\n    jta-1.1.jar\r\n    slf4j-api-1.6.1.jar\r\n\r\nRead more at [https://docs.gradle.org/current/userguide/declaring_dependencies.html][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_dependencies.html","title":"Gradle absolute / relative path","body":"<p>Specifying each JAR filenames is also a posibility.</p>\n\n<pre><code>dependencies {\n    compile files('lib/dependency_one.jar', 'lib/dependency_two.jar')\n}\n</code></pre>\n\n<p>This will tell Gradle to include dependency_one.jar and dependency_two.jar during compilation.\nTo confirm that all required JARs included in compiling configuration, you can create this helper task,</p>\n\n<pre><code>task listJars &lt;&lt; {\n    configurations.compile.each { File file -&gt; println file.name }\n}\n</code></pre>\n\n<p>Then run it,</p>\n\n<pre><code>$ gradle -q listJars\nhibernate-core-3.6.7.Final.jar\nantlr-2.7.6.jar\ncommons-collections-3.1.jar\ndom4j-1.6.1.jar\nhibernate-commons-annotations-3.2.0.Final.jar\nhibernate-jpa-2.0-api-1.0.1.Final.jar\njta-1.1.jar\nslf4j-api-1.6.1.jar\n</code></pre>\n\n<p>Read more at <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies.html</a></p>\n"},{"tags":[],"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540011948,"creation_date":1540011948,"answer_id":52902608,"question_id":32079022,"body_markdown":"My issue was that I copied it from the Android Studio IDE itself, as is command+c on the libs from one project and command+v to the libs of the other.  For some reason AS produces jar files with size zero... But hey I learned some new stuff about Gradle :)","title":"Gradle absolute / relative path","body":"<p>My issue was that I copied it from the Android Studio IDE itself, as is command+c on the libs from one project and command+v to the libs of the other.  For some reason AS produces jar files with size zero... But hey I learned some new stuff about Gradle :)</p>\n"},{"tags":[],"owner":{"account_id":6892837,"reputation":1451,"user_id":5320149,"display_name":"PRIHLOP"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1544015644,"creation_date":1544015644,"answer_id":53633195,"question_id":32079022,"body_markdown":"If you call URL scheme path, you can use this example:\r\n\r\n    def path = &quot;file://${projectDir}/ojdbc6.jar&quot;","title":"Gradle absolute / relative path","body":"<p>If you call URL scheme path, you can use this example:</p>\n\n<pre><code>def path = \"file://${projectDir}/ojdbc6.jar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8317161,"reputation":111,"user_id":6250023,"display_name":"pereckeSokSzam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565229790,"creation_date":1565229790,"answer_id":57404272,"question_id":32079022,"body_markdown":"Old question, but might help someone. \r\nI had the same problem, I had 2 libraries in the project root folder, and it didn&#39;t work with relative path. Add ../ before the relative path if your library is in your project&#39;s root folder. \r\n\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    ...\r\n    implementation files(&#39;../library_name/libs/some.jar&#39;)\r\n\r\n","title":"Gradle absolute / relative path","body":"<p>Old question, but might help someone. \nI had the same problem, I had 2 libraries in the project root folder, and it didn't work with relative path. Add ../ before the relative path if your library is in your project's root folder. </p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\n...\nimplementation files('../library_name/libs/some.jar')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682518297,"creation_date":1682518297,"answer_id":76111801,"question_id":32079022,"body_markdown":" In **New Version** of `gradle:7.4.2&#39;` if is added like this, there is a warning message and yellow color.\r\n\r\n**avoid using absolute paths in .gradle files**\r\n\r\n     implementation files(&#39;C:/Users/Mori/AndroidStudioProjects/InternalLibsKotlin/banner/build/outputs/aar/banner-debug.aar&#39;)\r\n\r\nso you can Ignore this or do like this:\r\n\r\n    implementation files(/C:\\/Users\\/moriz\\/AndroidStudioProjects\\/InternalLibsKotlin\\/banner\\/build\\/outputs\\/aar\\/banner-debug.aar/)\r\n\r\n","title":"Gradle absolute / relative path","body":"<p>In <strong>New Version</strong> of <code>gradle:7.4.2'</code> if is added like this, there is a warning message and yellow color.</p>\n<p><strong>avoid using absolute paths in .gradle files</strong></p>\n<pre><code> implementation files('C:/Users/Mori/AndroidStudioProjects/InternalLibsKotlin/banner/build/outputs/aar/banner-debug.aar')\n</code></pre>\n<p>so you can Ignore this or do like this:</p>\n<pre><code>implementation files(/C:\\/Users\\/moriz\\/AndroidStudioProjects\\/InternalLibsKotlin\\/banner\\/build\\/outputs\\/aar\\/banner-debug.aar/)\n</code></pre>\n"}],"owner":{"account_id":6630513,"reputation":509,"user_id":5119359,"accept_rate":62,"display_name":"fighter-ii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59300,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":8,"score":19,"last_activity_date":1682518297,"creation_date":1439919201,"question_id":32079022,"body_markdown":"I have the following problem. When I want to use a local jar in my Gradle dependencies.\r\n\r\nIf I just add:\r\n\r\n    compile files(&#39;libs/PushLinkAndroid-5.3.0.jar&#39;)\r\n\r\nIt doesn&#39;t work. \r\n  &gt;C:\\Users\\Kai\\AndroidStudioProjects\\ProjectA\\app\\src\\main\\java\\de\\xyz\\xxx\\projecta\\BaseActivity.java:21: error: package com.pushlink.android does not exist\r\n    &gt;import com.pushlink.android.PushLink;\r\n    &gt;     \r\n    &gt;Note: Some input files use or override a deprecated API.\r\n    &gt;Note: Recompile with -Xlint:deprecation for details.\r\n    &gt;4 errors\r\n    &gt;\r\n    &gt; FAILED\r\n    &gt;\r\n    &gt;FAILURE: Build failed with an exception.\r\n    &gt;\r\n    &gt;* What went wrong:\r\n    &gt;Execution failed for task &#39;:app:compileDebugJava&#39;.\r\n    &gt;&gt; Compilation failed; see the compiler error output for details.\r\n    &gt;\r\n    &gt;* Try:\r\n    &gt;Run with --stacktrace option to get the stack trace. Run with --info or &gt;--debug option to get more log output.\r\n    &gt;\r\n    &gt;BUILD FAILED\r\n    &gt;\r\n    &gt;Total time: 6.543 secs\r\n\r\nIf i add the absolute path to the Jar, the project compiles and everything works finde:\r\n\r\n    compile files(&#39;C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar&#39;)\r\n\r\nLooks like there is something wrong with the Path but how could this be when the absolute Path works fine?\r\n\r\n**EDIT:**\r\nBuild.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 22\r\n        buildToolsVersion &quot;22.0.1&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;de.xyz.kai.migraenebook&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 22\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        //compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        compile &#39;com.android.support:appcompat-v7:22.2.0&#39;\r\n        compile &#39;com.jakewharton:butterknife:7.0.1&#39;\r\n        compile project(&#39;:volley&#39;)\r\n        debugCompile &#39;im.dino:dbinspector:3.2.1@aar&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:1.3.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:+&#39;\r\n        //compile files(&#39;C:/Users/Kai/AndroidStudioProjects/MigraeneBook/libs/PushLinkAndroid-5.3.0.jar&#39;)\r\n        compile files(&#39;libs/PushLinkAndroid-5.3.0.jar&#39;)\r\n        //compile files(&#39;libraries/PushLinkAndroid-5.3.0.jar&#39;)\r\n        //compile files(&#39;C:/Users/Kai/AndroidStudioProjects/MigraeneBook/libraries/PushLinkAndroid-5.3.0.jar&#39;)\r\n    }\r\n\r\nNOTE: I tried different folders, the PushLink.jar is in &quot;libs&quot; and &quot;libraries&quot;. It doesn&#39;t make a difference which command I use or comment out - absolute path is working, relative not.","title":"Gradle absolute / relative path","body":"<p>I have the following problem. When I want to use a local jar in my Gradle dependencies.</p>\n\n<p>If I just add:</p>\n\n<pre><code>compile files('libs/PushLinkAndroid-5.3.0.jar')\n</code></pre>\n\n<p>It doesn't work. </p>\n\n<blockquote>\n  <p>C:\\Users\\Kai\\AndroidStudioProjects\\ProjectA\\app\\src\\main\\java\\de\\xyz\\xxx\\projecta\\BaseActivity.java:21: error: package com.pushlink.android does not exist\n  import com.pushlink.android.PushLink;</p>\n  \n  <p>Note: Some input files use or override a deprecated API.\n  Note: Recompile with -Xlint:deprecation for details.\n  4 errors</p>\n  \n  <p>FAILED</p>\n  \n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li><p>What went wrong:\n  Execution failed for task ':app:compileDebugJava'.</p>\n  \n  <blockquote>\n    <p>Compilation failed; see the compiler error output for details.</p>\n  </blockquote></li>\n  <li><p>Try:\n  Run with --stacktrace option to get the stack trace. Run with --info or >--debug option to get more log output.</p></li>\n  </ul>\n  \n  <p>BUILD FAILED</p>\n  \n  <p>Total time: 6.543 secs</p>\n</blockquote>\n\n<p>If i add the absolute path to the Jar, the project compiles and everything works finde:</p>\n\n<pre><code>compile files('C:/Users/Kai/AndroidStudioProjects/ProjectA/libs/PushLinkAndroid-5.3.0.jar')\n</code></pre>\n\n<p>Looks like there is something wrong with the Path but how could this be when the absolute Path works fine?</p>\n\n<p><strong>EDIT:</strong>\nBuild.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.1\"\n\n    defaultConfig {\n        applicationId \"de.xyz.kai.migraenebook\"\n        minSdkVersion 16\n        targetSdkVersion 22\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    //compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:appcompat-v7:22.2.0'\n    compile 'com.jakewharton:butterknife:7.0.1'\n    compile project(':volley')\n    debugCompile 'im.dino:dbinspector:3.2.1@aar'\n    compile 'de.hdodenhof:circleimageview:1.3.0'\n    compile 'com.android.support:recyclerview-v7:+'\n    //compile files('C:/Users/Kai/AndroidStudioProjects/MigraeneBook/libs/PushLinkAndroid-5.3.0.jar')\n    compile files('libs/PushLinkAndroid-5.3.0.jar')\n    //compile files('libraries/PushLinkAndroid-5.3.0.jar')\n    //compile files('C:/Users/Kai/AndroidStudioProjects/MigraeneBook/libraries/PushLinkAndroid-5.3.0.jar')\n}\n</code></pre>\n\n<p>NOTE: I tried different folders, the PushLink.jar is in \"libs\" and \"libraries\". It doesn't make a difference which command I use or comment out - absolute path is working, relative not.</p>\n"},{"tags":["java","spring-boot","validation","spring-data-rest","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649175766,"creation_date":1649175766,"answer_id":71755265,"question_id":71628224,"body_markdown":"I found this lone example on Github. https://github.com/marciovmartins/problem-spring-web-starter-expanded/blob/aed5825c958fad93f4aaad022689958926cf3b4a/src/main/kotlin/com/github/marciovmartins/problem/spring/web/expanded/ProblemExceptionHandler.kt and rewrote it in Java. This seems to do it.\r\n\r\n\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.data.rest.core.RepositoryConstraintViolationException;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.FieldError;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.context.request.NativeWebRequest;\r\nimport org.zalando.problem.Problem;\r\nimport org.zalando.problem.ThrowableProblem;\r\nimport org.zalando.problem.spring.web.advice.ProblemHandling;\r\nimport org.zalando.problem.violations.Violation;\r\n\r\n@ControllerAdvice\r\npublic class ProblemControllerAdvice implements ProblemHandling {\r\n\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;Problem&gt; handleRepositoryConstraintViolationException(RepositoryConstraintViolationException exception, NativeWebRequest request) {\r\n        List&lt;Violation&gt; violationList = exception.getErrors().getAllErrors()\r\n                .stream()\r\n                .map(objectError -&gt; {\r\n                    if (objectError instanceof FieldError) {\r\n                        return new Violation(((FieldError) objectError).getField(), objectError.getDefaultMessage());\r\n                    }\r\n                    return new Violation(null, objectError.getDefaultMessage());\r\n                })\r\n                .collect(Collectors.toList());\r\n\r\n        ThrowableProblem problem = Problem.builder()\r\n                .withTitle(&quot;Constraint Violation&quot;)\r\n                .withStatus(defaultConstraintViolationStatus())\r\n                .with(&quot;violations&quot;, violationList)\r\n                .build();\r\n        return create(problem, request);\r\n    }\r\n\r\n}\r\n```","title":"How can I return validation errors in a RFC-7807 format in Spring Boot Data Rest controllers?","body":"<p>I found this lone example on Github. <a href=\"https://github.com/marciovmartins/problem-spring-web-starter-expanded/blob/aed5825c958fad93f4aaad022689958926cf3b4a/src/main/kotlin/com/github/marciovmartins/problem/spring/web/expanded/ProblemExceptionHandler.kt\" rel=\"nofollow noreferrer\">https://github.com/marciovmartins/problem-spring-web-starter-expanded/blob/aed5825c958fad93f4aaad022689958926cf3b4a/src/main/kotlin/com/github/marciovmartins/problem/spring/web/expanded/ProblemExceptionHandler.kt</a> and rewrote it in Java. This seems to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.data.rest.core.RepositoryConstraintViolationException;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.zalando.problem.Problem;\nimport org.zalando.problem.ThrowableProblem;\nimport org.zalando.problem.spring.web.advice.ProblemHandling;\nimport org.zalando.problem.violations.Violation;\n\n@ControllerAdvice\npublic class ProblemControllerAdvice implements ProblemHandling {\n\n    @ExceptionHandler\n    public ResponseEntity&lt;Problem&gt; handleRepositoryConstraintViolationException(RepositoryConstraintViolationException exception, NativeWebRequest request) {\n        List&lt;Violation&gt; violationList = exception.getErrors().getAllErrors()\n                .stream()\n                .map(objectError -&gt; {\n                    if (objectError instanceof FieldError) {\n                        return new Violation(((FieldError) objectError).getField(), objectError.getDefaultMessage());\n                    }\n                    return new Violation(null, objectError.getDefaultMessage());\n                })\n                .collect(Collectors.toList());\n\n        ThrowableProblem problem = Problem.builder()\n                .withTitle(&quot;Constraint Violation&quot;)\n                .withStatus(defaultConstraintViolationStatus())\n                .with(&quot;violations&quot;, violationList)\n                .build();\n        return create(problem, request);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9872302,"reputation":46,"user_id":7311451,"display_name":"elpair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682518229,"creation_date":1682518229,"answer_id":76111793,"question_id":71628224,"body_markdown":"With Spring 6 and Spring Boot 3 this is now possible without using an additional library.\r\n\r\nYou can either return a `ProblemDetail`\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(BookmarkNotFoundException.class)\r\n    ProblemDetail handleBookmarkNotFoundException(BookmarkNotFoundException e) {\r\n        ProblemDetail problemDetail = ProblemDetail.forStatusAndDetail(HttpStatus.NOT_FOUND, e.getMessage());\r\n        problemDetail.setTitle(&quot;Bookmark Not Found&quot;);\r\n        problemDetail.setType(URI.create(&quot;https://api.bookmarks.com/errors/not-found&quot;));\r\n        problemDetail.setProperty(&quot;errorCategory&quot;, &quot;Generic&quot;);\r\n        problemDetail.setProperty(&quot;timestamp&quot;, Instant.now());\r\n        return problemDetail;\r\n    }\r\n}\r\n```\r\n\r\nor an `ErrorResponse`\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(BookmarkNotFoundException.class)\r\n    ErrorResponse handleBookmarkNotFoundException(BookmarkNotFoundException e) {\r\n        return ErrorResponse.builder(e, HttpStatus.NOT_FOUND, e.getMessage())\r\n                .title(&quot;Bookmark not found&quot;)\r\n                .type(URI.create(&quot;https://api.bookmarks.com/errors/not-found&quot;))\r\n                .property(&quot;errorCategory&quot;, &quot;Generic&quot;)\r\n                .property(&quot;timestamp&quot;, Instant.now())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nIt seems you can also activate ProblemDetails in the application.properties, if you do not need custom error handling:\r\n```yaml\r\nspring.mvc.problemdetails.enabled=true\r\n```\r\n\r\nInformation and examples are taken from this article: https://www.sivalabs.in/spring-boot-3-error-reporting-using-problem-details/","title":"How can I return validation errors in a RFC-7807 format in Spring Boot Data Rest controllers?","body":"<p>With Spring 6 and Spring Boot 3 this is now possible without using an additional library.</p>\n<p>You can either return a <code>ProblemDetail</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(BookmarkNotFoundException.class)\n    ProblemDetail handleBookmarkNotFoundException(BookmarkNotFoundException e) {\n        ProblemDetail problemDetail = ProblemDetail.forStatusAndDetail(HttpStatus.NOT_FOUND, e.getMessage());\n        problemDetail.setTitle(&quot;Bookmark Not Found&quot;);\n        problemDetail.setType(URI.create(&quot;https://api.bookmarks.com/errors/not-found&quot;));\n        problemDetail.setProperty(&quot;errorCategory&quot;, &quot;Generic&quot;);\n        problemDetail.setProperty(&quot;timestamp&quot;, Instant.now());\n        return problemDetail;\n    }\n}\n</code></pre>\n<p>or an <code>ErrorResponse</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(BookmarkNotFoundException.class)\n    ErrorResponse handleBookmarkNotFoundException(BookmarkNotFoundException e) {\n        return ErrorResponse.builder(e, HttpStatus.NOT_FOUND, e.getMessage())\n                .title(&quot;Bookmark not found&quot;)\n                .type(URI.create(&quot;https://api.bookmarks.com/errors/not-found&quot;))\n                .property(&quot;errorCategory&quot;, &quot;Generic&quot;)\n                .property(&quot;timestamp&quot;, Instant.now())\n                .build();\n    }\n}\n</code></pre>\n<p>It seems you can also activate ProblemDetails in the application.properties, if you do not need custom error handling:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.mvc.problemdetails.enabled=true\n</code></pre>\n<p>Information and examples are taken from this article: <a href=\"https://www.sivalabs.in/spring-boot-3-error-reporting-using-problem-details/\" rel=\"nofollow noreferrer\">https://www.sivalabs.in/spring-boot-3-error-reporting-using-problem-details/</a></p>\n"}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1853,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71755265,"answer_count":2,"score":1,"last_activity_date":1682518229,"creation_date":1648299308,"question_id":71628224,"body_markdown":"I have a Spring repository\r\n\r\n```java\r\n@RepositoryRestResource\r\npublic interface MongoIntegrationTokenRepository extends MongoRepository&lt;IntegrationToken, String&gt;, CrudRepository&lt;IntegrationToken, String&gt; {}\r\n```\r\n\r\nI&#39;ve added the validation configuration to add validation support and my entity has the validation annotations:\r\n\r\n```java\r\n@Configuration\r\nclass MyRestMvcConfiguration implements RepositoryRestConfigurer {\r\n\r\n    private final LocalValidatorFactoryBean localValidatorFactoryBean;\r\n\r\n    @Autowired\r\n    public MyRestMvcConfiguration(LocalValidatorFactoryBean localValidatorFactoryBean) {\r\n        this.localValidatorFactoryBean = localValidatorFactoryBean;\r\n    }\r\n\r\n    @Override\r\n    public void configureValidatingRepositoryEventListener(\r\n            ValidatingRepositoryEventListener validatingRepositoryEventListener) {\r\n        validatingRepositoryEventListener.addValidator(&quot;beforeCreate&quot;, localValidatorFactoryBean);\r\n        validatingRepositoryEventListener.addValidator(&quot;beforeSave&quot;, localValidatorFactoryBean);\r\n        validatingRepositoryEventListener.addValidator(&quot;beforeSave&quot;, localValidatorFactoryBean);\r\n    }\r\n}\r\n```\r\n\r\nWhen running the create operation, if there are any validation errors, the entity creation fails but the JSON response doesn&#39;t contain any errors details.\r\n\r\nA POST to my endpoint with invalid data simply returns:\r\n\r\n```json\r\n{\r\n  &quot;message&quot;: &quot;Server Error&quot;,\r\n  &quot;details&quot;: [\r\n    &quot;Validation failed&quot;\r\n  ]\r\n}\r\n```\r\n\r\n\r\nI&#39;d like to return the validation errors in the [RFC7807][1] format. This [should be possible][2] via Spring HATEOAS or by this popular library by Zalando https://github.com/zalando/problem-spring-web but I&#39;m unsure how they need to be wired in or which approach should be used.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc7807\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/19525","title":"How can I return validation errors in a RFC-7807 format in Spring Boot Data Rest controllers?","body":"<p>I have a Spring repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RepositoryRestResource\npublic interface MongoIntegrationTokenRepository extends MongoRepository&lt;IntegrationToken, String&gt;, CrudRepository&lt;IntegrationToken, String&gt; {}\n</code></pre>\n<p>I've added the validation configuration to add validation support and my entity has the validation annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass MyRestMvcConfiguration implements RepositoryRestConfigurer {\n\n    private final LocalValidatorFactoryBean localValidatorFactoryBean;\n\n    @Autowired\n    public MyRestMvcConfiguration(LocalValidatorFactoryBean localValidatorFactoryBean) {\n        this.localValidatorFactoryBean = localValidatorFactoryBean;\n    }\n\n    @Override\n    public void configureValidatingRepositoryEventListener(\n            ValidatingRepositoryEventListener validatingRepositoryEventListener) {\n        validatingRepositoryEventListener.addValidator(&quot;beforeCreate&quot;, localValidatorFactoryBean);\n        validatingRepositoryEventListener.addValidator(&quot;beforeSave&quot;, localValidatorFactoryBean);\n        validatingRepositoryEventListener.addValidator(&quot;beforeSave&quot;, localValidatorFactoryBean);\n    }\n}\n</code></pre>\n<p>When running the create operation, if there are any validation errors, the entity creation fails but the JSON response doesn't contain any errors details.</p>\n<p>A POST to my endpoint with invalid data simply returns:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;message&quot;: &quot;Server Error&quot;,\n  &quot;details&quot;: [\n    &quot;Validation failed&quot;\n  ]\n}\n</code></pre>\n<p>I'd like to return the validation errors in the <a href=\"https://datatracker.ietf.org/doc/html/rfc7807\" rel=\"nofollow noreferrer\">RFC7807</a> format. This <a href=\"https://github.com/spring-projects/spring-boot/issues/19525\" rel=\"nofollow noreferrer\">should be possible</a> via Spring HATEOAS or by this popular library by Zalando <a href=\"https://github.com/zalando/problem-spring-web\" rel=\"nofollow noreferrer\">https://github.com/zalando/problem-spring-web</a> but I'm unsure how they need to be wired in or which approach should be used.</p>\n"},{"tags":["java","selenium-webdriver","open-telemetry","jaeger","remotewebdriver"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":1,"creation_date":1680726100,"post_id":75672918,"comment_id":133949115,"body_markdown":"can you post the full `NoClassDefFoundError` stack trace? that will help to see why `AutoConfiguredOpenTelemetrySdkBuilder` is being referenced","body":"can you post the full <code>NoClassDefFoundError</code> stack trace? that will help to see why <code>AutoConfiguredOpenTelemetrySdkBuilder</code> is being referenced"}],"answers":[{"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682433353,"creation_date":1682433353,"answer_id":76102398,"question_id":75672918,"body_markdown":"I was able to work around this by setting [enableTracing][1] to false when creating the `RemoteWebDriver`:\r\n\r\n    webDriver = new RemoteWebDriver(remoteAddress, capabilities, false);\r\n\r\nAlthough I&#39;m using `opentelemetry-sdk:1.22.0`, `selenium-remote-driver` (4.1.4) is pulling in an earlier version (1.13.x) of `opentelemetry-sdk-extension-autoconfigure`.\r\n\r\n`AutoConfiguredOpenTelemetrySdkBuilder` (in `opentelemetry-sdk-extension-autoconfigure`) references `SdkLogEmitterProviderBuilder` but that class was renamed in [OpenTelemetry 1.19.0][2] so it is not found.\r\n\r\nThere is an [issue][3] against Selenium describing the problem, which [suggests][4] `selenium-remote-driver` is incorrectly depending on the sdk instead of just the api. However, the issue has been closed and the most recent version (currently 4.9.0) still [depends on the sdk][5].\r\n\r\nPicking a recent enough version of `selenium-remote-driver` to align its version of `opentelemetry-sdk` with the one in your project might be good enough but feels a bit brittle.\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html#%3Cinit%3E(java.net.URL,org.openqa.selenium.Capabilities,boolean)\r\n  [2]: https://github.com/open-telemetry/opentelemetry-java/releases/tag/v1.19.0\r\n  [3]: https://github.com/SeleniumHQ/selenium/issues/10251\r\n  [4]: https://github.com/SeleniumHQ/selenium/issues/10251#issuecomment-1019095873\r\n  [5]: https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-remote-driver/4.9.0/selenium-remote-driver-4.9.0.pom","title":"Error adding jaeger exporter to RemoteWebDriver","body":"<p>I was able to work around this by setting <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html#%3Cinit%3E(java.net.URL,org.openqa.selenium.Capabilities,boolean)\" rel=\"nofollow noreferrer\">enableTracing</a> to false when creating the <code>RemoteWebDriver</code>:</p>\n<pre><code>webDriver = new RemoteWebDriver(remoteAddress, capabilities, false);\n</code></pre>\n<p>Although I'm using <code>opentelemetry-sdk:1.22.0</code>, <code>selenium-remote-driver</code> (4.1.4) is pulling in an earlier version (1.13.x) of <code>opentelemetry-sdk-extension-autoconfigure</code>.</p>\n<p><code>AutoConfiguredOpenTelemetrySdkBuilder</code> (in <code>opentelemetry-sdk-extension-autoconfigure</code>) references <code>SdkLogEmitterProviderBuilder</code> but that class was renamed in <a href=\"https://github.com/open-telemetry/opentelemetry-java/releases/tag/v1.19.0\" rel=\"nofollow noreferrer\">OpenTelemetry 1.19.0</a> so it is not found.</p>\n<p>There is an <a href=\"https://github.com/SeleniumHQ/selenium/issues/10251\" rel=\"nofollow noreferrer\">issue</a> against Selenium describing the problem, which <a href=\"https://github.com/SeleniumHQ/selenium/issues/10251#issuecomment-1019095873\" rel=\"nofollow noreferrer\">suggests</a> <code>selenium-remote-driver</code> is incorrectly depending on the sdk instead of just the api. However, the issue has been closed and the most recent version (currently 4.9.0) still <a href=\"https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-remote-driver/4.9.0/selenium-remote-driver-4.9.0.pom\" rel=\"nofollow noreferrer\">depends on the sdk</a>.</p>\n<p>Picking a recent enough version of <code>selenium-remote-driver</code> to align its version of <code>opentelemetry-sdk</code> with the one in your project might be good enough but feels a bit brittle.</p>\n"}],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76102398,"answer_count":1,"score":2,"last_activity_date":1682518006,"creation_date":1678277722,"question_id":75672918,"body_markdown":"When trying to add open telemetry to my Selenium 4 tests\r\n\r\nlike this\r\n```\r\n        System.setProperty(&quot;otel.traces.exporter&quot;, &quot;jaeger&quot;);\r\n        System.setProperty(&quot;otel.exporter.jaeger.endpoint&quot;, &quot;http://localhost:14250&quot;);\r\n        System.setProperty(&quot;JAEGER_SERVICE_NAME&quot;, &quot;client&quot;);\r\n        System.setProperty(&quot;otel.resource.attributes&quot;, &quot;service.name=selenium-java-try&quot;);\r\n   ```\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opentelemetry-exporter-jaeger&lt;/artifactId&gt;\r\n            &lt;version&gt;1.23.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI get this error:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: io/opentelemetry/sdk/logs/SdkLogEmitterProviderBuilder\r\n\r\n\tat io.opentelemetry.sdk.autoconfigure.AutoConfiguredOpenTelemetrySdkBuilder.&lt;init&gt;(AutoConfiguredOpenTelemetrySdkBuilder.java:69)\r\n```\r\n\r\nSo I added the these as well:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opentelemetry-sdk&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opentelemetry-sdk-logs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23.1-alpha&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut still no success.. \r\n\r\nWho to set-up the dependencies/configuration so that I can start using jaeger-over-otel?\r\n","title":"Error adding jaeger exporter to RemoteWebDriver","body":"<p>When trying to add open telemetry to my Selenium 4 tests</p>\n<p>like this</p>\n<pre><code>        System.setProperty(&quot;otel.traces.exporter&quot;, &quot;jaeger&quot;);\n        System.setProperty(&quot;otel.exporter.jaeger.endpoint&quot;, &quot;http://localhost:14250&quot;);\n        System.setProperty(&quot;JAEGER_SERVICE_NAME&quot;, &quot;client&quot;);\n        System.setProperty(&quot;otel.resource.attributes&quot;, &quot;service.name=selenium-java-try&quot;);\n</code></pre>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n        &lt;artifactId&gt;opentelemetry-exporter-jaeger&lt;/artifactId&gt;\n        &lt;version&gt;1.23.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.NoClassDefFoundError: io/opentelemetry/sdk/logs/SdkLogEmitterProviderBuilder\n\n    at io.opentelemetry.sdk.autoconfigure.AutoConfiguredOpenTelemetrySdkBuilder.&lt;init&gt;(AutoConfiguredOpenTelemetrySdkBuilder.java:69)\n</code></pre>\n<p>So I added the these as well:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.23.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-sdk-logs&lt;/artifactId&gt;\n    &lt;version&gt;1.23.1-alpha&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But still no success..</p>\n<p>Who to set-up the dependencies/configuration so that I can start using jaeger-over-otel?</p>\n"},{"tags":["java","kotlin","aws-cdk"],"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682517725,"creation_date":1682517302,"question_id":76111640,"body_markdown":"There are not many example of this area of the CDK period, but in particular the use of this `conditions` method\r\n\r\nSDK v1 example:\r\n```kotlin\r\nval listBucket = Statement(Statement.Effect.Allow).withActions(S3Actions.ListObjects).withResources(\r\n    S3BucketResource(bucket)\r\n).withConditions(\r\n    StringCondition(\r\n        StringCondition.StringComparisonType.StringLike,\r\n        S3ConditionFactory.PREFIX_CONDITION_KEY,\r\n        listPrefixConditionKey\r\n    ), StringCondition(\r\n        StringCondition.StringComparisonType.StringEquals, S3ConditionFactory.DELIMITER_CONDITION_KEY, &quot;/&quot;\r\n    )\r\n)\r\n```\r\n\r\nCDK v1 approximation:\r\n```kotlin\r\nval listBucket = PolicyStatement.Builder.create()\r\n    .effect(Effect.ALLOW)\r\n    .actions(\r\n        listOf(&quot;s3:ListObjects&quot;)\r\n    )\r\n    .resources( // these are present for components still using direct s3 access to list and acquire resource content\r\n        listOf(\r\n            &quot;arn:aws:s3:::$bucket&quot;\r\n        )\r\n    )\r\n    .apply {\r\n\r\n    }\r\n    .conditions(\r\n        mapOf(\r\n            &quot;StringLike&quot; to mapOf(&quot;s3:prefix&quot; to listPrefixConditionKey),\r\n            &quot;StringEquals&quot; to mapOf(&quot;s3:delimiter&quot; to &quot;/&quot;),\r\n        )\r\n    )\r\n    .build()\r\n```\r\n\r\nIs this correct? I&#39;m porting from SDK v1 to SDK v2 and this was moved into CDK. I&#39;ll try to test it, but I really don&#39;t want to find out how this works in production.\r\n","title":"How do I add conditions to a PolicyStatement? I need examples","body":"<p>There are not many example of this area of the CDK period, but in particular the use of this <code>conditions</code> method</p>\n<p>SDK v1 example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val listBucket = Statement(Statement.Effect.Allow).withActions(S3Actions.ListObjects).withResources(\n    S3BucketResource(bucket)\n).withConditions(\n    StringCondition(\n        StringCondition.StringComparisonType.StringLike,\n        S3ConditionFactory.PREFIX_CONDITION_KEY,\n        listPrefixConditionKey\n    ), StringCondition(\n        StringCondition.StringComparisonType.StringEquals, S3ConditionFactory.DELIMITER_CONDITION_KEY, &quot;/&quot;\n    )\n)\n</code></pre>\n<p>CDK v1 approximation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val listBucket = PolicyStatement.Builder.create()\n    .effect(Effect.ALLOW)\n    .actions(\n        listOf(&quot;s3:ListObjects&quot;)\n    )\n    .resources( // these are present for components still using direct s3 access to list and acquire resource content\n        listOf(\n            &quot;arn:aws:s3:::$bucket&quot;\n        )\n    )\n    .apply {\n\n    }\n    .conditions(\n        mapOf(\n            &quot;StringLike&quot; to mapOf(&quot;s3:prefix&quot; to listPrefixConditionKey),\n            &quot;StringEquals&quot; to mapOf(&quot;s3:delimiter&quot; to &quot;/&quot;),\n        )\n    )\n    .build()\n</code></pre>\n<p>Is this correct? I'm porting from SDK v1 to SDK v2 and this was moved into CDK. I'll try to test it, but I really don't want to find out how this works in production.</p>\n"},{"tags":["java","pca","smile"],"owner":{"account_id":27983776,"reputation":51,"user_id":21371062,"display_name":"Riya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682517692,"creation_date":1682490187,"question_id":76107744,"body_markdown":"[Smile KPCA Code Image](https://i.stack.imgur.com/qZDMH.png)\r\nSo, I came across the concept of Kernel PCA for feature extraction. Currently, I am using smile&#39;s Java jar for kernel pca. While reading about their code, I also have doubts about Mercer Kernel. \r\n\r\nI want someone to explain the smile&#39;s java code of kernel PCA, what are the parameters to be passed, and define those parameters, where for example what they mean by MercerKernel &lt;double[]&gt; kernel. And can someone explain to me about the Mercer kernel?","title":"MercerKernel and Kernel PCA using smile in Java","body":"<p><a href=\"https://i.stack.imgur.com/qZDMH.png\" rel=\"nofollow noreferrer\">Smile KPCA Code Image</a>\nSo, I came across the concept of Kernel PCA for feature extraction. Currently, I am using smile's Java jar for kernel pca. While reading about their code, I also have doubts about Mercer Kernel.</p>\n<p>I want someone to explain the smile's java code of kernel PCA, what are the parameters to be passed, and define those parameters, where for example what they mean by MercerKernel &lt;double[]&gt; kernel. And can someone explain to me about the Mercer kernel?</p>\n"},{"tags":["java","arrays","string","arraylist"],"comments":[{"owner":{"account_id":5934440,"reputation":1281,"user_id":4667934,"display_name":"LinkBerest"},"score":0,"creation_date":1443149900,"post_id":32774059,"comment_id":53386925,"body_markdown":"Have a look at [Concantenating elements in an array to a string](http://stackoverflow.com/questions/14957964/concantenating-elements-in-an-array-to-a-string)","body":"Have a look at <a href=\"http://stackoverflow.com/questions/14957964/concantenating-elements-in-an-array-to-a-string\">Concantenating elements in an array to a string</a>"},{"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"score":0,"creation_date":1443149981,"post_id":32774059,"comment_id":53386951,"body_markdown":"I can&#39;t use String Builder for this.","body":"I can&#39;t use String Builder for this."},{"owner":{"account_id":6431101,"reputation":346,"user_id":4984231,"display_name":"Rodrigo Gomes"},"score":0,"creation_date":1443150033,"post_id":32774059,"comment_id":53386961,"body_markdown":"`String account = Arrays.toString(accounts.toArray()); \n    return account.substring(1,account.length()-1);`","body":"<code>String account = Arrays.toString(accounts.toArray());      return account.substring(1,account.length()-1);</code>"},{"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"score":0,"creation_date":1443150254,"post_id":32774059,"comment_id":53387008,"body_markdown":"@RodrigoGomes aha! That removes the brackets! I still see extra commas, but that might be from somewhere else so I&#39;m double checking. Can you post that as an answer?","body":"@RodrigoGomes aha! That removes the brackets! I still see extra commas, but that might be from somewhere else so I&#39;m double checking. Can you post that as an answer?"},{"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"score":0,"creation_date":1443150615,"post_id":32774059,"comment_id":53387105,"body_markdown":"Why you can&#39;t use `StringBuilder`?  If you take a look inside `Arrays.toString` you&#39;ll see that it&#39;s implemented by appending elements to `StringBuilder`. I suggest you to copy code from there and remove lines that are responsible for appending commas and brackets.","body":"Why you can&#39;t use <code>StringBuilder</code>?  If you take a look inside <code>Arrays.toString</code> you&#39;ll see that it&#39;s implemented by appending elements to <code>StringBuilder</code>. I suggest you to copy code from there and remove lines that are responsible for appending commas and brackets."},{"owner":{"account_id":6431101,"reputation":346,"user_id":4984231,"display_name":"Rodrigo Gomes"},"score":0,"creation_date":1443150743,"post_id":32774059,"comment_id":53387135,"body_markdown":"try: `account..replaceAll(&quot; , &quot;, &quot;\\r\\n&quot;)` to remove those extras commas\n\nBut I suggest you create a method to iterate over the array and create your return as you want. The solutions I gave I consider as workaround ;)","body":"try: <code>account..replaceAll(&quot; , &quot;, &quot;\\r\\n&quot;)</code> to remove those extras commas  But I suggest you create a method to iterate over the array and create your return as you want. The solutions I gave I consider as workaround ;)"},{"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"score":0,"creation_date":1443151427,"post_id":32774059,"comment_id":53387290,"body_markdown":"I&#39;m in college following a UML Diagram. If I use any programming feature not explicitly mentioned they will deduct points, but the teacher is not good about answering questions either forcing me to fill in my understanding elsewhere. Anyway, that&#39;s why I can&#39;t use StringBuilder. Last time I used that feature I got in trouble because it was too advanced for me or some such nonsense. Just last week I used ArrayList instead of modular arrays before we were ready (because it&#39;s better) and didn&#39;t get any credit.","body":"I&#39;m in college following a UML Diagram. If I use any programming feature not explicitly mentioned they will deduct points, but the teacher is not good about answering questions either forcing me to fill in my understanding elsewhere. Anyway, that&#39;s why I can&#39;t use StringBuilder. Last time I used that feature I got in trouble because it was too advanced for me or some such nonsense. Just last week I used ArrayList instead of modular arrays before we were ready (because it&#39;s better) and didn&#39;t get any credit."}],"answers":[{"tags":[],"owner":{"account_id":7006751,"reputation":1610,"user_id":5370863,"accept_rate":53,"display_name":"bmarkham"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1443150117,"creation_date":1443150117,"answer_id":32774108,"question_id":32774059,"body_markdown":"You could try to replace the &#39;[&#39; and &#39;]&#39; with empty space\r\n\r\n    String list = Arrays.toString(customers.toArray()).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>You could try to replace the '[' and ']' with empty space</p>\n\n<pre><code>String list = Arrays.toString(customers.toArray()).replace(\"[\", \"\").replace(\"]\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6431101,"reputation":346,"user_id":4984231,"display_name":"Rodrigo Gomes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443150477,"creation_date":1443150137,"answer_id":32774113,"question_id":32774059,"body_markdown":"A possible solutions is:\r\n\r\n    String account = Arrays.toString(accounts.toArray()); \r\n    return account.substring(1,account.length()-1);\r\n\r\nOr do you override the `toString` method to return the string as per you wanted.","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>A possible solutions is:</p>\n\n<pre><code>String account = Arrays.toString(accounts.toArray()); \nreturn account.substring(1,account.length()-1);\n</code></pre>\n\n<p>Or do you override the <code>toString</code> method to return the string as per you wanted.</p>\n"},{"tags":[],"owner":{"account_id":7027230,"reputation":1,"user_id":5384229,"display_name":"Sibendra Pratap Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443436041,"creation_date":1443436041,"answer_id":32820782,"question_id":32774059,"body_markdown":"You can override the toString() method and represent the output in whatever format you","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>You can override the toString() method and represent the output in whatever format you</p>\n"},{"tags":[],"owner":{"account_id":4290519,"reputation":51,"user_id":3507024,"display_name":"Thev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464776438,"creation_date":1464776438,"answer_id":37565893,"question_id":32774059,"body_markdown":"If you want your output to look like:\r\n***item1, item2, item3***\r\n\r\n    Arrays.toString(customers.toArray()).replace(&#39;[&#39;, &#39; &#39;).replace(&#39;]&#39;, &#39; &#39;).trim()\r\nIf you want your output to look like:\r\n***item1 item2 item3***\r\n\r\n    Arrays.toString(customers.toArray()).replace(&#39;[&#39;, &#39; &#39;).replace(&#39;]&#39;, &#39; &#39;).replace(&#39;,&#39;, &#39; &#39;).trim()","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>If you want your output to look like:\n<strong><em>item1, item2, item3</em></strong></p>\n\n<pre><code>Arrays.toString(customers.toArray()).replace('[', ' ').replace(']', ' ').trim()\n</code></pre>\n\n<p>If you want your output to look like:\n<strong><em>item1 item2 item3</em></strong></p>\n\n<pre><code>Arrays.toString(customers.toArray()).replace('[', ' ').replace(']', ' ').replace(',', ' ').trim()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4005907,"reputation":73,"user_id":3300555,"display_name":"Saurabh Mittal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495524160,"creation_date":1495524160,"answer_id":44128249,"question_id":32774059,"body_markdown":"Can directly convert list/set to string and perform action on it\r\n\r\n    customers.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;)","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>Can directly convert list/set to string and perform action on it</p>\n\n<pre><code>customers.toString().replace(\"[\", \"\").replace(\"]\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6322074,"reputation":348,"user_id":4909765,"accept_rate":60,"display_name":"Dheeraj vats"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512534242,"creation_date":1512534242,"answer_id":47666751,"question_id":32774059,"body_markdown":"You can use the method substring() to remove starting and ending brackets without tampering any entries in the ArrayList.\r\nI used something like this to convert a `ArrayList&lt;String&gt;` to String \r\n\r\n    String str = list.toString().substring(1, list.toString().length() - 1);","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>You can use the method substring() to remove starting and ending brackets without tampering any entries in the ArrayList.\nI used something like this to convert a <code>ArrayList&lt;String&gt;</code> to String </p>\n\n<pre><code>String str = list.toString().substring(1, list.toString().length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13864691,"reputation":2209,"user_id":10009424,"display_name":"yejianfengblue"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541478281,"creation_date":1541478281,"answer_id":53165714,"question_id":32774059,"body_markdown":"Java 8 version\r\n\r\n    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    intList.add(1);\r\n    intList.add(2);\r\n    intList.add(4);\r\n    System.out.println(intList.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;,&quot;)));\r\n\r\nOutput:\r\n    1,2,4","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>Java 8 version</p>\n\n<pre><code>List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\nintList.add(1);\nintList.add(2);\nintList.add(4);\nSystem.out.println(intList.stream().map(i -&gt; i.toString()).collect(Collectors.joining(\",\")));\n</code></pre>\n\n<p>Output:\n    1,2,4</p>\n"},{"tags":[],"owner":{"account_id":17649669,"reputation":1,"user_id":12810363,"display_name":"Tayyab Nabeel"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1580350628,"creation_date":1580348276,"answer_id":59977976,"question_id":32774059,"body_markdown":"Anyone still stuck on this, try using a for-each loop. \r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(); // default size of 10\r\n    \r\n    /*add elements to \r\n    the ArrayList*/\r\n    \r\n    for(String element: list)\r\n    System.out.println(element);\r\n\r\n","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>Anyone still stuck on this, try using a for-each loop. </p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(); // default size of 10\n\n/*add elements to \nthe ArrayList*/\n\nfor(String element: list)\nSystem.out.println(element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4650437,"reputation":1,"user_id":3767485,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593348340,"creation_date":1593348340,"answer_id":62622727,"question_id":32774059,"body_markdown":"You can try this.\r\n\r\n    String listAsStr = myList.toString(); // get list as string\r\n    listAsStr = listAsStr.substring(1,listAsStr.length()-1); // removing first and last bracket\r\n\r\nThis will return the string without first and last brackets.","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>You can try this.</p>\n<pre><code>String listAsStr = myList.toString(); // get list as string\nlistAsStr = listAsStr.substring(1,listAsStr.length()-1); // removing first and last bracket\n</code></pre>\n<p>This will return the string without first and last brackets.</p>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1616510927,"creation_date":1604844371,"answer_id":64738992,"question_id":32774059,"body_markdown":"I think the best solution to print list without brackets and without any separator( for java 8 and higher ) \r\n\r\n    String.join(&quot;&quot;, YOUR_LIST);\r\n\r\nYou can also add your own delimiter to separate printing elements.\r\n\r\n    String.join(&quot;, \\n&quot;, YOUR_LIST);\r\n\r\nexample above separate each list element with comma and new line.\r\n","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>I think the best solution to print list without brackets and without any separator( for java 8 and higher )</p>\n<pre><code>String.join(&quot;&quot;, YOUR_LIST);\n</code></pre>\n<p>You can also add your own delimiter to separate printing elements.</p>\n<pre><code>String.join(&quot;, \\n&quot;, YOUR_LIST);\n</code></pre>\n<p>example above separate each list element with comma and new line.</p>\n"},{"tags":[],"owner":{"account_id":8559676,"reputation":647,"user_id":6414089,"display_name":"Meow Meow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682517565,"creation_date":1682517565,"answer_id":76111690,"question_id":32774059,"body_markdown":"One more one-line solution for printing:\r\n\r\n    System.out.println(result.toString().replaceAll(&quot;[\\\\]\\\\[\\\\,]&quot;, &quot;&quot;));","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>One more one-line solution for printing:</p>\n<pre><code>System.out.println(result.toString().replaceAll(&quot;[\\\\]\\\\[\\\\,]&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92659,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":32774108,"answer_count":11,"score":22,"last_activity_date":1682517565,"creation_date":1443149763,"question_id":32774059,"body_markdown":"OK, so I have an ArrayList that I need to return as a String. Right now I am using this approach:\r\n\r\n    List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\r\n    List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n    \r\n\r\n    public String customerList() \r\n    {\r\n        String list = Arrays.toString(customers.toArray()); \r\n        return list;\r\n    }\r\n    \r\n    public String accountList() \r\n    { \r\n        String account = Arrays.toString(accounts.toArray()); \r\n        return account;\r\n    }\r\n\r\nThis works fine, but the problem is that I get brackets around the text. I am getting stuff like:\r\n\r\n     Customer list:\r\n     --------------\r\n     [Name: Last, First\r\n     , Name: Last, First\r\n     , Name: Last, First\r\n     ]\r\n\r\nWhen I want something like this:\r\n\r\n     Customer list:\r\n     --------------\r\n     Name: Last, First\r\n     Name: Last, First\r\n     Name: Last, First\r\n\r\nHowever, unlike similar questions, I don&#39;t simply want to output line by line. I need to store the ArrayList in a String without the brackets so I can work with it.\r\n\r\n**EDIT:** It should be noted that the one comma in the version I want it to look like was placed there by a method in a different class:\r\n\r\n    public final String getName()  \r\n        { \r\n            return getLast() + &quot;, &quot; + getFirst(); \r\n        }\r\n\r\n**EDIT 2:** I was able to find a complete solution by adapting the two answers I was given. It was difficult deciding which was the &quot;answer&quot; because I found both useful, but went with the one that I could use more selectively.\r\n\r\n    public String customerList() \r\n    {\r\n        String list = Arrays.toString(customers.toArray()).replace(&quot;, N&quot;, &quot;N&quot;).replace(&quot;, N&quot;, &quot;N&quot;);\r\n        return list.substring(1,list.length()-1);\r\n    }\r\n\r\nTo remove the brackets I used the modified return. Removing the comma required me to focus on the fact that each line will start with an &quot;N&quot;, but the flaw in this approach is that the code would break if I forget to change it here if I change it there. Still, it solves my specific problem, and I can always notate to myself in both places as needed.","title":"Output ArrayList to String without [,] (brackets) appearing","body":"<p>OK, so I have an ArrayList that I need to return as a String. Right now I am using this approach:</p>\n\n<pre><code>List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\nList&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\n\n\npublic String customerList() \n{\n    String list = Arrays.toString(customers.toArray()); \n    return list;\n}\n\npublic String accountList() \n{ \n    String account = Arrays.toString(accounts.toArray()); \n    return account;\n}\n</code></pre>\n\n<p>This works fine, but the problem is that I get brackets around the text. I am getting stuff like:</p>\n\n<pre><code> Customer list:\n --------------\n [Name: Last, First\n , Name: Last, First\n , Name: Last, First\n ]\n</code></pre>\n\n<p>When I want something like this:</p>\n\n<pre><code> Customer list:\n --------------\n Name: Last, First\n Name: Last, First\n Name: Last, First\n</code></pre>\n\n<p>However, unlike similar questions, I don't simply want to output line by line. I need to store the ArrayList in a String without the brackets so I can work with it.</p>\n\n<p><strong>EDIT:</strong> It should be noted that the one comma in the version I want it to look like was placed there by a method in a different class:</p>\n\n<pre><code>public final String getName()  \n    { \n        return getLast() + \", \" + getFirst(); \n    }\n</code></pre>\n\n<p><strong>EDIT 2:</strong> I was able to find a complete solution by adapting the two answers I was given. It was difficult deciding which was the \"answer\" because I found both useful, but went with the one that I could use more selectively.</p>\n\n<pre><code>public String customerList() \n{\n    String list = Arrays.toString(customers.toArray()).replace(\", N\", \"N\").replace(\", N\", \"N\");\n    return list.substring(1,list.length()-1);\n}\n</code></pre>\n\n<p>To remove the brackets I used the modified return. Removing the comma required me to focus on the fact that each line will start with an \"N\", but the flaw in this approach is that the code would break if I forget to change it here if I change it there. Still, it solves my specific problem, and I can always notate to myself in both places as needed.</p>\n"},{"tags":["javascript","java","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1499171159,"post_id":44905745,"comment_id":76788878,"body_markdown":"1. Please add relevant HTML for your example. Also what is the error that you&#39;re getting in your code would be helpful.","body":"1. Please add relevant HTML for your example. Also what is the error that you&#39;re getting in your code would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":3309995,"reputation":633,"user_id":2783746,"display_name":"Sudha Velan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500447027,"creation_date":1499170975,"answer_id":44905897,"question_id":44905745,"body_markdown":"    WebElement ele= driver.findElement(By.id(&quot;id_of_element&quot;));\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, ele);\r\n\r\nor\r\n\r\n    WebElement ele= driver.findElement(By.id(&quot;id_of_element&quot;));\r\n    Actions builder = new Actions(driver);\r\n    builder.moveToElement(ele).click();\r\n    Action build=builder.build();\r\n    build.perform();\r\n\r\n","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<pre><code>WebElement ele= driver.findElement(By.id(\"id_of_element\"));\n((JavascriptExecutor)driver).executeScript(\"arguments[0].scrollIntoView();\", ele);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>WebElement ele= driver.findElement(By.id(\"id_of_element\"));\nActions builder = new Actions(driver);\nbuilder.moveToElement(ele).click();\nAction build=builder.build();\nbuild.perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499171502,"creation_date":1499171502,"answer_id":44906077,"question_id":44905745,"body_markdown":"I have had this kind of issue and I resolved this using a similar question asked on SQA SO. Here is the [post][1].\r\n\r\nPlease see the [last answer][1] by Sagar007, which uses a separate function `scroll_Page()` to achieve this. \r\n\r\nCode taken directly from his answer\r\n\r\n&gt; Some HTML page have internal (custom) scroll bar. We have to handle with little bit different way.\r\nJavascript is not working here.\r\n&gt; \r\n&gt; \r\n&gt; Solution :\r\n\r\n    WebElement scrollArea = \r\n    driver.findElement(By.cssSelector(&quot;div.slimScrollBar&quot;));\r\n\r\nI added a new step, where I clicked on the div element , using `click()` method and then proceeded to next step.\r\n\r\n&gt; Create method scroll_Page as given below. Call this method as \r\n\r\n     scroll_Page(scrollArea ,100);\r\n\r\n&gt; Where scrollArea is your dragged(scroll) element and 100 is scroll points.\r\n\r\n\r\n      public static boolean scroll_Page(WebElement webelement, int scrollPoints)\r\n    {\r\n    try\r\n    {               \r\n        Actions dragger = new Actions(driver);\r\n        // drag downwards\r\n        int numberOfPixelsToDragTheScrollbarDown = 10;\r\n        for (int i = 10; i &lt; scrollPoints; i = i + numberOfPixelsToDragTheScrollbarDown)\r\n        {\r\n            dragger.moveToElement(webelement).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release(webelement).build().perform();\r\n        }\r\n        Thread.sleep(500);\r\n        return true;\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        e.printStackTrace();\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://sqa.stackexchange.com/questions/14837/webdriver-how-to-perform-scroll-down-an-element-example-div-using-selenium/17484#17484","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>I have had this kind of issue and I resolved this using a similar question asked on SQA SO. Here is the <a href=\"https://sqa.stackexchange.com/questions/14837/webdriver-how-to-perform-scroll-down-an-element-example-div-using-selenium/17484#17484\">post</a>.</p>\n\n<p>Please see the <a href=\"https://sqa.stackexchange.com/questions/14837/webdriver-how-to-perform-scroll-down-an-element-example-div-using-selenium/17484#17484\">last answer</a> by Sagar007, which uses a separate function <code>scroll_Page()</code> to achieve this. </p>\n\n<p>Code taken directly from his answer</p>\n\n<blockquote>\n  <p>Some HTML page have internal (custom) scroll bar. We have to handle with little bit different way.\n  Javascript is not working here.</p>\n  \n  <p>Solution :</p>\n</blockquote>\n\n<pre><code>WebElement scrollArea = \ndriver.findElement(By.cssSelector(\"div.slimScrollBar\"));\n</code></pre>\n\n<p>I added a new step, where I clicked on the div element , using <code>click()</code> method and then proceeded to next step.</p>\n\n<blockquote>\n  <p>Create method scroll_Page as given below. Call this method as </p>\n</blockquote>\n\n<pre><code> scroll_Page(scrollArea ,100);\n</code></pre>\n\n<blockquote>\n  <p>Where scrollArea is your dragged(scroll) element and 100 is scroll points.</p>\n</blockquote>\n\n<pre><code>  public static boolean scroll_Page(WebElement webelement, int scrollPoints)\n{\ntry\n{               \n    Actions dragger = new Actions(driver);\n    // drag downwards\n    int numberOfPixelsToDragTheScrollbarDown = 10;\n    for (int i = 10; i &lt; scrollPoints; i = i + numberOfPixelsToDragTheScrollbarDown)\n    {\n        dragger.moveToElement(webelement).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release(webelement).build().perform();\n    }\n    Thread.sleep(500);\n    return true;\n}\ncatch (Exception e)\n{\n    e.printStackTrace();\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2407833,"reputation":9436,"user_id":2103767,"accept_rate":83,"display_name":"bhantol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645988275,"creation_date":1499171812,"answer_id":44906195,"question_id":44905745,"body_markdown":"you can use `scrollIntoView`\r\n\r\nhttps://stackoverflow.com/q/34562095/2103767\r\nhttps://stackoverflow.com/q/34562095/2103767\r\n\r\nPass  the `more items` link element as an argument.\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\r\nYou can also use `moveToElement`\r\n\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element);\r\n    actions.perform();\r\n\r\n","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>you can use <code>scrollIntoView</code></p>\n<p><a href=\"https://stackoverflow.com/q/34562095/2103767\">scrollIntoView vs moveToElement</a>\n<a href=\"https://stackoverflow.com/q/34562095/2103767\">scrollIntoView vs moveToElement</a></p>\n<p>Pass  the <code>more items</code> link element as an argument.</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<p>You can also use <code>moveToElement</code></p>\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(element);\nactions.perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14513605,"reputation":67,"user_id":10483317,"display_name":"Ian"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1542017108,"creation_date":1542017108,"answer_id":53259837,"question_id":44905745,"body_markdown":"Another way of scrolling to the bottom inside (of) any scroll-able element:\r\n\r\n    public void scrollToBottomInsideDiv(WebElement scrollArea) {\r\n        JavascriptExecutor js = ((JavascriptExecutor) webdriver);\r\n        js.executeScript(&quot;arguments[0].scrollTo(0, arguments[0].scrollHeight)&quot;, scrollArea);\r\n    }","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>Another way of scrolling to the bottom inside (of) any scroll-able element:</p>\n\n<pre><code>public void scrollToBottomInsideDiv(WebElement scrollArea) {\n    JavascriptExecutor js = ((JavascriptExecutor) webdriver);\n    js.executeScript(\"arguments[0].scrollTo(0, arguments[0].scrollHeight)\", scrollArea);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10587491"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621427019,"creation_date":1621427019,"answer_id":67603224,"question_id":44905745,"body_markdown":"I had a div on a page that needed to be scrolled. Further, the data was loaded dynamically. The function whould be called from `while(someCondition())` loop. Used Java\r\n\r\n        private int scroll; \r\n        private void scrollDownPopup() {\r\n    \t\tscroll += 1000;\r\n    \t\tJavascriptExecutor jse = (JavascriptExecutor) browser;\r\n            // you can get query selector from inspector\r\n    \t\tjse.executeScript(&quot;document.querySelector(&#39;body &gt; div.Blah.Blah1 &gt; div &gt; div.ClassOfYourDiv&#39;).scrollTo(0, &quot;\r\n    \t\t\t\t+ scroll + &quot;);&quot;);\r\n    \t}","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>I had a div on a page that needed to be scrolled. Further, the data was loaded dynamically. The function whould be called from <code>while(someCondition())</code> loop. Used Java</p>\n<pre><code>    private int scroll; \n    private void scrollDownPopup() {\n        scroll += 1000;\n        JavascriptExecutor jse = (JavascriptExecutor) browser;\n        // you can get query selector from inspector\n        jse.executeScript(&quot;document.querySelector('body &gt; div.Blah.Blah1 &gt; div &gt; div.ClassOfYourDiv').scrollTo(0, &quot;\n                + scroll + &quot;);&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682516925,"creation_date":1682516925,"answer_id":76111561,"question_id":44905745,"body_markdown":"If you want to scroll to the end block of the particular element, you can use this approach:\r\n\r\n    public void scrollToEndBlockOfElement(WebElement element) {\r\n            JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\r\n            javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView({block: &#39;end&#39;})&quot;, element);\r\n        }","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>If you want to scroll to the end block of the particular element, you can use this approach:</p>\n<pre><code>public void scrollToEndBlockOfElement(WebElement element) {\n        JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\n        javascriptExecutor.executeScript(&quot;arguments[0].scrollIntoView({block: 'end'})&quot;, element);\n    }\n</code></pre>\n"}],"owner":{"account_id":9323495,"reputation":81,"user_id":6921563,"accept_rate":75,"display_name":"utkarshs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11906,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1682516925,"creation_date":1499170552,"question_id":44905745,"body_markdown":"I have a use case wherein there&#39;s a div element on the webpage, it appears like a popup dialog as soon as you click a link (its not an actual popup, its something like dialog boxes which opens in Facebook when you click a link to check reactions on your posts etc.)\r\n\r\nI&#39;m using Selenium WebDriver with Java to automate tests for this application, my use case involves me to scroll to the bottom of the dialog box where there is a link to show more items, when user clicks show more, it populates another 10 items in the list and so on until there are no other items left for the user to visit.\r\n\r\nSo basically I have to scroll down on that particular div element till I keep seeing `Show More` link and when driver is not able to find show more link it should stop. \r\n\r\nNote - I can&#39;t just scroll to bottom of the page using javascript `window.scrollTo()` as it will scroll down through whole webpage, however I just want to scroll to bottom of that division element only.\r\n\r\nIf anybody have any idea on how to achieve this please let me know.\r\n\r\nThanks for the help in advance !","title":"How to scroll to bottom of div element Selenium Webdriver","body":"<p>I have a use case wherein there's a div element on the webpage, it appears like a popup dialog as soon as you click a link (its not an actual popup, its something like dialog boxes which opens in Facebook when you click a link to check reactions on your posts etc.)</p>\n\n<p>I'm using Selenium WebDriver with Java to automate tests for this application, my use case involves me to scroll to the bottom of the dialog box where there is a link to show more items, when user clicks show more, it populates another 10 items in the list and so on until there are no other items left for the user to visit.</p>\n\n<p>So basically I have to scroll down on that particular div element till I keep seeing <code>Show More</code> link and when driver is not able to find show more link it should stop. </p>\n\n<p>Note - I can't just scroll to bottom of the page using javascript <code>window.scrollTo()</code> as it will scroll down through whole webpage, however I just want to scroll to bottom of that division element only.</p>\n\n<p>If anybody have any idea on how to achieve this please let me know.</p>\n\n<p>Thanks for the help in advance !</p>\n"},{"tags":["java","android","cordova"],"comments":[{"owner":{"account_id":20819606,"reputation":3,"user_id":15291610,"display_name":"Roman Grak"},"score":0,"creation_date":1682519312,"post_id":76111540,"comment_id":134229336,"body_markdown":"@Eric  this does not work","body":"@Eric  this does not work"}],"owner":{"account_id":20819606,"reputation":3,"user_id":15291610,"display_name":"Roman Grak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682679153,"answer_count":0,"score":0,"last_activity_date":1682516812,"creation_date":1682516812,"question_id":76111540,"body_markdown":"Fatal Exception: java.lang.IllegalArgumentException\r\n\r\nmy app in cordova vue2.\r\n\r\ni use cordova-plugin-local-notification version: 0.9.0-beta.2\r\n\r\nApp crashes (android 12-13) at runtime with the following error :\r\n\r\n    Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n    android.app.PendingIntent.checkFlags (PendingIntent.java:408)\r\n    android.app.PendingIntent.getBroadcastAsUser (PendingIntent.java:688)\r\n    android.app.PendingIntent.getBroadcast (PendingIntent.java:675)\r\n    de.appplant.cordova.plugin.notification.Notification.schedule (Notification.java:209)\r\n    de.appplant.cordova.plugin.notification.Manager.schedule (Manager.java:100)\r\n    de.appplant.cordova.plugin.localnotification.LocalNotification.schedule (LocalNotification.java:273)\r\n    de.appplant.cordova.plugin.localnotification.LocalNotification.access$400 (LocalNotification.java:60)\r\n    de.appplant.cordova.plugin.localnotification.LocalNotification$1.run (LocalNotification.java:145)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\r\n    java.lang.Thread.run (Thread.java:1012)","title":"App crashes: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>Fatal Exception: java.lang.IllegalArgumentException</p>\n<p>my app in cordova vue2.</p>\n<p>i use cordova-plugin-local-notification version: 0.9.0-beta.2</p>\n<p>App crashes (android 12-13) at runtime with the following error :</p>\n<pre><code>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\nandroid.app.PendingIntent.checkFlags (PendingIntent.java:408)\nandroid.app.PendingIntent.getBroadcastAsUser (PendingIntent.java:688)\nandroid.app.PendingIntent.getBroadcast (PendingIntent.java:675)\nde.appplant.cordova.plugin.notification.Notification.schedule (Notification.java:209)\nde.appplant.cordova.plugin.notification.Manager.schedule (Manager.java:100)\nde.appplant.cordova.plugin.localnotification.LocalNotification.schedule (LocalNotification.java:273)\nde.appplant.cordova.plugin.localnotification.LocalNotification.access$400 (LocalNotification.java:60)\nde.appplant.cordova.plugin.localnotification.LocalNotification$1.run (LocalNotification.java:145)\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\njava.lang.Thread.run (Thread.java:1012)\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-boot-security"],"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682435090,"post_id":76102307,"comment_id":134213260,"body_markdown":"can you see the authorities here `log.info(&quot;Adding role: {}&quot;, userRole.getName());`","body":"can you see the authorities here <code>log.info(&quot;Adding role: {}&quot;, userRole.getName());</code>"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682435751,"post_id":76102307,"comment_id":134213461,"body_markdown":"I basically get null values for roles and authorities. this is what i get when i debug the code.  appUser = {AppUser@9115} &quot;AppUser{id=6447d56197812f324c1e26ab, userName=&#39;John Travolta&#39;, email=&#39;john@gmail.com&#39;, password=&#39;$2a$10$y07UnYtLMfSAqVDDn2baEOBtNbrKrPO4OBrib1WhXAkeLpo8AC1u.&#39;, roles=[]}&quot;\n id = {ObjectId@9229} &quot;6447d56197812f324c1e26ab&quot;\n userName = &quot;John Travolta&quot;\n email = &quot;john@gmail.com&quot;\n password = &quot;$2a$10$y07UnYtLMfSAqVDDn2baEOBtNbrKrPO4OBrib1WhXAkeLpo8AC1u.&quot;\n roles = {ArrayList@9233}  size = 0\nauthorities = {ArrayList@9220}  size = 0","body":"I basically get null values for roles and authorities. this is what i get when i debug the code.  appUser = {AppUser@9115} &quot;AppUser{id=6447d56197812f324c1e26ab, userName=&#39;John Travolta&#39;, email=&#39;john@gmail.com&#39;, password=&#39;$2a$10$y07UnYtLMfSAqVDDn2baEOBtNbrKrPO4OBrib1WhXAk&zwnj;&#8203;eLpo8AC1u.&#39;, roles=[]}&quot;  id = {ObjectId@9229} &quot;6447d56197812f324c1e26ab&quot;  userName = &quot;John Travolta&quot;  email = &quot;john@gmail.com&quot;  password = &quot;$2a$10$y07UnYtLMfSAqVDDn2baEOBtNbrKrPO4OBrib1WhXAkeLpo8AC1u&zwnj;&#8203;.&quot;  roles = {ArrayList@9233}  size = 0 authorities = {ArrayList@9220}  size = 0"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1682435990,"post_id":76102307,"comment_id":134213540,"body_markdown":"If you can see the roles and authorities in MongoDB and while fetching appuser you&#39;re not seeing those roles and authorities. There must be something wrong with the entity classes(the problem might be in the relation). Can you share `AppUser`, `Role` and `Authority` (if you have) entities?","body":"If you can see the roles and authorities in MongoDB and while fetching appuser you&#39;re not seeing those roles and authorities. There must be something wrong with the entity classes(the problem might be in the relation). Can you share <code>AppUser</code>, <code>Role</code> and <code>Authority</code> (if you have) entities?"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682436415,"post_id":76102307,"comment_id":134213668,"body_markdown":"the relevant model classes are AppUser and UserRoles. I also think fetching the data from MongoDB might be the issue.","body":"the relevant model classes are AppUser and UserRoles. I also think fetching the data from MongoDB might be the issue."}],"answers":[{"tags":[],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682516705,"creation_date":1682516705,"answer_id":76111528,"question_id":76102307,"body_markdown":"I was able to resolve the issue by adding the roles to the MongoDB database, using the roleRepository.insert method to create a new UserRole object for the role and then add the role name to the user&#39;s roles array using the mongoTemplate.update method.\r\n\r\nHere&#39;s the updated code for the addRoleToUser method:\r\n\r\n   ```\r\n@Override\r\npublic void addRoleToUser(String email, String roleName) {\r\n    // Sanitize input by checking if the input strings are null or empty\r\n    if (email == null || email.isEmpty() || roleName == null || roleName.isEmpty()) {\r\n        throw new IllegalArgumentException(&quot;Username and role name cannot be null or empty&quot;);\r\n    }\r\n\r\n    // Create a new UserRole object for the role\r\n    UserRole userRole = roleRepository.insert(new UserRole(roleName));\r\n\r\n    // Add the role name to the user&#39;s roles array using the mongoTemplate.update method\r\n    mongoTemplate.update(AppUser.class)\r\n            .matching(Criteria.where(&quot;email&quot;).is(email))\r\n            .apply(new Update().push(&quot;roles&quot;).value(roleName))\r\n            .first();\r\n\r\n    // Add the UserRole object to the user&#39;s roles list\r\n    AppUser user = userRepository.findByEmailIgnoreCase(email);\r\n    user.getRoles().add(userRole);\r\n\r\n    log.info(&quot;Adding new role {} to a user {}&quot;, roleName, email);\r\n}\r\n\r\n\r\n```\r\n\r\n","title":"Trouble retrieving user roles from MongoDB for Spring Boot app with Spring Security","body":"<p>I was able to resolve the issue by adding the roles to the MongoDB database, using the roleRepository.insert method to create a new UserRole object for the role and then add the role name to the user's roles array using the mongoTemplate.update method.</p>\n<p>Here's the updated code for the addRoleToUser method:</p>\n<pre><code>@Override\npublic void addRoleToUser(String email, String roleName) {\n // Sanitize input by checking if the input strings are null or empty\n if (email == null || email.isEmpty() || roleName == null || roleName.isEmpty()) {\n     throw new IllegalArgumentException(&quot;Username and role name cannot be null or empty&quot;);\n }\n\n // Create a new UserRole object for the role\n UserRole userRole = roleRepository.insert(new UserRole(roleName));\n\n // Add the role name to the user's roles array using the mongoTemplate.update method\n mongoTemplate.update(AppUser.class)\n         .matching(Criteria.where(&quot;email&quot;).is(email))\n         .apply(new Update().push(&quot;roles&quot;).value(roleName))\n         .first();\n\n // Add the UserRole object to the user's roles list\n AppUser user = userRepository.findByEmailIgnoreCase(email);\n user.getRoles().add(userRole);\n\n log.info(&quot;Adding new role {} to a user {}&quot;, roleName, email);\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111528,"answer_count":1,"score":0,"last_activity_date":1682516705,"creation_date":1682432809,"question_id":76102307,"body_markdown":"I&#39;m working on a Spring Boot app with Spring Security and MongoDB, but I&#39;m having trouble getting user roles from the database to display in the UserDetails object. The roles field is always empty, despite confirming the roles are stored properly. When logging in, the authentication succeeds but the roles are not returned. I suspect there is an issue with how the roles are being added to the UserDetails object, but I&#39;m unsure how to resolve it. I&#39;ve tried various methods including manually adding the roles and checking logs, but I suspect the issue may be related to the mapping of User and UserRole entities in my MongoDB schema.\r\n\r\nl[![null pointer exception in intelliji showing that roles is nul](https://i.stack.imgur.com/djQao.png)](https://i.stack.imgur.com/djQao.png)*\r\n\r\n\r\n\r\n[![mongodb compass showing the values in the roles field is not null](https://i.stack.imgur.com/m9Pni.png)](https://i.stack.imgur.com/m9Pni.png)\r\n\r\n[![this is my get request in postman showing null values in roles field](https://i.stack.imgur.com/kx2BU.png)](https://i.stack.imgur.com/kx2BU.png)\r\n\r\n\r\n\r\nCustomAuthorizationFilter class \r\n\r\n```\r\n@Slf4j\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n    private EnvironmentKey environmentKey;\r\n    private UserService userService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\r\n            filterChain.doFilter(request,response);\r\n\r\n\r\n        }else {\r\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\r\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\r\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n\r\n                    String username = decodedJWT.getSubject();\r\n\r\n\r\n                       // here is where i get the nullPointer Exception\r\n                     String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n\r\n                    log.info(String.valueOf(roles));\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollection = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role -&gt; {\r\n\r\n                        authorityCollection.add(new SimpleGrantedAuthority(role));\r\n\r\n                    });\r\n                    UsernamePasswordAuthenticationToken authenticationToken =\r\n                            new UsernamePasswordAuthenticationToken(username,null,authorityCollection);\r\n                    SecurityContextHolder.getContext()\r\n                            .setAuthentication(authenticationToken);\r\n\r\n                    filterChain.doFilter(request,response);\r\n\r\n\r\n                }catch (JWTVerificationException ex) {\r\n                    log.error(&quot;Error logging in: {}&quot;, ex.getMessage());\r\n                    response.setHeader(&quot;ERROR&quot;, ex.getMessage());\r\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n\r\n                    Map&lt;String,String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error message&quot;,ex.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(),error);\r\n                }\r\n            }else {\r\n                log.info(&quot;Authorization header {}&quot; ,authorizationHeader);\r\n                log.info(&quot;start do filter&quot;);\r\n\r\n                filterChain.doFilter(request,response);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\nUserSerivce class\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\n@Transactional\r\n@Slf4j\r\npublic class UserServiceImpl implements UserService, UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        // Sanitize input by checking if the input is null or empty\r\n        if (email == null || email.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;email cannot be null or empty&quot;);\r\n        }\r\n\r\n        log.info(&quot;Looking up user with email: {}&quot;, email);\r\n        AppUser appUser = userRepository.findByEmailIgnoreCase(email);\r\n\r\n        if (appUser == null) {\r\n            throw new UsernameNotFoundException(&quot;email not found in the database&quot;);\r\n        }\r\n\r\n        log.info(&quot;Found user: {}&quot;, appUser);\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        appUser.getRoles().forEach(userRole -&gt; {\r\n            log.info(&quot;Adding role: {}&quot;, userRole.getName());\r\n            authorities.add(new SimpleGrantedAuthority(userRole.getName()));\r\n        });\r\n\r\n        return new org.springframework.security.core.userdetails.User(appUser.getEmail(), appUser.getPassword(), authorities);\r\n    }\r\n\r\n```\r\n\r\n**Edit**\r\nAppUser class\r\n```\r\n    @Document(collection = &quot;app_users&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class AppUser {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    @NotBlank(message = &quot;Name is mandatory&quot;)\r\n    private String userName;\r\n    @NotBlank(message = &quot;Email is mandatory&quot;)\r\n    @Email(message = &quot;Email should be valid&quot;)\r\n    private String email;\r\n    @NotBlank(message = &quot;Password is mandatory&quot;)\r\n    private String password;\r\n\r\n    @DocumentReference\r\n\r\n    private Collection&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n    public Collection&lt;UserRole&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;AppUser{&quot;)\r\n                .append(&quot;id=&quot;).append(id)\r\n                .append(&quot;, userName=&#39;&quot;).append(userName).append(&#39;\\&#39;&#39;)\r\n                .append(&quot;, email=&#39;&quot;).append(email).append(&#39;\\&#39;&#39;)\r\n                .append(&quot;, password=&#39;&quot;).append(password).append(&#39;\\&#39;&#39;)\r\n                .append(&quot;, roles=[&quot;);\r\n        for (UserRole role : roles) {\r\n            sb.append(role.getName()).append(&quot;, &quot;);\r\n        }\r\n        if (!roles.isEmpty()) {\r\n            sb.setLength(sb.length() - 2); // Remove the last &quot;, &quot; characters\r\n        }\r\n        sb.append(&quot;]}&quot;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\nUserRole class \r\n\r\n```\r\n@Document(collection = &quot;user_roles&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserRole {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nSecurity configuration class\r\n```\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder cryptPasswordEncoder;\r\n\r\n\r\n    private final AuthenticationConfiguration authenticationConfiguration;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\r\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\r\n\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\r\n        http.authorizeHttpRequests().anyRequest().authenticated();\r\n        http.addFilter(filter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n\r\n    }\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trouble retrieving user roles from MongoDB for Spring Boot app with Spring Security","body":"<p>I'm working on a Spring Boot app with Spring Security and MongoDB, but I'm having trouble getting user roles from the database to display in the UserDetails object. The roles field is always empty, despite confirming the roles are stored properly. When logging in, the authentication succeeds but the roles are not returned. I suspect there is an issue with how the roles are being added to the UserDetails object, but I'm unsure how to resolve it. I've tried various methods including manually adding the roles and checking logs, but I suspect the issue may be related to the mapping of User and UserRole entities in my MongoDB schema.</p>\n<p>l<a href=\"https://i.stack.imgur.com/djQao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/djQao.png\" alt=\"null pointer exception in intelliji showing that roles is nul\" /></a>*</p>\n<p><a href=\"https://i.stack.imgur.com/m9Pni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9Pni.png\" alt=\"mongodb compass showing the values in the roles field is not null\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kx2BU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kx2BU.png\" alt=\"this is my get request in postman showing null values in roles field\" /></a></p>\n<p>CustomAuthorizationFilter class</p>\n<pre><code>@Slf4j\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\n\n    private EnvironmentKey environmentKey;\n    private UserService userService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\n            filterChain.doFilter(request,response);\n\n\n        }else {\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n\n                    String username = decodedJWT.getSubject();\n\n\n                       // here is where i get the nullPointer Exception\n                     String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n\n                    log.info(String.valueOf(roles));\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollection = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n\n                        authorityCollection.add(new SimpleGrantedAuthority(role));\n\n                    });\n                    UsernamePasswordAuthenticationToken authenticationToken =\n                            new UsernamePasswordAuthenticationToken(username,null,authorityCollection);\n                    SecurityContextHolder.getContext()\n                            .setAuthentication(authenticationToken);\n\n                    filterChain.doFilter(request,response);\n\n\n                }catch (JWTVerificationException ex) {\n                    log.error(&quot;Error logging in: {}&quot;, ex.getMessage());\n                    response.setHeader(&quot;ERROR&quot;, ex.getMessage());\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n\n                    Map&lt;String,String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error message&quot;,ex.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(),error);\n                }\n            }else {\n                log.info(&quot;Authorization header {}&quot; ,authorizationHeader);\n                log.info(&quot;start do filter&quot;);\n\n                filterChain.doFilter(request,response);\n\n            }\n\n        }\n\n\n    }\n}\n</code></pre>\n<pre><code>\nUserSerivce class\n\n@Service\n@RequiredArgsConstructor\n@Transactional\n@Slf4j\npublic class UserServiceImpl implements UserService, UserDetailsService {\n\n    private final UserRepository userRepository;\n    private final RoleRepository roleRepository;\n    private final PasswordEncoder passwordEncoder;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        // Sanitize input by checking if the input is null or empty\n        if (email == null || email.isEmpty()) {\n            throw new IllegalArgumentException(&quot;email cannot be null or empty&quot;);\n        }\n\n        log.info(&quot;Looking up user with email: {}&quot;, email);\n        AppUser appUser = userRepository.findByEmailIgnoreCase(email);\n\n        if (appUser == null) {\n            throw new UsernameNotFoundException(&quot;email not found in the database&quot;);\n        }\n\n        log.info(&quot;Found user: {}&quot;, appUser);\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        appUser.getRoles().forEach(userRole -&gt; {\n            log.info(&quot;Adding role: {}&quot;, userRole.getName());\n            authorities.add(new SimpleGrantedAuthority(userRole.getName()));\n        });\n\n        return new org.springframework.security.core.userdetails.User(appUser.getEmail(), appUser.getPassword(), authorities);\n    }\n\n</code></pre>\n<p><strong>Edit</strong>\nAppUser class</p>\n<pre><code>    @Document(collection = &quot;app_users&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AppUser {\n\n    @Id\n    private ObjectId id;\n    @NotBlank(message = &quot;Name is mandatory&quot;)\n    private String userName;\n    @NotBlank(message = &quot;Email is mandatory&quot;)\n    @Email(message = &quot;Email should be valid&quot;)\n    private String email;\n    @NotBlank(message = &quot;Password is mandatory&quot;)\n    private String password;\n\n    @DocumentReference\n\n    private Collection&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\n\n    public Collection&lt;UserRole&gt; getRoles() {\n        return roles;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;AppUser{&quot;)\n                .append(&quot;id=&quot;).append(id)\n                .append(&quot;, userName='&quot;).append(userName).append('\\'')\n                .append(&quot;, email='&quot;).append(email).append('\\'')\n                .append(&quot;, password='&quot;).append(password).append('\\'')\n                .append(&quot;, roles=[&quot;);\n        for (UserRole role : roles) {\n            sb.append(role.getName()).append(&quot;, &quot;);\n        }\n        if (!roles.isEmpty()) {\n            sb.setLength(sb.length() - 2); // Remove the last &quot;, &quot; characters\n        }\n        sb.append(&quot;]}&quot;);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>UserRole class</p>\n<pre><code>@Document(collection = &quot;user_roles&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserRole {\n\n    @Id\n    private ObjectId id;\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Security configuration class</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder cryptPasswordEncoder;\n\n\n    private final AuthenticationConfiguration authenticationConfiguration;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\n\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        http.addFilter(filter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n\n    }\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1682514497,"post_id":76111096,"comment_id":134227900,"body_markdown":"Don&#39;t specify a version, Spring Boot will automatically manage the version to a compatible one.","body":"Don&#39;t specify a version, Spring Boot will automatically manage the version to a compatible one."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1682514896,"post_id":76111096,"comment_id":134228020,"body_markdown":"if you import your project through spring-boot-starter-parent, it will include the dependencyManagement from spring-boot-dependencies, which should distribute a set of compatible versions. At that version, spring-kafka 2.8.11 is used.","body":"if you import your project through spring-boot-starter-parent, it will include the dependencyManagement from spring-boot-dependencies, which should distribute a set of compatible versions. At that version, spring-kafka 2.8.11 is used."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1682515382,"post_id":76111096,"comment_id":134228157,"body_markdown":"Or, upgrade to Boot 3","body":"Or, upgrade to Boot 3"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682516688,"creation_date":1682516688,"answer_id":76111525,"question_id":76111096,"body_markdown":"See the compatibility matrix: https://spring.io/projects/spring-kafka.\r\n\r\nThe recommended version of Spring for Apache Kafka with Spring Boot `2.7.x` is `2.9.x`.\r\n\r\nYou cannot use `spring-kafka-3.0.x` with that Spring Boot version since it is already for Spring Boot `3.0.x` and upcoming `3.1`.","title":"What version of spring-kafka is compatible with spring-boot 2.7.9? spring-kafka 3.0.5 fails","body":"<p>See the compatibility matrix: <a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka</a>.</p>\n<p>The recommended version of Spring for Apache Kafka with Spring Boot <code>2.7.x</code> is <code>2.9.x</code>.</p>\n<p>You cannot use <code>spring-kafka-3.0.x</code> with that Spring Boot version since it is already for Spring Boot <code>3.0.x</code> and upcoming <code>3.1</code>.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111525,"answer_count":1,"score":0,"last_activity_date":1682516688,"creation_date":1682514231,"question_id":76111096,"body_markdown":"I start a `2.7.9` Spring-boot application using among its dependencies: `org.springframework.kafka:spring-kafka:3.0.5`.\r\n\r\nIt ends quickly with a log, where not part of it is a line I&#39;ve written:\r\n\r\n```log\r\n2023-04-26 14:53:37.756 DEBUG 375289 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : Application failed to start due to an exception\r\n\r\njava.lang.NoSuchMethodError: &#39;void org.springframework.kafka.listener.ConsumerProperties.setOnlyLogRecordMetadata(boolean)&#39;\r\n\tat org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configureContainer(ConcurrentKafkaListenerContainerFactoryConfigurer.java:212) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configure(ConcurrentKafkaListenerContainerFactoryConfigurer.java:169) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration.kafkaListenerContainerFactory(KafkaAnnotationDrivenConfiguration.java:129) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar!/:5.3.25]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar!/:2.7.9]\r\n\tat fr.ecoemploi.application.etude.Application.main(Application.java:28) ~[classes!/:0.0.12-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[etude.war:0.0.12-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[etude.war:0.0.12-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[etude.war:0.0.12-SNAPSHOT]\r\n\tat org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) ~[etude.war:0.0.12-SNAPSHOT]\r\n\r\n2023-04-26 14:53:37.756 ERROR 375289 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configureContainer(ConcurrentKafkaListenerContainerFactoryConfigurer.java:212)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.springframework.kafka.listener.ConsumerProperties.setOnlyLogRecordMetadata(boolean)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer, was loaded from the following location:\r\n\r\n    jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-boot-autoconfigure-2.7.9.jar!/org/springframework/boot/autoconfigure/kafka/ConcurrentKafkaListenerContainerFactoryConfigurer.class\r\n\r\nThe called method&#39;s class, org.springframework.kafka.listener.ConsumerProperties, is available from the following locations:\r\n\r\n    jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-kafka-3.0.5.jar!/org/springframework/kafka/listener/ConsumerProperties.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.kafka.listener.ConsumerProperties: jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-kafka-3.0.5.jar!/\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer and org.springframework.kafka.listener.ConsumerProperties\r\n```\r\n\r\nSo the log gives itself the solution, it seems:\r\n\r\n__Correct the classpath of your application so that it contains compatible versions of the classes__\r\n\r\nBut what are the compatible version of `spring-kafka` with `org.springframework.kafka`?\r\n","title":"What version of spring-kafka is compatible with spring-boot 2.7.9? spring-kafka 3.0.5 fails","body":"<p>I start a <code>2.7.9</code> Spring-boot application using among its dependencies: <code>org.springframework.kafka:spring-kafka:3.0.5</code>.</p>\n<p>It ends quickly with a log, where not part of it is a line I've written:</p>\n<pre><code>2023-04-26 14:53:37.756 DEBUG 375289 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : Application failed to start due to an exception\n\njava.lang.NoSuchMethodError: 'void org.springframework.kafka.listener.ConsumerProperties.setOnlyLogRecordMetadata(boolean)'\n    at org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configureContainer(ConcurrentKafkaListenerContainerFactoryConfigurer.java:212) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configure(ConcurrentKafkaListenerContainerFactoryConfigurer.java:169) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration.kafkaListenerContainerFactory(KafkaAnnotationDrivenConfiguration.java:129) ~[spring-boot-autoconfigure-2.7.9.jar!/:2.7.9]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar!/:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar!/:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar!/:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar!/:2.7.9]\n    at fr.ecoemploi.application.etude.Application.main(Application.java:28) ~[classes!/:0.0.12-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[etude.war:0.0.12-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[etude.war:0.0.12-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[etude.war:0.0.12-SNAPSHOT]\n    at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) ~[etude.war:0.0.12-SNAPSHOT]\n\n2023-04-26 14:53:37.756 ERROR 375289 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer.configureContainer(ConcurrentKafkaListenerContainerFactoryConfigurer.java:212)\n\nThe following method did not exist:\n\n    'void org.springframework.kafka.listener.ConsumerProperties.setOnlyLogRecordMetadata(boolean)'\n\nThe calling method's class, org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer, was loaded from the following location:\n\n    jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-boot-autoconfigure-2.7.9.jar!/org/springframework/boot/autoconfigure/kafka/ConcurrentKafkaListenerContainerFactoryConfigurer.class\n\nThe called method's class, org.springframework.kafka.listener.ConsumerProperties, is available from the following locations:\n\n    jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-kafka-3.0.5.jar!/org/springframework/kafka/listener/ConsumerProperties.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.springframework.kafka.listener.ConsumerProperties: jar:file:/home/lebihan/dev/Java/comptes-france/web-client/ApplicationEtude/target/etude.war!/WEB-INF/lib/spring-kafka-3.0.5.jar!/\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer and org.springframework.kafka.listener.ConsumerProperties\n</code></pre>\n<p>So the log gives itself the solution, it seems:</p>\n<p><strong>Correct the classpath of your application so that it contains compatible versions of the classes</strong></p>\n<p>But what are the compatible version of <code>spring-kafka</code> with <code>org.springframework.kafka</code>?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682516514,"creation_date":1682516196,"answer_id":76111432,"question_id":76111353,"body_markdown":"I guess it is possible to create temporary user in keycloak with limited login period by setting expiration date on user account.\r\n\r\nThis can be done by going to keycloak admin console --&gt; User and setting &quot;Account Expiration&quot; date in Credentials tab.\r\n\r\nFor login only once,\r\n\r\nSet &quot;Required Actions&quot; for the user to &quot;Update password&quot; and configure Expiration option to be &quot;1&quot;. This is make user to reset the password on logging, once changed the account will be deactivated.\r\n\r\nNote: I haven&#39;t tried this scenario practically.","title":"Temporary User in Keycloak","body":"<p>I guess it is possible to create temporary user in keycloak with limited login period by setting expiration date on user account.</p>\n<p>This can be done by going to keycloak admin console --&gt; User and setting &quot;Account Expiration&quot; date in Credentials tab.</p>\n<p>For login only once,</p>\n<p>Set &quot;Required Actions&quot; for the user to &quot;Update password&quot; and configure Expiration option to be &quot;1&quot;. This is make user to reset the password on logging, once changed the account will be deactivated.</p>\n<p>Note: I haven't tried this scenario practically.</p>\n"}],"owner":{"account_id":216108,"reputation":1219,"user_id":471137,"accept_rate":10,"display_name":"troger19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682516514,"creation_date":1682515732,"question_id":76111353,"body_markdown":"I need to allow restricted access to my system secured by Keycloak. \r\n&lt;p&gt;Is it possible to create &lt;strong&gt;temporary&lt;/strong&gt; user (restricted by time or number of logins = 1) with specific role? Or is it better to create user with role and some clean-up jobs that will delete such users? May this job (scheduyler) be running on Keycloak itself? Or any other suggestions?\r\n\r\nMany thanks","title":"Temporary User in Keycloak","body":"<p>I need to allow restricted access to my system secured by Keycloak.</p>\n<p>Is it possible to create <strong>temporary</strong> user (restricted by time or number of logins = 1) with specific role? Or is it better to create user with role and some clean-up jobs that will delete such users? May this job (scheduyler) be running on Keycloak itself? Or any other suggestions?\n<p>Many thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8302449,"reputation":1284,"user_id":6240681,"display_name":"Noel Murphy"},"score":0,"creation_date":1682518534,"post_id":76111473,"comment_id":134229080,"body_markdown":"int age = result.getInt(&quot;age &quot;); is probably causing issues when you execute the query and try to instantiate your Dog. Be careful with white spaces.","body":"int age = result.getInt(&quot;age &quot;); is probably causing issues when you execute the query and try to instantiate your Dog. Be careful with white spaces."}],"owner":{"account_id":28423510,"reputation":3,"user_id":21745241,"display_name":"TheCodeMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682516424,"creation_date":1682516424,"question_id":76111473,"body_markdown":"Recently I wanted to make a program that uses a mysql database and i can&#39;t figure out how to create the connection. Even if my program starts it doesn&#39;t load the my data.\r\n\r\n```\r\npackage com.example.vet;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class DBConnection {\r\n    private Connection conn;\r\n    private static String DRIVER = &quot;mysql&quot;;\r\n    private static String HOST = &quot;localhost&quot;;\r\n    private static String PORT = &quot;3000&quot;;\r\n    private static String DBNAME = &quot;dogs&quot;;\r\n    private static String USER = &quot;root&quot;;\r\n    private static String PASS = &quot;Admin&quot;;\r\n\r\n    public DBConnection() throws SQLException {\r\n        String url = String.format(&quot;jdbc:%s://%s:%s/%s&quot;, DRIVER, HOST, PORT, DBNAME);\r\n        conn = DriverManager.getConnection(url, USER, PASS);\r\n    }\r\n\r\n    public List&lt;Dog&gt; readDogs() throws SQLException {\r\n        List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\r\n        String sql = &quot;SELECT * from dogs&quot;;\r\n        Statement stmt = conn.createStatement();\r\n        ResultSet result = stmt.executeQuery(sql);\r\n        while (result.next()) {\r\n            int id = result.getInt(&quot;id&quot;);\r\n            String name = result.getString(&quot;name&quot;);\r\n            String ownerName = result.getString(&quot;owner_name&quot;);\r\n            int age = result.getInt(&quot;age &quot;);\r\n            Dog dog = new Dog(id, name , ownerName , age);\r\n            dogs.add(dog);\r\n        }\r\n        return books;\r\n    }\r\n\r\n    public boolean deleteDog(Dog selected) throws SQLException {\r\n        String sql = &quot;DELETE from dogs WHERE id = ? &quot;;\r\n        PreparedStatement stmt = conn.prepareStatement(sql);\r\n        stmt.setInt(1, selected.getId());\r\n        return stmt.executeUpdate() == 1; \r\n    }\r\n}\r\n```\r\n\r\nConnection to my database.","title":"How can I connect to my Mysql database with a DataBaseHelper class?","body":"<p>Recently I wanted to make a program that uses a mysql database and i can't figure out how to create the connection. Even if my program starts it doesn't load the my data.</p>\n<pre><code>package com.example.vet;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DBConnection {\n    private Connection conn;\n    private static String DRIVER = &quot;mysql&quot;;\n    private static String HOST = &quot;localhost&quot;;\n    private static String PORT = &quot;3000&quot;;\n    private static String DBNAME = &quot;dogs&quot;;\n    private static String USER = &quot;root&quot;;\n    private static String PASS = &quot;Admin&quot;;\n\n    public DBConnection() throws SQLException {\n        String url = String.format(&quot;jdbc:%s://%s:%s/%s&quot;, DRIVER, HOST, PORT, DBNAME);\n        conn = DriverManager.getConnection(url, USER, PASS);\n    }\n\n    public List&lt;Dog&gt; readDogs() throws SQLException {\n        List&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\n        String sql = &quot;SELECT * from dogs&quot;;\n        Statement stmt = conn.createStatement();\n        ResultSet result = stmt.executeQuery(sql);\n        while (result.next()) {\n            int id = result.getInt(&quot;id&quot;);\n            String name = result.getString(&quot;name&quot;);\n            String ownerName = result.getString(&quot;owner_name&quot;);\n            int age = result.getInt(&quot;age &quot;);\n            Dog dog = new Dog(id, name , ownerName , age);\n            dogs.add(dog);\n        }\n        return books;\n    }\n\n    public boolean deleteDog(Dog selected) throws SQLException {\n        String sql = &quot;DELETE from dogs WHERE id = ? &quot;;\n        PreparedStatement stmt = conn.prepareStatement(sql);\n        stmt.setInt(1, selected.getId());\n        return stmt.executeUpdate() == 1; \n    }\n}\n</code></pre>\n<p>Connection to my database.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682516888,"post_id":76111391,"comment_id":134228559,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":28423501,"reputation":1,"user_id":21745233,"display_name":"maniacwithnoskill"},"score":0,"creation_date":1682517778,"post_id":76111391,"comment_id":134228806,"body_markdown":"Well, I will try to explain as best as I can. Saving the event to selected date is working fine. But when I want to see the saved event on selected date. Nothing will show up but &quot;Please input event&quot;. So my saved event is not showing. The console is not showing any errors.","body":"Well, I will try to explain as best as I can. Saving the event to selected date is working fine. But when I want to see the saved event on selected date. Nothing will show up but &quot;Please input event&quot;. So my saved event is not showing. The console is not showing any errors."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682517838,"post_id":76111391,"comment_id":134228833,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, error.getMessage());`. Do you get something printed out in the logcat?","body":"First of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, error.getMessage());</code>. Do you get something printed out in the logcat?"},{"owner":{"account_id":28423501,"reputation":1,"user_id":21745233,"display_name":"maniacwithnoskill"},"score":0,"creation_date":1682519125,"post_id":76111391,"comment_id":134229274,"body_markdown":"I&#39;m not sure how to implement it in a code. I&#39;m newbie in Android Studio.","body":"I&#39;m not sure how to implement it in a code. I&#39;m newbie in Android Studio."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":2,"creation_date":1682519709,"post_id":76111391,"comment_id":134229442,"body_markdown":"Now&#39;s a good time to learn [how to debug your code](https://developer.android.com/studio/debug).","body":"Now&#39;s a good time to learn <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">how to debug your code</a>."},{"owner":{"account_id":28423501,"reputation":1,"user_id":21745233,"display_name":"maniacwithnoskill"},"score":0,"creation_date":1682520343,"post_id":76111391,"comment_id":134229626,"body_markdown":"These are the errors I got: 1. Target file doesn&#39;t exist: system/vendor/etc/sf_resolution_tuner_app_list.xml 2. ioctl c0044901 failed with code -1: Invalid argument I see some accessing a hidden methor or waiting too long as well. Also I&#39;m testing my app via my mobile phone (moto e6), not emulator.","body":"These are the errors I got: 1. Target file doesn&#39;t exist: system/vendor/etc/sf_resolution_tuner_app_list.xml 2. ioctl c0044901 failed with code -1: Invalid argument I see some accessing a hidden methor or waiting too long as well. Also I&#39;m testing my app via my mobile phone (moto e6), not emulator."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1682520421,"post_id":76111391,"comment_id":134229645,"body_markdown":"Don&#39;t post the additional information (just) in comments please. Edit your question include a full [minimal repro](http://stackoverflow.com/help/mcve) (read the link please, it&#39;s quite helpful).","body":"Don&#39;t post the additional information (just) in comments please. Edit your question include a full <a href=\"http://stackoverflow.com/help/mcve\">minimal repro</a> (read the link please, it&#39;s quite helpful)."}],"owner":{"account_id":28423501,"reputation":1,"user_id":21745233,"display_name":"maniacwithnoskill"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682516383,"creation_date":1682515985,"question_id":76111391,"body_markdown":"I&#39;m using a Firebase with my Android Studio project. \r\n\r\nHow the MainActivity should work: \r\n  1. User will pick a date in Calendar View.\r\n  2. After choosing the date, they will write their event in editText\r\n  3. After clicking the button, the event is saved to Firebase Realtime Database.\r\n  4. After clicking on the date where they wrote an event, it is supposed to be written in the same editText.\r\n\r\nUsers are unable to see their events after clicking the date. It just does not show up in the editText. Any idea why is that? \r\n\r\nMy code: \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    FirebaseAuth auth;\r\n    TextView textViewLogOut, user_details, kalkulacka_go;\r\n    FirebaseUser user;\r\n    DatabaseReference mDatabase;\r\n    CalendarView calendarView;\r\n    EditText editTextEvent;\r\n    Button buttonSave;\r\n    FirebaseUser mCurrentUser;\r\n\r\n    String stringDateSelected;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        textViewLogOut = findViewById(R.id.textViewLogOut);\r\n        user_details = findViewById(R.id.user_details);\r\n        kalkulacka_go = findViewById(R.id.kalkulacka_go);\r\n        user = auth.getCurrentUser();\r\n\r\n        calendarView = findViewById(R.id.calendarView);\r\n        editTextEvent = findViewById(R.id.editTextEvent);\r\n        buttonSave = findViewById(R.id.buttonSave);\r\n\r\n        mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Calendar&quot;);\r\n        String userId = user.getUid();\r\n\r\n        calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n            @Override\r\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(year, month, dayOfMonth);\r\n                long selectedDate = calendar.getTimeInMillis();\r\n\r\n                // get event for selected date from Firebase Realtime Database\r\n                String key = String.valueOf(selectedDate);\r\n                DatabaseReference eventRef = mDatabase.child(&quot;events&quot;).child(userId).child(key);\r\n                eventRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        // set editText text to event for selected date, or &quot;Please input event&quot; if no event is found\r\n                        String event = snapshot.getValue(String.class);\r\n                        if (event != null) {\r\n                            editTextEvent.setText(event);\r\n                        } else {\r\n                            editTextEvent.setText(&quot;Please input event&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        // handle error\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        buttonSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                long selectedDate = calendarView.getDate();\r\n\r\n                // get event from editText\r\n                String event = editTextEvent.getText().toString().trim();\r\n\r\n                // save event for selected date to Firebase Realtime Database\r\n                String key = String.valueOf(selectedDate);\r\n                DatabaseReference eventRef = mDatabase.child(&quot;events&quot;).child(userId).child(key);\r\n                eventRef.setValue(event);\r\n                }\r\n        });\r\n\r\n        if(user == null){\r\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n\r\n        else{\r\n            user_details.setText(user.getEmail());\r\n        }\r\n\r\n        textViewLogOut.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        kalkulacka_go.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), CalculatorActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI watched a ton of tutorials, I changed the rules of my Realtime Database. The code should be working but I had to make a mistake somewhere. ","title":"How can I see events I saved to Firebase Realtime Database?","body":"<p>I'm using a Firebase with my Android Studio project.</p>\n<p>How the MainActivity should work:</p>\n<ol>\n<li>User will pick a date in Calendar View.</li>\n<li>After choosing the date, they will write their event in editText</li>\n<li>After clicking the button, the event is saved to Firebase Realtime Database.</li>\n<li>After clicking on the date where they wrote an event, it is supposed to be written in the same editText.</li>\n</ol>\n<p>Users are unable to see their events after clicking the date. It just does not show up in the editText. Any idea why is that?</p>\n<p>My code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    FirebaseAuth auth;\n    TextView textViewLogOut, user_details, kalkulacka_go;\n    FirebaseUser user;\n    DatabaseReference mDatabase;\n    CalendarView calendarView;\n    EditText editTextEvent;\n    Button buttonSave;\n    FirebaseUser mCurrentUser;\n\n    String stringDateSelected;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        auth = FirebaseAuth.getInstance();\n        textViewLogOut = findViewById(R.id.textViewLogOut);\n        user_details = findViewById(R.id.user_details);\n        kalkulacka_go = findViewById(R.id.kalkulacka_go);\n        user = auth.getCurrentUser();\n\n        calendarView = findViewById(R.id.calendarView);\n        editTextEvent = findViewById(R.id.editTextEvent);\n        buttonSave = findViewById(R.id.buttonSave);\n\n        mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\n        mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Calendar&quot;);\n        String userId = user.getUid();\n\n        calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n            @Override\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\n                Calendar calendar = Calendar.getInstance();\n                calendar.set(year, month, dayOfMonth);\n                long selectedDate = calendar.getTimeInMillis();\n\n                // get event for selected date from Firebase Realtime Database\n                String key = String.valueOf(selectedDate);\n                DatabaseReference eventRef = mDatabase.child(&quot;events&quot;).child(userId).child(key);\n                eventRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        // set editText text to event for selected date, or &quot;Please input event&quot; if no event is found\n                        String event = snapshot.getValue(String.class);\n                        if (event != null) {\n                            editTextEvent.setText(event);\n                        } else {\n                            editTextEvent.setText(&quot;Please input event&quot;);\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        // handle error\n                    }\n                });\n            }\n        });\n\n        buttonSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                long selectedDate = calendarView.getDate();\n\n                // get event from editText\n                String event = editTextEvent.getText().toString().trim();\n\n                // save event for selected date to Firebase Realtime Database\n                String key = String.valueOf(selectedDate);\n                DatabaseReference eventRef = mDatabase.child(&quot;events&quot;).child(userId).child(key);\n                eventRef.setValue(event);\n                }\n        });\n\n        if(user == null){\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n            startActivity(intent);\n            finish();\n        }\n\n        else{\n            user_details.setText(user.getEmail());\n        }\n\n        textViewLogOut.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FirebaseAuth.getInstance().signOut();\n                Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n\n        kalkulacka_go.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), CalculatorActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n    }\n}\n</code></pre>\n<p>I watched a ton of tutorials, I changed the rules of my Realtime Database. The code should be working but I had to make a mistake somewhere.</p>\n"},{"tags":["java","executable","jpackage"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1682526903,"post_id":76108915,"comment_id":134231505,"body_markdown":"BTW, it looks like your app is modular. So, you should be able to skip the separate `jlink` step, and use `--module davidalayachew.HelltakerPathFinder` instead of `--main-jar &lt;jar&gt;` in the jpackage command (and then you can also drop the `--runtime-image` flag).","body":"BTW, it looks like your app is modular. So, you should be able to skip the separate <code>jlink</code> step, and use <code>--module davidalayachew.HelltakerPathFinder</code> instead of <code>--main-jar &lt;jar&gt;</code> in the jpackage command (and then you can also drop the <code>--runtime-image</code> flag)."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682528697,"post_id":76108915,"comment_id":134231973,"body_markdown":"Oh beautiful, ty vm. Is there anywhere I can look to see more documentation about what flags/options are needed if others are activated? Most of the documentation merely explains what each command does, but not how they are related to each other.","body":"Oh beautiful, ty vm. Is there anywhere I can look to see more documentation about what flags/options are needed if others are activated? Most of the documentation merely explains what each command does, but not how they are related to each other."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1682557457,"post_id":76108915,"comment_id":134236409,"body_markdown":"I don&#39;t know about documentation specifically for that, but you might find what you need in the user guide: https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A","body":"I don&#39;t know about documentation specifically for that, but you might find what you need in the user guide: <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/jpackage/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682516365,"creation_date":1682516365,"answer_id":76111462,"question_id":76108915,"body_markdown":"There&#39;s the `--java-options` flag for that:\r\n\r\n    --java-options &lt;java options&gt;\r\n          Options to pass to the Java runtime\r\n          This option can be used multiple times.\r\n\r\nSo, for you that would be:\r\n\r\n    --java-options &#39;--enable-preview&#39;","title":"How to use jpackage with preview features in Java","body":"<p>There's the <code>--java-options</code> flag for that:</p>\n<pre><code>--java-options &lt;java options&gt;\n      Options to pass to the Java runtime\n      This option can be used multiple times.\n</code></pre>\n<p>So, for you that would be:</p>\n<pre><code>--java-options '--enable-preview'\n</code></pre>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111462,"answer_count":1,"score":0,"last_activity_date":1682516365,"creation_date":1682499355,"question_id":76108915,"body_markdown":"I am trying to create a Microsoft Windows .exe version of my application using `jpackage`. However, my application uses features that are currently in preview. Here is my build script.\r\n\r\n```bash\r\n#compiles with preview features enabled\r\njavac --enable-preview --source 21 -d classes src/Helltaker/Main.java src/module-info.java\r\n\r\n#creates the jar file in the run folder\r\njar --create --file run/HelltakerPathFinder_run_me.jar --main-class Helltaker.Main -C classes .\r\n\r\n#deletes the jlink created runtime from previous runs of this script\r\nrm -rf ../_CUSTOM_JAVA_RUNTIME\r\n\r\n#creates a minimized version of the Java Runtime and stores it into the _CUSTOM_JAVA_RUNTIME folder\r\njlink --output ../_CUSTOM_JAVA_RUNTIME --add-modules davidalayachew.HelltakerPathFinder --module-path run\r\n\r\n#use jpackage to package it up for installation and running\r\njpackage \\\r\n         --input run \\\r\n         --name HelltakerPathFinder \\\r\n         --description &quot;A path finding algorithm for the video game Helltaker -- written in Java 20&quot; \\\r\n         --main-jar HelltakerPathFinder_run_me.jar \\\r\n         --win-console \\\r\n         --runtime-image ../_CUSTOM_JAVA_RUNTIME\r\n\r\n```\r\n\r\nSo, I tried it, and it finished without error. A .exe file was created. I moved the executable to a different folder, double clicked it, and then an install started. Once the install finished, I navigated to the newly installed application&#39;s location (C:\\Program Files\\HelltakerPathFinder), opened up a windows terminal there, started the application, and then it failed with the following message.\r\n\r\n```powershell\r\nPS C:\\Program Files\\HelltakerPathFinder&gt; .\\HelltakerPathFinder.exe\r\nError: LinkageError occurred while loading main class Helltaker.Main\r\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled for Helltaker/Main (class file version 65.65535). Try running with &#39;--enable-preview&#39;\r\n```\r\n\r\nSo, I tried running with `--enable-preview` and got this.\r\n\r\n```powershell\r\nPS C:\\Program Files\\HelltakerPathFinder&gt; .\\HelltakerPathFinder.exe --enable-preview\r\nError: LinkageError occurred while loading main class Helltaker.Main\r\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled for Helltaker/Main (class file version 65.65535). Try running with &#39;--enable-preview&#39;\r\n```\r\n\r\nHow do I get this .exe file to run with `--enable-preview`?","title":"How to use jpackage with preview features in Java","body":"<p>I am trying to create a Microsoft Windows .exe version of my application using <code>jpackage</code>. However, my application uses features that are currently in preview. Here is my build script.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#compiles with preview features enabled\njavac --enable-preview --source 21 -d classes src/Helltaker/Main.java src/module-info.java\n\n#creates the jar file in the run folder\njar --create --file run/HelltakerPathFinder_run_me.jar --main-class Helltaker.Main -C classes .\n\n#deletes the jlink created runtime from previous runs of this script\nrm -rf ../_CUSTOM_JAVA_RUNTIME\n\n#creates a minimized version of the Java Runtime and stores it into the _CUSTOM_JAVA_RUNTIME folder\njlink --output ../_CUSTOM_JAVA_RUNTIME --add-modules davidalayachew.HelltakerPathFinder --module-path run\n\n#use jpackage to package it up for installation and running\njpackage \\\n         --input run \\\n         --name HelltakerPathFinder \\\n         --description &quot;A path finding algorithm for the video game Helltaker -- written in Java 20&quot; \\\n         --main-jar HelltakerPathFinder_run_me.jar \\\n         --win-console \\\n         --runtime-image ../_CUSTOM_JAVA_RUNTIME\n\n</code></pre>\n<p>So, I tried it, and it finished without error. A .exe file was created. I moved the executable to a different folder, double clicked it, and then an install started. Once the install finished, I navigated to the newly installed application's location (C:\\Program Files\\HelltakerPathFinder), opened up a windows terminal there, started the application, and then it failed with the following message.</p>\n<pre><code>PS C:\\Program Files\\HelltakerPathFinder&gt; .\\HelltakerPathFinder.exe\nError: LinkageError occurred while loading main class Helltaker.Main\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled for Helltaker/Main (class file version 65.65535). Try running with '--enable-preview'\n</code></pre>\n<p>So, I tried running with <code>--enable-preview</code> and got this.</p>\n<pre><code>PS C:\\Program Files\\HelltakerPathFinder&gt; .\\HelltakerPathFinder.exe --enable-preview\nError: LinkageError occurred while loading main class Helltaker.Main\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled for Helltaker/Main (class file version 65.65535). Try running with '--enable-preview'\n</code></pre>\n<p>How do I get this .exe file to run with <code>--enable-preview</code>?</p>\n"},{"tags":["java","spring-boot","maven","unit-testing","integration-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682520366,"post_id":76111444,"comment_id":134229632,"body_markdown":"Keep the default structure as it and use Naming conventions for that which are already existing unit tests `*Test.java` and integration tests `*IT.java` (using maven-failsafe-plugin)... follow convention over configuration... The required violates the convention over configuration paradigm...Why is there a problem to name unit tests and integration tests according to some naming convention?","body":"Keep the default structure as it and use Naming conventions for that which are already existing unit tests <code>*Test.java</code> and integration tests <code>*IT.java</code> (using maven-failsafe-plugin)... follow convention over configuration... The required violates the convention over configuration paradigm...Why is there a problem to name unit tests and integration tests according to some naming convention?"},{"owner":{"account_id":9135172,"reputation":39,"user_id":6795118,"accept_rate":50,"display_name":"Sankar"},"score":0,"creation_date":1682531447,"post_id":76111444,"comment_id":134232539,"body_markdown":"because that would put the integration tests and unit tests in the same package structures.","body":"because that would put the integration tests and unit tests in the same package structures."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682532772,"post_id":76111444,"comment_id":134232801,"body_markdown":"So what&#39;s the problem with that? You can change the package for the integration tests...","body":"So what&#39;s the problem with that? You can change the package for the integration tests..."}],"owner":{"account_id":9135172,"reputation":39,"user_id":6795118,"accept_rate":50,"display_name":"Sankar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682516278,"creation_date":1682516278,"question_id":76111444,"body_markdown":"I want to split the unit and integration tests in my spring boot (maven) project as shown in the below image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uKwmw.jpg\r\n\r\nCan you please help me with the plugins needed for the maven pom.xml and steps need to be performed to execute the unit and integration tests seperately.\r\n\r\nAlso I do not want to put the restrictions on the java file naming conventions like *IT.java for Integration tests and *Test.java for unit tests. Independent of file naming convention, whatever the tests present in &quot;integration_tests&quot; directory should be executed for integration tests, What ever present in &quot;unit_tests&quot; directory should be executed for unit tests.","title":"Restructuring the unit and integration tests in spring boot application","body":"<p>I want to split the unit and integration tests in my spring boot (maven) project as shown in the below image.</p>\n<p><a href=\"https://i.stack.imgur.com/uKwmw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uKwmw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Can you please help me with the plugins needed for the maven pom.xml and steps need to be performed to execute the unit and integration tests seperately.</p>\n<p>Also I do not want to put the restrictions on the java file naming conventions like *IT.java for Integration tests and *Test.java for unit tests. Independent of file naming convention, whatever the tests present in &quot;integration_tests&quot; directory should be executed for integration tests, What ever present in &quot;unit_tests&quot; directory should be executed for unit tests.</p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682516042,"creation_date":1682516042,"question_id":76111406,"body_markdown":"I&#39;ve set up an authentication via username-password and authorization for my Spring application using SecurityFilterChain configuration:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n    @Autowired\r\n    UserService userService;\r\n    @Autowired\r\n    BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            HttpSecurity http,\r\n            BCryptPasswordEncoder bCryptPasswordEncoder,\r\n            UserDetailsService userDetailsService\r\n    ) throws Exception{\r\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(bCryptPasswordEncoder)\r\n                .and()\r\n                .build();\r\n\r\n    }\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.securityContext((securityContext) -&gt; securityContext\r\n                        .requireExplicitSave(true));\r\n        http.csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/registration&quot;).permitAll()\r\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .requestMatchers(&quot;/main/**&quot;).authenticated()\r\n                .requestMatchers(&quot;/main/&quot;).anonymous()\r\n                .requestMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll()\r\n                .logoutSuccessUrl(&quot;/&quot;);\r\n        return http.build();\r\n    }\r\n    @Autowired\r\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n \r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nHere i want to do couple things.\r\n1. If request is sent on /main/{userId}, but user is not authenticated, i want to redirect it to /main, which will not display user private information. Is it done in this class, or in the controller?\r\n2. If authenticated, i want a user to have access only to URL with their ID, for example, user with ID=7 can access only &quot;/main/7/**&quot; and not any other one, like &quot;/main/5/**&quot;. How can i configure this?\r\n\r\n\r\nFor now i have come up with this solution:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/main&quot;)\r\npublic class MainPageController {\r\n    @Autowired\r\n    UserService userService;\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public String getMainPageAuthenticated(Model model, @PathVariable Long userId){\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        String username = auth.getName();\r\n        if(!Objects.equals(username, userService.findUserById(userId).getUsername())) return &quot;error&quot;;\r\n        model.addAttribute(&quot;username&quot;, userService.findUserById(userId).getUsername());\r\n        return &quot;main_page_auth&quot;;\r\n    }\r\n}\r\n```\r\n\r\nBut that seems like a bad solution, can i do this in configuration?","title":"How to differentiate the URL access between authenticated users in Spring Security?","body":"<p>I've set up an authentication via username-password and authorization for my Spring application using SecurityFilterChain configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n    @Autowired\n    UserService userService;\n    @Autowired\n    BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            HttpSecurity http,\n            BCryptPasswordEncoder bCryptPasswordEncoder,\n            UserDetailsService userDetailsService\n    ) throws Exception{\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(bCryptPasswordEncoder)\n                .and()\n                .build();\n\n    }\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.securityContext((securityContext) -&gt; securityContext\n                        .requireExplicitSave(true));\n        http.csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/registration&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .requestMatchers(&quot;/main/**&quot;).authenticated()\n                .requestMatchers(&quot;/main/&quot;).anonymous()\n                .requestMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll()\n                .logoutSuccessUrl(&quot;/&quot;);\n        return http.build();\n    }\n    @Autowired\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder);\n    }\n \n}\n</code></pre>\n<p>Here i want to do couple things.</p>\n<ol>\n<li>If request is sent on /main/{userId}, but user is not authenticated, i want to redirect it to /main, which will not display user private information. Is it done in this class, or in the controller?</li>\n<li>If authenticated, i want a user to have access only to URL with their ID, for example, user with ID=7 can access only &quot;/main/7/<strong>&quot; and not any other one, like &quot;/main/5/</strong>&quot;. How can i configure this?</li>\n</ol>\n<p>For now i have come up with this solution:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/main&quot;)\npublic class MainPageController {\n    @Autowired\n    UserService userService;\n    @GetMapping(&quot;/{userId}&quot;)\n    public String getMainPageAuthenticated(Model model, @PathVariable Long userId){\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        String username = auth.getName();\n        if(!Objects.equals(username, userService.findUserById(userId).getUsername())) return &quot;error&quot;;\n        model.addAttribute(&quot;username&quot;, userService.findUserById(userId).getUsername());\n        return &quot;main_page_auth&quot;;\n    }\n}\n</code></pre>\n<p>But that seems like a bad solution, can i do this in configuration?</p>\n"},{"tags":["java","threadpoolexecutor","work-stealing"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683181616,"post_id":76111383,"comment_id":134327627,"body_markdown":"The unbounded thread count should worry you, but its worth mentioning the the work-stealing pool implementation is not different to the `ForkJoinPool.commonPool`s. If you use blocking operations detectable by the F/J framework, the common pool will also start compensation threads. Further, if your tasks feature blocking operations, the contention at the queue might be irrelevant anyway. The FixedThreadPool is a [`ThreadPoolExecutor`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html) with a specific configuration. Others are possible.","body":"The unbounded thread count should worry you, but its worth mentioning the the work-stealing pool implementation is not different to the <code>ForkJoinPool.commonPool</code>s. If you use blocking operations detectable by the F/J framework, the common pool will also start compensation threads. Further, if your tasks feature blocking operations, the contention at the queue might be irrelevant anyway. The FixedThreadPool is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a> with a specific configuration. Others are possible."}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682515934,"creation_date":1682515934,"question_id":76111383,"body_markdown":"I have a task producer which will create a large number of tasks. I want to ensure that threads are re-used because of the large number of tasks.\r\n\r\nI initially was using `CompletableFuture` without specifying any executor, so JVM is using the default executor as `ForkJoinPool.commonPool`. Since the tasks are blocking, running these on the common pool might affect other service based tasks.\r\n\r\nSo I was looking into creating a custom executor for this. I looked into this doc : https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executors.html\r\n\r\nFound these executors : FixedThreadPool and WorkStealingPool\r\n\r\nFixedThreadPool seems to be using a single unbounded queue, which the threads will consume tasks from.\r\n\r\nWorkStealingPool can use multiple queues for decreasing contention. It can also dynamically increase or decrease the number of threads being used on the basis of tasks.\r\n\r\nI feel that the use of multiple queues, and the work stealing algorithm itself seems better than the single queue usage of FixedThreadPool. But the unbounded thread count worries me, as I don&#39;t want to create a large number of threads for the large number of tasks, I *know* are going to be created.\r\n\r\nWanted to understand which is the better option here.  ","title":"For blocking tasks, which executor should I use : FixedThreadPool or WorkStealingPool?","body":"<p>I have a task producer which will create a large number of tasks. I want to ensure that threads are re-used because of the large number of tasks.</p>\n<p>I initially was using <code>CompletableFuture</code> without specifying any executor, so JVM is using the default executor as <code>ForkJoinPool.commonPool</code>. Since the tasks are blocking, running these on the common pool might affect other service based tasks.</p>\n<p>So I was looking into creating a custom executor for this. I looked into this doc : <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Executors.html</a></p>\n<p>Found these executors : FixedThreadPool and WorkStealingPool</p>\n<p>FixedThreadPool seems to be using a single unbounded queue, which the threads will consume tasks from.</p>\n<p>WorkStealingPool can use multiple queues for decreasing contention. It can also dynamically increase or decrease the number of threads being used on the basis of tasks.</p>\n<p>I feel that the use of multiple queues, and the work stealing algorithm itself seems better than the single queue usage of FixedThreadPool. But the unbounded thread count worries me, as I don't want to create a large number of threads for the large number of tasks, I <em>know</em> are going to be created.</p>\n<p>Wanted to understand which is the better option here.</p>\n"},{"tags":["java","processing"],"owner":{"account_id":28403464,"reputation":27,"user_id":21727912,"display_name":"Alexandre Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682515915,"creation_date":1682515915,"question_id":76111380,"body_markdown":"I made a program of interactive traffic lights, basically there is an intersection between two roads and there are 4 traffic lights and 4 cars, one of them going from right to left, another from left to right, another from top to bottom, and another from bottom to top. I have already programmed the functions but when I run the program in the first seconds everything looks fine but then I notice that the cars that are going from top to bottom and bottom to top are moving forward in relation to the X-axis for some reason that I can&#39;t explain. I will leave images for you to understand. After seeing this happen I thought that it is probably the way I am moving the objects around but I am not sure. I know the code doesn&#39;t follow the conventions but my teacher asked for it this way. I&#39;m sorry because I think this should be basic but I started processing a few days ago and I have been searching and seeing other posts and it didn&#39;t help at all...\r\n\r\nFirst tab:\r\n```\r\nfinal color WHITE = color(255,255,255);\r\nfinal color GREEN = color(0,255,0);\r\nfinal color DARK_GREEN = color(0,55,0);\r\nfinal color RED = color(255,0,0);\r\nfinal color YELLOW = color(255,255,0);\r\nfinal color DARK_GREY = color(100,100,100);\r\nfinal color GREY = color(200,200,200);\r\nfinal color BLACK = color(0,0,0);\r\nfinal int W_WIDTH = 1000;\r\nfinal int W_HEIGHT = 700;\r\n\r\ncarro c1 = new carro(W_WIDTH/2 - 150,W_HEIGHT/2,150,10,0,RED);\r\ncarro c2 = new carro(W_WIDTH/2 + 75,W_HEIGHT/2 + 300,150,3,270,GREY);\r\ncarro c3 = new carro(W_WIDTH/2 + 75,W_HEIGHT/2 - 150,150,5,90,WHITE);\r\ncarro c4 = new carro(W_WIDTH/2 + 300,W_HEIGHT/2 + 150,150,5,180,GREEN);\r\ncarro carros[] = {c1,c2,c3,c4};\r\nlane l1 = new lane(350,W_HEIGHT/2 + 150,150,150,150,0,2,2,2,GREEN,W_WIDTH/2 - 150,W_HEIGHT/2,150,10,0,RED);\r\nlane l2 = new lane(650,W_HEIGHT/2 + 300,150,150,150,270,2,2,2,RED,W_WIDTH/2 + 75,W_HEIGHT/2 + 300,150,3,270,GREY);\r\nlane l3 = new lane(500,W_HEIGHT/2 - 150,150,150,150,90,2,2,2,RED,W_WIDTH/2 + 75,W_HEIGHT/2 - 150,150,5,90,WHITE);\r\nlane l4 = new lane(800,W_HEIGHT/2,150,150,150,180,2,2,2,GREEN,W_WIDTH/2 + 300,W_HEIGHT/2 + 150,150,5,180,GREEN);\r\nlane lanes[] = {l1,l2,l3,l4};\r\n\r\nvoid settings()\r\n{\r\n  size(W_WIDTH,W_HEIGHT);\r\n}\r\n\r\nvoid setup(){}\r\n\r\nvoid update()\r\n{\r\n  for(int i = 0; i &lt; lanes.length;i++)\r\n  {\r\n    lanes[i].update();\r\n  }\r\n}\r\n\r\nvoid draw()\r\n{\r\n  update();\r\n  noStroke();\r\n  background(DARK_GREEN);\r\n  fill(DARK_GREY);\r\n  rect(0,W_HEIGHT/2,1000,150);\r\n  fill(DARK_GREY);\r\n  rect(W_WIDTH/2,0,150,700);\r\n  for(int i = 0; i &lt; carros.length; i++)\r\n  {\r\n    carros[i].draw();\r\n  }\r\n  for(int i = 0; i &lt; lanes.length; i++)\r\n  {\r\n    lanes[i].draw();\r\n  }\r\n}\r\n```\r\nSecond tab:\r\n\r\n```\r\nclass carro\r\n{\r\n  float x;\r\n  float y;\r\n  float velocidade_max;\r\n  float velocidade_atual;\r\n  float angle;\r\n  color c;\r\n  \r\n  carro(float x,float y,float velocidade_max,float velocidade_atual,float angle,color c)\r\n  {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.velocidade_max = velocidade_max;\r\n    this.velocidade_atual = velocidade_atual;\r\n    this.angle = angle;\r\n    this.c = c;\r\n  }\r\n      \r\n  void wrapAroundScreenx() {\r\n    if (x &gt; width) {\r\n      x = 0;\r\n    } else if (x &lt; 0) {\r\n      x = width;\r\n    }\r\n    \r\n    if (y &gt; height) {\r\n      y = 0;\r\n    } else if (y &lt; 0) {\r\n      y = height;\r\n    }\r\n  }\r\n  \r\n  void draw()\r\n  {\r\n  pushMatrix();\r\n  translate(x,y);\r\n  rotate(radians(angle));\r\n  fill(c);\r\n  rect(0, 10, 100, 50);\r\n  fill(BLACK);\r\n  fill(c);\r\n  rect(101,15,25,40);\r\n  fill(BLACK);\r\n  rect(70,60,20,5);\r\n  fill(BLACK);\r\n  rect(15,60,20,5);\r\n  fill(BLACK);\r\n  rect(70,5,20,5);\r\n  fill(BLACK);\r\n  rect(15,5,20,5);\r\n  popMatrix();\r\n  }\r\n}\r\n```\r\nThird tab:\r\n\r\n```\r\nclass lane extends carro\r\n{\r\n  float positionx;\r\n  float positiony;\r\n  float alphav;\r\n  float alphaa;\r\n  float alphaver;\r\n  float angleS;\r\n  float timev; //tempo que cada luz fica aberta\r\n  float timea;\r\n  float timever;\r\n  float startTime;\r\n  float activeLight;\r\n  float cor_inicio;\r\n  \r\n  lane(float positionx,float positiony,float alphav,float alphaa,float alphaver,float angleS,float timev,float timea,float timever,float cor_inicio,float x,float y,float velocidade_max,float velocidade_atual,float angle,color c)\r\n  {\r\n    super(x,y,velocidade_max,velocidade_atual,angle,c);\r\n    this.positionx = positionx;\r\n    this.positiony = positiony;\r\n    this.alphav = alphav;\r\n    this.alphaa = alphaa;\r\n    this.alphaver = alphaver;\r\n    this.angleS = angleS;\r\n    this.timev = timev;\r\n    this.timea = timea;\r\n    this.timever = timever;\r\n    this.cor_inicio = cor_inicio;\r\n  }\r\n\r\nvoid update()\r\n{\r\n  float elapsedTime = millis() - this.startTime; // calcula o tempo decorrido\r\n  float currentSecond = elapsedTime / 1000; // converte para segundos\r\n\r\n  float cycleTime = timev + timea + timever; // tempo total do ciclo\r\n  float lightIndex = currentSecond % cycleTime; // calcula o &#237;ndice da luz acesa\r\n\r\n  float distanciax = W_WIDTH/2 - 120;\r\n  float distanciay = W_HEIGHT/2 + 300;\r\n  if (cor_inicio == GREEN) {\r\n    if (lightIndex &lt; this.timever) {\r\n      // vermelho\r\n      this.alphav = 150;\r\n      this.alphaa = 150;\r\n      this.alphaver = 500;\r\n      this.activeLight = 0;\r\n      carros[0].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\r\n      carros[0].wrapAroundScreenx();\r\n      carros[3].x -= velocidade_atual;\r\n      carros[3].wrapAroundScreenx();\r\n    } else if (lightIndex &lt; this.timever + this.timea) {\r\n      // amarelo\r\n      this.alphav = 150;\r\n      this.alphaa = 500;\r\n      this.alphaver = 150;\r\n      this.activeLight = 1;\r\n  if (abs(carros[0].x - distanciax) &gt; 10) {\r\n    carros[0].x += velocidade_atual;\r\n    carros[0].wrapAroundScreenx();\r\n    carros[3].x -= velocidade_atual;\r\n    carros[3].wrapAroundScreenx();\r\n  }\r\n    } else {\r\n      // verde\r\n      this.alphav = 500;\r\n      this.alphaa = 150;\r\n      this.alphaver = 150;\r\n      this.activeLight = 2;\r\n      if(abs(carros[0].x - distanciax) &lt; 10)\r\n      {\r\n      carros[0].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\r\n      carros[0].wrapAroundScreenx();\r\n      carros[3].x += velocidade_atual;\r\n      carros[3].wrapAroundScreenx();\r\n      }\r\n    }\r\n  } else if (cor_inicio == RED) {\r\n    if (lightIndex &lt; this.timev) {\r\n      // vermelho\r\n      this.alphav = 500;\r\n      this.alphaa = 150;\r\n      this.alphaver = 150;\r\n      this.activeLight = 0;\r\n      if(abs(carros[0].x - distanciax) &lt; 10)\r\n      {\r\n      carros[1].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\r\n      carros[1].wrapAroundScreenx();\r\n      carros[2].x += velocidade_atual;\r\n      carros[2].wrapAroundScreenx();\r\n      }\r\n    } else if (lightIndex &lt; this.timev + this.timea) {\r\n      // amarelo\r\n      this.alphav = 150;\r\n      this.alphaa = 150;\r\n      this.alphaver = 500;\r\n      this.activeLight = 1;\r\n      carros[1].y -= velocidade_atual;\r\n      carros[1].wrapAroundScreenx();\r\n      carros[2].y += velocidade_atual;\r\n      carros[2].wrapAroundScreenx();\r\n    } else {\r\n      // verde\r\n      this.alphav = 150;\r\n      this.alphaa = 500;\r\n      this.alphaver = 150;\r\n      this.activeLight = 2;\r\n  if (abs(carros[1].y - distanciay) &gt; 10) {\r\n    carros[1].y -= velocidade_atual;\r\n    carros[1].wrapAroundScreenx();\r\n    carros[2].y += velocidade_atual;\r\n    carros[2].wrapAroundScreenx();\r\n  }\r\n    }\r\n  }\r\n}\r\n \r\n  void draw()\r\n  {\r\n    pushMatrix();\r\n    translate(positionx,positiony);\r\n    rotate(radians(angleS));\r\n    fill(BLACK);\r\n    rect(0, 0, 150, 50);\r\n    fill(RED,alphav);\r\n    circle(120, 25, 40);\r\n    fill(YELLOW,alphaa);\r\n    circle(75, 25, 40);\r\n    fill(GREEN,alphaver);\r\n    circle(30, 25, 40);\r\n    fill(BLACK);\r\n    rect(-40, 14, 40, 20);\r\n    popMatrix();\r\n  }\r\n}\r\n```\r\n[&quot;Normal program&quot;](https://i.stack.imgur.com/TiRHj.png) \r\n[After a few seconds](https://i.stack.imgur.com/6nRw7.png)\r\n\r\n","title":"Moving objects in processing","body":"<p>I made a program of interactive traffic lights, basically there is an intersection between two roads and there are 4 traffic lights and 4 cars, one of them going from right to left, another from left to right, another from top to bottom, and another from bottom to top. I have already programmed the functions but when I run the program in the first seconds everything looks fine but then I notice that the cars that are going from top to bottom and bottom to top are moving forward in relation to the X-axis for some reason that I can't explain. I will leave images for you to understand. After seeing this happen I thought that it is probably the way I am moving the objects around but I am not sure. I know the code doesn't follow the conventions but my teacher asked for it this way. I'm sorry because I think this should be basic but I started processing a few days ago and I have been searching and seeing other posts and it didn't help at all...</p>\n<p>First tab:</p>\n<pre><code>final color WHITE = color(255,255,255);\nfinal color GREEN = color(0,255,0);\nfinal color DARK_GREEN = color(0,55,0);\nfinal color RED = color(255,0,0);\nfinal color YELLOW = color(255,255,0);\nfinal color DARK_GREY = color(100,100,100);\nfinal color GREY = color(200,200,200);\nfinal color BLACK = color(0,0,0);\nfinal int W_WIDTH = 1000;\nfinal int W_HEIGHT = 700;\n\ncarro c1 = new carro(W_WIDTH/2 - 150,W_HEIGHT/2,150,10,0,RED);\ncarro c2 = new carro(W_WIDTH/2 + 75,W_HEIGHT/2 + 300,150,3,270,GREY);\ncarro c3 = new carro(W_WIDTH/2 + 75,W_HEIGHT/2 - 150,150,5,90,WHITE);\ncarro c4 = new carro(W_WIDTH/2 + 300,W_HEIGHT/2 + 150,150,5,180,GREEN);\ncarro carros[] = {c1,c2,c3,c4};\nlane l1 = new lane(350,W_HEIGHT/2 + 150,150,150,150,0,2,2,2,GREEN,W_WIDTH/2 - 150,W_HEIGHT/2,150,10,0,RED);\nlane l2 = new lane(650,W_HEIGHT/2 + 300,150,150,150,270,2,2,2,RED,W_WIDTH/2 + 75,W_HEIGHT/2 + 300,150,3,270,GREY);\nlane l3 = new lane(500,W_HEIGHT/2 - 150,150,150,150,90,2,2,2,RED,W_WIDTH/2 + 75,W_HEIGHT/2 - 150,150,5,90,WHITE);\nlane l4 = new lane(800,W_HEIGHT/2,150,150,150,180,2,2,2,GREEN,W_WIDTH/2 + 300,W_HEIGHT/2 + 150,150,5,180,GREEN);\nlane lanes[] = {l1,l2,l3,l4};\n\nvoid settings()\n{\n  size(W_WIDTH,W_HEIGHT);\n}\n\nvoid setup(){}\n\nvoid update()\n{\n  for(int i = 0; i &lt; lanes.length;i++)\n  {\n    lanes[i].update();\n  }\n}\n\nvoid draw()\n{\n  update();\n  noStroke();\n  background(DARK_GREEN);\n  fill(DARK_GREY);\n  rect(0,W_HEIGHT/2,1000,150);\n  fill(DARK_GREY);\n  rect(W_WIDTH/2,0,150,700);\n  for(int i = 0; i &lt; carros.length; i++)\n  {\n    carros[i].draw();\n  }\n  for(int i = 0; i &lt; lanes.length; i++)\n  {\n    lanes[i].draw();\n  }\n}\n</code></pre>\n<p>Second tab:</p>\n<pre><code>class carro\n{\n  float x;\n  float y;\n  float velocidade_max;\n  float velocidade_atual;\n  float angle;\n  color c;\n  \n  carro(float x,float y,float velocidade_max,float velocidade_atual,float angle,color c)\n  {\n    this.x = x;\n    this.y = y;\n    this.velocidade_max = velocidade_max;\n    this.velocidade_atual = velocidade_atual;\n    this.angle = angle;\n    this.c = c;\n  }\n      \n  void wrapAroundScreenx() {\n    if (x &gt; width) {\n      x = 0;\n    } else if (x &lt; 0) {\n      x = width;\n    }\n    \n    if (y &gt; height) {\n      y = 0;\n    } else if (y &lt; 0) {\n      y = height;\n    }\n  }\n  \n  void draw()\n  {\n  pushMatrix();\n  translate(x,y);\n  rotate(radians(angle));\n  fill(c);\n  rect(0, 10, 100, 50);\n  fill(BLACK);\n  fill(c);\n  rect(101,15,25,40);\n  fill(BLACK);\n  rect(70,60,20,5);\n  fill(BLACK);\n  rect(15,60,20,5);\n  fill(BLACK);\n  rect(70,5,20,5);\n  fill(BLACK);\n  rect(15,5,20,5);\n  popMatrix();\n  }\n}\n</code></pre>\n<p>Third tab:</p>\n<pre><code>class lane extends carro\n{\n  float positionx;\n  float positiony;\n  float alphav;\n  float alphaa;\n  float alphaver;\n  float angleS;\n  float timev; //tempo que cada luz fica aberta\n  float timea;\n  float timever;\n  float startTime;\n  float activeLight;\n  float cor_inicio;\n  \n  lane(float positionx,float positiony,float alphav,float alphaa,float alphaver,float angleS,float timev,float timea,float timever,float cor_inicio,float x,float y,float velocidade_max,float velocidade_atual,float angle,color c)\n  {\n    super(x,y,velocidade_max,velocidade_atual,angle,c);\n    this.positionx = positionx;\n    this.positiony = positiony;\n    this.alphav = alphav;\n    this.alphaa = alphaa;\n    this.alphaver = alphaver;\n    this.angleS = angleS;\n    this.timev = timev;\n    this.timea = timea;\n    this.timever = timever;\n    this.cor_inicio = cor_inicio;\n  }\n\nvoid update()\n{\n  float elapsedTime = millis() - this.startTime; // calcula o tempo decorrido\n  float currentSecond = elapsedTime / 1000; // converte para segundos\n\n  float cycleTime = timev + timea + timever; // tempo total do ciclo\n  float lightIndex = currentSecond % cycleTime; // calcula o ndice da luz acesa\n\n  float distanciax = W_WIDTH/2 - 120;\n  float distanciay = W_HEIGHT/2 + 300;\n  if (cor_inicio == GREEN) {\n    if (lightIndex &lt; this.timever) {\n      // vermelho\n      this.alphav = 150;\n      this.alphaa = 150;\n      this.alphaver = 500;\n      this.activeLight = 0;\n      carros[0].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\n      carros[0].wrapAroundScreenx();\n      carros[3].x -= velocidade_atual;\n      carros[3].wrapAroundScreenx();\n    } else if (lightIndex &lt; this.timever + this.timea) {\n      // amarelo\n      this.alphav = 150;\n      this.alphaa = 500;\n      this.alphaver = 150;\n      this.activeLight = 1;\n  if (abs(carros[0].x - distanciax) &gt; 10) {\n    carros[0].x += velocidade_atual;\n    carros[0].wrapAroundScreenx();\n    carros[3].x -= velocidade_atual;\n    carros[3].wrapAroundScreenx();\n  }\n    } else {\n      // verde\n      this.alphav = 500;\n      this.alphaa = 150;\n      this.alphaver = 150;\n      this.activeLight = 2;\n      if(abs(carros[0].x - distanciax) &lt; 10)\n      {\n      carros[0].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\n      carros[0].wrapAroundScreenx();\n      carros[3].x += velocidade_atual;\n      carros[3].wrapAroundScreenx();\n      }\n    }\n  } else if (cor_inicio == RED) {\n    if (lightIndex &lt; this.timev) {\n      // vermelho\n      this.alphav = 500;\n      this.alphaa = 150;\n      this.alphaver = 150;\n      this.activeLight = 0;\n      if(abs(carros[0].x - distanciax) &lt; 10)\n      {\n      carros[1].x += velocidade_atual; // move o primeiro carro da esquerda para a direita\n      carros[1].wrapAroundScreenx();\n      carros[2].x += velocidade_atual;\n      carros[2].wrapAroundScreenx();\n      }\n    } else if (lightIndex &lt; this.timev + this.timea) {\n      // amarelo\n      this.alphav = 150;\n      this.alphaa = 150;\n      this.alphaver = 500;\n      this.activeLight = 1;\n      carros[1].y -= velocidade_atual;\n      carros[1].wrapAroundScreenx();\n      carros[2].y += velocidade_atual;\n      carros[2].wrapAroundScreenx();\n    } else {\n      // verde\n      this.alphav = 150;\n      this.alphaa = 500;\n      this.alphaver = 150;\n      this.activeLight = 2;\n  if (abs(carros[1].y - distanciay) &gt; 10) {\n    carros[1].y -= velocidade_atual;\n    carros[1].wrapAroundScreenx();\n    carros[2].y += velocidade_atual;\n    carros[2].wrapAroundScreenx();\n  }\n    }\n  }\n}\n \n  void draw()\n  {\n    pushMatrix();\n    translate(positionx,positiony);\n    rotate(radians(angleS));\n    fill(BLACK);\n    rect(0, 0, 150, 50);\n    fill(RED,alphav);\n    circle(120, 25, 40);\n    fill(YELLOW,alphaa);\n    circle(75, 25, 40);\n    fill(GREEN,alphaver);\n    circle(30, 25, 40);\n    fill(BLACK);\n    rect(-40, 14, 40, 20);\n    popMatrix();\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TiRHj.png\" rel=\"nofollow noreferrer\">&quot;Normal program&quot;</a>\n<a href=\"https://i.stack.imgur.com/6nRw7.png\" rel=\"nofollow noreferrer\">After a few seconds</a></p>\n"},{"tags":["java","spring","jpa","projection"],"owner":{"account_id":28405735,"reputation":11,"user_id":21729798,"display_name":"A.sis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682515895,"creation_date":1682381031,"question_id":76096852,"body_markdown":"I tried to implement a query method with Projections, but I&#39;m not sure if I did it right. I&#39;m new to the world of Spring Boot and don&#39;t know exactly how to create a statistics query with Projection. I would be very grateful if you could help me with my problem.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nImplement a TestRepository which allows the following query: - A statistics query which\r\n- the number\r\n- per TestKitType\r\n- per TestResult\r\n- for a period of time\r\n\r\n```\r\npublic class Projections {\r\n    public static record TestKitTypeResultCountRecord(TestKitType testKitType, TestResult testResult, Long count) {}\r\n}\r\n\r\n\r\n@Repository\r\npublic interface TestsRepository extends JpaRepository&lt;Tests,Long&gt; {\r\n\r\n    List&lt;Projections.TestKitTypeResultCountRecord&gt; findTestKitTypeResultCountByTestTimeStampBetween(LocalDateTime startDate, LocalDateTime endDate);\r\n\r\n}\r\n```","title":"Spring Data JPA Custom Repository with Projection","body":"<p>I tried to implement a query method with Projections, but I'm not sure if I did it right. I'm new to the world of Spring Boot and don't know exactly how to create a statistics query with Projection. I would be very grateful if you could help me with my problem.</p>\n<p>Implement a TestRepository which allows the following query: - A statistics query which</p>\n<ul>\n<li>the number</li>\n<li>per TestKitType</li>\n<li>per TestResult</li>\n<li>for a period of time</li>\n</ul>\n<pre><code>public class Projections {\n    public static record TestKitTypeResultCountRecord(TestKitType testKitType, TestResult testResult, Long count) {}\n}\n\n\n@Repository\npublic interface TestsRepository extends JpaRepository&lt;Tests,Long&gt; {\n\n    List&lt;Projections.TestKitTypeResultCountRecord&gt; findTestKitTypeResultCountByTestTimeStampBetween(LocalDateTime startDate, LocalDateTime endDate);\n\n}\n</code></pre>\n"},{"tags":["java","swing","jdbc","jtable","jcombobox"],"answers":[{"tags":[],"owner":{"account_id":3183512,"reputation":2784,"user_id":3444376,"display_name":"Edwin Torres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402058695,"creation_date":1402058099,"answer_id":24081998,"question_id":24081941,"body_markdown":"This is a slightly different way, but it is simple. When you select an item from the combo box, the table changes. It uses a table model:\r\n\r\n    //ComboTableTest.java\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.AbstractTableModel;\r\n    \r\n    public class ComboTableTest extends JFrame implements ActionListener {\r\n    \tprivate static final long serialVersionUID = -3898736145211708745L;\r\n    \r\n    \tprivate JComboBox&lt;String&gt; combo;\r\n    \tprivate MyTableModel tableModel;\r\n    \r\n    \t//constructor\r\n    \tpublic ComboTableTest() {\r\n    \t\t//set up frame\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(600,175);\r\n    \t\tsetLayout(new FlowLayout());\r\n    \r\n    \t\t//create combo box\r\n    \t\tcombo = new JComboBox&lt;String&gt;(new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;});\r\n    \t\tcombo.addActionListener(this);\r\n    \t\tadd(combo);\r\n    \r\n    \t\t//create table\r\n    \t\ttableModel = new MyTableModel();\r\n    \t\tfinal JTable table = new JTable(tableModel);\r\n    \t\ttable.setPreferredScrollableViewportSize(new Dimension(500, 70));\r\n    \t\ttable.setFillsViewportHeight(true);\r\n    \t\tJScrollPane scrollPane = new JScrollPane(table);\r\n    \t\tadd(scrollPane);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif (e.getSource() == combo) {\r\n    \t\t\ttableModel.setValueAt(0,0,(String)combo.getSelectedItem());\r\n    \t\t\ttableModel.setValueAt(1,1,(String)combo.getSelectedItem());\r\n    \t\t\ttableModel.setValueAt(2,2,(String)combo.getSelectedItem());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \r\n    \t/*** MAIN ***/\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tComboTableTest frame = new ComboTableTest();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n    \r\n    class MyTableModel extends AbstractTableModel {\r\n    \tprivate static final long serialVersionUID = -1359557492205432915L;\r\n    \r\n    \tprivate String[] columnNames = {&quot;Col 1&quot;,&quot;Col 2&quot;,&quot;Col 3&quot;};\r\n    \tprivate Object[][] data = new Object[][]{{&quot;1&quot;,&quot;2&quot;,&quot;3&quot;},{&quot;4&quot;,&quot;5&quot;,&quot;6&quot;},{&quot;7&quot;,&quot;8&quot;,&quot;9&quot;}};\r\n    \r\n    \tpublic void setValueAt(int row, int col, String s) {\r\n    \t\tdata[row][col] = s;\r\n    \t\tfireTableDataChanged(); //EDITED\r\n    \t}\r\n    \r\n    \tpublic int getColumnCount() {\r\n    \t\treturn columnNames.length;\r\n    \t}\r\n    \r\n    \tpublic int getRowCount() {\r\n    \t\treturn data.length;\r\n    \t}\r\n    \r\n    \tpublic String getColumnName(int col) {\r\n    \t\treturn columnNames[col];\r\n    \t}\r\n    \r\n    \tpublic Object getValueAt(int row, int col) {\r\n    \t\treturn data[row][col];\r\n    \t}\r\n    \r\n    \tpublic Class getColumnClass(int c) {\r\n    \t\treturn getValueAt(0, c).getClass();\r\n    \t}\r\n    }","title":"JTable fill data with JComboBox","body":"<p>This is a slightly different way, but it is simple. When you select an item from the combo box, the table changes. It uses a table model:</p>\n\n<pre><code>//ComboTableTest.java\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.AbstractTableModel;\n\npublic class ComboTableTest extends JFrame implements ActionListener {\n    private static final long serialVersionUID = -3898736145211708745L;\n\n    private JComboBox&lt;String&gt; combo;\n    private MyTableModel tableModel;\n\n    //constructor\n    public ComboTableTest() {\n        //set up frame\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600,175);\n        setLayout(new FlowLayout());\n\n        //create combo box\n        combo = new JComboBox&lt;String&gt;(new String[]{\"one\", \"two\", \"three\"});\n        combo.addActionListener(this);\n        add(combo);\n\n        //create table\n        tableModel = new MyTableModel();\n        final JTable table = new JTable(tableModel);\n        table.setPreferredScrollableViewportSize(new Dimension(500, 70));\n        table.setFillsViewportHeight(true);\n        JScrollPane scrollPane = new JScrollPane(table);\n        add(scrollPane);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == combo) {\n            tableModel.setValueAt(0,0,(String)combo.getSelectedItem());\n            tableModel.setValueAt(1,1,(String)combo.getSelectedItem());\n            tableModel.setValueAt(2,2,(String)combo.getSelectedItem());\n        }\n\n    }\n\n\n    /*** MAIN ***/\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    ComboTableTest frame = new ComboTableTest();\n                    frame.setVisible(true);\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n\nclass MyTableModel extends AbstractTableModel {\n    private static final long serialVersionUID = -1359557492205432915L;\n\n    private String[] columnNames = {\"Col 1\",\"Col 2\",\"Col 3\"};\n    private Object[][] data = new Object[][]{{\"1\",\"2\",\"3\"},{\"4\",\"5\",\"6\"},{\"7\",\"8\",\"9\"}};\n\n    public void setValueAt(int row, int col, String s) {\n        data[row][col] = s;\n        fireTableDataChanged(); //EDITED\n    }\n\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    public int getRowCount() {\n        return data.length;\n    }\n\n    public String getColumnName(int col) {\n        return columnNames[col];\n    }\n\n    public Object getValueAt(int row, int col) {\n        return data[row][col];\n    }\n\n    public Class getColumnClass(int c) {\n        return getValueAt(0, c).getClass();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682515878,"creation_date":1402063897,"answer_id":24083888,"question_id":24081941,"body_markdown":"    String sql=&quot;SELECT * FROM &quot;+tesztvalt+&quot;&quot;; \r\n    \r\n    PreparedStatement pst = conn.prepareStatement(sql);\r\n    ResultSet rs = pst.executeQuery();\r\n    \r\n    while (rs.next()) \r\n    {\r\n        tabla.setModel(model);\r\n    }\r\n\r\nYou have a couple of problems:\r\n\r\n1. You are using the `PreparedStatement` incorrectly. Your code may work (I&#39;m not sure), but it does not take advantage of the features of the `PreparedStatement`.\r\n\r\n2. The code that read the data from the ResultSet makes no sense because, well you aren&#39;t even reading any data from the ResultSet.\r\n\r\nTo use a PreparedStatement the code is something like:\r\n\r\n    String sql = &quot;Select * from ?&quot;;\r\n    PreparedStatement stmt = connection.prepareStatement(sql);\r\n    stmt.setString( 1, tesztvalt );\r\n    stmt.executeQuery();\r\n\r\nNow the PreparedStatement will build the SQL query with the proper delimiters so you don&#39;t need to worry about that.\r\n\r\nRead the section from the JCBC tutorial on [Using Prepared Statements](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) for more information.\r\n\r\nIf you want to read all the data from a specific table, then check out the `TableFromDatabaseExample.java` code found in [Table From Database](http://tips4java.wordpress.com/2009/03/12/table-from-database/). It shows how to build the query as well as how to access the column names and data.","title":"JTable fill data with JComboBox","body":"<pre><code>String sql=&quot;SELECT * FROM &quot;+tesztvalt+&quot;&quot;; \n\nPreparedStatement pst = conn.prepareStatement(sql);\nResultSet rs = pst.executeQuery();\n\nwhile (rs.next()) \n{\n    tabla.setModel(model);\n}\n</code></pre>\n<p>You have a couple of problems:</p>\n<ol>\n<li><p>You are using the <code>PreparedStatement</code> incorrectly. Your code may work (I'm not sure), but it does not take advantage of the features of the <code>PreparedStatement</code>.</p>\n</li>\n<li><p>The code that read the data from the ResultSet makes no sense because, well you aren't even reading any data from the ResultSet.</p>\n</li>\n</ol>\n<p>To use a PreparedStatement the code is something like:</p>\n<pre><code>String sql = &quot;Select * from ?&quot;;\nPreparedStatement stmt = connection.prepareStatement(sql);\nstmt.setString( 1, tesztvalt );\nstmt.executeQuery();\n</code></pre>\n<p>Now the PreparedStatement will build the SQL query with the proper delimiters so you don't need to worry about that.</p>\n<p>Read the section from the JCBC tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Using Prepared Statements</a> for more information.</p>\n<p>If you want to read all the data from a specific table, then check out the <code>TableFromDatabaseExample.java</code> code found in <a href=\"http://tips4java.wordpress.com/2009/03/12/table-from-database/\" rel=\"nofollow noreferrer\">Table From Database</a>. It shows how to build the query as well as how to access the column names and data.</p>\n"},{"tags":[],"owner":{"account_id":1510327,"reputation":1374,"user_id":1412628,"accept_rate":61,"display_name":"Robert3452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402066100,"creation_date":1402066100,"answer_id":24084696,"question_id":24081941,"body_markdown":"I think the best and most common approach is to have all the data in the JTable and use a filter which is based on the combobox selection.\r\n\r\nIn this question someone has done this based on a Text box. Changing for a combo would be simple.\r\n\r\nhttps://stackoverflow.com/questions/1107911/how-can-i-filter-rows-in-a-jtable\r\n\r\nOr for a tutorial look at\r\nhttp://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\nand select &quot;Sorting and Filtering&quot;","title":"JTable fill data with JComboBox","body":"<p>I think the best and most common approach is to have all the data in the JTable and use a filter which is based on the combobox selection.</p>\n\n<p>In this question someone has done this based on a Text box. Changing for a combo would be simple.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1107911/how-can-i-filter-rows-in-a-jtable\">How can I filter rows in a JTable?</a></p>\n\n<p>Or for a tutorial look at\n<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/uiswing/components/table.html</a>\nand select \"Sorting and Filtering\"</p>\n"}],"owner":{"account_id":4559746,"reputation":17,"user_id":3702428,"accept_rate":100,"display_name":"user3702428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24083888,"answer_count":3,"score":0,"last_activity_date":1682515878,"creation_date":1402057917,"question_id":24081941,"body_markdown":"I have a frame with table,combobox, i want to fill the table with data from database by combobox, but if i use with itemlistener i dont see the table, without itemlistener and `String sql=&quot;select * from Arlista&quot;` then i see my table with data\r\n(combob=combobox)\r\n\r\n    combob.addItemListener(new ItemListener(){\r\n    \t@Override\r\n    \tpublic void itemStateChanged(ItemEvent e){\r\n    \t\ttesztvalt=(combob.getSelectedItem()).toString();\r\n    \r\n    \t\tif (e.getItem().equals(tesztvalt))\r\n    \t\t{\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tClass.forName( driver );\r\n    \t\t\t\tConnection connection = DriverManager.getConnection( url );\r\n    \t\t\t\tString sql=&quot;select * from &quot;+tesztvalt+&quot;&quot;;\r\n    \t\t\t\tStatement stmt = connection.createStatement();\r\n    \t\t\t\tResultSet rs = stmt.executeQuery( sql );\r\n    \t\t\t\tResultSetMetaData md = rs.getMetaData();\r\n    \t\t\t\tint columns = md.getColumnCount();\r\n    \r\n    \t\t\t\twhile (rs.next()) {\r\n    \t\t\t\t\tVector row = new Vector(columns);\r\n    \r\n    \t\t\t\t\tfor (int i = 1; i &lt;= columns; i++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\trow.addElement( rs.getObject(i) );\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tdata.addElement( row );\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\trs.close();\r\n    \t\t\t\tstmt.close();\r\n    \t\t\t\tconnection.close();\r\n    \t\t\t}catch(Exception ex) {\r\n    \t\t\t\tSystem.out.println( e );\r\n    \t\t\t}\r\n    \t\t\tJTable table = new JTable(data, columnNames)\r\n    \t\t\t{\r\n    \t\t\t\tpublic Class getColumnClass(int column)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tfor (int row = 0; row &lt; getRowCount(); row++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tObject o = getValueAt(row, column);\r\n    \r\n    \t\t\t\t\t\tif (o != null)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\treturn o.getClass();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn Object.class;\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\tJScrollPane scrollPane = new JScrollPane( table );\r\n    \t\t\tgetContentPane().add( scrollPane );\r\n    \r\n    \t\t\tJPanel buttonPanel = new JPanel();\r\n    \t\t\tgetContentPane().add( buttonPanel, BorderLayout.SOUTH );\r\n    \t\t}\r\n    \t}\r\n    });","title":"JTable fill data with JComboBox","body":"<p>I have a frame with table,combobox, i want to fill the table with data from database by combobox, but if i use with itemlistener i dont see the table, without itemlistener and <code>String sql=\"select * from Arlista\"</code> then i see my table with data\n(combob=combobox)</p>\n\n<pre><code>combob.addItemListener(new ItemListener(){\n    @Override\n    public void itemStateChanged(ItemEvent e){\n        tesztvalt=(combob.getSelectedItem()).toString();\n\n        if (e.getItem().equals(tesztvalt))\n        {\n            try {\n\n                Class.forName( driver );\n                Connection connection = DriverManager.getConnection( url );\n                String sql=\"select * from \"+tesztvalt+\"\";\n                Statement stmt = connection.createStatement();\n                ResultSet rs = stmt.executeQuery( sql );\n                ResultSetMetaData md = rs.getMetaData();\n                int columns = md.getColumnCount();\n\n                while (rs.next()) {\n                    Vector row = new Vector(columns);\n\n                    for (int i = 1; i &lt;= columns; i++)\n                    {\n                        row.addElement( rs.getObject(i) );\n                    }\n                    data.addElement( row );\n\n                }\n                rs.close();\n                stmt.close();\n                connection.close();\n            }catch(Exception ex) {\n                System.out.println( e );\n            }\n            JTable table = new JTable(data, columnNames)\n            {\n                public Class getColumnClass(int column)\n                {\n                    for (int row = 0; row &lt; getRowCount(); row++)\n                    {\n                        Object o = getValueAt(row, column);\n\n                        if (o != null)\n                        {\n                            return o.getClass();\n                        }\n                    }\n                    return Object.class;\n                }\n            };\n            JScrollPane scrollPane = new JScrollPane( table );\n            getContentPane().add( scrollPane );\n\n            JPanel buttonPanel = new JPanel();\n            getContentPane().add( buttonPanel, BorderLayout.SOUTH );\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","html"],"answers":[{"tags":[],"owner":{"account_id":12175746,"reputation":3141,"user_id":8888888,"display_name":"AngYC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682515729,"creation_date":1682515729,"answer_id":76111352,"question_id":76111250,"body_markdown":"You can assign the result of `window.open` to a variable and interact with it, example below (Doesn&#39;t work in Stackoverflow code snippet because `allow-popups` permission is disabled):\r\n\r\n```html\r\n&lt;button id=&quot;open&quot;&gt;Open new window&lt;/button&gt;\r\n&lt;button id=&quot;change&quot;&gt;Change content&lt;/button&gt;\r\n&lt;script&gt;\r\n  let w;\r\n  document.getElementById(&#39;open&#39;).addEventListener(&#39;click&#39;, () =&gt; {\r\n    w = window.open(&#39;&#39;);\r\n    w.document.body.innerHTML = &#39;&lt;h1&gt;Hello&lt;/h1&gt;&#39;;\r\n  });\r\n  document.getElementById(&#39;change&#39;).addEventListener(&#39;click&#39;, () =&gt; {\r\n    w.document.body.innerHTML = `&lt;h1&gt;${Date.now()}&lt;/h1&gt;`;\r\n  });\r\n&lt;/script&gt;\r\n```","title":"Controlling data in a new window from parent","body":"<p>You can assign the result of <code>window.open</code> to a variable and interact with it, example below (Doesn't work in Stackoverflow code snippet because <code>allow-popups</code> permission is disabled):</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button id=&quot;open&quot;&gt;Open new window&lt;/button&gt;\n&lt;button id=&quot;change&quot;&gt;Change content&lt;/button&gt;\n&lt;script&gt;\n  let w;\n  document.getElementById('open').addEventListener('click', () =&gt; {\n    w = window.open('');\n    w.document.body.innerHTML = '&lt;h1&gt;Hello&lt;/h1&gt;';\n  });\n  document.getElementById('change').addEventListener('click', () =&gt; {\n    w.document.body.innerHTML = `&lt;h1&gt;${Date.now()}&lt;/h1&gt;`;\n  });\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":28423342,"reputation":1,"user_id":21745093,"display_name":"user21745093"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682515729,"creation_date":1682515185,"question_id":76111250,"body_markdown":"I am wanting to open a window using window open() but with a generic calibration image \r\n\r\nBut then hotswap at will from a gallery on the parent page \r\n\r\nI&#39;m very rusty and can&#39;t think of how to work it \r\n\r\nI can&#39;t make any thing more than more/ new windows appear no control happens of child windows \r\n\r\nWhat I&#39;m trying to make is a dm window and a map screen for a dnd table I&#39;m designing \r\n\r\nThe idea is the dm can click maps on screen one and they change on screen 2 \r\n\r\nOnce I get that going I will work on making a gallery that generates based on folder contents but first things first ","title":"Controlling data in a new window from parent","body":"<p>I am wanting to open a window using window open() but with a generic calibration image</p>\n<p>But then hotswap at will from a gallery on the parent page</p>\n<p>I'm very rusty and can't think of how to work it</p>\n<p>I can't make any thing more than more/ new windows appear no control happens of child windows</p>\n<p>What I'm trying to make is a dm window and a map screen for a dnd table I'm designing</p>\n<p>The idea is the dm can click maps on screen one and they change on screen 2</p>\n<p>Once I get that going I will work on making a gallery that generates based on folder contents but first things first</p>\n"},{"tags":["java","html","spring-boot","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1682376150,"creation_date":1682293904,"answer_id":76087802,"question_id":76087596,"body_markdown":"You should always use auto-escaping, so that `String`-s by default are HTML-escaped. See: https://freemarker.apache.org/docs/dgui_misc_autoescaping.html\r\n\r\nThen, where you return a `String` that&#39;s actually HTML, like `&quot;This is &lt;em&gt;HTML&lt;/em&gt;!&quot;`, use `HTMLOutputFormat.INSTANCE.fromMarkup(&quot;This is &lt;em&gt;HTML&lt;/em&gt;!&quot;)` instead of a `String`. Then when it&#39;s printed with `${}`, FreeMarker will know that it needs no escaping.","title":"Freemarker template: call java method and use returned string as html","body":"<p>You should always use auto-escaping, so that <code>String</code>-s by default are HTML-escaped. See: <a href=\"https://freemarker.apache.org/docs/dgui_misc_autoescaping.html\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/dgui_misc_autoescaping.html</a></p>\n<p>Then, where you return a <code>String</code> that's actually HTML, like <code>&quot;This is &lt;em&gt;HTML&lt;/em&gt;!&quot;</code>, use <code>HTMLOutputFormat.INSTANCE.fromMarkup(&quot;This is &lt;em&gt;HTML&lt;/em&gt;!&quot;)</code> instead of a <code>String</code>. Then when it's printed with <code>${}</code>, FreeMarker will know that it needs no escaping.</p>\n"},{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682515378,"creation_date":1682515378,"answer_id":76111277,"question_id":76087596,"body_markdown":"So, the solution was easier than I expected. You can make a call from .ftl file to java method which will return a rendered html code like this:\r\n```\r\n#{object.renderRow(&quot;key1&quot;)}\r\n```\r\nJust make sure that returned string is escaped so the data won&#39;t be lost, in my example I escaped the data in the `td` tags, i.e:\r\n```\r\npublic String renderRow(String key){\r\n StringBuilder sb = new StringBuilder();\r\nif(elements.contains(key)){\r\nfor(var element: elements.get(key)){\r\nsb.append(&quot;&lt;tr&gt;&quot;);\r\nsb.append(&quot;&lt;td&gt;&quot;);\r\nsb.append(HtmlUtils.htmlEscape(element.getNumber()));\r\n...\r\n}\r\nelse{\r\nsb.append(makeEmtpyRow());\r\n}\r\nreturn sb.toString();\r\n}\r\n```\r\nAt the end I got a page with the needed amount of `&lt;tr&gt;`s and `&lt;td&gt;`s and the data was properly displayed (even if there are special html symbols like `&lt;` in the data).","title":"Freemarker template: call java method and use returned string as html","body":"<p>So, the solution was easier than I expected. You can make a call from .ftl file to java method which will return a rendered html code like this:</p>\n<pre><code>#{object.renderRow(&quot;key1&quot;)}\n</code></pre>\n<p>Just make sure that returned string is escaped so the data won't be lost, in my example I escaped the data in the <code>td</code> tags, i.e:</p>\n<pre><code>public String renderRow(String key){\n StringBuilder sb = new StringBuilder();\nif(elements.contains(key)){\nfor(var element: elements.get(key)){\nsb.append(&quot;&lt;tr&gt;&quot;);\nsb.append(&quot;&lt;td&gt;&quot;);\nsb.append(HtmlUtils.htmlEscape(element.getNumber()));\n...\n}\nelse{\nsb.append(makeEmtpyRow());\n}\nreturn sb.toString();\n}\n</code></pre>\n<p>At the end I got a page with the needed amount of <code>&lt;tr&gt;</code>s and <code>&lt;td&gt;</code>s and the data was properly displayed (even if there are special html symbols like <code>&lt;</code> in the data).</p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76111277,"answer_count":2,"score":-1,"last_activity_date":1682515378,"creation_date":1682289303,"question_id":76087596,"body_markdown":"I have a ftl freemarker template file, I pass some object (that contains the list of needed elements) to it and trying to process html output page. The problem is that I need to implement some complex logic using this object, so if I do it using freemarkers `if&#39;s` `list` and e.t.c. it will become too complex and uneccesarry big (since I will copy same logic in multiple places on the page). \r\n\r\nI want to render table rows depending of the size of needed elements (by key), but obviously sometimes there&#39;s no elements so I need to render an empty row too if that happens, so it&#39;s easier for me to do in java code. I know how to call a method from ftl file, my question is how do I correctly return html string for a row from my java code and put it in template so it will be rendered as html string? \r\nFor example, the row looked something like this when I was putting all of the needed entries by key in one table row:\r\n```\r\n&lt;tr&gt;\r\n                &lt;td&gt;${object.getNumbers(&quot;key1&quot;)}&lt;/td&gt; // multiple names, but all in one &lt;td&gt; element\r\n                &lt;td&gt;${object.getNames(&quot;key1&quot;)}&lt;/td&gt; // same, all names for all entries by &quot;key1&quot;\r\n                &lt;td&gt;${object.getDescriptions(&quot;key1&quot;)}&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n&lt;tr&gt;\r\n                &lt;td&gt;${object.getNumbers(&quot;key2&quot;)}&lt;/td&gt;\r\n                &lt;td&gt;${object.getNames(&quot;key2&quot;)}&lt;/td&gt;\r\n                &lt;td&gt;${object.getDescriptions(&quot;key2&quot;)}&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n```\r\nSo basically it&#39;s an object that contains a List of needed objects, but now I need to print every entry from every key each in a separate row (in the example above all the entries infos were printed in one row), but I don&#39; want to write complex logic in ftl file, because it will look something like this and I&#39;m not even sure it will work:\r\n```\r\n&lt;#if(object.isPresent(&quot;key&quot;)&gt;\r\n&lt;#list object.getEntries(&quot;key&quot;) as entry&gt;\r\n&lt;tr&gt; // printing every entry\r\n&lt;td&gt;...\r\n...\r\n&lt;tr&gt;\r\n&lt;#else&gt;\r\n&lt;tr&gt; // empty tr if there&#39;s nothing\r\n...\r\n&lt;#if&gt;\r\n```\r\nIt already looks big and it&#39;s just for one key, so I was thinking maybe it will be easier to write something like this using java code:\r\n```\r\n...\r\npublic String renderRow(String key){\r\n StringBuilder sb = new StringBuilder();\r\nif(elements.contains(key)){\r\nfor(var element: elements.get(key)){\r\nsb.append(&quot;&lt;tr&gt;&quot;);\r\nsb.append(&quot;&lt;td&gt;&quot;);\r\nsb.append(element.getNumber());\r\n...\r\n}\r\nelse{\r\nsb.append(makeEmtpyRow());\r\n}\r\nreturn sb.toString(); // escape?\r\n}\r\n...\r\n```\r\nSo I can put together needed table rows using java code, because it will be easier to implement, and then use returned html code in the page. How can I do that? I&#39;ve read that the returned value will be printed as it is instead of the html. How should I call it from ftl file so it will be rendered correctly as html string?\r\n```\r\n... // other part of html page\r\n&lt;table&gt;\r\n#{object.renderRow(&quot;key1&quot;)} // I guess this won&#39;t work because it will be a literal string instead of html?\r\n#{object.renderRow(&quot;key2&quot;)}\r\n...\r\n&lt;/table&gt;\r\n...\r\n```\r\nAlso, do I need to do any special escapes before returning the string from java code? If yes, than what and how to do it correctly? I tried to search for some examples but unfrotunately didn&#39;t find anything like this case and the guides on official site are too sophisticated\r\n\r\nUPD: I&#39;m not going to create the whole html page out of returned java string, only the part with the table, so I will still have a .ftl file and call a method where I need to render these table rows\r\n\r\nUPD2: Just tested it out, seems like calling ${object.renderRow(&quot;key&quot;)} works as it is and actually takes the returned string as an html code. But from java code I&#39;m returning `sb.toString()` and not doing any escapes, is it enough and ftl does something for me with escaping or I need to manually escape returned html string, if so, how to do it?","title":"Freemarker template: call java method and use returned string as html","body":"<p>I have a ftl freemarker template file, I pass some object (that contains the list of needed elements) to it and trying to process html output page. The problem is that I need to implement some complex logic using this object, so if I do it using freemarkers <code>if's</code> <code>list</code> and e.t.c. it will become too complex and uneccesarry big (since I will copy same logic in multiple places on the page).</p>\n<p>I want to render table rows depending of the size of needed elements (by key), but obviously sometimes there's no elements so I need to render an empty row too if that happens, so it's easier for me to do in java code. I know how to call a method from ftl file, my question is how do I correctly return html string for a row from my java code and put it in template so it will be rendered as html string?\nFor example, the row looked something like this when I was putting all of the needed entries by key in one table row:</p>\n<pre><code>&lt;tr&gt;\n                &lt;td&gt;${object.getNumbers(&quot;key1&quot;)}&lt;/td&gt; // multiple names, but all in one &lt;td&gt; element\n                &lt;td&gt;${object.getNames(&quot;key1&quot;)}&lt;/td&gt; // same, all names for all entries by &quot;key1&quot;\n                &lt;td&gt;${object.getDescriptions(&quot;key1&quot;)}&lt;/td&gt;\n            &lt;/tr&gt;\n&lt;tr&gt;\n                &lt;td&gt;${object.getNumbers(&quot;key2&quot;)}&lt;/td&gt;\n                &lt;td&gt;${object.getNames(&quot;key2&quot;)}&lt;/td&gt;\n                &lt;td&gt;${object.getDescriptions(&quot;key2&quot;)}&lt;/td&gt;\n            &lt;/tr&gt;\n</code></pre>\n<p>So basically it's an object that contains a List of needed objects, but now I need to print every entry from every key each in a separate row (in the example above all the entries infos were printed in one row), but I don' want to write complex logic in ftl file, because it will look something like this and I'm not even sure it will work:</p>\n<pre><code>&lt;#if(object.isPresent(&quot;key&quot;)&gt;\n&lt;#list object.getEntries(&quot;key&quot;) as entry&gt;\n&lt;tr&gt; // printing every entry\n&lt;td&gt;...\n...\n&lt;tr&gt;\n&lt;#else&gt;\n&lt;tr&gt; // empty tr if there's nothing\n...\n&lt;#if&gt;\n</code></pre>\n<p>It already looks big and it's just for one key, so I was thinking maybe it will be easier to write something like this using java code:</p>\n<pre><code>...\npublic String renderRow(String key){\n StringBuilder sb = new StringBuilder();\nif(elements.contains(key)){\nfor(var element: elements.get(key)){\nsb.append(&quot;&lt;tr&gt;&quot;);\nsb.append(&quot;&lt;td&gt;&quot;);\nsb.append(element.getNumber());\n...\n}\nelse{\nsb.append(makeEmtpyRow());\n}\nreturn sb.toString(); // escape?\n}\n...\n</code></pre>\n<p>So I can put together needed table rows using java code, because it will be easier to implement, and then use returned html code in the page. How can I do that? I've read that the returned value will be printed as it is instead of the html. How should I call it from ftl file so it will be rendered correctly as html string?</p>\n<pre><code>... // other part of html page\n&lt;table&gt;\n#{object.renderRow(&quot;key1&quot;)} // I guess this won't work because it will be a literal string instead of html?\n#{object.renderRow(&quot;key2&quot;)}\n...\n&lt;/table&gt;\n...\n</code></pre>\n<p>Also, do I need to do any special escapes before returning the string from java code? If yes, than what and how to do it correctly? I tried to search for some examples but unfrotunately didn't find anything like this case and the guides on official site are too sophisticated</p>\n<p>UPD: I'm not going to create the whole html page out of returned java string, only the part with the table, so I will still have a .ftl file and call a method where I need to render these table rows</p>\n<p>UPD2: Just tested it out, seems like calling ${object.renderRow(&quot;key&quot;)} works as it is and actually takes the returned string as an html code. But from java code I'm returning <code>sb.toString()</code> and not doing any escapes, is it enough and ftl does something for me with escaping or I need to manually escape returned html string, if so, how to do it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682515208,"creation_date":1682515208,"answer_id":76111252,"question_id":76111136,"body_markdown":"`Dog` indeed has two declared `feed` methods. The one that returns `Object` is the [*bridge method*][1] for the one that returns `String`. The bridge method is generated by the compiler.\r\n\r\nThe implementation of the bridge method can be summarised as: just cast the parameters to the right types, and call your actual `String`-returning `feed`, and return what it returns.\r\n\r\nA bridge method is needed because of type erasure. As far as the JVM is concerned, the interface method returns `Object`, so as an implementing class, `Dog` gotta have a method that returns `Object` too. The JVM can&#39;t magically find the `String`-returning method when you are calling `feed` through the `Animal` interface. It doesn&#39;t care about generics after all.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5007357/java-generics-bridge-method","title":"why the java reflect mechanism create the both methods","body":"<p><code>Dog</code> indeed has two declared <code>feed</code> methods. The one that returns <code>Object</code> is the <a href=\"https://stackoverflow.com/questions/5007357/java-generics-bridge-method\"><em>bridge method</em></a> for the one that returns <code>String</code>. The bridge method is generated by the compiler.</p>\n<p>The implementation of the bridge method can be summarised as: just cast the parameters to the right types, and call your actual <code>String</code>-returning <code>feed</code>, and return what it returns.</p>\n<p>A bridge method is needed because of type erasure. As far as the JVM is concerned, the interface method returns <code>Object</code>, so as an implementing class, <code>Dog</code> gotta have a method that returns <code>Object</code> too. The JVM can't magically find the <code>String</code>-returning method when you are calling <code>feed</code> through the <code>Animal</code> interface. It doesn't care about generics after all.</p>\n"}],"owner":{"account_id":28423138,"reputation":11,"user_id":21744918,"display_name":"nonoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682515208,"creation_date":1682514564,"question_id":76111136,"body_markdown":"That is my code.why the reflect api return both methods?\r\n\r\nI defined an interface,like this:\r\n\r\n``` java\r\nimport java.util.List;\r\n\r\npublic interface Species&lt;T&gt; {\r\n    T feed(List&lt;String&gt; numList);\r\n}\r\n```\r\n\r\nthe Animal is the implement class of Species:\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\nimport java.util.List;\r\n\r\n@Data\r\npublic class Animal&lt;T&gt; implements Species&lt;T&gt; {\r\n\r\n\r\n    private T t;\r\n\r\n    @Override\r\n    public T feed(List&lt;String&gt; numList) {\r\n        return t;\r\n    }\r\n\r\n}\r\n \r\n```\r\n\r\nthe Dog class is a child of Animal class:\r\n\r\n```java\r\nimport java.util.List;\r\n\r\n\r\npublic class Dog extends Animal&lt;String&gt;{\r\n\r\n    @Override\r\n    public String feed(List&lt;String&gt; numList) {\r\n        return &quot;dog feed method&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is my test class,its:\r\n\r\n```java\r\n\r\npublic class TypeTest {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Class&lt;Dog&gt; dogClass = Dog.class;\r\n        Method[] declaredMethods = dogClass.getDeclaredMethods();\r\n        for(Method m:declaredMethods){\r\n            System.out.println(m.getReturnType().getName());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nthe run output\r\n\r\n```\r\njava.lang.String\r\njava.lang.Object\r\n```\r\n\r\ncheck the variable declaredMethods\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/nj2SA.png)","title":"why the java reflect mechanism create the both methods","body":"<p>That is my code.why the reflect api return both methods?</p>\n<p>I defined an interface,like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic interface Species&lt;T&gt; {\n    T feed(List&lt;String&gt; numList);\n}\n</code></pre>\n<p>the Animal is the implement class of Species:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\nimport java.util.List;\n\n@Data\npublic class Animal&lt;T&gt; implements Species&lt;T&gt; {\n\n\n    private T t;\n\n    @Override\n    public T feed(List&lt;String&gt; numList) {\n        return t;\n    }\n\n}\n \n</code></pre>\n<p>the Dog class is a child of Animal class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\n\npublic class Dog extends Animal&lt;String&gt;{\n\n    @Override\n    public String feed(List&lt;String&gt; numList) {\n        return &quot;dog feed method&quot;;\n    }\n}\n</code></pre>\n<p>This is my test class,its:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TypeTest {\n\n\n    public static void main(String[] args) {\n        Class&lt;Dog&gt; dogClass = Dog.class;\n        Method[] declaredMethods = dogClass.getDeclaredMethods();\n        for(Method m:declaredMethods){\n            System.out.println(m.getReturnType().getName());\n        }\n\n    }\n}\n</code></pre>\n<p>the run output</p>\n<pre><code>java.lang.String\njava.lang.Object\n</code></pre>\n<p>check the variable declaredMethods</p>\n<p>\n<a href=\"https://i.stack.imgur.com/nj2SA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","canvas"],"comments":[{"owner":{"account_id":3132175,"reputation":2384,"user_id":2649618,"accept_rate":73,"display_name":"Ema.jar"},"score":0,"creation_date":1487270238,"post_id":42281441,"comment_id":71720670,"body_markdown":"Hi, welcome to stack overflow.\nPlease, don&#39;t ask for a solution to your homework, try to find a good approach by yourself in order to become a better developer ;-)","body":"Hi, welcome to stack overflow. Please, don&#39;t ask for a solution to your homework, try to find a good approach by yourself in order to become a better developer ;-)"},{"owner":{"account_id":1786329,"reputation":10939,"user_id":1627730,"accept_rate":75,"display_name":"stealthjong"},"score":0,"creation_date":1487600848,"post_id":42281441,"comment_id":71845432,"body_markdown":"removed redundant comments","body":"removed redundant comments"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487268786,"creation_date":1487268786,"answer_id":42281657,"question_id":42281441,"body_markdown":"The center of your triangle will be at \r\n\r\n    xPosition + (width / 2)\r\n    yPosition + (height / 2)\r\n\r\nTo &quot;center&quot;, you need to moveHorizontal/moveVertical until the center of your triangle is at the center of the space it is to be centered in\r\n","title":"How to center an image in Java?","body":"<p>The center of your triangle will be at </p>\n\n<pre><code>xPosition + (width / 2)\nyPosition + (height / 2)\n</code></pre>\n\n<p>To \"center\", you need to moveHorizontal/moveVertical until the center of your triangle is at the center of the space it is to be centered in</p>\n"}],"owner":{"account_id":10266951,"reputation":11,"user_id":7576655,"display_name":"Confused"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682515157,"creation_date":1487268022,"question_id":42281441,"body_markdown":"I want to center an existing triangle. The prompt asks for the base of the triangle to be the length of the canvas and the peak to be touching the top and centered. It&#39;s for a class and the code was given.\r\n\r\n   \r\n    public class Triangle {\r\n        private int height;\r\n        private int width;\r\n        private int xPosition;\r\n        private int yPosition;\r\n        private String color;\r\n        private boolean isVisible;\r\n    \r\n        public Triangle() {\r\n            height = 270;\r\n            width = 270;\r\n            xPosition = 120;\r\n            yPosition = 120;\r\n            color = &quot;green&quot;;\r\n            isVisible = false;\r\n        }\r\n\r\n        public void makeVisible() {\r\n            isVisible = true;\r\n            draw();\r\n        }\r\n        \r\n        public void makeInvisible() {\r\n            erase();\r\n            isVisible = false;\r\n        }\r\n        \r\n        public void moveRight() {\r\n            moveHorizontal(20);\r\n        }\r\n    \r\n        public void moveLeft() {\r\n            moveHorizontal(-20);\r\n        }\r\n    \r\n        public void moveUp() {\r\n            moveVertical(-20);\r\n        }\r\n    \r\n        public void moveDown() {\r\n            moveVertical(20);\r\n        }\r\n    \r\n        public void moveHorizontal(int distance) {\r\n            erase();\r\n            xPosition += distance;\r\n            draw();\r\n        }\r\n    \r\n        public void moveVertical(int distance) {\r\n            erase();\r\n            yPosition += distance;\r\n            draw();\r\n        }\r\n    \r\n        public void slowMoveHorizontal(int distance) {\r\n            int delta;\r\n    \r\n            if(distance &lt; 0) {\r\n                delta = -1;\r\n                distance = -distance;\r\n            }\r\n            else {\r\n                delta = 1;\r\n            }\r\n    \r\n            for(int i = 0; i &lt; distance; i++) {\r\n                xPosition += delta;\r\n                draw();\r\n            }\r\n        }\r\n    \r\n        public void slowMoveVertical(int distance) {\r\n            int delta;\r\n    \r\n            if(distance &lt; 0) {\r\n                delta = -1;\r\n                distance = -distance;\r\n            }\r\n            else  {\r\n                delta = 1;\r\n            }\r\n    \r\n            for(int i = 0; i &lt; distance; i++) {\r\n                yPosition += delta;\r\n                draw();\r\n            }\r\n        }\r\n    \r\n        public void changeSize(int newHeight, int newWidth) {\r\n            erase();\r\n            height = newHeight;\r\n            width = newWidth;\r\n            draw();\r\n        }\r\n    \r\n        public void changeColor(String newColor) {\r\n            color = newColor;\r\n            draw();\r\n        }\r\n    \r\n        private void draw() {\r\n            if(isVisible) {\r\n                Canvas canvas = Canvas.getCanvas();\r\n                int[] xpoints = { xPosition, xPosition + (width/2), xPosition + width };\r\n                int[] ypoints = { yPosition + height, yPosition, yPosition + height};\r\n                canvas.draw(this, color, new Polygon(xpoints, ypoints, 3));\r\n                canvas.wait(10);\r\n            }\r\n        }\r\n    \r\n        private void erase() {\r\n            if(isVisible) {\r\n                Canvas canvas = Canvas.getCanvas();\r\n                canvas.erase(this);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to center an image in Java?","body":"<p>I want to center an existing triangle. The prompt asks for the base of the triangle to be the length of the canvas and the peak to be touching the top and centered. It's for a class and the code was given.</p>\n\n<pre><code>public class Triangle {\n    private int height;\n    private int width;\n    private int xPosition;\n    private int yPosition;\n    private String color;\n    private boolean isVisible;\n\n    public Triangle() {\n        height = 270;\n        width = 270;\n        xPosition = 120;\n        yPosition = 120;\n        color = \"green\";\n        isVisible = false;\n    }\n\n    public void makeVisible() {\n        isVisible = true;\n        draw();\n    }\n\n    public void makeInvisible() {\n        erase();\n        isVisible = false;\n    }\n\n    public void moveRight() {\n        moveHorizontal(20);\n    }\n\n    public void moveLeft() {\n        moveHorizontal(-20);\n    }\n\n    public void moveUp() {\n        moveVertical(-20);\n    }\n\n    public void moveDown() {\n        moveVertical(20);\n    }\n\n    public void moveHorizontal(int distance) {\n        erase();\n        xPosition += distance;\n        draw();\n    }\n\n    public void moveVertical(int distance) {\n        erase();\n        yPosition += distance;\n        draw();\n    }\n\n    public void slowMoveHorizontal(int distance) {\n        int delta;\n\n        if(distance &lt; 0) {\n            delta = -1;\n            distance = -distance;\n        }\n        else {\n            delta = 1;\n        }\n\n        for(int i = 0; i &lt; distance; i++) {\n            xPosition += delta;\n            draw();\n        }\n    }\n\n    public void slowMoveVertical(int distance) {\n        int delta;\n\n        if(distance &lt; 0) {\n            delta = -1;\n            distance = -distance;\n        }\n        else  {\n            delta = 1;\n        }\n\n        for(int i = 0; i &lt; distance; i++) {\n            yPosition += delta;\n            draw();\n        }\n    }\n\n    public void changeSize(int newHeight, int newWidth) {\n        erase();\n        height = newHeight;\n        width = newWidth;\n        draw();\n    }\n\n    public void changeColor(String newColor) {\n        color = newColor;\n        draw();\n    }\n\n    private void draw() {\n        if(isVisible) {\n            Canvas canvas = Canvas.getCanvas();\n            int[] xpoints = { xPosition, xPosition + (width/2), xPosition + width };\n            int[] ypoints = { yPosition + height, yPosition, yPosition + height};\n            canvas.draw(this, color, new Polygon(xpoints, ypoints, 3));\n            canvas.wait(10);\n        }\n    }\n\n    private void erase() {\n        if(isVisible) {\n            Canvas canvas = Canvas.getCanvas();\n            canvas.erase(this);\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9519,"page":473,"page_size":100}
